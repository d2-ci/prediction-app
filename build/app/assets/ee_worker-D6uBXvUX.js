(function(){"use strict";/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const proxyMarker=Symbol("Comlink.proxy"),createEndpoint=Symbol("Comlink.endpoint"),releaseProxy=Symbol("Comlink.releaseProxy"),finalizer=Symbol("Comlink.finalizer"),throwMarker=Symbol("Comlink.thrown"),isObject=e=>typeof e=="object"&&e!==null||typeof e=="function",proxyTransferHandler={canHandle:e=>isObject(e)&&e[proxyMarker],serialize(e){const{port1:t,port2:i}=new MessageChannel;return expose(e,t),[i,[i]]},deserialize(e){return e.start(),wrap(e)}},throwTransferHandler={canHandle:e=>isObject(e)&&throwMarker in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},transferHandlers=new Map([["proxy",proxyTransferHandler],["throw",throwTransferHandler]]);function isAllowedOrigin(e,t){for(const i of e)if(t===i||i==="*"||i instanceof RegExp&&i.test(t))return!0;return!1}function expose(e,t=globalThis,i=["*"]){t.addEventListener("message",function n(r){if(!r||!r.data)return;if(!isAllowedOrigin(i,r.origin)){console.warn(`Invalid origin '${r.origin}' for comlink proxy`);return}const{id:u,type:d,path:c}=Object.assign({path:[]},r.data),b=(r.data.argumentList||[]).map(fromWireValue);let S;try{const C=c.slice(0,-1).reduce((D,H)=>D[H],e),O=c.reduce((D,H)=>D[H],e);switch(d){case"GET":S=O;break;case"SET":C[c.slice(-1)[0]]=fromWireValue(r.data.value),S=!0;break;case"APPLY":S=O.apply(C,b);break;case"CONSTRUCT":{const D=new O(...b);S=proxy(D)}break;case"ENDPOINT":{const{port1:D,port2:H}=new MessageChannel;expose(e,H),S=transfer(D,[D])}break;case"RELEASE":S=void 0;break;default:return}}catch(C){S={value:C,[throwMarker]:0}}Promise.resolve(S).catch(C=>({value:C,[throwMarker]:0})).then(C=>{const[O,D]=toWireValue(C);t.postMessage(Object.assign(Object.assign({},O),{id:u}),D),d==="RELEASE"&&(t.removeEventListener("message",n),closeEndPoint(t),finalizer in e&&typeof e[finalizer]=="function"&&e[finalizer]())}).catch(C=>{const[O,D]=toWireValue({value:new TypeError("Unserializable return value"),[throwMarker]:0});t.postMessage(Object.assign(Object.assign({},O),{id:u}),D)})}),t.start&&t.start()}function isMessagePort(e){return e.constructor.name==="MessagePort"}function closeEndPoint(e){isMessagePort(e)&&e.close()}function wrap(e,t){const i=new Map;return e.addEventListener("message",function(r){const{data:u}=r;if(!u||!u.id)return;const d=i.get(u.id);if(d)try{d(u)}finally{i.delete(u.id)}}),createProxy(e,i,[],t)}function throwIfProxyReleased(e){if(e)throw new Error("Proxy has been released and is not useable")}function releaseEndpoint(e){return requestResponseMessage(e,new Map,{type:"RELEASE"}).then(()=>{closeEndPoint(e)})}const proxyCounter=new WeakMap,proxyFinalizers="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(proxyCounter.get(e)||0)-1;proxyCounter.set(e,t),t===0&&releaseEndpoint(e)});function registerProxy(e,t){const i=(proxyCounter.get(t)||0)+1;proxyCounter.set(t,i),proxyFinalizers&&proxyFinalizers.register(e,t,e)}function unregisterProxy(e){proxyFinalizers&&proxyFinalizers.unregister(e)}function createProxy(e,t,i=[],n=function(){}){let r=!1;const u=new Proxy(n,{get(d,c){if(throwIfProxyReleased(r),c===releaseProxy)return()=>{unregisterProxy(u),releaseEndpoint(e),t.clear(),r=!0};if(c==="then"){if(i.length===0)return{then:()=>u};const b=requestResponseMessage(e,t,{type:"GET",path:i.map(S=>S.toString())}).then(fromWireValue);return b.then.bind(b)}return createProxy(e,t,[...i,c])},set(d,c,b){throwIfProxyReleased(r);const[S,C]=toWireValue(b);return requestResponseMessage(e,t,{type:"SET",path:[...i,c].map(O=>O.toString()),value:S},C).then(fromWireValue)},apply(d,c,b){throwIfProxyReleased(r);const S=i[i.length-1];if(S===createEndpoint)return requestResponseMessage(e,t,{type:"ENDPOINT"}).then(fromWireValue);if(S==="bind")return createProxy(e,t,i.slice(0,-1));const[C,O]=processArguments(b);return requestResponseMessage(e,t,{type:"APPLY",path:i.map(D=>D.toString()),argumentList:C},O).then(fromWireValue)},construct(d,c){throwIfProxyReleased(r);const[b,S]=processArguments(c);return requestResponseMessage(e,t,{type:"CONSTRUCT",path:i.map(C=>C.toString()),argumentList:b},S).then(fromWireValue)}});return registerProxy(u,e),u}function myFlat(e){return Array.prototype.concat.apply([],e)}function processArguments(e){const t=e.map(toWireValue);return[t.map(i=>i[0]),myFlat(t.map(i=>i[1]))]}const transferCache=new WeakMap;function transfer(e,t){return transferCache.set(e,t),e}function proxy(e){return Object.assign(e,{[proxyMarker]:!0})}function toWireValue(e){for(const[t,i]of transferHandlers)if(i.canHandle(e)){const[n,r]=i.serialize(e);return[{type:"HANDLER",name:t,value:n},r]}return[{type:"RAW",value:e},transferCache.get(e)||[]]}function fromWireValue(e){switch(e.type){case"HANDLER":return transferHandlers.get(e.name).deserialize(e.value);case"RAW":return e.value}}function requestResponseMessage(e,t,i,n){return new Promise(r=>{const u=generateUUID();t.set(u,r),e.start&&e.start(),e.postMessage(Object.assign({id:u},i),n)})}function generateUUID(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var earthRadius=63710088e-1,factors={centimeters:earthRadius*100,centimetres:earthRadius*100,degrees:earthRadius/111325,feet:earthRadius*3.28084,inches:earthRadius*39.37,kilometers:earthRadius/1e3,kilometres:earthRadius/1e3,meters:earthRadius,metres:earthRadius,miles:earthRadius/1609.344,millimeters:earthRadius*1e3,millimetres:earthRadius*1e3,nauticalmiles:earthRadius/1852,radians:1,yards:earthRadius*1.0936};function feature(e,t,i){i===void 0&&(i={});var n={type:"Feature"};return(i.id===0||i.id)&&(n.id=i.id),i.bbox&&(n.bbox=i.bbox),n.properties=t||{},n.geometry=e,n}function point(e,t,i){if(i===void 0&&(i={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!isNumber(e[0])||!isNumber(e[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:e};return feature(n,t,i)}function polygon(e,t,i){i===void 0&&(i={});for(var n=0,r=e;n<r.length;n++){var u=r[n];if(u.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var d=0;d<u[u.length-1].length;d++)if(u[u.length-1][d]!==u[0][d])throw new Error("First and last Position are not equivalent.")}var c={type:"Polygon",coordinates:e};return feature(c,t,i)}function featureCollection(e,t){t===void 0&&(t={});var i={type:"FeatureCollection"};return t.id&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.features=e,i}function radiansToLength(e,t){var i=factors[t];return e*i}function lengthToRadians(e,t){t===void 0&&(t="kilometers");var i=factors[t];if(!i)throw new Error(t+" units is invalid");return e/i}function radiansToDegrees(e){var t=e%(2*Math.PI);return t*180/Math.PI}function degreesToRadians(e){var t=e%360;return t*Math.PI/180}function isNumber(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function getCoord(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function destination(e,t,i,n){n===void 0&&(n={});var r=getCoord(e),u=degreesToRadians(r[0]),d=degreesToRadians(r[1]),c=degreesToRadians(i),b=lengthToRadians(t,n.units),S=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c)),C=u+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(S)),O=radiansToDegrees(C),D=radiansToDegrees(S);return point([O,D],n.properties)}function circle(e,t,i){i===void 0&&(i={});for(var n=i.steps||64,r=i.properties?i.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},u=[],d=0;d<n;d++)u.push(destination(e,t,d*-360/n,i).geometry.coordinates);return u.push(u[0]),polygon([u],r)}function coordEach(e,t,i){if(e!==null)for(var n,r,u,d,c,b,S,C=0,O=0,D,H=e.type,K=H==="FeatureCollection",le=H==="Feature",de=K?e.features.length:1,fe=0;fe<de;fe++){S=K?e.features[fe].geometry:le?e.geometry:e,D=S?S.type==="GeometryCollection":!1,c=D?S.geometries.length:1;for(var be=0;be<c;be++){var Ie=0,De=0;if(d=D?S.geometries[be]:S,d!==null){b=d.coordinates;var Ze=d.type;switch(C=0,Ze){case null:break;case"Point":if(t(b,O,fe,Ie,De)===!1)return!1;O++,Ie++;break;case"LineString":case"MultiPoint":for(n=0;n<b.length;n++){if(t(b[n],O,fe,Ie,De)===!1)return!1;O++,Ze==="MultiPoint"&&Ie++}Ze==="LineString"&&Ie++;break;case"Polygon":case"MultiLineString":for(n=0;n<b.length;n++){for(r=0;r<b[n].length-C;r++){if(t(b[n][r],O,fe,Ie,De)===!1)return!1;O++}Ze==="MultiLineString"&&Ie++,Ze==="Polygon"&&De++}Ze==="Polygon"&&Ie++;break;case"MultiPolygon":for(n=0;n<b.length;n++){for(De=0,r=0;r<b[n].length;r++){for(u=0;u<b[n][r].length-C;u++){if(t(b[n][r][u],O,fe,Ie,De)===!1)return!1;O++}De++}Ie++}break;case"GeometryCollection":for(n=0;n<d.geometries.length;n++)if(coordEach(d.geometries[n],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function featureEach(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var i=0;i<e.features.length&&t(e.features[i],i)!==!1;i++);}function geomEach(e,t){var i,n,r,u,d,c,b,S,C,O,D=0,H=e.type==="FeatureCollection",K=e.type==="Feature",le=H?e.features.length:1;for(i=0;i<le;i++){for(c=H?e.features[i].geometry:K?e.geometry:e,S=H?e.features[i].properties:K?e.properties:{},C=H?e.features[i].bbox:K?e.bbox:void 0,O=H?e.features[i].id:K?e.id:void 0,b=c?c.type==="GeometryCollection":!1,d=b?c.geometries.length:1,r=0;r<d;r++){if(u=b?c.geometries[r]:c,u===null){if(t(null,D,S,C,O)===!1)return!1;continue}switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(u,D,S,C,O)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<u.geometries.length;n++)if(t(u.geometries[n],D,S,C,O)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function bbox(e){var t=[1/0,1/0,-1/0,-1/0];return coordEach(e,function(i){t[0]>i[0]&&(t[0]=i[0]),t[1]>i[1]&&(t[1]=i[1]),t[2]<i[0]&&(t[2]=i[0]),t[3]<i[1]&&(t[3]=i[1])}),t}bbox.default=bbox;function center(e,t){t===void 0&&(t={});var i=bbox(e),n=(i[0]+i[2])/2,r=(i[1]+i[3])/2;return point([n,r],t.properties,t)}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(this===void 0||this===null)throw new TypeError(this+" is not an object");var i=Object(this),n=Math.max(Math.min(i.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var u=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:n;for(u=u<0?Math.max(n+arguments[2],0):Math.min(u,n);r<u;)i[r]=t,++r;return i},writable:!0}),Number.isFinite=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!==e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var NumberUtil=function(){};NumberUtil.prototype.interfaces_=function(){return[]},NumberUtil.prototype.getClass=function(){return NumberUtil},NumberUtil.prototype.equalsWithTolerance=function(t,i,n){return Math.abs(t-i)<=n};var IllegalArgumentException=function(e){function t(i){e.call(this,i),this.name="IllegalArgumentException",this.message=i,this.stack=new e().stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),Double=function(){},staticAccessors$1={MAX_VALUE:{configurable:!0}};Double.isNaN=function(t){return Number.isNaN(t)},Double.doubleToLongBits=function(t){return t},Double.longBitsToDouble=function(t){return t},Double.isInfinite=function(t){return!Number.isFinite(t)},staticAccessors$1.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Double,staticAccessors$1);var Comparable=function(){},Clonable=function(){},Comparator=function(){};function Serializable(){}var Coordinate=function e(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},staticAccessors={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Coordinate.prototype.setOrdinate=function(t,i){switch(t){case Coordinate.X:this.x=i;break;case Coordinate.Y:this.y=i;break;case Coordinate.Z:this.z=i;break;default:throw new IllegalArgumentException("Invalid ordinate index: "+t)}},Coordinate.prototype.equals2D=function(){if(arguments.length===1){var t=arguments[0];return!(this.x!==t.x||this.y!==t.y)}else if(arguments.length===2){var i=arguments[0],n=arguments[1];return!(!NumberUtil.equalsWithTolerance(this.x,i.x,n)||!NumberUtil.equalsWithTolerance(this.y,i.y,n))}},Coordinate.prototype.getOrdinate=function(t){switch(t){case Coordinate.X:return this.x;case Coordinate.Y:return this.y;case Coordinate.Z:return this.z}throw new IllegalArgumentException("Invalid ordinate index: "+t)},Coordinate.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Double.isNaN(this.z))&&Double.isNaN(t.z)},Coordinate.prototype.equals=function(t){return t instanceof Coordinate?this.equals2D(t):!1},Coordinate.prototype.equalInZ=function(t,i){return NumberUtil.equalsWithTolerance(this.z,t.z,i)},Coordinate.prototype.compareTo=function(t){var i=t;return this.x<i.x?-1:this.x>i.x?1:this.y<i.y?-1:this.y>i.y?1:0},Coordinate.prototype.clone=function(){},Coordinate.prototype.copy=function(){return new Coordinate(this)},Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Coordinate.prototype.distance3D=function(t){var i=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(i*i+n*n+r*r)},Coordinate.prototype.distance=function(t){var i=this.x-t.x,n=this.y-t.y;return Math.sqrt(i*i+n*n)},Coordinate.prototype.hashCode=function(){var t=17;return t=37*t+Coordinate.hashCode(this.x),t=37*t+Coordinate.hashCode(this.y),t},Coordinate.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},Coordinate.prototype.interfaces_=function(){return[Comparable,Clonable,Serializable]},Coordinate.prototype.getClass=function(){return Coordinate},Coordinate.hashCode=function(){if(arguments.length===1){var t=arguments[0],i=Double.doubleToLongBits(t);return Math.trunc((i^i)>>>32)}},staticAccessors.DimensionalComparator.get=function(){return DimensionalComparator},staticAccessors.serialVersionUID.get=function(){return 6683108902428367e3},staticAccessors.NULL_ORDINATE.get=function(){return Double.NaN},staticAccessors.X.get=function(){return 0},staticAccessors.Y.get=function(){return 1},staticAccessors.Z.get=function(){return 2},Object.defineProperties(Coordinate,staticAccessors);var DimensionalComparator=function(t){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var i=arguments[0];if(i!==2&&i!==3)throw new IllegalArgumentException("only 2 or 3 dimensions may be specified");this._dimensionsToTest=i}}};DimensionalComparator.prototype.compare=function(t,i){var n=t,r=i,u=DimensionalComparator.compare(n.x,r.x);if(u!==0)return u;var d=DimensionalComparator.compare(n.y,r.y);if(d!==0)return d;if(this._dimensionsToTest<=2)return 0;var c=DimensionalComparator.compare(n.z,r.z);return c},DimensionalComparator.prototype.interfaces_=function(){return[Comparator]},DimensionalComparator.prototype.getClass=function(){return DimensionalComparator},DimensionalComparator.compare=function(t,i){return t<i?-1:t>i?1:Double.isNaN(t)?Double.isNaN(i)?0:-1:Double.isNaN(i)?1:0};var CoordinateSequenceFactory=function(){};CoordinateSequenceFactory.prototype.create=function(){},CoordinateSequenceFactory.prototype.interfaces_=function(){return[]},CoordinateSequenceFactory.prototype.getClass=function(){return CoordinateSequenceFactory};var Location=function(){},staticAccessors$4={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Location.prototype.interfaces_=function(){return[]},Location.prototype.getClass=function(){return Location},Location.toLocationSymbol=function(t){switch(t){case Location.EXTERIOR:return"e";case Location.BOUNDARY:return"b";case Location.INTERIOR:return"i";case Location.NONE:return"-"}throw new IllegalArgumentException("Unknown location value: "+t)},staticAccessors$4.INTERIOR.get=function(){return 0},staticAccessors$4.BOUNDARY.get=function(){return 1},staticAccessors$4.EXTERIOR.get=function(){return 2},staticAccessors$4.NONE.get=function(){return-1},Object.defineProperties(Location,staticAccessors$4);var hasInterface=function(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1},MathUtil=function(){},staticAccessors$5={LOG_10:{configurable:!0}};MathUtil.prototype.interfaces_=function(){return[]},MathUtil.prototype.getClass=function(){return MathUtil},MathUtil.log10=function(t){var i=Math.log(t);return Double.isInfinite(i)||Double.isNaN(i)?i:i/MathUtil.LOG_10},MathUtil.min=function(t,i,n,r){var u=t;return i<u&&(u=i),n<u&&(u=n),r<u&&(u=r),u},MathUtil.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],i=arguments[1],n=arguments[2];return t<i?i:t>n?n:t}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],u=arguments[1],d=arguments[2];return r<u?u:r>d?d:r}},MathUtil.wrap=function(t,i){return t<0?i- -t%i:t%i},MathUtil.max=function(){if(arguments.length===3){var t=arguments[0],i=arguments[1],n=arguments[2],r=t;return i>r&&(r=i),n>r&&(r=n),r}else if(arguments.length===4){var u=arguments[0],d=arguments[1],c=arguments[2],b=arguments[3],S=u;return d>S&&(S=d),c>S&&(S=c),b>S&&(S=b),S}},MathUtil.average=function(t,i){return(t+i)/2},staticAccessors$5.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(MathUtil,staticAccessors$5);var StringBuffer=function(t){this.str=t};StringBuffer.prototype.append=function(t){this.str+=t},StringBuffer.prototype.setCharAt=function(t,i){this.str=this.str.substr(0,t)+i+this.str.substr(t+1)},StringBuffer.prototype.toString=function(t){return this.str};var Integer=function(t){this.value=t};Integer.prototype.intValue=function(){return this.value},Integer.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},Integer.isNaN=function(t){return Number.isNaN(t)};var Character=function(){};Character.isWhitespace=function(t){return t<=32&&t>=0||t===127},Character.toUpperCase=function(t){return t.toUpperCase()};var DD=function e(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var i=arguments[0];this.init(i)}else if(typeof arguments[0]=="string"){var n=arguments[0];e.call(this,e.parse(n))}}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.init(r,u)}},staticAccessors$7={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};DD.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},DD.prototype.extractSignificantDigits=function(t,i){var n=this.abs(),r=DD.magnitude(n._hi),u=DD.TEN.pow(r);n=n.divide(u),n.gt(DD.TEN)?(n=n.divide(DD.TEN),r+=1):n.lt(DD.ONE)&&(n=n.multiply(DD.TEN),r-=1);for(var d=r+1,c=new StringBuffer,b=DD.MAX_PRINT_DIGITS-1,S=0;S<=b;S++){t&&S===d&&c.append(".");var C=Math.trunc(n._hi);if(C<0)break;var O=!1,D=0;C>9?(O=!0,D="9"):D="0"+C,c.append(D),n=n.subtract(DD.valueOf(C)).multiply(DD.TEN),O&&n.selfAdd(DD.TEN);var H=!0,K=DD.magnitude(n._hi);if(K<0&&Math.abs(K)>=b-S&&(H=!1),!H)break}return i[0]=r,c.toString()},DD.prototype.sqr=function(){return this.multiply(this)},DD.prototype.doubleValue=function(){return this._hi+this._lo},DD.prototype.subtract=function(){if(arguments[0]instanceof DD){var t=arguments[0];return this.add(t.negate())}else if(typeof arguments[0]=="number"){var i=arguments[0];return this.add(-i)}},DD.prototype.equals=function(){if(arguments.length===1){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},DD.prototype.isZero=function(){return this._hi===0&&this._lo===0},DD.prototype.selfSubtract=function(){if(arguments[0]instanceof DD){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}else if(typeof arguments[0]=="number"){var i=arguments[0];return this.isNaN()?this:this.selfAdd(-i,0)}},DD.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},DD.prototype.min=function(t){return this.le(t)?this:t},DD.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof DD){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfDivide(i,0)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1],u=null,d=null,c=null,b=null,S=null,C=null,O=null,D=null;return S=this._hi/n,C=DD.SPLIT*S,u=C-S,D=DD.SPLIT*n,u=C-u,d=S-u,c=D-n,O=S*n,c=D-c,b=n-c,D=u*c-O+u*b+d*c+d*b,C=(this._hi-O-D+this._lo-S*r)/n,D=S+C,this._hi=D,this._lo=S-D+C,this}},DD.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},DD.prototype.divide=function(){if(arguments[0]instanceof DD){var t=arguments[0],i=null,n=null,r=null,u=null,d=null,c=null,b=null,S=null;d=this._hi/t._hi,c=DD.SPLIT*d,i=c-d,S=DD.SPLIT*t._hi,i=c-i,n=d-i,r=S-t._hi,b=d*t._hi,r=S-r,u=t._hi-r,S=i*r-b+i*u+n*r+n*u,c=(this._hi-b-S+this._lo-d*t._lo)/t._hi,S=d+c;var C=S,O=d-S+c;return new DD(C,O)}else if(typeof arguments[0]=="number"){var D=arguments[0];return Double.isNaN(D)?DD.createNaN():DD.copy(this).selfDivide(D,0)}},DD.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},DD.prototype.pow=function(t){if(t===0)return DD.valueOf(1);var i=new DD(this),n=DD.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2===1&&n.selfMultiply(i),r/=2,r>0&&(i=i.sqr());else n=i;return t<0?n.reciprocal():n},DD.prototype.ceil=function(){if(this.isNaN())return DD.NaN;var t=Math.ceil(this._hi),i=0;return t===this._hi&&(i=Math.ceil(this._lo)),new DD(t,i)},DD.prototype.compareTo=function(t){var i=t;return this._hi<i._hi?-1:this._hi>i._hi?1:this._lo<i._lo?-1:this._lo>i._lo?1:0},DD.prototype.rint=function(){if(this.isNaN())return this;var t=this.add(.5);return t.floor()},DD.prototype.setValue=function(){if(arguments[0]instanceof DD){var t=arguments[0];return this.init(t),this}else if(typeof arguments[0]=="number"){var i=arguments[0];return this.init(i),this}},DD.prototype.max=function(t){return this.ge(t)?this:t},DD.prototype.sqrt=function(){if(this.isZero())return DD.valueOf(0);if(this.isNegative())return DD.NaN;var t=1/Math.sqrt(this._hi),i=this._hi*t,n=DD.valueOf(i),r=this.subtract(n.sqr()),u=r._hi*(t*.5);return n.add(u)},DD.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof DD){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var i=arguments[0],n=null,r=null,u=null,d=null,c=null,b=null;return u=this._hi+i,c=u-this._hi,d=u-c,d=i-c+(this._hi-d),b=d+this._lo,n=u+b,r=b+(u-n),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(arguments.length===2){var S=arguments[0],C=arguments[1],O=null,D=null,H=null,K=null,le=null,de=null,fe=null,be=null;le=this._hi+S,H=this._lo+C,fe=le-this._hi,be=H-this._lo,de=le-fe,K=H-be,de=S-fe+(this._hi-de),K=C-be+(this._lo-K),fe=de+H,O=le+fe,D=fe+(le-O),fe=K+D;var Ie=O+fe,De=fe+(O-Ie);return this._hi=Ie,this._lo=De,this}},DD.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof DD){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfMultiply(i,0)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1],u=null,d=null,c=null,b=null,S=null,C=null;S=DD.SPLIT*this._hi,u=S-this._hi,C=DD.SPLIT*n,u=S-u,d=this._hi-u,c=C-n,S=this._hi*n,c=C-c,b=n-c,C=u*c-S+u*b+d*c+d*b+(this._hi*r+this._lo*n);var O=S+C;u=S-O;var D=C+u;return this._hi=O,this._lo=D,this}},DD.prototype.selfSqr=function(){return this.selfMultiply(this)},DD.prototype.floor=function(){if(this.isNaN())return DD.NaN;var t=Math.floor(this._hi),i=0;return t===this._hi&&(i=Math.floor(this._lo)),new DD(t,i)},DD.prototype.negate=function(){return this.isNaN()?this:new DD(-this._hi,-this._lo)},DD.prototype.clone=function(){},DD.prototype.multiply=function(){if(arguments[0]instanceof DD){var t=arguments[0];return t.isNaN()?DD.createNaN():DD.copy(this).selfMultiply(t)}else if(typeof arguments[0]=="number"){var i=arguments[0];return Double.isNaN(i)?DD.createNaN():DD.copy(this).selfMultiply(i,0)}},DD.prototype.isNaN=function(){return Double.isNaN(this._hi)},DD.prototype.intValue=function(){return Math.trunc(this._hi)},DD.prototype.toString=function(){var t=DD.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},DD.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(t!==null)return t;var i=new Array(1).fill(null),n=this.extractSignificantDigits(!0,i),r=i[0]+1,u=n;if(n.charAt(0)===".")u="0"+n;else if(r<0)u="0."+DD.stringOfChar("0",-r)+n;else if(n.indexOf(".")===-1){var d=r-n.length,c=DD.stringOfChar("0",d);u=n+c+".0"}return this.isNegative()?"-"+u:u},DD.prototype.reciprocal=function(){var t=null,i=null,n=null,r=null,u=null,d=null,c=null,b=null;u=1/this._hi,d=DD.SPLIT*u,t=d-u,b=DD.SPLIT*this._hi,t=d-t,i=u-t,n=b-this._hi,c=u*this._hi,n=b-n,r=this._hi-n,b=t*n-c+t*r+i*n+i*r,d=(1-c-b-u*this._lo)/this._hi;var S=u+d,C=u-S+d;return new DD(S,C)},DD.prototype.toSciNotation=function(){if(this.isZero())return DD.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(t!==null)return t;var i=new Array(1).fill(null),n=this.extractSignificantDigits(!1,i),r=DD.SCI_NOT_EXPONENT_CHAR+i[0];if(n.charAt(0)==="0")throw new Error("Found leading zero: "+n);var u="";n.length>1&&(u=n.substring(1));var d=n.charAt(0)+"."+u;return this.isNegative()?"-"+d+r:d+r},DD.prototype.abs=function(){return this.isNaN()?DD.NaN:this.isNegative()?this.negate():new DD(this)},DD.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},DD.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},DD.prototype.add=function(){if(arguments[0]instanceof DD){var t=arguments[0];return DD.copy(this).selfAdd(t)}else if(typeof arguments[0]=="number"){var i=arguments[0];return DD.copy(this).selfAdd(i)}},DD.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof DD){var i=arguments[0];this._hi=i._hi,this._lo=i._lo}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},DD.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},DD.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},DD.prototype.trunc=function(){return this.isNaN()?DD.NaN:this.isPositive()?this.floor():this.ceil()},DD.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},DD.prototype.interfaces_=function(){return[Serializable,Comparable,Clonable]},DD.prototype.getClass=function(){return DD},DD.sqr=function(t){return DD.valueOf(t).selfMultiply(t)},DD.valueOf=function(){if(typeof arguments[0]=="string"){var t=arguments[0];return DD.parse(t)}else if(typeof arguments[0]=="number"){var i=arguments[0];return new DD(i)}},DD.sqrt=function(t){return DD.valueOf(t).sqrt()},DD.parse=function(t){for(var i=0,n=t.length;Character.isWhitespace(t.charAt(i));)i++;var r=!1;if(i<n){var u=t.charAt(i);(u==="-"||u==="+")&&(i++,u==="-"&&(r=!0))}for(var d=new DD,c=0,b=0,S=0;!(i>=n);){var C=t.charAt(i);if(i++,Character.isDigit(C)){var O=C-"0";d.selfMultiply(DD.TEN),d.selfAdd(O),c++;continue}if(C==="."){b=c;continue}if(C==="e"||C==="E"){var D=t.substring(i);try{S=Integer.parseInt(D)}catch(fe){throw fe instanceof Error?new Error("Invalid exponent "+D+" in string "+t):fe}finally{}break}throw new Error("Unexpected character '"+C+"' at position "+i+" in string "+t)}var H=d,K=c-b-S;if(K===0)H=d;else if(K>0){var le=DD.TEN.pow(K);H=d.divide(le)}else if(K<0){var de=DD.TEN.pow(-K);H=d.multiply(de)}return r?H.negate():H},DD.createNaN=function(){return new DD(Double.NaN,Double.NaN)},DD.copy=function(t){return new DD(t)},DD.magnitude=function(t){var i=Math.abs(t),n=Math.log(i)/Math.log(10),r=Math.trunc(Math.floor(n)),u=Math.pow(10,r);return u*10<=i&&(r+=1),r},DD.stringOfChar=function(t,i){for(var n=new StringBuffer,r=0;r<i;r++)n.append(t);return n.toString()},staticAccessors$7.PI.get=function(){return new DD(3.141592653589793,12246467991473532e-32)},staticAccessors$7.TWO_PI.get=function(){return new DD(6.283185307179586,24492935982947064e-32)},staticAccessors$7.PI_2.get=function(){return new DD(1.5707963267948966,6123233995736766e-32)},staticAccessors$7.E.get=function(){return new DD(2.718281828459045,14456468917292502e-32)},staticAccessors$7.NaN.get=function(){return new DD(Double.NaN,Double.NaN)},staticAccessors$7.EPS.get=function(){return 123259516440783e-46},staticAccessors$7.SPLIT.get=function(){return 134217729},staticAccessors$7.MAX_PRINT_DIGITS.get=function(){return 32},staticAccessors$7.TEN.get=function(){return DD.valueOf(10)},staticAccessors$7.ONE.get=function(){return DD.valueOf(1)},staticAccessors$7.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},staticAccessors$7.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(DD,staticAccessors$7);var CGAlgorithmsDD=function(){},staticAccessors$6={DP_SAFE_EPSILON:{configurable:!0}};CGAlgorithmsDD.prototype.interfaces_=function(){return[]},CGAlgorithmsDD.prototype.getClass=function(){return CGAlgorithmsDD},CGAlgorithmsDD.orientationIndex=function(t,i,n){var r=CGAlgorithmsDD.orientationIndexFilter(t,i,n);if(r<=1)return r;var u=DD.valueOf(i.x).selfAdd(-t.x),d=DD.valueOf(i.y).selfAdd(-t.y),c=DD.valueOf(n.x).selfAdd(-i.x),b=DD.valueOf(n.y).selfAdd(-i.y);return u.selfMultiply(b).selfSubtract(d.selfMultiply(c)).signum()},CGAlgorithmsDD.signOfDet2x2=function(t,i,n,r){var u=t.multiply(r).selfSubtract(i.multiply(n));return u.signum()},CGAlgorithmsDD.intersection=function(t,i,n,r){var u=DD.valueOf(r.y).selfSubtract(n.y).selfMultiply(DD.valueOf(i.x).selfSubtract(t.x)),d=DD.valueOf(r.x).selfSubtract(n.x).selfMultiply(DD.valueOf(i.y).selfSubtract(t.y)),c=u.subtract(d),b=DD.valueOf(r.x).selfSubtract(n.x).selfMultiply(DD.valueOf(t.y).selfSubtract(n.y)),S=DD.valueOf(r.y).selfSubtract(n.y).selfMultiply(DD.valueOf(t.x).selfSubtract(n.x)),C=b.subtract(S),O=C.selfDivide(c).doubleValue(),D=DD.valueOf(t.x).selfAdd(DD.valueOf(i.x).selfSubtract(t.x).selfMultiply(O)).doubleValue(),H=DD.valueOf(i.x).selfSubtract(t.x).selfMultiply(DD.valueOf(t.y).selfSubtract(n.y)),K=DD.valueOf(i.y).selfSubtract(t.y).selfMultiply(DD.valueOf(t.x).selfSubtract(n.x)),le=H.subtract(K),de=le.selfDivide(c).doubleValue(),fe=DD.valueOf(n.y).selfAdd(DD.valueOf(r.y).selfSubtract(n.y).selfMultiply(de)).doubleValue();return new Coordinate(D,fe)},CGAlgorithmsDD.orientationIndexFilter=function(t,i,n){var r=null,u=(t.x-n.x)*(i.y-n.y),d=(t.y-n.y)*(i.x-n.x),c=u-d;if(u>0){if(d<=0)return CGAlgorithmsDD.signum(c);r=u+d}else if(u<0){if(d>=0)return CGAlgorithmsDD.signum(c);r=-u-d}else return CGAlgorithmsDD.signum(c);var b=CGAlgorithmsDD.DP_SAFE_EPSILON*r;return c>=b||-c>=b?CGAlgorithmsDD.signum(c):2},CGAlgorithmsDD.signum=function(t){return t>0?1:t<0?-1:0},staticAccessors$6.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(CGAlgorithmsDD,staticAccessors$6);var CoordinateSequence=function(){},staticAccessors$8={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};staticAccessors$8.X.get=function(){return 0},staticAccessors$8.Y.get=function(){return 1},staticAccessors$8.Z.get=function(){return 2},staticAccessors$8.M.get=function(){return 3},CoordinateSequence.prototype.setOrdinate=function(t,i,n){},CoordinateSequence.prototype.size=function(){},CoordinateSequence.prototype.getOrdinate=function(t,i){},CoordinateSequence.prototype.getCoordinate=function(){},CoordinateSequence.prototype.getCoordinateCopy=function(t){},CoordinateSequence.prototype.getDimension=function(){},CoordinateSequence.prototype.getX=function(t){},CoordinateSequence.prototype.clone=function(){},CoordinateSequence.prototype.expandEnvelope=function(t){},CoordinateSequence.prototype.copy=function(){},CoordinateSequence.prototype.getY=function(t){},CoordinateSequence.prototype.toCoordinateArray=function(){},CoordinateSequence.prototype.interfaces_=function(){return[Clonable]},CoordinateSequence.prototype.getClass=function(){return CoordinateSequence},Object.defineProperties(CoordinateSequence,staticAccessors$8);var Exception=function(){},NotRepresentableException=function(e){function t(){e.call(this,"Projective point not representable on the Cartesian plane.")}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Exception),System=function(){};System.arraycopy=function(t,i,n,r,u){for(var d=0,c=i;c<i+u;c++)n[r+d]=t[c],d++},System.getProperty=function(t){return{"line.separator":`
`}[t]};var HCoordinate=function e(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var i=arguments[0],n=arguments[1];this.x=i,this.y=n,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var r=arguments[0],u=arguments[1];this.x=r.y*u.w-u.y*r.w,this.y=u.x*r.w-r.x*u.w,this.w=r.x*u.y-u.x*r.y}else if(arguments[0]instanceof Coordinate&&arguments[1]instanceof Coordinate){var d=arguments[0],c=arguments[1];this.x=d.y-c.y,this.y=c.x-d.x,this.w=d.x*c.y-c.x*d.y}}else if(arguments.length===3){var b=arguments[0],S=arguments[1],C=arguments[2];this.x=b,this.y=S,this.w=C}else if(arguments.length===4){var O=arguments[0],D=arguments[1],H=arguments[2],K=arguments[3],le=O.y-D.y,de=D.x-O.x,fe=O.x*D.y-D.x*O.y,be=H.y-K.y,Ie=K.x-H.x,De=H.x*K.y-K.x*H.y;this.x=de*De-Ie*fe,this.y=be*fe-le*De,this.w=le*Ie-be*de}};HCoordinate.prototype.getY=function(){var t=this.y/this.w;if(Double.isNaN(t)||Double.isInfinite(t))throw new NotRepresentableException;return t},HCoordinate.prototype.getX=function(){var t=this.x/this.w;if(Double.isNaN(t)||Double.isInfinite(t))throw new NotRepresentableException;return t},HCoordinate.prototype.getCoordinate=function(){var t=new Coordinate;return t.x=this.getX(),t.y=this.getY(),t},HCoordinate.prototype.interfaces_=function(){return[]},HCoordinate.prototype.getClass=function(){return HCoordinate},HCoordinate.intersection=function(t,i,n,r){var u=t.y-i.y,d=i.x-t.x,c=t.x*i.y-i.x*t.y,b=n.y-r.y,S=r.x-n.x,C=n.x*r.y-r.x*n.y,O=d*C-S*c,D=b*c-u*C,H=u*S-b*d,K=O/H,le=D/H;if(Double.isNaN(K)||Double.isInfinite(K)||Double.isNaN(le)||Double.isInfinite(le))throw new NotRepresentableException;return new Coordinate(K,le)};var Envelope=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Coordinate){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var i=arguments[0];this.init(i)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(arguments.length===4){var u=arguments[0],d=arguments[1],c=arguments[2],b=arguments[3];this.init(u,d,c,b)}},staticAccessors$9={serialVersionUID:{configurable:!0}};Envelope.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Envelope.prototype.equals=function(t){if(!(t instanceof Envelope))return!1;var i=t;return this.isNull()?i.isNull():this._maxx===i.getMaxX()&&this._maxy===i.getMaxY()&&this._minx===i.getMinX()&&this._miny===i.getMinY()},Envelope.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Envelope;var i=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,u=this._maxy<t._maxy?this._maxy:t._maxy;return new Envelope(i,r,n,u)},Envelope.prototype.isNull=function(){return this._maxx<this._minx},Envelope.prototype.getMaxX=function(){return this._maxx},Envelope.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof Coordinate){var t=arguments[0];return this.covers(t.x,t.y)}else if(arguments[0]instanceof Envelope){var i=arguments[0];return this.isNull()||i.isNull()?!1:i.getMinX()>=this._minx&&i.getMaxX()<=this._maxx&&i.getMinY()>=this._miny&&i.getMaxY()<=this._maxy}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.isNull()?!1:n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},Envelope.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof Envelope){var t=arguments[0];return this.isNull()||t.isNull()?!1:!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}else if(arguments[0]instanceof Coordinate){var i=arguments[0];return this.intersects(i.x,i.y)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.isNull()?!1:!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Envelope.prototype.getMinY=function(){return this._miny},Envelope.prototype.getMinX=function(){return this._minx},Envelope.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof Coordinate){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Envelope){var i=arguments[0];if(i.isNull())return null;this.isNull()?(this._minx=i.getMinX(),this._maxx=i.getMaxX(),this._miny=i.getMinY(),this._maxy=i.getMaxY()):(i._minx<this._minx&&(this._minx=i._minx),i._maxx>this._maxx&&(this._maxx=i._maxx),i._miny<this._miny&&(this._miny=i._miny),i._maxy>this._maxy&&(this._maxy=i._maxy))}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Envelope.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),i=this.getHeight();return t<i?t:i},Envelope.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Envelope.prototype.compareTo=function(t){var i=t;return this.isNull()?i.isNull()?0:-1:i.isNull()?1:this._minx<i._minx?-1:this._minx>i._minx?1:this._miny<i._miny?-1:this._miny>i._miny?1:this._maxx<i._maxx?-1:this._maxx>i._maxx?1:this._maxy<i._maxy?-1:this._maxy>i._maxy?1:0},Envelope.prototype.translate=function(t,i){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+i,this.getMaxY()+i)},Envelope.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Envelope.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Envelope.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Envelope.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),i=this.getHeight();return t>i?t:i},Envelope.prototype.expandBy=function(){if(arguments.length===1){var t=arguments[0];this.expandBy(t,t)}else if(arguments.length===2){var i=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=i,this._maxx+=i,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Envelope.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof Envelope){var t=arguments[0];return this.covers(t)}else if(arguments[0]instanceof Coordinate){var i=arguments[0];return this.covers(i)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},Envelope.prototype.centre=function(){return this.isNull()?null:new Coordinate((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Envelope.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Coordinate){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Envelope){var i=arguments[0];this._minx=i._minx,this._maxx=i._maxx,this._miny=i._miny,this._maxy=i._maxy}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(arguments.length===4){var u=arguments[0],d=arguments[1],c=arguments[2],b=arguments[3];u<d?(this._minx=u,this._maxx=d):(this._minx=d,this._maxx=u),c<b?(this._miny=c,this._maxy=b):(this._miny=b,this._maxy=c)}},Envelope.prototype.getMaxY=function(){return this._maxy},Envelope.prototype.distance=function(t){if(this.intersects(t))return 0;var i=0;this._maxx<t._minx?i=t._minx-this._maxx:this._minx>t._maxx&&(i=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),i===0?n:n===0?i:Math.sqrt(i*i+n*n)},Envelope.prototype.hashCode=function(){var t=17;return t=37*t+Coordinate.hashCode(this._minx),t=37*t+Coordinate.hashCode(this._maxx),t=37*t+Coordinate.hashCode(this._miny),t=37*t+Coordinate.hashCode(this._maxy),t},Envelope.prototype.interfaces_=function(){return[Comparable,Serializable]},Envelope.prototype.getClass=function(){return Envelope},Envelope.intersects=function(){if(arguments.length===3){var t=arguments[0],i=arguments[1],n=arguments[2];return n.x>=(t.x<i.x?t.x:i.x)&&n.x<=(t.x>i.x?t.x:i.x)&&n.y>=(t.y<i.y?t.y:i.y)&&n.y<=(t.y>i.y?t.y:i.y)}else if(arguments.length===4){var r=arguments[0],u=arguments[1],d=arguments[2],c=arguments[3],b=Math.min(d.x,c.x),S=Math.max(d.x,c.x),C=Math.min(r.x,u.x),O=Math.max(r.x,u.x);return!(C>S||O<b||(b=Math.min(d.y,c.y),S=Math.max(d.y,c.y),C=Math.min(r.y,u.y),O=Math.max(r.y,u.y),C>S)||O<b)}},staticAccessors$9.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(Envelope,staticAccessors$9);var regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},WKTParser=function(t){this.geometryFactory=t||new GeometryFactory};WKTParser.prototype.read=function(t){var i,n,r;t=t.replace(/[\n\r]/g," ");var u=regExes.typeStr.exec(t);if(t.search("EMPTY")!==-1&&(u=regExes.emptyTypeStr.exec(t),u[2]=void 0),u&&(n=u[1].toLowerCase(),r=u[2],parse$1[n]&&(i=parse$1[n].apply(this,[r]))),i===void 0)throw new Error("Could not parse WKT "+t);return i},WKTParser.prototype.write=function(t){return this.extractGeometry(t)},WKTParser.prototype.extractGeometry=function(t){var i=t.getGeometryType().toLowerCase();if(!extract$1[i])return null;var n=i.toUpperCase(),r;return t.isEmpty()?r=n+" EMPTY":r=n+"("+extract$1[i].apply(this,[t])+")",r};var extract$1={coordinate:function(t){return t.x+" "+t.y},point:function(t){return extract$1.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var i=this,n=[],r=0,u=t._geometries.length;r<u;++r)n.push("("+extract$1.point.apply(i,[t._geometries[r]])+")");return n.join(",")},linestring:function(t){for(var i=this,n=[],r=0,u=t._points._coordinates.length;r<u;++r)n.push(extract$1.coordinate.apply(i,[t._points._coordinates[r]]));return n.join(",")},linearring:function(t){for(var i=this,n=[],r=0,u=t._points._coordinates.length;r<u;++r)n.push(extract$1.coordinate.apply(i,[t._points._coordinates[r]]));return n.join(",")},multilinestring:function(t){for(var i=this,n=[],r=0,u=t._geometries.length;r<u;++r)n.push("("+extract$1.linestring.apply(i,[t._geometries[r]])+")");return n.join(",")},polygon:function(t){var i=this,n=[];n.push("("+extract$1.linestring.apply(this,[t._shell])+")");for(var r=0,u=t._holes.length;r<u;++r)n.push("("+extract$1.linestring.apply(i,[t._holes[r]])+")");return n.join(",")},multipolygon:function(t){for(var i=this,n=[],r=0,u=t._geometries.length;r<u;++r)n.push("("+extract$1.polygon.apply(i,[t._geometries[r]])+")");return n.join(",")},geometrycollection:function(t){for(var i=this,n=[],r=0,u=t._geometries.length;r<u;++r)n.push(i.extractGeometry(t._geometries[r]));return n.join(",")}},parse$1={point:function(t){if(t===void 0)return this.geometryFactory.createPoint();var i=t.trim().split(regExes.spaces);return this.geometryFactory.createPoint(new Coordinate(Number.parseFloat(i[0]),Number.parseFloat(i[1])))},multipoint:function(t){var i=this;if(t===void 0)return this.geometryFactory.createMultiPoint();for(var n,r=t.trim().split(","),u=[],d=0,c=r.length;d<c;++d)n=r[d].replace(regExes.trimParens,"$1"),u.push(parse$1.point.apply(i,[n]));return this.geometryFactory.createMultiPoint(u)},linestring:function(t){if(t===void 0)return this.geometryFactory.createLineString();for(var i=t.trim().split(","),n=[],r,u=0,d=i.length;u<d;++u)r=i[u].trim().split(regExes.spaces),n.push(new Coordinate(Number.parseFloat(r[0]),Number.parseFloat(r[1])));return this.geometryFactory.createLineString(n)},linearring:function(t){if(t===void 0)return this.geometryFactory.createLinearRing();for(var i=t.trim().split(","),n=[],r,u=0,d=i.length;u<d;++u)r=i[u].trim().split(regExes.spaces),n.push(new Coordinate(Number.parseFloat(r[0]),Number.parseFloat(r[1])));return this.geometryFactory.createLinearRing(n)},multilinestring:function(t){var i=this;if(t===void 0)return this.geometryFactory.createMultiLineString();for(var n,r=t.trim().split(regExes.parenComma),u=[],d=0,c=r.length;d<c;++d)n=r[d].replace(regExes.trimParens,"$1"),u.push(parse$1.linestring.apply(i,[n]));return this.geometryFactory.createMultiLineString(u)},polygon:function(t){var i=this;if(t===void 0)return this.geometryFactory.createPolygon();for(var n,r,u,d=t.trim().split(regExes.parenComma),c,b=[],S=0,C=d.length;S<C;++S)n=d[S].replace(regExes.trimParens,"$1"),r=parse$1.linestring.apply(i,[n]),u=i.geometryFactory.createLinearRing(r._points),S===0?c=u:b.push(u);return this.geometryFactory.createPolygon(c,b)},multipolygon:function(t){var i=this;if(t===void 0)return this.geometryFactory.createMultiPolygon();for(var n,r=t.trim().split(regExes.doubleParenComma),u=[],d=0,c=r.length;d<c;++d)n=r[d].replace(regExes.trimParens,"$1"),u.push(parse$1.polygon.apply(i,[n]));return this.geometryFactory.createMultiPolygon(u)},geometrycollection:function(t){var i=this;if(t===void 0)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var n=t.trim().split("|"),r=[],u=0,d=n.length;u<d;++u)r.push(i.read(n[u]));return this.geometryFactory.createGeometryCollection(r)}},WKTWriter=function(t){this.parser=new WKTParser(t)};WKTWriter.prototype.write=function(t){return this.parser.write(t)},WKTWriter.toLineString=function(t,i){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+i.x+" "+i.y+" )"};var RuntimeException=function(e){function t(i){e.call(this,i),this.name="RuntimeException",this.message=i,this.stack=new e().stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),AssertionFailedException=function(e){function t(){if(e.call(this),arguments.length===0)e.call(this);else if(arguments.length===1){var i=arguments[0];e.call(this,i)}}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(RuntimeException),Assert=function(){};Assert.prototype.interfaces_=function(){return[]},Assert.prototype.getClass=function(){return Assert},Assert.shouldNeverReachHere=function(){if(arguments.length===0)Assert.shouldNeverReachHere(null);else if(arguments.length===1){var t=arguments[0];throw new AssertionFailedException("Should never reach here"+(t!==null?": "+t:""))}},Assert.isTrue=function(){var t,i;if(arguments.length===1)t=arguments[0],Assert.isTrue(t,null);else if(arguments.length===2&&(t=arguments[0],i=arguments[1],!t))throw i===null?new AssertionFailedException:new AssertionFailedException(i)},Assert.equals=function(){var t,i,n;if(arguments.length===2)t=arguments[0],i=arguments[1],Assert.equals(t,i,null);else if(arguments.length===3&&(t=arguments[0],i=arguments[1],n=arguments[2],!i.equals(t)))throw new AssertionFailedException("Expected "+t+" but encountered "+i+(n!==null?": "+n:""))};var LineIntersector=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Coordinate,this._intPt[1]=new Coordinate,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},staticAccessors$10={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};LineIntersector.prototype.getIndexAlongSegment=function(t,i){return this.computeIntLineIndex(),this._intLineIndex[t][i]},LineIntersector.prototype.getTopologySummary=function(){var t=new StringBuffer;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},LineIntersector.prototype.computeIntersection=function(t,i,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=i,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,i,n,r)},LineIntersector.prototype.getIntersectionNum=function(){return this._result},LineIntersector.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var t=arguments[0],i=this.getEdgeDistance(t,0),n=this.getEdgeDistance(t,1);i>n?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},LineIntersector.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},LineIntersector.prototype.setPrecisionModel=function(t){this._precisionModel=t},LineIntersector.prototype.isInteriorIntersection=function(){var t=this;if(arguments.length===0)return!!(this.isInteriorIntersection(0)||this.isInteriorIntersection(1));if(arguments.length===1){for(var i=arguments[0],n=0;n<this._result;n++)if(!(t._intPt[n].equals2D(t._inputLines[i][0])||t._intPt[n].equals2D(t._inputLines[i][1])))return!0;return!1}},LineIntersector.prototype.getIntersection=function(t){return this._intPt[t]},LineIntersector.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},LineIntersector.prototype.hasIntersection=function(){return this._result!==LineIntersector.NO_INTERSECTION},LineIntersector.prototype.getEdgeDistance=function(t,i){var n=LineIntersector.computeEdgeDistance(this._intPt[i],this._inputLines[t][0],this._inputLines[t][1]);return n},LineIntersector.prototype.isCollinear=function(){return this._result===LineIntersector.COLLINEAR_INTERSECTION},LineIntersector.prototype.toString=function(){return WKTWriter.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+WKTWriter.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},LineIntersector.prototype.getEndpoint=function(t,i){return this._inputLines[t][i]},LineIntersector.prototype.isIntersection=function(t){for(var i=this,n=0;n<this._result;n++)if(i._intPt[n].equals2D(t))return!0;return!1},LineIntersector.prototype.getIntersectionAlongSegment=function(t,i){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][i]]},LineIntersector.prototype.interfaces_=function(){return[]},LineIntersector.prototype.getClass=function(){return LineIntersector},LineIntersector.computeEdgeDistance=function(t,i,n){var r=Math.abs(n.x-i.x),u=Math.abs(n.y-i.y),d=-1;if(t.equals(i))d=0;else if(t.equals(n))r>u?d=r:d=u;else{var c=Math.abs(t.x-i.x),b=Math.abs(t.y-i.y);r>u?d=c:d=b,d===0&&!t.equals(i)&&(d=Math.max(c,b))}return Assert.isTrue(!(d===0&&!t.equals(i)),"Bad distance calculation"),d},LineIntersector.nonRobustComputeEdgeDistance=function(t,i,n){var r=t.x-i.x,u=t.y-i.y,d=Math.sqrt(r*r+u*u);return Assert.isTrue(!(d===0&&!t.equals(i)),"Invalid distance calculation"),d},staticAccessors$10.DONT_INTERSECT.get=function(){return 0},staticAccessors$10.DO_INTERSECT.get=function(){return 1},staticAccessors$10.COLLINEAR.get=function(){return 2},staticAccessors$10.NO_INTERSECTION.get=function(){return 0},staticAccessors$10.POINT_INTERSECTION.get=function(){return 1},staticAccessors$10.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(LineIntersector,staticAccessors$10);var RobustLineIntersector=function(e){function t(){e.apply(this,arguments)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.isInSegmentEnvelopes=function(n){var r=new Envelope(this._inputLines[0][0],this._inputLines[0][1]),u=new Envelope(this._inputLines[1][0],this._inputLines[1][1]);return r.contains(n)&&u.contains(n)},t.prototype.computeIntersection=function(){if(arguments.length===3){var n=arguments[0],r=arguments[1],u=arguments[2];if(this._isProper=!1,Envelope.intersects(r,u,n)&&CGAlgorithms.orientationIndex(r,u,n)===0&&CGAlgorithms.orientationIndex(u,r,n)===0)return this._isProper=!0,(n.equals(r)||n.equals(u))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION}else return e.prototype.computeIntersection.apply(this,arguments)},t.prototype.normalizeToMinimum=function(n,r,u,d,c){c.x=this.smallestInAbsValue(n.x,r.x,u.x,d.x),c.y=this.smallestInAbsValue(n.y,r.y,u.y,d.y),n.x-=c.x,n.y-=c.y,r.x-=c.x,r.y-=c.y,u.x-=c.x,u.y-=c.y,d.x-=c.x,d.y-=c.y},t.prototype.safeHCoordinateIntersection=function(n,r,u,d){var c=null;try{c=HCoordinate.intersection(n,r,u,d)}catch(b){if(b instanceof NotRepresentableException)c=t.nearestEndpoint(n,r,u,d);else throw b}finally{}return c},t.prototype.intersection=function(n,r,u,d){var c=this.intersectionWithNormalization(n,r,u,d);return this.isInSegmentEnvelopes(c)||(c=new Coordinate(t.nearestEndpoint(n,r,u,d))),this._precisionModel!==null&&this._precisionModel.makePrecise(c),c},t.prototype.smallestInAbsValue=function(n,r,u,d){var c=n,b=Math.abs(c);return Math.abs(r)<b&&(c=r,b=Math.abs(r)),Math.abs(u)<b&&(c=u,b=Math.abs(u)),Math.abs(d)<b&&(c=d),c},t.prototype.checkDD=function(n,r,u,d,c){var b=CGAlgorithmsDD.intersection(n,r,u,d),S=this.isInSegmentEnvelopes(b);System.out.println("DD in env = "+S+"  --------------------- "+b),c.distance(b)>1e-4&&System.out.println("Distance = "+c.distance(b))},t.prototype.intersectionWithNormalization=function(n,r,u,d){var c=new Coordinate(n),b=new Coordinate(r),S=new Coordinate(u),C=new Coordinate(d),O=new Coordinate;this.normalizeToEnvCentre(c,b,S,C,O);var D=this.safeHCoordinateIntersection(c,b,S,C);return D.x+=O.x,D.y+=O.y,D},t.prototype.computeCollinearIntersection=function(n,r,u,d){var c=Envelope.intersects(n,r,u),b=Envelope.intersects(n,r,d),S=Envelope.intersects(u,d,n),C=Envelope.intersects(u,d,r);return c&&b?(this._intPt[0]=u,this._intPt[1]=d,e.COLLINEAR_INTERSECTION):S&&C?(this._intPt[0]=n,this._intPt[1]=r,e.COLLINEAR_INTERSECTION):c&&S?(this._intPt[0]=u,this._intPt[1]=n,u.equals(n)&&!b&&!C?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):c&&C?(this._intPt[0]=u,this._intPt[1]=r,u.equals(r)&&!b&&!S?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):b&&S?(this._intPt[0]=d,this._intPt[1]=n,d.equals(n)&&!c&&!C?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):b&&C?(this._intPt[0]=d,this._intPt[1]=r,d.equals(r)&&!c&&!S?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):e.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(n,r,u,d,c){var b=n.x<r.x?n.x:r.x,S=n.y<r.y?n.y:r.y,C=n.x>r.x?n.x:r.x,O=n.y>r.y?n.y:r.y,D=u.x<d.x?u.x:d.x,H=u.y<d.y?u.y:d.y,K=u.x>d.x?u.x:d.x,le=u.y>d.y?u.y:d.y,de=b>D?b:D,fe=C<K?C:K,be=S>H?S:H,Ie=O<le?O:le,De=(de+fe)/2,Ze=(be+Ie)/2;c.x=De,c.y=Ze,n.x-=c.x,n.y-=c.y,r.x-=c.x,r.y-=c.y,u.x-=c.x,u.y-=c.y,d.x-=c.x,d.y-=c.y},t.prototype.computeIntersect=function(n,r,u,d){if(this._isProper=!1,!Envelope.intersects(n,r,u,d))return e.NO_INTERSECTION;var c=CGAlgorithms.orientationIndex(n,r,u),b=CGAlgorithms.orientationIndex(n,r,d);if(c>0&&b>0||c<0&&b<0)return e.NO_INTERSECTION;var S=CGAlgorithms.orientationIndex(u,d,n),C=CGAlgorithms.orientationIndex(u,d,r);if(S>0&&C>0||S<0&&C<0)return e.NO_INTERSECTION;var O=c===0&&b===0&&S===0&&C===0;return O?this.computeCollinearIntersection(n,r,u,d):(c===0||b===0||S===0||C===0?(this._isProper=!1,n.equals2D(u)||n.equals2D(d)?this._intPt[0]=n:r.equals2D(u)||r.equals2D(d)?this._intPt[0]=r:c===0?this._intPt[0]=new Coordinate(u):b===0?this._intPt[0]=new Coordinate(d):S===0?this._intPt[0]=new Coordinate(n):C===0&&(this._intPt[0]=new Coordinate(r))):(this._isProper=!0,this._intPt[0]=this.intersection(n,r,u,d)),e.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(n,r,u,d){var c=n,b=CGAlgorithms.distancePointLine(n,u,d),S=CGAlgorithms.distancePointLine(r,u,d);return S<b&&(b=S,c=r),S=CGAlgorithms.distancePointLine(u,n,r),S<b&&(b=S,c=u),S=CGAlgorithms.distancePointLine(d,n,r),S<b&&(b=S,c=d),c},t}(LineIntersector),RobustDeterminant=function(){};RobustDeterminant.prototype.interfaces_=function(){return[]},RobustDeterminant.prototype.getClass=function(){return RobustDeterminant},RobustDeterminant.orientationIndex=function(t,i,n){var r=i.x-t.x,u=i.y-t.y,d=n.x-i.x,c=n.y-i.y;return RobustDeterminant.signOfDet2x2(r,u,d,c)},RobustDeterminant.signOfDet2x2=function(t,i,n,r){var u=null,d=null,c=null;if(u=1,t===0||r===0)return i===0||n===0?0:i>0?n>0?-u:u:n>0?u:-u;if(i===0||n===0)return r>0?t>0?u:-u:t>0?-u:u;if(i>0?r>0?i<=r||(u=-u,d=t,t=n,n=d,d=i,i=r,r=d):i<=-r?(u=-u,n=-n,r=-r):(d=t,t=-n,n=d,d=i,i=-r,r=d):r>0?-i<=r?(u=-u,t=-t,i=-i):(d=-t,t=n,n=d,d=-i,i=r,r=d):i>=r?(t=-t,i=-i,n=-n,r=-r):(u=-u,d=-t,t=-n,n=d,d=-i,i=-r,r=d),t>0)if(n>0){if(!(t<=n))return u}else return u;else{if(n>0)return-u;if(t>=n)u=-u,t=-t,n=-n;else return-u}for(;;){if(c=Math.floor(n/t),n=n-c*t,r=r-c*i,r<0)return-u;if(r>i)return u;if(t>n+n){if(i<r+r)return u}else{if(i>r+r)return-u;n=t-n,r=i-r,u=-u}if(r===0)return n===0?0:-u;if(n===0||(c=Math.floor(t/n),t=t-c*n,i=i-c*r,i<0))return u;if(i>r)return-u;if(n>t+t){if(r<i+i)return-u}else{if(r>i+i)return u;t=n-t,i=r-i,u=-u}if(i===0)return t===0?0:u;if(t===0)return-u}};var RayCrossingCounter=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};RayCrossingCounter.prototype.countSegment=function(t,i){if(t.x<this._p.x&&i.x<this._p.x)return null;if(this._p.x===i.x&&this._p.y===i.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&i.y===this._p.y){var n=t.x,r=i.x;return n>r&&(n=i.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&i.y<=this._p.y||i.y>this._p.y&&t.y<=this._p.y){var u=t.x-this._p.x,d=t.y-this._p.y,c=i.x-this._p.x,b=i.y-this._p.y,S=RobustDeterminant.signOfDet2x2(u,d,c,b);if(S===0)return this._isPointOnSegment=!0,null;b<d&&(S=-S),S>0&&this._crossingCount++}},RayCrossingCounter.prototype.isPointInPolygon=function(){return this.getLocation()!==Location.EXTERIOR},RayCrossingCounter.prototype.getLocation=function(){return this._isPointOnSegment?Location.BOUNDARY:this._crossingCount%2===1?Location.INTERIOR:Location.EXTERIOR},RayCrossingCounter.prototype.isOnSegment=function(){return this._isPointOnSegment},RayCrossingCounter.prototype.interfaces_=function(){return[]},RayCrossingCounter.prototype.getClass=function(){return RayCrossingCounter},RayCrossingCounter.locatePointInRing=function(){if(arguments[0]instanceof Coordinate&&hasInterface(arguments[1],CoordinateSequence)){for(var t=arguments[0],i=arguments[1],n=new RayCrossingCounter(t),r=new Coordinate,u=new Coordinate,d=1;d<i.size();d++)if(i.getCoordinate(d,r),i.getCoordinate(d-1,u),n.countSegment(r,u),n.isOnSegment())return n.getLocation();return n.getLocation()}else if(arguments[0]instanceof Coordinate&&arguments[1]instanceof Array){for(var c=arguments[0],b=arguments[1],S=new RayCrossingCounter(c),C=1;C<b.length;C++){var O=b[C],D=b[C-1];if(S.countSegment(O,D),S.isOnSegment())return S.getLocation()}return S.getLocation()}};var CGAlgorithms=function(){},staticAccessors$3={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};CGAlgorithms.prototype.interfaces_=function(){return[]},CGAlgorithms.prototype.getClass=function(){return CGAlgorithms},CGAlgorithms.orientationIndex=function(t,i,n){return CGAlgorithmsDD.orientationIndex(t,i,n)},CGAlgorithms.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var i=0,n=t[0].x,r=1;r<t.length-1;r++){var u=t[r].x-n,d=t[r+1].y,c=t[r-1].y;i+=u*(c-d)}return i/2}else if(hasInterface(arguments[0],CoordinateSequence)){var b=arguments[0],S=b.size();if(S<3)return 0;var C=new Coordinate,O=new Coordinate,D=new Coordinate;b.getCoordinate(0,O),b.getCoordinate(1,D);var H=O.x;D.x-=H;for(var K=0,le=1;le<S-1;le++)C.y=O.y,O.x=D.x,O.y=D.y,b.getCoordinate(le+1,D),D.x-=H,K+=O.x*(C.y-D.y);return K/2}},CGAlgorithms.distanceLineLine=function(t,i,n,r){if(t.equals(i))return CGAlgorithms.distancePointLine(t,n,r);if(n.equals(r))return CGAlgorithms.distancePointLine(r,t,i);var u=!1;if(!Envelope.intersects(t,i,n,r))u=!0;else{var d=(i.x-t.x)*(r.y-n.y)-(i.y-t.y)*(r.x-n.x);if(d===0)u=!0;else{var c=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),b=(t.y-n.y)*(i.x-t.x)-(t.x-n.x)*(i.y-t.y),S=b/d,C=c/d;(C<0||C>1||S<0||S>1)&&(u=!0)}}return u?MathUtil.min(CGAlgorithms.distancePointLine(t,n,r),CGAlgorithms.distancePointLine(i,n,r),CGAlgorithms.distancePointLine(n,t,i),CGAlgorithms.distancePointLine(r,t,i)):0},CGAlgorithms.isPointInRing=function(t,i){return CGAlgorithms.locatePointInRing(t,i)!==Location.EXTERIOR},CGAlgorithms.computeLength=function(t){var i=t.size();if(i<=1)return 0;var n=0,r=new Coordinate;t.getCoordinate(0,r);for(var u=r.x,d=r.y,c=1;c<i;c++){t.getCoordinate(c,r);var b=r.x,S=r.y,C=b-u,O=S-d;n+=Math.sqrt(C*C+O*O),u=b,d=S}return n},CGAlgorithms.isCCW=function(t){var i=t.length-1;if(i<3)throw new IllegalArgumentException("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,u=1;u<=i;u++){var d=t[u];d.y>n.y&&(n=d,r=u)}var c=r;do c=c-1,c<0&&(c=i);while(t[c].equals2D(n)&&c!==r);var b=r;do b=(b+1)%i;while(t[b].equals2D(n)&&b!==r);var S=t[c],C=t[b];if(S.equals2D(n)||C.equals2D(n)||S.equals2D(C))return!1;var O=CGAlgorithms.computeOrientation(S,n,C),D=!1;return O===0?D=S.x>C.x:D=O>0,D},CGAlgorithms.locatePointInRing=function(t,i){return RayCrossingCounter.locatePointInRing(t,i)},CGAlgorithms.distancePointLinePerpendicular=function(t,i,n){var r=(n.x-i.x)*(n.x-i.x)+(n.y-i.y)*(n.y-i.y),u=((i.y-t.y)*(n.x-i.x)-(i.x-t.x)*(n.y-i.y))/r;return Math.abs(u)*Math.sqrt(r)},CGAlgorithms.computeOrientation=function(t,i,n){return CGAlgorithms.orientationIndex(t,i,n)},CGAlgorithms.distancePointLine=function(){if(arguments.length===2){var t=arguments[0],i=arguments[1];if(i.length===0)throw new IllegalArgumentException("Line array must contain at least one vertex");for(var n=t.distance(i[0]),r=0;r<i.length-1;r++){var u=CGAlgorithms.distancePointLine(t,i[r],i[r+1]);u<n&&(n=u)}return n}else if(arguments.length===3){var d=arguments[0],c=arguments[1],b=arguments[2];if(c.x===b.x&&c.y===b.y)return d.distance(c);var S=(b.x-c.x)*(b.x-c.x)+(b.y-c.y)*(b.y-c.y),C=((d.x-c.x)*(b.x-c.x)+(d.y-c.y)*(b.y-c.y))/S;if(C<=0)return d.distance(c);if(C>=1)return d.distance(b);var O=((c.y-d.y)*(b.x-c.x)-(c.x-d.x)*(b.y-c.y))/S;return Math.abs(O)*Math.sqrt(S)}},CGAlgorithms.isOnLine=function(t,i){for(var n=new RobustLineIntersector,r=1;r<i.length;r++){var u=i[r-1],d=i[r];if(n.computeIntersection(t,u,d),n.hasIntersection())return!0}return!1},staticAccessors$3.CLOCKWISE.get=function(){return-1},staticAccessors$3.RIGHT.get=function(){return CGAlgorithms.CLOCKWISE},staticAccessors$3.COUNTERCLOCKWISE.get=function(){return 1},staticAccessors$3.LEFT.get=function(){return CGAlgorithms.COUNTERCLOCKWISE},staticAccessors$3.COLLINEAR.get=function(){return 0},staticAccessors$3.STRAIGHT.get=function(){return CGAlgorithms.COLLINEAR},Object.defineProperties(CGAlgorithms,staticAccessors$3);var GeometryComponentFilter=function(){};GeometryComponentFilter.prototype.filter=function(t){},GeometryComponentFilter.prototype.interfaces_=function(){return[]},GeometryComponentFilter.prototype.getClass=function(){return GeometryComponentFilter};var Geometry=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},staticAccessors$11={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Geometry.prototype.isGeometryCollection=function(){return this.getSortIndex()===Geometry.SORTINDEX_GEOMETRYCOLLECTION},Geometry.prototype.getFactory=function(){return this._factory},Geometry.prototype.getGeometryN=function(t){return this},Geometry.prototype.getArea=function(){return 0},Geometry.prototype.isRectangle=function(){return!1},Geometry.prototype.equals=function(){if(arguments[0]instanceof Geometry){var t=arguments[0];return t===null?!1:this.equalsTopo(t)}else if(arguments[0]instanceof Object){var i=arguments[0];if(!(i instanceof Geometry))return!1;var n=i;return this.equalsExact(n)}},Geometry.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Geometry.prototype.geometryChanged=function(){this.apply(Geometry.geometryChangedFilter)},Geometry.prototype.geometryChangedAction=function(){this._envelope=null},Geometry.prototype.equalsNorm=function(t){return t===null?!1:this.norm().equalsExact(t.norm())},Geometry.prototype.getLength=function(){return 0},Geometry.prototype.getNumGeometries=function(){return 1},Geometry.prototype.compareTo=function(){if(arguments.length===1){var t=arguments[0],i=t;return this.getSortIndex()!==i.getSortIndex()?this.getSortIndex()-i.getSortIndex():this.isEmpty()&&i.isEmpty()?0:this.isEmpty()?-1:i.isEmpty()?1:this.compareToSameClass(t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},Geometry.prototype.getUserData=function(){return this._userData},Geometry.prototype.getSRID=function(){return this._SRID},Geometry.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Geometry.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Geometry.SORTINDEX_GEOMETRYCOLLECTION)throw new IllegalArgumentException("This method does not support GeometryCollection arguments")},Geometry.prototype.equal=function(t,i,n){return n===0?t.equals(i):t.distance(i)<=n},Geometry.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Geometry.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Geometry.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Envelope(this._envelope)},Geometry.prototype.setSRID=function(t){this._SRID=t},Geometry.prototype.setUserData=function(t){this._userData=t},Geometry.prototype.compare=function(t,i){for(var n=t.iterator(),r=i.iterator();n.hasNext()&&r.hasNext();){var u=n.next(),d=r.next(),c=u.compareTo(d);if(c!==0)return c}return n.hasNext()?1:r.hasNext()?-1:0},Geometry.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Geometry.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Geometry.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Geometry.SORTINDEX_MULTIPOINT||this.getSortIndex()===Geometry.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Geometry.SORTINDEX_MULTIPOLYGON},Geometry.prototype.interfaces_=function(){return[Clonable,Comparable,Serializable]},Geometry.prototype.getClass=function(){return Geometry},Geometry.hasNonEmptyElements=function(t){for(var i=0;i<t.length;i++)if(!t[i].isEmpty())return!0;return!1},Geometry.hasNullElements=function(t){for(var i=0;i<t.length;i++)if(t[i]===null)return!0;return!1},staticAccessors$11.serialVersionUID.get=function(){return 8763622679187377e3},staticAccessors$11.SORTINDEX_POINT.get=function(){return 0},staticAccessors$11.SORTINDEX_MULTIPOINT.get=function(){return 1},staticAccessors$11.SORTINDEX_LINESTRING.get=function(){return 2},staticAccessors$11.SORTINDEX_LINEARRING.get=function(){return 3},staticAccessors$11.SORTINDEX_MULTILINESTRING.get=function(){return 4},staticAccessors$11.SORTINDEX_POLYGON.get=function(){return 5},staticAccessors$11.SORTINDEX_MULTIPOLYGON.get=function(){return 6},staticAccessors$11.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},staticAccessors$11.geometryChangedFilter.get=function(){return geometryChangedFilter},Object.defineProperties(Geometry,staticAccessors$11);var geometryChangedFilter=function(){};geometryChangedFilter.interfaces_=function(){return[GeometryComponentFilter]},geometryChangedFilter.filter=function(t){t.geometryChangedAction()};var CoordinateFilter=function(){};CoordinateFilter.prototype.filter=function(t){},CoordinateFilter.prototype.interfaces_=function(){return[]},CoordinateFilter.prototype.getClass=function(){return CoordinateFilter};var BoundaryNodeRule=function(){},staticAccessors$12={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};BoundaryNodeRule.prototype.isInBoundary=function(t){},BoundaryNodeRule.prototype.interfaces_=function(){return[]},BoundaryNodeRule.prototype.getClass=function(){return BoundaryNodeRule},staticAccessors$12.Mod2BoundaryNodeRule.get=function(){return Mod2BoundaryNodeRule},staticAccessors$12.EndPointBoundaryNodeRule.get=function(){return EndPointBoundaryNodeRule},staticAccessors$12.MultiValentEndPointBoundaryNodeRule.get=function(){return MultiValentEndPointBoundaryNodeRule},staticAccessors$12.MonoValentEndPointBoundaryNodeRule.get=function(){return MonoValentEndPointBoundaryNodeRule},staticAccessors$12.MOD2_BOUNDARY_RULE.get=function(){return new Mod2BoundaryNodeRule},staticAccessors$12.ENDPOINT_BOUNDARY_RULE.get=function(){return new EndPointBoundaryNodeRule},staticAccessors$12.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new MultiValentEndPointBoundaryNodeRule},staticAccessors$12.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new MonoValentEndPointBoundaryNodeRule},staticAccessors$12.OGC_SFS_BOUNDARY_RULE.get=function(){return BoundaryNodeRule.MOD2_BOUNDARY_RULE},Object.defineProperties(BoundaryNodeRule,staticAccessors$12);var Mod2BoundaryNodeRule=function(){};Mod2BoundaryNodeRule.prototype.isInBoundary=function(t){return t%2===1},Mod2BoundaryNodeRule.prototype.interfaces_=function(){return[BoundaryNodeRule]},Mod2BoundaryNodeRule.prototype.getClass=function(){return Mod2BoundaryNodeRule};var EndPointBoundaryNodeRule=function(){};EndPointBoundaryNodeRule.prototype.isInBoundary=function(t){return t>0},EndPointBoundaryNodeRule.prototype.interfaces_=function(){return[BoundaryNodeRule]},EndPointBoundaryNodeRule.prototype.getClass=function(){return EndPointBoundaryNodeRule};var MultiValentEndPointBoundaryNodeRule=function(){};MultiValentEndPointBoundaryNodeRule.prototype.isInBoundary=function(t){return t>1},MultiValentEndPointBoundaryNodeRule.prototype.interfaces_=function(){return[BoundaryNodeRule]},MultiValentEndPointBoundaryNodeRule.prototype.getClass=function(){return MultiValentEndPointBoundaryNodeRule};var MonoValentEndPointBoundaryNodeRule=function(){};MonoValentEndPointBoundaryNodeRule.prototype.isInBoundary=function(t){return t===1},MonoValentEndPointBoundaryNodeRule.prototype.interfaces_=function(){return[BoundaryNodeRule]},MonoValentEndPointBoundaryNodeRule.prototype.getClass=function(){return MonoValentEndPointBoundaryNodeRule};var Collection=function(){};Collection.prototype.add=function(){},Collection.prototype.addAll=function(){},Collection.prototype.isEmpty=function(){},Collection.prototype.iterator=function(){},Collection.prototype.size=function(){},Collection.prototype.toArray=function(){},Collection.prototype.remove=function(){};function IndexOutOfBoundsException(e){this.message=e||""}IndexOutOfBoundsException.prototype=new Error,IndexOutOfBoundsException.prototype.name="IndexOutOfBoundsException";var Iterator=function(){};Iterator.prototype.hasNext=function(){},Iterator.prototype.next=function(){},Iterator.prototype.remove=function(){};var List=function(e){function t(){e.apply(this,arguments)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(Collection);function NoSuchElementException(e){this.message=e||""}NoSuchElementException.prototype=new Error,NoSuchElementException.prototype.name="NoSuchElementException";var ArrayList=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof Collection&&this.addAll(arguments[0])}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[e,Collection]},t.prototype.add=function(n){return arguments.length===1?this.array_.push(n):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(n){for(var r=this,u=n.iterator();u.hasNext();)r.add(u.next());return!0},t.prototype.set=function(n,r){var u=this.array_[n];return this.array_[n]=r,u},t.prototype.iterator=function(){return new Iterator_(this)},t.prototype.get=function(n){if(n<0||n>=this.size())throw new IndexOutOfBoundsException;return this.array_[n]},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var n=this,r=[],u=0,d=this.array_.length;u<d;u++)r.push(n.array_[u]);return r},t.prototype.remove=function(n){for(var r=this,u=!1,d=0,c=this.array_.length;d<c;d++)if(r.array_[d]===n){r.array_.splice(d,1),u=!0;break}return u},t}(List),Iterator_=function(e){function t(i){e.call(this),this.arrayList_=i,this.position_=0}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new NoSuchElementException;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(n){return this.arrayList_.set(this.position_-1,n)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(Iterator),CoordinateList=function(e){function t(){if(e.call(this),arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.ensureCapacity(n.length),this.add(n,!0)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.ensureCapacity(r.length),this.add(r,u)}}}t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t;var i={coordArrayType:{configurable:!0}};return i.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(r){return this.get(r)},t.prototype.addAll=function(){var r=this;if(arguments.length===2){for(var u=arguments[0],d=arguments[1],c=!1,b=u.iterator();b.hasNext();)r.add(b.next(),d),c=!0;return c}else return e.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var r=this,u=e.prototype.clone.call(this),d=0;d<this.size();d++)u.add(d,r.get(d).copy());return u},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){var r=this;if(arguments.length===1){var u=arguments[0];e.prototype.add.call(this,u)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var d=arguments[0],c=arguments[1];return this.add(d,c,!0),!0}else if(arguments[0]instanceof Coordinate&&typeof arguments[1]=="boolean"){var b=arguments[0],S=arguments[1];if(!S&&this.size()>=1){var C=this.get(this.size()-1);if(C.equals2D(b))return null}e.prototype.add.call(this,b)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var O=arguments[0],D=arguments[1];return this.add(O,D),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var H=arguments[0],K=arguments[1],le=arguments[2];if(le)for(var de=0;de<H.length;de++)r.add(H[de],K);else for(var fe=H.length-1;fe>=0;fe--)r.add(H[fe],K);return!0}else if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Coordinate){var be=arguments[0],Ie=arguments[1],De=arguments[2];if(!De){var Ze=this.size();if(Ze>0){if(be>0){var ot=this.get(be-1);if(ot.equals2D(Ie))return null}if(be<Ze){var ut=this.get(be);if(ut.equals2D(Ie))return null}}}e.prototype.add.call(this,be,Ie)}}else if(arguments.length===4){var lt=arguments[0],ct=arguments[1],wt=arguments[2],At=arguments[3],Ot=1;wt>At&&(Ot=-1);for(var Ut=wt;Ut!==At;Ut+=Ot)r.add(lt[Ut],ct);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new Coordinate(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,i),t}(ArrayList),CoordinateArrays=function(){},staticAccessors$13={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};staticAccessors$13.ForwardComparator.get=function(){return ForwardComparator},staticAccessors$13.BidirectionalComparator.get=function(){return BidirectionalComparator},staticAccessors$13.coordArrayType.get=function(){return new Array(0).fill(null)},CoordinateArrays.prototype.interfaces_=function(){return[]},CoordinateArrays.prototype.getClass=function(){return CoordinateArrays},CoordinateArrays.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},CoordinateArrays.ptNotInList=function(t,i){for(var n=0;n<t.length;n++){var r=t[n];if(CoordinateArrays.indexOf(r,i)<0)return r}return null},CoordinateArrays.scroll=function(t,i){var n=CoordinateArrays.indexOf(i,t);if(n<0)return null;var r=new Array(t.length).fill(null);System.arraycopy(t,n,r,0,t.length-n),System.arraycopy(t,0,r,t.length-n,n),System.arraycopy(r,0,t,0,t.length)},CoordinateArrays.equals=function(){if(arguments.length===2){var t=arguments[0],i=arguments[1];if(t===i)return!0;if(t===null||i===null||t.length!==i.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(i[n]))return!1;return!0}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2];if(r===u)return!0;if(r===null||u===null||r.length!==u.length)return!1;for(var c=0;c<r.length;c++)if(d.compare(r[c],u[c])!==0)return!1;return!0}},CoordinateArrays.intersection=function(t,i){for(var n=new CoordinateList,r=0;r<t.length;r++)i.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},CoordinateArrays.hasRepeatedPoints=function(t){for(var i=1;i<t.length;i++)if(t[i-1].equals(t[i]))return!0;return!1},CoordinateArrays.removeRepeatedPoints=function(t){if(!CoordinateArrays.hasRepeatedPoints(t))return t;var i=new CoordinateList(t,!1);return i.toCoordinateArray()},CoordinateArrays.reverse=function(t){for(var i=t.length-1,n=Math.trunc(i/2),r=0;r<=n;r++){var u=t[r];t[r]=t[i-r],t[i-r]=u}},CoordinateArrays.removeNull=function(t){for(var i=0,n=0;n<t.length;n++)t[n]!==null&&i++;var r=new Array(i).fill(null);if(i===0)return r;for(var u=0,d=0;d<t.length;d++)t[d]!==null&&(r[u++]=t[d]);return r},CoordinateArrays.copyDeep=function(){if(arguments.length===1){for(var t=arguments[0],i=new Array(t.length).fill(null),n=0;n<t.length;n++)i[n]=new Coordinate(t[n]);return i}else if(arguments.length===5)for(var r=arguments[0],u=arguments[1],d=arguments[2],c=arguments[3],b=arguments[4],S=0;S<b;S++)d[c+S]=new Coordinate(r[u+S])},CoordinateArrays.isEqualReversed=function(t,i){for(var n=0;n<t.length;n++){var r=t[n],u=i[t.length-n-1];if(r.compareTo(u)!==0)return!1}return!0},CoordinateArrays.envelope=function(t){for(var i=new Envelope,n=0;n<t.length;n++)i.expandToInclude(t[n]);return i},CoordinateArrays.toCoordinateArray=function(t){return t.toArray(CoordinateArrays.coordArrayType)},CoordinateArrays.atLeastNCoordinatesOrNothing=function(t,i){return i.length>=t?i:[]},CoordinateArrays.indexOf=function(t,i){for(var n=0;n<i.length;n++)if(t.equals(i[n]))return n;return-1},CoordinateArrays.increasingDirection=function(t){for(var i=0;i<Math.trunc(t.length/2);i++){var n=t.length-1-i,r=t[i].compareTo(t[n]);if(r!==0)return r}return 1},CoordinateArrays.compare=function(t,i){for(var n=0;n<t.length&&n<i.length;){var r=t[n].compareTo(i[n]);if(r!==0)return r;n++}return n<i.length?-1:n<t.length?1:0},CoordinateArrays.minCoordinate=function(t){for(var i=null,n=0;n<t.length;n++)(i===null||i.compareTo(t[n])>0)&&(i=t[n]);return i},CoordinateArrays.extract=function(t,i,n){i=MathUtil.clamp(i,0,t.length),n=MathUtil.clamp(n,-1,t.length);var r=n-i+1;n<0&&(r=0),i>=t.length&&(r=0),n<i&&(r=0);var u=new Array(r).fill(null);if(r===0)return u;for(var d=0,c=i;c<=n;c++)u[d++]=t[c];return u},Object.defineProperties(CoordinateArrays,staticAccessors$13);var ForwardComparator=function(){};ForwardComparator.prototype.compare=function(t,i){var n=t,r=i;return CoordinateArrays.compare(n,r)},ForwardComparator.prototype.interfaces_=function(){return[Comparator]},ForwardComparator.prototype.getClass=function(){return ForwardComparator};var BidirectionalComparator=function(){};BidirectionalComparator.prototype.compare=function(t,i){var n=t,r=i;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(n.length===0)return 0;var u=CoordinateArrays.compare(n,r),d=CoordinateArrays.isEqualReversed(n,r);return d?0:u},BidirectionalComparator.prototype.OLDcompare=function(t,i){var n=t,r=i;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(n.length===0)return 0;for(var u=CoordinateArrays.increasingDirection(n),d=CoordinateArrays.increasingDirection(r),c=u>0?0:n.length-1,b=d>0?0:n.length-1,S=0;S<n.length;S++){var C=n[c].compareTo(r[b]);if(C!==0)return C;c+=u,b+=d}return 0},BidirectionalComparator.prototype.interfaces_=function(){return[Comparator]},BidirectionalComparator.prototype.getClass=function(){return BidirectionalComparator};var Map$1=function(){};Map$1.prototype.get=function(){},Map$1.prototype.put=function(){},Map$1.prototype.size=function(){},Map$1.prototype.values=function(){},Map$1.prototype.entrySet=function(){};var SortedMap=function(e){function t(){e.apply(this,arguments)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}(Map$1);function OperationNotSupported(e){this.message=e||""}OperationNotSupported.prototype=new Error,OperationNotSupported.prototype.name="OperationNotSupported";function Set$1(){}Set$1.prototype=new Collection,Set$1.prototype.contains=function(){};var HashSet=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof Collection&&this.addAll(arguments[0])}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.contains=function(n){for(var r=this,u=0,d=this.array_.length;u<d;u++){var c=r.array_[u];if(c===n)return!0}return!1},t.prototype.add=function(n){return this.contains(n)?!1:(this.array_.push(n),!0)},t.prototype.addAll=function(n){for(var r=this,u=n.iterator();u.hasNext();)r.add(u.next());return!0},t.prototype.remove=function(n){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.toArray=function(){for(var n=this,r=[],u=0,d=this.array_.length;u<d;u++)r.push(n.array_[u]);return r},t.prototype.iterator=function(){return new Iterator_$1(this)},t}(Set$1),Iterator_$1=function(e){function t(i){e.call(this),this.hashSet_=i,this.position_=0}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new NoSuchElementException;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new OperationNotSupported},t}(Iterator),BLACK=0,RED=1;function colorOf(e){return e===null?BLACK:e.color}function parentOf(e){return e===null?null:e.parent}function setColor(e,t){e!==null&&(e.color=t)}function leftOf(e){return e===null?null:e.left}function rightOf(e){return e===null?null:e.right}function TreeMap(){this.root_=null,this.size_=0}TreeMap.prototype=new SortedMap,TreeMap.prototype.get=function(e){for(var t=this.root_;t!==null;){var i=e.compareTo(t.key);if(i<0)t=t.left;else if(i>0)t=t.right;else return t.value}return null},TreeMap.prototype.put=function(e,t){if(this.root_===null)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:BLACK,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var i=this.root_,n,r;do if(n=i,r=e.compareTo(i.key),r<0)i=i.left;else if(r>0)i=i.right;else{var u=i.value;return i.value=t,u}while(i!==null);var d={key:e,left:null,right:null,value:t,parent:n,color:BLACK,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=d:n.right=d,this.fixAfterInsertion(d),this.size_++,null},TreeMap.prototype.fixAfterInsertion=function(e){var t=this;for(e.color=RED;e!=null&&e!==this.root_&&e.parent.color===RED;)if(parentOf(e)===leftOf(parentOf(parentOf(e)))){var i=rightOf(parentOf(parentOf(e)));colorOf(i)===RED?(setColor(parentOf(e),BLACK),setColor(i,BLACK),setColor(parentOf(parentOf(e)),RED),e=parentOf(parentOf(e))):(e===rightOf(parentOf(e))&&(e=parentOf(e),t.rotateLeft(e)),setColor(parentOf(e),BLACK),setColor(parentOf(parentOf(e)),RED),t.rotateRight(parentOf(parentOf(e))))}else{var n=leftOf(parentOf(parentOf(e)));colorOf(n)===RED?(setColor(parentOf(e),BLACK),setColor(n,BLACK),setColor(parentOf(parentOf(e)),RED),e=parentOf(parentOf(e))):(e===leftOf(parentOf(e))&&(e=parentOf(e),t.rotateRight(e)),setColor(parentOf(e),BLACK),setColor(parentOf(parentOf(e)),RED),t.rotateLeft(parentOf(parentOf(e))))}this.root_.color=BLACK},TreeMap.prototype.values=function(){var e=new ArrayList,t=this.getFirstEntry();if(t!==null)for(e.add(t.value);(t=TreeMap.successor(t))!==null;)e.add(t.value);return e},TreeMap.prototype.entrySet=function(){var e=new HashSet,t=this.getFirstEntry();if(t!==null)for(e.add(t);(t=TreeMap.successor(t))!==null;)e.add(t);return e},TreeMap.prototype.rotateLeft=function(e){if(e!=null){var t=e.right;e.right=t.left,t.left!=null&&(t.left.parent=e),t.parent=e.parent,e.parent===null?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}},TreeMap.prototype.rotateRight=function(e){if(e!=null){var t=e.left;e.left=t.right,t.right!=null&&(t.right.parent=e),t.parent=e.parent,e.parent===null?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}},TreeMap.prototype.getFirstEntry=function(){var e=this.root_;if(e!=null)for(;e.left!=null;)e=e.left;return e},TreeMap.successor=function(e){if(e===null)return null;if(e.right!==null){for(var t=e.right;t.left!==null;)t=t.left;return t}else{for(var i=e.parent,n=e;i!==null&&n===i.right;)n=i,i=i.parent;return i}},TreeMap.prototype.size=function(){return this.size_};var Lineal=function(){};Lineal.prototype.interfaces_=function(){return[]},Lineal.prototype.getClass=function(){return Lineal};function SortedSet(){}SortedSet.prototype=new Set$1;function TreeSet(){this.array_=[],arguments[0]instanceof Collection&&this.addAll(arguments[0])}TreeSet.prototype=new SortedSet,TreeSet.prototype.contains=function(e){for(var t=this,i=0,n=this.array_.length;i<n;i++){var r=t.array_[i];if(r.compareTo(e)===0)return!0}return!1},TreeSet.prototype.add=function(e){var t=this;if(this.contains(e))return!1;for(var i=0,n=this.array_.length;i<n;i++){var r=t.array_[i];if(r.compareTo(e)===1)return t.array_.splice(i,0,e),!0}return this.array_.push(e),!0},TreeSet.prototype.addAll=function(e){for(var t=this,i=e.iterator();i.hasNext();)t.add(i.next());return!0},TreeSet.prototype.remove=function(e){throw new OperationNotSupported},TreeSet.prototype.size=function(){return this.array_.length},TreeSet.prototype.isEmpty=function(){return this.array_.length===0},TreeSet.prototype.toArray=function(){for(var e=this,t=[],i=0,n=this.array_.length;i<n;i++)t.push(e.array_[i]);return t},TreeSet.prototype.iterator=function(){return new Iterator_$2(this)};var Iterator_$2=function(e){this.treeSet_=e,this.position_=0};Iterator_$2.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new NoSuchElementException;return this.treeSet_.array_[this.position_++]},Iterator_$2.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Iterator_$2.prototype.remove=function(){throw new OperationNotSupported};var Arrays=function(){};Arrays.sort=function(){var t=arguments[0],i,n,r,u;if(arguments.length===1)u=function(c,b){return c.compareTo(b)},t.sort(u);else if(arguments.length===2)r=arguments[1],u=function(c,b){return r.compare(c,b)},t.sort(u);else if(arguments.length===3){n=t.slice(arguments[1],arguments[2]),n.sort();var d=t.slice(0,arguments[1]).concat(n,t.slice(arguments[2],t.length));for(t.splice(0,t.length),i=0;i<d.length;i++)t.push(d[i])}else if(arguments.length===4)for(n=t.slice(arguments[1],arguments[2]),r=arguments[3],u=function(c,b){return r.compare(c,b)},n.sort(u),d=t.slice(0,arguments[1]).concat(n,t.slice(arguments[2],t.length)),t.splice(0,t.length),i=0;i<d.length;i++)t.push(d[i])},Arrays.asList=function(t){for(var i=new ArrayList,n=0,r=t.length;n<r;n++)i.add(t[n]);return i};var Dimension=function(){},staticAccessors$14={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};staticAccessors$14.P.get=function(){return 0},staticAccessors$14.L.get=function(){return 1},staticAccessors$14.A.get=function(){return 2},staticAccessors$14.FALSE.get=function(){return-1},staticAccessors$14.TRUE.get=function(){return-2},staticAccessors$14.DONTCARE.get=function(){return-3},staticAccessors$14.SYM_FALSE.get=function(){return"F"},staticAccessors$14.SYM_TRUE.get=function(){return"T"},staticAccessors$14.SYM_DONTCARE.get=function(){return"*"},staticAccessors$14.SYM_P.get=function(){return"0"},staticAccessors$14.SYM_L.get=function(){return"1"},staticAccessors$14.SYM_A.get=function(){return"2"},Dimension.prototype.interfaces_=function(){return[]},Dimension.prototype.getClass=function(){return Dimension},Dimension.toDimensionSymbol=function(t){switch(t){case Dimension.FALSE:return Dimension.SYM_FALSE;case Dimension.TRUE:return Dimension.SYM_TRUE;case Dimension.DONTCARE:return Dimension.SYM_DONTCARE;case Dimension.P:return Dimension.SYM_P;case Dimension.L:return Dimension.SYM_L;case Dimension.A:return Dimension.SYM_A}throw new IllegalArgumentException("Unknown dimension value: "+t)},Dimension.toDimensionValue=function(t){switch(Character.toUpperCase(t)){case Dimension.SYM_FALSE:return Dimension.FALSE;case Dimension.SYM_TRUE:return Dimension.TRUE;case Dimension.SYM_DONTCARE:return Dimension.DONTCARE;case Dimension.SYM_P:return Dimension.P;case Dimension.SYM_L:return Dimension.L;case Dimension.SYM_A:return Dimension.A}throw new IllegalArgumentException("Unknown dimension symbol: "+t)},Object.defineProperties(Dimension,staticAccessors$14);var GeometryFilter=function(){};GeometryFilter.prototype.filter=function(t){},GeometryFilter.prototype.interfaces_=function(){return[]},GeometryFilter.prototype.getClass=function(){return GeometryFilter};var CoordinateSequenceFilter=function(){};CoordinateSequenceFilter.prototype.filter=function(t,i){},CoordinateSequenceFilter.prototype.isDone=function(){},CoordinateSequenceFilter.prototype.isGeometryChanged=function(){},CoordinateSequenceFilter.prototype.interfaces_=function(){return[]},CoordinateSequenceFilter.prototype.getClass=function(){return CoordinateSequenceFilter};var GeometryCollection=function(e){function t(n,r){if(e.call(this,r),this._geometries=n||[],e.hasNullElements(this._geometries))throw new IllegalArgumentException("geometries must not contain null elements")}t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t;var i={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var r=this,u=new Envelope,d=0;d<this._geometries.length;d++)u.expandToInclude(r._geometries[d].getEnvelopeInternal());return u},t.prototype.getGeometryN=function(r){return this._geometries[r]},t.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var r=this,u=new Array(this.getNumPoints()).fill(null),d=-1,c=0;c<this._geometries.length;c++)for(var b=r._geometries[c].getCoordinates(),S=0;S<b.length;S++)d++,u[d]=b[S];return u},t.prototype.getArea=function(){for(var r=this,u=0,d=0;d<this._geometries.length;d++)u+=r._geometries[d].getArea();return u},t.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var u=arguments[0],d=arguments[1];if(!this.isEquivalentClass(u))return!1;var c=u;if(this._geometries.length!==c._geometries.length)return!1;for(var b=0;b<this._geometries.length;b++)if(!r._geometries[b].equalsExact(c._geometries[b],d))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var r=this,u=0;u<this._geometries.length;u++)r._geometries[u].normalize();Arrays.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var r=this,u=Dimension.FALSE,d=0;d<this._geometries.length;d++)u=Math.max(u,r._geometries[d].getBoundaryDimension());return u},t.prototype.getDimension=function(){for(var r=this,u=Dimension.FALSE,d=0;d<this._geometries.length;d++)u=Math.max(u,r._geometries[d].getDimension());return u},t.prototype.getLength=function(){for(var r=this,u=0,d=0;d<this._geometries.length;d++)u+=r._geometries[d].getLength();return u},t.prototype.getNumPoints=function(){for(var r=this,u=0,d=0;d<this._geometries.length;d++)u+=r._geometries[d].getNumPoints();return u},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var r=this,u=this._geometries.length,d=new Array(u).fill(null),c=0;c<this._geometries.length;c++)d[c]=r._geometries[c].reverse();return this.getFactory().createGeometryCollection(d)},t.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){var u=arguments[0],d=new TreeSet(Arrays.asList(this._geometries)),c=new TreeSet(Arrays.asList(u._geometries));return this.compare(d,c)}else if(arguments.length===2){for(var b=arguments[0],S=arguments[1],C=b,O=this.getNumGeometries(),D=C.getNumGeometries(),H=0;H<O&&H<D;){var K=r.getGeometryN(H),le=C.getGeometryN(H),de=K.compareToSameClass(le,S);if(de!==0)return de;H++}return H<O?1:H<D?-1:0}},t.prototype.apply=function(){var r=this;if(hasInterface(arguments[0],CoordinateFilter))for(var u=arguments[0],d=0;d<this._geometries.length;d++)r._geometries[d].apply(u);else if(hasInterface(arguments[0],CoordinateSequenceFilter)){var c=arguments[0];if(this._geometries.length===0)return null;for(var b=0;b<this._geometries.length&&(r._geometries[b].apply(c),!c.isDone());b++);c.isGeometryChanged()&&this.geometryChanged()}else if(hasInterface(arguments[0],GeometryFilter)){var S=arguments[0];S.filter(this);for(var C=0;C<this._geometries.length;C++)r._geometries[C].apply(S)}else if(hasInterface(arguments[0],GeometryComponentFilter)){var O=arguments[0];O.filter(this);for(var D=0;D<this._geometries.length;D++)r._geometries[D].apply(O)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Assert.shouldNeverReachHere(),null},t.prototype.clone=function(){var r=this,u=e.prototype.clone.call(this);u._geometries=new Array(this._geometries.length).fill(null);for(var d=0;d<this._geometries.length;d++)u._geometries[d]=r._geometries[d].clone();return u},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var r=this,u=new Array(this._geometries.length).fill(null),d=0;d<u.length;d++)u[d]=r._geometries[d].copy();return new t(u,this._factory)},t.prototype.isEmpty=function(){for(var r=this,u=0;u<this._geometries.length;u++)if(!r._geometries[u].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},i.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(t,i),t}(Geometry),MultiLineString=function(e){function t(){e.apply(this,arguments)}t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t;var i={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Geometry.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];return this.isEquivalentClass(r)?e.prototype.equalsExact.call(this,r,u):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Dimension.FALSE:0},t.prototype.isClosed=function(){var r=this;if(this.isEmpty())return!1;for(var u=0;u<this._geometries.length;u++)if(!r._geometries[u].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var r=this,u=this._geometries.length,d=new Array(u).fill(null),c=0;c<this._geometries.length;c++)d[u-1-c]=r._geometries[c].reverse();return this.getFactory().createMultiLineString(d)},t.prototype.getBoundary=function(){return new BoundaryOp(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var r=this,u=new Array(this._geometries.length).fill(null),d=0;d<u.length;d++)u[d]=r._geometries[d].copy();return new t(u,this._factory)},t.prototype.interfaces_=function(){return[Lineal]},t.prototype.getClass=function(){return t},i.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(t,i),t}(GeometryCollection),BoundaryOp=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var t=arguments[0],i=BoundaryNodeRule.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=i}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};BoundaryOp.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var i=this.computeBoundaryCoordinates(t);return i.length===1?this._geomFact.createPoint(i[0]):this._geomFact.createMultiPointFromCoords(i)},BoundaryOp.prototype.getBoundary=function(){return this._geom instanceof LineString?this.boundaryLineString(this._geom):this._geom instanceof MultiLineString?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},BoundaryOp.prototype.boundaryLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){var i=this._bnRule.isInBoundary(2);return i?t.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},BoundaryOp.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},BoundaryOp.prototype.computeBoundaryCoordinates=function(t){var i=this,n=new ArrayList;this._endpointMap=new TreeMap;for(var r=0;r<t.getNumGeometries();r++){var u=t.getGeometryN(r);u.getNumPoints()!==0&&(i.addEndpoint(u.getCoordinateN(0)),i.addEndpoint(u.getCoordinateN(u.getNumPoints()-1)))}for(var d=this._endpointMap.entrySet().iterator();d.hasNext();){var c=d.next(),b=c.getValue(),S=b.count;i._bnRule.isInBoundary(S)&&n.add(c.getKey())}return CoordinateArrays.toCoordinateArray(n)},BoundaryOp.prototype.addEndpoint=function(t){var i=this._endpointMap.get(t);i===null&&(i=new Counter,this._endpointMap.put(t,i)),i.count++},BoundaryOp.prototype.interfaces_=function(){return[]},BoundaryOp.prototype.getClass=function(){return BoundaryOp},BoundaryOp.getBoundary=function(){if(arguments.length===1){var t=arguments[0],i=new BoundaryOp(t);return i.getBoundary()}else if(arguments.length===2){var n=arguments[0],r=arguments[1],u=new BoundaryOp(n,r);return u.getBoundary()}};var Counter=function(){this.count=null};Counter.prototype.interfaces_=function(){return[]},Counter.prototype.getClass=function(){return Counter};function PrintStream(){}function StringReader(){}var DecimalFormat=function(){};function ByteArrayOutputStream(){}function IOException(){}function LineNumberReader(){}var StringUtil=function(){},staticAccessors$15={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};StringUtil.prototype.interfaces_=function(){return[]},StringUtil.prototype.getClass=function(){return StringUtil},StringUtil.chars=function(t,i){for(var n=new Array(i).fill(null),r=0;r<i;r++)n[r]=t;return String(n)},StringUtil.getStackTrace=function(){if(arguments.length===1){var t=arguments[0],i=new ByteArrayOutputStream,n=new PrintStream;return t.printStackTrace(n),i.toString()}else if(arguments.length===2){var r=arguments[0],u=arguments[1],d="";new StringReader(StringUtil.getStackTrace(r));for(var c=new LineNumberReader,b=0;b<u;b++)try{d+=c.readLine()+StringUtil.NEWLINE}catch(S){if(S instanceof IOException)Assert.shouldNeverReachHere();else throw S}finally{}return d}},StringUtil.split=function(t,i){for(var n=i.length,r=new ArrayList,u=""+t,d=u.indexOf(i);d>=0;){var c=u.substring(0,d);r.add(c),u=u.substring(d+n),d=u.indexOf(i)}u.length>0&&r.add(u);for(var b=new Array(r.size()).fill(null),S=0;S<b.length;S++)b[S]=r.get(S);return b},StringUtil.toString=function(){if(arguments.length===1){var t=arguments[0];return StringUtil.SIMPLE_ORDINATE_FORMAT.format(t)}},StringUtil.spaces=function(t){return StringUtil.chars(" ",t)},staticAccessors$15.NEWLINE.get=function(){return System.getProperty("line.separator")},staticAccessors$15.SIMPLE_ORDINATE_FORMAT.get=function(){return new DecimalFormat},Object.defineProperties(StringUtil,staticAccessors$15);var CoordinateSequences=function(){};CoordinateSequences.prototype.interfaces_=function(){return[]},CoordinateSequences.prototype.getClass=function(){return CoordinateSequences},CoordinateSequences.copyCoord=function(t,i,n,r){for(var u=Math.min(t.getDimension(),n.getDimension()),d=0;d<u;d++)n.setOrdinate(r,d,t.getOrdinate(i,d))},CoordinateSequences.isRing=function(t){var i=t.size();return i===0?!0:i<=3?!1:t.getOrdinate(0,CoordinateSequence.X)===t.getOrdinate(i-1,CoordinateSequence.X)&&t.getOrdinate(0,CoordinateSequence.Y)===t.getOrdinate(i-1,CoordinateSequence.Y)},CoordinateSequences.isEqual=function(t,i){var n=t.size(),r=i.size();if(n!==r)return!1;for(var u=Math.min(t.getDimension(),i.getDimension()),d=0;d<n;d++)for(var c=0;c<u;c++){var b=t.getOrdinate(d,c),S=i.getOrdinate(d,c);if(t.getOrdinate(d,c)!==i.getOrdinate(d,c)&&!(Double.isNaN(b)&&Double.isNaN(S)))return!1}return!0},CoordinateSequences.extend=function(t,i,n){var r=t.create(n,i.getDimension()),u=i.size();if(CoordinateSequences.copy(i,0,r,0,u),u>0)for(var d=u;d<n;d++)CoordinateSequences.copy(i,u-1,r,d,1);return r},CoordinateSequences.reverse=function(t){for(var i=t.size()-1,n=Math.trunc(i/2),r=0;r<=n;r++)CoordinateSequences.swap(t,r,i-r)},CoordinateSequences.swap=function(t,i,n){if(i===n)return null;for(var r=0;r<t.getDimension();r++){var u=t.getOrdinate(i,r);t.setOrdinate(i,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,u)}},CoordinateSequences.copy=function(t,i,n,r,u){for(var d=0;d<u;d++)CoordinateSequences.copyCoord(t,i+d,n,r+d)},CoordinateSequences.toString=function(){if(arguments.length===1){var t=arguments[0],i=t.size();if(i===0)return"()";var n=t.getDimension(),r=new StringBuffer;r.append("(");for(var u=0;u<i;u++){u>0&&r.append(" ");for(var d=0;d<n;d++)d>0&&r.append(","),r.append(StringUtil.toString(t.getOrdinate(u,d)))}return r.append(")"),r.toString()}},CoordinateSequences.ensureValidRing=function(t,i){var n=i.size();if(n===0)return i;if(n<=3)return CoordinateSequences.createClosedRing(t,i,4);var r=i.getOrdinate(0,CoordinateSequence.X)===i.getOrdinate(n-1,CoordinateSequence.X)&&i.getOrdinate(0,CoordinateSequence.Y)===i.getOrdinate(n-1,CoordinateSequence.Y);return r?i:CoordinateSequences.createClosedRing(t,i,n+1)},CoordinateSequences.createClosedRing=function(t,i,n){var r=t.create(n,i.getDimension()),u=i.size();CoordinateSequences.copy(i,0,r,0,u);for(var d=u;d<n;d++)CoordinateSequences.copy(i,0,r,d,1);return r};var LineString=function(e){function t(n,r){e.call(this,r),this._points=null,this.init(n)}t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t;var i={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Envelope:this._points.expandEnvelope(new Envelope)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var u=arguments[0],d=arguments[1];if(!this.isEquivalentClass(u))return!1;var c=u;if(this._points.size()!==c._points.size())return!1;for(var b=0;b<this._points.size();b++)if(!r.equal(r._points.getCoordinate(b),c._points.getCoordinate(b),d))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var r=this,u=0;u<Math.trunc(this._points.size()/2);u++){var d=r._points.size()-1-u;if(!r._points.getCoordinate(u).equals(r._points.getCoordinate(d)))return r._points.getCoordinate(u).compareTo(r._points.getCoordinate(d))>0&&CoordinateSequences.reverse(r._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Dimension.FALSE:0},t.prototype.isClosed=function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return CGAlgorithms.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var r=this._points.copy();CoordinateSequences.reverse(r);var u=this.getFactory().createLineString(r);return u},t.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){for(var u=arguments[0],d=u,c=0,b=0;c<this._points.size()&&b<d._points.size();){var S=r._points.getCoordinate(c).compareTo(d._points.getCoordinate(b));if(S!==0)return S;c++,b++}return c<this._points.size()?1:b<d._points.size()?-1:0}else if(arguments.length===2){var C=arguments[0],O=arguments[1],D=C;return O.compare(this._points,D._points)}},t.prototype.apply=function(){var r=this;if(hasInterface(arguments[0],CoordinateFilter))for(var u=arguments[0],d=0;d<this._points.size();d++)u.filter(r._points.getCoordinate(d));else if(hasInterface(arguments[0],CoordinateSequenceFilter)){var c=arguments[0];if(this._points.size()===0)return null;for(var b=0;b<this._points.size()&&(c.filter(r._points,b),!c.isDone());b++);c.isGeometryChanged()&&this.geometryChanged()}else if(hasInterface(arguments[0],GeometryFilter)){var S=arguments[0];S.filter(this)}else if(hasInterface(arguments[0],GeometryComponentFilter)){var C=arguments[0];C.filter(this)}},t.prototype.getBoundary=function(){return new BoundaryOp(this).getBoundary()},t.prototype.isEquivalentClass=function(r){return r instanceof t},t.prototype.clone=function(){var r=e.prototype.clone.call(this);return r._points=this._points.clone(),r},t.prototype.getCoordinateN=function(r){return this._points.getCoordinate(r)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return this._points.size()===0},t.prototype.init=function(r){if(r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),r.size()===1)throw new IllegalArgumentException("Invalid number of points in LineString (found "+r.size()+" - must be 0 or >= 2)");this._points=r},t.prototype.isCoordinate=function(r){for(var u=this,d=0;d<this._points.size();d++)if(u._points.getCoordinate(d).equals(r))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(r){return this.getFactory().createPoint(this._points.getCoordinate(r))},t.prototype.interfaces_=function(){return[Lineal]},t.prototype.getClass=function(){return t},i.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,i),t}(Geometry),Puntal=function(){};Puntal.prototype.interfaces_=function(){return[]},Puntal.prototype.getClass=function(){return Puntal};var Point=function(e){function t(n,r){e.call(this,r),this._coordinates=n||null,this.init(this._coordinates)}t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t;var i={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Envelope;var r=new Envelope;return r.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),r},t.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];return this.isEquivalentClass(r)?this.isEmpty()&&r.isEmpty()?!0:this.isEmpty()!==r.isEmpty()?!1:this.equal(r.getCoordinate(),this.getCoordinate(),u):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return Dimension.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(arguments.length===1){var r=arguments[0],u=r;return this.getCoordinate().compareTo(u.getCoordinate())}else if(arguments.length===2){var d=arguments[0],c=arguments[1],b=d;return c.compare(this._coordinates,b._coordinates)}},t.prototype.apply=function(){if(hasInterface(arguments[0],CoordinateFilter)){var r=arguments[0];if(this.isEmpty())return null;r.filter(this.getCoordinate())}else if(hasInterface(arguments[0],CoordinateSequenceFilter)){var u=arguments[0];if(this.isEmpty())return null;u.filter(this._coordinates,0),u.isGeometryChanged()&&this.geometryChanged()}else if(hasInterface(arguments[0],GeometryFilter)){var d=arguments[0];d.filter(this)}else if(hasInterface(arguments[0],GeometryComponentFilter)){var c=arguments[0];c.filter(this)}},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var r=e.prototype.clone.call(this);return r._coordinates=this._coordinates.clone(),r},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return this._coordinates.size()===0},t.prototype.init=function(r){r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),Assert.isTrue(r.size()<=1),this._coordinates=r},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[Puntal]},t.prototype.getClass=function(){return t},i.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(t,i),t}(Geometry),Polygonal=function(){};Polygonal.prototype.interfaces_=function(){return[]},Polygonal.prototype.getClass=function(){return Polygonal};var Polygon=function(e){function t(n,r,u){if(e.call(this,u),this._shell=null,this._holes=null,n===null&&(n=this.getFactory().createLinearRing()),r===null&&(r=[]),e.hasNullElements(r))throw new IllegalArgumentException("holes must not contain null elements");if(n.isEmpty()&&e.hasNonEmptyElements(r))throw new IllegalArgumentException("shell is empty but holes are not");this._shell=n,this._holes=r}t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t;var i={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){var r=this;if(this.isEmpty())return[];for(var u=new Array(this.getNumPoints()).fill(null),d=-1,c=this._shell.getCoordinates(),b=0;b<c.length;b++)d++,u[d]=c[b];for(var S=0;S<this._holes.length;S++)for(var C=r._holes[S].getCoordinates(),O=0;O<C.length;O++)d++,u[d]=C[O];return u},t.prototype.getArea=function(){var r=this,u=0;u+=Math.abs(CGAlgorithms.signedArea(this._shell.getCoordinateSequence()));for(var d=0;d<this._holes.length;d++)u-=Math.abs(CGAlgorithms.signedArea(r._holes[d].getCoordinateSequence()));return u},t.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var r=this._shell.getCoordinateSequence(),u=this.getEnvelopeInternal(),d=0;d<5;d++){var c=r.getX(d);if(!(c===u.getMinX()||c===u.getMaxX()))return!1;var b=r.getY(d);if(!(b===u.getMinY()||b===u.getMaxY()))return!1}for(var S=r.getX(0),C=r.getY(0),O=1;O<=4;O++){var D=r.getX(O),H=r.getY(O),K=D!==S,le=H!==C;if(K===le)return!1;S=D,C=H}return!0},t.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var u=arguments[0],d=arguments[1];if(!this.isEquivalentClass(u))return!1;var c=u,b=this._shell,S=c._shell;if(!b.equalsExact(S,d)||this._holes.length!==c._holes.length)return!1;for(var C=0;C<this._holes.length;C++)if(!r._holes[C].equalsExact(c._holes[C],d))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){var r=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var u=0;u<this._holes.length;u++)r.normalize(r._holes[u],!1);Arrays.sort(this._holes)}else if(arguments.length===2){var d=arguments[0],c=arguments[1];if(d.isEmpty())return null;var b=new Array(d.getCoordinates().length-1).fill(null);System.arraycopy(d.getCoordinates(),0,b,0,b.length);var S=CoordinateArrays.minCoordinate(d.getCoordinates());CoordinateArrays.scroll(b,S),System.arraycopy(b,0,d.getCoordinates(),0,b.length),d.getCoordinates()[b.length]=b[0],CGAlgorithms.isCCW(d.getCoordinates())===c&&CoordinateArrays.reverse(d.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var r=this,u=0;u+=this._shell.getLength();for(var d=0;d<this._holes.length;d++)u+=r._holes[d].getLength();return u},t.prototype.getNumPoints=function(){for(var r=this,u=this._shell.getNumPoints(),d=0;d<this._holes.length;d++)u+=r._holes[d].getNumPoints();return u},t.prototype.reverse=function(){var r=this,u=this.copy();u._shell=this._shell.copy().reverse(),u._holes=new Array(this._holes.length).fill(null);for(var d=0;d<this._holes.length;d++)u._holes[d]=r._holes[d].copy().reverse();return u},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){var u=arguments[0],d=this._shell,c=u._shell;return d.compareToSameClass(c)}else if(arguments.length===2){var b=arguments[0],S=arguments[1],C=b,O=this._shell,D=C._shell,H=O.compareToSameClass(D,S);if(H!==0)return H;for(var K=this.getNumInteriorRing(),le=C.getNumInteriorRing(),de=0;de<K&&de<le;){var fe=r.getInteriorRingN(de),be=C.getInteriorRingN(de),Ie=fe.compareToSameClass(be,S);if(Ie!==0)return Ie;de++}return de<K?1:de<le?-1:0}},t.prototype.apply=function(r){var u=this;if(hasInterface(r,CoordinateFilter)){this._shell.apply(r);for(var d=0;d<this._holes.length;d++)u._holes[d].apply(r)}else if(hasInterface(r,CoordinateSequenceFilter)){if(this._shell.apply(r),!r.isDone())for(var c=0;c<this._holes.length&&(u._holes[c].apply(r),!r.isDone());c++);r.isGeometryChanged()&&this.geometryChanged()}else if(hasInterface(r,GeometryFilter))r.filter(this);else if(hasInterface(r,GeometryComponentFilter)){r.filter(this),this._shell.apply(r);for(var b=0;b<this._holes.length;b++)u._holes[b].apply(r)}},t.prototype.getBoundary=function(){var r=this;if(this.isEmpty())return this.getFactory().createMultiLineString();var u=new Array(this._holes.length+1).fill(null);u[0]=this._shell;for(var d=0;d<this._holes.length;d++)u[d+1]=r._holes[d];return u.length<=1?this.getFactory().createLinearRing(u[0].getCoordinateSequence()):this.getFactory().createMultiLineString(u)},t.prototype.clone=function(){var r=this,u=e.prototype.clone.call(this);u._shell=this._shell.clone(),u._holes=new Array(this._holes.length).fill(null);for(var d=0;d<this._holes.length;d++)u._holes[d]=r._holes[d].clone();return u},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var r=this,u=this._shell.copy(),d=new Array(this._holes.length).fill(null),c=0;c<d.length;c++)d[c]=r._holes[c].copy();return new t(u,d,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(r){return this._holes[r]},t.prototype.interfaces_=function(){return[Polygonal]},t.prototype.getClass=function(){return t},i.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,i),t}(Geometry),MultiPoint=function(e){function t(){e.apply(this,arguments)}t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t;var i={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Geometry.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];return this.isEquivalentClass(r)?e.prototype.equalsExact.call(this,r,u):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){if(arguments.length===1){var r=arguments[0];return this._geometries[r].getCoordinate()}else return e.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return Dimension.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var r=this,u=new Array(this._geometries.length).fill(null),d=0;d<u.length;d++)u[d]=r._geometries[d].copy();return new t(u,this._factory)},t.prototype.interfaces_=function(){return[Puntal]},t.prototype.getClass=function(){return t},i.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(t,i),t}(GeometryCollection),LinearRing=function(e){function t(n,r){n instanceof Coordinate&&r instanceof GeometryFactory&&(n=r.getCoordinateSequenceFactory().create(n)),e.call(this,n,r),this.validateConstruction()}t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t;var i={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Geometry.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return Dimension.FALSE},t.prototype.isClosed=function(){return this.isEmpty()?!0:e.prototype.isClosed.call(this)},t.prototype.reverse=function(){var r=this._points.copy();CoordinateSequences.reverse(r);var u=this.getFactory().createLinearRing(r);return u},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new IllegalArgumentException("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new IllegalArgumentException("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},i.MINIMUM_VALID_SIZE.get=function(){return 4},i.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,i),t}(LineString),MultiPolygon=function(e){function t(){e.apply(this,arguments)}t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t;var i={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Geometry.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];return this.isEquivalentClass(r)?e.prototype.equalsExact.call(this,r,u):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var r=this,u=this._geometries.length,d=new Array(u).fill(null),c=0;c<this._geometries.length;c++)d[c]=r._geometries[c].reverse();return this.getFactory().createMultiPolygon(d)},t.prototype.getBoundary=function(){var r=this;if(this.isEmpty())return this.getFactory().createMultiLineString();for(var u=new ArrayList,d=0;d<this._geometries.length;d++)for(var c=r._geometries[d],b=c.getBoundary(),S=0;S<b.getNumGeometries();S++)u.add(b.getGeometryN(S));var C=new Array(u.size()).fill(null);return this.getFactory().createMultiLineString(u.toArray(C))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var r=this,u=new Array(this._geometries.length).fill(null),d=0;d<u.length;d++)u[d]=r._geometries[d].copy();return new t(u,this._factory)},t.prototype.interfaces_=function(){return[Polygonal]},t.prototype.getClass=function(){return t},i.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,i),t}(GeometryCollection),GeometryEditor=function(t){this._factory=t||null,this._isUserDataCopied=!1},staticAccessors$16={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};GeometryEditor.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},GeometryEditor.prototype.edit=function(t,i){if(t===null)return null;var n=this.editInternal(t,i);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},GeometryEditor.prototype.editInternal=function(t,i){return this._factory===null&&(this._factory=t.getFactory()),t instanceof GeometryCollection?this.editGeometryCollection(t,i):t instanceof Polygon?this.editPolygon(t,i):t instanceof Point?i.edit(t,this._factory):t instanceof LineString?i.edit(t,this._factory):(Assert.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},GeometryEditor.prototype.editGeometryCollection=function(t,i){for(var n=this,r=i.edit(t,this._factory),u=new ArrayList,d=0;d<r.getNumGeometries();d++){var c=n.edit(r.getGeometryN(d),i);c===null||c.isEmpty()||u.add(c)}return r.getClass()===MultiPoint?this._factory.createMultiPoint(u.toArray([])):r.getClass()===MultiLineString?this._factory.createMultiLineString(u.toArray([])):r.getClass()===MultiPolygon?this._factory.createMultiPolygon(u.toArray([])):this._factory.createGeometryCollection(u.toArray([]))},GeometryEditor.prototype.editPolygon=function(t,i){var n=this,r=i.edit(t,this._factory);if(r===null&&(r=this._factory.createPolygon(null)),r.isEmpty())return r;var u=this.edit(r.getExteriorRing(),i);if(u===null||u.isEmpty())return this._factory.createPolygon();for(var d=new ArrayList,c=0;c<r.getNumInteriorRing();c++){var b=n.edit(r.getInteriorRingN(c),i);b===null||b.isEmpty()||d.add(b)}return this._factory.createPolygon(u,d.toArray([]))},GeometryEditor.prototype.interfaces_=function(){return[]},GeometryEditor.prototype.getClass=function(){return GeometryEditor},GeometryEditor.GeometryEditorOperation=function(){},staticAccessors$16.NoOpGeometryOperation.get=function(){return NoOpGeometryOperation},staticAccessors$16.CoordinateOperation.get=function(){return CoordinateOperation},staticAccessors$16.CoordinateSequenceOperation.get=function(){return CoordinateSequenceOperation},Object.defineProperties(GeometryEditor,staticAccessors$16);var NoOpGeometryOperation=function(){};NoOpGeometryOperation.prototype.edit=function(t,i){return t},NoOpGeometryOperation.prototype.interfaces_=function(){return[GeometryEditor.GeometryEditorOperation]},NoOpGeometryOperation.prototype.getClass=function(){return NoOpGeometryOperation};var CoordinateOperation=function(){};CoordinateOperation.prototype.edit=function(t,i){var n=this.editCoordinates(t.getCoordinates(),t);return n===null?t:t instanceof LinearRing?i.createLinearRing(n):t instanceof LineString?i.createLineString(n):t instanceof Point?n.length>0?i.createPoint(n[0]):i.createPoint():t},CoordinateOperation.prototype.interfaces_=function(){return[GeometryEditor.GeometryEditorOperation]},CoordinateOperation.prototype.getClass=function(){return CoordinateOperation};var CoordinateSequenceOperation=function(){};CoordinateSequenceOperation.prototype.edit=function(t,i){return t instanceof LinearRing?i.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof LineString?i.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Point?i.createPoint(this.edit(t.getCoordinateSequence(),t)):t},CoordinateSequenceOperation.prototype.interfaces_=function(){return[GeometryEditor.GeometryEditorOperation]},CoordinateSequenceOperation.prototype.getClass=function(){return CoordinateSequenceOperation};var CoordinateArraySequence=function(){var t=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var i=arguments[0];this._coordinates=new Array(i).fill(null);for(var n=0;n<i;n++)t._coordinates[n]=new Coordinate}else if(hasInterface(arguments[0],CoordinateSequence)){var r=arguments[0];if(r===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._coordinates=new Array(r.size()).fill(null);for(var u=0;u<this._coordinates.length;u++)t._coordinates[u]=r.getCoordinateCopy(u)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var d=arguments[0],c=arguments[1];this._coordinates=d,this._dimension=c,d===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var b=arguments[0],S=arguments[1];this._coordinates=new Array(b).fill(null),this._dimension=S;for(var C=0;C<b;C++)t._coordinates[C]=new Coordinate}}},staticAccessors$18={serialVersionUID:{configurable:!0}};CoordinateArraySequence.prototype.setOrdinate=function(t,i,n){switch(i){case CoordinateSequence.X:this._coordinates[t].x=n;break;case CoordinateSequence.Y:this._coordinates[t].y=n;break;case CoordinateSequence.Z:this._coordinates[t].z=n;break;default:throw new IllegalArgumentException("invalid ordinateIndex")}},CoordinateArraySequence.prototype.size=function(){return this._coordinates.length},CoordinateArraySequence.prototype.getOrdinate=function(t,i){switch(i){case CoordinateSequence.X:return this._coordinates[t].x;case CoordinateSequence.Y:return this._coordinates[t].y;case CoordinateSequence.Z:return this._coordinates[t].z}return Double.NaN},CoordinateArraySequence.prototype.getCoordinate=function(){if(arguments.length===1){var t=arguments[0];return this._coordinates[t]}else if(arguments.length===2){var i=arguments[0],n=arguments[1];n.x=this._coordinates[i].x,n.y=this._coordinates[i].y,n.z=this._coordinates[i].z}},CoordinateArraySequence.prototype.getCoordinateCopy=function(t){return new Coordinate(this._coordinates[t])},CoordinateArraySequence.prototype.getDimension=function(){return this._dimension},CoordinateArraySequence.prototype.getX=function(t){return this._coordinates[t].x},CoordinateArraySequence.prototype.clone=function(){for(var t=this,i=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)i[n]=t._coordinates[n].clone();return new CoordinateArraySequence(i,this._dimension)},CoordinateArraySequence.prototype.expandEnvelope=function(t){for(var i=this,n=0;n<this._coordinates.length;n++)t.expandToInclude(i._coordinates[n]);return t},CoordinateArraySequence.prototype.copy=function(){for(var t=this,i=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)i[n]=t._coordinates[n].copy();return new CoordinateArraySequence(i,this._dimension)},CoordinateArraySequence.prototype.toString=function(){var t=this;if(this._coordinates.length>0){var i=new StringBuffer(17*this._coordinates.length);i.append("("),i.append(this._coordinates[0]);for(var n=1;n<this._coordinates.length;n++)i.append(", "),i.append(t._coordinates[n]);return i.append(")"),i.toString()}else return"()"},CoordinateArraySequence.prototype.getY=function(t){return this._coordinates[t].y},CoordinateArraySequence.prototype.toCoordinateArray=function(){return this._coordinates},CoordinateArraySequence.prototype.interfaces_=function(){return[CoordinateSequence,Serializable]},CoordinateArraySequence.prototype.getClass=function(){return CoordinateArraySequence},staticAccessors$18.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(CoordinateArraySequence,staticAccessors$18);var CoordinateArraySequenceFactory=function(){},staticAccessors$17={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};CoordinateArraySequenceFactory.prototype.readResolve=function(){return CoordinateArraySequenceFactory.instance()},CoordinateArraySequenceFactory.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new CoordinateArraySequence(t)}else if(hasInterface(arguments[0],CoordinateSequence)){var i=arguments[0];return new CoordinateArraySequence(i)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new CoordinateArraySequence(n):new CoordinateArraySequence(n,r)}},CoordinateArraySequenceFactory.prototype.interfaces_=function(){return[CoordinateSequenceFactory,Serializable]},CoordinateArraySequenceFactory.prototype.getClass=function(){return CoordinateArraySequenceFactory},CoordinateArraySequenceFactory.instance=function(){return CoordinateArraySequenceFactory.instanceObject},staticAccessors$17.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},staticAccessors$17.instanceObject.get=function(){return new CoordinateArraySequenceFactory},Object.defineProperties(CoordinateArraySequenceFactory,staticAccessors$17);var HashMap=function(e){function t(){e.call(this),this.map_=new Map}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(n){return this.map_.get(n)||null},t.prototype.put=function(n,r){return this.map_.set(n,r),r},t.prototype.values=function(){for(var n=new ArrayList,r=this.map_.values(),u=r.next();!u.done;)n.add(u.value),u=r.next();return n},t.prototype.entrySet=function(){var n=new HashSet;return this.map_.entries().forEach(function(r){return n.add(r)}),n},t.prototype.size=function(){return this.map_.size()},t}(Map$1),PrecisionModel=function e(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=e.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Type){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var i=arguments[0];this._modelType=e.FIXED,this.setScale(i)}else if(arguments[0]instanceof e){var n=arguments[0];this._modelType=n._modelType,this._scale=n._scale}}},staticAccessors$19={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};PrecisionModel.prototype.equals=function(t){if(!(t instanceof PrecisionModel))return!1;var i=t;return this._modelType===i._modelType&&this._scale===i._scale},PrecisionModel.prototype.compareTo=function(t){var i=t,n=this.getMaximumSignificantDigits(),r=i.getMaximumSignificantDigits();return new Integer(n).compareTo(new Integer(r))},PrecisionModel.prototype.getScale=function(){return this._scale},PrecisionModel.prototype.isFloating=function(){return this._modelType===PrecisionModel.FLOATING||this._modelType===PrecisionModel.FLOATING_SINGLE},PrecisionModel.prototype.getType=function(){return this._modelType},PrecisionModel.prototype.toString=function(){var t="UNKNOWN";return this._modelType===PrecisionModel.FLOATING?t="Floating":this._modelType===PrecisionModel.FLOATING_SINGLE?t="Floating-Single":this._modelType===PrecisionModel.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},PrecisionModel.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var t=arguments[0];if(Double.isNaN(t))return t;if(this._modelType===PrecisionModel.FLOATING_SINGLE){var i=t;return i}return this._modelType===PrecisionModel.FIXED?Math.round(t*this._scale)/this._scale:t}else if(arguments[0]instanceof Coordinate){var n=arguments[0];if(this._modelType===PrecisionModel.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}},PrecisionModel.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===PrecisionModel.FLOATING?t=16:this._modelType===PrecisionModel.FLOATING_SINGLE?t=6:this._modelType===PrecisionModel.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},PrecisionModel.prototype.setScale=function(t){this._scale=Math.abs(t)},PrecisionModel.prototype.interfaces_=function(){return[Serializable,Comparable]},PrecisionModel.prototype.getClass=function(){return PrecisionModel},PrecisionModel.mostPrecise=function(t,i){return t.compareTo(i)>=0?t:i},staticAccessors$19.serialVersionUID.get=function(){return 7777263578777804e3},staticAccessors$19.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(PrecisionModel,staticAccessors$19);var Type=function e(t){this._name=t||null,e.nameToTypeMap.put(t,this)},staticAccessors$1$1={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Type.prototype.readResolve=function(){return Type.nameToTypeMap.get(this._name)},Type.prototype.toString=function(){return this._name},Type.prototype.interfaces_=function(){return[Serializable]},Type.prototype.getClass=function(){return Type},staticAccessors$1$1.serialVersionUID.get=function(){return-552860263173159e4},staticAccessors$1$1.nameToTypeMap.get=function(){return new HashMap},Object.defineProperties(Type,staticAccessors$1$1),PrecisionModel.Type=Type,PrecisionModel.FIXED=new Type("FIXED"),PrecisionModel.FLOATING=new Type("FLOATING"),PrecisionModel.FLOATING_SINGLE=new Type("FLOATING SINGLE");var GeometryFactory=function e(){this._precisionModel=new PrecisionModel,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?hasInterface(arguments[0],CoordinateSequenceFactory)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof PrecisionModel&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},staticAccessors$2={serialVersionUID:{configurable:!0}};GeometryFactory.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new Coordinate(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new Coordinate(t.getMinX(),t.getMinY()),new Coordinate(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new Coordinate(t.getMinX(),t.getMinY()),new Coordinate(t.getMinX(),t.getMaxY()),new Coordinate(t.getMaxX(),t.getMaxY()),new Coordinate(t.getMaxX(),t.getMinY()),new Coordinate(t.getMinX(),t.getMinY())]),null)},GeometryFactory.prototype.createLineString=function(t){if(t){if(t instanceof Array)return new LineString(this.getCoordinateSequenceFactory().create(t),this);if(hasInterface(t,CoordinateSequence))return new LineString(t,this)}else return new LineString(this.getCoordinateSequenceFactory().create([]),this)},GeometryFactory.prototype.createMultiLineString=function(){if(arguments.length===0)return new MultiLineString(null,this);if(arguments.length===1){var t=arguments[0];return new MultiLineString(t,this)}},GeometryFactory.prototype.buildGeometry=function(t){for(var i=null,n=!1,r=!1,u=t.iterator();u.hasNext();){var d=u.next(),c=d.getClass();i===null&&(i=c),c!==i&&(n=!0),d.isGeometryCollectionOrDerived()&&(r=!0)}if(i===null)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(GeometryFactory.toGeometryArray(t));var b=t.iterator().next(),S=t.size()>1;if(S){if(b instanceof Polygon)return this.createMultiPolygon(GeometryFactory.toPolygonArray(t));if(b instanceof LineString)return this.createMultiLineString(GeometryFactory.toLineStringArray(t));if(b instanceof Point)return this.createMultiPoint(GeometryFactory.toPointArray(t));Assert.shouldNeverReachHere("Unhandled class: "+b.getClass().getName())}return b},GeometryFactory.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(t!==null?this.getCoordinateSequenceFactory().create(t):null)},GeometryFactory.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Coordinate){var t=arguments[0];return this.createPoint(t!==null?this.getCoordinateSequenceFactory().create([t]):null)}else if(hasInterface(arguments[0],CoordinateSequence)){var i=arguments[0];return new Point(i,this)}}},GeometryFactory.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},GeometryFactory.prototype.createPolygon=function(){if(arguments.length===0)return new Polygon(null,null,this);if(arguments.length===1){if(hasInterface(arguments[0],CoordinateSequence)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}else if(arguments[0]instanceof Array){var i=arguments[0];return this.createPolygon(this.createLinearRing(i))}else if(arguments[0]instanceof LinearRing){var n=arguments[0];return this.createPolygon(n,null)}}else if(arguments.length===2){var r=arguments[0],u=arguments[1];return new Polygon(r,u,this)}},GeometryFactory.prototype.getSRID=function(){return this._SRID},GeometryFactory.prototype.createGeometryCollection=function(){if(arguments.length===0)return new GeometryCollection(null,this);if(arguments.length===1){var t=arguments[0];return new GeometryCollection(t,this)}},GeometryFactory.prototype.createGeometry=function(t){var i=new GeometryEditor(this);return i.edit(t,{edit:function(){if(arguments.length===2){var n=arguments[0];return this._coordinateSequenceFactory.create(n)}}})},GeometryFactory.prototype.getPrecisionModel=function(){return this._precisionModel},GeometryFactory.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(t!==null?this.getCoordinateSequenceFactory().create(t):null)}else if(hasInterface(arguments[0],CoordinateSequence)){var i=arguments[0];return new LinearRing(i,this)}}},GeometryFactory.prototype.createMultiPolygon=function(){if(arguments.length===0)return new MultiPolygon(null,this);if(arguments.length===1){var t=arguments[0];return new MultiPolygon(t,this)}},GeometryFactory.prototype.createMultiPoint=function(){var t=this;if(arguments.length===0)return new MultiPoint(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var i=arguments[0];return new MultiPoint(i,this)}else if(arguments[0]instanceof Array){var n=arguments[0];return this.createMultiPoint(n!==null?this.getCoordinateSequenceFactory().create(n):null)}else if(hasInterface(arguments[0],CoordinateSequence)){var r=arguments[0];if(r===null)return this.createMultiPoint(new Array(0).fill(null));for(var u=new Array(r.size()).fill(null),d=0;d<r.size();d++){var c=t.getCoordinateSequenceFactory().create(1,r.getDimension());CoordinateSequences.copy(r,d,c,0,1),u[d]=t.createPoint(c)}return this.createMultiPoint(u)}}},GeometryFactory.prototype.interfaces_=function(){return[Serializable]},GeometryFactory.prototype.getClass=function(){return GeometryFactory},GeometryFactory.toMultiPolygonArray=function(t){var i=new Array(t.size()).fill(null);return t.toArray(i)},GeometryFactory.toGeometryArray=function(t){if(t===null)return null;var i=new Array(t.size()).fill(null);return t.toArray(i)},GeometryFactory.getDefaultCoordinateSequenceFactory=function(){return CoordinateArraySequenceFactory.instance()},GeometryFactory.toMultiLineStringArray=function(t){var i=new Array(t.size()).fill(null);return t.toArray(i)},GeometryFactory.toLineStringArray=function(t){var i=new Array(t.size()).fill(null);return t.toArray(i)},GeometryFactory.toMultiPointArray=function(t){var i=new Array(t.size()).fill(null);return t.toArray(i)},GeometryFactory.toLinearRingArray=function(t){var i=new Array(t.size()).fill(null);return t.toArray(i)},GeometryFactory.toPointArray=function(t){var i=new Array(t.size()).fill(null);return t.toArray(i)},GeometryFactory.toPolygonArray=function(t){var i=new Array(t.size()).fill(null);return t.toArray(i)},GeometryFactory.createPointFromInternalCoord=function(t,i){return i.getPrecisionModel().makePrecise(t),i.getFactory().createPoint(t)},staticAccessors$2.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(GeometryFactory,staticAccessors$2);var geometryTypes=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],GeoJSONParser=function(t){this.geometryFactory=t||new GeometryFactory};GeoJSONParser.prototype.read=function(t){var i;typeof t=="string"?i=JSON.parse(t):i=t;var n=i.type;if(!parse[n])throw new Error("Unknown GeoJSON type: "+i.type);return geometryTypes.indexOf(n)!==-1?parse[n].apply(this,[i.coordinates]):n==="GeometryCollection"?parse[n].apply(this,[i.geometries]):parse[n].apply(this,[i])},GeoJSONParser.prototype.write=function(t){var i=t.getGeometryType();if(!extract[i])throw new Error("Geometry is not supported");return extract[i].apply(this,[t])};var parse={Feature:function(e){var t={};for(var i in e)t[i]=e[i];if(e.geometry){var n=e.geometry.type;if(!parse[n])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=parse.bbox.apply(this,[e.bbox])),t},FeatureCollection:function(e){var t=this,i={};if(e.features){i.features=[];for(var n=0;n<e.features.length;++n)i.features.push(t.read(e.features[n]))}return e.bbox&&(i.bbox=this.parse.bbox.apply(this,[e.bbox])),i},coordinates:function(e){for(var t=[],i=0;i<e.length;++i){var n=e[i];t.push(new Coordinate(n[0],n[1]))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new Coordinate(e[0],e[1]),new Coordinate(e[2],e[1]),new Coordinate(e[2],e[3]),new Coordinate(e[0],e[3]),new Coordinate(e[0],e[1])])},Point:function(e){var t=new Coordinate(e[0],e[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=this,i=[],n=0;n<e.length;++n)i.push(parse.Point.apply(t,[e[n]]));return this.geometryFactory.createMultiPoint(i)},LineString:function(e){var t=parse.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=this,i=[],n=0;n<e.length;++n)i.push(parse.LineString.apply(t,[e[n]]));return this.geometryFactory.createMultiLineString(i)},Polygon:function(e){for(var t=this,i=parse.coordinates.apply(this,[e[0]]),n=this.geometryFactory.createLinearRing(i),r=[],u=1;u<e.length;++u){var d=e[u],c=parse.coordinates.apply(t,[d]),b=t.geometryFactory.createLinearRing(c);r.push(b)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(e){for(var t=this,i=[],n=0;n<e.length;++n){var r=e[n];i.push(parse.Polygon.apply(t,[r]))}return this.geometryFactory.createMultiPolygon(i)},GeometryCollection:function(e){for(var t=this,i=[],n=0;n<e.length;++n){var r=e[n];i.push(t.read(r))}return this.geometryFactory.createGeometryCollection(i)}},extract={coordinate:function(e){return[e.x,e.y]},Point:function(e){var t=extract.coordinate.apply(this,[e.getCoordinate()]);return{type:"Point",coordinates:t}},MultiPoint:function(e){for(var t=this,i=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],u=extract.Point.apply(t,[r]);i.push(u.coordinates)}return{type:"MultiPoint",coordinates:i}},LineString:function(e){for(var t=this,i=[],n=e.getCoordinates(),r=0;r<n.length;++r){var u=n[r];i.push(extract.coordinate.apply(t,[u]))}return{type:"LineString",coordinates:i}},MultiLineString:function(e){for(var t=this,i=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],u=extract.LineString.apply(t,[r]);i.push(u.coordinates)}return{type:"MultiLineString",coordinates:i}},Polygon:function(e){var t=this,i=[],n=extract.LineString.apply(this,[e._shell]);i.push(n.coordinates);for(var r=0;r<e._holes.length;++r){var u=e._holes[r],d=extract.LineString.apply(t,[u]);i.push(d.coordinates)}return{type:"Polygon",coordinates:i}},MultiPolygon:function(e){for(var t=this,i=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],u=extract.Polygon.apply(t,[r]);i.push(u.coordinates)}return{type:"MultiPolygon",coordinates:i}},GeometryCollection:function(e){for(var t=this,i=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],u=r.getGeometryType();i.push(extract[u].apply(t,[r]))}return{type:"GeometryCollection",geometries:i}}},GeoJSONReader=function(t){this.geometryFactory=t||new GeometryFactory,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new GeoJSONParser(this.geometryFactory)};GeoJSONReader.prototype.read=function(t){var i=this.parser.read(t);return this.precisionModel.getType()===PrecisionModel.FIXED&&this.reducePrecision(i),i},GeoJSONReader.prototype.reducePrecision=function(t){var i=this,n,r;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(n=0,r=t.points.length;n<r;n++)i.precisionModel.makePrecise(t.points[n]);else if(t.geometries)for(n=0,r=t.geometries.length;n<r;n++)i.reducePrecision(t.geometries[n])};var GeoJSONWriter=function(){this.parser=new GeoJSONParser(this.geometryFactory)};GeoJSONWriter.prototype.write=function(t){return this.parser.write(t)};var Position=function(){},staticAccessors$20={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Position.prototype.interfaces_=function(){return[]},Position.prototype.getClass=function(){return Position},Position.opposite=function(t){return t===Position.LEFT?Position.RIGHT:t===Position.RIGHT?Position.LEFT:t},staticAccessors$20.ON.get=function(){return 0},staticAccessors$20.LEFT.get=function(){return 1},staticAccessors$20.RIGHT.get=function(){return 2},Object.defineProperties(Position,staticAccessors$20);function EmptyStackException(e){this.message=e||""}EmptyStackException.prototype=new Error,EmptyStackException.prototype.name="EmptyStackException";function Stack(){this.array_=[]}Stack.prototype=new List,Stack.prototype.add=function(e){return this.array_.push(e),!0},Stack.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},Stack.prototype.push=function(e){return this.array_.push(e),e},Stack.prototype.pop=function(e){if(this.array_.length===0)throw new EmptyStackException;return this.array_.pop()},Stack.prototype.peek=function(){if(this.array_.length===0)throw new EmptyStackException;return this.array_[this.array_.length-1]},Stack.prototype.empty=function(){return this.array_.length===0},Stack.prototype.isEmpty=function(){return this.empty()},Stack.prototype.search=function(e){return this.array_.indexOf(e)},Stack.prototype.size=function(){return this.array_.length},Stack.prototype.toArray=function(){for(var e=this,t=[],i=0,n=this.array_.length;i<n;i++)t.push(e.array_[i]);return t};var RightmostEdgeFinder=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};RightmostEdgeFinder.prototype.getCoordinate=function(){return this._minCoord},RightmostEdgeFinder.prototype.getRightmostSide=function(t,i){var n=this.getRightmostSideOfSegment(t,i);return n<0&&(n=this.getRightmostSideOfSegment(t,i-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},RightmostEdgeFinder.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Assert.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var i=t[this._minIndex-1],n=t[this._minIndex+1],r=CGAlgorithms.computeOrientation(this._minCoord,n,i),u=!1;(i.y<this._minCoord.y&&n.y<this._minCoord.y&&r===CGAlgorithms.COUNTERCLOCKWISE||i.y>this._minCoord.y&&n.y>this._minCoord.y&&r===CGAlgorithms.CLOCKWISE)&&(u=!0),u&&(this._minIndex=this._minIndex-1)},RightmostEdgeFinder.prototype.getRightmostSideOfSegment=function(t,i){var n=t.getEdge(),r=n.getCoordinates();if(i<0||i+1>=r.length||r[i].y===r[i+1].y)return-1;var u=Position.LEFT;return r[i].y<r[i+1].y&&(u=Position.RIGHT),u},RightmostEdgeFinder.prototype.getEdge=function(){return this._orientedDe},RightmostEdgeFinder.prototype.checkForRightmostCoordinate=function(t){for(var i=this,n=t.getEdge().getCoordinates(),r=0;r<n.length-1;r++)(i._minCoord===null||n[r].x>i._minCoord.x)&&(i._minDe=t,i._minIndex=r,i._minCoord=n[r])},RightmostEdgeFinder.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode(),i=t.getEdges();this._minDe=i.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},RightmostEdgeFinder.prototype.findEdge=function(t){for(var i=this,n=t.iterator();n.hasNext();){var r=n.next();r.isForward()&&i.checkForRightmostCoordinate(r)}Assert.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe;var u=this.getRightmostSide(this._minDe,this._minIndex);u===Position.LEFT&&(this._orientedDe=this._minDe.getSym())},RightmostEdgeFinder.prototype.interfaces_=function(){return[]},RightmostEdgeFinder.prototype.getClass=function(){return RightmostEdgeFinder};var TopologyException=function(e){function t(i,n){e.call(this,t.msgWithCoord(i,n)),this.pt=n?new Coordinate(n):null,this.name="TopologyException"}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(n,r){return r?n:n+" [ "+r+" ]"},t}(RuntimeException),LinkedList=function(){this.array_=[]};LinkedList.prototype.addLast=function(t){this.array_.push(t)},LinkedList.prototype.removeFirst=function(){return this.array_.shift()},LinkedList.prototype.isEmpty=function(){return this.array_.length===0};var BufferSubgraph=function(){this._finder=null,this._dirEdgeList=new ArrayList,this._nodes=new ArrayList,this._rightMostCoord=null,this._env=null,this._finder=new RightmostEdgeFinder};BufferSubgraph.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var i=t.next();i.setVisited(!1)}},BufferSubgraph.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},BufferSubgraph.prototype.computeNodeDepth=function(t){for(var i=this,n=null,r=t.getEdges().iterator();r.hasNext();){var u=r.next();if(u.isVisited()||u.getSym().isVisited()){n=u;break}}if(n===null)throw new TopologyException("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(n);for(var d=t.getEdges().iterator();d.hasNext();){var c=d.next();c.setVisited(!0),i.copySymDepths(c)}},BufferSubgraph.prototype.computeDepth=function(t){this.clearVisitedEdges();var i=this._finder.getEdge();i.setEdgeDepths(Position.RIGHT,t),this.copySymDepths(i),this.computeDepths(i)},BufferSubgraph.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},BufferSubgraph.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var i=t.next();i.getDepth(Position.RIGHT)>=1&&i.getDepth(Position.LEFT)<=0&&!i.isInteriorAreaEdge()&&i.setInResult(!0)}},BufferSubgraph.prototype.computeDepths=function(t){var i=this,n=new HashSet,r=new LinkedList,u=t.getNode();for(r.addLast(u),n.add(u),t.setVisited(!0);!r.isEmpty();){var d=r.removeFirst();n.add(d),i.computeNodeDepth(d);for(var c=d.getEdges().iterator();c.hasNext();){var b=c.next(),S=b.getSym();if(!S.isVisited()){var C=S.getNode();n.contains(C)||(r.addLast(C),n.add(C))}}}},BufferSubgraph.prototype.compareTo=function(t){var i=t;return this._rightMostCoord.x<i._rightMostCoord.x?-1:this._rightMostCoord.x>i._rightMostCoord.x?1:0},BufferSubgraph.prototype.getEnvelope=function(){if(this._env===null){for(var t=new Envelope,i=this._dirEdgeList.iterator();i.hasNext();)for(var n=i.next(),r=n.getEdge().getCoordinates(),u=0;u<r.length-1;u++)t.expandToInclude(r[u]);this._env=t}return this._env},BufferSubgraph.prototype.addReachable=function(t){var i=this,n=new Stack;for(n.add(t);!n.empty();){var r=n.pop();i.add(r,n)}},BufferSubgraph.prototype.copySymDepths=function(t){var i=t.getSym();i.setDepth(Position.LEFT,t.getDepth(Position.RIGHT)),i.setDepth(Position.RIGHT,t.getDepth(Position.LEFT))},BufferSubgraph.prototype.add=function(t,i){var n=this;t.setVisited(!0),this._nodes.add(t);for(var r=t.getEdges().iterator();r.hasNext();){var u=r.next();n._dirEdgeList.add(u);var d=u.getSym(),c=d.getNode();c.isVisited()||i.push(c)}},BufferSubgraph.prototype.getNodes=function(){return this._nodes},BufferSubgraph.prototype.getDirectedEdges=function(){return this._dirEdgeList},BufferSubgraph.prototype.interfaces_=function(){return[Comparable]},BufferSubgraph.prototype.getClass=function(){return BufferSubgraph};var TopologyLocation=function e(){var t=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var i=arguments[0];this.init(i.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Position.ON]=n}else if(arguments[0]instanceof e){var r=arguments[0];if(this.init(r.location.length),r!==null)for(var u=0;u<this.location.length;u++)t.location[u]=r.location[u]}}else if(arguments.length===3){var d=arguments[0],c=arguments[1],b=arguments[2];this.init(3),this.location[Position.ON]=d,this.location[Position.LEFT]=c,this.location[Position.RIGHT]=b}};TopologyLocation.prototype.setAllLocations=function(t){for(var i=this,n=0;n<this.location.length;n++)i.location[n]=t},TopologyLocation.prototype.isNull=function(){for(var t=this,i=0;i<this.location.length;i++)if(t.location[i]!==Location.NONE)return!1;return!0},TopologyLocation.prototype.setAllLocationsIfNull=function(t){for(var i=this,n=0;n<this.location.length;n++)i.location[n]===Location.NONE&&(i.location[n]=t)},TopologyLocation.prototype.isLine=function(){return this.location.length===1},TopologyLocation.prototype.merge=function(t){var i=this;if(t.location.length>this.location.length){var n=new Array(3).fill(null);n[Position.ON]=this.location[Position.ON],n[Position.LEFT]=Location.NONE,n[Position.RIGHT]=Location.NONE,this.location=n}for(var r=0;r<this.location.length;r++)i.location[r]===Location.NONE&&r<t.location.length&&(i.location[r]=t.location[r])},TopologyLocation.prototype.getLocations=function(){return this.location},TopologyLocation.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Position.LEFT];this.location[Position.LEFT]=this.location[Position.RIGHT],this.location[Position.RIGHT]=t},TopologyLocation.prototype.toString=function(){var t=new StringBuffer;return this.location.length>1&&t.append(Location.toLocationSymbol(this.location[Position.LEFT])),t.append(Location.toLocationSymbol(this.location[Position.ON])),this.location.length>1&&t.append(Location.toLocationSymbol(this.location[Position.RIGHT])),t.toString()},TopologyLocation.prototype.setLocations=function(t,i,n){this.location[Position.ON]=t,this.location[Position.LEFT]=i,this.location[Position.RIGHT]=n},TopologyLocation.prototype.get=function(t){return t<this.location.length?this.location[t]:Location.NONE},TopologyLocation.prototype.isArea=function(){return this.location.length>1},TopologyLocation.prototype.isAnyNull=function(){for(var t=this,i=0;i<this.location.length;i++)if(t.location[i]===Location.NONE)return!0;return!1},TopologyLocation.prototype.setLocation=function(){if(arguments.length===1){var t=arguments[0];this.setLocation(Position.ON,t)}else if(arguments.length===2){var i=arguments[0],n=arguments[1];this.location[i]=n}},TopologyLocation.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(Location.NONE)},TopologyLocation.prototype.isEqualOnSide=function(t,i){return this.location[i]===t.location[i]},TopologyLocation.prototype.allPositionsEqual=function(t){for(var i=this,n=0;n<this.location.length;n++)if(i.location[n]!==t)return!1;return!0},TopologyLocation.prototype.interfaces_=function(){return[]},TopologyLocation.prototype.getClass=function(){return TopologyLocation};var Label=function e(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new TopologyLocation(t),this.elt[1]=new TopologyLocation(t)}else if(arguments[0]instanceof e){var i=arguments[0];this.elt[0]=new TopologyLocation(i.elt[0]),this.elt[1]=new TopologyLocation(i.elt[1])}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.elt[0]=new TopologyLocation(Location.NONE),this.elt[1]=new TopologyLocation(Location.NONE),this.elt[n].setLocation(r)}else if(arguments.length===3){var u=arguments[0],d=arguments[1],c=arguments[2];this.elt[0]=new TopologyLocation(u,d,c),this.elt[1]=new TopologyLocation(u,d,c)}else if(arguments.length===4){var b=arguments[0],S=arguments[1],C=arguments[2],O=arguments[3];this.elt[0]=new TopologyLocation(Location.NONE,Location.NONE,Location.NONE),this.elt[1]=new TopologyLocation(Location.NONE,Location.NONE,Location.NONE),this.elt[b].setLocations(S,C,O)}};Label.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Label.prototype.setAllLocations=function(t,i){this.elt[t].setAllLocations(i)},Label.prototype.isNull=function(t){return this.elt[t].isNull()},Label.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(arguments.length===2){var i=arguments[0],n=arguments[1];this.elt[i].setAllLocationsIfNull(n)}},Label.prototype.isLine=function(t){return this.elt[t].isLine()},Label.prototype.merge=function(t){for(var i=this,n=0;n<2;n++)i.elt[n]===null&&t.elt[n]!==null?i.elt[n]=new TopologyLocation(t.elt[n]):i.elt[n].merge(t.elt[n])},Label.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Label.prototype.getLocation=function(){if(arguments.length===1){var t=arguments[0];return this.elt[t].get(Position.ON)}else if(arguments.length===2){var i=arguments[0],n=arguments[1];return this.elt[i].get(n)}},Label.prototype.toString=function(){var t=new StringBuffer;return this.elt[0]!==null&&(t.append("A:"),t.append(this.elt[0].toString())),this.elt[1]!==null&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Label.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var t=arguments[0];return this.elt[t].isArea()}},Label.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Label.prototype.setLocation=function(){if(arguments.length===2){var t=arguments[0],i=arguments[1];this.elt[t].setLocation(Position.ON,i)}else if(arguments.length===3){var n=arguments[0],r=arguments[1],u=arguments[2];this.elt[n].setLocation(r,u)}},Label.prototype.isEqualOnSide=function(t,i){return this.elt[0].isEqualOnSide(t.elt[0],i)&&this.elt[1].isEqualOnSide(t.elt[1],i)},Label.prototype.allPositionsEqual=function(t,i){return this.elt[t].allPositionsEqual(i)},Label.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new TopologyLocation(this.elt[t].location[0]))},Label.prototype.interfaces_=function(){return[]},Label.prototype.getClass=function(){return Label},Label.toLineLabel=function(t){for(var i=new Label(Location.NONE),n=0;n<2;n++)i.setLocation(n,t.getLocation(n));return i};var EdgeRing=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new ArrayList,this._pts=new ArrayList,this._label=new Label(Location.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ArrayList,this._geometryFactory=null;var t=arguments[0],i=arguments[1];this._geometryFactory=i,this.computePoints(t),this.computeRing()};EdgeRing.prototype.computeRing=function(){var t=this;if(this._ring!==null)return null;for(var i=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)i[n]=t._pts.get(n);this._ring=this._geometryFactory.createLinearRing(i),this._isHole=CGAlgorithms.isCCW(this._ring.getCoordinates())},EdgeRing.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},EdgeRing.prototype.computePoints=function(t){var i=this;this._startDe=t;var n=t,r=!0;do{if(n===null)throw new TopologyException("Found null DirectedEdge");if(n.getEdgeRing()===i)throw new TopologyException("Directed Edge visited twice during ring-building at "+n.getCoordinate());i._edges.add(n);var u=n.getLabel();Assert.isTrue(u.isArea()),i.mergeLabel(u),i.addPoints(n.getEdge(),n.isForward(),r),r=!1,i.setEdgeRing(n,i),n=i.getNext(n)}while(n!==this._startDe)},EdgeRing.prototype.getLinearRing=function(){return this._ring},EdgeRing.prototype.getCoordinate=function(t){return this._pts.get(t)},EdgeRing.prototype.computeMaxNodeDegree=function(){var t=this;this._maxNodeDegree=0;var i=this._startDe;do{var n=i.getNode(),r=n.getEdges().getOutgoingDegree(t);r>t._maxNodeDegree&&(t._maxNodeDegree=r),i=t.getNext(i)}while(i!==this._startDe);this._maxNodeDegree*=2},EdgeRing.prototype.addPoints=function(t,i,n){var r=this,u=t.getCoordinates();if(i){var d=1;n&&(d=0);for(var c=d;c<u.length;c++)r._pts.add(u[c])}else{var b=u.length-2;n&&(b=u.length-1);for(var S=b;S>=0;S--)r._pts.add(u[S])}},EdgeRing.prototype.isHole=function(){return this._isHole},EdgeRing.prototype.setInResult=function(){var t=this._startDe;do t.getEdge().setInResult(!0),t=t.getNext();while(t!==this._startDe)},EdgeRing.prototype.containsPoint=function(t){var i=this.getLinearRing(),n=i.getEnvelopeInternal();if(!n.contains(t)||!CGAlgorithms.isPointInRing(t,i.getCoordinates()))return!1;for(var r=this._holes.iterator();r.hasNext();){var u=r.next();if(u.containsPoint(t))return!1}return!0},EdgeRing.prototype.addHole=function(t){this._holes.add(t)},EdgeRing.prototype.isShell=function(){return this._shell===null},EdgeRing.prototype.getLabel=function(){return this._label},EdgeRing.prototype.getEdges=function(){return this._edges},EdgeRing.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},EdgeRing.prototype.getShell=function(){return this._shell},EdgeRing.prototype.mergeLabel=function(){if(arguments.length===1){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(arguments.length===2){var i=arguments[0],n=arguments[1],r=i.getLocation(n,Position.RIGHT);if(r===Location.NONE)return null;if(this._label.getLocation(n)===Location.NONE)return this._label.setLocation(n,r),null}},EdgeRing.prototype.setShell=function(t){this._shell=t,t!==null&&t.addHole(this)},EdgeRing.prototype.toPolygon=function(t){for(var i=this,n=new Array(this._holes.size()).fill(null),r=0;r<this._holes.size();r++)n[r]=i._holes.get(r).getLinearRing();var u=t.createPolygon(this.getLinearRing(),n);return u},EdgeRing.prototype.interfaces_=function(){return[]},EdgeRing.prototype.getClass=function(){return EdgeRing};var MinimalEdgeRing=function(e){function t(){var i=arguments[0],n=arguments[1];e.call(this,i,n)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(n,r){n.setMinEdgeRing(r)},t.prototype.getNext=function(n){return n.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(EdgeRing),MaximalEdgeRing=function(e){function t(){var i=arguments[0],n=arguments[1];e.call(this,i,n)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var n=this,r=new ArrayList,u=this._startDe;do{if(u.getMinEdgeRing()===null){var d=new MinimalEdgeRing(u,n._geometryFactory);r.add(d)}u=u.getNext()}while(u!==this._startDe);return r},t.prototype.setEdgeRing=function(n,r){n.setEdgeRing(r)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var n=this,r=this._startDe;do{var u=r.getNode();u.getEdges().linkMinimalDirectedEdges(n),r=r.getNext()}while(r!==this._startDe)},t.prototype.getNext=function(n){return n.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(EdgeRing),GraphComponent=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._label=t}}};GraphComponent.prototype.setVisited=function(t){this._isVisited=t},GraphComponent.prototype.setInResult=function(t){this._isInResult=t},GraphComponent.prototype.isCovered=function(){return this._isCovered},GraphComponent.prototype.isCoveredSet=function(){return this._isCoveredSet},GraphComponent.prototype.setLabel=function(t){this._label=t},GraphComponent.prototype.getLabel=function(){return this._label},GraphComponent.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},GraphComponent.prototype.updateIM=function(t){Assert.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},GraphComponent.prototype.isInResult=function(){return this._isInResult},GraphComponent.prototype.isVisited=function(){return this._isVisited},GraphComponent.prototype.interfaces_=function(){return[]},GraphComponent.prototype.getClass=function(){return GraphComponent};var Node=function(e){function t(){e.call(this),this._coord=null,this._edges=null;var i=arguments[0],n=arguments[1];this._coord=i,this._edges=n,this._label=new Label(0,Location.NONE)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var n=this.getEdges().getEdges().iterator();n.hasNext();){var r=n.next();if(r.getEdge().isInResult())return!0}return!1},t.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(n){n.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(n){},t.prototype.computeMergedLocation=function(n,r){var u=Location.NONE;if(u=this._label.getLocation(r),!n.isNull(r)){var d=n.getLocation(r);u!==Location.BOUNDARY&&(u=d)}return u},t.prototype.setLabel=function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];this._label===null?this._label=new Label(n,r):this._label.setLocation(n,r)}else return e.prototype.setLabel.apply(this,arguments)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){var n=this;if(arguments[0]instanceof t){var r=arguments[0];this.mergeLabel(r._label)}else if(arguments[0]instanceof Label)for(var u=arguments[0],d=0;d<2;d++){var c=n.computeMergedLocation(u,d),b=n._label.getLocation(d);b===Location.NONE&&n._label.setLocation(d,c)}},t.prototype.add=function(n){this._edges.insert(n),n.setNode(this)},t.prototype.setLabelBoundary=function(n){if(this._label===null)return null;var r=Location.NONE;this._label!==null&&(r=this._label.getLocation(n));var u=null;switch(r){case Location.BOUNDARY:u=Location.INTERIOR;break;case Location.INTERIOR:u=Location.BOUNDARY;break;default:u=Location.BOUNDARY;break}this._label.setLocation(n,u)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(GraphComponent),NodeMap=function(){this.nodeMap=new TreeMap,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};NodeMap.prototype.find=function(t){return this.nodeMap.get(t)},NodeMap.prototype.addNode=function(){if(arguments[0]instanceof Coordinate){var t=arguments[0],i=this.nodeMap.get(t);return i===null&&(i=this.nodeFact.createNode(t),this.nodeMap.put(t,i)),i}else if(arguments[0]instanceof Node){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return r===null?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},NodeMap.prototype.print=function(t){for(var i=this.iterator();i.hasNext();){var n=i.next();n.print(t)}},NodeMap.prototype.iterator=function(){return this.nodeMap.values().iterator()},NodeMap.prototype.values=function(){return this.nodeMap.values()},NodeMap.prototype.getBoundaryNodes=function(t){for(var i=new ArrayList,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===Location.BOUNDARY&&i.add(r)}return i},NodeMap.prototype.add=function(t){var i=t.getCoordinate(),n=this.addNode(i);n.add(t)},NodeMap.prototype.interfaces_=function(){return[]},NodeMap.prototype.getClass=function(){return NodeMap};var Quadrant=function(){},staticAccessors$21={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Quadrant.prototype.interfaces_=function(){return[]},Quadrant.prototype.getClass=function(){return Quadrant},Quadrant.isNorthern=function(t){return t===Quadrant.NE||t===Quadrant.NW},Quadrant.isOpposite=function(t,i){if(t===i)return!1;var n=(t-i+4)%4;return n===2},Quadrant.commonHalfPlane=function(t,i){if(t===i)return t;var n=(t-i+4)%4;if(n===2)return-1;var r=t<i?t:i,u=t>i?t:i;return r===0&&u===3?3:r},Quadrant.isInHalfPlane=function(t,i){return i===Quadrant.SE?t===Quadrant.SE||t===Quadrant.SW:t===i||t===i+1},Quadrant.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],i=arguments[1];if(t===0&&i===0)throw new IllegalArgumentException("Cannot compute the quadrant for point ( "+t+", "+i+" )");return t>=0?i>=0?Quadrant.NE:Quadrant.SE:i>=0?Quadrant.NW:Quadrant.SW}else if(arguments[0]instanceof Coordinate&&arguments[1]instanceof Coordinate){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new IllegalArgumentException("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Quadrant.NE:Quadrant.SE:r.y>=n.y?Quadrant.NW:Quadrant.SW}},staticAccessors$21.NE.get=function(){return 0},staticAccessors$21.NW.get=function(){return 1},staticAccessors$21.SW.get=function(){return 2},staticAccessors$21.SE.get=function(){return 3},Object.defineProperties(Quadrant,staticAccessors$21);var EdgeEnd=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var t=arguments[0];this._edge=t}else if(arguments.length===3){var i=arguments[0],n=arguments[1],r=arguments[2],u=null;this._edge=i,this.init(n,r),this._label=u}else if(arguments.length===4){var d=arguments[0],c=arguments[1],b=arguments[2],S=arguments[3];this._edge=d,this.init(c,b),this._label=S}};EdgeEnd.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:CGAlgorithms.computeOrientation(t._p0,t._p1,this._p1)},EdgeEnd.prototype.getDy=function(){return this._dy},EdgeEnd.prototype.getCoordinate=function(){return this._p0},EdgeEnd.prototype.setNode=function(t){this._node=t},EdgeEnd.prototype.print=function(t){var i=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),u=n.substring(r+1);t.print("  "+u+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+i+"   "+this._label)},EdgeEnd.prototype.compareTo=function(t){var i=t;return this.compareDirection(i)},EdgeEnd.prototype.getDirectedCoordinate=function(){return this._p1},EdgeEnd.prototype.getDx=function(){return this._dx},EdgeEnd.prototype.getLabel=function(){return this._label},EdgeEnd.prototype.getEdge=function(){return this._edge},EdgeEnd.prototype.getQuadrant=function(){return this._quadrant},EdgeEnd.prototype.getNode=function(){return this._node},EdgeEnd.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),n=i.lastIndexOf("."),r=i.substring(n+1);return"  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},EdgeEnd.prototype.computeLabel=function(t){},EdgeEnd.prototype.init=function(t,i){this._p0=t,this._p1=i,this._dx=i.x-t.x,this._dy=i.y-t.y,this._quadrant=Quadrant.quadrant(this._dx,this._dy),Assert.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},EdgeEnd.prototype.interfaces_=function(){return[Comparable]},EdgeEnd.prototype.getClass=function(){return EdgeEnd};var DirectedEdge=function(e){function t(){var i=arguments[0],n=arguments[1];if(e.call(this,i),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(i.getCoordinate(0),i.getCoordinate(1));else{var r=i.getNumPoints()-1;this.init(i.getCoordinate(r),i.getCoordinate(r-1))}this.computeDirectedLabel()}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(n){return this._depth[n]},t.prototype.setVisited=function(n){this._isVisited=n},t.prototype.computeDirectedLabel=function(){this._label=new Label(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(n,r){if(this._depth[n]!==-999&&this._depth[n]!==r)throw new TopologyException("assigned depths do not match",this.getCoordinate());this._depth[n]=r},t.prototype.isInteriorAreaEdge=function(){for(var n=this,r=!0,u=0;u<2;u++)n._label.isArea(u)&&n._label.getLocation(u,Position.LEFT)===Location.INTERIOR&&n._label.getLocation(u,Position.RIGHT)===Location.INTERIOR||(r=!1);return r},t.prototype.setNextMin=function(n){this._nextMin=n},t.prototype.print=function(n){e.prototype.print.call(this,n),n.print(" "+this._depth[Position.LEFT]+"/"+this._depth[Position.RIGHT]),n.print(" ("+this.getDepthDelta()+")"),this._isInResult&&n.print(" inResult")},t.prototype.setMinEdgeRing=function(n){this._minEdgeRing=n},t.prototype.isLineEdge=function(){var n=this._label.isLine(0)||this._label.isLine(1),r=!this._label.isArea(0)||this._label.allPositionsEqual(0,Location.EXTERIOR),u=!this._label.isArea(1)||this._label.allPositionsEqual(1,Location.EXTERIOR);return n&&r&&u},t.prototype.setEdgeRing=function(n){this._edgeRing=n},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var n=this._edge.getDepthDelta();return this._isForward||(n=-n),n},t.prototype.setInResult=function(n){this._isInResult=n},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(n){this.print(n),n.print(" "),this._isForward?this._edge.print(n):this._edge.printReverse(n)},t.prototype.setSym=function(n){this._sym=n},t.prototype.setVisitedEdge=function(n){this.setVisited(n),this._sym.setVisited(n)},t.prototype.setEdgeDepths=function(n,r){var u=this.getEdge().getDepthDelta();this._isForward||(u=-u);var d=1;n===Position.LEFT&&(d=-1);var c=Position.opposite(n),b=u*d,S=r+b;this.setDepth(n,r),this.setDepth(c,S)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(n){this._next=n},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(n,r){return n===Location.EXTERIOR&&r===Location.INTERIOR?1:n===Location.INTERIOR&&r===Location.EXTERIOR?-1:0},t}(EdgeEnd),NodeFactory=function(){};NodeFactory.prototype.createNode=function(t){return new Node(t,null)},NodeFactory.prototype.interfaces_=function(){return[]},NodeFactory.prototype.getClass=function(){return NodeFactory};var PlanarGraph=function(){if(this._edges=new ArrayList,this._nodes=null,this._edgeEndList=new ArrayList,arguments.length===0)this._nodes=new NodeMap(new NodeFactory);else if(arguments.length===1){var t=arguments[0];this._nodes=new NodeMap(t)}};PlanarGraph.prototype.printEdges=function(t){var i=this;t.println("Edges:");for(var n=0;n<this._edges.size();n++){t.println("edge "+n+":");var r=i._edges.get(n);r.print(t),r.eiList.print(t)}},PlanarGraph.prototype.find=function(t){return this._nodes.find(t)},PlanarGraph.prototype.addNode=function(){if(arguments[0]instanceof Node){var t=arguments[0];return this._nodes.addNode(t)}else if(arguments[0]instanceof Coordinate){var i=arguments[0];return this._nodes.addNode(i)}},PlanarGraph.prototype.getNodeIterator=function(){return this._nodes.iterator()},PlanarGraph.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){var i=t.next();i.getEdges().linkResultDirectedEdges()}},PlanarGraph.prototype.debugPrintln=function(t){System.out.println(t)},PlanarGraph.prototype.isBoundaryNode=function(t,i){var n=this._nodes.find(i);if(n===null)return!1;var r=n.getLabel();return r!==null&&r.getLocation(t)===Location.BOUNDARY},PlanarGraph.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){var i=t.next();i.getEdges().linkAllDirectedEdges()}},PlanarGraph.prototype.matchInSameDirection=function(t,i,n,r){return t.equals(n)?CGAlgorithms.computeOrientation(t,i,r)===CGAlgorithms.COLLINEAR&&Quadrant.quadrant(t,i)===Quadrant.quadrant(n,r):!1},PlanarGraph.prototype.getEdgeEnds=function(){return this._edgeEndList},PlanarGraph.prototype.debugPrint=function(t){System.out.print(t)},PlanarGraph.prototype.getEdgeIterator=function(){return this._edges.iterator()},PlanarGraph.prototype.findEdgeInSameDirection=function(t,i){for(var n=this,r=0;r<this._edges.size();r++){var u=n._edges.get(r),d=u.getCoordinates();if(n.matchInSameDirection(t,i,d[0],d[1])||n.matchInSameDirection(t,i,d[d.length-1],d[d.length-2]))return u}return null},PlanarGraph.prototype.insertEdge=function(t){this._edges.add(t)},PlanarGraph.prototype.findEdgeEnd=function(t){for(var i=this.getEdgeEnds().iterator();i.hasNext();){var n=i.next();if(n.getEdge()===t)return n}return null},PlanarGraph.prototype.addEdges=function(t){for(var i=this,n=t.iterator();n.hasNext();){var r=n.next();i._edges.add(r);var u=new DirectedEdge(r,!0),d=new DirectedEdge(r,!1);u.setSym(d),d.setSym(u),i.add(u),i.add(d)}},PlanarGraph.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},PlanarGraph.prototype.getNodes=function(){return this._nodes.values()},PlanarGraph.prototype.findEdge=function(t,i){for(var n=this,r=0;r<this._edges.size();r++){var u=n._edges.get(r),d=u.getCoordinates();if(t.equals(d[0])&&i.equals(d[1]))return u}return null},PlanarGraph.prototype.interfaces_=function(){return[]},PlanarGraph.prototype.getClass=function(){return PlanarGraph},PlanarGraph.linkResultDirectedEdges=function(t){for(var i=t.iterator();i.hasNext();){var n=i.next();n.getEdges().linkResultDirectedEdges()}};var PolygonBuilder=function(){this._geometryFactory=null,this._shellList=new ArrayList;var t=arguments[0];this._geometryFactory=t};PolygonBuilder.prototype.sortShellsAndHoles=function(t,i,n){for(var r=t.iterator();r.hasNext();){var u=r.next();u.isHole()?n.add(u):i.add(u)}},PolygonBuilder.prototype.computePolygons=function(t){for(var i=this,n=new ArrayList,r=t.iterator();r.hasNext();){var u=r.next(),d=u.toPolygon(i._geometryFactory);n.add(d)}return n},PolygonBuilder.prototype.placeFreeHoles=function(t,i){for(var n=this,r=i.iterator();r.hasNext();){var u=r.next();if(u.getShell()===null){var d=n.findEdgeRingContaining(u,t);if(d===null)throw new TopologyException("unable to assign hole to a shell",u.getCoordinate(0));u.setShell(d)}}},PolygonBuilder.prototype.buildMinimalEdgeRings=function(t,i,n){for(var r=this,u=new ArrayList,d=t.iterator();d.hasNext();){var c=d.next();if(c.getMaxNodeDegree()>2){c.linkDirectedEdgesForMinimalEdgeRings();var b=c.buildMinimalRings(),S=r.findShell(b);S!==null?(r.placePolygonHoles(S,b),i.add(S)):n.addAll(b)}else u.add(c)}return u},PolygonBuilder.prototype.containsPoint=function(t){for(var i=this._shellList.iterator();i.hasNext();){var n=i.next();if(n.containsPoint(t))return!0}return!1},PolygonBuilder.prototype.buildMaximalEdgeRings=function(t){for(var i=this,n=new ArrayList,r=t.iterator();r.hasNext();){var u=r.next();if(u.isInResult()&&u.getLabel().isArea()&&u.getEdgeRing()===null){var d=new MaximalEdgeRing(u,i._geometryFactory);n.add(d),d.setInResult()}}return n},PolygonBuilder.prototype.placePolygonHoles=function(t,i){for(var n=i.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},PolygonBuilder.prototype.getPolygons=function(){var t=this.computePolygons(this._shellList);return t},PolygonBuilder.prototype.findEdgeRingContaining=function(t,i){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),u=n.getCoordinateN(0),d=null,c=null,b=i.iterator();b.hasNext();){var S=b.next(),C=S.getLinearRing(),O=C.getEnvelopeInternal();d!==null&&(c=d.getLinearRing().getEnvelopeInternal());var D=!1;O.contains(r)&&CGAlgorithms.isPointInRing(u,C.getCoordinates())&&(D=!0),D&&(d===null||c.contains(O))&&(d=S)}return d},PolygonBuilder.prototype.findShell=function(t){for(var i=0,n=null,r=t.iterator();r.hasNext();){var u=r.next();u.isHole()||(n=u,i++)}return Assert.isTrue(i<=1,"found two shells in MinimalEdgeRing list"),n},PolygonBuilder.prototype.add=function(){if(arguments.length===1){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(arguments.length===2){var i=arguments[0],n=arguments[1];PlanarGraph.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(i),u=new ArrayList,d=this.buildMinimalEdgeRings(r,this._shellList,u);this.sortShellsAndHoles(d,this._shellList,u),this.placeFreeHoles(this._shellList,u)}},PolygonBuilder.prototype.interfaces_=function(){return[]},PolygonBuilder.prototype.getClass=function(){return PolygonBuilder};var Boundable=function(){};Boundable.prototype.getBounds=function(){},Boundable.prototype.interfaces_=function(){return[]},Boundable.prototype.getClass=function(){return Boundable};var ItemBoundable=function(){this._bounds=null,this._item=null;var t=arguments[0],i=arguments[1];this._bounds=t,this._item=i};ItemBoundable.prototype.getItem=function(){return this._item},ItemBoundable.prototype.getBounds=function(){return this._bounds},ItemBoundable.prototype.interfaces_=function(){return[Boundable,Serializable]},ItemBoundable.prototype.getClass=function(){return ItemBoundable};var PriorityQueue=function(){this._size=null,this._items=null,this._size=0,this._items=new ArrayList,this._items.add(null)};PriorityQueue.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},PriorityQueue.prototype.size=function(){return this._size},PriorityQueue.prototype.reorder=function(t){for(var i=this,n=null,r=this._items.get(t);t*2<=this._size&&(n=t*2,n!==i._size&&i._items.get(n+1).compareTo(i._items.get(n))<0&&n++,i._items.get(n).compareTo(r)<0);t=n)i._items.set(t,i._items.get(n));this._items.set(t,r)},PriorityQueue.prototype.clear=function(){this._size=0,this._items.clear()},PriorityQueue.prototype.isEmpty=function(){return this._size===0},PriorityQueue.prototype.add=function(t){var i=this;this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)i._items.set(n,i._items.get(Math.trunc(n/2)));this._items.set(n,t)},PriorityQueue.prototype.interfaces_=function(){return[]},PriorityQueue.prototype.getClass=function(){return PriorityQueue};var ItemVisitor=function(){};ItemVisitor.prototype.visitItem=function(t){},ItemVisitor.prototype.interfaces_=function(){return[]},ItemVisitor.prototype.getClass=function(){return ItemVisitor};var SpatialIndex=function(){};SpatialIndex.prototype.insert=function(t,i){},SpatialIndex.prototype.remove=function(t,i){},SpatialIndex.prototype.query=function(){},SpatialIndex.prototype.interfaces_=function(){return[]},SpatialIndex.prototype.getClass=function(){return SpatialIndex};var AbstractNode=function(){if(this._childBoundables=new ArrayList,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._level=t}}},staticAccessors$22={serialVersionUID:{configurable:!0}};AbstractNode.prototype.getLevel=function(){return this._level},AbstractNode.prototype.size=function(){return this._childBoundables.size()},AbstractNode.prototype.getChildBoundables=function(){return this._childBoundables},AbstractNode.prototype.addChildBoundable=function(t){Assert.isTrue(this._bounds===null),this._childBoundables.add(t)},AbstractNode.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},AbstractNode.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},AbstractNode.prototype.interfaces_=function(){return[Boundable,Serializable]},AbstractNode.prototype.getClass=function(){return AbstractNode},staticAccessors$22.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(AbstractNode,staticAccessors$22);var Collections=function(){};Collections.reverseOrder=function(){return{compare:function(i,n){return n.compareTo(i)}}},Collections.min=function(t){return Collections.sort(t),t.get(0)},Collections.sort=function(t,i){var n=t.toArray();i?Arrays.sort(n,i):Arrays.sort(n);for(var r=t.iterator(),u=0,d=n.length;u<d;u++)r.next(),r.set(n[u])},Collections.singletonList=function(t){var i=new ArrayList;return i.add(t),i};var BoundablePair=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],i=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=i,this._itemDistance=n,this._distance=this.distance()};BoundablePair.prototype.expandToQueue=function(t,i){var n=BoundablePair.isComposite(this._boundable1),r=BoundablePair.isComposite(this._boundable2);if(n&&r)return BoundablePair.area(this._boundable1)>BoundablePair.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,i),null):(this.expand(this._boundable2,this._boundable1,t,i),null);if(n)return this.expand(this._boundable1,this._boundable2,t,i),null;if(r)return this.expand(this._boundable2,this._boundable1,t,i),null;throw new IllegalArgumentException("neither boundable is composite")},BoundablePair.prototype.isLeaves=function(){return!(BoundablePair.isComposite(this._boundable1)||BoundablePair.isComposite(this._boundable2))},BoundablePair.prototype.compareTo=function(t){var i=t;return this._distance<i._distance?-1:this._distance>i._distance?1:0},BoundablePair.prototype.expand=function(t,i,n,r){for(var u=this,d=t.getChildBoundables(),c=d.iterator();c.hasNext();){var b=c.next(),S=new BoundablePair(b,i,u._itemDistance);S.getDistance()<r&&n.add(S)}},BoundablePair.prototype.getBoundable=function(t){return t===0?this._boundable1:this._boundable2},BoundablePair.prototype.getDistance=function(){return this._distance},BoundablePair.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},BoundablePair.prototype.interfaces_=function(){return[Comparable]},BoundablePair.prototype.getClass=function(){return BoundablePair},BoundablePair.area=function(t){return t.getBounds().getArea()},BoundablePair.isComposite=function(t){return t instanceof AbstractNode};var AbstractSTRtree=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new ArrayList,this._nodeCapacity=null,arguments.length===0){var t=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(arguments.length===1){var i=arguments[0];Assert.isTrue(i>1,"Node capacity must be greater than 1"),this._nodeCapacity=i}},staticAccessors$23={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};AbstractSTRtree.prototype.getNodeCapacity=function(){return this._nodeCapacity},AbstractSTRtree.prototype.lastNode=function(t){return t.get(t.size()-1)},AbstractSTRtree.prototype.size=function(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var i=arguments[0],n=0,r=i.getChildBoundables().iterator();r.hasNext();){var u=r.next();u instanceof AbstractNode?n+=t.size(u):u instanceof ItemBoundable&&(n+=1)}return n}},AbstractSTRtree.prototype.removeItem=function(t,i){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var u=r.next();u instanceof ItemBoundable&&u.getItem()===i&&(n=u)}return n!==null?(t.getChildBoundables().remove(n),!0):!1},AbstractSTRtree.prototype.itemsTree=function(){var t=this;if(arguments.length===0){this.build();var i=this.itemsTree(this._root);return i===null?new ArrayList:i}else if(arguments.length===1){for(var n=arguments[0],r=new ArrayList,u=n.getChildBoundables().iterator();u.hasNext();){var d=u.next();if(d instanceof AbstractNode){var c=t.itemsTree(d);c!==null&&r.add(c)}else d instanceof ItemBoundable?r.add(d.getItem()):Assert.shouldNeverReachHere()}return r.size()<=0?null:r}},AbstractSTRtree.prototype.insert=function(t,i){Assert.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ItemBoundable(t,i))},AbstractSTRtree.prototype.boundablesAtLevel=function(){var t=this;if(arguments.length===1){var i=arguments[0],n=new ArrayList;return this.boundablesAtLevel(i,this._root,n),n}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2];if(Assert.isTrue(r>-2),u.getLevel()===r)return d.add(u),null;for(var c=u.getChildBoundables().iterator();c.hasNext();){var b=c.next();b instanceof AbstractNode?t.boundablesAtLevel(r,b,d):(Assert.isTrue(b instanceof ItemBoundable),r===-1&&d.add(b))}return null}},AbstractSTRtree.prototype.query=function(){var t=this;if(arguments.length===1){var i=arguments[0];this.build();var n=new ArrayList;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,n),n}else if(arguments.length===2){var r=arguments[0],u=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),r)&&this.query(r,this._root,u)}else if(arguments.length===3){if(hasInterface(arguments[2],ItemVisitor)&&arguments[0]instanceof Object&&arguments[1]instanceof AbstractNode)for(var d=arguments[0],c=arguments[1],b=arguments[2],S=c.getChildBoundables(),C=0;C<S.size();C++){var O=S.get(C);t.getIntersectsOp().intersects(O.getBounds(),d)&&(O instanceof AbstractNode?t.query(d,O,b):O instanceof ItemBoundable?b.visitItem(O.getItem()):Assert.shouldNeverReachHere())}else if(hasInterface(arguments[2],List)&&arguments[0]instanceof Object&&arguments[1]instanceof AbstractNode)for(var D=arguments[0],H=arguments[1],K=arguments[2],le=H.getChildBoundables(),de=0;de<le.size();de++){var fe=le.get(de);t.getIntersectsOp().intersects(fe.getBounds(),D)&&(fe instanceof AbstractNode?t.query(D,fe,K):fe instanceof ItemBoundable?K.add(fe.getItem()):Assert.shouldNeverReachHere())}}},AbstractSTRtree.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},AbstractSTRtree.prototype.getRoot=function(){return this.build(),this._root},AbstractSTRtree.prototype.remove=function(){var t=this;if(arguments.length===2){var i=arguments[0],n=arguments[1];return this.build(),this.getIntersectsOp().intersects(this._root.getBounds(),i)?this.remove(i,this._root,n):!1}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2],c=this.removeItem(u,d);if(c)return!0;for(var b=null,S=u.getChildBoundables().iterator();S.hasNext();){var C=S.next();if(t.getIntersectsOp().intersects(C.getBounds(),r)&&C instanceof AbstractNode&&(c=t.remove(r,C,d),c)){b=C;break}}return b!==null&&b.getChildBoundables().isEmpty()&&u.getChildBoundables().remove(b),c}},AbstractSTRtree.prototype.createHigherLevels=function(t,i){Assert.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,i+1);return n.size()===1?n.get(0):this.createHigherLevels(n,i+1)},AbstractSTRtree.prototype.depth=function(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var i=arguments[0],n=0,r=i.getChildBoundables().iterator();r.hasNext();){var u=r.next();if(u instanceof AbstractNode){var d=t.depth(u);d>n&&(n=d)}}return n+1}},AbstractSTRtree.prototype.createParentBoundables=function(t,i){var n=this;Assert.isTrue(!t.isEmpty());var r=new ArrayList;r.add(this.createNode(i));var u=new ArrayList(t);Collections.sort(u,this.getComparator());for(var d=u.iterator();d.hasNext();){var c=d.next();n.lastNode(r).getChildBoundables().size()===n.getNodeCapacity()&&r.add(n.createNode(i)),n.lastNode(r).addChildBoundable(c)}return r},AbstractSTRtree.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},AbstractSTRtree.prototype.interfaces_=function(){return[Serializable]},AbstractSTRtree.prototype.getClass=function(){return AbstractSTRtree},AbstractSTRtree.compareDoubles=function(t,i){return t>i?1:t<i?-1:0},staticAccessors$23.IntersectsOp.get=function(){return IntersectsOp},staticAccessors$23.serialVersionUID.get=function(){return-3886435814360241e3},staticAccessors$23.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(AbstractSTRtree,staticAccessors$23);var IntersectsOp=function(){},ItemDistance=function(){};ItemDistance.prototype.distance=function(t,i){},ItemDistance.prototype.interfaces_=function(){return[]},ItemDistance.prototype.getClass=function(){return ItemDistance};var STRtree=function(e){function t(n){n=n||t.DEFAULT_NODE_CAPACITY,e.call(this,n)}t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t;var i={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return t.prototype.createParentBoundablesFromVerticalSlices=function(r,u){var d=this;Assert.isTrue(r.length>0);for(var c=new ArrayList,b=0;b<r.length;b++)c.addAll(d.createParentBoundablesFromVerticalSlice(r[b],u));return c},t.prototype.createNode=function(r){return new STRtreeNode(r)},t.prototype.size=function(){return arguments.length===0?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},t.prototype.insert=function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];if(r.isNull())return null;e.prototype.insert.call(this,r,u)}else return e.prototype.insert.apply(this,arguments)},t.prototype.getIntersectsOp=function(){return t.intersectsOp},t.prototype.verticalSlices=function(r,u){for(var d=Math.trunc(Math.ceil(r.size()/u)),c=new Array(u).fill(null),b=r.iterator(),S=0;S<u;S++){c[S]=new ArrayList;for(var C=0;b.hasNext()&&C<d;){var O=b.next();c[S].add(O),C++}}return c},t.prototype.query=function(){if(arguments.length===1){var r=arguments[0];return e.prototype.query.call(this,r)}else if(arguments.length===2){var u=arguments[0],d=arguments[1];e.prototype.query.call(this,u,d)}else if(arguments.length===3){if(hasInterface(arguments[2],ItemVisitor)&&arguments[0]instanceof Object&&arguments[1]instanceof AbstractNode){var c=arguments[0],b=arguments[1],S=arguments[2];e.prototype.query.call(this,c,b,S)}else if(hasInterface(arguments[2],List)&&arguments[0]instanceof Object&&arguments[1]instanceof AbstractNode){var C=arguments[0],O=arguments[1],D=arguments[2];e.prototype.query.call(this,C,O,D)}}},t.prototype.getComparator=function(){return t.yComparator},t.prototype.createParentBoundablesFromVerticalSlice=function(r,u){return e.prototype.createParentBoundables.call(this,r,u)},t.prototype.remove=function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];return e.prototype.remove.call(this,r,u)}else return e.prototype.remove.apply(this,arguments)},t.prototype.depth=function(){return arguments.length===0?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},t.prototype.createParentBoundables=function(r,u){Assert.isTrue(!r.isEmpty());var d=Math.trunc(Math.ceil(r.size()/this.getNodeCapacity())),c=new ArrayList(r);Collections.sort(c,t.xComparator);var b=this.verticalSlices(c,Math.trunc(Math.ceil(Math.sqrt(d))));return this.createParentBoundablesFromVerticalSlices(b,u)},t.prototype.nearestNeighbour=function(){if(arguments.length===1){if(hasInterface(arguments[0],ItemDistance)){var r=arguments[0],u=new BoundablePair(this.getRoot(),this.getRoot(),r);return this.nearestNeighbour(u)}else if(arguments[0]instanceof BoundablePair){var d=arguments[0];return this.nearestNeighbour(d,Double.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof t&&hasInterface(arguments[1],ItemDistance)){var c=arguments[0],b=arguments[1],S=new BoundablePair(this.getRoot(),c.getRoot(),b);return this.nearestNeighbour(S)}else if(arguments[0]instanceof BoundablePair&&typeof arguments[1]=="number"){var C=arguments[0],O=arguments[1],D=O,H=null,K=new PriorityQueue;for(K.add(C);!K.isEmpty()&&D>0;){var le=K.poll(),de=le.getDistance();if(de>=D)break;le.isLeaves()?(D=de,H=le):le.expandToQueue(K,D)}return[H.getBoundable(0).getItem(),H.getBoundable(1).getItem()]}}else if(arguments.length===3){var fe=arguments[0],be=arguments[1],Ie=arguments[2],De=new ItemBoundable(fe,be),Ze=new BoundablePair(this.getRoot(),De,Ie);return this.nearestNeighbour(Ze)[0]}},t.prototype.interfaces_=function(){return[SpatialIndex,Serializable]},t.prototype.getClass=function(){return t},t.centreX=function(r){return t.avg(r.getMinX(),r.getMaxX())},t.avg=function(r,u){return(r+u)/2},t.centreY=function(r){return t.avg(r.getMinY(),r.getMaxY())},i.STRtreeNode.get=function(){return STRtreeNode},i.serialVersionUID.get=function(){return 0x39920f7d5f261e0},i.xComparator.get=function(){return{interfaces_:function(){return[Comparator]},compare:function(n,r){return e.compareDoubles(t.centreX(n.getBounds()),t.centreX(r.getBounds()))}}},i.yComparator.get=function(){return{interfaces_:function(){return[Comparator]},compare:function(n,r){return e.compareDoubles(t.centreY(n.getBounds()),t.centreY(r.getBounds()))}}},i.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(n,r){return n.intersects(r)}}},i.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(t,i),t}(AbstractSTRtree),STRtreeNode=function(e){function t(){var i=arguments[0];e.call(this,i)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var n=null,r=this.getChildBoundables().iterator();r.hasNext();){var u=r.next();n===null?n=new Envelope(u.getBounds()):n.expandToInclude(u.getBounds())}return n},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(AbstractNode),SegmentPointComparator=function(){};SegmentPointComparator.prototype.interfaces_=function(){return[]},SegmentPointComparator.prototype.getClass=function(){return SegmentPointComparator},SegmentPointComparator.relativeSign=function(t,i){return t<i?-1:t>i?1:0},SegmentPointComparator.compare=function(t,i,n){if(i.equals2D(n))return 0;var r=SegmentPointComparator.relativeSign(i.x,n.x),u=SegmentPointComparator.relativeSign(i.y,n.y);switch(t){case 0:return SegmentPointComparator.compareValue(r,u);case 1:return SegmentPointComparator.compareValue(u,r);case 2:return SegmentPointComparator.compareValue(u,-r);case 3:return SegmentPointComparator.compareValue(-r,u);case 4:return SegmentPointComparator.compareValue(-r,-u);case 5:return SegmentPointComparator.compareValue(-u,-r);case 6:return SegmentPointComparator.compareValue(-u,r);case 7:return SegmentPointComparator.compareValue(r,-u)}return Assert.shouldNeverReachHere("invalid octant value"),0},SegmentPointComparator.compareValue=function(t,i){return t<0?-1:t>0?1:i<0?-1:i>0?1:0};var SegmentNode=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],i=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new Coordinate(i),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!i.equals2D(t.getCoordinate(n))};SegmentNode.prototype.getCoordinate=function(){return this.coord},SegmentNode.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},SegmentNode.prototype.compareTo=function(t){var i=t;return this.segmentIndex<i.segmentIndex?-1:this.segmentIndex>i.segmentIndex?1:this.coord.equals2D(i.coord)?0:SegmentPointComparator.compare(this._segmentOctant,this.coord,i.coord)},SegmentNode.prototype.isEndPoint=function(t){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===t},SegmentNode.prototype.isInterior=function(){return this._isInterior},SegmentNode.prototype.interfaces_=function(){return[Comparable]},SegmentNode.prototype.getClass=function(){return SegmentNode};var SegmentNodeList=function(){this._nodeMap=new TreeMap,this._edge=null;var t=arguments[0];this._edge=t};SegmentNodeList.prototype.getSplitCoordinates=function(){var t=this,i=new CoordinateList;this.addEndpoints();for(var n=this.iterator(),r=n.next();n.hasNext();){var u=n.next();t.addEdgeCoordinates(r,u,i),r=u}return i.toCoordinateArray()},SegmentNodeList.prototype.addCollapsedNodes=function(){var t=this,i=new ArrayList;this.findCollapsesFromInsertedNodes(i),this.findCollapsesFromExistingVertices(i);for(var n=i.iterator();n.hasNext();){var r=n.next().intValue();t.add(t._edge.getCoordinate(r),r)}},SegmentNodeList.prototype.print=function(t){t.println("Intersections:");for(var i=this.iterator();i.hasNext();){var n=i.next();n.print(t)}},SegmentNodeList.prototype.findCollapsesFromExistingVertices=function(t){for(var i=this,n=0;n<this._edge.size()-2;n++){var r=i._edge.getCoordinate(n),u=i._edge.getCoordinate(n+2);r.equals2D(u)&&t.add(new Integer(n+1))}},SegmentNodeList.prototype.addEdgeCoordinates=function(t,i,n){var r=this,u=this._edge.getCoordinate(i.segmentIndex),d=i.isInterior()||!i.coord.equals2D(u);n.add(new Coordinate(t.coord),!1);for(var c=t.segmentIndex+1;c<=i.segmentIndex;c++)n.add(r._edge.getCoordinate(c));d&&n.add(new Coordinate(i.coord))},SegmentNodeList.prototype.iterator=function(){return this._nodeMap.values().iterator()},SegmentNodeList.prototype.addSplitEdges=function(t){var i=this;this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),r=n.next();n.hasNext();){var u=n.next(),d=i.createSplitEdge(r,u);t.add(d),r=u}},SegmentNodeList.prototype.findCollapseIndex=function(t,i,n){if(!t.coord.equals2D(i.coord))return!1;var r=i.segmentIndex-t.segmentIndex;return i.isInterior()||r--,r===1?(n[0]=t.segmentIndex+1,!0):!1},SegmentNodeList.prototype.findCollapsesFromInsertedNodes=function(t){for(var i=this,n=new Array(1).fill(null),r=this.iterator(),u=r.next();r.hasNext();){var d=r.next(),c=i.findCollapseIndex(u,d,n);c&&t.add(new Integer(n[0])),u=d}},SegmentNodeList.prototype.getEdge=function(){return this._edge},SegmentNodeList.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},SegmentNodeList.prototype.createSplitEdge=function(t,i){var n=this,r=i.segmentIndex-t.segmentIndex+2,u=this._edge.getCoordinate(i.segmentIndex),d=i.isInterior()||!i.coord.equals2D(u);d||r--;var c=new Array(r).fill(null),b=0;c[b++]=new Coordinate(t.coord);for(var S=t.segmentIndex+1;S<=i.segmentIndex;S++)c[b++]=n._edge.getCoordinate(S);return d&&(c[b]=new Coordinate(i.coord)),new NodedSegmentString(c,this._edge.getData())},SegmentNodeList.prototype.add=function(t,i){var n=new SegmentNode(this._edge,t,i,this._edge.getSegmentOctant(i)),r=this._nodeMap.get(n);return r!==null?(Assert.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},SegmentNodeList.prototype.checkSplitEdgesCorrectness=function(t){var i=this._edge.getCoordinates(),n=t.get(0),r=n.getCoordinate(0);if(!r.equals2D(i[0]))throw new RuntimeException("bad split edge start point at "+r);var u=t.get(t.size()-1),d=u.getCoordinates(),c=d[d.length-1];if(!c.equals2D(i[i.length-1]))throw new RuntimeException("bad split edge end point at "+c)},SegmentNodeList.prototype.interfaces_=function(){return[]},SegmentNodeList.prototype.getClass=function(){return SegmentNodeList};var Octant=function(){};Octant.prototype.interfaces_=function(){return[]},Octant.prototype.getClass=function(){return Octant},Octant.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],i=arguments[1];if(t===0&&i===0)throw new IllegalArgumentException("Cannot compute the octant for point ( "+t+", "+i+" )");var n=Math.abs(t),r=Math.abs(i);return t>=0?i>=0?n>=r?0:1:n>=r?7:6:i>=0?n>=r?3:2:n>=r?4:5}else if(arguments[0]instanceof Coordinate&&arguments[1]instanceof Coordinate){var u=arguments[0],d=arguments[1],c=d.x-u.x,b=d.y-u.y;if(c===0&&b===0)throw new IllegalArgumentException("Cannot compute the octant for two identical points "+u);return Octant.octant(c,b)}};var SegmentString=function(){};SegmentString.prototype.getCoordinates=function(){},SegmentString.prototype.size=function(){},SegmentString.prototype.getCoordinate=function(t){},SegmentString.prototype.isClosed=function(){},SegmentString.prototype.setData=function(t){},SegmentString.prototype.getData=function(){},SegmentString.prototype.interfaces_=function(){return[]},SegmentString.prototype.getClass=function(){return SegmentString};var NodableSegmentString=function(){};NodableSegmentString.prototype.addIntersection=function(t,i){},NodableSegmentString.prototype.interfaces_=function(){return[SegmentString]},NodableSegmentString.prototype.getClass=function(){return NodableSegmentString};var NodedSegmentString=function(){this._nodeList=new SegmentNodeList(this),this._pts=null,this._data=null;var t=arguments[0],i=arguments[1];this._pts=t,this._data=i};NodedSegmentString.prototype.getCoordinates=function(){return this._pts},NodedSegmentString.prototype.size=function(){return this._pts.length},NodedSegmentString.prototype.getCoordinate=function(t){return this._pts[t]},NodedSegmentString.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},NodedSegmentString.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},NodedSegmentString.prototype.setData=function(t){this._data=t},NodedSegmentString.prototype.safeOctant=function(t,i){return t.equals2D(i)?0:Octant.octant(t,i)},NodedSegmentString.prototype.getData=function(){return this._data},NodedSegmentString.prototype.addIntersection=function(){if(arguments.length===2){var t=arguments[0],i=arguments[1];this.addIntersectionNode(t,i)}else if(arguments.length===4){var n=arguments[0],r=arguments[1],u=arguments[3],d=new Coordinate(n.getIntersection(u));this.addIntersection(d,r)}},NodedSegmentString.prototype.toString=function(){return WKTWriter.toLineString(new CoordinateArraySequence(this._pts))},NodedSegmentString.prototype.getNodeList=function(){return this._nodeList},NodedSegmentString.prototype.addIntersectionNode=function(t,i){var n=i,r=n+1;if(r<this._pts.length){var u=this._pts[r];t.equals2D(u)&&(n=r)}var d=this._nodeList.add(t,n);return d},NodedSegmentString.prototype.addIntersections=function(t,i,n){for(var r=this,u=0;u<t.getIntersectionNum();u++)r.addIntersection(t,i,n,u)},NodedSegmentString.prototype.interfaces_=function(){return[NodableSegmentString]},NodedSegmentString.prototype.getClass=function(){return NodedSegmentString},NodedSegmentString.getNodedSubstrings=function(){if(arguments.length===1){var t=arguments[0],i=new ArrayList;return NodedSegmentString.getNodedSubstrings(t,i),i}else if(arguments.length===2)for(var n=arguments[0],r=arguments[1],u=n.iterator();u.hasNext();){var d=u.next();d.getNodeList().addSplitEdges(r)}};var LineSegment=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new Coordinate,this.p1=new Coordinate;else if(arguments.length===1){var t=arguments[0];this.p0=new Coordinate(t.p0),this.p1=new Coordinate(t.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var i=arguments[0],n=arguments[1],r=arguments[2],u=arguments[3];this.p0=new Coordinate(i,n),this.p1=new Coordinate(r,u)}},staticAccessors$24={serialVersionUID:{configurable:!0}};LineSegment.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},LineSegment.prototype.orientationIndex=function(){if(arguments[0]instanceof LineSegment){var t=arguments[0],i=CGAlgorithms.orientationIndex(this.p0,this.p1,t.p0),n=CGAlgorithms.orientationIndex(this.p0,this.p1,t.p1);return i>=0&&n>=0||i<=0&&n<=0?Math.max(i,n):0}else if(arguments[0]instanceof Coordinate){var r=arguments[0];return CGAlgorithms.orientationIndex(this.p0,this.p1,r)}},LineSegment.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},LineSegment.prototype.isVertical=function(){return this.p0.x===this.p1.x},LineSegment.prototype.equals=function(t){if(!(t instanceof LineSegment))return!1;var i=t;return this.p0.equals(i.p0)&&this.p1.equals(i.p1)},LineSegment.prototype.intersection=function(t){var i=new RobustLineIntersector;return i.computeIntersection(this.p0,this.p1,t.p0,t.p1),i.hasIntersection()?i.getIntersection(0):null},LineSegment.prototype.project=function(){if(arguments[0]instanceof Coordinate){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new Coordinate(t);var i=this.projectionFactor(t),n=new Coordinate;return n.x=this.p0.x+i*(this.p1.x-this.p0.x),n.y=this.p0.y+i*(this.p1.y-this.p0.y),n}else if(arguments[0]instanceof LineSegment){var r=arguments[0],u=this.projectionFactor(r.p0),d=this.projectionFactor(r.p1);if(u>=1&&d>=1||u<=0&&d<=0)return null;var c=this.project(r.p0);u<0&&(c=this.p0),u>1&&(c=this.p1);var b=this.project(r.p1);return d<0&&(b=this.p0),d>1&&(b=this.p1),new LineSegment(c,b)}},LineSegment.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},LineSegment.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},LineSegment.prototype.getCoordinate=function(t){return t===0?this.p0:this.p1},LineSegment.prototype.distancePerpendicular=function(t){return CGAlgorithms.distancePointLinePerpendicular(t,this.p0,this.p1)},LineSegment.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},LineSegment.prototype.midPoint=function(){return LineSegment.midPoint(this.p0,this.p1)},LineSegment.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var i=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=i*i+n*n;if(r<=0)return Double.NaN;var u=((t.x-this.p0.x)*i+(t.y-this.p0.y)*n)/r;return u},LineSegment.prototype.closestPoints=function(t){var i=this.intersection(t);if(i!==null)return[i,i];var n=new Array(2).fill(null),r=Double.MAX_VALUE,u=null,d=this.closestPoint(t.p0);r=d.distance(t.p0),n[0]=d,n[1]=t.p0;var c=this.closestPoint(t.p1);u=c.distance(t.p1),u<r&&(r=u,n[0]=c,n[1]=t.p1);var b=t.closestPoint(this.p0);u=b.distance(this.p0),u<r&&(r=u,n[0]=this.p0,n[1]=b);var S=t.closestPoint(this.p1);return u=S.distance(this.p1),u<r&&(r=u,n[0]=this.p1,n[1]=S),n},LineSegment.prototype.closestPoint=function(t){var i=this.projectionFactor(t);if(i>0&&i<1)return this.project(t);var n=this.p0.distance(t),r=this.p1.distance(t);return n<r?this.p0:this.p1},LineSegment.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},LineSegment.prototype.getLength=function(){return this.p0.distance(this.p1)},LineSegment.prototype.compareTo=function(t){var i=t,n=this.p0.compareTo(i.p0);return n!==0?n:this.p1.compareTo(i.p1)},LineSegment.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},LineSegment.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},LineSegment.prototype.lineIntersection=function(t){try{var i=HCoordinate.intersection(this.p0,this.p1,t.p0,t.p1);return i}catch(n){if(!(n instanceof NotRepresentableException))throw n}finally{}return null},LineSegment.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},LineSegment.prototype.pointAlongOffset=function(t,i){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),u=this.p1.x-this.p0.x,d=this.p1.y-this.p0.y,c=Math.sqrt(u*u+d*d),b=0,S=0;if(i!==0){if(c<=0)throw new Error("Cannot compute offset from zero-length line segment");b=i*u/c,S=i*d/c}var C=n-S,O=r+b,D=new Coordinate(C,O);return D},LineSegment.prototype.setCoordinates=function(){if(arguments.length===1){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(arguments.length===2){var i=arguments[0],n=arguments[1];this.p0.x=i.x,this.p0.y=i.y,this.p1.x=n.x,this.p1.y=n.y}},LineSegment.prototype.segmentFraction=function(t){var i=this.projectionFactor(t);return i<0?i=0:(i>1||Double.isNaN(i))&&(i=1),i},LineSegment.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},LineSegment.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},LineSegment.prototype.distance=function(){if(arguments[0]instanceof LineSegment){var t=arguments[0];return CGAlgorithms.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}else if(arguments[0]instanceof Coordinate){var i=arguments[0];return CGAlgorithms.distancePointLine(i,this.p0,this.p1)}},LineSegment.prototype.pointAlong=function(t){var i=new Coordinate;return i.x=this.p0.x+t*(this.p1.x-this.p0.x),i.y=this.p0.y+t*(this.p1.y-this.p0.y),i},LineSegment.prototype.hashCode=function(){var t=Double.doubleToLongBits(this.p0.x);t^=Double.doubleToLongBits(this.p0.y)*31;var i=Math.trunc(t)^Math.trunc(t>>32),n=Double.doubleToLongBits(this.p1.x);n^=Double.doubleToLongBits(this.p1.y)*31;var r=Math.trunc(n)^Math.trunc(n>>32);return i^r},LineSegment.prototype.interfaces_=function(){return[Comparable,Serializable]},LineSegment.prototype.getClass=function(){return LineSegment},LineSegment.midPoint=function(t,i){return new Coordinate((t.x+i.x)/2,(t.y+i.y)/2)},staticAccessors$24.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(LineSegment,staticAccessors$24);var MonotoneChainOverlapAction=function(){this.tempEnv1=new Envelope,this.tempEnv2=new Envelope,this._overlapSeg1=new LineSegment,this._overlapSeg2=new LineSegment};MonotoneChainOverlapAction.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var t=arguments[0],i=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(i,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},MonotoneChainOverlapAction.prototype.interfaces_=function(){return[]},MonotoneChainOverlapAction.prototype.getClass=function(){return MonotoneChainOverlapAction};var MonotoneChain=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],i=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=i,this._end=n,this._context=r};MonotoneChain.prototype.getLineSegment=function(t,i){i.p0=this._pts[t],i.p1=this._pts[t+1]},MonotoneChain.prototype.computeSelect=function(t,i,n,r){var u=this._pts[i],d=this._pts[n];if(r.tempEnv1.init(u,d),n-i===1)return r.select(this,i),null;if(!t.intersects(r.tempEnv1))return null;var c=Math.trunc((i+n)/2);i<c&&this.computeSelect(t,i,c,r),c<n&&this.computeSelect(t,c,n,r)},MonotoneChain.prototype.getCoordinates=function(){for(var t=this,i=new Array(this._end-this._start+1).fill(null),n=0,r=this._start;r<=this._end;r++)i[n++]=t._pts[r];return i},MonotoneChain.prototype.computeOverlaps=function(t,i){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,i)},MonotoneChain.prototype.setId=function(t){this._id=t},MonotoneChain.prototype.select=function(t,i){this.computeSelect(t,this._start,this._end,i)},MonotoneChain.prototype.getEnvelope=function(){if(this._env===null){var t=this._pts[this._start],i=this._pts[this._end];this._env=new Envelope(t,i)}return this._env},MonotoneChain.prototype.getEndIndex=function(){return this._end},MonotoneChain.prototype.getStartIndex=function(){return this._start},MonotoneChain.prototype.getContext=function(){return this._context},MonotoneChain.prototype.getId=function(){return this._id},MonotoneChain.prototype.computeOverlapsInternal=function(t,i,n,r,u,d){var c=this._pts[t],b=this._pts[i],S=n._pts[r],C=n._pts[u];if(i-t===1&&u-r===1)return d.overlap(this,t,n,r),null;if(d.tempEnv1.init(c,b),d.tempEnv2.init(S,C),!d.tempEnv1.intersects(d.tempEnv2))return null;var O=Math.trunc((t+i)/2),D=Math.trunc((r+u)/2);t<O&&(r<D&&this.computeOverlapsInternal(t,O,n,r,D,d),D<u&&this.computeOverlapsInternal(t,O,n,D,u,d)),O<i&&(r<D&&this.computeOverlapsInternal(O,i,n,r,D,d),D<u&&this.computeOverlapsInternal(O,i,n,D,u,d))},MonotoneChain.prototype.interfaces_=function(){return[]},MonotoneChain.prototype.getClass=function(){return MonotoneChain};var MonotoneChainBuilder=function(){};MonotoneChainBuilder.prototype.interfaces_=function(){return[]},MonotoneChainBuilder.prototype.getClass=function(){return MonotoneChainBuilder},MonotoneChainBuilder.getChainStartIndices=function(t){var i=0,n=new ArrayList;n.add(new Integer(i));do{var r=MonotoneChainBuilder.findChainEnd(t,i);n.add(new Integer(r)),i=r}while(i<t.length-1);var u=MonotoneChainBuilder.toIntArray(n);return u},MonotoneChainBuilder.findChainEnd=function(t,i){for(var n=i;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Quadrant.quadrant(t[n],t[n+1]),u=i+1;u<t.length;){if(!t[u-1].equals2D(t[u])){var d=Quadrant.quadrant(t[u-1],t[u]);if(d!==r)break}u++}return u-1},MonotoneChainBuilder.getChains=function(){if(arguments.length===1){var t=arguments[0];return MonotoneChainBuilder.getChains(t,null)}else if(arguments.length===2){for(var i=arguments[0],n=arguments[1],r=new ArrayList,u=MonotoneChainBuilder.getChainStartIndices(i),d=0;d<u.length-1;d++){var c=new MonotoneChain(i,u[d],u[d+1],n);r.add(c)}return r}},MonotoneChainBuilder.toIntArray=function(t){for(var i=new Array(t.size()).fill(null),n=0;n<i.length;n++)i[n]=t.get(n).intValue();return i};var Noder=function(){};Noder.prototype.computeNodes=function(t){},Noder.prototype.getNodedSubstrings=function(){},Noder.prototype.interfaces_=function(){return[]},Noder.prototype.getClass=function(){return Noder};var SinglePassNoder=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setSegmentIntersector(t)}}};SinglePassNoder.prototype.setSegmentIntersector=function(t){this._segInt=t},SinglePassNoder.prototype.interfaces_=function(){return[Noder]},SinglePassNoder.prototype.getClass=function(){return SinglePassNoder};var MCIndexNoder=function(e){function t(n){n?e.call(this,n):e.call(this),this._monoChains=new ArrayList,this._index=new STRtree,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t;var i={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return NodedSegmentString.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(r){for(var u=this,d=MonotoneChainBuilder.getChains(r.getCoordinates(),r),c=d.iterator();c.hasNext();){var b=c.next();b.setId(u._idCounter++),u._index.insert(b.getEnvelope(),b),u._monoChains.add(b)}},t.prototype.computeNodes=function(r){var u=this;this._nodedSegStrings=r;for(var d=r.iterator();d.hasNext();)u.add(d.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var r=this,u=new SegmentOverlapAction(this._segInt),d=this._monoChains.iterator();d.hasNext();)for(var c=d.next(),b=r._index.query(c.getEnvelope()),S=b.iterator();S.hasNext();){var C=S.next();if(C.getId()>c.getId()&&(c.computeOverlaps(C,u),r._nOverlaps++),r._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},i.SegmentOverlapAction.get=function(){return SegmentOverlapAction},Object.defineProperties(t,i),t}(SinglePassNoder),SegmentOverlapAction=function(e){function t(){e.call(this),this._si=null;var i=arguments[0];this._si=i}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(arguments.length===4){var n=arguments[0],r=arguments[1],u=arguments[2],d=arguments[3],c=n.getContext(),b=u.getContext();this._si.processIntersections(c,r,b,d)}else return e.prototype.overlap.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(MonotoneChainOverlapAction),BufferParameters=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setQuadrantSegments(t)}else if(arguments.length===2){var i=arguments[0],n=arguments[1];this.setQuadrantSegments(i),this.setEndCapStyle(n)}else if(arguments.length===4){var r=arguments[0],u=arguments[1],d=arguments[2],c=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(u),this.setJoinStyle(d),this.setMitreLimit(c)}}},staticAccessors$25={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};BufferParameters.prototype.getEndCapStyle=function(){return this._endCapStyle},BufferParameters.prototype.isSingleSided=function(){return this._isSingleSided},BufferParameters.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,this._quadrantSegments===0&&(this._joinStyle=BufferParameters.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=BufferParameters.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==BufferParameters.JOIN_ROUND&&(this._quadrantSegments=BufferParameters.DEFAULT_QUADRANT_SEGMENTS)},BufferParameters.prototype.getJoinStyle=function(){return this._joinStyle},BufferParameters.prototype.setJoinStyle=function(t){this._joinStyle=t},BufferParameters.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},BufferParameters.prototype.getSimplifyFactor=function(){return this._simplifyFactor},BufferParameters.prototype.getQuadrantSegments=function(){return this._quadrantSegments},BufferParameters.prototype.setEndCapStyle=function(t){this._endCapStyle=t},BufferParameters.prototype.getMitreLimit=function(){return this._mitreLimit},BufferParameters.prototype.setMitreLimit=function(t){this._mitreLimit=t},BufferParameters.prototype.setSingleSided=function(t){this._isSingleSided=t},BufferParameters.prototype.interfaces_=function(){return[]},BufferParameters.prototype.getClass=function(){return BufferParameters},BufferParameters.bufferDistanceError=function(t){var i=Math.PI/2/t;return 1-Math.cos(i/2)},staticAccessors$25.CAP_ROUND.get=function(){return 1},staticAccessors$25.CAP_FLAT.get=function(){return 2},staticAccessors$25.CAP_SQUARE.get=function(){return 3},staticAccessors$25.JOIN_ROUND.get=function(){return 1},staticAccessors$25.JOIN_MITRE.get=function(){return 2},staticAccessors$25.JOIN_BEVEL.get=function(){return 3},staticAccessors$25.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},staticAccessors$25.DEFAULT_MITRE_LIMIT.get=function(){return 5},staticAccessors$25.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(BufferParameters,staticAccessors$25);var BufferInputLineSimplifier=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=CGAlgorithms.COUNTERCLOCKWISE,this._inputLine=t||null},staticAccessors$26={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};BufferInputLineSimplifier.prototype.isDeletable=function(t,i,n,r){var u=this._inputLine[t],d=this._inputLine[i],c=this._inputLine[n];return!this.isConcave(u,d,c)||!this.isShallow(u,d,c,r)?!1:this.isShallowSampled(u,d,t,n,r)},BufferInputLineSimplifier.prototype.deleteShallowConcavities=function(){for(var t=this,i=1,n=this.findNextNonDeletedIndex(i),r=this.findNextNonDeletedIndex(n),u=!1;r<this._inputLine.length;){var d=!1;t.isDeletable(i,n,r,t._distanceTol)&&(t._isDeleted[n]=BufferInputLineSimplifier.DELETE,d=!0,u=!0),d?i=r:i=n,n=t.findNextNonDeletedIndex(i),r=t.findNextNonDeletedIndex(n)}return u},BufferInputLineSimplifier.prototype.isShallowConcavity=function(t,i,n,r){var u=CGAlgorithms.computeOrientation(t,i,n),d=u===this._angleOrientation;if(!d)return!1;var c=CGAlgorithms.distancePointLine(i,t,n);return c<r},BufferInputLineSimplifier.prototype.isShallowSampled=function(t,i,n,r,u){var d=this,c=Math.trunc((r-n)/BufferInputLineSimplifier.NUM_PTS_TO_CHECK);c<=0&&(c=1);for(var b=n;b<r;b+=c)if(!d.isShallow(t,i,d._inputLine[b],u))return!1;return!0},BufferInputLineSimplifier.prototype.isConcave=function(t,i,n){var r=CGAlgorithms.computeOrientation(t,i,n),u=r===this._angleOrientation;return u},BufferInputLineSimplifier.prototype.simplify=function(t){var i=this;this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=CGAlgorithms.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var n=!1;do n=i.deleteShallowConcavities();while(n);return this.collapseLine()},BufferInputLineSimplifier.prototype.findNextNonDeletedIndex=function(t){for(var i=t+1;i<this._inputLine.length&&this._isDeleted[i]===BufferInputLineSimplifier.DELETE;)i++;return i},BufferInputLineSimplifier.prototype.isShallow=function(t,i,n,r){var u=CGAlgorithms.distancePointLine(i,t,n);return u<r},BufferInputLineSimplifier.prototype.collapseLine=function(){for(var t=this,i=new CoordinateList,n=0;n<this._inputLine.length;n++)t._isDeleted[n]!==BufferInputLineSimplifier.DELETE&&i.add(t._inputLine[n]);return i.toCoordinateArray()},BufferInputLineSimplifier.prototype.interfaces_=function(){return[]},BufferInputLineSimplifier.prototype.getClass=function(){return BufferInputLineSimplifier},BufferInputLineSimplifier.simplify=function(t,i){var n=new BufferInputLineSimplifier(t);return n.simplify(i)},staticAccessors$26.INIT.get=function(){return 0},staticAccessors$26.DELETE.get=function(){return 1},staticAccessors$26.KEEP.get=function(){return 1},staticAccessors$26.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(BufferInputLineSimplifier,staticAccessors$26);var OffsetSegmentString=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ArrayList},staticAccessors$28={COORDINATE_ARRAY_TYPE:{configurable:!0}};OffsetSegmentString.prototype.getCoordinates=function(){var t=this._ptList.toArray(OffsetSegmentString.COORDINATE_ARRAY_TYPE);return t},OffsetSegmentString.prototype.setPrecisionModel=function(t){this._precisionModel=t},OffsetSegmentString.prototype.addPt=function(t){var i=new Coordinate(t);if(this._precisionModel.makePrecise(i),this.isRedundant(i))return null;this._ptList.add(i)},OffsetSegmentString.prototype.revere=function(){},OffsetSegmentString.prototype.addPts=function(t,i){var n=this;if(i)for(var r=0;r<t.length;r++)n.addPt(t[r]);else for(var u=t.length-1;u>=0;u--)n.addPt(t[u])},OffsetSegmentString.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var i=this._ptList.get(this._ptList.size()-1),n=t.distance(i);return n<this._minimimVertexDistance},OffsetSegmentString.prototype.toString=function(){var t=new GeometryFactory,i=t.createLineString(this.getCoordinates());return i.toString()},OffsetSegmentString.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new Coordinate(this._ptList.get(0)),i=this._ptList.get(this._ptList.size()-1);if(t.equals(i))return null;this._ptList.add(t)},OffsetSegmentString.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},OffsetSegmentString.prototype.interfaces_=function(){return[]},OffsetSegmentString.prototype.getClass=function(){return OffsetSegmentString},staticAccessors$28.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(OffsetSegmentString,staticAccessors$28);var Angle=function(){},staticAccessors$29={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Angle.prototype.interfaces_=function(){return[]},Angle.prototype.getClass=function(){return Angle},Angle.toDegrees=function(t){return t*180/Math.PI},Angle.normalize=function(t){for(;t>Math.PI;)t-=Angle.PI_TIMES_2;for(;t<=-Math.PI;)t+=Angle.PI_TIMES_2;return t},Angle.angle=function(){if(arguments.length===1){var t=arguments[0];return Math.atan2(t.y,t.x)}else if(arguments.length===2){var i=arguments[0],n=arguments[1],r=n.x-i.x,u=n.y-i.y;return Math.atan2(u,r)}},Angle.isAcute=function(t,i,n){var r=t.x-i.x,u=t.y-i.y,d=n.x-i.x,c=n.y-i.y,b=r*d+u*c;return b>0},Angle.isObtuse=function(t,i,n){var r=t.x-i.x,u=t.y-i.y,d=n.x-i.x,c=n.y-i.y,b=r*d+u*c;return b<0},Angle.interiorAngle=function(t,i,n){var r=Angle.angle(i,t),u=Angle.angle(i,n);return Math.abs(u-r)},Angle.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Angle.PI_TIMES_2;t>=Angle.PI_TIMES_2&&(t=0)}else{for(;t>=Angle.PI_TIMES_2;)t-=Angle.PI_TIMES_2;t<0&&(t=0)}return t},Angle.angleBetween=function(t,i,n){var r=Angle.angle(i,t),u=Angle.angle(i,n);return Angle.diff(r,u)},Angle.diff=function(t,i){var n=null;return t<i?n=i-t:n=t-i,n>Math.PI&&(n=2*Math.PI-n),n},Angle.toRadians=function(t){return t*Math.PI/180},Angle.getTurn=function(t,i){var n=Math.sin(i-t);return n>0?Angle.COUNTERCLOCKWISE:n<0?Angle.CLOCKWISE:Angle.NONE},Angle.angleBetweenOriented=function(t,i,n){var r=Angle.angle(i,t),u=Angle.angle(i,n),d=u-r;return d<=-Math.PI?d+Angle.PI_TIMES_2:d>Math.PI?d-Angle.PI_TIMES_2:d},staticAccessors$29.PI_TIMES_2.get=function(){return 2*Math.PI},staticAccessors$29.PI_OVER_2.get=function(){return Math.PI/2},staticAccessors$29.PI_OVER_4.get=function(){return Math.PI/4},staticAccessors$29.COUNTERCLOCKWISE.get=function(){return CGAlgorithms.COUNTERCLOCKWISE},staticAccessors$29.CLOCKWISE.get=function(){return CGAlgorithms.CLOCKWISE},staticAccessors$29.NONE.get=function(){return CGAlgorithms.COLLINEAR},Object.defineProperties(Angle,staticAccessors$29);var OffsetSegmentGenerator=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new LineSegment,this._seg1=new LineSegment,this._offset0=new LineSegment,this._offset1=new LineSegment,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],i=arguments[1],n=arguments[2];this._precisionModel=t,this._bufParams=i,this._li=new RobustLineIntersector,this._filletAngleQuantum=Math.PI/2/i.getQuadrantSegments(),i.getQuadrantSegments()>=8&&i.getJoinStyle()===BufferParameters.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)},staticAccessors$27={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};OffsetSegmentGenerator.prototype.addNextSegment=function(t,i){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=CGAlgorithms.computeOrientation(this._s0,this._s1,this._s2),r=n===CGAlgorithms.CLOCKWISE&&this._side===Position.LEFT||n===CGAlgorithms.COUNTERCLOCKWISE&&this._side===Position.RIGHT;n===0?this.addCollinear(i):r?this.addOutsideTurn(n,i):this.addInsideTurn(n,i)},OffsetSegmentGenerator.prototype.addLineEndCap=function(t,i){var n=new LineSegment(t,i),r=new LineSegment;this.computeOffsetSegment(n,Position.LEFT,this._distance,r);var u=new LineSegment;this.computeOffsetSegment(n,Position.RIGHT,this._distance,u);var d=i.x-t.x,c=i.y-t.y,b=Math.atan2(c,d);switch(this._bufParams.getEndCapStyle()){case BufferParameters.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(i,b+Math.PI/2,b-Math.PI/2,CGAlgorithms.CLOCKWISE,this._distance),this._segList.addPt(u.p1);break;case BufferParameters.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(u.p1);break;case BufferParameters.CAP_SQUARE:var S=new Coordinate;S.x=Math.abs(this._distance)*Math.cos(b),S.y=Math.abs(this._distance)*Math.sin(b);var C=new Coordinate(r.p1.x+S.x,r.p1.y+S.y),O=new Coordinate(u.p1.x+S.x,u.p1.y+S.y);this._segList.addPt(C),this._segList.addPt(O);break}},OffsetSegmentGenerator.prototype.getCoordinates=function(){var t=this._segList.getCoordinates();return t},OffsetSegmentGenerator.prototype.addMitreJoin=function(t,i,n,r){var u=!0,d=null;try{d=HCoordinate.intersection(i.p0,i.p1,n.p0,n.p1);var c=r<=0?1:d.distance(t)/Math.abs(r);c>this._bufParams.getMitreLimit()&&(u=!1)}catch(b){if(b instanceof NotRepresentableException)d=new Coordinate(0,0),u=!1;else throw b}finally{}u?this._segList.addPt(d):this.addLimitedMitreJoin(i,n,r,this._bufParams.getMitreLimit())},OffsetSegmentGenerator.prototype.addFilletCorner=function(t,i,n,r,u){var d=i.x-t.x,c=i.y-t.y,b=Math.atan2(c,d),S=n.x-t.x,C=n.y-t.y,O=Math.atan2(C,S);r===CGAlgorithms.CLOCKWISE?b<=O&&(b+=2*Math.PI):b>=O&&(b-=2*Math.PI),this._segList.addPt(i),this.addFilletArc(t,b,O,r,u),this._segList.addPt(n)},OffsetSegmentGenerator.prototype.addOutsideTurn=function(t,i){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*OffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===BufferParameters.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===BufferParameters.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(i&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},OffsetSegmentGenerator.prototype.createSquare=function(t){this._segList.addPt(new Coordinate(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new Coordinate(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new Coordinate(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new Coordinate(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},OffsetSegmentGenerator.prototype.addSegments=function(t,i){this._segList.addPts(t,i)},OffsetSegmentGenerator.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},OffsetSegmentGenerator.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},OffsetSegmentGenerator.prototype.initSideSegments=function(t,i,n){this._s1=t,this._s2=i,this._side=n,this._seg1.setCoordinates(t,i),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},OffsetSegmentGenerator.prototype.addLimitedMitreJoin=function(t,i,n,r){var u=this._seg0.p1,d=Angle.angle(u,this._seg0.p0),c=Angle.angleBetweenOriented(this._seg0.p0,u,this._seg1.p1),b=c/2,S=Angle.normalize(d+b),C=Angle.normalize(S+Math.PI),O=r*n,D=O*Math.abs(Math.sin(b)),H=n-D,K=u.x+O*Math.cos(C),le=u.y+O*Math.sin(C),de=new Coordinate(K,le),fe=new LineSegment(u,de),be=fe.pointAlongOffset(1,H),Ie=fe.pointAlongOffset(1,-H);this._side===Position.LEFT?(this._segList.addPt(be),this._segList.addPt(Ie)):(this._segList.addPt(Ie),this._segList.addPt(be))},OffsetSegmentGenerator.prototype.computeOffsetSegment=function(t,i,n,r){var u=i===Position.LEFT?1:-1,d=t.p1.x-t.p0.x,c=t.p1.y-t.p0.y,b=Math.sqrt(d*d+c*c),S=u*n*d/b,C=u*n*c/b;r.p0.x=t.p0.x-C,r.p0.y=t.p0.y+S,r.p1.x=t.p1.x-C,r.p1.y=t.p1.y+S},OffsetSegmentGenerator.prototype.addFilletArc=function(t,i,n,r,u){var d=this,c=r===CGAlgorithms.CLOCKWISE?-1:1,b=Math.abs(i-n),S=Math.trunc(b/this._filletAngleQuantum+.5);if(S<1)return null;for(var C=0,O=b/S,D=C,H=new Coordinate;D<b;){var K=i+c*D;H.x=t.x+u*Math.cos(K),H.y=t.y+u*Math.sin(K),d._segList.addPt(H),D+=O}},OffsetSegmentGenerator.prototype.addInsideTurn=function(t,i){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*OffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new Coordinate((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new Coordinate((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},OffsetSegmentGenerator.prototype.createCircle=function(t){var i=new Coordinate(t.x+this._distance,t.y);this._segList.addPt(i),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},OffsetSegmentGenerator.prototype.addBevelJoin=function(t,i){this._segList.addPt(t.p1),this._segList.addPt(i.p0)},OffsetSegmentGenerator.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new OffsetSegmentString,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*OffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},OffsetSegmentGenerator.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);var i=this._li.getIntersectionNum();i>=2&&(this._bufParams.getJoinStyle()===BufferParameters.JOIN_BEVEL||this._bufParams.getJoinStyle()===BufferParameters.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,CGAlgorithms.CLOCKWISE,this._distance))},OffsetSegmentGenerator.prototype.closeRing=function(){this._segList.closeRing()},OffsetSegmentGenerator.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},OffsetSegmentGenerator.prototype.interfaces_=function(){return[]},OffsetSegmentGenerator.prototype.getClass=function(){return OffsetSegmentGenerator},staticAccessors$27.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},staticAccessors$27.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},staticAccessors$27.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},staticAccessors$27.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(OffsetSegmentGenerator,staticAccessors$27);var OffsetCurveBuilder=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],i=arguments[1];this._precisionModel=t,this._bufParams=i};OffsetCurveBuilder.prototype.getOffsetCurve=function(t,i){if(this._distance=i,i===0)return null;var n=i<0,r=Math.abs(i),u=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],u):this.computeOffsetCurve(t,n,u);var d=u.getCoordinates();return n&&CoordinateArrays.reverse(d),d},OffsetCurveBuilder.prototype.computeSingleSidedBufferCurve=function(t,i,n){var r=this.simplifyTolerance(this._distance);if(i){n.addSegments(t,!0);var u=BufferInputLineSimplifier.simplify(t,-r),d=u.length-1;n.initSideSegments(u[d],u[d-1],Position.LEFT),n.addFirstSegment();for(var c=d-2;c>=0;c--)n.addNextSegment(u[c],!0)}else{n.addSegments(t,!1);var b=BufferInputLineSimplifier.simplify(t,r),S=b.length-1;n.initSideSegments(b[0],b[1],Position.LEFT),n.addFirstSegment();for(var C=2;C<=S;C++)n.addNextSegment(b[C],!0)}n.addLastSegment(),n.closeRing()},OffsetCurveBuilder.prototype.computeRingBufferCurve=function(t,i,n){var r=this.simplifyTolerance(this._distance);i===Position.RIGHT&&(r=-r);var u=BufferInputLineSimplifier.simplify(t,r),d=u.length-1;n.initSideSegments(u[d-1],u[0],i);for(var c=1;c<=d;c++){var b=c!==1;n.addNextSegment(u[c],b)}n.closeRing()},OffsetCurveBuilder.prototype.computeLineBufferCurve=function(t,i){var n=this.simplifyTolerance(this._distance),r=BufferInputLineSimplifier.simplify(t,n),u=r.length-1;i.initSideSegments(r[0],r[1],Position.LEFT);for(var d=2;d<=u;d++)i.addNextSegment(r[d],!0);i.addLastSegment(),i.addLineEndCap(r[u-1],r[u]);var c=BufferInputLineSimplifier.simplify(t,-n),b=c.length-1;i.initSideSegments(c[b],c[b-1],Position.LEFT);for(var S=b-2;S>=0;S--)i.addNextSegment(c[S],!0);i.addLastSegment(),i.addLineEndCap(c[1],c[0]),i.closeRing()},OffsetCurveBuilder.prototype.computePointCurve=function(t,i){switch(this._bufParams.getEndCapStyle()){case BufferParameters.CAP_ROUND:i.createCircle(t);break;case BufferParameters.CAP_SQUARE:i.createSquare(t);break}},OffsetCurveBuilder.prototype.getLineCurve=function(t,i){if(this._distance=i,i<0&&!this._bufParams.isSingleSided()||i===0)return null;var n=Math.abs(i),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var u=i<0;this.computeSingleSidedBufferCurve(t,u,r)}else this.computeLineBufferCurve(t,r);var d=r.getCoordinates();return d},OffsetCurveBuilder.prototype.getBufferParameters=function(){return this._bufParams},OffsetCurveBuilder.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},OffsetCurveBuilder.prototype.getRingCurve=function(t,i,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(n===0)return OffsetCurveBuilder.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,i,r),r.getCoordinates()},OffsetCurveBuilder.prototype.computeOffsetCurve=function(t,i,n){var r=this.simplifyTolerance(this._distance);if(i){var u=BufferInputLineSimplifier.simplify(t,-r),d=u.length-1;n.initSideSegments(u[d],u[d-1],Position.LEFT),n.addFirstSegment();for(var c=d-2;c>=0;c--)n.addNextSegment(u[c],!0)}else{var b=BufferInputLineSimplifier.simplify(t,r),S=b.length-1;n.initSideSegments(b[0],b[1],Position.LEFT),n.addFirstSegment();for(var C=2;C<=S;C++)n.addNextSegment(b[C],!0)}n.addLastSegment()},OffsetCurveBuilder.prototype.getSegGen=function(t){return new OffsetSegmentGenerator(this._precisionModel,this._bufParams,t)},OffsetCurveBuilder.prototype.interfaces_=function(){return[]},OffsetCurveBuilder.prototype.getClass=function(){return OffsetCurveBuilder},OffsetCurveBuilder.copyCoordinates=function(t){for(var i=new Array(t.length).fill(null),n=0;n<i.length;n++)i[n]=new Coordinate(t[n]);return i};var SubgraphDepthLocater=function(){this._subgraphs=null,this._seg=new LineSegment,this._cga=new CGAlgorithms;var t=arguments[0];this._subgraphs=t},staticAccessors$30={DepthSegment:{configurable:!0}};SubgraphDepthLocater.prototype.findStabbedSegments=function(){var t=this;if(arguments.length===1){for(var i=arguments[0],n=new ArrayList,r=this._subgraphs.iterator();r.hasNext();){var u=r.next(),d=u.getEnvelope();i.y<d.getMinY()||i.y>d.getMaxY()||t.findStabbedSegments(i,u.getDirectedEdges(),n)}return n}else if(arguments.length===3){if(hasInterface(arguments[2],List)&&arguments[0]instanceof Coordinate&&arguments[1]instanceof DirectedEdge)for(var c=arguments[0],b=arguments[1],S=arguments[2],C=b.getEdge().getCoordinates(),O=0;O<C.length-1;O++){t._seg.p0=C[O],t._seg.p1=C[O+1],t._seg.p0.y>t._seg.p1.y&&t._seg.reverse();var D=Math.max(t._seg.p0.x,t._seg.p1.x);if(!(D<c.x)&&!t._seg.isHorizontal()&&!(c.y<t._seg.p0.y||c.y>t._seg.p1.y)&&CGAlgorithms.computeOrientation(t._seg.p0,t._seg.p1,c)!==CGAlgorithms.RIGHT){var H=b.getDepth(Position.LEFT);t._seg.p0.equals(C[O])||(H=b.getDepth(Position.RIGHT));var K=new DepthSegment(t._seg,H);S.add(K)}}else if(hasInterface(arguments[2],List)&&arguments[0]instanceof Coordinate&&hasInterface(arguments[1],List))for(var le=arguments[0],de=arguments[1],fe=arguments[2],be=de.iterator();be.hasNext();){var Ie=be.next();Ie.isForward()&&t.findStabbedSegments(le,Ie,fe)}}},SubgraphDepthLocater.prototype.getDepth=function(t){var i=this.findStabbedSegments(t);if(i.size()===0)return 0;var n=Collections.min(i);return n._leftDepth},SubgraphDepthLocater.prototype.interfaces_=function(){return[]},SubgraphDepthLocater.prototype.getClass=function(){return SubgraphDepthLocater},staticAccessors$30.DepthSegment.get=function(){return DepthSegment},Object.defineProperties(SubgraphDepthLocater,staticAccessors$30);var DepthSegment=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],i=arguments[1];this._upwardSeg=new LineSegment(t),this._leftDepth=i};DepthSegment.prototype.compareTo=function(t){var i=t;if(this._upwardSeg.minX()>=i._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=i._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(i._upwardSeg);return n!==0||(n=-1*i._upwardSeg.orientationIndex(this._upwardSeg),n!==0)?n:this._upwardSeg.compareTo(i._upwardSeg)},DepthSegment.prototype.compareX=function(t,i){var n=t.p0.compareTo(i.p0);return n!==0?n:t.p1.compareTo(i.p1)},DepthSegment.prototype.toString=function(){return this._upwardSeg.toString()},DepthSegment.prototype.interfaces_=function(){return[Comparable]},DepthSegment.prototype.getClass=function(){return DepthSegment};var Triangle=function(t,i,n){this.p0=t||null,this.p1=i||null,this.p2=n||null};Triangle.prototype.area=function(){return Triangle.area(this.p0,this.p1,this.p2)},Triangle.prototype.signedArea=function(){return Triangle.signedArea(this.p0,this.p1,this.p2)},Triangle.prototype.interpolateZ=function(t){if(t===null)throw new IllegalArgumentException("Supplied point is null.");return Triangle.interpolateZ(t,this.p0,this.p1,this.p2)},Triangle.prototype.longestSideLength=function(){return Triangle.longestSideLength(this.p0,this.p1,this.p2)},Triangle.prototype.isAcute=function(){return Triangle.isAcute(this.p0,this.p1,this.p2)},Triangle.prototype.circumcentre=function(){return Triangle.circumcentre(this.p0,this.p1,this.p2)},Triangle.prototype.area3D=function(){return Triangle.area3D(this.p0,this.p1,this.p2)},Triangle.prototype.centroid=function(){return Triangle.centroid(this.p0,this.p1,this.p2)},Triangle.prototype.inCentre=function(){return Triangle.inCentre(this.p0,this.p1,this.p2)},Triangle.prototype.interfaces_=function(){return[]},Triangle.prototype.getClass=function(){return Triangle},Triangle.area=function(t,i,n){return Math.abs(((n.x-t.x)*(i.y-t.y)-(i.x-t.x)*(n.y-t.y))/2)},Triangle.signedArea=function(t,i,n){return((n.x-t.x)*(i.y-t.y)-(i.x-t.x)*(n.y-t.y))/2},Triangle.det=function(t,i,n,r){return t*r-i*n},Triangle.interpolateZ=function(t,i,n,r){var u=i.x,d=i.y,c=n.x-u,b=r.x-u,S=n.y-d,C=r.y-d,O=c*C-b*S,D=t.x-u,H=t.y-d,K=(C*D-b*H)/O,le=(-S*D+c*H)/O,de=i.z+K*(n.z-i.z)+le*(r.z-i.z);return de},Triangle.longestSideLength=function(t,i,n){var r=t.distance(i),u=i.distance(n),d=n.distance(t),c=r;return u>c&&(c=u),d>c&&(c=d),c},Triangle.isAcute=function(t,i,n){return!(!Angle.isAcute(t,i,n)||!Angle.isAcute(i,n,t)||!Angle.isAcute(n,t,i))},Triangle.circumcentre=function(t,i,n){var r=n.x,u=n.y,d=t.x-r,c=t.y-u,b=i.x-r,S=i.y-u,C=2*Triangle.det(d,c,b,S),O=Triangle.det(c,d*d+c*c,S,b*b+S*S),D=Triangle.det(d,d*d+c*c,b,b*b+S*S),H=r-O/C,K=u+D/C;return new Coordinate(H,K)},Triangle.perpendicularBisector=function(t,i){var n=i.x-t.x,r=i.y-t.y,u=new HCoordinate(t.x+n/2,t.y+r/2,1),d=new HCoordinate(t.x-r+n/2,t.y+n+r/2,1);return new HCoordinate(u,d)},Triangle.angleBisector=function(t,i,n){var r=i.distance(t),u=i.distance(n),d=r/(r+u),c=n.x-t.x,b=n.y-t.y,S=new Coordinate(t.x+d*c,t.y+d*b);return S},Triangle.area3D=function(t,i,n){var r=i.x-t.x,u=i.y-t.y,d=i.z-t.z,c=n.x-t.x,b=n.y-t.y,S=n.z-t.z,C=u*S-d*b,O=d*c-r*S,D=r*b-u*c,H=C*C+O*O+D*D,K=Math.sqrt(H)/2;return K},Triangle.centroid=function(t,i,n){var r=(t.x+i.x+n.x)/3,u=(t.y+i.y+n.y)/3;return new Coordinate(r,u)},Triangle.inCentre=function(t,i,n){var r=i.distance(n),u=t.distance(n),d=t.distance(i),c=r+u+d,b=(r*t.x+u*i.x+d*n.x)/c,S=(r*t.y+u*i.y+d*n.y)/c;return new Coordinate(b,S)};var OffsetCurveSetBuilder=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ArrayList;var t=arguments[0],i=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=i,this._curveBuilder=n};OffsetCurveSetBuilder.prototype.addPoint=function(t){if(this._distance<=0)return null;var i=t.getCoordinates(),n=this._curveBuilder.getLineCurve(i,this._distance);this.addCurve(n,Location.EXTERIOR,Location.INTERIOR)},OffsetCurveSetBuilder.prototype.addPolygon=function(t){var i=this,n=this._distance,r=Position.LEFT;this._distance<0&&(n=-this._distance,r=Position.RIGHT);var u=t.getExteriorRing(),d=CoordinateArrays.removeRepeatedPoints(u.getCoordinates());if(this._distance<0&&this.isErodedCompletely(u,this._distance)||this._distance<=0&&d.length<3)return null;this.addPolygonRing(d,n,r,Location.EXTERIOR,Location.INTERIOR);for(var c=0;c<t.getNumInteriorRing();c++){var b=t.getInteriorRingN(c),S=CoordinateArrays.removeRepeatedPoints(b.getCoordinates());i._distance>0&&i.isErodedCompletely(b,-i._distance)||i.addPolygonRing(S,n,Position.opposite(r),Location.INTERIOR,Location.EXTERIOR)}},OffsetCurveSetBuilder.prototype.isTriangleErodedCompletely=function(t,i){var n=new Triangle(t[0],t[1],t[2]),r=n.inCentre(),u=CGAlgorithms.distancePointLine(r,n.p0,n.p1);return u<Math.abs(i)},OffsetCurveSetBuilder.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var i=CoordinateArrays.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(i,this._distance);this.addCurve(n,Location.EXTERIOR,Location.INTERIOR)},OffsetCurveSetBuilder.prototype.addCurve=function(t,i,n){if(t===null||t.length<2)return null;var r=new NodedSegmentString(t,new Label(0,Location.BOUNDARY,i,n));this._curveList.add(r)},OffsetCurveSetBuilder.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},OffsetCurveSetBuilder.prototype.addPolygonRing=function(t,i,n,r,u){if(i===0&&t.length<LinearRing.MINIMUM_VALID_SIZE)return null;var d=r,c=u;t.length>=LinearRing.MINIMUM_VALID_SIZE&&CGAlgorithms.isCCW(t)&&(d=u,c=r,n=Position.opposite(n));var b=this._curveBuilder.getRingCurve(t,n,i);this.addCurve(b,d,c)},OffsetCurveSetBuilder.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Polygon?this.addPolygon(t):t instanceof LineString?this.addLineString(t):t instanceof Point?this.addPoint(t):t instanceof MultiPoint?this.addCollection(t):t instanceof MultiLineString?this.addCollection(t):t instanceof MultiPolygon?this.addCollection(t):t instanceof GeometryCollection&&this.addCollection(t)},OffsetCurveSetBuilder.prototype.isErodedCompletely=function(t,i){var n=t.getCoordinates();if(n.length<4)return i<0;if(n.length===4)return this.isTriangleErodedCompletely(n,i);var r=t.getEnvelopeInternal(),u=Math.min(r.getHeight(),r.getWidth());return i<0&&2*Math.abs(i)>u},OffsetCurveSetBuilder.prototype.addCollection=function(t){for(var i=this,n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);i.add(r)}},OffsetCurveSetBuilder.prototype.interfaces_=function(){return[]},OffsetCurveSetBuilder.prototype.getClass=function(){return OffsetCurveSetBuilder};var PointOnGeometryLocator=function(){};PointOnGeometryLocator.prototype.locate=function(t){},PointOnGeometryLocator.prototype.interfaces_=function(){return[]},PointOnGeometryLocator.prototype.getClass=function(){return PointOnGeometryLocator};var GeometryCollectionIterator=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};GeometryCollectionIterator.prototype.next=function(){if(this._atStart)return this._atStart=!1,GeometryCollectionIterator.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new NoSuchElementException;var t=this._parent.getGeometryN(this._index++);return t instanceof GeometryCollection?(this._subcollectionIterator=new GeometryCollectionIterator(t),this._subcollectionIterator.next()):t},GeometryCollectionIterator.prototype.remove=function(){throw new Error(this.getClass().getName())},GeometryCollectionIterator.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},GeometryCollectionIterator.prototype.interfaces_=function(){return[Iterator]},GeometryCollectionIterator.prototype.getClass=function(){return GeometryCollectionIterator},GeometryCollectionIterator.isAtomic=function(t){return!(t instanceof GeometryCollection)};var SimplePointInAreaLocator=function(){this._geom=null;var t=arguments[0];this._geom=t};SimplePointInAreaLocator.prototype.locate=function(t){return SimplePointInAreaLocator.locate(t,this._geom)},SimplePointInAreaLocator.prototype.interfaces_=function(){return[PointOnGeometryLocator]},SimplePointInAreaLocator.prototype.getClass=function(){return SimplePointInAreaLocator},SimplePointInAreaLocator.isPointInRing=function(t,i){return i.getEnvelopeInternal().intersects(t)?CGAlgorithms.isPointInRing(t,i.getCoordinates()):!1},SimplePointInAreaLocator.containsPointInPolygon=function(t,i){if(i.isEmpty())return!1;var n=i.getExteriorRing();if(!SimplePointInAreaLocator.isPointInRing(t,n))return!1;for(var r=0;r<i.getNumInteriorRing();r++){var u=i.getInteriorRingN(r);if(SimplePointInAreaLocator.isPointInRing(t,u))return!1}return!0},SimplePointInAreaLocator.containsPoint=function(t,i){if(i instanceof Polygon)return SimplePointInAreaLocator.containsPointInPolygon(t,i);if(i instanceof GeometryCollection)for(var n=new GeometryCollectionIterator(i);n.hasNext();){var r=n.next();if(r!==i&&SimplePointInAreaLocator.containsPoint(t,r))return!0}return!1},SimplePointInAreaLocator.locate=function(t,i){return i.isEmpty()?Location.EXTERIOR:SimplePointInAreaLocator.containsPoint(t,i)?Location.INTERIOR:Location.EXTERIOR};var EdgeEndStar=function(){this._edgeMap=new TreeMap,this._edgeList=null,this._ptInAreaLocation=[Location.NONE,Location.NONE]};EdgeEndStar.prototype.getNextCW=function(t){this.getEdges();var i=this._edgeList.indexOf(t),n=i-1;return i===0&&(n=this._edgeList.size()-1),this._edgeList.get(n)},EdgeEndStar.prototype.propagateSideLabels=function(t){for(var i=Location.NONE,n=this.iterator();n.hasNext();){var r=n.next(),u=r.getLabel();u.isArea(t)&&u.getLocation(t,Position.LEFT)!==Location.NONE&&(i=u.getLocation(t,Position.LEFT))}if(i===Location.NONE)return null;for(var d=i,c=this.iterator();c.hasNext();){var b=c.next(),S=b.getLabel();if(S.getLocation(t,Position.ON)===Location.NONE&&S.setLocation(t,Position.ON,d),S.isArea(t)){var C=S.getLocation(t,Position.LEFT),O=S.getLocation(t,Position.RIGHT);if(O!==Location.NONE){if(O!==d)throw new TopologyException("side location conflict",b.getCoordinate());C===Location.NONE&&Assert.shouldNeverReachHere("found single null side (at "+b.getCoordinate()+")"),d=C}else Assert.isTrue(S.getLocation(t,Position.LEFT)===Location.NONE,"found single null side"),S.setLocation(t,Position.RIGHT,d),S.setLocation(t,Position.LEFT,d)}}},EdgeEndStar.prototype.getCoordinate=function(){var t=this.iterator();if(!t.hasNext())return null;var i=t.next();return i.getCoordinate()},EdgeEndStar.prototype.print=function(t){System.out.println("EdgeEndStar:   "+this.getCoordinate());for(var i=this.iterator();i.hasNext();){var n=i.next();n.print(t)}},EdgeEndStar.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},EdgeEndStar.prototype.checkAreaLabelsConsistent=function(t){var i=this.getEdges();if(i.size()<=0)return!0;var n=i.size()-1,r=i.get(n).getLabel(),u=r.getLocation(t,Position.LEFT);Assert.isTrue(u!==Location.NONE,"Found unlabelled area edge");for(var d=u,c=this.iterator();c.hasNext();){var b=c.next(),S=b.getLabel();Assert.isTrue(S.isArea(t),"Found non-area edge");var C=S.getLocation(t,Position.LEFT),O=S.getLocation(t,Position.RIGHT);if(C===O||O!==d)return!1;d=C}return!0},EdgeEndStar.prototype.findIndex=function(t){var i=this;this.iterator();for(var n=0;n<this._edgeList.size();n++){var r=i._edgeList.get(n);if(r===t)return n}return-1},EdgeEndStar.prototype.iterator=function(){return this.getEdges().iterator()},EdgeEndStar.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new ArrayList(this._edgeMap.values())),this._edgeList},EdgeEndStar.prototype.getLocation=function(t,i,n){return this._ptInAreaLocation[t]===Location.NONE&&(this._ptInAreaLocation[t]=SimplePointInAreaLocator.locate(i,n[t].getGeometry())),this._ptInAreaLocation[t]},EdgeEndStar.prototype.toString=function(){var t=new StringBuffer;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append(`
`);for(var i=this.iterator();i.hasNext();){var n=i.next();t.append(n),t.append(`
`)}return t.toString()},EdgeEndStar.prototype.computeEdgeEndLabels=function(t){for(var i=this.iterator();i.hasNext();){var n=i.next();n.computeLabel(t)}},EdgeEndStar.prototype.computeLabelling=function(t){var i=this;this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],r=this.iterator();r.hasNext();)for(var u=r.next(),d=u.getLabel(),c=0;c<2;c++)d.isLine(c)&&d.getLocation(c)===Location.BOUNDARY&&(n[c]=!0);for(var b=this.iterator();b.hasNext();)for(var S=b.next(),C=S.getLabel(),O=0;O<2;O++)if(C.isAnyNull(O)){var D=Location.NONE;if(n[O])D=Location.EXTERIOR;else{var H=S.getCoordinate();D=i.getLocation(O,H,t)}C.setAllLocationsIfNull(O,D)}},EdgeEndStar.prototype.getDegree=function(){return this._edgeMap.size()},EdgeEndStar.prototype.insertEdgeEnd=function(t,i){this._edgeMap.put(t,i),this._edgeList=null},EdgeEndStar.prototype.interfaces_=function(){return[]},EdgeEndStar.prototype.getClass=function(){return EdgeEndStar};var DirectedEdgeStar=function(e){function t(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){var n=this;this.getResultAreaEdges();for(var r=null,u=null,d=this._SCANNING_FOR_INCOMING,c=0;c<this._resultAreaEdgeList.size();c++){var b=n._resultAreaEdgeList.get(c),S=b.getSym();if(b.getLabel().isArea())switch(r===null&&b.isInResult()&&(r=b),d){case n._SCANNING_FOR_INCOMING:if(!S.isInResult())continue;u=S,d=n._LINKING_TO_OUTGOING;break;case n._LINKING_TO_OUTGOING:if(!b.isInResult())continue;u.setNext(b),d=n._SCANNING_FOR_INCOMING;break}}if(d===this._LINKING_TO_OUTGOING){if(r===null)throw new TopologyException("no outgoing dirEdge found",this.getCoordinate());Assert.isTrue(r.isInResult(),"unable to link last incoming dirEdge"),u.setNext(r)}},t.prototype.insert=function(n){var r=n;this.insertEdgeEnd(r,r)},t.prototype.getRightmostEdge=function(){var n=this.getEdges(),r=n.size();if(r<1)return null;var u=n.get(0);if(r===1)return u;var d=n.get(r-1),c=u.getQuadrant(),b=d.getQuadrant();return Quadrant.isNorthern(c)&&Quadrant.isNorthern(b)?u:!Quadrant.isNorthern(c)&&!Quadrant.isNorthern(b)?d:u.getDy()!==0?u:d.getDy()!==0?d:(Assert.shouldNeverReachHere("found two horizontal edges incident on node"),null)},t.prototype.print=function(n){System.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var r=this.iterator();r.hasNext();){var u=r.next();n.print("out "),u.print(n),n.println(),n.print("in "),u.getSym().print(n),n.println()}},t.prototype.getResultAreaEdges=function(){var n=this;if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ArrayList;for(var r=this.iterator();r.hasNext();){var u=r.next();(u.isInResult()||u.getSym().isInResult())&&n._resultAreaEdgeList.add(u)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(n){for(var r=this.iterator();r.hasNext();){var u=r.next(),d=u.getLabel();d.setAllLocationsIfNull(0,n.getLocation(0)),d.setAllLocationsIfNull(1,n.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){var n=this;this.getEdges();for(var r=null,u=null,d=this._edgeList.size()-1;d>=0;d--){var c=n._edgeList.get(d),b=c.getSym();u===null&&(u=b),r!==null&&b.setNext(r),r=c}u.setNext(r)},t.prototype.computeDepths=function(){var n=this;if(arguments.length===1){var r=arguments[0],u=this.findIndex(r),d=r.getDepth(Position.LEFT),c=r.getDepth(Position.RIGHT),b=this.computeDepths(u+1,this._edgeList.size(),d),S=this.computeDepths(0,u,b);if(S!==c)throw new TopologyException("depth mismatch at "+r.getCoordinate())}else if(arguments.length===3){for(var C=arguments[0],O=arguments[1],D=arguments[2],H=D,K=C;K<O;K++){var le=n._edgeList.get(K);le.setEdgeDepths(Position.RIGHT,H),H=le.getDepth(Position.LEFT)}return H}},t.prototype.mergeSymLabels=function(){for(var n=this.iterator();n.hasNext();){var r=n.next(),u=r.getLabel();u.merge(r.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(n){for(var r=this,u=null,d=null,c=this._SCANNING_FOR_INCOMING,b=this._resultAreaEdgeList.size()-1;b>=0;b--){var S=r._resultAreaEdgeList.get(b),C=S.getSym();switch(u===null&&S.getEdgeRing()===n&&(u=S),c){case r._SCANNING_FOR_INCOMING:if(C.getEdgeRing()!==n)continue;d=C,c=r._LINKING_TO_OUTGOING;break;case r._LINKING_TO_OUTGOING:if(S.getEdgeRing()!==n)continue;d.setNextMin(S),c=r._SCANNING_FOR_INCOMING;break}}c===this._LINKING_TO_OUTGOING&&(Assert.isTrue(u!==null,"found null for first outgoing dirEdge"),Assert.isTrue(u.getEdgeRing()===n,"unable to link last incoming dirEdge"),d.setNextMin(u))},t.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var n=0,r=this.iterator();r.hasNext();){var u=r.next();u.isInResult()&&n++}return n}else if(arguments.length===1){for(var d=arguments[0],c=0,b=this.iterator();b.hasNext();){var S=b.next();S.getEdgeRing()===d&&c++}return c}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var n=Location.NONE,r=this.iterator();r.hasNext();){var u=r.next(),d=u.getSym();if(!u.isLineEdge()){if(u.isInResult()){n=Location.INTERIOR;break}if(d.isInResult()){n=Location.EXTERIOR;break}}}if(n===Location.NONE)return null;for(var c=n,b=this.iterator();b.hasNext();){var S=b.next(),C=S.getSym();S.isLineEdge()?S.getEdge().setCovered(c===Location.INTERIOR):(S.isInResult()&&(c=Location.EXTERIOR),C.isInResult()&&(c=Location.INTERIOR))}},t.prototype.computeLabelling=function(n){var r=this;e.prototype.computeLabelling.call(this,n),this._label=new Label(Location.NONE);for(var u=this.iterator();u.hasNext();)for(var d=u.next(),c=d.getEdge(),b=c.getLabel(),S=0;S<2;S++){var C=b.getLocation(S);(C===Location.INTERIOR||C===Location.BOUNDARY)&&r._label.setLocation(S,Location.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(EdgeEndStar),OverlayNodeFactory=function(e){function t(){e.apply(this,arguments)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(n){return new Node(n,new DirectedEdgeStar)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(NodeFactory),OrientedCoordinateArray=function e(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)};OrientedCoordinateArray.prototype.compareTo=function(t){var i=t,n=OrientedCoordinateArray.compareOriented(this._pts,this._orientation,i._pts,i._orientation);return n},OrientedCoordinateArray.prototype.interfaces_=function(){return[Comparable]},OrientedCoordinateArray.prototype.getClass=function(){return OrientedCoordinateArray},OrientedCoordinateArray.orientation=function(t){return CoordinateArrays.increasingDirection(t)===1},OrientedCoordinateArray.compareOriented=function(t,i,n,r){for(var u=i?1:-1,d=r?1:-1,c=i?t.length:-1,b=r?n.length:-1,S=i?0:t.length-1,C=r?0:n.length-1;;){var O=t[S].compareTo(n[C]);if(O!==0)return O;S+=u,C+=d;var D=S===c,H=C===b;if(D&&!H)return-1;if(!D&&H)return 1;if(D&&H)return 0}};var EdgeList=function(){this._edges=new ArrayList,this._ocaMap=new TreeMap};EdgeList.prototype.print=function(t){var i=this;t.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var r=i._edges.get(n);n>0&&t.print(","),t.print("(");for(var u=r.getCoordinates(),d=0;d<u.length;d++)d>0&&t.print(","),t.print(u[d].x+" "+u[d].y);t.println(")")}t.print(")  ")},EdgeList.prototype.addAll=function(t){for(var i=this,n=t.iterator();n.hasNext();)i.add(n.next())},EdgeList.prototype.findEdgeIndex=function(t){for(var i=this,n=0;n<this._edges.size();n++)if(i._edges.get(n).equals(t))return n;return-1},EdgeList.prototype.iterator=function(){return this._edges.iterator()},EdgeList.prototype.getEdges=function(){return this._edges},EdgeList.prototype.get=function(t){return this._edges.get(t)},EdgeList.prototype.findEqualEdge=function(t){var i=new OrientedCoordinateArray(t.getCoordinates()),n=this._ocaMap.get(i);return n},EdgeList.prototype.add=function(t){this._edges.add(t);var i=new OrientedCoordinateArray(t.getCoordinates());this._ocaMap.put(i,t)},EdgeList.prototype.interfaces_=function(){return[]},EdgeList.prototype.getClass=function(){return EdgeList};var SegmentIntersector=function(){};SegmentIntersector.prototype.processIntersections=function(t,i,n,r){},SegmentIntersector.prototype.isDone=function(){},SegmentIntersector.prototype.interfaces_=function(){return[]},SegmentIntersector.prototype.getClass=function(){return SegmentIntersector};var IntersectionAdder=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};IntersectionAdder.prototype.isTrivialIntersection=function(t,i,n,r){if(t===n&&this._li.getIntersectionNum()===1){if(IntersectionAdder.isAdjacentSegments(i,r))return!0;if(t.isClosed()){var u=t.size()-1;if(i===0&&r===u||r===0&&i===u)return!0}}return!1},IntersectionAdder.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},IntersectionAdder.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},IntersectionAdder.prototype.getLineIntersector=function(){return this._li},IntersectionAdder.prototype.hasProperIntersection=function(){return this._hasProper},IntersectionAdder.prototype.processIntersections=function(t,i,n,r){if(t===n&&i===r)return null;this.numTests++;var u=t.getCoordinates()[i],d=t.getCoordinates()[i+1],c=n.getCoordinates()[r],b=n.getCoordinates()[r+1];this._li.computeIntersection(u,d,c,b),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,i,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,i,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},IntersectionAdder.prototype.hasIntersection=function(){return this._hasIntersection},IntersectionAdder.prototype.isDone=function(){return!1},IntersectionAdder.prototype.hasInteriorIntersection=function(){return this._hasInterior},IntersectionAdder.prototype.interfaces_=function(){return[SegmentIntersector]},IntersectionAdder.prototype.getClass=function(){return IntersectionAdder},IntersectionAdder.isAdjacentSegments=function(t,i){return Math.abs(t-i)===1};var EdgeIntersection=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],i=arguments[1],n=arguments[2];this.coord=new Coordinate(t),this.segmentIndex=i,this.dist=n};EdgeIntersection.prototype.getSegmentIndex=function(){return this.segmentIndex},EdgeIntersection.prototype.getCoordinate=function(){return this.coord},EdgeIntersection.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},EdgeIntersection.prototype.compareTo=function(t){var i=t;return this.compare(i.segmentIndex,i.dist)},EdgeIntersection.prototype.isEndPoint=function(t){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===t},EdgeIntersection.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},EdgeIntersection.prototype.getDistance=function(){return this.dist},EdgeIntersection.prototype.compare=function(t,i){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<i?-1:this.dist>i?1:0},EdgeIntersection.prototype.interfaces_=function(){return[Comparable]},EdgeIntersection.prototype.getClass=function(){return EdgeIntersection};var EdgeIntersectionList=function(){this._nodeMap=new TreeMap,this.edge=null;var t=arguments[0];this.edge=t};EdgeIntersectionList.prototype.print=function(t){t.println("Intersections:");for(var i=this.iterator();i.hasNext();){var n=i.next();n.print(t)}},EdgeIntersectionList.prototype.iterator=function(){return this._nodeMap.values().iterator()},EdgeIntersectionList.prototype.addSplitEdges=function(t){var i=this;this.addEndpoints();for(var n=this.iterator(),r=n.next();n.hasNext();){var u=n.next(),d=i.createSplitEdge(r,u);t.add(d),r=u}},EdgeIntersectionList.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},EdgeIntersectionList.prototype.createSplitEdge=function(t,i){var n=this,r=i.segmentIndex-t.segmentIndex+2,u=this.edge.pts[i.segmentIndex],d=i.dist>0||!i.coord.equals2D(u);d||r--;var c=new Array(r).fill(null),b=0;c[b++]=new Coordinate(t.coord);for(var S=t.segmentIndex+1;S<=i.segmentIndex;S++)c[b++]=n.edge.pts[S];return d&&(c[b]=i.coord),new Edge(c,new Label(this.edge._label))},EdgeIntersectionList.prototype.add=function(t,i,n){var r=new EdgeIntersection(t,i,n),u=this._nodeMap.get(r);return u!==null?u:(this._nodeMap.put(r,r),r)},EdgeIntersectionList.prototype.isIntersection=function(t){for(var i=this.iterator();i.hasNext();){var n=i.next();if(n.coord.equals(t))return!0}return!1},EdgeIntersectionList.prototype.interfaces_=function(){return[]},EdgeIntersectionList.prototype.getClass=function(){return EdgeIntersectionList};var MonotoneChainIndexer=function(){};MonotoneChainIndexer.prototype.getChainStartIndices=function(t){var i=this,n=0,r=new ArrayList;r.add(new Integer(n));do{var u=i.findChainEnd(t,n);r.add(new Integer(u)),n=u}while(n<t.length-1);var d=MonotoneChainIndexer.toIntArray(r);return d},MonotoneChainIndexer.prototype.findChainEnd=function(t,i){for(var n=Quadrant.quadrant(t[i],t[i+1]),r=i+1;r<t.length;){var u=Quadrant.quadrant(t[r-1],t[r]);if(u!==n)break;r++}return r-1},MonotoneChainIndexer.prototype.interfaces_=function(){return[]},MonotoneChainIndexer.prototype.getClass=function(){return MonotoneChainIndexer},MonotoneChainIndexer.toIntArray=function(t){for(var i=new Array(t.size()).fill(null),n=0;n<i.length;n++)i[n]=t.get(n).intValue();return i};var MonotoneChainEdge=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Envelope,this.env2=new Envelope;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var i=new MonotoneChainIndexer;this.startIndex=i.getChainStartIndices(this.pts)};MonotoneChainEdge.prototype.getCoordinates=function(){return this.pts},MonotoneChainEdge.prototype.getMaxX=function(t){var i=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return i>n?i:n},MonotoneChainEdge.prototype.getMinX=function(t){var i=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return i<n?i:n},MonotoneChainEdge.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var t=arguments[0],i=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],i,i.startIndex[n],i.startIndex[n+1],r)}else if(arguments.length===6){var u=arguments[0],d=arguments[1],c=arguments[2],b=arguments[3],S=arguments[4],C=arguments[5],O=this.pts[u],D=this.pts[d],H=c.pts[b],K=c.pts[S];if(d-u===1&&S-b===1)return C.addIntersections(this.e,u,c.e,b),null;if(this.env1.init(O,D),this.env2.init(H,K),!this.env1.intersects(this.env2))return null;var le=Math.trunc((u+d)/2),de=Math.trunc((b+S)/2);u<le&&(b<de&&this.computeIntersectsForChain(u,le,c,b,de,C),de<S&&this.computeIntersectsForChain(u,le,c,de,S,C)),le<d&&(b<de&&this.computeIntersectsForChain(le,d,c,b,de,C),de<S&&this.computeIntersectsForChain(le,d,c,de,S,C))}},MonotoneChainEdge.prototype.getStartIndexes=function(){return this.startIndex},MonotoneChainEdge.prototype.computeIntersects=function(t,i){for(var n=this,r=0;r<this.startIndex.length-1;r++)for(var u=0;u<t.startIndex.length-1;u++)n.computeIntersectsForChain(r,t,u,i)},MonotoneChainEdge.prototype.interfaces_=function(){return[]},MonotoneChainEdge.prototype.getClass=function(){return MonotoneChainEdge};var Depth=function e(){var t=this;this._depth=Array(2).fill().map(function(){return Array(3)});for(var i=0;i<2;i++)for(var n=0;n<3;n++)t._depth[i][n]=e.NULL_VALUE},staticAccessors$31={NULL_VALUE:{configurable:!0}};Depth.prototype.getDepth=function(t,i){return this._depth[t][i]},Depth.prototype.setDepth=function(t,i,n){this._depth[t][i]=n},Depth.prototype.isNull=function(){var t=this;if(arguments.length===0){for(var i=0;i<2;i++)for(var n=0;n<3;n++)if(t._depth[i][n]!==Depth.NULL_VALUE)return!1;return!0}else if(arguments.length===1){var r=arguments[0];return this._depth[r][1]===Depth.NULL_VALUE}else if(arguments.length===2){var u=arguments[0],d=arguments[1];return this._depth[u][d]===Depth.NULL_VALUE}},Depth.prototype.normalize=function(){for(var t=this,i=0;i<2;i++)if(!t.isNull(i)){var n=t._depth[i][1];t._depth[i][2]<n&&(n=t._depth[i][2]),n<0&&(n=0);for(var r=1;r<3;r++){var u=0;t._depth[i][r]>n&&(u=1),t._depth[i][r]=u}}},Depth.prototype.getDelta=function(t){return this._depth[t][Position.RIGHT]-this._depth[t][Position.LEFT]},Depth.prototype.getLocation=function(t,i){return this._depth[t][i]<=0?Location.EXTERIOR:Location.INTERIOR},Depth.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Depth.prototype.add=function(){var t=this;if(arguments.length===1)for(var i=arguments[0],n=0;n<2;n++)for(var r=1;r<3;r++){var u=i.getLocation(n,r);(u===Location.EXTERIOR||u===Location.INTERIOR)&&(t.isNull(n,r)?t._depth[n][r]=Depth.depthAtLocation(u):t._depth[n][r]+=Depth.depthAtLocation(u))}else if(arguments.length===3){var d=arguments[0],c=arguments[1],b=arguments[2];b===Location.INTERIOR&&this._depth[d][c]++}},Depth.prototype.interfaces_=function(){return[]},Depth.prototype.getClass=function(){return Depth},Depth.depthAtLocation=function(t){return t===Location.EXTERIOR?0:t===Location.INTERIOR?1:Depth.NULL_VALUE},staticAccessors$31.NULL_VALUE.get=function(){return-1},Object.defineProperties(Depth,staticAccessors$31);var Edge=function(e){function t(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new EdgeIntersectionList(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Depth,this._depthDelta=0,arguments.length===1){var i=arguments[0];t.call(this,i,null)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.pts=n,this._label=r}}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var n=new Array(2).fill(null);n[0]=this.pts[0],n[1]=this.pts[1];var r=new t(n,Label.toLineLabel(this._label));return r},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(n){this._isIsolated=n},t.prototype.setName=function(n){this._name=n},t.prototype.equals=function(n){var r=this;if(!(n instanceof t))return!1;var u=n;if(this.pts.length!==u.pts.length)return!1;for(var d=!0,c=!0,b=this.pts.length,S=0;S<this.pts.length;S++)if(r.pts[S].equals2D(u.pts[S])||(d=!1),r.pts[S].equals2D(u.pts[--b])||(c=!1),!d&&!c)return!1;return!0},t.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var n=arguments[0];return this.pts[n]}},t.prototype.print=function(n){var r=this;n.print("edge "+this._name+": "),n.print("LINESTRING (");for(var u=0;u<this.pts.length;u++)u>0&&n.print(","),n.print(r.pts[u].x+" "+r.pts[u].y);n.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(n){t.updateIM(this._label,n)},t.prototype.isCollapsed=function(){return!this._label.isArea()||this.pts.length!==3?!1:!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(n){var r=this;n.print("edge "+this._name+": ");for(var u=this.pts.length-1;u>=0;u--)n.print(r.pts[u]+" ");n.println("")},t.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new MonotoneChainEdge(this)),this._mce},t.prototype.getEnvelope=function(){var n=this;if(this._env===null){this._env=new Envelope;for(var r=0;r<this.pts.length;r++)n._env.expandToInclude(n.pts[r])}return this._env},t.prototype.addIntersection=function(n,r,u,d){var c=new Coordinate(n.getIntersection(d)),b=r,S=n.getEdgeDistance(u,d),C=b+1;if(C<this.pts.length){var O=this.pts[C];c.equals2D(O)&&(b=C,S=0)}this.eiList.add(c,b,S)},t.prototype.toString=function(){var n=this,r=new StringBuffer;r.append("edge "+this._name+": "),r.append("LINESTRING (");for(var u=0;u<this.pts.length;u++)u>0&&r.append(","),r.append(n.pts[u].x+" "+n.pts[u].y);return r.append(")  "+this._label+" "+this._depthDelta),r.toString()},t.prototype.isPointwiseEqual=function(n){var r=this;if(this.pts.length!==n.pts.length)return!1;for(var u=0;u<this.pts.length;u++)if(!r.pts[u].equals2D(n.pts[u]))return!1;return!0},t.prototype.setDepthDelta=function(n){this._depthDelta=n},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(n,r,u){for(var d=this,c=0;c<n.getIntersectionNum();c++)d.addIntersection(n,r,u,c)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];r.setAtLeastIfValid(n.getLocation(0,Position.ON),n.getLocation(1,Position.ON),1),n.isArea()&&(r.setAtLeastIfValid(n.getLocation(0,Position.LEFT),n.getLocation(1,Position.LEFT),2),r.setAtLeastIfValid(n.getLocation(0,Position.RIGHT),n.getLocation(1,Position.RIGHT),2))}else return e.prototype.updateIM.apply(this,arguments)},t}(GraphComponent),BufferBuilder=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new EdgeList,this._bufParams=t||null};BufferBuilder.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},BufferBuilder.prototype.insertUniqueEdge=function(t){var i=this._edgeList.findEqualEdge(t);if(i!==null){var n=i.getLabel(),r=t.getLabel();i.isPointwiseEqual(t)||(r=new Label(t.getLabel()),r.flip()),n.merge(r);var u=BufferBuilder.depthDelta(r),d=i.getDepthDelta(),c=d+u;i.setDepthDelta(c)}else this._edgeList.add(t),t.setDepthDelta(BufferBuilder.depthDelta(t.getLabel()))},BufferBuilder.prototype.buildSubgraphs=function(t,i){for(var n=new ArrayList,r=t.iterator();r.hasNext();){var u=r.next(),d=u.getRightmostCoordinate(),c=new SubgraphDepthLocater(n),b=c.getDepth(d);u.computeDepth(b),u.findResultEdges(),n.add(u),i.add(u.getDirectedEdges(),u.getNodes())}},BufferBuilder.prototype.createSubgraphs=function(t){for(var i=new ArrayList,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var u=new BufferSubgraph;u.create(r),i.add(u)}}return Collections.sort(i,Collections.reverseOrder()),i},BufferBuilder.prototype.createEmptyResultGeometry=function(){var t=this._geomFact.createPolygon();return t},BufferBuilder.prototype.getNoder=function(t){if(this._workingNoder!==null)return this._workingNoder;var i=new MCIndexNoder,n=new RobustLineIntersector;return n.setPrecisionModel(t),i.setSegmentIntersector(new IntersectionAdder(n)),i},BufferBuilder.prototype.buffer=function(t,i){var n=this._workingPrecisionModel;n===null&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new OffsetCurveBuilder(n,this._bufParams),u=new OffsetCurveSetBuilder(t,i,r),d=u.getCurves();if(d.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(d,n),this._graph=new PlanarGraph(new OverlayNodeFactory),this._graph.addEdges(this._edgeList.getEdges());var c=this.createSubgraphs(this._graph),b=new PolygonBuilder(this._geomFact);this.buildSubgraphs(c,b);var S=b.getPolygons();if(S.size()<=0)return this.createEmptyResultGeometry();var C=this._geomFact.buildGeometry(S);return C},BufferBuilder.prototype.computeNodedEdges=function(t,i){var n=this,r=this.getNoder(i);r.computeNodes(t);for(var u=r.getNodedSubstrings(),d=u.iterator();d.hasNext();){var c=d.next(),b=c.getCoordinates();if(!(b.length===2&&b[0].equals2D(b[1]))){var S=c.getData(),C=new Edge(c.getCoordinates(),new Label(S));n.insertUniqueEdge(C)}}},BufferBuilder.prototype.setNoder=function(t){this._workingNoder=t},BufferBuilder.prototype.interfaces_=function(){return[]},BufferBuilder.prototype.getClass=function(){return BufferBuilder},BufferBuilder.depthDelta=function(t){var i=t.getLocation(0,Position.LEFT),n=t.getLocation(0,Position.RIGHT);return i===Location.INTERIOR&&n===Location.EXTERIOR?1:i===Location.EXTERIOR&&n===Location.INTERIOR?-1:0},BufferBuilder.convertSegStrings=function(t){for(var i=new GeometryFactory,n=new ArrayList;t.hasNext();){var r=t.next(),u=i.createLineString(r.getCoordinates());n.add(u)}return i.buildGeometry(n)};var ScaledNoder=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var t=arguments[0],i=arguments[1];this._noder=t,this._scaleFactor=i,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var n=arguments[0],r=arguments[1],u=arguments[2],d=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=u,this._offsetY=d,this._isScaled=!this.isIntegerPrecision()}};ScaledNoder.prototype.rescale=function(){var t=this;if(hasInterface(arguments[0],Collection))for(var i=arguments[0],n=i.iterator();n.hasNext();){var r=n.next();t.rescale(r.getCoordinates())}else if(arguments[0]instanceof Array){for(var u=arguments[0],d=0;d<u.length;d++)u[d].x=u[d].x/t._scaleFactor+t._offsetX,u[d].y=u[d].y/t._scaleFactor+t._offsetY;u.length===2&&u[0].equals2D(u[1])&&System.out.println(u)}},ScaledNoder.prototype.scale=function(){var t=this;if(hasInterface(arguments[0],Collection)){for(var i=arguments[0],n=new ArrayList,r=i.iterator();r.hasNext();){var u=r.next();n.add(new NodedSegmentString(t.scale(u.getCoordinates()),u.getData()))}return n}else if(arguments[0]instanceof Array){for(var d=arguments[0],c=new Array(d.length).fill(null),b=0;b<d.length;b++)c[b]=new Coordinate(Math.round((d[b].x-t._offsetX)*t._scaleFactor),Math.round((d[b].y-t._offsetY)*t._scaleFactor),d[b].z);var S=CoordinateArrays.removeRepeatedPoints(c);return S}},ScaledNoder.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},ScaledNoder.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ScaledNoder.prototype.computeNodes=function(t){var i=t;this._isScaled&&(i=this.scale(t)),this._noder.computeNodes(i)},ScaledNoder.prototype.interfaces_=function(){return[Noder]},ScaledNoder.prototype.getClass=function(){return ScaledNoder};var NodingValidator=function(){this._li=new RobustLineIntersector,this._segStrings=null;var t=arguments[0];this._segStrings=t},staticAccessors$33={fact:{configurable:!0}};NodingValidator.prototype.checkEndPtVertexIntersections=function(){var t=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();){var n=i.next(),r=n.getCoordinates();t.checkEndPtVertexIntersections(r[0],t._segStrings),t.checkEndPtVertexIntersections(r[r.length-1],t._segStrings)}else if(arguments.length===2){for(var u=arguments[0],d=arguments[1],c=d.iterator();c.hasNext();)for(var b=c.next(),S=b.getCoordinates(),C=1;C<S.length-1;C++)if(S[C].equals(u))throw new RuntimeException("found endpt/interior pt intersection at index "+C+" :pt "+u)}},NodingValidator.prototype.checkInteriorIntersections=function(){var t=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();)for(var n=i.next(),r=this._segStrings.iterator();r.hasNext();){var u=r.next();t.checkInteriorIntersections(n,u)}else if(arguments.length===2)for(var d=arguments[0],c=arguments[1],b=d.getCoordinates(),S=c.getCoordinates(),C=0;C<b.length-1;C++)for(var O=0;O<S.length-1;O++)t.checkInteriorIntersections(d,C,c,O);else if(arguments.length===4){var D=arguments[0],H=arguments[1],K=arguments[2],le=arguments[3];if(D===K&&H===le)return null;var de=D.getCoordinates()[H],fe=D.getCoordinates()[H+1],be=K.getCoordinates()[le],Ie=K.getCoordinates()[le+1];if(this._li.computeIntersection(de,fe,be,Ie),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,de,fe)||this.hasInteriorIntersection(this._li,be,Ie)))throw new RuntimeException("found non-noded intersection at "+de+"-"+fe+" and "+be+"-"+Ie)}},NodingValidator.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},NodingValidator.prototype.checkCollapses=function(){var t=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();){var n=i.next();t.checkCollapses(n)}else if(arguments.length===1)for(var r=arguments[0],u=r.getCoordinates(),d=0;d<u.length-2;d++)t.checkCollapse(u[d],u[d+1],u[d+2])},NodingValidator.prototype.hasInteriorIntersection=function(t,i,n){for(var r=0;r<t.getIntersectionNum();r++){var u=t.getIntersection(r);if(!(u.equals(i)||u.equals(n)))return!0}return!1},NodingValidator.prototype.checkCollapse=function(t,i,n){if(t.equals(n))throw new RuntimeException("found non-noded collapse at "+NodingValidator.fact.createLineString([t,i,n]))},NodingValidator.prototype.interfaces_=function(){return[]},NodingValidator.prototype.getClass=function(){return NodingValidator},staticAccessors$33.fact.get=function(){return new GeometryFactory},Object.defineProperties(NodingValidator,staticAccessors$33);var HotPixel=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],i=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=i,this._li=n,i<=0)throw new IllegalArgumentException("Scale factor must be non-zero");i!==1&&(this._pt=new Coordinate(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new Coordinate,this._p1Scaled=new Coordinate),this.initCorners(this._pt)},staticAccessors$34={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};HotPixel.prototype.intersectsScaled=function(t,i){var n=Math.min(t.x,i.x),r=Math.max(t.x,i.x),u=Math.min(t.y,i.y),d=Math.max(t.y,i.y),c=this._maxx<n||this._minx>r||this._maxy<u||this._miny>d;if(c)return!1;var b=this.intersectsToleranceSquare(t,i);return Assert.isTrue(!(c&&b),"Found bad envelope test"),b},HotPixel.prototype.initCorners=function(t){var i=.5;this._minx=t.x-i,this._maxx=t.x+i,this._miny=t.y-i,this._maxy=t.y+i,this._corner[0]=new Coordinate(this._maxx,this._maxy),this._corner[1]=new Coordinate(this._minx,this._maxy),this._corner[2]=new Coordinate(this._minx,this._miny),this._corner[3]=new Coordinate(this._maxx,this._miny)},HotPixel.prototype.intersects=function(t,i){return this._scaleFactor===1?this.intersectsScaled(t,i):(this.copyScaled(t,this._p0Scaled),this.copyScaled(i,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},HotPixel.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},HotPixel.prototype.getCoordinate=function(){return this._originalPt},HotPixel.prototype.copyScaled=function(t,i){i.x=this.scale(t.x),i.y=this.scale(t.y)},HotPixel.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var t=HotPixel.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Envelope(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},HotPixel.prototype.intersectsPixelClosure=function(t,i){return this._li.computeIntersection(t,i,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,i,this._corner[1],this._corner[2]),this._li.hasIntersection())||(this._li.computeIntersection(t,i,this._corner[2],this._corner[3]),this._li.hasIntersection())||(this._li.computeIntersection(t,i,this._corner[3],this._corner[0]),this._li.hasIntersection()))},HotPixel.prototype.intersectsToleranceSquare=function(t,i){var n=!1,r=!1;return this._li.computeIntersection(t,i,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,i,this._corner[1],this._corner[2]),this._li.isProper())||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,i,this._corner[2],this._corner[3]),this._li.isProper())||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,i,this._corner[3],this._corner[0]),this._li.isProper())||n&&r||t.equals(this._pt)||i.equals(this._pt))},HotPixel.prototype.addSnappedNode=function(t,i){var n=t.getCoordinate(i),r=t.getCoordinate(i+1);return this.intersects(n,r)?(t.addIntersection(this.getCoordinate(),i),!0):!1},HotPixel.prototype.interfaces_=function(){return[]},HotPixel.prototype.getClass=function(){return HotPixel},staticAccessors$34.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(HotPixel,staticAccessors$34);var MonotoneChainSelectAction=function(){this.tempEnv1=new Envelope,this.selectedSegment=new LineSegment};MonotoneChainSelectAction.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var t=arguments[0],i=arguments[1];t.getLineSegment(i,this.selectedSegment),this.select(this.selectedSegment)}}},MonotoneChainSelectAction.prototype.interfaces_=function(){return[]},MonotoneChainSelectAction.prototype.getClass=function(){return MonotoneChainSelectAction};var MCIndexPointSnapper=function(){this._index=null;var t=arguments[0];this._index=t},staticAccessors$35={HotPixelSnapAction:{configurable:!0}};MCIndexPointSnapper.prototype.snap=function(){if(arguments.length===1){var t=arguments[0];return this.snap(t,null,-1)}else if(arguments.length===3){var i=arguments[0],n=arguments[1],r=arguments[2],u=i.getSafeEnvelope(),d=new HotPixelSnapAction(i,n,r);return this._index.query(u,{interfaces_:function(){return[ItemVisitor]},visitItem:function(c){var b=c;b.select(u,d)}}),d.isNodeAdded()}},MCIndexPointSnapper.prototype.interfaces_=function(){return[]},MCIndexPointSnapper.prototype.getClass=function(){return MCIndexPointSnapper},staticAccessors$35.HotPixelSnapAction.get=function(){return HotPixelSnapAction},Object.defineProperties(MCIndexPointSnapper,staticAccessors$35);var HotPixelSnapAction=function(e){function t(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var i=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=i,this._parentEdge=n,this._hotPixelVertexIndex=r}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(arguments.length===2){var n=arguments[0],r=arguments[1],u=n.getContext();if(this._parentEdge!==null&&u===this._parentEdge&&r===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(u,r)}else return e.prototype.select.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(MonotoneChainSelectAction),InteriorIntersectionFinderAdder=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new ArrayList};InteriorIntersectionFinderAdder.prototype.processIntersections=function(t,i,n,r){var u=this;if(t===n&&i===r)return null;var d=t.getCoordinates()[i],c=t.getCoordinates()[i+1],b=n.getCoordinates()[r],S=n.getCoordinates()[r+1];if(this._li.computeIntersection(d,c,b,S),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var C=0;C<this._li.getIntersectionNum();C++)u._interiorIntersections.add(u._li.getIntersection(C));t.addIntersections(this._li,i,0),n.addIntersections(this._li,r,1)}},InteriorIntersectionFinderAdder.prototype.isDone=function(){return!1},InteriorIntersectionFinderAdder.prototype.getInteriorIntersections=function(){return this._interiorIntersections},InteriorIntersectionFinderAdder.prototype.interfaces_=function(){return[SegmentIntersector]},InteriorIntersectionFinderAdder.prototype.getClass=function(){return InteriorIntersectionFinderAdder};var MCIndexSnapRounder=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new RobustLineIntersector,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};MCIndexSnapRounder.prototype.checkCorrectness=function(t){var i=NodedSegmentString.getNodedSubstrings(t),n=new NodingValidator(i);try{n.checkValid()}catch(r){if(r instanceof Exception)r.printStackTrace();else throw r}finally{}},MCIndexSnapRounder.prototype.getNodedSubstrings=function(){return NodedSegmentString.getNodedSubstrings(this._nodedSegStrings)},MCIndexSnapRounder.prototype.snapRound=function(t,i){var n=this.findInteriorIntersections(t,i);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},MCIndexSnapRounder.prototype.findInteriorIntersections=function(t,i){var n=new InteriorIntersectionFinderAdder(i);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},MCIndexSnapRounder.prototype.computeVertexSnaps=function(){var t=this;if(hasInterface(arguments[0],Collection))for(var i=arguments[0],n=i.iterator();n.hasNext();){var r=n.next();t.computeVertexSnaps(r)}else if(arguments[0]instanceof NodedSegmentString)for(var u=arguments[0],d=u.getCoordinates(),c=0;c<d.length;c++){var b=new HotPixel(d[c],t._scaleFactor,t._li),S=t._pointSnapper.snap(b,u,c);S&&u.addIntersection(d[c],c)}},MCIndexSnapRounder.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new MCIndexNoder,this._pointSnapper=new MCIndexPointSnapper(this._noder.getIndex()),this.snapRound(t,this._li)},MCIndexSnapRounder.prototype.computeIntersectionSnaps=function(t){for(var i=this,n=t.iterator();n.hasNext();){var r=n.next(),u=new HotPixel(r,i._scaleFactor,i._li);i._pointSnapper.snap(u)}},MCIndexSnapRounder.prototype.interfaces_=function(){return[Noder]},MCIndexSnapRounder.prototype.getClass=function(){return MCIndexSnapRounder};var BufferOp=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new BufferParameters,this._resultGeometry=null,this._saveException=null,arguments.length===1){var t=arguments[0];this._argGeom=t}else if(arguments.length===2){var i=arguments[0],n=arguments[1];this._argGeom=i,this._bufParams=n}},staticAccessors$32={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};BufferOp.prototype.bufferFixedPrecision=function(t){var i=new ScaledNoder(new MCIndexSnapRounder(new PrecisionModel(1)),t.getScale()),n=new BufferBuilder(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(i),this._resultGeometry=n.buffer(this._argGeom,this._distance)},BufferOp.prototype.bufferReducedPrecision=function(){var t=this;if(arguments.length===0){for(var i=BufferOp.MAX_PRECISION_DIGITS;i>=0;i--){try{t.bufferReducedPrecision(i)}catch(d){if(d instanceof TopologyException)t._saveException=d;else throw d}finally{}if(t._resultGeometry!==null)return null}throw this._saveException}else if(arguments.length===1){var n=arguments[0],r=BufferOp.precisionScaleFactor(this._argGeom,this._distance,n),u=new PrecisionModel(r);this.bufferFixedPrecision(u)}},BufferOp.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===PrecisionModel.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},BufferOp.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},BufferOp.prototype.bufferOriginalPrecision=function(){try{var t=new BufferBuilder(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(i){if(i instanceof RuntimeException)this._saveException=i;else throw i}finally{}},BufferOp.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},BufferOp.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},BufferOp.prototype.interfaces_=function(){return[]},BufferOp.prototype.getClass=function(){return BufferOp},BufferOp.bufferOp=function(){if(arguments.length===2){var t=arguments[0],i=arguments[1],n=new BufferOp(t),r=n.getResultGeometry(i);return r}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Geometry&&typeof arguments[1]=="number"){var u=arguments[0],d=arguments[1],c=arguments[2],b=new BufferOp(u);b.setQuadrantSegments(c);var S=b.getResultGeometry(d);return S}else if(arguments[2]instanceof BufferParameters&&arguments[0]instanceof Geometry&&typeof arguments[1]=="number"){var C=arguments[0],O=arguments[1],D=arguments[2],H=new BufferOp(C,D),K=H.getResultGeometry(O);return K}}else if(arguments.length===4){var le=arguments[0],de=arguments[1],fe=arguments[2],be=arguments[3],Ie=new BufferOp(le);Ie.setQuadrantSegments(fe),Ie.setEndCapStyle(be);var De=Ie.getResultGeometry(de);return De}},BufferOp.precisionScaleFactor=function(t,i,n){var r=t.getEnvelopeInternal(),u=MathUtil.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY())),d=i>0?i:0,c=u+2*d,b=Math.trunc(Math.log(c)/Math.log(10)+1),S=n-b,C=Math.pow(10,S);return C},staticAccessors$32.CAP_ROUND.get=function(){return BufferParameters.CAP_ROUND},staticAccessors$32.CAP_BUTT.get=function(){return BufferParameters.CAP_FLAT},staticAccessors$32.CAP_FLAT.get=function(){return BufferParameters.CAP_FLAT},staticAccessors$32.CAP_SQUARE.get=function(){return BufferParameters.CAP_SQUARE},staticAccessors$32.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(BufferOp,staticAccessors$32);var PointPairDistance=function(){this._pt=[new Coordinate,new Coordinate],this._distance=Double.NaN,this._isNull=!0};PointPairDistance.prototype.getCoordinates=function(){return this._pt},PointPairDistance.prototype.getCoordinate=function(t){return this._pt[t]},PointPairDistance.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var i=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(i,n),null;var r=i.distance(n);r<this._distance&&this.initialize(i,n,r)}},PointPairDistance.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],i=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(i),this._distance=t.distance(i),this._isNull=!1}else if(arguments.length===3){var n=arguments[0],r=arguments[1],u=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=u,this._isNull=!1}},PointPairDistance.prototype.getDistance=function(){return this._distance},PointPairDistance.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var i=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(i,n),null;var r=i.distance(n);r>this._distance&&this.initialize(i,n,r)}},PointPairDistance.prototype.interfaces_=function(){return[]},PointPairDistance.prototype.getClass=function(){return PointPairDistance};var DistanceToPointFinder=function(){};DistanceToPointFinder.prototype.interfaces_=function(){return[]},DistanceToPointFinder.prototype.getClass=function(){return DistanceToPointFinder},DistanceToPointFinder.computeDistance=function(){if(arguments[2]instanceof PointPairDistance&&arguments[0]instanceof LineString&&arguments[1]instanceof Coordinate)for(var t=arguments[0],i=arguments[1],n=arguments[2],r=t.getCoordinates(),u=new LineSegment,d=0;d<r.length-1;d++){u.setCoordinates(r[d],r[d+1]);var c=u.closestPoint(i);n.setMinimum(c,i)}else if(arguments[2]instanceof PointPairDistance&&arguments[0]instanceof Polygon&&arguments[1]instanceof Coordinate){var b=arguments[0],S=arguments[1],C=arguments[2];DistanceToPointFinder.computeDistance(b.getExteriorRing(),S,C);for(var O=0;O<b.getNumInteriorRing();O++)DistanceToPointFinder.computeDistance(b.getInteriorRingN(O),S,C)}else if(arguments[2]instanceof PointPairDistance&&arguments[0]instanceof Geometry&&arguments[1]instanceof Coordinate){var D=arguments[0],H=arguments[1],K=arguments[2];if(D instanceof LineString)DistanceToPointFinder.computeDistance(D,H,K);else if(D instanceof Polygon)DistanceToPointFinder.computeDistance(D,H,K);else if(D instanceof GeometryCollection)for(var le=D,de=0;de<le.getNumGeometries();de++){var fe=le.getGeometryN(de);DistanceToPointFinder.computeDistance(fe,H,K)}else K.setMinimum(D.getCoordinate(),H)}else if(arguments[2]instanceof PointPairDistance&&arguments[0]instanceof LineSegment&&arguments[1]instanceof Coordinate){var be=arguments[0],Ie=arguments[1],De=arguments[2],Ze=be.closestPoint(Ie);De.setMinimum(Ze,Ie)}};var BufferCurveMaximumDistanceFinder=function(t){this._maxPtDist=new PointPairDistance,this._inputGeom=t||null},staticAccessors$36={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};BufferCurveMaximumDistanceFinder.prototype.computeMaxMidpointDistance=function(t){var i=new MaxMidpointDistanceFilter(this._inputGeom);t.apply(i),this._maxPtDist.setMaximum(i.getMaxPointDistance())},BufferCurveMaximumDistanceFinder.prototype.computeMaxVertexDistance=function(t){var i=new MaxPointDistanceFilter(this._inputGeom);t.apply(i),this._maxPtDist.setMaximum(i.getMaxPointDistance())},BufferCurveMaximumDistanceFinder.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},BufferCurveMaximumDistanceFinder.prototype.getDistancePoints=function(){return this._maxPtDist},BufferCurveMaximumDistanceFinder.prototype.interfaces_=function(){return[]},BufferCurveMaximumDistanceFinder.prototype.getClass=function(){return BufferCurveMaximumDistanceFinder},staticAccessors$36.MaxPointDistanceFilter.get=function(){return MaxPointDistanceFilter},staticAccessors$36.MaxMidpointDistanceFilter.get=function(){return MaxMidpointDistanceFilter},Object.defineProperties(BufferCurveMaximumDistanceFinder,staticAccessors$36);var MaxPointDistanceFilter=function(t){this._maxPtDist=new PointPairDistance,this._minPtDist=new PointPairDistance,this._geom=t||null};MaxPointDistanceFilter.prototype.filter=function(t){this._minPtDist.initialize(),DistanceToPointFinder.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},MaxPointDistanceFilter.prototype.getMaxPointDistance=function(){return this._maxPtDist},MaxPointDistanceFilter.prototype.interfaces_=function(){return[CoordinateFilter]},MaxPointDistanceFilter.prototype.getClass=function(){return MaxPointDistanceFilter};var MaxMidpointDistanceFilter=function(t){this._maxPtDist=new PointPairDistance,this._minPtDist=new PointPairDistance,this._geom=t||null};MaxMidpointDistanceFilter.prototype.filter=function(t,i){if(i===0)return null;var n=t.getCoordinate(i-1),r=t.getCoordinate(i),u=new Coordinate((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),DistanceToPointFinder.computeDistance(this._geom,u,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},MaxMidpointDistanceFilter.prototype.isDone=function(){return!1},MaxMidpointDistanceFilter.prototype.isGeometryChanged=function(){return!1},MaxMidpointDistanceFilter.prototype.getMaxPointDistance=function(){return this._maxPtDist},MaxMidpointDistanceFilter.prototype.interfaces_=function(){return[CoordinateSequenceFilter]},MaxMidpointDistanceFilter.prototype.getClass=function(){return MaxMidpointDistanceFilter};var PolygonExtracter=function(t){this._comps=t||null};PolygonExtracter.prototype.filter=function(t){t instanceof Polygon&&this._comps.add(t)},PolygonExtracter.prototype.interfaces_=function(){return[GeometryFilter]},PolygonExtracter.prototype.getClass=function(){return PolygonExtracter},PolygonExtracter.getPolygons=function(){if(arguments.length===1){var t=arguments[0];return PolygonExtracter.getPolygons(t,new ArrayList)}else if(arguments.length===2){var i=arguments[0],n=arguments[1];return i instanceof Polygon?n.add(i):i instanceof GeometryCollection&&i.apply(new PolygonExtracter(n)),n}};var LinearComponentExtracter=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var t=arguments[0];this._lines=t}else if(arguments.length===2){var i=arguments[0],n=arguments[1];this._lines=i,this._isForcedToLineString=n}};LinearComponentExtracter.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof LinearRing){var i=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(i),null}t instanceof LineString&&this._lines.add(t)},LinearComponentExtracter.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},LinearComponentExtracter.prototype.interfaces_=function(){return[GeometryComponentFilter]},LinearComponentExtracter.prototype.getClass=function(){return LinearComponentExtracter},LinearComponentExtracter.getGeometry=function(){if(arguments.length===1){var t=arguments[0];return t.getFactory().buildGeometry(LinearComponentExtracter.getLines(t))}else if(arguments.length===2){var i=arguments[0],n=arguments[1];return i.getFactory().buildGeometry(LinearComponentExtracter.getLines(i,n))}},LinearComponentExtracter.getLines=function(){if(arguments.length===1){var t=arguments[0];return LinearComponentExtracter.getLines(t,!1)}else if(arguments.length===2){if(hasInterface(arguments[0],Collection)&&hasInterface(arguments[1],Collection)){for(var i=arguments[0],n=arguments[1],r=i.iterator();r.hasNext();){var u=r.next();LinearComponentExtracter.getLines(u,n)}return n}else if(arguments[0]instanceof Geometry&&typeof arguments[1]=="boolean"){var d=arguments[0],c=arguments[1],b=new ArrayList;return d.apply(new LinearComponentExtracter(b,c)),b}else if(arguments[0]instanceof Geometry&&hasInterface(arguments[1],Collection)){var S=arguments[0],C=arguments[1];return S instanceof LineString?C.add(S):S.apply(new LinearComponentExtracter(C)),C}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&hasInterface(arguments[0],Collection)&&hasInterface(arguments[1],Collection)){for(var O=arguments[0],D=arguments[1],H=arguments[2],K=O.iterator();K.hasNext();){var le=K.next();LinearComponentExtracter.getLines(le,D,H)}return D}else if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Geometry&&hasInterface(arguments[1],Collection)){var de=arguments[0],fe=arguments[1],be=arguments[2];return de.apply(new LinearComponentExtracter(fe,be)),fe}}};var PointLocator=function(){if(this._boundaryRule=BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];if(t===null)throw new IllegalArgumentException("Rule must be non-null");this._boundaryRule=t}}};PointLocator.prototype.locateInternal=function(){var t=this;if(arguments[0]instanceof Coordinate&&arguments[1]instanceof Polygon){var i=arguments[0],n=arguments[1];if(n.isEmpty())return Location.EXTERIOR;var r=n.getExteriorRing(),u=this.locateInPolygonRing(i,r);if(u===Location.EXTERIOR)return Location.EXTERIOR;if(u===Location.BOUNDARY)return Location.BOUNDARY;for(var d=0;d<n.getNumInteriorRing();d++){var c=n.getInteriorRingN(d),b=t.locateInPolygonRing(i,c);if(b===Location.INTERIOR)return Location.EXTERIOR;if(b===Location.BOUNDARY)return Location.BOUNDARY}return Location.INTERIOR}else if(arguments[0]instanceof Coordinate&&arguments[1]instanceof LineString){var S=arguments[0],C=arguments[1];if(!C.getEnvelopeInternal().intersects(S))return Location.EXTERIOR;var O=C.getCoordinates();return!C.isClosed()&&(S.equals(O[0])||S.equals(O[O.length-1]))?Location.BOUNDARY:CGAlgorithms.isOnLine(S,O)?Location.INTERIOR:Location.EXTERIOR}else if(arguments[0]instanceof Coordinate&&arguments[1]instanceof Point){var D=arguments[0],H=arguments[1],K=H.getCoordinate();return K.equals2D(D)?Location.INTERIOR:Location.EXTERIOR}},PointLocator.prototype.locateInPolygonRing=function(t,i){return i.getEnvelopeInternal().intersects(t)?CGAlgorithms.locatePointInRing(t,i.getCoordinates()):Location.EXTERIOR},PointLocator.prototype.intersects=function(t,i){return this.locate(t,i)!==Location.EXTERIOR},PointLocator.prototype.updateLocationInfo=function(t){t===Location.INTERIOR&&(this._isIn=!0),t===Location.BOUNDARY&&this._numBoundaries++},PointLocator.prototype.computeLocation=function(t,i){var n=this;if(i instanceof Point&&this.updateLocationInfo(this.locateInternal(t,i)),i instanceof LineString)this.updateLocationInfo(this.locateInternal(t,i));else if(i instanceof Polygon)this.updateLocationInfo(this.locateInternal(t,i));else if(i instanceof MultiLineString)for(var r=i,u=0;u<r.getNumGeometries();u++){var d=r.getGeometryN(u);n.updateLocationInfo(n.locateInternal(t,d))}else if(i instanceof MultiPolygon)for(var c=i,b=0;b<c.getNumGeometries();b++){var S=c.getGeometryN(b);n.updateLocationInfo(n.locateInternal(t,S))}else if(i instanceof GeometryCollection)for(var C=new GeometryCollectionIterator(i);C.hasNext();){var O=C.next();O!==i&&n.computeLocation(t,O)}},PointLocator.prototype.locate=function(t,i){return i.isEmpty()?Location.EXTERIOR:i instanceof LineString?this.locateInternal(t,i):i instanceof Polygon?this.locateInternal(t,i):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,i),this._boundaryRule.isInBoundary(this._numBoundaries)?Location.BOUNDARY:this._numBoundaries>0||this._isIn?Location.INTERIOR:Location.EXTERIOR)},PointLocator.prototype.interfaces_=function(){return[]},PointLocator.prototype.getClass=function(){return PointLocator};var GeometryLocation=function e(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var t=arguments[0],i=arguments[1];e.call(this,t,e.INSIDE_AREA,i)}else if(arguments.length===3){var n=arguments[0],r=arguments[1],u=arguments[2];this._component=n,this._segIndex=r,this._pt=u}},staticAccessors$38={INSIDE_AREA:{configurable:!0}};GeometryLocation.prototype.isInsideArea=function(){return this._segIndex===GeometryLocation.INSIDE_AREA},GeometryLocation.prototype.getCoordinate=function(){return this._pt},GeometryLocation.prototype.getGeometryComponent=function(){return this._component},GeometryLocation.prototype.getSegmentIndex=function(){return this._segIndex},GeometryLocation.prototype.interfaces_=function(){return[]},GeometryLocation.prototype.getClass=function(){return GeometryLocation},staticAccessors$38.INSIDE_AREA.get=function(){return-1},Object.defineProperties(GeometryLocation,staticAccessors$38);var PointExtracter=function(t){this._pts=t||null};PointExtracter.prototype.filter=function(t){t instanceof Point&&this._pts.add(t)},PointExtracter.prototype.interfaces_=function(){return[GeometryFilter]},PointExtracter.prototype.getClass=function(){return PointExtracter},PointExtracter.getPoints=function(){if(arguments.length===1){var t=arguments[0];return t instanceof Point?Collections.singletonList(t):PointExtracter.getPoints(t,new ArrayList)}else if(arguments.length===2){var i=arguments[0],n=arguments[1];return i instanceof Point?n.add(i):i instanceof GeometryCollection&&i.apply(new PointExtracter(n)),n}};var ConnectedElementLocationFilter=function(){this._locations=null;var t=arguments[0];this._locations=t};ConnectedElementLocationFilter.prototype.filter=function(t){(t instanceof Point||t instanceof LineString||t instanceof Polygon)&&this._locations.add(new GeometryLocation(t,0,t.getCoordinate()))},ConnectedElementLocationFilter.prototype.interfaces_=function(){return[GeometryFilter]},ConnectedElementLocationFilter.prototype.getClass=function(){return ConnectedElementLocationFilter},ConnectedElementLocationFilter.getLocations=function(t){var i=new ArrayList;return t.apply(new ConnectedElementLocationFilter(i)),i};var DistanceOp=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new PointLocator,this._minDistanceLocation=null,this._minDistance=Double.MAX_VALUE,arguments.length===2){var t=arguments[0],i=arguments[1];this._geom=[t,i],this._terminateDistance=0}else if(arguments.length===3){var n=arguments[0],r=arguments[1],u=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=u}};DistanceOp.prototype.computeContainmentDistance=function(){var t=this;if(arguments.length===0){var i=new Array(2).fill(null);if(this.computeContainmentDistance(0,i),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,i)}else if(arguments.length===2){var n=arguments[0],r=arguments[1],u=1-n,d=PolygonExtracter.getPolygons(this._geom[n]);if(d.size()>0){var c=ConnectedElementLocationFilter.getLocations(this._geom[u]);if(this.computeContainmentDistance(c,d,r),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[u]=r[0],this._minDistanceLocation[n]=r[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&hasInterface(arguments[0],List)&&hasInterface(arguments[1],List)){for(var b=arguments[0],S=arguments[1],C=arguments[2],O=0;O<b.size();O++)for(var D=b.get(O),H=0;H<S.size();H++)if(t.computeContainmentDistance(D,S.get(H),C),t._minDistance<=t._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof GeometryLocation&&arguments[1]instanceof Polygon){var K=arguments[0],le=arguments[1],de=arguments[2],fe=K.getCoordinate();if(Location.EXTERIOR!==this._ptLocator.locate(fe,le))return this._minDistance=0,de[0]=K,de[1]=new GeometryLocation(le,fe),null}}},DistanceOp.prototype.computeMinDistanceLinesPoints=function(t,i,n){for(var r=this,u=0;u<t.size();u++)for(var d=t.get(u),c=0;c<i.size();c++){var b=i.get(c);if(r.computeMinDistance(d,b,n),r._minDistance<=r._terminateDistance)return null}},DistanceOp.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),i=LinearComponentExtracter.getLines(this._geom[0]),n=LinearComponentExtracter.getLines(this._geom[1]),r=PointExtracter.getPoints(this._geom[0]),u=PointExtracter.getPoints(this._geom[1]);if(this.computeMinDistanceLines(i,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(i,u,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance)||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance))return null;t[0]=null,t[1]=null,this.computeMinDistancePoints(r,u,t),this.updateMinDistance(t,!1)},DistanceOp.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},DistanceOp.prototype.updateMinDistance=function(t,i){if(t[0]===null)return null;i?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},DistanceOp.prototype.nearestPoints=function(){this.computeMinDistance();var t=[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()];return t},DistanceOp.prototype.computeMinDistance=function(){var t=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof LineString&&arguments[1]instanceof Point){var i=arguments[0],n=arguments[1],r=arguments[2];if(i.getEnvelopeInternal().distance(n.getEnvelopeInternal())>this._minDistance)return null;for(var u=i.getCoordinates(),d=n.getCoordinate(),c=0;c<u.length-1;c++){var b=CGAlgorithms.distancePointLine(d,u[c],u[c+1]);if(b<t._minDistance){t._minDistance=b;var S=new LineSegment(u[c],u[c+1]),C=S.closestPoint(d);r[0]=new GeometryLocation(i,c,C),r[1]=new GeometryLocation(n,0,d)}if(t._minDistance<=t._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof LineString&&arguments[1]instanceof LineString){var O=arguments[0],D=arguments[1],H=arguments[2];if(O.getEnvelopeInternal().distance(D.getEnvelopeInternal())>this._minDistance)return null;for(var K=O.getCoordinates(),le=D.getCoordinates(),de=0;de<K.length-1;de++)for(var fe=0;fe<le.length-1;fe++){var be=CGAlgorithms.distanceLineLine(K[de],K[de+1],le[fe],le[fe+1]);if(be<t._minDistance){t._minDistance=be;var Ie=new LineSegment(K[de],K[de+1]),De=new LineSegment(le[fe],le[fe+1]),Ze=Ie.closestPoints(De);H[0]=new GeometryLocation(O,de,Ze[0]),H[1]=new GeometryLocation(D,fe,Ze[1])}if(t._minDistance<=t._terminateDistance)return null}}}},DistanceOp.prototype.computeMinDistancePoints=function(t,i,n){for(var r=this,u=0;u<t.size();u++)for(var d=t.get(u),c=0;c<i.size();c++){var b=i.get(c),S=d.getCoordinate().distance(b.getCoordinate());if(S<r._minDistance&&(r._minDistance=S,n[0]=new GeometryLocation(d,0,d.getCoordinate()),n[1]=new GeometryLocation(b,0,b.getCoordinate())),r._minDistance<=r._terminateDistance)return null}},DistanceOp.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new IllegalArgumentException("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},DistanceOp.prototype.computeMinDistanceLines=function(t,i,n){for(var r=this,u=0;u<t.size();u++)for(var d=t.get(u),c=0;c<i.size();c++){var b=i.get(c);if(r.computeMinDistance(d,b,n),r._minDistance<=r._terminateDistance)return null}},DistanceOp.prototype.interfaces_=function(){return[]},DistanceOp.prototype.getClass=function(){return DistanceOp},DistanceOp.distance=function(t,i){var n=new DistanceOp(t,i);return n.distance()},DistanceOp.isWithinDistance=function(t,i,n){var r=new DistanceOp(t,i,n);return r.distance()<=n},DistanceOp.nearestPoints=function(t,i){var n=new DistanceOp(t,i);return n.nearestPoints()};var PointPairDistance$2=function(){this._pt=[new Coordinate,new Coordinate],this._distance=Double.NaN,this._isNull=!0};PointPairDistance$2.prototype.getCoordinates=function(){return this._pt},PointPairDistance$2.prototype.getCoordinate=function(t){return this._pt[t]},PointPairDistance$2.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var i=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(i,n),null;var r=i.distance(n);r<this._distance&&this.initialize(i,n,r)}},PointPairDistance$2.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],i=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(i),this._distance=t.distance(i),this._isNull=!1}else if(arguments.length===3){var n=arguments[0],r=arguments[1],u=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=u,this._isNull=!1}},PointPairDistance$2.prototype.toString=function(){return WKTWriter.toLineString(this._pt[0],this._pt[1])},PointPairDistance$2.prototype.getDistance=function(){return this._distance},PointPairDistance$2.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var i=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(i,n),null;var r=i.distance(n);r>this._distance&&this.initialize(i,n,r)}},PointPairDistance$2.prototype.interfaces_=function(){return[]},PointPairDistance$2.prototype.getClass=function(){return PointPairDistance$2};var DistanceToPoint=function(){};DistanceToPoint.prototype.interfaces_=function(){return[]},DistanceToPoint.prototype.getClass=function(){return DistanceToPoint},DistanceToPoint.computeDistance=function(){if(arguments[2]instanceof PointPairDistance$2&&arguments[0]instanceof LineString&&arguments[1]instanceof Coordinate)for(var t=arguments[0],i=arguments[1],n=arguments[2],r=new LineSegment,u=t.getCoordinates(),d=0;d<u.length-1;d++){r.setCoordinates(u[d],u[d+1]);var c=r.closestPoint(i);n.setMinimum(c,i)}else if(arguments[2]instanceof PointPairDistance$2&&arguments[0]instanceof Polygon&&arguments[1]instanceof Coordinate){var b=arguments[0],S=arguments[1],C=arguments[2];DistanceToPoint.computeDistance(b.getExteriorRing(),S,C);for(var O=0;O<b.getNumInteriorRing();O++)DistanceToPoint.computeDistance(b.getInteriorRingN(O),S,C)}else if(arguments[2]instanceof PointPairDistance$2&&arguments[0]instanceof Geometry&&arguments[1]instanceof Coordinate){var D=arguments[0],H=arguments[1],K=arguments[2];if(D instanceof LineString)DistanceToPoint.computeDistance(D,H,K);else if(D instanceof Polygon)DistanceToPoint.computeDistance(D,H,K);else if(D instanceof GeometryCollection)for(var le=D,de=0;de<le.getNumGeometries();de++){var fe=le.getGeometryN(de);DistanceToPoint.computeDistance(fe,H,K)}else K.setMinimum(D.getCoordinate(),H)}else if(arguments[2]instanceof PointPairDistance$2&&arguments[0]instanceof LineSegment&&arguments[1]instanceof Coordinate){var be=arguments[0],Ie=arguments[1],De=arguments[2],Ze=be.closestPoint(Ie);De.setMinimum(Ze,Ie)}};var DiscreteHausdorffDistance=function(){this._g0=null,this._g1=null,this._ptDist=new PointPairDistance$2,this._densifyFrac=0;var t=arguments[0],i=arguments[1];this._g0=t,this._g1=i},staticAccessors$39={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};DiscreteHausdorffDistance.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},DiscreteHausdorffDistance.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new IllegalArgumentException("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},DiscreteHausdorffDistance.prototype.compute=function(t,i){this.computeOrientedDistance(t,i,this._ptDist),this.computeOrientedDistance(i,t,this._ptDist)},DiscreteHausdorffDistance.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},DiscreteHausdorffDistance.prototype.computeOrientedDistance=function(t,i,n){var r=new MaxPointDistanceFilter$1(i);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var u=new MaxDensifiedByFractionDistanceFilter(i,this._densifyFrac);t.apply(u),n.setMaximum(u.getMaxPointDistance())}},DiscreteHausdorffDistance.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},DiscreteHausdorffDistance.prototype.interfaces_=function(){return[]},DiscreteHausdorffDistance.prototype.getClass=function(){return DiscreteHausdorffDistance},DiscreteHausdorffDistance.distance=function(){if(arguments.length===2){var t=arguments[0],i=arguments[1],n=new DiscreteHausdorffDistance(t,i);return n.distance()}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2],c=new DiscreteHausdorffDistance(r,u);return c.setDensifyFraction(d),c.distance()}},staticAccessors$39.MaxPointDistanceFilter.get=function(){return MaxPointDistanceFilter$1},staticAccessors$39.MaxDensifiedByFractionDistanceFilter.get=function(){return MaxDensifiedByFractionDistanceFilter},Object.defineProperties(DiscreteHausdorffDistance,staticAccessors$39);var MaxPointDistanceFilter$1=function(){this._maxPtDist=new PointPairDistance$2,this._minPtDist=new PointPairDistance$2,this._euclideanDist=new DistanceToPoint,this._geom=null;var t=arguments[0];this._geom=t};MaxPointDistanceFilter$1.prototype.filter=function(t){this._minPtDist.initialize(),DistanceToPoint.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},MaxPointDistanceFilter$1.prototype.getMaxPointDistance=function(){return this._maxPtDist},MaxPointDistanceFilter$1.prototype.interfaces_=function(){return[CoordinateFilter]},MaxPointDistanceFilter$1.prototype.getClass=function(){return MaxPointDistanceFilter$1};var MaxDensifiedByFractionDistanceFilter=function(){this._maxPtDist=new PointPairDistance$2,this._minPtDist=new PointPairDistance$2,this._geom=null,this._numSubSegs=0;var t=arguments[0],i=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/i))};MaxDensifiedByFractionDistanceFilter.prototype.filter=function(t,i){var n=this;if(i===0)return null;for(var r=t.getCoordinate(i-1),u=t.getCoordinate(i),d=(u.x-r.x)/this._numSubSegs,c=(u.y-r.y)/this._numSubSegs,b=0;b<this._numSubSegs;b++){var S=r.x+b*d,C=r.y+b*c,O=new Coordinate(S,C);n._minPtDist.initialize(),DistanceToPoint.computeDistance(n._geom,O,n._minPtDist),n._maxPtDist.setMaximum(n._minPtDist)}},MaxDensifiedByFractionDistanceFilter.prototype.isDone=function(){return!1},MaxDensifiedByFractionDistanceFilter.prototype.isGeometryChanged=function(){return!1},MaxDensifiedByFractionDistanceFilter.prototype.getMaxPointDistance=function(){return this._maxPtDist},MaxDensifiedByFractionDistanceFilter.prototype.interfaces_=function(){return[CoordinateSequenceFilter]},MaxDensifiedByFractionDistanceFilter.prototype.getClass=function(){return MaxDensifiedByFractionDistanceFilter};var BufferDistanceValidator=function(t,i,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=i||null,this._result=n||null},staticAccessors$37={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};BufferDistanceValidator.prototype.checkMaximumDistance=function(t,i,n){var r=new DiscreteHausdorffDistance(i,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var u=r.getCoordinates();this._errorLocation=u[1],this._errorIndicator=t.getFactory().createLineString(u),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+WKTWriter.toLineString(u[0],u[1])+")"}},BufferDistanceValidator.prototype.isValid=function(){var t=Math.abs(this._bufDistance),i=BufferDistanceValidator.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-i,this._maxValidDistance=t+i,this._input.isEmpty()||this._result.isEmpty()?!0:(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),BufferDistanceValidator.VERBOSE&&System.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},BufferDistanceValidator.prototype.checkNegativeValid=function(){if(!(this._input instanceof Polygon||this._input instanceof MultiPolygon||this._input instanceof GeometryCollection))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},BufferDistanceValidator.prototype.getErrorIndicator=function(){return this._errorIndicator},BufferDistanceValidator.prototype.checkMinimumDistance=function(t,i,n){var r=new DistanceOp(t,i,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var u=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(u),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+WKTWriter.toLineString(u[0],u[1])+" )"}},BufferDistanceValidator.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},BufferDistanceValidator.prototype.getErrorLocation=function(){return this._errorLocation},BufferDistanceValidator.prototype.getPolygonLines=function(t){for(var i=new ArrayList,n=new LinearComponentExtracter(i),r=PolygonExtracter.getPolygons(t),u=r.iterator();u.hasNext();){var d=u.next();d.apply(n)}return t.getFactory().buildGeometry(i)},BufferDistanceValidator.prototype.getErrorMessage=function(){return this._errMsg},BufferDistanceValidator.prototype.interfaces_=function(){return[]},BufferDistanceValidator.prototype.getClass=function(){return BufferDistanceValidator},staticAccessors$37.VERBOSE.get=function(){return!1},staticAccessors$37.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(BufferDistanceValidator,staticAccessors$37);var BufferResultValidator=function(t,i,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=i||null,this._result=n||null},staticAccessors$40={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};BufferResultValidator.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},BufferResultValidator.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*BufferResultValidator.MAX_ENV_DIFF_FRAC;t===0&&(t=.001);var i=new Envelope(this._input.getEnvelopeInternal());i.expandBy(this._distance);var n=new Envelope(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(i)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},BufferResultValidator.prototype.checkDistance=function(){var t=new BufferDistanceValidator(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},BufferResultValidator.prototype.checkArea=function(){var t=this._input.getArea(),i=this._result.getArea();this._distance>0&&t>i&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<i&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},BufferResultValidator.prototype.checkPolygonal=function(){this._result instanceof Polygon||this._result instanceof MultiPolygon||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},BufferResultValidator.prototype.getErrorIndicator=function(){return this._errorIndicator},BufferResultValidator.prototype.getErrorLocation=function(){return this._errorLocation},BufferResultValidator.prototype.checkExpectedEmpty=function(){if(this._input.getDimension()>=2||this._distance>0)return null;this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),this.report("ExpectedEmpty")},BufferResultValidator.prototype.report=function(t){if(!BufferResultValidator.VERBOSE)return null;System.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},BufferResultValidator.prototype.getErrorMessage=function(){return this._errorMsg},BufferResultValidator.prototype.interfaces_=function(){return[]},BufferResultValidator.prototype.getClass=function(){return BufferResultValidator},BufferResultValidator.isValidMsg=function(t,i,n){var r=new BufferResultValidator(t,i,n);return r.isValid()?null:r.getErrorMessage()},BufferResultValidator.isValid=function(t,i,n){var r=new BufferResultValidator(t,i,n);return!!r.isValid()},staticAccessors$40.VERBOSE.get=function(){return!1},staticAccessors$40.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(BufferResultValidator,staticAccessors$40);var BasicSegmentString=function(){this._pts=null,this._data=null;var t=arguments[0],i=arguments[1];this._pts=t,this._data=i};BasicSegmentString.prototype.getCoordinates=function(){return this._pts},BasicSegmentString.prototype.size=function(){return this._pts.length},BasicSegmentString.prototype.getCoordinate=function(t){return this._pts[t]},BasicSegmentString.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},BasicSegmentString.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Octant.octant(this.getCoordinate(t),this.getCoordinate(t+1))},BasicSegmentString.prototype.setData=function(t){this._data=t},BasicSegmentString.prototype.getData=function(){return this._data},BasicSegmentString.prototype.toString=function(){return WKTWriter.toLineString(new CoordinateArraySequence(this._pts))},BasicSegmentString.prototype.interfaces_=function(){return[SegmentString]},BasicSegmentString.prototype.getClass=function(){return BasicSegmentString};var InteriorIntersectionFinder=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new ArrayList,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};InteriorIntersectionFinder.prototype.getInteriorIntersection=function(){return this._interiorIntersection},InteriorIntersectionFinder.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},InteriorIntersectionFinder.prototype.getIntersectionSegments=function(){return this._intSegments},InteriorIntersectionFinder.prototype.count=function(){return this._intersectionCount},InteriorIntersectionFinder.prototype.getIntersections=function(){return this._intersections},InteriorIntersectionFinder.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},InteriorIntersectionFinder.prototype.setKeepIntersections=function(t){this._keepIntersections=t},InteriorIntersectionFinder.prototype.processIntersections=function(t,i,n,r){if(!this._findAllIntersections&&this.hasIntersection()||t===n&&i===r)return null;if(this._isCheckEndSegmentsOnly){var u=this.isEndSegment(t,i)||this.isEndSegment(n,r);if(!u)return null}var d=t.getCoordinates()[i],c=t.getCoordinates()[i+1],b=n.getCoordinates()[r],S=n.getCoordinates()[r+1];this._li.computeIntersection(d,c,b,S),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=d,this._intSegments[1]=c,this._intSegments[2]=b,this._intSegments[3]=S,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},InteriorIntersectionFinder.prototype.isEndSegment=function(t,i){return i===0||i>=t.size()-2},InteriorIntersectionFinder.prototype.hasIntersection=function(){return this._interiorIntersection!==null},InteriorIntersectionFinder.prototype.isDone=function(){return this._findAllIntersections?!1:this._interiorIntersection!==null},InteriorIntersectionFinder.prototype.interfaces_=function(){return[SegmentIntersector]},InteriorIntersectionFinder.prototype.getClass=function(){return InteriorIntersectionFinder},InteriorIntersectionFinder.createAllIntersectionsFinder=function(t){var i=new InteriorIntersectionFinder(t);return i.setFindAllIntersections(!0),i},InteriorIntersectionFinder.createAnyIntersectionFinder=function(t){return new InteriorIntersectionFinder(t)},InteriorIntersectionFinder.createIntersectionCounter=function(t){var i=new InteriorIntersectionFinder(t);return i.setFindAllIntersections(!0),i.setKeepIntersections(!1),i};var FastNodingValidator=function(){this._li=new RobustLineIntersector,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};FastNodingValidator.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},FastNodingValidator.prototype.getIntersections=function(){return this._segInt.getIntersections()},FastNodingValidator.prototype.isValid=function(){return this.execute(),this._isValid},FastNodingValidator.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},FastNodingValidator.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new InteriorIntersectionFinder(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new MCIndexNoder;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},FastNodingValidator.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new TopologyException(this.getErrorMessage(),this._segInt.getInteriorIntersection())},FastNodingValidator.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+WKTWriter.toLineString(t[0],t[1])+" and "+WKTWriter.toLineString(t[2],t[3])},FastNodingValidator.prototype.interfaces_=function(){return[]},FastNodingValidator.prototype.getClass=function(){return FastNodingValidator},FastNodingValidator.computeIntersections=function(t){var i=new FastNodingValidator(t);return i.setFindAllIntersections(!0),i.isValid(),i.getIntersections()};var EdgeNodingValidator=function e(){this._nv=null;var t=arguments[0];this._nv=new FastNodingValidator(e.toSegmentStrings(t))};EdgeNodingValidator.prototype.checkValid=function(){this._nv.checkValid()},EdgeNodingValidator.prototype.interfaces_=function(){return[]},EdgeNodingValidator.prototype.getClass=function(){return EdgeNodingValidator},EdgeNodingValidator.toSegmentStrings=function(t){for(var i=new ArrayList,n=t.iterator();n.hasNext();){var r=n.next();i.add(new BasicSegmentString(r.getCoordinates(),r))}return i},EdgeNodingValidator.checkValid=function(t){var i=new EdgeNodingValidator(t);i.checkValid()};var GeometryCollectionMapper=function(t){this._mapOp=t};GeometryCollectionMapper.prototype.map=function(t){for(var i=this,n=new ArrayList,r=0;r<t.getNumGeometries();r++){var u=i._mapOp.map(t.getGeometryN(r));u.isEmpty()||n.add(u)}return t.getFactory().createGeometryCollection(GeometryFactory.toGeometryArray(n))},GeometryCollectionMapper.prototype.interfaces_=function(){return[]},GeometryCollectionMapper.prototype.getClass=function(){return GeometryCollectionMapper},GeometryCollectionMapper.map=function(t,i){var n=new GeometryCollectionMapper(i);return n.map(t)};var LineBuilder=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new ArrayList,this._resultLineList=new ArrayList;var t=arguments[0],i=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=i,this._ptLocator=n};LineBuilder.prototype.collectLines=function(t){for(var i=this,n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var r=n.next();i.collectLineEdge(r,t,i._lineEdgesList),i.collectBoundaryTouchEdge(r,t,i._lineEdgesList)}},LineBuilder.prototype.labelIsolatedLine=function(t,i){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(i));t.getLabel().setLocation(i,n)},LineBuilder.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},LineBuilder.prototype.collectLineEdge=function(t,i,n){var r=t.getLabel(),u=t.getEdge();t.isLineEdge()&&!t.isVisited()&&OverlayOp.isResultOfOp(r,i)&&!u.isCovered()&&(n.add(u),t.setVisitedEdge(!0))},LineBuilder.prototype.findCoveredLineEdges=function(){for(var t=this,i=this._op.getGraph().getNodes().iterator();i.hasNext();){var n=i.next();n.getEdges().findCoveredLineEdges()}for(var r=this._op.getGraph().getEdgeEnds().iterator();r.hasNext();){var u=r.next(),d=u.getEdge();if(u.isLineEdge()&&!d.isCoveredSet()){var c=t._op.isCoveredByA(u.getCoordinate());d.setCovered(c)}}},LineBuilder.prototype.labelIsolatedLines=function(t){for(var i=this,n=t.iterator();n.hasNext();){var r=n.next(),u=r.getLabel();r.isIsolated()&&(u.isNull(0)?i.labelIsolatedLine(r,0):i.labelIsolatedLine(r,1))}},LineBuilder.prototype.buildLines=function(t){for(var i=this,n=this._lineEdgesList.iterator();n.hasNext();){var r=n.next(),u=i._geometryFactory.createLineString(r.getCoordinates());i._resultLineList.add(u),r.setInResult(!0)}},LineBuilder.prototype.collectBoundaryTouchEdge=function(t,i,n){var r=t.getLabel();if(t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult())return null;Assert.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),OverlayOp.isResultOfOp(r,i)&&i===OverlayOp.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))},LineBuilder.prototype.interfaces_=function(){return[]},LineBuilder.prototype.getClass=function(){return LineBuilder};var PointBuilder=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new ArrayList;var t=arguments[0],i=arguments[1];this._op=t,this._geometryFactory=i};PointBuilder.prototype.filterCoveredNodeToPoint=function(t){var i=t.getCoordinate();if(!this._op.isCoveredByLA(i)){var n=this._geometryFactory.createPoint(i);this._resultPointList.add(n)}},PointBuilder.prototype.extractNonCoveredResultNodes=function(t){for(var i=this,n=this._op.getGraph().getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isInResult()&&!r.isIncidentEdgeInResult()&&(r.getEdges().getDegree()===0||t===OverlayOp.INTERSECTION)){var u=r.getLabel();OverlayOp.isResultOfOp(u,t)&&i.filterCoveredNodeToPoint(r)}}},PointBuilder.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},PointBuilder.prototype.interfaces_=function(){return[]},PointBuilder.prototype.getClass=function(){return PointBuilder};var GeometryTransformer=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};GeometryTransformer.prototype.transformPoint=function(t,i){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},GeometryTransformer.prototype.transformPolygon=function(t,i){var n=this,r=!0,u=this.transformLinearRing(t.getExteriorRing(),t);(u===null||!(u instanceof LinearRing)||u.isEmpty())&&(r=!1);for(var d=new ArrayList,c=0;c<t.getNumInteriorRing();c++){var b=n.transformLinearRing(t.getInteriorRingN(c),t);b===null||b.isEmpty()||(b instanceof LinearRing||(r=!1),d.add(b))}if(r)return this._factory.createPolygon(u,d.toArray([]));var S=new ArrayList;return u!==null&&S.add(u),S.addAll(d),this._factory.buildGeometry(S)},GeometryTransformer.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},GeometryTransformer.prototype.getInputGeometry=function(){return this._inputGeom},GeometryTransformer.prototype.transformMultiLineString=function(t,i){for(var n=this,r=new ArrayList,u=0;u<t.getNumGeometries();u++){var d=n.transformLineString(t.getGeometryN(u),t);d!==null&&(d.isEmpty()||r.add(d))}return this._factory.buildGeometry(r)},GeometryTransformer.prototype.transformCoordinates=function(t,i){return this.copy(t)},GeometryTransformer.prototype.transformLineString=function(t,i){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},GeometryTransformer.prototype.transformMultiPoint=function(t,i){for(var n=this,r=new ArrayList,u=0;u<t.getNumGeometries();u++){var d=n.transformPoint(t.getGeometryN(u),t);d!==null&&(d.isEmpty()||r.add(d))}return this._factory.buildGeometry(r)},GeometryTransformer.prototype.transformMultiPolygon=function(t,i){for(var n=this,r=new ArrayList,u=0;u<t.getNumGeometries();u++){var d=n.transformPolygon(t.getGeometryN(u),t);d!==null&&(d.isEmpty()||r.add(d))}return this._factory.buildGeometry(r)},GeometryTransformer.prototype.copy=function(t){return t.copy()},GeometryTransformer.prototype.transformGeometryCollection=function(t,i){for(var n=this,r=new ArrayList,u=0;u<t.getNumGeometries();u++){var d=n.transform(t.getGeometryN(u));d!==null&&(n._pruneEmptyGeometry&&d.isEmpty()||r.add(d))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(GeometryFactory.toGeometryArray(r)):this._factory.buildGeometry(r)},GeometryTransformer.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Point)return this.transformPoint(t,null);if(t instanceof MultiPoint)return this.transformMultiPoint(t,null);if(t instanceof LinearRing)return this.transformLinearRing(t,null);if(t instanceof LineString)return this.transformLineString(t,null);if(t instanceof MultiLineString)return this.transformMultiLineString(t,null);if(t instanceof Polygon)return this.transformPolygon(t,null);if(t instanceof MultiPolygon)return this.transformMultiPolygon(t,null);if(t instanceof GeometryCollection)return this.transformGeometryCollection(t,null);throw new IllegalArgumentException("Unknown Geometry subtype: "+t.getClass().getName())},GeometryTransformer.prototype.transformLinearRing=function(t,i){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(n===null)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},GeometryTransformer.prototype.interfaces_=function(){return[]},GeometryTransformer.prototype.getClass=function(){return GeometryTransformer};var LineStringSnapper=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new LineSegment,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof LineString&&typeof arguments[1]=="number"){var t=arguments[0],i=arguments[1];e.call(this,t.getCoordinates(),i)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=e.isClosed(n),this._snapTolerance=r}};LineStringSnapper.prototype.snapVertices=function(t,i){for(var n=this,r=this._isClosed?t.size()-1:t.size(),u=0;u<r;u++){var d=t.get(u),c=n.findSnapForVertex(d,i);c!==null&&(t.set(u,new Coordinate(c)),u===0&&n._isClosed&&t.set(t.size()-1,new Coordinate(c)))}},LineStringSnapper.prototype.findSnapForVertex=function(t,i){for(var n=this,r=0;r<i.length;r++){if(t.equals2D(i[r]))return null;if(t.distance(i[r])<n._snapTolerance)return i[r]}return null},LineStringSnapper.prototype.snapTo=function(t){var i=new CoordinateList(this._srcPts);this.snapVertices(i,t),this.snapSegments(i,t);var n=i.toCoordinateArray();return n},LineStringSnapper.prototype.snapSegments=function(t,i){var n=this;if(i.length===0)return null;var r=i.length;i[0].equals2D(i[i.length-1])&&(r=i.length-1);for(var u=0;u<r;u++){var d=i[u],c=n.findSegmentIndexToSnap(d,t);c>=0&&t.add(c+1,new Coordinate(d),!1)}},LineStringSnapper.prototype.findSegmentIndexToSnap=function(t,i){for(var n=this,r=Double.MAX_VALUE,u=-1,d=0;d<i.size()-1;d++){if(n._seg.p0=i.get(d),n._seg.p1=i.get(d+1),n._seg.p0.equals2D(t)||n._seg.p1.equals2D(t)){if(n._allowSnappingToSourceVertices)continue;return-1}var c=n._seg.distance(t);c<n._snapTolerance&&c<r&&(r=c,u=d)}return u},LineStringSnapper.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},LineStringSnapper.prototype.interfaces_=function(){return[]},LineStringSnapper.prototype.getClass=function(){return LineStringSnapper},LineStringSnapper.isClosed=function(t){return t.length<=1?!1:t[0].equals2D(t[t.length-1])};var GeometrySnapper=function(t){this._srcGeom=t||null},staticAccessors$41={SNAP_PRECISION_FACTOR:{configurable:!0}};GeometrySnapper.prototype.snapTo=function(t,i){var n=this.extractTargetCoordinates(t),r=new SnapTransformer(i,n);return r.transform(this._srcGeom)},GeometrySnapper.prototype.snapToSelf=function(t,i){var n=this.extractTargetCoordinates(this._srcGeom),r=new SnapTransformer(t,n,!0),u=r.transform(this._srcGeom),d=u;return i&&hasInterface(d,Polygonal)&&(d=u.buffer(0)),d},GeometrySnapper.prototype.computeSnapTolerance=function(t){var i=this.computeMinimumSegmentLength(t),n=i/10;return n},GeometrySnapper.prototype.extractTargetCoordinates=function(t){for(var i=new TreeSet,n=t.getCoordinates(),r=0;r<n.length;r++)i.add(n[r]);return i.toArray(new Array(0).fill(null))},GeometrySnapper.prototype.computeMinimumSegmentLength=function(t){for(var i=Double.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<i&&(i=r)}return i},GeometrySnapper.prototype.interfaces_=function(){return[]},GeometrySnapper.prototype.getClass=function(){return GeometrySnapper},GeometrySnapper.snap=function(t,i,n){var r=new Array(2).fill(null),u=new GeometrySnapper(t);r[0]=u.snapTo(i,n);var d=new GeometrySnapper(i);return r[1]=d.snapTo(r[0],n),r},GeometrySnapper.computeOverlaySnapTolerance=function(){if(arguments.length===1){var t=arguments[0],i=GeometrySnapper.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===PrecisionModel.FIXED){var r=1/n.getScale()*2/1.415;r>i&&(i=r)}return i}else if(arguments.length===2){var u=arguments[0],d=arguments[1];return Math.min(GeometrySnapper.computeOverlaySnapTolerance(u),GeometrySnapper.computeOverlaySnapTolerance(d))}},GeometrySnapper.computeSizeBasedSnapTolerance=function(t){var i=t.getEnvelopeInternal(),n=Math.min(i.getHeight(),i.getWidth()),r=n*GeometrySnapper.SNAP_PRECISION_FACTOR;return r},GeometrySnapper.snapToSelf=function(t,i,n){var r=new GeometrySnapper(t);return r.snapToSelf(i,n)},staticAccessors$41.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(GeometrySnapper,staticAccessors$41);var SnapTransformer=function(e){function t(i,n,r){e.call(this),this._snapTolerance=i||null,this._snapPts=n||null,this._isSelfSnap=r!==void 0?r:!1}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(n,r){var u=new LineStringSnapper(n,this._snapTolerance);return u.setAllowSnappingToSourceVertices(this._isSelfSnap),u.snapTo(r)},t.prototype.transformCoordinates=function(n,r){var u=n.toCoordinateArray(),d=this.snapLine(u,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(d)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(GeometryTransformer),CommonBits=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};CommonBits.prototype.getCommon=function(){return Double.longBitsToDouble(this._commonBits)},CommonBits.prototype.add=function(t){var i=Double.doubleToLongBits(t);if(this._isFirst)return this._commonBits=i,this._commonSignExp=CommonBits.signExpBits(this._commonBits),this._isFirst=!1,null;var n=CommonBits.signExpBits(i);if(n!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=CommonBits.numCommonMostSigMantissaBits(this._commonBits,i),this._commonBits=CommonBits.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))},CommonBits.prototype.toString=function(){if(arguments.length===1){var t=arguments[0],i=Double.longBitsToDouble(t),n=Double.toBinaryString(t),r="0000000000000000000000000000000000000000000000000000000000000000"+n,u=r.substring(r.length-64),d=u.substring(0,1)+"  "+u.substring(1,12)+"(exp) "+u.substring(12)+" [ "+i+" ]";return d}},CommonBits.prototype.interfaces_=function(){return[]},CommonBits.prototype.getClass=function(){return CommonBits},CommonBits.getBit=function(t,i){var n=1<<i;return t&n?1:0},CommonBits.signExpBits=function(t){return t>>52},CommonBits.zeroLowerBits=function(t,i){var n=(1<<i)-1,r=~n,u=t&r;return u},CommonBits.numCommonMostSigMantissaBits=function(t,i){for(var n=0,r=52;r>=0;r--){if(CommonBits.getBit(t,r)!==CommonBits.getBit(i,r))return n;n++}return 52};var CommonBitsRemover=function(){this._commonCoord=null,this._ccFilter=new CommonCoordinateFilter},staticAccessors$42={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};CommonBitsRemover.prototype.addCommonBits=function(t){var i=new Translater(this._commonCoord);t.apply(i),t.geometryChanged()},CommonBitsRemover.prototype.removeCommonBits=function(t){if(this._commonCoord.x===0&&this._commonCoord.y===0)return t;var i=new Coordinate(this._commonCoord);i.x=-i.x,i.y=-i.y;var n=new Translater(i);return t.apply(n),t.geometryChanged(),t},CommonBitsRemover.prototype.getCommonCoordinate=function(){return this._commonCoord},CommonBitsRemover.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},CommonBitsRemover.prototype.interfaces_=function(){return[]},CommonBitsRemover.prototype.getClass=function(){return CommonBitsRemover},staticAccessors$42.CommonCoordinateFilter.get=function(){return CommonCoordinateFilter},staticAccessors$42.Translater.get=function(){return Translater},Object.defineProperties(CommonBitsRemover,staticAccessors$42);var CommonCoordinateFilter=function(){this._commonBitsX=new CommonBits,this._commonBitsY=new CommonBits};CommonCoordinateFilter.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},CommonCoordinateFilter.prototype.getCommonCoordinate=function(){return new Coordinate(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},CommonCoordinateFilter.prototype.interfaces_=function(){return[CoordinateFilter]},CommonCoordinateFilter.prototype.getClass=function(){return CommonCoordinateFilter};var Translater=function(){this.trans=null;var t=arguments[0];this.trans=t};Translater.prototype.filter=function(t,i){var n=t.getOrdinate(i,0)+this.trans.x,r=t.getOrdinate(i,1)+this.trans.y;t.setOrdinate(i,0,n),t.setOrdinate(i,1,r)},Translater.prototype.isDone=function(){return!1},Translater.prototype.isGeometryChanged=function(){return!0},Translater.prototype.interfaces_=function(){return[CoordinateSequenceFilter]},Translater.prototype.getClass=function(){return Translater};var SnapOverlayOp=function(t,i){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=i,this.computeSnapTolerance()};SnapOverlayOp.prototype.selfSnap=function(t){var i=new GeometrySnapper(t),n=i.snapTo(t,this._snapTolerance);return n},SnapOverlayOp.prototype.removeCommonBits=function(t){this._cbr=new CommonBitsRemover,this._cbr.add(t[0]),this._cbr.add(t[1]);var i=new Array(2).fill(null);return i[0]=this._cbr.removeCommonBits(t[0].copy()),i[1]=this._cbr.removeCommonBits(t[1].copy()),i},SnapOverlayOp.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},SnapOverlayOp.prototype.getResultGeometry=function(t){var i=this.snap(this._geom),n=OverlayOp.overlayOp(i[0],i[1],t);return this.prepareResult(n)},SnapOverlayOp.prototype.checkValid=function(t){t.isValid()||System.out.println("Snapped geometry is invalid")},SnapOverlayOp.prototype.computeSnapTolerance=function(){this._snapTolerance=GeometrySnapper.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},SnapOverlayOp.prototype.snap=function(t){var i=this.removeCommonBits(t),n=GeometrySnapper.snap(i[0],i[1],this._snapTolerance);return n},SnapOverlayOp.prototype.interfaces_=function(){return[]},SnapOverlayOp.prototype.getClass=function(){return SnapOverlayOp},SnapOverlayOp.overlayOp=function(t,i,n){var r=new SnapOverlayOp(t,i);return r.getResultGeometry(n)},SnapOverlayOp.union=function(t,i){return SnapOverlayOp.overlayOp(t,i,OverlayOp.UNION)},SnapOverlayOp.intersection=function(t,i){return SnapOverlayOp.overlayOp(t,i,OverlayOp.INTERSECTION)},SnapOverlayOp.symDifference=function(t,i){return SnapOverlayOp.overlayOp(t,i,OverlayOp.SYMDIFFERENCE)},SnapOverlayOp.difference=function(t,i){return SnapOverlayOp.overlayOp(t,i,OverlayOp.DIFFERENCE)};var SnapIfNeededOverlayOp=function(t,i){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=i};SnapIfNeededOverlayOp.prototype.getResultGeometry=function(t){var i=null,n=!1,r=null;try{i=OverlayOp.overlayOp(this._geom[0],this._geom[1],t);var u=!0;u&&(n=!0)}catch(d){if(d instanceof RuntimeException)r=d;else throw d}finally{}if(!n)try{i=SnapOverlayOp.overlayOp(this._geom[0],this._geom[1],t)}catch(d){throw d instanceof RuntimeException?r:d}finally{}return i},SnapIfNeededOverlayOp.prototype.interfaces_=function(){return[]},SnapIfNeededOverlayOp.prototype.getClass=function(){return SnapIfNeededOverlayOp},SnapIfNeededOverlayOp.overlayOp=function(t,i,n){var r=new SnapIfNeededOverlayOp(t,i);return r.getResultGeometry(n)},SnapIfNeededOverlayOp.union=function(t,i){return SnapIfNeededOverlayOp.overlayOp(t,i,OverlayOp.UNION)},SnapIfNeededOverlayOp.intersection=function(t,i){return SnapIfNeededOverlayOp.overlayOp(t,i,OverlayOp.INTERSECTION)},SnapIfNeededOverlayOp.symDifference=function(t,i){return SnapIfNeededOverlayOp.overlayOp(t,i,OverlayOp.SYMDIFFERENCE)},SnapIfNeededOverlayOp.difference=function(t,i){return SnapIfNeededOverlayOp.overlayOp(t,i,OverlayOp.DIFFERENCE)};var MonotoneChain$2=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],i=arguments[1];this.mce=t,this.chainIndex=i};MonotoneChain$2.prototype.computeIntersections=function(t,i){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,i)},MonotoneChain$2.prototype.interfaces_=function(){return[]},MonotoneChain$2.prototype.getClass=function(){return MonotoneChain$2};var SweepLineEvent=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var t=arguments[0],i=arguments[1];this._eventType=e.DELETE,this._xValue=t,this._insertEvent=i}else if(arguments.length===3){var n=arguments[0],r=arguments[1],u=arguments[2];this._eventType=e.INSERT,this._label=n,this._xValue=r,this._obj=u}},staticAccessors$43={INSERT:{configurable:!0},DELETE:{configurable:!0}};SweepLineEvent.prototype.isDelete=function(){return this._eventType===SweepLineEvent.DELETE},SweepLineEvent.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},SweepLineEvent.prototype.getObject=function(){return this._obj},SweepLineEvent.prototype.compareTo=function(t){var i=t;return this._xValue<i._xValue?-1:this._xValue>i._xValue?1:this._eventType<i._eventType?-1:this._eventType>i._eventType?1:0},SweepLineEvent.prototype.getInsertEvent=function(){return this._insertEvent},SweepLineEvent.prototype.isInsert=function(){return this._eventType===SweepLineEvent.INSERT},SweepLineEvent.prototype.isSameLabel=function(t){return this._label===null?!1:this._label===t._label},SweepLineEvent.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},SweepLineEvent.prototype.interfaces_=function(){return[Comparable]},SweepLineEvent.prototype.getClass=function(){return SweepLineEvent},staticAccessors$43.INSERT.get=function(){return 1},staticAccessors$43.DELETE.get=function(){return 2},Object.defineProperties(SweepLineEvent,staticAccessors$43);var EdgeSetIntersector=function(){};EdgeSetIntersector.prototype.interfaces_=function(){return[]},EdgeSetIntersector.prototype.getClass=function(){return EdgeSetIntersector};var SegmentIntersector$2=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],i=arguments[1],n=arguments[2];this._li=t,this._includeProper=i,this._recordIsolated=n};SegmentIntersector$2.prototype.isTrivialIntersection=function(t,i,n,r){if(t===n&&this._li.getIntersectionNum()===1){if(SegmentIntersector$2.isAdjacentSegments(i,r))return!0;if(t.isClosed()){var u=t.getNumPoints()-1;if(i===0&&r===u||r===0&&i===u)return!0}}return!1},SegmentIntersector$2.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},SegmentIntersector$2.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},SegmentIntersector$2.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},SegmentIntersector$2.prototype.isBoundaryPointInternal=function(t,i){for(var n=i.iterator();n.hasNext();){var r=n.next(),u=r.getCoordinate();if(t.isIntersection(u))return!0}return!1},SegmentIntersector$2.prototype.hasProperIntersection=function(){return this._hasProper},SegmentIntersector$2.prototype.hasIntersection=function(){return this._hasIntersection},SegmentIntersector$2.prototype.isDone=function(){return this._isDone},SegmentIntersector$2.prototype.isBoundaryPoint=function(t,i){return i===null?!1:!!(this.isBoundaryPointInternal(t,i[0])||this.isBoundaryPointInternal(t,i[1]))},SegmentIntersector$2.prototype.setBoundaryNodes=function(t,i){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=i},SegmentIntersector$2.prototype.addIntersections=function(t,i,n,r){if(t===n&&i===r)return null;this.numTests++;var u=t.getCoordinates()[i],d=t.getCoordinates()[i+1],c=n.getCoordinates()[r],b=n.getCoordinates()[r+1];this._li.computeIntersection(u,d,c,b),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,i,n,r)||(this._hasIntersection=!0,(this._includeProper||!this._li.isProper())&&(t.addIntersections(this._li,i,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},SegmentIntersector$2.prototype.interfaces_=function(){return[]},SegmentIntersector$2.prototype.getClass=function(){return SegmentIntersector$2},SegmentIntersector$2.isAdjacentSegments=function(t,i){return Math.abs(t-i)===1};var SimpleMCSweepLineIntersector=function(e){function t(){e.call(this),this.events=new ArrayList,this.nOverlaps=null}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){var n=this;Collections.sort(this.events);for(var r=0;r<this.events.size();r++){var u=n.events.get(r);u.isDelete()&&u.getInsertEvent().setDeleteEventIndex(r)}},t.prototype.computeIntersections=function(){var n=this;if(arguments.length===1){var r=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var u=0;u<this.events.size();u++){var d=n.events.get(u);if(d.isInsert()&&n.processOverlaps(u,d.getDeleteEventIndex(),d,r),r.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof SegmentIntersector$2&&hasInterface(arguments[0],List)&&hasInterface(arguments[1],List)){var c=arguments[0],b=arguments[1],S=arguments[2];this.addEdges(c,c),this.addEdges(b,b),this.computeIntersections(S)}else if(typeof arguments[2]=="boolean"&&hasInterface(arguments[0],List)&&arguments[1]instanceof SegmentIntersector$2){var C=arguments[0],O=arguments[1],D=arguments[2];D?this.addEdges(C,null):this.addEdges(C),this.computeIntersections(O)}}},t.prototype.addEdge=function(n,r){for(var u=this,d=n.getMonotoneChainEdge(),c=d.getStartIndexes(),b=0;b<c.length-1;b++){var S=new MonotoneChain$2(d,b),C=new SweepLineEvent(r,d.getMinX(b),S);u.events.add(C),u.events.add(new SweepLineEvent(d.getMaxX(b),C))}},t.prototype.processOverlaps=function(n,r,u,d){for(var c=this,b=u.getObject(),S=n;S<r;S++){var C=c.events.get(S);if(C.isInsert()){var O=C.getObject();u.isSameLabel(C)||(b.computeIntersections(O,d),c.nOverlaps++)}}},t.prototype.addEdges=function(){var n=this;if(arguments.length===1)for(var r=arguments[0],u=r.iterator();u.hasNext();){var d=u.next();n.addEdge(d,d)}else if(arguments.length===2)for(var c=arguments[0],b=arguments[1],S=c.iterator();S.hasNext();){var C=S.next();n.addEdge(C,b)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(EdgeSetIntersector),IntervalRTreeNode=function(){this._min=Double.POSITIVE_INFINITY,this._max=Double.NEGATIVE_INFINITY},staticAccessors$45={NodeComparator:{configurable:!0}};IntervalRTreeNode.prototype.getMin=function(){return this._min},IntervalRTreeNode.prototype.intersects=function(t,i){return!(this._min>i||this._max<t)},IntervalRTreeNode.prototype.getMax=function(){return this._max},IntervalRTreeNode.prototype.toString=function(){return WKTWriter.toLineString(new Coordinate(this._min,0),new Coordinate(this._max,0))},IntervalRTreeNode.prototype.interfaces_=function(){return[]},IntervalRTreeNode.prototype.getClass=function(){return IntervalRTreeNode},staticAccessors$45.NodeComparator.get=function(){return NodeComparator},Object.defineProperties(IntervalRTreeNode,staticAccessors$45);var NodeComparator=function(){};NodeComparator.prototype.compare=function(t,i){var n=t,r=i,u=(n._min+n._max)/2,d=(r._min+r._max)/2;return u<d?-1:u>d?1:0},NodeComparator.prototype.interfaces_=function(){return[Comparator]},NodeComparator.prototype.getClass=function(){return NodeComparator};var IntervalRTreeLeafNode=function(e){function t(){e.call(this),this._item=null;var i=arguments[0],n=arguments[1],r=arguments[2];this._min=i,this._max=n,this._item=r}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.query=function(n,r,u){if(!this.intersects(n,r))return null;u.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(IntervalRTreeNode),IntervalRTreeBranchNode=function(e){function t(){e.call(this),this._node1=null,this._node2=null;var i=arguments[0],n=arguments[1];this._node1=i,this._node2=n,this.buildExtent(this._node1,this._node2)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(n,r){this._min=Math.min(n._min,r._min),this._max=Math.max(n._max,r._max)},t.prototype.query=function(n,r,u){if(!this.intersects(n,r))return null;this._node1!==null&&this._node1.query(n,r,u),this._node2!==null&&this._node2.query(n,r,u)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(IntervalRTreeNode),SortedPackedIntervalRTree=function(){this._leaves=new ArrayList,this._root=null,this._level=0};SortedPackedIntervalRTree.prototype.buildTree=function(){var t=this;Collections.sort(this._leaves,new IntervalRTreeNode.NodeComparator);for(var i=this._leaves,n=null,r=new ArrayList;;){if(t.buildLevel(i,r),r.size()===1)return r.get(0);n=i,i=r,r=n}},SortedPackedIntervalRTree.prototype.insert=function(t,i,n){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new IntervalRTreeLeafNode(t,i,n))},SortedPackedIntervalRTree.prototype.query=function(t,i,n){this.init(),this._root.query(t,i,n)},SortedPackedIntervalRTree.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},SortedPackedIntervalRTree.prototype.printNode=function(t){System.out.println(WKTWriter.toLineString(new Coordinate(t._min,this._level),new Coordinate(t._max,this._level)))},SortedPackedIntervalRTree.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},SortedPackedIntervalRTree.prototype.buildLevel=function(t,i){this._level++,i.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n),u=n+1<t.size()?t.get(n):null;if(u===null)i.add(r);else{var d=new IntervalRTreeBranchNode(t.get(n),t.get(n+1));i.add(d)}}},SortedPackedIntervalRTree.prototype.interfaces_=function(){return[]},SortedPackedIntervalRTree.prototype.getClass=function(){return SortedPackedIntervalRTree};var ArrayListVisitor=function(){this._items=new ArrayList};ArrayListVisitor.prototype.visitItem=function(t){this._items.add(t)},ArrayListVisitor.prototype.getItems=function(){return this._items},ArrayListVisitor.prototype.interfaces_=function(){return[ItemVisitor]},ArrayListVisitor.prototype.getClass=function(){return ArrayListVisitor};var IndexedPointInAreaLocator=function(){this._index=null;var t=arguments[0];if(!hasInterface(t,Polygonal))throw new IllegalArgumentException("Argument must be Polygonal");this._index=new IntervalIndexedGeometry(t)},staticAccessors$44={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};IndexedPointInAreaLocator.prototype.locate=function(t){var i=new RayCrossingCounter(t),n=new SegmentVisitor(i);return this._index.query(t.y,t.y,n),i.getLocation()},IndexedPointInAreaLocator.prototype.interfaces_=function(){return[PointOnGeometryLocator]},IndexedPointInAreaLocator.prototype.getClass=function(){return IndexedPointInAreaLocator},staticAccessors$44.SegmentVisitor.get=function(){return SegmentVisitor},staticAccessors$44.IntervalIndexedGeometry.get=function(){return IntervalIndexedGeometry},Object.defineProperties(IndexedPointInAreaLocator,staticAccessors$44);var SegmentVisitor=function(){this._counter=null;var t=arguments[0];this._counter=t};SegmentVisitor.prototype.visitItem=function(t){var i=t;this._counter.countSegment(i.getCoordinate(0),i.getCoordinate(1))},SegmentVisitor.prototype.interfaces_=function(){return[ItemVisitor]},SegmentVisitor.prototype.getClass=function(){return SegmentVisitor};var IntervalIndexedGeometry=function(){this._index=new SortedPackedIntervalRTree;var t=arguments[0];this.init(t)};IntervalIndexedGeometry.prototype.init=function(t){for(var i=this,n=LinearComponentExtracter.getLines(t),r=n.iterator();r.hasNext();){var u=r.next(),d=u.getCoordinates();i.addLine(d)}},IntervalIndexedGeometry.prototype.addLine=function(t){for(var i=this,n=1;n<t.length;n++){var r=new LineSegment(t[n-1],t[n]),u=Math.min(r.p0.y,r.p1.y),d=Math.max(r.p0.y,r.p1.y);i._index.insert(u,d,r)}},IntervalIndexedGeometry.prototype.query=function(){if(arguments.length===2){var t=arguments[0],i=arguments[1],n=new ArrayListVisitor;return this._index.query(t,i,n),n.getItems()}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2];this._index.query(r,u,d)}},IntervalIndexedGeometry.prototype.interfaces_=function(){return[]},IntervalIndexedGeometry.prototype.getClass=function(){return IntervalIndexedGeometry};var GeometryGraph=function(e){function t(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new HashMap,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new PointLocator,arguments.length===2){var i=arguments[0],n=arguments[1],r=BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;this._argIndex=i,this._parentGeom=n,this._boundaryNodeRule=r,n!==null&&this.add(n)}else if(arguments.length===3){var u=arguments[0],d=arguments[1],c=arguments[2];this._argIndex=u,this._parentGeom=d,this._boundaryNodeRule=c,d!==null&&this.add(d)}}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.insertBoundaryPoint=function(n,r){var u=this._nodes.addNode(r),d=u.getLabel(),c=1,b=Location.NONE;b=d.getLocation(n,Position.ON),b===Location.BOUNDARY&&c++;var S=t.determineBoundary(this._boundaryNodeRule,c);d.setLocation(n,S)},t.prototype.computeSelfNodes=function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.computeSelfNodes(n,r,!1)}else if(arguments.length===3){var u=arguments[0],d=arguments[1],c=arguments[2],b=new SegmentIntersector$2(u,!0,!1);b.setIsDoneIfProperInt(c);var S=this.createEdgeSetIntersector(),C=this._parentGeom instanceof LinearRing||this._parentGeom instanceof Polygon||this._parentGeom instanceof MultiPolygon,O=d||!C;return S.computeIntersections(this._edges,b,O),this.addSelfIntersectionNodes(this._argIndex),b}},t.prototype.computeSplitEdges=function(n){for(var r=this._edges.iterator();r.hasNext();){var u=r.next();u.eiList.addSplitEdges(n)}},t.prototype.computeEdgeIntersections=function(n,r,u){var d=new SegmentIntersector$2(r,u,!0);d.setBoundaryNodes(this.getBoundaryNodes(),n.getBoundaryNodes());var c=this.createEdgeSetIntersector();return c.computeIntersections(this._edges,n._edges,d),d},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof Point){var n=arguments[0],r=n.getCoordinate();this.insertPoint(this._argIndex,r,Location.INTERIOR)}else if(arguments[0]instanceof Coordinate){var u=arguments[0];this.insertPoint(this._argIndex,u,Location.INTERIOR)}},t.prototype.addPolygon=function(n){var r=this;this.addPolygonRing(n.getExteriorRing(),Location.EXTERIOR,Location.INTERIOR);for(var u=0;u<n.getNumInteriorRing();u++){var d=n.getInteriorRingN(u);r.addPolygonRing(d,Location.INTERIOR,Location.EXTERIOR)}},t.prototype.addEdge=function(n){this.insertEdge(n);var r=n.getCoordinates();this.insertPoint(this._argIndex,r[0],Location.BOUNDARY),this.insertPoint(this._argIndex,r[r.length-1],Location.BOUNDARY)},t.prototype.addLineString=function(n){var r=CoordinateArrays.removeRepeatedPoints(n.getCoordinates());if(r.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var u=new Edge(r,new Label(this._argIndex,Location.INTERIOR));this._lineEdgeMap.put(n,u),this.insertEdge(u),Assert.isTrue(r.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,r[0]),this.insertBoundaryPoint(this._argIndex,r[r.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var n=this.getBoundaryNodes(),r=new Array(n.size()).fill(null),u=0,d=n.iterator();d.hasNext();){var c=d.next();r[u++]=c.getCoordinate().copy()}return r},t.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(n,r,u){if(this.isBoundaryNode(n,r))return null;u===Location.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(n,r):this.insertPoint(n,r,u)},t.prototype.addPolygonRing=function(n,r,u){if(n.isEmpty())return null;var d=CoordinateArrays.removeRepeatedPoints(n.getCoordinates());if(d.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=d[0],null;var c=r,b=u;CGAlgorithms.isCCW(d)&&(c=u,b=r);var S=new Edge(d,new Label(this._argIndex,Location.BOUNDARY,c,b));this._lineEdgeMap.put(n,S),this.insertEdge(S),this.insertPoint(this._argIndex,d[0],Location.BOUNDARY)},t.prototype.insertPoint=function(n,r,u){var d=this._nodes.addNode(r),c=d.getLabel();c===null?d._label=new Label(n,u):c.setLocation(n,u)},t.prototype.createEdgeSetIntersector=function(){return new SimpleMCSweepLineIntersector},t.prototype.addSelfIntersectionNodes=function(n){for(var r=this,u=this._edges.iterator();u.hasNext();)for(var d=u.next(),c=d.getLabel().getLocation(n),b=d.eiList.iterator();b.hasNext();){var S=b.next();r.addSelfIntersectionNode(n,S.coord,c)}},t.prototype.add=function(){if(arguments.length===1){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof MultiPolygon&&(this._useBoundaryDeterminationRule=!1),n instanceof Polygon)this.addPolygon(n);else if(n instanceof LineString)this.addLineString(n);else if(n instanceof Point)this.addPoint(n);else if(n instanceof MultiPoint)this.addCollection(n);else if(n instanceof MultiLineString)this.addCollection(n);else if(n instanceof MultiPolygon)this.addCollection(n);else if(n instanceof GeometryCollection)this.addCollection(n);else throw new Error(n.getClass().getName())}else return e.prototype.add.apply(this,arguments)},t.prototype.addCollection=function(n){for(var r=this,u=0;u<n.getNumGeometries();u++){var d=n.getGeometryN(u);r.add(d)}},t.prototype.locate=function(n){return hasInterface(this._parentGeom,Polygonal)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new IndexedPointInAreaLocator(this._parentGeom)),this._areaPtLocator.locate(n)):this._ptLocator.locate(n,this._parentGeom)},t.prototype.findEdge=function(){if(arguments.length===1){var n=arguments[0];return this._lineEdgeMap.get(n)}else return e.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(n,r){return n.isInBoundary(r)?Location.BOUNDARY:Location.INTERIOR},t}(PlanarGraph),GeometryGraphOp=function(){if(this._li=new RobustLineIntersector,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new GeometryGraph(0,t)}else if(arguments.length===2){var i=arguments[0],n=arguments[1],r=BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;i.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new GeometryGraph(0,i,r),this._arg[1]=new GeometryGraph(1,n,r)}else if(arguments.length===3){var u=arguments[0],d=arguments[1],c=arguments[2];u.getPrecisionModel().compareTo(d.getPrecisionModel())>=0?this.setComputationPrecision(u.getPrecisionModel()):this.setComputationPrecision(d.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new GeometryGraph(0,u,c),this._arg[1]=new GeometryGraph(1,d,c)}};GeometryGraphOp.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},GeometryGraphOp.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},GeometryGraphOp.prototype.interfaces_=function(){return[]},GeometryGraphOp.prototype.getClass=function(){return GeometryGraphOp};var GeometryMapper=function(){};GeometryMapper.prototype.interfaces_=function(){return[]},GeometryMapper.prototype.getClass=function(){return GeometryMapper},GeometryMapper.map=function(){if(arguments[0]instanceof Geometry&&hasInterface(arguments[1],GeometryMapper.MapOp)){for(var t=arguments[0],i=arguments[1],n=new ArrayList,r=0;r<t.getNumGeometries();r++){var u=i.map(t.getGeometryN(r));u!==null&&n.add(u)}return t.getFactory().buildGeometry(n)}else if(hasInterface(arguments[0],Collection)&&hasInterface(arguments[1],GeometryMapper.MapOp)){for(var d=arguments[0],c=arguments[1],b=new ArrayList,S=d.iterator();S.hasNext();){var C=S.next(),O=c.map(C);O!==null&&b.add(O)}return b}},GeometryMapper.MapOp=function(){};var OverlayOp=function(e){function t(){var i=arguments[0],n=arguments[1];e.call(this,i,n),this._ptLocator=new PointLocator,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new EdgeList,this._resultPolyList=new ArrayList,this._resultLineList=new ArrayList,this._resultPointList=new ArrayList,this._graph=new PlanarGraph(new OverlayNodeFactory),this._geomFact=i.getFactory()}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.insertUniqueEdge=function(n){var r=this._edgeList.findEqualEdge(n);if(r!==null){var u=r.getLabel(),d=n.getLabel();r.isPointwiseEqual(n)||(d=new Label(n.getLabel()),d.flip());var c=r.getDepth();c.isNull()&&c.add(u),c.add(d),u.merge(d)}else this._edgeList.add(n)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),u=r.getSym();r.isInResult()&&u.isInResult()&&(r.setInResult(!1),u.setInResult(!1))}},t.prototype.isCoveredByLA=function(n){return!!(this.isCovered(n,this._resultLineList)||this.isCovered(n,this._resultPolyList))},t.prototype.computeGeometry=function(n,r,u,d){var c=new ArrayList;return c.addAll(n),c.addAll(r),c.addAll(u),c.isEmpty()?t.createEmptyResult(d,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(c)},t.prototype.mergeSymLabels=function(){for(var n=this._graph.getNodes().iterator();n.hasNext();){var r=n.next();r.getEdges().mergeSymLabels()}},t.prototype.isCovered=function(n,r){for(var u=this,d=r.iterator();d.hasNext();){var c=d.next(),b=u._ptLocator.locate(n,c);if(b!==Location.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var n=new ArrayList,r=this._edgeList.iterator();r.hasNext();){var u=r.next();u.isCollapsed()&&(r.remove(),n.add(u.getCollapsedEdge()))}this._edgeList.addAll(n)},t.prototype.updateNodeLabelling=function(){for(var n=this._graph.getNodes().iterator();n.hasNext();){var r=n.next(),u=r.getEdges().getLabel();r.getLabel().merge(u)}},t.prototype.getResultGeometry=function(n){return this.computeOverlay(n),this._resultGeom},t.prototype.insertUniqueEdges=function(n){for(var r=this,u=n.iterator();u.hasNext();){var d=u.next();r.insertUniqueEdge(d)}},t.prototype.computeOverlay=function(n){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var r=new ArrayList;this._arg[0].computeSplitEdges(r),this._arg[1].computeSplitEdges(r),this.insertUniqueEdges(r),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),EdgeNodingValidator.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(n),this.cancelDuplicateResultEdges();var u=new PolygonBuilder(this._geomFact);u.add(this._graph),this._resultPolyList=u.getPolygons();var d=new LineBuilder(this,this._geomFact,this._ptLocator);this._resultLineList=d.build(n);var c=new PointBuilder(this,this._geomFact,this._ptLocator);this._resultPointList=c.build(n),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,n)},t.prototype.labelIncompleteNode=function(n,r){var u=this._ptLocator.locate(n.getCoordinate(),this._arg[r].getGeometry());n.getLabel().setLocation(r,u)},t.prototype.copyPoints=function(n){for(var r=this,u=this._arg[n].getNodeIterator();u.hasNext();){var d=u.next(),c=r._graph.addNode(d.getCoordinate());c.setLabel(n,d.getLabel().getLocation(n))}},t.prototype.findResultAreaEdges=function(n){for(var r=this._graph.getEdgeEnds().iterator();r.hasNext();){var u=r.next(),d=u.getLabel();d.isArea()&&!u.isInteriorAreaEdge()&&t.isResultOfOp(d.getLocation(0,Position.RIGHT),d.getLocation(1,Position.RIGHT),n)&&u.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var n=this._edgeList.iterator();n.hasNext();){var r=n.next(),u=r.getLabel(),d=r.getDepth();if(!d.isNull()){d.normalize();for(var c=0;c<2;c++)!u.isNull(c)&&u.isArea()&&!d.isNull(c)&&(d.getDelta(c)===0?u.toLine(c):(Assert.isTrue(!d.isNull(c,Position.LEFT),"depth of LEFT side has not been initialized"),u.setLocation(c,Position.LEFT,d.getLocation(c,Position.LEFT)),Assert.isTrue(!d.isNull(c,Position.RIGHT),"depth of RIGHT side has not been initialized"),u.setLocation(c,Position.RIGHT,d.getLocation(c,Position.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var n=this,r=this._graph.getNodes().iterator();r.hasNext();){var u=r.next();u.getEdges().computeLabelling(n._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var n=this,r=this._graph.getNodes().iterator();r.hasNext();){var u=r.next(),d=u.getLabel();u.isIsolated()&&(d.isNull(0)?n.labelIncompleteNode(u,0):n.labelIncompleteNode(u,1)),u.getEdges().updateLabelling(d)}},t.prototype.isCoveredByA=function(n){return!!this.isCovered(n,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(GeometryGraphOp);OverlayOp.overlayOp=function(e,t,i){var n=new OverlayOp(e,t),r=n.getResultGeometry(i);return r},OverlayOp.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return OverlayOp.createEmptyResult(OverlayOp.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var i=t;return GeometryCollectionMapper.map(e,{interfaces_:function(){return[GeometryMapper.MapOp]},map:function(n){return n.intersection(i)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),SnapIfNeededOverlayOp.overlayOp(e,t,OverlayOp.INTERSECTION)},OverlayOp.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return OverlayOp.createEmptyResult(OverlayOp.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),SnapIfNeededOverlayOp.overlayOp(e,t,OverlayOp.SYMDIFFERENCE)},OverlayOp.resultDimension=function(e,t,i){var n=t.getDimension(),r=i.getDimension(),u=-1;switch(e){case OverlayOp.INTERSECTION:u=Math.min(n,r);break;case OverlayOp.UNION:u=Math.max(n,r);break;case OverlayOp.DIFFERENCE:u=n;break;case OverlayOp.SYMDIFFERENCE:u=Math.max(n,r);break}return u},OverlayOp.createEmptyResult=function(e,t,i,n){var r=null;switch(OverlayOp.resultDimension(e,t,i)){case-1:r=n.createGeometryCollection(new Array(0).fill(null));break;case 0:r=n.createPoint();break;case 1:r=n.createLineString();break;case 2:r=n.createPolygon();break}return r},OverlayOp.difference=function(e,t){return e.isEmpty()?OverlayOp.createEmptyResult(OverlayOp.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),SnapIfNeededOverlayOp.overlayOp(e,t,OverlayOp.DIFFERENCE))},OverlayOp.isResultOfOp=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],i=e.getLocation(0),n=e.getLocation(1);return OverlayOp.isResultOfOp(i,n,t)}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2];switch(r===Location.BOUNDARY&&(r=Location.INTERIOR),u===Location.BOUNDARY&&(u=Location.INTERIOR),d){case OverlayOp.INTERSECTION:return r===Location.INTERIOR&&u===Location.INTERIOR;case OverlayOp.UNION:return r===Location.INTERIOR||u===Location.INTERIOR;case OverlayOp.DIFFERENCE:return r===Location.INTERIOR&&u!==Location.INTERIOR;case OverlayOp.SYMDIFFERENCE:return r===Location.INTERIOR&&u!==Location.INTERIOR||r!==Location.INTERIOR&&u===Location.INTERIOR}return!1}},OverlayOp.INTERSECTION=1,OverlayOp.UNION=2,OverlayOp.DIFFERENCE=3,OverlayOp.SYMDIFFERENCE=4;var FuzzyPointLocator=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new PointLocator,this._seg=new LineSegment;var t=arguments[0],i=arguments[1];this._g=t,this._boundaryDistanceTolerance=i,this._linework=this.extractLinework(t)};FuzzyPointLocator.prototype.isWithinToleranceOfBoundary=function(t){for(var i=this,n=0;n<this._linework.getNumGeometries();n++)for(var r=i._linework.getGeometryN(n),u=r.getCoordinateSequence(),d=0;d<u.size()-1;d++){u.getCoordinate(d,i._seg.p0),u.getCoordinate(d+1,i._seg.p1);var c=i._seg.distance(t);if(c<=i._boundaryDistanceTolerance)return!0}return!1},FuzzyPointLocator.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?Location.BOUNDARY:this._ptLocator.locate(t,this._g)},FuzzyPointLocator.prototype.extractLinework=function(t){var i=new PolygonalLineworkExtracter;t.apply(i);var n=i.getLinework(),r=GeometryFactory.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},FuzzyPointLocator.prototype.interfaces_=function(){return[]},FuzzyPointLocator.prototype.getClass=function(){return FuzzyPointLocator};var PolygonalLineworkExtracter=function(){this._linework=null,this._linework=new ArrayList};PolygonalLineworkExtracter.prototype.getLinework=function(){return this._linework},PolygonalLineworkExtracter.prototype.filter=function(t){var i=this;if(t instanceof Polygon){var n=t;this._linework.add(n.getExteriorRing());for(var r=0;r<n.getNumInteriorRing();r++)i._linework.add(n.getInteriorRingN(r))}},PolygonalLineworkExtracter.prototype.interfaces_=function(){return[GeometryFilter]},PolygonalLineworkExtracter.prototype.getClass=function(){return PolygonalLineworkExtracter};var OffsetPointGenerator=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};OffsetPointGenerator.prototype.extractPoints=function(t,i,n){for(var r=this,u=t.getCoordinates(),d=0;d<u.length-1;d++)r.computeOffsetPoints(u[d],u[d+1],i,n)},OffsetPointGenerator.prototype.setSidesToGenerate=function(t,i){this._doLeft=t,this._doRight=i},OffsetPointGenerator.prototype.getPoints=function(t){for(var i=this,n=new ArrayList,r=LinearComponentExtracter.getLines(this._g),u=r.iterator();u.hasNext();){var d=u.next();i.extractPoints(d,t,n)}return n},OffsetPointGenerator.prototype.computeOffsetPoints=function(t,i,n,r){var u=i.x-t.x,d=i.y-t.y,c=Math.sqrt(u*u+d*d),b=n*u/c,S=n*d/c,C=(i.x+t.x)/2,O=(i.y+t.y)/2;if(this._doLeft){var D=new Coordinate(C-S,O+b);r.add(D)}if(this._doRight){var H=new Coordinate(C+S,O-b);r.add(H)}},OffsetPointGenerator.prototype.interfaces_=function(){return[]},OffsetPointGenerator.prototype.getClass=function(){return OffsetPointGenerator};var OverlayResultValidator=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new ArrayList;var t=arguments[0],i=arguments[1],n=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(t,i),this._geom=[t,i,n],this._locFinder=[new FuzzyPointLocator(this._geom[0],this._boundaryDistanceTolerance),new FuzzyPointLocator(this._geom[1],this._boundaryDistanceTolerance),new FuzzyPointLocator(this._geom[2],this._boundaryDistanceTolerance)]},staticAccessors$46={TOLERANCE:{configurable:!0}};OverlayResultValidator.prototype.reportResult=function(t,i,n){System.out.println("Overlay result invalid - A:"+Location.toLocationSymbol(i[0])+" B:"+Location.toLocationSymbol(i[1])+" expected:"+(n?"i":"e")+" actual:"+Location.toLocationSymbol(i[2]))},OverlayResultValidator.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var i=this.checkValid(t);return i},OverlayResultValidator.prototype.checkValid=function(){var t=this;if(arguments.length===1){for(var i=arguments[0],n=0;n<this._testCoords.size();n++){var r=t._testCoords.get(n);if(!t.checkValid(i,r))return t._invalidLocation=r,!1}return!0}else if(arguments.length===2){var u=arguments[0],d=arguments[1];return this._location[0]=this._locFinder[0].getLocation(d),this._location[1]=this._locFinder[1].getLocation(d),this._location[2]=this._locFinder[2].getLocation(d),OverlayResultValidator.hasLocation(this._location,Location.BOUNDARY)?!0:this.isValidResult(u,this._location)}},OverlayResultValidator.prototype.addTestPts=function(t){var i=new OffsetPointGenerator(t);this._testCoords.addAll(i.getPoints(5*this._boundaryDistanceTolerance))},OverlayResultValidator.prototype.isValidResult=function(t,i){var n=OverlayOp.isResultOfOp(i[0],i[1],t),r=i[2]===Location.INTERIOR,u=!(n^r);return u||this.reportResult(t,i,n),u},OverlayResultValidator.prototype.getInvalidLocation=function(){return this._invalidLocation},OverlayResultValidator.prototype.interfaces_=function(){return[]},OverlayResultValidator.prototype.getClass=function(){return OverlayResultValidator},OverlayResultValidator.hasLocation=function(t,i){for(var n=0;n<3;n++)if(t[n]===i)return!0;return!1},OverlayResultValidator.computeBoundaryDistanceTolerance=function(t,i){return Math.min(GeometrySnapper.computeSizeBasedSnapTolerance(t),GeometrySnapper.computeSizeBasedSnapTolerance(i))},OverlayResultValidator.isValid=function(t,i,n,r){var u=new OverlayResultValidator(t,i,r);return u.isValid(n)},staticAccessors$46.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(OverlayResultValidator,staticAccessors$46);var GeometryCombiner=function e(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(t),this._inputGeoms=t};GeometryCombiner.prototype.extractElements=function(t,i){var n=this;if(t===null)return null;for(var r=0;r<t.getNumGeometries();r++){var u=t.getGeometryN(r);n._skipEmpty&&u.isEmpty()||i.add(u)}},GeometryCombiner.prototype.combine=function(){for(var t=this,i=new ArrayList,n=this._inputGeoms.iterator();n.hasNext();){var r=n.next();t.extractElements(r,i)}return i.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(i)},GeometryCombiner.prototype.interfaces_=function(){return[]},GeometryCombiner.prototype.getClass=function(){return GeometryCombiner},GeometryCombiner.combine=function(){if(arguments.length===1){var t=arguments[0],i=new GeometryCombiner(t);return i.combine()}else if(arguments.length===2){var n=arguments[0],r=arguments[1],u=new GeometryCombiner(GeometryCombiner.createList(n,r));return u.combine()}else if(arguments.length===3){var d=arguments[0],c=arguments[1],b=arguments[2],S=new GeometryCombiner(GeometryCombiner.createList(d,c,b));return S.combine()}},GeometryCombiner.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},GeometryCombiner.createList=function(){if(arguments.length===2){var t=arguments[0],i=arguments[1],n=new ArrayList;return n.add(t),n.add(i),n}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2],c=new ArrayList;return c.add(r),c.add(u),c.add(d),c}};var CascadedPolygonUnion=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,this._inputPolys===null&&(this._inputPolys=new ArrayList)},staticAccessors$47={STRTREE_NODE_CAPACITY:{configurable:!0}};CascadedPolygonUnion.prototype.reduceToGeometries=function(t){for(var i=this,n=new ArrayList,r=t.iterator();r.hasNext();){var u=r.next(),d=null;hasInterface(u,List)?d=i.unionTree(u):u instanceof Geometry&&(d=u),n.add(d)}return n},CascadedPolygonUnion.prototype.extractByEnvelope=function(t,i,n){for(var r=new ArrayList,u=0;u<i.getNumGeometries();u++){var d=i.getGeometryN(u);d.getEnvelopeInternal().intersects(t)?r.add(d):n.add(d)}return this._geomFactory.buildGeometry(r)},CascadedPolygonUnion.prototype.unionOptimized=function(t,i){var n=t.getEnvelopeInternal(),r=i.getEnvelopeInternal();if(!n.intersects(r)){var u=GeometryCombiner.combine(t,i);return u}if(t.getNumGeometries()<=1&&i.getNumGeometries()<=1)return this.unionActual(t,i);var d=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,i,d)},CascadedPolygonUnion.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new STRtree(CascadedPolygonUnion.STRTREE_NODE_CAPACITY),i=this._inputPolys.iterator();i.hasNext();){var n=i.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree(),u=this.unionTree(r);return u},CascadedPolygonUnion.prototype.binaryUnion=function(){if(arguments.length===1){var t=arguments[0];return this.binaryUnion(t,0,t.size())}else if(arguments.length===3){var i=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var u=CascadedPolygonUnion.getGeometry(i,n);return this.unionSafe(u,null)}else{if(r-n===2)return this.unionSafe(CascadedPolygonUnion.getGeometry(i,n),CascadedPolygonUnion.getGeometry(i,n+1));var d=Math.trunc((r+n)/2),c=this.binaryUnion(i,n,d),b=this.binaryUnion(i,d,r);return this.unionSafe(c,b)}}},CascadedPolygonUnion.prototype.repeatedUnion=function(t){for(var i=null,n=t.iterator();n.hasNext();){var r=n.next();i===null?i=r.copy():i=i.union(r)}return i},CascadedPolygonUnion.prototype.unionSafe=function(t,i){return t===null&&i===null?null:t===null?i.copy():i===null?t.copy():this.unionOptimized(t,i)},CascadedPolygonUnion.prototype.unionActual=function(t,i){return CascadedPolygonUnion.restrictToPolygons(t.union(i))},CascadedPolygonUnion.prototype.unionTree=function(t){var i=this.reduceToGeometries(t),n=this.binaryUnion(i);return n},CascadedPolygonUnion.prototype.unionUsingEnvelopeIntersection=function(t,i,n){var r=new ArrayList,u=this.extractByEnvelope(n,t,r),d=this.extractByEnvelope(n,i,r),c=this.unionActual(u,d);r.add(c);var b=GeometryCombiner.combine(r);return b},CascadedPolygonUnion.prototype.bufferUnion=function(){if(arguments.length===1){var t=arguments[0],i=t.get(0).getFactory(),n=i.buildGeometry(t),r=n.buffer(0);return r}else if(arguments.length===2){var u=arguments[0],d=arguments[1],c=u.getFactory(),b=c.createGeometryCollection([u,d]),S=b.buffer(0);return S}},CascadedPolygonUnion.prototype.interfaces_=function(){return[]},CascadedPolygonUnion.prototype.getClass=function(){return CascadedPolygonUnion},CascadedPolygonUnion.restrictToPolygons=function(t){if(hasInterface(t,Polygonal))return t;var i=PolygonExtracter.getPolygons(t);return i.size()===1?i.get(0):t.getFactory().createMultiPolygon(GeometryFactory.toPolygonArray(i))},CascadedPolygonUnion.getGeometry=function(t,i){return i>=t.size()?null:t.get(i)},CascadedPolygonUnion.union=function(t){var i=new CascadedPolygonUnion(t);return i.union()},staticAccessors$47.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(CascadedPolygonUnion,staticAccessors$47);var UnionOp=function(){};UnionOp.prototype.interfaces_=function(){return[]},UnionOp.prototype.getClass=function(){return UnionOp},UnionOp.union=function(t,i){if(t.isEmpty()||i.isEmpty()){if(t.isEmpty()&&i.isEmpty())return OverlayOp.createEmptyResult(OverlayOp.UNION,t,i,t.getFactory());if(t.isEmpty())return i.copy();if(i.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(i),SnapIfNeededOverlayOp.overlayOp(t,i,OverlayOp.UNION)};function adder(){return new Adder}function Adder(){this.reset()}Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(e){add(temp,e,this.t),add(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add(e,t,i){var n=e.s=t+i,r=n-t,u=n-r;e.t=t-u+(i-r)}var epsilon=1e-6,pi=Math.PI,halfPi=pi/2,quarterPi=pi/4,tau=pi*2,degrees=180/pi,radians=pi/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos=Math.cos,sin=Math.sin,sqrt=Math.sqrt;function acos(e){return e>1?0:e<-1?pi:Math.acos(e)}function asin(e){return e>1?halfPi:e<-1?-halfPi:Math.asin(e)}function noop(){}function streamGeometry(e,t){e&&streamGeometryType.hasOwnProperty(e.type)&&streamGeometryType[e.type](e,t)}var streamObjectType={Feature:function(e,t){streamGeometry(e.geometry,t)},FeatureCollection:function(e,t){for(var i=e.features,n=-1,r=i.length;++n<r;)streamGeometry(i[n].geometry,t)}},streamGeometryType={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var i=e.coordinates,n=-1,r=i.length;++n<r;)e=i[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){streamLine(e.coordinates,t,0)},MultiLineString:function(e,t){for(var i=e.coordinates,n=-1,r=i.length;++n<r;)streamLine(i[n],t,0)},Polygon:function(e,t){streamPolygon(e.coordinates,t)},MultiPolygon:function(e,t){for(var i=e.coordinates,n=-1,r=i.length;++n<r;)streamPolygon(i[n],t)},GeometryCollection:function(e,t){for(var i=e.geometries,n=-1,r=i.length;++n<r;)streamGeometry(i[n],t)}};function streamLine(e,t,i){var n=-1,r=e.length-i,u;for(t.lineStart();++n<r;)u=e[n],t.point(u[0],u[1],u[2]);t.lineEnd()}function streamPolygon(e,t){var i=-1,n=e.length;for(t.polygonStart();++i<n;)streamLine(e[i],t,1);t.polygonEnd()}function geoStream(e,t){e&&streamObjectType.hasOwnProperty(e.type)?streamObjectType[e.type](e,t):streamGeometry(e,t)}adder(),adder();function spherical(e){return[atan2(e[1],e[0]),asin(e[2])]}function cartesian(e){var t=e[0],i=e[1],n=cos(i);return[n*cos(t),n*sin(t),sin(i)]}function cartesianDot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cartesianCross(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function cartesianAddInPlace(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function cartesianScale(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function cartesianNormalizeInPlace(e){var t=sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}adder();function compose(e,t){function i(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(i.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),i}function rotationIdentity(e,t){return[e>pi?e-tau:e<-pi?e+tau:e,t]}rotationIdentity.invert=rotationIdentity;function rotateRadians(e,t,i){return(e%=tau)?t||i?compose(rotationLambda(e),rotationPhiGamma(t,i)):rotationLambda(e):t||i?rotationPhiGamma(t,i):rotationIdentity}function forwardRotationLambda(e){return function(t,i){return t+=e,[t>pi?t-tau:t<-pi?t+tau:t,i]}}function rotationLambda(e){var t=forwardRotationLambda(e);return t.invert=forwardRotationLambda(-e),t}function rotationPhiGamma(e,t){var i=cos(e),n=sin(e),r=cos(t),u=sin(t);function d(c,b){var S=cos(b),C=cos(c)*S,O=sin(c)*S,D=sin(b),H=D*i+C*n;return[atan2(O*r-H*u,C*i-D*n),asin(H*r+O*u)]}return d.invert=function(c,b){var S=cos(b),C=cos(c)*S,O=sin(c)*S,D=sin(b),H=D*r-O*u;return[atan2(O*r+D*u,C*i+H*n),asin(H*i-C*n)]},d}function circleStream(e,t,i,n,r,u){if(i){var d=cos(t),c=sin(t),b=n*i;r==null?(r=t+n*tau,u=t-b/2):(r=circleRadius(d,r),u=circleRadius(d,u),(n>0?r<u:r>u)&&(r+=n*tau));for(var S,C=r;n>0?C>u:C<u;C-=b)S=spherical([d,-c*cos(C),-c*sin(C)]),e.point(S[0],S[1])}}function circleRadius(e,t){t=cartesian(t),t[0]-=e,cartesianNormalizeInPlace(t);var i=acos(-t[1]);return((-t[2]<0?-i:i)+tau-epsilon)%tau}function clipBuffer(){var e=[],t;return{point:function(i,n){t.push([i,n])},lineStart:function(){e.push(t=[])},lineEnd:noop,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}function clipLine(e,t,i,n,r,u){var d=e[0],c=e[1],b=t[0],S=t[1],C=0,O=1,D=b-d,H=S-c,K;if(K=i-d,!(!D&&K>0)){if(K/=D,D<0){if(K<C)return;K<O&&(O=K)}else if(D>0){if(K>O)return;K>C&&(C=K)}if(K=r-d,!(!D&&K<0)){if(K/=D,D<0){if(K>O)return;K>C&&(C=K)}else if(D>0){if(K<C)return;K<O&&(O=K)}if(K=n-c,!(!H&&K>0)){if(K/=H,H<0){if(K<C)return;K<O&&(O=K)}else if(H>0){if(K>O)return;K>C&&(C=K)}if(K=u-c,!(!H&&K<0)){if(K/=H,H<0){if(K>O)return;K>C&&(C=K)}else if(H>0){if(K<C)return;K<O&&(O=K)}return C>0&&(e[0]=d+C*D,e[1]=c+C*H),O<1&&(t[0]=d+O*D,t[1]=c+O*H),!0}}}}}function pointEqual(e,t){return abs(e[0]-t[0])<epsilon&&abs(e[1]-t[1])<epsilon}function Intersection(e,t,i,n){this.x=e,this.z=t,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function clipPolygon(e,t,i,n,r){var u=[],d=[],c,b;if(e.forEach(function(K){if(!((le=K.length-1)<=0)){var le,de=K[0],fe=K[le],be;if(pointEqual(de,fe)){for(r.lineStart(),c=0;c<le;++c)r.point((de=K[c])[0],de[1]);r.lineEnd();return}u.push(be=new Intersection(de,K,null,!0)),d.push(be.o=new Intersection(de,null,be,!1)),u.push(be=new Intersection(fe,K,null,!1)),d.push(be.o=new Intersection(fe,null,be,!0))}}),!!u.length){for(d.sort(t),link(u),link(d),c=0,b=d.length;c<b;++c)d[c].e=i=!i;for(var S=u[0],C,O;;){for(var D=S,H=!0;D.v;)if((D=D.n)===S)return;C=D.z,r.lineStart();do{if(D.v=D.o.v=!0,D.e){if(H)for(c=0,b=C.length;c<b;++c)r.point((O=C[c])[0],O[1]);else n(D.x,D.n.x,1,r);D=D.n}else{if(H)for(C=D.p.z,c=C.length-1;c>=0;--c)r.point((O=C[c])[0],O[1]);else n(D.x,D.p.x,-1,r);D=D.p}D=D.o,C=D.z,H=!H}while(!D.v);r.lineEnd()}}}function link(e){if(t=e.length){for(var t,i=0,n=e[0],r;++i<t;)n.n=r=e[i],r.p=n,n=r;n.n=r=e[0],r.p=n}}function ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bisector(e){return e.length===1&&(e=ascendingComparator(e)),{left:function(t,i,n,r){for(n==null&&(n=0),r==null&&(r=t.length);n<r;){var u=n+r>>>1;e(t[u],i)<0?n=u+1:r=u}return n},right:function(t,i,n,r){for(n==null&&(n=0),r==null&&(r=t.length);n<r;){var u=n+r>>>1;e(t[u],i)>0?r=u:n=u+1}return n}}}function ascendingComparator(e){return function(t,i){return ascending(e(t),i)}}bisector(ascending);function merge(e){for(var t=e.length,i,n=-1,r=0,u,d;++n<t;)r+=e[n].length;for(u=new Array(r);--t>=0;)for(d=e[t],i=d.length;--i>=0;)u[--r]=d[i];return u}var clipMax=1e9,clipMin=-1e9;function clipExtent(e,t,i,n){function r(S,C){return e<=S&&S<=i&&t<=C&&C<=n}function u(S,C,O,D){var H=0,K=0;if(S==null||(H=d(S,O))!==(K=d(C,O))||b(S,C)<0^O>0)do D.point(H===0||H===3?e:i,H>1?n:t);while((H=(H+O+4)%4)!==K);else D.point(C[0],C[1])}function d(S,C){return abs(S[0]-e)<epsilon?C>0?0:3:abs(S[0]-i)<epsilon?C>0?2:1:abs(S[1]-t)<epsilon?C>0?1:0:C>0?3:2}function c(S,C){return b(S.x,C.x)}function b(S,C){var O=d(S,1),D=d(C,1);return O!==D?O-D:O===0?C[1]-S[1]:O===1?S[0]-C[0]:O===2?S[1]-C[1]:C[0]-S[0]}return function(S){var C=S,O=clipBuffer(),D,H,K,le,de,fe,be,Ie,De,Ze,ot,ut={point:lt,lineStart:Ot,lineEnd:Ut,polygonStart:wt,polygonEnd:At};function lt(ht,He){r(ht,He)&&C.point(ht,He)}function ct(){for(var ht=0,He=0,Ft=H.length;He<Ft;++He)for(var Kt=H[He],Zt=1,Ni=Kt.length,Ii=Kt[0],zi,Pi,rn=Ii[0],yi=Ii[1];Zt<Ni;++Zt)zi=rn,Pi=yi,Ii=Kt[Zt],rn=Ii[0],yi=Ii[1],Pi<=n?yi>n&&(rn-zi)*(n-Pi)>(yi-Pi)*(e-zi)&&++ht:yi<=n&&(rn-zi)*(n-Pi)<(yi-Pi)*(e-zi)&&--ht;return ht}function wt(){C=O,D=[],H=[],ot=!0}function At(){var ht=ct(),He=ot&&ht,Ft=(D=merge(D)).length;(He||Ft)&&(S.polygonStart(),He&&(S.lineStart(),u(null,null,1,S),S.lineEnd()),Ft&&clipPolygon(D,c,ht,u,S),S.polygonEnd()),C=S,D=H=K=null}function Ot(){ut.point=Ve,H&&H.push(K=[]),Ze=!0,De=!1,be=Ie=NaN}function Ut(){D&&(Ve(le,de),fe&&De&&O.rejoin(),D.push(O.result())),ut.point=lt,De&&C.lineEnd()}function Ve(ht,He){var Ft=r(ht,He);if(H&&K.push([ht,He]),Ze)le=ht,de=He,fe=Ft,Ze=!1,Ft&&(C.lineStart(),C.point(ht,He));else if(Ft&&De)C.point(ht,He);else{var Kt=[be=Math.max(clipMin,Math.min(clipMax,be)),Ie=Math.max(clipMin,Math.min(clipMax,Ie))],Zt=[ht=Math.max(clipMin,Math.min(clipMax,ht)),He=Math.max(clipMin,Math.min(clipMax,He))];clipLine(Kt,Zt,e,t,i,n)?(De||(C.lineStart(),C.point(Kt[0],Kt[1])),C.point(Zt[0],Zt[1]),Ft||C.lineEnd(),ot=!1):Ft&&(C.lineStart(),C.point(ht,He),ot=!1)}be=ht,Ie=He,De=Ft}return ut}}var sum=adder();function polygonContains(e,t){var i=t[0],n=t[1],r=[sin(i),-cos(i),0],u=0,d=0;sum.reset();for(var c=0,b=e.length;c<b;++c)if(C=(S=e[c]).length)for(var S,C,O=S[C-1],D=O[0],H=O[1]/2+quarterPi,K=sin(H),le=cos(H),de=0;de<C;++de,D=be,K=De,le=Ze,O=fe){var fe=S[de],be=fe[0],Ie=fe[1]/2+quarterPi,De=sin(Ie),Ze=cos(Ie),ot=be-D,ut=ot>=0?1:-1,lt=ut*ot,ct=lt>pi,wt=K*De;if(sum.add(atan2(wt*ut*sin(lt),le*Ze+wt*cos(lt))),u+=ct?ot+ut*tau:ot,ct^D>=i^be>=i){var At=cartesianCross(cartesian(O),cartesian(fe));cartesianNormalizeInPlace(At);var Ot=cartesianCross(r,At);cartesianNormalizeInPlace(Ot);var Ut=(ct^ot>=0?-1:1)*asin(Ot[2]);(n>Ut||n===Ut&&(At[0]||At[1]))&&(d+=ct^ot>=0?1:-1)}}return(u<-1e-6||u<epsilon&&sum<-1e-6)^d&1}adder();function identity(e){return e}adder(),adder();var x0=1/0,y0=x0,x1=-x0,y1=x1,boundsStream={point:boundsPoint,lineStart:noop,lineEnd:noop,polygonStart:noop,polygonEnd:noop,result:function(){var e=[[x0,y0],[x1,y1]];return x1=y1=-(y0=x0=1/0),e}};function boundsPoint(e,t){e<x0&&(x0=e),e>x1&&(x1=e),t<y0&&(y0=t),t>y1&&(y1=t)}adder();function clip(e,t,i,n){return function(r,u){var d=t(u),c=r.invert(n[0],n[1]),b=clipBuffer(),S=t(b),C=!1,O,D,H,K={point:le,lineStart:fe,lineEnd:be,polygonStart:function(){K.point=Ie,K.lineStart=De,K.lineEnd=Ze,D=[],O=[]},polygonEnd:function(){K.point=le,K.lineStart=fe,K.lineEnd=be,D=merge(D);var ot=polygonContains(O,c);D.length?(C||(u.polygonStart(),C=!0),clipPolygon(D,compareIntersection,ot,i,u)):ot&&(C||(u.polygonStart(),C=!0),u.lineStart(),i(null,null,1,u),u.lineEnd()),C&&(u.polygonEnd(),C=!1),D=O=null},sphere:function(){u.polygonStart(),u.lineStart(),i(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function le(ot,ut){var lt=r(ot,ut);e(ot=lt[0],ut=lt[1])&&u.point(ot,ut)}function de(ot,ut){var lt=r(ot,ut);d.point(lt[0],lt[1])}function fe(){K.point=de,d.lineStart()}function be(){K.point=le,d.lineEnd()}function Ie(ot,ut){H.push([ot,ut]);var lt=r(ot,ut);S.point(lt[0],lt[1])}function De(){S.lineStart(),H=[]}function Ze(){Ie(H[0][0],H[0][1]),S.lineEnd();var ot=S.clean(),ut=b.result(),lt,ct=ut.length,wt,At,Ot;if(H.pop(),O.push(H),H=null,!!ct){if(ot&1){if(At=ut[0],(wt=At.length-1)>0){for(C||(u.polygonStart(),C=!0),u.lineStart(),lt=0;lt<wt;++lt)u.point((Ot=At[lt])[0],Ot[1]);u.lineEnd()}return}ct>1&&ot&2&&ut.push(ut.pop().concat(ut.shift())),D.push(ut.filter(validSegment))}}return K}}function validSegment(e){return e.length>1}function compareIntersection(e,t){return((e=e.x)[0]<0?e[1]-halfPi-epsilon:halfPi-e[1])-((t=t.x)[0]<0?t[1]-halfPi-epsilon:halfPi-t[1])}var clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi,-halfPi]);function clipAntimeridianLine(e){var t=NaN,i=NaN,n=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(u,d){var c=u>0?pi:-pi,b=abs(u-t);abs(b-pi)<epsilon?(e.point(t,i=(i+d)/2>0?halfPi:-halfPi),e.point(n,i),e.lineEnd(),e.lineStart(),e.point(c,i),e.point(u,i),r=0):n!==c&&b>=pi&&(abs(t-n)<epsilon&&(t-=n*epsilon),abs(u-c)<epsilon&&(u-=c*epsilon),i=clipAntimeridianIntersect(t,i,u,d),e.point(n,i),e.lineEnd(),e.lineStart(),e.point(c,i),r=0),e.point(t=u,i=d),n=c},lineEnd:function(){e.lineEnd(),t=i=NaN},clean:function(){return 2-r}}}function clipAntimeridianIntersect(e,t,i,n){var r,u,d=sin(e-i);return abs(d)>epsilon?atan((sin(t)*(u=cos(n))*sin(i)-sin(n)*(r=cos(t))*sin(e))/(r*u*d)):(t+n)/2}function clipAntimeridianInterpolate(e,t,i,n){var r;if(e==null)r=i*halfPi,n.point(-pi,r),n.point(0,r),n.point(pi,r),n.point(pi,0),n.point(pi,-r),n.point(0,-r),n.point(-pi,-r),n.point(-pi,0),n.point(-pi,r);else if(abs(e[0]-t[0])>epsilon){var u=e[0]<t[0]?pi:-pi;r=i*u/2,n.point(-u,r),n.point(0,r),n.point(u,r)}else n.point(t[0],t[1])}function clipCircle(e,t){var i=cos(e),n=i>0,r=abs(i)>epsilon;function u(C,O,D,H){circleStream(H,e,t,D,C,O)}function d(C,O){return cos(C)*cos(O)>i}function c(C){var O,D,H,K,le;return{lineStart:function(){K=H=!1,le=1},point:function(de,fe){var be=[de,fe],Ie,De=d(de,fe),Ze=n?De?0:S(de,fe):De?S(de+(de<0?pi:-pi),fe):0;if(!O&&(K=H=De)&&C.lineStart(),De!==H&&(Ie=b(O,be),(!Ie||pointEqual(O,Ie)||pointEqual(be,Ie))&&(be[0]+=epsilon,be[1]+=epsilon,De=d(be[0],be[1]))),De!==H)le=0,De?(C.lineStart(),Ie=b(be,O),C.point(Ie[0],Ie[1])):(Ie=b(O,be),C.point(Ie[0],Ie[1]),C.lineEnd()),O=Ie;else if(r&&O&&n^De){var ot;!(Ze&D)&&(ot=b(be,O,!0))&&(le=0,n?(C.lineStart(),C.point(ot[0][0],ot[0][1]),C.point(ot[1][0],ot[1][1]),C.lineEnd()):(C.point(ot[1][0],ot[1][1]),C.lineEnd(),C.lineStart(),C.point(ot[0][0],ot[0][1])))}De&&(!O||!pointEqual(O,be))&&C.point(be[0],be[1]),O=be,H=De,D=Ze},lineEnd:function(){H&&C.lineEnd(),O=null},clean:function(){return le|(K&&H)<<1}}}function b(C,O,D){var H=cartesian(C),K=cartesian(O),le=[1,0,0],de=cartesianCross(H,K),fe=cartesianDot(de,de),be=de[0],Ie=fe-be*be;if(!Ie)return!D&&C;var De=i*fe/Ie,Ze=-i*be/Ie,ot=cartesianCross(le,de),ut=cartesianScale(le,De),lt=cartesianScale(de,Ze);cartesianAddInPlace(ut,lt);var ct=ot,wt=cartesianDot(ut,ct),At=cartesianDot(ct,ct),Ot=wt*wt-At*(cartesianDot(ut,ut)-1);if(!(Ot<0)){var Ut=sqrt(Ot),Ve=cartesianScale(ct,(-wt-Ut)/At);if(cartesianAddInPlace(Ve,ut),Ve=spherical(Ve),!D)return Ve;var ht=C[0],He=O[0],Ft=C[1],Kt=O[1],Zt;He<ht&&(Zt=ht,ht=He,He=Zt);var Ni=He-ht,Ii=abs(Ni-pi)<epsilon,zi=Ii||Ni<epsilon;if(!Ii&&Kt<Ft&&(Zt=Ft,Ft=Kt,Kt=Zt),zi?Ii?Ft+Kt>0^Ve[1]<(abs(Ve[0]-ht)<epsilon?Ft:Kt):Ft<=Ve[1]&&Ve[1]<=Kt:Ni>pi^(ht<=Ve[0]&&Ve[0]<=He)){var Pi=cartesianScale(ct,(-wt+Ut)/At);return cartesianAddInPlace(Pi,ut),[Ve,spherical(Pi)]}}}function S(C,O){var D=n?e:pi-e,H=0;return C<-D?H|=1:C>D&&(H|=2),O<-D?H|=4:O>D&&(H|=8),H}return clip(d,c,u,n?[0,-e]:[-pi,e-pi])}function transformer(e){return function(t){var i=new TransformStream;for(var n in e)i[n]=e[n];return i.stream=t,i}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fitExtent(e,t,i){var n=t[1][0]-t[0][0],r=t[1][1]-t[0][1],u=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),u!=null&&e.clipExtent(null),geoStream(i,e.stream(boundsStream));var d=boundsStream.result(),c=Math.min(n/(d[1][0]-d[0][0]),r/(d[1][1]-d[0][1])),b=+t[0][0]+(n-c*(d[1][0]+d[0][0]))/2,S=+t[0][1]+(r-c*(d[1][1]+d[0][1]))/2;return u!=null&&e.clipExtent(u),e.scale(c*150).translate([b,S])}function fitSize(e,t,i){return fitExtent(e,[[0,0],t],i)}var maxDepth=16,cosMinDistance=cos(30*radians);function resample(e,t){return+t?resample$1(e,t):resampleNone(e)}function resampleNone(e){return transformer({point:function(t,i){t=e(t,i),this.stream.point(t[0],t[1])}})}function resample$1(e,t){function i(n,r,u,d,c,b,S,C,O,D,H,K,le,de){var fe=S-n,be=C-r,Ie=fe*fe+be*be;if(Ie>4*t&&le--){var De=d+D,Ze=c+H,ot=b+K,ut=sqrt(De*De+Ze*Ze+ot*ot),lt=asin(ot/=ut),ct=abs(abs(ot)-1)<epsilon||abs(u-O)<epsilon?(u+O)/2:atan2(Ze,De),wt=e(ct,lt),At=wt[0],Ot=wt[1],Ut=At-n,Ve=Ot-r,ht=be*Ut-fe*Ve;(ht*ht/Ie>t||abs((fe*Ut+be*Ve)/Ie-.5)>.3||d*D+c*H+b*K<cosMinDistance)&&(i(n,r,u,d,c,b,At,Ot,ct,De/=ut,Ze/=ut,ot,le,de),de.point(At,Ot),i(At,Ot,ct,De,Ze,ot,S,C,O,D,H,K,le,de))}}return function(n){var r,u,d,c,b,S,C,O,D,H,K,le,de={point:fe,lineStart:be,lineEnd:De,polygonStart:function(){n.polygonStart(),de.lineStart=Ze},polygonEnd:function(){n.polygonEnd(),de.lineStart=be}};function fe(lt,ct){lt=e(lt,ct),n.point(lt[0],lt[1])}function be(){O=NaN,de.point=Ie,n.lineStart()}function Ie(lt,ct){var wt=cartesian([lt,ct]),At=e(lt,ct);i(O,D,C,H,K,le,O=At[0],D=At[1],C=lt,H=wt[0],K=wt[1],le=wt[2],maxDepth,n),n.point(O,D)}function De(){de.point=fe,n.lineEnd()}function Ze(){be(),de.point=ot,de.lineEnd=ut}function ot(lt,ct){Ie(r=lt,ct),u=O,d=D,c=H,b=K,S=le,de.point=Ie}function ut(){i(O,D,C,H,K,le,u,d,r,c,b,S,maxDepth,n),de.lineEnd=De,De()}return de}}var transformRadians=transformer({point:function(e,t){this.stream.point(e*radians,t*radians)}});function projection(e){return projectionMutator(function(){return e})()}function projectionMutator(e){var t,i=150,n=480,r=250,u,d,c=0,b=0,S=0,C=0,O=0,D,H,K=null,le=clipAntimeridian,de=null,fe,be,Ie,De=identity,Ze=.5,ot=resample(At,Ze),ut,lt;function ct(Ve){return Ve=H(Ve[0]*radians,Ve[1]*radians),[Ve[0]*i+u,d-Ve[1]*i]}function wt(Ve){return Ve=H.invert((Ve[0]-u)/i,(d-Ve[1])/i),Ve&&[Ve[0]*degrees,Ve[1]*degrees]}function At(Ve,ht){return Ve=t(Ve,ht),[Ve[0]*i+u,d-Ve[1]*i]}ct.stream=function(Ve){return ut&&lt===Ve?ut:ut=transformRadians(le(D,ot(De(lt=Ve))))},ct.clipAngle=function(Ve){return arguments.length?(le=+Ve?clipCircle(K=Ve*radians,6*radians):(K=null,clipAntimeridian),Ut()):K*degrees},ct.clipExtent=function(Ve){return arguments.length?(De=Ve==null?(de=fe=be=Ie=null,identity):clipExtent(de=+Ve[0][0],fe=+Ve[0][1],be=+Ve[1][0],Ie=+Ve[1][1]),Ut()):de==null?null:[[de,fe],[be,Ie]]},ct.scale=function(Ve){return arguments.length?(i=+Ve,Ot()):i},ct.translate=function(Ve){return arguments.length?(n=+Ve[0],r=+Ve[1],Ot()):[n,r]},ct.center=function(Ve){return arguments.length?(c=Ve[0]%360*radians,b=Ve[1]%360*radians,Ot()):[c*degrees,b*degrees]},ct.rotate=function(Ve){return arguments.length?(S=Ve[0]%360*radians,C=Ve[1]%360*radians,O=Ve.length>2?Ve[2]%360*radians:0,Ot()):[S*degrees,C*degrees,O*degrees]},ct.precision=function(Ve){return arguments.length?(ot=resample(At,Ze=Ve*Ve),Ut()):sqrt(Ze)},ct.fitExtent=function(Ve,ht){return fitExtent(ct,Ve,ht)},ct.fitSize=function(Ve,ht){return fitSize(ct,Ve,ht)};function Ot(){H=compose(D=rotateRadians(S,C,O),t);var Ve=t(c,b);return u=n-Ve[0]*i,d=r+Ve[1]*i,Ut()}function Ut(){return ut=lt=null,ct}return function(){return t=e.apply(this,arguments),ct.invert=t.invert&&wt,Ot()}}function azimuthalRaw(e){return function(t,i){var n=cos(t),r=cos(i),u=e(n*r);return[u*r*sin(t),u*sin(i)]}}function azimuthalInvert(e){return function(t,i){var n=sqrt(t*t+i*i),r=e(n),u=sin(r),d=cos(r);return[atan2(t*u,n*d),asin(n&&i*u/n)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(e){return sqrt(2/(1+e))});azimuthalEqualAreaRaw.invert=azimuthalInvert(function(e){return 2*asin(e/2)});var azimuthalEquidistantRaw=azimuthalRaw(function(e){return(e=acos(e))&&e/sin(e)});azimuthalEquidistantRaw.invert=azimuthalInvert(function(e){return e});function geoAzimuthalEquidistant(){return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(180-.001)}function equirectangularRaw(e,t){return[e,t]}equirectangularRaw.invert=equirectangularRaw;function buffer(e,t,i){i=i||{};var n=i.units||"kilometers",r=i.steps||8;if(!e)throw new Error("geojson is required");if(typeof i!="object")throw new Error("options must be an object");if(typeof r!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var u=[];switch(e.type){case"GeometryCollection":return geomEach(e,function(d){var c=bufferFeature(d,t,n,r);c&&u.push(c)}),featureCollection(u);case"FeatureCollection":return featureEach(e,function(d){var c=bufferFeature(d,t,n,r);c&&featureEach(c,function(b){b&&u.push(b)})}),featureCollection(u)}return bufferFeature(e,t,n,r)}function bufferFeature(e,t,i,n){var r=e.properties||{},u=e.type==="Feature"?e.geometry:e;if(u.type==="GeometryCollection"){var d=[];return geomEach(e,function(le){var de=bufferFeature(le,t,i,n);de&&d.push(de)}),featureCollection(d)}var c=defineProjection(u),b={type:u.type,coordinates:projectCoords(u.coordinates,c)},S=new GeoJSONReader,C=S.read(b),O=radiansToLength(lengthToRadians(t,i),"meters"),D=BufferOp.bufferOp(C,O,n),H=new GeoJSONWriter;if(D=H.write(D),!coordsIsNaN(D.coordinates)){var K={type:D.type,coordinates:unprojectCoords(D.coordinates,c)};return feature(K,r)}}function coordsIsNaN(e){return Array.isArray(e[0])?coordsIsNaN(e[0]):isNaN(e[0])}function projectCoords(e,t){return typeof e[0]!="object"?t(e):e.map(function(i){return projectCoords(i,t)})}function unprojectCoords(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(i){return unprojectCoords(i,t)})}function defineProjection(e){var t=center(e).geometry.coordinates,i=[-t[0],-t[1]];return geoAzimuthalEquidistant().rotate(i).scale(earthRadius)}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var maplibreGl={exports:{}};(function(e,t){(function(i,n){e.exports=n()})(commonjsGlobal,function(){var i,n,r;function u(c,b){if(!i)i=b;else if(!n)n=b;else{var S="var sharedChunk = {}; ("+i+")(sharedChunk); ("+n+")(sharedChunk);",C={};i(C),r=b(C),typeof window<"u"&&(r.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}u(["exports"],function(c){var b=S;function S(p,a,g,m){this.cx=3*p,this.bx=3*(g-p)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(m-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=p,this.p1y=a,this.p2x=g,this.p2y=m}function C(p,a,g,m){const y=new b(p,a,g,m);return function(v){return y.solve(v)}}S.prototype={sampleCurveX:function(p){return((this.ax*p+this.bx)*p+this.cx)*p},sampleCurveY:function(p){return((this.ay*p+this.by)*p+this.cy)*p},sampleCurveDerivativeX:function(p){return(3*this.ax*p+2*this.bx)*p+this.cx},solveCurveX:function(p,a){if(a===void 0&&(a=1e-6),p<0)return 0;if(p>1)return 1;for(var g=p,m=0;m<8;m++){var y=this.sampleCurveX(g)-p;if(Math.abs(y)<a)return g;var v=this.sampleCurveDerivativeX(g);if(Math.abs(v)<1e-6)break;g-=y/v}var E=0,A=1;for(g=p,m=0;m<20&&(y=this.sampleCurveX(g),!(Math.abs(y-p)<a));m++)p>y?E=g:A=g,g=.5*(A-E)+E;return g},solve:function(p,a){return this.sampleCurveY(this.solveCurveX(p,a))}};const O=C(.25,.1,.25,1);function D(p,a,g){return Math.min(g,Math.max(a,p))}function H(p,a,g){const m=g-a,y=((p-a)%m+m)%m+a;return y===a?g:y}function K(p,...a){for(const g of a)for(const m in g)p[m]=g[m];return p}let le=1;function de(p,a){p.forEach(g=>{a[g]&&(a[g]=a[g].bind(a))})}function fe(p,a,g){const m={};for(const y in p)m[y]=a.call(g||this,p[y],y,p);return m}function be(p,a,g){const m={};for(const y in p)a.call(g||this,p[y],y,p)&&(m[y]=p[y]);return m}function Ie(p){return Array.isArray(p)?p.map(Ie):typeof p=="object"&&p?fe(p,Ie):p}const De={};function Ze(p){De[p]||(typeof console<"u"&&console.warn(p),De[p]=!0)}function ot(p,a,g){return(g.y-p.y)*(a.x-p.x)>(a.y-p.y)*(g.x-p.x)}function ut(p){let a=0;for(let g,m,y=0,v=p.length,E=v-1;y<v;E=y++)g=p[y],m=p[E],a+=(m.x-g.x)*(g.y+m.y);return a}function lt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ct(p){const a={};if(p.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(g,m,y,v)=>{const E=y||v;return a[m]=!E||E.toLowerCase(),""}),a["max-age"]){const g=parseInt(a["max-age"],10);isNaN(g)?delete a["max-age"]:a["max-age"]=g}return a}let wt,At,Ot=null;function Ut(p){if(Ot==null){const a=p.navigator?p.navigator.userAgent:null;Ot=!!p.safari||!(!a||!(/\b(iPad|iPhone|iPod)\b/.test(a)||a.match("Safari")&&!a.match("Chrome")))}return Ot}function Ve(p){return typeof ImageBitmap<"u"&&p instanceof ImageBitmap}const ht={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(p){const a=requestAnimationFrame(p);return{cancel:()=>cancelAnimationFrame(a)}},getImageData(p,a=0){const g=window.document.createElement("canvas"),m=g.getContext("2d");if(!m)throw new Error("failed to create canvas 2d context");return g.width=p.width,g.height=p.height,m.drawImage(p,0,0,p.width,p.height),m.getImageData(-a,-a,p.width+2*a,p.height+2*a)},resolveURL:p=>(wt||(wt=document.createElement("a")),wt.href=p,wt.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(At==null&&(At=matchMedia("(prefers-reduced-motion: reduce)")),At.matches)}};var He=Ft;function Ft(p,a){this.x=p,this.y=a}Ft.prototype={clone:function(){return new Ft(this.x,this.y)},add:function(p){return this.clone()._add(p)},sub:function(p){return this.clone()._sub(p)},multByPoint:function(p){return this.clone()._multByPoint(p)},divByPoint:function(p){return this.clone()._divByPoint(p)},mult:function(p){return this.clone()._mult(p)},div:function(p){return this.clone()._div(p)},rotate:function(p){return this.clone()._rotate(p)},rotateAround:function(p,a){return this.clone()._rotateAround(p,a)},matMult:function(p){return this.clone()._matMult(p)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(p){return this.x===p.x&&this.y===p.y},dist:function(p){return Math.sqrt(this.distSqr(p))},distSqr:function(p){var a=p.x-this.x,g=p.y-this.y;return a*a+g*g},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(p){return Math.atan2(this.y-p.y,this.x-p.x)},angleWith:function(p){return this.angleWithSep(p.x,p.y)},angleWithSep:function(p,a){return Math.atan2(this.x*a-this.y*p,this.x*p+this.y*a)},_matMult:function(p){var a=p[2]*this.x+p[3]*this.y;return this.x=p[0]*this.x+p[1]*this.y,this.y=a,this},_add:function(p){return this.x+=p.x,this.y+=p.y,this},_sub:function(p){return this.x-=p.x,this.y-=p.y,this},_mult:function(p){return this.x*=p,this.y*=p,this},_div:function(p){return this.x/=p,this.y/=p,this},_multByPoint:function(p){return this.x*=p.x,this.y*=p.y,this},_divByPoint:function(p){return this.x/=p.x,this.y/=p.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var p=this.y;return this.y=this.x,this.x=-p,this},_rotate:function(p){var a=Math.cos(p),g=Math.sin(p),m=g*this.x+a*this.y;return this.x=a*this.x-g*this.y,this.y=m,this},_rotateAround:function(p,a){var g=Math.cos(p),m=Math.sin(p),y=a.y+m*(this.x-a.x)+g*(this.y-a.y);return this.x=a.x+g*(this.x-a.x)-m*(this.y-a.y),this.y=y,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Ft.convert=function(p){return p instanceof Ft?p:Array.isArray(p)?new Ft(p[0],p[1]):p};const Kt={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},Zt="mapbox-tiles";let Ni,Ii=500,zi=50;function Pi(){typeof caches>"u"||Ni||(Ni=caches.open(Zt))}let rn=1/0;const yi={supported:!1,testSupport:function(p){!Ro&&Cn&&(Gi?lo(p):$n=p)}};let $n,Cn,Ro=!1,Gi=!1;function lo(p){const a=p.createTexture();p.bindTexture(p.TEXTURE_2D,a);try{if(p.texImage2D(p.TEXTURE_2D,0,p.RGBA,p.RGBA,p.UNSIGNED_BYTE,Cn),p.isContextLost())return;yi.supported=!0}catch{}p.deleteTexture(a),Ro=!0}typeof document<"u"&&(Cn=document.createElement("img"),Cn.onload=function(){$n&&lo($n),$n=null,Gi=!0},Cn.onerror=function(){Ro=!0,$n=null},Cn.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Do={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Do);class an extends Error{constructor(a,g,m,y){super(`AJAXError: ${g} (${a}): ${m}`),this.status=a,this.statusText=g,this.url=m,this.body=y}}const en=lt()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href;function gr(p,a){const g=new AbortController,m=new Request(p.url,{method:p.method||"GET",body:p.body,credentials:p.credentials,headers:p.headers,referrer:en(),signal:g.signal});let y=!1,v=!1;return p.type==="json"&&m.headers.set("Accept","application/json"),((E,A,I)=>{v||fetch(m).then(R=>R.ok?((N,F,U)=>{(p.type==="arrayBuffer"?N.arrayBuffer():p.type==="json"?N.json():N.text()).then(V=>{v||(y=!0,a(null,V,N.headers.get("Cache-Control"),N.headers.get("Expires")))}).catch(V=>{v||a(new Error(V.message))})})(R):R.blob().then(N=>a(new an(R.status,R.statusText,p.url,N)))).catch(R=>{R.code!==20&&a(new Error(R.message))})})(),{cancel:()=>{v=!0,y||g.abort()}}}const In=function(p,a){if(/:\/\//.test(p.url)&&!/^https?:|^file:/.test(p.url)){if(lt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",p,a);if(!lt()){const m=p.url.substring(0,p.url.indexOf("://"));return(Kt.REGISTERED_PROTOCOLS[m]||gr)(p,a)}}if(!(/^file:/.test(g=p.url)||/^file:/.test(en())&&!/^\w+:/.test(g))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return gr(p,a);if(lt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",p,a,void 0,!0)}var g;return function(m,y){const v=new XMLHttpRequest;v.open(m.method||"GET",m.url,!0),m.type==="arrayBuffer"&&(v.responseType="arraybuffer");for(const E in m.headers)v.setRequestHeader(E,m.headers[E]);return m.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=m.credentials==="include",v.onerror=()=>{y(new Error(v.statusText))},v.onload=()=>{if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){let E=v.response;if(m.type==="json")try{E=JSON.parse(v.response)}catch(A){return y(A)}y(null,E,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else{const E=new Blob([v.response],{type:v.getResponseHeader("Content-Type")});y(new an(v.status,v.statusText,m.url,E))}},v.send(m.body),{cancel:()=>v.abort()}}(p,a)},uo=function(p,a){return In(K(p,{type:"arrayBuffer"}),a)};function dr(p){const a=window.document.createElement("a");return a.href=p,a.protocol===window.document.location.protocol&&a.host===window.document.location.host}const co="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let St,sn;St=[],sn=0;const Lo=function(p,a){if(yi.supported&&(p.headers||(p.headers={}),p.headers.accept="image/webp,*/*"),sn>=Kt.MAX_PARALLEL_IMAGE_REQUESTS){const v={requestParameters:p,callback:a,cancelled:!1,cancel(){this.cancelled=!0}};return St.push(v),v}sn++;let g=!1;const m=()=>{if(!g)for(g=!0,sn--;St.length&&sn<Kt.MAX_PARALLEL_IMAGE_REQUESTS;){const v=St.shift(),{requestParameters:E,callback:A,cancelled:I}=v;I||(v.cancel=Lo(E,A).cancel)}},y=uo(p,(v,E,A,I)=>{m(),v?a(v):E&&function(R,N){typeof createImageBitmap=="function"?function(F,U){const V=new Blob([new Uint8Array(F)],{type:"image/png"});createImageBitmap(V).then(q=>{U(null,q)}).catch(q=>{U(new Error(`Could not load image because of ${q.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(R,N):function(F,U){const V=new Image;V.onload=()=>{U(null,V),URL.revokeObjectURL(V.src),V.onload=null,window.requestAnimationFrame(()=>{V.src=co})},V.onerror=()=>U(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const q=new Blob([new Uint8Array(F)],{type:"image/png"});V.src=F.byteLength?URL.createObjectURL(q):co}(R,N)}(E,(R,N)=>{R!=null?a(R):N!=null&&a(null,N,{cacheControl:A,expires:I})})});return{cancel:()=>{y.cancel(),m()}}};function Mn(p,a,g){g[p]&&g[p].indexOf(a)!==-1||(g[p]=g[p]||[],g[p].push(a))}function po(p,a,g){if(g&&g[p]){const m=g[p].indexOf(a);m!==-1&&g[p].splice(m,1)}}class bn{constructor(a,g={}){K(this,g),this.type=a}}class Nn extends bn{constructor(a,g={}){super("error",K({error:a},g))}}class go{on(a,g){return this._listeners=this._listeners||{},Mn(a,g,this._listeners),this}off(a,g){return po(a,g,this._listeners),po(a,g,this._oneTimeListeners),this}once(a,g){return this._oneTimeListeners=this._oneTimeListeners||{},Mn(a,g,this._oneTimeListeners),this}fire(a,g){typeof a=="string"&&(a=new bn(a,g||{}));const m=a.type;if(this.listens(m)){a.target=this;const y=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const A of y)A.call(this,a);const v=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const A of v)po(m,A,this._oneTimeListeners),A.call(this,a);const E=this._eventedParent;E&&(K(a,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),E.fire(a))}else a instanceof Nn&&console.error(a.error);return this}listens(a){return this._listeners&&this._listeners[a]&&this._listeners[a].length>0||this._oneTimeListeners&&this._oneTimeListeners[a]&&this._oneTimeListeners[a].length>0||this._eventedParent&&this._eventedParent.listens(a)}setEventedParent(a,g){return this._eventedParent=a,this._eventedParentData=g,this}}var Te={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1},elevationOffset:{type:"number",default:450}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class Me{constructor(a,g,m,y){this.message=(a?`${a}: `:"")+m,y&&(this.identifier=y),g!=null&&g.__line__&&(this.line=g.__line__)}}function qn(p){const a=p.value;return a?[new Me(p.key,a,"constants have been deprecated as of v8")]:[]}function ln(p,...a){for(const g of a)for(const m in g)p[m]=g[m];return p}function jt(p){return p instanceof Number||p instanceof String||p instanceof Boolean?p.valueOf():p}function ti(p){if(Array.isArray(p))return p.map(ti);if(p instanceof Object&&!(p instanceof Number||p instanceof String||p instanceof Boolean)){const a={};for(const g in p)a[g]=ti(p[g]);return a}return jt(p)}class wi extends Error{constructor(a,g){super(g),this.message=g,this.key=a}}class ho{constructor(a,g=[]){this.parent=a,this.bindings={};for(const[m,y]of g)this.bindings[m]=y}concat(a){return new ho(this,a)}get(a){if(this.bindings[a])return this.bindings[a];if(this.parent)return this.parent.get(a);throw new Error(`${a} not found in scope.`)}has(a){return!!this.bindings[a]||!!this.parent&&this.parent.has(a)}}const Oi={kind:"null"},Fe={kind:"number"},yt={kind:"string"},gt={kind:"boolean"},Ri={kind:"color"},qi={kind:"object"},mt={kind:"value"},un={kind:"collator"},vn={kind:"formatted"},xi={kind:"padding"},zn={kind:"resolvedImage"};function kt(p,a){return{kind:"array",itemType:p,N:a}}function Bt(p){if(p.kind==="array"){const a=Bt(p.itemType);return typeof p.N=="number"?`array<${a}, ${p.N}>`:p.itemType.kind==="value"?"array":`array<${a}>`}return p.kind}const Hn=[Oi,Fe,yt,gt,Ri,vn,qi,kt(mt),xi,zn];function xn(p,a){if(a.kind==="error")return null;if(p.kind==="array"){if(a.kind==="array"&&(a.N===0&&a.itemType.kind==="value"||!xn(p.itemType,a.itemType))&&(typeof p.N!="number"||p.N===a.N))return null}else{if(p.kind===a.kind)return null;if(p.kind==="value"){for(const g of Hn)if(!xn(g,a))return null}}return`Expected ${Bt(p)} but found ${Bt(a)} instead.`}function Fn(p,a){return a.some(g=>g.kind===p.kind)}function Pn(p,a){return a.some(g=>g==="null"?p===null:g==="array"?Array.isArray(p):g==="object"?p&&!Array.isArray(p)&&typeof p=="object":g===typeof p)}var Mo,No={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function wn(p){return(p=Math.round(p))<0?0:p>255?255:p}function X(p){return wn(p[p.length-1]==="%"?parseFloat(p)/100*255:parseInt(p))}function M(p){return(a=p[p.length-1]==="%"?parseFloat(p)/100:parseFloat(p))<0?0:a>1?1:a;var a}function k(p,a,g){return g<0?g+=1:g>1&&(g-=1),6*g<1?p+(a-p)*g*6:2*g<1?a:3*g<2?p+(a-p)*(2/3-g)*6:p}try{Mo={}.parseCSSColor=function(p){var a,g=p.replace(/ /g,"").toLowerCase();if(g in No)return No[g].slice();if(g[0]==="#")return g.length===4?(a=parseInt(g.substr(1),16))>=0&&a<=4095?[(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,1]:null:g.length===7&&(a=parseInt(g.substr(1),16))>=0&&a<=16777215?[(16711680&a)>>16,(65280&a)>>8,255&a,1]:null;var m=g.indexOf("("),y=g.indexOf(")");if(m!==-1&&y+1===g.length){var v=g.substr(0,m),E=g.substr(m+1,y-(m+1)).split(","),A=1;switch(v){case"rgba":if(E.length!==4)return null;A=M(E.pop());case"rgb":return E.length!==3?null:[X(E[0]),X(E[1]),X(E[2]),A];case"hsla":if(E.length!==4)return null;A=M(E.pop());case"hsl":if(E.length!==3)return null;var I=(parseFloat(E[0])%360+360)%360/360,R=M(E[1]),N=M(E[2]),F=N<=.5?N*(R+1):N+R-N*R,U=2*N-F;return[wn(255*k(U,F,I+1/3)),wn(255*k(U,F,I)),wn(255*k(U,F,I-1/3)),A];default:return null}}return null}}catch{}class G{constructor(a,g,m,y=1){this.r=a,this.g=g,this.b=m,this.a=y}static parse(a){if(!a)return;if(a instanceof G)return a;if(typeof a!="string")return;const g=Mo(a);return g?new G(g[0]/255*g[3],g[1]/255*g[3],g[2]/255*g[3],g[3]):void 0}toString(){const[a,g,m,y]=this.toArray();return`rgba(${Math.round(a)},${Math.round(g)},${Math.round(m)},${y})`}toArray(){const{r:a,g,b:m,a:y}=this;return y===0?[0,0,0,0]:[255*a/y,255*g/y,255*m/y,y]}}G.black=new G(0,0,0,1),G.white=new G(1,1,1,1),G.transparent=new G(0,0,0,0),G.red=new G(1,0,0,1);class W{constructor(a,g,m){this.sensitivity=a?g?"variant":"case":g?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(a,g){return this.collator.compare(a,g)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class ne{constructor(a,g,m,y,v){this.text=a,this.image=g,this.scale=m,this.fontStack=y,this.textColor=v}}class ae{constructor(a){this.sections=a}static fromString(a){return new ae([new ne(a,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(a=>a.text.length!==0||a.image&&a.image.name.length!==0)}static factory(a){return a instanceof ae?a:ae.fromString(a)}toString(){return this.sections.length===0?"":this.sections.map(a=>a.text).join("")}}class re{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof re)return a;if(typeof a=="number")return new re([a,a,a,a]);if(Array.isArray(a)&&!(a.length<1||a.length>4)){for(const g of a)if(typeof g!="number")return;switch(a.length){case 1:a=[a[0],a[0],a[0],a[0]];break;case 2:a=[a[0],a[1],a[0],a[1]];break;case 3:a=[a[0],a[1],a[2],a[1]]}return new re(a)}}toString(){return JSON.stringify(this.values)}}class oe{constructor(a){this.name=a.name,this.available=a.available}toString(){return this.name}static fromString(a){return a?new oe({name:a,available:!1}):null}}function ce(p,a,g,m){return typeof p=="number"&&p>=0&&p<=255&&typeof a=="number"&&a>=0&&a<=255&&typeof g=="number"&&g>=0&&g<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[p,a,g,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[p,a,g,m]:[p,a,g]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ve(p){if(p===null||typeof p=="string"||typeof p=="boolean"||typeof p=="number"||p instanceof G||p instanceof W||p instanceof ae||p instanceof re||p instanceof oe)return!0;if(Array.isArray(p)){for(const a of p)if(!ve(a))return!1;return!0}if(typeof p=="object"){for(const a in p)if(!ve(p[a]))return!1;return!0}return!1}function Ce(p){if(p===null)return Oi;if(typeof p=="string")return yt;if(typeof p=="boolean")return gt;if(typeof p=="number")return Fe;if(p instanceof G)return Ri;if(p instanceof W)return un;if(p instanceof ae)return vn;if(p instanceof re)return xi;if(p instanceof oe)return zn;if(Array.isArray(p)){const a=p.length;let g;for(const m of p){const y=Ce(m);if(g){if(g===y)continue;g=mt;break}g=y}return kt(g||mt,a)}return qi}function Ae(p){const a=typeof p;return p===null?"":a==="string"||a==="number"||a==="boolean"?String(p):p instanceof G||p instanceof ae||p instanceof re||p instanceof oe?p.toString():JSON.stringify(p)}class Ye{constructor(a,g){this.type=a,this.value=g}static parse(a,g){if(a.length!==2)return g.error(`'literal' expression requires exactly one argument, but found ${a.length-1} instead.`);if(!ve(a[1]))return g.error("invalid value");const m=a[1];let y=Ce(m);const v=g.expectedType;return y.kind!=="array"||y.N!==0||!v||v.kind!=="array"||typeof v.N=="number"&&v.N!==0||(y=v),new Ye(y,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Ge{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}}const et={string:yt,number:Fe,boolean:gt,object:qi};class nt{constructor(a,g){this.type=a,this.args=g}static parse(a,g){if(a.length<2)return g.error("Expected at least one argument.");let m,y=1;const v=a[0];if(v==="array"){let A,I;if(a.length>2){const R=a[1];if(typeof R!="string"||!(R in et)||R==="object")return g.error('The item type argument of "array" must be one of string, number, boolean',1);A=et[R],y++}else A=mt;if(a.length>3){if(a[2]!==null&&(typeof a[2]!="number"||a[2]<0||a[2]!==Math.floor(a[2])))return g.error('The length argument to "array" must be a positive integer literal',2);I=a[2],y++}m=kt(A,I)}else{if(!et[v])throw new Error(`Types doesn't contain name = ${v}`);m=et[v]}const E=[];for(;y<a.length;y++){const A=g.parse(a[y],y,mt);if(!A)return null;E.push(A)}return new nt(m,E)}evaluate(a){for(let g=0;g<this.args.length;g++){const m=this.args[g].evaluate(a);if(!xn(this.type,Ce(m)))return m;if(g===this.args.length-1)throw new Ge(`Expected value to be of type ${Bt(this.type)}, but found ${Bt(Ce(m))} instead.`)}throw new Error}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}const ft={"to-boolean":gt,"to-color":Ri,"to-number":Fe,"to-string":yt};class xt{constructor(a,g){this.type=a,this.args=g}static parse(a,g){if(a.length<2)return g.error("Expected at least one argument.");const m=a[0];if(!ft[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&a.length!==2)return g.error("Expected one argument.");const y=ft[m],v=[];for(let E=1;E<a.length;E++){const A=g.parse(a[E],E,mt);if(!A)return null;v.push(A)}return new xt(y,v)}evaluate(a){if(this.type.kind==="boolean")return!!this.args[0].evaluate(a);if(this.type.kind==="color"){let g,m;for(const y of this.args){if(g=y.evaluate(a),m=null,g instanceof G)return g;if(typeof g=="string"){const v=a.parseColor(g);if(v)return v}else if(Array.isArray(g)&&(m=g.length<3||g.length>4?`Invalid rbga value ${JSON.stringify(g)}: expected an array containing either three or four numeric values.`:ce(g[0],g[1],g[2],g[3]),!m))return new G(g[0]/255,g[1]/255,g[2]/255,g[3])}throw new Ge(m||`Could not parse color from value '${typeof g=="string"?g:JSON.stringify(g)}'`)}if(this.type.kind==="padding"){let g;for(const m of this.args){g=m.evaluate(a);const y=re.parse(g);if(y)return y}throw new Ge(`Could not parse padding from value '${typeof g=="string"?g:JSON.stringify(g)}'`)}if(this.type.kind==="number"){let g=null;for(const m of this.args){if(g=m.evaluate(a),g===null)return 0;const y=Number(g);if(!isNaN(y))return y}throw new Ge(`Could not convert ${JSON.stringify(g)} to number.`)}return this.type.kind==="formatted"?ae.fromString(Ae(this.args[0].evaluate(a))):this.type.kind==="resolvedImage"?oe.fromString(Ae(this.args[0].evaluate(a))):Ae(this.args[0].evaluate(a))}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}const $t=["Unknown","Point","LineString","Polygon"];class _t{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?$t[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(a){let g=this._parseColorCache[a];return g||(g=this._parseColorCache[a]=G.parse(a)),g}}class dt{constructor(a,g,m,y){this.name=a,this.type=g,this._evaluate=m,this.args=y}evaluate(a){return this._evaluate(a,this.args)}eachChild(a){this.args.forEach(a)}outputDefined(){return!1}static parse(a,g){const m=a[0],y=dt.definitions[m];if(!y)return g.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(y)?y[0]:y.type,E=Array.isArray(y)?[[y[1],y[2]]]:y.overloads,A=E.filter(([R])=>!Array.isArray(R)||R.length===a.length-1);let I=null;for(const[R,N]of A){I=new _r(g.registry,g.path,null,g.scope);const F=[];let U=!1;for(let V=1;V<a.length;V++){const q=a[V],ie=Array.isArray(R)?R[V-1]:R.type,te=I.parse(q,1+F.length,ie);if(!te){U=!0;break}F.push(te)}if(!U)if(Array.isArray(R)&&R.length!==F.length)I.error(`Expected ${R.length} arguments, but found ${F.length} instead.`);else{for(let V=0;V<F.length;V++){const q=Array.isArray(R)?R[V]:R.type,ie=F[V];I.concat(V+1).checkSubtype(q,ie.type)}if(I.errors.length===0)return new dt(m,v,N,F)}}if(A.length===1)g.errors.push(...I.errors);else{const R=(A.length?A:E).map(([F])=>{return U=F,Array.isArray(U)?`(${U.map(Bt).join(", ")})`:`(${Bt(U.type)}...)`;var U}).join(" | "),N=[];for(let F=1;F<a.length;F++){const U=g.parse(a[F],1+N.length);if(!U)return null;N.push(Bt(U.type))}g.error(`Expected arguments of type ${R}, but found (${N.join(", ")}) instead.`)}return null}static register(a,g){dt.definitions=g;for(const m in g)a[m]=dt}}class ri{constructor(a,g,m){this.type=un,this.locale=m,this.caseSensitive=a,this.diacriticSensitive=g}static parse(a,g){if(a.length!==2)return g.error("Expected one argument.");const m=a[1];if(typeof m!="object"||Array.isArray(m))return g.error("Collator options argument must be an object.");const y=g.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,gt);if(!y)return null;const v=g.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,gt);if(!v)return null;let E=null;return m.locale&&(E=g.parse(m.locale,1,yt),!E)?null:new ri(y,v,E)}evaluate(a){return new W(this.caseSensitive.evaluate(a),this.diacriticSensitive.evaluate(a),this.locale?this.locale.evaluate(a):null)}eachChild(a){a(this.caseSensitive),a(this.diacriticSensitive),this.locale&&a(this.locale)}outputDefined(){return!1}}const ii=8192;function si(p,a){p[0]=Math.min(p[0],a[0]),p[1]=Math.min(p[1],a[1]),p[2]=Math.max(p[2],a[0]),p[3]=Math.max(p[3],a[1])}function $i(p,a){return!(p[0]<=a[0]||p[2]>=a[2]||p[1]<=a[1]||p[3]>=a[3])}function Jr(p,a){const g=(180+p[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+p[1]*Math.PI/360)))/360,y=Math.pow(2,a.z);return[Math.round(g*y*ii),Math.round(m*y*ii)]}function zo(p,a,g){const m=p[0]-a[0],y=p[1]-a[1],v=p[0]-g[0],E=p[1]-g[1];return m*E-v*y==0&&m*v<=0&&y*E<=0}function Lt(p,a){let g=!1;for(let E=0,A=a.length;E<A;E++){const I=a[E];for(let R=0,N=I.length;R<N-1;R++){if(zo(p,I[R],I[R+1]))return!1;(y=I[R])[1]>(m=p)[1]!=(v=I[R+1])[1]>m[1]&&m[0]<(v[0]-y[0])*(m[1]-y[1])/(v[1]-y[1])+y[0]&&(g=!g)}}var m,y,v;return g}function Js(p,a){for(let g=0;g<a.length;g++)if(Lt(p,a[g]))return!0;return!1}function hr(p,a,g,m){const y=m[0]-g[0],v=m[1]-g[1],E=(p[0]-g[0])*v-y*(p[1]-g[1]),A=(a[0]-g[0])*v-y*(a[1]-g[1]);return E>0&&A<0||E<0&&A>0}function el(p,a,g){for(const R of g)for(let N=0;N<R.length-1;++N)if((A=[(E=R[N+1])[0]-(v=R[N])[0],E[1]-v[1]])[0]*(I=[(y=a)[0]-(m=p)[0],y[1]-m[1]])[1]-A[1]*I[0]!=0&&hr(m,y,v,E)&&hr(v,E,m,y))return!0;var m,y,v,E,A,I;return!1}function ea(p,a){for(let g=0;g<p.length;++g)if(!Lt(p[g],a))return!1;for(let g=0;g<p.length-1;++g)if(el(p[g],p[g+1],a))return!1;return!0}function Qa(p,a){for(let g=0;g<a.length;g++)if(ea(p,a[g]))return!0;return!1}function ta(p,a,g){const m=[];for(let y=0;y<p.length;y++){const v=[];for(let E=0;E<p[y].length;E++){const A=Jr(p[y][E],g);si(a,A),v.push(A)}m.push(v)}return m}function ia(p,a,g){const m=[];for(let y=0;y<p.length;y++){const v=ta(p[y],a,g);m.push(v)}return m}function na(p,a,g,m){if(p[0]<g[0]||p[0]>g[2]){const y=.5*m;let v=p[0]-g[0]>y?-m:g[0]-p[0]>y?m:0;v===0&&(v=p[0]-g[2]>y?-m:g[2]-p[0]>y?m:0),p[0]+=v}si(a,p)}function Ja(p,a,g,m){const y=Math.pow(2,m.z)*ii,v=[m.x*ii,m.y*ii],E=[];for(const A of p)for(const I of A){const R=[I.x+v[0],I.y+v[1]];na(R,a,g,y),E.push(R)}return E}function es(p,a,g,m){const y=Math.pow(2,m.z)*ii,v=[m.x*ii,m.y*ii],E=[];for(const I of p){const R=[];for(const N of I){const F=[N.x+v[0],N.y+v[1]];si(a,F),R.push(F)}E.push(R)}if(a[2]-a[0]<=y/2){(A=a)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(const I of E)for(const R of I)na(R,a,g,y)}var A;return E}class Xn{constructor(a,g){this.type=gt,this.geojson=a,this.geometries=g}static parse(a,g){if(a.length!==2)return g.error(`'within' expression requires exactly one argument, but found ${a.length-1} instead.`);if(ve(a[1])){const m=a[1];if(m.type==="FeatureCollection")for(let y=0;y<m.features.length;++y){const v=m.features[y].geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new Xn(m,m.features[y].geometry)}else if(m.type==="Feature"){const y=m.geometry.type;if(y==="Polygon"||y==="MultiPolygon")return new Xn(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new Xn(m,m)}return g.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return function(g,m){const y=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],E=g.canonicalID();if(m.type==="Polygon"){const A=ta(m.coordinates,v,E),I=Ja(g.geometry(),y,v,E);if(!$i(y,v))return!1;for(const R of I)if(!Lt(R,A))return!1}if(m.type==="MultiPolygon"){const A=ia(m.coordinates,v,E),I=Ja(g.geometry(),y,v,E);if(!$i(y,v))return!1;for(const R of I)if(!Js(R,A))return!1}return!0}(a,this.geometries);if(a.geometryType()==="LineString")return function(g,m){const y=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],E=g.canonicalID();if(m.type==="Polygon"){const A=ta(m.coordinates,v,E),I=es(g.geometry(),y,v,E);if(!$i(y,v))return!1;for(const R of I)if(!ea(R,A))return!1}if(m.type==="MultiPolygon"){const A=ia(m.coordinates,v,E),I=es(g.geometry(),y,v,E);if(!$i(y,v))return!1;for(const R of I)if(!Qa(R,A))return!1}return!0}(a,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}function mr(p){if(p instanceof dt&&(p.name==="get"&&p.args.length===1||p.name==="feature-state"||p.name==="has"&&p.args.length===1||p.name==="properties"||p.name==="geometry-type"||p.name==="id"||/^filter-/.test(p.name))||p instanceof Xn)return!1;let a=!0;return p.eachChild(g=>{a&&!mr(g)&&(a=!1)}),a}function mo(p){if(p instanceof dt&&p.name==="feature-state")return!1;let a=!0;return p.eachChild(g=>{a&&!mo(g)&&(a=!1)}),a}function Fo(p,a){if(p instanceof dt&&a.indexOf(p.name)>=0)return!1;let g=!0;return p.eachChild(m=>{g&&!Fo(m,a)&&(g=!1)}),g}class fr{constructor(a,g){this.type=g.type,this.name=a,this.boundExpression=g}static parse(a,g){if(a.length!==2||typeof a[1]!="string")return g.error("'var' expression requires exactly one string literal argument.");const m=a[1];return g.scope.has(m)?new fr(m,g.scope.get(m)):g.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(a){return this.boundExpression.evaluate(a)}eachChild(){}outputDefined(){return!1}}class _r{constructor(a,g=[],m,y=new ho,v=[]){this.registry=a,this.path=g,this.key=g.map(E=>`[${E}]`).join(""),this.scope=y,this.errors=v,this.expectedType=m}parse(a,g,m,y,v={}){return g?this.concat(g,m,y)._parse(a,v):this._parse(a,v)}_parse(a,g){function m(y,v,E){return E==="assert"?new nt(v,[y]):E==="coerce"?new xt(v,[y]):y}if(a!==null&&typeof a!="string"&&typeof a!="boolean"&&typeof a!="number"||(a=["literal",a]),Array.isArray(a)){if(a.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const y=a[0];if(typeof y!="string")return this.error(`Expression name must be a string, but found ${typeof y} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const v=this.registry[y];if(v){let E=v.parse(a,this);if(!E)return null;if(this.expectedType){const A=this.expectedType,I=E.type;if(A.kind!=="string"&&A.kind!=="number"&&A.kind!=="boolean"&&A.kind!=="object"&&A.kind!=="array"||I.kind!=="value")if(A.kind!=="color"&&A.kind!=="formatted"&&A.kind!=="resolvedImage"||I.kind!=="value"&&I.kind!=="string")if(A.kind!=="padding"||I.kind!=="value"&&I.kind!=="number"&&I.kind!=="array"){if(this.checkSubtype(A,I))return null}else E=m(E,A,g.typeAnnotation||"coerce");else E=m(E,A,g.typeAnnotation||"coerce");else E=m(E,A,g.typeAnnotation||"assert")}if(!(E instanceof Ye)&&E.type.kind!=="resolvedImage"&&ko(E)){const A=new _t;try{E=new Ye(E.type,E.evaluate(A))}catch(I){return this.error(I.message),null}}return E}return this.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(a===void 0?"'undefined' value invalid. Use null instead.":typeof a=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof a} instead.`)}concat(a,g,m){const y=typeof a=="number"?this.path.concat(a):this.path,v=m?this.scope.concat(m):this.scope;return new _r(this.registry,y,g||null,v,this.errors)}error(a,...g){const m=`${this.key}${g.map(y=>`[${y}]`).join("")}`;this.errors.push(new wi(m,a))}checkSubtype(a,g){const m=xn(a,g);return m&&this.error(m),m}}function ko(p){if(p instanceof fr)return ko(p.boundExpression);if(p instanceof dt&&p.name==="error"||p instanceof ri||p instanceof Xn)return!1;const a=p instanceof xt||p instanceof nt;let g=!0;return p.eachChild(m=>{g=a?g&&ko(m):g&&m instanceof Ye}),!!g&&mr(p)&&Fo(p,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function yr(p,a){const g=p.length-1;let m,y,v=0,E=g,A=0;for(;v<=E;)if(A=Math.floor((v+E)/2),m=p[A],y=p[A+1],m<=a){if(A===g||a<y)return A;v=A+1}else{if(!(m>a))throw new Ge("Input is not a number.");E=A-1}return 0}class Bo{constructor(a,g,m){this.type=a,this.input=g,this.labels=[],this.outputs=[];for(const[y,v]of m)this.labels.push(y),this.outputs.push(v)}static parse(a,g){if(a.length-1<4)return g.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return g.error("Expected an even number of arguments.");const m=g.parse(a[1],1,Fe);if(!m)return null;const y=[];let v=null;g.expectedType&&g.expectedType.kind!=="value"&&(v=g.expectedType);for(let E=1;E<a.length;E+=2){const A=E===1?-1/0:a[E],I=a[E+1],R=E,N=E+1;if(typeof A!="number")return g.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',R);if(y.length&&y[y.length-1][0]>=A)return g.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',R);const F=g.parse(I,N,v);if(!F)return null;v=v||F.type,y.push([A,F])}return new Bo(v,m,y)}evaluate(a){const g=this.labels,m=this.outputs;if(g.length===1)return m[0].evaluate(a);const y=this.input.evaluate(a);if(y<=g[0])return m[0].evaluate(a);const v=g.length;return y>=g[v-1]?m[v-1].evaluate(a):m[yr(g,y)].evaluate(a)}eachChild(a){a(this.input);for(const g of this.outputs)a(g)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}}function Qt(p,a,g){return p*(1-g)+a*g}var Uo=Object.freeze({__proto__:null,number:Qt,color:function(p,a,g){return new G(Qt(p.r,a.r,g),Qt(p.g,a.g,g),Qt(p.b,a.b,g),Qt(p.a,a.a,g))},array:function(p,a,g){return p.map((m,y)=>Qt(m,a[y],g))},padding:function(p,a,g){const m=p.values,y=a.values;return new re([Qt(m[0],y[0],g),Qt(m[1],y[1],g),Qt(m[2],y[2],g),Qt(m[3],y[3],g)])}});const oa=.95047,ts=1.08883,is=4/29,$r=6/29,ra=3*$r*$r,tl=Math.PI/180,il=180/Math.PI;function aa(p){return p>.008856451679035631?Math.pow(p,1/3):p/ra+is}function sa(p){return p>$r?p*p*p:ra*(p-is)}function la(p){return 255*(p<=.0031308?12.92*p:1.055*Math.pow(p,1/2.4)-.055)}function ua(p){return(p/=255)<=.04045?p/12.92:Math.pow((p+.055)/1.055,2.4)}function ns(p){const a=ua(p.r),g=ua(p.g),m=ua(p.b),y=aa((.4124564*a+.3575761*g+.1804375*m)/oa),v=aa((.2126729*a+.7151522*g+.072175*m)/1);return{l:116*v-16,a:500*(y-v),b:200*(v-aa((.0193339*a+.119192*g+.9503041*m)/ts)),alpha:p.a}}function Dt(p){let a=(p.l+16)/116,g=isNaN(p.a)?a:a+p.a/500,m=isNaN(p.b)?a:a-p.b/200;return a=1*sa(a),g=oa*sa(g),m=ts*sa(m),new G(la(3.2404542*g-1.5371385*a-.4985314*m),la(-.969266*g+1.8760108*a+.041556*m),la(.0556434*g-.2040259*a+1.0572252*m),p.alpha)}function nl(p,a,g){const m=a-p;return p+g*(m>180||m<-180?m-360*Math.round(m/360):m)}const jo={forward:ns,reverse:Dt,interpolate:function(p,a,g){return{l:Qt(p.l,a.l,g),a:Qt(p.a,a.a,g),b:Qt(p.b,a.b,g),alpha:Qt(p.alpha,a.alpha,g)}}},Vo={forward:function(p){const{l:a,a:g,b:m}=ns(p),y=Math.atan2(m,g)*il;return{h:y<0?y+360:y,c:Math.sqrt(g*g+m*m),l:a,alpha:p.a}},reverse:function(p){const a=p.h*tl,g=p.c;return Dt({l:p.l,a:Math.cos(a)*g,b:Math.sin(a)*g,alpha:p.alpha})},interpolate:function(p,a,g){return{h:nl(p.h,a.h,g),c:Qt(p.c,a.c,g),l:Qt(p.l,a.l,g),alpha:Qt(p.alpha,a.alpha,g)}}};var os=Object.freeze({__proto__:null,lab:jo,hcl:Vo});class Hi{constructor(a,g,m,y,v){this.type=a,this.operator=g,this.interpolation=m,this.input=y,this.labels=[],this.outputs=[];for(const[E,A]of v)this.labels.push(E),this.outputs.push(A)}static interpolationFactor(a,g,m,y){let v=0;if(a.name==="exponential")v=ca(g,a.base,m,y);else if(a.name==="linear")v=ca(g,1,m,y);else if(a.name==="cubic-bezier"){const E=a.controlPoints;v=new b(E[0],E[1],E[2],E[3]).solve(ca(g,1,m,y))}return v}static parse(a,g){let[m,y,v,...E]=a;if(!Array.isArray(y)||y.length===0)return g.error("Expected an interpolation type expression.",1);if(y[0]==="linear")y={name:"linear"};else if(y[0]==="exponential"){const R=y[1];if(typeof R!="number")return g.error("Exponential interpolation requires a numeric base.",1,1);y={name:"exponential",base:R}}else{if(y[0]!=="cubic-bezier")return g.error(`Unknown interpolation type ${String(y[0])}`,1,0);{const R=y.slice(1);if(R.length!==4||R.some(N=>typeof N!="number"||N<0||N>1))return g.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);y={name:"cubic-bezier",controlPoints:R}}}if(a.length-1<4)return g.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return g.error("Expected an even number of arguments.");if(v=g.parse(v,2,Fe),!v)return null;const A=[];let I=null;m==="interpolate-hcl"||m==="interpolate-lab"?I=Ri:g.expectedType&&g.expectedType.kind!=="value"&&(I=g.expectedType);for(let R=0;R<E.length;R+=2){const N=E[R],F=E[R+1],U=R+3,V=R+4;if(typeof N!="number")return g.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',U);if(A.length&&A[A.length-1][0]>=N)return g.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',U);const q=g.parse(F,V,I);if(!q)return null;I=I||q.type,A.push([N,q])}return I.kind==="number"||I.kind==="color"||I.kind==="padding"||I.kind==="array"&&I.itemType.kind==="number"&&typeof I.N=="number"?new Hi(I,m,y,v,A):g.error(`Type ${Bt(I)} is not interpolatable.`)}evaluate(a){const g=this.labels,m=this.outputs;if(g.length===1)return m[0].evaluate(a);const y=this.input.evaluate(a);if(y<=g[0])return m[0].evaluate(a);const v=g.length;if(y>=g[v-1])return m[v-1].evaluate(a);const E=yr(g,y),A=Hi.interpolationFactor(this.interpolation,y,g[E],g[E+1]),I=m[E].evaluate(a),R=m[E+1].evaluate(a);return this.operator==="interpolate"?Uo[this.type.kind.toLowerCase()](I,R,A):this.operator==="interpolate-hcl"?Vo.reverse(Vo.interpolate(Vo.forward(I),Vo.forward(R),A)):jo.reverse(jo.interpolate(jo.forward(I),jo.forward(R),A))}eachChild(a){a(this.input);for(const g of this.outputs)a(g)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}}function ca(p,a,g,m){const y=m-g,v=p-g;return y===0?0:a===1?v/y:(Math.pow(a,v)-1)/(Math.pow(a,y)-1)}class br{constructor(a,g){this.type=a,this.args=g}static parse(a,g){if(a.length<2)return g.error("Expectected at least one argument.");let m=null;const y=g.expectedType;y&&y.kind!=="value"&&(m=y);const v=[];for(const A of a.slice(1)){const I=g.parse(A,1+v.length,m,void 0,{typeAnnotation:"omit"});if(!I)return null;m=m||I.type,v.push(I)}if(!m)throw new Error("No output type");const E=y&&v.some(A=>xn(y,A.type));return new br(E?mt:m,v)}evaluate(a){let g,m=null,y=0;for(const v of this.args)if(y++,m=v.evaluate(a),m&&m instanceof oe&&!m.available&&(g||(g=m.name),m=null,y===this.args.length&&(m=g)),m!==null)break;return m}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}class vr{constructor(a,g){this.type=g.type,this.bindings=[].concat(a),this.result=g}evaluate(a){return this.result.evaluate(a)}eachChild(a){for(const g of this.bindings)a(g[1]);a(this.result)}static parse(a,g){if(a.length<4)return g.error(`Expected at least 3 arguments, but found ${a.length-1} instead.`);const m=[];for(let v=1;v<a.length-1;v+=2){const E=a[v];if(typeof E!="string")return g.error(`Expected string, but found ${typeof E} instead.`,v);if(/[^a-zA-Z0-9_]/.test(E))return g.error("Variable names must contain only alphanumeric characters or '_'.",v);const A=g.parse(a[v+1],v+1);if(!A)return null;m.push([E,A])}const y=g.parse(a[a.length-1],a.length-1,g.expectedType,m);return y?new vr(m,y):null}outputDefined(){return this.result.outputDefined()}}class pa{constructor(a,g,m){this.type=a,this.index=g,this.input=m}static parse(a,g){if(a.length!==3)return g.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const m=g.parse(a[1],1,Fe),y=g.parse(a[2],2,kt(g.expectedType||mt));return m&&y?new pa(y.type.itemType,m,y):null}evaluate(a){const g=this.index.evaluate(a),m=this.input.evaluate(a);if(g<0)throw new Ge(`Array index out of bounds: ${g} < 0.`);if(g>=m.length)throw new Ge(`Array index out of bounds: ${g} > ${m.length-1}.`);if(g!==Math.floor(g))throw new Ge(`Array index must be an integer, but found ${g} instead.`);return m[g]}eachChild(a){a(this.index),a(this.input)}outputDefined(){return!1}}class ga{constructor(a,g){this.type=gt,this.needle=a,this.haystack=g}static parse(a,g){if(a.length!==3)return g.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const m=g.parse(a[1],1,mt),y=g.parse(a[2],2,mt);return m&&y?Fn(m.type,[gt,yt,Fe,Oi,mt])?new ga(m,y):g.error(`Expected first argument to be of type boolean, string, number or null, but found ${Bt(m.type)} instead`):null}evaluate(a){const g=this.needle.evaluate(a),m=this.haystack.evaluate(a);if(!m)return!1;if(!Pn(g,["boolean","string","number","null"]))throw new Ge(`Expected first argument to be of type boolean, string, number or null, but found ${Bt(Ce(g))} instead.`);if(!Pn(m,["string","array"]))throw new Ge(`Expected second argument to be of type array or string, but found ${Bt(Ce(m))} instead.`);return m.indexOf(g)>=0}eachChild(a){a(this.needle),a(this.haystack)}outputDefined(){return!0}}class xr{constructor(a,g,m){this.type=Fe,this.needle=a,this.haystack=g,this.fromIndex=m}static parse(a,g){if(a.length<=2||a.length>=5)return g.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const m=g.parse(a[1],1,mt),y=g.parse(a[2],2,mt);if(!m||!y)return null;if(!Fn(m.type,[gt,yt,Fe,Oi,mt]))return g.error(`Expected first argument to be of type boolean, string, number or null, but found ${Bt(m.type)} instead`);if(a.length===4){const v=g.parse(a[3],3,Fe);return v?new xr(m,y,v):null}return new xr(m,y)}evaluate(a){const g=this.needle.evaluate(a),m=this.haystack.evaluate(a);if(!Pn(g,["boolean","string","number","null"]))throw new Ge(`Expected first argument to be of type boolean, string, number or null, but found ${Bt(Ce(g))} instead.`);if(!Pn(m,["string","array"]))throw new Ge(`Expected second argument to be of type array or string, but found ${Bt(Ce(m))} instead.`);if(this.fromIndex){const y=this.fromIndex.evaluate(a);return m.indexOf(g,y)}return m.indexOf(g)}eachChild(a){a(this.needle),a(this.haystack),this.fromIndex&&a(this.fromIndex)}outputDefined(){return!1}}class da{constructor(a,g,m,y,v,E){this.inputType=a,this.type=g,this.input=m,this.cases=y,this.outputs=v,this.otherwise=E}static parse(a,g){if(a.length<5)return g.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if(a.length%2!=1)return g.error("Expected an even number of arguments.");let m,y;g.expectedType&&g.expectedType.kind!=="value"&&(y=g.expectedType);const v={},E=[];for(let R=2;R<a.length-1;R+=2){let N=a[R];const F=a[R+1];Array.isArray(N)||(N=[N]);const U=g.concat(R);if(N.length===0)return U.error("Expected at least one branch label.");for(const q of N){if(typeof q!="number"&&typeof q!="string")return U.error("Branch labels must be numbers or strings.");if(typeof q=="number"&&Math.abs(q)>Number.MAX_SAFE_INTEGER)return U.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof q=="number"&&Math.floor(q)!==q)return U.error("Numeric branch labels must be integer values.");if(m){if(U.checkSubtype(m,Ce(q)))return null}else m=Ce(q);if(v[String(q)]!==void 0)return U.error("Branch labels must be unique.");v[String(q)]=E.length}const V=g.parse(F,R,y);if(!V)return null;y=y||V.type,E.push(V)}const A=g.parse(a[1],1,mt);if(!A)return null;const I=g.parse(a[a.length-1],a.length-1,y);return I?A.type.kind!=="value"&&g.concat(1).checkSubtype(m,A.type)?null:new da(m,y,A,v,E,I):null}evaluate(a){const g=this.input.evaluate(a);return(Ce(g)===this.inputType&&this.outputs[this.cases[g]]||this.otherwise).evaluate(a)}eachChild(a){a(this.input),this.outputs.forEach(a),a(this.otherwise)}outputDefined(){return this.outputs.every(a=>a.outputDefined())&&this.otherwise.outputDefined()}}class ha{constructor(a,g,m){this.type=a,this.branches=g,this.otherwise=m}static parse(a,g){if(a.length<4)return g.error(`Expected at least 3 arguments, but found only ${a.length-1}.`);if(a.length%2!=0)return g.error("Expected an odd number of arguments.");let m;g.expectedType&&g.expectedType.kind!=="value"&&(m=g.expectedType);const y=[];for(let E=1;E<a.length-1;E+=2){const A=g.parse(a[E],E,gt);if(!A)return null;const I=g.parse(a[E+1],E+1,m);if(!I)return null;y.push([A,I]),m=m||I.type}const v=g.parse(a[a.length-1],a.length-1,m);if(!v)return null;if(!m)throw new Error("Can't infer output type");return new ha(m,y,v)}evaluate(a){for(const[g,m]of this.branches)if(g.evaluate(a))return m.evaluate(a);return this.otherwise.evaluate(a)}eachChild(a){for(const[g,m]of this.branches)a(g),a(m);a(this.otherwise)}outputDefined(){return this.branches.every(([a,g])=>g.outputDefined())&&this.otherwise.outputDefined()}}class Er{constructor(a,g,m,y){this.type=a,this.input=g,this.beginIndex=m,this.endIndex=y}static parse(a,g){if(a.length<=2||a.length>=5)return g.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const m=g.parse(a[1],1,mt),y=g.parse(a[2],2,Fe);if(!m||!y)return null;if(!Fn(m.type,[kt(mt),yt,mt]))return g.error(`Expected first argument to be of type array or string, but found ${Bt(m.type)} instead`);if(a.length===4){const v=g.parse(a[3],3,Fe);return v?new Er(m.type,m,y,v):null}return new Er(m.type,m,y)}evaluate(a){const g=this.input.evaluate(a),m=this.beginIndex.evaluate(a);if(!Pn(g,["string","array"]))throw new Ge(`Expected first argument to be of type array or string, but found ${Bt(Ce(g))} instead.`);if(this.endIndex){const y=this.endIndex.evaluate(a);return g.slice(m,y)}return g.slice(m)}eachChild(a){a(this.input),a(this.beginIndex),this.endIndex&&a(this.endIndex)}outputDefined(){return!1}}function rs(p,a){return p==="=="||p==="!="?a.kind==="boolean"||a.kind==="string"||a.kind==="number"||a.kind==="null"||a.kind==="value":a.kind==="string"||a.kind==="number"||a.kind==="value"}function as(p,a,g,m){return m.compare(a,g)===0}function fo(p,a,g){const m=p!=="=="&&p!=="!=";return class Tc{constructor(v,E,A){this.type=gt,this.lhs=v,this.rhs=E,this.collator=A,this.hasUntypedArgument=v.type.kind==="value"||E.type.kind==="value"}static parse(v,E){if(v.length!==3&&v.length!==4)return E.error("Expected two or three arguments.");const A=v[0];let I=E.parse(v[1],1,mt);if(!I)return null;if(!rs(A,I.type))return E.concat(1).error(`"${A}" comparisons are not supported for type '${Bt(I.type)}'.`);let R=E.parse(v[2],2,mt);if(!R)return null;if(!rs(A,R.type))return E.concat(2).error(`"${A}" comparisons are not supported for type '${Bt(R.type)}'.`);if(I.type.kind!==R.type.kind&&I.type.kind!=="value"&&R.type.kind!=="value")return E.error(`Cannot compare types '${Bt(I.type)}' and '${Bt(R.type)}'.`);m&&(I.type.kind==="value"&&R.type.kind!=="value"?I=new nt(R.type,[I]):I.type.kind!=="value"&&R.type.kind==="value"&&(R=new nt(I.type,[R])));let N=null;if(v.length===4){if(I.type.kind!=="string"&&R.type.kind!=="string"&&I.type.kind!=="value"&&R.type.kind!=="value")return E.error("Cannot use collator to compare non-string types.");if(N=E.parse(v[3],3,un),!N)return null}return new Tc(I,R,N)}evaluate(v){const E=this.lhs.evaluate(v),A=this.rhs.evaluate(v);if(m&&this.hasUntypedArgument){const I=Ce(E),R=Ce(A);if(I.kind!==R.kind||I.kind!=="string"&&I.kind!=="number")throw new Ge(`Expected arguments for "${p}" to be (string, string) or (number, number), but found (${I.kind}, ${R.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const I=Ce(E),R=Ce(A);if(I.kind!=="string"||R.kind!=="string")return a(v,E,A)}return this.collator?g(v,E,A,this.collator.evaluate(v)):a(v,E,A)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}}}const ol=fo("==",function(p,a,g){return a===g},as),rl=fo("!=",function(p,a,g){return a!==g},function(p,a,g,m){return!as(0,a,g,m)}),al=fo("<",function(p,a,g){return a<g},function(p,a,g,m){return m.compare(a,g)<0}),sl=fo(">",function(p,a,g){return a>g},function(p,a,g,m){return m.compare(a,g)>0}),ll=fo("<=",function(p,a,g){return a<=g},function(p,a,g,m){return m.compare(a,g)<=0}),ul=fo(">=",function(p,a,g){return a>=g},function(p,a,g,m){return m.compare(a,g)>=0});class ma{constructor(a,g,m,y,v){this.type=yt,this.number=a,this.locale=g,this.currency=m,this.minFractionDigits=y,this.maxFractionDigits=v}static parse(a,g){if(a.length!==3)return g.error("Expected two arguments.");const m=g.parse(a[1],1,Fe);if(!m)return null;const y=a[2];if(typeof y!="object"||Array.isArray(y))return g.error("NumberFormat options argument must be an object.");let v=null;if(y.locale&&(v=g.parse(y.locale,1,yt),!v))return null;let E=null;if(y.currency&&(E=g.parse(y.currency,1,yt),!E))return null;let A=null;if(y["min-fraction-digits"]&&(A=g.parse(y["min-fraction-digits"],1,Fe),!A))return null;let I=null;return y["max-fraction-digits"]&&(I=g.parse(y["max-fraction-digits"],1,Fe),!I)?null:new ma(m,v,E,A,I)}evaluate(a){return new Intl.NumberFormat(this.locale?this.locale.evaluate(a):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(a):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(a):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(a):void 0}).format(this.number.evaluate(a))}eachChild(a){a(this.number),this.locale&&a(this.locale),this.currency&&a(this.currency),this.minFractionDigits&&a(this.minFractionDigits),this.maxFractionDigits&&a(this.maxFractionDigits)}outputDefined(){return!1}}class Sr{constructor(a){this.type=vn,this.sections=a}static parse(a,g){if(a.length<2)return g.error("Expected at least one argument.");const m=a[1];if(!Array.isArray(m)&&typeof m=="object")return g.error("First argument must be an image or text section.");const y=[];let v=!1;for(let E=1;E<=a.length-1;++E){const A=a[E];if(v&&typeof A=="object"&&!Array.isArray(A)){v=!1;let I=null;if(A["font-scale"]&&(I=g.parse(A["font-scale"],1,Fe),!I))return null;let R=null;if(A["text-font"]&&(R=g.parse(A["text-font"],1,kt(yt)),!R))return null;let N=null;if(A["text-color"]&&(N=g.parse(A["text-color"],1,Ri),!N))return null;const F=y[y.length-1];F.scale=I,F.font=R,F.textColor=N}else{const I=g.parse(a[E],1,mt);if(!I)return null;const R=I.type.kind;if(R!=="string"&&R!=="value"&&R!=="null"&&R!=="resolvedImage")return g.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,y.push({content:I,scale:null,font:null,textColor:null})}}return new Sr(y)}evaluate(a){return new ae(this.sections.map(g=>{const m=g.content.evaluate(a);return Ce(m)===zn?new ne("",m,null,null,null):new ne(Ae(m),null,g.scale?g.scale.evaluate(a):null,g.font?g.font.evaluate(a).join(","):null,g.textColor?g.textColor.evaluate(a):null)}))}eachChild(a){for(const g of this.sections)a(g.content),g.scale&&a(g.scale),g.font&&a(g.font),g.textColor&&a(g.textColor)}outputDefined(){return!1}}class fa{constructor(a){this.type=zn,this.input=a}static parse(a,g){if(a.length!==2)return g.error("Expected two arguments.");const m=g.parse(a[1],1,yt);return m?new fa(m):g.error("No image name provided.")}evaluate(a){const g=this.input.evaluate(a),m=oe.fromString(g);return m&&a.availableImages&&(m.available=a.availableImages.indexOf(g)>-1),m}eachChild(a){a(this.input)}outputDefined(){return!1}}class _a{constructor(a){this.type=Fe,this.input=a}static parse(a,g){if(a.length!==2)return g.error(`Expected 1 argument, but found ${a.length-1} instead.`);const m=g.parse(a[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?g.error(`Expected argument of type string or array, but found ${Bt(m.type)} instead.`):new _a(m):null}evaluate(a){const g=this.input.evaluate(a);if(typeof g=="string"||Array.isArray(g))return g.length;throw new Ge(`Expected value to be of type string or array, but found ${Bt(Ce(g))} instead.`)}eachChild(a){a(this.input)}outputDefined(){return!1}}const _o={"==":ol,"!=":rl,">":sl,"<":al,">=":ul,"<=":ll,array:nt,at:pa,boolean:nt,case:ha,coalesce:br,collator:ri,format:Sr,image:fa,in:ga,"index-of":xr,interpolate:Hi,"interpolate-hcl":Hi,"interpolate-lab":Hi,length:_a,let:vr,literal:Ye,match:da,number:nt,"number-format":ma,object:nt,slice:Er,step:Bo,string:nt,"to-boolean":xt,"to-color":xt,"to-number":xt,"to-string":xt,var:fr,within:Xn};function ss(p,[a,g,m,y]){a=a.evaluate(p),g=g.evaluate(p),m=m.evaluate(p);const v=y?y.evaluate(p):1,E=ce(a,g,m,v);if(E)throw new Ge(E);return new G(a/255*v,g/255*v,m/255*v,v)}function ls(p,a){return p in a}function ya(p,a){const g=a[p];return g===void 0?null:g}function kn(p){return{type:p}}function us(p){return{result:"success",value:p}}function yo(p){return{result:"error",value:p}}function $o(p){return p["property-type"]==="data-driven"||p["property-type"]==="cross-faded-data-driven"}function ni(p){return!!p.expression&&p.expression.parameters.indexOf("zoom")>-1}function $a(p){return!!p.expression&&p.expression.interpolated}function Qe(p){return p instanceof Number?"number":p instanceof String?"string":p instanceof Boolean?"boolean":Array.isArray(p)?"array":p===null?"null":typeof p}function bo(p){return typeof p=="object"&&p!==null&&!Array.isArray(p)}function Jt(p){return p}function Vt(p,a){const g=a.type==="color",m=p.stops&&typeof p.stops[0][0]=="object",y=m||!(m||p.property!==void 0),v=p.type||($a(a)?"exponential":"interval");if(g||a.type==="padding"){const R=g?G.parse:re.parse;(p=ln({},p)).stops&&(p.stops=p.stops.map(N=>[N[0],R(N[1])])),p.default=R(p.default?p.default:a.default)}if(p.colorSpace&&p.colorSpace!=="rgb"&&!os[p.colorSpace])throw new Error(`Unknown color space: ${p.colorSpace}`);let E,A,I;if(v==="exponential")E=ps;else if(v==="interval")E=cl;else if(v==="categorical"){E=cs,A=Object.create(null);for(const R of p.stops)A[R[0]]=R[1];I=typeof p.stops[0][0]}else{if(v!=="identity")throw new Error(`Unknown function type "${v}"`);E=pl}if(m){const R={},N=[];for(let V=0;V<p.stops.length;V++){const q=p.stops[V],ie=q[0].zoom;R[ie]===void 0&&(R[ie]={zoom:ie,type:p.type,property:p.property,default:p.default,stops:[]},N.push(ie)),R[ie].stops.push([q[0].value,q[1]])}const F=[];for(const V of N)F.push([R[V].zoom,Vt(R[V],a)]);const U={name:"linear"};return{kind:"composite",interpolationType:U,interpolationFactor:Hi.interpolationFactor.bind(void 0,U),zoomStops:F.map(V=>V[0]),evaluate:({zoom:V},q)=>ps({stops:F,base:p.base},a,V).evaluate(V,q)}}if(y){const R=v==="exponential"?{name:"exponential",base:p.base!==void 0?p.base:1}:null;return{kind:"camera",interpolationType:R,interpolationFactor:Hi.interpolationFactor.bind(void 0,R),zoomStops:p.stops.map(N=>N[0]),evaluate:({zoom:N})=>E(p,a,N,A,I)}}return{kind:"source",evaluate(R,N){const F=N&&N.properties?N.properties[p.property]:void 0;return F===void 0?Bn(p.default,a.default):E(p,a,F,A,I)}}}function Bn(p,a,g){return p!==void 0?p:a!==void 0?a:g!==void 0?g:void 0}function cs(p,a,g,m,y){return Bn(typeof g===y?m[g]:void 0,p.default,a.default)}function cl(p,a,g){if(Qe(g)!=="number")return Bn(p.default,a.default);const m=p.stops.length;if(m===1||g<=p.stops[0][0])return p.stops[0][1];if(g>=p.stops[m-1][0])return p.stops[m-1][1];const y=yr(p.stops.map(v=>v[0]),g);return p.stops[y][1]}function ps(p,a,g){const m=p.base!==void 0?p.base:1;if(Qe(g)!=="number")return Bn(p.default,a.default);const y=p.stops.length;if(y===1||g<=p.stops[0][0])return p.stops[0][1];if(g>=p.stops[y-1][0])return p.stops[y-1][1];const v=yr(p.stops.map(N=>N[0]),g),E=function(N,F,U,V){const q=V-U,ie=N-U;return q===0?0:F===1?ie/q:(Math.pow(F,ie)-1)/(Math.pow(F,q)-1)}(g,m,p.stops[v][0],p.stops[v+1][0]),A=p.stops[v][1],I=p.stops[v+1][1];let R=Uo[a.type]||Jt;if(p.colorSpace&&p.colorSpace!=="rgb"){const N=os[p.colorSpace];R=(F,U)=>N.reverse(N.interpolate(N.forward(F),N.forward(U),E))}return typeof A.evaluate=="function"?{evaluate(...N){const F=A.evaluate.apply(void 0,N),U=I.evaluate.apply(void 0,N);if(F!==void 0&&U!==void 0)return R(F,U,E)}}:R(A,I,E)}function pl(p,a,g){switch(a.type){case"color":g=G.parse(g);break;case"formatted":g=ae.fromString(g.toString());break;case"resolvedImage":g=oe.fromString(g.toString());break;case"padding":g=re.parse(g);break;default:Qe(g)===a.type||a.type==="enum"&&a.values[g]||(g=void 0)}return Bn(g,p.default,a.default)}dt.register(_o,{error:[{kind:"error"},[yt],(p,[a])=>{throw new Ge(a.evaluate(p))}],typeof:[yt,[mt],(p,[a])=>Bt(Ce(a.evaluate(p)))],"to-rgba":[kt(Fe,4),[Ri],(p,[a])=>a.evaluate(p).toArray()],rgb:[Ri,[Fe,Fe,Fe],ss],rgba:[Ri,[Fe,Fe,Fe,Fe],ss],has:{type:gt,overloads:[[[yt],(p,[a])=>ls(a.evaluate(p),p.properties())],[[yt,qi],(p,[a,g])=>ls(a.evaluate(p),g.evaluate(p))]]},get:{type:mt,overloads:[[[yt],(p,[a])=>ya(a.evaluate(p),p.properties())],[[yt,qi],(p,[a,g])=>ya(a.evaluate(p),g.evaluate(p))]]},"feature-state":[mt,[yt],(p,[a])=>ya(a.evaluate(p),p.featureState||{})],properties:[qi,[],p=>p.properties()],"geometry-type":[yt,[],p=>p.geometryType()],id:[mt,[],p=>p.id()],zoom:[Fe,[],p=>p.globals.zoom],"heatmap-density":[Fe,[],p=>p.globals.heatmapDensity||0],"line-progress":[Fe,[],p=>p.globals.lineProgress||0],accumulated:[mt,[],p=>p.globals.accumulated===void 0?null:p.globals.accumulated],"+":[Fe,kn(Fe),(p,a)=>{let g=0;for(const m of a)g+=m.evaluate(p);return g}],"*":[Fe,kn(Fe),(p,a)=>{let g=1;for(const m of a)g*=m.evaluate(p);return g}],"-":{type:Fe,overloads:[[[Fe,Fe],(p,[a,g])=>a.evaluate(p)-g.evaluate(p)],[[Fe],(p,[a])=>-a.evaluate(p)]]},"/":[Fe,[Fe,Fe],(p,[a,g])=>a.evaluate(p)/g.evaluate(p)],"%":[Fe,[Fe,Fe],(p,[a,g])=>a.evaluate(p)%g.evaluate(p)],ln2:[Fe,[],()=>Math.LN2],pi:[Fe,[],()=>Math.PI],e:[Fe,[],()=>Math.E],"^":[Fe,[Fe,Fe],(p,[a,g])=>Math.pow(a.evaluate(p),g.evaluate(p))],sqrt:[Fe,[Fe],(p,[a])=>Math.sqrt(a.evaluate(p))],log10:[Fe,[Fe],(p,[a])=>Math.log(a.evaluate(p))/Math.LN10],ln:[Fe,[Fe],(p,[a])=>Math.log(a.evaluate(p))],log2:[Fe,[Fe],(p,[a])=>Math.log(a.evaluate(p))/Math.LN2],sin:[Fe,[Fe],(p,[a])=>Math.sin(a.evaluate(p))],cos:[Fe,[Fe],(p,[a])=>Math.cos(a.evaluate(p))],tan:[Fe,[Fe],(p,[a])=>Math.tan(a.evaluate(p))],asin:[Fe,[Fe],(p,[a])=>Math.asin(a.evaluate(p))],acos:[Fe,[Fe],(p,[a])=>Math.acos(a.evaluate(p))],atan:[Fe,[Fe],(p,[a])=>Math.atan(a.evaluate(p))],min:[Fe,kn(Fe),(p,a)=>Math.min(...a.map(g=>g.evaluate(p)))],max:[Fe,kn(Fe),(p,a)=>Math.max(...a.map(g=>g.evaluate(p)))],abs:[Fe,[Fe],(p,[a])=>Math.abs(a.evaluate(p))],round:[Fe,[Fe],(p,[a])=>{const g=a.evaluate(p);return g<0?-Math.round(-g):Math.round(g)}],floor:[Fe,[Fe],(p,[a])=>Math.floor(a.evaluate(p))],ceil:[Fe,[Fe],(p,[a])=>Math.ceil(a.evaluate(p))],"filter-==":[gt,[yt,mt],(p,[a,g])=>p.properties()[a.value]===g.value],"filter-id-==":[gt,[mt],(p,[a])=>p.id()===a.value],"filter-type-==":[gt,[yt],(p,[a])=>p.geometryType()===a.value],"filter-<":[gt,[yt,mt],(p,[a,g])=>{const m=p.properties()[a.value],y=g.value;return typeof m==typeof y&&m<y}],"filter-id-<":[gt,[mt],(p,[a])=>{const g=p.id(),m=a.value;return typeof g==typeof m&&g<m}],"filter->":[gt,[yt,mt],(p,[a,g])=>{const m=p.properties()[a.value],y=g.value;return typeof m==typeof y&&m>y}],"filter-id->":[gt,[mt],(p,[a])=>{const g=p.id(),m=a.value;return typeof g==typeof m&&g>m}],"filter-<=":[gt,[yt,mt],(p,[a,g])=>{const m=p.properties()[a.value],y=g.value;return typeof m==typeof y&&m<=y}],"filter-id-<=":[gt,[mt],(p,[a])=>{const g=p.id(),m=a.value;return typeof g==typeof m&&g<=m}],"filter->=":[gt,[yt,mt],(p,[a,g])=>{const m=p.properties()[a.value],y=g.value;return typeof m==typeof y&&m>=y}],"filter-id->=":[gt,[mt],(p,[a])=>{const g=p.id(),m=a.value;return typeof g==typeof m&&g>=m}],"filter-has":[gt,[mt],(p,[a])=>a.value in p.properties()],"filter-has-id":[gt,[],p=>p.id()!==null&&p.id()!==void 0],"filter-type-in":[gt,[kt(yt)],(p,[a])=>a.value.indexOf(p.geometryType())>=0],"filter-id-in":[gt,[kt(mt)],(p,[a])=>a.value.indexOf(p.id())>=0],"filter-in-small":[gt,[yt,kt(mt)],(p,[a,g])=>g.value.indexOf(p.properties()[a.value])>=0],"filter-in-large":[gt,[yt,kt(mt)],(p,[a,g])=>function(m,y,v,E){for(;v<=E;){const A=v+E>>1;if(y[A]===m)return!0;y[A]>m?E=A-1:v=A+1}return!1}(p.properties()[a.value],g.value,0,g.value.length-1)],all:{type:gt,overloads:[[[gt,gt],(p,[a,g])=>a.evaluate(p)&&g.evaluate(p)],[kn(gt),(p,a)=>{for(const g of a)if(!g.evaluate(p))return!1;return!0}]]},any:{type:gt,overloads:[[[gt,gt],(p,[a,g])=>a.evaluate(p)||g.evaluate(p)],[kn(gt),(p,a)=>{for(const g of a)if(g.evaluate(p))return!0;return!1}]]},"!":[gt,[gt],(p,[a])=>!a.evaluate(p)],"is-supported-script":[gt,[yt],(p,[a])=>{const g=p.globals&&p.globals.isSupportedScript;return!g||g(a.evaluate(p))}],upcase:[yt,[yt],(p,[a])=>a.evaluate(p).toUpperCase()],downcase:[yt,[yt],(p,[a])=>a.evaluate(p).toLowerCase()],concat:[yt,kn(mt),(p,a)=>a.map(g=>Ae(g.evaluate(p))).join("")],"resolved-locale":[yt,[un],(p,[a])=>a.evaluate(p).resolvedLocale()]});class ba{constructor(a,g){this.expression=a,this._warningHistory={},this._evaluator=new _t,this._defaultValue=g?function(m){return m.type==="color"&&bo(m.default)?new G(0,0,0,0):m.type==="color"?G.parse(m.default)||null:m.type==="padding"?re.parse(m.default)||null:m.default===void 0?null:m.default}(g):null,this._enumValues=g&&g.type==="enum"?g.values:null}evaluateWithoutErrorHandling(a,g,m,y,v,E){return this._evaluator.globals=a,this._evaluator.feature=g,this._evaluator.featureState=m,this._evaluator.canonical=y,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=E,this.expression.evaluate(this._evaluator)}evaluate(a,g,m,y,v,E){this._evaluator.globals=a,this._evaluator.feature=g||null,this._evaluator.featureState=m||null,this._evaluator.canonical=y,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=E||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new Ge(`Expected value to be one of ${Object.keys(this._enumValues).map(I=>JSON.stringify(I)).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console<"u"&&console.warn(A.message)),this._defaultValue}}}function Go(p){return Array.isArray(p)&&p.length>0&&typeof p[0]=="string"&&p[0]in _o}function qo(p,a){const g=new _r(_o,[],a?function(y){const v={color:Ri,string:yt,number:Fe,enum:yt,boolean:gt,formatted:vn,padding:xi,resolvedImage:zn};return y.type==="array"?kt(v[y.value]||mt,y.length):v[y.type]}(a):void 0),m=g.parse(p,void 0,void 0,void 0,a&&a.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?us(new ba(m,a)):yo(g.errors)}class Tr{constructor(a,g){this.kind=a,this._styleExpression=g,this.isStateDependent=a!=="constant"&&!mo(g.expression)}evaluateWithoutErrorHandling(a,g,m,y,v,E){return this._styleExpression.evaluateWithoutErrorHandling(a,g,m,y,v,E)}evaluate(a,g,m,y,v,E){return this._styleExpression.evaluate(a,g,m,y,v,E)}}class Ho{constructor(a,g,m,y){this.kind=a,this.zoomStops=m,this._styleExpression=g,this.isStateDependent=a!=="camera"&&!mo(g.expression),this.interpolationType=y}evaluateWithoutErrorHandling(a,g,m,y,v,E){return this._styleExpression.evaluateWithoutErrorHandling(a,g,m,y,v,E)}evaluate(a,g,m,y,v,E){return this._styleExpression.evaluate(a,g,m,y,v,E)}interpolationFactor(a,g,m){return this.interpolationType?Hi.interpolationFactor(this.interpolationType,a,g,m):0}}function gs(p,a){const g=qo(p,a);if(g.result==="error")return g;const m=g.value.expression,y=mr(m);if(!y&&!$o(a))return yo([new wi("","data expressions not supported")]);const v=Fo(m,["zoom"]);if(!v&&!ni(a))return yo([new wi("","zoom expressions not supported")]);const E=Cr(m);return E||v?E instanceof wi?yo([E]):E instanceof Hi&&!$a(a)?yo([new wi("",'"interpolate" expressions cannot be used with this property')]):us(E?new Ho(y?"camera":"composite",g.value,E.labels,E instanceof Hi?E.interpolation:void 0):new Tr(y?"constant":"source",g.value)):yo([new wi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Ar{constructor(a,g){this._parameters=a,this._specification=g,ln(this,Vt(this._parameters,this._specification))}static deserialize(a){return new Ar(a._parameters,a._specification)}static serialize(a){return{_parameters:a._parameters,_specification:a._specification}}}function Cr(p){let a=null;if(p instanceof vr)a=Cr(p.result);else if(p instanceof br){for(const g of p.args)if(a=Cr(g),a)break}else(p instanceof Bo||p instanceof Hi)&&p.input instanceof dt&&p.input.name==="zoom"&&(a=p);return a instanceof wi||p.eachChild(g=>{const m=Cr(g);m instanceof wi?a=m:!a&&m?a=new wi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):a&&m&&a!==m&&(a=new wi("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),a}function cn(p){const a=p.key,g=p.value,m=p.valueSpec||{},y=p.objectElementValidators||{},v=p.style,E=p.styleSpec;let A=[];const I=Qe(g);if(I!=="object")return[new Me(a,g,`object expected, ${I} found`)];for(const R in g){const N=R.split(".")[0],F=m[N]||m["*"];let U;if(y[N])U=y[N];else if(m[N])U=Ei;else if(y["*"])U=y["*"];else{if(!m["*"]){A.push(new Me(a,g[R],`unknown property "${R}"`));continue}U=Ei}A=A.concat(U({key:(a&&`${a}.`)+R,value:g[R],valueSpec:F,style:v,styleSpec:E,object:g,objectKey:R},g))}for(const R in m)y[R]||m[R].required&&m[R].default===void 0&&g[R]===void 0&&A.push(new Me(a,g,`missing required property "${R}"`));return A}function ds(p){const a=p.value,g=p.valueSpec,m=p.style,y=p.styleSpec,v=p.key,E=p.arrayElementValidator||Ei;if(Qe(a)!=="array")return[new Me(v,a,`array expected, ${Qe(a)} found`)];if(g.length&&a.length!==g.length)return[new Me(v,a,`array length ${g.length} expected, length ${a.length} found`)];if(g["min-length"]&&a.length<g["min-length"])return[new Me(v,a,`array length at least ${g["min-length"]} expected, length ${a.length} found`)];let A={type:g.value,values:g.values};y.$version<7&&(A.function=g.function),Qe(g.value)==="object"&&(A=g.value);let I=[];for(let R=0;R<a.length;R++)I=I.concat(E({array:a,arrayIndex:R,value:a[R],valueSpec:A,style:m,styleSpec:y,key:`${v}[${R}]`}));return I}function va(p){const a=p.key,g=p.value,m=p.valueSpec;let y=Qe(g);return y==="number"&&g!=g&&(y="NaN"),y!=="number"?[new Me(a,g,`number expected, ${y} found`)]:"minimum"in m&&g<m.minimum?[new Me(a,g,`${g} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&g>m.maximum?[new Me(a,g,`${g} is greater than the maximum value ${m.maximum}`)]:[]}function hs(p){const a=p.valueSpec,g=jt(p.value.type);let m,y,v,E={};const A=g!=="categorical"&&p.value.property===void 0,I=!A,R=Qe(p.value.stops)==="array"&&Qe(p.value.stops[0])==="array"&&Qe(p.value.stops[0][0])==="object",N=cn({key:p.key,value:p.value,valueSpec:p.styleSpec.function,style:p.style,styleSpec:p.styleSpec,objectElementValidators:{stops:function(V){if(g==="identity")return[new Me(V.key,V.value,'identity function may not have a "stops" property')];let q=[];const ie=V.value;return q=q.concat(ds({key:V.key,value:ie,valueSpec:V.valueSpec,style:V.style,styleSpec:V.styleSpec,arrayElementValidator:F})),Qe(ie)==="array"&&ie.length===0&&q.push(new Me(V.key,ie,"array must have at least one stop")),q},default:function(V){return Ei({key:V.key,value:V.value,valueSpec:a,style:V.style,styleSpec:V.styleSpec})}}});return g==="identity"&&A&&N.push(new Me(p.key,p.value,'missing required property "property"')),g==="identity"||p.value.stops||N.push(new Me(p.key,p.value,'missing required property "stops"')),g==="exponential"&&p.valueSpec.expression&&!$a(p.valueSpec)&&N.push(new Me(p.key,p.value,"exponential functions not supported")),p.styleSpec.$version>=8&&(I&&!$o(p.valueSpec)?N.push(new Me(p.key,p.value,"property functions not supported")):A&&!ni(p.valueSpec)&&N.push(new Me(p.key,p.value,"zoom functions not supported"))),g!=="categorical"&&!R||p.value.property!==void 0||N.push(new Me(p.key,p.value,'"property" property is required')),N;function F(V){let q=[];const ie=V.value,te=V.key;if(Qe(ie)!=="array")return[new Me(te,ie,`array expected, ${Qe(ie)} found`)];if(ie.length!==2)return[new Me(te,ie,`array length 2 expected, length ${ie.length} found`)];if(R){if(Qe(ie[0])!=="object")return[new Me(te,ie,`object expected, ${Qe(ie[0])} found`)];if(ie[0].zoom===void 0)return[new Me(te,ie,"object stop key must have zoom")];if(ie[0].value===void 0)return[new Me(te,ie,"object stop key must have value")];if(v&&v>jt(ie[0].zoom))return[new Me(te,ie[0].zoom,"stop zoom values must appear in ascending order")];jt(ie[0].zoom)!==v&&(v=jt(ie[0].zoom),y=void 0,E={}),q=q.concat(cn({key:`${te}[0]`,value:ie[0],valueSpec:{zoom:{}},style:V.style,styleSpec:V.styleSpec,objectElementValidators:{zoom:va,value:U}}))}else q=q.concat(U({key:`${te}[0]`,value:ie[0],valueSpec:{},style:V.style,styleSpec:V.styleSpec},ie));return Go(ti(ie[1]))?q.concat([new Me(`${te}[1]`,ie[1],"expressions are not allowed in function stops.")]):q.concat(Ei({key:`${te}[1]`,value:ie[1],valueSpec:a,style:V.style,styleSpec:V.styleSpec}))}function U(V,q){const ie=Qe(V.value),te=jt(V.value),ge=V.value!==null?V.value:q;if(m){if(ie!==m)return[new Me(V.key,ge,`${ie} stop domain type must match previous stop domain type ${m}`)]}else m=ie;if(ie!=="number"&&ie!=="string"&&ie!=="boolean")return[new Me(V.key,ge,"stop domain value must be a number, string, or boolean")];if(ie!=="number"&&g!=="categorical"){let $e=`number expected, ${ie} found`;return $o(a)&&g===void 0&&($e+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Me(V.key,ge,$e)]}return g!=="categorical"||ie!=="number"||isFinite(te)&&Math.floor(te)===te?g!=="categorical"&&ie==="number"&&y!==void 0&&te<y?[new Me(V.key,ge,"stop domain values must appear in ascending order")]:(y=te,g==="categorical"&&te in E?[new Me(V.key,ge,"stop domain values must be unique")]:(E[te]=!0,[])):[new Me(V.key,ge,`integer expected, found ${te}`)]}}function vo(p){const a=(p.expressionContext==="property"?gs:qo)(ti(p.value),p.valueSpec);if(a.result==="error")return a.value.map(m=>new Me(`${p.key}${m.key}`,p.value,m.message));const g=a.value.expression||a.value._styleExpression.expression;if(p.expressionContext==="property"&&p.propertyKey==="text-font"&&!g.outputDefined())return[new Me(p.key,p.value,`Invalid data expression for "${p.propertyKey}". Output values must be contained as literals within the expression.`)];if(p.expressionContext==="property"&&p.propertyType==="layout"&&!mo(g))return[new Me(p.key,p.value,'"feature-state" data expressions are not supported with layout properties.')];if(p.expressionContext==="filter"&&!mo(g))return[new Me(p.key,p.value,'"feature-state" data expressions are not supported with filters.')];if(p.expressionContext&&p.expressionContext.indexOf("cluster")===0){if(!Fo(g,["zoom","feature-state"]))return[new Me(p.key,p.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(p.expressionContext==="cluster-initial"&&!mr(g))return[new Me(p.key,p.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Xo(p){const a=p.key,g=p.value,m=p.valueSpec,y=[];return Array.isArray(m.values)?m.values.indexOf(jt(g))===-1&&y.push(new Me(a,g,`expected one of [${m.values.join(", ")}], ${JSON.stringify(g)} found`)):Object.keys(m.values).indexOf(jt(g))===-1&&y.push(new Me(a,g,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(g)} found`)),y}function Ir(p){if(p===!0||p===!1)return!0;if(!Array.isArray(p)||p.length===0)return!1;switch(p[0]){case"has":return p.length>=2&&p[1]!=="$id"&&p[1]!=="$type";case"in":return p.length>=3&&(typeof p[1]!="string"||Array.isArray(p[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return p.length!==3||Array.isArray(p[1])||Array.isArray(p[2]);case"any":case"all":for(const a of p.slice(1))if(!Ir(a)&&typeof a!="boolean")return!1;return!0;default:return!0}}const Pr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function xa(p){if(p==null)return{filter:()=>!0,needGeometry:!1};Ir(p)||(p=wr(p));const a=qo(p,Pr);if(a.result==="error")throw new Error(a.value.map(g=>`${g.key}: ${g.message}`).join(", "));return{filter:(g,m,y)=>a.value.evaluate(g,m,{},y),needGeometry:Ea(p)}}function ms(p,a){return p<a?-1:p>a?1:0}function Ea(p){if(!Array.isArray(p))return!1;if(p[0]==="within")return!0;for(let a=1;a<p.length;a++)if(Ea(p[a]))return!0;return!1}function wr(p){if(!p)return!0;const a=p[0];return p.length<=1?a!=="any":a==="=="?Or(p[1],p[2],"=="):a==="!="?Wn(Or(p[1],p[2],"==")):a==="<"||a===">"||a==="<="||a===">="?Or(p[1],p[2],a):a==="any"?(g=p.slice(1),["any"].concat(g.map(wr))):a==="all"?["all"].concat(p.slice(1).map(wr)):a==="none"?["all"].concat(p.slice(1).map(wr).map(Wn)):a==="in"?fs(p[1],p.slice(2)):a==="!in"?Wn(fs(p[1],p.slice(2))):a==="has"?Rr(p[1]):a==="!has"?Wn(Rr(p[1])):a!=="within"||p;var g}function Or(p,a,g){switch(p){case"$type":return[`filter-type-${g}`,a];case"$id":return[`filter-id-${g}`,a];default:return[`filter-${g}`,p,a]}}function fs(p,a){if(a.length===0)return!1;switch(p){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some(g=>typeof g!=typeof a[0])?["filter-in-large",p,["literal",a.sort(ms)]]:["filter-in-small",p,["literal",a]]}}function Rr(p){switch(p){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",p]}}function Wn(p){return["!",p]}function Wo(p){return Ir(ti(p.value))?vo(ln({},p,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Dr(p)}function Dr(p){const a=p.value,g=p.key;if(Qe(a)!=="array")return[new Me(g,a,`array expected, ${Qe(a)} found`)];const m=p.styleSpec;let y,v=[];if(a.length<1)return[new Me(g,a,"filter array must have at least 1 element")];switch(v=v.concat(Xo({key:`${g}[0]`,value:a[0],valueSpec:m.filter_operator,style:p.style,styleSpec:p.styleSpec})),jt(a[0])){case"<":case"<=":case">":case">=":a.length>=2&&jt(a[1])==="$type"&&v.push(new Me(g,a,`"$type" cannot be use with operator "${a[0]}"`));case"==":case"!=":a.length!==3&&v.push(new Me(g,a,`filter array for operator "${a[0]}" must have 3 elements`));case"in":case"!in":a.length>=2&&(y=Qe(a[1]),y!=="string"&&v.push(new Me(`${g}[1]`,a[1],`string expected, ${y} found`)));for(let E=2;E<a.length;E++)y=Qe(a[E]),jt(a[1])==="$type"?v=v.concat(Xo({key:`${g}[${E}]`,value:a[E],valueSpec:m.geometry_type,style:p.style,styleSpec:p.styleSpec})):y!=="string"&&y!=="number"&&y!=="boolean"&&v.push(new Me(`${g}[${E}]`,a[E],`string, number, or boolean expected, ${y} found`));break;case"any":case"all":case"none":for(let E=1;E<a.length;E++)v=v.concat(Dr({key:`${g}[${E}]`,value:a[E],style:p.style,styleSpec:p.styleSpec}));break;case"has":case"!has":y=Qe(a[1]),a.length!==2?v.push(new Me(g,a,`filter array for "${a[0]}" operator must have 2 elements`)):y!=="string"&&v.push(new Me(`${g}[1]`,a[1],`string expected, ${y} found`));break;case"within":y=Qe(a[1]),a.length!==2?v.push(new Me(g,a,`filter array for "${a[0]}" operator must have 2 elements`)):y!=="object"&&v.push(new Me(`${g}[1]`,a[1],`object expected, ${y} found`))}return v}function _s(p,a){const g=p.key,m=p.style,y=p.styleSpec,v=p.value,E=p.objectKey,A=y[`${a}_${p.layerType}`];if(!A)return[];const I=E.match(/^(.*)-transition$/);if(a==="paint"&&I&&A[I[1]]&&A[I[1]].transition)return Ei({key:g,value:v,valueSpec:y.transition,style:m,styleSpec:y});const R=p.valueSpec||A[E];if(!R)return[new Me(g,v,`unknown property "${E}"`)];let N;if(Qe(v)==="string"&&$o(R)&&!R.tokens&&(N=/^{([^}]+)}$/.exec(v)))return[new Me(g,v,`"${E}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(N[1])} }\`.`)];const F=[];return p.layerType==="symbol"&&(E==="text-field"&&m&&!m.glyphs&&F.push(new Me(g,v,'use of "text-field" requires a style "glyphs" property')),E==="text-font"&&bo(ti(v))&&jt(v.type)==="identity"&&F.push(new Me(g,v,'"text-font" does not support identity functions'))),F.concat(Ei({key:p.key,value:v,valueSpec:R,style:m,styleSpec:y,expressionContext:"property",propertyType:a,propertyKey:E}))}function Yo(p){return _s(p,"paint")}function ys(p){return _s(p,"layout")}function $s(p){let a=[];const g=p.value,m=p.key,y=p.style,v=p.styleSpec;g.type||g.ref||a.push(new Me(m,g,'either "type" or "ref" is required'));let E=jt(g.type);const A=jt(g.ref);if(g.id){const I=jt(g.id);for(let R=0;R<p.arrayIndex;R++){const N=y.layers[R];jt(N.id)===I&&a.push(new Me(m,g.id,`duplicate layer id "${g.id}", previously used at line ${N.id.__line__}`))}}if("ref"in g){let I;["type","source","source-layer","filter","layout"].forEach(R=>{R in g&&a.push(new Me(m,g[R],`"${R}" is prohibited for ref layers`))}),y.layers.forEach(R=>{jt(R.id)===A&&(I=R)}),I?I.ref?a.push(new Me(m,g.ref,"ref cannot reference another ref layer")):E=jt(I.type):a.push(new Me(m,g.ref,`ref layer "${A}" not found`))}else if(E!=="background")if(g.source){const I=y.sources&&y.sources[g.source],R=I&&jt(I.type);I?R==="vector"&&E==="raster"?a.push(new Me(m,g.source,`layer "${g.id}" requires a raster source`)):R==="raster"&&E!=="raster"?a.push(new Me(m,g.source,`layer "${g.id}" requires a vector source`)):R!=="vector"||g["source-layer"]?R==="raster-dem"&&E!=="hillshade"?a.push(new Me(m,g.source,"raster-dem source can only be used with layer type 'hillshade'.")):E!=="line"||!g.paint||!g.paint["line-gradient"]||R==="geojson"&&I.lineMetrics||a.push(new Me(m,g,`layer "${g.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):a.push(new Me(m,g,`layer "${g.id}" must specify a "source-layer"`)):a.push(new Me(m,g.source,`source "${g.source}" not found`))}else a.push(new Me(m,g,'missing required property "source"'));return a=a.concat(cn({key:m,value:g,valueSpec:v.layer,style:p.style,styleSpec:p.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Ei({key:`${m}.type`,value:g.type,valueSpec:v.layer.type,style:p.style,styleSpec:p.styleSpec,object:g,objectKey:"type"}),filter:Wo,layout:I=>cn({layer:g,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{"*":R=>ys(ln({layerType:E},R))}}),paint:I=>cn({layer:g,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{"*":R=>Yo(ln({layerType:E},R))}})}})),a}function xo(p){const a=p.value,g=p.key,m=Qe(a);return m!=="string"?[new Me(g,a,`string expected, ${m} found`)]:[]}const bs={promoteId:function({key:p,value:a}){if(Qe(a)==="string")return xo({key:p,value:a});{const g=[];for(const m in a)g.push(...xo({key:`${p}.${m}`,value:a[m]}));return g}}};function vs(p){const a=p.value,g=p.key,m=p.styleSpec,y=p.style;if(!a.type)return[new Me(g,a,'"type" is required')];const v=jt(a.type);let E;switch(v){case"vector":case"raster":case"raster-dem":return E=cn({key:g,value:a,valueSpec:m[`source_${v.replace("-","_")}`],style:p.style,styleSpec:m,objectElementValidators:bs}),E;case"geojson":if(E=cn({key:g,value:a,valueSpec:m.source_geojson,style:y,styleSpec:m,objectElementValidators:bs}),a.cluster)for(const A in a.clusterProperties){const[I,R]=a.clusterProperties[A],N=typeof I=="string"?[I,["accumulated"],["get",A]]:I;E.push(...vo({key:`${g}.${A}.map`,value:R,expressionContext:"cluster-map"})),E.push(...vo({key:`${g}.${A}.reduce`,value:N,expressionContext:"cluster-reduce"}))}return E;case"video":return cn({key:g,value:a,valueSpec:m.source_video,style:y,styleSpec:m});case"image":return cn({key:g,value:a,valueSpec:m.source_image,style:y,styleSpec:m});case"canvas":return[new Me(g,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Xo({key:`${g}.type`,value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:y,styleSpec:m})}}function Ko(p){const a=p.value,g=p.styleSpec,m=g.light,y=p.style;let v=[];const E=Qe(a);if(a===void 0)return v;if(E!=="object")return v=v.concat([new Me("light",a,`object expected, ${E} found`)]),v;for(const A in a){const I=A.match(/^(.*)-transition$/);v=v.concat(I&&m[I[1]]&&m[I[1]].transition?Ei({key:A,value:a[A],valueSpec:g.transition,style:y,styleSpec:g}):m[A]?Ei({key:A,value:a[A],valueSpec:m[A],style:y,styleSpec:g}):[new Me(A,a[A],`unknown property "${A}"`)])}return v}function Zo(p){const a=p.value,g=p.styleSpec,m=g.terrain,y=p.style;let v=[];const E=Qe(a);if(a===void 0)return v;if(E!=="object")return v=v.concat([new Me("terrain",a,`object expected, ${E} found`)]),v;for(const A in a)v=v.concat(m[A]?Ei({key:A,value:a[A],valueSpec:m[A],style:y,styleSpec:g}):[new Me(A,a[A],`unknown property "${A}"`)]);return v}const Xi={"*":()=>[],array:ds,boolean:function(p){const a=p.value,g=p.key,m=Qe(a);return m!=="boolean"?[new Me(g,a,`boolean expected, ${m} found`)]:[]},number:va,color:function(p){const a=p.key,g=p.value,m=Qe(g);return m!=="string"?[new Me(a,g,`color expected, ${m} found`)]:Mo(g)===null?[new Me(a,g,`color expected, "${g}" found`)]:[]},constants:qn,enum:Xo,filter:Wo,function:hs,layer:$s,object:cn,source:vs,light:Ko,terrain:Zo,string:xo,formatted:function(p){return xo(p).length===0?[]:vo(p)},resolvedImage:function(p){return xo(p).length===0?[]:vo(p)},padding:function(p){const a=p.key,g=p.value;if(Qe(g)==="array"){if(g.length<1||g.length>4)return[new Me(a,g,`padding requires 1 to 4 values; ${g.length} values found`)];const m={type:"number"};let y=[];for(let v=0;v<g.length;v++)y=y.concat(Ei({key:`${a}[${v}]`,value:g[v],valueSpec:m}));return y}return va({key:a,value:g,valueSpec:{}})}};function Ei(p){const a=p.value,g=p.valueSpec,m=p.styleSpec;return g.expression&&bo(jt(a))?hs(p):g.expression&&Go(ti(a))?vo(p):g.type&&Xi[g.type]?Xi[g.type](p):cn(ln({},p,{valueSpec:g.type?m[g.type]:g}))}function gl(p){const a=p.value,g=p.key,m=xo(p);return m.length||(a.indexOf("{fontstack}")===-1&&m.push(new Me(g,a,'"glyphs" url must include a "{fontstack}" token')),a.indexOf("{range}")===-1&&m.push(new Me(g,a,'"glyphs" url must include a "{range}" token'))),m}function Un(p,a=Te){let g=[];return g=g.concat(Ei({key:"",value:p,valueSpec:a.$root,styleSpec:a,style:p,objectElementValidators:{glyphs:gl,"*":()=>[]}})),p.constants&&(g=g.concat(qn({key:"constants",value:p.constants,style:p,styleSpec:a}))),xs(g)}function xs(p){return[].concat(p).sort((a,g)=>a.line-g.line)}function Yn(p){return function(...a){return xs(p.apply(this,a))}}Un.source=Yn(vs),Un.light=Yn(Ko),Un.terrain=Yn(Zo),Un.layer=Yn($s),Un.filter=Yn(Wo),Un.paintProperty=Yn(Yo),Un.layoutProperty=Yn(ys);const Kn=Un,dl=Kn.light,Sa=Kn.paintProperty,hl=Kn.layoutProperty;function Es(p,a){let g=!1;if(a&&a.length)for(const m of a)p.fire(new Nn(new Error(m.message))),g=!0;return g}class Zn{constructor(a,g,m){const y=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;const E=new Int32Array(this.arrayBuffer);a=E[0],this.d=(g=E[1])+2*(m=E[2]);for(let I=0;I<this.d*this.d;I++){const R=E[3+I],N=E[3+I+1];y.push(R===N?null:E.subarray(R,N))}const A=E[3+y.length+1];this.keys=E.subarray(E[3+y.length],A),this.bboxes=E.subarray(A),this.insert=this._insertReadonly}else{this.d=g+2*m;for(let E=0;E<this.d*this.d;E++)y.push([]);this.keys=[],this.bboxes=[]}this.n=g,this.extent=a,this.padding=m,this.scale=g/a,this.uid=0;const v=m/g*a;this.min=-v,this.max=a+v}insert(a,g,m,y,v){this._forEachCell(g,m,y,v,this._insertCell,this.uid++,void 0,void 0),this.keys.push(a),this.bboxes.push(g),this.bboxes.push(m),this.bboxes.push(y),this.bboxes.push(v)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(a,g,m,y,v,E){this.cells[v].push(E)}query(a,g,m,y,v){const E=this.min,A=this.max;if(a<=E&&g<=E&&A<=m&&A<=y&&!v)return Array.prototype.slice.call(this.keys);{const I=[];return this._forEachCell(a,g,m,y,this._queryCell,I,{},v),I}}_queryCell(a,g,m,y,v,E,A,I){const R=this.cells[v];if(R!==null){const N=this.keys,F=this.bboxes;for(let U=0;U<R.length;U++){const V=R[U];if(A[V]===void 0){const q=4*V;(I?I(F[q+0],F[q+1],F[q+2],F[q+3]):a<=F[q+2]&&g<=F[q+3]&&m>=F[q+0]&&y>=F[q+1])?(A[V]=!0,E.push(N[V])):A[V]=!1}}}}_forEachCell(a,g,m,y,v,E,A,I){const R=this._convertToCellCoord(a),N=this._convertToCellCoord(g),F=this._convertToCellCoord(m),U=this._convertToCellCoord(y);for(let V=R;V<=F;V++)for(let q=N;q<=U;q++){const ie=this.d*q+V;if((!I||I(this._convertFromCellCoord(V),this._convertFromCellCoord(q),this._convertFromCellCoord(V+1),this._convertFromCellCoord(q+1)))&&v.call(this,a,g,m,y,ie,E,A,I))return}}_convertFromCellCoord(a){return(a-this.padding)/this.scale}_convertToCellCoord(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const a=this.cells,g=3+this.cells.length+1+1;let m=0;for(let E=0;E<this.cells.length;E++)m+=this.cells[E].length;const y=new Int32Array(g+m+this.keys.length+this.bboxes.length);y[0]=this.extent,y[1]=this.n,y[2]=this.padding;let v=g;for(let E=0;E<a.length;E++){const A=a[E];y[3+E]=v,y.set(A,v),v+=A.length}return y[3+a.length]=v,y.set(this.keys,v),v+=this.keys.length,y[3+a.length+1]=v,y.set(this.bboxes,v),v+=this.bboxes.length,y.buffer}static serialize(a,g){const m=a.toArrayBuffer();return g&&g.push(m),{buffer:m}}static deserialize(a){return new Zn(a.buffer)}}const jn={};function We(p,a,g={}){if(jn[p])throw new Error(`${p} is already registered.`);Object.defineProperty(a,"_classRegistryKey",{value:p,writeable:!1}),jn[p]={klass:a,omit:g.omit||[],shallow:g.shallow||[]}}We("Object",Object),We("TransferableGridIndex",Zn),We("Color",G),We("Error",Error),We("AJAXError",an),We("ResolvedImage",oe),We("StylePropertyFunction",Ar),We("StyleExpression",ba,{omit:["_evaluator"]}),We("ZoomDependentExpression",Ho),We("ZoomConstantExpression",Tr),We("CompoundExpression",dt,{omit:["_evaluate"]});for(const p in _o)_o[p]._classRegistryKey||We(`Expression_${p}`,_o[p]);function Ta(p){return p&&typeof ArrayBuffer<"u"&&(p instanceof ArrayBuffer||p.constructor&&p.constructor.name==="ArrayBuffer")}function Qo(p,a){if(p==null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||p instanceof Boolean||p instanceof Number||p instanceof String||p instanceof Date||p instanceof RegExp||p instanceof Blob)return p;if(Ta(p)||Ve(p))return a&&a.push(p),p;if(ArrayBuffer.isView(p)){const g=p;return a&&a.push(g.buffer),g}if(p instanceof ImageData)return a&&a.push(p.data.buffer),p;if(Array.isArray(p)){const g=[];for(const m of p)g.push(Qo(m,a));return g}if(typeof p=="object"){const g=p.constructor,m=g._classRegistryKey;if(!m)throw new Error("can't serialize object of unregistered class");if(!jn[m])throw new Error(`${m} is not registered.`);const y=g.serialize?g.serialize(p,a):{};if(g.serialize){if(a&&y===a[a.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const v in p){if(!p.hasOwnProperty(v)||jn[m].omit.indexOf(v)>=0)continue;const E=p[v];y[v]=jn[m].shallow.indexOf(v)>=0?E:Qo(E,a)}p instanceof Error&&(y.message=p.message)}if(y.$name)throw new Error("$name property is reserved for worker serialization logic.");return m!=="Object"&&(y.$name=m),y}throw new Error("can't serialize object of type "+typeof p)}function Qn(p){if(p==null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||p instanceof Boolean||p instanceof Number||p instanceof String||p instanceof Date||p instanceof RegExp||p instanceof Blob||Ta(p)||Ve(p)||ArrayBuffer.isView(p)||p instanceof ImageData)return p;if(Array.isArray(p))return p.map(Qn);if(typeof p=="object"){const a=p.$name||"Object";if(!jn[a])throw new Error(`can't deserialize unregistered class ${a}`);const{klass:g}=jn[a];if(!g)throw new Error(`can't deserialize unregistered class ${a}`);if(g.deserialize)return g.deserialize(p);const m=Object.create(g.prototype);for(const y of Object.keys(p)){if(y==="$name")continue;const v=p[y];m[y]=jn[a].shallow.indexOf(y)>=0?v:Qn(v)}return m}throw new Error("can't deserialize object of type "+typeof p)}class Jo{constructor(){this.first=!0}update(a,g){const m=Math.floor(a);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=a,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=g):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=g),a!==this.lastZoom&&(this.lastZoom=a,this.lastFloorZoom=m,!0))}}const Be={"Latin-1 Supplement":p=>p>=128&&p<=255,Arabic:p=>p>=1536&&p<=1791,"Arabic Supplement":p=>p>=1872&&p<=1919,"Arabic Extended-A":p=>p>=2208&&p<=2303,"Hangul Jamo":p=>p>=4352&&p<=4607,"Unified Canadian Aboriginal Syllabics":p=>p>=5120&&p<=5759,Khmer:p=>p>=6016&&p<=6143,"Unified Canadian Aboriginal Syllabics Extended":p=>p>=6320&&p<=6399,"General Punctuation":p=>p>=8192&&p<=8303,"Letterlike Symbols":p=>p>=8448&&p<=8527,"Number Forms":p=>p>=8528&&p<=8591,"Miscellaneous Technical":p=>p>=8960&&p<=9215,"Control Pictures":p=>p>=9216&&p<=9279,"Optical Character Recognition":p=>p>=9280&&p<=9311,"Enclosed Alphanumerics":p=>p>=9312&&p<=9471,"Geometric Shapes":p=>p>=9632&&p<=9727,"Miscellaneous Symbols":p=>p>=9728&&p<=9983,"Miscellaneous Symbols and Arrows":p=>p>=11008&&p<=11263,"CJK Radicals Supplement":p=>p>=11904&&p<=12031,"Kangxi Radicals":p=>p>=12032&&p<=12255,"Ideographic Description Characters":p=>p>=12272&&p<=12287,"CJK Symbols and Punctuation":p=>p>=12288&&p<=12351,Hiragana:p=>p>=12352&&p<=12447,Katakana:p=>p>=12448&&p<=12543,Bopomofo:p=>p>=12544&&p<=12591,"Hangul Compatibility Jamo":p=>p>=12592&&p<=12687,Kanbun:p=>p>=12688&&p<=12703,"Bopomofo Extended":p=>p>=12704&&p<=12735,"CJK Strokes":p=>p>=12736&&p<=12783,"Katakana Phonetic Extensions":p=>p>=12784&&p<=12799,"Enclosed CJK Letters and Months":p=>p>=12800&&p<=13055,"CJK Compatibility":p=>p>=13056&&p<=13311,"CJK Unified Ideographs Extension A":p=>p>=13312&&p<=19903,"Yijing Hexagram Symbols":p=>p>=19904&&p<=19967,"CJK Unified Ideographs":p=>p>=19968&&p<=40959,"Yi Syllables":p=>p>=40960&&p<=42127,"Yi Radicals":p=>p>=42128&&p<=42191,"Hangul Jamo Extended-A":p=>p>=43360&&p<=43391,"Hangul Syllables":p=>p>=44032&&p<=55215,"Hangul Jamo Extended-B":p=>p>=55216&&p<=55295,"Private Use Area":p=>p>=57344&&p<=63743,"CJK Compatibility Ideographs":p=>p>=63744&&p<=64255,"Arabic Presentation Forms-A":p=>p>=64336&&p<=65023,"Vertical Forms":p=>p>=65040&&p<=65055,"CJK Compatibility Forms":p=>p>=65072&&p<=65103,"Small Form Variants":p=>p>=65104&&p<=65135,"Arabic Presentation Forms-B":p=>p>=65136&&p<=65279,"Halfwidth and Fullwidth Forms":p=>p>=65280&&p<=65519};function Aa(p){for(const a of p)if(er(a.charCodeAt(0)))return!0;return!1}function Ss(p){for(const a of p)if(!ml(a.charCodeAt(0)))return!1;return!0}function ml(p){return!(Be.Arabic(p)||Be["Arabic Supplement"](p)||Be["Arabic Extended-A"](p)||Be["Arabic Presentation Forms-A"](p)||Be["Arabic Presentation Forms-B"](p))}function er(p){return!(p!==746&&p!==747&&(p<4352||!(Be["Bopomofo Extended"](p)||Be.Bopomofo(p)||Be["CJK Compatibility Forms"](p)&&!(p>=65097&&p<=65103)||Be["CJK Compatibility Ideographs"](p)||Be["CJK Compatibility"](p)||Be["CJK Radicals Supplement"](p)||Be["CJK Strokes"](p)||!(!Be["CJK Symbols and Punctuation"](p)||p>=12296&&p<=12305||p>=12308&&p<=12319||p===12336)||Be["CJK Unified Ideographs Extension A"](p)||Be["CJK Unified Ideographs"](p)||Be["Enclosed CJK Letters and Months"](p)||Be["Hangul Compatibility Jamo"](p)||Be["Hangul Jamo Extended-A"](p)||Be["Hangul Jamo Extended-B"](p)||Be["Hangul Jamo"](p)||Be["Hangul Syllables"](p)||Be.Hiragana(p)||Be["Ideographic Description Characters"](p)||Be.Kanbun(p)||Be["Kangxi Radicals"](p)||Be["Katakana Phonetic Extensions"](p)||Be.Katakana(p)&&p!==12540||!(!Be["Halfwidth and Fullwidth Forms"](p)||p===65288||p===65289||p===65293||p>=65306&&p<=65310||p===65339||p===65341||p===65343||p>=65371&&p<=65503||p===65507||p>=65512&&p<=65519)||!(!Be["Small Form Variants"](p)||p>=65112&&p<=65118||p>=65123&&p<=65126)||Be["Unified Canadian Aboriginal Syllabics"](p)||Be["Unified Canadian Aboriginal Syllabics Extended"](p)||Be["Vertical Forms"](p)||Be["Yijing Hexagram Symbols"](p)||Be["Yi Syllables"](p)||Be["Yi Radicals"](p))))}function Ts(p){return!(er(p)||function(a){return!!(Be["Latin-1 Supplement"](a)&&(a===167||a===169||a===174||a===177||a===188||a===189||a===190||a===215||a===247)||Be["General Punctuation"](a)&&(a===8214||a===8224||a===8225||a===8240||a===8241||a===8251||a===8252||a===8258||a===8263||a===8264||a===8265||a===8273)||Be["Letterlike Symbols"](a)||Be["Number Forms"](a)||Be["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||a===9003||a>=9085&&a<=9114||a>=9150&&a<=9165||a===9167||a>=9169&&a<=9179||a>=9186&&a<=9215)||Be["Control Pictures"](a)&&a!==9251||Be["Optical Character Recognition"](a)||Be["Enclosed Alphanumerics"](a)||Be["Geometric Shapes"](a)||Be["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||Be["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||Be["CJK Symbols and Punctuation"](a)||Be.Katakana(a)||Be["Private Use Area"](a)||Be["CJK Compatibility Forms"](a)||Be["Small Form Variants"](a)||Be["Halfwidth and Fullwidth Forms"](a)||a===8734||a===8756||a===8757||a>=9984&&a<=10087||a>=10102&&a<=10131||a===65532||a===65533)}(p))}function As(p){return p>=1424&&p<=2303||Be["Arabic Presentation Forms-A"](p)||Be["Arabic Presentation Forms-B"](p)}function fl(p,a){return!(!a&&As(p)||p>=2304&&p<=3583||p>=3840&&p<=4255||Be.Khmer(p))}function _l(p){for(const a of p)if(As(a.charCodeAt(0)))return!0;return!1}const Lr="deferred",Ca="loading",Ia="loaded";let Pa=null,Fi="unavailable",Vn=null;const Cs=function(p){p&&typeof p=="string"&&p.indexOf("NetworkError")>-1&&(Fi="error"),Pa&&Pa(p)};function wa(){Eo.fire(new bn("pluginStateChange",{pluginStatus:Fi,pluginURL:Vn}))}const Eo=new go,Oa=function(){return Fi},Mr=function(){if(Fi!==Lr||!Vn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Fi=Ca,wa(),Vn&&uo({url:Vn},p=>{p?Cs(p):(Fi=Ia,wa())})},tn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Fi===Ia||tn.applyArabicShaping!=null,isLoading:()=>Fi===Ca,setState(p){if(!lt())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Fi=p.pluginStatus,Vn=p.pluginURL},isParsed(){if(!lt())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return tn.applyArabicShaping!=null&&tn.processBidirectionalText!=null&&tn.processStyledBidirectionalText!=null},getPluginURL(){if(!lt())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Vn}};class Xt{constructor(a,g){this.zoom=a,g?(this.now=g.now,this.fadeDuration=g.fadeDuration,this.zoomHistory=g.zoomHistory,this.transition=g.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Jo,this.transition={})}isSupportedScript(a){return function(g,m){for(const y of g)if(!fl(y.charCodeAt(0),m))return!1;return!0}(a,tn.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const a=this.zoom,g=a-Math.floor(a),m=this.crossFadingFactor();return a>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:g+(1-g)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*g}}}class Nr{constructor(a,g){this.property=a,this.value=g,this.expression=function(m,y){if(bo(m))return new Ar(m,y);if(Go(m)){const v=gs(m,y);if(v.result==="error")throw new Error(v.value.map(E=>`${E.key}: ${E.message}`).join(", "));return v.value}{let v=m;return y.type==="color"&&typeof m=="string"?v=G.parse(m):y.type!=="padding"||typeof m!="number"&&!Array.isArray(m)||(v=re.parse(m)),{kind:"constant",evaluate:()=>v}}}(g===void 0?a.specification.default:g,a.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(a,g,m){return this.property.possiblyEvaluate(this,a,g,m)}}class zr{constructor(a){this.property=a,this.value=new Nr(a,void 0)}transitioned(a,g){return new Is(this.property,this.value,g,K({},a.transition,this.transition),a.now)}untransitioned(){return new Is(this.property,this.value,null,{},0)}}class Ra{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitionablePropertyValues)}getValue(a){return Ie(this._values[a].value.value)}setValue(a,g){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new zr(this._values[a].property)),this._values[a].value=new Nr(this._values[a].property,g===null?void 0:Ie(g))}getTransition(a){return Ie(this._values[a].transition)}setTransition(a,g){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new zr(this._values[a].property)),this._values[a].transition=Ie(g)||void 0}serialize(){const a={};for(const g of Object.keys(this._values)){const m=this.getValue(g);m!==void 0&&(a[g]=m);const y=this.getTransition(g);y!==void 0&&(a[`${g}-transition`]=y)}return a}transitioned(a,g){const m=new Ps(this._properties);for(const y of Object.keys(this._values))m._values[y]=this._values[y].transitioned(a,g._values[y]);return m}untransitioned(){const a=new Ps(this._properties);for(const g of Object.keys(this._values))a._values[g]=this._values[g].untransitioned();return a}}class Is{constructor(a,g,m,y,v){this.property=a,this.value=g,this.begin=v+y.delay||0,this.end=this.begin+y.duration||0,a.specification.transition&&(y.delay||y.duration)&&(this.prior=m)}possiblyEvaluate(a,g,m){const y=a.now||0,v=this.value.possiblyEvaluate(a,g,m),E=this.prior;if(E){if(y>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(y<this.begin)return E.possiblyEvaluate(a,g,m);{const A=(y-this.begin)/(this.end-this.begin);return this.property.interpolate(E.possiblyEvaluate(a,g,m),v,function(I){if(I<=0)return 0;if(I>=1)return 1;const R=I*I,N=R*I;return 4*(I<.5?N:3*(I-R)+N-.75)}(A))}}return v}}class Ps{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitioningPropertyValues)}possiblyEvaluate(a,g,m){const y=new Fr(this._properties);for(const v of Object.keys(this._values))y._values[v]=this._values[v].possiblyEvaluate(a,g,m);return y}hasTransition(){for(const a of Object.keys(this._values))if(this._values[a].prior)return!0;return!1}}class yl{constructor(a){this._properties=a,this._values=Object.create(a.defaultPropertyValues)}getValue(a){return Ie(this._values[a].value)}setValue(a,g){this._values[a]=new Nr(this._values[a].property,g===null?void 0:Ie(g))}serialize(){const a={};for(const g of Object.keys(this._values)){const m=this.getValue(g);m!==void 0&&(a[g]=m)}return a}possiblyEvaluate(a,g,m){const y=new Fr(this._properties);for(const v of Object.keys(this._values))y._values[v]=this._values[v].possiblyEvaluate(a,g,m);return y}}class En{constructor(a,g,m){this.property=a,this.value=g,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(a){return this.value.kind==="constant"?this.value.value:a}evaluate(a,g,m,y){return this.property.evaluate(this.value,this.parameters,a,g,m,y)}}class Fr{constructor(a){this._properties=a,this._values=Object.create(a.defaultPossiblyEvaluatedValues)}get(a){return this._values[a]}}class tt{constructor(a){this.specification=a}possiblyEvaluate(a,g){if(a.isDataDriven())throw new Error("Value should not be data driven");return a.expression.evaluate(g)}interpolate(a,g,m){const y=Uo[this.specification.type];return y?y(a,g,m):a}}class st{constructor(a,g){this.specification=a,this.overrides=g}possiblyEvaluate(a,g,m,y){return new En(this,a.expression.kind==="constant"||a.expression.kind==="camera"?{kind:"constant",value:a.expression.evaluate(g,null,{},m,y)}:a.expression,g)}interpolate(a,g,m){if(a.value.kind!=="constant"||g.value.kind!=="constant")return a;if(a.value.value===void 0||g.value.value===void 0)return new En(this,{kind:"constant",value:void 0},a.parameters);const y=Uo[this.specification.type];return y?new En(this,{kind:"constant",value:y(a.value.value,g.value.value,m)},a.parameters):a}evaluate(a,g,m,y,v,E){return a.kind==="constant"?a.value:a.evaluate(g,m,y,v,E)}}class tr extends st{possiblyEvaluate(a,g,m,y){if(a.value===void 0)return new En(this,{kind:"constant",value:void 0},g);if(a.expression.kind==="constant"){const v=a.expression.evaluate(g,null,{},m,y),E=a.property.specification.type==="resolvedImage"&&typeof v!="string"?v.name:v,A=this._calculate(E,E,E,g);return new En(this,{kind:"constant",value:A},g)}if(a.expression.kind==="camera"){const v=this._calculate(a.expression.evaluate({zoom:g.zoom-1}),a.expression.evaluate({zoom:g.zoom}),a.expression.evaluate({zoom:g.zoom+1}),g);return new En(this,{kind:"constant",value:v},g)}return new En(this,a.expression,g)}evaluate(a,g,m,y,v,E){if(a.kind==="source"){const A=a.evaluate(g,m,y,v,E);return this._calculate(A,A,A,g)}return a.kind==="composite"?this._calculate(a.evaluate({zoom:Math.floor(g.zoom)-1},m,y),a.evaluate({zoom:Math.floor(g.zoom)},m,y),a.evaluate({zoom:Math.floor(g.zoom)+1},m,y),g):a.value}_calculate(a,g,m,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:a,to:g}:{from:m,to:g}}interpolate(a){return a}}class ir{constructor(a){this.specification=a}possiblyEvaluate(a,g,m,y){if(a.value!==void 0){if(a.expression.kind==="constant"){const v=a.expression.evaluate(g,null,{},m,y);return this._calculate(v,v,v,g)}return this._calculate(a.expression.evaluate(new Xt(Math.floor(g.zoom-1),g)),a.expression.evaluate(new Xt(Math.floor(g.zoom),g)),a.expression.evaluate(new Xt(Math.floor(g.zoom+1),g)),g)}}_calculate(a,g,m,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:a,to:g}:{from:m,to:g}}interpolate(a){return a}}class Da{constructor(a){this.specification=a}possiblyEvaluate(a,g,m,y){return!!a.expression.evaluate(g,null,{},m,y)}interpolate(){return!1}}class di{constructor(a){this.properties=a,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const g in a){const m=a[g];m.specification.overridable&&this.overridableProperties.push(g);const y=this.defaultPropertyValues[g]=new Nr(m,void 0),v=this.defaultTransitionablePropertyValues[g]=new zr(m);this.defaultTransitioningPropertyValues[g]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[g]=y.possiblyEvaluate({})}}}We("DataDrivenProperty",st),We("DataConstantProperty",tt),We("CrossFadedDataDrivenProperty",tr),We("CrossFadedProperty",ir),We("ColorRampProperty",Da);const Jn="-transition";class ki extends go{constructor(a,g){if(super(),this.id=a.id,this.type=a.type,this._featureFilter={filter:()=>!0,needGeometry:!1},a.type!=="custom"&&(this.metadata=a.metadata,this.minzoom=a.minzoom,this.maxzoom=a.maxzoom,a.type!=="background"&&(this.source=a.source,this.sourceLayer=a["source-layer"],this.filter=a.filter),g.layout&&(this._unevaluatedLayout=new yl(g.layout)),g.paint)){this._transitionablePaint=new Ra(g.paint);for(const m in a.paint)this.setPaintProperty(m,a.paint[m],{validate:!1});for(const m in a.layout)this.setLayoutProperty(m,a.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Fr(g.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(a){return a==="visibility"?this.visibility:this._unevaluatedLayout.getValue(a)}setLayoutProperty(a,g,m={}){g!=null&&this._validate(hl,`layers.${this.id}.layout.${a}`,a,g,m)||(a!=="visibility"?this._unevaluatedLayout.setValue(a,g):this.visibility=g)}getPaintProperty(a){return a.endsWith(Jn)?this._transitionablePaint.getTransition(a.slice(0,-Jn.length)):this._transitionablePaint.getValue(a)}setPaintProperty(a,g,m={}){if(g!=null&&this._validate(Sa,`layers.${this.id}.paint.${a}`,a,g,m))return!1;if(a.endsWith(Jn))return this._transitionablePaint.setTransition(a.slice(0,-Jn.length),g||void 0),!1;{const y=this._transitionablePaint._values[a],v=y.property.specification["property-type"]==="cross-faded-data-driven",E=y.value.isDataDriven(),A=y.value;this._transitionablePaint.setValue(a,g),this._handleSpecialPaintPropertyUpdate(a);const I=this._transitionablePaint._values[a].value;return I.isDataDriven()||E||v||this._handleOverridablePaintPropertyUpdate(a,A,I)}}_handleSpecialPaintPropertyUpdate(a){}_handleOverridablePaintPropertyUpdate(a,g,m){return!1}isHidden(a){return!!(this.minzoom&&a<this.minzoom)||!!(this.maxzoom&&a>=this.maxzoom)||this.visibility==="none"}updateTransitions(a){this._transitioningPaint=this._transitionablePaint.transitioned(a,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(a,g){a.getCrossfadeParameters&&(this._crossfadeParameters=a.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(a,void 0,g)),this.paint=this._transitioningPaint.possiblyEvaluate(a,void 0,g)}serialize(){const a={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(a.layout=a.layout||{},a.layout.visibility=this.visibility),be(a,(g,m)=>!(g===void 0||m==="layout"&&!Object.keys(g).length||m==="paint"&&!Object.keys(g).length))}_validate(a,g,m,y,v={}){return(!v||v.validate!==!1)&&Es(this,a.call(Kn,{key:g,layerType:this.type,objectKey:m,value:y,styleSpec:Te,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const a in this.paint._values){const g=this.paint.get(a);if(g instanceof En&&$o(g.property.specification)&&(g.value.kind==="source"||g.value.kind==="composite")&&g.value.isStateDependent)return!0}return!1}}const $l={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class nr{constructor(a,g){this._structArray=a,this._pos1=g*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Gt{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(a,g){return a._trim(),g&&(a.isTransferred=!0,g.push(a.arrayBuffer)),{length:a.length,arrayBuffer:a.arrayBuffer}}static deserialize(a){const g=Object.create(this.prototype);return g.arrayBuffer=a.arrayBuffer,g.length=a.length,g.capacity=a.arrayBuffer.byteLength/g.bytesPerElement,g._refreshViews(),g}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(a){this.reserve(a),this.length=a}reserve(a){if(a>this.capacity){this.capacity=Math.max(a,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const g=this.uint8;this._refreshViews(),g&&this.uint8.set(g)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function li(p,a=1){let g=0,m=0;return{members:p.map(y=>{const v=$l[y.type].BYTES_PER_ELEMENT,E=g=ws(g,Math.max(a,v)),A=y.components||1;return m=Math.max(m,v),g+=v*A,{name:y.name,type:y.type,components:A,offset:E}}),size:ws(g,Math.max(m,a)),alignment:a}}function ws(p,a){return Math.ceil(p/a)*a}class So extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g){const m=this.length;return this.resize(m+1),this.emplace(m,a,g)}emplace(a,g,m){const y=2*a;return this.int16[y+0]=g,this.int16[y+1]=m,a}}So.prototype.bytesPerElement=4,We("StructArrayLayout2i4",So);class or extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g,m,y){const v=this.length;return this.resize(v+1),this.emplace(v,a,g,m,y)}emplace(a,g,m,y,v){const E=4*a;return this.int16[E+0]=g,this.int16[E+1]=m,this.int16[E+2]=y,this.int16[E+3]=v,a}}or.prototype.bytesPerElement=8,We("StructArrayLayout4i8",or);class _ extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g,m,y,v,E){const A=this.length;return this.resize(A+1),this.emplace(A,a,g,m,y,v,E)}emplace(a,g,m,y,v,E,A){const I=6*a;return this.int16[I+0]=g,this.int16[I+1]=m,this.int16[I+2]=y,this.int16[I+3]=v,this.int16[I+4]=E,this.int16[I+5]=A,a}}_.prototype.bytesPerElement=12,We("StructArrayLayout2i4i12",_);class l extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g,m,y,v,E){const A=this.length;return this.resize(A+1),this.emplace(A,a,g,m,y,v,E)}emplace(a,g,m,y,v,E,A){const I=4*a,R=8*a;return this.int16[I+0]=g,this.int16[I+1]=m,this.uint8[R+4]=y,this.uint8[R+5]=v,this.uint8[R+6]=E,this.uint8[R+7]=A,a}}l.prototype.bytesPerElement=8,We("StructArrayLayout2i4ub8",l);class h extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,g){const m=this.length;return this.resize(m+1),this.emplace(m,a,g)}emplace(a,g,m){const y=2*a;return this.float32[y+0]=g,this.float32[y+1]=m,a}}h.prototype.bytesPerElement=8,We("StructArrayLayout2f8",h);class f extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,g,m,y,v,E,A,I,R,N){const F=this.length;return this.resize(F+1),this.emplace(F,a,g,m,y,v,E,A,I,R,N)}emplace(a,g,m,y,v,E,A,I,R,N,F){const U=10*a;return this.uint16[U+0]=g,this.uint16[U+1]=m,this.uint16[U+2]=y,this.uint16[U+3]=v,this.uint16[U+4]=E,this.uint16[U+5]=A,this.uint16[U+6]=I,this.uint16[U+7]=R,this.uint16[U+8]=N,this.uint16[U+9]=F,a}}f.prototype.bytesPerElement=20,We("StructArrayLayout10ui20",f);class $ extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,g,m,y,v,E,A,I,R,N,F,U){const V=this.length;return this.resize(V+1),this.emplace(V,a,g,m,y,v,E,A,I,R,N,F,U)}emplace(a,g,m,y,v,E,A,I,R,N,F,U,V){const q=12*a;return this.int16[q+0]=g,this.int16[q+1]=m,this.int16[q+2]=y,this.int16[q+3]=v,this.uint16[q+4]=E,this.uint16[q+5]=A,this.uint16[q+6]=I,this.uint16[q+7]=R,this.int16[q+8]=N,this.int16[q+9]=F,this.int16[q+10]=U,this.int16[q+11]=V,a}}$.prototype.bytesPerElement=24,We("StructArrayLayout4i4ui4i24",$);class x extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,g,m){const y=this.length;return this.resize(y+1),this.emplace(y,a,g,m)}emplace(a,g,m,y){const v=3*a;return this.float32[v+0]=g,this.float32[v+1]=m,this.float32[v+2]=y,a}}x.prototype.bytesPerElement=12,We("StructArrayLayout3f12",x);class T extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a){const g=this.length;return this.resize(g+1),this.emplace(g,a)}emplace(a,g){return this.uint32[1*a+0]=g,a}}T.prototype.bytesPerElement=4,We("StructArrayLayout1ul4",T);class P extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,g,m,y,v,E,A,I,R){const N=this.length;return this.resize(N+1),this.emplace(N,a,g,m,y,v,E,A,I,R)}emplace(a,g,m,y,v,E,A,I,R,N){const F=10*a,U=5*a;return this.int16[F+0]=g,this.int16[F+1]=m,this.int16[F+2]=y,this.int16[F+3]=v,this.int16[F+4]=E,this.int16[F+5]=A,this.uint32[U+3]=I,this.uint16[F+8]=R,this.uint16[F+9]=N,a}}P.prototype.bytesPerElement=20,We("StructArrayLayout6i1ul2ui20",P);class w extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g,m,y,v,E){const A=this.length;return this.resize(A+1),this.emplace(A,a,g,m,y,v,E)}emplace(a,g,m,y,v,E,A){const I=6*a;return this.int16[I+0]=g,this.int16[I+1]=m,this.int16[I+2]=y,this.int16[I+3]=v,this.int16[I+4]=E,this.int16[I+5]=A,a}}w.prototype.bytesPerElement=12,We("StructArrayLayout2i2i2i12",w);class L extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g,m,y,v){const E=this.length;return this.resize(E+1),this.emplace(E,a,g,m,y,v)}emplace(a,g,m,y,v,E){const A=4*a,I=8*a;return this.float32[A+0]=g,this.float32[A+1]=m,this.float32[A+2]=y,this.int16[I+6]=v,this.int16[I+7]=E,a}}L.prototype.bytesPerElement=16,We("StructArrayLayout2f1f2i16",L);class z extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,g,m,y){const v=this.length;return this.resize(v+1),this.emplace(v,a,g,m,y)}emplace(a,g,m,y,v){const E=12*a,A=3*a;return this.uint8[E+0]=g,this.uint8[E+1]=m,this.float32[A+1]=y,this.float32[A+2]=v,a}}z.prototype.bytesPerElement=12,We("StructArrayLayout2ub2f12",z);class B extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,g,m){const y=this.length;return this.resize(y+1),this.emplace(y,a,g,m)}emplace(a,g,m,y){const v=3*a;return this.uint16[v+0]=g,this.uint16[v+1]=m,this.uint16[v+2]=y,a}}B.prototype.bytesPerElement=6,We("StructArrayLayout3ui6",B);class j extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,g,m,y,v,E,A,I,R,N,F,U,V,q,ie,te,ge){const $e=this.length;return this.resize($e+1),this.emplace($e,a,g,m,y,v,E,A,I,R,N,F,U,V,q,ie,te,ge)}emplace(a,g,m,y,v,E,A,I,R,N,F,U,V,q,ie,te,ge,$e){const pe=24*a,ye=12*a,we=48*a;return this.int16[pe+0]=g,this.int16[pe+1]=m,this.uint16[pe+2]=y,this.uint16[pe+3]=v,this.uint32[ye+2]=E,this.uint32[ye+3]=A,this.uint32[ye+4]=I,this.uint16[pe+10]=R,this.uint16[pe+11]=N,this.uint16[pe+12]=F,this.float32[ye+7]=U,this.float32[ye+8]=V,this.uint8[we+36]=q,this.uint8[we+37]=ie,this.uint8[we+38]=te,this.uint32[ye+10]=ge,this.int16[pe+22]=$e,a}}j.prototype.bytesPerElement=48,We("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",j);class Q extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,g,m,y,v,E,A,I,R,N,F,U,V,q,ie,te,ge,$e,pe,ye,we,Pe,Ke,Je,Ue,ze,Le,je){const ke=this.length;return this.resize(ke+1),this.emplace(ke,a,g,m,y,v,E,A,I,R,N,F,U,V,q,ie,te,ge,$e,pe,ye,we,Pe,Ke,Je,Ue,ze,Le,je)}emplace(a,g,m,y,v,E,A,I,R,N,F,U,V,q,ie,te,ge,$e,pe,ye,we,Pe,Ke,Je,Ue,ze,Le,je,ke){const Re=34*a,rt=17*a;return this.int16[Re+0]=g,this.int16[Re+1]=m,this.int16[Re+2]=y,this.int16[Re+3]=v,this.int16[Re+4]=E,this.int16[Re+5]=A,this.int16[Re+6]=I,this.int16[Re+7]=R,this.uint16[Re+8]=N,this.uint16[Re+9]=F,this.uint16[Re+10]=U,this.uint16[Re+11]=V,this.uint16[Re+12]=q,this.uint16[Re+13]=ie,this.uint16[Re+14]=te,this.uint16[Re+15]=ge,this.uint16[Re+16]=$e,this.uint16[Re+17]=pe,this.uint16[Re+18]=ye,this.uint16[Re+19]=we,this.uint16[Re+20]=Pe,this.uint16[Re+21]=Ke,this.uint16[Re+22]=Je,this.uint32[rt+12]=Ue,this.float32[rt+13]=ze,this.float32[rt+14]=Le,this.float32[rt+15]=je,this.float32[rt+16]=ke,a}}Q.prototype.bytesPerElement=68,We("StructArrayLayout8i15ui1ul4f68",Q);class Y extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a){const g=this.length;return this.resize(g+1),this.emplace(g,a)}emplace(a,g){return this.float32[1*a+0]=g,a}}Y.prototype.bytesPerElement=4,We("StructArrayLayout1f4",Y);class Z extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g,m){const y=this.length;return this.resize(y+1),this.emplace(y,a,g,m)}emplace(a,g,m,y){const v=3*a;return this.int16[v+0]=g,this.int16[v+1]=m,this.int16[v+2]=y,a}}Z.prototype.bytesPerElement=6,We("StructArrayLayout3i6",Z);class se extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,g,m){const y=this.length;return this.resize(y+1),this.emplace(y,a,g,m)}emplace(a,g,m,y){const v=4*a;return this.uint32[2*a+0]=g,this.uint16[v+2]=m,this.uint16[v+3]=y,a}}se.prototype.bytesPerElement=8,We("StructArrayLayout1ul2ui8",se);class ue extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,g){const m=this.length;return this.resize(m+1),this.emplace(m,a,g)}emplace(a,g,m){const y=2*a;return this.uint16[y+0]=g,this.uint16[y+1]=m,a}}ue.prototype.bytesPerElement=4,We("StructArrayLayout2ui4",ue);class he extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a){const g=this.length;return this.resize(g+1),this.emplace(g,a)}emplace(a,g){return this.uint16[1*a+0]=g,a}}he.prototype.bytesPerElement=2,We("StructArrayLayout1ui2",he);class J extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,g,m,y){const v=this.length;return this.resize(v+1),this.emplace(v,a,g,m,y)}emplace(a,g,m,y,v){const E=4*a;return this.float32[E+0]=g,this.float32[E+1]=m,this.float32[E+2]=y,this.float32[E+3]=v,a}}J.prototype.bytesPerElement=16,We("StructArrayLayout4f16",J);class _e extends nr{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new He(this.anchorPointX,this.anchorPointY)}}_e.prototype.size=20;class me extends P{get(a){return new _e(this,a)}}We("CollisionBoxArray",me);class Ee extends nr{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(a){this._structArray.uint8[this._pos1+37]=a}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(a){this._structArray.uint8[this._pos1+38]=a}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(a){this._structArray.uint32[this._pos4+10]=a}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Ee.prototype.size=48;class Se extends j{get(a){return new Ee(this,a)}}We("PlacedSymbolArray",Se);class Oe extends nr{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(a){this._structArray.uint32[this._pos4+12]=a}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Oe.prototype.size=68;class xe extends Q{get(a){return new Oe(this,a)}}We("SymbolInstanceArray",xe);class qe extends Y{getoffsetX(a){return this.float32[1*a+0]}}We("GlyphOffsetArray",qe);class Ne extends Z{getx(a){return this.int16[3*a+0]}gety(a){return this.int16[3*a+1]}gettileUnitDistanceFromAnchor(a){return this.int16[3*a+2]}}We("SymbolLineVertexArray",Ne);class Xe extends nr{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Xe.prototype.size=8;class pt extends se{get(a){return new Xe(this,a)}}We("FeatureIndexArray",pt);class bt extends So{}class at extends So{}class Mt extends So{}class Nt extends _{}class Tt extends l{}class Ct extends h{}class It extends f{}class Wi extends ${}class Sn extends x{}class pn extends T{}class gn extends w{}class eo extends z{}class bi extends B{}class dn extends ue{}const to=li([{name:"a_pos",components:2,type:"Int16"}],4),{members:kr}=to;class Pt{constructor(a=[]){this.segments=a}prepareSegment(a,g,m,y){let v=this.segments[this.segments.length-1];return a>Pt.MAX_VERTEX_ARRAY_LENGTH&&Ze(`Max vertices per segment is ${Pt.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${a}`),(!v||v.vertexLength+a>Pt.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==y)&&(v={vertexOffset:g.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},y!==void 0&&(v.sortKey=y),this.segments.push(v)),v}get(){return this.segments}destroy(){for(const a of this.segments)for(const g in a.vaos)a.vaos[g].destroy()}static simpleSegment(a,g,m,y){return new Pt([{vertexOffset:a,primitiveOffset:g,vertexLength:m,primitiveLength:y,vaos:{},sortKey:0}])}}function qt(p,a){return 256*(p=D(Math.floor(p),0,255))+D(Math.floor(a),0,255)}Pt.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,We("SegmentVector",Pt);const Rt=li([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ui={exports:{}},Bi={exports:{}};Bi.exports=function(p,a){var g,m,y,v,E,A,I,R;for(m=p.length-(g=3&p.length),y=a,E=3432918353,A=461845907,R=0;R<m;)I=255&p.charCodeAt(R)|(255&p.charCodeAt(++R))<<8|(255&p.charCodeAt(++R))<<16|(255&p.charCodeAt(++R))<<24,++R,y=27492+(65535&(v=5*(65535&(y=(y^=I=(65535&(I=(I=(65535&I)*E+(((I>>>16)*E&65535)<<16)&4294967295)<<15|I>>>17))*A+(((I>>>16)*A&65535)<<16)&4294967295)<<13|y>>>19))+((5*(y>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(I=0,g){case 3:I^=(255&p.charCodeAt(R+2))<<16;case 2:I^=(255&p.charCodeAt(R+1))<<8;case 1:y^=I=(65535&(I=(I=(65535&(I^=255&p.charCodeAt(R)))*E+(((I>>>16)*E&65535)<<16)&4294967295)<<15|I>>>17))*A+(((I>>>16)*A&65535)<<16)&4294967295}return y^=p.length,y=2246822507*(65535&(y^=y>>>16))+((2246822507*(y>>>16)&65535)<<16)&4294967295,y=3266489909*(65535&(y^=y>>>13))+((3266489909*(y>>>16)&65535)<<16)&4294967295,(y^=y>>>16)>>>0};var Wt={exports:{}};Wt.exports=function(p,a){for(var g,m=p.length,y=a^m,v=0;m>=4;)g=1540483477*(65535&(g=255&p.charCodeAt(v)|(255&p.charCodeAt(++v))<<8|(255&p.charCodeAt(++v))<<16|(255&p.charCodeAt(++v))<<24))+((1540483477*(g>>>16)&65535)<<16),y=1540483477*(65535&y)+((1540483477*(y>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),m-=4,++v;switch(m){case 3:y^=(255&p.charCodeAt(v+2))<<16;case 2:y^=(255&p.charCodeAt(v+1))<<8;case 1:y=1540483477*(65535&(y^=255&p.charCodeAt(v)))+((1540483477*(y>>>16)&65535)<<16)}return y=1540483477*(65535&(y^=y>>>13))+((1540483477*(y>>>16)&65535)<<16),(y^=y>>>15)>>>0};var nn=Bi.exports,To=Wt.exports;ui.exports=nn,ui.exports.murmur3=nn,ui.exports.murmur2=To;class Ao{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(a,g,m,y){this.ids.push(Br(a)),this.positions.push(g,m,y)}getPositions(a){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const g=Br(a);let m=0,y=this.ids.length-1;for(;m<y;){const E=m+y>>1;this.ids[E]>=g?y=E:m=E+1}const v=[];for(;this.ids[m]===g;)v.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return v}static serialize(a,g){const m=new Float64Array(a.ids),y=new Uint32Array(a.positions);return La(m,y,0,m.length-1),g&&g.push(m.buffer,y.buffer),{ids:m,positions:y}}static deserialize(a){const g=new Ao;return g.ids=a.ids,g.positions=a.positions,g.indexed=!0,g}}function Br(p){const a=+p;return!isNaN(a)&&a<=Number.MAX_SAFE_INTEGER?a:ui.exports(String(p))}function La(p,a,g,m){for(;g<m;){const y=p[g+m>>1];let v=g-1,E=m+1;for(;;){do v++;while(p[v]<y);do E--;while(p[E]>y);if(v>=E)break;Ur(p,v,E),Ur(a,3*v,3*E),Ur(a,3*v+1,3*E+1),Ur(a,3*v+2,3*E+2)}E-g<m-E?(La(p,a,g,E),g=E+1):(La(p,a,E+1,m),m=E)}}function Ur(p,a,g){const m=p[a];p[a]=p[g],p[g]=m}We("FeaturePositionMap",Ao);class hn{constructor(a,g){this.gl=a.gl,this.location=g}}class jr extends hn{constructor(a,g){super(a,g),this.current=0}set(a){this.current!==a&&(this.current=a,this.gl.uniform1f(this.location,a))}}class rr extends hn{constructor(a,g){super(a,g),this.current=[0,0,0,0]}set(a){a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]&&a[3]===this.current[3]||(this.current=a,this.gl.uniform4f(this.location,a[0],a[1],a[2],a[3]))}}class Vr extends hn{constructor(a,g){super(a,g),this.current=G.transparent}set(a){a.r===this.current.r&&a.g===this.current.g&&a.b===this.current.b&&a.a===this.current.a||(this.current=a,this.gl.uniform4f(this.location,a.r,a.g,a.b,a.a))}}const Ac=new Float32Array(16);function bl(p){return[qt(255*p.r,255*p.g),qt(255*p.b,255*p.a)]}class Ma{constructor(a,g,m){this.value=a,this.uniformNames=g.map(y=>`u_${y}`),this.type=m}setUniform(a,g,m){a.set(m.constantOr(this.value))}getBinding(a,g,m){return this.type==="color"?new Vr(a,g):new jr(a,g)}}class Gr{constructor(a,g){this.uniformNames=g.map(m=>`u_${m}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(a,g){this.pixelRatioFrom=g.pixelRatio,this.pixelRatioTo=a.pixelRatio,this.patternFrom=g.tlbr,this.patternTo=a.tlbr}setUniform(a,g,m,y){const v=y==="u_pattern_to"?this.patternTo:y==="u_pattern_from"?this.patternFrom:y==="u_pixel_ratio_to"?this.pixelRatioTo:y==="u_pixel_ratio_from"?this.pixelRatioFrom:null;v&&a.set(v)}getBinding(a,g,m){return m.substr(0,9)==="u_pattern"?new rr(a,g):new jr(a,g)}}class io{constructor(a,g,m,y){this.expression=a,this.type=m,this.maxValue=0,this.paintVertexAttributes=g.map(v=>({name:`a_${v}`,type:"Float32",components:m==="color"?2:1,offset:0})),this.paintVertexArray=new y}populatePaintArray(a,g,m,y,v){const E=this.paintVertexArray.length,A=this.expression.evaluate(new Xt(0),g,{},y,[],v);this.paintVertexArray.resize(a),this._setPaintValue(E,a,A)}updatePaintArray(a,g,m,y){const v=this.expression.evaluate({zoom:0},m,y);this._setPaintValue(a,g,v)}_setPaintValue(a,g,m){if(this.type==="color"){const y=bl(m);for(let v=a;v<g;v++)this.paintVertexArray.emplace(v,y[0],y[1])}else{for(let y=a;y<g;y++)this.paintVertexArray.emplace(y,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class On{constructor(a,g,m,y,v,E){this.expression=a,this.uniformNames=g.map(A=>`u_${A}_t`),this.type=m,this.useIntegerZoom=y,this.zoom=v,this.maxValue=0,this.paintVertexAttributes=g.map(A=>({name:`a_${A}`,type:"Float32",components:m==="color"?4:2,offset:0})),this.paintVertexArray=new E}populatePaintArray(a,g,m,y,v){const E=this.expression.evaluate(new Xt(this.zoom),g,{},y,[],v),A=this.expression.evaluate(new Xt(this.zoom+1),g,{},y,[],v),I=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValue(I,a,E,A)}updatePaintArray(a,g,m,y){const v=this.expression.evaluate({zoom:this.zoom},m,y),E=this.expression.evaluate({zoom:this.zoom+1},m,y);this._setPaintValue(a,g,v,E)}_setPaintValue(a,g,m,y){if(this.type==="color"){const v=bl(m),E=bl(y);for(let A=a;A<g;A++)this.paintVertexArray.emplace(A,v[0],v[1],E[0],E[1])}else{for(let v=a;v<g;v++)this.paintVertexArray.emplace(v,m,y);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(y))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(a,g){const m=this.useIntegerZoom?Math.floor(g.zoom):g.zoom,y=D(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);a.set(y)}getBinding(a,g,m){return new jr(a,g)}}class Co{constructor(a,g,m,y,v,E){this.expression=a,this.type=g,this.useIntegerZoom=m,this.zoom=y,this.layerId=E,this.zoomInPaintVertexArray=new v,this.zoomOutPaintVertexArray=new v}populatePaintArray(a,g,m){const y=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(a),this.zoomOutPaintVertexArray.resize(a),this._setPaintValues(y,a,g.patterns&&g.patterns[this.layerId],m)}updatePaintArray(a,g,m,y,v){this._setPaintValues(a,g,m.patterns&&m.patterns[this.layerId],v)}_setPaintValues(a,g,m,y){if(!y||!m)return;const{min:v,mid:E,max:A}=m,I=y[v],R=y[E],N=y[A];if(I&&R&&N)for(let F=a;F<g;F++)this.zoomInPaintVertexArray.emplace(F,R.tl[0],R.tl[1],R.br[0],R.br[1],I.tl[0],I.tl[1],I.br[0],I.br[1],R.pixelRatio,I.pixelRatio),this.zoomOutPaintVertexArray.emplace(F,R.tl[0],R.tl[1],R.br[0],R.br[1],N.tl[0],N.tl[1],N.br[0],N.br[1],R.pixelRatio,N.pixelRatio)}upload(a){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=a.createVertexBuffer(this.zoomInPaintVertexArray,Rt.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=a.createVertexBuffer(this.zoomOutPaintVertexArray,Rt.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class ou{constructor(a,g,m){this.binders={},this._buffers=[];const y=[];for(const v in a.paint._values){if(!m(v))continue;const E=a.paint.get(v);if(!(E instanceof En&&$o(E.property.specification)))continue;const A=Cc(v,a.type),I=E.value,R=E.property.specification.type,N=E.property.useIntegerZoom,F=E.property.specification["property-type"],U=F==="cross-faded"||F==="cross-faded-data-driven";if(I.kind==="constant")this.binders[v]=U?new Gr(I.value,A):new Ma(I.value,A,R),y.push(`/u_${v}`);else if(I.kind==="source"||U){const V=ru(v,R,"source");this.binders[v]=U?new Co(I,R,N,g,V,a.id):new io(I,A,R,V),y.push(`/a_${v}`)}else{const V=ru(v,R,"composite");this.binders[v]=new On(I,A,R,N,g,V),y.push(`/z_${v}`)}}this.cacheKey=y.sort().join("")}getMaxValue(a){const g=this.binders[a];return g instanceof io||g instanceof On?g.maxValue:0}populatePaintArrays(a,g,m,y,v){for(const E in this.binders){const A=this.binders[E];(A instanceof io||A instanceof On||A instanceof Co)&&A.populatePaintArray(a,g,m,y,v)}}setConstantPatternPositions(a,g){for(const m in this.binders){const y=this.binders[m];y instanceof Gr&&y.setConstantPatternPositions(a,g)}}updatePaintArrays(a,g,m,y,v){let E=!1;for(const A in a){const I=g.getPositions(A);for(const R of I){const N=m.feature(R.index);for(const F in this.binders){const U=this.binders[F];if((U instanceof io||U instanceof On||U instanceof Co)&&U.expression.isStateDependent===!0){const V=y.paint.get(F);U.expression=V.value,U.updatePaintArray(R.start,R.end,N,a[A],v),E=!0}}}}return E}defines(){const a=[];for(const g in this.binders){const m=this.binders[g];(m instanceof Ma||m instanceof Gr)&&a.push(...m.uniformNames.map(y=>`#define HAS_UNIFORM_${y}`))}return a}getBinderAttributes(){const a=[];for(const g in this.binders){const m=this.binders[g];if(m instanceof io||m instanceof On)for(let y=0;y<m.paintVertexAttributes.length;y++)a.push(m.paintVertexAttributes[y].name);else if(m instanceof Co)for(let y=0;y<Rt.members.length;y++)a.push(Rt.members[y].name)}return a}getBinderUniforms(){const a=[];for(const g in this.binders){const m=this.binders[g];if(m instanceof Ma||m instanceof Gr||m instanceof On)for(const y of m.uniformNames)a.push(y)}return a}getPaintVertexBuffers(){return this._buffers}getUniforms(a,g){const m=[];for(const y in this.binders){const v=this.binders[y];if(v instanceof Ma||v instanceof Gr||v instanceof On){for(const E of v.uniformNames)if(g[E]){const A=v.getBinding(a,g[E],E);m.push({name:E,property:y,binding:A})}}}return m}setUniforms(a,g,m,y){for(const{name:v,property:E,binding:A}of g)this.binders[E].setUniform(A,y,m.get(E),v)}updatePaintBuffers(a){this._buffers=[];for(const g in this.binders){const m=this.binders[g];if(a&&m instanceof Co){const y=a.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;y&&this._buffers.push(y)}else(m instanceof io||m instanceof On)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(a){for(const g in this.binders){const m=this.binders[g];(m instanceof io||m instanceof On||m instanceof Co)&&m.upload(a)}this.updatePaintBuffers()}destroy(){for(const a in this.binders){const g=this.binders[a];(g instanceof io||g instanceof On||g instanceof Co)&&g.destroy()}}}class ar{constructor(a,g,m=()=>!0){this.programConfigurations={};for(const y of a)this.programConfigurations[y.id]=new ou(y,g,m);this.needsUpload=!1,this._featureMap=new Ao,this._bufferOffset=0}populatePaintArrays(a,g,m,y,v,E){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(a,g,y,v,E);g.id!==void 0&&this._featureMap.add(g.id,m,this._bufferOffset,a),this._bufferOffset=a,this.needsUpload=!0}updatePaintArrays(a,g,m,y){for(const v of m)this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(a,this._featureMap,g,v,y)||this.needsUpload}get(a){return this.programConfigurations[a]}upload(a){if(this.needsUpload){for(const g in this.programConfigurations)this.programConfigurations[g].upload(a);this.needsUpload=!1}}destroy(){for(const a in this.programConfigurations)this.programConfigurations[a].destroy()}}function Cc(p,a){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[p]||[p.replace(`${a}-`,"").replace(/-/g,"_")]}function ru(p,a,g){const m={color:{source:h,composite:J},number:{source:Y,composite:h}},y=function(v){return{"line-pattern":{source:It,composite:It},"fill-pattern":{source:It,composite:It},"fill-extrusion-pattern":{source:It,composite:It}}[v]}(p);return y&&y[g]||m[a][g]}We("ConstantBinder",Ma),We("CrossFadedConstantBinder",Gr),We("SourceExpressionBinder",io),We("CrossFadedCompositeBinder",Co),We("CompositeExpressionBinder",On),We("ProgramConfiguration",ou,{omit:["_buffers"]}),We("ProgramConfigurationSet",ar);var hi=8192;const vl=Math.pow(2,14)-1,au=-vl-1;function sr(p){const a=hi/p.extent,g=p.loadGeometry();for(let m=0;m<g.length;m++){const y=g[m];for(let v=0;v<y.length;v++){const E=y[v],A=Math.round(E.x*a),I=Math.round(E.y*a);E.x=D(A,au,vl),E.y=D(I,au,vl),(A<E.x||A>E.x+1||I<E.y||I>E.y+1)&&Ze("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return g}function lr(p,a){return{type:p.type,id:p.id,properties:p.properties,geometry:a?sr(p):[]}}function Os(p,a,g,m,y){p.emplaceBack(2*a+(m+1)/2,2*g+(y+1)/2)}class xl{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(g=>g.id),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new at,this.indexArray=new bi,this.segments=new Pt,this.programConfigurations=new ar(a.layers,a.zoom),this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id)}populate(a,g,m){const y=this.layers[0],v=[];let E=null,A=!1;y.type==="circle"&&(E=y.layout.get("circle-sort-key"),A=!E.isConstant());for(const{feature:I,id:R,index:N,sourceLayerIndex:F}of a){const U=this.layers[0]._featureFilter.needGeometry,V=lr(I,U);if(!this.layers[0]._featureFilter.filter(new Xt(this.zoom),V,m))continue;const q=A?E.evaluate(V,{},m):void 0,ie={id:R,properties:I.properties,type:I.type,sourceLayerIndex:F,index:N,geometry:U?V.geometry:sr(I),patterns:{},sortKey:q};v.push(ie)}A&&v.sort((I,R)=>I.sortKey-R.sortKey);for(const I of v){const{geometry:R,index:N,sourceLayerIndex:F}=I,U=a[N].feature;this.addFeature(I,R,N,m),g.featureIndex.insert(U,R,N,F,this.index)}}update(a,g,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,g,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,kr),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(a,g,m,y){for(const v of g)for(const E of v){const A=E.x,I=E.y;if(A<0||A>=hi||I<0||I>=hi)continue;const R=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,a.sortKey),N=R.vertexLength;Os(this.layoutVertexArray,A,I,-1,-1),Os(this.layoutVertexArray,A,I,1,-1),Os(this.layoutVertexArray,A,I,1,1),Os(this.layoutVertexArray,A,I,-1,1),this.indexArray.emplaceBack(N,N+1,N+2),this.indexArray.emplaceBack(N,N+3,N+2),R.vertexLength+=4,R.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,{},y)}}function su(p,a){for(let g=0;g<p.length;g++)if(qr(a,p[g]))return!0;for(let g=0;g<a.length;g++)if(qr(p,a[g]))return!0;return!!El(p,a)}function Ic(p,a,g){return!!qr(p,a)||!!Sl(a,p,g)}function lu(p,a){if(p.length===1)return cu(a,p[0]);for(let g=0;g<a.length;g++){const m=a[g];for(let y=0;y<m.length;y++)if(qr(p,m[y]))return!0}for(let g=0;g<p.length;g++)if(cu(a,p[g]))return!0;for(let g=0;g<a.length;g++)if(El(p,a[g]))return!0;return!1}function Pc(p,a,g){if(p.length>1){if(El(p,a))return!0;for(let m=0;m<a.length;m++)if(Sl(a[m],p,g))return!0}for(let m=0;m<p.length;m++)if(Sl(p[m],a,g))return!0;return!1}function El(p,a){if(p.length===0||a.length===0)return!1;for(let g=0;g<p.length-1;g++){const m=p[g],y=p[g+1];for(let v=0;v<a.length-1;v++)if(wc(m,y,a[v],a[v+1]))return!0}return!1}function wc(p,a,g,m){return ot(p,g,m)!==ot(a,g,m)&&ot(p,a,g)!==ot(p,a,m)}function Sl(p,a,g){const m=g*g;if(a.length===1)return p.distSqr(a[0])<m;for(let y=1;y<a.length;y++)if(uu(p,a[y-1],a[y])<m)return!0;return!1}function uu(p,a,g){const m=a.distSqr(g);if(m===0)return p.distSqr(a);const y=((p.x-a.x)*(g.x-a.x)+(p.y-a.y)*(g.y-a.y))/m;return p.distSqr(y<0?a:y>1?g:g.sub(a)._mult(y)._add(a))}function cu(p,a){let g,m,y,v=!1;for(let E=0;E<p.length;E++){g=p[E];for(let A=0,I=g.length-1;A<g.length;I=A++)m=g[A],y=g[I],m.y>a.y!=y.y>a.y&&a.x<(y.x-m.x)*(a.y-m.y)/(y.y-m.y)+m.x&&(v=!v)}return v}function qr(p,a){let g=!1;for(let m=0,y=p.length-1;m<p.length;y=m++){const v=p[m],E=p[y];v.y>a.y!=E.y>a.y&&a.x<(E.x-v.x)*(a.y-v.y)/(E.y-v.y)+v.x&&(g=!g)}return g}function Oc(p,a,g){const m=g[0],y=g[2];if(p.x<m.x&&a.x<m.x||p.x>y.x&&a.x>y.x||p.y<m.y&&a.y<m.y||p.y>y.y&&a.y>y.y)return!1;const v=ot(p,a,g[0]);return v!==ot(p,a,g[1])||v!==ot(p,a,g[2])||v!==ot(p,a,g[3])}function Na(p,a,g){const m=a.paint.get(p).value;return m.kind==="constant"?m.value:g.programConfigurations.get(a.id).getMaxValue(p)}function Rs(p){return Math.sqrt(p[0]*p[0]+p[1]*p[1])}function Ds(p,a,g,m,y){if(!a[0]&&!a[1])return p;const v=He.convert(a)._mult(y);g==="viewport"&&v._rotate(-m);const E=[];for(let A=0;A<p.length;A++)E.push(p[A].sub(v));return E}We("CircleBucket",xl,{omit:["layers"]});const Rc=new di({"circle-sort-key":new st(Te.layout_circle["circle-sort-key"])});var Dc={paint:new di({"circle-radius":new st(Te.paint_circle["circle-radius"]),"circle-color":new st(Te.paint_circle["circle-color"]),"circle-blur":new st(Te.paint_circle["circle-blur"]),"circle-opacity":new st(Te.paint_circle["circle-opacity"]),"circle-translate":new tt(Te.paint_circle["circle-translate"]),"circle-translate-anchor":new tt(Te.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new tt(Te.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new tt(Te.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new st(Te.paint_circle["circle-stroke-width"]),"circle-stroke-color":new st(Te.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new st(Te.paint_circle["circle-stroke-opacity"])}),layout:Rc},Ui=1e-6,ji=typeof Float32Array<"u"?Float32Array:Array;function pu(){var p=new ji(9);return ji!=Float32Array&&(p[1]=0,p[2]=0,p[3]=0,p[5]=0,p[6]=0,p[7]=0),p[0]=1,p[4]=1,p[8]=1,p}function Tl(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function gu(p,a,g){var m=a[0],y=a[1],v=a[2],E=a[3],A=a[4],I=a[5],R=a[6],N=a[7],F=a[8],U=a[9],V=a[10],q=a[11],ie=a[12],te=a[13],ge=a[14],$e=a[15],pe=g[0],ye=g[1],we=g[2],Pe=g[3];return p[0]=pe*m+ye*A+we*F+Pe*ie,p[1]=pe*y+ye*I+we*U+Pe*te,p[2]=pe*v+ye*R+we*V+Pe*ge,p[3]=pe*E+ye*N+we*q+Pe*$e,p[4]=(pe=g[4])*m+(ye=g[5])*A+(we=g[6])*F+(Pe=g[7])*ie,p[5]=pe*y+ye*I+we*U+Pe*te,p[6]=pe*v+ye*R+we*V+Pe*ge,p[7]=pe*E+ye*N+we*q+Pe*$e,p[8]=(pe=g[8])*m+(ye=g[9])*A+(we=g[10])*F+(Pe=g[11])*ie,p[9]=pe*y+ye*I+we*U+Pe*te,p[10]=pe*v+ye*R+we*V+Pe*ge,p[11]=pe*E+ye*N+we*q+Pe*$e,p[12]=(pe=g[12])*m+(ye=g[13])*A+(we=g[14])*F+(Pe=g[15])*ie,p[13]=pe*y+ye*I+we*U+Pe*te,p[14]=pe*v+ye*R+we*V+Pe*ge,p[15]=pe*E+ye*N+we*q+Pe*$e,p}Math.hypot||(Math.hypot=function(){for(var p=0,a=arguments.length;a--;)p+=arguments[a]*arguments[a];return Math.sqrt(p)});var za,Lc=gu;function du(){var p=new ji(3);return ji!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0),p}function hu(p,a,g){var m=new ji(3);return m[0]=p,m[1]=a,m[2]=g,m}function Ls(p,a,g){var m=a[0],y=a[1],v=a[2],E=a[3];return p[0]=g[0]*m+g[4]*y+g[8]*v+g[12]*E,p[1]=g[1]*m+g[5]*y+g[9]*v+g[13]*E,p[2]=g[2]*m+g[6]*y+g[10]*v+g[14]*E,p[3]=g[3]*m+g[7]*y+g[11]*v+g[15]*E,p}function mu(){var p=new ji(4);return ji!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0),p[3]=1,p}function fu(p,a){const g=Ls([],[p.x,p.y,0,1],a);return new He(g[0]/g[3],g[1]/g[3])}du(),za=new ji(4),ji!=Float32Array&&(za[0]=0,za[1]=0,za[2]=0,za[3]=0),du(),hu(1,0,0),hu(0,1,0),mu(),mu(),pu(),function(){var p;p=new ji(2),ji!=Float32Array&&(p[0]=0,p[1]=0)}();class _u extends xl{}We("HeatmapBucket",_u,{omit:["layers"]});var Mc={paint:new di({"heatmap-radius":new st(Te.paint_heatmap["heatmap-radius"]),"heatmap-weight":new st(Te.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new tt(Te.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Da(Te.paint_heatmap["heatmap-color"]),"heatmap-opacity":new tt(Te.paint_heatmap["heatmap-opacity"])})};function Al(p,{width:a,height:g},m,y){if(y){if(y instanceof Uint8ClampedArray)y=new Uint8Array(y.buffer);else if(y.length!==a*g*m)throw new RangeError(`mismatched image size. expected: ${y.length} but got: ${a*g*m}`)}else y=new Uint8Array(a*g*m);return p.width=a,p.height=g,p.data=y,p}function yu(p,{width:a,height:g},m){if(a===p.width&&g===p.height)return;const y=Al({},{width:a,height:g},m);Cl(p,y,{x:0,y:0},{x:0,y:0},{width:Math.min(p.width,a),height:Math.min(p.height,g)},m),p.width=a,p.height=g,p.data=y.data}function Cl(p,a,g,m,y,v){if(y.width===0||y.height===0)return a;if(y.width>p.width||y.height>p.height||g.x>p.width-y.width||g.y>p.height-y.height)throw new RangeError("out of range source coordinates for image copy");if(y.width>a.width||y.height>a.height||m.x>a.width-y.width||m.y>a.height-y.height)throw new RangeError("out of range destination coordinates for image copy");const E=p.data,A=a.data;if(E===A)throw new Error("srcData equals dstData, so image is already copied");for(let I=0;I<y.height;I++){const R=((g.y+I)*p.width+g.x)*v,N=((m.y+I)*a.width+m.x)*v;for(let F=0;F<y.width*v;F++)A[N+F]=E[R+F]}return a}class Fa{constructor(a,g){Al(this,a,1,g)}resize(a){yu(this,a,1)}clone(){return new Fa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,g,m,y,v){Cl(a,g,m,y,v,1)}}class mn{constructor(a,g){Al(this,a,4,g)}resize(a){yu(this,a,4)}replace(a,g){g?this.data.set(a):this.data=a instanceof Uint8ClampedArray?new Uint8Array(a.buffer):a}clone(){return new mn({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,g,m,y,v){Cl(a,g,m,y,v,4)}}function $u(p){const a={},g=p.resolution||256,m=p.clips?p.clips.length:1,y=p.image||new mn({width:g,height:m});if(Math.log(g)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${g}`);const v=(E,A,I)=>{a[p.evaluationKey]=I;const R=p.expression.evaluate(a);y.data[E+A+0]=Math.floor(255*R.r/R.a),y.data[E+A+1]=Math.floor(255*R.g/R.a),y.data[E+A+2]=Math.floor(255*R.b/R.a),y.data[E+A+3]=Math.floor(255*R.a)};if(p.clips)for(let E=0,A=0;E<m;++E,A+=4*g)for(let I=0,R=0;I<g;I++,R+=4){const N=I/(g-1),{start:F,end:U}=p.clips[E];v(A,R,F*(1-N)+U*N)}else for(let E=0,A=0;E<g;E++,A+=4)v(0,A,E/(g-1));return y}We("AlphaImage",Fa),We("RGBAImage",mn);var Nc={paint:new di({"hillshade-illumination-direction":new tt(Te.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new tt(Te.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new tt(Te.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new tt(Te.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new tt(Te.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new tt(Te.paint_hillshade["hillshade-accent-color"])})};const zc=li([{name:"a_pos",components:2,type:"Int16"}],4),{members:Fc}=zc;var Ms={exports:{}};function Ns(p,a,g){g=g||2;var m,y,v,E,A,I,R,N=a&&a.length,F=N?a[0]*g:p.length,U=bu(p,0,F,g,!0),V=[];if(!U||U.next===U.prev)return V;if(N&&(U=function(ie,te,ge,$e){var pe,ye,we,Pe=[];for(pe=0,ye=te.length;pe<ye;pe++)(we=bu(ie,te[pe]*$e,pe<ye-1?te[pe+1]*$e:ie.length,$e,!1))===we.next&&(we.steiner=!0),Pe.push(Hc(we));for(Pe.sort(Vc),pe=0;pe<Pe.length;pe++)ge=Gc(Pe[pe],ge);return ge}(p,a,U,g)),p.length>80*g){m=v=p[0],y=E=p[1];for(var q=g;q<F;q+=g)(A=p[q])<m&&(m=A),(I=p[q+1])<y&&(y=I),A>v&&(v=A),I>E&&(E=I);R=(R=Math.max(v-m,E-y))!==0?32767/R:0}return ka(U,V,g,m,y,R,0),V}function bu(p,a,g,m,y){var v,E;if(y===wl(p,a,g,m)>0)for(v=a;v<g;v+=m)E=Eu(v,p[v],p[v+1],E);else for(v=g-m;v>=a;v-=m)E=Eu(v,p[v],p[v+1],E);return E&&zs(E,E.next)&&(Ua(E),E=E.next),E}function ur(p,a){if(!p)return p;a||(a=p);var g,m=p;do if(g=!1,m.steiner||!zs(m,m.next)&&ai(m.prev,m,m.next)!==0)m=m.next;else{if(Ua(m),(m=a=m.prev)===m.next)break;g=!0}while(g||m!==a);return a}function ka(p,a,g,m,y,v,E){if(p){!E&&v&&function(N,F,U,V){var q=N;do q.z===0&&(q.z=Il(q.x,q.y,F,U,V)),q.prevZ=q.prev,q.nextZ=q.next,q=q.next;while(q!==N);q.prevZ.nextZ=null,q.prevZ=null,function(ie){var te,ge,$e,pe,ye,we,Pe,Ke,Je=1;do{for(ge=ie,ie=null,ye=null,we=0;ge;){for(we++,$e=ge,Pe=0,te=0;te<Je&&(Pe++,$e=$e.nextZ);te++);for(Ke=Je;Pe>0||Ke>0&&$e;)Pe!==0&&(Ke===0||!$e||ge.z<=$e.z)?(pe=ge,ge=ge.nextZ,Pe--):(pe=$e,$e=$e.nextZ,Ke--),ye?ye.nextZ=pe:ie=pe,pe.prevZ=ye,ye=pe;ge=$e}ye.nextZ=null,Je*=2}while(we>1)}(q)}(p,m,y,v);for(var A,I,R=p;p.prev!==p.next;)if(A=p.prev,I=p.next,v?Bc(p,m,y,v):kc(p))a.push(A.i/g|0),a.push(p.i/g|0),a.push(I.i/g|0),Ua(p),p=I.next,R=I.next;else if((p=I)===R){E?E===1?ka(p=Uc(ur(p),a,g),a,g,m,y,v,2):E===2&&jc(p,a,g,m,y,v):ka(ur(p),a,g,m,y,v,1);break}}}function kc(p){var a=p.prev,g=p,m=p.next;if(ai(a,g,m)>=0)return!1;for(var y=a.x,v=g.x,E=m.x,A=a.y,I=g.y,R=m.y,N=y<v?y<E?y:E:v<E?v:E,F=A<I?A<R?A:R:I<R?I:R,U=y>v?y>E?y:E:v>E?v:E,V=A>I?A>R?A:R:I>R?I:R,q=m.next;q!==a;){if(q.x>=N&&q.x<=U&&q.y>=F&&q.y<=V&&Hr(y,A,v,I,E,R,q.x,q.y)&&ai(q.prev,q,q.next)>=0)return!1;q=q.next}return!0}function Bc(p,a,g,m){var y=p.prev,v=p,E=p.next;if(ai(y,v,E)>=0)return!1;for(var A=y.x,I=v.x,R=E.x,N=y.y,F=v.y,U=E.y,V=A<I?A<R?A:R:I<R?I:R,q=N<F?N<U?N:U:F<U?F:U,ie=A>I?A>R?A:R:I>R?I:R,te=N>F?N>U?N:U:F>U?F:U,ge=Il(V,q,a,g,m),$e=Il(ie,te,a,g,m),pe=p.prevZ,ye=p.nextZ;pe&&pe.z>=ge&&ye&&ye.z<=$e;){if(pe.x>=V&&pe.x<=ie&&pe.y>=q&&pe.y<=te&&pe!==y&&pe!==E&&Hr(A,N,I,F,R,U,pe.x,pe.y)&&ai(pe.prev,pe,pe.next)>=0||(pe=pe.prevZ,ye.x>=V&&ye.x<=ie&&ye.y>=q&&ye.y<=te&&ye!==y&&ye!==E&&Hr(A,N,I,F,R,U,ye.x,ye.y)&&ai(ye.prev,ye,ye.next)>=0))return!1;ye=ye.nextZ}for(;pe&&pe.z>=ge;){if(pe.x>=V&&pe.x<=ie&&pe.y>=q&&pe.y<=te&&pe!==y&&pe!==E&&Hr(A,N,I,F,R,U,pe.x,pe.y)&&ai(pe.prev,pe,pe.next)>=0)return!1;pe=pe.prevZ}for(;ye&&ye.z<=$e;){if(ye.x>=V&&ye.x<=ie&&ye.y>=q&&ye.y<=te&&ye!==y&&ye!==E&&Hr(A,N,I,F,R,U,ye.x,ye.y)&&ai(ye.prev,ye,ye.next)>=0)return!1;ye=ye.nextZ}return!0}function Uc(p,a,g){var m=p;do{var y=m.prev,v=m.next.next;!zs(y,v)&&vu(y,m,m.next,v)&&Ba(y,v)&&Ba(v,y)&&(a.push(y.i/g|0),a.push(m.i/g|0),a.push(v.i/g|0),Ua(m),Ua(m.next),m=p=v),m=m.next}while(m!==p);return ur(m)}function jc(p,a,g,m,y,v){var E=p;do{for(var A=E.next.next;A!==E.prev;){if(E.i!==A.i&&Xc(E,A)){var I=xu(E,A);return E=ur(E,E.next),I=ur(I,I.next),ka(E,a,g,m,y,v,0),void ka(I,a,g,m,y,v,0)}A=A.next}E=E.next}while(E!==p)}function Vc(p,a){return p.x-a.x}function Gc(p,a){var g=function(y,v){var E,A=v,I=y.x,R=y.y,N=-1/0;do{if(R<=A.y&&R>=A.next.y&&A.next.y!==A.y){var F=A.x+(R-A.y)*(A.next.x-A.x)/(A.next.y-A.y);if(F<=I&&F>N&&(N=F,E=A.x<A.next.x?A:A.next,F===I))return E}A=A.next}while(A!==v);if(!E)return null;var U,V=E,q=E.x,ie=E.y,te=1/0;A=E;do I>=A.x&&A.x>=q&&I!==A.x&&Hr(R<ie?I:N,R,q,ie,R<ie?N:I,R,A.x,A.y)&&(U=Math.abs(R-A.y)/(I-A.x),Ba(A,y)&&(U<te||U===te&&(A.x>E.x||A.x===E.x&&qc(E,A)))&&(E=A,te=U)),A=A.next;while(A!==V);return E}(p,a);if(!g)return a;var m=xu(g,p);return ur(m,m.next),ur(g,g.next)}function qc(p,a){return ai(p.prev,p,a.prev)<0&&ai(a.next,p,p.next)<0}function Il(p,a,g,m,y){return(p=1431655765&((p=858993459&((p=252645135&((p=16711935&((p=(p-g)*y|0)|p<<8))|p<<4))|p<<2))|p<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-m)*y|0)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function Hc(p){var a=p,g=p;do(a.x<g.x||a.x===g.x&&a.y<g.y)&&(g=a),a=a.next;while(a!==p);return g}function Hr(p,a,g,m,y,v,E,A){return(y-E)*(a-A)>=(p-E)*(v-A)&&(p-E)*(m-A)>=(g-E)*(a-A)&&(g-E)*(v-A)>=(y-E)*(m-A)}function Xc(p,a){return p.next.i!==a.i&&p.prev.i!==a.i&&!function(g,m){var y=g;do{if(y.i!==g.i&&y.next.i!==g.i&&y.i!==m.i&&y.next.i!==m.i&&vu(y,y.next,g,m))return!0;y=y.next}while(y!==g);return!1}(p,a)&&(Ba(p,a)&&Ba(a,p)&&function(g,m){var y=g,v=!1,E=(g.x+m.x)/2,A=(g.y+m.y)/2;do y.y>A!=y.next.y>A&&y.next.y!==y.y&&E<(y.next.x-y.x)*(A-y.y)/(y.next.y-y.y)+y.x&&(v=!v),y=y.next;while(y!==g);return v}(p,a)&&(ai(p.prev,p,a.prev)||ai(p,a.prev,a))||zs(p,a)&&ai(p.prev,p,p.next)>0&&ai(a.prev,a,a.next)>0)}function ai(p,a,g){return(a.y-p.y)*(g.x-a.x)-(a.x-p.x)*(g.y-a.y)}function zs(p,a){return p.x===a.x&&p.y===a.y}function vu(p,a,g,m){var y=ks(ai(p,a,g)),v=ks(ai(p,a,m)),E=ks(ai(g,m,p)),A=ks(ai(g,m,a));return y!==v&&E!==A||!(y!==0||!Fs(p,g,a))||!(v!==0||!Fs(p,m,a))||!(E!==0||!Fs(g,p,m))||!(A!==0||!Fs(g,a,m))}function Fs(p,a,g){return a.x<=Math.max(p.x,g.x)&&a.x>=Math.min(p.x,g.x)&&a.y<=Math.max(p.y,g.y)&&a.y>=Math.min(p.y,g.y)}function ks(p){return p>0?1:p<0?-1:0}function Ba(p,a){return ai(p.prev,p,p.next)<0?ai(p,a,p.next)>=0&&ai(p,p.prev,a)>=0:ai(p,a,p.prev)<0||ai(p,p.next,a)<0}function xu(p,a){var g=new Pl(p.i,p.x,p.y),m=new Pl(a.i,a.x,a.y),y=p.next,v=a.prev;return p.next=a,a.prev=p,g.next=y,y.prev=g,m.next=g,g.prev=m,v.next=m,m.prev=v,m}function Eu(p,a,g,m){var y=new Pl(p,a,g);return m?(y.next=m.next,y.prev=m,m.next.prev=y,m.next=y):(y.prev=y,y.next=y),y}function Ua(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function Pl(p,a,g){this.i=p,this.x=a,this.y=g,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function wl(p,a,g,m){for(var y=0,v=a,E=g-m;v<g;v+=m)y+=(p[E]-p[v])*(p[v+1]+p[E+1]),E=v;return y}function Wc(p,a,g,m,y){Su(p,a,g,m||p.length-1,y)}function Su(p,a,g,m,y){for(;m>g;){if(m-g>600){var v=m-g+1,E=a-g+1,A=Math.log(v),I=.5*Math.exp(2*A/3),R=.5*Math.sqrt(A*I*(v-I)/v)*(E-v/2<0?-1:1);Su(p,a,Math.max(g,Math.floor(a-E*I/v+R)),Math.min(m,Math.floor(a+(v-E)*I/v+R)),y)}var N=p[a],F=g,U=m;for(ja(p,g,a),y(p[m],N)>0&&ja(p,g,m);F<U;){for(ja(p,F,U),F++,U--;y(p[F],N)<0;)F++;for(;y(p[U],N)>0;)U--}y(p[g],N)===0?ja(p,g,U):ja(p,++U,m),U<=a&&(g=U+1),a<=U&&(m=U-1)}}function ja(p,a,g){var m=p[a];p[a]=p[g],p[g]=m}function Ol(p,a){const g=p.length;if(g<=1)return[p];const m=[];let y,v;for(let E=0;E<g;E++){const A=ut(p[E]);A!==0&&(p[E].area=Math.abs(A),v===void 0&&(v=A<0),v===A<0?(y&&m.push(y),y=[p[E]]):y.push(p[E]))}if(y&&m.push(y),a>1)for(let E=0;E<m.length;E++)m[E].length<=a||(Wc(m[E],a,1,m[E].length-1,Yc),m[E]=m[E].slice(0,a));return m}function Yc(p,a){return a.area-p.area}function Rl(p,a,g){const m=g.patternDependencies;let y=!1;for(const v of a){const E=v.paint.get(`${p}-pattern`);E.isConstant()||(y=!0);const A=E.constantOr(null);A&&(y=!0,m[A.to]=!0,m[A.from]=!0)}return y}function Dl(p,a,g,m,y){const v=y.patternDependencies;for(const E of a){const A=E.paint.get(`${p}-pattern`).value;if(A.kind!=="constant"){let I=A.evaluate({zoom:m-1},g,{},y.availableImages),R=A.evaluate({zoom:m},g,{},y.availableImages),N=A.evaluate({zoom:m+1},g,{},y.availableImages);I=I&&I.name?I.name:I,R=R&&R.name?R.name:R,N=N&&N.name?N.name:N,v[I]=!0,v[R]=!0,v[N]=!0,g.patterns[E.id]={min:I,mid:R,max:N}}}return g}Ms.exports=Ns,Ms.exports.default=Ns,Ns.deviation=function(p,a,g,m){var y=a&&a.length,v=Math.abs(wl(p,0,y?a[0]*g:p.length,g));if(y)for(var E=0,A=a.length;E<A;E++)v-=Math.abs(wl(p,a[E]*g,E<A-1?a[E+1]*g:p.length,g));var I=0;for(E=0;E<m.length;E+=3){var R=m[E]*g,N=m[E+1]*g,F=m[E+2]*g;I+=Math.abs((p[R]-p[F])*(p[N+1]-p[R+1])-(p[R]-p[N])*(p[F+1]-p[R+1]))}return v===0&&I===0?0:Math.abs((I-v)/v)},Ns.flatten=function(p){for(var a=p[0][0].length,g={vertices:[],holes:[],dimensions:a},m=0,y=0;y<p.length;y++){for(var v=0;v<p[y].length;v++)for(var E=0;E<a;E++)g.vertices.push(p[y][v][E]);y>0&&g.holes.push(m+=p[y-1].length)}return g};class Ll{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(g=>g.id),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Mt,this.indexArray=new bi,this.indexArray2=new dn,this.programConfigurations=new ar(a.layers,a.zoom),this.segments=new Pt,this.segments2=new Pt,this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id)}populate(a,g,m){this.hasPattern=Rl("fill",this.layers,g);const y=this.layers[0].layout.get("fill-sort-key"),v=!y.isConstant(),E=[];for(const{feature:A,id:I,index:R,sourceLayerIndex:N}of a){const F=this.layers[0]._featureFilter.needGeometry,U=lr(A,F);if(!this.layers[0]._featureFilter.filter(new Xt(this.zoom),U,m))continue;const V=v?y.evaluate(U,{},m,g.availableImages):void 0,q={id:I,properties:A.properties,type:A.type,sourceLayerIndex:N,index:R,geometry:F?U.geometry:sr(A),patterns:{},sortKey:V};E.push(q)}v&&E.sort((A,I)=>A.sortKey-I.sortKey);for(const A of E){const{geometry:I,index:R,sourceLayerIndex:N}=A;if(this.hasPattern){const F=Dl("fill",this.layers,A,this.zoom,g);this.patternFeatures.push(F)}else this.addFeature(A,I,R,m,{});g.featureIndex.insert(a[R].feature,I,R,N,this.index)}}update(a,g,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,g,this.stateDependentLayers,m)}addFeatures(a,g,m){for(const y of this.patternFeatures)this.addFeature(y,y.geometry,y.index,g,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Fc),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.indexBuffer2=a.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(a,g,m,y,v){for(const E of Ol(g,500)){let A=0;for(const V of E)A+=V.length;const I=this.segments.prepareSegment(A,this.layoutVertexArray,this.indexArray),R=I.vertexLength,N=[],F=[];for(const V of E){if(V.length===0)continue;V!==E[0]&&F.push(N.length/2);const q=this.segments2.prepareSegment(V.length,this.layoutVertexArray,this.indexArray2),ie=q.vertexLength;this.layoutVertexArray.emplaceBack(V[0].x,V[0].y),this.indexArray2.emplaceBack(ie+V.length-1,ie),N.push(V[0].x),N.push(V[0].y);for(let te=1;te<V.length;te++)this.layoutVertexArray.emplaceBack(V[te].x,V[te].y),this.indexArray2.emplaceBack(ie+te-1,ie+te),N.push(V[te].x),N.push(V[te].y);q.vertexLength+=V.length,q.primitiveLength+=V.length}const U=Ms.exports(N,F);for(let V=0;V<U.length;V+=3)this.indexArray.emplaceBack(R+U[V],R+U[V+1],R+U[V+2]);I.vertexLength+=A,I.primitiveLength+=U.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,v,y)}}We("FillBucket",Ll,{omit:["layers","patternFeatures"]});const Kc=new di({"fill-sort-key":new st(Te.layout_fill["fill-sort-key"])});var Zc={paint:new di({"fill-antialias":new tt(Te.paint_fill["fill-antialias"]),"fill-opacity":new st(Te.paint_fill["fill-opacity"]),"fill-color":new st(Te.paint_fill["fill-color"]),"fill-outline-color":new st(Te.paint_fill["fill-outline-color"]),"fill-translate":new tt(Te.paint_fill["fill-translate"]),"fill-translate-anchor":new tt(Te.paint_fill["fill-translate-anchor"]),"fill-pattern":new tr(Te.paint_fill["fill-pattern"])}),layout:Kc};const Qc=li([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Jc=li([{name:"a_centroid",components:2,type:"Int16"}],4),{members:ep}=Qc;var Io={},tp=He,Tu=Xr;function Xr(p,a,g,m,y){this.properties={},this.extent=g,this.type=0,this._pbf=p,this._geometry=-1,this._keys=m,this._values=y,p.readFields(ip,this,a)}function ip(p,a,g){p==1?a.id=g.readVarint():p==2?function(m,y){for(var v=m.readVarint()+m.pos;m.pos<v;){var E=y._keys[m.readVarint()],A=y._values[m.readVarint()];y.properties[E]=A}}(g,a):p==3?a.type=g.readVarint():p==4&&(a._geometry=g.pos)}function np(p){for(var a,g,m=0,y=0,v=p.length,E=v-1;y<v;E=y++)m+=((g=p[E]).x-(a=p[y]).x)*(a.y+g.y);return m}Xr.types=["Unknown","Point","LineString","Polygon"],Xr.prototype.loadGeometry=function(){var p=this._pbf;p.pos=this._geometry;for(var a,g=p.readVarint()+p.pos,m=1,y=0,v=0,E=0,A=[];p.pos<g;){if(y<=0){var I=p.readVarint();m=7&I,y=I>>3}if(y--,m===1||m===2)v+=p.readSVarint(),E+=p.readSVarint(),m===1&&(a&&A.push(a),a=[]),a.push(new tp(v,E));else{if(m!==7)throw new Error("unknown command "+m);a&&a.push(a[0].clone())}}return a&&A.push(a),A},Xr.prototype.bbox=function(){var p=this._pbf;p.pos=this._geometry;for(var a=p.readVarint()+p.pos,g=1,m=0,y=0,v=0,E=1/0,A=-1/0,I=1/0,R=-1/0;p.pos<a;){if(m<=0){var N=p.readVarint();g=7&N,m=N>>3}if(m--,g===1||g===2)(y+=p.readSVarint())<E&&(E=y),y>A&&(A=y),(v+=p.readSVarint())<I&&(I=v),v>R&&(R=v);else if(g!==7)throw new Error("unknown command "+g)}return[E,I,A,R]},Xr.prototype.toGeoJSON=function(p,a,g){var m,y,v=this.extent*Math.pow(2,g),E=this.extent*p,A=this.extent*a,I=this.loadGeometry(),R=Xr.types[this.type];function N(V){for(var q=0;q<V.length;q++){var ie=V[q];V[q]=[360*(ie.x+E)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(ie.y+A)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var F=[];for(m=0;m<I.length;m++)F[m]=I[m][0];N(I=F);break;case 2:for(m=0;m<I.length;m++)N(I[m]);break;case 3:for(I=function(V){var q=V.length;if(q<=1)return[V];for(var ie,te,ge=[],$e=0;$e<q;$e++){var pe=np(V[$e]);pe!==0&&(te===void 0&&(te=pe<0),te===pe<0?(ie&&ge.push(ie),ie=[V[$e]]):ie.push(V[$e]))}return ie&&ge.push(ie),ge}(I),m=0;m<I.length;m++)for(y=0;y<I[m].length;y++)N(I[m][y])}I.length===1?I=I[0]:R="Multi"+R;var U={type:"Feature",geometry:{type:R,coordinates:I},properties:this.properties};return"id"in this&&(U.id=this.id),U};var op=Tu,Au=Cu;function Cu(p,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=p,this._keys=[],this._values=[],this._features=[],p.readFields(rp,this,a),this.length=this._features.length}function rp(p,a,g){p===15?a.version=g.readVarint():p===1?a.name=g.readString():p===5?a.extent=g.readVarint():p===2?a._features.push(g.pos):p===3?a._keys.push(g.readString()):p===4&&a._values.push(function(m){for(var y=null,v=m.readVarint()+m.pos;m.pos<v;){var E=m.readVarint()>>3;y=E===1?m.readString():E===2?m.readFloat():E===3?m.readDouble():E===4?m.readVarint64():E===5?m.readVarint():E===6?m.readSVarint():E===7?m.readBoolean():null}return y}(g))}Cu.prototype.feature=function(p){if(p<0||p>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[p];var a=this._pbf.readVarint()+this._pbf.pos;return new op(this._pbf,a,this.extent,this._keys,this._values)};var ap=Au;function sp(p,a,g){if(p===3){var m=new ap(g,g.readVarint()+g.pos);m.length&&(a[m.name]=m)}}Io.VectorTile=function(p,a){this.layers=p.readFields(sp,{},a)},Io.VectorTileFeature=Tu,Io.VectorTileLayer=Au;const lp=Io.VectorTileFeature.types,Ml=Math.pow(2,13);function Va(p,a,g,m,y,v,E,A){p.emplaceBack(a,g,2*Math.floor(m*Ml)+E,y*Ml*2,v*Ml*2,Math.round(A))}class Nl{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(g=>g.id),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new Nt,this.centroidVertexArray=new bt,this.indexArray=new bi,this.programConfigurations=new ar(a.layers,a.zoom),this.segments=new Pt,this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id)}populate(a,g,m){this.features=[],this.hasPattern=Rl("fill-extrusion",this.layers,g);for(const{feature:y,id:v,index:E,sourceLayerIndex:A}of a){const I=this.layers[0]._featureFilter.needGeometry,R=lr(y,I);if(!this.layers[0]._featureFilter.filter(new Xt(this.zoom),R,m))continue;const N={id:v,sourceLayerIndex:A,index:E,geometry:I?R.geometry:sr(y),properties:y.properties,type:y.type,patterns:{}};this.hasPattern?this.features.push(Dl("fill-extrusion",this.layers,N,this.zoom,g)):this.addFeature(N,N.geometry,E,m,{}),g.featureIndex.insert(y,N.geometry,E,A,this.index,!0)}}addFeatures(a,g,m){for(const y of this.features){const{geometry:v}=y;this.addFeature(y,v,y.index,g,m)}}update(a,g,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,g,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,ep),this.centroidVertexBuffer=a.createVertexBuffer(this.centroidVertexArray,Jc.members,!0),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(a,g,m,y,v){const E={x:0,y:0,vertexCount:0};for(const A of Ol(g,500)){let I=0;for(const q of A)I+=q.length;let R=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const q of A){if(q.length===0||cp(q))continue;let ie=0;for(let te=0;te<q.length;te++){const ge=q[te];if(te>=1){const $e=q[te-1];if(!up(ge,$e)){R.vertexLength+4>Pt.MAX_VERTEX_ARRAY_LENGTH&&(R=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const pe=ge.sub($e)._perp()._unit(),ye=$e.dist(ge);ie+ye>32768&&(ie=0),Va(this.layoutVertexArray,ge.x,ge.y,pe.x,pe.y,0,0,ie),Va(this.layoutVertexArray,ge.x,ge.y,pe.x,pe.y,0,1,ie),E.x+=2*ge.x,E.y+=2*ge.y,E.vertexCount+=2,ie+=ye,Va(this.layoutVertexArray,$e.x,$e.y,pe.x,pe.y,0,0,ie),Va(this.layoutVertexArray,$e.x,$e.y,pe.x,pe.y,0,1,ie),E.x+=2*$e.x,E.y+=2*$e.y,E.vertexCount+=2;const we=R.vertexLength;this.indexArray.emplaceBack(we,we+2,we+1),this.indexArray.emplaceBack(we+1,we+2,we+3),R.vertexLength+=4,R.primitiveLength+=2}}}}if(R.vertexLength+I>Pt.MAX_VERTEX_ARRAY_LENGTH&&(R=this.segments.prepareSegment(I,this.layoutVertexArray,this.indexArray)),lp[a.type]!=="Polygon")continue;const N=[],F=[],U=R.vertexLength;for(const q of A)if(q.length!==0){q!==A[0]&&F.push(N.length/2);for(let ie=0;ie<q.length;ie++){const te=q[ie];Va(this.layoutVertexArray,te.x,te.y,0,0,1,1,0),E.x+=te.x,E.y+=te.y,E.vertexCount+=1,N.push(te.x),N.push(te.y)}}const V=Ms.exports(N,F);for(let q=0;q<V.length;q+=3)this.indexArray.emplaceBack(U+V[q],U+V[q+2],U+V[q+1]);R.primitiveLength+=V.length/3,R.vertexLength+=I}for(let A=0;A<E.vertexCount;A++)this.centroidVertexArray.emplaceBack(Math.floor(E.x/E.vertexCount),Math.floor(E.y/E.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,v,y)}}function up(p,a){return p.x===a.x&&(p.x<0||p.x>hi)||p.y===a.y&&(p.y<0||p.y>hi)}function cp(p){return p.every(a=>a.x<0)||p.every(a=>a.x>hi)||p.every(a=>a.y<0)||p.every(a=>a.y>hi)}We("FillExtrusionBucket",Nl,{omit:["layers","features"]});var pp={paint:new di({"fill-extrusion-opacity":new tt(Te["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new st(Te["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new tt(Te["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new tt(Te["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new tr(Te["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new st(Te["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new st(Te["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new tt(Te["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Ga(p,a){return p.x*a.x+p.y*a.y}function Iu(p,a){if(p.length===1){let g=0;const m=a[g++];let y;for(;!y||m.equals(y);)if(y=a[g++],!y)return 1/0;for(;g<a.length;g++){const v=a[g],E=p[0],A=y.sub(m),I=v.sub(m),R=E.sub(m),N=Ga(A,A),F=Ga(A,I),U=Ga(I,I),V=Ga(R,A),q=Ga(R,I),ie=N*U-F*F,te=(U*V-F*q)/ie,ge=(N*q-F*V)/ie,$e=m.z*(1-te-ge)+y.z*te+v.z*ge;if(isFinite($e))return $e}return 1/0}{let g=1/0;for(const m of a)g=Math.min(g,m.z);return g}}const gp=li([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:dp}=gp,hp=li([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:mp}=hp,fp=Io.VectorTileFeature.types,_p=Math.cos(Math.PI/180*37.5),Pu=Math.pow(2,14)/.5;class zl{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(g=>g.id),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(g=>{this.gradients[g.id]={}}),this.layoutVertexArray=new Tt,this.layoutVertexArray2=new Ct,this.indexArray=new bi,this.programConfigurations=new ar(a.layers,a.zoom),this.segments=new Pt,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id)}populate(a,g,m){this.hasPattern=Rl("line",this.layers,g);const y=this.layers[0].layout.get("line-sort-key"),v=!y.isConstant(),E=[];for(const{feature:A,id:I,index:R,sourceLayerIndex:N}of a){const F=this.layers[0]._featureFilter.needGeometry,U=lr(A,F);if(!this.layers[0]._featureFilter.filter(new Xt(this.zoom),U,m))continue;const V=v?y.evaluate(U,{},m):void 0,q={id:I,properties:A.properties,type:A.type,sourceLayerIndex:N,index:R,geometry:F?U.geometry:sr(A),patterns:{},sortKey:V};E.push(q)}v&&E.sort((A,I)=>A.sortKey-I.sortKey);for(const A of E){const{geometry:I,index:R,sourceLayerIndex:N}=A;if(this.hasPattern){const F=Dl("line",this.layers,A,this.zoom,g);this.patternFeatures.push(F)}else this.addFeature(A,I,R,m,{});g.featureIndex.insert(a[R].feature,I,R,N,this.index)}}update(a,g,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,g,this.stateDependentLayers,m)}addFeatures(a,g,m){for(const y of this.patternFeatures)this.addFeature(y,y.geometry,y.index,g,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=a.createVertexBuffer(this.layoutVertexArray2,mp)),this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,dp),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(a){if(a.properties&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_end"))return{start:+a.properties.mapbox_clip_start,end:+a.properties.mapbox_clip_end}}addFeature(a,g,m,y,v){const E=this.layers[0].layout,A=E.get("line-join").evaluate(a,{}),I=E.get("line-cap"),R=E.get("line-miter-limit"),N=E.get("line-round-limit");this.lineClips=this.lineFeatureClips(a);for(const F of g)this.addLine(F,a,A,I,R,N);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,v,y)}addLine(a,g,m,y,v,E){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ge=0;ge<a.length-1;ge++)this.totalDistance+=a[ge].dist(a[ge+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const A=fp[g.type]==="Polygon";let I=a.length;for(;I>=2&&a[I-1].equals(a[I-2]);)I--;let R=0;for(;R<I-1&&a[R].equals(a[R+1]);)R++;if(I<(A?3:2))return;m==="bevel"&&(v=1.05);const N=this.overscaling<=16?122880/(512*this.overscaling):0,F=this.segments.prepareSegment(10*I,this.layoutVertexArray,this.indexArray);let U,V,q,ie,te;this.e1=this.e2=-1,A&&(U=a[I-2],te=a[R].sub(U)._unit()._perp());for(let ge=R;ge<I;ge++){if(q=ge===I-1?A?a[R+1]:void 0:a[ge+1],q&&a[ge].equals(q))continue;te&&(ie=te),U&&(V=U),U=a[ge],te=q?q.sub(U)._unit()._perp():ie,ie=ie||te;let $e=ie.add(te);$e.x===0&&$e.y===0||$e._unit();const pe=ie.x*te.x+ie.y*te.y,ye=$e.x*te.x+$e.y*te.y,we=ye!==0?1/ye:1/0,Pe=2*Math.sqrt(2-2*ye),Ke=ye<_p&&V&&q,Je=ie.x*te.y-ie.y*te.x>0;if(Ke&&ge>R){const Le=U.dist(V);if(Le>2*N){const je=U.sub(U.sub(V)._mult(N/Le)._round());this.updateDistance(V,je),this.addCurrentVertex(je,ie,0,0,F),V=je}}const Ue=V&&q;let ze=Ue?m:A?"butt":y;if(Ue&&ze==="round"&&(we<E?ze="miter":we<=2&&(ze="fakeround")),ze==="miter"&&we>v&&(ze="bevel"),ze==="bevel"&&(we>2&&(ze="flipbevel"),we<v&&(ze="miter")),V&&this.updateDistance(V,U),ze==="miter")$e._mult(we),this.addCurrentVertex(U,$e,0,0,F);else if(ze==="flipbevel"){if(we>100)$e=te.mult(-1);else{const Le=we*ie.add(te).mag()/ie.sub(te).mag();$e._perp()._mult(Le*(Je?-1:1))}this.addCurrentVertex(U,$e,0,0,F),this.addCurrentVertex(U,$e.mult(-1),0,0,F)}else if(ze==="bevel"||ze==="fakeround"){const Le=-Math.sqrt(we*we-1),je=Je?Le:0,ke=Je?0:Le;if(V&&this.addCurrentVertex(U,ie,je,ke,F),ze==="fakeround"){const Re=Math.round(180*Pe/Math.PI/20);for(let rt=1;rt<Re;rt++){let it=rt/Re;if(it!==.5){const Ht=it-.5;it+=it*Ht*(it-1)*((1.0904+pe*(pe*(3.55645-1.43519*pe)-3.2452))*Ht*Ht+(.848013+pe*(.215638*pe-1.06021)))}const vt=te.sub(ie)._mult(it)._add(ie)._unit()._mult(Je?-1:1);this.addHalfVertex(U,vt.x,vt.y,!1,Je,0,F)}}q&&this.addCurrentVertex(U,te,-je,-ke,F)}else if(ze==="butt")this.addCurrentVertex(U,$e,0,0,F);else if(ze==="square"){const Le=V?1:-1;this.addCurrentVertex(U,$e,Le,Le,F)}else ze==="round"&&(V&&(this.addCurrentVertex(U,ie,0,0,F),this.addCurrentVertex(U,ie,1,1,F,!0)),q&&(this.addCurrentVertex(U,te,-1,-1,F,!0),this.addCurrentVertex(U,te,0,0,F)));if(Ke&&ge<I-1){const Le=U.dist(q);if(Le>2*N){const je=U.add(q.sub(U)._mult(N/Le)._round());this.updateDistance(U,je),this.addCurrentVertex(je,te,0,0,F),U=je}}}}addCurrentVertex(a,g,m,y,v,E=!1){const A=g.y*y-g.x,I=-g.y-g.x*y;this.addHalfVertex(a,g.x+g.y*m,g.y-g.x*m,E,!1,m,v),this.addHalfVertex(a,A,I,E,!0,-y,v),this.distance>Pu/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(a,g,m,y,v,E))}addHalfVertex({x:a,y:g},m,y,v,E,A,I){const R=.5*(this.lineClips?this.scaledDistance*(Pu-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((a<<1)+(v?1:0),(g<<1)+(E?1:0),Math.round(63*m)+128,Math.round(63*y)+128,1+(A===0?0:A<0?-1:1)|(63&R)<<2,R>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const N=I.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,N),I.primitiveLength++),E?this.e2=N:this.e1=N}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(a,g){this.distance+=a.dist(g),this.updateScaledDistance()}}We("LineBucket",zl,{omit:["layers","patternFeatures"]});const yp=new di({"line-cap":new tt(Te.layout_line["line-cap"]),"line-join":new st(Te.layout_line["line-join"]),"line-miter-limit":new tt(Te.layout_line["line-miter-limit"]),"line-round-limit":new tt(Te.layout_line["line-round-limit"]),"line-sort-key":new st(Te.layout_line["line-sort-key"])});var wu={paint:new di({"line-opacity":new st(Te.paint_line["line-opacity"]),"line-color":new st(Te.paint_line["line-color"]),"line-translate":new tt(Te.paint_line["line-translate"]),"line-translate-anchor":new tt(Te.paint_line["line-translate-anchor"]),"line-width":new st(Te.paint_line["line-width"]),"line-gap-width":new st(Te.paint_line["line-gap-width"]),"line-offset":new st(Te.paint_line["line-offset"]),"line-blur":new st(Te.paint_line["line-blur"]),"line-dasharray":new ir(Te.paint_line["line-dasharray"]),"line-pattern":new tr(Te.paint_line["line-pattern"]),"line-gradient":new Da(Te.paint_line["line-gradient"])}),layout:yp};const Ou=new class extends st{possiblyEvaluate(p,a){return a=new Xt(Math.floor(a.zoom),{now:a.now,fadeDuration:a.fadeDuration,zoomHistory:a.zoomHistory,transition:a.transition}),super.possiblyEvaluate(p,a)}evaluate(p,a,g,m){return a=K({},a,{zoom:Math.floor(a.zoom)}),super.evaluate(p,a,g,m)}}(wu.paint.properties["line-width"].specification);function Ru(p,a){return a>0?a+2*p:p}Ou.useIntegerZoom=!0;const $p=li([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),bp=li([{name:"a_projected_pos",components:3,type:"Float32"}],4);li([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const vp=li([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);li([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Du=li([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),xp=li([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Ep(p,a,g){return p.sections.forEach(m=>{m.text=function(y,v,E){const A=v.layout.get("text-transform").evaluate(E,{});return A==="uppercase"?y=y.toLocaleUpperCase():A==="lowercase"&&(y=y.toLocaleLowerCase()),tn.applyArabicShaping&&(y=tn.applyArabicShaping(y)),y}(m.text,a,g)}),p}li([{name:"triangle",components:3,type:"Uint16"}]),li([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),li([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),li([{type:"Float32",name:"offsetX"}]),li([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const qa={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var vi=24,Fl=zt,Lu=function(p,a,g,m,y){var v,E,A=8*y-m-1,I=(1<<A)-1,R=I>>1,N=-7,F=y-1,U=-1,V=p[a+F];for(F+=U,v=V&(1<<-N)-1,V>>=-N,N+=A;N>0;v=256*v+p[a+F],F+=U,N-=8);for(E=v&(1<<-N)-1,v>>=-N,N+=m;N>0;E=256*E+p[a+F],F+=U,N-=8);if(v===0)v=1-R;else{if(v===I)return E?NaN:1/0*(V?-1:1);E+=Math.pow(2,m),v-=R}return(V?-1:1)*E*Math.pow(2,v-m)},Mu=function(p,a,g,m,y,v){var E,A,I,R=8*v-y-1,N=(1<<R)-1,F=N>>1,U=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,V=0,q=1,ie=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(A=isNaN(a)?1:0,E=N):(E=Math.floor(Math.log(a)/Math.LN2),a*(I=Math.pow(2,-E))<1&&(E--,I*=2),(a+=E+F>=1?U/I:U*Math.pow(2,1-F))*I>=2&&(E++,I/=2),E+F>=N?(A=0,E=N):E+F>=1?(A=(a*I-1)*Math.pow(2,y),E+=F):(A=a*Math.pow(2,F-1)*Math.pow(2,y),E=0));y>=8;p[g+V]=255&A,V+=q,A/=256,y-=8);for(E=E<<y|A,R+=y;R>0;p[g+V]=255&E,V+=q,E/=256,R-=8);p[g+V-q]|=128*ie};function zt(p){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(p)?p:new Uint8Array(p||0),this.pos=0,this.type=0,this.length=this.buf.length}zt.Varint=0,zt.Fixed64=1,zt.Bytes=2,zt.Fixed32=5;var Po,kl=4294967296,Nu=1/kl,zu=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function no(p){return p.type===zt.Bytes?p.readVarint()+p.pos:p.pos+1}function Wr(p,a,g){return g?4294967296*a+(p>>>0):4294967296*(a>>>0)+(p>>>0)}function Fu(p,a,g){var m=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));g.realloc(m);for(var y=g.pos-1;y>=p;y--)g.buf[y+m]=g.buf[y]}function Sp(p,a){for(var g=0;g<p.length;g++)a.writeVarint(p[g])}function Tp(p,a){for(var g=0;g<p.length;g++)a.writeSVarint(p[g])}function Ap(p,a){for(var g=0;g<p.length;g++)a.writeFloat(p[g])}function Cp(p,a){for(var g=0;g<p.length;g++)a.writeDouble(p[g])}function Ip(p,a){for(var g=0;g<p.length;g++)a.writeBoolean(p[g])}function Pp(p,a){for(var g=0;g<p.length;g++)a.writeFixed32(p[g])}function wp(p,a){for(var g=0;g<p.length;g++)a.writeSFixed32(p[g])}function Op(p,a){for(var g=0;g<p.length;g++)a.writeFixed64(p[g])}function Rp(p,a){for(var g=0;g<p.length;g++)a.writeSFixed64(p[g])}function Bs(p,a){return(p[a]|p[a+1]<<8|p[a+2]<<16)+16777216*p[a+3]}function Yr(p,a,g){p[g]=a,p[g+1]=a>>>8,p[g+2]=a>>>16,p[g+3]=a>>>24}function ku(p,a){return(p[a]|p[a+1]<<8|p[a+2]<<16)+(p[a+3]<<24)}function Dp(p,a,g){p===1&&g.readMessage(Lp,a)}function Lp(p,a,g){if(p===3){const{id:m,bitmap:y,width:v,height:E,left:A,top:I,advance:R}=g.readMessage(Mp,{});a.push({id:m,bitmap:new Fa({width:v+6,height:E+6},y),metrics:{width:v,height:E,left:A,top:I,advance:R}})}}function Mp(p,a,g){p===1?a.id=g.readVarint():p===2?a.bitmap=g.readBytes():p===3?a.width=g.readVarint():p===4?a.height=g.readVarint():p===5?a.left=g.readSVarint():p===6?a.top=g.readSVarint():p===7&&(a.advance=g.readVarint())}function Bu(p){let a=0,g=0;for(const E of p)a+=E.w*E.h,g=Math.max(g,E.w);p.sort((E,A)=>A.h-E.h);const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),g),h:1/0}];let y=0,v=0;for(const E of p)for(let A=m.length-1;A>=0;A--){const I=m[A];if(!(E.w>I.w||E.h>I.h)){if(E.x=I.x,E.y=I.y,v=Math.max(v,E.y+E.h),y=Math.max(y,E.x+E.w),E.w===I.w&&E.h===I.h){const R=m.pop();A<m.length&&(m[A]=R)}else E.h===I.h?(I.x+=E.w,I.w-=E.w):E.w===I.w?(I.y+=E.h,I.h-=E.h):(m.push({x:I.x+E.w,y:I.y,w:I.w-E.w,h:E.h}),I.y+=E.h,I.h-=E.h);break}}return{w:y,h:v,fill:a/(y*v)||0}}zt.prototype={destroy:function(){this.buf=null},readFields:function(p,a,g){for(g=g||this.length;this.pos<g;){var m=this.readVarint(),y=m>>3,v=this.pos;this.type=7&m,p(y,a,this),this.pos===v&&this.skip(m)}return a},readMessage:function(p,a){return this.readFields(p,a,this.readVarint()+this.pos)},readFixed32:function(){var p=Bs(this.buf,this.pos);return this.pos+=4,p},readSFixed32:function(){var p=ku(this.buf,this.pos);return this.pos+=4,p},readFixed64:function(){var p=Bs(this.buf,this.pos)+Bs(this.buf,this.pos+4)*kl;return this.pos+=8,p},readSFixed64:function(){var p=Bs(this.buf,this.pos)+ku(this.buf,this.pos+4)*kl;return this.pos+=8,p},readFloat:function(){var p=Lu(this.buf,this.pos,!0,23,4);return this.pos+=4,p},readDouble:function(){var p=Lu(this.buf,this.pos,!0,52,8);return this.pos+=8,p},readVarint:function(p){var a,g,m=this.buf;return a=127&(g=m[this.pos++]),g<128?a:(a|=(127&(g=m[this.pos++]))<<7,g<128?a:(a|=(127&(g=m[this.pos++]))<<14,g<128?a:(a|=(127&(g=m[this.pos++]))<<21,g<128?a:function(y,v,E){var A,I,R=E.buf;if(A=(112&(I=R[E.pos++]))>>4,I<128||(A|=(127&(I=R[E.pos++]))<<3,I<128)||(A|=(127&(I=R[E.pos++]))<<10,I<128)||(A|=(127&(I=R[E.pos++]))<<17,I<128)||(A|=(127&(I=R[E.pos++]))<<24,I<128)||(A|=(1&(I=R[E.pos++]))<<31,I<128))return Wr(y,A,v);throw new Error("Expected varint not more than 10 bytes")}(a|=(15&(g=m[this.pos]))<<28,p,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var p=this.readVarint();return p%2==1?(p+1)/-2:p/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var p=this.readVarint()+this.pos,a=this.pos;return this.pos=p,p-a>=12&&zu?function(g,m,y){return zu.decode(g.subarray(m,y))}(this.buf,a,p):function(g,m,y){for(var v="",E=m;E<y;){var A,I,R,N=g[E],F=null,U=N>239?4:N>223?3:N>191?2:1;if(E+U>y)break;U===1?N<128&&(F=N):U===2?(192&(A=g[E+1]))==128&&(F=(31&N)<<6|63&A)<=127&&(F=null):U===3?(I=g[E+2],(192&(A=g[E+1]))==128&&(192&I)==128&&((F=(15&N)<<12|(63&A)<<6|63&I)<=2047||F>=55296&&F<=57343)&&(F=null)):U===4&&(I=g[E+2],R=g[E+3],(192&(A=g[E+1]))==128&&(192&I)==128&&(192&R)==128&&((F=(15&N)<<18|(63&A)<<12|(63&I)<<6|63&R)<=65535||F>=1114112)&&(F=null)),F===null?(F=65533,U=1):F>65535&&(F-=65536,v+=String.fromCharCode(F>>>10&1023|55296),F=56320|1023&F),v+=String.fromCharCode(F),E+=U}return v}(this.buf,a,p)},readBytes:function(){var p=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,p);return this.pos=p,a},readPackedVarint:function(p,a){if(this.type!==zt.Bytes)return p.push(this.readVarint(a));var g=no(this);for(p=p||[];this.pos<g;)p.push(this.readVarint(a));return p},readPackedSVarint:function(p){if(this.type!==zt.Bytes)return p.push(this.readSVarint());var a=no(this);for(p=p||[];this.pos<a;)p.push(this.readSVarint());return p},readPackedBoolean:function(p){if(this.type!==zt.Bytes)return p.push(this.readBoolean());var a=no(this);for(p=p||[];this.pos<a;)p.push(this.readBoolean());return p},readPackedFloat:function(p){if(this.type!==zt.Bytes)return p.push(this.readFloat());var a=no(this);for(p=p||[];this.pos<a;)p.push(this.readFloat());return p},readPackedDouble:function(p){if(this.type!==zt.Bytes)return p.push(this.readDouble());var a=no(this);for(p=p||[];this.pos<a;)p.push(this.readDouble());return p},readPackedFixed32:function(p){if(this.type!==zt.Bytes)return p.push(this.readFixed32());var a=no(this);for(p=p||[];this.pos<a;)p.push(this.readFixed32());return p},readPackedSFixed32:function(p){if(this.type!==zt.Bytes)return p.push(this.readSFixed32());var a=no(this);for(p=p||[];this.pos<a;)p.push(this.readSFixed32());return p},readPackedFixed64:function(p){if(this.type!==zt.Bytes)return p.push(this.readFixed64());var a=no(this);for(p=p||[];this.pos<a;)p.push(this.readFixed64());return p},readPackedSFixed64:function(p){if(this.type!==zt.Bytes)return p.push(this.readSFixed64());var a=no(this);for(p=p||[];this.pos<a;)p.push(this.readSFixed64());return p},skip:function(p){var a=7&p;if(a===zt.Varint)for(;this.buf[this.pos++]>127;);else if(a===zt.Bytes)this.pos=this.readVarint()+this.pos;else if(a===zt.Fixed32)this.pos+=4;else{if(a!==zt.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(p,a){this.writeVarint(p<<3|a)},realloc:function(p){for(var a=this.length||16;a<this.pos+p;)a*=2;if(a!==this.length){var g=new Uint8Array(a);g.set(this.buf),this.buf=g,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(p){this.realloc(4),Yr(this.buf,p,this.pos),this.pos+=4},writeSFixed32:function(p){this.realloc(4),Yr(this.buf,p,this.pos),this.pos+=4},writeFixed64:function(p){this.realloc(8),Yr(this.buf,-1&p,this.pos),Yr(this.buf,Math.floor(p*Nu),this.pos+4),this.pos+=8},writeSFixed64:function(p){this.realloc(8),Yr(this.buf,-1&p,this.pos),Yr(this.buf,Math.floor(p*Nu),this.pos+4),this.pos+=8},writeVarint:function(p){(p=+p||0)>268435455||p<0?function(a,g){var m,y;if(a>=0?(m=a%4294967296|0,y=a/4294967296|0):(y=~(-a/4294967296),4294967295^(m=~(-a%4294967296))?m=m+1|0:(m=0,y=y+1|0)),a>=18446744073709552e3||a<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");g.realloc(10),function(v,E,A){A.buf[A.pos++]=127&v|128,v>>>=7,A.buf[A.pos++]=127&v|128,v>>>=7,A.buf[A.pos++]=127&v|128,v>>>=7,A.buf[A.pos++]=127&v|128,A.buf[A.pos]=127&(v>>>=7)}(m,0,g),function(v,E){var A=(7&v)<<4;E.buf[E.pos++]|=A|((v>>>=3)?128:0),v&&(E.buf[E.pos++]=127&v|((v>>>=7)?128:0),v&&(E.buf[E.pos++]=127&v|((v>>>=7)?128:0),v&&(E.buf[E.pos++]=127&v|((v>>>=7)?128:0),v&&(E.buf[E.pos++]=127&v|((v>>>=7)?128:0),v&&(E.buf[E.pos++]=127&v)))))}(y,g)}(p,this):(this.realloc(4),this.buf[this.pos++]=127&p|(p>127?128:0),p<=127||(this.buf[this.pos++]=127&(p>>>=7)|(p>127?128:0),p<=127||(this.buf[this.pos++]=127&(p>>>=7)|(p>127?128:0),p<=127||(this.buf[this.pos++]=p>>>7&127))))},writeSVarint:function(p){this.writeVarint(p<0?2*-p-1:2*p)},writeBoolean:function(p){this.writeVarint(!!p)},writeString:function(p){p=String(p),this.realloc(4*p.length),this.pos++;var a=this.pos;this.pos=function(m,y,v){for(var E,A,I=0;I<y.length;I++){if((E=y.charCodeAt(I))>55295&&E<57344){if(!A){E>56319||I+1===y.length?(m[v++]=239,m[v++]=191,m[v++]=189):A=E;continue}if(E<56320){m[v++]=239,m[v++]=191,m[v++]=189,A=E;continue}E=A-55296<<10|E-56320|65536,A=null}else A&&(m[v++]=239,m[v++]=191,m[v++]=189,A=null);E<128?m[v++]=E:(E<2048?m[v++]=E>>6|192:(E<65536?m[v++]=E>>12|224:(m[v++]=E>>18|240,m[v++]=E>>12&63|128),m[v++]=E>>6&63|128),m[v++]=63&E|128)}return v}(this.buf,p,this.pos);var g=this.pos-a;g>=128&&Fu(a,g,this),this.pos=a-1,this.writeVarint(g),this.pos+=g},writeFloat:function(p){this.realloc(4),Mu(this.buf,p,this.pos,!0,23,4),this.pos+=4},writeDouble:function(p){this.realloc(8),Mu(this.buf,p,this.pos,!0,52,8),this.pos+=8},writeBytes:function(p){var a=p.length;this.writeVarint(a),this.realloc(a);for(var g=0;g<a;g++)this.buf[this.pos++]=p[g]},writeRawMessage:function(p,a){this.pos++;var g=this.pos;p(a,this);var m=this.pos-g;m>=128&&Fu(g,m,this),this.pos=g-1,this.writeVarint(m),this.pos+=m},writeMessage:function(p,a,g){this.writeTag(p,zt.Bytes),this.writeRawMessage(a,g)},writePackedVarint:function(p,a){a.length&&this.writeMessage(p,Sp,a)},writePackedSVarint:function(p,a){a.length&&this.writeMessage(p,Tp,a)},writePackedBoolean:function(p,a){a.length&&this.writeMessage(p,Ip,a)},writePackedFloat:function(p,a){a.length&&this.writeMessage(p,Ap,a)},writePackedDouble:function(p,a){a.length&&this.writeMessage(p,Cp,a)},writePackedFixed32:function(p,a){a.length&&this.writeMessage(p,Pp,a)},writePackedSFixed32:function(p,a){a.length&&this.writeMessage(p,wp,a)},writePackedFixed64:function(p,a){a.length&&this.writeMessage(p,Op,a)},writePackedSFixed64:function(p,a){a.length&&this.writeMessage(p,Rp,a)},writeBytesField:function(p,a){this.writeTag(p,zt.Bytes),this.writeBytes(a)},writeFixed32Field:function(p,a){this.writeTag(p,zt.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(p,a){this.writeTag(p,zt.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(p,a){this.writeTag(p,zt.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(p,a){this.writeTag(p,zt.Fixed64),this.writeSFixed64(a)},writeVarintField:function(p,a){this.writeTag(p,zt.Varint),this.writeVarint(a)},writeSVarintField:function(p,a){this.writeTag(p,zt.Varint),this.writeSVarint(a)},writeStringField:function(p,a){this.writeTag(p,zt.Bytes),this.writeString(a)},writeFloatField:function(p,a){this.writeTag(p,zt.Fixed32),this.writeFloat(a)},writeDoubleField:function(p,a){this.writeTag(p,zt.Fixed64),this.writeDouble(a)},writeBooleanField:function(p,a){this.writeVarintField(p,!!a)}};class Bl{constructor(a,{pixelRatio:g,version:m,stretchX:y,stretchY:v,content:E}){this.paddedRect=a,this.pixelRatio=g,this.stretchX=y,this.stretchY=v,this.content=E,this.version=m}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Uu{constructor(a,g){const m={},y={};this.haveRenderCallbacks=[];const v=[];this.addImages(a,m,v),this.addImages(g,y,v);const{w:E,h:A}=Bu(v),I=new mn({width:E||1,height:A||1});for(const R in a){const N=a[R],F=m[R].paddedRect;mn.copy(N.data,I,{x:0,y:0},{x:F.x+1,y:F.y+1},N.data)}for(const R in g){const N=g[R],F=y[R].paddedRect,U=F.x+1,V=F.y+1,q=N.data.width,ie=N.data.height;mn.copy(N.data,I,{x:0,y:0},{x:U,y:V},N.data),mn.copy(N.data,I,{x:0,y:ie-1},{x:U,y:V-1},{width:q,height:1}),mn.copy(N.data,I,{x:0,y:0},{x:U,y:V+ie},{width:q,height:1}),mn.copy(N.data,I,{x:q-1,y:0},{x:U-1,y:V},{width:1,height:ie}),mn.copy(N.data,I,{x:0,y:0},{x:U+q,y:V},{width:1,height:ie})}this.image=I,this.iconPositions=m,this.patternPositions=y}addImages(a,g,m){for(const y in a){const v=a[y],E={x:0,y:0,w:v.data.width+2,h:v.data.height+2};m.push(E),g[y]=new Bl(E,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(y)}}patchUpdatedImages(a,g){a.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in a.updatedImages)this.patchUpdatedImage(this.iconPositions[m],a.getImage(m),g),this.patchUpdatedImage(this.patternPositions[m],a.getImage(m),g)}patchUpdatedImage(a,g,m){if(!a||!g||a.version===g.version)return;a.version=g.version;const[y,v]=a.tl;m.update(g.data,void 0,{x:y,y:v})}}We("ImagePosition",Bl),We("ImageAtlas",Uu),c.WritingMode=void 0,(Po=c.WritingMode||(c.WritingMode={}))[Po.none=0]="none",Po[Po.horizontal=1]="horizontal",Po[Po.vertical=2]="vertical",Po[Po.horizontalOnly=3]="horizontalOnly";const Us=-17;class Ha{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(a,g){const m=new Ha;return m.scale=a||1,m.fontStack=g,m}static forImage(a){const g=new Ha;return g.imageName=a,g}}class Kr{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(a,g){const m=new Kr;for(let y=0;y<a.sections.length;y++){const v=a.sections[y];v.image?m.addImageSection(v):m.addTextSection(v,g)}return m}length(){return this.text.length}getSection(a){return this.sections[this.sectionIndex[a]]}getSectionIndex(a){return this.sectionIndex[a]}getCharCode(a){return this.text.charCodeAt(a)}verticalizePunctuation(){this.text=function(a){let g="";for(let m=0;m<a.length;m++){const y=a.charCodeAt(m+1)||null,v=a.charCodeAt(m-1)||null;g+=y&&Ts(y)&&!qa[a[m+1]]||v&&Ts(v)&&!qa[a[m-1]]||!qa[a[m]]?a[m]:qa[a[m]]}return g}(this.text)}trim(){let a=0;for(let m=0;m<this.text.length&&Vs[this.text.charCodeAt(m)];m++)a++;let g=this.text.length;for(let m=this.text.length-1;m>=0&&m>=a&&Vs[this.text.charCodeAt(m)];m--)g--;this.text=this.text.substring(a,g),this.sectionIndex=this.sectionIndex.slice(a,g)}substring(a,g){const m=new Kr;return m.text=this.text.substring(a,g),m.sectionIndex=this.sectionIndex.slice(a,g),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((a,g)=>Math.max(a,this.sections[g].scale),0)}addTextSection(a,g){this.text+=a.text,this.sections.push(Ha.forText(a.scale,a.fontStack||g));const m=this.sections.length-1;for(let y=0;y<a.text.length;++y)this.sectionIndex.push(m)}addImageSection(a){const g=a.image?a.image.name:"";if(g.length===0)return void Ze("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(Ha.forImage(g)),this.sectionIndex.push(this.sections.length-1)):Ze("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function js(p,a,g,m,y,v,E,A,I,R,N,F,U,V,q,ie){const te=Kr.fromFeature(p,y);let ge;F===c.WritingMode.vertical&&te.verticalizePunctuation();const{processBidirectionalText:$e,processStyledBidirectionalText:pe}=tn;if($e&&te.sections.length===1){ge=[];const Pe=$e(te.toString(),Ul(te,R,v,a,m,V,q));for(const Ke of Pe){const Je=new Kr;Je.text=Ke,Je.sections=te.sections;for(let Ue=0;Ue<Ke.length;Ue++)Je.sectionIndex.push(0);ge.push(Je)}}else if(pe){ge=[];const Pe=pe(te.text,te.sectionIndex,Ul(te,R,v,a,m,V,q));for(const Ke of Pe){const Je=new Kr;Je.text=Ke[0],Je.sectionIndex=Ke[1],Je.sections=te.sections,ge.push(Je)}}else ge=function(Pe,Ke){const Je=[],Ue=Pe.text;let ze=0;for(const Le of Ke)Je.push(Pe.substring(ze,Le)),ze=Le;return ze<Ue.length&&Je.push(Pe.substring(ze,Ue.length)),Je}(te,Ul(te,R,v,a,m,V,q));const ye=[],we={positionedLines:ye,text:te.toString(),top:N[1],bottom:N[1],left:N[0],right:N[0],writingMode:F,iconsInText:!1,verticalizable:!1};return function(Pe,Ke,Je,Ue,ze,Le,je,ke,Re,rt,it,vt){let Ht=0,Yt=Us,mi=0,_n=0;const Si=ke==="right"?1:ke==="left"?0:.5;let ci=0;for(const gi of ze){gi.trim();const Ai=gi.getMaxScale(),Li=(Ai-1)*vi,Vi={positionedGlyphs:[],lineOffset:0};Pe.positionedLines[ci]=Vi;const Ki=Vi.positionedGlyphs;let Zi=0;if(!gi.length()){Yt+=Le,++ci;continue}for(let _i=0;_i<gi.length();_i++){const Et=gi.getSection(_i),on=gi.getSectionIndex(_i),Ci=gi.getCharCode(_i);let Mi=0,Tn=null,Rn=null,Dn=null,ro=vi;const An=!(Re===c.WritingMode.horizontal||!it&&!er(Ci)||it&&(Vs[Ci]||(fi=Ci,Be.Arabic(fi)||Be["Arabic Supplement"](fi)||Be["Arabic Extended-A"](fi)||Be["Arabic Presentation Forms-A"](fi)||Be["Arabic Presentation Forms-B"](fi))));if(Et.imageName){const yn=Ue[Et.imageName];if(!yn)continue;Dn=Et.imageName,Pe.iconsInText=Pe.iconsInText||!0,Rn=yn.paddedRect;const Qi=yn.displaySize;Et.scale=Et.scale*vi/vt,Tn={width:Qi[0],height:Qi[1],left:1,top:-3,advance:An?Qi[1]:Qi[0]},Mi=Li+(vi-Qi[1]*Et.scale),ro=Tn.advance;const ao=An?Qi[0]*Et.scale-vi*Ai:Qi[1]*Et.scale-vi*Ai;ao>0&&ao>Zi&&(Zi=ao)}else{const yn=Je[Et.fontStack],Qi=yn&&yn[Ci];if(Qi&&Qi.rect)Rn=Qi.rect,Tn=Qi.metrics;else{const ao=Ke[Et.fontStack],Ya=ao&&ao[Ci];if(!Ya)continue;Tn=Ya.metrics}Mi=(Ai-Et.scale)*vi}An?(Pe.verticalizable=!0,Ki.push({glyph:Ci,imageName:Dn,x:Ht,y:Yt+Mi,vertical:An,scale:Et.scale,fontStack:Et.fontStack,sectionIndex:on,metrics:Tn,rect:Rn}),Ht+=ro*Et.scale+rt):(Ki.push({glyph:Ci,imageName:Dn,x:Ht,y:Yt+Mi,vertical:An,scale:Et.scale,fontStack:Et.fontStack,sectionIndex:on,metrics:Tn,rect:Rn}),Ht+=Tn.advance*Et.scale+rt)}Ki.length!==0&&(mi=Math.max(Ht-rt,mi),Fp(Ki,0,Ki.length-1,Si,Zi)),Ht=0;const ei=Le*Ai+Zi;Vi.lineOffset=Math.max(Zi,Li),Yt+=ei,_n=Math.max(ei,_n),++ci}var fi;const Ti=Yt-Us,{horizontalAlign:Di,verticalAlign:Yi}=jl(je);(function(gi,Ai,Li,Vi,Ki,Zi,ei,_i,Et){const on=(Ai-Li)*Ki;let Ci=0;Ci=Zi!==ei?-_i*Vi-Us:(-Vi*Et+.5)*ei;for(const Mi of gi)for(const Tn of Mi.positionedGlyphs)Tn.x+=on,Tn.y+=Ci})(Pe.positionedLines,Si,Di,Yi,mi,_n,Le,Ti,ze.length),Pe.top+=-Yi*Ti,Pe.bottom=Pe.top+Ti,Pe.left+=-Di*mi,Pe.right=Pe.left+mi}(we,a,g,m,ge,E,A,I,F,R,U,ie),!function(Pe){for(const Ke of Pe)if(Ke.positionedGlyphs.length!==0)return!1;return!0}(ye)&&we}const Vs={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Np={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function ju(p,a,g,m,y,v){if(a.imageName){const E=m[a.imageName];return E?E.displaySize[0]*a.scale*vi/v+y:0}{const E=g[a.fontStack],A=E&&E[p];return A?A.metrics.advance*a.scale+y:0}}function Vu(p,a,g,m){const y=Math.pow(p-a,2);return m?p<a?y/2:2*y:y+Math.abs(g)*g}function zp(p,a,g){let m=0;return p===10&&(m-=1e4),g&&(m+=150),p!==40&&p!==65288||(m+=50),a!==41&&a!==65289||(m+=50),m}function Gu(p,a,g,m,y,v){let E=null,A=Vu(a,g,y,v);for(const I of m){const R=Vu(a-I.x,g,y,v)+I.badness;R<=A&&(E=I,A=R)}return{index:p,x:a,priorBreak:E,badness:A}}function qu(p){return p?qu(p.priorBreak).concat(p.index):[]}function Ul(p,a,g,m,y,v,E){if(v!=="point")return[];if(!p)return[];const A=[],I=function(U,V,q,ie,te,ge){let $e=0;for(let pe=0;pe<U.length();pe++){const ye=U.getSection(pe);$e+=ju(U.getCharCode(pe),ye,ie,te,V,ge)}return $e/Math.max(1,Math.ceil($e/q))}(p,a,g,m,y,E),R=p.text.indexOf("")>=0;let N=0;for(let U=0;U<p.length();U++){const V=p.getSection(U),q=p.getCharCode(U);if(Vs[q]||(N+=ju(q,V,m,y,a,E)),U<p.length()-1){const ie=!((F=q)<11904||!(Be["Bopomofo Extended"](F)||Be.Bopomofo(F)||Be["CJK Compatibility Forms"](F)||Be["CJK Compatibility Ideographs"](F)||Be["CJK Compatibility"](F)||Be["CJK Radicals Supplement"](F)||Be["CJK Strokes"](F)||Be["CJK Symbols and Punctuation"](F)||Be["CJK Unified Ideographs Extension A"](F)||Be["CJK Unified Ideographs"](F)||Be["Enclosed CJK Letters and Months"](F)||Be["Halfwidth and Fullwidth Forms"](F)||Be.Hiragana(F)||Be["Ideographic Description Characters"](F)||Be["Kangxi Radicals"](F)||Be["Katakana Phonetic Extensions"](F)||Be.Katakana(F)||Be["Vertical Forms"](F)||Be["Yi Radicals"](F)||Be["Yi Syllables"](F)));(Np[q]||ie||V.imageName)&&A.push(Gu(U+1,N,I,A,zp(q,p.getCharCode(U+1),ie&&R),!1))}}var F;return qu(Gu(p.length(),N,I,A,0,!0))}function jl(p){let a=.5,g=.5;switch(p){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(p){case"bottom":case"bottom-right":case"bottom-left":g=1;break;case"top":case"top-right":case"top-left":g=0}return{horizontalAlign:a,verticalAlign:g}}function Fp(p,a,g,m,y){if(!m&&!y)return;const v=p[g],E=(p[g].x+v.metrics.advance*v.scale)*m;for(let A=a;A<=g;A++)p[A].x-=E,p[A].y+=y}function kp(p,a,g){const{horizontalAlign:m,verticalAlign:y}=jl(g),v=a[0]-p.displaySize[0]*m,E=a[1]-p.displaySize[1]*y;return{image:p,top:E,bottom:E+p.displaySize[1],left:v,right:v+p.displaySize[0]}}function Hu(p,a,g,m,y,v){const E=p.image;let A;if(E.content){const te=E.content,ge=E.pixelRatio||1;A=[te[0]/ge,te[1]/ge,E.displaySize[0]-te[2]/ge,E.displaySize[1]-te[3]/ge]}const I=a.left*v,R=a.right*v;let N,F,U,V;g==="width"||g==="both"?(V=y[0]+I-m[3],F=y[0]+R+m[1]):(V=y[0]+(I+R-E.displaySize[0])/2,F=V+E.displaySize[0]);const q=a.top*v,ie=a.bottom*v;return g==="height"||g==="both"?(N=y[1]+q-m[0],U=y[1]+ie+m[2]):(N=y[1]+(q+ie-E.displaySize[1])/2,U=N+E.displaySize[1]),{image:E,top:N,right:F,bottom:U,left:V,collisionPadding:A}}const oo=128;function Xu(p,a){const{expression:g}=a;if(g.kind==="constant")return{kind:"constant",layoutSize:g.evaluate(new Xt(p+1))};if(g.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:y}=g;let v=0;for(;v<m.length&&m[v]<=p;)v++;v=Math.max(0,v-1);let E=v;for(;E<m.length&&m[E]<p+1;)E++;E=Math.min(m.length-1,E);const A=m[v],I=m[E];return g.kind==="composite"?{kind:"composite",minZoom:A,maxZoom:I,interpolationType:y}:{kind:"camera",minZoom:A,maxZoom:I,minSize:g.evaluate(new Xt(A)),maxSize:g.evaluate(new Xt(I)),interpolationType:y}}}class wo extends He{constructor(a,g,m,y){super(a,g),this.angle=m,y!==void 0&&(this.segment=y)}clone(){return new wo(this.x,this.y,this.angle,this.segment)}}function Wu(p,a,g,m,y){if(a.segment===void 0)return!0;let v=a,E=a.segment+1,A=0;for(;A>-g/2;){if(E--,E<0)return!1;A-=p[E].dist(v),v=p[E]}A+=p[E].dist(p[E+1]),E++;const I=[];let R=0;for(;A<g/2;){const N=p[E],F=p[E+1];if(!F)return!1;let U=p[E-1].angleTo(N)-N.angleTo(F);for(U=Math.abs((U+3*Math.PI)%(2*Math.PI)-Math.PI),I.push({distance:A,angleDelta:U}),R+=U;A-I[0].distance>m;)R-=I.shift().angleDelta;if(R>y)return!1;E++,A+=N.dist(F)}return!0}function Yu(p){let a=0;for(let g=0;g<p.length-1;g++)a+=p[g].dist(p[g+1]);return a}function Ku(p,a,g){return p?.6*a*g:0}function Zu(p,a){return Math.max(p?p.right-p.left:0,a?a.right-a.left:0)}function Bp(p,a,g,m,y,v){const E=Ku(g,y,v),A=Zu(g,m)*v;let I=0;const R=Yu(p)/2;for(let N=0;N<p.length-1;N++){const F=p[N],U=p[N+1],V=F.dist(U);if(I+V>R){const q=(R-I)/V,ie=Qt(F.x,U.x,q),te=Qt(F.y,U.y,q),ge=new wo(ie,te,U.angleTo(F),N);return ge._round(),!E||Wu(p,ge,A,E,a)?ge:void 0}I+=V}}function Up(p,a,g,m,y,v,E,A,I){const R=Ku(m,v,E),N=Zu(m,y),F=N*E,U=p[0].x===0||p[0].x===I||p[0].y===0||p[0].y===I;return a-F<a/4&&(a=F+a/4),Qu(p,U?a/2*A%a:(N/2+2*v)*E*A%a,a,R,g,F,U,!1,I)}function Qu(p,a,g,m,y,v,E,A,I){const R=v/2,N=Yu(p);let F=0,U=a-g,V=[];for(let q=0;q<p.length-1;q++){const ie=p[q],te=p[q+1],ge=ie.dist(te),$e=te.angleTo(ie);for(;U+g<F+ge;){U+=g;const pe=(U-F)/ge,ye=Qt(ie.x,te.x,pe),we=Qt(ie.y,te.y,pe);if(ye>=0&&ye<I&&we>=0&&we<I&&U-R>=0&&U+R<=N){const Pe=new wo(ye,we,$e,q);Pe._round(),m&&!Wu(p,Pe,v,m,y)||V.push(Pe)}}F+=ge}return A||V.length||E||(V=Qu(p,F/2,g,m,y,v,E,!0,I)),V}function Ju(p,a,g,m,y){const v=[];for(let E=0;E<p.length;E++){const A=p[E];let I;for(let R=0;R<A.length-1;R++){let N=A[R],F=A[R+1];N.x<a&&F.x<a||(N.x<a?N=new He(a,N.y+(a-N.x)/(F.x-N.x)*(F.y-N.y))._round():F.x<a&&(F=new He(a,N.y+(a-N.x)/(F.x-N.x)*(F.y-N.y))._round()),N.y<g&&F.y<g||(N.y<g?N=new He(N.x+(g-N.y)/(F.y-N.y)*(F.x-N.x),g)._round():F.y<g&&(F=new He(N.x+(g-N.y)/(F.y-N.y)*(F.x-N.x),g)._round()),N.x>=m&&F.x>=m||(N.x>=m?N=new He(m,N.y+(m-N.x)/(F.x-N.x)*(F.y-N.y))._round():F.x>=m&&(F=new He(m,N.y+(m-N.x)/(F.x-N.x)*(F.y-N.y))._round()),N.y>=y&&F.y>=y||(N.y>=y?N=new He(N.x+(y-N.y)/(F.y-N.y)*(F.x-N.x),y)._round():F.y>=y&&(F=new He(N.x+(y-N.y)/(F.y-N.y)*(F.x-N.x),y)._round()),I&&N.equals(I[I.length-1])||(I=[N],v.push(I)),I.push(F)))))}}return v}function ec(p,a,g,m){const y=[],v=p.image,E=v.pixelRatio,A=v.paddedRect.w-2,I=v.paddedRect.h-2,R=p.right-p.left,N=p.bottom-p.top,F=v.stretchX||[[0,A]],U=v.stretchY||[[0,I]],V=(Le,je)=>Le+je[1]-je[0],q=F.reduce(V,0),ie=U.reduce(V,0),te=A-q,ge=I-ie;let $e=0,pe=q,ye=0,we=ie,Pe=0,Ke=te,Je=0,Ue=ge;if(v.content&&m){const Le=v.content;$e=Gs(F,0,Le[0]),ye=Gs(U,0,Le[1]),pe=Gs(F,Le[0],Le[2]),we=Gs(U,Le[1],Le[3]),Pe=Le[0]-$e,Je=Le[1]-ye,Ke=Le[2]-Le[0]-pe,Ue=Le[3]-Le[1]-we}const ze=(Le,je,ke,Re)=>{const rt=qs(Le.stretch-$e,pe,R,p.left),it=Hs(Le.fixed-Pe,Ke,Le.stretch,q),vt=qs(je.stretch-ye,we,N,p.top),Ht=Hs(je.fixed-Je,Ue,je.stretch,ie),Yt=qs(ke.stretch-$e,pe,R,p.left),mi=Hs(ke.fixed-Pe,Ke,ke.stretch,q),_n=qs(Re.stretch-ye,we,N,p.top),Si=Hs(Re.fixed-Je,Ue,Re.stretch,ie),ci=new He(rt,vt),fi=new He(Yt,vt),Ti=new He(Yt,_n),Di=new He(rt,_n),Yi=new He(it/E,Ht/E),gi=new He(mi/E,Si/E),Ai=a*Math.PI/180;if(Ai){const Ki=Math.sin(Ai),Zi=Math.cos(Ai),ei=[Zi,-Ki,Ki,Zi];ci._matMult(ei),fi._matMult(ei),Di._matMult(ei),Ti._matMult(ei)}const Li=Le.stretch+Le.fixed,Vi=je.stretch+je.fixed;return{tl:ci,tr:fi,bl:Di,br:Ti,tex:{x:v.paddedRect.x+1+Li,y:v.paddedRect.y+1+Vi,w:ke.stretch+ke.fixed-Li,h:Re.stretch+Re.fixed-Vi},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Yi,pixelOffsetBR:gi,minFontScaleX:Ke/E/R,minFontScaleY:Ue/E/N,isSDF:g}};if(m&&(v.stretchX||v.stretchY)){const Le=tc(F,te,q),je=tc(U,ge,ie);for(let ke=0;ke<Le.length-1;ke++){const Re=Le[ke],rt=Le[ke+1];for(let it=0;it<je.length-1;it++)y.push(ze(Re,je[it],rt,je[it+1]))}}else y.push(ze({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:A+1},{fixed:0,stretch:I+1}));return y}function Gs(p,a,g){let m=0;for(const y of p)m+=Math.max(a,Math.min(g,y[1]))-Math.max(a,Math.min(g,y[0]));return m}function tc(p,a,g){const m=[{fixed:-1,stretch:0}];for(const[y,v]of p){const E=m[m.length-1];m.push({fixed:y-E.stretch,stretch:E.stretch}),m.push({fixed:y-E.stretch,stretch:E.stretch+(v-y)})}return m.push({fixed:a+1,stretch:g}),m}function qs(p,a,g,m){return p/a*g+m}function Hs(p,a,g,m){return p-a*g/m}We("Anchor",wo);class Xs{constructor(a,g,m,y,v,E,A,I,R,N){if(this.boxStartIndex=a.length,R){let F=E.top,U=E.bottom;const V=E.collisionPadding;V&&(F-=V[1],U+=V[3]);let q=U-F;q>0&&(q=Math.max(10,q),this.circleDiameter=q)}else{let F=E.top*A-I[0],U=E.bottom*A+I[2],V=E.left*A-I[3],q=E.right*A+I[1];const ie=E.collisionPadding;if(ie&&(V-=ie[0]*A,F-=ie[1]*A,q+=ie[2]*A,U+=ie[3]*A),N){const te=new He(V,F),ge=new He(q,F),$e=new He(V,U),pe=new He(q,U),ye=N*Math.PI/180;te._rotate(ye),ge._rotate(ye),$e._rotate(ye),pe._rotate(ye),V=Math.min(te.x,ge.x,$e.x,pe.x),q=Math.max(te.x,ge.x,$e.x,pe.x),F=Math.min(te.y,ge.y,$e.y,pe.y),U=Math.max(te.y,ge.y,$e.y,pe.y)}a.emplaceBack(g.x,g.y,V,F,q,U,m,y,v)}this.boxEndIndex=a.length}}class jp{constructor(a=[],g=Vp){if(this.data=a,this.length=this.data.length,this.compare=g,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(a){this.data.push(a),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const a=this.data[0],g=this.data.pop();return this.length--,this.length>0&&(this.data[0]=g,this._down(0)),a}peek(){return this.data[0]}_up(a){const{data:g,compare:m}=this,y=g[a];for(;a>0;){const v=a-1>>1,E=g[v];if(m(y,E)>=0)break;g[a]=E,a=v}g[a]=y}_down(a){const{data:g,compare:m}=this,y=this.length>>1,v=g[a];for(;a<y;){let E=1+(a<<1),A=g[E];const I=E+1;if(I<this.length&&m(g[I],A)<0&&(E=I,A=g[I]),m(A,v)>=0)break;g[a]=A,a=E}g[a]=v}}function Vp(p,a){return p<a?-1:p>a?1:0}function Gp(p,a=1,g=!1){let m=1/0,y=1/0,v=-1/0,E=-1/0;const A=p[0];for(let V=0;V<A.length;V++){const q=A[V];(!V||q.x<m)&&(m=q.x),(!V||q.y<y)&&(y=q.y),(!V||q.x>v)&&(v=q.x),(!V||q.y>E)&&(E=q.y)}const I=Math.min(v-m,E-y);let R=I/2;const N=new jp([],qp);if(I===0)return new He(m,y);for(let V=m;V<v;V+=I)for(let q=y;q<E;q+=I)N.push(new Zr(V+R,q+R,R,p));let F=function(V){let q=0,ie=0,te=0;const ge=V[0];for(let $e=0,pe=ge.length,ye=pe-1;$e<pe;ye=$e++){const we=ge[$e],Pe=ge[ye],Ke=we.x*Pe.y-Pe.x*we.y;ie+=(we.x+Pe.x)*Ke,te+=(we.y+Pe.y)*Ke,q+=3*Ke}return new Zr(ie/q,te/q,0,V)}(p),U=N.length;for(;N.length;){const V=N.pop();(V.d>F.d||!F.d)&&(F=V,g&&console.log("found best %d after %d probes",Math.round(1e4*V.d)/1e4,U)),V.max-F.d<=a||(R=V.h/2,N.push(new Zr(V.p.x-R,V.p.y-R,R,p)),N.push(new Zr(V.p.x+R,V.p.y-R,R,p)),N.push(new Zr(V.p.x-R,V.p.y+R,R,p)),N.push(new Zr(V.p.x+R,V.p.y+R,R,p)),U+=4)}return g&&(console.log(`num probes: ${U}`),console.log(`best distance: ${F.d}`)),F.p}function qp(p,a){return a.max-p.max}function Zr(p,a,g,m){this.p=new He(p,a),this.h=g,this.d=function(y,v){let E=!1,A=1/0;for(let I=0;I<v.length;I++){const R=v[I];for(let N=0,F=R.length,U=F-1;N<F;U=N++){const V=R[N],q=R[U];V.y>y.y!=q.y>y.y&&y.x<(q.x-V.x)*(y.y-V.y)/(q.y-V.y)+V.x&&(E=!E),A=Math.min(A,uu(y,V,q))}}return(E?1:-1)*Math.sqrt(A)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}const Vl=Number.POSITIVE_INFINITY;function ic(p,a){return a[1]!==Vl?function(g,m,y){let v=0,E=0;switch(m=Math.abs(m),y=Math.abs(y),g){case"top-right":case"top-left":case"top":E=y-7;break;case"bottom-right":case"bottom-left":case"bottom":E=7-y}switch(g){case"top-right":case"bottom-right":case"right":v=-m;break;case"top-left":case"bottom-left":case"left":v=m}return[v,E]}(p,a[0],a[1]):function(g,m){let y=0,v=0;m<0&&(m=0);const E=m/Math.sqrt(2);switch(g){case"top-right":case"top-left":v=E-7;break;case"bottom-right":case"bottom-left":v=7-E;break;case"bottom":v=7-m;break;case"top":v=m-7}switch(g){case"top-right":case"bottom-right":y=-E;break;case"top-left":case"bottom-left":y=E;break;case"left":y=m;break;case"right":y=-m}return[y,v]}(p,a[0])}function Gl(p){switch(p){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Hp(p,a,g,m,y,v,E,A,I,R,N){let F=v.textMaxSize.evaluate(a,{});F===void 0&&(F=E);const U=p.layers[0].layout,V=U.get("icon-offset").evaluate(a,{},N),q=oc(g.horizontal),ie=E/24,te=p.tilePixelRatio*ie,ge=p.tilePixelRatio*F/24,$e=p.tilePixelRatio*A,pe=p.tilePixelRatio*U.get("symbol-spacing"),ye=U.get("text-padding")*p.tilePixelRatio,we=function(Re,rt,it,vt=1){const Ht=Re.get("icon-padding").evaluate(rt,{},it),Yt=Ht&&Ht.values;return[Yt[0]*vt,Yt[1]*vt,Yt[2]*vt,Yt[3]*vt]}(U,a,N,p.tilePixelRatio),Pe=U.get("text-max-angle")/180*Math.PI,Ke=U.get("text-rotation-alignment")!=="viewport"&&U.get("symbol-placement")!=="point",Je=U.get("icon-rotation-alignment")==="map"&&U.get("symbol-placement")!=="point",Ue=U.get("symbol-placement"),ze=pe/2,Le=U.get("icon-text-fit");let je;m&&Le!=="none"&&(p.allowVerticalPlacement&&g.vertical&&(je=Hu(m,g.vertical,Le,U.get("icon-text-fit-padding"),V,ie)),q&&(m=Hu(m,q,Le,U.get("icon-text-fit-padding"),V,ie)));const ke=(Re,rt)=>{rt.x<0||rt.x>=hi||rt.y<0||rt.y>=hi||function(it,vt,Ht,Yt,mi,_n,Si,ci,fi,Ti,Di,Yi,gi,Ai,Li,Vi,Ki,Zi,ei,_i,Et,on,Ci,Mi,Tn){const Rn=it.addToLineVertexArray(vt,Ht);let Dn,ro,An,yn,Qi=0,ao=0,Ya=0,bc=0,eu=-1,tu=-1;const so={};let vc=ui.exports(""),iu=0,nu=0;if(ci._unevaluatedLayout.getValue("text-radial-offset")===void 0?[iu,nu]=ci.layout.get("text-offset").evaluate(Et,{},Mi).map(Ji=>Ji*vi):(iu=ci.layout.get("text-radial-offset").evaluate(Et,{},Mi)*vi,nu=Vl),it.allowVerticalPlacement&&Yt.vertical){const Ji=ci.layout.get("text-rotate").evaluate(Et,{},Mi)+90;An=new Xs(fi,vt,Ti,Di,Yi,Yt.vertical,gi,Ai,Li,Ji),Si&&(yn=new Xs(fi,vt,Ti,Di,Yi,Si,Ki,Zi,Li,Ji))}if(mi){const Ji=ci.layout.get("icon-rotate").evaluate(Et,{}),Gn=ci.layout.get("icon-text-fit")!=="none",Ka=ec(mi,Ji,Ci,Gn),Za=Si?ec(Si,Ji,Ci,Gn):void 0;ro=new Xs(fi,vt,Ti,Di,Yi,mi,Ki,Zi,!1,Ji),Qi=4*Ka.length;const Sc=it.iconSizeData;let pr=null;Sc.kind==="source"?(pr=[oo*ci.layout.get("icon-size").evaluate(Et,{})],pr[0]>Oo&&Ze(`${it.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):Sc.kind==="composite"&&(pr=[oo*on.compositeIconSizes[0].evaluate(Et,{},Mi),oo*on.compositeIconSizes[1].evaluate(Et,{},Mi)],(pr[0]>Oo||pr[1]>Oo)&&Ze(`${it.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),it.addSymbols(it.icon,Ka,pr,_i,ei,Et,c.WritingMode.none,vt,Rn.lineStartIndex,Rn.lineLength,-1,Mi),eu=it.icon.placedSymbolArray.length-1,Za&&(ao=4*Za.length,it.addSymbols(it.icon,Za,pr,_i,ei,Et,c.WritingMode.vertical,vt,Rn.lineStartIndex,Rn.lineLength,-1,Mi),tu=it.icon.placedSymbolArray.length-1)}const xc=Object.keys(Yt.horizontal);for(const Ji of xc){const Gn=Yt.horizontal[Ji];if(!Dn){vc=ui.exports(Gn.text);const Za=ci.layout.get("text-rotate").evaluate(Et,{},Mi);Dn=new Xs(fi,vt,Ti,Di,Yi,Gn,gi,Ai,Li,Za)}const Ka=Gn.positionedLines.length===1;if(Ya+=nc(it,vt,Gn,_n,ci,Li,Et,Vi,Rn,Yt.vertical?c.WritingMode.horizontal:c.WritingMode.horizontalOnly,Ka?xc:[Ji],so,eu,on,Mi),Ka)break}Yt.vertical&&(bc+=nc(it,vt,Yt.vertical,_n,ci,Li,Et,Vi,Rn,c.WritingMode.vertical,["vertical"],so,tu,on,Mi));const rg=Dn?Dn.boxStartIndex:it.collisionBoxArray.length,ag=Dn?Dn.boxEndIndex:it.collisionBoxArray.length,sg=An?An.boxStartIndex:it.collisionBoxArray.length,lg=An?An.boxEndIndex:it.collisionBoxArray.length,ug=ro?ro.boxStartIndex:it.collisionBoxArray.length,cg=ro?ro.boxEndIndex:it.collisionBoxArray.length,pg=yn?yn.boxStartIndex:it.collisionBoxArray.length,gg=yn?yn.boxEndIndex:it.collisionBoxArray.length;let Ln=-1;const Qs=(Ji,Gn)=>Ji&&Ji.circleDiameter?Math.max(Ji.circleDiameter,Gn):Gn;Ln=Qs(Dn,Ln),Ln=Qs(An,Ln),Ln=Qs(ro,Ln),Ln=Qs(yn,Ln);const Ec=Ln>-1?1:0;Ec&&(Ln*=Tn/vi),it.glyphOffsetArray.length>=Qr.MAX_GLYPHS&&Ze("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Et.sortKey!==void 0&&it.addToSortKeyRanges(it.symbolInstances.length,Et.sortKey),it.symbolInstances.emplaceBack(vt.x,vt.y,so.right>=0?so.right:-1,so.center>=0?so.center:-1,so.left>=0?so.left:-1,so.vertical||-1,eu,tu,vc,rg,ag,sg,lg,ug,cg,pg,gg,Ti,Ya,bc,Qi,ao,Ec,0,gi,iu,nu,Ln)}(p,rt,Re,g,m,y,je,p.layers[0],p.collisionBoxArray,a.index,a.sourceLayerIndex,p.index,te,[ye,ye,ye,ye],Ke,I,$e,we,Je,V,a,v,R,N,E)};if(Ue==="line")for(const Re of Ju(a.geometry,0,0,hi,hi)){const rt=Up(Re,pe,Pe,g.vertical||q,m,24,ge,p.overscaling,hi);for(const it of rt){const vt=q;vt&&Xp(p,vt.text,ze,it)||ke(Re,it)}}else if(Ue==="line-center"){for(const Re of a.geometry)if(Re.length>1){const rt=Bp(Re,Pe,g.vertical||q,m,24,ge);rt&&ke(Re,rt)}}else if(a.type==="Polygon")for(const Re of Ol(a.geometry,0)){const rt=Gp(Re,16);ke(Re[0],new wo(rt.x,rt.y,0))}else if(a.type==="LineString")for(const Re of a.geometry)ke(Re,new wo(Re[0].x,Re[0].y,0));else if(a.type==="Point")for(const Re of a.geometry)for(const rt of Re)ke([rt],new wo(rt.x,rt.y,0))}const Oo=32640;function nc(p,a,g,m,y,v,E,A,I,R,N,F,U,V,q){const ie=function($e,pe,ye,we,Pe,Ke,Je,Ue){const ze=we.layout.get("text-rotate").evaluate(Ke,{})*Math.PI/180,Le=[];for(const je of pe.positionedLines)for(const ke of je.positionedGlyphs){if(!ke.rect)continue;const Re=ke.rect||{};let rt=4,it=!0,vt=1,Ht=0;const Yt=(Pe||Ue)&&ke.vertical,mi=ke.metrics.advance*ke.scale/2;if(Ue&&pe.verticalizable){const ei=(ke.scale-1)*vi,_i=(vi-ke.metrics.width*ke.scale)/2;Ht=je.lineOffset/2-(ke.imageName?-_i:ei)}if(ke.imageName){const ei=Je[ke.imageName];it=ei.sdf,vt=ei.pixelRatio,rt=1/vt}const _n=Pe?[ke.x+mi,ke.y]:[0,0];let Si=Pe?[0,0]:[ke.x+mi+ye[0],ke.y+ye[1]-Ht],ci=[0,0];Yt&&(ci=Si,Si=[0,0]);const fi=(ke.metrics.left-rt)*ke.scale-mi+Si[0],Ti=(-ke.metrics.top-rt)*ke.scale+Si[1],Di=fi+Re.w*ke.scale/vt,Yi=Ti+Re.h*ke.scale/vt,gi=new He(fi,Ti),Ai=new He(Di,Ti),Li=new He(fi,Yi),Vi=new He(Di,Yi);if(Yt){const ei=new He(-mi,mi-Us),_i=-Math.PI/2,Et=12-mi,on=new He(22-Et,-(ke.imageName?Et:0)),Ci=new He(...ci);gi._rotateAround(_i,ei)._add(on)._add(Ci),Ai._rotateAround(_i,ei)._add(on)._add(Ci),Li._rotateAround(_i,ei)._add(on)._add(Ci),Vi._rotateAround(_i,ei)._add(on)._add(Ci)}if(ze){const ei=Math.sin(ze),_i=Math.cos(ze),Et=[_i,-ei,ei,_i];gi._matMult(Et),Ai._matMult(Et),Li._matMult(Et),Vi._matMult(Et)}const Ki=new He(0,0),Zi=new He(0,0);Le.push({tl:gi,tr:Ai,bl:Li,br:Vi,tex:Re,writingMode:pe.writingMode,glyphOffset:_n,sectionIndex:ke.sectionIndex,isSDF:it,pixelOffsetTL:Ki,pixelOffsetBR:Zi,minFontScaleX:0,minFontScaleY:0})}return Le}(0,g,A,y,v,E,m,p.allowVerticalPlacement),te=p.textSizeData;let ge=null;te.kind==="source"?(ge=[oo*y.layout.get("text-size").evaluate(E,{})],ge[0]>Oo&&Ze(`${p.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):te.kind==="composite"&&(ge=[oo*V.compositeTextSizes[0].evaluate(E,{},q),oo*V.compositeTextSizes[1].evaluate(E,{},q)],(ge[0]>Oo||ge[1]>Oo)&&Ze(`${p.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),p.addSymbols(p.text,ie,ge,A,v,E,R,a,I.lineStartIndex,I.lineLength,U,q);for(const $e of N)F[$e]=p.text.placedSymbolArray.length-1;return 4*ie.length}function oc(p){for(const a in p)return p[a];return null}function Xp(p,a,g,m){const y=p.compareText;if(a in y){const v=y[a];for(let E=v.length-1;E>=0;E--)if(m.dist(v[E])<g)return!0}else y[a]=[];return y[a].push(m),!1}const Wp=Io.VectorTileFeature.types,Yp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ws(p,a,g,m,y,v,E,A,I,R,N,F,U){const V=A?Math.min(Oo,Math.round(A[0])):0,q=A?Math.min(Oo,Math.round(A[1])):0;p.emplaceBack(a,g,Math.round(32*m),Math.round(32*y),v,E,(V<<1)+(I?1:0),q,16*R,16*N,256*F,256*U)}function ql(p,a,g){p.emplaceBack(a.x,a.y,g),p.emplaceBack(a.x,a.y,g),p.emplaceBack(a.x,a.y,g),p.emplaceBack(a.x,a.y,g)}function Kp(p){for(const a of p.sections)if(_l(a.text))return!0;return!1}class Hl{constructor(a){this.layoutVertexArray=new Wi,this.indexArray=new bi,this.programConfigurations=a,this.segments=new Pt,this.dynamicLayoutVertexArray=new Sn,this.opacityVertexArray=new pn,this.placedSymbolArray=new Se}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(a,g,m,y){this.isEmpty()||(m&&(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,$p.members),this.indexBuffer=a.createIndexBuffer(this.indexArray,g),this.dynamicLayoutVertexBuffer=a.createVertexBuffer(this.dynamicLayoutVertexArray,bp.members,!0),this.opacityVertexBuffer=a.createVertexBuffer(this.opacityVertexArray,Yp,!0),this.opacityVertexBuffer.itemSize=1),(m||y)&&this.programConfigurations.upload(a))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}We("SymbolBuffers",Hl);class Xl{constructor(a,g,m){this.layoutVertexArray=new a,this.layoutAttributes=g,this.indexArray=new m,this.segments=new Pt,this.collisionVertexArray=new eo}upload(a){this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=a.createVertexBuffer(this.collisionVertexArray,vp.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}We("CollisionBuffers",Xl);class Qr{constructor(a){this.collisionBoxArray=a.collisionBoxArray,this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(E=>E.id),this.index=a.index,this.pixelRatio=a.pixelRatio,this.sourceLayerIndex=a.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Tl([]),this.placementViewportMatrix=Tl([]);const g=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Xu(this.zoom,g["text-size"]),this.iconSizeData=Xu(this.zoom,g["icon-size"]);const m=this.layers[0].layout,y=m.get("symbol-sort-key"),v=m.get("symbol-z-order");this.canOverlap=Yl(m,"text-overlap","text-allow-overlap")!=="never"||Yl(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=v!=="viewport-y"&&!y.isConstant(),this.sortFeaturesByY=(v==="viewport-y"||v==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map(E=>c.WritingMode[E])),this.stateDependentLayerIds=this.layers.filter(E=>E.isStateDependent()).map(E=>E.id),this.sourceID=a.sourceID}createArrays(){this.text=new Hl(new ar(this.layers,this.zoom,a=>/^text/.test(a))),this.icon=new Hl(new ar(this.layers,this.zoom,a=>/^icon/.test(a))),this.glyphOffsetArray=new qe,this.lineVertexArray=new Ne,this.symbolInstances=new xe}calculateGlyphDependencies(a,g,m,y,v){for(let E=0;E<a.length;E++)if(g[a.charCodeAt(E)]=!0,(m||y)&&v){const A=qa[a.charAt(E)];A&&(g[A.charCodeAt(0)]=!0)}}populate(a,g,m){const y=this.layers[0],v=y.layout,E=v.get("text-font"),A=v.get("text-field"),I=v.get("icon-image"),R=(A.value.kind!=="constant"||A.value.value instanceof ae&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(E.value.kind!=="constant"||E.value.value.length>0),N=I.value.kind!=="constant"||!!I.value.value||Object.keys(I.parameters).length>0,F=v.get("symbol-sort-key");if(this.features=[],!R&&!N)return;const U=g.iconDependencies,V=g.glyphDependencies,q=g.availableImages,ie=new Xt(this.zoom);for(const{feature:te,id:ge,index:$e,sourceLayerIndex:pe}of a){const ye=y._featureFilter.needGeometry,we=lr(te,ye);if(!y._featureFilter.filter(ie,we,m))continue;let Pe,Ke;if(ye||(we.geometry=sr(te)),R){const Ue=y.getValueAndResolveTokens("text-field",we,m,q),ze=ae.factory(Ue);Kp(ze)&&(this.hasRTLText=!0),(!this.hasRTLText||Oa()==="unavailable"||this.hasRTLText&&tn.isParsed())&&(Pe=Ep(ze,y,we))}if(N){const Ue=y.getValueAndResolveTokens("icon-image",we,m,q);Ke=Ue instanceof oe?Ue:oe.fromString(Ue)}if(!Pe&&!Ke)continue;const Je=this.sortFeaturesByKey?F.evaluate(we,{},m):void 0;if(this.features.push({id:ge,text:Pe,icon:Ke,index:$e,sourceLayerIndex:pe,geometry:we.geometry,properties:te.properties,type:Wp[te.type],sortKey:Je}),Ke&&(U[Ke.name]=!0),Pe){const Ue=E.evaluate(we,{},m).join(","),ze=v.get("text-rotation-alignment")!=="viewport"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(c.WritingMode.vertical)>=0;for(const Le of Pe.sections)if(Le.image)U[Le.image.name]=!0;else{const je=Aa(Pe.toString()),ke=Le.fontStack||Ue,Re=V[ke]=V[ke]||{};this.calculateGlyphDependencies(Le.text,Re,ze,this.allowVerticalPlacement,je)}}}v.get("symbol-placement")==="line"&&(this.features=function(te){const ge={},$e={},pe=[];let ye=0;function we(Ue){pe.push(te[Ue]),ye++}function Pe(Ue,ze,Le){const je=$e[Ue];return delete $e[Ue],$e[ze]=je,pe[je].geometry[0].pop(),pe[je].geometry[0]=pe[je].geometry[0].concat(Le[0]),je}function Ke(Ue,ze,Le){const je=ge[ze];return delete ge[ze],ge[Ue]=je,pe[je].geometry[0].shift(),pe[je].geometry[0]=Le[0].concat(pe[je].geometry[0]),je}function Je(Ue,ze,Le){const je=Le?ze[0][ze[0].length-1]:ze[0][0];return`${Ue}:${je.x}:${je.y}`}for(let Ue=0;Ue<te.length;Ue++){const ze=te[Ue],Le=ze.geometry,je=ze.text?ze.text.toString():null;if(!je){we(Ue);continue}const ke=Je(je,Le),Re=Je(je,Le,!0);if(ke in $e&&Re in ge&&$e[ke]!==ge[Re]){const rt=Ke(ke,Re,Le),it=Pe(ke,Re,pe[rt].geometry);delete ge[ke],delete $e[Re],$e[Je(je,pe[it].geometry,!0)]=it,pe[rt].geometry=null}else ke in $e?Pe(ke,Re,Le):Re in ge?Ke(ke,Re,Le):(we(Ue),ge[ke]=ye-1,$e[Re]=ye-1)}return pe.filter(Ue=>Ue.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((te,ge)=>te.sortKey-ge.sortKey)}update(a,g,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(a,g,this.layers,m),this.icon.programConfigurations.updatePaintArrays(a,g,this.layers,m))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(a){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(a),this.iconCollisionBox.upload(a)),this.text.upload(a,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(a,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(a,g){const m=this.lineVertexArray.length;if(a.segment!==void 0){let y=a.dist(g[a.segment+1]),v=a.dist(g[a.segment]);const E={};for(let A=a.segment+1;A<g.length;A++)E[A]={x:g[A].x,y:g[A].y,tileUnitDistanceFromAnchor:y},A<g.length-1&&(y+=g[A+1].dist(g[A]));for(let A=a.segment||0;A>=0;A--)E[A]={x:g[A].x,y:g[A].y,tileUnitDistanceFromAnchor:v},A>0&&(v+=g[A-1].dist(g[A]));for(let A=0;A<g.length;A++){const I=E[A];this.lineVertexArray.emplaceBack(I.x,I.y,I.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(a,g,m,y,v,E,A,I,R,N,F,U){const V=a.indexArray,q=a.layoutVertexArray,ie=a.segments.prepareSegment(4*g.length,q,V,this.canOverlap?E.sortKey:void 0),te=this.glyphOffsetArray.length,ge=ie.vertexLength,$e=this.allowVerticalPlacement&&A===c.WritingMode.vertical?Math.PI/2:0,pe=E.text&&E.text.sections;for(let ye=0;ye<g.length;ye++){const{tl:we,tr:Pe,bl:Ke,br:Je,tex:Ue,pixelOffsetTL:ze,pixelOffsetBR:Le,minFontScaleX:je,minFontScaleY:ke,glyphOffset:Re,isSDF:rt,sectionIndex:it}=g[ye],vt=ie.vertexLength,Ht=Re[1];Ws(q,I.x,I.y,we.x,Ht+we.y,Ue.x,Ue.y,m,rt,ze.x,ze.y,je,ke),Ws(q,I.x,I.y,Pe.x,Ht+Pe.y,Ue.x+Ue.w,Ue.y,m,rt,Le.x,ze.y,je,ke),Ws(q,I.x,I.y,Ke.x,Ht+Ke.y,Ue.x,Ue.y+Ue.h,m,rt,ze.x,Le.y,je,ke),Ws(q,I.x,I.y,Je.x,Ht+Je.y,Ue.x+Ue.w,Ue.y+Ue.h,m,rt,Le.x,Le.y,je,ke),ql(a.dynamicLayoutVertexArray,I,$e),V.emplaceBack(vt,vt+1,vt+2),V.emplaceBack(vt+1,vt+2,vt+3),ie.vertexLength+=4,ie.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Re[0]),ye!==g.length-1&&it===g[ye+1].sectionIndex||a.programConfigurations.populatePaintArrays(q.length,E,E.index,{},U,pe&&pe[it])}a.placedSymbolArray.emplaceBack(I.x,I.y,te,this.glyphOffsetArray.length-te,ge,R,N,I.segment,m?m[0]:0,m?m[1]:0,y[0],y[1],A,0,!1,0,F)}_addCollisionDebugVertex(a,g,m,y,v,E){return g.emplaceBack(0,0),a.emplaceBack(m.x,m.y,y,v,Math.round(E.x),Math.round(E.y))}addCollisionDebugVertices(a,g,m,y,v,E,A){const I=v.segments.prepareSegment(4,v.layoutVertexArray,v.indexArray),R=I.vertexLength,N=v.layoutVertexArray,F=v.collisionVertexArray,U=A.anchorX,V=A.anchorY;this._addCollisionDebugVertex(N,F,E,U,V,new He(a,g)),this._addCollisionDebugVertex(N,F,E,U,V,new He(m,g)),this._addCollisionDebugVertex(N,F,E,U,V,new He(m,y)),this._addCollisionDebugVertex(N,F,E,U,V,new He(a,y)),I.vertexLength+=4;const q=v.indexArray;q.emplaceBack(R,R+1),q.emplaceBack(R+1,R+2),q.emplaceBack(R+2,R+3),q.emplaceBack(R+3,R),I.primitiveLength+=4}addDebugCollisionBoxes(a,g,m,y){for(let v=a;v<g;v++){const E=this.collisionBoxArray.get(v);this.addCollisionDebugVertices(E.x1,E.y1,E.x2,E.y2,y?this.textCollisionBox:this.iconCollisionBox,E.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Xl(gn,Du.members,dn),this.iconCollisionBox=new Xl(gn,Du.members,dn);for(let a=0;a<this.symbolInstances.length;a++){const g=this.symbolInstances.get(a);this.addDebugCollisionBoxes(g.textBoxStartIndex,g.textBoxEndIndex,g,!0),this.addDebugCollisionBoxes(g.verticalTextBoxStartIndex,g.verticalTextBoxEndIndex,g,!0),this.addDebugCollisionBoxes(g.iconBoxStartIndex,g.iconBoxEndIndex,g,!1),this.addDebugCollisionBoxes(g.verticalIconBoxStartIndex,g.verticalIconBoxEndIndex,g,!1)}}_deserializeCollisionBoxesForSymbol(a,g,m,y,v,E,A,I,R){const N={};for(let F=g;F<m;F++){const U=a.get(F);N.textBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},N.textFeatureIndex=U.featureIndex;break}for(let F=y;F<v;F++){const U=a.get(F);N.verticalTextBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},N.verticalTextFeatureIndex=U.featureIndex;break}for(let F=E;F<A;F++){const U=a.get(F);N.iconBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},N.iconFeatureIndex=U.featureIndex;break}for(let F=I;F<R;F++){const U=a.get(F);N.verticalIconBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},N.verticalIconFeatureIndex=U.featureIndex;break}return N}deserializeCollisionBoxes(a){this.collisionArrays=[];for(let g=0;g<this.symbolInstances.length;g++){const m=this.symbolInstances.get(g);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(a,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(a,g){const m=a.placedSymbolArray.get(g),y=m.vertexStartIndex+4*m.numGlyphs;for(let v=m.vertexStartIndex;v<y;v+=4)a.indexArray.emplaceBack(v,v+1,v+2),a.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(a){if(this.sortedAngle===a&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const g=Math.sin(a),m=Math.cos(a),y=[],v=[],E=[];for(let A=0;A<this.symbolInstances.length;++A){E.push(A);const I=this.symbolInstances.get(A);y.push(0|Math.round(g*I.anchorX+m*I.anchorY)),v.push(I.featureIndex)}return E.sort((A,I)=>y[A]-y[I]||v[I]-v[A]),E}addToSortKeyRanges(a,g){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===g?m.symbolInstanceEnd=a+1:this.sortKeyRanges.push({sortKey:g,symbolInstanceStart:a,symbolInstanceEnd:a+1})}sortFeatures(a){if(this.sortFeaturesByY&&this.sortedAngle!==a&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(a),this.sortedAngle=a,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const g of this.symbolInstanceIndexes){const m=this.symbolInstances.get(g);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach((y,v,E)=>{y>=0&&E.indexOf(y)===v&&this.addIndicesForPlacedSymbol(this.text,y)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}We("SymbolBucket",Qr,{omit:["layers","collisionBoxArray","features","compareText"]}),Qr.MAX_GLYPHS=65535,Qr.addDynamicAttributes=ql;const Zp=new di({"symbol-placement":new tt(Te.layout_symbol["symbol-placement"]),"symbol-spacing":new tt(Te.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new tt(Te.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new st(Te.layout_symbol["symbol-sort-key"]),"symbol-z-order":new tt(Te.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new tt(Te.layout_symbol["icon-allow-overlap"]),"icon-overlap":new tt(Te.layout_symbol["icon-overlap"]),"icon-ignore-placement":new tt(Te.layout_symbol["icon-ignore-placement"]),"icon-optional":new tt(Te.layout_symbol["icon-optional"]),"icon-rotation-alignment":new tt(Te.layout_symbol["icon-rotation-alignment"]),"icon-size":new st(Te.layout_symbol["icon-size"]),"icon-text-fit":new tt(Te.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new tt(Te.layout_symbol["icon-text-fit-padding"]),"icon-image":new st(Te.layout_symbol["icon-image"]),"icon-rotate":new st(Te.layout_symbol["icon-rotate"]),"icon-padding":new st(Te.layout_symbol["icon-padding"]),"icon-keep-upright":new tt(Te.layout_symbol["icon-keep-upright"]),"icon-offset":new st(Te.layout_symbol["icon-offset"]),"icon-anchor":new st(Te.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new tt(Te.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new tt(Te.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new tt(Te.layout_symbol["text-rotation-alignment"]),"text-field":new st(Te.layout_symbol["text-field"]),"text-font":new st(Te.layout_symbol["text-font"]),"text-size":new st(Te.layout_symbol["text-size"]),"text-max-width":new st(Te.layout_symbol["text-max-width"]),"text-line-height":new tt(Te.layout_symbol["text-line-height"]),"text-letter-spacing":new st(Te.layout_symbol["text-letter-spacing"]),"text-justify":new st(Te.layout_symbol["text-justify"]),"text-radial-offset":new st(Te.layout_symbol["text-radial-offset"]),"text-variable-anchor":new tt(Te.layout_symbol["text-variable-anchor"]),"text-anchor":new st(Te.layout_symbol["text-anchor"]),"text-max-angle":new tt(Te.layout_symbol["text-max-angle"]),"text-writing-mode":new tt(Te.layout_symbol["text-writing-mode"]),"text-rotate":new st(Te.layout_symbol["text-rotate"]),"text-padding":new tt(Te.layout_symbol["text-padding"]),"text-keep-upright":new tt(Te.layout_symbol["text-keep-upright"]),"text-transform":new st(Te.layout_symbol["text-transform"]),"text-offset":new st(Te.layout_symbol["text-offset"]),"text-allow-overlap":new tt(Te.layout_symbol["text-allow-overlap"]),"text-overlap":new tt(Te.layout_symbol["text-overlap"]),"text-ignore-placement":new tt(Te.layout_symbol["text-ignore-placement"]),"text-optional":new tt(Te.layout_symbol["text-optional"])});var Wl={paint:new di({"icon-opacity":new st(Te.paint_symbol["icon-opacity"]),"icon-color":new st(Te.paint_symbol["icon-color"]),"icon-halo-color":new st(Te.paint_symbol["icon-halo-color"]),"icon-halo-width":new st(Te.paint_symbol["icon-halo-width"]),"icon-halo-blur":new st(Te.paint_symbol["icon-halo-blur"]),"icon-translate":new tt(Te.paint_symbol["icon-translate"]),"icon-translate-anchor":new tt(Te.paint_symbol["icon-translate-anchor"]),"text-opacity":new st(Te.paint_symbol["text-opacity"]),"text-color":new st(Te.paint_symbol["text-color"],{runtimeType:Ri,getOverride:p=>p.textColor,hasOverride:p=>!!p.textColor}),"text-halo-color":new st(Te.paint_symbol["text-halo-color"]),"text-halo-width":new st(Te.paint_symbol["text-halo-width"]),"text-halo-blur":new st(Te.paint_symbol["text-halo-blur"]),"text-translate":new tt(Te.paint_symbol["text-translate"]),"text-translate-anchor":new tt(Te.paint_symbol["text-translate-anchor"])}),layout:Zp};class rc{constructor(a){if(a.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=a.property.overrides?a.property.overrides.runtimeType:Oi,this.defaultValue=a}evaluate(a){if(a.formattedSection){const g=this.defaultValue.property.overrides;if(g&&g.hasOverride(a.formattedSection))return g.getOverride(a.formattedSection)}return a.feature&&a.featureState?this.defaultValue.evaluate(a.feature,a.featureState):this.defaultValue.property.specification.default}eachChild(a){this.defaultValue.isConstant()||a(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}We("FormatSectionOverride",rc,{omit:["defaultValue"]});class Ys extends ki{constructor(a){super(a,Wl)}recalculate(a,g){if(super.recalculate(a,g),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const y=[];for(const v of m)y.indexOf(v)<0&&y.push(v);this.layout._values["text-writing-mode"]=y}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(a,g,m,y){const v=this.layout.get(a).evaluate(g,{},m,y),E=this._unevaluatedLayout._values[a];return E.isDataDriven()||Go(E.value)||!v?v:function(A,I){return I.replace(/{([^{}]+)}/g,(R,N)=>N in A?String(A[N]):"")}(g.properties,v)}createBucket(a){return new Qr(a)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const a of Wl.paint.overridableProperties){if(!Ys.hasPaintOverride(this.layout,a))continue;const g=this.paint.get(a),m=new rc(g),y=new ba(m,g.property.specification);let v=null;v=g.value.kind==="constant"||g.value.kind==="source"?new Tr("source",y):new Ho("composite",y,g.value.zoomStops),this.paint._values[a]=new En(g.property,v,g.parameters)}}_handleOverridablePaintPropertyUpdate(a,g,m){return!(!this.layout||g.isDataDriven()||m.isDataDriven())&&Ys.hasPaintOverride(this.layout,a)}static hasPaintOverride(a,g){const m=a.get("text-field"),y=Wl.paint.properties[g];let v=!1;const E=A=>{for(const I of A)if(y.overrides&&y.overrides.hasOverride(I))return void(v=!0)};if(m.value.kind==="constant"&&m.value.value instanceof ae)E(m.value.value.sections);else if(m.value.kind==="source"){const A=R=>{v||(R instanceof Ye&&Ce(R.value)===vn?E(R.value.sections):R instanceof Sr?E(R.sections):R.eachChild(A))},I=m.value;I._styleExpression&&A(I._styleExpression.expression)}return v}}function Yl(p,a,g){let m="never";const y=p.get(a);return y?m=y:p.get(g)&&(m="always"),m}var Qp={paint:new di({"background-color":new tt(Te.paint_background["background-color"]),"background-pattern":new ir(Te.paint_background["background-pattern"]),"background-opacity":new tt(Te.paint_background["background-opacity"])})},Jp={paint:new di({"raster-opacity":new tt(Te.paint_raster["raster-opacity"]),"raster-hue-rotate":new tt(Te.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new tt(Te.paint_raster["raster-brightness-min"]),"raster-brightness-max":new tt(Te.paint_raster["raster-brightness-max"]),"raster-saturation":new tt(Te.paint_raster["raster-saturation"]),"raster-contrast":new tt(Te.paint_raster["raster-contrast"]),"raster-resampling":new tt(Te.paint_raster["raster-resampling"]),"raster-fade-duration":new tt(Te.paint_raster["raster-fade-duration"])})};class eg extends ki{constructor(a){super(a,{}),this.onAdd=g=>{this.implementation.onAdd&&this.implementation.onAdd(g,g.painter.context.gl)},this.onRemove=g=>{this.implementation.onRemove&&this.implementation.onRemove(g,g.painter.context.gl)},this.implementation=a}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const tg={circle:class extends ki{constructor(p){super(p,Dc)}createBucket(p){return new xl(p)}queryRadius(p){const a=p;return Na("circle-radius",this,a)+Na("circle-stroke-width",this,a)+Rs(this.paint.get("circle-translate"))}queryIntersectsFeature(p,a,g,m,y,v,E,A){const I=Ds(p,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),v.angle,E),R=this.paint.get("circle-radius").evaluate(a,g)+this.paint.get("circle-stroke-width").evaluate(a,g),N=this.paint.get("circle-pitch-alignment")==="map",F=N?I:function(V,q){return V.map(ie=>fu(ie,q))}(I,A),U=N?R*E:R;for(const V of m)for(const q of V){const ie=N?q:fu(q,A);let te=U;const ge=Ls([],[q.x,q.y,0,1],A);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?te*=ge[3]/v.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(te*=v.cameraToCenterDistance/ge[3]),Ic(F,ie,te))return!0}return!1}},heatmap:class extends ki{constructor(p){super(p,Mc),this._updateColorRamp()}createBucket(p){return new _u(p)}_handleSpecialPaintPropertyUpdate(p){p==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=$u({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}},hillshade:class extends ki{constructor(p){super(p,Nc)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}},fill:class extends ki{constructor(p){super(p,Zc)}recalculate(p,a){super.recalculate(p,a);const g=this.paint._values["fill-outline-color"];g.value.kind==="constant"&&g.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(p){return new Ll(p)}queryRadius(){return Rs(this.paint.get("fill-translate"))}queryIntersectsFeature(p,a,g,m,y,v,E){return lu(Ds(p,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),v.angle,E),m)}isTileClipped(){return!0}},"fill-extrusion":class extends ki{constructor(p){super(p,pp)}createBucket(p){return new Nl(p)}queryRadius(){return Rs(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(p,a,g,m,y,v,E,A){const I=Ds(p,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),v.angle,E),R=this.paint.get("fill-extrusion-height").evaluate(a,g),N=this.paint.get("fill-extrusion-base").evaluate(a,g),F=function(V,q,ie,te){const ge=[];for(const $e of V){const pe=[$e.x,$e.y,0,1];Ls(pe,pe,q),ge.push(new He(pe[0]/pe[3],pe[1]/pe[3]))}return ge}(I,A),U=function(V,q,ie,te){const ge=[],$e=[],pe=te[8]*q,ye=te[9]*q,we=te[10]*q,Pe=te[11]*q,Ke=te[8]*ie,Je=te[9]*ie,Ue=te[10]*ie,ze=te[11]*ie;for(const Le of V){const je=[],ke=[];for(const Re of Le){const rt=Re.x,it=Re.y,vt=te[0]*rt+te[4]*it+te[12],Ht=te[1]*rt+te[5]*it+te[13],Yt=te[2]*rt+te[6]*it+te[14],mi=te[3]*rt+te[7]*it+te[15],_n=Yt+we,Si=mi+Pe,ci=vt+Ke,fi=Ht+Je,Ti=Yt+Ue,Di=mi+ze,Yi=new He((vt+pe)/Si,(Ht+ye)/Si);Yi.z=_n/Si,je.push(Yi);const gi=new He(ci/Di,fi/Di);gi.z=Ti/Di,ke.push(gi)}ge.push(je),$e.push(ke)}return[ge,$e]}(m,N,R,A);return function(V,q,ie){let te=1/0;lu(ie,q)&&(te=Iu(ie,q[0]));for(let ge=0;ge<q.length;ge++){const $e=q[ge],pe=V[ge];for(let ye=0;ye<$e.length-1;ye++){const we=$e[ye],Pe=[we,$e[ye+1],pe[ye+1],pe[ye],we];su(ie,Pe)&&(te=Math.min(te,Iu(ie,Pe)))}}return te!==1/0&&te}(U[0],U[1],F)}},line:class extends ki{constructor(p){super(p,wu),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(p){p==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Bo,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(p,a){super.recalculate(p,a),this.paint._values["line-floorwidth"]=Ou.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,p)}createBucket(p){return new zl(p)}queryRadius(p){const a=p,g=Ru(Na("line-width",this,a),Na("line-gap-width",this,a)),m=Na("line-offset",this,a);return g/2+Math.abs(m)+Rs(this.paint.get("line-translate"))}queryIntersectsFeature(p,a,g,m,y,v,E){const A=Ds(p,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),v.angle,E),I=E/2*Ru(this.paint.get("line-width").evaluate(a,g),this.paint.get("line-gap-width").evaluate(a,g)),R=this.paint.get("line-offset").evaluate(a,g);return R&&(m=function(N,F){const U=[];for(let V=0;V<N.length;V++){const q=N[V],ie=[];for(let te=0;te<q.length;te++){const ge=q[te-1],$e=q[te],pe=q[te+1],ye=te===0?new He(0,0):$e.sub(ge)._unit()._perp(),we=te===q.length-1?new He(0,0):pe.sub($e)._unit()._perp(),Pe=ye._add(we)._unit(),Ke=Pe.x*we.x+Pe.y*we.y;Ke!==0&&Pe._mult(1/Ke),ie.push(Pe._mult(F)._add($e))}U.push(ie)}return U}(m,R*E)),function(N,F,U){for(let V=0;V<F.length;V++){const q=F[V];if(N.length>=3){for(let ie=0;ie<q.length;ie++)if(qr(N,q[ie]))return!0}if(Pc(N,q,U))return!0}return!1}(A,m,I)}isTileClipped(){return!0}},symbol:Ys,background:class extends ki{constructor(p){super(p,Qp)}},raster:class extends ki{constructor(p){super(p,Jp)}}};class ig{constructor(a){this._callback=a,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const ac=63710088e-1;class oi{constructor(a,g){if(isNaN(a)||isNaN(g))throw new Error(`Invalid LngLat object: (${a}, ${g})`);if(this.lng=+a,this.lat=+g,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new oi(H(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(a){const g=Math.PI/180,m=this.lat*g,y=a.lat*g,v=Math.sin(m)*Math.sin(y)+Math.cos(m)*Math.cos(y)*Math.cos((a.lng-this.lng)*g);return ac*Math.acos(Math.min(v,1))}toBounds(a=0){const g=360*a/40075017,m=g/Math.cos(Math.PI/180*this.lat);return new cr(new oi(this.lng-m,this.lat-g),new oi(this.lng+m,this.lat+g))}static convert(a){if(a instanceof oi)return a;if(Array.isArray(a)&&(a.length===2||a.length===3))return new oi(Number(a[0]),Number(a[1]));if(!Array.isArray(a)&&typeof a=="object"&&a!==null)return new oi(Number("lng"in a?a.lng:a.lon),Number(a.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class cr{constructor(a,g){a&&(g?this.setSouthWest(a).setNorthEast(g):a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1]))}setNorthEast(a){return this._ne=a instanceof oi?new oi(a.lng,a.lat):oi.convert(a),this}setSouthWest(a){return this._sw=a instanceof oi?new oi(a.lng,a.lat):oi.convert(a),this}extend(a){const g=this._sw,m=this._ne;let y,v;if(a instanceof oi)y=a,v=a;else{if(!(a instanceof cr))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(cr.convert(a)):this.extend(oi.convert(a)):this;if(y=a._sw,v=a._ne,!y||!v)return this}return g||m?(g.lng=Math.min(y.lng,g.lng),g.lat=Math.min(y.lat,g.lat),m.lng=Math.max(v.lng,m.lng),m.lat=Math.max(v.lat,m.lat)):(this._sw=new oi(y.lng,y.lat),this._ne=new oi(v.lng,v.lat)),this}getCenter(){return new oi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new oi(this.getWest(),this.getNorth())}getSouthEast(){return new oi(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){const{lng:g,lat:m}=oi.convert(a);let y=this._sw.lng<=g&&g<=this._ne.lng;return this._sw.lng>this._ne.lng&&(y=this._sw.lng>=g&&g>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&y}static convert(a){return a instanceof cr?a:a&&new cr(a)}}const sc=2*Math.PI*ac;function lc(p){return sc*Math.cos(p*Math.PI/180)}function uc(p){return(180+p)/360}function cc(p){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+p*Math.PI/360)))/360}function pc(p,a){return p/lc(a)}function Kl(p){return 360/Math.PI*Math.atan(Math.exp((180-360*p)*Math.PI/180))-90}class Ks{constructor(a,g,m=0){this.x=+a,this.y=+g,this.z=+m}static fromLngLat(a,g=0){const m=oi.convert(a);return new Ks(uc(m.lng),cc(m.lat),pc(g,m.lat))}toLngLat(){return new oi(360*this.x-180,Kl(this.y))}toAltitude(){return this.z*lc(Kl(this.y))}meterInMercatorCoordinateUnits(){return 1/sc*(a=Kl(this.y),1/Math.cos(a*Math.PI/180));var a}}function gc(p,a,g){var m=2*Math.PI*6378137/256/Math.pow(2,g);return[p*m-2*Math.PI*6378137/2,a*m-2*Math.PI*6378137/2]}class Zl{constructor(a,g,m){if(a<0||a>25||m<0||m>=Math.pow(2,a)||g<0||g>=Math.pow(2,a))throw new Error(`x=${g}, y=${m}, z=${a} outside of bounds. 0<=x<${Math.pow(2,a)}, 0<=y<${Math.pow(2,a)} 0<=z<=25 `);this.z=a,this.x=g,this.y=m,this.key=Xa(0,a,a,g,m)}equals(a){return this.z===a.z&&this.x===a.x&&this.y===a.y}url(a,g,m){const y=(E=this.y,A=this.z,I=gc(256*(v=this.x),256*(E=Math.pow(2,A)-E-1),A),R=gc(256*(v+1),256*(E+1),A),I[0]+","+I[1]+","+R[0]+","+R[1]);var v,E,A,I,R;const N=function(F,U,V){let q,ie="";for(let te=F;te>0;te--)q=1<<te-1,ie+=(U&q?1:0)+(V&q?2:0);return ie}(this.z,this.x,this.y);return a[(this.x+this.y)%a.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,g>1?"@2x":"").replace(/{quadkey}/g,N).replace(/{bbox-epsg-3857}/g,y)}isChildOf(a){const g=this.z-a.z;return g>0&&a.x===this.x>>g&&a.y===this.y>>g}getTilePoint(a){const g=Math.pow(2,this.z);return new He((a.x*g-this.x)*hi,(a.y*g-this.y)*hi)}toString(){return`${this.z}/${this.x}/${this.y}`}}class dc{constructor(a,g){this.wrap=a,this.canonical=g,this.key=Xa(a,g.z,g.z,g.x,g.y)}}class fn{constructor(a,g,m,y,v){if(a<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${a}; z = ${m}`);this.overscaledZ=a,this.wrap=g,this.canonical=new Zl(m,+y,+v),this.key=Xa(g,a,m,y,v)}clone(){return new fn(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(a){return this.overscaledZ===a.overscaledZ&&this.wrap===a.wrap&&this.canonical.equals(a.canonical)}scaledTo(a){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const g=this.canonical.z-a;return a>this.canonical.z?new fn(a,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new fn(a,this.wrap,a,this.canonical.x>>g,this.canonical.y>>g)}calculateScaledKey(a,g){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-a;return a>this.canonical.z?Xa(this.wrap*+g,a,this.canonical.z,this.canonical.x,this.canonical.y):Xa(this.wrap*+g,a,a,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(a){if(a.wrap!==this.wrap)return!1;const g=this.canonical.z-a.canonical.z;return a.overscaledZ===0||a.overscaledZ<this.overscaledZ&&a.canonical.x===this.canonical.x>>g&&a.canonical.y===this.canonical.y>>g}children(a){if(this.overscaledZ>=a)return[new fn(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const g=this.canonical.z+1,m=2*this.canonical.x,y=2*this.canonical.y;return[new fn(g,this.wrap,g,m,y),new fn(g,this.wrap,g,m+1,y),new fn(g,this.wrap,g,m,y+1),new fn(g,this.wrap,g,m+1,y+1)]}isLessThan(a){return this.wrap<a.wrap||!(this.wrap>a.wrap)&&(this.overscaledZ<a.overscaledZ||!(this.overscaledZ>a.overscaledZ)&&(this.canonical.x<a.canonical.x||!(this.canonical.x>a.canonical.x)&&this.canonical.y<a.canonical.y))}wrapped(){return new fn(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(a){return new fn(this.overscaledZ,a,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new dc(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(a){return this.canonical.getTilePoint(new Ks(a.x-this.wrap,a.y))}}function Xa(p,a,g,m,y){(p*=2)<0&&(p=-1*p-1);const v=1<<g;return(v*v*p+v*y+m).toString(36)+g.toString(36)+a.toString(36)}We("CanonicalTileID",Zl),We("OverscaledTileID",fn,{omit:["posMatrix"]});class hc{constructor(a,g,m){if(this.uid=a,g.height!==g.width)throw new RangeError("DEM tiles must be square");if(m&&m!=="mapbox"&&m!=="terrarium")return void Ze(`"${m}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=g.height;const y=this.dim=g.height-2;this.data=new Uint32Array(g.data.buffer),this.encoding=m||"mapbox";for(let v=0;v<y;v++)this.data[this._idx(-1,v)]=this.data[this._idx(0,v)],this.data[this._idx(y,v)]=this.data[this._idx(y-1,v)],this.data[this._idx(v,-1)]=this.data[this._idx(v,0)],this.data[this._idx(v,y)]=this.data[this._idx(v,y-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(y,-1)]=this.data[this._idx(y-1,0)],this.data[this._idx(-1,y)]=this.data[this._idx(0,y-1)],this.data[this._idx(y,y)]=this.data[this._idx(y-1,y-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let v=0;v<y;v++)for(let E=0;E<y;E++){const A=this.get(v,E);A>this.max&&(this.max=A),A<this.min&&(this.min=A)}}get(a,g){const m=new Uint8Array(this.data.buffer),y=4*this._idx(a,g);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(m[y],m[y+1],m[y+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(a,g){if(a<-1||a>=this.dim+1||g<-1||g>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(g+1)*this.stride+(a+1)}_unpackMapbox(a,g,m){return(256*a*256+256*g+m)/10-1e4}_unpackTerrarium(a,g,m){return 256*a+g+m/256-32768}getPixels(){return new mn({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(a,g,m){if(this.dim!==a.dim)throw new Error("dem dimension mismatch");let y=g*this.dim,v=g*this.dim+this.dim,E=m*this.dim,A=m*this.dim+this.dim;switch(g){case-1:y=v-1;break;case 1:v=y+1}switch(m){case-1:E=A-1;break;case 1:A=E+1}const I=-g*this.dim,R=-m*this.dim;for(let N=E;N<A;N++)for(let F=y;F<v;F++)this.data[this._idx(F,N)]=a.data[this._idx(F+I,N+R)]}}We("DEMData",hc);class mc{constructor(a){this._stringToNumber={},this._numberToString=[];for(let g=0;g<a.length;g++){const m=a[g];this._stringToNumber[m]=g,this._numberToString[g]=m}}encode(a){return this._stringToNumber[a]}decode(a){if(a>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${a} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[a]}}class fc{constructor(a,g,m,y,v){this.type="Feature",this._vectorTileFeature=a,a._z=g,a._x=m,a._y=y,this.properties=a.properties,this.id=v}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(a){this._geometry=a}toJSON(){const a={geometry:this.geometry};for(const g in this)g!=="_geometry"&&g!=="_vectorTileFeature"&&(a[g]=this[g]);return a}}class _c{constructor(a,g){this.tileID=a,this.x=a.canonical.x,this.y=a.canonical.y,this.z=a.canonical.z,this.grid=new Zn(hi,16,0),this.grid3D=new Zn(hi,16,0),this.featureIndexArray=new pt,this.promoteId=g}insert(a,g,m,y,v,E){const A=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,y,v);const I=E?this.grid3D:this.grid;for(let R=0;R<g.length;R++){const N=g[R],F=[1/0,1/0,-1/0,-1/0];for(let U=0;U<N.length;U++){const V=N[U];F[0]=Math.min(F[0],V.x),F[1]=Math.min(F[1],V.y),F[2]=Math.max(F[2],V.x),F[3]=Math.max(F[3],V.y)}F[0]<hi&&F[1]<hi&&F[2]>=0&&F[3]>=0&&I.insert(A,F[0],F[1],F[2],F[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Io.VectorTile(new Fl(this.rawTileData)).layers,this.sourceLayerCoder=new mc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(a,g,m,y){this.loadVTLayers();const v=a.params||{},E=hi/a.tileSize/a.scale,A=xa(v.filter),I=a.queryGeometry,R=a.queryPadding*E,N=$c(I),F=this.grid.query(N.minX-R,N.minY-R,N.maxX+R,N.maxY+R),U=$c(a.cameraQueryGeometry),V=this.grid3D.query(U.minX-R,U.minY-R,U.maxX+R,U.maxY+R,(te,ge,$e,pe)=>function(ye,we,Pe,Ke,Je){for(const ze of ye)if(we<=ze.x&&Pe<=ze.y&&Ke>=ze.x&&Je>=ze.y)return!0;const Ue=[new He(we,Pe),new He(we,Je),new He(Ke,Je),new He(Ke,Pe)];if(ye.length>2){for(const ze of Ue)if(qr(ye,ze))return!0}for(let ze=0;ze<ye.length-1;ze++)if(Oc(ye[ze],ye[ze+1],Ue))return!0;return!1}(a.cameraQueryGeometry,te-R,ge-R,$e+R,pe+R));for(const te of V)F.push(te);F.sort(ng);const q={};let ie;for(let te=0;te<F.length;te++){const ge=F[te];if(ge===ie)continue;ie=ge;const $e=this.featureIndexArray.get(ge);let pe=null;this.loadMatchingFeature(q,$e.bucketIndex,$e.sourceLayerIndex,$e.featureIndex,A,v.layers,v.availableImages,g,m,y,(ye,we,Pe)=>(pe||(pe=sr(ye)),we.queryIntersectsFeature(I,ye,Pe,pe,this.z,a.transform,E,a.pixelPosMatrix)))}return q}loadMatchingFeature(a,g,m,y,v,E,A,I,R,N,F){const U=this.bucketLayerIDs[g];if(E&&!function(te,ge){for(let $e=0;$e<te.length;$e++)if(ge.indexOf(te[$e])>=0)return!0;return!1}(E,U))return;const V=this.sourceLayerCoder.decode(m),q=this.vtLayers[V].feature(y);if(v.needGeometry){const te=lr(q,!0);if(!v.filter(new Xt(this.tileID.overscaledZ),te,this.tileID.canonical))return}else if(!v.filter(new Xt(this.tileID.overscaledZ),q))return;const ie=this.getId(q,V);for(let te=0;te<U.length;te++){const ge=U[te];if(E&&E.indexOf(ge)<0)continue;const $e=I[ge];if(!$e)continue;let pe={};ie&&N&&(pe=N.getState($e.sourceLayer||"_geojsonTileLayer",ie));const ye=K({},R[ge]);ye.paint=yc(ye.paint,$e.paint,q,pe,A),ye.layout=yc(ye.layout,$e.layout,q,pe,A);const we=!F||F(q,$e,pe);if(!we)continue;const Pe=new fc(q,this.z,this.x,this.y,ie);Pe.layer=ye;let Ke=a[ge];Ke===void 0&&(Ke=a[ge]=[]),Ke.push({featureIndex:y,feature:Pe,intersectionZ:we})}}lookupSymbolFeatures(a,g,m,y,v,E,A,I){const R={};this.loadVTLayers();const N=xa(v);for(const F of a)this.loadMatchingFeature(R,m,y,F,N,E,A,I,g);return R}hasLayer(a){for(const g of this.bucketLayerIDs)for(const m of g)if(a===m)return!0;return!1}getId(a,g){let m=a.id;return this.promoteId&&(m=a.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[g]],typeof m=="boolean"&&(m=Number(m))),m}}function yc(p,a,g,m,y){return fe(p,(v,E)=>{const A=a instanceof Fr?a.get(E):null;return A&&A.evaluate?A.evaluate(g,m,y):A})}function $c(p){let a=1/0,g=1/0,m=-1/0,y=-1/0;for(const v of p)a=Math.min(a,v.x),g=Math.min(g,v.y),m=Math.max(m,v.x),y=Math.max(y,v.y);return{minX:a,minY:g,maxX:m,maxY:y}}function ng(p,a){return a-p}var Ql;We("FeatureIndex",_c,{omit:["rawTileData","sourceLayerCoder"]}),c.PerformanceMarkers=void 0,(Ql=c.PerformanceMarkers||(c.PerformanceMarkers={})).create="create",Ql.load="load",Ql.fullLoad="fullLoad";let Zs=null,Wa=[];const Jl=1e3/30,og={mark(p){performance.mark(p)},frame(p){const a=p;Zs!=null&&Wa.push(a-Zs),Zs=a},clearMetrics(){Zs=null,Wa=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const p in c.PerformanceMarkers)performance.clearMarks(c.PerformanceMarkers[p])},getPerformanceMetrics(){performance.measure("loadTime",c.PerformanceMarkers.create,c.PerformanceMarkers.load),performance.measure("fullLoadTime",c.PerformanceMarkers.create,c.PerformanceMarkers.fullLoad);const p=performance.getEntriesByName("loadTime")[0].duration,a=performance.getEntriesByName("fullLoadTime")[0].duration,g=Wa.length,m=1/(Wa.reduce((v,E)=>v+E,0)/g/1e3),y=Wa.filter(v=>v>Jl).reduce((v,E)=>v+(E-Jl)/Jl,0);return{loadTime:p,fullLoadTime:a,fps:m,percentDroppedFrames:y/(g+y)*100}}};c.AJAXError=an,c.ARRAY_TYPE=ji,c.Actor=class{constructor(p,a,g){this.target=p,this.parent=a,this.mapId=g,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},de(["receive","process"],this),this.invoker=new ig(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=lt()?p:window}send(p,a,g,m,y=!1){const v=Math.round(1e18*Math.random()).toString(36).substring(0,10);g&&(this.callbacks[v]=g);const E=Ut(this.globalScope)?void 0:[];return this.target.postMessage({id:v,type:p,hasCallback:!!g,targetMapId:m,mustQueue:y,sourceMapId:this.mapId,data:Qo(a,E)},E),{cancel:()=>{g&&delete this.callbacks[v],this.target.postMessage({id:v,type:"<cancel>",targetMapId:m,sourceMapId:this.mapId})}}}receive(p){const a=p.data,g=a.id;if(g&&(!a.targetMapId||this.mapId===a.targetMapId))if(a.type==="<cancel>"){delete this.tasks[g];const m=this.cancelCallbacks[g];delete this.cancelCallbacks[g],m&&m()}else lt()||a.mustQueue?(this.tasks[g]=a,this.taskQueue.push(g),this.invoker.trigger()):this.processTask(g,a)}process(){if(!this.taskQueue.length)return;const p=this.taskQueue.shift(),a=this.tasks[p];delete this.tasks[p],this.taskQueue.length&&this.invoker.trigger(),a&&this.processTask(p,a)}processTask(p,a){if(a.type==="<response>"){const g=this.callbacks[p];delete this.callbacks[p],g&&(a.error?g(Qn(a.error)):g(null,Qn(a.data)))}else{let g=!1;const m=Ut(this.globalScope)?void 0:[],y=a.hasCallback?(A,I)=>{g=!0,delete this.cancelCallbacks[p],this.target.postMessage({id:p,type:"<response>",sourceMapId:this.mapId,error:A?Qo(A):null,data:Qo(I,m)},m)}:A=>{g=!0};let v=null;const E=Qn(a.data);if(this.parent[a.type])v=this.parent[a.type](a.sourceMapId,E,y);else if(this.parent.getWorkerSource){const A=a.type.split(".");v=this.parent.getWorkerSource(a.sourceMapId,A[0],E.source)[A[1]](E,y)}else y(new Error(`Could not find function ${a.type}`));!g&&v&&v.cancel&&(this.cancelCallbacks[p]=v.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},c.AlphaImage=Fa,c.CanonicalTileID=Zl,c.CollisionBoxArray=me,c.CollisionCircleLayoutArray=class extends L{},c.Color=G,c.DEMData=hc,c.DataConstantProperty=tt,c.DictionaryCoder=mc,c.EXTENT=hi,c.ErrorEvent=Nn,c.EvaluationParameters=Xt,c.Event=bn,c.Evented=go,c.FeatureIndex=_c,c.FillBucket=Ll,c.FillExtrusionBucket=Nl,c.GeoJSONFeature=fc,c.ImageAtlas=Uu,c.ImagePosition=Bl,c.LineBucket=zl,c.LineStripIndexArray=class extends he{},c.LngLat=oi,c.LngLatBounds=cr,c.MercatorCoordinate=Ks,c.ONE_EM=vi,c.OverscaledTileID=fn,c.PerformanceUtils=og,c.PosArray=bt,c.Properties=di,c.QuadTriangleArray=class extends B{},c.RGBAImage=mn,c.RasterBoundsArray=class extends or{},c.RequestPerformance=class{constructor(p){this._marks={start:[p.url,"start"].join("#"),end:[p.url,"end"].join("#"),measure:p.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let p=performance.getEntriesByName(this._marks.measure);return p.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),p=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),p}},c.ResourceType=Do,c.SegmentVector=Pt,c.SymbolBucket=Qr,c.Transitionable=Ra,c.TriangleIndexArray=bi,c.Uniform1f=jr,c.Uniform1i=class extends hn{constructor(p,a){super(p,a),this.current=0}set(p){this.current!==p&&(this.current=p,this.gl.uniform1i(this.location,p))}},c.Uniform2f=class extends hn{constructor(p,a){super(p,a),this.current=[0,0]}set(p){p[0]===this.current[0]&&p[1]===this.current[1]||(this.current=p,this.gl.uniform2f(this.location,p[0],p[1]))}},c.Uniform3f=class extends hn{constructor(p,a){super(p,a),this.current=[0,0,0]}set(p){p[0]===this.current[0]&&p[1]===this.current[1]&&p[2]===this.current[2]||(this.current=p,this.gl.uniform3f(this.location,p[0],p[1],p[2]))}},c.Uniform4f=rr,c.UniformColor=Vr,c.UniformMatrix4f=class extends hn{constructor(p,a){super(p,a),this.current=Ac}set(p){if(p[12]!==this.current[12]||p[0]!==this.current[0])return this.current=p,void this.gl.uniformMatrix4fv(this.location,!1,p);for(let a=1;a<16;a++)if(p[a]!==this.current[a]){this.current=p,this.gl.uniformMatrix4fv(this.location,!1,p);break}}},c.UnwrappedTileID=dc,c.ValidationError=Me,c.ZoomHistory=Jo,c.add=function(p,a,g){return p[0]=a[0]+g[0],p[1]=a[1]+g[1],p[2]=a[2]+g[2],p},c.addDynamicAttributes=ql,c.asyncAll=function(p,a,g){if(!p.length)return g(null,[]);let m=p.length;const y=new Array(p.length);let v=null;p.forEach((E,A)=>{a(E,(I,R)=>{I&&(v=I),y[A]=R,--m==0&&g(v,y)})})},c.bezier=C,c.bindAll=de,c.cacheEntryPossiblyAdded=function(p){rn++,rn>zi&&(p.getActor().send("enforceCacheSizeLimit",Ii),rn=0)},c.clamp=D,c.clearTileCache=function(p){const a=caches.delete(Zt);p&&a.catch(p).then(()=>p())},c.clipLine=Ju,c.clone=function(p){var a=new ji(16);return a[0]=p[0],a[1]=p[1],a[2]=p[2],a[3]=p[3],a[4]=p[4],a[5]=p[5],a[6]=p[6],a[7]=p[7],a[8]=p[8],a[9]=p[9],a[10]=p[10],a[11]=p[11],a[12]=p[12],a[13]=p[13],a[14]=p[14],a[15]=p[15],a},c.clone$1=Ie,c.clone$2=function(p){var a=new ji(3);return a[0]=p[0],a[1]=p[1],a[2]=p[2],a},c.collisionCircleLayout=xp,c.config=Kt,c.copy=function(p,a){return p[0]=a[0],p[1]=a[1],p[2]=a[2],p[3]=a[3],p[4]=a[4],p[5]=a[5],p[6]=a[6],p[7]=a[7],p[8]=a[8],p[9]=a[9],p[10]=a[10],p[11]=a[11],p[12]=a[12],p[13]=a[13],p[14]=a[14],p[15]=a[15],p},c.create=function(){var p=new ji(16);return ji!=Float32Array&&(p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=0,p[12]=0,p[13]=0,p[14]=0),p[0]=1,p[5]=1,p[10]=1,p[15]=1,p},c.create$1=pu,c.createExpression=qo,c.createFilter=xa,c.createLayout=li,c.createStyleLayer=function(p){return p.type==="custom"?new eg(p):new tg[p.type](p)},c.cross=function(p,a,g){var m=a[0],y=a[1],v=a[2],E=g[0],A=g[1],I=g[2];return p[0]=y*I-v*A,p[1]=v*E-m*I,p[2]=m*A-y*E,p},c.dot=function(p,a){return p[0]*a[0]+p[1]*a[1]+p[2]*a[2]},c.dot$1=function(p,a){return p[0]*a[0]+p[1]*a[1]+p[2]*a[2]+p[3]*a[3]},c.ease=O,c.emitValidationErrors=Es,c.enforceCacheSizeLimit=function(p){Pi(),Ni&&Ni.then(a=>{a.keys().then(g=>{for(let m=0;m<g.length-p;m++)a.delete(g[m])})})},c.equals=function(p,a){var g=p[0],m=p[1],y=p[2],v=p[3],E=p[4],A=p[5],I=p[6],R=p[7],N=p[8],F=p[9],U=p[10],V=p[11],q=p[12],ie=p[13],te=p[14],ge=p[15],$e=a[0],pe=a[1],ye=a[2],we=a[3],Pe=a[4],Ke=a[5],Je=a[6],Ue=a[7],ze=a[8],Le=a[9],je=a[10],ke=a[11],Re=a[12],rt=a[13],it=a[14],vt=a[15];return Math.abs(g-$e)<=Ui*Math.max(1,Math.abs(g),Math.abs($e))&&Math.abs(m-pe)<=Ui*Math.max(1,Math.abs(m),Math.abs(pe))&&Math.abs(y-ye)<=Ui*Math.max(1,Math.abs(y),Math.abs(ye))&&Math.abs(v-we)<=Ui*Math.max(1,Math.abs(v),Math.abs(we))&&Math.abs(E-Pe)<=Ui*Math.max(1,Math.abs(E),Math.abs(Pe))&&Math.abs(A-Ke)<=Ui*Math.max(1,Math.abs(A),Math.abs(Ke))&&Math.abs(I-Je)<=Ui*Math.max(1,Math.abs(I),Math.abs(Je))&&Math.abs(R-Ue)<=Ui*Math.max(1,Math.abs(R),Math.abs(Ue))&&Math.abs(N-ze)<=Ui*Math.max(1,Math.abs(N),Math.abs(ze))&&Math.abs(F-Le)<=Ui*Math.max(1,Math.abs(F),Math.abs(Le))&&Math.abs(U-je)<=Ui*Math.max(1,Math.abs(U),Math.abs(je))&&Math.abs(V-ke)<=Ui*Math.max(1,Math.abs(V),Math.abs(ke))&&Math.abs(q-Re)<=Ui*Math.max(1,Math.abs(q),Math.abs(Re))&&Math.abs(ie-rt)<=Ui*Math.max(1,Math.abs(ie),Math.abs(rt))&&Math.abs(te-it)<=Ui*Math.max(1,Math.abs(te),Math.abs(it))&&Math.abs(ge-vt)<=Ui*Math.max(1,Math.abs(ge),Math.abs(vt))},c.evaluateSizeForFeature=function(p,{uSize:a,uSizeT:g},{lowerSize:m,upperSize:y}){return p.kind==="source"?m/oo:p.kind==="composite"?Qt(m/oo,y/oo,g):a},c.evaluateSizeForZoom=function(p,a){let g=0,m=0;if(p.kind==="constant")m=p.layoutSize;else if(p.kind!=="source"){const{interpolationType:y,minZoom:v,maxZoom:E}=p,A=y?D(Hi.interpolationFactor(y,a,v,E),0,1):0;p.kind==="camera"?m=Qt(p.minSize,p.maxSize,A):g=A}return{uSizeT:g,uSize:m}},c.evaluateVariableOffset=ic,c.evented=Eo,c.exported=ht,c.exported$1=yi,c.extend=K,c.filterObject=be,c.fromRotation=function(p,a){var g=Math.sin(a),m=Math.cos(a);return p[0]=m,p[1]=g,p[2]=0,p[3]=-g,p[4]=m,p[5]=0,p[6]=0,p[7]=0,p[8]=1,p},c.fromScaling=function(p,a){return p[0]=a[0],p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=a[1],p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=a[2],p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p},c.getAnchorAlignment=jl,c.getAnchorJustification=Gl,c.getArrayBuffer=uo,c.getImage=Lo,c.getJSON=function(p,a){return In(K(p,{type:"json"}),a)},c.getOverlapMode=Yl,c.getRTLTextPluginStatus=Oa,c.getReferrer=en,c.getVideo=function(p,a){const g=window.document.createElement("video");g.muted=!0,g.onloadstart=function(){a(null,g)};for(let m=0;m<p.length;m++){const y=window.document.createElement("source");dr(p[m])||(g.crossOrigin="Anonymous"),y.src=p[m],g.appendChild(y)}return{cancel:()=>{}}},c.identity=Tl,c.invert=function(p,a){var g=a[0],m=a[1],y=a[2],v=a[3],E=a[4],A=a[5],I=a[6],R=a[7],N=a[8],F=a[9],U=a[10],V=a[11],q=a[12],ie=a[13],te=a[14],ge=a[15],$e=g*A-m*E,pe=g*I-y*E,ye=g*R-v*E,we=m*I-y*A,Pe=m*R-v*A,Ke=y*R-v*I,Je=N*ie-F*q,Ue=N*te-U*q,ze=N*ge-V*q,Le=F*te-U*ie,je=F*ge-V*ie,ke=U*ge-V*te,Re=$e*ke-pe*je+ye*Le+we*ze-Pe*Ue+Ke*Je;return Re?(p[0]=(A*ke-I*je+R*Le)*(Re=1/Re),p[1]=(y*je-m*ke-v*Le)*Re,p[2]=(ie*Ke-te*Pe+ge*we)*Re,p[3]=(U*Pe-F*Ke-V*we)*Re,p[4]=(I*ze-E*ke-R*Ue)*Re,p[5]=(g*ke-y*ze+v*Ue)*Re,p[6]=(te*ye-q*Ke-ge*pe)*Re,p[7]=(N*Ke-U*ye+V*pe)*Re,p[8]=(E*je-A*ze+R*Je)*Re,p[9]=(m*ze-g*je-v*Je)*Re,p[10]=(q*Pe-ie*ye+ge*$e)*Re,p[11]=(F*ye-N*Pe-V*$e)*Re,p[12]=(A*Ue-E*Le-I*Je)*Re,p[13]=(g*Le-m*Ue+y*Je)*Re,p[14]=(ie*pe-q*we-te*$e)*Re,p[15]=(N*we-F*pe+U*$e)*Re,p):null},c.isImageBitmap=Ve,c.isSafari=Ut,c.isWorker=lt,c.keysDifference=function(p,a){const g=[];for(const m in p)m in a||g.push(m);return g},c.lazyLoadRTLTextPlugin=function(){tn.isLoading()||tn.isLoaded()||Oa()!=="deferred"||Mr()},c.makeRequest=In,c.mapObject=fe,c.mercatorXfromLng=uc,c.mercatorYfromLat=cc,c.mercatorZfromAltitude=pc,c.mul=Lc,c.mul$1=function(p,a,g){return p[0]=a[0]*g[0],p[1]=a[1]*g[1],p[2]=a[2]*g[2],p[3]=a[3]*g[3],p},c.multiply=gu,c.nextPowerOfTwo=function(p){return p<=1?1:Math.pow(2,Math.ceil(Math.log(p)/Math.LN2))},c.normalize=function(p,a){var g=a[0],m=a[1],y=a[2],v=g*g+m*m+y*y;return v>0&&(v=1/Math.sqrt(v)),p[0]=a[0]*v,p[1]=a[1]*v,p[2]=a[2]*v,p},c.number=Qt,c.ortho=function(p,a,g,m,y,v,E){var A=1/(a-g),I=1/(m-y),R=1/(v-E);return p[0]=-2*A,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=-2*I,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=2*R,p[11]=0,p[12]=(a+g)*A,p[13]=(y+m)*I,p[14]=(E+v)*R,p[15]=1,p},c.parseCacheControl=ct,c.parseGlyphPbf=function(p){return new Fl(p).readFields(Dp,[])},c.pbf=Fl,c.performSymbolLayout=function(p){p.bucket.createArrays(),p.bucket.tilePixelRatio=hi/(512*p.bucket.overscaling),p.bucket.compareText={},p.bucket.iconsNeedLinear=!1;const a=p.bucket.layers[0].layout,g=p.bucket.layers[0]._unevaluatedLayout._values,m={layoutIconSize:g["icon-size"].possiblyEvaluate(new Xt(p.bucket.zoom+1),p.canonical),layoutTextSize:g["text-size"].possiblyEvaluate(new Xt(p.bucket.zoom+1),p.canonical),textMaxSize:g["text-size"].possiblyEvaluate(new Xt(18))};if(p.bucket.textSizeData.kind==="composite"){const{minZoom:I,maxZoom:R}=p.bucket.textSizeData;m.compositeTextSizes=[g["text-size"].possiblyEvaluate(new Xt(I),p.canonical),g["text-size"].possiblyEvaluate(new Xt(R),p.canonical)]}if(p.bucket.iconSizeData.kind==="composite"){const{minZoom:I,maxZoom:R}=p.bucket.iconSizeData;m.compositeIconSizes=[g["icon-size"].possiblyEvaluate(new Xt(I),p.canonical),g["icon-size"].possiblyEvaluate(new Xt(R),p.canonical)]}const y=a.get("text-line-height")*vi,v=a.get("text-rotation-alignment")!=="viewport"&&a.get("symbol-placement")!=="point",E=a.get("text-keep-upright"),A=a.get("text-size");for(const I of p.bucket.features){const R=a.get("text-font").evaluate(I,{},p.canonical).join(","),N=A.evaluate(I,{},p.canonical),F=m.layoutTextSize.evaluate(I,{},p.canonical),U=m.layoutIconSize.evaluate(I,{},p.canonical),V={horizontal:{},vertical:void 0},q=I.text;let ie,te=[0,0];if(q){const pe=q.toString(),ye=a.get("text-letter-spacing").evaluate(I,{},p.canonical)*vi,we=Ss(pe)?ye:0,Pe=a.get("text-anchor").evaluate(I,{},p.canonical),Ke=a.get("text-variable-anchor");if(!Ke){const je=a.get("text-radial-offset").evaluate(I,{},p.canonical);te=je?ic(Pe,[je*vi,Vl]):a.get("text-offset").evaluate(I,{},p.canonical).map(ke=>ke*vi)}let Je=v?"center":a.get("text-justify").evaluate(I,{},p.canonical);const Ue=a.get("symbol-placement"),ze=Ue==="point"?a.get("text-max-width").evaluate(I,{},p.canonical)*vi:0,Le=()=>{p.bucket.allowVerticalPlacement&&Aa(pe)&&(V.vertical=js(q,p.glyphMap,p.glyphPositions,p.imagePositions,R,ze,y,Pe,"left",we,te,c.WritingMode.vertical,!0,Ue,F,N))};if(!v&&Ke){const je=Je==="auto"?Ke.map(Re=>Gl(Re)):[Je];let ke=!1;for(let Re=0;Re<je.length;Re++){const rt=je[Re];if(!V.horizontal[rt])if(ke)V.horizontal[rt]=V.horizontal[0];else{const it=js(q,p.glyphMap,p.glyphPositions,p.imagePositions,R,ze,y,"center",rt,we,te,c.WritingMode.horizontal,!1,Ue,F,N);it&&(V.horizontal[rt]=it,ke=it.positionedLines.length===1)}}Le()}else{Je==="auto"&&(Je=Gl(Pe));const je=js(q,p.glyphMap,p.glyphPositions,p.imagePositions,R,ze,y,Pe,Je,we,te,c.WritingMode.horizontal,!1,Ue,F,N);je&&(V.horizontal[Je]=je),Le(),Aa(pe)&&v&&E&&(V.vertical=js(q,p.glyphMap,p.glyphPositions,p.imagePositions,R,ze,y,Pe,Je,we,te,c.WritingMode.vertical,!1,Ue,F,N))}}let ge=!1;if(I.icon&&I.icon.name){const pe=p.imageMap[I.icon.name];pe&&(ie=kp(p.imagePositions[I.icon.name],a.get("icon-offset").evaluate(I,{},p.canonical),a.get("icon-anchor").evaluate(I,{},p.canonical)),ge=!!pe.sdf,p.bucket.sdfIcons===void 0?p.bucket.sdfIcons=ge:p.bucket.sdfIcons!==ge&&Ze("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(pe.pixelRatio!==p.bucket.pixelRatio||a.get("icon-rotate").constantOr(1)!==0)&&(p.bucket.iconsNeedLinear=!0))}const $e=oc(V.horizontal)||V.vertical;p.bucket.iconsInText=!!$e&&$e.iconsInText,($e||ie)&&Hp(p.bucket,I,V,ie,p.imageMap,m,F,U,te,ge,p.canonical)}p.showCollisionBoxes&&p.bucket.generateCollisionDebugBuffers()},c.perspective=function(p,a,g,m,y){var v,E=1/Math.tan(a/2);return p[0]=E/g,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=E,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=-1,p[12]=0,p[13]=0,p[15]=0,y!=null&&y!==1/0?(p[10]=(y+m)*(v=1/(m-y)),p[14]=2*y*m*v):(p[10]=-1,p[14]=-2*m),p},c.pick=function(p,a){const g={};for(let m=0;m<a.length;m++){const y=a[m];y in p&&(g[y]=p[y])}return g},c.plugin=tn,c.pointGeometry=He,c.polygonIntersectsPolygon=su,c.potpack=Bu,c.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],c.register=We,c.registerForPluginStateChange=function(p){return p({pluginStatus:Fi,pluginURL:Vn}),Eo.on("pluginStateChange",p),p},c.renderColorRamp=$u,c.rotateX=function(p,a,g){var m=Math.sin(g),y=Math.cos(g),v=a[4],E=a[5],A=a[6],I=a[7],R=a[8],N=a[9],F=a[10],U=a[11];return a!==p&&(p[0]=a[0],p[1]=a[1],p[2]=a[2],p[3]=a[3],p[12]=a[12],p[13]=a[13],p[14]=a[14],p[15]=a[15]),p[4]=v*y+R*m,p[5]=E*y+N*m,p[6]=A*y+F*m,p[7]=I*y+U*m,p[8]=R*y-v*m,p[9]=N*y-E*m,p[10]=F*y-A*m,p[11]=U*y-I*m,p},c.rotateZ=function(p,a,g){var m=Math.sin(g),y=Math.cos(g),v=a[0],E=a[1],A=a[2],I=a[3],R=a[4],N=a[5],F=a[6],U=a[7];return a!==p&&(p[8]=a[8],p[9]=a[9],p[10]=a[10],p[11]=a[11],p[12]=a[12],p[13]=a[13],p[14]=a[14],p[15]=a[15]),p[0]=v*y+R*m,p[1]=E*y+N*m,p[2]=A*y+F*m,p[3]=I*y+U*m,p[4]=R*y-v*m,p[5]=N*y-E*m,p[6]=F*y-A*m,p[7]=U*y-I*m,p},c.scale=function(p,a,g){var m=g[0],y=g[1],v=g[2];return p[0]=a[0]*m,p[1]=a[1]*m,p[2]=a[2]*m,p[3]=a[3]*m,p[4]=a[4]*y,p[5]=a[5]*y,p[6]=a[6]*y,p[7]=a[7]*y,p[8]=a[8]*v,p[9]=a[9]*v,p[10]=a[10]*v,p[11]=a[11]*v,p[12]=a[12],p[13]=a[13],p[14]=a[14],p[15]=a[15],p},c.scale$1=function(p,a,g){return p[0]=a[0]*g,p[1]=a[1]*g,p[2]=a[2]*g,p},c.setCacheLimits=function(p,a){Ii=p,zi=a},c.setRTLTextPlugin=function(p,a,g=!1){if(Fi===Lr||Fi===Ca||Fi===Ia)throw new Error("setRTLTextPlugin cannot be called multiple times.");Vn=ht.resolveURL(p),Fi=Lr,Pa=a,wa(),g||Mr()},c.spec=Te,c.sphericalToCartesian=function([p,a,g]){return a+=90,a*=Math.PI/180,g*=Math.PI/180,{x:p*Math.cos(a)*Math.sin(g),y:p*Math.sin(a)*Math.sin(g),z:p*Math.cos(g)}},c.sqrLen=function(p){var a=p[0],g=p[1];return a*a+g*g},c.sub=function(p,a,g){return p[0]=a[0]-g[0],p[1]=a[1]-g[1],p[2]=a[2]-g[2],p},c.toEvaluationFeature=lr,c.transformMat3=function(p,a,g){var m=a[0],y=a[1],v=a[2];return p[0]=m*g[0]+y*g[3]+v*g[6],p[1]=m*g[1]+y*g[4]+v*g[7],p[2]=m*g[2]+y*g[5]+v*g[8],p},c.transformMat4=Ls,c.transformMat4$1=function(p,a,g){var m=a[0],y=a[1];return p[0]=g[0]*m+g[4]*y+g[12],p[1]=g[1]*m+g[5]*y+g[13],p},c.translate=function(p,a,g){var m,y,v,E,A,I,R,N,F,U,V,q,ie=g[0],te=g[1],ge=g[2];return a===p?(p[12]=a[0]*ie+a[4]*te+a[8]*ge+a[12],p[13]=a[1]*ie+a[5]*te+a[9]*ge+a[13],p[14]=a[2]*ie+a[6]*te+a[10]*ge+a[14],p[15]=a[3]*ie+a[7]*te+a[11]*ge+a[15]):(y=a[1],v=a[2],E=a[3],A=a[4],I=a[5],R=a[6],N=a[7],F=a[8],U=a[9],V=a[10],q=a[11],p[0]=m=a[0],p[1]=y,p[2]=v,p[3]=E,p[4]=A,p[5]=I,p[6]=R,p[7]=N,p[8]=F,p[9]=U,p[10]=V,p[11]=q,p[12]=m*ie+A*te+F*ge+a[12],p[13]=y*ie+I*te+U*ge+a[13],p[14]=v*ie+R*te+V*ge+a[14],p[15]=E*ie+N*te+q*ge+a[15]),p},c.triggerPluginCompletionEvent=Cs,c.unicodeBlockLookup=Be,c.uniqueId=function(){return le++},c.validateCustomStyleLayer=function(p){const a=[],g=p.id;return g===void 0&&a.push({message:`layers.${g}: missing required property "id"`}),p.render===void 0&&a.push({message:`layers.${g}: missing required method "render"`}),p.renderingMode&&p.renderingMode!=="2d"&&p.renderingMode!=="3d"&&a.push({message:`layers.${g}: property "renderingMode" must be either "2d" or "3d"`}),a},c.validateLight=dl,c.validateStyle=Kn,c.vectorTile=Io,c.warnOnce=Ze,c.wrap=H}),u(["./shared"],function(c){function b(X){const M=typeof X;if(M==="number"||M==="boolean"||M==="string"||X==null)return JSON.stringify(X);if(Array.isArray(X)){let W="[";for(const ne of X)W+=`${b(ne)},`;return`${W}]`}const k=Object.keys(X).sort();let G="{";for(let W=0;W<k.length;W++)G+=`${JSON.stringify(k[W])}:${b(X[k[W]])},`;return`${G}}`}function S(X){let M="";for(const k of c.refProperties)M+=`/${b(X[k])}`;return M}class C{constructor(M){this.keyCache={},M&&this.replace(M)}replace(M){this._layerConfigs={},this._layers={},this.update(M,[])}update(M,k){for(const W of M){this._layerConfigs[W.id]=W;const ne=this._layers[W.id]=c.createStyleLayer(W);ne._featureFilter=c.createFilter(ne.filter),this.keyCache[W.id]&&delete this.keyCache[W.id]}for(const W of k)delete this.keyCache[W],delete this._layerConfigs[W],delete this._layers[W];this.familiesBySource={};const G=function(W,ne){const ae={};for(let oe=0;oe<W.length;oe++){const ce=ne&&ne[W[oe].id]||S(W[oe]);ne&&(ne[W[oe].id]=ce);let ve=ae[ce];ve||(ve=ae[ce]=[]),ve.push(W[oe])}const re=[];for(const oe in ae)re.push(ae[oe]);return re}(Object.values(this._layerConfigs),this.keyCache);for(const W of G){const ne=W.map(Ce=>this._layers[Ce.id]),ae=ne[0];if(ae.visibility==="none")continue;const re=ae.source||"";let oe=this.familiesBySource[re];oe||(oe=this.familiesBySource[re]={});const ce=ae.sourceLayer||"_geojsonTileLayer";let ve=oe[ce];ve||(ve=oe[ce]=[]),ve.push(ne)}}}class O{constructor(M){const k={},G=[];for(const re in M){const oe=M[re],ce=k[re]={};for(const ve in oe){const Ce=oe[+ve];if(!Ce||Ce.bitmap.width===0||Ce.bitmap.height===0)continue;const Ae={x:0,y:0,w:Ce.bitmap.width+2,h:Ce.bitmap.height+2};G.push(Ae),ce[ve]={rect:Ae,metrics:Ce.metrics}}}const{w:W,h:ne}=c.potpack(G),ae=new c.AlphaImage({width:W||1,height:ne||1});for(const re in M){const oe=M[re];for(const ce in oe){const ve=oe[+ce];if(!ve||ve.bitmap.width===0||ve.bitmap.height===0)continue;const Ce=k[re][ce].rect;c.AlphaImage.copy(ve.bitmap,ae,{x:0,y:0},{x:Ce.x+1,y:Ce.y+1},ve.bitmap)}}this.image=ae,this.positions=k}}c.register("GlyphAtlas",O);class D{constructor(M){this.tileID=new c.OverscaledTileID(M.tileID.overscaledZ,M.tileID.wrap,M.tileID.canonical.z,M.tileID.canonical.x,M.tileID.canonical.y),this.uid=M.uid,this.zoom=M.zoom,this.pixelRatio=M.pixelRatio,this.tileSize=M.tileSize,this.source=M.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=M.showCollisionBoxes,this.collectResourceTiming=!!M.collectResourceTiming,this.returnDependencies=!!M.returnDependencies,this.promoteId=M.promoteId}parse(M,k,G,W,ne){this.status="parsing",this.data=M,this.collisionBoxArray=new c.CollisionBoxArray;const ae=new c.DictionaryCoder(Object.keys(M.layers).sort()),re=new c.FeatureIndex(this.tileID,this.promoteId);re.bucketLayerIDs=[];const oe={},ce={featureIndex:re,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:G},ve=k.familiesBySource[this.source];for(const $t in ve){const _t=M.layers[$t];if(!_t)continue;_t.version===1&&c.warnOnce(`Vector tile source "${this.source}" layer "${$t}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const dt=ae.encode($t),ri=[];for(let ii=0;ii<_t.length;ii++){const si=_t.feature(ii),$i=re.getId(si,$t);ri.push({feature:si,id:$i,index:ii,sourceLayerIndex:dt})}for(const ii of ve[$t]){const si=ii[0];si.source!==this.source&&c.warnOnce(`layer.source = ${si.source} does not equal this.source = ${this.source}`),si.minzoom&&this.zoom<Math.floor(si.minzoom)||si.maxzoom&&this.zoom>=si.maxzoom||si.visibility!=="none"&&(H(ii,this.zoom,G),(oe[si.id]=si.createBucket({index:re.bucketLayerIDs.length,layers:ii,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:dt,sourceID:this.source})).populate(ri,ce,this.tileID.canonical),re.bucketLayerIDs.push(ii.map($i=>$i.id)))}}let Ce,Ae,Ye,Ge;const et=c.mapObject(ce.glyphDependencies,$t=>Object.keys($t).map(Number));Object.keys(et).length?W.send("getGlyphs",{uid:this.uid,stacks:et},($t,_t)=>{Ce||(Ce=$t,Ae=_t,xt.call(this))}):Ae={};const nt=Object.keys(ce.iconDependencies);nt.length?W.send("getImages",{icons:nt,source:this.source,tileID:this.tileID,type:"icons"},($t,_t)=>{Ce||(Ce=$t,Ye=_t,xt.call(this))}):Ye={};const ft=Object.keys(ce.patternDependencies);function xt(){if(Ce)return ne(Ce);if(Ae&&Ye&&Ge){const $t=new O(Ae),_t=new c.ImageAtlas(Ye,Ge);for(const dt in oe){const ri=oe[dt];ri instanceof c.SymbolBucket?(H(ri.layers,this.zoom,G),c.performSymbolLayout({bucket:ri,glyphMap:Ae,glyphPositions:$t.positions,imageMap:Ye,imagePositions:_t.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):ri.hasPattern&&(ri instanceof c.LineBucket||ri instanceof c.FillBucket||ri instanceof c.FillExtrusionBucket)&&(H(ri.layers,this.zoom,G),ri.addFeatures(ce,this.tileID.canonical,_t.patternPositions))}this.status="done",ne(null,{buckets:Object.values(oe).filter(dt=>!dt.isEmpty()),featureIndex:re,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:$t.image,imageAtlas:_t,glyphMap:this.returnDependencies?Ae:null,iconMap:this.returnDependencies?Ye:null,glyphPositions:this.returnDependencies?$t.positions:null})}}ft.length?W.send("getImages",{icons:ft,source:this.source,tileID:this.tileID,type:"patterns"},($t,_t)=>{Ce||(Ce=$t,Ge=_t,xt.call(this))}):Ge={},xt.call(this)}}function H(X,M,k){const G=new c.EvaluationParameters(M);for(const W of X)W.recalculate(G,k)}function K(X,M){const k=c.getArrayBuffer(X.request,(G,W,ne,ae)=>{G?M(G):W&&M(null,{vectorTile:new c.vectorTile.VectorTile(new c.pbf(W)),rawData:W,cacheControl:ne,expires:ae})});return()=>{k.cancel(),M()}}class le{constructor(M,k,G,W){this.actor=M,this.layerIndex=k,this.availableImages=G,this.loadVectorData=W||K,this.loading={},this.loaded={}}loadTile(M,k){const G=M.uid;this.loading||(this.loading={});const W=!!(M&&M.request&&M.request.collectResourceTiming)&&new c.RequestPerformance(M.request),ne=this.loading[G]=new D(M);ne.abort=this.loadVectorData(M,(ae,re)=>{if(delete this.loading[G],ae||!re)return ne.status="done",this.loaded[G]=ne,k(ae);const oe=re.rawData,ce={};re.expires&&(ce.expires=re.expires),re.cacheControl&&(ce.cacheControl=re.cacheControl);const ve={};if(W){const Ce=W.finish();Ce&&(ve.resourceTiming=JSON.parse(JSON.stringify(Ce)))}ne.vectorTile=re.vectorTile,ne.parse(re.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ce,Ae)=>{if(Ce||!Ae)return k(Ce);k(null,c.extend({rawTileData:oe.slice(0)},Ae,ce,ve))}),this.loaded=this.loaded||{},this.loaded[G]=ne})}reloadTile(M,k){const G=this.loaded,W=M.uid,ne=this;if(G&&G[W]){const ae=G[W];ae.showCollisionBoxes=M.showCollisionBoxes;const re=(oe,ce)=>{const ve=ae.reloadCallback;ve&&(delete ae.reloadCallback,ae.parse(ae.vectorTile,ne.layerIndex,this.availableImages,ne.actor,ve)),k(oe,ce)};ae.status==="parsing"?ae.reloadCallback=re:ae.status==="done"&&(ae.vectorTile?ae.parse(ae.vectorTile,this.layerIndex,this.availableImages,this.actor,re):re())}}abortTile(M,k){const G=this.loading,W=M.uid;G&&G[W]&&G[W].abort&&(G[W].abort(),delete G[W]),k()}removeTile(M,k){const G=this.loaded,W=M.uid;G&&G[W]&&delete G[W],k()}}class de{constructor(){this.loaded={}}loadTile(M,k){const{uid:G,encoding:W,rawImageData:ne}=M,ae=c.isImageBitmap(ne)?this.getImageData(ne):ne,re=new c.DEMData(G,ae,W);this.loaded=this.loaded||{},this.loaded[G]=re,k(null,re)}getImageData(M){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(M.width,M.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=M.width,this.offscreenCanvas.height=M.height,this.offscreenCanvasContext.drawImage(M,0,0,M.width,M.height);const k=this.offscreenCanvasContext.getImageData(-1,-1,M.width+2,M.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new c.RGBAImage({width:k.width,height:k.height},k.data)}removeTile(M){const k=this.loaded,G=M.uid;k&&k[G]&&delete k[G]}}var fe=function X(M,k){var G,W=M&&M.type;if(W==="FeatureCollection")for(G=0;G<M.features.length;G++)X(M.features[G],k);else if(W==="GeometryCollection")for(G=0;G<M.geometries.length;G++)X(M.geometries[G],k);else if(W==="Feature")X(M.geometry,k);else if(W==="Polygon")be(M.coordinates,k);else if(W==="MultiPolygon")for(G=0;G<M.coordinates.length;G++)be(M.coordinates[G],k);return M};function be(X,M){if(X.length!==0){Ie(X[0],M);for(var k=1;k<X.length;k++)Ie(X[k],!1)}}function Ie(X,M){for(var k=0,G=0,W=0,ne=X.length,ae=ne-1;W<ne;ae=W++){var re=(X[W][0]-X[ae][0])*(X[ae][1]+X[W][1]),oe=k+re;G+=Math.abs(k)>=Math.abs(re)?k-oe+re:re-oe+k,k=oe}k+G>=0!=!!M&&X.reverse()}const De=c.vectorTile.VectorTileFeature.prototype.toGeoJSON;class Ze{constructor(M){this._feature=M,this.extent=c.EXTENT,this.type=M.type,this.properties=M.tags,"id"in M&&!isNaN(M.id)&&(this.id=parseInt(M.id,10))}loadGeometry(){if(this._feature.type===1){const M=[];for(const k of this._feature.geometry)M.push([new c.pointGeometry(k[0],k[1])]);return M}{const M=[];for(const k of this._feature.geometry){const G=[];for(const W of k)G.push(new c.pointGeometry(W[0],W[1]));M.push(G)}return M}}toGeoJSON(M,k,G){return De.call(this,M,k,G)}}class ot{constructor(M){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=c.EXTENT,this.length=M.length,this._features=M}feature(M){return new Ze(this._features[M])}}var ut={exports:{}},lt=c.pointGeometry,ct=c.vectorTile.VectorTileFeature,wt=At;function At(X,M){this.options=M||{},this.features=X,this.length=X.length}function Ot(X,M){this.id=typeof X.id=="number"?X.id:void 0,this.type=X.type,this.rawGeometry=X.type===1?[X.geometry]:X.geometry,this.properties=X.tags,this.extent=M||4096}At.prototype.feature=function(X){return new Ot(this.features[X],this.options.extent)},Ot.prototype.loadGeometry=function(){var X=this.rawGeometry;this.geometry=[];for(var M=0;M<X.length;M++){for(var k=X[M],G=[],W=0;W<k.length;W++)G.push(new lt(k[W][0],k[W][1]));this.geometry.push(G)}return this.geometry},Ot.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var X=this.geometry,M=1/0,k=-1/0,G=1/0,W=-1/0,ne=0;ne<X.length;ne++)for(var ae=X[ne],re=0;re<ae.length;re++){var oe=ae[re];M=Math.min(M,oe.x),k=Math.max(k,oe.x),G=Math.min(G,oe.y),W=Math.max(W,oe.y)}return[M,G,k,W]},Ot.prototype.toGeoJSON=ct.prototype.toGeoJSON;var Ut=c.pbf,Ve=wt;function ht(X){var M=new Ut;return function(k,G){for(var W in k.layers)G.writeMessage(3,He,k.layers[W])}(X,M),M.finish()}function He(X,M){var k;M.writeVarintField(15,X.version||1),M.writeStringField(1,X.name||""),M.writeVarintField(5,X.extent||4096);var G={keys:[],values:[],keycache:{},valuecache:{}};for(k=0;k<X.length;k++)G.feature=X.feature(k),M.writeMessage(2,Ft,G);var W=G.keys;for(k=0;k<W.length;k++)M.writeStringField(3,W[k]);var ne=G.values;for(k=0;k<ne.length;k++)M.writeMessage(4,zi,ne[k])}function Ft(X,M){var k=X.feature;k.id!==void 0&&M.writeVarintField(1,k.id),M.writeMessage(2,Kt,X),M.writeVarintField(3,k.type),M.writeMessage(4,Ii,k)}function Kt(X,M){var k=X.feature,G=X.keys,W=X.values,ne=X.keycache,ae=X.valuecache;for(var re in k.properties){var oe=k.properties[re],ce=ne[re];if(oe!==null){ce===void 0&&(G.push(re),ne[re]=ce=G.length-1),M.writeVarint(ce);var ve=typeof oe;ve!=="string"&&ve!=="boolean"&&ve!=="number"&&(oe=JSON.stringify(oe));var Ce=ve+":"+oe,Ae=ae[Ce];Ae===void 0&&(W.push(oe),ae[Ce]=Ae=W.length-1),M.writeVarint(Ae)}}}function Zt(X,M){return(M<<3)+(7&X)}function Ni(X){return X<<1^X>>31}function Ii(X,M){for(var k=X.loadGeometry(),G=X.type,W=0,ne=0,ae=k.length,re=0;re<ae;re++){var oe=k[re],ce=1;G===1&&(ce=oe.length),M.writeVarint(Zt(1,ce));for(var ve=G===3?oe.length-1:oe.length,Ce=0;Ce<ve;Ce++){Ce===1&&G!==1&&M.writeVarint(Zt(2,ve-1));var Ae=oe[Ce].x-W,Ye=oe[Ce].y-ne;M.writeVarint(Ni(Ae)),M.writeVarint(Ni(Ye)),W+=Ae,ne+=Ye}G===3&&M.writeVarint(Zt(7,1))}}function zi(X,M){var k=typeof X;k==="string"?M.writeStringField(1,X):k==="boolean"?M.writeBooleanField(7,X):k==="number"&&(X%1!=0?M.writeDoubleField(3,X):X<0?M.writeSVarintField(6,X):M.writeVarintField(5,X))}function Pi(X,M,k,G,W,ne){if(W-G<=k)return;const ae=G+W>>1;rn(X,M,ae,G,W,ne%2),Pi(X,M,k,G,ae-1,ne+1),Pi(X,M,k,ae+1,W,ne+1)}function rn(X,M,k,G,W,ne){for(;W>G;){if(W-G>600){const ce=W-G+1,ve=k-G+1,Ce=Math.log(ce),Ae=.5*Math.exp(2*Ce/3),Ye=.5*Math.sqrt(Ce*Ae*(ce-Ae)/ce)*(ve-ce/2<0?-1:1);rn(X,M,k,Math.max(G,Math.floor(k-ve*Ae/ce+Ye)),Math.min(W,Math.floor(k+(ce-ve)*Ae/ce+Ye)),ne)}const ae=M[2*k+ne];let re=G,oe=W;for(yi(X,M,G,k),M[2*W+ne]>ae&&yi(X,M,G,W);re<oe;){for(yi(X,M,re,oe),re++,oe--;M[2*re+ne]<ae;)re++;for(;M[2*oe+ne]>ae;)oe--}M[2*G+ne]===ae?yi(X,M,G,oe):(oe++,yi(X,M,oe,W)),oe<=k&&(G=oe+1),k<=oe&&(W=oe-1)}}function yi(X,M,k,G){$n(X,k,G),$n(M,2*k,2*G),$n(M,2*k+1,2*G+1)}function $n(X,M,k){const G=X[M];X[M]=X[k],X[k]=G}function Cn(X,M,k,G){const W=X-k,ne=M-G;return W*W+ne*ne}ut.exports=ht,ut.exports.fromVectorTileJs=ht,ut.exports.fromGeojsonVt=function(X,M){M=M||{};var k={};for(var G in X)k[G]=new Ve(X[G].features,M),k[G].name=G,k[G].version=M.version,k[G].extent=M.extent;return ht({layers:k})},ut.exports.GeoJSONWrapper=Ve;const Ro=X=>X[0],Gi=X=>X[1];class lo{constructor(M,k=Ro,G=Gi,W=64,ne=Float64Array){this.nodeSize=W,this.points=M;const ae=M.length<65536?Uint16Array:Uint32Array,re=this.ids=new ae(M.length),oe=this.coords=new ne(2*M.length);for(let ce=0;ce<M.length;ce++)re[ce]=ce,oe[2*ce]=k(M[ce]),oe[2*ce+1]=G(M[ce]);Pi(re,oe,W,0,re.length-1,0)}range(M,k,G,W){return function(ne,ae,re,oe,ce,ve,Ce){const Ae=[0,ne.length-1,0],Ye=[];let Ge,et;for(;Ae.length;){const nt=Ae.pop(),ft=Ae.pop(),xt=Ae.pop();if(ft-xt<=Ce){for(let dt=xt;dt<=ft;dt++)Ge=ae[2*dt],et=ae[2*dt+1],Ge>=re&&Ge<=ce&&et>=oe&&et<=ve&&Ye.push(ne[dt]);continue}const $t=Math.floor((xt+ft)/2);Ge=ae[2*$t],et=ae[2*$t+1],Ge>=re&&Ge<=ce&&et>=oe&&et<=ve&&Ye.push(ne[$t]);const _t=(nt+1)%2;(nt===0?re<=Ge:oe<=et)&&(Ae.push(xt),Ae.push($t-1),Ae.push(_t)),(nt===0?ce>=Ge:ve>=et)&&(Ae.push($t+1),Ae.push(ft),Ae.push(_t))}return Ye}(this.ids,this.coords,M,k,G,W,this.nodeSize)}within(M,k,G){return function(W,ne,ae,re,oe,ce){const ve=[0,W.length-1,0],Ce=[],Ae=oe*oe;for(;ve.length;){const Ye=ve.pop(),Ge=ve.pop(),et=ve.pop();if(Ge-et<=ce){for(let _t=et;_t<=Ge;_t++)Cn(ne[2*_t],ne[2*_t+1],ae,re)<=Ae&&Ce.push(W[_t]);continue}const nt=Math.floor((et+Ge)/2),ft=ne[2*nt],xt=ne[2*nt+1];Cn(ft,xt,ae,re)<=Ae&&Ce.push(W[nt]);const $t=(Ye+1)%2;(Ye===0?ae-oe<=ft:re-oe<=xt)&&(ve.push(et),ve.push(nt-1),ve.push($t)),(Ye===0?ae+oe>=ft:re+oe>=xt)&&(ve.push(nt+1),ve.push(Ge),ve.push($t))}return Ce}(this.ids,this.coords,M,k,G,this.nodeSize)}}const Do={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:X=>X},an=Math.fround||(en=new Float32Array(1),X=>(en[0]=+X,en[0]));var en;class gr{constructor(M){this.options=Mn(Object.create(Do),M),this.trees=new Array(this.options.maxZoom+1)}load(M){const{log:k,minZoom:G,maxZoom:W,nodeSize:ne}=this.options;k&&console.time("total time");const ae=`prepare ${M.length} points`;k&&console.time(ae),this.points=M;let re=[];for(let oe=0;oe<M.length;oe++)M[oe].geometry&&re.push(uo(M[oe],oe));this.trees[W+1]=new lo(re,po,bn,ne,Float32Array),k&&console.timeEnd(ae);for(let oe=W;oe>=G;oe--){const ce=+Date.now();re=this._cluster(re,oe),this.trees[oe]=new lo(re,po,bn,ne,Float32Array),k&&console.log("z%d: %d clusters in %dms",oe,re.length,+Date.now()-ce)}return k&&console.timeEnd("total time"),this}getClusters(M,k){let G=((M[0]+180)%360+360)%360-180;const W=Math.max(-90,Math.min(90,M[1]));let ne=M[2]===180?180:((M[2]+180)%360+360)%360-180;const ae=Math.max(-90,Math.min(90,M[3]));if(M[2]-M[0]>=360)G=-180,ne=180;else if(G>ne){const ve=this.getClusters([G,W,180,ae],k),Ce=this.getClusters([-180,W,ne,ae],k);return ve.concat(Ce)}const re=this.trees[this._limitZoom(k)],oe=re.range(St(G),sn(ae),St(ne),sn(W)),ce=[];for(const ve of oe){const Ce=re.points[ve];ce.push(Ce.numPoints?dr(Ce):this.points[Ce.index])}return ce}getChildren(M){const k=this._getOriginId(M),G=this._getOriginZoom(M),W="No cluster with the specified id.",ne=this.trees[G];if(!ne)throw new Error(W);const ae=ne.points[k];if(!ae)throw new Error(W);const re=this.options.radius/(this.options.extent*Math.pow(2,G-1)),oe=ne.within(ae.x,ae.y,re),ce=[];for(const ve of oe){const Ce=ne.points[ve];Ce.parentId===M&&ce.push(Ce.numPoints?dr(Ce):this.points[Ce.index])}if(ce.length===0)throw new Error(W);return ce}getLeaves(M,k,G){const W=[];return this._appendLeaves(W,M,k=k||10,G=G||0,0),W}getTile(M,k,G){const W=this.trees[this._limitZoom(M)],ne=Math.pow(2,M),{extent:ae,radius:re}=this.options,oe=re/ae,ce=(G-oe)/ne,ve=(G+1+oe)/ne,Ce={features:[]};return this._addTileFeatures(W.range((k-oe)/ne,ce,(k+1+oe)/ne,ve),W.points,k,G,ne,Ce),k===0&&this._addTileFeatures(W.range(1-oe/ne,ce,1,ve),W.points,ne,G,ne,Ce),k===ne-1&&this._addTileFeatures(W.range(0,ce,oe/ne,ve),W.points,-1,G,ne,Ce),Ce.features.length?Ce:null}getClusterExpansionZoom(M){let k=this._getOriginZoom(M)-1;for(;k<=this.options.maxZoom;){const G=this.getChildren(M);if(k++,G.length!==1)break;M=G[0].properties.cluster_id}return k}_appendLeaves(M,k,G,W,ne){const ae=this.getChildren(k);for(const re of ae){const oe=re.properties;if(oe&&oe.cluster?ne+oe.point_count<=W?ne+=oe.point_count:ne=this._appendLeaves(M,oe.cluster_id,G,W,ne):ne<W?ne++:M.push(re),M.length===G)break}return ne}_addTileFeatures(M,k,G,W,ne,ae){for(const re of M){const oe=k[re],ce=oe.numPoints;let ve,Ce,Ae;if(ce)ve=co(oe),Ce=oe.x,Ae=oe.y;else{const et=this.points[oe.index];ve=et.properties,Ce=St(et.geometry.coordinates[0]),Ae=sn(et.geometry.coordinates[1])}const Ye={type:1,geometry:[[Math.round(this.options.extent*(Ce*ne-G)),Math.round(this.options.extent*(Ae*ne-W))]],tags:ve};let Ge;ce?Ge=oe.id:this.options.generateId?Ge=oe.index:this.points[oe.index].id&&(Ge=this.points[oe.index].id),Ge!==void 0&&(Ye.id=Ge),ae.features.push(Ye)}}_limitZoom(M){return Math.max(this.options.minZoom,Math.min(Math.floor(+M),this.options.maxZoom+1))}_cluster(M,k){const G=[],{radius:W,extent:ne,reduce:ae,minPoints:re}=this.options,oe=W/(ne*Math.pow(2,k));for(let ce=0;ce<M.length;ce++){const ve=M[ce];if(ve.zoom<=k)continue;ve.zoom=k;const Ce=this.trees[k+1],Ae=Ce.within(ve.x,ve.y,oe),Ye=ve.numPoints||1;let Ge=Ye;for(const et of Ae){const nt=Ce.points[et];nt.zoom>k&&(Ge+=nt.numPoints||1)}if(Ge>Ye&&Ge>=re){let et=ve.x*Ye,nt=ve.y*Ye,ft=ae&&Ye>1?this._map(ve,!0):null;const xt=(ce<<5)+(k+1)+this.points.length;for(const $t of Ae){const _t=Ce.points[$t];if(_t.zoom<=k)continue;_t.zoom=k;const dt=_t.numPoints||1;et+=_t.x*dt,nt+=_t.y*dt,_t.parentId=xt,ae&&(ft||(ft=this._map(ve,!0)),ae(ft,this._map(_t)))}ve.parentId=xt,G.push(In(et/Ge,nt/Ge,xt,Ge,ft))}else if(G.push(ve),Ge>1)for(const et of Ae){const nt=Ce.points[et];nt.zoom<=k||(nt.zoom=k,G.push(nt))}}return G}_getOriginId(M){return M-this.points.length>>5}_getOriginZoom(M){return(M-this.points.length)%32}_map(M,k){if(M.numPoints)return k?Mn({},M.properties):M.properties;const G=this.points[M.index].properties,W=this.options.map(G);return k&&W===G?Mn({},W):W}}function In(X,M,k,G,W){return{x:an(X),y:an(M),zoom:1/0,id:k,parentId:-1,numPoints:G,properties:W}}function uo(X,M){const[k,G]=X.geometry.coordinates;return{x:an(St(k)),y:an(sn(G)),zoom:1/0,index:M,parentId:-1}}function dr(X){return{type:"Feature",id:X.id,properties:co(X),geometry:{type:"Point",coordinates:[(M=X.x,360*(M-.5)),Lo(X.y)]}};var M}function co(X){const M=X.numPoints,k=M>=1e4?`${Math.round(M/1e3)}k`:M>=1e3?Math.round(M/100)/10+"k":M;return Mn(Mn({},X.properties),{cluster:!0,cluster_id:X.id,point_count:M,point_count_abbreviated:k})}function St(X){return X/360+.5}function sn(X){const M=Math.sin(X*Math.PI/180),k=.5-.25*Math.log((1+M)/(1-M))/Math.PI;return k<0?0:k>1?1:k}function Lo(X){const M=(180-360*X)*Math.PI/180;return 360*Math.atan(Math.exp(M))/Math.PI-90}function Mn(X,M){for(const k in M)X[k]=M[k];return X}function po(X){return X.x}function bn(X){return X.y}function Nn(X,M,k,G){for(var W,ne=G,ae=k-M>>1,re=k-M,oe=X[M],ce=X[M+1],ve=X[k],Ce=X[k+1],Ae=M+3;Ae<k;Ae+=3){var Ye=go(X[Ae],X[Ae+1],oe,ce,ve,Ce);if(Ye>ne)W=Ae,ne=Ye;else if(Ye===ne){var Ge=Math.abs(Ae-ae);Ge<re&&(W=Ae,re=Ge)}}ne>G&&(W-M>3&&Nn(X,M,W,G),X[W+2]=ne,k-W>3&&Nn(X,W,k,G))}function go(X,M,k,G,W,ne){var ae=W-k,re=ne-G;if(ae!==0||re!==0){var oe=((X-k)*ae+(M-G)*re)/(ae*ae+re*re);oe>1?(k=W,G=ne):oe>0&&(k+=ae*oe,G+=re*oe)}return(ae=X-k)*ae+(re=M-G)*re}function Te(X,M,k,G){var W={id:X===void 0?null:X,type:M,geometry:k,tags:G,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ne){var ae=ne.geometry,re=ne.type;if(re==="Point"||re==="MultiPoint"||re==="LineString")Me(ne,ae);else if(re==="Polygon"||re==="MultiLineString")for(var oe=0;oe<ae.length;oe++)Me(ne,ae[oe]);else if(re==="MultiPolygon")for(oe=0;oe<ae.length;oe++)for(var ce=0;ce<ae[oe].length;ce++)Me(ne,ae[oe][ce])}(W),W}function Me(X,M){for(var k=0;k<M.length;k+=3)X.minX=Math.min(X.minX,M[k]),X.minY=Math.min(X.minY,M[k+1]),X.maxX=Math.max(X.maxX,M[k]),X.maxY=Math.max(X.maxY,M[k+1])}function qn(X,M,k,G){if(M.geometry){var W=M.geometry.coordinates,ne=M.geometry.type,ae=Math.pow(k.tolerance/((1<<k.maxZoom)*k.extent),2),re=[],oe=M.id;if(k.promoteId?oe=M.properties[k.promoteId]:k.generateId&&(oe=G||0),ne==="Point")ln(W,re);else if(ne==="MultiPoint")for(var ce=0;ce<W.length;ce++)ln(W[ce],re);else if(ne==="LineString")jt(W,re,ae,!1);else if(ne==="MultiLineString"){if(k.lineMetrics){for(ce=0;ce<W.length;ce++)jt(W[ce],re=[],ae,!1),X.push(Te(oe,"LineString",re,M.properties));return}ti(W,re,ae,!1)}else if(ne==="Polygon")ti(W,re,ae,!0);else{if(ne!=="MultiPolygon"){if(ne==="GeometryCollection"){for(ce=0;ce<M.geometry.geometries.length;ce++)qn(X,{id:oe,geometry:M.geometry.geometries[ce],properties:M.properties},k,G);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ce=0;ce<W.length;ce++){var ve=[];ti(W[ce],ve,ae,!0),re.push(ve)}}X.push(Te(oe,ne,re,M.properties))}}function ln(X,M){M.push(wi(X[0])),M.push(ho(X[1])),M.push(0)}function jt(X,M,k,G){for(var W,ne,ae=0,re=0;re<X.length;re++){var oe=wi(X[re][0]),ce=ho(X[re][1]);M.push(oe),M.push(ce),M.push(0),re>0&&(ae+=G?(W*ce-oe*ne)/2:Math.sqrt(Math.pow(oe-W,2)+Math.pow(ce-ne,2))),W=oe,ne=ce}var ve=M.length-3;M[2]=1,Nn(M,0,ve,k),M[ve+2]=1,M.size=Math.abs(ae),M.start=0,M.end=M.size}function ti(X,M,k,G){for(var W=0;W<X.length;W++){var ne=[];jt(X[W],ne,k,G),M.push(ne)}}function wi(X){return X/360+.5}function ho(X){var M=Math.sin(X*Math.PI/180),k=.5-.25*Math.log((1+M)/(1-M))/Math.PI;return k<0?0:k>1?1:k}function Oi(X,M,k,G,W,ne,ae,re){if(G/=M,ne>=(k/=M)&&ae<G)return X;if(ae<k||ne>=G)return null;for(var oe=[],ce=0;ce<X.length;ce++){var ve=X[ce],Ce=ve.geometry,Ae=ve.type,Ye=W===0?ve.minX:ve.minY,Ge=W===0?ve.maxX:ve.maxY;if(Ye>=k&&Ge<G)oe.push(ve);else if(!(Ge<k||Ye>=G)){var et=[];if(Ae==="Point"||Ae==="MultiPoint")Fe(Ce,et,k,G,W);else if(Ae==="LineString")yt(Ce,et,k,G,W,!1,re.lineMetrics);else if(Ae==="MultiLineString")Ri(Ce,et,k,G,W,!1);else if(Ae==="Polygon")Ri(Ce,et,k,G,W,!0);else if(Ae==="MultiPolygon")for(var nt=0;nt<Ce.length;nt++){var ft=[];Ri(Ce[nt],ft,k,G,W,!0),ft.length&&et.push(ft)}if(et.length){if(re.lineMetrics&&Ae==="LineString"){for(nt=0;nt<et.length;nt++)oe.push(Te(ve.id,Ae,et[nt],ve.tags));continue}Ae!=="LineString"&&Ae!=="MultiLineString"||(et.length===1?(Ae="LineString",et=et[0]):Ae="MultiLineString"),Ae!=="Point"&&Ae!=="MultiPoint"||(Ae=et.length===3?"Point":"MultiPoint"),oe.push(Te(ve.id,Ae,et,ve.tags))}}}return oe.length?oe:null}function Fe(X,M,k,G,W){for(var ne=0;ne<X.length;ne+=3){var ae=X[ne+W];ae>=k&&ae<=G&&(M.push(X[ne]),M.push(X[ne+1]),M.push(X[ne+2]))}}function yt(X,M,k,G,W,ne,ae){for(var re,oe,ce=gt(X),ve=W===0?mt:un,Ce=X.start,Ae=0;Ae<X.length-3;Ae+=3){var Ye=X[Ae],Ge=X[Ae+1],et=X[Ae+2],nt=X[Ae+3],ft=X[Ae+4],xt=W===0?Ye:Ge,$t=W===0?nt:ft,_t=!1;ae&&(re=Math.sqrt(Math.pow(Ye-nt,2)+Math.pow(Ge-ft,2))),xt<k?$t>k&&(oe=ve(ce,Ye,Ge,nt,ft,k),ae&&(ce.start=Ce+re*oe)):xt>G?$t<G&&(oe=ve(ce,Ye,Ge,nt,ft,G),ae&&(ce.start=Ce+re*oe)):qi(ce,Ye,Ge,et),$t<k&&xt>=k&&(oe=ve(ce,Ye,Ge,nt,ft,k),_t=!0),$t>G&&xt<=G&&(oe=ve(ce,Ye,Ge,nt,ft,G),_t=!0),!ne&&_t&&(ae&&(ce.end=Ce+re*oe),M.push(ce),ce=gt(X)),ae&&(Ce+=re)}var dt=X.length-3;Ye=X[dt],Ge=X[dt+1],et=X[dt+2],(xt=W===0?Ye:Ge)>=k&&xt<=G&&qi(ce,Ye,Ge,et),dt=ce.length-3,ne&&dt>=3&&(ce[dt]!==ce[0]||ce[dt+1]!==ce[1])&&qi(ce,ce[0],ce[1],ce[2]),ce.length&&M.push(ce)}function gt(X){var M=[];return M.size=X.size,M.start=X.start,M.end=X.end,M}function Ri(X,M,k,G,W,ne){for(var ae=0;ae<X.length;ae++)yt(X[ae],M,k,G,W,ne,!1)}function qi(X,M,k,G){X.push(M),X.push(k),X.push(G)}function mt(X,M,k,G,W,ne){var ae=(ne-M)/(G-M);return X.push(ne),X.push(k+(W-k)*ae),X.push(1),ae}function un(X,M,k,G,W,ne){var ae=(ne-k)/(W-k);return X.push(M+(G-M)*ae),X.push(ne),X.push(1),ae}function vn(X,M){for(var k=[],G=0;G<X.length;G++){var W,ne=X[G],ae=ne.type;if(ae==="Point"||ae==="MultiPoint"||ae==="LineString")W=xi(ne.geometry,M);else if(ae==="MultiLineString"||ae==="Polygon"){W=[];for(var re=0;re<ne.geometry.length;re++)W.push(xi(ne.geometry[re],M))}else if(ae==="MultiPolygon")for(W=[],re=0;re<ne.geometry.length;re++){for(var oe=[],ce=0;ce<ne.geometry[re].length;ce++)oe.push(xi(ne.geometry[re][ce],M));W.push(oe)}k.push(Te(ne.id,ae,W,ne.tags))}return k}function xi(X,M){var k=[];k.size=X.size,X.start!==void 0&&(k.start=X.start,k.end=X.end);for(var G=0;G<X.length;G+=3)k.push(X[G]+M,X[G+1],X[G+2]);return k}function zn(X,M){if(X.transformed)return X;var k,G,W,ne=1<<X.z,ae=X.x,re=X.y;for(k=0;k<X.features.length;k++){var oe=X.features[k],ce=oe.geometry,ve=oe.type;if(oe.geometry=[],ve===1)for(G=0;G<ce.length;G+=2)oe.geometry.push(kt(ce[G],ce[G+1],M,ne,ae,re));else for(G=0;G<ce.length;G++){var Ce=[];for(W=0;W<ce[G].length;W+=2)Ce.push(kt(ce[G][W],ce[G][W+1],M,ne,ae,re));oe.geometry.push(Ce)}}return X.transformed=!0,X}function kt(X,M,k,G,W,ne){return[Math.round(k*(X*G-W)),Math.round(k*(M*G-ne))]}function Bt(X,M,k,G,W){for(var ne=M===W.maxZoom?0:W.tolerance/((1<<M)*W.extent),ae={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:k,y:G,z:M,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},re=0;re<X.length;re++){ae.numFeatures++,Hn(ae,X[re],ne,W);var oe=X[re].minX,ce=X[re].minY,ve=X[re].maxX,Ce=X[re].maxY;oe<ae.minX&&(ae.minX=oe),ce<ae.minY&&(ae.minY=ce),ve>ae.maxX&&(ae.maxX=ve),Ce>ae.maxY&&(ae.maxY=Ce)}return ae}function Hn(X,M,k,G){var W=M.geometry,ne=M.type,ae=[];if(ne==="Point"||ne==="MultiPoint")for(var re=0;re<W.length;re+=3)ae.push(W[re]),ae.push(W[re+1]),X.numPoints++,X.numSimplified++;else if(ne==="LineString")xn(ae,W,X,k,!1,!1);else if(ne==="MultiLineString"||ne==="Polygon")for(re=0;re<W.length;re++)xn(ae,W[re],X,k,ne==="Polygon",re===0);else if(ne==="MultiPolygon")for(var oe=0;oe<W.length;oe++){var ce=W[oe];for(re=0;re<ce.length;re++)xn(ae,ce[re],X,k,!0,re===0)}if(ae.length){var ve=M.tags||null;if(ne==="LineString"&&G.lineMetrics){for(var Ce in ve={},M.tags)ve[Ce]=M.tags[Ce];ve.mapbox_clip_start=W.start/W.size,ve.mapbox_clip_end=W.end/W.size}var Ae={geometry:ae,type:ne==="Polygon"||ne==="MultiPolygon"?3:ne==="LineString"||ne==="MultiLineString"?2:1,tags:ve};M.id!==null&&(Ae.id=M.id),X.features.push(Ae)}}function xn(X,M,k,G,W,ne){var ae=G*G;if(G>0&&M.size<(W?ae:G))k.numPoints+=M.length/3;else{for(var re=[],oe=0;oe<M.length;oe+=3)(G===0||M[oe+2]>ae)&&(k.numSimplified++,re.push(M[oe]),re.push(M[oe+1])),k.numPoints++;W&&function(ce,ve){for(var Ce=0,Ae=0,Ye=ce.length,Ge=Ye-2;Ae<Ye;Ge=Ae,Ae+=2)Ce+=(ce[Ae]-ce[Ge])*(ce[Ae+1]+ce[Ge+1]);if(Ce>0===ve)for(Ae=0,Ye=ce.length;Ae<Ye/2;Ae+=2){var et=ce[Ae],nt=ce[Ae+1];ce[Ae]=ce[Ye-2-Ae],ce[Ae+1]=ce[Ye-1-Ae],ce[Ye-2-Ae]=et,ce[Ye-1-Ae]=nt}}(re,ne),X.push(re)}}function Fn(X,M){var k=(M=this.options=function(W,ne){for(var ae in ne)W[ae]=ne[ae];return W}(Object.create(this.options),M)).debug;if(k&&console.time("preprocess data"),M.maxZoom<0||M.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(M.promoteId&&M.generateId)throw new Error("promoteId and generateId cannot be used together.");var G=function(W,ne){var ae=[];if(W.type==="FeatureCollection")for(var re=0;re<W.features.length;re++)qn(ae,W.features[re],ne,re);else qn(ae,W.type==="Feature"?W:{geometry:W},ne);return ae}(X,M);this.tiles={},this.tileCoords=[],k&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",M.indexMaxZoom,M.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),G=function(W,ne){var ae=ne.buffer/ne.extent,re=W,oe=Oi(W,1,-1-ae,ae,0,-1,2,ne),ce=Oi(W,1,1-ae,2+ae,0,-1,2,ne);return(oe||ce)&&(re=Oi(W,1,-ae,1+ae,0,-1,2,ne)||[],oe&&(re=vn(oe,1).concat(re)),ce&&(re=re.concat(vn(ce,-1)))),re}(G,M),G.length&&this.splitTile(G,0,0,0),k&&(G.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Pn(X,M,k){return 32*((1<<X)*k+M)+X}function Mo(X,M){const k=X.tileID.canonical;if(!this._geoJSONIndex)return M(null,null);const G=this._geoJSONIndex.getTile(k.z,k.x,k.y);if(!G)return M(null,null);const W=new ot(G.features);let ne=ut.exports(W);ne.byteOffset===0&&ne.byteLength===ne.buffer.byteLength||(ne=new Uint8Array(ne)),M(null,{vectorTile:W,rawData:ne.buffer})}Fn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Fn.prototype.splitTile=function(X,M,k,G,W,ne,ae){for(var re=[X,M,k,G],oe=this.options,ce=oe.debug;re.length;){G=re.pop(),k=re.pop(),M=re.pop(),X=re.pop();var ve=1<<M,Ce=Pn(M,k,G),Ae=this.tiles[Ce];if(!Ae&&(ce>1&&console.time("creation"),Ae=this.tiles[Ce]=Bt(X,M,k,G,oe),this.tileCoords.push({z:M,x:k,y:G}),ce)){ce>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",M,k,G,Ae.numFeatures,Ae.numPoints,Ae.numSimplified),console.timeEnd("creation"));var Ye="z"+M;this.stats[Ye]=(this.stats[Ye]||0)+1,this.total++}if(Ae.source=X,W){if(M===oe.maxZoom||M===W)continue;var Ge=1<<W-M;if(k!==Math.floor(ne/Ge)||G!==Math.floor(ae/Ge))continue}else if(M===oe.indexMaxZoom||Ae.numPoints<=oe.indexMaxPoints)continue;if(Ae.source=null,X.length!==0){ce>1&&console.time("clipping");var et,nt,ft,xt,$t,_t,dt=.5*oe.buffer/oe.extent,ri=.5-dt,ii=.5+dt,si=1+dt;et=nt=ft=xt=null,$t=Oi(X,ve,k-dt,k+ii,0,Ae.minX,Ae.maxX,oe),_t=Oi(X,ve,k+ri,k+si,0,Ae.minX,Ae.maxX,oe),X=null,$t&&(et=Oi($t,ve,G-dt,G+ii,1,Ae.minY,Ae.maxY,oe),nt=Oi($t,ve,G+ri,G+si,1,Ae.minY,Ae.maxY,oe),$t=null),_t&&(ft=Oi(_t,ve,G-dt,G+ii,1,Ae.minY,Ae.maxY,oe),xt=Oi(_t,ve,G+ri,G+si,1,Ae.minY,Ae.maxY,oe),_t=null),ce>1&&console.timeEnd("clipping"),re.push(et||[],M+1,2*k,2*G),re.push(nt||[],M+1,2*k,2*G+1),re.push(ft||[],M+1,2*k+1,2*G),re.push(xt||[],M+1,2*k+1,2*G+1)}}},Fn.prototype.getTile=function(X,M,k){var G=this.options,W=G.extent,ne=G.debug;if(X<0||X>24)return null;var ae=1<<X,re=Pn(X,M=(M%ae+ae)%ae,k);if(this.tiles[re])return zn(this.tiles[re],W);ne>1&&console.log("drilling down to z%d-%d-%d",X,M,k);for(var oe,ce=X,ve=M,Ce=k;!oe&&ce>0;)ce--,ve=Math.floor(ve/2),Ce=Math.floor(Ce/2),oe=this.tiles[Pn(ce,ve,Ce)];return oe&&oe.source?(ne>1&&console.log("found parent tile z%d-%d-%d",ce,ve,Ce),ne>1&&console.time("drilling down"),this.splitTile(oe.source,ce,ve,Ce,X,M,k),ne>1&&console.timeEnd("drilling down"),this.tiles[re]?zn(this.tiles[re],W):null):null};class No extends le{constructor(M,k,G,W){super(M,k,G,Mo),W&&(this.loadGeoJSON=W)}loadData(M,k){var G;(G=this._pendingRequest)===null||G===void 0||G.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const W=!!(M&&M.request&&M.request.collectResourceTiming)&&new c.RequestPerformance(M.request);this._pendingCallback=k,this._pendingRequest=this.loadGeoJSON(M,(ne,ae)=>{if(delete this._pendingCallback,delete this._pendingRequest,ne||!ae)return k(ne);if(typeof ae!="object")return k(new Error(`Input data given to '${M.source}' is not a valid GeoJSON object.`));{fe(ae,!0);try{if(M.filter){const oe=c.createExpression(M.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(oe.result==="error")throw new Error(oe.value.map(ve=>`${ve.key}: ${ve.message}`).join(", "));ae={type:"FeatureCollection",features:ae.features.filter(ve=>oe.value.evaluate({zoom:0},ve))}}this._geoJSONIndex=M.cluster?new gr(function({superclusterOptions:oe,clusterProperties:ce}){if(!ce||!oe)return oe;const ve={},Ce={},Ae={accumulated:null,zoom:0},Ye={properties:null},Ge=Object.keys(ce);for(const et of Ge){const[nt,ft]=ce[et],xt=c.createExpression(ft),$t=c.createExpression(typeof nt=="string"?[nt,["accumulated"],["get",et]]:nt);ve[et]=xt.value,Ce[et]=$t.value}return oe.map=et=>{Ye.properties=et;const nt={};for(const ft of Ge)nt[ft]=ve[ft].evaluate(Ae,Ye);return nt},oe.reduce=(et,nt)=>{Ye.properties=nt;for(const ft of Ge)Ae.accumulated=et[ft],et[ft]=Ce[ft].evaluate(Ae,Ye)},oe}(M)).load(ae.features):function(oe,ce){return new Fn(oe,ce)}(ae,M.geojsonVtOptions)}catch(oe){return k(oe)}this.loaded={};const re={};if(W){const oe=W.finish();oe&&(re.resourceTiming={},re.resourceTiming[M.source]=JSON.parse(JSON.stringify(oe)))}k(null,re)}})}reloadTile(M,k){const G=this.loaded;return G&&G[M.uid]?super.reloadTile(M,k):this.loadTile(M,k)}loadGeoJSON(M,k){if(M.request)return c.getJSON(M.request,k);if(typeof M.data=="string")try{k(null,JSON.parse(M.data))}catch{k(new Error(`Input data given to '${M.source}' is not a valid GeoJSON object.`))}else k(new Error(`Input data given to '${M.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}}removeSource(M,k){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),k()}getClusterExpansionZoom(M,k){try{k(null,this._geoJSONIndex.getClusterExpansionZoom(M.clusterId))}catch(G){k(G)}}getClusterChildren(M,k){try{k(null,this._geoJSONIndex.getChildren(M.clusterId))}catch(G){k(G)}}getClusterLeaves(M,k){try{k(null,this._geoJSONIndex.getLeaves(M.clusterId,M.limit,M.offset))}catch(G){k(G)}}}class wn{constructor(M){this.self=M,this.actor=new c.Actor(M,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:le,geojson:No},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(k,G)=>{if(this.workerSourceTypes[k])throw new Error(`Worker source with name "${k}" already registered.`);this.workerSourceTypes[k]=G},this.self.registerRTLTextPlugin=k=>{if(c.plugin.isParsed())throw new Error("RTL text plugin already registered.");c.plugin.applyArabicShaping=k.applyArabicShaping,c.plugin.processBidirectionalText=k.processBidirectionalText,c.plugin.processStyledBidirectionalText=k.processStyledBidirectionalText}}setReferrer(M,k){this.referrer=k}setImages(M,k,G){this.availableImages[M]=k;for(const W in this.workerSources[M]){const ne=this.workerSources[M][W];for(const ae in ne)ne[ae].availableImages=k}G()}setLayers(M,k,G){this.getLayerIndex(M).replace(k),G()}updateLayers(M,k,G){this.getLayerIndex(M).update(k.layers,k.removedIds),G()}loadTile(M,k,G){this.getWorkerSource(M,k.type,k.source).loadTile(k,G)}loadDEMTile(M,k,G){this.getDEMWorkerSource(M,k.source).loadTile(k,G)}reloadTile(M,k,G){this.getWorkerSource(M,k.type,k.source).reloadTile(k,G)}abortTile(M,k,G){this.getWorkerSource(M,k.type,k.source).abortTile(k,G)}removeTile(M,k,G){this.getWorkerSource(M,k.type,k.source).removeTile(k,G)}removeDEMTile(M,k){this.getDEMWorkerSource(M,k.source).removeTile(k)}removeSource(M,k,G){if(!this.workerSources[M]||!this.workerSources[M][k.type]||!this.workerSources[M][k.type][k.source])return;const W=this.workerSources[M][k.type][k.source];delete this.workerSources[M][k.type][k.source],W.removeSource!==void 0?W.removeSource(k,G):G()}loadWorkerSource(M,k,G){try{this.self.importScripts(k.url),G()}catch(W){G(W.toString())}}syncRTLPluginState(M,k,G){try{c.plugin.setState(k);const W=c.plugin.getPluginURL();if(c.plugin.isLoaded()&&!c.plugin.isParsed()&&W!=null){this.self.importScripts(W);const ne=c.plugin.isParsed();G(ne?void 0:new Error(`RTL Text Plugin failed to import scripts from ${W}`),ne)}}catch(W){G(W.toString())}}getAvailableImages(M){let k=this.availableImages[M];return k||(k=[]),k}getLayerIndex(M){let k=this.layerIndexes[M];return k||(k=this.layerIndexes[M]=new C),k}getWorkerSource(M,k,G){if(this.workerSources[M]||(this.workerSources[M]={}),this.workerSources[M][k]||(this.workerSources[M][k]={}),!this.workerSources[M][k][G]){const W={send:(ne,ae,re)=>{this.actor.send(ne,ae,re,M)}};this.workerSources[M][k][G]=new this.workerSourceTypes[k](W,this.getLayerIndex(M),this.getAvailableImages(M))}return this.workerSources[M][k][G]}getDEMWorkerSource(M,k){return this.demWorkerSources[M]||(this.demWorkerSources[M]={}),this.demWorkerSources[M][k]||(this.demWorkerSources[M][k]=new de),this.demWorkerSources[M][k]}enforceCacheSizeLimit(M,k){c.enforceCacheSizeLimit(k)}}return c.isWorker()&&(self.worker=new wn(self)),wn}),u(["./shared"],function(c){var b=S;function S(_){return!function(l){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var f,$,x=new Blob([""],{type:"text/javascript"}),T=URL.createObjectURL(x);try{$=new Worker(T),f=!0}catch{f=!1}return $&&$.terminate(),URL.revokeObjectURL(T),f}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var f=document.createElement("canvas");f.width=f.height=1;var $=f.getContext("2d");if(!$)return!1;var x=$.getImageData(0,0,1,1);return x&&x.width===f.width}()?(C[h=l&&l.failIfMajorPerformanceCaveat]===void 0&&(C[h]=function(f){var $,x=function(T){var P=document.createElement("canvas"),w=Object.create(S.webGLContextAttributes);return w.failIfMajorPerformanceCaveat=T,P.getContext("webgl",w)||P.getContext("experimental-webgl",w)}(f);if(!x)return!1;try{$=x.createShader(x.VERTEX_SHADER)}catch{return!1}return!(!$||x.isContextLost())&&(x.shaderSource($,"void main() {}"),x.compileShader($),x.getShaderParameter($,x.COMPILE_STATUS)===!0)}(h)),C[h]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var h}(_)}var C={};function O(_,l){if(Array.isArray(_)){if(!Array.isArray(l)||_.length!==l.length)return!1;for(let h=0;h<_.length;h++)if(!O(_[h],l[h]))return!1;return!0}if(typeof _=="object"&&_!==null&&l!==null){if(typeof l!="object"||Object.keys(_).length!==Object.keys(l).length)return!1;for(const h in _)if(!O(_[h],l[h]))return!1;return!0}return _===l}S.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class D{static testProp(l){if(!D.docStyle)return l[0];for(let h=0;h<l.length;h++)if(l[h]in D.docStyle)return l[h];return l[0]}static create(l,h,f){const $=window.document.createElement(l);return h!==void 0&&($.className=h),f&&f.appendChild($),$}static createNS(l,h){return window.document.createElementNS(l,h)}static disableDrag(){D.docStyle&&D.selectProp&&(D.userSelect=D.docStyle[D.selectProp],D.docStyle[D.selectProp]="none")}static enableDrag(){D.docStyle&&D.selectProp&&(D.docStyle[D.selectProp]=D.userSelect)}static setTransform(l,h){l.style[D.transformProp]=h}static addEventListener(l,h,f,$={}){l.addEventListener(h,f,"passive"in $?$:$.capture)}static removeEventListener(l,h,f,$={}){l.removeEventListener(h,f,"passive"in $?$:$.capture)}static suppressClickInternal(l){l.preventDefault(),l.stopPropagation(),window.removeEventListener("click",D.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",D.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",D.suppressClickInternal,!0)},0)}static mousePos(l,h){const f=l.getBoundingClientRect();return new c.pointGeometry(h.clientX-f.left-l.clientLeft,h.clientY-f.top-l.clientTop)}static touchPos(l,h){const f=l.getBoundingClientRect(),$=[];for(let x=0;x<h.length;x++)$.push(new c.pointGeometry(h[x].clientX-f.left-l.clientLeft,h[x].clientY-f.top-l.clientTop));return $}static mouseButton(l){return l.button}static remove(l){l.parentNode&&l.parentNode.removeChild(l)}}D.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,D.selectProp=D.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),D.transformProp=D.testProp(["transform","WebkitTransform"]);class H{constructor(l){this._transformRequestFn=l}transformRequest(l,h){return this._transformRequestFn&&this._transformRequestFn(l,h)||{url:l}}normalizeSpriteURL(l,h,f){const $=function(x){const T=x.match(K);if(!T)throw new Error(`Unable to parse URL "${x}"`);return{protocol:T[1],authority:T[2],path:T[3]||"/",params:T[4]?T[4].split("&"):[]}}(l);return $.path+=`${h}${f}`,function(x){const T=x.params.length?`?${x.params.join("&")}`:"";return`${x.protocol}://${x.authority}${x.path}${T}`}($)}setTransformRequest(l){this._transformRequestFn=l}}const K=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;class le{constructor(l,h,f,$){this.context=l,this.format=f,this.texture=l.gl.createTexture(),this.update(h,$)}update(l,h,f){const{width:$,height:x}=l,T=!(this.size&&this.size[0]===$&&this.size[1]===x||f),{context:P}=this,{gl:w}=P;if(this.useMipmap=!!(h&&h.useMipmap),w.bindTexture(w.TEXTURE_2D,this.texture),P.pixelStoreUnpackFlipY.set(!1),P.pixelStoreUnpack.set(1),P.pixelStoreUnpackPremultiplyAlpha.set(this.format===w.RGBA&&(!h||h.premultiply!==!1)),T)this.size=[$,x],l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||c.isImageBitmap(l)?w.texImage2D(w.TEXTURE_2D,0,this.format,this.format,w.UNSIGNED_BYTE,l):w.texImage2D(w.TEXTURE_2D,0,this.format,$,x,0,this.format,w.UNSIGNED_BYTE,l.data);else{const{x:L,y:z}=f||{x:0,y:0};l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||c.isImageBitmap(l)?w.texSubImage2D(w.TEXTURE_2D,0,L,z,w.RGBA,w.UNSIGNED_BYTE,l):w.texSubImage2D(w.TEXTURE_2D,0,L,z,$,x,w.RGBA,w.UNSIGNED_BYTE,l.data)}this.useMipmap&&this.isSizePowerOfTwo()&&w.generateMipmap(w.TEXTURE_2D)}bind(l,h,f){const{context:$}=this,{gl:x}=$;x.bindTexture(x.TEXTURE_2D,this.texture),f!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(f=x.LINEAR),l!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,l),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,f||l),this.filter=l),h!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,h),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,h),this.wrap=h)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:l}=this.context;l.deleteTexture(this.texture),this.texture=null}}function de(_){const{userImage:l}=_;return!!(l&&l.render&&l.render())&&(_.data.replace(new Uint8Array(l.data.buffer)),!0)}class fe extends c.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new c.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(l){if(this.loaded!==l&&(this.loaded=l,l)){for(const{ids:h,callback:f}of this.requestors)this._notify(h,f);this.requestors=[]}}getImage(l){return this.images[l]}addImage(l,h){if(this.images[l])throw new Error(`Image id ${l} already exist, use updateImage instead`);this._validate(l,h)&&(this.images[l]=h)}_validate(l,h){let f=!0;return this._validateStretch(h.stretchX,h.data&&h.data.width)||(this.fire(new c.ErrorEvent(new Error(`Image "${l}" has invalid "stretchX" value`))),f=!1),this._validateStretch(h.stretchY,h.data&&h.data.height)||(this.fire(new c.ErrorEvent(new Error(`Image "${l}" has invalid "stretchY" value`))),f=!1),this._validateContent(h.content,h)||(this.fire(new c.ErrorEvent(new Error(`Image "${l}" has invalid "content" value`))),f=!1),f}_validateStretch(l,h){if(!l)return!0;let f=0;for(const $ of l){if($[0]<f||$[1]<$[0]||h<$[1])return!1;f=$[1]}return!0}_validateContent(l,h){return!(l&&(l.length!==4||l[0]<0||h.data.width<l[0]||l[1]<0||h.data.height<l[1]||l[2]<0||h.data.width<l[2]||l[3]<0||h.data.height<l[3]||l[2]<l[0]||l[3]<l[1]))}updateImage(l,h){const f=this.images[l];if(f.data.width!==h.data.width||f.data.height!==h.data.height)throw new Error(`size mismatch between old image (${f.data.width}x${f.data.height}) and new image (${h.data.width}x${h.data.height}).`);h.version=f.version+1,this.images[l]=h,this.updatedImages[l]=!0}removeImage(l){const h=this.images[l];delete this.images[l],delete this.patterns[l],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(l,h){let f=!0;if(!this.isLoaded())for(const $ of l)this.images[$]||(f=!1);this.isLoaded()||f?this._notify(l,h):this.requestors.push({ids:l,callback:h})}_notify(l,h){const f={};for(const $ of l){this.images[$]||this.fire(new c.Event("styleimagemissing",{id:$}));const x=this.images[$];x?f[$]={data:x.data.clone(),pixelRatio:x.pixelRatio,sdf:x.sdf,version:x.version,stretchX:x.stretchX,stretchY:x.stretchY,content:x.content,hasRenderCallback:!!(x.userImage&&x.userImage.render)}:c.warnOnce(`Image "${$}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}h(null,f)}getPixelSize(){const{width:l,height:h}=this.atlasImage;return{width:l,height:h}}getPattern(l){const h=this.patterns[l],f=this.getImage(l);if(!f)return null;if(h&&h.position.version===f.version)return h.position;if(h)h.position.version=f.version;else{const $={w:f.data.width+2,h:f.data.height+2,x:0,y:0},x=new c.ImagePosition($,f);this.patterns[l]={bin:$,position:x}}return this._updatePatternAtlas(),this.patterns[l].position}bind(l){const h=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new le(l,this.atlasImage,h.RGBA),this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)}_updatePatternAtlas(){const l=[];for(const x in this.patterns)l.push(this.patterns[x].bin);const{w:h,h:f}=c.potpack(l),$=this.atlasImage;$.resize({width:h||1,height:f||1});for(const x in this.patterns){const{bin:T}=this.patterns[x],P=T.x+1,w=T.y+1,L=this.images[x].data,z=L.width,B=L.height;c.RGBAImage.copy(L,$,{x:0,y:0},{x:P,y:w},{width:z,height:B}),c.RGBAImage.copy(L,$,{x:0,y:B-1},{x:P,y:w-1},{width:z,height:1}),c.RGBAImage.copy(L,$,{x:0,y:0},{x:P,y:w+B},{width:z,height:1}),c.RGBAImage.copy(L,$,{x:z-1,y:0},{x:P-1,y:w},{width:1,height:B}),c.RGBAImage.copy(L,$,{x:0,y:0},{x:P+z,y:w},{width:1,height:B})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(l){for(const h of l){if(this.callbackDispatchedThisFrame[h])continue;this.callbackDispatchedThisFrame[h]=!0;const f=this.images[h];f||c.warnOnce(`Image with ID: "${h}" was not found`),de(f)&&this.updateImage(h,f)}}}const be=1e20;function Ie(_,l,h,f,$,x,T,P,w){for(let L=l;L<l+f;L++)De(_,h*x+L,x,$,T,P,w);for(let L=h;L<h+$;L++)De(_,L*x+l,1,f,T,P,w)}function De(_,l,h,f,$,x,T){x[0]=0,T[0]=-1e20,T[1]=be,$[0]=_[l];for(let P=1,w=0,L=0;P<f;P++){$[P]=_[l+P*h];const z=P*P;do{const B=x[w];L=($[P]-$[B]+z-B*B)/(P-B)/2}while(L<=T[w]&&--w>-1);w++,x[w]=P,T[w]=L,T[w+1]=be}for(let P=0,w=0;P<f;P++){for(;T[w+1]<P;)w++;const L=x[w],z=P-L;_[l+P*h]=$[L]+z*z}}class Ze{constructor(l,h){this.requestManager=l,this.localIdeographFontFamily=h,this.entries={}}setURL(l){this.url=l}getGlyphs(l,h){const f=[];for(const $ in l)for(const x of l[$])f.push({stack:$,id:x});c.asyncAll(f,({stack:$,id:x},T)=>{let P=this.entries[$];P||(P=this.entries[$]={glyphs:{},requests:{},ranges:{}});let w=P.glyphs[x];if(w!==void 0)return void T(null,{stack:$,id:x,glyph:w});if(w=this._tinySDF(P,$,x),w)return P.glyphs[x]=w,void T(null,{stack:$,id:x,glyph:w});const L=Math.floor(x/256);if(256*L>65535)return void T(new Error("glyphs > 65535 not supported"));if(P.ranges[L])return void T(null,{stack:$,id:x,glyph:w});let z=P.requests[L];z||(z=P.requests[L]=[],Ze.loadGlyphRange($,L,this.url,this.requestManager,(B,j)=>{if(j){for(const Q in j)this._doesCharSupportLocalGlyph(+Q)||(P.glyphs[+Q]=j[+Q]);P.ranges[L]=!0}for(const Q of z)Q(B,j);delete P.requests[L]})),z.push((B,j)=>{B?T(B):j&&T(null,{stack:$,id:x,glyph:j[x]||null})})},($,x)=>{if($)h($);else if(x){const T={};for(const{stack:P,id:w,glyph:L}of x)(T[P]||(T[P]={}))[w]=L&&{id:L.id,bitmap:L.bitmap.clone(),metrics:L.metrics};h(null,T)}})}_doesCharSupportLocalGlyph(l){return!!this.localIdeographFontFamily&&(c.unicodeBlockLookup["CJK Unified Ideographs"](l)||c.unicodeBlockLookup["Hangul Syllables"](l)||c.unicodeBlockLookup.Hiragana(l)||c.unicodeBlockLookup.Katakana(l))}_tinySDF(l,h,f){const $=this.localIdeographFontFamily;if(!$||!this._doesCharSupportLocalGlyph(f))return;let x=l.tinySDF;if(!x){let P="400";/bold/i.test(h)?P="900":/medium/i.test(h)?P="500":/light/i.test(h)&&(P="200"),x=l.tinySDF=new Ze.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:$,fontWeight:P})}const T=x.draw(String.fromCharCode(f));return{id:f,bitmap:new c.AlphaImage({width:T.width||30,height:T.height||30},T.data),metrics:{width:T.glyphWidth||24,height:T.glyphHeight||24,left:T.glyphLeft||0,top:T.glyphTop-27||-8,advance:T.glyphAdvance||24}}}}Ze.loadGlyphRange=function(_,l,h,f,$){const x=256*l,T=x+255,P=f.transformRequest(h.replace("{fontstack}",_).replace("{range}",`${x}-${T}`),c.ResourceType.Glyphs);c.getArrayBuffer(P,(w,L)=>{if(w)$(w);else if(L){const z={};for(const B of c.parseGlyphPbf(L))z[B.id]=B;$(null,z)}})},Ze.TinySDF=class{constructor({fontSize:_=24,buffer:l=3,radius:h=8,cutoff:f=.25,fontFamily:$="sans-serif",fontWeight:x="normal",fontStyle:T="normal"}={}){this.buffer=l,this.cutoff=f,this.radius=h;const P=this.size=_+4*l,w=this._createCanvas(P),L=this.ctx=w.getContext("2d",{willReadFrequently:!0});L.font=`${T} ${x} ${_}px ${$}`,L.textBaseline="alphabetic",L.textAlign="left",L.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(_){const l=document.createElement("canvas");return l.width=l.height=_,l}draw(_){const{width:l,actualBoundingBoxAscent:h,actualBoundingBoxDescent:f,actualBoundingBoxLeft:$,actualBoundingBoxRight:x}=this.ctx.measureText(_),T=Math.ceil(h),P=Math.min(this.size-this.buffer,Math.ceil(x-$)),w=Math.min(this.size-this.buffer,T+Math.ceil(f)),L=P+2*this.buffer,z=w+2*this.buffer,B=Math.max(L*z,0),j=new Uint8ClampedArray(B),Q={data:j,width:L,height:z,glyphWidth:P,glyphHeight:w,glyphTop:T,glyphLeft:0,glyphAdvance:l};if(P===0||w===0)return Q;const{ctx:Y,buffer:Z,gridInner:se,gridOuter:ue}=this;Y.clearRect(Z,Z,P,w),Y.fillText(_,Z,Z+T);const he=Y.getImageData(Z,Z,P,w);ue.fill(be,0,B),se.fill(0,0,B);for(let J=0;J<w;J++)for(let _e=0;_e<P;_e++){const me=he.data[4*(J*P+_e)+3]/255;if(me===0)continue;const Ee=(J+Z)*L+_e+Z;if(me===1)ue[Ee]=0,se[Ee]=be;else{const Se=.5-me;ue[Ee]=Se>0?Se*Se:0,se[Ee]=Se<0?Se*Se:0}}Ie(ue,0,0,L,z,L,this.f,this.v,this.z),Ie(se,Z,Z,P,w,L,this.f,this.v,this.z);for(let J=0;J<B;J++){const _e=Math.sqrt(ue[J])-Math.sqrt(se[J]);j[J]=Math.round(255-255*(_e/this.radius+this.cutoff))}return Q}};const ot=new c.Properties({anchor:new c.DataConstantProperty(c.spec.light.anchor),position:new class{constructor(){this.specification=c.spec.light.position}possiblyEvaluate(_,l){return c.sphericalToCartesian(_.expression.evaluate(l))}interpolate(_,l,h){return{x:c.number(_.x,l.x,h),y:c.number(_.y,l.y,h),z:c.number(_.z,l.z,h)}}},color:new c.DataConstantProperty(c.spec.light.color),intensity:new c.DataConstantProperty(c.spec.light.intensity)}),ut="-transition";class lt extends c.Evented{constructor(l){super(),this._transitionable=new c.Transitionable(ot),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(l,h={}){if(!this._validate(c.validateLight,l,h))for(const f in l){const $=l[f];f.endsWith(ut)?this._transitionable.setTransition(f.slice(0,-ut.length),$):this._transitionable.setValue(f,$)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,h,f){return(!f||f.validate!==!1)&&c.emitValidationErrors(this,l.call(c.validateStyle,c.extend({value:h,style:{glyphs:!0,sprite:!0},styleSpec:c.spec})))}}class ct{constructor(l,h){this.width=l,this.height=h,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(l,h){const f=l.join(",")+String(h);return this.dashEntry[f]||(this.dashEntry[f]=this.addDash(l,h)),this.dashEntry[f]}getDashRanges(l,h,f){const $=[];let x=l.length%2==1?-l[l.length-1]*f:0,T=l[0]*f,P=!0;$.push({left:x,right:T,isDash:P,zeroLength:l[0]===0});let w=l[0];for(let L=1;L<l.length;L++){P=!P;const z=l[L];x=w*f,w+=z,T=w*f,$.push({left:x,right:T,isDash:P,zeroLength:z===0})}return $}addRoundDash(l,h,f){const $=h/2;for(let x=-f;x<=f;x++){const T=this.width*(this.nextRow+f+x);let P=0,w=l[P];for(let L=0;L<this.width;L++){L/w.right>1&&(w=l[++P]);const z=Math.abs(L-w.left),B=Math.abs(L-w.right),j=Math.min(z,B);let Q;const Y=x/f*($+1);if(w.isDash){const Z=$-Math.abs(Y);Q=Math.sqrt(j*j+Z*Z)}else Q=$-Math.sqrt(j*j+Y*Y);this.data[T+L]=Math.max(0,Math.min(255,Q+128))}}}addRegularDash(l){for(let P=l.length-1;P>=0;--P){const w=l[P],L=l[P+1];w.zeroLength?l.splice(P,1):L&&L.isDash===w.isDash&&(L.left=w.left,l.splice(P,1))}const h=l[0],f=l[l.length-1];h.isDash===f.isDash&&(h.left=f.left-this.width,f.right=h.right+this.width);const $=this.width*this.nextRow;let x=0,T=l[x];for(let P=0;P<this.width;P++){P/T.right>1&&(T=l[++x]);const w=Math.abs(P-T.left),L=Math.abs(P-T.right),z=Math.min(w,L);this.data[$+P]=Math.max(0,Math.min(255,(T.isDash?z:-z)+128))}}addDash(l,h){const f=h?7:0,$=2*f+1;if(this.nextRow+$>this.height)return c.warnOnce("LineAtlas out of space"),null;let x=0;for(let P=0;P<l.length;P++)x+=l[P];if(x!==0){const P=this.width/x,w=this.getDashRanges(l,this.width,P);h?this.addRoundDash(w,P,f):this.addRegularDash(w)}const T={y:(this.nextRow+f+.5)/this.height,height:2*f/this.height,width:x};return this.nextRow+=$,this.dirty=!0,T}bind(l){const h=l.gl;this.texture?(h.bindTexture(h.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,h.texSubImage2D(h.TEXTURE_2D,0,0,0,this.width,this.height,h.ALPHA,h.UNSIGNED_BYTE,this.data))):(this.texture=h.createTexture(),h.bindTexture(h.TEXTURE_2D,this.texture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texImage2D(h.TEXTURE_2D,0,h.ALPHA,this.width,this.height,0,h.ALPHA,h.UNSIGNED_BYTE,this.data))}}class wt{constructor(l,h){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=c.uniqueId();const f=this.workerPool.acquire(this.id);for(let $=0;$<f.length;$++){const x=new wt.Actor(f[$],h,this.id);x.name=`Worker ${$}`,this.actors.push(x)}if(!this.actors.length)throw new Error("No actors found")}broadcast(l,h,f){c.asyncAll(this.actors,($,x)=>{$.send(l,h,x)},f=f||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(l=>{l.remove()}),this.actors=[],this.workerPool.release(this.id)}}function At(_,l,h){const f=function($,x){if($)return h($);if(x){const T=c.pick(c.extend(x,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);x.vector_layers&&(T.vectorLayers=x.vector_layers,T.vectorLayerIds=T.vectorLayers.map(P=>P.id)),h(null,T)}};return _.url?c.getJSON(l.transformRequest(_.url,c.ResourceType.Source),f):c.exported.frame(()=>f(null,_))}wt.Actor=c.Actor;class Ot{constructor(l,h,f){this.bounds=c.LngLatBounds.convert(this.validateBounds(l)),this.minzoom=h||0,this.maxzoom=f||24}validateBounds(l){return Array.isArray(l)&&l.length===4?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]}contains(l){const h=Math.pow(2,l.z),f=Math.floor(c.mercatorXfromLng(this.bounds.getWest())*h),$=Math.floor(c.mercatorYfromLat(this.bounds.getNorth())*h),x=Math.ceil(c.mercatorXfromLng(this.bounds.getEast())*h),T=Math.ceil(c.mercatorYfromLat(this.bounds.getSouth())*h);return l.x>=f&&l.x<x&&l.y>=$&&l.y<T}}class Ut extends c.Evented{constructor(l,h,f,$){if(super(),this.id=l,this.dispatcher=f,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,c.extend(this,c.pick(h,["url","scheme","tileSize","promoteId"])),this._options=c.extend({type:"vector"},h),this._collectResourceTiming=h.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent($)}load(){this._loaded=!1,this.fire(new c.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=At(this._options,this.map._requestManager,(l,h)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),l?this.fire(new c.ErrorEvent(l)):h&&(c.extend(this,h),h.bounds&&(this.tileBounds=new Ot(h.bounds,this.minzoom,this.maxzoom)),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}onAdd(l){this.map=l,this.load()}setSourceProperty(l){this._tileJSONRequest&&this._tileJSONRequest.cancel(),l(),this.load()}setTiles(l){return this.setSourceProperty(()=>{this._options.tiles=l}),this}setUrl(l){return this.setSourceProperty(()=>{this.url=l,this._options.url=l}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return c.extend({},this._options)}loadTile(l,h){const f=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),$={request:this.map._requestManager.transformRequest(f,c.ResourceType.Tile),uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,tileSize:this.tileSize*l.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function x(T,P){return delete l.request,l.aborted?h(null):T&&T.status!==404?h(T):(P&&P.resourceTiming&&(l.resourceTiming=P.resourceTiming),this.map._refreshExpiredTiles&&P&&l.setExpiryData(P),l.loadVectorData(P,this.map.painter),c.cacheEntryPossiblyAdded(this.dispatcher),h(null),void(l.reloadCallback&&(this.loadTile(l,l.reloadCallback),l.reloadCallback=null)))}$.request.collectResourceTiming=this._collectResourceTiming,l.actor&&l.state!=="expired"?l.state==="loading"?l.reloadCallback=h:l.request=l.actor.send("reloadTile",$,x.bind(this)):(l.actor=this.dispatcher.getActor(),l.request=l.actor.send("loadTile",$,x.bind(this)))}abortTile(l){l.request&&(l.request.cancel(),delete l.request),l.actor&&l.actor.send("abortTile",{uid:l.uid,type:this.type,source:this.id},void 0)}unloadTile(l){l.unloadVectorData(),l.actor&&l.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Ve extends c.Evented{constructor(l,h,f,$){super(),this.id=l,this.dispatcher=f,this.setEventedParent($),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=c.extend({type:"raster"},h),c.extend(this,c.pick(h,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new c.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=At(this._options,this.map._requestManager,(l,h)=>{this._tileJSONRequest=null,this._loaded=!0,l?this.fire(new c.ErrorEvent(l)):h&&(c.extend(this,h),h.bounds&&(this.tileBounds=new Ot(h.bounds,this.minzoom,this.maxzoom)),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(l){this.map=l,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return c.extend({},this._options)}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l,h){const f=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);l.request=c.getImage(this.map._requestManager.transformRequest(f,c.ResourceType.Tile),($,x,T)=>{if(delete l.request,l.aborted)l.state="unloaded",h(null);else if($)l.state="errored",h($);else if(x){this.map._refreshExpiredTiles&&l.setExpiryData(T);const P=this.map.painter.context,w=P.gl;l.texture=this.map.painter.getTileTexture(x.width),l.texture?l.texture.update(x,{useMipmap:!0}):(l.texture=new le(P,x,w.RGBA,{useMipmap:!0}),l.texture.bind(w.LINEAR,w.CLAMP_TO_EDGE,w.LINEAR_MIPMAP_NEAREST),P.extTextureFilterAnisotropic&&w.texParameterf(w.TEXTURE_2D,P.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,P.extTextureFilterAnisotropicMax)),l.state="loaded",c.cacheEntryPossiblyAdded(this.dispatcher),h(null)}})}abortTile(l,h){l.request&&(l.request.cancel(),delete l.request),h()}unloadTile(l,h){l.texture&&this.map.painter.saveTileTexture(l.texture),h()}hasTransition(){return!1}}let ht;class He extends Ve{constructor(l,h,f,$){super(l,h,f,$),this.type="raster-dem",this.maxzoom=22,this._options=c.extend({type:"raster-dem"},h),this.encoding=h.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(l,h){const f=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function $(x,T){x&&(l.state="errored",h(x)),T&&(l.dem=T,l.needsHillshadePrepare=!0,l.needsTerrainPrepare=!0,l.state="loaded",h(null))}l.request=c.getImage(this.map._requestManager.transformRequest(f,c.ResourceType.Tile),(function(x,T){if(delete l.request,l.aborted)l.state="unloaded",h(null);else if(x)l.state="errored",h(x);else if(T){this.map._refreshExpiredTiles&&l.setExpiryData(T),delete T.cacheControl,delete T.expires;const P=c.isImageBitmap(T)&&(ht==null&&(ht=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),ht)?T:c.exported.getImageData(T,1),w={uid:l.uid,coord:l.tileID,source:this.id,rawImageData:P,encoding:this.encoding};l.actor&&l.state!=="expired"||(l.actor=this.dispatcher.getActor(),l.actor.send("loadDEMTile",w,$.bind(this)))}}).bind(this)),l.neighboringTiles=this._getNeighboringTiles(l.tileID)}_getNeighboringTiles(l){const h=l.canonical,f=Math.pow(2,h.z),$=(h.x-1+f)%f,x=h.x===0?l.wrap-1:l.wrap,T=(h.x+1+f)%f,P=h.x+1===f?l.wrap+1:l.wrap,w={};return w[new c.OverscaledTileID(l.overscaledZ,x,h.z,$,h.y).key]={backfilled:!1},w[new c.OverscaledTileID(l.overscaledZ,P,h.z,T,h.y).key]={backfilled:!1},h.y>0&&(w[new c.OverscaledTileID(l.overscaledZ,x,h.z,$,h.y-1).key]={backfilled:!1},w[new c.OverscaledTileID(l.overscaledZ,l.wrap,h.z,h.x,h.y-1).key]={backfilled:!1},w[new c.OverscaledTileID(l.overscaledZ,P,h.z,T,h.y-1).key]={backfilled:!1}),h.y+1<f&&(w[new c.OverscaledTileID(l.overscaledZ,x,h.z,$,h.y+1).key]={backfilled:!1},w[new c.OverscaledTileID(l.overscaledZ,l.wrap,h.z,h.x,h.y+1).key]={backfilled:!1},w[new c.OverscaledTileID(l.overscaledZ,P,h.z,T,h.y+1).key]={backfilled:!1}),w}unloadTile(l){l.demTexture&&this.map.painter.saveTileTexture(l.demTexture),l.fbo&&(l.fbo.destroy(),delete l.fbo),l.dem&&delete l.dem,delete l.neighboringTiles,l.state="unloaded",l.actor&&l.actor.send("removeDEMTile",{uid:l.uid,source:this.id})}}class Ft extends c.Evented{constructor(l,h,f,$){super(),this.id=l,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=f.getActor(),this.setEventedParent($),this._data=h.data,this._options=c.extend({},h),this._collectResourceTiming=h.collectResourceTiming,h.maxzoom!==void 0&&(this.maxzoom=h.maxzoom),h.type&&(this.type=h.type),h.attribution&&(this.attribution=h.attribution),this.promoteId=h.promoteId;const x=c.EXTENT/this.tileSize;this.workerOptions=c.extend({source:this.id,cluster:h.cluster||!1,geojsonVtOptions:{buffer:(h.buffer!==void 0?h.buffer:128)*x,tolerance:(h.tolerance!==void 0?h.tolerance:.375)*x,extent:c.EXTENT,maxZoom:this.maxzoom,lineMetrics:h.lineMetrics||!1,generateId:h.generateId||!1},superclusterOptions:{maxZoom:h.clusterMaxZoom!==void 0?h.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,h.clusterMinPoints||2),extent:c.EXTENT,radius:(h.clusterRadius||50)*x,log:!1,generateId:h.generateId||!1},clusterProperties:h.clusterProperties,filter:h.filter},h.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(l){this.map=l,this.load()}setData(l){return this._data=l,this._updateWorkerData("content"),this}getClusterExpansionZoom(l,h){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:l,source:this.id},h),this}getClusterChildren(l,h){return this.actor.send("geojson.getClusterChildren",{clusterId:l,source:this.id},h),this}getClusterLeaves(l,h,f,$){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:l,limit:h,offset:f},$),this}_updateWorkerData(l){const h=c.extend({},this.workerOptions),f=this._data;typeof f=="string"?(h.request=this.map._requestManager.transformRequest(c.exported.resolveURL(f),c.ResourceType.Source),h.request.collectResourceTiming=this._collectResourceTiming):h.data=JSON.stringify(f),this._pendingLoads++,this.fire(new c.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,h,($,x)=>{if(this._pendingLoads--,this._removed||x&&x.abandoned)return void this.fire(new c.Event("dataabort",{dataType:"source",sourceDataType:l}));let T=null;if(x&&x.resourceTiming&&x.resourceTiming[this.id]&&(T=x.resourceTiming[this.id].slice(0)),$)return void this.fire(new c.ErrorEvent($));const P={dataType:"source",sourceDataType:l};this._collectResourceTiming&&T&&T.length>0&&c.extend(P,{resourceTiming:T}),this.fire(new c.Event("data",P))})}loaded(){return this._pendingLoads===0}loadTile(l,h){const f=l.actor?"reloadTile":"loadTile";l.actor=this.actor;const $={type:this.type,uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};l.request=this.actor.send(f,$,(x,T)=>(delete l.request,l.unloadVectorData(),l.aborted?h(null):x?h(x):(l.loadVectorData(T,this.map.painter,f==="reloadTile"),h(null))))}abortTile(l){l.request&&(l.request.cancel(),delete l.request),l.aborted=!0}unloadTile(l){l.unloadVectorData(),this.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return c.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Kt=c.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Zt extends c.Evented{constructor(l,h,f,$){super(),this.id=l,this.dispatcher=f,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent($),this.options=h}load(l,h){this._loaded=!1,this.fire(new c.Event("dataloading",{dataType:"source"})),this.url=this.options.url,c.getImage(this.map._requestManager.transformRequest(this.url,c.ResourceType.Image),(f,$)=>{this._loaded=!0,f?this.fire(new c.ErrorEvent(f)):$&&(this.image=$,l&&(this.coordinates=l),h&&h(),this._finishLoading())})}loaded(){return this._loaded}updateImage(l){return this.image&&l.url?(this.options.url=l.url,this.load(l.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}setCoordinates(l){this.coordinates=l;const h=l.map(c.MercatorCoordinate.fromLngLat);this.tileID=function($){let x=1/0,T=1/0,P=-1/0,w=-1/0;for(const j of $)x=Math.min(x,j.x),T=Math.min(T,j.y),P=Math.max(P,j.x),w=Math.max(w,j.y);const L=Math.max(P-x,w-T),z=Math.max(0,Math.floor(-Math.log(L)/Math.LN2)),B=Math.pow(2,z);return new c.CanonicalTileID(z,Math.floor((x+P)/2*B),Math.floor((T+w)/2*B))}(h),this.minzoom=this.maxzoom=this.tileID.z;const f=h.map($=>this.tileID.getTilePoint($)._round());return this._boundsArray=new c.RasterBoundsArray,this._boundsArray.emplaceBack(f[0].x,f[0].y,0,0),this._boundsArray.emplaceBack(f[1].x,f[1].y,c.EXTENT,0),this._boundsArray.emplaceBack(f[3].x,f[3].y,0,c.EXTENT),this._boundsArray.emplaceBack(f[2].x,f[2].y,c.EXTENT,c.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const l=this.map.painter.context,h=l.gl;this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,Kt.members)),this.boundsSegments||(this.boundsSegments=c.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new le(l,this.image,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));for(const f in this.tiles){const $=this.tiles[f];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}}loadTile(l,h){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={},h(null)):(l.state="errored",h(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Ni extends Zt{constructor(l,h,f,$){super(l,h,f,$),this.roundZoom=!0,this.type="video",this.options=h}load(){this._loaded=!1;const l=this.options;this.urls=[];for(const h of l.urls)this.urls.push(this.map._requestManager.transformRequest(h,c.ResourceType.Source).url);c.getVideo(this.urls,(h,f)=>{this._loaded=!0,h?this.fire(new c.ErrorEvent(h)):f&&(this.video=f,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(l){if(this.video){const h=this.video.seekable;l<h.start(0)||l>h.end(0)?this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${h.start(0)} and ${h.end(0)}-second mark.`))):this.video.currentTime=l}}getVideo(){return this.video}onAdd(l){this.map||(this.map=l,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const l=this.map.painter.context,h=l.gl;this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,Kt.members)),this.boundsSegments||(this.boundsSegments=c.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE),h.texSubImage2D(h.TEXTURE_2D,0,0,0,h.RGBA,h.UNSIGNED_BYTE,this.video)):(this.texture=new le(l,this.video,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));for(const f in this.tiles){const $=this.tiles[f];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Ii extends Zt{constructor(l,h,f,$){super(l,h,f,$),h.coordinates?Array.isArray(h.coordinates)&&h.coordinates.length===4&&!h.coordinates.some(x=>!Array.isArray(x)||x.length!==2||x.some(T=>typeof T!="number"))||this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${l}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${l}`,null,'missing required property "coordinates"'))),h.animate&&typeof h.animate!="boolean"&&this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${l}`,null,'optional "animate" property must be a boolean value'))),h.canvas?typeof h.canvas=="string"||h.canvas instanceof HTMLCanvasElement||this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${l}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${l}`,null,'missing required property "canvas"'))),this.options=h,this.animate=h.animate===void 0||h.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new c.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(l){this.map=l,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let l=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,l=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,l=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const h=this.map.painter.context,f=h.gl;this.boundsBuffer||(this.boundsBuffer=h.createVertexBuffer(this._boundsArray,Kt.members)),this.boundsSegments||(this.boundsSegments=c.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(l||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new le(h,this.canvas,f.RGBA,{premultiply:!0});for(const $ in this.tiles){const x=this.tiles[$];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const l of[this.canvas.width,this.canvas.height])if(isNaN(l)||l<=0)return!0;return!1}}const zi={vector:Ut,raster:Ve,"raster-dem":He,geojson:Ft,video:Ni,image:Zt,canvas:Ii};function Pi(_,l){const h=c.create();return c.translate(h,h,[1,1,0]),c.scale(h,h,[.5*_.width,.5*_.height,1]),c.multiply(h,h,_.calculatePosMatrix(l.toUnwrapped()))}function rn(_,l,h,f,$,x){const T=function(B,j,Q){if(B)for(const Y of B){const Z=j[Y];if(Z&&Z.source===Q&&Z.type==="fill-extrusion")return!0}else for(const Y in j){const Z=j[Y];if(Z.source===Q&&Z.type==="fill-extrusion")return!0}return!1}($&&$.layers,l,_.id),P=x.maxPitchScaleFactor(),w=_.tilesIn(f,P,T);w.sort(yi);const L=[];for(const B of w)L.push({wrappedTileID:B.tileID.wrapped().key,queryResults:B.tile.queryRenderedFeatures(l,h,_._state,B.queryGeometry,B.cameraQueryGeometry,B.scale,$,x,P,Pi(_.transform,B.tileID))});const z=function(B){const j={},Q={};for(const Y of B){const Z=Y.queryResults,se=Y.wrappedTileID,ue=Q[se]=Q[se]||{};for(const he in Z){const J=Z[he],_e=ue[he]=ue[he]||{},me=j[he]=j[he]||[];for(const Ee of J)_e[Ee.featureIndex]||(_e[Ee.featureIndex]=!0,me.push(Ee))}}return j}(L);for(const B in z)z[B].forEach(j=>{const Q=j.feature,Y=_.getFeatureState(Q.layer["source-layer"],Q.id);Q.source=Q.layer.source,Q.layer["source-layer"]&&(Q.sourceLayer=Q.layer["source-layer"]),Q.state=Y});return z}function yi(_,l){const h=_.tileID,f=l.tileID;return h.overscaledZ-f.overscaledZ||h.canonical.y-f.canonical.y||h.wrap-f.wrap||h.canonical.x-f.canonical.x}class $n{constructor(l,h){this.tileID=l,this.uid=c.uniqueId(),this.uses=0,this.tileSize=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.textures=[],this.textureCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(l){const h=l+this.timeAdded;h<c.exported.now()||this.fadeEndTime&&h<this.fadeEndTime||(this.fadeEndTime=h)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(l){this.demTexture&&l.saveTileTexture(this.demTexture),this.textures.forEach(h=>l.saveTileTexture(h)),this.demTexture=null,this.textures=[],this.textureCoords={}}loadVectorData(l,h,f){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",l){l.featureIndex&&(this.latestFeatureIndex=l.featureIndex,l.rawTileData?(this.latestRawTileData=l.rawTileData,this.latestFeatureIndex.rawTileData=l.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=l.collisionBoxArray,this.buckets=function($,x){const T={};if(!x)return T;for(const P of $){const w=P.layerIds.map(L=>x.getLayer(L)).filter(Boolean);if(w.length!==0){P.layers=w,P.stateDependentLayerIds&&(P.stateDependentLayers=P.stateDependentLayerIds.map(L=>w.filter(z=>z.id===L)[0]));for(const L of w)T[L.id]=P}}return T}(l.buckets,h.style),this.hasSymbolBuckets=!1;for(const $ in this.buckets){const x=this.buckets[$];if(x instanceof c.SymbolBucket){if(this.hasSymbolBuckets=!0,!f)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const $ in this.buckets){const x=this.buckets[$];if(x instanceof c.SymbolBucket&&x.hasRTLText){this.hasRTLText=!0,c.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const $ in this.buckets){const x=this.buckets[$];this.queryPadding=Math.max(this.queryPadding,h.style.getLayer($).queryRadius(x))}l.imageAtlas&&(this.imageAtlas=l.imageAtlas),l.glyphAtlasImage&&(this.glyphAtlasImage=l.glyphAtlasImage)}else this.collisionBoxArray=new c.CollisionBoxArray}unloadVectorData(){for(const l in this.buckets)this.buckets[l].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(l){return this.buckets[l.id]}upload(l){for(const f in this.buckets){const $=this.buckets[f];$.uploadPending()&&$.upload(l)}const h=l.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new le(l,this.imageAtlas.image,h.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new le(l,this.glyphAtlasImage,h.ALPHA),this.glyphAtlasImage=null)}prepare(l){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(l,this.imageAtlasTexture)}queryRenderedFeatures(l,h,f,$,x,T,P,w,L,z){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:$,cameraQueryGeometry:x,scale:T,tileSize:this.tileSize,pixelPosMatrix:z,transform:w,params:P,queryPadding:this.queryPadding*L},l,h,f):{}}querySourceFeatures(l,h){const f=this.latestFeatureIndex;if(!f||!f.rawTileData)return;const $=f.loadVTLayers(),x=h?h.sourceLayer:"",T=$._geojsonTileLayer||$[x];if(!T)return;const P=c.createFilter(h&&h.filter),{z:w,x:L,y:z}=this.tileID.canonical,B={z:w,x:L,y:z};for(let j=0;j<T.length;j++){const Q=T.feature(j);if(P.needGeometry){const se=c.toEvaluationFeature(Q,!0);if(!P.filter(new c.EvaluationParameters(this.tileID.overscaledZ),se,this.tileID.canonical))continue}else if(!P.filter(new c.EvaluationParameters(this.tileID.overscaledZ),Q))continue;const Y=f.getId(Q,x),Z=new c.GeoJSONFeature(Q,w,L,z,Y);Z.tile=B,l.push(Z)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(l){const h=this.expirationTime;if(l.cacheControl){const f=c.parseCacheControl(l.cacheControl);f["max-age"]&&(this.expirationTime=Date.now()+1e3*f["max-age"])}else l.expires&&(this.expirationTime=new Date(l.expires).getTime());if(this.expirationTime){const f=Date.now();let $=!1;if(this.expirationTime>f)$=!1;else if(h)if(this.expirationTime<h)$=!0;else{const x=this.expirationTime-h;x?this.expirationTime=f+Math.max(x,3e4):$=!0}else $=!0;$?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(l,h){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(l).length===0)return;const f=this.latestFeatureIndex.loadVTLayers();for(const $ in this.buckets){if(!h.style.hasLayer($))continue;const x=this.buckets[$],T=x.layers[0].sourceLayer||"_geojsonTileLayer",P=f[T],w=l[T];if(!P||!w||Object.keys(w).length===0)continue;x.update(w,P,this.imageAtlas&&this.imageAtlas.patternPositions||{});const L=h&&h.style&&h.style.getLayer($);L&&(this.queryPadding=Math.max(this.queryPadding,L.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<c.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(l){this.symbolFadeHoldUntil=c.exported.now()+l}setDependencies(l,h){const f={};for(const $ of h)f[$]=!0;this.dependencies[l]=f}hasDependency(l,h){for(const f of l){const $=this.dependencies[f];if($){for(const x of h)if($[x])return!0}}return!1}}class Cn{constructor(l,h){this.max=l,this.onRemove=h,this.reset()}reset(){for(const l in this.data)for(const h of this.data[l])h.timeout&&clearTimeout(h.timeout),this.onRemove(h.value);return this.data={},this.order=[],this}add(l,h,f){const $=l.wrapped().key;this.data[$]===void 0&&(this.data[$]=[]);const x={value:h,timeout:void 0};if(f!==void 0&&(x.timeout=setTimeout(()=>{this.remove(l,x)},f)),this.data[$].push(x),this.order.push($),this.order.length>this.max){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(l){return l.wrapped().key in this.data}getAndRemove(l){return this.has(l)?this._getAndRemoveByKey(l.wrapped().key):null}_getAndRemoveByKey(l){const h=this.data[l].shift();return h.timeout&&clearTimeout(h.timeout),this.data[l].length===0&&delete this.data[l],this.order.splice(this.order.indexOf(l),1),h.value}getByKey(l){const h=this.data[l];return h?h[0].value:null}get(l){return this.has(l)?this.data[l.wrapped().key][0].value:null}remove(l,h){if(!this.has(l))return this;const f=l.wrapped().key,$=h===void 0?0:this.data[f].indexOf(h),x=this.data[f][$];return this.data[f].splice($,1),x.timeout&&clearTimeout(x.timeout),this.data[f].length===0&&delete this.data[f],this.onRemove(x.value),this.order.splice(this.order.indexOf(f),1),this}setMaxSize(l){for(this.max=l;this.order.length>this.max;){const h=this._getAndRemoveByKey(this.order[0]);h&&this.onRemove(h)}return this}filter(l){const h=[];for(const f in this.data)for(const $ of this.data[f])l($.value)||h.push($);for(const f of h)this.remove(f.value.tileID,f)}}class Ro{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(l,h,f){const $=String(h);if(this.stateChanges[l]=this.stateChanges[l]||{},this.stateChanges[l][$]=this.stateChanges[l][$]||{},c.extend(this.stateChanges[l][$],f),this.deletedStates[l]===null){this.deletedStates[l]={};for(const x in this.state[l])x!==$&&(this.deletedStates[l][x]=null)}else if(this.deletedStates[l]&&this.deletedStates[l][$]===null){this.deletedStates[l][$]={};for(const x in this.state[l][$])f[x]||(this.deletedStates[l][$][x]=null)}else for(const x in f)this.deletedStates[l]&&this.deletedStates[l][$]&&this.deletedStates[l][$][x]===null&&delete this.deletedStates[l][$][x]}removeFeatureState(l,h,f){if(this.deletedStates[l]===null)return;const $=String(h);if(this.deletedStates[l]=this.deletedStates[l]||{},f&&h!==void 0)this.deletedStates[l][$]!==null&&(this.deletedStates[l][$]=this.deletedStates[l][$]||{},this.deletedStates[l][$][f]=null);else if(h!==void 0)if(this.stateChanges[l]&&this.stateChanges[l][$])for(f in this.deletedStates[l][$]={},this.stateChanges[l][$])this.deletedStates[l][$][f]=null;else this.deletedStates[l][$]=null;else this.deletedStates[l]=null}getState(l,h){const f=String(h),$=c.extend({},(this.state[l]||{})[f],(this.stateChanges[l]||{})[f]);if(this.deletedStates[l]===null)return{};if(this.deletedStates[l]){const x=this.deletedStates[l][h];if(x===null)return{};for(const T in x)delete $[T]}return $}initializeTileState(l,h){l.setFeatureState(this.state,h)}coalesceChanges(l,h){const f={};for(const $ in this.stateChanges){this.state[$]=this.state[$]||{};const x={};for(const T in this.stateChanges[$])this.state[$][T]||(this.state[$][T]={}),c.extend(this.state[$][T],this.stateChanges[$][T]),x[T]=this.state[$][T];f[$]=x}for(const $ in this.deletedStates){this.state[$]=this.state[$]||{};const x={};if(this.deletedStates[$]===null)for(const T in this.state[$])x[T]={},this.state[$][T]={};else for(const T in this.deletedStates[$]){if(this.deletedStates[$][T]===null)this.state[$][T]={};else for(const P of Object.keys(this.deletedStates[$][T]))delete this.state[$][T][P];x[T]=this.state[$][T]}f[$]=f[$]||{},c.extend(f[$],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(f).length!==0)for(const $ in l)l[$].setFeatureState(f,h)}}class Gi extends c.Evented{constructor(l,h,f){super(),this.id=l,this.dispatcher=f,this.on("data",$=>{$.dataType==="source"&&$.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&$.dataType==="source"&&$.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain))}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function($,x,T,P){const w=new zi[x.type]($,x,T,P);if(w.id!==$)throw new Error(`Expected Source id to be ${$} instead of ${w.id}`);return c.bindAll(["load","abort","unload","serialize","prepare"],w),w}(l,h,f,this),this._tiles={},this._cache=new Cn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ro}onAdd(l){this.map=l,this._maxTileCacheSize=l?l._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(l)}onRemove(l){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(l)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const l in this._tiles){const h=this._tiles[l];if(h.state!=="loaded"&&h.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const l=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,l&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(l,h){return this._source.loadTile(l,h)}_unloadTile(l){if(this._source.unloadTile)return this._source.unloadTile(l,()=>{})}_abortTile(l){this._source.abortTile&&this._source.abortTile(l,()=>{}),this._source.fire(new c.Event("dataabort",{tile:l,coord:l.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(l){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const h in this._tiles){const f=this._tiles[h];f.upload(l),f.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(l=>l.tileID).sort(lo).map(l=>l.key)}getRenderableIds(l){const h=[];for(const f in this._tiles)this._isIdRenderable(f,l)&&h.push(this._tiles[f]);return l?h.sort((f,$)=>{const x=f.tileID,T=$.tileID,P=new c.pointGeometry(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),w=new c.pointGeometry(T.canonical.x,T.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-T.overscaledZ||w.y-P.y||w.x-P.x}).map(f=>f.tileID.key):h.map(f=>f.tileID).sort(lo).map(f=>f.key)}hasRenderableParent(l){const h=this.findLoadedParent(l,0);return!!h&&this._isIdRenderable(h.tileID.key)}_isIdRenderable(l,h){return this._tiles[l]&&this._tiles[l].hasData()&&!this._coveredTiles[l]&&(h||!this._tiles[l].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const l in this._tiles)this._tiles[l].state!=="errored"&&this._reloadTile(l,"reloading")}}_reloadTile(l,h){const f=this._tiles[l];f&&(f.state!=="loading"&&(f.state=h),this._loadTile(f,this._tileLoaded.bind(this,f,l,h)))}_tileLoaded(l,h,f,$){if($)return l.state="errored",void($.status!==404?this._source.fire(new c.ErrorEvent($,{tile:l})):this.update(this.transform,this.terrain));l.timeAdded=c.exported.now(),f==="expired"&&(l.refreshedUponExpiration=!0),this._setTileReloadTimer(h,l),this.getSource().type==="raster-dem"&&l.dem&&this._backfillDEM(l),this._state.initializeTileState(l,this.map?this.map.painter:null),l.aborted||this._source.fire(new c.Event("data",{dataType:"source",tile:l,coord:l.tileID}))}_backfillDEM(l){const h=this.getRenderableIds();for(let $=0;$<h.length;$++){const x=h[$];if(l.neighboringTiles&&l.neighboringTiles[x]){const T=this.getTileByID(x);f(l,T),f(T,l)}}function f($,x){$.needsHillshadePrepare=!0,$.needsTerrainPrepare=!0;let T=x.tileID.canonical.x-$.tileID.canonical.x;const P=x.tileID.canonical.y-$.tileID.canonical.y,w=Math.pow(2,$.tileID.canonical.z),L=x.tileID.key;T===0&&P===0||Math.abs(P)>1||(Math.abs(T)>1&&(Math.abs(T+w)===1?T+=w:Math.abs(T-w)===1&&(T-=w)),x.dem&&$.dem&&($.dem.backfillBorder(x.dem,T,P),$.neighboringTiles&&$.neighboringTiles[L]&&($.neighboringTiles[L].backfilled=!0)))}}getTile(l){return this.getTileByID(l.key)}getTileByID(l){return this._tiles[l]}_retainLoadedChildren(l,h,f,$){for(const x in this._tiles){let T=this._tiles[x];if($[x]||!T.hasData()||T.tileID.overscaledZ<=h||T.tileID.overscaledZ>f)continue;let P=T.tileID;for(;T&&T.tileID.overscaledZ>h+1;){const L=T.tileID.scaledTo(T.tileID.overscaledZ-1);T=this._tiles[L.key],T&&T.hasData()&&(P=L)}let w=P;for(;w.overscaledZ>h;)if(w=w.scaledTo(w.overscaledZ-1),l[w.key]){$[P.key]=P;break}}}findLoadedParent(l,h){if(l.key in this._loadedParentTiles){const f=this._loadedParentTiles[l.key];return f&&f.tileID.overscaledZ>=h?f:null}for(let f=l.overscaledZ-1;f>=h;f--){const $=l.scaledTo(f),x=this._getLoadedTile($);if(x)return x}}_getLoadedTile(l){const h=this._tiles[l.key];return h&&h.hasData()?h:this._cache.getByKey(l.wrapped().key)}updateCacheSize(l){const h=Math.ceil(l.width/this._source.tileSize)+1,f=Math.ceil(l.height/this._source.tileSize)+1,$=Math.floor(h*f*5),x=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,$):$;this._cache.setMaxSize(x)}handleWrapJump(l){const h=Math.round((l-(this._prevLng===void 0?l:this._prevLng))/360);if(this._prevLng=l,h){const f={};for(const $ in this._tiles){const x=this._tiles[$];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+h),f[x.tileID.key]=x}this._tiles=f;for(const $ in this._timers)clearTimeout(this._timers[$]),delete this._timers[$];for(const $ in this._tiles)this._setTileReloadTimer($,this._tiles[$])}}update(l,h){if(this.transform=l,this.terrain=h,!this._sourceLoaded||this._paused)return;let f;this.updateCacheSize(l),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?f=l.getVisibleUnwrappedCoordinates(this._source.tileID).map(L=>new c.OverscaledTileID(L.canonical.z,L.wrap,L.canonical.z,L.canonical.x,L.canonical.y)):(f=l.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:h}),this._source.hasTile&&(f=f.filter(L=>this._source.hasTile(L)))):f=[];const $=l.coveringZoomLevel(this._source),x=Math.max($-Gi.maxOverzooming,this._source.minzoom),T=Math.max($+Gi.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const L={};for(const z of f)if(z.canonical.z>this._source.minzoom){const B=z.scaledTo(z.canonical.z-1);L[B.key]=B;const j=z.scaledTo(Math.max(this._source.minzoom,Math.min(z.canonical.z,5)));L[j.key]=j}f=f.concat(Object.values(L))}const P=this._updateRetainedTiles(f,$);if(Do(this._source.type)){const L={},z={},B=Object.keys(P);for(const j of B){const Q=P[j],Y=this._tiles[j];if(!Y||Y.fadeEndTime&&Y.fadeEndTime<=c.exported.now())continue;const Z=this.findLoadedParent(Q,x);Z&&(this._addTile(Z.tileID),L[Z.tileID.key]=Z.tileID),z[j]=Q}this._retainLoadedChildren(z,$,T,P);for(const j in L)P[j]||(this._coveredTiles[j]=!0,P[j]=L[j]);if(h){const j={},Q={};for(const Y of f)this._tiles[Y.key].hasData()?j[Y.key]=Y:Q[Y.key]=Y;for(const Y in Q){const Z=Q[Y].children(this._source.maxzoom);this._tiles[Z[0].key]&&this._tiles[Z[1].key]&&this._tiles[Z[2].key]&&this._tiles[Z[3].key]&&(j[Z[0].key]=P[Z[0].key]=Z[0],j[Z[1].key]=P[Z[1].key]=Z[1],j[Z[2].key]=P[Z[2].key]=Z[2],j[Z[3].key]=P[Z[3].key]=Z[3],delete Q[Y])}for(const Y in Q){const Z=this.findLoadedParent(Q[Y],this._source.minzoom);if(Z){j[Z.tileID.key]=P[Z.tileID.key]=Z.tileID;for(const se in j)j[se].isChildOf(Z.tileID)&&delete j[se]}}for(const Y in this._tiles)j[Y]||(this._coveredTiles[Y]=!0)}}for(const L in P)this._tiles[L].clearFadeHold();const w=c.keysDifference(this._tiles,P);for(const L of w){const z=this._tiles[L];z.hasSymbolBuckets&&!z.holdingForFade()?z.setHoldDuration(this.map._fadeDuration):z.hasSymbolBuckets&&!z.symbolFadeFinished()||this._removeTile(L)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const l in this._tiles)this._tiles[l].holdingForFade()&&this._removeTile(l)}_updateRetainedTiles(l,h){const f={},$={},x=Math.max(h-Gi.maxOverzooming,this._source.minzoom),T=Math.max(h+Gi.maxUnderzooming,this._source.minzoom),P={};for(const w of l){const L=this._addTile(w);f[w.key]=w,L.hasData()||h<this._source.maxzoom&&(P[w.key]=w)}this._retainLoadedChildren(P,h,T,f);for(const w of l){let L=this._tiles[w.key];if(L.hasData())continue;if(h+1>this._source.maxzoom){const B=w.children(this._source.maxzoom)[0],j=this.getTile(B);if(j&&j.hasData()){f[B.key]=B;continue}}else{const B=w.children(this._source.maxzoom);if(f[B[0].key]&&f[B[1].key]&&f[B[2].key]&&f[B[3].key])continue}let z=L.wasRequested();for(let B=w.overscaledZ-1;B>=x;--B){const j=w.scaledTo(B);if($[j.key]||($[j.key]=!0,L=this.getTile(j),!L&&z&&(L=this._addTile(j)),L&&(f[j.key]=j,z=L.wasRequested(),L.hasData())))break}}return f}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const l in this._tiles){const h=[];let f,$=this._tiles[l].tileID;for(;$.overscaledZ>0;){if($.key in this._loadedParentTiles){f=this._loadedParentTiles[$.key];break}h.push($.key);const x=$.scaledTo($.overscaledZ-1);if(f=this._getLoadedTile(x),f)break;$=x}for(const x of h)this._loadedParentTiles[x]=f}}_addTile(l){let h=this._tiles[l.key];if(h)return h;h=this._cache.getAndRemove(l),h&&(this._setTileReloadTimer(l.key,h),h.tileID=l,this._state.initializeTileState(h,this.map?this.map.painter:null),this._cacheTimers[l.key]&&(clearTimeout(this._cacheTimers[l.key]),delete this._cacheTimers[l.key],this._setTileReloadTimer(l.key,h)));const f=h;return h||(h=new $n(l,this._source.tileSize*l.overscaleFactor()),this._loadTile(h,this._tileLoaded.bind(this,h,l.key,h.state))),h.uses++,this._tiles[l.key]=h,f||this._source.fire(new c.Event("dataloading",{tile:h,coord:h.tileID,dataType:"source"})),h}_setTileReloadTimer(l,h){l in this._timers&&(clearTimeout(this._timers[l]),delete this._timers[l]);const f=h.getExpiryTimeout();f&&(this._timers[l]=setTimeout(()=>{this._reloadTile(l,"expired"),delete this._timers[l]},f))}_removeTile(l){const h=this._tiles[l];h&&(h.uses--,delete this._tiles[l],this._timers[l]&&(clearTimeout(this._timers[l]),delete this._timers[l]),h.uses>0||(h.hasData()&&h.state!=="reloading"?this._cache.add(h.tileID,h,h.getExpiryTimeout()):(h.aborted=!0,this._abortTile(h),this._unloadTile(h))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const l in this._tiles)this._removeTile(l);this._cache.reset()}tilesIn(l,h,f){const $=[],x=this.transform;if(!x)return $;const T=f?x.getCameraQueryGeometry(l):l,P=l.map(Y=>x.pointCoordinate(Y,this.terrain)),w=T.map(Y=>x.pointCoordinate(Y,this.terrain)),L=this.getIds();let z=1/0,B=1/0,j=-1/0,Q=-1/0;for(const Y of w)z=Math.min(z,Y.x),B=Math.min(B,Y.y),j=Math.max(j,Y.x),Q=Math.max(Q,Y.y);for(let Y=0;Y<L.length;Y++){const Z=this._tiles[L[Y]];if(Z.holdingForFade())continue;const se=Z.tileID,ue=Math.pow(2,x.zoom-Z.tileID.overscaledZ),he=h*Z.queryPadding*c.EXTENT/Z.tileSize/ue,J=[se.getTilePoint(new c.MercatorCoordinate(z,B)),se.getTilePoint(new c.MercatorCoordinate(j,Q))];if(J[0].x-he<c.EXTENT&&J[0].y-he<c.EXTENT&&J[1].x+he>=0&&J[1].y+he>=0){const _e=P.map(Ee=>se.getTilePoint(Ee)),me=w.map(Ee=>se.getTilePoint(Ee));$.push({tile:Z,tileID:se,queryGeometry:_e,cameraQueryGeometry:me,scale:ue})}}return $}getVisibleCoordinates(l){const h=this.getRenderableIds(l).map(f=>this._tiles[f].tileID);for(const f of h)f.posMatrix=this.transform.calculatePosMatrix(f.toUnwrapped());return h}hasTransition(){if(this._source.hasTransition())return!0;if(Do(this._source.type))for(const l in this._tiles){const h=this._tiles[l];if(h.fadeEndTime!==void 0&&h.fadeEndTime>=c.exported.now())return!0}return!1}setFeatureState(l,h,f){this._state.updateState(l=l||"_geojsonTileLayer",h,f)}removeFeatureState(l,h,f){this._state.removeFeatureState(l=l||"_geojsonTileLayer",h,f)}getFeatureState(l,h){return this._state.getState(l=l||"_geojsonTileLayer",h)}setDependencies(l,h,f){const $=this._tiles[l];$&&$.setDependencies(h,f)}reloadTilesForDependencies(l,h){for(const f in this._tiles)this._tiles[f].hasDependency(l,h)&&this._reloadTile(f,"reloading");this._cache.filter(f=>!f.hasDependency(l,h))}}function lo(_,l){const h=Math.abs(2*_.wrap)-+(_.wrap<0),f=Math.abs(2*l.wrap)-+(l.wrap<0);return _.overscaledZ-l.overscaledZ||f-h||l.canonical.y-_.canonical.y||l.canonical.x-_.canonical.x}function Do(_){return _==="raster"||_==="image"||_==="video"}Gi.maxOverzooming=10,Gi.maxUnderzooming=3;const an="mapboxgl_preloaded_worker_pool";class en{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<en.workerCount;)this.workers.push(new Worker(or.workerUrl));return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],this.numActive()===0&&(this.workers.forEach(h=>{h.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[an]}numActive(){return Object.keys(this.active).length}}const gr=Math.floor(c.exported.hardwareConcurrency/2);let In;function uo(){return In||(In=new en),In}function dr(_,l){const h={};for(const f in _)f!=="ref"&&(h[f]=_[f]);return c.refProperties.forEach(f=>{f in l&&(h[f]=l[f])}),h}function co(_){_=_.slice();const l=Object.create(null);for(let h=0;h<_.length;h++)l[_[h].id]=_[h];for(let h=0;h<_.length;h++)"ref"in _[h]&&(_[h]=dr(_[h],l[_[h].ref]));return _}en.workerCount=Math.max(Math.min(gr,6),1);const St={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function sn(_,l,h){h.push({command:St.addSource,args:[_,l[_]]})}function Lo(_,l,h){l.push({command:St.removeSource,args:[_]}),h[_]=!0}function Mn(_,l,h,f){Lo(_,h,f),sn(_,l,h)}function po(_,l,h){let f;for(f in _[h])if(Object.prototype.hasOwnProperty.call(_[h],f)&&f!=="data"&&!O(_[h][f],l[h][f]))return!1;for(f in l[h])if(Object.prototype.hasOwnProperty.call(l[h],f)&&f!=="data"&&!O(_[h][f],l[h][f]))return!1;return!0}function bn(_,l,h,f,$,x){let T;for(T in l=l||{},_=_||{})Object.prototype.hasOwnProperty.call(_,T)&&(O(_[T],l[T])||h.push({command:x,args:[f,T,l[T],$]}));for(T in l)Object.prototype.hasOwnProperty.call(l,T)&&!Object.prototype.hasOwnProperty.call(_,T)&&(O(_[T],l[T])||h.push({command:x,args:[f,T,l[T],$]}))}function Nn(_){return _.id}function go(_,l){return _[l.id]=l,_}class Te{constructor(l,h){this.reset(l,h)}reset(l,h){this.points=l||[],this._distances=[0];for(let f=1;f<this.points.length;f++)this._distances[f]=this._distances[f-1]+this.points[f].dist(this.points[f-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(h||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(l){if(this.points.length===1)return this.points[0];l=c.clamp(l,0,1);let h=1,f=this._distances[h];const $=l*this.paddedLength+this.padding;for(;f<$&&h<this._distances.length;)f=this._distances[++h];const x=h-1,T=this._distances[x],P=f-T,w=P>0?($-T)/P:0;return this.points[x].mult(1-w).add(this.points[h].mult(w))}}function Me(_,l){let h=!0;return _==="always"||_!=="never"&&l!=="never"||(h=!1),h}class qn{constructor(l,h,f){const $=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(l/f),this.yCellCount=Math.ceil(h/f);for(let T=0;T<this.xCellCount*this.yCellCount;T++)$.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=h,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/h,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(l,h,f,$,x){this._forEachCell(h,f,$,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(h),this.bboxes.push(f),this.bboxes.push($),this.bboxes.push(x)}insertCircle(l,h,f,$){this._forEachCell(h-$,f-$,h+$,f+$,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(h),this.circles.push(f),this.circles.push($)}_insertBoxCell(l,h,f,$,x,T){this.boxCells[x].push(T)}_insertCircleCell(l,h,f,$,x,T){this.circleCells[x].push(T)}_query(l,h,f,$,x,T,P){if(f<0||l>this.width||$<0||h>this.height)return[];const w=[];if(l<=0&&h<=0&&this.width<=f&&this.height<=$){if(x)return[{key:null,x1:l,y1:h,x2:f,y2:$}];for(let L=0;L<this.boxKeys.length;L++)w.push({key:this.boxKeys[L],x1:this.bboxes[4*L],y1:this.bboxes[4*L+1],x2:this.bboxes[4*L+2],y2:this.bboxes[4*L+3]});for(let L=0;L<this.circleKeys.length;L++){const z=this.circles[3*L],B=this.circles[3*L+1],j=this.circles[3*L+2];w.push({key:this.circleKeys[L],x1:z-j,y1:B-j,x2:z+j,y2:B+j})}}else this._forEachCell(l,h,f,$,this._queryCell,w,{hitTest:x,overlapMode:T,seenUids:{box:{},circle:{}}},P);return w}query(l,h,f,$){return this._query(l,h,f,$,!1,null)}hitTest(l,h,f,$,x,T){return this._query(l,h,f,$,!0,x,T).length>0}hitTestCircle(l,h,f,$,x){const T=l-f,P=l+f,w=h-f,L=h+f;if(P<0||T>this.width||L<0||w>this.height)return!1;const z=[];return this._forEachCell(T,w,P,L,this._queryCellCircle,z,{hitTest:!0,overlapMode:$,circle:{x:l,y:h,radius:f},seenUids:{box:{},circle:{}}},x),z.length>0}_queryCell(l,h,f,$,x,T,P,w){const{seenUids:L,hitTest:z,overlapMode:B}=P,j=this.boxCells[x];if(j!==null){const Y=this.bboxes;for(const Z of j)if(!L.box[Z]){L.box[Z]=!0;const se=4*Z,ue=this.boxKeys[Z];if(l<=Y[se+2]&&h<=Y[se+3]&&f>=Y[se+0]&&$>=Y[se+1]&&(!w||w(ue))&&(!z||!Me(B,ue.overlapMode))&&(T.push({key:ue,x1:Y[se],y1:Y[se+1],x2:Y[se+2],y2:Y[se+3]}),z))return!0}}const Q=this.circleCells[x];if(Q!==null){const Y=this.circles;for(const Z of Q)if(!L.circle[Z]){L.circle[Z]=!0;const se=3*Z,ue=this.circleKeys[Z];if(this._circleAndRectCollide(Y[se],Y[se+1],Y[se+2],l,h,f,$)&&(!w||w(ue))&&(!z||!Me(B,ue.overlapMode))){const he=Y[se],J=Y[se+1],_e=Y[se+2];if(T.push({key:ue,x1:he-_e,y1:J-_e,x2:he+_e,y2:J+_e}),z)return!0}}}return!1}_queryCellCircle(l,h,f,$,x,T,P,w){const{circle:L,seenUids:z,overlapMode:B}=P,j=this.boxCells[x];if(j!==null){const Y=this.bboxes;for(const Z of j)if(!z.box[Z]){z.box[Z]=!0;const se=4*Z,ue=this.boxKeys[Z];if(this._circleAndRectCollide(L.x,L.y,L.radius,Y[se+0],Y[se+1],Y[se+2],Y[se+3])&&(!w||w(ue))&&!Me(B,ue.overlapMode))return T.push(!0),!0}}const Q=this.circleCells[x];if(Q!==null){const Y=this.circles;for(const Z of Q)if(!z.circle[Z]){z.circle[Z]=!0;const se=3*Z,ue=this.circleKeys[Z];if(this._circlesCollide(Y[se],Y[se+1],Y[se+2],L.x,L.y,L.radius)&&(!w||w(ue))&&!Me(B,ue.overlapMode))return T.push(!0),!0}}}_forEachCell(l,h,f,$,x,T,P,w){const L=this._convertToXCellCoord(l),z=this._convertToYCellCoord(h),B=this._convertToXCellCoord(f),j=this._convertToYCellCoord($);for(let Q=L;Q<=B;Q++)for(let Y=z;Y<=j;Y++)if(x.call(this,l,h,f,$,this.xCellCount*Y+Q,T,P,w))return}_convertToXCellCoord(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))}_convertToYCellCoord(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))}_circlesCollide(l,h,f,$,x,T){const P=$-l,w=x-h,L=f+T;return L*L>P*P+w*w}_circleAndRectCollide(l,h,f,$,x,T,P){const w=(T-$)/2,L=Math.abs(l-($+w));if(L>w+f)return!1;const z=(P-x)/2,B=Math.abs(h-(x+z));if(B>z+f)return!1;if(L<=w||B<=z)return!0;const j=L-w,Q=B-z;return j*j+Q*Q<=f*f}}function ln(_,l,h,f,$){const x=c.create();return l?(c.scale(x,x,[1/$,1/$,1]),h||c.rotateZ(x,x,f.angle)):c.multiply(x,f.labelPlaneMatrix,_),x}function jt(_,l,h,f,$){if(l){const x=c.clone(_);return c.scale(x,x,[$,$,1]),h||c.rotateZ(x,x,-f.angle),x}return f.glCoordMatrix}function ti(_,l,h){let f;h?(f=[_.x,_.y,h(_.x,_.y),1],c.transformMat4(f,f,l)):(f=[_.x,_.y,0,1],vn(f,f,l));const $=f[3];return{point:new c.pointGeometry(f[0]/$,f[1]/$),signedDistanceFromCamera:$}}function wi(_,l){return .5+_/l*.5}function ho(_,l){const h=_[0]/_[3],f=_[1]/_[3];return h>=-l[0]&&h<=l[0]&&f>=-l[1]&&f<=l[1]}function Oi(_,l,h,f,$,x,T,P,w,L){const z=f?_.textSizeData:_.iconSizeData,B=c.evaluateSizeForZoom(z,h.transform.zoom),j=[256/h.width*2+1,256/h.height*2+1],Q=f?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;Q.clear();const Y=_.lineVertexArray,Z=f?_.text.placedSymbolArray:_.icon.placedSymbolArray,se=h.transform.width/h.transform.height;let ue=!1;for(let he=0;he<Z.length;he++){const J=Z.get(he);if(J.hidden||J.writingMode===c.WritingMode.vertical&&!ue){un(J.numGlyphs,Q);continue}let _e;if(ue=!1,L?(_e=[J.anchorX,J.anchorY,L(J.anchorX,J.anchorY),1],c.transformMat4(_e,_e,l)):(_e=[J.anchorX,J.anchorY,0,1],vn(_e,_e,l)),!ho(_e,j)){un(J.numGlyphs,Q);continue}const me=wi(h.transform.cameraToCenterDistance,_e[3]),Ee=c.evaluateSizeForFeature(z,B,J),Se=T?Ee/me:Ee*me,Oe=new c.pointGeometry(J.anchorX,J.anchorY),xe=ti(Oe,$,L).point,qe={},Ne=gt(J,Se,!1,P,l,$,x,_.glyphOffsetArray,Y,Q,xe,Oe,qe,se,w,L);ue=Ne.useVertical,(Ne.notEnoughRoom||ue||Ne.needsFlipping&&gt(J,Se,!0,P,l,$,x,_.glyphOffsetArray,Y,Q,xe,Oe,qe,se,w,L).notEnoughRoom)&&un(J.numGlyphs,Q)}f?_.text.dynamicLayoutVertexBuffer.updateData(Q):_.icon.dynamicLayoutVertexBuffer.updateData(Q)}function Fe(_,l,h,f,$,x,T,P,w,L,z,B,j){const Q=P.glyphStartIndex+P.numGlyphs,Y=P.lineStartIndex,Z=P.lineStartIndex+P.lineLength,se=l.getoffsetX(P.glyphStartIndex),ue=l.getoffsetX(Q-1),he=qi(_*se,h,f,$,x,T,P.segment,Y,Z,w,L,z,B,j);if(!he)return null;const J=qi(_*ue,h,f,$,x,T,P.segment,Y,Z,w,L,z,B,j);return J?{first:he,last:J}:null}function yt(_,l,h,f){return _===c.WritingMode.horizontal&&Math.abs(h.y-l.y)>Math.abs(h.x-l.x)*f?{useVertical:!0}:(_===c.WritingMode.vertical?l.y<h.y:l.x>h.x)?{needsFlipping:!0}:null}function gt(_,l,h,f,$,x,T,P,w,L,z,B,j,Q,Y,Z){const se=l/24,ue=_.lineOffsetX*se,he=_.lineOffsetY*se;let J;if(_.numGlyphs>1){const _e=_.glyphStartIndex+_.numGlyphs,me=_.lineStartIndex,Ee=_.lineStartIndex+_.lineLength,Se=Fe(se,P,ue,he,h,z,B,_,w,x,j,Y,Z);if(!Se)return{notEnoughRoom:!0};const Oe=ti(Se.first.point,T,Z).point,xe=ti(Se.last.point,T,Z).point;if(f&&!h){const qe=yt(_.writingMode,Oe,xe,Q);if(qe)return qe}J=[Se.first];for(let qe=_.glyphStartIndex+1;qe<_e-1;qe++)J.push(qi(se*P.getoffsetX(qe),ue,he,h,z,B,_.segment,me,Ee,w,x,j,Y,Z));J.push(Se.last)}else{if(f&&!h){const me=ti(B,$,Z).point,Ee=_.lineStartIndex+_.segment+1,Se=new c.pointGeometry(w.getx(Ee),w.gety(Ee)),Oe=ti(Se,$,Z),xe=Oe.signedDistanceFromCamera>0?Oe.point:Ri(B,Se,me,1,$,Z),qe=yt(_.writingMode,me,xe,Q);if(qe)return qe}const _e=qi(se*P.getoffsetX(_.glyphStartIndex),ue,he,h,z,B,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,w,x,j,Y,Z);if(!_e)return{notEnoughRoom:!0};J=[_e]}for(const _e of J)c.addDynamicAttributes(L,_e.point,_e.angle);return{}}function Ri(_,l,h,f,$,x){const T=ti(_.add(_.sub(l)._unit()),$,x).point,P=h.sub(T);return h.add(P._mult(f/P.mag()))}function qi(_,l,h,f,$,x,T,P,w,L,z,B,j,Q){const Y=f?_-l:_+l;let Z=Y>0?1:-1,se=0;f&&(Z*=-1,se=Math.PI),Z<0&&(se+=Math.PI);let ue=Z>0?P+T:P+T+1,he=$,J=$,_e=0,me=0;const Ee=Math.abs(Y),Se=[];for(;_e+me<=Ee;){if(ue+=Z,ue<P||ue>=w)return null;if(J=he,Se.push(he),he=B[ue],he===void 0){const Xe=new c.pointGeometry(L.getx(ue),L.gety(ue)),pt=ti(Xe,z,Q);if(pt.signedDistanceFromCamera>0)he=B[ue]=pt.point;else{const bt=ue-Z;he=Ri(_e===0?x:new c.pointGeometry(L.getx(bt),L.gety(bt)),Xe,J,Ee-_e+1,z,Q)}}_e+=me,me=J.dist(he)}const Oe=(Ee-_e)/me,xe=he.sub(J),qe=xe.mult(Oe)._add(J);qe._add(xe._unit()._perp()._mult(h*Z));const Ne=se+Math.atan2(he.y-J.y,he.x-J.x);return Se.push(qe),{point:qe,angle:j?Ne:0,path:Se}}const mt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function un(_,l){for(let h=0;h<_;h++){const f=l.length;l.resize(f+4),l.float32.set(mt,3*f)}}function vn(_,l,h){const f=l[0],$=l[1];return _[0]=h[0]*f+h[4]*$+h[12],_[1]=h[1]*f+h[5]*$+h[13],_[3]=h[3]*f+h[7]*$+h[15],_}const xi=100;class zn{constructor(l,h=new qn(l.width+200,l.height+200,25),f=new qn(l.width+200,l.height+200,25)){this.transform=l,this.grid=h,this.ignoredGrid=f,this.pitchfactor=Math.cos(l._pitch)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+xi,this.screenBottomBoundary=l.height+xi,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(l,h,f,$,x,T){const P=this.projectAndGetPerspectiveRatio($,l.anchorPointX,l.anchorPointY,T),w=f*P.perspectiveRatio,L=l.x1*w+P.point.x,z=l.y1*w+P.point.y,B=l.x2*w+P.point.x,j=l.y2*w+P.point.y;return!this.isInsideGrid(L,z,B,j)||h!=="always"&&this.grid.hitTest(L,z,B,j,h,x)||P.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[L,z,B,j],offscreen:this.isOffscreen(L,z,B,j)}}placeCollisionCircles(l,h,f,$,x,T,P,w,L,z,B,j,Q,Y){const Z=[],se=new c.pointGeometry(h.anchorX,h.anchorY),ue=ti(se,T,Y),he=wi(this.transform.cameraToCenterDistance,ue.signedDistanceFromCamera),J=(z?x/he:x*he)/c.ONE_EM,_e=ti(se,P,Y).point,me=Fe(J,$,h.lineOffsetX*J,h.lineOffsetY*J,!1,_e,se,h,f,P,{},!1,Y);let Ee=!1,Se=!1,Oe=!0;if(me){const xe=.5*j*he+Q,qe=new c.pointGeometry(-100,-100),Ne=new c.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Xe=new Te,pt=me.first,bt=me.last;let at=[];for(let Tt=pt.path.length-1;Tt>=1;Tt--)at.push(pt.path[Tt]);for(let Tt=1;Tt<bt.path.length;Tt++)at.push(bt.path[Tt]);const Mt=2.5*xe;if(w){const Tt=at.map(Ct=>ti(Ct,w,Y));at=Tt.some(Ct=>Ct.signedDistanceFromCamera<=0)?[]:Tt.map(Ct=>Ct.point)}let Nt=[];if(at.length>0){const Tt=at[0].clone(),Ct=at[0].clone();for(let It=1;It<at.length;It++)Tt.x=Math.min(Tt.x,at[It].x),Tt.y=Math.min(Tt.y,at[It].y),Ct.x=Math.max(Ct.x,at[It].x),Ct.y=Math.max(Ct.y,at[It].y);Nt=Tt.x>=qe.x&&Ct.x<=Ne.x&&Tt.y>=qe.y&&Ct.y<=Ne.y?[at]:Ct.x<qe.x||Tt.x>Ne.x||Ct.y<qe.y||Tt.y>Ne.y?[]:c.clipLine([at],qe.x,qe.y,Ne.x,Ne.y)}for(const Tt of Nt){Xe.reset(Tt,.25*xe);let Ct=0;Ct=Xe.length<=.5*xe?1:Math.ceil(Xe.paddedLength/Mt)+1;for(let It=0;It<Ct;It++){const Wi=It/Math.max(Ct-1,1),Sn=Xe.lerp(Wi),pn=Sn.x+xi,gn=Sn.y+xi;Z.push(pn,gn,xe,0);const eo=pn-xe,bi=gn-xe,dn=pn+xe,to=gn+xe;if(Oe=Oe&&this.isOffscreen(eo,bi,dn,to),Se=Se||this.isInsideGrid(eo,bi,dn,to),l!=="always"&&this.grid.hitTestCircle(pn,gn,xe,l,B)&&(Ee=!0,!L))return{circles:[],offscreen:!1,collisionDetected:Ee}}}}return{circles:!L&&Ee||!Se||he<this.perspectiveRatioCutoff?[]:Z,offscreen:Oe,collisionDetected:Ee}}queryRenderedSymbols(l){if(l.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const h=[];let f=1/0,$=1/0,x=-1/0,T=-1/0;for(const z of l){const B=new c.pointGeometry(z.x+xi,z.y+xi);f=Math.min(f,B.x),$=Math.min($,B.y),x=Math.max(x,B.x),T=Math.max(T,B.y),h.push(B)}const P=this.grid.query(f,$,x,T).concat(this.ignoredGrid.query(f,$,x,T)),w={},L={};for(const z of P){const B=z.key;if(w[B.bucketInstanceId]===void 0&&(w[B.bucketInstanceId]={}),w[B.bucketInstanceId][B.featureIndex])continue;const j=[new c.pointGeometry(z.x1,z.y1),new c.pointGeometry(z.x2,z.y1),new c.pointGeometry(z.x2,z.y2),new c.pointGeometry(z.x1,z.y2)];c.polygonIntersectsPolygon(h,j)&&(w[B.bucketInstanceId][B.featureIndex]=!0,L[B.bucketInstanceId]===void 0&&(L[B.bucketInstanceId]=[]),L[B.bucketInstanceId].push(B.featureIndex))}return L}insertCollisionBox(l,h,f,$,x,T){(f?this.ignoredGrid:this.grid).insert({bucketInstanceId:$,featureIndex:x,collisionGroupID:T,overlapMode:h},l[0],l[1],l[2],l[3])}insertCollisionCircles(l,h,f,$,x,T){const P=f?this.ignoredGrid:this.grid,w={bucketInstanceId:$,featureIndex:x,collisionGroupID:T,overlapMode:h};for(let L=0;L<l.length;L+=4)P.insertCircle(w,l[L],l[L+1],l[L+2])}projectAndGetPerspectiveRatio(l,h,f,$){let x;return $?(x=[h,f,$(h,f),1],c.transformMat4(x,x,l)):(x=[h,f,0,1],vn(x,x,l)),{point:new c.pointGeometry((x[0]/x[3]+1)/2*this.transform.width+xi,(-x[1]/x[3]+1)/2*this.transform.height+xi),perspectiveRatio:.5+this.transform.cameraToCenterDistance/x[3]*.5}}isOffscreen(l,h,f,$){return f<xi||l>=this.screenRightBoundary||$<xi||h>this.screenBottomBoundary}isInsideGrid(l,h,f,$){return f>=0&&l<this.gridRightBoundary&&$>=0&&h<this.gridBottomBoundary}getViewportMatrix(){const l=c.identity([]);return c.translate(l,l,[-100,-100,0]),l}}function kt(_,l,h){return l*(c.EXTENT/(_.tileSize*Math.pow(2,h-_.tileID.overscaledZ)))}class Bt{constructor(l,h,f,$){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?h:-h))):$&&f?1:0,this.placed=f}isHidden(){return this.opacity===0&&!this.placed}}class Hn{constructor(l,h,f,$,x){this.text=new Bt(l?l.text:null,h,f,x),this.icon=new Bt(l?l.icon:null,h,$,x)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class xn{constructor(l,h,f){this.text=l,this.icon=h,this.skipFade=f}}class Fn{constructor(){this.invProjMatrix=c.create(),this.viewportMatrix=c.create(),this.circles=[]}}class Pn{constructor(l,h,f,$,x){this.bucketInstanceId=l,this.featureIndex=h,this.sourceLayerIndex=f,this.bucketIndex=$,this.tileID=x}}class Mo{constructor(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}}get(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){const h=++this.maxGroupID;this.collisionGroups[l]={ID:h,predicate:f=>f.collisionGroupID===h}}return this.collisionGroups[l]}}function No(_,l,h,f,$){const{horizontalAlign:x,verticalAlign:T}=c.getAnchorAlignment(_),P=-(x-.5)*l,w=-(T-.5)*h,L=c.evaluateVariableOffset(_,f);return new c.pointGeometry(P+L[0]*$,w+L[1]*$)}function wn(_,l,h,f,$,x){const{x1:T,x2:P,y1:w,y2:L,anchorPointX:z,anchorPointY:B}=_,j=new c.pointGeometry(l,h);return f&&j._rotate($?x:-x),{x1:T+j.x,y1:w+j.y,x2:P+j.x,y2:L+j.y,anchorPointX:z,anchorPointY:B}}class X{constructor(l,h,f,$,x){this.transform=l.clone(),this.terrain=h,this.collisionIndex=new zn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=f,this.retainedQueryData={},this.collisionGroups=new Mo($),this.collisionCircleArrays={},this.prevPlacement=x,x&&(x.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(l,h,f,$){const x=f.getBucket(h),T=f.latestFeatureIndex;if(!x||!T||h.id!==x.layerIds[0])return;const P=f.collisionBoxArray,w=x.layers[0].layout,L=Math.pow(2,this.transform.zoom-f.tileID.overscaledZ),z=f.tileSize/c.EXTENT,B=this.transform.calculatePosMatrix(f.tileID.toUnwrapped()),j=w.get("text-pitch-alignment")==="map",Q=w.get("text-rotation-alignment")==="map",Y=kt(f,1,this.transform.zoom),Z=ln(B,j,Q,this.transform,Y);let se=null;if(j){const he=jt(B,j,Q,this.transform,Y);se=c.multiply([],this.transform.labelPlaneMatrix,he)}this.retainedQueryData[x.bucketInstanceId]=new Pn(x.bucketInstanceId,T,x.sourceLayerIndex,x.index,f.tileID);const ue={bucket:x,layout:w,posMatrix:B,textLabelPlaneMatrix:Z,labelToScreenMatrix:se,scale:L,textPixelRatio:z,holdingForFade:f.holdingForFade(),collisionBoxArray:P,partiallyEvaluatedTextSize:c.evaluateSizeForZoom(x.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if($)for(const he of x.sortKeyRanges){const{sortKey:J,symbolInstanceStart:_e,symbolInstanceEnd:me}=he;l.push({sortKey:J,symbolInstanceStart:_e,symbolInstanceEnd:me,parameters:ue})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:ue})}attemptAnchorPlacement(l,h,f,$,x,T,P,w,L,z,B,j,Q,Y,Z,se){const ue=[j.textOffset0,j.textOffset1],he=No(l,f,$,ue,x),J=this.collisionIndex.placeCollisionBox(wn(h,he.x,he.y,T,P,this.transform.angle),B,w,L,z.predicate,se);if((!Z||this.collisionIndex.placeCollisionBox(wn(Z,he.x,he.y,T,P,this.transform.angle),B,w,L,z.predicate,se).box.length!==0)&&J.box.length>0){let _e;if(this.prevPlacement&&this.prevPlacement.variableOffsets[j.crossTileID]&&this.prevPlacement.placements[j.crossTileID]&&this.prevPlacement.placements[j.crossTileID].text&&(_e=this.prevPlacement.variableOffsets[j.crossTileID].anchor),j.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[j.crossTileID]={textOffset:ue,width:f,height:$,anchor:l,textBoxScale:x,prevAnchor:_e},this.markUsedJustification(Q,l,j,Y),Q.allowVerticalPlacement&&(this.markUsedOrientation(Q,Y,j),this.placedOrientations[j.crossTileID]=Y),{shift:he,placedGlyphBoxes:J}}}placeLayerBucketPart(l,h,f){const{bucket:$,layout:x,posMatrix:T,textLabelPlaneMatrix:P,labelToScreenMatrix:w,textPixelRatio:L,holdingForFade:z,collisionBoxArray:B,partiallyEvaluatedTextSize:j,collisionGroup:Q}=l.parameters,Y=x.get("text-optional"),Z=x.get("icon-optional"),se=c.getOverlapMode(x,"text-overlap","text-allow-overlap"),ue=se==="always",he=c.getOverlapMode(x,"icon-overlap","icon-allow-overlap"),J=he==="always",_e=x.get("text-rotation-alignment")==="map",me=x.get("text-pitch-alignment")==="map",Ee=x.get("icon-text-fit")!=="none",Se=x.get("symbol-z-order")==="viewport-y",Oe=ue&&(J||!$.hasIconData()||Z),xe=J&&(ue||!$.hasTextData()||Y);!$.collisionArrays&&B&&$.deserializeCollisionBoxes(B);const qe=(Ne,Xe)=>{if(h[Ne.crossTileID])return;if(z)return void(this.placements[Ne.crossTileID]=new xn(!1,!1,!1));let pt=!1,bt=!1,at=!0,Mt=null,Nt={box:null,offscreen:null},Tt={box:null,offscreen:null},Ct=null,It=null,Wi=null,Sn=0,pn=0,gn=0;Xe.textFeatureIndex?Sn=Xe.textFeatureIndex:Ne.useRuntimeCollisionCircles&&(Sn=Ne.featureIndex),Xe.verticalTextFeatureIndex&&(pn=Xe.verticalTextFeatureIndex);const eo=this.retainedQueryData[$.bucketInstanceId].tileID,bi=this.terrain?(Pt,qt)=>this.terrain.getElevation(eo,Pt,qt):null;for(const Pt of["textBox","verticalTextBox","iconBox","verticalIconBox"]){const qt=Xe[Pt];qt&&(qt.elevation=bi?bi(qt.anchorPointX,qt.anchorPointY):0)}const dn=Xe.textBox;if(dn){const Pt=Rt=>{let ui=c.WritingMode.horizontal;if($.allowVerticalPlacement&&!Rt&&this.prevPlacement){const Bi=this.prevPlacement.placedOrientations[Ne.crossTileID];Bi&&(this.placedOrientations[Ne.crossTileID]=Bi,ui=Bi,this.markUsedOrientation($,ui,Ne))}return ui},qt=(Rt,ui)=>{if($.allowVerticalPlacement&&Ne.numVerticalGlyphVertices>0&&Xe.verticalTextBox){for(const Bi of $.writingModes)if(Bi===c.WritingMode.vertical?(Nt=ui(),Tt=Nt):Nt=Rt(),Nt&&Nt.box&&Nt.box.length)break}else Nt=Rt()};if(x.get("text-variable-anchor")){let Rt=x.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ne.crossTileID]){const Wt=this.prevPlacement.variableOffsets[Ne.crossTileID];Rt.indexOf(Wt.anchor)>0&&(Rt=Rt.filter(nn=>nn!==Wt.anchor),Rt.unshift(Wt.anchor))}const ui=(Wt,nn,To)=>{const Ao=Wt.x2-Wt.x1,Br=Wt.y2-Wt.y1,La=Ne.textBoxScale,Ur=Ee&&he==="never"?nn:null;let hn={box:[],offscreen:!1};const jr=se!=="never"?2*Rt.length:Rt.length;for(let rr=0;rr<jr;++rr){const Vr=this.attemptAnchorPlacement(Rt[rr%Rt.length],Wt,Ao,Br,La,_e,me,L,T,Q,rr>=Rt.length?se:"never",Ne,$,To,Ur,bi);if(Vr&&(hn=Vr.placedGlyphBoxes,hn&&hn.box&&hn.box.length)){pt=!0,Mt=Vr.shift;break}}return hn};qt(()=>ui(dn,Xe.iconBox,c.WritingMode.horizontal),()=>{const Wt=Xe.verticalTextBox;return $.allowVerticalPlacement&&!(Nt&&Nt.box&&Nt.box.length)&&Ne.numVerticalGlyphVertices>0&&Wt?ui(Wt,Xe.verticalIconBox,c.WritingMode.vertical):{box:null,offscreen:null}}),Nt&&(pt=Nt.box,at=Nt.offscreen);const Bi=Pt(Nt&&Nt.box);if(!pt&&this.prevPlacement){const Wt=this.prevPlacement.variableOffsets[Ne.crossTileID];Wt&&(this.variableOffsets[Ne.crossTileID]=Wt,this.markUsedJustification($,Wt.anchor,Ne,Bi))}}else{const Rt=(ui,Bi)=>{const Wt=this.collisionIndex.placeCollisionBox(ui,se,L,T,Q.predicate,bi);return Wt&&Wt.box&&Wt.box.length&&(this.markUsedOrientation($,Bi,Ne),this.placedOrientations[Ne.crossTileID]=Bi),Wt};qt(()=>Rt(dn,c.WritingMode.horizontal),()=>{const ui=Xe.verticalTextBox;return $.allowVerticalPlacement&&Ne.numVerticalGlyphVertices>0&&ui?Rt(ui,c.WritingMode.vertical):{box:null,offscreen:null}}),Pt(Nt&&Nt.box&&Nt.box.length)}}if(Ct=Nt,pt=Ct&&Ct.box&&Ct.box.length>0,at=Ct&&Ct.offscreen,Ne.useRuntimeCollisionCircles){const Pt=$.text.placedSymbolArray.get(Ne.centerJustifiedTextSymbolIndex),qt=c.evaluateSizeForFeature($.textSizeData,j,Pt),Rt=x.get("text-padding");It=this.collisionIndex.placeCollisionCircles(se,Pt,$.lineVertexArray,$.glyphOffsetArray,qt,T,P,w,f,me,Q.predicate,Ne.collisionCircleDiameter,Rt,bi),It.circles.length&&It.collisionDetected&&!f&&c.warnOnce("Collisions detected, but collision boxes are not shown"),pt=ue||It.circles.length>0&&!It.collisionDetected,at=at&&It.offscreen}if(Xe.iconFeatureIndex&&(gn=Xe.iconFeatureIndex),Xe.iconBox){const Pt=qt=>{const Rt=Ee&&Mt?wn(qt,Mt.x,Mt.y,_e,me,this.transform.angle):qt;return this.collisionIndex.placeCollisionBox(Rt,he,L,T,Q.predicate,bi)};Tt&&Tt.box&&Tt.box.length&&Xe.verticalIconBox?(Wi=Pt(Xe.verticalIconBox),bt=Wi.box.length>0):(Wi=Pt(Xe.iconBox),bt=Wi.box.length>0),at=at&&Wi.offscreen}const to=Y||Ne.numHorizontalGlyphVertices===0&&Ne.numVerticalGlyphVertices===0,kr=Z||Ne.numIconVertices===0;if(to||kr?kr?to||(bt=bt&&pt):pt=bt&&pt:bt=pt=bt&&pt,pt&&Ct&&Ct.box&&this.collisionIndex.insertCollisionBox(Ct.box,se,x.get("text-ignore-placement"),$.bucketInstanceId,Tt&&Tt.box&&pn?pn:Sn,Q.ID),bt&&Wi&&this.collisionIndex.insertCollisionBox(Wi.box,he,x.get("icon-ignore-placement"),$.bucketInstanceId,gn,Q.ID),It&&(pt&&this.collisionIndex.insertCollisionCircles(It.circles,se,x.get("text-ignore-placement"),$.bucketInstanceId,Sn,Q.ID),f)){const Pt=$.bucketInstanceId;let qt=this.collisionCircleArrays[Pt];qt===void 0&&(qt=this.collisionCircleArrays[Pt]=new Fn);for(let Rt=0;Rt<It.circles.length;Rt+=4)qt.circles.push(It.circles[Rt+0]),qt.circles.push(It.circles[Rt+1]),qt.circles.push(It.circles[Rt+2]),qt.circles.push(It.collisionDetected?1:0)}if(Ne.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if($.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Ne.crossTileID]=new xn(pt||Oe,bt||xe,at||$.justReloaded),h[Ne.crossTileID]=!0};if(Se){if(l.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Ne=$.getSortedSymbolIndexes(this.transform.angle);for(let Xe=Ne.length-1;Xe>=0;--Xe){const pt=Ne[Xe];qe($.symbolInstances.get(pt),$.collisionArrays[pt])}}else for(let Ne=l.symbolInstanceStart;Ne<l.symbolInstanceEnd;Ne++)qe($.symbolInstances.get(Ne),$.collisionArrays[Ne]);if(f&&$.bucketInstanceId in this.collisionCircleArrays){const Ne=this.collisionCircleArrays[$.bucketInstanceId];c.invert(Ne.invProjMatrix,T),Ne.viewportMatrix=this.collisionIndex.getViewportMatrix()}$.justReloaded=!1}markUsedJustification(l,h,f,$){let x;x=$===c.WritingMode.vertical?f.verticalPlacedTextSymbolIndex:{left:f.leftJustifiedTextSymbolIndex,center:f.centerJustifiedTextSymbolIndex,right:f.rightJustifiedTextSymbolIndex}[c.getAnchorJustification(h)];const T=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex,f.verticalPlacedTextSymbolIndex];for(const P of T)P>=0&&(l.text.placedSymbolArray.get(P).crossTileID=x>=0&&P!==x?0:f.crossTileID)}markUsedOrientation(l,h,f){const $=h===c.WritingMode.horizontal||h===c.WritingMode.horizontalOnly?h:0,x=h===c.WritingMode.vertical?h:0,T=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex];for(const P of T)l.text.placedSymbolArray.get(P).placedOrientation=$;f.verticalPlacedTextSymbolIndex&&(l.text.placedSymbolArray.get(f.verticalPlacedTextSymbolIndex).placedOrientation=x)}commit(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;const h=this.prevPlacement;let f=!1;this.prevZoomAdjustment=h?h.zoomAdjustment(this.transform.zoom):0;const $=h?h.symbolFadeChange(l):1,x=h?h.opacities:{},T=h?h.variableOffsets:{},P=h?h.placedOrientations:{};for(const w in this.placements){const L=this.placements[w],z=x[w];z?(this.opacities[w]=new Hn(z,$,L.text,L.icon),f=f||L.text!==z.text.placed||L.icon!==z.icon.placed):(this.opacities[w]=new Hn(null,$,L.text,L.icon,L.skipFade),f=f||L.text||L.icon)}for(const w in x){const L=x[w];if(!this.opacities[w]){const z=new Hn(L,$,!1,!1);z.isHidden()||(this.opacities[w]=z,f=f||L.text.placed||L.icon.placed)}}for(const w in T)this.variableOffsets[w]||!this.opacities[w]||this.opacities[w].isHidden()||(this.variableOffsets[w]=T[w]);for(const w in P)this.placedOrientations[w]||!this.opacities[w]||this.opacities[w].isHidden()||(this.placedOrientations[w]=P[w]);if(h&&h.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");f?this.lastPlacementChangeTime=l:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=h?h.lastPlacementChangeTime:l)}updateLayerOpacities(l,h){const f={};for(const $ of h){const x=$.getBucket(l);x&&$.latestFeatureIndex&&l.id===x.layerIds[0]&&this.updateBucketOpacities(x,f,$.collisionBoxArray)}}updateBucketOpacities(l,h,f){l.hasTextData()&&l.text.opacityVertexArray.clear(),l.hasIconData()&&l.icon.opacityVertexArray.clear(),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();const $=l.layers[0].layout,x=new Hn(null,0,!1,!1,!0),T=$.get("text-allow-overlap"),P=$.get("icon-allow-overlap"),w=$.get("text-variable-anchor"),L=$.get("text-rotation-alignment")==="map",z=$.get("text-pitch-alignment")==="map",B=$.get("icon-text-fit")!=="none",j=new Hn(null,0,T&&(P||!l.hasIconData()||$.get("icon-optional")),P&&(T||!l.hasTextData()||$.get("text-optional")),!0);!l.collisionArrays&&f&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(f);const Q=(Y,Z,se)=>{for(let ue=0;ue<Z/4;ue++)Y.opacityVertexArray.emplaceBack(se)};for(let Y=0;Y<l.symbolInstances.length;Y++){const Z=l.symbolInstances.get(Y),{numHorizontalGlyphVertices:se,numVerticalGlyphVertices:ue,crossTileID:he}=Z;let J=this.opacities[he];h[he]?J=x:J||(J=j,this.opacities[he]=J),h[he]=!0;const _e=Z.numIconVertices>0,me=this.placedOrientations[Z.crossTileID],Ee=me===c.WritingMode.vertical,Se=me===c.WritingMode.horizontal||me===c.WritingMode.horizontalOnly;if(se>0||ue>0){const Oe=ce(J.text);Q(l.text,se,Ee?ve:Oe),Q(l.text,ue,Se?ve:Oe);const xe=J.text.isHidden();[Z.rightJustifiedTextSymbolIndex,Z.centerJustifiedTextSymbolIndex,Z.leftJustifiedTextSymbolIndex].forEach(Xe=>{Xe>=0&&(l.text.placedSymbolArray.get(Xe).hidden=xe||Ee?1:0)}),Z.verticalPlacedTextSymbolIndex>=0&&(l.text.placedSymbolArray.get(Z.verticalPlacedTextSymbolIndex).hidden=xe||Se?1:0);const qe=this.variableOffsets[Z.crossTileID];qe&&this.markUsedJustification(l,qe.anchor,Z,me);const Ne=this.placedOrientations[Z.crossTileID];Ne&&(this.markUsedJustification(l,"left",Z,Ne),this.markUsedOrientation(l,Ne,Z))}if(_e){const Oe=ce(J.icon),xe=!(B&&Z.verticalPlacedIconSymbolIndex&&Ee);Z.placedIconSymbolIndex>=0&&(Q(l.icon,Z.numIconVertices,xe?Oe:ve),l.icon.placedSymbolArray.get(Z.placedIconSymbolIndex).hidden=J.icon.isHidden()),Z.verticalPlacedIconSymbolIndex>=0&&(Q(l.icon,Z.numVerticalIconVertices,xe?ve:Oe),l.icon.placedSymbolArray.get(Z.verticalPlacedIconSymbolIndex).hidden=J.icon.isHidden())}if(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData()){const Oe=l.collisionArrays[Y];if(Oe){let xe=new c.pointGeometry(0,0);if(Oe.textBox||Oe.verticalTextBox){let Ne=!0;if(w){const Xe=this.variableOffsets[he];Xe?(xe=No(Xe.anchor,Xe.width,Xe.height,Xe.textOffset,Xe.textBoxScale),L&&xe._rotate(z?this.transform.angle:-this.transform.angle)):Ne=!1}Oe.textBox&&M(l.textCollisionBox.collisionVertexArray,J.text.placed,!Ne||Ee,xe.x,xe.y),Oe.verticalTextBox&&M(l.textCollisionBox.collisionVertexArray,J.text.placed,!Ne||Se,xe.x,xe.y)}const qe=!!(!Se&&Oe.verticalIconBox);Oe.iconBox&&M(l.iconCollisionBox.collisionVertexArray,J.icon.placed,qe,B?xe.x:0,B?xe.y:0),Oe.verticalIconBox&&M(l.iconCollisionBox.collisionVertexArray,J.icon.placed,!qe,B?xe.x:0,B?xe.y:0)}}}if(l.sortFeatures(this.transform.angle),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.text.opacityVertexArray.length!==l.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${l.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${l.text.layoutVertexArray.length}) / 4`);if(l.icon.opacityVertexArray.length!==l.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${l.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${l.icon.layoutVertexArray.length}) / 4`);if(l.bucketInstanceId in this.collisionCircleArrays){const Y=this.collisionCircleArrays[l.bucketInstanceId];l.placementInvProjMatrix=Y.invProjMatrix,l.placementViewportMatrix=Y.viewportMatrix,l.collisionCircleArray=Y.circles,delete this.collisionCircleArrays[l.bucketInstanceId]}}symbolFadeChange(l){return this.fadeDuration===0?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(l){return Math.max(0,(this.transform.zoom-l)/1.5)}hasTransitions(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(l,h){const f=this.zoomAtLastRecencyCheck===h?1-this.zoomAdjustment(h):1;return this.zoomAtLastRecencyCheck=h,this.commitTime+this.fadeDuration*f>l}setStale(){this.stale=!0}}function M(_,l,h,f,$){_.emplaceBack(l?1:0,h?1:0,f||0,$||0),_.emplaceBack(l?1:0,h?1:0,f||0,$||0),_.emplaceBack(l?1:0,h?1:0,f||0,$||0),_.emplaceBack(l?1:0,h?1:0,f||0,$||0)}const k=Math.pow(2,25),G=Math.pow(2,24),W=Math.pow(2,17),ne=Math.pow(2,16),ae=Math.pow(2,9),re=Math.pow(2,8),oe=Math.pow(2,1);function ce(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const l=_.placed?1:0,h=Math.floor(127*_.opacity);return h*k+l*G+h*W+l*ne+h*ae+l*re+h*oe+l}const ve=0;class Ce{constructor(l){this._sortAcrossTiles=l.layout.get("symbol-z-order")!=="viewport-y"&&!l.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(l,h,f,$,x){const T=this._bucketParts;for(;this._currentTileIndex<l.length;)if(h.getBucketParts(T,$,l[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,T.sort((P,w)=>P.sortKey-w.sortKey));this._currentPartIndex<T.length;)if(h.placeLayerBucketPart(T[this._currentPartIndex],this._seenCrossTileIDs,f),this._currentPartIndex++,x())return!0;return!1}}class Ae{constructor(l,h,f,$,x,T,P,w){this.placement=new X(l,h,T,P,w),this._currentPlacementIndex=f.length-1,this._forceFullPlacement=$,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(l,h,f){const $=c.exported.now(),x=()=>{const T=c.exported.now()-$;return!this._forceFullPlacement&&T>2};for(;this._currentPlacementIndex>=0;){const T=h[l[this._currentPlacementIndex]],P=this.placement.collisionIndex.transform.zoom;if(T.type==="symbol"&&(!T.minzoom||T.minzoom<=P)&&(!T.maxzoom||T.maxzoom>P)){if(this._inProgressLayer||(this._inProgressLayer=new Ce(T)),this._inProgressLayer.continuePlacement(f[T.source],this.placement,this._showCollisionBoxes,T,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(l){return this.placement.commit(l),this.placement}}const Ye=512/c.EXTENT/2;class Ge{constructor(l,h,f){this.tileID=l,this.indexedSymbolInstances={},this.bucketInstanceId=f;for(let $=0;$<h.length;$++){const x=h.get($),T=x.key;this.indexedSymbolInstances[T]||(this.indexedSymbolInstances[T]=[]),this.indexedSymbolInstances[T].push({crossTileID:x.crossTileID,coord:this.getScaledCoordinates(x,l)})}}getScaledCoordinates(l,h){const f=Ye/Math.pow(2,h.canonical.z-this.tileID.canonical.z);return{x:Math.floor((h.canonical.x*c.EXTENT+l.anchorX)*f),y:Math.floor((h.canonical.y*c.EXTENT+l.anchorY)*f)}}findMatches(l,h,f){const $=this.tileID.canonical.z<h.canonical.z?1:Math.pow(2,this.tileID.canonical.z-h.canonical.z);for(let x=0;x<l.length;x++){const T=l.get(x);if(T.crossTileID)continue;const P=this.indexedSymbolInstances[T.key];if(!P)continue;const w=this.getScaledCoordinates(T,h);for(const L of P)if(Math.abs(L.coord.x-w.x)<=$&&Math.abs(L.coord.y-w.y)<=$&&!f[L.crossTileID]){f[L.crossTileID]=!0,T.crossTileID=L.crossTileID;break}}}}class et{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class nt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(l){const h=Math.round((l-this.lng)/360);if(h!==0)for(const f in this.indexes){const $=this.indexes[f],x={};for(const T in $){const P=$[T];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+h),x[P.tileID.key]=P}this.indexes[f]=x}this.lng=l}addBucket(l,h,f){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===h.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(let x=0;x<h.symbolInstances.length;x++)h.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]={});const $=this.usedCrossTileIDs[l.overscaledZ];for(const x in this.indexes){const T=this.indexes[x];if(Number(x)>l.overscaledZ)for(const P in T){const w=T[P];w.tileID.isChildOf(l)&&w.findMatches(h.symbolInstances,l,$)}else{const P=T[l.scaledTo(Number(x)).key];P&&P.findMatches(h.symbolInstances,l,$)}}for(let x=0;x<h.symbolInstances.length;x++){const T=h.symbolInstances.get(x);T.crossTileID||(T.crossTileID=f.generate(),$[T.crossTileID]=!0)}return this.indexes[l.overscaledZ]===void 0&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new Ge(l,h.symbolInstances,h.bucketInstanceId),!0}removeBucketCrossTileIDs(l,h){for(const f in h.indexedSymbolInstances)for(const $ of h.indexedSymbolInstances[f])delete this.usedCrossTileIDs[l][$.crossTileID]}removeStaleBuckets(l){let h=!1;for(const f in this.indexes){const $=this.indexes[f];for(const x in $)l[$[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(f,$[x]),delete $[x],h=!0)}return h}}class ft{constructor(){this.layerIndexes={},this.crossTileIDs=new et,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(l,h,f){let $=this.layerIndexes[l.id];$===void 0&&($=this.layerIndexes[l.id]=new nt);let x=!1;const T={};$.handleWrapJump(f);for(const P of h){const w=P.getBucket(l);w&&l.id===w.layerIds[0]&&(w.bucketInstanceId||(w.bucketInstanceId=++this.maxBucketInstanceId),$.addBucket(P.tileID,w,this.crossTileIDs)&&(x=!0),T[w.bucketInstanceId]=!0)}return $.removeStaleBuckets(T)&&(x=!0),x}pruneUnusedLayers(l){const h={};l.forEach(f=>{h[f]=!0});for(const f in this.layerIndexes)h[f]||delete this.layerIndexes[f]}}var xt=c.createLayout([{name:"a_pos",type:"Int16",components:2}]);class $t extends c.Evented{constructor(l){super(),this.sourceCache=l,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.renderHistory=[],this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,this.renderHistorySize=l._cache.max,l.usedForTerrain=!0,l.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null;for(const l in this._tiles){const h=this._tiles[l];h.textures.forEach(f=>f.destroy()),h.textures=[]}}update(l,h){this.sourceCache.update(l,h),this._renderableTilesKeys=[];for(const f of l.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:h}))this._renderableTilesKeys.push(f.key),this._tiles[f.key]||(f.posMatrix=new Float64Array(16),c.ortho(f.posMatrix,0,c.EXTENT,0,c.EXTENT,0,1),this._tiles[f.key]=new $n(f,this.tileSize))}removeOutdated(l){const h={};this.renderHistory=this.renderHistory.filter((f,$)=>this.renderHistory.indexOf(f)===$).slice(0,this.renderHistorySize);for(const f of this._renderableTilesKeys)h[f]=!0;for(const f of this.renderHistory)h[f]=!0;for(const f in this._tiles)h[f]||(this._tiles[f].clearTextures(l),delete this._tiles[f])}getRenderableTiles(){return this._renderableTilesKeys.map(l=>this.getTileByID(l))}getTileByID(l){return this._tiles[l]}getTerrainCoords(l){const h={};for(const f of this._renderableTilesKeys){const $=this._tiles[f].tileID;if($.canonical.equals(l.canonical)){const x=l.clone();x.posMatrix=new Float64Array(16),c.ortho(x.posMatrix,0,c.EXTENT,0,c.EXTENT,0,1),h[f]=x}else if($.canonical.isChildOf(l.canonical)){const x=l.clone();x.posMatrix=new Float64Array(16);const T=$.canonical.z-l.canonical.z,P=$.canonical.x-($.canonical.x>>T<<T),w=$.canonical.y-($.canonical.y>>T<<T),L=c.EXTENT>>T;c.ortho(x.posMatrix,0,L,0,L,0,1),c.translate(x.posMatrix,x.posMatrix,[-P*L,-w*L,0]),h[f]=x}else if(l.canonical.isChildOf($.canonical)){const x=l.clone();x.posMatrix=new Float64Array(16);const T=l.canonical.z-$.canonical.z,P=l.canonical.x-(l.canonical.x>>T<<T),w=l.canonical.y-(l.canonical.y>>T<<T),L=c.EXTENT>>T;c.ortho(x.posMatrix,0,c.EXTENT,0,c.EXTENT,0,1),c.translate(x.posMatrix,x.posMatrix,[P*L,w*L,0]),c.scale(x.posMatrix,x.posMatrix,[1/2**T,1/2**T,0]),h[f]=x}}return h}getSourceTile(l,h){const f=this.sourceCache._source;let $=l.overscaledZ-this.deltaZoom;if($>f.maxzoom&&($=f.maxzoom),$<f.minzoom)return null;this._sourceTileCache[l.key]||(this._sourceTileCache[l.key]=l.scaledTo($).key);let x=this.sourceCache.getTileByID(this._sourceTileCache[l.key]);if((!x||!x.dem)&&h)for(;$>=f.minzoom&&(!x||!x.dem);)x=this.sourceCache.getTileByID(l.scaledTo($--).key);return x}tilesAfterTime(l=Date.now()){return Object.values(this._tiles).filter(h=>h.timeLoaded>=l)}}class _t{constructor(l,h,f){this.style=l,this.sourceCache=new $t(h),this.options=f,this.exaggeration=typeof f.exaggeration=="number"?f.exaggeration:1,this.elevationOffset=typeof f.elevationOffset=="number"?f.elevationOffset:450,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024,this.clearRerenderCache()}getDEMElevation(l,h,f,$=c.EXTENT){if(!(h>=0&&h<$&&f>=0&&f<$))return this.elevationOffset;let x=0;const T=this.getTerrainData(l);if(T.tile&&T.tile.dem){const P=c.transformMat4$1([],[h/$*c.EXTENT,f/$*c.EXTENT],T.u_terrain_matrix),w=[P[0]*T.tile.dem.dim,P[1]*T.tile.dem.dim],L=[Math.floor(w[0]),Math.floor(w[1])],z=T.tile.dem.get(L[0],L[1]),B=T.tile.dem.get(L[0],L[1]+1),j=T.tile.dem.get(L[0]+1,L[1]),Q=T.tile.dem.get(L[0]+1,L[1]+1);x=c.number(c.number(z,B,w[0]-L[0]),c.number(j,Q,w[0]-L[0]),w[1]-L[1])}return x}rememberForRerender(l,h){for(const f in this.sourceCache._tiles){const $=this.sourceCache._tiles[f];($.tileID.equals(h)||$.tileID.isChildOf(h))&&(l===this.sourceCache.sourceCache.id&&($.timeLoaded=Date.now()),this._rerender[l]=this._rerender[l]||{},this._rerender[l][$.tileID.key]=!0)}}needsRerender(l,h){return this._rerender[l]&&this._rerender[l][h.key]}clearRerenderCache(){this._rerender={}}getElevation(l,h,f,$=c.EXTENT){return(this.getDEMElevation(l,h,f,$)+this.elevationOffset)*this.exaggeration}getTerrainData(l){if(!this._emptyDemTexture){const $=this.style.map.painter.context,x=new c.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new le($,x,$.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new le($,new c.RGBAImage({width:1,height:1}),$.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind($.gl.NEAREST,$.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=c.identity([])}const h=this.sourceCache.getSourceTile(l,!0);if(h&&h.dem&&(!h.demTexture||h.needsTerrainPrepare)){const $=this.style.map.painter.context;h.demTexture=this.style.map.painter.getTileTexture(h.dem.stride),h.demTexture?h.demTexture.update(h.dem.getPixels(),{premultiply:!1}):h.demTexture=new le($,h.dem.getPixels(),$.gl.RGBA,{premultiply:!1}),h.demTexture.bind($.gl.NEAREST,$.gl.CLAMP_TO_EDGE),h.needsTerrainPrepare=!1}const f=h&&h+h.tileID.key+l.key;if(f&&!this._demMatrixCache[f]){const $=this.sourceCache.sourceCache._source.maxzoom;let x=l.canonical.z-h.tileID.canonical.z;l.overscaledZ>l.canonical.z&&(l.canonical.z>=$?x=l.canonical.z-$:c.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const T=l.canonical.x-(l.canonical.x>>x<<x),P=l.canonical.y-(l.canonical.y>>x<<x),w=c.fromScaling(new Float64Array(16),[1/(c.EXTENT<<x),1/(c.EXTENT<<x),0]);c.translate(w,w,[T*c.EXTENT,P*c.EXTENT,0]),this._demMatrixCache[l.key]={matrix:w,coord:l}}return{u_depth:2,u_terrain:3,u_terrain_dim:h&&h.dem&&h.dem.dim||1,u_terrain_matrix:f?this._demMatrixCache[l.key].matrix:this._emptyDemMatrix,u_terrain_unpack:h&&h.dem&&h.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_offset:this.elevationOffset,u_terrain_exaggeration:this.exaggeration,texture:(h&&h.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:h}}getRTTFramebuffer(){const l=this.style.map.painter;if(!this._rttFramebuffer){const h=this.sourceCache.tileSize*this.qualityFactor;this._rttFramebuffer=l.context.createFramebuffer(h,h,!0),this._rttFramebuffer.depthAttachment.set(l.context.createRenderbuffer(l.context.gl.DEPTH_COMPONENT16,h,h))}return this._rttFramebuffer}getFramebuffer(l){const h=this.style.map.painter,f=h.width/devicePixelRatio,$=h.height/devicePixelRatio;return!this._fbo||this._fbo.width===f&&this._fbo.height===$||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new le(h.context,{width:f,height:$,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new le(h.context,{width:f,height:$,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=h.context.createFramebuffer(f,$,!0),this._fbo.depthAttachment.set(h.context.createRenderbuffer(h.context.gl.DEPTH_COMPONENT16,f,$))),this._fbo.colorAttachment.set(l==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const l=this.style.map.painter.context;if(this._coordsTexture)return this._coordsTexture;const h=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let x=0,T=0;x<this._coordsTextureSize;x++)for(let P=0;P<this._coordsTextureSize;P++,T+=4)h[T+0]=255&P,h[T+1]=255&x,h[T+2]=P>>8<<4|x>>8,h[T+3]=0;const f=new c.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(h.buffer)),$=new le(l,f,l.gl.RGBA,{premultiply:!1});return $.bind(l.gl.NEAREST,l.gl.CLAMP_TO_EDGE),this._coordsTexture=$,$}pointCoordinate(l){const h=new Uint8Array(4),f=this.style.map.painter,$=f.context,x=$.gl;$.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),x.readPixels(l.x,f.height/devicePixelRatio-l.y-1,1,1,x.RGBA,x.UNSIGNED_BYTE,h),$.bindFramebuffer.set(null);const T=h[0]+(h[2]>>4<<8),P=h[1]+((15&h[2])<<8),w=this.coordsIndex[255-h[3]],L=w&&this.sourceCache.getTileByID(w);if(!L)return null;const z=this._coordsTextureSize,B=(1<<L.tileID.canonical.z)*z;return new c.MercatorCoordinate((L.tileID.canonical.x*z+T)/B,(L.tileID.canonical.y*z+P)/B,this.getElevation(L.tileID,T,P,z))}getTerrainMesh(){if(this._mesh)return this._mesh;const l=this.style.map.painter.context,h=new c.PosArray,f=new c.TriangleIndexArray,$=this.meshSize,x=c.EXTENT/$,T=$*$;for(let P=0;P<=$;P++)for(let w=0;w<=$;w++)h.emplaceBack(w*x,P*x);for(let P=0;P<T;P+=$+1)for(let w=0;w<$;w++)f.emplaceBack(w+P,$+w+P+1,$+w+P+2),f.emplaceBack(w+P,$+w+P+2,w+P+1);return this._mesh={indexBuffer:l.createIndexBuffer(f),vertexBuffer:l.createVertexBuffer(h,xt.members),segments:c.SegmentVector.simpleSegment(0,0,h.length,f.length)},this._mesh}getMinMaxElevation(l){const h=this.getTerrainData(l).tile,f={minElevation:null,maxElevation:null};return h&&h.dem&&(f.minElevation=(h.dem.min+this.elevationOffset)*this.exaggeration,f.maxElevation=(h.dem.max+this.elevationOffset)*this.exaggeration),f}}const dt=(_,l)=>c.emitValidationErrors(_,l&&l.filter(h=>h.identifier!=="source.canvas")),ri=c.pick(St,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ii=c.pick(St,["setCenter","setZoom","setBearing","setPitch"]),si=function(){const _={},l=c.spec.$version;for(const h in c.spec.$root){const f=c.spec.$root[h];if(f.required){let $=null;$=h==="version"?l:f.type==="array"?[]:{},$!=null&&(_[h]=$)}}return _}();class $i extends c.Evented{constructor(l,h={}){super(),this.map=l,this.dispatcher=new wt(uo(),this),this.imageManager=new fe,this.imageManager.setEventedParent(this),this.glyphManager=new Ze(l._requestManager,h.localIdeographFontFamily),this.lineAtlas=new ct(256,512),this.crossTileSymbolIndex=new ft,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new c.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",c.getReferrer());const f=this;this._rtlTextPluginCallback=$i.registerForPluginStateChange($=>{f.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:$.pluginStatus,pluginURL:$.pluginURL},(x,T)=>{if(c.triggerPluginCompletionEvent(x),T&&T.every(P=>P))for(const P in f.sourceCaches)f.sourceCaches[P].reload()})}),this.on("data",$=>{if($.dataType!=="source"||$.sourceDataType!=="metadata")return;const x=this.sourceCaches[$.sourceId];if(!x)return;const T=x.getSource();if(T&&T.vectorLayerIds)for(const P in this._layers){const w=this._layers[P];w.source===T.id&&this._validateLayer(w)}})}loadURL(l,h={}){this.fire(new c.Event("dataloading",{dataType:"style"}));const f=typeof h.validate!="boolean"||h.validate,$=this.map._requestManager.transformRequest(l,c.ResourceType.Style);this._request=c.getJSON($,(x,T)=>{this._request=null,x?this.fire(new c.ErrorEvent(x)):T&&this._load(T,f)})}loadJSON(l,h={}){this.fire(new c.Event("dataloading",{dataType:"style"})),this._request=c.exported.frame(()=>{this._request=null,this._load(l,h.validate!==!1)})}loadEmpty(){this.fire(new c.Event("dataloading",{dataType:"style"})),this._load(si,!1)}_load(l,h){if(h&&dt(this,c.validateStyle(l)))return;this._loaded=!0,this.stylesheet=l;for(const $ in l.sources)this.addSource($,l.sources[$],{validate:!1});l.sprite?this._loadSprite(l.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(l.glyphs);const f=co(this.stylesheet.layers);this._order=f.map($=>$.id),this._layers={},this._serializedLayers={};for(let $ of f)$=c.createStyleLayer($),$.setEventedParent(this,{layer:{id:$.id}}),this._layers[$.id]=$,this._serializedLayers[$.id]=$.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new lt(this.stylesheet.light),this.setTerrain(this.stylesheet.terrain),this.fire(new c.Event("data",{dataType:"style"})),this.fire(new c.Event("style.load"))}_loadSprite(l){this._spriteRequest=function(h,f,$,x){let T,P,w;const L=$>1?"@2x":"";let z=c.getJSON(f.transformRequest(f.normalizeSpriteURL(h,L,".json"),c.ResourceType.SpriteJSON),(Q,Y)=>{z=null,w||(w=Q,T=Y,j())}),B=c.getImage(f.transformRequest(f.normalizeSpriteURL(h,L,".png"),c.ResourceType.SpriteImage),(Q,Y)=>{B=null,w||(w=Q,P=Y,j())});function j(){if(w)x(w);else if(T&&P){const Q=c.exported.getImageData(P),Y={};for(const Z in T){const{width:se,height:ue,x:he,y:J,sdf:_e,pixelRatio:me,stretchX:Ee,stretchY:Se,content:Oe}=T[Z],xe=new c.RGBAImage({width:se,height:ue});c.RGBAImage.copy(Q,xe,{x:he,y:J},{x:0,y:0},{width:se,height:ue}),Y[Z]={data:xe,pixelRatio:me,sdf:_e,stretchX:Ee,stretchY:Se,content:Oe}}x(null,Y)}}return{cancel(){z&&(z.cancel(),z=null),B&&(B.cancel(),B=null)}}}(l,this.map._requestManager,this.map.getPixelRatio(),(h,f)=>{if(this._spriteRequest=null,h)this.fire(new c.ErrorEvent(h));else if(f)for(const $ in f)this.imageManager.addImage($,f[$]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new c.Event("data",{dataType:"style"}))})}_validateLayer(l){const h=this.sourceCaches[l.source];if(!h)return;const f=l.sourceLayer;if(!f)return;const $=h.getSource();($.type==="geojson"||$.vectorLayerIds&&$.vectorLayerIds.indexOf(f)===-1)&&this.fire(new c.ErrorEvent(new Error(`Source layer "${f}" does not exist on source "${$.id}" as specified by style layer "${l.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const l in this.sourceCaches)if(!this.sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(l){const h=[];for(const f of l){const $=this._layers[f];$.type!=="custom"&&h.push($.serialize())}return h}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const l in this.sourceCaches)if(this.sourceCaches[l].hasTransition())return!0;for(const l in this._layers)if(this._layers[l].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(l){if(!this._loaded)return;const h=this._changed;if(this._changed){const $=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);($.length||x.length)&&this._updateWorkerLayers($,x);for(const T in this._updatedSources){const P=this._updatedSources[T];if(P==="reload")this._reloadSource(T);else{if(P!=="clear")throw new Error(`Invalid action ${P}`);this._clearSource(T)}}this._updateTilesForChangedImages();for(const T in this._updatedPaintProps)this._layers[T].updateTransitions(l);this.light.updateTransitions(l),this._resetUpdates()}const f={};for(const $ in this.sourceCaches){const x=this.sourceCaches[$];f[$]=x.used,x.used=!1}for(const $ of this._order){const x=this._layers[$];x.recalculate(l,this._availableImages),!x.isHidden(l.zoom)&&x.source&&(this.sourceCaches[x.source].used=!0)}for(const $ in f){const x=this.sourceCaches[$];f[$]!==x.used&&x.fire(new c.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:$}))}this.light.recalculate(l),this.z=l.zoom,h&&this.fire(new c.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const l=Object.keys(this._changedImages);if(l.length){for(const h in this.sourceCaches)this.sourceCaches[h].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}}_updateWorkerLayers(l,h){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(l),removedIds:h})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setTerrain(l){if(this._checkLoaded(),this._terrainDataCallback&&this.off("data",this._terrainDataCallback),this._terrainfreezeElevationCallback&&this.map.off("freezeElevation",this._terrainfreezeElevationCallback),l){const h=this.sourceCaches[l.source];if(!h)throw new Error(`cannot load terrain, because there exists no source with ID: ${l.source}`);this.terrain=new _t(this,h,l),this.map.transform.updateElevation(this.terrain),this._terrainfreezeElevationCallback=f=>{f.freeze?this.map.transform.freezeElevation=!0:(this.map.transform.freezeElevation=!1,this.map.transform.recalculateZoom(this.terrain))},this._terrainDataCallback=f=>{f.tile&&(f.sourceId===l.source?(this.map.transform.updateElevation(this.terrain),this.terrain.rememberForRerender(f.sourceId,f.tile.tileID)):f.source.type==="geojson"&&this.terrain.rememberForRerender(f.sourceId,f.tile.tileID))},this.on("data",this._terrainDataCallback),this.map.on("freezeElevation",this._terrainfreezeElevationCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.map.transform.updateElevation(this.terrain);this.map.fire(new c.Event("terrain",{terrain:l}))}setState(l){if(this._checkLoaded(),dt(this,c.validateStyle(l)))return!1;(l=c.clone$1(l)).layers=co(l.layers);const h=function($,x){if(!$)return[{command:St.setStyle,args:[x]}];let T=[];try{if(!O($.version,x.version))return[{command:St.setStyle,args:[x]}];O($.center,x.center)||T.push({command:St.setCenter,args:[x.center]}),O($.zoom,x.zoom)||T.push({command:St.setZoom,args:[x.zoom]}),O($.bearing,x.bearing)||T.push({command:St.setBearing,args:[x.bearing]}),O($.pitch,x.pitch)||T.push({command:St.setPitch,args:[x.pitch]}),O($.sprite,x.sprite)||T.push({command:St.setSprite,args:[x.sprite]}),O($.glyphs,x.glyphs)||T.push({command:St.setGlyphs,args:[x.glyphs]}),O($.transition,x.transition)||T.push({command:St.setTransition,args:[x.transition]}),O($.light,x.light)||T.push({command:St.setLight,args:[x.light]});const P={},w=[];(function(z,B,j,Q){let Y;for(Y in B=B||{},z=z||{})Object.prototype.hasOwnProperty.call(z,Y)&&(Object.prototype.hasOwnProperty.call(B,Y)||Lo(Y,j,Q));for(Y in B)Object.prototype.hasOwnProperty.call(B,Y)&&(Object.prototype.hasOwnProperty.call(z,Y)?O(z[Y],B[Y])||(z[Y].type==="geojson"&&B[Y].type==="geojson"&&po(z,B,Y)?j.push({command:St.setGeoJSONSourceData,args:[Y,B[Y].data]}):Mn(Y,B,j,Q)):sn(Y,B,j))})($.sources,x.sources,w,P);const L=[];$.layers&&$.layers.forEach(z=>{P[z.source]?T.push({command:St.removeLayer,args:[z.id]}):L.push(z)}),T=T.concat(w),function(z,B,j){B=B||[];const Q=(z=z||[]).map(Nn),Y=B.map(Nn),Z=z.reduce(go,{}),se=B.reduce(go,{}),ue=Q.slice(),he=Object.create(null);let J,_e,me,Ee,Se,Oe,xe;for(J=0,_e=0;J<Q.length;J++)me=Q[J],Object.prototype.hasOwnProperty.call(se,me)?_e++:(j.push({command:St.removeLayer,args:[me]}),ue.splice(ue.indexOf(me,_e),1));for(J=0,_e=0;J<Y.length;J++)me=Y[Y.length-1-J],ue[ue.length-1-J]!==me&&(Object.prototype.hasOwnProperty.call(Z,me)?(j.push({command:St.removeLayer,args:[me]}),ue.splice(ue.lastIndexOf(me,ue.length-_e),1)):_e++,Oe=ue[ue.length-J],j.push({command:St.addLayer,args:[se[me],Oe]}),ue.splice(ue.length-J,0,me),he[me]=!0);for(J=0;J<Y.length;J++)if(me=Y[J],Ee=Z[me],Se=se[me],!he[me]&&!O(Ee,Se))if(O(Ee.source,Se.source)&&O(Ee["source-layer"],Se["source-layer"])&&O(Ee.type,Se.type)){for(xe in bn(Ee.layout,Se.layout,j,me,null,St.setLayoutProperty),bn(Ee.paint,Se.paint,j,me,null,St.setPaintProperty),O(Ee.filter,Se.filter)||j.push({command:St.setFilter,args:[me,Se.filter]}),O(Ee.minzoom,Se.minzoom)&&O(Ee.maxzoom,Se.maxzoom)||j.push({command:St.setLayerZoomRange,args:[me,Se.minzoom,Se.maxzoom]}),Ee)Object.prototype.hasOwnProperty.call(Ee,xe)&&xe!=="layout"&&xe!=="paint"&&xe!=="filter"&&xe!=="metadata"&&xe!=="minzoom"&&xe!=="maxzoom"&&(xe.indexOf("paint.")===0?bn(Ee[xe],Se[xe],j,me,xe.slice(6),St.setPaintProperty):O(Ee[xe],Se[xe])||j.push({command:St.setLayerProperty,args:[me,xe,Se[xe]]}));for(xe in Se)Object.prototype.hasOwnProperty.call(Se,xe)&&!Object.prototype.hasOwnProperty.call(Ee,xe)&&xe!=="layout"&&xe!=="paint"&&xe!=="filter"&&xe!=="metadata"&&xe!=="minzoom"&&xe!=="maxzoom"&&(xe.indexOf("paint.")===0?bn(Ee[xe],Se[xe],j,me,xe.slice(6),St.setPaintProperty):O(Ee[xe],Se[xe])||j.push({command:St.setLayerProperty,args:[me,xe,Se[xe]]}))}else j.push({command:St.removeLayer,args:[me]}),Oe=ue[ue.lastIndexOf(me)+1],j.push({command:St.addLayer,args:[Se,Oe]})}(L,x.layers,T)}catch(P){console.warn("Unable to compute style diff:",P),T=[{command:St.setStyle,args:[x]}]}return T}(this.serialize(),l).filter($=>!($.command in ii));if(h.length===0)return!1;const f=h.filter($=>!($.command in ri));if(f.length>0)throw new Error(`Unimplemented: ${f.map($=>$.command).join(", ")}.`);return h.forEach($=>{$.command!=="setTransition"&&this[$.command].apply(this,$.args)}),this.stylesheet=l,!0}addImage(l,h){if(this.getImage(l))return this.fire(new c.ErrorEvent(new Error(`An image named "${l}" already exists.`)));this.imageManager.addImage(l,h),this._afterImageUpdated(l)}updateImage(l,h){this.imageManager.updateImage(l,h)}getImage(l){return this.imageManager.getImage(l)}removeImage(l){if(!this.getImage(l))return this.fire(new c.ErrorEvent(new Error(`An image named "${l}" does not exist.`)));this.imageManager.removeImage(l),this._afterImageUpdated(l)}_afterImageUpdated(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new c.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(l,h,f={}){if(this._checkLoaded(),this.sourceCaches[l]!==void 0)throw new Error(`Source "${l}" already exists.`);if(!h.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(h).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(h.type)>=0&&this._validate(c.validateStyle.source,`sources.${l}`,h,null,f))return;this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);const $=this.sourceCaches[l]=new Gi(l,h,this.dispatcher);$.style=this,$.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:$.serialize(),sourceId:l})),$.onAdd(this.map),this._changed=!0}removeSource(l){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error("There is no source with this ID");for(const f in this._layers)if(this._layers[f].source===l)return this.fire(new c.ErrorEvent(new Error(`Source "${l}" cannot be removed while layer "${f}" is using it.`)));const h=this.sourceCaches[l];delete this.sourceCaches[l],delete this._updatedSources[l],h.fire(new c.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:l})),h.setEventedParent(null),h.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(l,h){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error(`There is no source with this ID=${l}`);const f=this.sourceCaches[l].getSource();if(f.type!=="geojson")throw new Error(`geojsonSource.type is ${f.type}, which is !== 'geojson`);f.setData(h),this._changed=!0}getSource(l){return this.sourceCaches[l]&&this.sourceCaches[l].getSource()}addLayer(l,h,f={}){this._checkLoaded();const $=l.id;if(this.getLayer($))return void this.fire(new c.ErrorEvent(new Error(`Layer "${$}" already exists on this map.`)));let x;if(l.type==="custom"){if(dt(this,c.validateCustomStyleLayer(l)))return;x=c.createStyleLayer(l)}else{if(typeof l.source=="object"&&(this.addSource($,l.source),l=c.clone$1(l),l=c.extend(l,{source:$})),this._validate(c.validateStyle.layer,`layers.${$}`,l,{arrayIndex:-1},f))return;x=c.createStyleLayer(l),this._validateLayer(x),x.setEventedParent(this,{layer:{id:$}}),this._serializedLayers[x.id]=x.serialize()}const T=h?this._order.indexOf(h):this._order.length;if(h&&T===-1)this.fire(new c.ErrorEvent(new Error(`Cannot add layer "${$}" before non-existing layer "${h}".`)));else{if(this._order.splice(T,0,$),this._layerOrderChanged=!0,this._layers[$]=x,this._removedLayers[$]&&x.source&&x.type!=="custom"){const P=this._removedLayers[$];delete this._removedLayers[$],P.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",this.sourceCaches[x.source].pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map)}}moveLayer(l,h){if(this._checkLoaded(),this._changed=!0,!this._layers[l])return void this.fire(new c.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be moved.`)));if(l===h)return;const f=this._order.indexOf(l);this._order.splice(f,1);const $=h?this._order.indexOf(h):this._order.length;h&&$===-1?this.fire(new c.ErrorEvent(new Error(`Cannot move layer "${l}" before non-existing layer "${h}".`))):(this._order.splice($,0,l),this._layerOrderChanged=!0)}removeLayer(l){this._checkLoaded();const h=this._layers[l];if(!h)return void this.fire(new c.ErrorEvent(new Error(`Cannot remove non-existing layer "${l}".`)));h.setEventedParent(null);const f=this._order.indexOf(l);this._order.splice(f,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=h,delete this._layers[l],delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],h.onRemove&&h.onRemove(this.map)}getLayer(l){return this._layers[l]}hasLayer(l){return l in this._layers}setLayerZoomRange(l,h,f){this._checkLoaded();const $=this.getLayer(l);$?$.minzoom===h&&$.maxzoom===f||(h!=null&&($.minzoom=h),f!=null&&($.maxzoom=f),this._updateLayer($)):this.fire(new c.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${l}".`)))}setFilter(l,h,f={}){this._checkLoaded();const $=this.getLayer(l);if($){if(!O($.filter,h))return h==null?($.filter=void 0,void this._updateLayer($)):void(this._validate(c.validateStyle.filter,`layers.${$.id}.filter`,h,null,f)||($.filter=c.clone$1(h),this._updateLayer($)))}else this.fire(new c.ErrorEvent(new Error(`Cannot filter non-existing layer "${l}".`)))}getFilter(l){return c.clone$1(this.getLayer(l).filter)}setLayoutProperty(l,h,f,$={}){this._checkLoaded();const x=this.getLayer(l);x?O(x.getLayoutProperty(h),f)||(x.setLayoutProperty(h,f,$),this._updateLayer(x)):this.fire(new c.ErrorEvent(new Error(`Cannot style non-existing layer "${l}".`)))}getLayoutProperty(l,h){const f=this.getLayer(l);if(f)return f.getLayoutProperty(h);this.fire(new c.ErrorEvent(new Error(`Cannot get style of non-existing layer "${l}".`)))}setPaintProperty(l,h,f,$={}){this._checkLoaded();const x=this.getLayer(l);x?O(x.getPaintProperty(h),f)||(x.setPaintProperty(h,f,$)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[l]=!0):this.fire(new c.ErrorEvent(new Error(`Cannot style non-existing layer "${l}".`)))}getPaintProperty(l,h){return this.getLayer(l).getPaintProperty(h)}setFeatureState(l,h){this._checkLoaded();const f=l.source,$=l.sourceLayer,x=this.sourceCaches[f];if(x===void 0)return void this.fire(new c.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)));const T=x.getSource().type;T==="geojson"&&$?this.fire(new c.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):T!=="vector"||$?(l.id===void 0&&this.fire(new c.ErrorEvent(new Error("The feature id parameter must be provided."))),x.setFeatureState($,l.id,h)):this.fire(new c.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(l,h){this._checkLoaded();const f=l.source,$=this.sourceCaches[f];if($===void 0)return void this.fire(new c.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)));const x=$.getSource().type,T=x==="vector"?l.sourceLayer:void 0;x!=="vector"||T?h&&typeof l.id!="string"&&typeof l.id!="number"?this.fire(new c.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):$.removeFeatureState(T,l.id,h):this.fire(new c.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(l){this._checkLoaded();const h=l.source,f=l.sourceLayer,$=this.sourceCaches[h];if($!==void 0)return $.getSource().type!=="vector"||f?(l.id===void 0&&this.fire(new c.ErrorEvent(new Error("The feature id parameter must be provided."))),$.getFeatureState(f,l.id)):void this.fire(new c.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new c.ErrorEvent(new Error(`The source '${h}' does not exist in the map's style.`)))}getTransition(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,l=>l.serialize()),layers:this._serializeLayers(this._order)},l=>l!==void 0)}_updateLayer(l){this._updatedLayers[l.id]=!0,l.source&&!this._updatedSources[l.source]&&this.sourceCaches[l.source].getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",this.sourceCaches[l.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(l){const h=T=>this._layers[T].type==="fill-extrusion",f={},$=[];for(let T=this._order.length-1;T>=0;T--){const P=this._order[T];if(h(P)){f[P]=T;for(const w of l){const L=w[P];if(L)for(const z of L)$.push(z)}}}$.sort((T,P)=>P.intersectionZ-T.intersectionZ);const x=[];for(let T=this._order.length-1;T>=0;T--){const P=this._order[T];if(h(P))for(let w=$.length-1;w>=0;w--){const L=$[w].feature;if(f[L.layer.id]<T)break;x.push(L),$.pop()}else for(const w of l){const L=w[P];if(L)for(const z of L)x.push(z.feature)}}return x}queryRenderedFeatures(l,h,f){h&&h.filter&&this._validate(c.validateStyle.filter,"queryRenderedFeatures.filter",h.filter,null,h);const $={};if(h&&h.layers){if(!Array.isArray(h.layers))return this.fire(new c.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const T of h.layers){const P=this._layers[T];if(!P)return this.fire(new c.ErrorEvent(new Error(`The layer '${T}' does not exist in the map's style and cannot be queried for features.`))),[];$[P.source]=!0}}const x=[];h.availableImages=this._availableImages;for(const T in this.sourceCaches)h.layers&&!$[T]||x.push(rn(this.sourceCaches[T],this._layers,this._serializedLayers,l,h,f));return this.placement&&x.push(function(T,P,w,L,z,B,j){const Q={},Y=B.queryRenderedSymbols(L),Z=[];for(const se of Object.keys(Y).map(Number))Z.push(j[se]);Z.sort(yi);for(const se of Z){const ue=se.featureIndex.lookupSymbolFeatures(Y[se.bucketInstanceId],P,se.bucketIndex,se.sourceLayerIndex,z.filter,z.layers,z.availableImages,T);for(const he in ue){const J=Q[he]=Q[he]||[],_e=ue[he];_e.sort((me,Ee)=>{const Se=se.featureSortOrder;if(Se){const Oe=Se.indexOf(me.featureIndex);return Se.indexOf(Ee.featureIndex)-Oe}return Ee.featureIndex-me.featureIndex});for(const me of _e)J.push(me)}}for(const se in Q)Q[se].forEach(ue=>{const he=ue.feature,J=w[T[se].source].getFeatureState(he.layer["source-layer"],he.id);he.source=he.layer.source,he.layer["source-layer"]&&(he.sourceLayer=he.layer["source-layer"]),he.state=J});return Q}(this._layers,this._serializedLayers,this.sourceCaches,l,h,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(l,h){h&&h.filter&&this._validate(c.validateStyle.filter,"querySourceFeatures.filter",h.filter,null,h);const f=this.sourceCaches[l];return f?function($,x){const T=$.getRenderableIds().map(L=>$.getTileByID(L)),P=[],w={};for(let L=0;L<T.length;L++){const z=T[L],B=z.tileID.canonical.key;w[B]||(w[B]=!0,z.querySourceFeatures(P,x))}return P}(f,h):[]}addSourceType(l,h,f){return $i.getSourceType(l)?f(new Error(`A source type called "${l}" already exists.`)):($i.setSourceType(l,h),h.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:l,url:h.workerSourceURL},f):f(null,null))}getLight(){return this.light.getLight()}setLight(l,h={}){this._checkLoaded();const f=this.light.getLight();let $=!1;for(const T in l)if(!O(l[T],f[T])){$=!0;break}if(!$)return;const x={now:c.exported.now(),transition:c.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(l,h),this.light.updateTransitions(x)}_validate(l,h,f,$,x={}){return(!x||x.validate!==!1)&&dt(this,l.call(c.validateStyle,c.extend({key:h,style:this.serialize(),value:f,styleSpec:c.spec},$)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),c.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const l in this._layers)this._layers[l].setEventedParent(null);for(const l in this.sourceCaches){const h=this.sourceCaches[l];h.setEventedParent(null),h.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(l){this.sourceCaches[l].clearTiles()}_reloadSource(l){this.sourceCaches[l].resume(),this.sourceCaches[l].reload()}_updateSources(l){for(const h in this.sourceCaches)this.sourceCaches[h].update(l,this.terrain)}_generateCollisionBoxes(){for(const l in this.sourceCaches)this._reloadSource(l)}_updatePlacement(l,h,f,$,x=!1){let T=!1,P=!1;const w={};for(const L of this._order){const z=this._layers[L];if(z.type!=="symbol")continue;if(!w[z.source]){const j=this.sourceCaches[z.source];w[z.source]=j.getRenderableIds(!0).map(Q=>j.getTileByID(Q)).sort((Q,Y)=>Y.tileID.overscaledZ-Q.tileID.overscaledZ||(Q.tileID.isLessThan(Y.tileID)?-1:1))}const B=this.crossTileSymbolIndex.addLayer(z,w[z.source],l.center.lng);T=T||B}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((x=x||this._layerOrderChanged||f===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(c.exported.now(),l.zoom))&&(this.pauseablePlacement=new Ae(l,this.terrain,this._order,x,h,f,$,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,w),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(c.exported.now()),P=!0),T&&this.pauseablePlacement.placement.setStale()),P||T)for(const L of this._order){const z=this._layers[L];z.type==="symbol"&&this.placement.updateLayerOpacities(z,w[z.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(c.exported.now())}_releaseSymbolFadeTiles(){for(const l in this.sourceCaches)this.sourceCaches[l].releaseSymbolFadeTiles()}getImages(l,h,f){this.imageManager.getImages(h.icons,f),this._updateTilesForChangedImages();const $=this.sourceCaches[h.source];$&&$.setDependencies(h.tileID.key,h.type,h.icons)}getGlyphs(l,h,f){this.glyphManager.getGlyphs(h.stacks,f)}getResource(l,h,f){return c.makeRequest(h,f)}}$i.getSourceType=function(_){return zi[_]},$i.setSourceType=function(_,l){zi[_]=l},$i.registerForPluginStateChange=c.registerForPluginStateChange;var Jr="attribute vec2 a_pos;uniform mat4 u_matrix;varying vec2 v_texture_pos;varying float v_depth;void main() {v_texture_pos=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);v_depth=gl_Position.z/gl_Position.w;}";const zo={prelude:Lt(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_offset;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return (elevation+u_terrain_offset)*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Lt(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Lt(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Lt(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Lt("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Lt(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Lt(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Lt("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Lt("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Lt("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Lt(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Lt(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Lt(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Lt(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Lt(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Lt(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Lt(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Lt(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Lt(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Lt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Lt(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Lt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Lt(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Lt(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Lt(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Lt(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Lt("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Jr),terrainDepth:Lt("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Jr),terrainCoords:Lt("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Jr)};function Lt(_,l){const h=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,f=l.match(/attribute ([\w]+) ([\w]+)/g),$=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=l.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),T=x?x.concat($):$,P={};return{fragmentSource:_=_.replace(h,(w,L,z,B,j)=>(P[j]=!0,L==="define"?`
#ifndef HAS_UNIFORM_u_${j}
varying ${z} ${B} ${j};
#else
uniform ${z} ${B} u_${j};
#endif
`:`
#ifdef HAS_UNIFORM_u_${j}
    ${z} ${B} ${j} = u_${j};
#endif
`)),vertexSource:l=l.replace(h,(w,L,z,B,j)=>{const Q=B==="float"?"vec2":"vec4",Y=j.match(/color/)?"color":Q;return P[j]?L==="define"?`
#ifndef HAS_UNIFORM_u_${j}
uniform lowp float u_${j}_t;
attribute ${z} ${Q} a_${j};
varying ${z} ${B} ${j};
#else
uniform ${z} ${B} u_${j};
#endif
`:Y==="vec4"?`
#ifndef HAS_UNIFORM_u_${j}
    ${j} = a_${j};
#else
    ${z} ${B} ${j} = u_${j};
#endif
`:`
#ifndef HAS_UNIFORM_u_${j}
    ${j} = unpack_mix_${Y}(a_${j}, u_${j}_t);
#else
    ${z} ${B} ${j} = u_${j};
#endif
`:L==="define"?`
#ifndef HAS_UNIFORM_u_${j}
uniform lowp float u_${j}_t;
attribute ${z} ${Q} a_${j};
#else
uniform ${z} ${B} u_${j};
#endif
`:Y==="vec4"?`
#ifndef HAS_UNIFORM_u_${j}
    ${z} ${B} ${j} = a_${j};
#else
    ${z} ${B} ${j} = u_${j};
#endif
`:`
#ifndef HAS_UNIFORM_u_${j}
    ${z} ${B} ${j} = unpack_mix_${Y}(a_${j}, u_${j}_t);
#else
    ${z} ${B} ${j} = u_${j};
#endif
`}),staticAttributes:f,staticUniforms:T}}class Js{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(l,h,f,$,x,T,P,w,L){this.context=l;let z=this.boundPaintVertexBuffers.length!==$.length;for(let B=0;!z&&B<$.length;B++)this.boundPaintVertexBuffers[B]!==$[B]&&(z=!0);l.extVertexArrayObject&&this.vao&&this.boundProgram===h&&this.boundLayoutVertexBuffer===f&&!z&&this.boundIndexBuffer===x&&this.boundVertexOffset===T&&this.boundDynamicVertexBuffer===P&&this.boundDynamicVertexBuffer2===w&&this.boundDynamicVertexBuffer3===L?(l.bindVertexArrayOES.set(this.vao),P&&P.bind(),x&&x.dynamicDraw&&x.bind(),w&&w.bind(),L&&L.bind()):this.freshBind(h,f,$,x,T,P,w,L)}freshBind(l,h,f,$,x,T,P,w){let L;const z=l.numAttributes,B=this.context,j=B.gl;if(B.extVertexArrayObject)this.vao&&this.destroy(),this.vao=B.extVertexArrayObject.createVertexArrayOES(),B.bindVertexArrayOES.set(this.vao),L=0,this.boundProgram=l,this.boundLayoutVertexBuffer=h,this.boundPaintVertexBuffers=f,this.boundIndexBuffer=$,this.boundVertexOffset=x,this.boundDynamicVertexBuffer=T,this.boundDynamicVertexBuffer2=P,this.boundDynamicVertexBuffer3=w;else{L=B.currentNumAttributes||0;for(let Q=z;Q<L;Q++)j.disableVertexAttribArray(Q)}h.enableAttributes(j,l);for(const Q of f)Q.enableAttributes(j,l);T&&T.enableAttributes(j,l),P&&P.enableAttributes(j,l),w&&w.enableAttributes(j,l),h.bind(),h.setVertexAttribPointers(j,l,x);for(const Q of f)Q.bind(),Q.setVertexAttribPointers(j,l,x);T&&(T.bind(),T.setVertexAttribPointers(j,l,x)),$&&$.bind(),P&&(P.bind(),P.setVertexAttribPointers(j,l,x)),w&&(w.bind(),w.setVertexAttribPointers(j,l,x)),B.currentNumAttributes=z}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function hr(_){const l=[];for(let h=0;h<_.length;h++){if(_[h]===null)continue;const f=_[h].split(" ");l.push(f.pop())}return l}class el{constructor(l,h,f,$,x,T,P){const w=l.gl;this.program=w.createProgram();const L=hr(f.staticAttributes),z=$?$.getBinderAttributes():[],B=L.concat(z),j=zo.prelude.staticUniforms?hr(zo.prelude.staticUniforms):[],Q=f.staticUniforms?hr(f.staticUniforms):[],Y=$?$.getBinderUniforms():[],Z=j.concat(Q).concat(Y),se=[];for(const Se of Z)se.indexOf(Se)<0&&se.push(Se);const ue=$?$.defines():[];T&&ue.push("#define OVERDRAW_INSPECTOR;"),P&&ue.push("#define TERRAIN3D;");const he=ue.concat(zo.prelude.fragmentSource,f.fragmentSource).join(`
`),J=ue.concat(zo.prelude.vertexSource,f.vertexSource).join(`
`),_e=w.createShader(w.FRAGMENT_SHADER);if(w.isContextLost())return void(this.failedToCreate=!0);w.shaderSource(_e,he),w.compileShader(_e),w.attachShader(this.program,_e);const me=w.createShader(w.VERTEX_SHADER);if(w.isContextLost())return void(this.failedToCreate=!0);w.shaderSource(me,J),w.compileShader(me),w.attachShader(this.program,me),this.attributes={};const Ee={};this.numAttributes=B.length;for(let Se=0;Se<this.numAttributes;Se++)B[Se]&&(w.bindAttribLocation(this.program,Se,B[Se]),this.attributes[B[Se]]=Se);w.linkProgram(this.program),w.deleteShader(me),w.deleteShader(_e);for(let Se=0;Se<se.length;Se++){const Oe=se[Se];if(Oe&&!Ee[Oe]){const xe=w.getUniformLocation(this.program,Oe);xe&&(Ee[Oe]=xe)}}this.fixedUniforms=x(l,Ee),this.terrainUniforms=((Se,Oe)=>({u_depth:new c.Uniform1i(Se,Oe.u_depth),u_terrain:new c.Uniform1i(Se,Oe.u_terrain),u_terrain_dim:new c.Uniform1f(Se,Oe.u_terrain_dim),u_terrain_matrix:new c.UniformMatrix4f(Se,Oe.u_terrain_matrix),u_terrain_unpack:new c.Uniform4f(Se,Oe.u_terrain_unpack),u_terrain_offset:new c.Uniform1f(Se,Oe.u_terrain_offset),u_terrain_exaggeration:new c.Uniform1f(Se,Oe.u_terrain_exaggeration)}))(l,Ee),this.binderUniforms=$?$.getUniforms(l,Ee):[]}draw(l,h,f,$,x,T,P,w,L,z,B,j,Q,Y,Z,se,ue,he){const J=l.gl;if(this.failedToCreate)return;if(l.program.set(this.program),l.setDepthMode(f),l.setStencilMode($),l.setColorMode(x),l.setCullFace(T),w){l.activeTexture.set(J.TEXTURE2),J.bindTexture(J.TEXTURE_2D,w.depthTexture),l.activeTexture.set(J.TEXTURE3),J.bindTexture(J.TEXTURE_2D,w.texture);for(const me in this.terrainUniforms)this.terrainUniforms[me].set(w[me])}for(const me in this.fixedUniforms)this.fixedUniforms[me].set(P[me]);Z&&Z.setUniforms(l,this.binderUniforms,Q,{zoom:Y});let _e=0;switch(h){case J.LINES:_e=2;break;case J.TRIANGLES:_e=3;break;case J.LINE_STRIP:_e=1}for(const me of j.get()){const Ee=me.vaos||(me.vaos={});(Ee[L]||(Ee[L]=new Js)).bind(l,this,z,Z?Z.getPaintVertexBuffers():[],B,me.vertexOffset,se,ue,he),J.drawElements(h,me.primitiveLength*_e,J.UNSIGNED_SHORT,me.primitiveOffset*_e*2)}}}function ea(_,l,h){const f=1/kt(h,1,l.transform.tileZoom),$=Math.pow(2,h.tileID.overscaledZ),x=h.tileSize*Math.pow(2,l.transform.tileZoom)/$,T=x*(h.tileID.canonical.x+h.tileID.wrap*$),P=x*h.tileID.canonical.y;return{u_image:0,u_texsize:h.imageAtlasTexture.size,u_scale:[f,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[T>>16,P>>16],u_pixel_coord_lower:[65535&T,65535&P]}}const Qa=(_,l,h,f)=>{const $=l.style.light,x=$.properties.get("position"),T=[x.x,x.y,x.z],P=c.create$1();$.properties.get("anchor")==="viewport"&&c.fromRotation(P,-l.transform.angle),c.transformMat3(T,T,P);const w=$.properties.get("color");return{u_matrix:_,u_lightpos:T,u_lightintensity:$.properties.get("intensity"),u_lightcolor:[w.r,w.g,w.b],u_vertical_gradient:+h,u_opacity:f}},ta=(_,l,h,f,$,x,T)=>c.extend(Qa(_,l,h,f),ea(x,l,T),{u_height_factor:-Math.pow(2,$.overscaledZ)/T.tileSize/8}),ia=_=>({u_matrix:_}),na=(_,l,h,f)=>c.extend(ia(_),ea(h,l,f)),Ja=(_,l)=>({u_matrix:_,u_world:l}),es=(_,l,h,f,$)=>c.extend(na(_,l,h,f),{u_world:$}),Xn=(_,l,h,f)=>{const $=_.transform;let x,T;if(f.paint.get("circle-pitch-alignment")==="map"){const P=kt(h,1,$.zoom);x=!0,T=[P,P]}else x=!1,T=$.pixelsToGLUnits;return{u_camera_to_center_distance:$.cameraToCenterDistance,u_scale_with_map:+(f.paint.get("circle-pitch-scale")==="map"),u_matrix:_.translatePosMatrix(l.posMatrix,h,f.paint.get("circle-translate"),f.paint.get("circle-translate-anchor")),u_pitch_with_map:+x,u_device_pixel_ratio:_.pixelRatio,u_extrude_scale:T}},mr=(_,l,h)=>{const f=kt(h,1,l.zoom),$=Math.pow(2,l.zoom-h.tileID.overscaledZ),x=h.tileID.overscaleFactor();return{u_matrix:_,u_camera_to_center_distance:l.cameraToCenterDistance,u_pixels_to_tile_units:f,u_extrude_scale:[l.pixelsToGLUnits[0]/(f*$),l.pixelsToGLUnits[1]/(f*$)],u_overscale_factor:x}},mo=(_,l,h=1)=>({u_matrix:_,u_color:l,u_overlay:0,u_overlay_scale:h}),Fo=_=>({u_matrix:_}),fr=(_,l,h,f)=>({u_matrix:_,u_extrude_scale:kt(l,1,h),u_intensity:f});function _r(_,l){const h=Math.pow(2,l.canonical.z),f=l.canonical.y;return[new c.MercatorCoordinate(0,f/h).toLngLat().lat,new c.MercatorCoordinate(0,(f+1)/h).toLngLat().lat]}const ko=(_,l,h,f)=>{const $=_.transform;return{u_matrix:oa(_,l,h,f),u_ratio:1/kt(l,1,$.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/$.pixelsToGLUnits[0],1/$.pixelsToGLUnits[1]]}},yr=(_,l,h,f,$)=>c.extend(ko(_,l,h,$),{u_image:0,u_image_height:f}),Bo=(_,l,h,f,$)=>{const x=_.transform,T=Uo(l,x);return{u_matrix:oa(_,l,h,$),u_texsize:l.imageAtlasTexture.size,u_ratio:1/kt(l,1,x.zoom),u_device_pixel_ratio:_.pixelRatio,u_image:0,u_scale:[T,f.fromScale,f.toScale],u_fade:f.t,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},Qt=(_,l,h,f,$,x)=>{const T=_.lineAtlas,P=Uo(l,_.transform),w=h.layout.get("line-cap")==="round",L=T.getDash(f.from,w),z=T.getDash(f.to,w),B=L.width*$.fromScale,j=z.width*$.toScale;return c.extend(ko(_,l,h,x),{u_patternscale_a:[P/B,-L.height/2],u_patternscale_b:[P/j,-z.height/2],u_sdfgamma:T.width/(256*Math.min(B,j)*_.pixelRatio)/2,u_image:0,u_tex_y_a:L.y,u_tex_y_b:z.y,u_mix:$.t})};function Uo(_,l){return 1/kt(_,1,l.tileZoom)}function oa(_,l,h,f){return _.translatePosMatrix(f?f.posMatrix:l.tileID.posMatrix,l,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}const ts=(_,l,h,f,$)=>{return{u_matrix:_,u_tl_parent:l,u_scale_parent:h,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*$.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:$.paint.get("raster-brightness-min"),u_brightness_high:$.paint.get("raster-brightness-max"),u_saturation_factor:(T=$.paint.get("raster-saturation"),T>0?1-1/(1.001-T):-T),u_contrast_factor:(x=$.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:is($.paint.get("raster-hue-rotate"))};var x,T};function is(_){_*=Math.PI/180;const l=Math.sin(_),h=Math.cos(_);return[(2*h+1)/3,(-Math.sqrt(3)*l-h+1)/3,(Math.sqrt(3)*l-h+1)/3]}const $r=(_,l,h,f,$,x,T,P,w,L)=>{const z=$.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:z.cameraToCenterDistance,u_pitch:z.pitch/360*2*Math.PI,u_rotate_symbol:+h,u_aspect_ratio:z.width/z.height,u_fade_change:$.options.fadeDuration?$.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:T,u_coord_matrix:P,u_is_text:+w,u_pitch_with_map:+f,u_texsize:L,u_texture:0}},ra=(_,l,h,f,$,x,T,P,w,L,z)=>{const B=$.transform;return c.extend($r(_,l,h,f,$,x,T,P,w,L),{u_gamma_scale:f?Math.cos(B._pitch)*B.cameraToCenterDistance:1,u_device_pixel_ratio:$.pixelRatio,u_is_halo:1})},tl=(_,l,h,f,$,x,T,P,w,L)=>c.extend(ra(_,l,h,f,$,x,T,P,!0,w),{u_texsize_icon:L,u_texture_icon:1}),il=(_,l,h)=>({u_matrix:_,u_opacity:l,u_color:h}),aa=(_,l,h,f,$,x)=>c.extend(function(T,P,w,L){const z=w.imageManager.getPattern(T.from.toString()),B=w.imageManager.getPattern(T.to.toString()),{width:j,height:Q}=w.imageManager.getPixelSize(),Y=Math.pow(2,L.tileID.overscaledZ),Z=L.tileSize*Math.pow(2,w.transform.tileZoom)/Y,se=Z*(L.tileID.canonical.x+L.tileID.wrap*Y),ue=Z*L.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:z.tl,u_pattern_br_a:z.br,u_pattern_tl_b:B.tl,u_pattern_br_b:B.br,u_texsize:[j,Q],u_mix:P.t,u_pattern_size_a:z.displaySize,u_pattern_size_b:B.displaySize,u_scale_a:P.fromScale,u_scale_b:P.toScale,u_tile_units_to_pixels:1/kt(L,1,w.transform.tileZoom),u_pixel_coord_upper:[se>>16,ue>>16],u_pixel_coord_lower:[65535&se,65535&ue]}}(f,x,h,$),{u_matrix:_,u_opacity:l}),sa={fillExtrusion:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_lightpos:new c.Uniform3f(_,l.u_lightpos),u_lightintensity:new c.Uniform1f(_,l.u_lightintensity),u_lightcolor:new c.Uniform3f(_,l.u_lightcolor),u_vertical_gradient:new c.Uniform1f(_,l.u_vertical_gradient),u_opacity:new c.Uniform1f(_,l.u_opacity)}),fillExtrusionPattern:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_lightpos:new c.Uniform3f(_,l.u_lightpos),u_lightintensity:new c.Uniform1f(_,l.u_lightintensity),u_lightcolor:new c.Uniform3f(_,l.u_lightcolor),u_vertical_gradient:new c.Uniform1f(_,l.u_vertical_gradient),u_height_factor:new c.Uniform1f(_,l.u_height_factor),u_image:new c.Uniform1i(_,l.u_image),u_texsize:new c.Uniform2f(_,l.u_texsize),u_pixel_coord_upper:new c.Uniform2f(_,l.u_pixel_coord_upper),u_pixel_coord_lower:new c.Uniform2f(_,l.u_pixel_coord_lower),u_scale:new c.Uniform3f(_,l.u_scale),u_fade:new c.Uniform1f(_,l.u_fade),u_opacity:new c.Uniform1f(_,l.u_opacity)}),fill:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix)}),fillPattern:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_image:new c.Uniform1i(_,l.u_image),u_texsize:new c.Uniform2f(_,l.u_texsize),u_pixel_coord_upper:new c.Uniform2f(_,l.u_pixel_coord_upper),u_pixel_coord_lower:new c.Uniform2f(_,l.u_pixel_coord_lower),u_scale:new c.Uniform3f(_,l.u_scale),u_fade:new c.Uniform1f(_,l.u_fade)}),fillOutline:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_world:new c.Uniform2f(_,l.u_world)}),fillOutlinePattern:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_world:new c.Uniform2f(_,l.u_world),u_image:new c.Uniform1i(_,l.u_image),u_texsize:new c.Uniform2f(_,l.u_texsize),u_pixel_coord_upper:new c.Uniform2f(_,l.u_pixel_coord_upper),u_pixel_coord_lower:new c.Uniform2f(_,l.u_pixel_coord_lower),u_scale:new c.Uniform3f(_,l.u_scale),u_fade:new c.Uniform1f(_,l.u_fade)}),circle:(_,l)=>({u_camera_to_center_distance:new c.Uniform1f(_,l.u_camera_to_center_distance),u_scale_with_map:new c.Uniform1i(_,l.u_scale_with_map),u_pitch_with_map:new c.Uniform1i(_,l.u_pitch_with_map),u_extrude_scale:new c.Uniform2f(_,l.u_extrude_scale),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_matrix:new c.UniformMatrix4f(_,l.u_matrix)}),collisionBox:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_camera_to_center_distance:new c.Uniform1f(_,l.u_camera_to_center_distance),u_pixels_to_tile_units:new c.Uniform1f(_,l.u_pixels_to_tile_units),u_extrude_scale:new c.Uniform2f(_,l.u_extrude_scale),u_overscale_factor:new c.Uniform1f(_,l.u_overscale_factor)}),collisionCircle:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_inv_matrix:new c.UniformMatrix4f(_,l.u_inv_matrix),u_camera_to_center_distance:new c.Uniform1f(_,l.u_camera_to_center_distance),u_viewport_size:new c.Uniform2f(_,l.u_viewport_size)}),debug:(_,l)=>({u_color:new c.UniformColor(_,l.u_color),u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_overlay:new c.Uniform1i(_,l.u_overlay),u_overlay_scale:new c.Uniform1f(_,l.u_overlay_scale)}),clippingMask:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix)}),heatmap:(_,l)=>({u_extrude_scale:new c.Uniform1f(_,l.u_extrude_scale),u_intensity:new c.Uniform1f(_,l.u_intensity),u_matrix:new c.UniformMatrix4f(_,l.u_matrix)}),heatmapTexture:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_world:new c.Uniform2f(_,l.u_world),u_image:new c.Uniform1i(_,l.u_image),u_color_ramp:new c.Uniform1i(_,l.u_color_ramp),u_opacity:new c.Uniform1f(_,l.u_opacity)}),hillshade:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_image:new c.Uniform1i(_,l.u_image),u_latrange:new c.Uniform2f(_,l.u_latrange),u_light:new c.Uniform2f(_,l.u_light),u_shadow:new c.UniformColor(_,l.u_shadow),u_highlight:new c.UniformColor(_,l.u_highlight),u_accent:new c.UniformColor(_,l.u_accent)}),hillshadePrepare:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_image:new c.Uniform1i(_,l.u_image),u_dimension:new c.Uniform2f(_,l.u_dimension),u_zoom:new c.Uniform1f(_,l.u_zoom),u_unpack:new c.Uniform4f(_,l.u_unpack)}),line:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_ratio:new c.Uniform1f(_,l.u_ratio),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_units_to_pixels:new c.Uniform2f(_,l.u_units_to_pixels)}),lineGradient:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_ratio:new c.Uniform1f(_,l.u_ratio),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_units_to_pixels:new c.Uniform2f(_,l.u_units_to_pixels),u_image:new c.Uniform1i(_,l.u_image),u_image_height:new c.Uniform1f(_,l.u_image_height)}),linePattern:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_texsize:new c.Uniform2f(_,l.u_texsize),u_ratio:new c.Uniform1f(_,l.u_ratio),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_image:new c.Uniform1i(_,l.u_image),u_units_to_pixels:new c.Uniform2f(_,l.u_units_to_pixels),u_scale:new c.Uniform3f(_,l.u_scale),u_fade:new c.Uniform1f(_,l.u_fade)}),lineSDF:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_ratio:new c.Uniform1f(_,l.u_ratio),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_units_to_pixels:new c.Uniform2f(_,l.u_units_to_pixels),u_patternscale_a:new c.Uniform2f(_,l.u_patternscale_a),u_patternscale_b:new c.Uniform2f(_,l.u_patternscale_b),u_sdfgamma:new c.Uniform1f(_,l.u_sdfgamma),u_image:new c.Uniform1i(_,l.u_image),u_tex_y_a:new c.Uniform1f(_,l.u_tex_y_a),u_tex_y_b:new c.Uniform1f(_,l.u_tex_y_b),u_mix:new c.Uniform1f(_,l.u_mix)}),raster:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_tl_parent:new c.Uniform2f(_,l.u_tl_parent),u_scale_parent:new c.Uniform1f(_,l.u_scale_parent),u_buffer_scale:new c.Uniform1f(_,l.u_buffer_scale),u_fade_t:new c.Uniform1f(_,l.u_fade_t),u_opacity:new c.Uniform1f(_,l.u_opacity),u_image0:new c.Uniform1i(_,l.u_image0),u_image1:new c.Uniform1i(_,l.u_image1),u_brightness_low:new c.Uniform1f(_,l.u_brightness_low),u_brightness_high:new c.Uniform1f(_,l.u_brightness_high),u_saturation_factor:new c.Uniform1f(_,l.u_saturation_factor),u_contrast_factor:new c.Uniform1f(_,l.u_contrast_factor),u_spin_weights:new c.Uniform3f(_,l.u_spin_weights)}),symbolIcon:(_,l)=>({u_is_size_zoom_constant:new c.Uniform1i(_,l.u_is_size_zoom_constant),u_is_size_feature_constant:new c.Uniform1i(_,l.u_is_size_feature_constant),u_size_t:new c.Uniform1f(_,l.u_size_t),u_size:new c.Uniform1f(_,l.u_size),u_camera_to_center_distance:new c.Uniform1f(_,l.u_camera_to_center_distance),u_pitch:new c.Uniform1f(_,l.u_pitch),u_rotate_symbol:new c.Uniform1i(_,l.u_rotate_symbol),u_aspect_ratio:new c.Uniform1f(_,l.u_aspect_ratio),u_fade_change:new c.Uniform1f(_,l.u_fade_change),u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_label_plane_matrix:new c.UniformMatrix4f(_,l.u_label_plane_matrix),u_coord_matrix:new c.UniformMatrix4f(_,l.u_coord_matrix),u_is_text:new c.Uniform1i(_,l.u_is_text),u_pitch_with_map:new c.Uniform1i(_,l.u_pitch_with_map),u_texsize:new c.Uniform2f(_,l.u_texsize),u_texture:new c.Uniform1i(_,l.u_texture)}),symbolSDF:(_,l)=>({u_is_size_zoom_constant:new c.Uniform1i(_,l.u_is_size_zoom_constant),u_is_size_feature_constant:new c.Uniform1i(_,l.u_is_size_feature_constant),u_size_t:new c.Uniform1f(_,l.u_size_t),u_size:new c.Uniform1f(_,l.u_size),u_camera_to_center_distance:new c.Uniform1f(_,l.u_camera_to_center_distance),u_pitch:new c.Uniform1f(_,l.u_pitch),u_rotate_symbol:new c.Uniform1i(_,l.u_rotate_symbol),u_aspect_ratio:new c.Uniform1f(_,l.u_aspect_ratio),u_fade_change:new c.Uniform1f(_,l.u_fade_change),u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_label_plane_matrix:new c.UniformMatrix4f(_,l.u_label_plane_matrix),u_coord_matrix:new c.UniformMatrix4f(_,l.u_coord_matrix),u_is_text:new c.Uniform1i(_,l.u_is_text),u_pitch_with_map:new c.Uniform1i(_,l.u_pitch_with_map),u_texsize:new c.Uniform2f(_,l.u_texsize),u_texture:new c.Uniform1i(_,l.u_texture),u_gamma_scale:new c.Uniform1f(_,l.u_gamma_scale),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_is_halo:new c.Uniform1i(_,l.u_is_halo)}),symbolTextAndIcon:(_,l)=>({u_is_size_zoom_constant:new c.Uniform1i(_,l.u_is_size_zoom_constant),u_is_size_feature_constant:new c.Uniform1i(_,l.u_is_size_feature_constant),u_size_t:new c.Uniform1f(_,l.u_size_t),u_size:new c.Uniform1f(_,l.u_size),u_camera_to_center_distance:new c.Uniform1f(_,l.u_camera_to_center_distance),u_pitch:new c.Uniform1f(_,l.u_pitch),u_rotate_symbol:new c.Uniform1i(_,l.u_rotate_symbol),u_aspect_ratio:new c.Uniform1f(_,l.u_aspect_ratio),u_fade_change:new c.Uniform1f(_,l.u_fade_change),u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_label_plane_matrix:new c.UniformMatrix4f(_,l.u_label_plane_matrix),u_coord_matrix:new c.UniformMatrix4f(_,l.u_coord_matrix),u_is_text:new c.Uniform1i(_,l.u_is_text),u_pitch_with_map:new c.Uniform1i(_,l.u_pitch_with_map),u_texsize:new c.Uniform2f(_,l.u_texsize),u_texsize_icon:new c.Uniform2f(_,l.u_texsize_icon),u_texture:new c.Uniform1i(_,l.u_texture),u_texture_icon:new c.Uniform1i(_,l.u_texture_icon),u_gamma_scale:new c.Uniform1f(_,l.u_gamma_scale),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_is_halo:new c.Uniform1i(_,l.u_is_halo)}),background:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_opacity:new c.Uniform1f(_,l.u_opacity),u_color:new c.UniformColor(_,l.u_color)}),backgroundPattern:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_opacity:new c.Uniform1f(_,l.u_opacity),u_image:new c.Uniform1i(_,l.u_image),u_pattern_tl_a:new c.Uniform2f(_,l.u_pattern_tl_a),u_pattern_br_a:new c.Uniform2f(_,l.u_pattern_br_a),u_pattern_tl_b:new c.Uniform2f(_,l.u_pattern_tl_b),u_pattern_br_b:new c.Uniform2f(_,l.u_pattern_br_b),u_texsize:new c.Uniform2f(_,l.u_texsize),u_mix:new c.Uniform1f(_,l.u_mix),u_pattern_size_a:new c.Uniform2f(_,l.u_pattern_size_a),u_pattern_size_b:new c.Uniform2f(_,l.u_pattern_size_b),u_scale_a:new c.Uniform1f(_,l.u_scale_a),u_scale_b:new c.Uniform1f(_,l.u_scale_b),u_pixel_coord_upper:new c.Uniform2f(_,l.u_pixel_coord_upper),u_pixel_coord_lower:new c.Uniform2f(_,l.u_pixel_coord_lower),u_tile_units_to_pixels:new c.Uniform1f(_,l.u_tile_units_to_pixels)}),terrain:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_texture:new c.Uniform1i(_,l.u_texture)}),terrainDepth:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix)}),terrainCoords:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_texture:new c.Uniform1i(_,l.u_texture),u_terrain_coords_id:new c.Uniform1f(_,l.u_terrain_coords_id)})};class la{constructor(l,h,f){this.context=l;const $=l.gl;this.buffer=$.createBuffer(),this.dynamicDraw=!!f,this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),$.bufferData($.ELEMENT_ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?$.DYNAMIC_DRAW:$.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(l){const h=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ua={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ns{constructor(l,h,f,$){this.length=h.length,this.attributes=f,this.itemSize=h.bytesPerElement,this.dynamicDraw=$,this.context=l;const x=l.gl;this.buffer=x.createBuffer(),l.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(l){if(l.length!==this.length)throw new Error(`Length of new data is ${l.length}, which doesn't match current length of ${this.length}`);const h=this.context.gl;this.bind(),h.bufferSubData(h.ARRAY_BUFFER,0,l.arrayBuffer)}enableAttributes(l,h){for(let f=0;f<this.attributes.length;f++){const $=h.attributes[this.attributes[f].name];$!==void 0&&l.enableVertexAttribArray($)}}setVertexAttribPointers(l,h,f){for(let $=0;$<this.attributes.length;$++){const x=this.attributes[$],T=h.attributes[x.name];T!==void 0&&l.vertexAttribPointer(T,x.components,l[ua[x.type]],!1,this.itemSize,x.offset+this.itemSize*(f||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Dt{constructor(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(l){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class nl extends Dt{getDefault(){return c.Color.transparent}set(l){const h=this.current;(l.r!==h.r||l.g!==h.g||l.b!==h.b||l.a!==h.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class jo extends Dt{getDefault(){return 1}set(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)}}class Vo extends Dt{getDefault(){return 0}set(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)}}class os extends Dt{getDefault(){return[!0,!0,!0,!0]}set(l){const h=this.current;(l[0]!==h[0]||l[1]!==h[1]||l[2]!==h[2]||l[3]!==h[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class Hi extends Dt{getDefault(){return!0}set(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)}}class ca extends Dt{getDefault(){return 255}set(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)}}class br extends Dt{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(l){const h=this.current;(l.func!==h.func||l.ref!==h.ref||l.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)}}class vr extends Dt{getDefault(){const l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]}set(l){const h=this.current;(l[0]!==h[0]||l[1]!==h[1]||l[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)}}class pa extends Dt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;l?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=l,this.dirty=!1}}class ga extends Dt{getDefault(){return[0,1]}set(l){const h=this.current;(l[0]!==h[0]||l[1]!==h[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)}}class xr extends Dt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;l?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=l,this.dirty=!1}}class da extends Dt{getDefault(){return this.gl.LESS}set(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)}}class ha extends Dt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;l?h.enable(h.BLEND):h.disable(h.BLEND),this.current=l,this.dirty=!1}}class Er extends Dt{getDefault(){const l=this.gl;return[l.ONE,l.ZERO]}set(l){const h=this.current;(l[0]!==h[0]||l[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)}}class rs extends Dt{getDefault(){return c.Color.transparent}set(l){const h=this.current;(l.r!==h.r||l.g!==h.g||l.b!==h.b||l.a!==h.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class as extends Dt{getDefault(){return this.gl.FUNC_ADD}set(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)}}class fo extends Dt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;l?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=l,this.dirty=!1}}class ol extends Dt{getDefault(){return this.gl.BACK}set(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)}}class rl extends Dt{getDefault(){return this.gl.CCW}set(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)}}class al extends Dt{getDefault(){return null}set(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)}}class sl extends Dt{getDefault(){return this.gl.TEXTURE0}set(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)}}class ll extends Dt{getDefault(){const l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]}set(l){const h=this.current;(l[0]!==h[0]||l[1]!==h[1]||l[2]!==h[2]||l[3]!==h[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class ul extends Dt{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,l),this.current=l,this.dirty=!1}}class ma extends Dt{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class Sr extends Dt{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.bindTexture(h.TEXTURE_2D,l),this.current=l,this.dirty=!1}}class fa extends Dt{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class _a extends Dt{getDefault(){return null}set(l){const h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class _o extends Dt{constructor(l){super(l),this.vao=l.extVertexArrayObject}getDefault(){return null}set(l){this.vao&&(l!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(l),this.current=l,this.dirty=!1)}}class ss extends Dt{getDefault(){return 4}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}}class ls extends Dt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}}class ya extends Dt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}}class kn extends Dt{constructor(l,h){super(l),this.context=l,this.parent=h}getDefault(){return null}}class us extends kn{setDirty(){this.dirty=!0}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}}class yo extends kn{set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class $o{constructor(l,h,f,$){this.context=l,this.width=h,this.height=f;const x=l.gl,T=this.framebuffer=x.createFramebuffer();if(this.colorAttachment=new us(l,T),$&&(this.depthAttachment=new yo(l,T)),x.checkFramebufferStatus(x.FRAMEBUFFER)!==x.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const l=this.context.gl,h=this.colorAttachment.get();if(h&&l.deleteTexture(h),this.depthAttachment){const f=this.depthAttachment.get();f&&l.deleteRenderbuffer(f)}l.deleteFramebuffer(this.framebuffer)}}class ni{constructor(l,h,f){this.blendFunction=l,this.blendColor=h,this.mask=f}}ni.Replace=[1,0],ni.disabled=new ni(ni.Replace,c.Color.transparent,[!1,!1,!1,!1]),ni.unblended=new ni(ni.Replace,c.Color.transparent,[!0,!0,!0,!0]),ni.alphaBlended=new ni([1,771],c.Color.transparent,[!0,!0,!0,!0]);class $a{constructor(l){this.gl=l,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new nl(this),this.clearDepth=new jo(this),this.clearStencil=new Vo(this),this.colorMask=new os(this),this.depthMask=new Hi(this),this.stencilMask=new ca(this),this.stencilFunc=new br(this),this.stencilOp=new vr(this),this.stencilTest=new pa(this),this.depthRange=new ga(this),this.depthTest=new xr(this),this.depthFunc=new da(this),this.blend=new ha(this),this.blendFunc=new Er(this),this.blendColor=new rs(this),this.blendEquation=new as(this),this.cullFace=new fo(this),this.cullFaceSide=new ol(this),this.frontFace=new rl(this),this.program=new al(this),this.activeTexture=new sl(this),this.viewport=new ll(this),this.bindFramebuffer=new ul(this),this.bindRenderbuffer=new ma(this),this.bindTexture=new Sr(this),this.bindVertexBuffer=new fa(this),this.bindElementBuffer=new _a(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new _o(this),this.pixelStoreUnpack=new ss(this),this.pixelStoreUnpackPremultiplyAlpha=new ls(this),this.pixelStoreUnpackFlipY=new ya(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=l.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(l.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=l.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=l.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(l,h){return new la(this,l,h)}createVertexBuffer(l,h,f){return new ns(this,l,h,f)}createRenderbuffer(l,h,f){const $=this.gl,x=$.createRenderbuffer();return this.bindRenderbuffer.set(x),$.renderbufferStorage($.RENDERBUFFER,l,h,f),this.bindRenderbuffer.set(null),x}createFramebuffer(l,h,f){return new $o(this,l,h,f)}clear({color:l,depth:h}){const f=this.gl;let $=0;l&&($|=f.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),h!==void 0&&($|=f.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(h),this.depthMask.set(!0)),f.clear($)}setCullFace(l){l.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))}setDepthMode(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)}setStencilMode(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)}setColorMode(l){O(l.blendFunction,ni.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Qe{constructor(l,h,f){this.func=l,this.mask=h,this.range=f}}Qe.ReadOnly=!1,Qe.ReadWrite=!0,Qe.disabled=new Qe(519,Qe.ReadOnly,[0,1]);const bo=7680;class Jt{constructor(l,h,f,$,x,T){this.test=l,this.ref=h,this.mask=f,this.fail=$,this.depthFail=x,this.pass=T}}Jt.disabled=new Jt({func:519,mask:0},0,0,bo,bo,bo);class Vt{constructor(l,h,f){this.enable=l,this.mode=h,this.frontFace=f}}let Bn;function cs(_,l,h,f,$,x,T){const P=_.context,w=P.gl,L=_.useProgram("collisionBox"),z=[];let B=0,j=0;for(let J=0;J<f.length;J++){const _e=f[J],me=l.getTile(_e),Ee=me.getBucket(h);if(!Ee)continue;let Se=_e.posMatrix;$[0]===0&&$[1]===0||(Se=_.translatePosMatrix(_e.posMatrix,me,$,x));const Oe=T?Ee.textCollisionBox:Ee.iconCollisionBox,xe=Ee.collisionCircleArray;if(xe.length>0){const qe=c.create(),Ne=Se;c.mul(qe,Ee.placementInvProjMatrix,_.transform.glCoordMatrix),c.mul(qe,qe,Ee.placementViewportMatrix),z.push({circleArray:xe,circleOffset:j,transform:Ne,invTransform:qe,coord:_e}),B+=xe.length/4,j=B}Oe&&L.draw(P,w.LINES,Qe.disabled,Jt.disabled,_.colorModeForRenderPass(),Vt.disabled,mr(Se,_.transform,me),_.style.terrain&&_.style.terrain.getTerrainData(_e),h.id,Oe.layoutVertexBuffer,Oe.indexBuffer,Oe.segments,null,_.transform.zoom,null,null,Oe.collisionVertexBuffer)}if(!T||!z.length)return;const Q=_.useProgram("collisionCircle"),Y=new c.CollisionCircleLayoutArray;Y.resize(4*B),Y._trim();let Z=0;for(const J of z)for(let _e=0;_e<J.circleArray.length/4;_e++){const me=4*_e,Ee=J.circleArray[me+0],Se=J.circleArray[me+1],Oe=J.circleArray[me+2],xe=J.circleArray[me+3];Y.emplace(Z++,Ee,Se,Oe,xe,0),Y.emplace(Z++,Ee,Se,Oe,xe,1),Y.emplace(Z++,Ee,Se,Oe,xe,2),Y.emplace(Z++,Ee,Se,Oe,xe,3)}(!Bn||Bn.length<2*B)&&(Bn=function(J){const _e=2*J,me=new c.QuadTriangleArray;me.resize(_e),me._trim();for(let Ee=0;Ee<_e;Ee++){const Se=6*Ee;me.uint16[Se+0]=4*Ee+0,me.uint16[Se+1]=4*Ee+1,me.uint16[Se+2]=4*Ee+2,me.uint16[Se+3]=4*Ee+2,me.uint16[Se+4]=4*Ee+3,me.uint16[Se+5]=4*Ee+0}return me}(B));const se=P.createIndexBuffer(Bn,!0),ue=P.createVertexBuffer(Y,c.collisionCircleLayout.members,!0);for(const J of z){const _e={u_matrix:J.transform,u_inv_matrix:J.invTransform,u_camera_to_center_distance:(he=_.transform).cameraToCenterDistance,u_viewport_size:[he.width,he.height]};Q.draw(P,w.TRIANGLES,Qe.disabled,Jt.disabled,_.colorModeForRenderPass(),Vt.disabled,_e,_.style.terrain&&_.style.terrain.getTerrainData(J.coord),h.id,ue,se,c.SegmentVector.simpleSegment(0,2*J.circleOffset,J.circleArray.length,J.circleArray.length/2),null,_.transform.zoom,null,null,null)}var he;ue.destroy(),se.destroy()}Vt.disabled=new Vt(!1,1029,2305),Vt.backCCW=new Vt(!0,1029,2305);const cl=c.identity(new Float32Array(16));function ps(_,l,h,f,$,x){const{horizontalAlign:T,verticalAlign:P}=c.getAnchorAlignment(_),w=-(T-.5)*l,L=-(P-.5)*h,z=c.evaluateVariableOffset(_,f);return new c.pointGeometry((w/$+z[0])*x,(L/$+z[1])*x)}function pl(_,l,h,f,$,x,T,P,w,L,z){const B=_.text.placedSymbolArray,j=_.text.dynamicLayoutVertexArray,Q=_.icon.dynamicLayoutVertexArray,Y={};j.clear();for(let Z=0;Z<B.length;Z++){const se=B.get(Z),ue=_.allowVerticalPlacement&&!se.placedOrientation,he=se.hidden||!se.crossTileID||ue?null:f[se.crossTileID];if(he){const J=new c.pointGeometry(se.anchorX,se.anchorY),_e=ti(J,h?T:x,z),me=wi($.cameraToCenterDistance,_e.signedDistanceFromCamera);let Ee=c.evaluateSizeForFeature(_.textSizeData,w,se)*me/c.ONE_EM;h&&(Ee*=_.tilePixelRatio/P);const{width:Se,height:Oe,anchor:xe,textOffset:qe,textBoxScale:Ne}=he,Xe=ps(xe,Se,Oe,qe,Ne,Ee),pt=h?ti(J.add(Xe),x,z).point:_e.point.add(l?Xe.rotate(-$.angle):Xe),bt=_.allowVerticalPlacement&&se.placedOrientation===c.WritingMode.vertical?Math.PI/2:0;for(let at=0;at<se.numGlyphs;at++)c.addDynamicAttributes(j,pt,bt);L&&se.associatedIconIndex>=0&&(Y[se.associatedIconIndex]={shiftedAnchor:pt,angle:bt})}else un(se.numGlyphs,j)}if(L){Q.clear();const Z=_.icon.placedSymbolArray;for(let se=0;se<Z.length;se++){const ue=Z.get(se);if(ue.hidden)un(ue.numGlyphs,Q);else{const he=Y[se];if(he)for(let J=0;J<ue.numGlyphs;J++)c.addDynamicAttributes(Q,he.shiftedAnchor,he.angle);else un(ue.numGlyphs,Q)}}_.icon.dynamicLayoutVertexBuffer.updateData(Q)}_.text.dynamicLayoutVertexBuffer.updateData(j)}function ba(_,l,h){return h.iconsInText&&l?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function Go(_,l,h,f,$,x,T,P,w,L,z,B){const j=_.context,Q=j.gl,Y=_.transform,Z=P==="map",se=w==="map",ue=P!=="viewport"&&h.layout.get("symbol-placement")!=="point",he=Z&&!se&&!ue,J=!h.layout.get("symbol-sort-key").isConstant();let _e=!1;const me=_.depthModeForSublayer(0,Qe.ReadOnly),Ee=h.layout.get("text-variable-anchor"),Se=[];for(const Oe of f){const xe=l.getTile(Oe),qe=xe.getBucket(h);if(!qe)continue;const Ne=$?qe.text:qe.icon;if(!Ne||!Ne.segments.get().length)continue;const Xe=Ne.programConfigurations.get(h.id),pt=$||qe.sdfIcons,bt=$?qe.textSizeData:qe.iconSizeData,at=se||Y.pitch!==0,Mt=_.useProgram(ba(pt,$,qe),Xe),Nt=c.evaluateSizeForZoom(bt,Y.zoom),Tt=_.style.terrain&&_.style.terrain.getTerrainData(Oe);let Ct,It,Wi,Sn,pn=[0,0],gn=null;if($){if(It=xe.glyphAtlasTexture,Wi=Q.LINEAR,Ct=xe.glyphAtlasTexture.size,qe.iconsInText){pn=xe.imageAtlasTexture.size,gn=xe.imageAtlasTexture;const nn=bt.kind==="composite"||bt.kind==="camera";Sn=at||_.options.rotating||_.options.zooming||nn?Q.LINEAR:Q.NEAREST}}else{const nn=h.layout.get("icon-size").constantOr(0)!==1||qe.iconsNeedLinear;It=xe.imageAtlasTexture,Wi=pt||_.options.rotating||_.options.zooming||nn||at?Q.LINEAR:Q.NEAREST,Ct=xe.imageAtlasTexture.size}const eo=kt(xe,1,_.transform.zoom),bi=ln(Oe.posMatrix,se,Z,_.transform,eo),dn=jt(Oe.posMatrix,se,Z,_.transform,eo),to=Ee&&qe.hasTextData(),kr=h.layout.get("icon-text-fit")!=="none"&&to&&qe.hasIconData();if(ue){const nn=_.style.terrain?(Ao,Br)=>_.style.terrain.getElevation(Oe,Ao,Br):null,To=h.layout.get("text-rotation-alignment")==="map";Oi(qe,Oe.posMatrix,_,$,bi,dn,se,L,To,nn)}const Pt=_.translatePosMatrix(Oe.posMatrix,xe,x,T),qt=ue||$&&Ee||kr?cl:bi,Rt=_.translatePosMatrix(dn,xe,x,T,!0),ui=pt&&h.paint.get($?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Bi;Bi=pt?qe.iconsInText?tl(bt.kind,Nt,he,se,_,Pt,qt,Rt,Ct,pn):ra(bt.kind,Nt,he,se,_,Pt,qt,Rt,$,Ct):$r(bt.kind,Nt,he,se,_,Pt,qt,Rt,$,Ct);const Wt={program:Mt,buffers:Ne,uniformValues:Bi,atlasTexture:It,atlasTextureIcon:gn,atlasInterpolation:Wi,atlasInterpolationIcon:Sn,isSDF:pt,hasHalo:ui};if(J&&qe.canOverlap){_e=!0;const nn=Ne.segments.get();for(const To of nn)Se.push({segments:new c.SegmentVector([To]),sortKey:To.sortKey,state:Wt,terrainData:Tt})}else Se.push({segments:Ne.segments,sortKey:0,state:Wt,terrainData:Tt})}_e&&Se.sort((Oe,xe)=>Oe.sortKey-xe.sortKey);for(const Oe of Se){const xe=Oe.state;if(j.activeTexture.set(Q.TEXTURE0),xe.atlasTexture.bind(xe.atlasInterpolation,Q.CLAMP_TO_EDGE),xe.atlasTextureIcon&&(j.activeTexture.set(Q.TEXTURE1),xe.atlasTextureIcon&&xe.atlasTextureIcon.bind(xe.atlasInterpolationIcon,Q.CLAMP_TO_EDGE)),xe.isSDF){const qe=xe.uniformValues;xe.hasHalo&&(qe.u_is_halo=1,qo(xe.buffers,Oe.segments,h,_,xe.program,me,z,B,qe,Oe.terrainData)),qe.u_is_halo=0}qo(xe.buffers,Oe.segments,h,_,xe.program,me,z,B,xe.uniformValues,Oe.terrainData)}}function qo(_,l,h,f,$,x,T,P,w,L){const z=f.context;$.draw(z,z.gl.TRIANGLES,x,T,P,Vt.disabled,w,L,h.id,_.layoutVertexBuffer,_.indexBuffer,l,h.paint,f.transform.zoom,_.programConfigurations.get(h.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function Tr(_,l,h,f,$,x,T){const P=_.context.gl,w=h.paint.get("fill-pattern"),L=w&&w.constantOr(1),z=h.getCrossfadeParameters();let B,j,Q,Y,Z;T?(j=L&&!h.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",B=P.LINES):(j=L?"fillPattern":"fill",B=P.TRIANGLES);for(const se of f){const ue=l.getTile(se);if(L&&!ue.patternsLoaded())continue;const he=ue.getBucket(h);if(!he)continue;const J=he.programConfigurations.get(h.id),_e=_.useProgram(j,J),me=_.style.terrain&&_.style.terrain.getTerrainData(se);L&&(_.context.activeTexture.set(P.TEXTURE0),ue.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),J.updatePaintBuffers(z));const Ee=w.constantOr(null);if(Ee&&ue.imageAtlas){const xe=ue.imageAtlas,qe=xe.patternPositions[Ee.to.toString()],Ne=xe.patternPositions[Ee.from.toString()];qe&&Ne&&J.setConstantPatternPositions(qe,Ne)}const Se=me?se:null,Oe=_.translatePosMatrix(Se?Se.posMatrix:se.posMatrix,ue,h.paint.get("fill-translate"),h.paint.get("fill-translate-anchor"));if(T){Y=he.indexBuffer2,Z=he.segments2;const xe=[P.drawingBufferWidth,P.drawingBufferHeight];Q=j==="fillOutlinePattern"&&L?es(Oe,_,z,ue,xe):Ja(Oe,xe)}else Y=he.indexBuffer,Z=he.segments,Q=L?na(Oe,_,z,ue):ia(Oe);_e.draw(_.context,B,$,_.stencilModeForClipping(se),x,Vt.disabled,Q,me,h.id,he.layoutVertexBuffer,Y,Z,h.paint,_.transform.zoom,J)}}function Ho(_,l,h,f,$,x,T){const P=_.context,w=P.gl,L=h.paint.get("fill-extrusion-pattern"),z=L.constantOr(1),B=h.getCrossfadeParameters(),j=h.paint.get("fill-extrusion-opacity");for(const Q of f){const Y=l.getTile(Q),Z=Y.getBucket(h);if(!Z)continue;const se=_.style.terrain&&_.style.terrain.getTerrainData(Q),ue=Z.programConfigurations.get(h.id),he=_.useProgram(z?"fillExtrusionPattern":"fillExtrusion",ue);z&&(_.context.activeTexture.set(w.TEXTURE0),Y.imageAtlasTexture.bind(w.LINEAR,w.CLAMP_TO_EDGE),ue.updatePaintBuffers(B));const J=L.constantOr(null);if(J&&Y.imageAtlas){const Se=Y.imageAtlas,Oe=Se.patternPositions[J.to.toString()],xe=Se.patternPositions[J.from.toString()];Oe&&xe&&ue.setConstantPatternPositions(Oe,xe)}const _e=_.translatePosMatrix(Q.posMatrix,Y,h.paint.get("fill-extrusion-translate"),h.paint.get("fill-extrusion-translate-anchor")),me=h.paint.get("fill-extrusion-vertical-gradient"),Ee=z?ta(_e,_,me,j,Q,B,Y):Qa(_e,_,me,j);he.draw(P,P.gl.TRIANGLES,$,x,T,Vt.backCCW,Ee,se,h.id,Z.layoutVertexBuffer,Z.indexBuffer,Z.segments,h.paint,_.transform.zoom,ue,_.style.terrain&&Z.centroidVertexBuffer)}}function gs(_,l,h,f,$,x,T){const P=_.context,w=P.gl,L=h.fbo;if(!L)return;const z=_.useProgram("hillshade"),B=_.style.terrain&&_.style.terrain.getTerrainData(l);P.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,L.colorAttachment.get()),z.draw(P,w.TRIANGLES,$,x,T,Vt.disabled,((j,Q,Y,Z)=>{const se=Y.paint.get("hillshade-shadow-color"),ue=Y.paint.get("hillshade-highlight-color"),he=Y.paint.get("hillshade-accent-color");let J=Y.paint.get("hillshade-illumination-direction")*(Math.PI/180);Y.paint.get("hillshade-illumination-anchor")==="viewport"&&(J-=j.transform.angle);const _e=!j.options.moving;return{u_matrix:Z?Z.posMatrix:j.transform.calculatePosMatrix(Q.tileID.toUnwrapped(),_e),u_image:0,u_latrange:_r(0,Q.tileID),u_light:[Y.paint.get("hillshade-exaggeration"),J],u_shadow:se,u_highlight:ue,u_accent:he}})(_,h,f,B?l:null),B,f.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}function Ar(_,l,h,f,$,x){const T=_.context,P=T.gl,w=l.dem;if(w&&w.data){const L=w.dim,z=w.stride,B=w.getPixels();if(T.activeTexture.set(P.TEXTURE1),T.pixelStoreUnpackPremultiplyAlpha.set(!1),l.demTexture=l.demTexture||_.getTileTexture(z),l.demTexture){const Q=l.demTexture;Q.update(B,{premultiply:!1}),Q.bind(P.NEAREST,P.CLAMP_TO_EDGE)}else l.demTexture=new le(T,B,P.RGBA,{premultiply:!1}),l.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE);T.activeTexture.set(P.TEXTURE0);let j=l.fbo;if(!j){const Q=new le(T,{width:L,height:L,data:null},P.RGBA);Q.bind(P.LINEAR,P.CLAMP_TO_EDGE),j=l.fbo=T.createFramebuffer(L,L,!0),j.colorAttachment.set(Q.texture)}T.bindFramebuffer.set(j.framebuffer),T.viewport.set([0,0,L,L]),_.useProgram("hillshadePrepare").draw(T,P.TRIANGLES,f,$,x,Vt.disabled,((Q,Y)=>{const Z=Y.stride,se=c.create();return c.ortho(se,0,c.EXTENT,-c.EXTENT,0,0,1),c.translate(se,se,[0,-c.EXTENT,0]),{u_matrix:se,u_image:1,u_dimension:[Z,Z],u_zoom:Q.overscaledZ,u_unpack:Y.getUnpackVector()}})(l.tileID,w),null,h.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments),l.needsHillshadePrepare=!1}}function Cr(_,l,h,f,$,x){const T=f.paint.get("raster-fade-duration");if(!x&&T>0){const P=c.exported.now(),w=(P-_.timeAdded)/T,L=l?(P-l.timeAdded)/T:-1,z=h.getSource(),B=$.coveringZoomLevel({tileSize:z.tileSize,roundZoom:z.roundZoom}),j=!l||Math.abs(l.tileID.overscaledZ-B)>Math.abs(_.tileID.overscaledZ-B),Q=j&&_.refreshedUponExpiration?1:c.clamp(j?w:1-L,0,1);return _.refreshedUponExpiration&&w>=1&&(_.refreshedUponExpiration=!1),l?{opacity:1,mix:1-Q}:{opacity:Q,mix:0}}return{opacity:1,mix:0}}const cn=new c.Color(1,0,0,1),ds=new c.Color(0,1,0,1),va=new c.Color(0,0,1,1),hs=new c.Color(1,0,1,1),vo=new c.Color(0,1,1,1);function Xo(_,l,h,f){Pr(_,0,l+h/2,_.transform.width,h,f)}function Ir(_,l,h,f){Pr(_,l-h/2,0,h,_.transform.height,f)}function Pr(_,l,h,f,$,x){const T=_.context,P=T.gl;P.enable(P.SCISSOR_TEST),P.scissor(l*_.pixelRatio,h*_.pixelRatio,f*_.pixelRatio,$*_.pixelRatio),T.clear({color:x}),P.disable(P.SCISSOR_TEST)}function xa(_,l,h){const f=_.context,$=f.gl,x=h.posMatrix,T=_.useProgram("debug"),P=Qe.disabled,w=Jt.disabled,L=_.colorModeForRenderPass(),z="$debug",B=_.style.terrain&&_.style.terrain.getTerrainData(h);f.activeTexture.set($.TEXTURE0),_.emptyTexture.bind($.LINEAR,$.CLAMP_TO_EDGE);const j=l.getTileByID(h.key).latestRawTileData,Q=Math.floor((j&&j.byteLength||0)/1024),Y=l.getTile(h).tileSize,Z=512/Math.min(Y,512)*(h.overscaledZ/_.transform.zoom)*.5;let se=h.canonical.toString();h.overscaledZ!==h.canonical.z&&(se+=` => ${h.overscaledZ}`),function(ue,he){ue.initDebugOverlayCanvas();const J=ue.debugOverlayCanvas,_e=ue.context.gl,me=ue.debugOverlayCanvas.getContext("2d");me.clearRect(0,0,J.width,J.height),me.shadowColor="white",me.shadowBlur=2,me.lineWidth=1.5,me.strokeStyle="white",me.textBaseline="top",me.font="bold 36px Open Sans, sans-serif",me.fillText(he,5,5),me.strokeText(he,5,5),ue.debugOverlayTexture.update(J),ue.debugOverlayTexture.bind(_e.LINEAR,_e.CLAMP_TO_EDGE)}(_,`${se} ${Q}kB`),T.draw(f,$.TRIANGLES,P,w,ni.alphaBlended,Vt.disabled,mo(x,c.Color.transparent,Z),null,z,_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments),T.draw(f,$.LINE_STRIP,P,w,L,Vt.disabled,mo(x,c.Color.red),B,z,_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments)}function ms(_,l,h){const f=_.context,$=f.gl,x=_.colorModeForRenderPass(),T=new Qe($.LEQUAL,Qe.ReadWrite,_.depthRangeFor3D),P=_.useProgram("terrain"),w=l.getTerrainMesh(),L=l.getTerrainData(h.tileID);f.bindFramebuffer.set(null),f.viewport.set([0,0,_.width,_.height]),f.activeTexture.set($.TEXTURE0),$.bindTexture($.TEXTURE_2D,l.getRTTFramebuffer().colorAttachment.get());const z=_.transform.calculatePosMatrix(h.tileID.toUnwrapped());P.draw(f,$.TRIANGLES,T,Jt.disabled,x,Vt.backCCW,{u_matrix:z,u_texture:0},L,"terrain",w.vertexBuffer,w.indexBuffer,w.segments)}function Ea(_,l,h,f){const $=_.context,x=h.tileSize*l.qualityFactor;h.textures[f]||(h.textures[f]=_.getTileTexture(x)||new le($,{width:x,height:x,data:null},$.gl.RGBA),h.textures[f].bind($.gl.LINEAR,$.gl.CLAMP_TO_EDGE),f===0&&l.sourceCache.renderHistory.unshift(h.tileID.key));const T=l.getRTTFramebuffer();T.colorAttachment.set(h.textures[f].texture),$.bindFramebuffer.set(T.framebuffer),$.viewport.set([0,0,x,x])}class wr{constructor(l){this._coordsDescendingInv={},this._coordsDescendingInvStr={},this.painter=l,this._renderToTexture={background:!0,fill:!0,line:!0,raster:!0},this._coordsDescendingInv={},this._coordsDescendingInvStr={},this._stacks=[],this._prevType=null,this._rerender={},this._renderableTiles=l.style.terrain.sourceCache.getRenderableTiles(),this._init()}_init(){const l=this.painter.style,h=l.terrain;for(const f in l.sourceCaches){this._coordsDescendingInv[f]={};const $=l.sourceCaches[f].getVisibleCoordinates();for(const x of $){const T=h.sourceCache.getTerrainCoords(x);for(const P in T)this._coordsDescendingInv[f][P]||(this._coordsDescendingInv[f][P]=[]),this._coordsDescendingInv[f][P].push(T[P])}}for(const f of l._order){const $=l._layers[f],x=$.source;if(this._renderToTexture[$.type]&&!this._coordsDescendingInvStr[x]){this._coordsDescendingInvStr[x]={};for(const T in this._coordsDescendingInv[x])this._coordsDescendingInvStr[x][T]=this._coordsDescendingInv[x][T].map(P=>P.key).sort().join()}}return this._renderableTiles.forEach(f=>{for(const $ in this._coordsDescendingInvStr){const x=this._coordsDescendingInvStr[$][f.tileID.key];x&&x!==f.textureCoords[$]&&f.clearTextures(this.painter),h.needsRerender($,f.tileID)&&f.clearTextures(this.painter)}this._rerender[f.tileID.key]=!f.textures.length}),h.clearRerenderCache(),h.sourceCache.removeOutdated(this.painter),this}renderLayer(l){const h=l.type,f=this.painter,$=f.style._order,x=f.currentLayer,T=x+1===$.length;if(this._renderToTexture[h]&&(this._prevType&&this._renderToTexture[this._prevType]||this._stacks.push([]),this._prevType=h,this._stacks[this._stacks.length-1].push($[x]),!T))return!0;if(this._renderToTexture[this._prevType]||h==="hillshade"||this._renderToTexture[h]&&T){this._prevType=h;const P=this._stacks.length-1,w=this._stacks[P]||[];for(const L of this._renderableTiles){if(Ea(f,f.style.terrain,L,P),this._rerender[L.tileID.key]){f.context.clear({color:c.Color.transparent});for(let z=0;z<w.length;z++){const B=f.style._layers[w[z]],j=B.source?this._coordsDescendingInv[B.source][L.tileID.key]:[L.tileID];f._renderTileClippingMasks(B,j),f.renderLayer(f,f.style.sourceCaches[B.source],B,j),B.source&&(L.textureCoords[B.source]=this._coordsDescendingInvStr[B.source][L.tileID.key])}}ms(f,f.style.terrain,L)}if(h==="hillshade"){this._stacks.push([$[x]]);for(const L of this._renderableTiles){const z=this._coordsDescendingInv[l.source][L.tileID.key];Ea(f,f.style.terrain,L,this._stacks.length-1),f.context.clear({color:c.Color.transparent}),f._renderTileClippingMasks(l,z),f.renderLayer(f,f.style.sourceCaches[l.source],l,z),ms(f,f.style.terrain,L)}return!0}return this._renderToTexture[h]}return!1}}const Or={symbol:function(_,l,h,f,$){if(_.renderPass!=="translucent")return;const x=Jt.disabled,T=_.colorModeForRenderPass();h.layout.get("text-variable-anchor")&&function(P,w,L,z,B,j,Q){const Y=w.transform,Z=B==="map",se=j==="map";for(const ue of P){const he=z.getTile(ue),J=he.getBucket(L);if(!J||!J.text||!J.text.segments.get().length)continue;const _e=c.evaluateSizeForZoom(J.textSizeData,Y.zoom),me=kt(he,1,w.transform.zoom),Ee=ln(ue.posMatrix,se,Z,w.transform,me),Se=L.layout.get("icon-text-fit")!=="none"&&J.hasIconData();if(_e){const Oe=Math.pow(2,Y.zoom-he.tileID.overscaledZ);pl(J,Z,se,Q,Y,Ee,ue.posMatrix,Oe,_e,Se,w.style.terrain?(xe,qe)=>w.style.terrain.getElevation(ue,xe,qe):null)}}}(f,_,h,l,h.layout.get("text-rotation-alignment"),h.layout.get("text-pitch-alignment"),$),h.paint.get("icon-opacity").constantOr(1)!==0&&Go(_,l,h,f,!1,h.paint.get("icon-translate"),h.paint.get("icon-translate-anchor"),h.layout.get("icon-rotation-alignment"),h.layout.get("icon-pitch-alignment"),h.layout.get("icon-keep-upright"),x,T),h.paint.get("text-opacity").constantOr(1)!==0&&Go(_,l,h,f,!0,h.paint.get("text-translate"),h.paint.get("text-translate-anchor"),h.layout.get("text-rotation-alignment"),h.layout.get("text-pitch-alignment"),h.layout.get("text-keep-upright"),x,T),l.map.showCollisionBoxes&&(cs(_,l,h,f,h.paint.get("text-translate"),h.paint.get("text-translate-anchor"),!0),cs(_,l,h,f,h.paint.get("icon-translate"),h.paint.get("icon-translate-anchor"),!1))},circle:function(_,l,h,f){if(_.renderPass!=="translucent")return;const $=h.paint.get("circle-opacity"),x=h.paint.get("circle-stroke-width"),T=h.paint.get("circle-stroke-opacity"),P=!h.layout.get("circle-sort-key").isConstant();if($.constantOr(1)===0&&(x.constantOr(1)===0||T.constantOr(1)===0))return;const w=_.context,L=w.gl,z=_.depthModeForSublayer(0,Qe.ReadOnly),B=Jt.disabled,j=_.colorModeForRenderPass(),Q=[];for(let Y=0;Y<f.length;Y++){const Z=f[Y],se=l.getTile(Z),ue=se.getBucket(h);if(!ue)continue;const he=ue.programConfigurations.get(h.id),J=_.useProgram("circle",he),_e=ue.layoutVertexBuffer,me=ue.indexBuffer,Ee=_.style.terrain&&_.style.terrain.getTerrainData(Z),Se={programConfiguration:he,program:J,layoutVertexBuffer:_e,indexBuffer:me,uniformValues:Xn(_,Z,se,h),terrainData:Ee};if(P){const Oe=ue.segments.get();for(const xe of Oe)Q.push({segments:new c.SegmentVector([xe]),sortKey:xe.sortKey,state:Se})}else Q.push({segments:ue.segments,sortKey:0,state:Se})}P&&Q.sort((Y,Z)=>Y.sortKey-Z.sortKey);for(const Y of Q){const{programConfiguration:Z,program:se,layoutVertexBuffer:ue,indexBuffer:he,uniformValues:J,terrainData:_e}=Y.state;se.draw(w,L.TRIANGLES,z,B,j,Vt.disabled,J,_e,h.id,ue,he,Y.segments,h.paint,_.transform.zoom,Z)}},heatmap:function(_,l,h,f){if(h.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const $=_.context,x=$.gl,T=Jt.disabled,P=new ni([x.ONE,x.ONE],c.Color.transparent,[!0,!0,!0,!0]);(function(w,L,z){const B=w.gl;w.activeTexture.set(B.TEXTURE1),w.viewport.set([0,0,L.width/4,L.height/4]);let j=z.heatmapFbo;if(j)B.bindTexture(B.TEXTURE_2D,j.colorAttachment.get()),w.bindFramebuffer.set(j.framebuffer);else{const Q=B.createTexture();B.bindTexture(B.TEXTURE_2D,Q),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_S,B.CLAMP_TO_EDGE),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_T,B.CLAMP_TO_EDGE),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.LINEAR),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,B.LINEAR),j=z.heatmapFbo=w.createFramebuffer(L.width/4,L.height/4,!1),function(Y,Z,se,ue){const he=Y.gl;he.texImage2D(he.TEXTURE_2D,0,he.RGBA,Z.width/4,Z.height/4,0,he.RGBA,Y.extRenderToTextureHalfFloat?Y.extTextureHalfFloat.HALF_FLOAT_OES:he.UNSIGNED_BYTE,null),ue.colorAttachment.set(se)}(w,L,Q,j)}})($,_,h),$.clear({color:c.Color.transparent});for(let w=0;w<f.length;w++){const L=f[w];if(l.hasRenderableParent(L))continue;const z=l.getTile(L),B=z.getBucket(h);if(!B)continue;const j=B.programConfigurations.get(h.id),Q=_.useProgram("heatmap",j),{zoom:Y}=_.transform;Q.draw($,x.TRIANGLES,Qe.disabled,T,P,Vt.disabled,fr(L.posMatrix,z,Y,h.paint.get("heatmap-intensity")),null,h.id,B.layoutVertexBuffer,B.indexBuffer,B.segments,h.paint,_.transform.zoom,j)}$.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function($,x){const T=$.context,P=T.gl,w=x.heatmapFbo;if(!w)return;T.activeTexture.set(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,w.colorAttachment.get()),T.activeTexture.set(P.TEXTURE1);let L=x.colorRampTexture;L||(L=x.colorRampTexture=new le(T,x.colorRamp,P.RGBA)),L.bind(P.LINEAR,P.CLAMP_TO_EDGE),$.useProgram("heatmapTexture").draw(T,P.TRIANGLES,Qe.disabled,Jt.disabled,$.colorModeForRenderPass(),Vt.disabled,((z,B,j,Q)=>{const Y=c.create();c.ortho(Y,0,z.width,z.height,0,0,1);const Z=z.context.gl;return{u_matrix:Y,u_world:[Z.drawingBufferWidth,Z.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:B.paint.get("heatmap-opacity")}})($,x),null,x.id,$.viewportBuffer,$.quadTriangleIndexBuffer,$.viewportSegments,x.paint,$.transform.zoom)}(_,h))},line:function(_,l,h,f){if(_.renderPass!=="translucent")return;const $=h.paint.get("line-opacity"),x=h.paint.get("line-width");if($.constantOr(1)===0||x.constantOr(1)===0)return;const T=_.depthModeForSublayer(0,Qe.ReadOnly),P=_.colorModeForRenderPass(),w=h.paint.get("line-dasharray"),L=h.paint.get("line-pattern"),z=L.constantOr(1),B=h.paint.get("line-gradient"),j=h.getCrossfadeParameters(),Q=z?"linePattern":w?"lineSDF":B?"lineGradient":"line",Y=_.context,Z=Y.gl;let se=!0;for(const ue of f){const he=l.getTile(ue);if(z&&!he.patternsLoaded())continue;const J=he.getBucket(h);if(!J)continue;const _e=J.programConfigurations.get(h.id),me=_.context.program.get(),Ee=_.useProgram(Q,_e),Se=se||Ee.program!==me,Oe=_.style.terrain&&_.style.terrain.getTerrainData(ue),xe=L.constantOr(null);if(xe&&he.imageAtlas){const Xe=he.imageAtlas,pt=Xe.patternPositions[xe.to.toString()],bt=Xe.patternPositions[xe.from.toString()];pt&&bt&&_e.setConstantPatternPositions(pt,bt)}const qe=Oe?ue:null,Ne=z?Bo(_,he,h,j,qe):w?Qt(_,he,h,w,j,qe):B?yr(_,he,h,J.lineClipsArray.length,qe):ko(_,he,h,qe);if(z)Y.activeTexture.set(Z.TEXTURE0),he.imageAtlasTexture.bind(Z.LINEAR,Z.CLAMP_TO_EDGE),_e.updatePaintBuffers(j);else if(w&&(Se||_.lineAtlas.dirty))Y.activeTexture.set(Z.TEXTURE0),_.lineAtlas.bind(Y);else if(B){const Xe=J.gradients[h.id];let pt=Xe.texture;if(h.gradientVersion!==Xe.version){let bt=256;if(h.stepInterpolant){const at=l.getSource().maxzoom,Mt=ue.canonical.z===at?Math.ceil(1<<_.transform.maxZoom-ue.canonical.z):1;bt=c.clamp(c.nextPowerOfTwo(J.maxLineLength/c.EXTENT*1024*Mt),256,Y.maxTextureSize)}Xe.gradient=c.renderColorRamp({expression:h.gradientExpression(),evaluationKey:"lineProgress",resolution:bt,image:Xe.gradient||void 0,clips:J.lineClipsArray}),Xe.texture?Xe.texture.update(Xe.gradient):Xe.texture=new le(Y,Xe.gradient,Z.RGBA),Xe.version=h.gradientVersion,pt=Xe.texture}Y.activeTexture.set(Z.TEXTURE0),pt.bind(h.stepInterpolant?Z.NEAREST:Z.LINEAR,Z.CLAMP_TO_EDGE)}Ee.draw(Y,Z.TRIANGLES,T,_.stencilModeForClipping(ue),P,Vt.disabled,Ne,Oe,h.id,J.layoutVertexBuffer,J.indexBuffer,J.segments,h.paint,_.transform.zoom,_e,J.layoutVertexBuffer2),se=!1}},fill:function(_,l,h,f){const $=h.paint.get("fill-color"),x=h.paint.get("fill-opacity");if(x.constantOr(1)===0)return;const T=_.colorModeForRenderPass(),P=h.paint.get("fill-pattern"),w=_.opaquePassEnabledForLayer()&&!P.constantOr(1)&&$.constantOr(c.Color.transparent).a===1&&x.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===w){const L=_.depthModeForSublayer(1,_.renderPass==="opaque"?Qe.ReadWrite:Qe.ReadOnly);Tr(_,l,h,f,L,T,!1)}if(_.renderPass==="translucent"&&h.paint.get("fill-antialias")){const L=_.depthModeForSublayer(h.getPaintProperty("fill-outline-color")?2:0,Qe.ReadOnly);Tr(_,l,h,f,L,T,!0)}},"fill-extrusion":function(_,l,h,f){const $=h.paint.get("fill-extrusion-opacity");if($!==0&&_.renderPass==="translucent"){const x=new Qe(_.context.gl.LEQUAL,Qe.ReadWrite,_.depthRangeFor3D);if($!==1||h.paint.get("fill-extrusion-pattern").constantOr(1))Ho(_,l,h,f,x,Jt.disabled,ni.disabled),Ho(_,l,h,f,x,_.stencilModeFor3D(),_.colorModeForRenderPass());else{const T=_.colorModeForRenderPass();Ho(_,l,h,f,x,Jt.disabled,T)}}},hillshade:function(_,l,h,f){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const $=_.context,x=_.depthModeForSublayer(0,Qe.ReadOnly),T=_.colorModeForRenderPass(),[P,w]=_.renderPass==="translucent"?_.stencilConfigForOverlap(f):[{},f];for(const L of w){const z=l.getTile(L);z.needsHillshadePrepare!==void 0&&z.needsHillshadePrepare&&_.renderPass==="offscreen"?Ar(_,z,h,x,Jt.disabled,T):_.renderPass==="translucent"&&gs(_,L,z,h,x,P[L.overscaledZ],T)}$.viewport.set([0,0,_.width,_.height])},raster:function(_,l,h,f){if(_.renderPass!=="translucent"||h.paint.get("raster-opacity")===0||!f.length)return;const $=_.context,x=$.gl,T=l.getSource(),P=_.useProgram("raster"),w=_.colorModeForRenderPass(),[L,z]=T instanceof Zt?[{},f]:_.stencilConfigForOverlap(f),B=z[z.length-1].overscaledZ,j=!_.options.moving;for(const Q of z){const Y=_.depthModeForSublayer(Q.overscaledZ-B,h.paint.get("raster-opacity")===1?Qe.ReadWrite:Qe.ReadOnly,x.LESS),Z=l.getTile(Q);Z.registerFadeDuration(h.paint.get("raster-fade-duration"));const se=l.findLoadedParent(Q,0),ue=Cr(Z,se,l,h,_.transform,_.style.terrain);let he,J;const _e=h.paint.get("raster-resampling")==="nearest"?x.NEAREST:x.LINEAR;$.activeTexture.set(x.TEXTURE0),Z.texture.bind(_e,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),$.activeTexture.set(x.TEXTURE1),se?(se.texture.bind(_e,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),he=Math.pow(2,se.tileID.overscaledZ-Z.tileID.overscaledZ),J=[Z.tileID.canonical.x*he%1,Z.tileID.canonical.y*he%1]):Z.texture.bind(_e,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST);const me=_.style.terrain&&_.style.terrain.getTerrainData(Q),Ee=me?Q:null,Se=Ee?Ee.posMatrix:_.transform.calculatePosMatrix(Q.toUnwrapped(),j),Oe=ts(Se,J||[0,0],he||1,ue,h);T instanceof Zt?P.draw($,x.TRIANGLES,Y,Jt.disabled,w,Vt.disabled,Oe,me,h.id,T.boundsBuffer,_.quadTriangleIndexBuffer,T.boundsSegments):P.draw($,x.TRIANGLES,Y,L[Q.overscaledZ],w,Vt.disabled,Oe,me,h.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}},background:function(_,l,h,f){const $=h.paint.get("background-color"),x=h.paint.get("background-opacity");if(x===0)return;const T=_.context,P=T.gl,w=_.transform,L=w.tileSize,z=h.paint.get("background-pattern");if(_.isPatternMissing(z))return;const B=!z&&$.a===1&&x===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==B)return;const j=Jt.disabled,Q=_.depthModeForSublayer(0,B==="opaque"?Qe.ReadWrite:Qe.ReadOnly),Y=_.colorModeForRenderPass(),Z=_.useProgram(z?"backgroundPattern":"background"),se=f||w.coveringTiles({tileSize:L,terrain:_.style.terrain});z&&(T.activeTexture.set(P.TEXTURE0),_.imageManager.bind(_.context));const ue=h.getCrossfadeParameters();for(const he of se){const J=f?he.posMatrix:_.transform.calculatePosMatrix(he.toUnwrapped()),_e=z?aa(J,x,_,z,{tileID:he,tileSize:L},ue):il(J,x,$),me=_.style.terrain&&_.style.terrain.getTerrainData(he);Z.draw(T,P.TRIANGLES,Q,j,Y,Vt.disabled,_e,me,h.id,_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}},debug:function(_,l,h){for(let f=0;f<h.length;f++)xa(_,l,h[f])},custom:function(_,l,h){const f=_.context,$=h.implementation;if(_.renderPass==="offscreen"){const x=$.prerender;x&&(_.setCustomLayerDefaults(),f.setColorMode(_.colorModeForRenderPass()),x.call($,f.gl,_.transform.customLayerMatrix()),f.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),f.setColorMode(_.colorModeForRenderPass()),f.setStencilMode(Jt.disabled);const x=$.renderingMode==="3d"?new Qe(_.context.gl.LEQUAL,Qe.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,Qe.ReadOnly);f.setDepthMode(x),$.render(f.gl,_.transform.customLayerMatrix()),f.setDirty(),_.setBaseState(),f.bindFramebuffer.set(null)}}};class fs{constructor(l,h){this.context=new $a(l),this.transform=h,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:c.create(),renderTime:0},this.setup(),this.numSublayers=Gi.maxUnderzooming+Gi.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ft,this.gpuTimers={}}resize(l,h,f){if(this.width=l*f,this.height=h*f,this.pixelRatio=f,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const $ of this.style._order)this.style._layers[$].resize()}setup(){const l=this.context,h=new c.PosArray;h.emplaceBack(0,0),h.emplaceBack(c.EXTENT,0),h.emplaceBack(0,c.EXTENT),h.emplaceBack(c.EXTENT,c.EXTENT),this.tileExtentBuffer=l.createVertexBuffer(h,xt.members),this.tileExtentSegments=c.SegmentVector.simpleSegment(0,0,4,2);const f=new c.PosArray;f.emplaceBack(0,0),f.emplaceBack(c.EXTENT,0),f.emplaceBack(0,c.EXTENT),f.emplaceBack(c.EXTENT,c.EXTENT),this.debugBuffer=l.createVertexBuffer(f,xt.members),this.debugSegments=c.SegmentVector.simpleSegment(0,0,4,5);const $=new c.RasterBoundsArray;$.emplaceBack(0,0,0,0),$.emplaceBack(c.EXTENT,0,c.EXTENT,0),$.emplaceBack(0,c.EXTENT,0,c.EXTENT),$.emplaceBack(c.EXTENT,c.EXTENT,c.EXTENT,c.EXTENT),this.rasterBoundsBuffer=l.createVertexBuffer($,Kt.members),this.rasterBoundsSegments=c.SegmentVector.simpleSegment(0,0,4,2);const x=new c.PosArray;x.emplaceBack(0,0),x.emplaceBack(1,0),x.emplaceBack(0,1),x.emplaceBack(1,1),this.viewportBuffer=l.createVertexBuffer(x,xt.members),this.viewportSegments=c.SegmentVector.simpleSegment(0,0,4,2);const T=new c.LineStripIndexArray;T.emplaceBack(0),T.emplaceBack(1),T.emplaceBack(3),T.emplaceBack(2),T.emplaceBack(0),this.tileBorderIndexBuffer=l.createIndexBuffer(T);const P=new c.TriangleIndexArray;P.emplaceBack(0,1,2),P.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=l.createIndexBuffer(P),this.emptyTexture=new le(l,{width:1,height:1,data:new Uint8Array([0,0,0,0])},l.gl.RGBA);const w=this.context.gl;this.stencilClearMode=new Jt({func:w.ALWAYS,mask:0},0,255,w.ZERO,w.ZERO,w.ZERO)}clearStencil(){const l=this.context,h=l.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const f=c.create();c.ortho(f,0,this.width,this.height,0,0,1),c.scale(f,f,[h.drawingBufferWidth,h.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(l,h.TRIANGLES,Qe.disabled,this.stencilClearMode,ni.disabled,Vt.disabled,Fo(f),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(l,h){if(this.currentStencilSource===l.source||!l.isTileClipped()||!h||!h.length)return;this.currentStencilSource=l.source;const f=this.context,$=f.gl;this.nextStencilID+h.length>256&&this.clearStencil(),f.setColorMode(ni.disabled),f.setDepthMode(Qe.disabled);const x=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const T of h){const P=this._tileClippingMaskIDs[T.key]=this.nextStencilID++,w=this.style.terrain&&this.style.terrain.getTerrainData(T);x.draw(f,$.TRIANGLES,Qe.disabled,new Jt({func:$.ALWAYS,mask:0},P,255,$.KEEP,$.KEEP,$.REPLACE),ni.disabled,Vt.disabled,Fo(T.posMatrix),w,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const l=this.nextStencilID++,h=this.context.gl;return new Jt({func:h.NOTEQUAL,mask:255},l,255,h.KEEP,h.KEEP,h.REPLACE)}stencilModeForClipping(l){const h=this.context.gl;return new Jt({func:h.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,h.KEEP,h.KEEP,h.REPLACE)}stencilConfigForOverlap(l){const h=this.context.gl,f=l.sort((T,P)=>P.overscaledZ-T.overscaledZ),$=f[f.length-1].overscaledZ,x=f[0].overscaledZ-$+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const T={};for(let P=0;P<x;P++)T[P+$]=new Jt({func:h.GEQUAL,mask:255},P+this.nextStencilID,255,h.KEEP,h.KEEP,h.REPLACE);return this.nextStencilID+=x,[T,f]}return[{[$]:Jt.disabled},f]}colorModeForRenderPass(){const l=this.context.gl;return this._showOverdrawInspector?new ni([l.CONSTANT_COLOR,l.ONE],new c.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ni.unblended:ni.alphaBlended}depthModeForSublayer(l,h,f){if(!this.opaquePassEnabledForLayer())return Qe.disabled;const $=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon;return new Qe(f||this.context.gl.LEQUAL,h,[$,$])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(l,h){this.style=l,this.options=h,this.lineAtlas=l.lineAtlas,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(c.exported.now()),this.imageManager.beginFrame();const f=this.style._order,$=this.style.sourceCaches,x=this.style.terrain&&new wr(this);for(const L in $){const z=$[L];z.used&&z.prepare(this.context)}const T={},P={},w={};for(const L in $){const z=$[L];T[L]=z.getVisibleCoordinates(),P[L]=T[L].slice().reverse(),w[L]=z.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let L=0;L<f.length;L++)if(this.style._layers[f[L]].is3D()){this.opaquePassCutoff=L;break}if(x){this.opaquePassCutoff=0;const L=this.style.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!c.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||L.length)&&(c.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(z,B){const j=z.context,Q=j.gl,Y=ni.unblended,Z=new Qe(Q.LEQUAL,Qe.ReadWrite,[0,1]),se=B.getTerrainMesh(),ue=B.sourceCache.getRenderableTiles(),he=z.useProgram("terrainDepth");j.bindFramebuffer.set(B.getFramebuffer("depth").framebuffer),j.viewport.set([0,0,z.width/devicePixelRatio,z.height/devicePixelRatio]),j.clear({color:c.Color.transparent,depth:1});for(const J of ue){const _e=B.getTerrainData(J.tileID),me=z.transform.calculatePosMatrix(J.tileID.toUnwrapped());he.draw(j,Q.TRIANGLES,Z,Jt.disabled,Y,Vt.backCCW,{u_matrix:me},_e,"terrain",se.vertexBuffer,se.indexBuffer,se.segments)}j.bindFramebuffer.set(null),j.viewport.set([0,0,z.width,z.height])}(this,this.style.terrain),function(z,B){const j=z.context,Q=j.gl,Y=ni.unblended,Z=new Qe(Q.LEQUAL,Qe.ReadWrite,[0,1]),se=B.getTerrainMesh(),ue=B.getCoordsTexture(),he=B.sourceCache.getRenderableTiles(),J=z.useProgram("terrainCoords");j.bindFramebuffer.set(B.getFramebuffer("coords").framebuffer),j.viewport.set([0,0,z.width/devicePixelRatio,z.height/devicePixelRatio]),j.clear({color:c.Color.transparent,depth:1}),B.coordsIndex=[];for(const _e of he){const me=B.getTerrainData(_e.tileID);j.activeTexture.set(Q.TEXTURE0),Q.bindTexture(Q.TEXTURE_2D,ue.texture);const Ee=z.transform.calculatePosMatrix(_e.tileID.toUnwrapped());J.draw(j,Q.TRIANGLES,Z,Jt.disabled,Y,Vt.backCCW,{u_matrix:Ee,u_terrain_coords_id:(255-B.coordsIndex.length)/255,u_texture:0},me,"terrain",se.vertexBuffer,se.indexBuffer,se.segments),B.coordsIndex.push(_e.tileID.key)}j.bindFramebuffer.set(null),j.viewport.set([0,0,z.width,z.height])}(this,this.style.terrain))}this.renderPass="offscreen";for(const L of f){const z=this.style._layers[L];if(!z.hasOffscreenPass()||z.isHidden(this.transform.zoom))continue;const B=P[z.source];(z.type==="custom"||B.length)&&this.renderLayer(this,$[z.source],z,B)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:h.showOverdrawInspector?c.Color.black:c.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=h.showOverdrawInspector,this.depthRangeFor3D=[0,1-(l._order.length+2)*this.numSublayers*this.depthEpsilon],!x)for(this.renderPass="opaque",this.currentLayer=f.length-1;this.currentLayer>=0;this.currentLayer--){const L=this.style._layers[f[this.currentLayer]],z=$[L.source],B=T[L.source];this._renderTileClippingMasks(L,B),this.renderLayer(this,z,L,B)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<f.length;this.currentLayer++){const L=this.style._layers[f[this.currentLayer]],z=$[L.source];if(x&&x.renderLayer(L))continue;const B=(L.type==="symbol"?w:P)[L.source];this._renderTileClippingMasks(L,T[L.source]),this.renderLayer(this,z,L,B)}if(this.options.showTileBoundaries){let L,z;Object.values(this.style._layers).forEach(B=>{B.source&&!B.isHidden(this.transform.zoom)&&(B.source!==(z&&z.id)&&(z=this.style.sourceCaches[B.source]),(!L||L.getSource().maxzoom<z.getSource().maxzoom)&&(L=z))}),L&&Or.debug(this,L,L.getVisibleCoordinates())}this.options.showPadding&&function(L){const z=L.transform.padding;Xo(L,L.transform.height-(z.top||0),3,cn),Xo(L,z.bottom||0,3,ds),Ir(L,z.left||0,3,va),Ir(L,L.transform.width-(z.right||0),3,hs);const B=L.transform.centerPoint;(function(j,Q,Y,Z){Pr(j,Q-1,Y-10,2,20,Z),Pr(j,Q-10,Y-1,20,2,Z)})(L,B.x,L.transform.height-B.y,vo)}(this),this.context.setDefault()}renderLayer(l,h,f,$){f.isHidden(this.transform.zoom)||(f.type==="background"||f.type==="custom"||($||[]).length)&&(this.id=f.id,this.gpuTimingStart(f),Or[f.type](l,h,f,$,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(l){if(!this.options.gpuTiming)return;const h=this.context.extTimerQuery;let f=this.gpuTimers[l.id];f||(f=this.gpuTimers[l.id]={calls:0,cpuTime:0,query:h.createQueryEXT()}),f.calls++,h.beginQueryEXT(h.TIME_ELAPSED_EXT,f.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}collectGpuTimers(){const l=this.gpuTimers;return this.gpuTimers={},l}queryGpuTimers(l){const h={};for(const f in l){const $=l[f],x=this.context.extTimerQuery,T=x.getQueryObjectEXT($.query,x.QUERY_RESULT_EXT)/1e6;x.deleteQueryEXT($.query),h[f]=T}return h}translatePosMatrix(l,h,f,$,x){if(!f[0]&&!f[1])return l;const T=x?$==="map"?this.transform.angle:0:$==="viewport"?-this.transform.angle:0;if(T){const L=Math.sin(T),z=Math.cos(T);f=[f[0]*z-f[1]*L,f[0]*L+f[1]*z]}const P=[x?f[0]:kt(h,f[0],this.transform.zoom),x?f[1]:kt(h,f[1],this.transform.zoom),0],w=new Float32Array(16);return c.translate(w,l,P),w}saveTileTexture(l){const h=this._tileTextures[l.size[0]];h?h.push(l):this._tileTextures[l.size[0]]=[l]}getTileTexture(l){const h=this._tileTextures[l];return h&&h.length>0?h.pop():null}isPatternMissing(l){if(!l)return!1;if(!l.from||!l.to)return!0;const h=this.imageManager.getPattern(l.from.toString()),f=this.imageManager.getPattern(l.to.toString());return!h||!f}useProgram(l,h){this.cache=this.cache||{};const f=l+(h?h.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.terrain?"/terrain":"");return this.cache[f]||(this.cache[f]=new el(this.context,l,zo[l],h,sa[l],this._showOverdrawInspector,this.style.terrain)),this.cache[f]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new le(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class Rr{constructor(l,h){this.points=l,this.planes=h}static fromInvProjectionMatrix(l,h,f){const $=Math.pow(2,f),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(P=>{const w=1/(P=c.transformMat4([],P,l))[3]/h*$;return c.mul$1(P,P,[w,w,1/P[3],w])}),T=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(P=>{const w=c.sub([],x[P[0]],x[P[1]]),L=c.sub([],x[P[2]],x[P[1]]),z=c.normalize([],c.cross([],w,L)),B=-c.dot(z,x[P[1]]);return z.concat(B)});return new Rr(x,T)}}class Wn{constructor(l,h){this.min=l,this.max=h,this.center=c.scale$1([],c.add([],this.min,this.max),.5)}quadrant(l){const h=[l%2==0,l<2],f=c.clone$2(this.min),$=c.clone$2(this.max);for(let x=0;x<h.length;x++)f[x]=h[x]?this.min[x]:this.center[x],$[x]=h[x]?this.center[x]:this.max[x];return $[2]=this.max[2],new Wn(f,$)}distanceX(l){return Math.max(Math.min(this.max[0],l[0]),this.min[0])-l[0]}distanceY(l){return Math.max(Math.min(this.max[1],l[1]),this.min[1])-l[1]}intersects(l){const h=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let f=!0;for(let $=0;$<l.planes.length;$++){const x=l.planes[$];let T=0;for(let P=0;P<h.length;P++)c.dot$1(x,h[P])>=0&&T++;if(T===0)return 0;T!==h.length&&(f=!1)}if(f)return 2;for(let $=0;$<3;$++){let x=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let P=0;P<l.points.length;P++){const w=l.points[P][$]-this.min[$];x=Math.min(x,w),T=Math.max(T,w)}if(T<0||x>this.max[$]-this.min[$])return 0}return 1}}class Wo{constructor(l=0,h=0,f=0,$=0){if(isNaN(l)||l<0||isNaN(h)||h<0||isNaN(f)||f<0||isNaN($)||$<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=h,this.left=f,this.right=$}interpolate(l,h,f){return h.top!=null&&l.top!=null&&(this.top=c.number(l.top,h.top,f)),h.bottom!=null&&l.bottom!=null&&(this.bottom=c.number(l.bottom,h.bottom,f)),h.left!=null&&l.left!=null&&(this.left=c.number(l.left,h.left,f)),h.right!=null&&l.right!=null&&(this.right=c.number(l.right,h.right,f)),this}getCenter(l,h){const f=c.clamp((this.left+l-this.right)/2,0,l),$=c.clamp((this.top+h-this.bottom)/2,0,h);return new c.pointGeometry(f,$)}equals(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right}clone(){return new Wo(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Dr{constructor(l,h,f,$,x){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=x===void 0||!!x,this._minZoom=l||0,this._maxZoom=h||22,this._minPitch=f??0,this._maxPitch=$??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new c.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Wo,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const l=new Dr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return l.tileSize=this.tileSize,l.latRange=this.latRange,l.width=this.width,l.height=this.height,l._center=this._center,l._elevation=this._elevation,l.zoom=this.zoom,l.angle=this.angle,l._fov=this._fov,l._pitch=this._pitch,l._unmodified=this._unmodified,l._edgeInsets=this._edgeInsets.clone(),l._calcMatrices(),l}get minZoom(){return this._minZoom}set minZoom(l){this._minZoom!==l&&(this._minZoom=l,this.zoom=Math.max(this.zoom,l))}get maxZoom(){return this._maxZoom}set maxZoom(l){this._maxZoom!==l&&(this._maxZoom=l,this.zoom=Math.min(this.zoom,l))}get minPitch(){return this._minPitch}set minPitch(l){this._minPitch!==l&&(this._minPitch=l,this.pitch=Math.max(this.pitch,l))}get maxPitch(){return this._maxPitch}set maxPitch(l){this._maxPitch!==l&&(this._maxPitch=l,this.pitch=Math.min(this.pitch,l))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(l){l===void 0?l=!0:l===null&&(l=!1),this._renderWorldCopies=l}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new c.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(l){const h=-c.wrap(l,-180,180)*Math.PI/180;var f;this.angle!==h&&(this._unmodified=!1,this.angle=h,this._calcMatrices(),this.rotationMatrix=(f=new c.ARRAY_TYPE(4),c.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0),f[0]=1,f[3]=1,f),function($,x,T){var P=x[0],w=x[1],L=x[2],z=x[3],B=Math.sin(T),j=Math.cos(T);$[0]=P*j+L*B,$[1]=w*j+z*B,$[2]=P*-B+L*j,$[3]=w*-B+z*j}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(l){const h=c.clamp(l,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==h&&(this._unmodified=!1,this._pitch=h,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(l){l=Math.max(.01,Math.min(60,l)),this._fov!==l&&(this._unmodified=!1,this._fov=l/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(l){const h=Math.min(Math.max(l,this.minZoom),this.maxZoom);this._zoom!==h&&(this._unmodified=!1,this._zoom=h,this.scale=this.zoomScale(h),this.tileZoom=Math.floor(h),this.zoomFraction=h-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(l){l!==this._elevation&&(this._elevation=l,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(l){return this._edgeInsets.equals(l)}interpolatePadding(l,h,f){this._unmodified=!1,this._edgeInsets.interpolate(l,h,f),this._constrain(),this._calcMatrices()}coveringZoomLevel(l){const h=(l.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/l.tileSize));return Math.max(0,h)}getVisibleUnwrappedCoordinates(l){const h=[new c.UnwrappedTileID(0,l)];if(this._renderWorldCopies){const f=this.pointCoordinate(new c.pointGeometry(0,0)),$=this.pointCoordinate(new c.pointGeometry(this.width,0)),x=this.pointCoordinate(new c.pointGeometry(this.width,this.height)),T=this.pointCoordinate(new c.pointGeometry(0,this.height)),P=Math.floor(Math.min(f.x,$.x,x.x,T.x)),w=Math.floor(Math.max(f.x,$.x,x.x,T.x)),L=1;for(let z=P-L;z<=w+L;z++)z!==0&&h.push(new c.UnwrappedTileID(z,l))}return h}coveringTiles(l){var h,f;let $=this.coveringZoomLevel(l);const x=$;if(l.minzoom!==void 0&&$<l.minzoom)return[];l.maxzoom!==void 0&&$>l.maxzoom&&($=l.maxzoom);const T=this.pointCoordinate(this.getCameraPoint()),P=c.MercatorCoordinate.fromLngLat(this.center),w=Math.pow(2,$),L=[w*T.x,w*T.y,0],z=[w*P.x,w*P.y,0],B=Rr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,$);let j=l.minzoom||0;!l.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(j=$);const Q=l.terrain?2/Math.min(this.tileSize,l.tileSize)*this.tileSize:3,Y=J=>({aabb:new Wn([J*w,0,0],[(J+1)*w,w,0]),zoom:0,x:0,y:0,wrap:J,fullyVisible:!1}),Z=[],se=[],ue=$,he=l.reparseOverscaled?x:$;if(this._renderWorldCopies)for(let J=1;J<=3;J++)Z.push(Y(-J)),Z.push(Y(J));for(Z.push(Y(0));Z.length>0;){const J=Z.pop(),_e=J.x,me=J.y;let Ee=J.fullyVisible;if(!Ee){const Xe=J.aabb.intersects(B);if(Xe===0)continue;Ee=Xe===2}const Se=l.terrain?L:z,Oe=J.aabb.distanceX(Se),xe=J.aabb.distanceY(Se),qe=Math.max(Math.abs(Oe),Math.abs(xe)),Ne=Q+(1<<ue-J.zoom)-2;if(J.zoom===ue||qe>Ne&&J.zoom>=j){const Xe=ue-J.zoom,pt=L[0]-.5-(_e<<Xe),bt=L[1]-.5-(me<<Xe);se.push({tileID:new c.OverscaledTileID(J.zoom===ue?he:J.zoom,J.wrap,J.zoom,_e,me),distanceSq:c.sqrLen([z[0]-.5-_e,z[1]-.5-me]),tileDistanceToCamera:Math.sqrt(pt*pt+bt*bt)})}else for(let Xe=0;Xe<4;Xe++){const pt=(_e<<1)+Xe%2,bt=(me<<1)+(Xe>>1),at=J.zoom+1;let Mt=J.aabb.quadrant(Xe);if(l.terrain){const Nt=new c.OverscaledTileID(at,J.wrap,at,pt,bt),Tt=l.terrain.getMinMaxElevation(Nt),Ct=(h=Tt.minElevation)!==null&&h!==void 0?h:this.elevation,It=(f=Tt.maxElevation)!==null&&f!==void 0?f:this.elevation;Mt=new Wn([Mt.min[0],Mt.min[1],Ct],[Mt.max[0],Mt.max[1],It])}Z.push({aabb:Mt,zoom:at,x:pt,y:bt,wrap:J.wrap,fullyVisible:Ee})}}return se.sort((J,_e)=>J.distanceSq-_e.distanceSq).map(J=>J.tileID)}resize(l,h){this.width=l,this.height=h,this.pixelsToGLUnits=[2/l,-2/h],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(l){return Math.pow(2,l)}scaleZoom(l){return Math.log(l)/Math.LN2}project(l){const h=c.clamp(l.lat,-this.maxValidLatitude,this.maxValidLatitude);return new c.pointGeometry(c.mercatorXfromLng(l.lng)*this.worldSize,c.mercatorYfromLat(h)*this.worldSize)}unproject(l){return new c.MercatorCoordinate(l.x/this.worldSize,l.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(l){this.freezeElevation||(this.elevation=l?this.getElevation(this._center,l):0)}getElevation(l,h){const f=c.MercatorCoordinate.fromLngLat(l),$=(1<<this.tileZoom)*c.EXTENT,x=f.x*$,T=f.y*$,P=Math.floor(x/c.EXTENT),w=Math.floor(T/c.EXTENT),L=new c.OverscaledTileID(this.tileZoom,0,this.tileZoom,P,w);return h.getElevation(L,x%c.EXTENT,T%c.EXTENT,c.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(l){const h=this.pointLocation(this.centerPoint,l),f=this.getElevation(h,l);if(!(this.elevation-f))return;const $=this.getCameraPosition(),x=c.MercatorCoordinate.fromLngLat($.lngLat,$.altitude),T=c.MercatorCoordinate.fromLngLat(h,f),P=x.x-T.x,w=x.y-T.y,L=x.z-T.z,z=Math.sqrt(P*P+w*w+L*L),B=this.scaleZoom(this.cameraToCenterDistance/z/this.tileSize);this._elevation=f,this._center=h,this.zoom=B}setLocationAtPoint(l,h){const f=this.pointCoordinate(h),$=this.pointCoordinate(this.centerPoint),x=this.locationCoordinate(l),T=new c.MercatorCoordinate(x.x-(f.x-$.x),x.y-(f.y-$.y));this.center=this.coordinateLocation(T),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(l,h){return h?this.coordinatePoint(this.locationCoordinate(l),this.getElevation(l,h),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(l))}pointLocation(l,h){return this.coordinateLocation(this.pointCoordinate(l,h))}locationCoordinate(l){return c.MercatorCoordinate.fromLngLat(l)}coordinateLocation(l){return l&&l.toLngLat()}pointCoordinate(l,h){if(h){const j=h.pointCoordinate(l);if(j!=null)return j}const f=[l.x,l.y,0,1],$=[l.x,l.y,1,1];c.transformMat4(f,f,this.pixelMatrixInverse),c.transformMat4($,$,this.pixelMatrixInverse);const x=f[3],T=$[3],P=f[1]/x,w=$[1]/T,L=f[2]/x,z=$[2]/T,B=L===z?0:(0-L)/(z-L);return new c.MercatorCoordinate(c.number(f[0]/x,$[0]/T,B)/this.worldSize,c.number(P,w,B)/this.worldSize)}coordinatePoint(l,h=0,f=this.pixelMatrix){const $=[l.x*this.worldSize,l.y*this.worldSize,h,1];return c.transformMat4($,$,f),new c.pointGeometry($[0]/$[3],$[1]/$[3])}getBounds(){const l=Math.max(0,this.height/2-this.getHorizon());return new c.LngLatBounds().extend(this.pointLocation(new c.pointGeometry(0,l))).extend(this.pointLocation(new c.pointGeometry(this.width,l))).extend(this.pointLocation(new c.pointGeometry(this.width,this.height))).extend(this.pointLocation(new c.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new c.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(l){l?(this.lngRange=[l.getWest(),l.getEast()],this.latRange=[l.getSouth(),l.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(l,h=!1){const f=l.key,$=h?this._alignedPosMatrixCache:this._posMatrixCache;if($[f])return $[f];const x=l.canonical,T=this.worldSize/this.zoomScale(x.z),P=x.x+Math.pow(2,x.z)*l.wrap,w=c.identity(new Float64Array(16));return c.translate(w,w,[P*T,x.y*T,0]),c.scale(w,w,[T/c.EXTENT,T/c.EXTENT,1]),c.multiply(w,h?this.alignedProjMatrix:this.projMatrix,w),$[f]=new Float32Array(w),$[f]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let l,h,f,$,x=-90,T=90,P=-180,w=180;const L=this.size,z=this._unmodified;if(this.latRange){const Q=this.latRange;x=c.mercatorYfromLat(Q[1])*this.worldSize,T=c.mercatorYfromLat(Q[0])*this.worldSize,l=T-x<L.y?L.y/(T-x):0}if(this.lngRange){const Q=this.lngRange;P=c.wrap(c.mercatorXfromLng(Q[0])*this.worldSize,0,this.worldSize),w=c.wrap(c.mercatorXfromLng(Q[1])*this.worldSize,0,this.worldSize),w<P&&(w+=this.worldSize),h=w-P<L.x?L.x/(w-P):0}const B=this.point,j=Math.max(h||0,l||0);if(j)return this.center=this.unproject(new c.pointGeometry(h?(w+P)/2:B.x,l?(T+x)/2:B.y)),this.zoom+=this.scaleZoom(j),this._unmodified=z,void(this._constraining=!1);if(this.latRange){const Q=B.y,Y=L.y/2;Q-Y<x&&($=x+Y),Q+Y>T&&($=T-Y)}if(this.lngRange){const Q=(P+w)/2,Y=c.wrap(B.x,Q-this.worldSize/2,Q+this.worldSize/2),Z=L.x/2;Y-Z<P&&(f=P+Z),Y+Z>w&&(f=w-Z)}f===void 0&&$===void 0||(this.center=this.unproject(new c.pointGeometry(f!==void 0?f:B.x,$!==void 0?$:B.y)).wrap()),this._unmodified=z,this._constraining=!1}_calcMatrices(){if(!this.height)return;const l=this.centerOffset,h=this.point.x,f=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=c.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let $=c.identity(new Float64Array(16));c.scale($,$,[this.width/2,-this.height/2,1]),c.translate($,$,[1,-1,0]),this.labelPlaneMatrix=$,$=c.identity(new Float64Array(16)),c.scale($,$,[1,-1,1]),c.translate($,$,[-1,-1,0]),c.scale($,$,[2/this.width,2/this.height,1]),this.glCoordMatrix=$,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const x=Math.PI/2+this._pitch,T=this._fov*(.5+l.y/this.height),P=Math.sin(T)*this.cameraToSeaLevelDistance/Math.sin(c.clamp(Math.PI-x-T,.01,Math.PI-.01)),w=this.getHorizon(),L=2*Math.atan(w/this.cameraToCenterDistance)*(.5+l.y/(2*w)),z=Math.sin(L)*this.cameraToSeaLevelDistance/Math.sin(c.clamp(Math.PI-x-L,.01,Math.PI-.01)),B=Math.cos(Math.PI/2-this._pitch)*P+this.cameraToSeaLevelDistance,j=Math.cos(Math.PI/2-this._pitch)*z+this.cameraToSeaLevelDistance,Q=1.01*Math.min(B,j),Y=this.height/50;$=new Float64Array(16),c.perspective($,this._fov,this.width/this.height,Y,Q),$[8]=2*-l.x/this.width,$[9]=2*l.y/this.height,c.scale($,$,[1,-1,1]),c.translate($,$,[0,0,-this.cameraToCenterDistance]),c.rotateX($,$,this._pitch),c.rotateZ($,$,this.angle),c.translate($,$,[-h,-f,0]),this.mercatorMatrix=c.scale([],$,[this.worldSize,this.worldSize,this.worldSize]),c.scale($,$,[1,1,this._pixelPerMeter]),this.pixelMatrix=c.multiply(new Float64Array(16),this.labelPlaneMatrix,$),c.translate($,$,[0,0,-this.elevation]),this.projMatrix=$,this.invProjMatrix=c.invert([],$),this.pixelMatrix3D=c.multiply(new Float64Array(16),this.labelPlaneMatrix,$);const Z=this.width%2/2,se=this.height%2/2,ue=Math.cos(this.angle),he=Math.sin(this.angle),J=h-Math.round(h)+ue*Z+he*se,_e=f-Math.round(f)+ue*se+he*Z,me=new Float64Array($);if(c.translate(me,me,[J>.5?J-1:J,_e>.5?_e-1:_e,0]),this.alignedProjMatrix=me,$=c.invert(new Float64Array(16),this.pixelMatrix),!$)throw new Error("failed to invert matrix");this.pixelMatrixInverse=$,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const l=this.pointCoordinate(new c.pointGeometry(0,0)),h=[l.x*this.worldSize,l.y*this.worldSize,0,1];return c.transformMat4(h,h,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const l=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new c.pointGeometry(0,l))}getCameraQueryGeometry(l){const h=this.getCameraPoint();if(l.length===1)return[l[0],h];{let f=h.x,$=h.y,x=h.x,T=h.y;for(const P of l)f=Math.min(f,P.x),$=Math.min($,P.y),x=Math.max(x,P.x),T=Math.max(T,P.y);return[new c.pointGeometry(f,$),new c.pointGeometry(x,$),new c.pointGeometry(x,T),new c.pointGeometry(f,T),new c.pointGeometry(f,$)]}}}class _s{constructor(l){this._hashName=l&&encodeURIComponent(l),c.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(h,f){let $=!1,x=null;const T=()=>{x=null,$&&(h(),x=setTimeout(T,300),$=!1)};return()=>($=!0,x||T(),x)}(this._updateHashUnthrottled.bind(this))}addTo(l){return this._map=l,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(l){const h=this._map.getCenter(),f=Math.round(100*this._map.getZoom())/100,$=Math.ceil((f*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,$),T=Math.round(h.lng*x)/x,P=Math.round(h.lat*x)/x,w=this._map.getBearing(),L=this._map.getPitch();let z="";if(z+=l?`/${T}/${P}/${f}`:`${f}/${P}/${T}`,(w||L)&&(z+="/"+Math.round(10*w)/10),L&&(z+=`/${Math.round(L)}`),this._hashName){const B=this._hashName;let j=!1;const Q=window.location.hash.slice(1).split("&").map(Y=>{const Z=Y.split("=")[0];return Z===B?(j=!0,`${Z}=${z}`):Y}).filter(Y=>Y);return j||Q.push(`${B}=${z}`),`#${Q.join("&")}`}return`#${z}`}_getCurrentHash(){const l=window.location.hash.replace("#","");if(this._hashName){let h;return l.split("&").map(f=>f.split("=")).forEach(f=>{f[0]===this._hashName&&(h=f)}),(h&&h[1]||"").split("/")}return l.split("/")}_onHashChange(){const l=this._getCurrentHash();if(l.length>=3&&!l.some(h=>isNaN(h))){const h=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(l[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+l[2],+l[1]],zoom:+l[0],bearing:h,pitch:+(l[4]||0)}),!0}return!1}_updateHashUnthrottled(){const l=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,l)}catch{}}}const Yo={linearity:.3,easing:c.bezier(0,0,.3,1)},ys=c.extend({deceleration:2500,maxSpeed:1400},Yo),$s=c.extend({deceleration:20,maxSpeed:1400},Yo),xo=c.extend({deceleration:1e3,maxSpeed:360},Yo),bs=c.extend({deceleration:1e3,maxSpeed:90},Yo);class vs{constructor(l){this._map=l,this.clear()}clear(){this._inertiaBuffer=[]}record(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:c.exported.now(),settings:l})}_drainInertiaBuffer(){const l=this._inertiaBuffer,h=c.exported.now();for(;l.length>0&&h-l[0].time>160;)l.shift()}_onMoveEnd(l){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const h={zoom:0,bearing:0,pitch:0,pan:new c.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)h.zoom+=x.zoomDelta||0,h.bearing+=x.bearingDelta||0,h.pitch+=x.pitchDelta||0,x.panDelta&&h.pan._add(x.panDelta),x.around&&(h.around=x.around),x.pinchAround&&(h.pinchAround=x.pinchAround);const f=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,$={};if(h.pan.mag()){const x=Zo(h.pan.mag(),f,c.extend({},ys,l||{}));$.offset=h.pan.mult(x.amount/h.pan.mag()),$.center=this._map.transform.center,Ko($,x)}if(h.zoom){const x=Zo(h.zoom,f,$s);$.zoom=this._map.transform.zoom+x.amount,Ko($,x)}if(h.bearing){const x=Zo(h.bearing,f,xo);$.bearing=this._map.transform.bearing+c.clamp(x.amount,-179,179),Ko($,x)}if(h.pitch){const x=Zo(h.pitch,f,bs);$.pitch=this._map.transform.pitch+x.amount,Ko($,x)}if($.zoom||$.bearing){const x=h.pinchAround===void 0?h.around:h.pinchAround;$.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),c.extend($,{noMoveStart:!0})}}function Ko(_,l){(!_.duration||_.duration<l.duration)&&(_.duration=l.duration,_.easing=l.easing)}function Zo(_,l,h){const{maxSpeed:f,linearity:$,deceleration:x}=h,T=c.clamp(_*$/(l/1e3),-f,f),P=Math.abs(T)/(x*$);return{easing:h.easing,duration:1e3*P,amount:T*(P/2)}}class Xi extends c.Event{constructor(l,h,f,$={}){const x=D.mousePos(h.getCanvasContainer(),f),T=h.unproject(x);super(l,c.extend({point:x,lngLat:T,originalEvent:f},$)),this._defaultPrevented=!1,this.target=h}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class Ei extends c.Event{constructor(l,h,f){const $=l==="touchend"?f.changedTouches:f.touches,x=D.touchPos(h.getCanvasContainer(),$),T=x.map(w=>h.unproject(w)),P=x.reduce((w,L,z,B)=>w.add(L.div(B.length)),new c.pointGeometry(0,0));super(l,{points:x,point:P,lngLats:T,lngLat:h.unproject(P),originalEvent:f}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class gl extends c.Event{constructor(l,h,f){super(l,{originalEvent:f}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class Un{constructor(l,h){this._map=l,this._clickTolerance=h.clickTolerance}reset(){delete this._mousedownPos}wheel(l){return this._firePreventable(new gl(l.type,this._map,l))}mousedown(l,h){return this._mousedownPos=h,this._firePreventable(new Xi(l.type,this._map,l))}mouseup(l){this._map.fire(new Xi(l.type,this._map,l))}click(l,h){this._mousedownPos&&this._mousedownPos.dist(h)>=this._clickTolerance||this._map.fire(new Xi(l.type,this._map,l))}dblclick(l){return this._firePreventable(new Xi(l.type,this._map,l))}mouseover(l){this._map.fire(new Xi(l.type,this._map,l))}mouseout(l){this._map.fire(new Xi(l.type,this._map,l))}touchstart(l){return this._firePreventable(new Ei(l.type,this._map,l))}touchmove(l){this._map.fire(new Ei(l.type,this._map,l))}touchend(l){this._map.fire(new Ei(l.type,this._map,l))}touchcancel(l){this._map.fire(new Ei(l.type,this._map,l))}_firePreventable(l){if(this._map.fire(l),l.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class xs{constructor(l){this._map=l}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(l){this._map.fire(new Xi(l.type,this._map,l))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Xi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(l){this._delayContextMenu?this._contextMenuEvent=l:this._ignoreContextMenu||this._map.fire(new Xi(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Yn{constructor(l,h){this._map=l,this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=h.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(l,h){this.isEnabled()&&l.shiftKey&&l.button===0&&(D.disableDrag(),this._startPos=this._lastPos=h,this._active=!0)}mousemoveWindow(l,h){if(!this._active)return;const f=h;if(this._lastPos.equals(f)||!this._box&&f.dist(this._startPos)<this._clickTolerance)return;const $=this._startPos;this._lastPos=f,this._box||(this._box=D.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",l));const x=Math.min($.x,f.x),T=Math.max($.x,f.x),P=Math.min($.y,f.y),w=Math.max($.y,f.y);D.setTransform(this._box,`translate(${x}px,${P}px)`),this._box.style.width=T-x+"px",this._box.style.height=w-P+"px"}mouseupWindow(l,h){if(!this._active||l.button!==0)return;const f=this._startPos,$=h;if(this.reset(),D.suppressClick(),f.x!==$.x||f.y!==$.y)return this._map.fire(new c.Event("boxzoomend",{originalEvent:l})),{cameraAnimation:x=>x.fitScreenCoordinates(f,$,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",l)}keydown(l){this._active&&l.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",l))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(D.remove(this._box),this._box=null),D.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(l,h){return this._map.fire(new c.Event(l,{originalEvent:h}))}}function Kn(_,l){if(_.length!==l.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points ${l.length}`);const h={};for(let f=0;f<_.length;f++)h[_[f].identifier]=l[f];return h}class dl{constructor(l){this.reset(),this.numTouches=l.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(l,h,f){(this.centroid||f.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=l.timeStamp),f.length===this.numTouches&&(this.centroid=function($){const x=new c.pointGeometry(0,0);for(const T of $)x._add(T);return x.div($.length)}(h),this.touches=Kn(f,h)))}touchmove(l,h,f){if(this.aborted||!this.centroid)return;const $=Kn(f,h);for(const x in this.touches){const T=this.touches[x],P=$[x];(!P||P.dist(T)>30)&&(this.aborted=!0)}}touchend(l,h,f){if((!this.centroid||l.timeStamp-this.startTime>500)&&(this.aborted=!0),f.length===0){const $=!this.aborted&&this.centroid;if(this.reset(),$)return $}}}class Sa{constructor(l){this.singleTap=new dl(l),this.numTaps=l.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(l,h,f){this.singleTap.touchstart(l,h,f)}touchmove(l,h,f){this.singleTap.touchmove(l,h,f)}touchend(l,h,f){const $=this.singleTap.touchend(l,h,f);if($){const x=l.timeStamp-this.lastTime<500,T=!this.lastTap||this.lastTap.dist($)<30;if(x&&T||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=$,this.count===this.numTaps)return this.reset(),$}}}class hl{constructor(){this._zoomIn=new Sa({numTouches:1,numTaps:2}),this._zoomOut=new Sa({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(l,h,f){this._zoomIn.touchstart(l,h,f),this._zoomOut.touchstart(l,h,f)}touchmove(l,h,f){this._zoomIn.touchmove(l,h,f),this._zoomOut.touchmove(l,h,f)}touchend(l,h,f){const $=this._zoomIn.touchend(l,h,f),x=this._zoomOut.touchend(l,h,f);return $?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:T.getZoom()+1,around:T.unproject($)},{originalEvent:l})}):x?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:T.getZoom()-1,around:T.unproject(x)},{originalEvent:l})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Es={0:1,2:2};class Zn{constructor(l){this.reset(),this._clickTolerance=l.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(l,h){return!1}_move(l,h){return{}}mousedown(l,h){if(this._lastPoint)return;const f=D.mouseButton(l);this._correctButton(l,f)&&(this._lastPoint=h,this._eventButton=f)}mousemoveWindow(l,h){const f=this._lastPoint;if(f){if(l.preventDefault(),function($,x){const T=Es[x];return $.buttons===void 0||($.buttons&T)!==T}(l,this._eventButton))this.reset();else if(this._moved||!(h.dist(f)<this._clickTolerance))return this._moved=!0,this._lastPoint=h,this._move(f,h)}}mouseupWindow(l){this._lastPoint&&D.mouseButton(l)===this._eventButton&&(this._moved&&D.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class jn extends Zn{mousedown(l,h){super.mousedown(l,h),this._lastPoint&&(this._active=!0)}_correctButton(l,h){return h===0&&!l.ctrlKey}_move(l,h){return{around:h,panDelta:h.sub(l)}}}class We extends Zn{_correctButton(l,h){return h===0&&l.ctrlKey||h===2}_move(l,h){const f=.8*(h.x-l.x);if(f)return this._active=!0,{bearingDelta:f}}contextmenu(l){l.preventDefault()}}class Ta extends Zn{_correctButton(l,h){return h===0&&l.ctrlKey||h===2}_move(l,h){const f=-.5*(h.y-l.y);if(f)return this._active=!0,{pitchDelta:f}}contextmenu(l){l.preventDefault()}}class Qo{constructor(l,h){this._minTouches=l.cooperativeGestures?2:1,this._clickTolerance=l.clickTolerance||1,this._map=h,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new c.pointGeometry(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(l,h,f){return this._calculateTransform(l,h,f)}touchmove(l,h,f){if(this._map._cooperativeGestures&&(this._minTouches===2&&f.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(l,!1,f.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(f.length<this._minTouches))return l.preventDefault(),this._calculateTransform(l,h,f)}touchend(l,h,f){this._calculateTransform(l,h,f),this._active&&f.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(l,h,f){f.length>0&&(this._active=!0);const $=Kn(f,h),x=new c.pointGeometry(0,0),T=new c.pointGeometry(0,0);let P=0;for(const L in $){const z=$[L],B=this._touches[L];B&&(x._add(z),T._add(z.sub(B)),P++,$[L]=z)}if(this._touches=$,P<this._minTouches||!T.mag())return;const w=T.div(P);return this._sum._add(w),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(P),panDelta:w}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Qn{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(l){}_move(l,h,f){return{}}touchstart(l,h,f){this._firstTwoTouches||f.length<2||(this._firstTwoTouches=[f[0].identifier,f[1].identifier],this._start([h[0],h[1]]))}touchmove(l,h,f){if(!this._firstTwoTouches)return;l.preventDefault();const[$,x]=this._firstTwoTouches,T=Jo(f,h,$),P=Jo(f,h,x);if(!T||!P)return;const w=this._aroundCenter?null:T.add(P).div(2);return this._move([T,P],w,l)}touchend(l,h,f){if(!this._firstTwoTouches)return;const[$,x]=this._firstTwoTouches,T=Jo(f,h,$),P=Jo(f,h,x);T&&P||(this._active&&D.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(l){this._enabled=!0,this._aroundCenter=!!l&&l.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Jo(_,l,h){for(let f=0;f<_.length;f++)if(_[f].identifier===h)return l[f]}function Be(_,l){return Math.log(_/l)/Math.LN2}class Aa extends Qn{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(l){this._startDistance=this._distance=l[0].dist(l[1])}_move(l,h){const f=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(Be(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Be(this._distance,f),pinchAround:h}}}function Ss(_,l){return 180*_.angleWith(l)/Math.PI}class ml extends Qn{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])}_move(l,h){const f=this._vector;if(this._vector=l[0].sub(l[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ss(this._vector,f),pinchAround:h}}_isBelowThreshold(l){this._minDiameter=Math.min(this._minDiameter,l.mag());const h=25/(Math.PI*this._minDiameter)*360,f=Ss(l,this._startVector);return Math.abs(f)<h}}function er(_){return Math.abs(_.y)>Math.abs(_.x)}class Ts extends Qn{constructor(l){super(),this._map=l}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(l,h,f){super.touchstart(l,h,f),this._currentTouchCount=f.length}_start(l){this._lastPoints=l,er(l[0].sub(l[1]))&&(this._valid=!1)}_move(l,h,f){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const $=l[0].sub(this._lastPoints[0]),x=l[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically($,x,f.timeStamp),this._valid?(this._lastPoints=l,this._active=!0,{pitchDelta:($.y+x.y)/2*-.5}):void 0}gestureBeginsVertically(l,h,f){if(this._valid!==void 0)return this._valid;const $=l.mag()>=2,x=h.mag()>=2;if(!$&&!x)return;if(!$||!x)return this._firstMove===void 0&&(this._firstMove=f),f-this._firstMove<100&&void 0;const T=l.y>0==h.y>0;return er(l)&&er(h)&&T}}const As={panStep:100,bearingStep:15,pitchStep:10};class fl{constructor(){const l=As;this._panStep=l.panStep,this._bearingStep=l.bearingStep,this._pitchStep=l.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(l){if(l.altKey||l.ctrlKey||l.metaKey)return;let h=0,f=0,$=0,x=0,T=0;switch(l.keyCode){case 61:case 107:case 171:case 187:h=1;break;case 189:case 109:case 173:h=-1;break;case 37:l.shiftKey?f=-1:(l.preventDefault(),x=-1);break;case 39:l.shiftKey?f=1:(l.preventDefault(),x=1);break;case 38:l.shiftKey?$=1:(l.preventDefault(),T=-1);break;case 40:l.shiftKey?$=-1:(l.preventDefault(),T=1);break;default:return}return this._rotationDisabled&&(f=0,$=0),{cameraAnimation:P=>{const w=P.getZoom();P.easeTo({duration:300,easeId:"keyboardHandler",easing:_l,zoom:h?Math.round(w)+h*(l.shiftKey?2:1):w,bearing:P.getBearing()+f*this._bearingStep,pitch:P.getPitch()+$*this._pitchStep,offset:[-x*this._panStep,-T*this._panStep],center:P.getCenter()},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function _l(_){return _*(2-_)}const Lr=4.000244140625;class Ca{constructor(l,h){this._map=l,this._el=l.getCanvasContainer(),this._handler=h,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,c.bindAll(["_onTimeout"],this)}setZoomRate(l){this._defaultZoomRate=l}setWheelZoomRate(l){this._wheelZoomRate=l}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=l&&l.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(l){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!this._map._metaPress)return;l.preventDefault()}let h=l.deltaMode===WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY;const f=c.exported.now(),$=f-(this._lastWheelEventTime||0);this._lastWheelEventTime=f,h!==0&&h%Lr==0?this._type="wheel":h!==0&&Math.abs(h)<4?this._type="trackpad":$>400?(this._type=null,this._lastValue=h,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs($*h)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,h+=this._lastValue)),l.shiftKey&&h&&(h/=4),this._type&&(this._lastWheelEvent=l,this._delta-=h,this._active||this._start(l)),l.preventDefault()}_onTimeout(l){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(l)}_start(l){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const h=D.mousePos(this._el,l);this._around=c.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(h)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const l=this._map.transform;if(this._delta!==0){const P=this._type==="wheel"&&Math.abs(this._delta)>Lr?this._wheelZoomRate:this._defaultZoomRate;let w=2/(1+Math.exp(-Math.abs(this._delta*P)));this._delta<0&&w!==0&&(w=1/w);const L=typeof this._targetZoom=="number"?l.zoomScale(this._targetZoom):l.scale;this._targetZoom=Math.min(l.maxZoom,Math.max(l.minZoom,l.scaleZoom(L*w))),this._type==="wheel"&&(this._startZoom=l.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const h=typeof this._targetZoom=="number"?this._targetZoom:l.zoom,f=this._startZoom,$=this._easing;let x,T=!1;if(this._type==="wheel"&&f&&$){const P=Math.min((c.exported.now()-this._lastWheelEventTime)/200,1),w=$(P);x=c.number(f,h,w),P<1?this._frameId||(this._frameId=!0):T=!0}else x=h,T=!0;return this._active=!0,T&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!T,zoomDelta:x-l.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(l){let h=c.ease;if(this._prevEase){const f=this._prevEase,$=(c.exported.now()-f.start)/f.duration,x=f.easing($+.01)-f.easing($),T=.27/Math.sqrt(x*x+1e-4)*.01,P=Math.sqrt(.0729-T*T);h=c.bezier(T,P,.25,1)}return this._prevEase={start:c.exported.now(),duration:l,easing:h},h}reset(){this._active=!1}}class Ia{constructor(l,h){this._clickZoom=l,this._tapZoom=h}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Pa{constructor(){this.reset()}reset(){this._active=!1}dblclick(l,h){return l.preventDefault(),{cameraAnimation:f=>{f.easeTo({duration:300,zoom:f.getZoom()+(l.shiftKey?-1:1),around:f.unproject(h)},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fi{constructor(){this._tap=new Sa({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(l,h,f){this._swipePoint||(this._tapTime&&l.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?f.length>0&&(this._swipePoint=h[0],this._swipeTouch=f[0].identifier):this._tap.touchstart(l,h,f))}touchmove(l,h,f){if(this._tapTime){if(this._swipePoint){if(f[0].identifier!==this._swipeTouch)return;const $=h[0],x=$.y-this._swipePoint.y;return this._swipePoint=$,l.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(l,h,f)}touchend(l,h,f){this._tapTime?this._swipePoint&&f.length===0&&this.reset():this._tap.touchend(l,h,f)&&(this._tapTime=l.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vn{constructor(l,h,f){this._el=l,this._mousePan=h,this._touchPan=f}enable(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Cs{constructor(l,h,f){this._pitchWithRotate=l.pitchWithRotate,this._mouseRotate=h,this._mousePitch=f}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class wa{constructor(l,h,f,$){this._el=l,this._touchZoom=h,this._touchRotate=f,this._tapDragZoom=$,this._rotationDisabled=!1,this._enabled=!0}enable(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Eo=_=>_.zoom||_.drag||_.pitch||_.rotate;class Oa extends c.Event{}function Mr(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class tn{constructor(l,h){this._map=l,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new vs(l),this._bearingSnap=h.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(h),c.bindAll(["handleEvent","handleWindowEvent"],this);const f=this._el;this._listeners=[[f,"touchstart",{passive:!0}],[f,"touchmove",{passive:!1}],[f,"touchend",void 0],[f,"touchcancel",void 0],[f,"mousedown",void 0],[f,"mousemove",void 0],[f,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[f,"mouseover",void 0],[f,"mouseout",void 0],[f,"dblclick",void 0],[f,"click",void 0],[f,"keydown",{capture:!1}],[f,"keyup",void 0],[f,"wheel",{passive:!1}],[f,"contextmenu",void 0],[window,"blur",void 0]];for(const[$,x,T]of this._listeners)D.addEventListener($,x,$===document?this.handleWindowEvent:this.handleEvent,T)}destroy(){for(const[l,h,f]of this._listeners)D.removeEventListener(l,h,l===document?this.handleWindowEvent:this.handleEvent,f)}_addDefaultHandlers(l){const h=this._map,f=h.getCanvasContainer();this._add("mapEvent",new Un(h,l));const $=h.boxZoom=new Yn(h,l);this._add("boxZoom",$);const x=new hl,T=new Pa;h.doubleClickZoom=new Ia(T,x),this._add("tapZoom",x),this._add("clickZoom",T);const P=new Fi;this._add("tapDragZoom",P);const w=h.touchPitch=new Ts(h);this._add("touchPitch",w);const L=new We(l),z=new Ta(l);h.dragRotate=new Cs(l,L,z),this._add("mouseRotate",L,["mousePitch"]),this._add("mousePitch",z,["mouseRotate"]);const B=new jn(l),j=new Qo(l,h);h.dragPan=new Vn(f,B,j),this._add("mousePan",B),this._add("touchPan",j,["touchZoom","touchRotate"]);const Q=new ml,Y=new Aa;h.touchZoomRotate=new wa(f,Y,Q,P),this._add("touchRotate",Q,["touchPan","touchZoom"]),this._add("touchZoom",Y,["touchPan","touchRotate"]);const Z=h.scrollZoom=new Ca(h,this);this._add("scrollZoom",Z,["mousePan"]);const se=h.keyboard=new fl;this._add("keyboard",se),this._add("blockableMapEvent",new xs(h));for(const ue of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])l.interactive&&l[ue]&&h[ue].enable(l[ue])}_add(l,h,f){this._handlers.push({handlerName:l,handler:h,allowed:f}),this._handlersById[l]=h}stop(l){if(!this._updatingCamera){for(const{handler:h}of this._handlers)h.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}}isActive(){for(const{handler:l}of this._handlers)if(l.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Eo(this._eventsInProgress)||this.isZooming()}_blockedByActive(l,h,f){for(const $ in l)if($!==f&&(!h||h.indexOf($)<0))return!0;return!1}handleWindowEvent(l){this.handleEvent(l,`${l.type}Window`)}_getMapTouches(l){const h=[];for(const f of l)this._el.contains(f.target)&&h.push(f);return h}handleEvent(l,h){if(l.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const f=l.type==="renderFrame"?void 0:l,$={needsRenderFrame:!1},x={},T={},P=l.touches,w=P?this._getMapTouches(P):void 0,L=w?D.touchPos(this._el,w):D.mousePos(this._el,l);for(const{handlerName:j,handler:Q,allowed:Y}of this._handlers){if(!Q.isEnabled())continue;let Z;this._blockedByActive(T,Y,j)?Q.reset():Q[h||l.type]&&(Z=Q[h||l.type](l,L,w),this.mergeHandlerResult($,x,Z,j,f),Z&&Z.needsRenderFrame&&this._triggerRenderFrame()),(Z||Q.isActive())&&(T[j]=Q)}const z={};for(const j in this._previousActiveHandlers)T[j]||(z[j]=f);this._previousActiveHandlers=T,(Object.keys(z).length||Mr($))&&(this._changes.push([$,x,z]),this._triggerRenderFrame()),(Object.keys(T).length||Mr($))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:B}=$;B&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],B(this._map))}mergeHandlerResult(l,h,f,$,x){if(!f)return;c.extend(l,f);const T={handlerName:$,originalEvent:f.originalEvent||x};f.zoomDelta!==void 0&&(h.zoom=T),f.panDelta!==void 0&&(h.drag=T),f.pitchDelta!==void 0&&(h.pitch=T),f.bearingDelta!==void 0&&(h.rotate=T)}_applyChanges(){const l={},h={},f={};for(const[$,x,T]of this._changes)$.panDelta&&(l.panDelta=(l.panDelta||new c.pointGeometry(0,0))._add($.panDelta)),$.zoomDelta&&(l.zoomDelta=(l.zoomDelta||0)+$.zoomDelta),$.bearingDelta&&(l.bearingDelta=(l.bearingDelta||0)+$.bearingDelta),$.pitchDelta&&(l.pitchDelta=(l.pitchDelta||0)+$.pitchDelta),$.around!==void 0&&(l.around=$.around),$.pinchAround!==void 0&&(l.pinchAround=$.pinchAround),$.noInertia&&(l.noInertia=$.noInertia),c.extend(h,x),c.extend(f,T);this._updateMapTransform(l,h,f),this._changes=[]}_updateMapTransform(l,h,f){const $=this._map,x=$.transform,T=$.style&&$.style.terrain;if(!(Mr(l)||T&&this._drag))return this._fireEvents(h,f,!0);let{panDelta:P,zoomDelta:w,bearingDelta:L,pitchDelta:z,around:B,pinchAround:j}=l;j!==void 0&&(B=j),$._stop(!0),B=B||$.transform.centerPoint;const Q=x.pointLocation(P?B.sub(P):B);L&&(x.bearing+=L),z&&(x.pitch+=z),w&&(x.zoom+=w),T?h.drag&&!this._drag?(this._drag={center:x.centerPoint,lngLat:x.pointLocation(B),point:B,handlerName:h.drag.handlerName},$.fire(new c.Event("freezeElevation",{freeze:!0}))):this._drag&&f[this._drag.handlerName]?($.fire(new c.Event("freezeElevation",{freeze:!1})),this._drag=null):h.drag&&this._drag&&(x.center=x.pointLocation(x.centerPoint.sub(P))):x.setLocationAtPoint(Q,B),this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(h,f,!0)}_fireEvents(l,h,f){const $=Eo(this._eventsInProgress),x=Eo(l),T={};for(const z in l){const{originalEvent:B}=l[z];this._eventsInProgress[z]||(T[`${z}start`]=B),this._eventsInProgress[z]=l[z]}!$&&x&&this._fireEvent("movestart",x.originalEvent);for(const z in T)this._fireEvent(z,T[z]);x&&this._fireEvent("move",x.originalEvent);for(const z in l){const{originalEvent:B}=l[z];this._fireEvent(z,B)}const P={};let w;for(const z in this._eventsInProgress){const{handlerName:B,originalEvent:j}=this._eventsInProgress[z];this._handlersById[B].isActive()||(delete this._eventsInProgress[z],w=h[B]||j,P[`${z}end`]=w)}for(const z in P)this._fireEvent(z,P[z]);const L=Eo(this._eventsInProgress);if(f&&($||x)&&!L){this._updatingCamera=!0;const z=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),B=j=>j!==0&&-this._bearingSnap<j&&j<this._bearingSnap;z?(B(z.bearing||this._map.getBearing())&&(z.bearing=0),this._map.easeTo(z,{originalEvent:w})):(this._map.fire(new c.Event("moveend",{originalEvent:w})),B(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(l,h){this._map.fire(new c.Event(l,h?{originalEvent:h}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(l=>{delete this._frameId,this.handleEvent(new Oa("renderFrame",{timeStamp:l})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Xt={extend:(_,...l)=>c.extend(_,...l),run(_){_()},logToElement(_,l=!1,h="log"){const f=window.document.getElementById(h);f&&(l&&(f.innerHTML=""),f.innerHTML+=`<br>${_}`)}};class Nr extends c.Evented{constructor(l,h){super(),this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=h.bearingSnap,c.bindAll(["_renderFrameCallback"],this)}getCenter(){return new c.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(l,h){return this.jumpTo({center:l},h)}panBy(l,h,f){return l=c.pointGeometry.convert(l).mult(-1),this.panTo(this.transform.center,c.extend({offset:l},h),f)}panTo(l,h,f){return this.easeTo(c.extend({center:l},h),f)}getZoom(){return this.transform.zoom}setZoom(l,h){return this.jumpTo({zoom:l},h),this}zoomTo(l,h,f){return this.easeTo(c.extend({zoom:l},h),f)}zoomIn(l,h){return this.zoomTo(this.getZoom()+1,l,h),this}zoomOut(l,h){return this.zoomTo(this.getZoom()-1,l,h),this}getBearing(){return this.transform.bearing}setBearing(l,h){return this.jumpTo({bearing:l},h),this}getPadding(){return this.transform.padding}setPadding(l,h){return this.jumpTo({padding:l},h),this}rotateTo(l,h,f){return this.easeTo(c.extend({bearing:l},h),f)}resetNorth(l,h){return this.rotateTo(0,c.extend({duration:1e3},l),h),this}resetNorthPitch(l,h){return this.easeTo(c.extend({bearing:0,pitch:0,duration:1e3},l),h),this}snapToNorth(l,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,h):this}getPitch(){return this.transform.pitch}setPitch(l,h){return this.jumpTo({pitch:l},h),this}cameraForBounds(l,h){l=c.LngLatBounds.convert(l);const f=h&&h.bearing||0;return this._cameraForBoxAndBearing(l.getNorthWest(),l.getSouthEast(),f,h)}_cameraForBoxAndBearing(l,h,f,$){const x={top:0,bottom:0,right:0,left:0};if(typeof($=c.extend({padding:x,offset:[0,0],maxZoom:this.transform.maxZoom},$)).padding=="number"){const me=$.padding;$.padding={top:me,bottom:me,right:me,left:me}}$.padding=c.extend(x,$.padding);const T=this.transform,P=T.padding,w=T.project(c.LngLat.convert(l)),L=T.project(c.LngLat.convert(h)),z=w.rotate(-f*Math.PI/180),B=L.rotate(-f*Math.PI/180),j=new c.pointGeometry(Math.max(z.x,B.x),Math.max(z.y,B.y)),Q=new c.pointGeometry(Math.min(z.x,B.x),Math.min(z.y,B.y)),Y=j.sub(Q),Z=(T.width-(P.left+P.right+$.padding.left+$.padding.right))/Y.x,se=(T.height-(P.top+P.bottom+$.padding.top+$.padding.bottom))/Y.y;if(se<0||Z<0)return void c.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const ue=Math.min(T.scaleZoom(T.scale*Math.min(Z,se)),$.maxZoom),he=c.pointGeometry.convert($.offset),J=new c.pointGeometry(($.padding.left-$.padding.right)/2,($.padding.top-$.padding.bottom)/2).rotate(f*Math.PI/180),_e=he.add(J).mult(T.scale/T.zoomScale(ue));return{center:T.unproject(w.add(L).div(2).sub(_e)),zoom:ue,bearing:f}}fitBounds(l,h,f){return this._fitInternal(this.cameraForBounds(l,h),h,f)}fitScreenCoordinates(l,h,f,$,x){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(c.pointGeometry.convert(l)),this.transform.pointLocation(c.pointGeometry.convert(h)),f,$),$,x)}_fitInternal(l,h,f){return l?(delete(h=c.extend(l,h)).padding,h.linear?this.easeTo(h,f):this.flyTo(h,f)):this}jumpTo(l,h){this.stop();const f=this.transform;let $=!1,x=!1,T=!1;return"zoom"in l&&f.zoom!==+l.zoom&&($=!0,f.zoom=+l.zoom),l.center!==void 0&&(f.center=c.LngLat.convert(l.center)),"bearing"in l&&f.bearing!==+l.bearing&&(x=!0,f.bearing=+l.bearing),"pitch"in l&&f.pitch!==+l.pitch&&(T=!0,f.pitch=+l.pitch),l.padding==null||f.isPaddingEqual(l.padding)||(f.padding=l.padding),this.fire(new c.Event("movestart",h)).fire(new c.Event("move",h)),$&&this.fire(new c.Event("zoomstart",h)).fire(new c.Event("zoom",h)).fire(new c.Event("zoomend",h)),x&&this.fire(new c.Event("rotatestart",h)).fire(new c.Event("rotate",h)).fire(new c.Event("rotateend",h)),T&&this.fire(new c.Event("pitchstart",h)).fire(new c.Event("pitch",h)).fire(new c.Event("pitchend",h)),this.fire(new c.Event("moveend",h))}calculateCameraOptionsFromTo(l,h,f,$=0){const x=c.MercatorCoordinate.fromLngLat(l,h),T=c.MercatorCoordinate.fromLngLat(f,$),P=T.x-x.x,w=T.y-x.y,L=T.z-x.z,z=Math.hypot(P,w,L);if(z===0)throw new Error("Can't calculate camera options with same From and To");const B=Math.hypot(P,w),j=this.transform.scaleZoom(this.transform.cameraToCenterDistance/z/this.transform.tileSize),Q=180*Math.atan2(P,-w)/Math.PI;let Y=180*Math.acos(B/z)/Math.PI;return Y=L<0?90-Y:90+Y,{center:T.toLngLat(),zoom:j,pitch:Y,bearing:Q}}easeTo(l,h){this._stop(!1,l.easeId),((l=c.extend({offset:[0,0],duration:500,easing:c.ease},l)).animate===!1||!l.essential&&c.exported.prefersReducedMotion)&&(l.duration=0);const f=this.transform,$=this.getZoom(),x=this.getBearing(),T=this.getPitch(),P=this.getPadding(),w="zoom"in l?+l.zoom:$,L="bearing"in l?this._normalizeBearing(l.bearing,x):x,z="pitch"in l?+l.pitch:T,B="padding"in l?l.padding:f.padding,j=c.pointGeometry.convert(l.offset);let Q=f.centerPoint.add(j);const Y=f.pointLocation(Q),Z=c.LngLat.convert(l.center||Y);this._normalizeCenter(Z);const se=f.project(Y),ue=f.project(Z).sub(se),he=f.zoomScale(w-$);let J,_e;l.around&&(J=c.LngLat.convert(l.around),_e=f.locationPoint(J));const me={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||w!==$,this._rotating=this._rotating||x!==L,this._pitching=this._pitching||z!==T,this._padding=!f.isPaddingEqual(B),this._easeId=l.easeId,this._prepareEase(h,l.noMoveStart,me),this._ease(Ee=>{if(this._zooming&&(f.zoom=c.number($,w,Ee)),this._rotating&&(f.bearing=c.number(x,L,Ee)),this._pitching&&(f.pitch=c.number(T,z,Ee)),this._padding&&(f.interpolatePadding(P,B,Ee),Q=f.centerPoint.add(j)),J)f.setLocationAtPoint(J,_e);else{const Se=f.zoomScale(f.zoom-$),Oe=w>$?Math.min(2,he):Math.max(.5,he),xe=Math.pow(Oe,1-Ee),qe=f.unproject(se.add(ue.mult(Ee*xe)).mult(Se));f.setLocationAtPoint(f.renderWorldCopies?qe.wrap():qe,Q)}this._fireMoveEvents(h)},Ee=>{this._afterEase(h,Ee)},l),this}_prepareEase(l,h,f={}){this._moving=!0,this.fire(new c.Event("freezeElevation",{freeze:!0})),h||f.moving||this.fire(new c.Event("movestart",l)),this._zooming&&!f.zooming&&this.fire(new c.Event("zoomstart",l)),this._rotating&&!f.rotating&&this.fire(new c.Event("rotatestart",l)),this._pitching&&!f.pitching&&this.fire(new c.Event("pitchstart",l))}_fireMoveEvents(l){this.fire(new c.Event("move",l)),this._zooming&&this.fire(new c.Event("zoom",l)),this._rotating&&this.fire(new c.Event("rotate",l)),this._pitching&&this.fire(new c.Event("pitch",l))}_afterEase(l,h){if(this._easeId&&h&&this._easeId===h)return;delete this._easeId,this.fire(new c.Event("freezeElevation",{freeze:!1}));const f=this._zooming,$=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,f&&this.fire(new c.Event("zoomend",l)),$&&this.fire(new c.Event("rotateend",l)),x&&this.fire(new c.Event("pitchend",l)),this.fire(new c.Event("moveend",l))}flyTo(l,h){if(!l.essential&&c.exported.prefersReducedMotion){const at=c.pick(l,["center","zoom","bearing","pitch","around"]);return this.jumpTo(at,h)}this.stop(),l=c.extend({offset:[0,0],speed:1.2,curve:1.42,easing:c.ease},l);const f=this.transform,$=this.getZoom(),x=this.getBearing(),T=this.getPitch(),P=this.getPadding(),w="zoom"in l?c.clamp(+l.zoom,f.minZoom,f.maxZoom):$,L="bearing"in l?this._normalizeBearing(l.bearing,x):x,z="pitch"in l?+l.pitch:T,B="padding"in l?l.padding:f.padding,j=f.zoomScale(w-$),Q=c.pointGeometry.convert(l.offset);let Y=f.centerPoint.add(Q);const Z=f.pointLocation(Y),se=c.LngLat.convert(l.center||Z);this._normalizeCenter(se);const ue=f.project(Z),he=f.project(se).sub(ue);let J=l.curve;const _e=Math.max(f.width,f.height),me=_e/j,Ee=he.mag();if("minZoom"in l){const at=c.clamp(Math.min(l.minZoom,$,w),f.minZoom,f.maxZoom),Mt=_e/f.zoomScale(at-$);J=Math.sqrt(Mt/Ee*2)}const Se=J*J;function Oe(at){const Mt=(me*me-_e*_e+(at?-1:1)*Se*Se*Ee*Ee)/(2*(at?me:_e)*Se*Ee);return Math.log(Math.sqrt(Mt*Mt+1)-Mt)}function xe(at){return(Math.exp(at)-Math.exp(-at))/2}function qe(at){return(Math.exp(at)+Math.exp(-at))/2}const Ne=Oe(0);let Xe=function(at){return qe(Ne)/qe(Ne+J*at)},pt=function(at){return _e*((qe(Ne)*(xe(Mt=Ne+J*at)/qe(Mt))-xe(Ne))/Se)/Ee;var Mt},bt=(Oe(1)-Ne)/J;if(Math.abs(Ee)<1e-6||!isFinite(bt)){if(Math.abs(_e-me)<1e-6)return this.easeTo(l,h);const at=me<_e?-1:1;bt=Math.abs(Math.log(me/_e))/J,pt=function(){return 0},Xe=function(Mt){return Math.exp(at*J*Mt)}}return l.duration="duration"in l?+l.duration:1e3*bt/("screenSpeed"in l?+l.screenSpeed/J:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0),this._zooming=!0,this._rotating=x!==L,this._pitching=z!==T,this._padding=!f.isPaddingEqual(B),this._prepareEase(h,!1),this._ease(at=>{const Mt=at*bt,Nt=1/Xe(Mt);f.zoom=at===1?w:$+f.scaleZoom(Nt),this._rotating&&(f.bearing=c.number(x,L,at)),this._pitching&&(f.pitch=c.number(T,z,at)),this._padding&&(f.interpolatePadding(P,B,at),Y=f.centerPoint.add(Q));const Tt=at===1?se:f.unproject(ue.add(he.mult(pt(Mt))).mult(Nt));f.setLocationAtPoint(f.renderWorldCopies?Tt.wrap():Tt,Y),this._fireMoveEvents(h)},()=>this._afterEase(h),l),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(l,h){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const f=this._onEaseEnd;delete this._onEaseEnd,f.call(this,h)}if(!l){const f=this.handlers;f&&f.stop(!1)}return this}_ease(l,h,f){f.animate===!1||f.duration===0?(l(1),h()):(this._easeStart=c.exported.now(),this._easeOptions=f,this._onEaseFrame=l,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const l=Math.min((c.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(l)),l<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(l,h){l=c.wrap(l,-180,180);const f=Math.abs(l-h);return Math.abs(l-360-h)<f&&(l-=360),Math.abs(l+360-h)<f&&(l+=360),l}_normalizeCenter(l){const h=this.transform;if(!h.renderWorldCopies||h.lngRange)return;const f=l.lng-h.center.lng;l.lng+=f>180?-360:f<-180?360:0}}class zr{constructor(l={}){this.options=l,c.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(l){return this._map=l,this._compact=this.options&&this.options.compact,this._container=D.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=D.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=D.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){D.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(l,h){const f=this._map._getUIString(`AttributionControl.${h}`);l.title=f,l.setAttribute("aria-label",f)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(l){!l||l.sourceDataType!=="metadata"&&l.sourceDataType!=="visibility"&&l.dataType!=="style"&&l.type!=="terrain"||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let l=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?l=l.concat(this.options.customAttribution.map($=>typeof $!="string"?"":$)):typeof this.options.customAttribution=="string"&&l.push(this.options.customAttribution)),this._map.style.stylesheet){const $=this._map.style.stylesheet;this.styleOwner=$.owner,this.styleId=$.id}const h=this._map.style.sourceCaches;for(const $ in h){const x=h[$];if(x.used||x.usedForTerrain){const T=x.getSource();T.attribution&&l.indexOf(T.attribution)<0&&l.push(T.attribution)}}l=l.filter($=>String($).trim()),l.sort(($,x)=>$.length-x.length),l=l.filter(($,x)=>{for(let T=x+1;T<l.length;T++)if(l[T].indexOf($)>=0)return!1;return!0});const f=l.join(" | ");f!==this._attribHTML&&(this._attribHTML=f,l.length?(this._innerContainer.innerHTML=f,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class Ra{constructor(l={}){this.options=l,c.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(l){this._map=l,this._compact=this.options&&this.options.compact,this._container=D.create("div","maplibregl-ctrl mapboxgl-ctrl");const h=D.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return h.target="_blank",h.rel="noopener nofollow",h.href="https://maplibre.org/",h.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),h.setAttribute("rel","noopener nofollow"),this._container.appendChild(h),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){D.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const l=this._container.children;if(l.length){const h=l[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&h.classList.add("maplibregl-compact","mapboxgl-compact"):h.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class Is{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(l){const h=++this._id;return this._queue.push({callback:l,id:h,cancelled:!1}),h}remove(l){const h=this._currentlyRunning,f=h?this._queue.concat(h):this._queue;for(const $ of f)if($.id===l)return void($.cancelled=!0)}run(l=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const h=this._currentlyRunning=this._queue;this._queue=[];for(const f of h)if(!f.cancelled&&(f.callback(l),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Ps={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"},yl={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},En={showCompass:!0,showZoom:!0,visualizePitch:!1};class Fr{constructor(l,h,f=!1){this._clickTolerance=10,this.element=h,this.mouseRotate=new We({clickTolerance:l.dragRotate._mouseRotate._clickTolerance}),this.map=l,f&&(this.mousePitch=new Ta({clickTolerance:l.dragRotate._mousePitch._clickTolerance})),c.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),D.addEventListener(h,"mousedown",this.mousedown),D.addEventListener(h,"touchstart",this.touchstart,{passive:!1}),D.addEventListener(h,"touchmove",this.touchmove),D.addEventListener(h,"touchend",this.touchend),D.addEventListener(h,"touchcancel",this.reset)}down(l,h){this.mouseRotate.mousedown(l,h),this.mousePitch&&this.mousePitch.mousedown(l,h),D.disableDrag()}move(l,h){const f=this.map,$=this.mouseRotate.mousemoveWindow(l,h);if($&&$.bearingDelta&&f.setBearing(f.getBearing()+$.bearingDelta),this.mousePitch){const x=this.mousePitch.mousemoveWindow(l,h);x&&x.pitchDelta&&f.setPitch(f.getPitch()+x.pitchDelta)}}off(){const l=this.element;D.removeEventListener(l,"mousedown",this.mousedown),D.removeEventListener(l,"touchstart",this.touchstart,{passive:!1}),D.removeEventListener(l,"touchmove",this.touchmove),D.removeEventListener(l,"touchend",this.touchend),D.removeEventListener(l,"touchcancel",this.reset),this.offTemp()}offTemp(){D.enableDrag(),D.removeEventListener(window,"mousemove",this.mousemove),D.removeEventListener(window,"mouseup",this.mouseup)}mousedown(l){this.down(c.extend({},l,{ctrlKey:!0,preventDefault:()=>l.preventDefault()}),D.mousePos(this.element,l)),D.addEventListener(window,"mousemove",this.mousemove),D.addEventListener(window,"mouseup",this.mouseup)}mousemove(l){this.move(l,D.mousePos(this.element,l))}mouseup(l){this.mouseRotate.mouseupWindow(l),this.mousePitch&&this.mousePitch.mouseupWindow(l),this.offTemp()}touchstart(l){l.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=D.touchPos(this.element,l.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>l.preventDefault()},this._startPos))}touchmove(l){l.targetTouches.length!==1?this.reset():(this._lastPos=D.touchPos(this.element,l.targetTouches)[0],this.move({preventDefault:()=>l.preventDefault()},this._lastPos))}touchend(l){l.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function tt(_,l,h){if(_=new c.LngLat(_.lng,_.lat),l){const f=new c.LngLat(_.lng-360,_.lat),$=new c.LngLat(_.lng+360,_.lat),x=h.locationPoint(_).distSqr(l);h.locationPoint(f).distSqr(l)<x?_=f:h.locationPoint($).distSqr(l)<x&&(_=$)}for(;Math.abs(_.lng-h.center.lng)>180;){const f=h.locationPoint(_);if(f.x>=0&&f.y>=0&&f.x<=h.width&&f.y<=h.height)break;_.lng>h.center.lng?_.lng-=360:_.lng+=360}return _}const st={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function tr(_,l,h){const f=_.classList;for(const $ in st)f.remove(`maplibregl-${h}-anchor-${$}`,`mapboxgl-${h}-anchor-${$}`);f.add(`maplibregl-${h}-anchor-${l}`,`mapboxgl-${h}-anchor-${l}`)}class ir extends c.Evented{constructor(l,h){if(super(),(l instanceof HTMLElement||h)&&(l=c.extend({element:l},h)),c.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment!=="auto"?l.pitchAlignment:this._rotationAlignment,l&&l.element)this._element=l.element,this._offset=c.pointGeometry.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=D.create("div"),this._element.setAttribute("aria-label","Map marker");const f=D.createNS("http://www.w3.org/2000/svg","svg"),$=41,x=27;f.setAttributeNS(null,"display","block"),f.setAttributeNS(null,"height",`${$}px`),f.setAttributeNS(null,"width",`${x}px`),f.setAttributeNS(null,"viewBox",`0 0 ${x} ${$}`);const T=D.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"stroke","none"),T.setAttributeNS(null,"stroke-width","1"),T.setAttributeNS(null,"fill","none"),T.setAttributeNS(null,"fill-rule","evenodd");const P=D.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"fill-rule","nonzero");const w=D.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"transform","translate(3.0, 29.0)"),w.setAttributeNS(null,"fill","#000000");const L=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const he of L){const J=D.createNS("http://www.w3.org/2000/svg","ellipse");J.setAttributeNS(null,"opacity","0.04"),J.setAttributeNS(null,"cx","10.5"),J.setAttributeNS(null,"cy","5.80029008"),J.setAttributeNS(null,"rx",he.rx),J.setAttributeNS(null,"ry",he.ry),w.appendChild(J)}const z=D.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"fill",this._color);const B=D.createNS("http://www.w3.org/2000/svg","path");B.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),z.appendChild(B);const j=D.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"opacity","0.25"),j.setAttributeNS(null,"fill","#000000");const Q=D.createNS("http://www.w3.org/2000/svg","path");Q.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),j.appendChild(Q);const Y=D.createNS("http://www.w3.org/2000/svg","g");Y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Y.setAttributeNS(null,"fill","#FFFFFF");const Z=D.createNS("http://www.w3.org/2000/svg","g");Z.setAttributeNS(null,"transform","translate(8.0, 8.0)");const se=D.createNS("http://www.w3.org/2000/svg","circle");se.setAttributeNS(null,"fill","#000000"),se.setAttributeNS(null,"opacity","0.25"),se.setAttributeNS(null,"cx","5.5"),se.setAttributeNS(null,"cy","5.5"),se.setAttributeNS(null,"r","5.4999962");const ue=D.createNS("http://www.w3.org/2000/svg","circle");ue.setAttributeNS(null,"fill","#FFFFFF"),ue.setAttributeNS(null,"cx","5.5"),ue.setAttributeNS(null,"cy","5.5"),ue.setAttributeNS(null,"r","5.4999962"),Z.appendChild(se),Z.appendChild(ue),P.appendChild(w),P.appendChild(z),P.appendChild(j),P.appendChild(Y),P.appendChild(Z),f.appendChild(P),f.setAttributeNS(null,"height",$*this._scale+"px"),f.setAttributeNS(null,"width",x*this._scale+"px"),this._element.appendChild(f),this._offset=c.pointGeometry.convert(l&&l.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",f=>{f.preventDefault()}),this._element.addEventListener("mousedown",f=>{f.preventDefault()}),tr(this._element,this._anchor,"marker"),this._popup=null}addTo(l){return this.remove(),this._map=l,l.getCanvasContainer().appendChild(this._element),l.on("move",this._update),l.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),D.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=c.LngLat.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){const $=Math.sqrt(Math.pow(13.5,2)/2);l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[$,-1*(38.1-13.5+$)],"bottom-right":[-$,-1*(38.1-13.5+$)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=l,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(l){const h=l.code,f=l.charCode||l.keyCode;h!=="Space"&&h!=="Enter"&&f!==32&&f!==13||this.togglePopup()}_onMapClick(l){const h=l.originalEvent.target,f=this._element;this._popup&&(h===f||f.contains(h))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const l=this._popup;return l?(l.isOpen()?l.remove():l.addTo(this._map),this):this}_update(l){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=tt(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let h="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?h=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(h=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let f="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?f="rotateX(0deg)":this._pitchAlignment==="map"&&(f=`rotateX(${this._map.getPitch()}deg)`),l&&l.type!=="moveend"||(this._pos=this._pos.round()),D.setTransform(this._element,`${st[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${f} ${h}`),this._map.style&&this._map.style.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const $=this._map.unproject(this._pos),x=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=$.distanceTo(this._lngLat)>20*x?"0.2":"1.0",this._opacityTimeout=null},100))}getOffset(){return this._offset}setOffset(l){return this._offset=c.pointGeometry.convert(l),this._update(),this}_onMove(l){if(!this._isDragging){const h=this._clickTolerance||this._map._clickTolerance;this._isDragging=l.point.dist(this._pointerdownPos)>=h}this._isDragging&&(this._pos=l.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new c.Event("dragstart"))),this.fire(new c.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new c.Event("dragend")),this._state="inactive"}_addDragHandler(l){this._element.contains(l.originalEvent.target)&&(l.preventDefault(),this._positionDelta=l.point.sub(this._pos).add(this._offset),this._pointerdownPos=l.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(l){return this._draggable=!!l,this._map&&(l?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(l){return this._rotation=l||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(l){return this._rotationAlignment=l||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(l){return this._pitchAlignment=l&&l!=="auto"?l:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Da={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let di,Jn=0,ki=!1;const $l={maxWidth:100,unit:"metric"};function nr(_,l,h){const f=h&&h.maxWidth||100,$=_._container.clientHeight/2,x=_.unproject([0,$]),T=_.unproject([f,$]),P=x.distanceTo(T);if(h&&h.unit==="imperial"){const w=3.2808*P;w>5280?Gt(l,f,w/5280,_._getUIString("ScaleControl.Miles")):Gt(l,f,w,_._getUIString("ScaleControl.Feet"))}else h&&h.unit==="nautical"?Gt(l,f,P/1852,_._getUIString("ScaleControl.NauticalMiles")):P>=1e3?Gt(l,f,P/1e3,_._getUIString("ScaleControl.Kilometers")):Gt(l,f,P,_._getUIString("ScaleControl.Meters"))}function Gt(_,l,h,f){const $=function(x){const T=Math.pow(10,`${Math.floor(x)}`.length-1);let P=x/T;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:P>=1?1:function(w){const L=Math.pow(10,Math.ceil(-Math.log(w)/Math.LN10));return Math.round(w*L)/L}(P),T*P}(h);_.style.width=l*($/h)+"px",_.innerHTML=`${$}&nbsp;${f}`}const li={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},ws=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function So(_){if(_){if(typeof _=="number"){const l=Math.round(Math.sqrt(.5*Math.pow(_,2)));return{center:new c.pointGeometry(0,0),top:new c.pointGeometry(0,_),"top-left":new c.pointGeometry(l,l),"top-right":new c.pointGeometry(-l,l),bottom:new c.pointGeometry(0,-_),"bottom-left":new c.pointGeometry(l,-l),"bottom-right":new c.pointGeometry(-l,-l),left:new c.pointGeometry(_,0),right:new c.pointGeometry(-_,0)}}if(_ instanceof c.pointGeometry||Array.isArray(_)){const l=c.pointGeometry.convert(_);return{center:l,top:l,"top-left":l,"top-right":l,bottom:l,"bottom-left":l,"bottom-right":l,left:l,right:l}}return{center:c.pointGeometry.convert(_.center||[0,0]),top:c.pointGeometry.convert(_.top||[0,0]),"top-left":c.pointGeometry.convert(_["top-left"]||[0,0]),"top-right":c.pointGeometry.convert(_["top-right"]||[0,0]),bottom:c.pointGeometry.convert(_.bottom||[0,0]),"bottom-left":c.pointGeometry.convert(_["bottom-left"]||[0,0]),"bottom-right":c.pointGeometry.convert(_["bottom-right"]||[0,0]),left:c.pointGeometry.convert(_.left||[0,0]),right:c.pointGeometry.convert(_.right||[0,0])}}return So(new c.pointGeometry(0,0))}const or={supported:b,setRTLTextPlugin:c.setRTLTextPlugin,getRTLTextPluginStatus:c.getRTLTextPluginStatus,Map:class extends Nr{constructor(_){var l;if(c.PerformanceUtils.mark(c.PerformanceMarkers.create),(_=c.extend({},yl,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Dr(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),{bearingSnap:_.bearingSnap}),this._interactive=_.interactive,this._cooperativeGestures=_.cooperativeGestures,this._maxTileCacheSize=_.maxTileCacheSize,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=_.collectResourceTiming,this._renderTaskQueue=new Is,this._controls=[],this._mapId=c.uniqueId(),this._locale=c.extend({},Ps,_.locale),this._clickTolerance=_.clickTolerance,this._pixelRatio=(l=_.pixelRatio)!==null&&l!==void 0?l:devicePixelRatio,this._requestManager=new H(_.transformRequest),typeof _.container=="string"){if(this._container=document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),c.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),typeof window<"u"&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new tn(this,_),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=_.hash&&new _s(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,c.extend({},_.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=_.localIdeographFontFamily,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new zr({customAttribution:_.customAttribution})),_.maplibreLogo&&this.addControl(new Ra,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",h=>{this._update(h.dataType==="style"),this.fire(new c.Event(`${h.dataType}data`,h))}),this.on("dataloading",h=>{this.fire(new c.Event(`${h.dataType}dataloading`,h))}),this.on("dataabort",h=>{this.fire(new c.Event("sourcedataabort",h))})}_getMapId(){return this._mapId}addControl(_,l){if(l===void 0&&(l=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new c.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const h=_.onAdd(this);this._controls.push(_);const f=this._controlPositions[l];return l.indexOf("bottom")!==-1?f.insertBefore(h,f.firstChild):f.appendChild(h),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new c.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const l=this._controls.indexOf(_);return l>-1&&this._controls.splice(l,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}calculateCameraOptionsFromTo(_,l,h,f){return f==null&&this.style.terrain&&(f=this.transform.getElevation(h,this.style.terrain)),super.calculateCameraOptionsFromTo(_,l,h,f)}resize(_){const l=this._containerDimensions(),h=l[0],f=l[1];this._resizeCanvas(h,f,this.getPixelRatio()),this.transform.resize(h,f),this.painter.resize(h,f,this.getPixelRatio());const $=!this._moving;return $&&(this.stop(),this.fire(new c.Event("movestart",_)).fire(new c.Event("move",_))),this.fire(new c.Event("resize",_)),$&&this.fire(new c.Event("moveend",_)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(_){const[l,h]=this._containerDimensions();this._pixelRatio=_,this._resizeCanvas(l,h,_),this.painter.resize(l,h,_)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(c.LngLatBounds.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this._update()}project(_){return this.transform.locationPoint(c.LngLat.convert(_),this.style&&this.style.terrain)}unproject(_){return this.transform.pointLocation(c.pointGeometry.convert(_),this.style&&this.style.terrain)}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(_,l,h){if(_==="mouseenter"||_==="mouseover"){let f=!1;return{layer:l,listener:h,delegates:{mousemove:x=>{const T=this.getLayer(l)?this.queryRenderedFeatures(x.point,{layers:[l]}):[];T.length?f||(f=!0,h.call(this,new Xi(_,this,x.originalEvent,{features:T}))):f=!1},mouseout:()=>{f=!1}}}}if(_==="mouseleave"||_==="mouseout"){let f=!1;return{layer:l,listener:h,delegates:{mousemove:T=>{(this.getLayer(l)?this.queryRenderedFeatures(T.point,{layers:[l]}):[]).length?f=!0:f&&(f=!1,h.call(this,new Xi(_,this,T.originalEvent)))},mouseout:T=>{f&&(f=!1,h.call(this,new Xi(_,this,T.originalEvent)))}}}}{const f=$=>{const x=this.getLayer(l)?this.queryRenderedFeatures($.point,{layers:[l]}):[];x.length&&($.features=x,h.call(this,$),delete $.features)};return{layer:l,listener:h,delegates:{[_]:f}}}}on(_,l,h){if(h===void 0)return super.on(_,l);const f=this._createDelegatedListener(_,l,h);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(f);for(const $ in f.delegates)this.on($,f.delegates[$]);return this}once(_,l,h){if(h===void 0)return super.once(_,l);const f=this._createDelegatedListener(_,l,h);for(const $ in f.delegates)this.once($,f.delegates[$]);return this}off(_,l,h){return h===void 0?super.off(_,l):(this._delegatedListeners&&this._delegatedListeners[_]&&(f=>{const $=this._delegatedListeners[_];for(let x=0;x<$.length;x++){const T=$[x];if(T.layer===l&&T.listener===h){for(const P in T.delegates)this.off(P,T.delegates[P]);return $.splice(x,1),this}}})(),this)}queryRenderedFeatures(_,l){if(!this.style)return[];let h;if(l!==void 0||_===void 0||_ instanceof c.pointGeometry||Array.isArray(_)||(l=_,_=void 0),l=l||{},(_=_||[[0,0],[this.transform.width,this.transform.height]])instanceof c.pointGeometry||typeof _[0]=="number")h=[c.pointGeometry.convert(_)];else{const f=c.pointGeometry.convert(_[0]),$=c.pointGeometry.convert(_[1]);h=[f,new c.pointGeometry($.x,f.y),$,new c.pointGeometry(f.x,$.y),f]}return this.style.queryRenderedFeatures(h,l,this.transform)}querySourceFeatures(_,l){return this.style.querySourceFeatures(_,l)}setStyle(_,l){return(l=c.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},l)).diff!==!1&&l.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,l),this):(this._localIdeographFontFamily=l.localIdeographFontFamily,this._updateStyle(_,l))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){const l=this._locale[_];if(l==null)throw new Error(`Missing UI string '${_}'`);return l}_updateStyle(_,l){return this.style&&(this.style.setEventedParent(null),this.style._remove()),_?(this.style=new $i(this,l||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_):this.style.loadJSON(_),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new $i(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,l){if(typeof _=="string"){const h=this._requestManager.transformRequest(_,c.ResourceType.Style);c.getJSON(h,(f,$)=>{f?this.fire(new c.ErrorEvent(f)):$&&this._updateDiff($,l)})}else typeof _=="object"&&this._updateDiff(_,l)}_updateDiff(_,l){try{this.style.setState(_)&&this._update(!0)}catch(h){c.warnOnce(`Unable to perform style diff: ${h.message||h.error||h}.  Rebuilding the style from scratch.`),this._updateStyle(_,l)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():c.warnOnce("There is no style added to the map.")}addSource(_,l){return this._lazyInitEmptyStyle(),this.style.addSource(_,l),this._update(!0)}isSourceLoaded(_){const l=this.style&&this.style.sourceCaches[_];if(l!==void 0)return l.loaded();this.fire(new c.ErrorEvent(new Error(`There is no source with ID '${_}'`)))}setTerrain(_){return this.style.setTerrain(_),this}getTerrain(){return this.style.terrain&&this.style.terrain.options}areTilesLoaded(){const _=this.style&&this.style.sourceCaches;for(const l in _){const h=_[l]._tiles;for(const f in h){const $=h[f];if($.state!=="loaded"&&$.state!=="errored")return!1}}return!0}addSourceType(_,l,h){return this._lazyInitEmptyStyle(),this.style.addSourceType(_,l,h)}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,l,{pixelRatio:h=1,sdf:f=!1,stretchX:$,stretchY:x,content:T}={}){if(this._lazyInitEmptyStyle(),l instanceof HTMLImageElement||c.isImageBitmap(l)){const{width:P,height:w,data:L}=c.exported.getImageData(l);this.style.addImage(_,{data:new c.RGBAImage({width:P,height:w},L),pixelRatio:h,stretchX:$,stretchY:x,content:T,sdf:f,version:0})}else{if(l.width===void 0||l.height===void 0)return this.fire(new c.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:P,height:w,data:L}=l,z=l;this.style.addImage(_,{data:new c.RGBAImage({width:P,height:w},new Uint8Array(L)),pixelRatio:h,stretchX:$,stretchY:x,content:T,sdf:f,version:0,userImage:z}),z.onAdd&&z.onAdd(this,_)}}}updateImage(_,l){const h=this.style.getImage(_);if(!h)return this.fire(new c.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const f=l instanceof HTMLImageElement||c.isImageBitmap(l)?c.exported.getImageData(l):l,{width:$,height:x,data:T}=f;if($===void 0||x===void 0)return this.fire(new c.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if($!==h.data.width||x!==h.data.height)return this.fire(new c.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const P=!(l instanceof HTMLImageElement||c.isImageBitmap(l));h.data.replace(T,P),this.style.updateImage(_,h)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new c.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_,l){c.getImage(this._requestManager.transformRequest(_,c.ResourceType.Image),l)}listImages(){return this.style.listImages()}addLayer(_,l){return this._lazyInitEmptyStyle(),this.style.addLayer(_,l),this._update(!0)}moveLayer(_,l){return this.style.moveLayer(_,l),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}setLayerZoomRange(_,l,h){return this.style.setLayerZoomRange(_,l,h),this._update(!0)}setFilter(_,l,h={}){return this.style.setFilter(_,l,h),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,l,h,f={}){return this.style.setPaintProperty(_,l,h,f),this._update(!0)}getPaintProperty(_,l){return this.style.getPaintProperty(_,l)}setLayoutProperty(_,l,h,f={}){return this.style.setLayoutProperty(_,l,h,f),this._update(!0)}getLayoutProperty(_,l){return this.style.getLayoutProperty(_,l)}setLight(_,l={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,l),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(_,l){return this.style.setFeatureState(_,l),this._update()}removeFeatureState(_,l){return this.style.removeFeatureState(_,l),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,l=0;return this._container&&(_=this._container.clientWidth||400,l=this._container.clientHeight||300),[_,l]}_setupContainer(){const _=this._container;_.classList.add("maplibregl-map","mapboxgl-map");const l=this._canvasContainer=D.create("div","maplibregl-canvas-container mapboxgl-canvas-container",_);this._interactive&&l.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=D.create("canvas","maplibregl-canvas mapboxgl-canvas",l),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const h=this._containerDimensions();this._resizeCanvas(h[0],h[1],this.getPixelRatio());const f=this._controlContainer=D.create("div","maplibregl-control-container mapboxgl-control-container",_),$=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(x=>{$[x]=D.create("div",`maplibregl-ctrl-${x} mapboxgl-ctrl-${x}`,f)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){const _=this._container;this._metaPress=!1,this._cooperativeGesturesScreen=D.create("div","maplibregl-cooperative-gesture-screen",_);let l="Control",h=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(h=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map",l="Meta"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${h}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,document.addEventListener("keydown",f=>{f.key===l&&(this._metaPress=!0)}),document.addEventListener("keyup",f=>{f.key===l&&(this._metaPress=!1)}),this._canvasContainer.addEventListener("wheel",f=>{this._onCooperativeGesture(f,this._metaPress,1)},!1),this._canvasContainer.classList.remove("mapboxgl-touch-drag-pan","maplibregl-touch-drag-pan")}_resizeCanvas(_,l,h){this._canvas.width=h*_,this._canvas.height=h*l,this._canvas.style.width=`${_}px`,this._canvas.style.height=`${l}px`}_setupPainter(){const _=c.extend({},b.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),l=this._canvas.getContext("webgl",_)||this._canvas.getContext("experimental-webgl",_);l?(this.painter=new fs(l,this.transform),c.exported$1.testSupport(l)):this.fire(new c.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(_){_.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new c.Event("webglcontextlost",{originalEvent:_}))}_contextRestored(_){this._setupPainter(),this.resize(),this._update(),this.fire(new c.Event("webglcontextrestored",{originalEvent:_}))}_onMapScroll(_){if(_.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(_,l,h){return!l&&h<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){let l,h=0;const f=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(l=f.createQueryEXT(),f.beginQueryEXT(f.TIME_ELAPSED_EXT,l),h=c.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),this._removed)return;let $=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const T=this.transform.zoom,P=c.exported.now();this.style.zoomHistory.update(T,P);const w=new c.EvaluationParameters(T,{now:P,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),L=w.crossFadingFactor();L===1&&L===this._crossFadingFactor||($=!0,this._crossFadingFactor=L),this.style.update(w)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.style.terrain&&this.style.terrain.sourceCache.update(this.transform,this.style.terrain),this.transform.updateElevation(this.style.terrain),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new c.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,c.PerformanceUtils.mark(c.PerformanceMarkers.load),this.fire(new c.Event("load"))),this.style&&(this.style.hasTransitions()||$)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const T=c.exported.now()-h;f.endQueryEXT(f.TIME_ELAPSED_EXT,l),setTimeout(()=>{const P=f.getQueryObjectEXT(l,f.QUERY_RESULT_EXT)/1e6;f.deleteQueryEXT(l),this.fire(new c.Event("gpu-timing-frame",{cpuTime:T,gpuTime:P}))},50)}if(this.listens("gpu-timing-layer")){const T=this.painter.collectGpuTimers();setTimeout(()=>{const P=this.painter.queryGpuTimers(T);this.fire(new c.Event("gpu-timing-layer",{layerTimes:P}))},50)}const x=this._sourcesDirty||this._styleDirty||this._placementDirty;return x||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new c.Event("idle")),!this._loaded||this._fullyLoaded||x||(this._fullyLoaded=!0,c.PerformanceUtils.mark(c.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const l of this._controls)l.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const _=this.painter.context.gl.getExtension("WEBGL_lose_context");_&&_.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),D.remove(this._canvasContainer),D.remove(this._controlContainer),this._cooperativeGestures&&D.remove(this._cooperativeGesturesScreen),this._container.classList.remove("maplibregl-map","mapboxgl-map"),c.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new c.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=c.exported.frame(_=>{c.PerformanceUtils.frame(_),this._frame=null,this._render(_)}))}_onWindowOnline(){this._update()}_onWindowResize(_){this._trackResize&&this.resize({originalEvent:_})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}_setCacheLimits(_,l){c.setCacheLimits(_,l)}get version(){return"2.4.0"}},NavigationControl:class{constructor(_){this.options=c.extend({},En,_),this._container=D.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",l=>l.preventDefault()),this.options.showZoom&&(c.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",l=>this._map.zoomIn({},{originalEvent:l})),D.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",l=>this._map.zoomOut({},{originalEvent:l})),D.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(c.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",l=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:l}):this._map.resetNorth({},{originalEvent:l})}),this._compassIcon=D.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const _=this._map.getZoom(),l=_===this._map.getMaxZoom(),h=_===this._map.getMinZoom();this._zoomInButton.disabled=l,this._zoomOutButton.disabled=h,this._zoomInButton.setAttribute("aria-disabled",l.toString()),this._zoomOutButton.setAttribute("aria-disabled",h.toString())}_rotateCompassArrow(){const _=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=_}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Fr(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){D.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,l){const h=D.create("button",_,this._container);return h.type="button",h.addEventListener("click",l),h}_setButtonTitle(_,l){const h=this._map._getUIString(`NavigationControl.${l}`);_.title=h,_.setAttribute("aria-label",h)}},GeolocateControl:class extends c.Evented{constructor(_){super(),this.options=c.extend({},Da,_),c.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(_){var l;return this._map=_,this._container=D.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),l=this._setupUI,di!==void 0?l(di):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(h=>{di=h.state!=="denied",l(di)}):(di=!!window.navigator.geolocation,l(di)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),D.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Jn=0,ki=!1}_isOutOfMapMaxBounds(_){const l=this._map.getMaxBounds(),h=_.coords;return l&&(h.longitude<l.getWest()||h.longitude>l.getEast()||h.latitude<l.getSouth()||h.latitude>l.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(_){if(this._map){if(this._isOutOfMapMaxBounds(_))return this._setErrorState(),this.fire(new c.Event("outofmaxbounds",_)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=_,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(_),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(_),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new c.Event("geolocate",_)),this._finish()}}_updateCamera(_){const l=new c.LngLat(_.coords.longitude,_.coords.latitude),h=_.coords.accuracy,f=this._map.getBearing(),$=c.extend({bearing:f},this.options.fitBoundsOptions);this._map.fitBounds(l.toBounds(h),$,{geolocateSource:!0})}_updateMarker(_){if(_){const l=new c.LngLat(_.coords.longitude,_.coords.latitude);this._accuracyCircleMarker.setLngLat(l).addTo(this._map),this._userLocationDotMarker.setLngLat(l).addTo(this._map),this._accuracy=_.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const _=this._map._container.clientHeight/2,l=this._map.unproject([0,_]),h=this._map.unproject([1,_]),f=l.distanceTo(h),$=Math.ceil(2*this._accuracy/f);this._circleElement.style.width=`${$}px`,this._circleElement.style.height=`${$}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(_){if(this._map){if(this.options.trackUserLocation)if(_.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=l,this._geolocateButton.setAttribute("aria-label",l),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(_.code===3&&ki)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new c.Event("error",_)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(_){if(this._container.addEventListener("contextmenu",l=>l.preventDefault()),this._geolocateButton=D.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),D.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",_===!1){c.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=l,this._geolocateButton.setAttribute("aria-label",l)}else{const l=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=l,this._geolocateButton.setAttribute("aria-label",l)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=D.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new ir(this._dotElement),this._circleElement=D.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ir({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",l=>{l.geolocateSource||this._watchState!=="ACTIVE_LOCK"||l.originalEvent&&l.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new c.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return c.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new c.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Jn--,ki=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new c.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new c.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Jn++,Jn>1?(_={maximumAge:6e5,timeout:0},ki=!0):(_=this.options.positionOptions,ki=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:zr,LogoControl:Ra,ScaleControl:class{constructor(_){this.options=c.extend({},$l,_),c.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){nr(this._map,this._container,this.options)}onAdd(_){return this._map=_,this._container=D.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){D.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(_){this.options.unit=_,nr(this._map,this._container,this.options)}},FullscreenControl:class{constructor(_){this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:c.warnOnce("Full screen control 'container' must be a DOM element.")),c.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=D.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",c.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){D.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const _=this._fullscreenButton=D.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);D.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},TerrainControl:class{constructor(_){this.options=_,c.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(_){return this._map=_,this._container=D.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._terrainButton=D.create("button","maplibregl-ctrl-terrain mapboxgl-ctrl-terrain",this._container),D.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){D.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._map.style.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends c.Evented{constructor(_){super(),this.options=c.extend(Object.create(li),_),c.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new c.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&D.remove(this._content),this._container&&(D.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new c.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=c.LngLat.convert(_),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){const l=document.createDocumentFragment(),h=document.createElement("body");let f;for(h.innerHTML=_;f=h.firstChild,f;)l.appendChild(f);return this.setDOMContent(l)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=D.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(_){this._container&&this._container.classList.add(_)}removeClassName(_){this._container&&this._container.classList.remove(_)}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){if(this._container)return this._container.classList.toggle(_)}_createCloseButton(){this.options.closeButton&&(this._closeButton=D.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(_){this._update(_.point)}_onMouseMove(_){this._update(_.point)}_onDrag(_){this._update(_.point)}_update(_){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=D.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=D.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(x=>this._container.classList.add(x)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=tt(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!_))return;const l=this._pos=this._trackPointer&&_?_:this._map.project(this._lngLat);let h=this.options.anchor;const f=So(this.options.offset);if(!h){const x=this._container.offsetWidth,T=this._container.offsetHeight;let P;P=l.y+f.bottom.y<T?["top"]:l.y>this._map.transform.height-T?["bottom"]:[],l.x<x/2?P.push("left"):l.x>this._map.transform.width-x/2&&P.push("right"),h=P.length===0?"bottom":P.join("-")}const $=l.add(f[h]).round();D.setTransform(this._container,`${st[h]} translate(${$.x}px,${$.y}px)`),tr(this._container,h,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(ws);_&&_.focus()}_onClose(){this.remove()}},Marker:ir,Style:$i,LngLat:c.LngLat,LngLatBounds:c.LngLatBounds,Point:c.pointGeometry,MercatorCoordinate:c.MercatorCoordinate,Evented:c.Evented,AJAXError:c.AJAXError,config:c.config,CanvasSource:Ii,GeoJSONSource:Ft,ImageSource:Zt,RasterDEMTileSource:He,RasterTileSource:Ve,VectorTileSource:Ut,VideoSource:Ni,prewarm:function(){uo().acquire(an)},clearPrewarmedResources:function(){const _=In;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(an),In=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return"2.4.0"},get workerCount(){return en.workerCount},set workerCount(_){en.workerCount=_},get maxParallelImageRequests(){return c.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(_){c.config.MAX_PARALLEL_IMAGE_REQUESTS=_},clearStorage(_){c.clearTileCache(_)},workerUrl:"",addProtocol(_,l){c.config.REGISTERED_PROTOCOLS[_]=l},removeProtocol(_){delete c.config.REGISTERED_PROTOCOLS[_]}};return Xt.extend(or,{isSafari:c.isSafari,getPerformanceMetrics:c.PerformanceUtils.getPerformanceMetrics}),or});var d=r;return d})})(maplibreGl);const getBufferGeometry=({geometry:e},t)=>(e.type==="Point"?circle(e,t):buffer(e,t)).geometry;var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,i){return e==Array.prototype||e==Object.prototype||(e[t]=i.value),e},$jscomp.getGlobal=function(e){for(var t=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal],i=0;i<t.length;++i){var n=t[i];if(n&&n.Math==Math)return n}return function(){throw Error("Cannot find global object")}()},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$",$jscomp.polyfill=function(e,t,i,n){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,t,i,n):$jscomp.polyfillUnisolated(e,t,i,n))},$jscomp.polyfillUnisolated=function(e,t,i,n){for(var r=$jscomp.global,u=e.split("."),d=0;d<u.length-1;d++){var c=u[d];if(!(c in r))return;r=r[c]}var b=u[u.length-1],S=r[b],C=t(S);C!=S&&C!=null&&$jscomp.defineProperty(r,b,{configurable:!0,writable:!0,value:C})},$jscomp.polyfillIsolated=function(e,t,i,n){for(var r=e.split("."),u=r.length===1,d=r[0],c=!u&&(d in $jscomp.polyfills)?$jscomp.polyfills:$jscomp.global,b=0;b<r.length-1;b++){var S=r[b];if(!(S in c))return;c=c[S]}var C=r[r.length-1],O=$jscomp.IS_SYMBOL_NATIVE&&i==="es6"?c[C]:null,D=t(O);if(D!=null){if(u)$jscomp.defineProperty($jscomp.polyfills,C,{configurable:!0,writable:!0,value:D});else if(D!==O){if($jscomp.propertyToPolyfillSymbol[C]===void 0){var H=1e9*Math.random()>>>0;$jscomp.propertyToPolyfillSymbol[C]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(C):$jscomp.POLYFILL_PREFIX+H+"$"+C}$jscomp.defineProperty(c,$jscomp.propertyToPolyfillSymbol[C],{configurable:!0,writable:!0,value:D})}}},$jscomp.initSymbol=function(){},$jscomp.polyfill("Symbol",function(e){if(e)return e;var t=function(u,d){this.$jscomp$symbol$id_=u,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:d})};t.prototype.toString=function(){return this.$jscomp$symbol$id_};var i="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",n=0,r=function(u){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return new t(i+(u||"")+"_"+n++,u)};return r},"es6","es3"),$jscomp.polyfill("Symbol.iterator",function(e){if(e)return e;for(var t=Symbol("Symbol.iterator"),i="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<i.length;n++){var r=$jscomp.global[i[n]];typeof r=="function"&&typeof r.prototype[t]!="function"&&$jscomp.defineProperty(r.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return t},"es6","es3"),$jscomp.iteratorPrototype=function(e){var t={next:e};return t[Symbol.iterator]=function(){return this},t},$jscomp.createTemplateTagFirstArg=function(e){return e.raw=e},$jscomp.createTemplateTagFirstArgWithRaw=function(e,t){return e.raw=t,e},$jscomp.makeIterator=function(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):$jscomp.arrayIterator(e)},$jscomp.arrayFromIterator=function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i},$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))},$jscomp.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.assign=="function"?Object.assign:function(e,t){for(var i=1;i<arguments.length;i++){var n=arguments[i];if(n)for(var r in n)$jscomp.owns(n,r)&&(e[r]=n[r])}return e},$jscomp.polyfill("Object.assign",function(e){return e||$jscomp.assign},"es6","es3"),$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=="function"?Object.create:function(e){var t=function(){};return t.prototype=e,new t},$jscomp.getConstructImplementation=function(){function e(){function i(){}return Reflect.construct(i,[],function(){}),new i instanceof i}if($jscomp.TRUST_ES6_POLYFILLS&&typeof Reflect<"u"&&Reflect.construct){if(e())return Reflect.construct;var t=Reflect.construct;return function(i,n,r){var u=t(i,n);return r&&Reflect.setPrototypeOf(u,r.prototype),u}}return function(n,r,u){u===void 0&&(u=n);var d=$jscomp.objectCreate(u.prototype||Object.prototype);return Function.prototype.apply.call(n,d,r)||d}},$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf(),$jscomp.underscoreProtoCanBeSet=function(){var e={a:!0},t={};try{return t.__proto__=e,t.a}catch{}return!1},$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,$jscomp.inherits=function(e,t){if(e.prototype=$jscomp.objectCreate(t.prototype),e.prototype.constructor=e,$jscomp.setPrototypeOf){var i=$jscomp.setPrototypeOf;i(e,t)}else for(var n in t)if(n!="prototype")if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.superClass_=t.prototype},$jscomp.generator={},$jscomp.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},$jscomp.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1},$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},$jscomp.generator.Context.prototype.next_=function(e){this.yieldResult=e},$jscomp.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},$jscomp.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.yield=function(e,t){return this.nextAddress=t,{value:e}},$jscomp.generator.Context.prototype.yieldAll=function(e,t){var i=$jscomp.makeIterator(e),n=i.next();if($jscomp.generator.ensureIteratorResultIsObject_(n),n.done)this.yieldResult=n.value,this.nextAddress=t;else return this.yieldAllIterator_=i,this.yield(n.value,t)},$jscomp.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(e,t){this.catchAddress_=e,t!=null&&(this.finallyAddress_=t)},$jscomp.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},$jscomp.generator.Context.prototype.leaveTryBlock=function(e,t){this.nextAddress=e,this.catchAddress_=t||0},$jscomp.generator.Context.prototype.enterCatchBlock=function(e){this.catchAddress_=e||0;var t=this.abruptCompletion_.exception;return this.abruptCompletion_=null,t},$jscomp.generator.Context.prototype.enterFinallyBlock=function(e,t,i){i?this.finallyContexts_[i]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=t||0},$jscomp.generator.Context.prototype.leaveFinallyBlock=function(e,t){var i=this.finallyContexts_.splice(t||0)[0],n=this.abruptCompletion_=this.abruptCompletion_||i;if(n){if(n.isException)return this.jumpToErrorHandler_();n.jumpTo!=null&&this.finallyAddress_<n.jumpTo?(this.nextAddress=n.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},$jscomp.generator.Context.prototype.forIn=function(e){return new $jscomp.generator.Context.PropertyIterator(e)},$jscomp.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var t in e)this.properties_.push(t);this.properties_.reverse()},$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null},$jscomp.generator.Engine_=function(e){this.context_=new $jscomp.generator.Context,this.program_=e},$jscomp.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.return_=function(e){this.context_.start_();var t=this.context_.yieldAllIterator_;return t?this.yieldAllStep_("return"in t?t.return:function(i){return{value:i,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.yieldAllStep_=function(e,t,i){try{var n=e.call(this.context_.yieldAllIterator_,t);if($jscomp.generator.ensureIteratorResultIsObject_(n),!n.done)return this.context_.stop_(),n;var r=n.value}catch(u){return this.context_.yieldAllIterator_=null,this.context_.throw_(u),this.nextStep_()}return this.context_.yieldAllIterator_=null,i.call(this.context_,r),this.nextStep_()},$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(i){this.context_.yieldResult=void 0,this.context_.throw_(i)}if(this.context_.stop_(),this.context_.abruptCompletion_){var t=this.context_.abruptCompletion_;if(this.context_.abruptCompletion_=null,t.isException)throw t.exception;return{value:t.return,done:!0}}return{value:void 0,done:!0}},$jscomp.generator.Generator_=function(e){this.next=function(t){return e.next_(t)},this.throw=function(t){return e.throw_(t)},this.return=function(t){return e.return_(t)},this[Symbol.iterator]=function(){return this}},$jscomp.generator.createGenerator=function(e,t){var i=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(t));return $jscomp.setPrototypeOf&&e.prototype&&$jscomp.setPrototypeOf(i,e.prototype),i},$jscomp.asyncExecutePromiseGenerator=function(e){function t(n){return e.next(n)}function i(n){return e.throw(n)}return new Promise(function(n,r){function u(d){d.done?n(d.value):Promise.resolve(d.value).then(t,i).then(u,r)}u(e.next())})},$jscomp.asyncExecutePromiseGeneratorFunction=function(e){return $jscomp.asyncExecutePromiseGenerator(e())},$jscomp.asyncExecutePromiseGeneratorProgram=function(e){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(e)))},$jscomp.getRestArguments=function(){for(var e=Number(this),t=[],i=e;i<arguments.length;i++)t[i-e]=arguments[i];return t},$jscomp.polyfill("Reflect",function(e){return e||{}},"es6","es3"),$jscomp.polyfill("Reflect.construct",function(e){return $jscomp.construct},"es6","es3"),$jscomp.polyfill("Reflect.setPrototypeOf",function(e){if(e)return e;if($jscomp.setPrototypeOf){var t=$jscomp.setPrototypeOf;return function(i,n){try{return t(i,n),!0}catch{return!1}}}return null},"es6","es5"),$jscomp.polyfill("Promise",function(e){function t(){return typeof $jscomp.global.PromiseRejectionEvent<"u"}function i(){return $jscomp.global.Promise&&$jscomp.global.Promise.toString().indexOf("[native code]")!==-1}function n(){return($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&!t())&&i()}function r(){this.batch_=null}function u(O){switch(typeof O){case"object":return O!=null;case"function":return!0;default:return!1}}function d(O){return O instanceof S?O:new S(function(D,H){D(O)})}if(e&&!n())return e;r.prototype.asyncExecute=function(O){if(this.batch_==null){this.batch_=[];var D=this;this.asyncExecuteFunction(function(){D.executeBatch_()})}this.batch_.push(O)};var c=$jscomp.global.setTimeout;r.prototype.asyncExecuteFunction=function(O){c(O,0)},r.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var O=this.batch_;this.batch_=[];for(var D=0;D<O.length;++D){var H=O[D];O[D]=null;try{H()}catch(K){this.asyncThrow_(K)}}}this.batch_=null},r.prototype.asyncThrow_=function(O){this.asyncExecuteFunction(function(){throw O})};var b={PENDING:0,FULFILLED:1,REJECTED:2},S=function(O){this.state_=b.PENDING,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var D=this.createResolveAndReject_();try{O(D.resolve,D.reject)}catch(H){D.reject(H)}};S.prototype.createResolveAndReject_=function(){function O(K){return function(le){H||(H=!0,K.call(D,le))}}var D=this,H=!1;return{resolve:O(this.resolveTo_),reject:O(this.reject_)}},S.prototype.resolveTo_=function(O){O===this?this.reject_(new TypeError("A Promise cannot resolve to itself")):O instanceof S?this.settleSameAsPromise_(O):u(O)?this.resolveToNonPromiseObj_(O):this.fulfill_(O)},S.prototype.resolveToNonPromiseObj_=function(O){var D=void 0;try{D=O.then}catch(H){this.reject_(H);return}typeof D=="function"?this.settleSameAsThenable_(D,O):this.fulfill_(O)},S.prototype.reject_=function(O){this.settle_(b.REJECTED,O)},S.prototype.fulfill_=function(O){this.settle_(b.FULFILLED,O)},S.prototype.settle_=function(O,D){if(this.state_!=b.PENDING)throw Error("Cannot settle("+O+", "+D+"): Promise already settled in state"+this.state_);this.state_=O,this.result_=D,this.state_===b.REJECTED&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},S.prototype.scheduleUnhandledRejectionCheck_=function(){var O=this;c(function(){if(O.notifyUnhandledRejection_()){var D=$jscomp.global.console;typeof D<"u"&&D.error(O.result_)}},1)},S.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var O=$jscomp.global.CustomEvent,D=$jscomp.global.Event,H=$jscomp.global.dispatchEvent;if(typeof H>"u")return!0;if(typeof O=="function")var K=new O("unhandledrejection",{cancelable:!0});else typeof D=="function"?K=new D("unhandledrejection",{cancelable:!0}):(K=$jscomp.global.document.createEvent("CustomEvent"),K.initCustomEvent("unhandledrejection",!1,!0,K));return K.promise=this,K.reason=this.result_,H(K)},S.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var O=0;O<this.onSettledCallbacks_.length;++O)C.asyncExecute(this.onSettledCallbacks_[O]);this.onSettledCallbacks_=null}};var C=new r;return S.prototype.settleSameAsPromise_=function(O){var D=this.createResolveAndReject_();O.callWhenSettled_(D.resolve,D.reject)},S.prototype.settleSameAsThenable_=function(O,D){var H=this.createResolveAndReject_();try{O.call(D,H.resolve,H.reject)}catch(K){H.reject(K)}},S.prototype.then=function(O,D){function H(fe,be){return typeof fe=="function"?function(Ie){try{K(fe(Ie))}catch(De){le(De)}}:be}var K,le,de=new S(function(fe,be){K=fe,le=be});return this.callWhenSettled_(H(O,K),H(D,le)),de},S.prototype.catch=function(O){return this.then(void 0,O)},S.prototype.callWhenSettled_=function(O,D){function H(){switch(K.state_){case b.FULFILLED:O(K.result_);break;case b.REJECTED:D(K.result_);break;default:throw Error("Unexpected state: "+K.state_)}}var K=this;this.onSettledCallbacks_==null?C.asyncExecute(H):this.onSettledCallbacks_.push(H),this.isRejectionHandled_=!0},S.resolve=d,S.reject=function(O){return new S(function(D,H){H(O)})},S.race=function(O){return new S(function(D,H){for(var K=$jscomp.makeIterator(O),le=K.next();!le.done;le=K.next())d(le.value).callWhenSettled_(D,H)})},S.all=function(O){var D=$jscomp.makeIterator(O),H=D.next();return H.done?d([]):new S(function(K,le){function de(Ie){return function(De){fe[Ie]=De,be--,be==0&&K(fe)}}var fe=[],be=0;do fe.push(void 0),be++,d(H.value).callWhenSettled_(de(fe.length-1),le),H=D.next();while(!H.done)})},S},"es6","es3"),$jscomp.checkEs6ConformanceViaProxy=function(){try{var e={},t=Object.create(new $jscomp.global.Proxy(e,{get:function(i,n,r){return i==e&&n=="q"&&r==t}}));return t.q===!0}catch{return!1}},$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy(),$jscomp.polyfill("WeakMap",function(e){function t(){if(!e||!Object.seal)return!1;try{var S=Object.seal({}),C=Object.seal({}),O=new e([[S,2],[C,3]]);return O.get(S)!=2||O.get(C)!=3?!1:(O.delete(S),O.set(C,4),!O.has(S)&&O.get(C)==4)}catch{return!1}}function i(){}function n(S){var C=typeof S;return C==="object"&&S!==null||C==="function"}function r(S){if(!$jscomp.owns(S,d)){var C=new i;$jscomp.defineProperty(S,d,{value:C})}}function u(S){if(!$jscomp.ISOLATE_POLYFILLS){var C=Object[S];C&&(Object[S]=function(O){return O instanceof i?O:(Object.isExtensible(O)&&r(O),C(O))})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(t())return e;var d="$jscomp_hidden_"+Math.random();u("freeze"),u("preventExtensions"),u("seal");var c=0,b=function(S){if(this.id_=(c+=Math.random()+1).toString(),S)for(var C=$jscomp.makeIterator(S),O;!(O=C.next()).done;){var D=O.value;this.set(D[0],D[1])}};return b.prototype.set=function(S,C){if(!n(S))throw Error("Invalid WeakMap key");if(r(S),!$jscomp.owns(S,d))throw Error("WeakMap key fail: "+S);return S[d][this.id_]=C,this},b.prototype.get=function(S){return n(S)&&$jscomp.owns(S,d)?S[d][this.id_]:void 0},b.prototype.has=function(S){return n(S)&&$jscomp.owns(S,d)&&$jscomp.owns(S[d],this.id_)},b.prototype.delete=function(S){return n(S)&&$jscomp.owns(S,d)&&$jscomp.owns(S[d],this.id_)?delete S[d][this.id_]:!1},b},"es6","es3"),$jscomp.MapEntry=function(){},$jscomp.polyfill("Map",function(e){function t(){if($jscomp.ASSUME_NO_NATIVE_MAP||!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var S=Object.seal({x:4}),C=new e($jscomp.makeIterator([[S,"s"]]));if(C.get(S)!="s"||C.size!=1||C.get({x:4})||C.set({x:4},"t")!=C||C.size!=2)return!1;var O=C.entries(),D=O.next();return D.done||D.value[0]!=S||D.value[1]!="s"?!1:(D=O.next(),!(D.done||D.value[0].x!=4||D.value[1]!="t"||!O.next().done))}catch{return!1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(t())return e;var i=new WeakMap,n=function(S){if(this.data_={},this.head_=d(),this.size=0,S)for(var C=$jscomp.makeIterator(S),O;!(O=C.next()).done;){var D=O.value;this.set(D[0],D[1])}};n.prototype.set=function(S,C){S=S===0?0:S;var O=r(this,S);return O.list||(O.list=this.data_[O.id]=[]),O.entry?O.entry.value=C:(O.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:S,value:C},O.list.push(O.entry),this.head_.previous.next=O.entry,this.head_.previous=O.entry,this.size++),this},n.prototype.delete=function(S){var C=r(this,S);return C.entry&&C.list?(C.list.splice(C.index,1),C.list.length||delete this.data_[C.id],C.entry.previous.next=C.entry.next,C.entry.next.previous=C.entry.previous,C.entry.head=null,this.size--,!0):!1},n.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=d(),this.size=0},n.prototype.has=function(S){return!!r(this,S).entry},n.prototype.get=function(S){var C=r(this,S).entry;return C&&C.value},n.prototype.entries=function(){return u(this,function(S){return[S.key,S.value]})},n.prototype.keys=function(){return u(this,function(S){return S.key})},n.prototype.values=function(){return u(this,function(S){return S.value})},n.prototype.forEach=function(S,C){for(var O=this.entries(),D;!(D=O.next()).done;){var H=D.value;S.call(C,H[1],H[0],this)}},n.prototype[Symbol.iterator]=n.prototype.entries;var r=function(S,C){var O=b(C),D=S.data_[O];if(D&&$jscomp.owns(S.data_,O))for(var H=0;H<D.length;H++){var K=D[H];if(C!==C&&K.key!==K.key||C===K.key)return{id:O,list:D,index:H,entry:K}}return{id:O,list:D,index:-1,entry:void 0}},u=function(S,C){var O=S.head_;return $jscomp.iteratorPrototype(function(){if(O){for(;O.head!=S.head_;)O=O.previous;for(;O.next!=O.head;)return O=O.next,{done:!1,value:C(O)};O=null}return{done:!0,value:void 0}})},d=function(){var S={};return S.previous=S.next=S.head=S},c=0,b=function(S){var C=S&&typeof S;if(C=="object"||C=="function"){if(!i.has(S)){var O=""+ ++c;return i.set(S,O),O}return i.get(S)}return"p_"+S};return n},"es6","es3"),$jscomp.findInternal=function(e,t,i){e instanceof String&&(e=String(e));for(var n=e.length,r=0;r<n;r++){var u=e[r];if(t.call(i,u,r,e))return{i:r,v:u}}return{i:-1,v:void 0}},$jscomp.polyfill("Array.prototype.find",function(e){return e||function(t,i){return $jscomp.findInternal(this,t,i).v}},"es6","es3"),$jscomp.checkStringArgs=function(e,t,i){if(e==null)throw new TypeError("The 'this' value for String.prototype."+i+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+i+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(t){var i=$jscomp.checkStringArgs(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var n="";t;)t&1&&(n+=i),(t>>>=1)&&(i+=i);return n}},"es6","es3"),$jscomp.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var i=0,n=!1,r={next:function(){if(!n&&i<e.length){var u=i++;return{value:t(u,e[u]),done:!1}}return n=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r},$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6","es3"),$jscomp.polyfill("Array.from",function(e){return e||function(t,i,n){i=i??function(C){return C};var r=[],u=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];if(typeof u=="function"){t=u.call(t);for(var d,c=0;!(d=t.next()).done;)r.push(i.call(n,d.value,c++))}else for(var b=t.length,S=0;S<b;S++)r.push(i.call(n,t[S],S));return r}},"es6","es3"),$jscomp.polyfill("Array.prototype.values",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(t,i){return i})}},"es8","es3"),$jscomp.polyfill("Object.setPrototypeOf",function(e){return e||$jscomp.setPrototypeOf},"es6","es5"),$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(t,i){var n=$jscomp.checkStringArgs(this,t,"endsWith");t+="",i===void 0&&(i=n.length);for(var r=Math.max(0,Math.min(i|0,n.length)),u=t.length;0<u&&0<r;)if(n[--r]!=t[--u])return!1;return 0>=u}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(t,i){var n=$jscomp.checkStringArgs(this,t,"startsWith");t+="";for(var r=n.length,u=t.length,d=Math.max(0,Math.min(i|0,n.length)),c=0;c<u&&d<r;)if(n[d++]!=t[c++])return!1;return c>=u}},"es6","es3"),$jscomp.polyfill("Number.isFinite",function(e){return e||function(t){return typeof t!="number"?!1:!isNaN(t)&&t!==1/0&&t!==-1/0}},"es6","es3"),$jscomp.polyfill("Object.entries",function(e){return e||function(t){var i=[],n;for(n in t)$jscomp.owns(t,n)&&i.push([n,t[n]]);return i}},"es8","es3"),$jscomp.polyfill("Object.is",function(e){return e||function(t,i){return t===i?t!==0||1/t===1/i:t!==t&&i!==i}},"es6","es3"),$jscomp.polyfill("Array.prototype.includes",function(e){return e||function(t,i){var n=this;n instanceof String&&(n=String(n));var r=n.length,u=i||0;for(0>u&&(u=Math.max(u+r,0));u<r;u++){var d=n[u];if(d===t||Object.is(d,t))return!0}return!1}},"es7","es3"),$jscomp.polyfill("String.prototype.includes",function(e){return e||function(t,i){return $jscomp.checkStringArgs(this,t,"includes").indexOf(t,i||0)!==-1}},"es6","es3"),$jscomp.polyfill("String.prototype.trimLeft",function(e){function t(){return this.replace(/^[\s\xa0]+/,"")}return e||t},"es_2019","es3"),$jscomp.polyfill("Array.prototype.entries",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(t,i){return[t,i]})}},"es6","es3"),$jscomp.polyfill("Set",function(e){function t(){if($jscomp.ASSUME_NO_NATIVE_SET||!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var n=Object.seal({x:4}),r=new e($jscomp.makeIterator([n]));if(!r.has(n)||r.size!=1||r.add(n)!=r||r.size!=1||r.add({x:4})!=r||r.size!=2)return!1;var u=r.entries(),d=u.next();return d.done||d.value[0]!=n||d.value[1]!=n?!1:(d=u.next(),d.done||d.value[0]==n||d.value[0].x!=4||d.value[1]!=d.value[0]?!1:u.next().done)}catch{return!1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(t())return e;var i=function(n){if(this.map_=new Map,n)for(var r=$jscomp.makeIterator(n),u;!(u=r.next()).done;)this.add(u.value);this.size=this.map_.size};return i.prototype.add=function(n){return n=n===0?0:n,this.map_.set(n,n),this.size=this.map_.size,this},i.prototype.delete=function(n){var r=this.map_.delete(n);return this.size=this.map_.size,r},i.prototype.clear=function(){this.map_.clear(),this.size=0},i.prototype.has=function(n){return this.map_.has(n)},i.prototype.entries=function(){return this.map_.entries()},i.prototype.values=function(){return this.map_.values()},i.prototype.keys=i.prototype.values,i.prototype[Symbol.iterator]=i.prototype.values,i.prototype.forEach=function(n,r){var u=this;this.map_.forEach(function(d){return n.call(r,d,d,u)})},i},"es6","es3"),$jscomp.polyfill("Object.values",function(e){return e||function(t){var i=[],n;for(n in t)$jscomp.owns(t,n)&&i.push(t[n]);return i}},"es8","es3"),$jscomp.stringPadding=function(e,t){var i=e!==void 0?String(e):" ";return 0<t&&i?i.repeat(Math.ceil(t/i.length)).substring(0,t):""},$jscomp.polyfill("String.prototype.padStart",function(e){return e||function(t,i){var n=$jscomp.checkStringArgs(this,null,"padStart");return $jscomp.stringPadding(i,t-n.length)+n}},"es8","es3");var goog=goog||{};goog.global=commonjsGlobal||self,goog.exportPath_=function(e,t,i,n){var r=e.split("."),u=n||goog.global;r[0]in u||typeof u.execScript>"u"||u.execScript("var "+r[0]);for(var d;r.length&&(d=r.shift());)if(r.length||t===void 0)u=u[d]&&u[d]!==Object.prototype[d]?u[d]:u[d]={};else if(!i&&goog.isObject(t)&&goog.isObject(u[d]))for(var c in t)t.hasOwnProperty(c)&&(u[d][c]=t[c]);else u[d]=t},goog.define=function(e,t){return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.readFlagInternalDoNotUseOrElse=function(e,t){var i=goog.getObjectByName(goog.FLAGS_OBJECT_),n=i&&i[e];return n??t},goog.FLAGS_OBJECT_="CLOSURE_FLAGS",goog.FLAGS_STAGING_DEFAULT=!0,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t,i){goog.exportPath_(e,t,i)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.getScriptNonce_=function(e){var t=(e||goog.global).document,i=t.querySelector&&t.querySelector("script[nonce]");if(i){var n=i.nonce||i.getAttribute("nonce");if(n&&goog.NONCE_PATTERN_.test(n))return n}return""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(typeof e!="string"||!e||e.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=e},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){return null},goog.requireDynamic=function(e){return null},goog.importHandler_=null,goog.uncompiledChunkIdHandler_=null,goog.setImportHandlerInternalDoNotCallOrElse=function(e){goog.importHandler_=e},goog.setUncompiledChunkIdHandlerInternalDoNotCallOrElse=function(e){goog.uncompiledChunkIdHandler_=e},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return e?typeof e.getCurrentModulePath!="function"?!1:!!e.getCurrentModulePath():!1},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||typeof t.getCurrentModulePath!="function")throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');var i=t.require(t.getCurrentModulePath());goog.loadedModules_[e]={exports:i,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},goog.getObjectByName=function(e,t){for(var i=e.split("."),n=t||goog.global,r=0;r<i.length;r++)if(n=n[i[r]],n==null)return null;return n},goog.addDependency=function(e,t,i,n){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){},goog.requireType=function(e){return{}},goog.basePath="",goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!1,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRUSTED_TYPES_POLICY_NAME="goog",goog.hasBadLetScoping=null,goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG};var i={},n=i;if(typeof e=="function")n=e.call(void 0,n);else if(typeof e=="string")n=goog.loadModuleFromSource_.call(void 0,n,e);else throw Error("Invalid module definition");var r=goog.moduleLoaderState_.moduleName;if(typeof r=="string"&&r)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,n,i!==n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof n=="object"&&n!=null&&Object.seal(n),goog.loadedModules_[r]={exports:n,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};else throw Error('Invalid module name "'+r+'"')}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(exports,JSCompiler_OptimizeArgumentsArray_p0){return eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(JSCompiler_OptimizeArgumentsArray_p0)),exports},goog.normalizePath_=function(e){for(var t=e.split("/"),i=0;i<t.length;)t[i]=="."?t.splice(i,1):i&&t[i]==".."&&t[i-1]&&t[i-1]!=".."?t.splice(--i,2):i++;return t.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),t.status==0||t.status==200?t.responseText:null}catch{return null}},goog.typeOf=function(e){var t=typeof e;return t!="object"?t:e?Array.isArray(e)?"array":t:"null"},goog.isArrayLike=function(e){var t=goog.typeOf(e);return t=="array"||t=="object"&&typeof e.length=="number"},goog.isDateLike=function(e){return goog.isObject(e)&&typeof e.getFullYear=="function"},goog.isObject=function(e){var t=typeof e;return t=="object"&&e!=null||t=="function"},goog.getUid=function(e){return Object.prototype.hasOwnProperty.call(e,goog.UID_PROPERTY_)&&e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){e!==null&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.cloneObject=function(e){var t=goog.typeOf(e);if(t=="object"||t=="array"){if(typeof e.clone=="function")return e.clone();if(typeof Map<"u"&&e instanceof Map)return new Map(e);if(typeof Set<"u"&&e instanceof Set)return new Set(e);var i=t=="array"?[]:{},n;for(n in e)i[n]=goog.cloneObject(e[n]);return i}return e},goog.bindNative_=function(e,t,i){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,i){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,i){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice();return n.push.apply(n,arguments),e.apply(this,n)}},goog.now=function(){return Date.now()},goog.globalEval=function(e){(0,eval)(e)},goog.getCssName=function(e,t){if(String(e).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var i=function(d){return goog.cssNameMapping_[d]||d},n=function(d){for(var c=d.split("-"),b=[],S=0;S<c.length;S++)b.push(i(c[S]));return b.join("-")},r=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?i:n:function(d){return d},u=t?e+"-"+r(t):r(e);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(u):u},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},goog.GetMsgOptions=function(){},goog.getMsg=function(e,t,i){return i&&i.html&&(e=e.replace(/</g,"&lt;")),i&&i.unescapeHtmlEntities&&(e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&")),t&&(e=e.replace(/\{\$([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,i){goog.exportPath_(e,t,!0,i)},goog.exportProperty=function(e,t,i){e[t]=i},goog.inherits=function(e,t){function i(){}i.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.base=function(n,r,u){for(var d=Array(arguments.length-2),c=2;c<arguments.length;c++)d[c-2]=arguments[c];return t.prototype[r].apply(n,d)}},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},goog.defineClass=function(e,t){var i=t.constructor,n=t.statics;i&&i!=Object.prototype.constructor||(i=function(){throw Error("cannot instantiate an interface (no constructor defined).")});var r=goog.defineClass.createSealingConstructor_(i,e);return e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),n!=null&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){return goog.defineClass.SEAL_CLASS_INSTANCES?function(){var i=e.apply(this,arguments)||this;return i[goog.UID_PROPERTY_]=i[goog.UID_PROPERTY_],i}:e},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)i=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null,i=goog.global.trustedTypes;if(!i||!i.createPolicy)return t;try{t=i.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_})}catch(n){goog.logToConsole_(n.message)}return t};function module$contents$goog$dispose_dispose(e){e&&typeof e.dispose=="function"&&e.dispose()}goog.dispose=module$contents$goog$dispose_dispose;function module$contents$goog$disposeAll_disposeAll(e){for(var t=0,i=arguments.length;t<i;++t){var n=arguments[t];goog.isArrayLike(n)?module$contents$goog$disposeAll_disposeAll.apply(null,n):module$contents$goog$dispose_dispose(n)}}goog.disposeAll=module$contents$goog$disposeAll_disposeAll,goog.disposable={},goog.disposable.IDisposable=function(){},goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),goog.Disposable.instances_[goog.getUid(this)]=this),this.disposed_=this.disposed_,this.onDisposeCallbacks_=this.onDisposeCallbacks_},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.Disposable.MONITORING_MODE=0,goog.Disposable.INCLUDE_STACK_ON_CREATION=!0,goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e=[],t;for(t in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(t)&&e.push(goog.Disposable.instances_[Number(t)]);return e},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var e=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");if(goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&this.onDisposeCallbacks_&&0<this.onDisposeCallbacks_.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(goog.partial(module$contents$goog$dispose_dispose,e))},goog.Disposable.prototype.addOnDisposeCallback=function(e,t){this.disposed_?t!==void 0?e.call(t):e():(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(t!==void 0?goog.bind(e,t):e))},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(e){return e&&typeof e.isDisposed=="function"?e.isDisposed():!1},goog.events={},goog.events.EventId=function(e){this.id=e},goog.events.EventId.prototype.toString=function(){return this.id},goog.events.Event=function(e,t){this.type=e instanceof goog.events.EventId?String(e):e,this.currentTarget=this.target=t,this.defaultPrevented=this.propagationStopped_=!1},goog.events.Event.prototype.hasPropagationStopped=function(){return this.propagationStopped_},goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.debug={};function module$contents$goog$debug$Error_DebugError(e,t){if(Error.captureStackTrace)Error.captureStackTrace(this,module$contents$goog$debug$Error_DebugError);else{var i=Error().stack;i&&(this.stack=i)}e&&(this.message=String(e)),t!==void 0&&(this.cause=t),this.reportErrorToServer=!0}goog.inherits(module$contents$goog$debug$Error_DebugError,Error),module$contents$goog$debug$Error_DebugError.prototype.name="CustomError",goog.debug.Error=module$contents$goog$debug$Error_DebugError,goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG;function module$contents$goog$asserts_AssertionError(e,t){module$contents$goog$debug$Error_DebugError.call(this,module$contents$goog$asserts_subs(e,t)),this.messagePattern=e}goog.inherits(module$contents$goog$asserts_AssertionError,module$contents$goog$debug$Error_DebugError),goog.asserts.AssertionError=module$contents$goog$asserts_AssertionError,module$contents$goog$asserts_AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e};var module$contents$goog$asserts_errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;function module$contents$goog$asserts_subs(e,t){for(var i=e.split("%s"),n="",r=i.length-1,u=0;u<r;u++)n+=i[u]+(u<t.length?t[u]:"%s");return n+i[r]}function module$contents$goog$asserts_doAssertFailure(e,t,i,n){var r="Assertion failed";if(i){r+=": "+i;var u=n}else e&&(r+=": "+e,u=t);var d=new module$contents$goog$asserts_AssertionError(""+r,u||[]);module$contents$goog$asserts_errorHandler_(d)}goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(module$contents$goog$asserts_errorHandler_=e)},goog.asserts.assert=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!e&&module$contents$goog$asserts_doAssertFailure("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&e==null&&module$contents$goog$asserts_doAssertFailure("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&module$contents$goog$asserts_errorHandler_(new module$contents$goog$asserts_AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&typeof e!="number"&&module$contents$goog$asserts_doAssertFailure("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&typeof e!="string"&&module$contents$goog$asserts_doAssertFailure("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&typeof e!="function"&&module$contents$goog$asserts_doAssertFailure("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&module$contents$goog$asserts_doAssertFailure("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(e)&&module$contents$goog$asserts_doAssertFailure("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&typeof e!="boolean"&&module$contents$goog$asserts_doAssertFailure("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,i){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||module$contents$goog$asserts_doAssertFailure("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,i,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||module$contents$goog$asserts_doAssertFailure("Expected instanceof %s but got %s.",[module$contents$goog$asserts_getType(t),module$contents$goog$asserts_getType(e)],i,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,i){return!goog.asserts.ENABLE_ASSERTS||typeof e=="number"&&isFinite(e)||module$contents$goog$asserts_doAssertFailure("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e};function module$contents$goog$asserts_getType(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):e===null?"null":typeof e}goog.debug.entryPointRegistry={},goog.debug.entryPointRegistry.EntryPointMonitor=function(){},goog.debug.EntryPointMonitor=goog.debug.entryPointRegistry.EntryPointMonitor,goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var t=goog.debug.entryPointRegistry.monitors_,i=0;i<t.length;i++)e(goog.bind(t[i].wrap,t[i]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=goog.bind(e.wrap,e),i=0;i<goog.debug.entryPointRegistry.refList_.length;i++)goog.debug.entryPointRegistry.refList_[i](t);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped.");for(var i=goog.bind(e.unwrap,e),n=0;n<goog.debug.entryPointRegistry.refList_.length;n++)goog.debug.entryPointRegistry.refList_[n](i);t.length--},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;var module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR;goog.array.ASSUME_NATIVE_FUNCTIONS=module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS;function module$contents$goog$array_peek(e){return e[e.length-1]}goog.array.peek=module$contents$goog$array_peek,goog.array.last=module$contents$goog$array_peek;var module$contents$goog$array_indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,i){return goog.asserts.assert(e.length!=null),Array.prototype.indexOf.call(e,t,i)}:function(e,t,i){var n=i==null?0:0>i?Math.max(0,e.length+i):i;if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,n);for(var r=n;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1};goog.array.indexOf=module$contents$goog$array_indexOf;var module$contents$goog$array_lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,i){return goog.asserts.assert(e.length!=null),Array.prototype.lastIndexOf.call(e,t,i??e.length-1)}:function(e,t,i){var n=i??e.length-1;if(0>n&&(n=Math.max(0,e.length+n)),typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.lastIndexOf(t,n);for(var r=n;0<=r;r--)if(r in e&&e[r]===t)return r;return-1};goog.array.lastIndexOf=module$contents$goog$array_lastIndexOf;var module$contents$goog$array_forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,i){goog.asserts.assert(e.length!=null),Array.prototype.forEach.call(e,t,i)}:function(e,t,i){for(var n=e.length,r=typeof e=="string"?e.split(""):e,u=0;u<n;u++)u in r&&t.call(i,r[u],u,e)};goog.array.forEach=module$contents$goog$array_forEach;function module$contents$goog$array_forEachRight(e,t,i){for(var n=e.length,r=typeof e=="string"?e.split(""):e,u=n-1;0<=u;--u)u in r&&t.call(i,r[u],u,e)}goog.array.forEachRight=module$contents$goog$array_forEachRight;var module$contents$goog$array_filter=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,i){return goog.asserts.assert(e.length!=null),Array.prototype.filter.call(e,t,i)}:function(e,t,i){for(var n=e.length,r=[],u=0,d=typeof e=="string"?e.split(""):e,c=0;c<n;c++)if(c in d){var b=d[c];t.call(i,b,c,e)&&(r[u++]=b)}return r};goog.array.filter=module$contents$goog$array_filter;var module$contents$goog$array_map=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,i){return goog.asserts.assert(e.length!=null),Array.prototype.map.call(e,t,i)}:function(e,t,i){for(var n=e.length,r=Array(n),u=typeof e=="string"?e.split(""):e,d=0;d<n;d++)d in u&&(r[d]=t.call(i,u[d],d,e));return r};goog.array.map=module$contents$goog$array_map,goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,i,n){return goog.asserts.assert(e.length!=null),n&&(t=goog.bind(t,n)),Array.prototype.reduce.call(e,t,i)}:function(e,t,i,n){var r=i;return module$contents$goog$array_forEach(e,function(u,d){r=t.call(n,r,u,d,e)}),r},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,i,n){return goog.asserts.assert(e.length!=null),goog.asserts.assert(t!=null),n&&(t=goog.bind(t,n)),Array.prototype.reduceRight.call(e,t,i)}:function(e,t,i,n){var r=i;return module$contents$goog$array_forEachRight(e,function(u,d){r=t.call(n,r,u,d,e)}),r};var module$contents$goog$array_some=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,i){return goog.asserts.assert(e.length!=null),Array.prototype.some.call(e,t,i)}:function(e,t,i){for(var n=e.length,r=typeof e=="string"?e.split(""):e,u=0;u<n;u++)if(u in r&&t.call(i,r[u],u,e))return!0;return!1};goog.array.some=module$contents$goog$array_some;var module$contents$goog$array_every=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,i){return goog.asserts.assert(e.length!=null),Array.prototype.every.call(e,t,i)}:function(e,t,i){for(var n=e.length,r=typeof e=="string"?e.split(""):e,u=0;u<n;u++)if(u in r&&!t.call(i,r[u],u,e))return!1;return!0};goog.array.every=module$contents$goog$array_every;function module$contents$goog$array_count(e,t,i){var n=0;return module$contents$goog$array_forEach(e,function(r,u,d){t.call(i,r,u,d)&&++n},i),n}goog.array.count=module$contents$goog$array_count;function module$contents$goog$array_find(e,t,i){var n=module$contents$goog$array_findIndex(e,t,i);return 0>n?null:typeof e=="string"?e.charAt(n):e[n]}goog.array.find=module$contents$goog$array_find;function module$contents$goog$array_findIndex(e,t,i){for(var n=e.length,r=typeof e=="string"?e.split(""):e,u=0;u<n;u++)if(u in r&&t.call(i,r[u],u,e))return u;return-1}goog.array.findIndex=module$contents$goog$array_findIndex,goog.array.findRight=function e(t,i,n){var r=module$contents$goog$array_findIndexRight(t,i,n);return 0>r?null:typeof t=="string"?t.charAt(r):t[r]};function module$contents$goog$array_findIndexRight(e,t,i){for(var n=e.length,r=typeof e=="string"?e.split(""):e,u=n-1;0<=u;u--)if(u in r&&t.call(i,r[u],u,e))return u;return-1}goog.array.findIndexRight=module$contents$goog$array_findIndexRight;function module$contents$goog$array_contains(e,t){return 0<=module$contents$goog$array_indexOf(e,t)}goog.array.contains=module$contents$goog$array_contains;function module$contents$goog$array_isEmpty(e){return e.length==0}goog.array.isEmpty=module$contents$goog$array_isEmpty;function module$contents$goog$array_clear(e){if(!Array.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0}goog.array.clear=module$contents$goog$array_clear,goog.array.insert=function e(t,i){module$contents$goog$array_contains(t,i)||t.push(i)};function module$contents$goog$array_insertAt(e,t,i){module$contents$goog$array_splice(e,i,0,t)}goog.array.insertAt=module$contents$goog$array_insertAt,goog.array.insertArrayAt=function e(t,i,n){goog.partial(module$contents$goog$array_splice,t,n,0).apply(null,i)},goog.array.insertBefore=function e(t,i,n){var r;arguments.length==2||0>(r=module$contents$goog$array_indexOf(t,n))?t.push(i):module$contents$goog$array_insertAt(t,i,r)};function module$contents$goog$array_remove(e,t){var i=module$contents$goog$array_indexOf(e,t),n;return(n=0<=i)&&module$contents$goog$array_removeAt(e,i),n}goog.array.remove=module$contents$goog$array_remove;function module$contents$goog$array_removeLast(e,t){var i=module$contents$goog$array_lastIndexOf(e,t);return 0<=i?(module$contents$goog$array_removeAt(e,i),!0):!1}goog.array.removeLast=module$contents$goog$array_removeLast;function module$contents$goog$array_removeAt(e,t){return goog.asserts.assert(e.length!=null),Array.prototype.splice.call(e,t,1).length==1}goog.array.removeAt=module$contents$goog$array_removeAt,goog.array.removeIf=function e(t,i,n){var r=module$contents$goog$array_findIndex(t,i,n);return 0<=r?(module$contents$goog$array_removeAt(t,r),!0):!1},goog.array.removeAllIf=function e(t,i,n){var r=0;return module$contents$goog$array_forEachRight(t,function(u,d){i.call(n,u,d,t)&&module$contents$goog$array_removeAt(t,d)&&r++}),r};function module$contents$goog$array_concat(e){return Array.prototype.concat.apply([],arguments)}goog.array.concat=module$contents$goog$array_concat,goog.array.join=function e(t){return Array.prototype.concat.apply([],arguments)};function module$contents$goog$array_toArray(e){var t=e.length;if(0<t){for(var i=Array(t),n=0;n<t;n++)i[n]=e[n];return i}return[]}goog.array.toArray=module$contents$goog$array_toArray,goog.array.clone=module$contents$goog$array_toArray;function module$contents$goog$array_extend(e,t){for(var i=1;i<arguments.length;i++){var n=arguments[i];if(goog.isArrayLike(n)){var r=e.length||0,u=n.length||0;e.length=r+u;for(var d=0;d<u;d++)e[r+d]=n[d]}else e.push(n)}}goog.array.extend=module$contents$goog$array_extend;function module$contents$goog$array_splice(e,t,i,n){return goog.asserts.assert(e.length!=null),Array.prototype.splice.apply(e,module$contents$goog$array_slice(arguments,1))}goog.array.splice=module$contents$goog$array_splice;function module$contents$goog$array_slice(e,t,i){return goog.asserts.assert(e.length!=null),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,i)}goog.array.slice=module$contents$goog$array_slice;function module$contents$goog$array_removeDuplicates(e,t,i){for(var n=t||e,r=function(O){return goog.isObject(O)?"o"+goog.getUid(O):(typeof O).charAt(0)+O},u=i||r,d=0,c=0,b={};c<e.length;){var S=e[c++],C=u(S);Object.prototype.hasOwnProperty.call(b,C)||(b[C]=!0,n[d++]=S)}n.length=d}goog.array.removeDuplicates=module$contents$goog$array_removeDuplicates;function module$contents$goog$array_binarySearch(e,t,i){return module$contents$goog$array_binarySearch_(e,i||module$contents$goog$array_defaultCompare,!1,t)}goog.array.binarySearch=module$contents$goog$array_binarySearch,goog.array.binarySelect=function e(t,i,n){return module$contents$goog$array_binarySearch_(t,i,!0,void 0,n)};function module$contents$goog$array_binarySearch_(e,t,i,n,r){for(var u=0,d=e.length,c;u<d;){var b=u+(d-u>>>1),S=void 0;S=i?t.call(r,e[b],b,e):t(n,e[b]),0<S?u=b+1:(d=b,c=!S)}return c?u:-u-1}function module$contents$goog$array_sort(e,t){e.sort(t||module$contents$goog$array_defaultCompare)}goog.array.sort=module$contents$goog$array_sort,goog.array.stableSort=function e(t,i){for(var n=Array(t.length),r=0;r<t.length;r++)n[r]={index:r,value:t[r]};var u=i||module$contents$goog$array_defaultCompare;module$contents$goog$array_sort(n,function(b,S){return u(b.value,S.value)||b.index-S.index});for(var d=0;d<t.length;d++)t[d]=n[d].value};function module$contents$goog$array_sortByKey(e,t,i){var n=i||module$contents$goog$array_defaultCompare;module$contents$goog$array_sort(e,function(r,u){return n(t(r),t(u))})}goog.array.sortByKey=module$contents$goog$array_sortByKey,goog.array.sortObjectsByKey=function e(t,i,n){module$contents$goog$array_sortByKey(t,function(r){return r[i]},n)};function module$contents$goog$array_isSorted(e,t,i){for(var n=t||module$contents$goog$array_defaultCompare,r=1;r<e.length;r++){var u=n(e[r-1],e[r]);if(0<u||u==0&&i)return!1}return!0}goog.array.isSorted=module$contents$goog$array_isSorted;function module$contents$goog$array_equals(e,t,i){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;for(var n=e.length,r=i||module$contents$goog$array_defaultCompareEquality,u=0;u<n;u++)if(!r(e[u],t[u]))return!1;return!0}goog.array.equals=module$contents$goog$array_equals,goog.array.compare3=function e(t,i,n){for(var r=n||module$contents$goog$array_defaultCompare,u=Math.min(t.length,i.length),d=0;d<u;d++){var c=r(t[d],i[d]);if(c!=0)return c}return module$contents$goog$array_defaultCompare(t.length,i.length)};function module$contents$goog$array_defaultCompare(e,t){return e>t?1:e<t?-1:0}goog.array.defaultCompare=module$contents$goog$array_defaultCompare,goog.array.inverseDefaultCompare=function e(t,i){return-module$contents$goog$array_defaultCompare(t,i)};function module$contents$goog$array_defaultCompareEquality(e,t){return e===t}goog.array.defaultCompareEquality=module$contents$goog$array_defaultCompareEquality,goog.array.binaryInsert=function e(t,i,n){var r=module$contents$goog$array_binarySearch(t,i,n);return 0>r?(module$contents$goog$array_insertAt(t,i,-(r+1)),!0):!1},goog.array.binaryRemove=function e(t,i,n){var r=module$contents$goog$array_binarySearch(t,i,n);return 0<=r?module$contents$goog$array_removeAt(t,r):!1},goog.array.bucket=function e(t,i,n){for(var r={},u=0;u<t.length;u++){var d=t[u],c=i.call(n,d,u,t);c!==void 0&&(r[c]||(r[c]=[])).push(d)}return r},goog.array.bucketToMap=function e(t,i){for(var n=new Map,r=0;r<t.length;r++){var u=t[r],d=i(u,r,t);if(d!==void 0){var c=n.get(d);c||(c=[],n.set(d,c)),c.push(u)}}return n},goog.array.toObject=function e(t,i,n){var r={};return module$contents$goog$array_forEach(t,function(u,d){r[i.call(n,u,d,t)]=u}),r},goog.array.toMap=function e(t,i){for(var n=new Map,r=0;r<t.length;r++){var u=t[r];n.set(i(u,r,t),u)}return n};function module$contents$goog$array_range(e,t,i){var n=[],r=0,u=e,d=i||1;if(t!==void 0&&(r=e,u=t),0>d*(u-r))return[];if(0<d)for(var c=r;c<u;c+=d)n.push(c);else for(var b=r;b>u;b+=d)n.push(b);return n}goog.array.range=module$contents$goog$array_range;function module$contents$goog$array_repeat(e,t){for(var i=[],n=0;n<t;n++)i[n]=e;return i}goog.array.repeat=module$contents$goog$array_repeat;function module$contents$goog$array_flatten(e){for(var t=[],i=0;i<arguments.length;i++){var n=arguments[i];if(Array.isArray(n))for(var r=0;r<n.length;r+=8192)for(var u=module$contents$goog$array_slice(n,r,r+8192),d=module$contents$goog$array_flatten.apply(null,u),c=0;c<d.length;c++)t.push(d[c]);else t.push(n)}return t}goog.array.flatten=module$contents$goog$array_flatten,goog.array.rotate=function e(t,i){return goog.asserts.assert(t.length!=null),t.length&&(i%=t.length,0<i?Array.prototype.unshift.apply(t,t.splice(-i,i)):0>i&&Array.prototype.push.apply(t,t.splice(0,-i))),t},goog.array.moveItem=function e(t,i,n){goog.asserts.assert(0<=i&&i<t.length),goog.asserts.assert(0<=n&&n<t.length);var r=Array.prototype.splice.call(t,i,1);Array.prototype.splice.call(t,n,0,r[0])},goog.array.zip=function e(t){if(!arguments.length)return[];for(var i=[],n=arguments[0].length,r=1;r<arguments.length;r++)arguments[r].length<n&&(n=arguments[r].length);for(var u=0;u<n;u++){for(var d=[],c=0;c<arguments.length;c++)d.push(arguments[c][u]);i.push(d)}return i},goog.array.shuffle=function e(t,i){for(var n=i||Math.random,r=t.length-1;0<r;r--){var u=Math.floor(n()*(r+1)),d=t[r];t[r]=t[u],t[u]=d}},goog.array.copyByIndex=function e(t,i){var n=[];return module$contents$goog$array_forEach(i,function(r){n.push(t[r])}),n},goog.array.concatMap=function e(t,i,n){return module$contents$goog$array_concat.apply([],module$contents$goog$array_map(t,i,n))},goog.debug.errorcontext={},goog.debug.errorcontext.addErrorContext=function(e,t,i){e[goog.debug.errorcontext.CONTEXT_KEY_]||(e[goog.debug.errorcontext.CONTEXT_KEY_]={}),e[goog.debug.errorcontext.CONTEXT_KEY_][t]=i},goog.debug.errorcontext.getErrorContext=function(e){return e[goog.debug.errorcontext.CONTEXT_KEY_]||{}},goog.debug.errorcontext.CONTEXT_KEY_="__closure__error__context__984382",goog.debug.LOGGING_ENABLED=goog.DEBUG,goog.debug.FORCE_SLOPPY_STACKS=!1,goog.debug.CHECK_FOR_THROWN_EVENT=!1,goog.debug.catchErrors=function(e,t,i){var n=i||goog.global,r=n.onerror,u=!!t;n.onerror=function(d,c,b,S,C){return r&&r(d,c,b,S,C),e({message:d,fileName:c,line:b,lineNumber:b,col:S,error:C}),u}},goog.debug.expose=function(e,t){if(typeof e>"u")return"undefined";if(e==null)return"NULL";var i=[],n;for(n in e)if(t||typeof e[n]!="function"){var r=n+" = ";try{r+=e[n]}catch(u){r+="*** "+u+" ***"}i.push(r)}return i.join(`
`)},goog.debug.deepExpose=function(e,t){var i=[],n=[],r={},u=function(c,b){var S=b+"  ",C=function(H){return H.replace(/\n/g,`
`+b)};try{if(c===void 0)i.push("undefined");else if(c===null)i.push("NULL");else if(typeof c=="string")i.push('"'+C(c)+'"');else if(typeof c=="function")i.push(C(String(c)));else if(goog.isObject(c)){goog.hasUid(c)||n.push(c);var O=goog.getUid(c);if(r[O])i.push("*** reference loop detected (id="+O+") ***");else{r[O]=!0,i.push("{");for(var D in c)(t||typeof c[D]!="function")&&(i.push(`
`),i.push(S),i.push(D+" = "),u(c[D],S));i.push(`
`+b+"}"),delete r[O]}}else i.push(c)}catch(H){i.push("*** "+H+" ***")}};u(e,"");for(var d=0;d<n.length;d++)goog.removeUid(n[d]);return i.join("")},goog.debug.exposeArray=function(e){for(var t=[],i=0;i<e.length;i++)Array.isArray(e[i])?t.push(goog.debug.exposeArray(e[i])):t.push(e[i]);return"[ "+t.join(", ")+" ]"},goog.debug.normalizeErrorObject=function(e){var t=goog.getObjectByName("window.location.href");if(e==null&&(e='Unknown Error of type "null/undefined"'),typeof e=="string")return{message:e,name:"Unknown error",lineNumber:"Not available",fileName:t,stack:"Not available"};var i=!1;try{var n=e.lineNumber||e.line||"Not available"}catch{n="Not available",i=!0}try{var r=e.fileName||e.filename||e.sourceURL||goog.global.$googDebugFname||t}catch{r="Not available",i=!0}var u=goog.debug.serializeErrorStack_(e);if(!(!i&&e.lineNumber&&e.fileName&&e.stack&&e.message&&e.name)){var d=e.message;if(d==null){if(e.constructor&&e.constructor instanceof Function){var c=e.constructor.name?e.constructor.name:goog.debug.getFunctionName(e.constructor);if(d='Unknown Error of type "'+c+'"',goog.debug.CHECK_FOR_THROWN_EVENT&&c=="Event")try{d=d+' with Event.type "'+(e.type||"")+'"'}catch{}}else d="Unknown Error of unknown type";typeof e.toString=="function"&&Object.prototype.toString!==e.toString&&(d+=": "+e.toString())}return{message:d,name:e.name||"UnknownError",lineNumber:n,fileName:r,stack:u||"Not available"}}return e.stack=u,{message:e.message,name:e.name,lineNumber:e.lineNumber,fileName:e.fileName,stack:e.stack}},goog.debug.serializeErrorStack_=function(e,t){t||(t={}),t[goog.debug.serializeErrorAsKey_(e)]=!0;var i=e.stack||"",n=e.cause;return n&&!t[goog.debug.serializeErrorAsKey_(n)]&&(i+=`
Caused by: `,n.stack&&n.stack.indexOf(n.toString())==0||(i+=typeof n=="string"?n:n.message+`
`),i+=goog.debug.serializeErrorStack_(n,t)),i},goog.debug.serializeErrorAsKey_=function(e){var t="";return typeof e.toString=="function"&&(t=""+e),t+e.stack},goog.debug.enhanceError=function(e,t){if(e instanceof Error)var i=e;else i=Error(e),Error.captureStackTrace&&Error.captureStackTrace(i,goog.debug.enhanceError);if(i.stack||(i.stack=goog.debug.getStacktrace(goog.debug.enhanceError)),t){for(var n=0;i["message"+n];)++n;i["message"+n]=String(t)}return i},goog.debug.enhanceErrorWithContext=function(e,t){var i=goog.debug.enhanceError(e);if(t)for(var n in t)goog.debug.errorcontext.addErrorContext(i,n,t[n]);return i},goog.debug.getStacktraceSimple=function(e){if(!goog.debug.FORCE_SLOPPY_STACKS){var t=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(t)return t}for(var i=[],n=arguments.callee.caller,r=0;n&&(!e||r<e);){i.push(goog.debug.getFunctionName(n)),i.push(`()
`);try{n=n.caller}catch{i.push(`[exception trying to get caller]
`);break}if(r++,r>=goog.debug.MAX_STACK_DEPTH){i.push("[...long stack...]");break}}return e&&r>=e?i.push("[...reached max depth limit...]"):i.push("[end]"),i.join("")},goog.debug.MAX_STACK_DEPTH=50,goog.debug.getNativeStackTrace_=function(e){var t=Error();if(Error.captureStackTrace)return Error.captureStackTrace(t,e),String(t.stack);try{throw t}catch(n){t=n}var i=t.stack;return i?String(i):null},goog.debug.getStacktrace=function(e){var t;return goog.debug.FORCE_SLOPPY_STACKS||(t=goog.debug.getNativeStackTrace_(e||goog.debug.getStacktrace)),t||(t=goog.debug.getStacktraceHelper_(e||arguments.callee.caller,[])),t},goog.debug.getStacktraceHelper_=function(e,t){var i=[];if(module$contents$goog$array_contains(t,e))i.push("[...circular reference...]");else if(e&&t.length<goog.debug.MAX_STACK_DEPTH){i.push(goog.debug.getFunctionName(e)+"(");for(var n=e.arguments,r=0;n&&r<n.length;r++){0<r&&i.push(", ");var u=n[r];switch(typeof u){case"object":var d=u?"object":"null";break;case"string":d=u;break;case"number":d=String(u);break;case"boolean":d=u?"true":"false";break;case"function":d=(d=goog.debug.getFunctionName(u))?d:"[fn]";break;default:d=typeof u}40<d.length&&(d=d.slice(0,40)+"..."),i.push(d)}t.push(e),i.push(`)
`);try{i.push(goog.debug.getStacktraceHelper_(e.caller,t))}catch{i.push(`[exception trying to get caller]
`)}}else e?i.push("[...long stack...]"):i.push("[end]");return i.join("")},goog.debug.getFunctionName=function(e){if(goog.debug.fnNameCache_[e])return goog.debug.fnNameCache_[e];var t=String(e);if(!goog.debug.fnNameCache_[t]){var i=/function\s+([^\(]+)/m.exec(t);goog.debug.fnNameCache_[t]=i?i[1]:"[Anonymous]"}return goog.debug.fnNameCache_[t]},goog.debug.makeWhitespaceVisible=function(e){return e.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,`[n]
`).replace(/\r/g,"[r]").replace(/\t/g,"[t]")},goog.debug.runtimeType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):e===null?"null":typeof e},goog.debug.fnNameCache_={},goog.debug.freezeInternal_=goog.DEBUG&&Object.freeze||function(e){return e},goog.debug.freeze=function(e){return function(){return goog.debug.freezeInternal_(e)}()},goog.events.BrowserFeature={TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.maxTouchPoints&&!goog.global.navigator.msMaxTouchPoints),POINTER_EVENTS:"PointerEvent"in goog.global,MSPOINTER_EVENTS:!1,PASSIVE_EVENTS:function(e){return{valueOf:e}.valueOf()}(function(){if(!goog.global.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{goog.global.addEventListener("test",function(){},t),goog.global.removeEventListener("test",function(){},t)}catch{}return e})},goog.labs={},goog.labs.userAgent={};var module$contents$goog$labs$userAgent_forceClientHintsInTests=!1;goog.labs.userAgent.setUseClientHintsForTesting=function(e){module$contents$goog$labs$userAgent_forceClientHintsInTests=e},goog.labs.userAgent.useClientHints=function(){return module$contents$goog$labs$userAgent_forceClientHintsInTests},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return e.lastIndexOf(t,0)==0},goog.string.internal.endsWith=function(e,t){var i=e.length-t.length;return 0<=i&&e.indexOf(t,i)==i},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return goog.string.internal.caseInsensitiveCompare(t,e.slice(0,t.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return goog.string.internal.caseInsensitiveCompare(t,e.slice(e.length-t.length))==0},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){var i=String(e).toLowerCase(),n=String(t).toLowerCase();return i<n?-1:i==n?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;e.indexOf("&")!=-1&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),e.indexOf("<")!=-1&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),e.indexOf(">")!=-1&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),e.indexOf('"')!=-1&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),e.indexOf("'")!=-1&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),e.indexOf("\0")!=-1&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return e.indexOf(t)!=-1},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){for(var i=0,n=goog.string.internal.trim(String(e)).split("."),r=goog.string.internal.trim(String(t)).split("."),u=Math.max(n.length,r.length),d=0;i==0&&d<u;d++){var c=n[d]||"",b=r[d]||"";do{var S=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(b)||["","","",""];if(S[0].length==0&&C[0].length==0)break;i=goog.string.internal.compareElements_(S[1].length==0?0:parseInt(S[1],10),C[1].length==0?0:parseInt(C[1],10))||goog.string.internal.compareElements_(S[2].length==0,C[2].length==0)||goog.string.internal.compareElements_(S[2],C[2]),c=S[3],b=C[3]}while(i==0)}return i},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.labs.userAgent.util={};function module$contents$goog$labs$userAgent$util_getNativeUserAgentString(){var e=module$contents$goog$labs$userAgent$util_getNavigator();if(e){var t=e.userAgent;if(t)return t}return""}function module$contents$goog$labs$userAgent$util_getNativeUserAgentData(){var e=module$contents$goog$labs$userAgent$util_getNavigator();return e&&e.userAgentData||null}function module$contents$goog$labs$userAgent$util_getNavigator(){return goog.global.navigator}var module$contents$goog$labs$userAgent$util_userAgentInternal=null,module$contents$goog$labs$userAgent$util_userAgentDataInternal=module$contents$goog$labs$userAgent$util_getNativeUserAgentData();function module$contents$goog$labs$userAgent$util_getUserAgent(){return module$contents$goog$labs$userAgent$util_userAgentInternal??module$contents$goog$labs$userAgent$util_getNativeUserAgentString()}function module$contents$goog$labs$userAgent$util_getUserAgentData(){return module$contents$goog$labs$userAgent$util_userAgentDataInternal}function module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(e){if(!(0,goog.labs.userAgent.useClientHints)())return!1;var t=module$contents$goog$labs$userAgent$util_getUserAgentData();return t?t.brands.some(function(i){var n=i.brand;return n&&(0,goog.string.internal.contains)(n,e)}):!1}function module$contents$goog$labs$userAgent$util_matchUserAgent(e){return(0,goog.string.internal.contains)(module$contents$goog$labs$userAgent$util_getUserAgent(),e)}function module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase(e){return(0,goog.string.internal.caseInsensitiveContains)(module$contents$goog$labs$userAgent$util_getUserAgent(),e)}function module$contents$goog$labs$userAgent$util_extractVersionTuples(e){for(var t=RegExp("([A-Z][\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),i=[],n;n=t.exec(e);)i.push([n[1],n[2],n[3]||void 0]);return i}goog.labs.userAgent.util.ASSUME_CLIENT_HINTS_SUPPORT=!1,goog.labs.userAgent.util.extractVersionTuples=module$contents$goog$labs$userAgent$util_extractVersionTuples,goog.labs.userAgent.util.getNativeUserAgentString=module$contents$goog$labs$userAgent$util_getNativeUserAgentString,goog.labs.userAgent.util.getUserAgent=module$contents$goog$labs$userAgent$util_getUserAgent,goog.labs.userAgent.util.getUserAgentData=module$contents$goog$labs$userAgent$util_getUserAgentData,goog.labs.userAgent.util.matchUserAgent=module$contents$goog$labs$userAgent$util_matchUserAgent,goog.labs.userAgent.util.matchUserAgentDataBrand=module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand,goog.labs.userAgent.util.matchUserAgentIgnoreCase=module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase,goog.labs.userAgent.util.resetUserAgentData=function e(){module$contents$goog$labs$userAgent$util_userAgentDataInternal=module$contents$goog$labs$userAgent$util_getNativeUserAgentData()},goog.labs.userAgent.util.setUserAgent=function e(t){module$contents$goog$labs$userAgent$util_userAgentInternal=typeof t=="string"?t:module$contents$goog$labs$userAgent$util_getNativeUserAgentString()},goog.labs.userAgent.util.setUserAgentData=function e(t){module$contents$goog$labs$userAgent$util_userAgentDataInternal=t};var module$exports$goog$labs$userAgent$highEntropy$highEntropyValue={AsyncValue:function(){}};module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.AsyncValue.prototype.getIfLoaded=function(){},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.AsyncValue.prototype.load=function(){},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue=function(e){this.key_=e,this.promise_=this.value_=void 0,this.pending_=!1},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.getIfLoaded=function(){if(module$contents$goog$labs$userAgent$util_getUserAgentData())return this.value_},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.load=function(){var e=this,t;return $jscomp.asyncExecutePromiseGeneratorProgram(function(i){return i.nextAddress==1?(t=module$contents$goog$labs$userAgent$util_getUserAgentData(),t?(e.promise_||(e.pending_=!0,e.promise_=function(){var n;return $jscomp.asyncExecutePromiseGeneratorProgram(function(r){return r.nextAddress==1?(r.setFinallyBlock(2),r.yield(t.getHighEntropyValues([e.key_]),4)):r.nextAddress!=2?(n=r.yieldResult,e.value_=n[e.key_],r.return(e.value_)):(r.enterFinallyBlock(),e.pending_=!1,r.leaveFinallyBlock(0))})}()),i.yield(e.promise_,2)):i.return(void 0)):i.return(i.yieldResult)})},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.resetForTesting=function(){if(this.pending_)throw Error("Unsafe call to resetForTesting");this.value_=this.promise_=void 0,this.pending_=!1},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version=function(e){this.versionString_=e},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version.prototype.toVersionStringForLogging=function(){return this.versionString_},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version.prototype.isAtLeast=function(e){return 0<=(0,goog.string.internal.compareVersions)(this.versionString_,e)};var module$exports$goog$labs$userAgent$highEntropy$highEntropyData={};module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList=new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue("fullVersionList"),module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion=new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue("platformVersion"),goog.labs.userAgent.browser={};var module$contents$goog$labs$userAgent$browser_Brand={ANDROID_BROWSER:"Android Browser",CHROMIUM:"Chromium",EDGE:"Microsoft Edge",FIREFOX:"Firefox",IE:"Internet Explorer",OPERA:"Opera",SAFARI:"Safari",SILK:"Silk"};goog.labs.userAgent.browser.Brand=module$contents$goog$labs$userAgent$browser_Brand;function module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand(e){if(!(e!==void 0&&e||(0,goog.labs.userAgent.useClientHints)()))return!1;var t=module$contents$goog$labs$userAgent$util_getUserAgentData();return!!t&&0<t.brands.length}function module$contents$goog$labs$userAgent$browser_hasFullVersionList(){return module$contents$goog$labs$userAgent$browser_isAtLeast(module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM,98)}function module$contents$goog$labs$userAgent$browser_matchOpera(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Opera")}function module$contents$goog$labs$userAgent$browser_matchIE(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Trident")||module$contents$goog$labs$userAgent$util_matchUserAgent("MSIE")}function module$contents$goog$labs$userAgent$browser_matchEdgeHtml(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Edge")}function module$contents$goog$labs$userAgent$browser_matchEdgeChromium(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.EDGE):module$contents$goog$labs$userAgent$util_matchUserAgent("Edg/")}function module$contents$goog$labs$userAgent$browser_matchOperaChromium(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.OPERA):module$contents$goog$labs$userAgent$util_matchUserAgent("OPR")}function module$contents$goog$labs$userAgent$browser_matchFirefox(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Firefox")||module$contents$goog$labs$userAgent$util_matchUserAgent("FxiOS")}function module$contents$goog$labs$userAgent$browser_matchSafari(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Safari")&&!(module$contents$goog$labs$userAgent$browser_matchChrome()||module$contents$goog$labs$userAgent$browser_matchCoast()||module$contents$goog$labs$userAgent$browser_matchOpera()||module$contents$goog$labs$userAgent$browser_matchEdgeHtml()||module$contents$goog$labs$userAgent$browser_matchEdgeChromium()||module$contents$goog$labs$userAgent$browser_matchOperaChromium()||module$contents$goog$labs$userAgent$browser_matchFirefox()||module$contents$goog$labs$userAgent$browser_isSilk()||module$contents$goog$labs$userAgent$util_matchUserAgent("Android"))}function module$contents$goog$labs$userAgent$browser_matchCoast(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Coast")}function module$contents$goog$labs$userAgent$browser_matchChrome(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM):(module$contents$goog$labs$userAgent$util_matchUserAgent("Chrome")||module$contents$goog$labs$userAgent$util_matchUserAgent("CriOS"))&&!module$contents$goog$labs$userAgent$browser_matchEdgeHtml()||module$contents$goog$labs$userAgent$browser_isSilk()}function module$contents$goog$labs$userAgent$browser_matchAndroidBrowser(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Android")&&!(module$contents$goog$labs$userAgent$browser_matchChrome()||module$contents$goog$labs$userAgent$browser_matchFirefox()||module$contents$goog$labs$userAgent$browser_matchOpera()||module$contents$goog$labs$userAgent$browser_isSilk())}goog.labs.userAgent.browser.isOpera=module$contents$goog$labs$userAgent$browser_matchOpera,goog.labs.userAgent.browser.isIE=module$contents$goog$labs$userAgent$browser_matchIE,goog.labs.userAgent.browser.isEdge=module$contents$goog$labs$userAgent$browser_matchEdgeHtml,goog.labs.userAgent.browser.isEdgeChromium=module$contents$goog$labs$userAgent$browser_matchEdgeChromium,goog.labs.userAgent.browser.isOperaChromium=module$contents$goog$labs$userAgent$browser_matchOperaChromium,goog.labs.userAgent.browser.isFirefox=module$contents$goog$labs$userAgent$browser_matchFirefox,goog.labs.userAgent.browser.isSafari=module$contents$goog$labs$userAgent$browser_matchSafari,goog.labs.userAgent.browser.isCoast=module$contents$goog$labs$userAgent$browser_matchCoast,goog.labs.userAgent.browser.isIosWebview=function e(){return(module$contents$goog$labs$userAgent$util_matchUserAgent("iPad")||module$contents$goog$labs$userAgent$util_matchUserAgent("iPhone"))&&!module$contents$goog$labs$userAgent$browser_matchSafari()&&!module$contents$goog$labs$userAgent$browser_matchChrome()&&!module$contents$goog$labs$userAgent$browser_matchCoast()&&!module$contents$goog$labs$userAgent$browser_matchFirefox()&&module$contents$goog$labs$userAgent$util_matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.isChrome=module$contents$goog$labs$userAgent$browser_matchChrome,goog.labs.userAgent.browser.isAndroidBrowser=module$contents$goog$labs$userAgent$browser_matchAndroidBrowser;function module$contents$goog$labs$userAgent$browser_isSilk(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Silk")}goog.labs.userAgent.browser.isSilk=module$contents$goog$labs$userAgent$browser_isSilk;function module$contents$goog$labs$userAgent$browser_createVersionMap(e){var t={};return e.forEach(function(i){t[i[0]]=i[1]}),function(i){return t[i.find(function(n){return n in t})]||""}}function module$contents$goog$labs$userAgent$browser_getVersion(){var e=module$contents$goog$labs$userAgent$util_getUserAgent();if(module$contents$goog$labs$userAgent$browser_matchIE())return module$contents$goog$labs$userAgent$browser_getIEVersion(e);var t=module$contents$goog$labs$userAgent$util_extractVersionTuples(e),i=module$contents$goog$labs$userAgent$browser_createVersionMap(t);if(module$contents$goog$labs$userAgent$browser_matchOpera())return i(["Version","Opera"]);if(module$contents$goog$labs$userAgent$browser_matchEdgeHtml())return i(["Edge"]);if(module$contents$goog$labs$userAgent$browser_matchEdgeChromium())return i(["Edg"]);if(module$contents$goog$labs$userAgent$browser_isSilk())return i(["Silk"]);if(module$contents$goog$labs$userAgent$browser_matchChrome())return i(["Chrome","CriOS","HeadlessChrome"]);var n=t[2];return n&&n[1]||""}goog.labs.userAgent.browser.getVersion=module$contents$goog$labs$userAgent$browser_getVersion,goog.labs.userAgent.browser.isVersionOrHigher=function e(t){return 0<=(0,goog.string.internal.compareVersions)(module$contents$goog$labs$userAgent$browser_getVersion(),t)};function module$contents$goog$labs$userAgent$browser_getIEVersion(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];var i="",n=/MSIE +([\d\.]+)/.exec(e);if(n&&n[1]){var r=/Trident\/(\d.\d)/.exec(e);if(n[1]=="7.0")if(r&&r[1])switch(r[1]){case"4.0":i="8.0";break;case"5.0":i="9.0";break;case"6.0":i="10.0";break;case"7.0":i="11.0"}else i="7.0";else i=n[1]}return i}function module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(e){var t=module$contents$goog$labs$userAgent$util_getUserAgent();if(e===module$contents$goog$labs$userAgent$browser_Brand.IE)return module$contents$goog$labs$userAgent$browser_matchIE()?module$contents$goog$labs$userAgent$browser_getIEVersion(t):"";var i=module$contents$goog$labs$userAgent$util_extractVersionTuples(t),n=module$contents$goog$labs$userAgent$browser_createVersionMap(i);switch(e){case module$contents$goog$labs$userAgent$browser_Brand.OPERA:if(module$contents$goog$labs$userAgent$browser_matchOpera())return n(["Version","Opera"]);if(module$contents$goog$labs$userAgent$browser_matchOperaChromium())return n(["OPR"]);break;case module$contents$goog$labs$userAgent$browser_Brand.EDGE:if(module$contents$goog$labs$userAgent$browser_matchEdgeHtml())return n(["Edge"]);if(module$contents$goog$labs$userAgent$browser_matchEdgeChromium())return n(["Edg"]);break;case module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM:if(module$contents$goog$labs$userAgent$browser_matchChrome())return n(["Chrome","CriOS","HeadlessChrome"])}if(e===module$contents$goog$labs$userAgent$browser_Brand.FIREFOX&&module$contents$goog$labs$userAgent$browser_matchFirefox()||e===module$contents$goog$labs$userAgent$browser_Brand.SAFARI&&module$contents$goog$labs$userAgent$browser_matchSafari()||e===module$contents$goog$labs$userAgent$browser_Brand.ANDROID_BROWSER&&module$contents$goog$labs$userAgent$browser_matchAndroidBrowser()||e===module$contents$goog$labs$userAgent$browser_Brand.SILK&&module$contents$goog$labs$userAgent$browser_isSilk()){var r=i[2];return r&&r[1]||""}return""}function module$contents$goog$labs$userAgent$browser_versionOf_(e){if(module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()&&e!==module$contents$goog$labs$userAgent$browser_Brand.SILK){var t=module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function(r){return r.brand===e});if(!t||!t.version)return NaN;var i=t.version.split(".")}else{var n=module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(e);if(n==="")return NaN;i=n.split(".")}return i.length===0?NaN:Number(i[0])}function module$contents$goog$labs$userAgent$browser_isAtLeast(e,t){return(0,goog.asserts.assert)(Math.floor(t)===t,"Major version must be an integer"),module$contents$goog$labs$userAgent$browser_versionOf_(e)>=t}goog.labs.userAgent.browser.isAtLeast=module$contents$goog$labs$userAgent$browser_isAtLeast,goog.labs.userAgent.browser.isAtMost=function e(t,i){return(0,goog.asserts.assert)(Math.floor(i)===i,"Major version must be an integer"),module$contents$goog$labs$userAgent$browser_versionOf_(t)<=i};var module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion=function(e,t,i){this.brand_=e,this.version_=new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(i),this.useUach_=t};module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion.prototype.getIfLoaded=function(){var e=this;if(this.useUach_){var t=module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.getIfLoaded();if(t!==void 0){var i=t.find(function(n){return e.brand_===n.brand});return(0,goog.asserts.assertExists)(i),new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(i.version)}}if(module$contents$goog$labs$userAgent$browser_preUachHasLoaded)return this.version_},module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion.prototype.load=function(){var e=this,t,i;return $jscomp.asyncExecutePromiseGeneratorProgram(function(n){return n.nextAddress==1?e.useUach_?n.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.load(),5):n.yield(0,3):n.nextAddress!=3&&(t=n.yieldResult,t!==void 0)?(i=t.find(function(r){return e.brand_===r.brand}),(0,goog.asserts.assertExists)(i),n.return(new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(i.version))):(module$contents$goog$labs$userAgent$browser_preUachHasLoaded=!0,n.return(e.version_))})};var module$contents$goog$labs$userAgent$browser_preUachHasLoaded=!1;goog.labs.userAgent.browser.loadFullVersions=function e(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(t.nextAddress==1)return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand(!0)?t.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.load(),2):t.jumpTo(2);module$contents$goog$labs$userAgent$browser_preUachHasLoaded=!0,t.jumpToEnd()})},goog.labs.userAgent.browser.resetForTesting=function(){module$contents$goog$labs$userAgent$browser_preUachHasLoaded=!1,module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.resetForTesting()};function module$contents$goog$labs$userAgent$browser_fullVersionOf(e){var t="";module$contents$goog$labs$userAgent$browser_hasFullVersionList()||(t=module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(e));var i=e!==module$contents$goog$labs$userAgent$browser_Brand.SILK&&module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand(!0);if(i){if(!module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function(n){return n.brand===e}))return}else if(t==="")return;return new module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion(e,i,t)}goog.labs.userAgent.browser.fullVersionOf=module$contents$goog$labs$userAgent$browser_fullVersionOf,goog.labs.userAgent.browser.getVersionStringForLogging=function e(t){if(module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand(!0)){var i=module$contents$goog$labs$userAgent$browser_fullVersionOf(t);if(i){var n=i.getIfLoaded();if(n)return n.toVersionStringForLogging();var r=module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function(u){return u.brand===t});return(0,goog.asserts.assertExists)(r),r.version}return""}return module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(t)},goog.labs.userAgent.engine={};function module$contents$goog$labs$userAgent$engine_isPresto(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Presto")}function module$contents$goog$labs$userAgent$engine_isTrident(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Trident")||module$contents$goog$labs$userAgent$util_matchUserAgent("MSIE")}function module$contents$goog$labs$userAgent$engine_isEdge(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Edge")}function module$contents$goog$labs$userAgent$engine_isWebKit(){return module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase("WebKit")&&!module$contents$goog$labs$userAgent$engine_isEdge()}function module$contents$goog$labs$userAgent$engine_isGecko(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Gecko")&&!module$contents$goog$labs$userAgent$engine_isWebKit()&&!module$contents$goog$labs$userAgent$engine_isTrident()&&!module$contents$goog$labs$userAgent$engine_isEdge()}function module$contents$goog$labs$userAgent$engine_getVersion(){var e=module$contents$goog$labs$userAgent$util_getUserAgent();if(e){var t=module$contents$goog$labs$userAgent$util_extractVersionTuples(e),i=module$contents$goog$labs$userAgent$engine_getEngineTuple(t);if(i)return i[0]=="Gecko"?module$contents$goog$labs$userAgent$engine_getVersionForKey(t,"Firefox"):i[1];var n=t[0],r;if(n&&(r=n[2])){var u=/Trident\/([^\s;]+)/.exec(r);if(u)return u[1]}}return""}function module$contents$goog$labs$userAgent$engine_getEngineTuple(e){if(!module$contents$goog$labs$userAgent$engine_isEdge())return e[1];for(var t=0;t<e.length;t++){var i=e[t];if(i[0]=="Edge")return i}}function module$contents$goog$labs$userAgent$engine_getVersionForKey(e,t){var i=module$contents$goog$array_find(e,function(n){return t==n[0]});return i&&i[1]||""}goog.labs.userAgent.engine.getVersion=module$contents$goog$labs$userAgent$engine_getVersion,goog.labs.userAgent.engine.isEdge=module$contents$goog$labs$userAgent$engine_isEdge,goog.labs.userAgent.engine.isGecko=module$contents$goog$labs$userAgent$engine_isGecko,goog.labs.userAgent.engine.isPresto=module$contents$goog$labs$userAgent$engine_isPresto,goog.labs.userAgent.engine.isTrident=module$contents$goog$labs$userAgent$engine_isTrident,goog.labs.userAgent.engine.isVersionOrHigher=function e(t){return 0<=goog.string.internal.compareVersions(module$contents$goog$labs$userAgent$engine_getVersion(),t)},goog.labs.userAgent.engine.isWebKit=module$contents$goog$labs$userAgent$engine_isWebKit,goog.labs.userAgent.platform={};function module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform(e){if(!(e!==void 0&&e||(0,goog.labs.userAgent.useClientHints)()))return!1;var t=module$contents$goog$labs$userAgent$util_getUserAgentData();return!!t&&!!t.platform}function module$contents$goog$labs$userAgent$platform_isAndroid(){return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform()?module$contents$goog$labs$userAgent$util_getUserAgentData().platform==="Android":module$contents$goog$labs$userAgent$util_matchUserAgent("Android")}function module$contents$goog$labs$userAgent$platform_isIpod(){return module$contents$goog$labs$userAgent$util_matchUserAgent("iPod")}function module$contents$goog$labs$userAgent$platform_isIphone(){return module$contents$goog$labs$userAgent$util_matchUserAgent("iPhone")&&!module$contents$goog$labs$userAgent$util_matchUserAgent("iPod")&&!module$contents$goog$labs$userAgent$util_matchUserAgent("iPad")}function module$contents$goog$labs$userAgent$platform_isIpad(){return module$contents$goog$labs$userAgent$util_matchUserAgent("iPad")}function module$contents$goog$labs$userAgent$platform_isIos(){return module$contents$goog$labs$userAgent$platform_isIphone()||module$contents$goog$labs$userAgent$platform_isIpad()||module$contents$goog$labs$userAgent$platform_isIpod()}function module$contents$goog$labs$userAgent$platform_isMacintosh(){return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform()?module$contents$goog$labs$userAgent$util_getUserAgentData().platform==="macOS":module$contents$goog$labs$userAgent$util_matchUserAgent("Macintosh")}function module$contents$goog$labs$userAgent$platform_isLinux(){return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform()?module$contents$goog$labs$userAgent$util_getUserAgentData().platform==="Linux":module$contents$goog$labs$userAgent$util_matchUserAgent("Linux")}function module$contents$goog$labs$userAgent$platform_isWindows(){return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform()?module$contents$goog$labs$userAgent$util_getUserAgentData().platform==="Windows":module$contents$goog$labs$userAgent$util_matchUserAgent("Windows")}function module$contents$goog$labs$userAgent$platform_isChromeOS(){return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform()?module$contents$goog$labs$userAgent$util_getUserAgentData().platform==="Chrome OS":module$contents$goog$labs$userAgent$util_matchUserAgent("CrOS")}function module$contents$goog$labs$userAgent$platform_isKaiOS(){return module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase("KaiOS")}function module$contents$goog$labs$userAgent$platform_getVersion(){var e=module$contents$goog$labs$userAgent$util_getUserAgent(),t="";if(module$contents$goog$labs$userAgent$platform_isWindows()){var i=/Windows (?:NT|Phone) ([0-9.]+)/,n=i.exec(e);t=n?n[1]:"0.0"}else if(module$contents$goog$labs$userAgent$platform_isIos()){i=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/;var r=i.exec(e);t=r&&r[1].replace(/_/g,".")}else if(module$contents$goog$labs$userAgent$platform_isMacintosh()){i=/Mac OS X ([0-9_.]+)/;var u=i.exec(e);t=u?u[1].replace(/_/g,"."):"10"}else if(module$contents$goog$labs$userAgent$platform_isKaiOS()){i=/(?:KaiOS)\/(\S+)/i;var d=i.exec(e);t=d&&d[1]}else if(module$contents$goog$labs$userAgent$platform_isAndroid()){i=/Android\s+([^\);]+)(\)|;)/;var c=i.exec(e);t=c&&c[1]}else if(module$contents$goog$labs$userAgent$platform_isChromeOS()){i=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/;var b=i.exec(e);t=b&&b[1]}return t||""}var module$contents$goog$labs$userAgent$platform_PlatformVersion=function(){this.preUachHasLoaded_=!1};module$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.getIfLoaded=function(){if(module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform(!0)){var e=module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.getIfLoaded();return e===void 0?void 0:new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(e)}if(this.preUachHasLoaded_)return new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(module$contents$goog$labs$userAgent$platform_getVersion())},module$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.load=function(){var e=this,t;return $jscomp.asyncExecutePromiseGeneratorProgram(function(i){return i.nextAddress==1?module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform(!0)?(t=module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version,i.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.load(),3)):(e.preUachHasLoaded_=!0,i.return(new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(module$contents$goog$labs$userAgent$platform_getVersion()))):i.return(new t(i.yieldResult))})},module$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.resetForTesting=function(){module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.resetForTesting(),this.preUachHasLoaded_=!1};var module$contents$goog$labs$userAgent$platform_version=new module$contents$goog$labs$userAgent$platform_PlatformVersion;goog.labs.userAgent.platform.getVersion=module$contents$goog$labs$userAgent$platform_getVersion,goog.labs.userAgent.platform.isAndroid=module$contents$goog$labs$userAgent$platform_isAndroid,goog.labs.userAgent.platform.isChromeOS=module$contents$goog$labs$userAgent$platform_isChromeOS,goog.labs.userAgent.platform.isChromecast=function e(){return module$contents$goog$labs$userAgent$util_matchUserAgent("CrKey")},goog.labs.userAgent.platform.isIos=module$contents$goog$labs$userAgent$platform_isIos,goog.labs.userAgent.platform.isIpad=module$contents$goog$labs$userAgent$platform_isIpad,goog.labs.userAgent.platform.isIphone=module$contents$goog$labs$userAgent$platform_isIphone,goog.labs.userAgent.platform.isIpod=module$contents$goog$labs$userAgent$platform_isIpod,goog.labs.userAgent.platform.isKaiOS=module$contents$goog$labs$userAgent$platform_isKaiOS,goog.labs.userAgent.platform.isLinux=module$contents$goog$labs$userAgent$platform_isLinux,goog.labs.userAgent.platform.isMacintosh=module$contents$goog$labs$userAgent$platform_isMacintosh,goog.labs.userAgent.platform.isVersionOrHigher=function e(t){return 0<=goog.string.internal.compareVersions(module$contents$goog$labs$userAgent$platform_getVersion(),t)},goog.labs.userAgent.platform.isWindows=module$contents$goog$labs$userAgent$platform_isWindows,goog.labs.userAgent.platform.version=module$contents$goog$labs$userAgent$platform_version,goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=function(){},goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch{}return!1},goog.reflect.cache=function(e,t,i,n){var r=n?n(t):t;return Object.prototype.hasOwnProperty.call(e,r)?e[r]:e[r]=i(t)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return module$contents$goog$labs$userAgent$util_getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:module$contents$goog$labs$userAgent$browser_matchOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:module$contents$goog$labs$userAgent$browser_matchIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:module$contents$goog$labs$userAgent$engine_isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:module$contents$goog$labs$userAgent$engine_isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:module$contents$goog$labs$userAgent$engine_isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&module$contents$goog$labs$userAgent$util_matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:module$contents$goog$labs$userAgent$platform_isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:module$contents$goog$labs$userAgent$platform_isWindows(),goog.userAgent.isLegacyLinux_=function(){return module$contents$goog$labs$userAgent$platform_isLinux()||module$contents$goog$labs$userAgent$platform_isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.internal.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:module$contents$goog$labs$userAgent$platform_isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:module$contents$goog$labs$userAgent$platform_isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:module$contents$goog$labs$userAgent$platform_isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:module$contents$goog$labs$userAgent$platform_isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:module$contents$goog$labs$userAgent$platform_isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:module$contents$goog$labs$userAgent$platform_isKaiOS(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();if(t&&(e=t?t[1]:""),goog.userAgent.IE){var i=goog.userAgent.getDocumentMode_();if(i!=null&&i>parseFloat(e))return String(i)}return e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();if(goog.userAgent.GECKO)return/rv:([^\);]+)(\)|;)/.exec(e);if(goog.userAgent.EDGE)return/Edge\/([\d\.]+)/.exec(e);if(goog.userAgent.IE)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(goog.userAgent.WEBKIT)return/WebKit\/(\S+)/.exec(e);if(goog.userAgent.OPERA)return/(?:Version)[ \/]?(\S+)/.exec(e)},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.internal.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,function(){return 0<=goog.string.internal.compareVersions(goog.userAgent.VERSION,e)})},goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE){var e=goog.userAgent.getDocumentMode_();return e||parseInt(goog.userAgent.VERSION,10)||void 0}}(),goog.events.eventTypeHelpers={},goog.events.eventTypeHelpers.getVendorPrefixedName=function(e){return goog.userAgent.WEBKIT?"webkit"+e:e.toLowerCase()},goog.events.eventTypeHelpers.getPointerFallbackEventName=function(e,t,i){return goog.events.BrowserFeature.POINTER_EVENTS?e:goog.events.BrowserFeature.MSPOINTER_EVENTS?t:i},goog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",AUXCLICK:"auxclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSECANCEL:"mousecancel",SELECTIONCHANGE:"selectionchange",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:"focusin",FOCUSOUT:"focusout",CHANGE:"change",RESET:"reset",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DEVICECHANGE:"devicechange",DEVICEMOTION:"devicemotion",DEVICEORIENTATION:"deviceorientation",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",CANPLAY:"canplay",CANPLAYTHROUGH:"canplaythrough",DURATIONCHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",LOADEDDATA:"loadeddata",LOADEDMETADATA:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATECHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",WAITING:"waiting",SOURCEOPEN:"sourceopen",SOURCEENDED:"sourceended",SOURCECLOSED:"sourceclosed",ABORT:"abort",UPDATE:"update",UPDATESTART:"updatestart",UPDATEEND:"updateend",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",INSTALL:"install",ACTIVATE:"activate",FETCH:"fetch",FOREIGNFETCH:"foreignfetch",MESSAGEERROR:"messageerror",STATECHANGE:"statechange",UPDATEFOUND:"updatefound",CONTROLLERCHANGE:"controllerchange",ANIMATIONSTART:goog.events.eventTypeHelpers.getVendorPrefixedName("AnimationStart"),ANIMATIONEND:goog.events.eventTypeHelpers.getVendorPrefixedName("AnimationEnd"),ANIMATIONITERATION:goog.events.eventTypeHelpers.getVendorPrefixedName("AnimationIteration"),TRANSITIONEND:goog.events.eventTypeHelpers.getVendorPrefixedName("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",TEXTINPUT:goog.userAgent.IE?"textinput":"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",BEFOREINPUT:"beforeinput",FULLSCREENCHANGE:"fullscreenchange",WEBKITBEGINFULLSCREEN:"webkitbeginfullscreen",WEBKITENDFULLSCREEN:"webkitendfullscreen",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified",BEFOREPRINT:"beforeprint",AFTERPRINT:"afterprint",BEFOREINSTALLPROMPT:"beforeinstallprompt",APPINSTALLED:"appinstalled",CANCEL:"cancel",FINISH:"finish",REMOVE:"remove"},goog.events.BrowserEvent=function(e,t){goog.events.Event.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.platformModifierKey=!1,this.pointerId=0,this.pointerType="",this.event_=null,e&&this.init(e,t)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.USE_LAYER_XY_AS_OFFSET_XY=!1,goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2,BACK:3,FORWARD:4},goog.events.BrowserEvent.PointerType={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},goog.events.BrowserEvent.IEButtonMap=goog.debug.freeze([1,4,2]),goog.events.BrowserEvent.IE_BUTTON_MAP=goog.events.BrowserEvent.IEButtonMap,goog.events.BrowserEvent.IE_POINTER_TYPE_MAP=goog.debug.freeze({2:goog.events.BrowserEvent.PointerType.TOUCH,3:goog.events.BrowserEvent.PointerType.PEN,4:goog.events.BrowserEvent.PointerType.MOUSE}),goog.events.BrowserEvent.prototype.init=function(e,t){var i=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.currentTarget=t;var r=e.relatedTarget;r?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(r,"nodeName")||(r=null)):i==goog.events.EventType.MOUSEOVER?r=e.fromElement:i==goog.events.EventType.MOUSEOUT&&(r=e.toElement),this.relatedTarget=r,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(goog.events.BrowserEvent.USE_LAYER_XY_AS_OFFSET_XY?(this.offsetX=e.layerX!==void 0?e.layerX:e.offsetX,this.offsetY=e.layerY!==void 0?e.layerY:e.offsetY):(this.offsetX=goog.userAgent.WEBKIT||e.offsetX!==void 0?e.offsetX:e.layerX,this.offsetY=goog.userAgent.WEBKIT||e.offsetY!==void 0?e.offsetY:e.layerY),this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.charCode=e.charCode||(i=="keypress"?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.pointerId=e.pointerId||0,this.pointerType=goog.events.BrowserEvent.getPointerType_(e),this.state=e.state,this.event_=e,e.defaultPrevented&&goog.events.BrowserEvent.superClass_.preventDefault.call(this)},goog.events.BrowserEvent.prototype.isButton=function(e){return this.event_.button==e},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;e.preventDefault?e.preventDefault():e.returnValue=!1},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.BrowserEvent.getPointerType_=function(e){return typeof e.pointerType=="string"?e.pointerType:goog.events.BrowserEvent.IE_POINTER_TYPE_MAP[e.pointerType]||""},goog.events.Listenable=function(){},goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),goog.events.Listenable.addImplementation=function(e){e.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0},goog.events.Listenable.isImplementedBy=function(e){return!(!e||!e[goog.events.Listenable.IMPLEMENTED_BY_PROP])},goog.events.Listenable.prototype.listen=function(e,t,i,n){},goog.events.Listenable.prototype.listenOnce=function(e,t,i,n){},goog.events.Listenable.prototype.unlisten=function(e,t,i,n){},goog.events.Listenable.prototype.unlistenByKey=function(e){},goog.events.Listenable.prototype.dispatchEvent=function(e){},goog.events.Listenable.prototype.removeAllListeners=function(e){},goog.events.Listenable.prototype.getParentEventTarget=function(){},goog.events.Listenable.prototype.fireListeners=function(e,t,i){},goog.events.Listenable.prototype.getListeners=function(e,t){},goog.events.Listenable.prototype.getListener=function(e,t,i,n){},goog.events.Listenable.prototype.hasListener=function(e,t){},goog.events.ListenableKey=function(){},goog.events.ListenableKey.counter_=0,goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_},goog.events.Listener=function(e,t,i,n,r,u){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack),this.listener=e,this.proxy=t,this.src=i,this.type=n,this.capture=!!r,this.handler=u,this.key=goog.events.ListenableKey.reserveKey(),this.removed=this.callOnce=!1},goog.events.Listener.ENABLE_MONITORING=!1,goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.handler=this.src=this.proxy=this.listener=null},goog.object={};function module$contents$goog$object_forEach(e,t,i){for(var n in e)t.call(i,e[n],n,e)}function module$contents$goog$object_filter(e,t,i){var n={},r;for(r in e)t.call(i,e[r],r,e)&&(n[r]=e[r]);return n}function module$contents$goog$object_map(e,t,i){var n={},r;for(r in e)n[r]=t.call(i,e[r],r,e);return n}function module$contents$goog$object_some(e,t,i){for(var n in e)if(t.call(i,e[n],n,e))return!0;return!1}function module$contents$goog$object_getCount(e){var t=0,i;for(i in e)t++;return t}function module$contents$goog$object_contains(e,t){return module$contents$goog$object_containsValue(e,t)}function module$contents$goog$object_getValues(e){var t=[],i=0,n;for(n in e)t[i++]=e[n];return t}function module$contents$goog$object_getKeys(e){var t=[],i=0,n;for(n in e)t[i++]=n;return t}function module$contents$goog$object_containsKey(e,t){return e!==null&&t in e}function module$contents$goog$object_containsValue(e,t){for(var i in e)if(e[i]==t)return!0;return!1}function module$contents$goog$object_findKey(e,t,i){for(var n in e)if(t.call(i,e[n],n,e))return n}function module$contents$goog$object_isEmpty(e){for(var t in e)return!1;return!0}function module$contents$goog$object_clear(e){for(var t in e)delete e[t]}function module$contents$goog$object_remove(e,t){var i;return(i=t in e)&&delete e[t],i}function module$contents$goog$object_set(e,t,i){e[t]=i}function module$contents$goog$object_clone(e){var t={},i;for(i in e)t[i]=e[i];return t}function module$contents$goog$object_unsafeClone(e){if(!e||typeof e!="object")return e;if(typeof e.clone=="function")return e.clone();if(typeof Map<"u"&&e instanceof Map)return new Map(e);if(typeof Set<"u"&&e instanceof Set)return new Set(e);if(e instanceof Date)return new Date(e.getTime());var t=Array.isArray(e)?[]:typeof ArrayBuffer!="function"||typeof ArrayBuffer.isView!="function"||!ArrayBuffer.isView(e)||e instanceof DataView?{}:new e.constructor(e.length),i;for(i in e)t[i]=module$contents$goog$object_unsafeClone(e[i]);return t}var module$contents$goog$object_PROTOTYPE_FIELDS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function module$contents$goog$object_extend(e,t){for(var i,n,r=1;r<arguments.length;r++){n=arguments[r];for(i in n)e[i]=n[i];for(var u=0;u<module$contents$goog$object_PROTOTYPE_FIELDS.length;u++)i=module$contents$goog$object_PROTOTYPE_FIELDS[u],Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}}function module$contents$goog$object_create(e){var t=arguments.length;if(t==1&&Array.isArray(arguments[0]))return module$contents$goog$object_create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var i={},n=0;n<t;n+=2)i[arguments[n]]=arguments[n+1];return i}function module$contents$goog$object_createSet(e){var t=arguments.length;if(t==1&&Array.isArray(arguments[0]))return module$contents$goog$object_createSet.apply(null,arguments[0]);for(var i={},n=0;n<t;n++)i[arguments[n]]=!0;return i}goog.object.add=function e(t,i,n){if(t!==null&&i in t)throw Error('The object already contains the key "'+i+'"');module$contents$goog$object_set(t,i,n)},goog.object.clear=module$contents$goog$object_clear,goog.object.clone=module$contents$goog$object_clone,goog.object.contains=module$contents$goog$object_contains,goog.object.containsKey=module$contents$goog$object_containsKey,goog.object.containsValue=module$contents$goog$object_containsValue,goog.object.create=module$contents$goog$object_create,goog.object.createImmutableView=function e(t){var i=t;return Object.isFrozen&&!Object.isFrozen(t)&&(i=Object.create(t),Object.freeze(i)),i},goog.object.createSet=module$contents$goog$object_createSet,goog.object.equals=function e(t,i){for(var n in t)if(!(n in i)||t[n]!==i[n])return!1;for(var r in i)if(!(r in t))return!1;return!0},goog.object.every=function e(t,i,n){for(var r in t)if(!i.call(n,t[r],r,t))return!1;return!0},goog.object.extend=module$contents$goog$object_extend,goog.object.filter=module$contents$goog$object_filter,goog.object.findKey=module$contents$goog$object_findKey,goog.object.findValue=function e(t,i,n){var r=module$contents$goog$object_findKey(t,i,n);return r&&t[r]},goog.object.forEach=module$contents$goog$object_forEach,goog.object.get=function e(t,i,n){return t!==null&&i in t?t[i]:n},goog.object.getAllPropertyNames=function e(t,i,n){if(!t)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return module$contents$goog$object_getKeys(t);for(var r={},u=t;u&&(u!==Object.prototype||i)&&(u!==Function.prototype||n);){for(var d=Object.getOwnPropertyNames(u),c=0;c<d.length;c++)r[d[c]]=!0;u=Object.getPrototypeOf(u)}return module$contents$goog$object_getKeys(r)},goog.object.getAnyKey=function e(t){for(var i in t)return i},goog.object.getAnyValue=function e(t){for(var i in t)return t[i]},goog.object.getCount=module$contents$goog$object_getCount,goog.object.getKeys=module$contents$goog$object_getKeys,goog.object.getSuperClass=function e(t){var i=Object.getPrototypeOf(t.prototype);return i&&i.constructor},goog.object.getValueByKeys=function e(t,i){for(var n=goog.isArrayLike(i),r=n?i:arguments,u=n?0:1;u<r.length;u++){if(t==null)return;t=t[r[u]]}return t},goog.object.getValues=module$contents$goog$object_getValues,goog.object.isEmpty=module$contents$goog$object_isEmpty,goog.object.isImmutableView=function e(t){return!!Object.isFrozen&&Object.isFrozen(t)},goog.object.map=module$contents$goog$object_map,goog.object.remove=module$contents$goog$object_remove,goog.object.set=module$contents$goog$object_set,goog.object.setIfUndefined=function e(t,i,n){return i in t?t[i]:t[i]=n},goog.object.setWithReturnValueIfNotSet=function e(t,i,n){if(i in t)return t[i];var r=n();return t[i]=r},goog.object.some=module$contents$goog$object_some,goog.object.transpose=function e(t){var i={},n;for(n in t)i[t[n]]=n;return i},goog.object.unsafeClone=module$contents$goog$object_unsafeClone,goog.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},goog.events.ListenerMap.prototype.getListenerCount=function(){var e=0,t;for(t in this.listeners)e+=this.listeners[t].length;return e},goog.events.ListenerMap.prototype.add=function(e,t,i,n,r){var u=e.toString(),d=this.listeners[u];d||(d=this.listeners[u]=[],this.typeCount_++);var c=goog.events.ListenerMap.findListenerIndex_(d,t,n,r);if(-1<c){var b=d[c];i||(b.callOnce=!1)}else b=new goog.events.Listener(t,null,this.src,u,!!n,r),b.callOnce=i,d.push(b);return b},goog.events.ListenerMap.prototype.remove=function(e,t,i,n){var r=e.toString();if(!(r in this.listeners))return!1;var u=this.listeners[r],d=goog.events.ListenerMap.findListenerIndex_(u,t,i,n);return-1<d?(u[d].markAsRemoved(),module$contents$goog$array_removeAt(u,d),u.length==0&&(delete this.listeners[r],this.typeCount_--),!0):!1},goog.events.ListenerMap.prototype.removeByKey=function(e){var t=e.type;if(!(t in this.listeners))return!1;var i=module$contents$goog$array_remove(this.listeners[t],e);return i&&(e.markAsRemoved(),this.listeners[t].length==0&&(delete this.listeners[t],this.typeCount_--)),i},goog.events.ListenerMap.prototype.removeAll=function(e){var t=e&&e.toString(),i=0,n;for(n in this.listeners)if(!t||n==t){for(var r=this.listeners[n],u=0;u<r.length;u++)++i,r[u].markAsRemoved();delete this.listeners[n],this.typeCount_--}return i},goog.events.ListenerMap.prototype.getListeners=function(e,t){var i=this.listeners[e.toString()],n=[];if(i)for(var r=0;r<i.length;++r){var u=i[r];u.capture==t&&n.push(u)}return n},goog.events.ListenerMap.prototype.getListener=function(e,t,i,n){var r=this.listeners[e.toString()],u=-1;return r&&(u=goog.events.ListenerMap.findListenerIndex_(r,t,i,n)),-1<u?r[u]:null},goog.events.ListenerMap.prototype.hasListener=function(e,t){var i=e!==void 0,n=i?e.toString():"",r=t!==void 0;return module$contents$goog$object_some(this.listeners,function(u,d){for(var c=0;c<u.length;++c)if(!(i&&u[c].type!=n||r&&u[c].capture!=t))return!0;return!1})},goog.events.ListenerMap.findListenerIndex_=function(e,t,i,n){for(var r=0;r<e.length;++r){var u=e[r];if(!u.removed&&u.listener==t&&u.capture==!!i&&u.handler==n)return r}return-1},goog.events.Key={},goog.events.ListenableType={},goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),goog.events.onString_="on",goog.events.onStringMap_={},goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},goog.events.CAPTURE_SIMULATION_MODE=2,goog.events.listenerCountEstimate_=0,goog.events.listen=function(e,t,i,n,r){if(n&&n.once)return goog.events.listenOnce(e,t,i,n,r);if(Array.isArray(t)){for(var u=0;u<t.length;u++)goog.events.listen(e,t[u],i,n,r);return null}return i=goog.events.wrapListener(i),goog.events.Listenable.isImplementedBy(e)?e.listen(t,i,goog.isObject(n)?!!n.capture:!!n,r):goog.events.listen_(e,t,i,!1,n,r)},goog.events.listen_=function(e,t,i,n,r,u){if(!t)throw Error("Invalid event type");var d=goog.isObject(r)?!!r.capture:!!r,c=goog.events.getListenerMap_(e);c||(e[goog.events.LISTENER_MAP_PROP_]=c=new goog.events.ListenerMap(e));var b=c.add(t,i,n,d,u);if(b.proxy)return b;var S=goog.events.getProxy();if(b.proxy=S,S.src=e,S.listener=b,e.addEventListener)goog.events.BrowserFeature.PASSIVE_EVENTS||(r=d),r===void 0&&(r=!1),e.addEventListener(t.toString(),S,r);else if(e.attachEvent)e.attachEvent(goog.events.getOnString_(t.toString()),S);else if(e.addListener&&e.removeListener)goog.asserts.assert(t==="change","MediaQueryList only has a change event"),e.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return goog.events.listenerCountEstimate_++,b},goog.events.getProxy=function(){var e=goog.events.handleBrowserEvent_,t=function(i){return e.call(t.src,t.listener,i)};return t},goog.events.listenOnce=function(e,t,i,n,r){if(Array.isArray(t)){for(var u=0;u<t.length;u++)goog.events.listenOnce(e,t[u],i,n,r);return null}return i=goog.events.wrapListener(i),goog.events.Listenable.isImplementedBy(e)?e.listenOnce(t,i,goog.isObject(n)?!!n.capture:!!n,r):goog.events.listen_(e,t,i,!0,n,r)},goog.events.listenWithWrapper=function(e,t,i,n,r){t.listen(e,i,n,r)},goog.events.unlisten=function(e,t,i,n,r){if(Array.isArray(t)){for(var u=0;u<t.length;u++)goog.events.unlisten(e,t[u],i,n,r);return null}var d=goog.isObject(n)?!!n.capture:!!n;if(i=goog.events.wrapListener(i),goog.events.Listenable.isImplementedBy(e))return e.unlisten(t,i,d,r);if(!e)return!1;var c=goog.events.getListenerMap_(e);if(c){var b=c.getListener(t,i,d,r);if(b)return goog.events.unlistenByKey(b)}return!1},goog.events.unlistenByKey=function(e){if(typeof e=="number"||!e||e.removed)return!1;var t=e.src;if(goog.events.Listenable.isImplementedBy(t))return t.unlistenByKey(e);var i=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(i,n,e.capture):t.detachEvent?t.detachEvent(goog.events.getOnString_(i),n):t.addListener&&t.removeListener&&t.removeListener(n),goog.events.listenerCountEstimate_--;var r=goog.events.getListenerMap_(t);return r?(r.removeByKey(e),r.getTypeCount()==0&&(r.src=null,t[goog.events.LISTENER_MAP_PROP_]=null)):e.markAsRemoved(),!0},goog.events.unlistenWithWrapper=function(e,t,i,n,r){t.unlisten(e,i,n,r)},goog.events.removeAll=function(e,t){if(!e)return 0;if(goog.events.Listenable.isImplementedBy(e))return e.removeAllListeners(t);var i=goog.events.getListenerMap_(e);if(!i)return 0;var n=0,r=t&&t.toString(),u;for(u in i.listeners)if(!r||u==r)for(var d=i.listeners[u].concat(),c=0;c<d.length;++c)goog.events.unlistenByKey(d[c])&&++n;return n},goog.events.getListeners=function(e,t,i){if(goog.events.Listenable.isImplementedBy(e))return e.getListeners(t,i);if(!e)return[];var n=goog.events.getListenerMap_(e);return n?n.getListeners(t,i):[]},goog.events.getListener=function(e,t,i,n,r){i=goog.events.wrapListener(i);var u=!!n;if(goog.events.Listenable.isImplementedBy(e))return e.getListener(t,i,u,r);if(!e)return null;var d=goog.events.getListenerMap_(e);return d?d.getListener(t,i,u,r):null},goog.events.hasListener=function(e,t,i){if(goog.events.Listenable.isImplementedBy(e))return e.hasListener(t,i);var n=goog.events.getListenerMap_(e);return!!n&&n.hasListener(t,i)},goog.events.expose=function(e){var t=[],i;for(i in e)e[i]&&e[i].id?t.push(i+" = "+e[i]+" ("+e[i].id+")"):t.push(i+" = "+e[i]);return t.join(`
`)},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,t,i,n){return goog.events.Listenable.isImplementedBy(e)?e.fireListeners(t,i,n):goog.events.fireListeners_(e,t,i,n)},goog.events.fireListeners_=function(e,t,i,n){var r=!0,u=goog.events.getListenerMap_(e);if(u){var d=u.listeners[t.toString()];if(d){d=d.concat();for(var c=0;c<d.length;c++){var b=d[c];if(b&&b.capture==i&&!b.removed){var S=goog.events.fireListener(b,n);r=r&&S!==!1}}}}return r},goog.events.fireListener=function(e,t){var i=e.listener,n=e.handler||e.src;return e.callOnce&&goog.events.unlistenByKey(e),i.call(n,t)},goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_},goog.events.dispatchEvent=function(e,t){return goog.asserts.assert(goog.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(t)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,t){return e.removed?!0:goog.events.fireListener(e,new goog.events.BrowserEvent(t,this))},goog.events.markIeEvent_=function(e){var t=!1;if(e.keyCode==0)try{e.keyCode=-1;return}catch{t=!0}(t||e.returnValue==null)&&(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return 0>e.keyCode||e.returnValue!=null},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.events.getListenerMap_=function(e){var t=e[goog.events.LISTENER_MAP_PROP_];return t instanceof goog.events.ListenerMap?t:null},goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),goog.events.wrapListener=function(e){return goog.asserts.assert(e,"Listener can not be null."),typeof e=="function"?e:(goog.asserts.assert(e.handleEvent,"An object listener must have handleEvent method."),e[goog.events.LISTENER_WRAPPER_PROP_]||(e[goog.events.LISTENER_WRAPPER_PROP_]=function(t){return e.handleEvent(t)}),e[goog.events.LISTENER_WRAPPER_PROP_])},goog.debug.entryPointRegistry.register(function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)}),goog.events.EventTarget=function(){goog.Disposable.call(this),this.eventTargetListeners_=new goog.events.ListenerMap(this),this.actualEventTarget_=this,this.parentEventTarget_=null},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.Listenable.addImplementation(goog.events.EventTarget),goog.events.EventTarget.MAX_ANCESTORS_=1e3,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,t,i,n){goog.events.listen(this,e,t,i,n)},goog.events.EventTarget.prototype.removeEventListener=function(e,t,i,n){goog.events.unlisten(this,e,t,i,n)},goog.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var t=this.getParentEventTarget();if(t)for(var i=[],n=1;t;t=t.getParentEventTarget())i.push(t),goog.asserts.assert(++n<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop");return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,i)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},goog.events.EventTarget.prototype.listen=function(e,t,i,n){return this.assertInitialized_(),this.eventTargetListeners_.add(String(e),t,!1,i,n)},goog.events.EventTarget.prototype.listenOnce=function(e,t,i,n){return this.eventTargetListeners_.add(String(e),t,!0,i,n)},goog.events.EventTarget.prototype.unlisten=function(e,t,i,n){return this.eventTargetListeners_.remove(String(e),t,i,n)},goog.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},goog.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},goog.events.EventTarget.prototype.fireListeners=function(e,t,i){var n=this.eventTargetListeners_.listeners[String(e)];if(!n)return!0;n=n.concat();for(var r=!0,u=0;u<n.length;++u){var d=n[u];if(d&&!d.removed&&d.capture==t){var c=d.listener,b=d.handler||d.src;d.callOnce&&this.unlistenByKey(d),r=c.call(b,i)!==!1&&r}}return r&&!i.defaultPrevented},goog.events.EventTarget.prototype.getListeners=function(e,t){return this.eventTargetListeners_.getListeners(String(e),t)},goog.events.EventTarget.prototype.getListener=function(e,t,i,n){return this.eventTargetListeners_.getListener(String(e),t,i,n)},goog.events.EventTarget.prototype.hasListener=function(e,t){return this.eventTargetListeners_.hasListener(e!==void 0?String(e):void 0,t)},goog.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},goog.events.EventTarget.dispatchEventInternal_=function(e,t,i){var n=t.type||t;if(typeof t=="string")t=new goog.events.Event(t,e);else if(t instanceof goog.events.Event)t.target=t.target||e;else{var r=t;t=new goog.events.Event(n,e),module$contents$goog$object_extend(t,r)}var u=!0;if(i)for(var d=i.length-1;!t.hasPropagationStopped()&&0<=d;d--){var c=t.currentTarget=i[d];u=c.fireListeners(n,!0,t)&&u}if(t.hasPropagationStopped()||(c=t.currentTarget=e,u=c.fireListeners(n,!0,t)&&u,t.hasPropagationStopped()||(u=c.fireListeners(n,!1,t)&&u)),i)for(d=0;!t.hasPropagationStopped()&&d<i.length;d++)c=t.currentTarget=i[d],u=c.fireListeners(n,!1,t)&&u;return u},goog.structs={},goog.structs.Collection=function(){},goog.collections={},goog.collections.iters={};function module$contents$goog$collections$iters_getIterator(e){return e[goog.global.Symbol.iterator]()}goog.collections.iters.getIterator=module$contents$goog$collections$iters_getIterator;function module$contents$goog$collections$iters_forEach(e,t){for(var i;!(i=e.next()).done;)t(i.value)}goog.collections.iters.forEach=module$contents$goog$collections$iters_forEach;var module$contents$goog$collections$iters_MapIterator=function(e,t){this.childIterator_=module$contents$goog$collections$iters_getIterator(e),this.mapFn_=t};module$contents$goog$collections$iters_MapIterator.prototype[Symbol.iterator]=function(){return this},module$contents$goog$collections$iters_MapIterator.prototype.next=function(){var e=this.childIterator_.next();return{value:e.done?void 0:this.mapFn_.call(void 0,e.value),done:e.done}},goog.collections.iters.map=function(e,t){return new module$contents$goog$collections$iters_MapIterator(e,t)};var module$contents$goog$collections$iters_FilterIterator=function(e,t){this.childIter_=module$contents$goog$collections$iters_getIterator(e),this.filterFn_=t};module$contents$goog$collections$iters_FilterIterator.prototype[Symbol.iterator]=function(){return this},module$contents$goog$collections$iters_FilterIterator.prototype.next=function(){for(;;){var e=this.childIter_.next();if(e.done)return{done:!0,value:void 0};if(this.filterFn_.call(void 0,e.value))return e}},goog.collections.iters.filter=function(e,t){return new module$contents$goog$collections$iters_FilterIterator(e,t)};var module$contents$goog$collections$iters_ConcatIterator=function(e){this.iterators_=e,this.iterIndex_=0};module$contents$goog$collections$iters_ConcatIterator.prototype[Symbol.iterator]=function(){return this},module$contents$goog$collections$iters_ConcatIterator.prototype.next=function(){for(;this.iterIndex_<this.iterators_.length;){var e=this.iterators_[this.iterIndex_].next();if(!e.done)return e;this.iterIndex_++}return{done:!0}},goog.collections.iters.concat=function(){return new module$contents$goog$collections$iters_ConcatIterator($jscomp.getRestArguments.apply(0,arguments).map(module$contents$goog$collections$iters_getIterator))},goog.collections.iters.toArray=function(e){var t=[];return module$contents$goog$collections$iters_forEach(e,function(i){return t.push(i)}),t},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.UNDEFINED=function(){},goog.functions.EMPTY=goog.functions.UNDEFINED,goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var i=Array.prototype.slice.call(arguments,1);return function(){var n=this;n===goog.global&&(n=void 0);var r=Array.prototype.slice.call(arguments);return r.push.apply(r,i),e.apply(n,r)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(i){return t?e==i:e===i}},goog.functions.compose=function(e,t){var i=arguments,n=i.length;return function(){var r;n&&(r=i[n-1].apply(this,arguments));for(var u=n-2;0<=u;u--)r=i[u].call(this,r);return r}},goog.functions.sequence=function(e){var t=arguments,i=t.length;return function(){for(var n,r=0;r<i;r++)n=t[r].apply(this,arguments);return n}},goog.functions.and=function(e){var t=arguments,i=t.length;return function(){for(var n=0;n<i;n++)if(!t[n].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,i=t.length;return function(){for(var n=0;n<i;n++)if(t[n].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var i=function(){};i.prototype=e.prototype;var n=new i;return e.apply(n,Array.prototype.slice.call(arguments,1)),n},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t=!1,i;return function(){return goog.functions.CACHE_RETURN_VALUE?(t||(i=e(),t=!0),i):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var i=t;t=null,i()}}},goog.functions.debounce=function(e,t,i){var n=0;return function(r){goog.global.clearTimeout(n);var u=arguments;n=goog.global.setTimeout(function(){e.apply(i,u)},t)}},goog.functions.throttle=function(e,t,i){var n=0,r=!1,u=[],d=function(){n=0,r&&(r=!1,c())},c=function(){n=goog.global.setTimeout(d,t);var b=u;u=[],e.apply(i,b)};return function(b){u=arguments,n?r=!0:c()}},goog.functions.rateLimit=function(e,t,i){var n=0,r=function(){n=0};return function(u){n||(n=goog.global.setTimeout(r,t),e.apply(i,arguments))}},goog.functions.isFunction=function(e){return typeof e=="function"},goog.math={},goog.math.randomInt=function(e){return Math.floor(Math.random()*e)},goog.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},goog.math.clamp=function(e,t,i){return Math.min(Math.max(e,t),i)},goog.math.modulo=function(e,t){var i=e%t;return 0>i*t?i+t:i},goog.math.lerp=function(e,t,i){return e+i*(t-e)},goog.math.nearlyEquals=function(e,t,i){return Math.abs(e-t)<=(i||1e-6)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.standardAngleInRadians=function(e){return goog.math.modulo(e,2*Math.PI)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,t){return t*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,t){return t*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,t,i,n){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(n-t,i-e)))},goog.math.angleDifference=function(e,t){var i=goog.math.standardAngle(t)-goog.math.standardAngle(e);return 180<i?i-=360:-180>=i&&(i=360+i),i},goog.math.sign=function(e){return 0<e?1:0>e?-1:e},goog.math.longestCommonSubsequence=function(e,t,i,n){for(var r=i||function(D,H){return D==H},u=n||function(D,H){return e[D]},d=e.length,c=t.length,b=[],S=0;S<d+1;S++)b[S]=[],b[S][0]=0;for(var C=0;C<c+1;C++)b[0][C]=0;for(S=1;S<=d;S++)for(C=1;C<=c;C++)r(e[S-1],t[C-1])?b[S][C]=b[S-1][C-1]+1:b[S][C]=Math.max(b[S-1][C],b[S][C-1]);var O=[];for(S=d,C=c;0<S&&0<C;)r(e[S-1],t[C-1])?(O.unshift(u(S-1,C-1)),S--,C--):b[S-1][C]>b[S][C-1]?S--:C--;return O},goog.math.sum=function(e){return Array.prototype.reduce.call(arguments,function(t,i){return t+i},0)},goog.math.average=function(e){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.sampleVariance=function(e){var t=arguments.length;if(2>t)return 0;var i=goog.math.average.apply(null,arguments);return goog.math.sum.apply(null,Array.prototype.map.call(arguments,function(n){return Math.pow(n-i,2)}))/(t-1)},goog.math.standardDeviation=function(e){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))},goog.math.isInt=function(e){return isFinite(e)&&e%1==0},goog.math.isFiniteNumber=function(e){return isFinite(e)},goog.math.isNegativeZero=function(e){return e==0&&0>1/e},goog.math.log10Floor=function(e){if(0<e){var t=Math.round(Math.log(e)*Math.LOG10E);return t-(parseFloat("1e"+t)>e?1:0)}return e==0?-1/0:NaN},goog.math.safeFloor=function(e,t){return goog.asserts.assert(t===void 0||0<t),Math.floor(e+(t||2e-15))},goog.math.safeCeil=function(e,t){return goog.asserts.assert(t===void 0||0<t),Math.ceil(e-(t||2e-15))},goog.iter={},goog.iter.Iterable={},goog.iter.Iterator=function(){},goog.iter.Iterator.prototype.next=function(){return goog.iter.ES6_ITERATOR_DONE},goog.iter.ES6_ITERATOR_DONE=goog.debug.freeze({done:!0,value:void 0}),goog.iter.createEs6IteratorYield=function(e){return{value:e,done:!1}},goog.iter.Iterator.prototype.__iterator__=function(e){return this},goog.iter.toIterator=function(e){if(e instanceof goog.iter.Iterator)return e;if(typeof e.__iterator__=="function")return e.__iterator__(!1);if(goog.isArrayLike(e)){var t=0,i=new goog.iter.Iterator;return i.next=function(){for(;;){if(t>=e.length)return goog.iter.ES6_ITERATOR_DONE;if(t in e)return goog.iter.createEs6IteratorYield(e[t++]);t++}},i}throw Error("Not implemented")},goog.iter.forEach=function(e,t,i){if(goog.isArrayLike(e))module$contents$goog$array_forEach(e,t,i);else for(var n=goog.iter.toIterator(e);;){var r=n.next();if(r.done)break;t.call(i,r.value,void 0,n)}},goog.iter.filter=function(e,t,i){var n=goog.iter.toIterator(e),r=new goog.iter.Iterator;return r.next=function(){for(;;){var u=n.next(),d=u.value;if(u.done)return goog.iter.ES6_ITERATOR_DONE;if(t.call(i,d,void 0,n))return goog.iter.createEs6IteratorYield(d)}},r},goog.iter.filterFalse=function(e,t,i){return goog.iter.filter(e,goog.functions.not(t),i)},goog.iter.range=function(e,t,i){var n=0,r=e,u=i||1;if(1<arguments.length&&(n=e,r=+t),u==0)throw Error("Range step argument must not be zero");var d=new goog.iter.Iterator;return d.next=function(){if(0<u&&n>=r||0>u&&n<=r)return goog.iter.ES6_ITERATOR_DONE;var c=n;return n+=u,goog.iter.createEs6IteratorYield(c)},d},goog.iter.join=function(e,t){return goog.iter.toArray(e).join(t)},goog.iter.map=function(e,t,i){var n=goog.iter.toIterator(e),r=new goog.iter.Iterator;return r.next=function(){var u=n.next();if(u.done)return goog.iter.ES6_ITERATOR_DONE;var d=t.call(i,u.value,void 0,n);return goog.iter.createEs6IteratorYield(d)},r},goog.iter.reduce=function(e,t,i,n){var r=i;return goog.iter.forEach(e,function(u){r=t.call(n,r,u)}),r},goog.iter.some=function(e,t,i){for(var n=goog.iter.toIterator(e);;){var r=n.next();if(r.done)return!1;if(t.call(i,r.value,void 0,n))return!0}},goog.iter.every=function(e,t,i){for(var n=goog.iter.toIterator(e);;){var r=n.next();if(r.done)return!0;if(!t.call(i,r.value,void 0,n))return!1}},goog.iter.chain=function(e){return goog.iter.chainFromIterable(arguments)},goog.iter.chainFromIterable=function(e){var t=goog.iter.toIterator(e),i=new goog.iter.Iterator,n=null;return i.next=function(){for(;;){if(n==null){var r=t.next();if(r.done)return goog.iter.ES6_ITERATOR_DONE;n=goog.iter.toIterator(r.value)}var u=n.next();if(u.done)n=null;else return goog.iter.createEs6IteratorYield(u.value)}},i},goog.iter.dropWhile=function(e,t,i){var n=goog.iter.toIterator(e),r=new goog.iter.Iterator,u=!0;return r.next=function(){for(;;){var d=n.next(),c=d.value;if(d.done)return goog.iter.ES6_ITERATOR_DONE;if(!u||!t.call(i,c,void 0,n))return u=!1,goog.iter.createEs6IteratorYield(c)}},r},goog.iter.takeWhile=function(e,t,i){var n=goog.iter.toIterator(e),r=new goog.iter.Iterator;return r.next=function(){var u=n.next(),d=u.value;return u.done?goog.iter.ES6_ITERATOR_DONE:t.call(i,d,void 0,n)?goog.iter.createEs6IteratorYield(d):goog.iter.ES6_ITERATOR_DONE},r},goog.iter.toArray=function(e){if(goog.isArrayLike(e))return module$contents$goog$array_toArray(e);e=goog.iter.toIterator(e);var t=[];return goog.iter.forEach(e,function(i){t.push(i)}),t},goog.iter.equals=function(e,t,i){var n=goog.iter.zipLongest({},e,t),r=i||module$contents$goog$array_defaultCompareEquality;return goog.iter.every(n,function(u){return r(u[0],u[1])})},goog.iter.nextOrValue=function(e,t){var i=goog.iter.toIterator(e).next();return i.done?t:i.value},goog.iter.product=function(e){if(Array.prototype.some.call(arguments,function(r){return!r.length})||!arguments.length)return new goog.iter.Iterator;var t=new goog.iter.Iterator,i=arguments,n=module$contents$goog$array_repeat(0,i.length);return t.next=function(){if(n){for(var r=module$contents$goog$array_map(n,function(d,c){return i[c][d]}),u=n.length-1;0<=u;u--){if(goog.asserts.assert(n),n[u]<i[u].length-1){n[u]++;break}if(u==0){n=null;break}n[u]=0}return goog.iter.createEs6IteratorYield(r)}return goog.iter.ES6_ITERATOR_DONE},t},goog.iter.cycle=function(e){var t=goog.iter.toIterator(e),i=[],n=0,r=new goog.iter.Iterator,u=!1;return r.next=function(){var d=null;if(!u){var c=t.next();if(c.done){if(module$contents$goog$array_isEmpty(i))return goog.iter.ES6_ITERATOR_DONE;u=!0}else return i.push(c.value),c}return d=i[n],n=(n+1)%i.length,goog.iter.createEs6IteratorYield(d)},r},goog.iter.count=function(e,t){var i=e||0,n=t!==void 0?t:1,r=new goog.iter.Iterator;return r.next=function(){var u=i;return i+=n,goog.iter.createEs6IteratorYield(u)},r},goog.iter.repeat=function(e){var t=new goog.iter.Iterator;return t.next=function(){return goog.iter.createEs6IteratorYield(e)},t},goog.iter.accumulate=function(e){var t=goog.iter.toIterator(e),i=0,n=new goog.iter.Iterator;return n.next=function(){var r=t.next();return r.done?goog.iter.ES6_ITERATOR_DONE:(i+=r.value,goog.iter.createEs6IteratorYield(i))},n},goog.iter.zip=function(e){var t=arguments,i=new goog.iter.Iterator;if(0<t.length){var n=module$contents$goog$array_map(t,goog.iter.toIterator),r=!1;i.next=function(){if(r)return goog.iter.ES6_ITERATOR_DONE;for(var u=[],d=0,c=void 0;c=n[d++];){var b=c.next();if(b.done)return r=!0,goog.iter.ES6_ITERATOR_DONE;u.push(b.value)}return goog.iter.createEs6IteratorYield(u)}}return i},goog.iter.zipLongest=function(e,t){var i=Array.prototype.slice.call(arguments,1),n=new goog.iter.Iterator;if(0<i.length){var r=module$contents$goog$array_map(i,goog.iter.toIterator),u=!1;n.next=function(){if(u)return goog.iter.ES6_ITERATOR_DONE;for(var d=!1,c=[],b=0,S=void 0;S=r[b++];){var C=S.next();C.done?c.push(e):(c.push(C.value),d=!0)}return d?goog.iter.createEs6IteratorYield(c):(u=!0,goog.iter.ES6_ITERATOR_DONE)}}return n},goog.iter.compress=function(e,t){var i=goog.iter.toIterator(e),n=goog.iter.toIterator(t),r=new goog.iter.Iterator,u=!1;return r.next=function(){if(u)return goog.iter.ES6_ITERATOR_DONE;for(;;){var d=i.next();if(d.done)return u=!0,goog.iter.ES6_ITERATOR_DONE;var c=n.next();if(c.done)return u=!0,goog.iter.ES6_ITERATOR_DONE;var b=d.value;if(c.value)return goog.iter.createEs6IteratorYield(b)}},r},goog.iter.GroupByIterator_=function(e,t){this.iterator=goog.iter.toIterator(e),this.keyFunc=t||goog.functions.identity},goog.inherits(goog.iter.GroupByIterator_,goog.iter.Iterator),goog.iter.GroupByIterator_.prototype.next=function(){for(;this.currentKey==this.targetKey;){var e=this.iterator.next();if(e.done)return goog.iter.ES6_ITERATOR_DONE;this.currentValue=e.value,this.currentKey=this.keyFunc(this.currentValue)}return this.targetKey=this.currentKey,goog.iter.createEs6IteratorYield([this.currentKey,this.groupItems_(this.targetKey)])},goog.iter.GroupByIterator_.prototype.groupItems_=function(e){for(var t=[];this.currentKey==e;){t.push(this.currentValue);var i=this.iterator.next();if(i.done)break;this.currentValue=i.value,this.currentKey=this.keyFunc(this.currentValue)}return t},goog.iter.groupBy=function(e,t){return new goog.iter.GroupByIterator_(e,t)},goog.iter.starMap=function(e,t,i){var n=goog.iter.toIterator(e),r=new goog.iter.Iterator;return r.next=function(){var u=n.next();if(u.done)return goog.iter.ES6_ITERATOR_DONE;var d=goog.iter.toArray(u.value),c=t.apply(i,[].concat(d,void 0,n));return goog.iter.createEs6IteratorYield(c)},r},goog.iter.tee=function(e,t){function i(){var u=n.next(),d=u.value;if(u.done)return!1;for(var c=0,b=void 0;b=r[c++];)b.push(d);return!0}var n=goog.iter.toIterator(e),r=module$contents$goog$array_map(module$contents$goog$array_range(typeof t=="number"?t:2),function(){return[]});return module$contents$goog$array_map(r,function(d){var c=new goog.iter.Iterator;return c.next=function(){return module$contents$goog$array_isEmpty(d)&&!i()?goog.iter.ES6_ITERATOR_DONE:(goog.asserts.assert(!module$contents$goog$array_isEmpty(d)),goog.iter.createEs6IteratorYield(d.shift()))},c})},goog.iter.enumerate=function(e,t){return goog.iter.zip(goog.iter.count(t),e)},goog.iter.limit=function(e,t){goog.asserts.assert(goog.math.isInt(t)&&0<=t);var i=goog.iter.toIterator(e),n=new goog.iter.Iterator,r=t;return n.next=function(){return 0<r--?i.next():goog.iter.ES6_ITERATOR_DONE},n},goog.iter.consume=function(e,t){goog.asserts.assert(goog.math.isInt(t)&&0<=t);for(var i=goog.iter.toIterator(e);0<t--;)goog.iter.nextOrValue(i,null);return i},goog.iter.slice=function(e,t,i){goog.asserts.assert(goog.math.isInt(t)&&0<=t);var n=goog.iter.consume(e,t);return typeof i=="number"&&(goog.asserts.assert(goog.math.isInt(i)&&i>=t),n=goog.iter.limit(n,i-t)),n},goog.iter.hasDuplicates_=function(e){var t=[];return module$contents$goog$array_removeDuplicates(e,t),e.length!=t.length},goog.iter.permutations=function(e,t){var i=goog.iter.toArray(e),n=goog.iter.product.apply(void 0,module$contents$goog$array_repeat(i,typeof t=="number"?t:i.length));return goog.iter.filter(n,function(r){return!goog.iter.hasDuplicates_(r)})},goog.iter.combinations=function(e,t){function i(b){return n[b]}var n=goog.iter.toArray(e),r=goog.iter.range(n.length),u=goog.iter.permutations(r,t),d=goog.iter.filter(u,function(b){return module$contents$goog$array_isSorted(b)}),c=new goog.iter.Iterator;return c.next=function(){var b=d.next();return b.done?goog.iter.ES6_ITERATOR_DONE:goog.iter.createEs6IteratorYield(module$contents$goog$array_map(b.value,i))},c},goog.iter.combinationsWithReplacement=function(e,t){function i(b){return n[b]}var n=goog.iter.toArray(e),r=module$contents$goog$array_range(n.length),u=goog.iter.product.apply(void 0,module$contents$goog$array_repeat(r,t)),d=goog.iter.filter(u,function(b){return module$contents$goog$array_isSorted(b)}),c=new goog.iter.Iterator;return c.next=function(){var b=d.next();return b.done?goog.iter.ES6_ITERATOR_DONE:goog.iter.createEs6IteratorYield(module$contents$goog$array_map(b.value,i))},c},goog.iter.es6={};var module$contents$goog$iter$es6_ShimIterable=function(){};module$contents$goog$iter$es6_ShimIterable.prototype.__iterator__=function(){},module$contents$goog$iter$es6_ShimIterable.prototype.toGoog=function(){},module$contents$goog$iter$es6_ShimIterable.prototype.toEs6=function(){},module$contents$goog$iter$es6_ShimIterable.of=function(e){if(e instanceof module$contents$goog$iter$es6_ShimIterableImpl||e instanceof module$contents$goog$iter$es6_ShimGoogIterator||e instanceof module$contents$goog$iter$es6_ShimEs6Iterator)return e;if(typeof e.next=="function")return new module$contents$goog$iter$es6_ShimIterableImpl(function(){return e});if(typeof e[Symbol.iterator]=="function")return new module$contents$goog$iter$es6_ShimIterableImpl(function(){return e[Symbol.iterator]()});if(typeof e.__iterator__=="function")return new module$contents$goog$iter$es6_ShimIterableImpl(function(){return e.__iterator__()});throw Error("Not an iterator or iterable.")};var module$contents$goog$iter$es6_ShimIterableImpl=function(e){this.func_=e};module$contents$goog$iter$es6_ShimIterableImpl.prototype.__iterator__=function(){return new module$contents$goog$iter$es6_ShimGoogIterator(this.func_())},module$contents$goog$iter$es6_ShimIterableImpl.prototype.toGoog=function(){return new module$contents$goog$iter$es6_ShimGoogIterator(this.func_())},module$contents$goog$iter$es6_ShimIterableImpl.prototype[Symbol.iterator]=function(){return new module$contents$goog$iter$es6_ShimEs6Iterator(this.func_())},module$contents$goog$iter$es6_ShimIterableImpl.prototype.toEs6=function(){return new module$contents$goog$iter$es6_ShimEs6Iterator(this.func_())};var module$contents$goog$iter$es6_ShimGoogIterator=function(e){goog.iter.Iterator.call(this),this.iter_=e};$jscomp.inherits(module$contents$goog$iter$es6_ShimGoogIterator,goog.iter.Iterator),module$contents$goog$iter$es6_ShimGoogIterator.prototype.next=function(){return this.iter_.next()},module$contents$goog$iter$es6_ShimGoogIterator.prototype.toGoog=function(){return this},module$contents$goog$iter$es6_ShimGoogIterator.prototype[Symbol.iterator]=function(){return new module$contents$goog$iter$es6_ShimEs6Iterator(this.iter_)},module$contents$goog$iter$es6_ShimGoogIterator.prototype.toEs6=function(){return new module$contents$goog$iter$es6_ShimEs6Iterator(this.iter_)};var module$contents$goog$iter$es6_ShimEs6Iterator=function(e){module$contents$goog$iter$es6_ShimIterableImpl.call(this,function(){return e}),this.iter_=e};$jscomp.inherits(module$contents$goog$iter$es6_ShimEs6Iterator,module$contents$goog$iter$es6_ShimIterableImpl),module$contents$goog$iter$es6_ShimEs6Iterator.prototype.next=function(){return this.iter_.next()},goog.iter.es6.ShimIterable=module$contents$goog$iter$es6_ShimIterable,goog.iter.es6.ShimEs6Iterator=module$contents$goog$iter$es6_ShimEs6Iterator,goog.iter.es6.ShimGoogIterator=module$contents$goog$iter$es6_ShimGoogIterator,goog.structs.Map=function(e,t){this.map_={},this.keys_=[],this.version_=this.size=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var n=0;n<i;n+=2)this.set(arguments[n],arguments[n+1])}else e&&this.addAll(e)},goog.structs.Map.prototype.getCount=function(){return this.size},goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var e=[],t=0;t<this.keys_.length;t++)e.push(this.map_[this.keys_[t]]);return e},goog.structs.Map.prototype.getKeys=function(){return this.cleanupKeysArray_(),this.keys_.concat()},goog.structs.Map.prototype.containsKey=function(e){return this.has(e)},goog.structs.Map.prototype.has=function(e){return goog.structs.Map.hasKey_(this.map_,e)},goog.structs.Map.prototype.containsValue=function(e){for(var t=0;t<this.keys_.length;t++){var i=this.keys_[t];if(goog.structs.Map.hasKey_(this.map_,i)&&this.map_[i]==e)return!0}return!1},goog.structs.Map.prototype.equals=function(e,t){if(this===e)return!0;if(this.size!=e.getCount())return!1;var i=t||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var n,r=0;n=this.keys_[r];r++)if(!i(this.get(n),e.get(n)))return!1;return!0},goog.structs.Map.defaultEquals=function(e,t){return e===t},goog.structs.Map.prototype.isEmpty=function(){return this.size==0},goog.structs.Map.prototype.clear=function(){this.map_={},this.keys_.length=0,this.setSizeInternal_(0),this.version_=0},goog.structs.Map.prototype.remove=function(e){return this.delete(e)},goog.structs.Map.prototype.delete=function(e){return goog.structs.Map.hasKey_(this.map_,e)?(delete this.map_[e],this.setSizeInternal_(this.size-1),this.version_++,this.keys_.length>2*this.size&&this.cleanupKeysArray_(),!0):!1},goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.size!=this.keys_.length){for(var e=0,t=0;e<this.keys_.length;){var i=this.keys_[e];goog.structs.Map.hasKey_(this.map_,i)&&(this.keys_[t++]=i),e++}this.keys_.length=t}if(this.size!=this.keys_.length){var n={};for(t=e=0;e<this.keys_.length;)i=this.keys_[e],goog.structs.Map.hasKey_(n,i)||(this.keys_[t++]=i,n[i]=1),e++;this.keys_.length=t}},goog.structs.Map.prototype.get=function(e,t){return goog.structs.Map.hasKey_(this.map_,e)?this.map_[e]:t},goog.structs.Map.prototype.set=function(e,t){goog.structs.Map.hasKey_(this.map_,e)||(this.setSizeInternal_(this.size+1),this.keys_.push(e),this.version_++),this.map_[e]=t},goog.structs.Map.prototype.addAll=function(e){if(e instanceof goog.structs.Map)for(var t=e.getKeys(),i=0;i<t.length;i++)this.set(t[i],e.get(t[i]));else for(var n in e)this.set(n,e[n])},goog.structs.Map.prototype.forEach=function(e,t){for(var i=this.getKeys(),n=0;n<i.length;n++){var r=i[n],u=this.get(r);e.call(t,u,r,this)}},goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)},goog.structs.Map.prototype.transpose=function(){for(var e=new goog.structs.Map,t=0;t<this.keys_.length;t++){var i=this.keys_[t];e.set(this.map_[i],i)}return e},goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var e={},t=0;t<this.keys_.length;t++){var i=this.keys_[t];e[i]=this.map_[i]}return e},goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(!0)},goog.structs.Map.prototype.keys=function(){return module$contents$goog$iter$es6_ShimIterable.of(this.getKeyIterator()).toEs6()},goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(!1)},goog.structs.Map.prototype.values=function(){return module$contents$goog$iter$es6_ShimIterable.of(this.getValueIterator()).toEs6()},goog.structs.Map.prototype.entries=function(){var e=this;return goog.collections.iters.map(this.keys(),function(t){return[t,e.get(t)]})},goog.structs.Map.prototype.__iterator__=function(e){this.cleanupKeysArray_();var t=0,i=this.version_,n=this,r=new goog.iter.Iterator;return r.next=function(){if(i!=n.version_)throw Error("The map has changed since the iterator was created");if(t>=n.keys_.length)return goog.iter.ES6_ITERATOR_DONE;var u=n.keys_[t++];return goog.iter.createEs6IteratorYield(e?u:n.map_[u])},r},goog.structs.Map.prototype.setSizeInternal_=function(e){this.size=e},goog.structs.Map.hasKey_=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},goog.structs.getCount=function(e){return e.getCount&&typeof e.getCount=="function"?e.getCount():goog.isArrayLike(e)||typeof e=="string"?e.length:module$contents$goog$object_getCount(e)},goog.structs.getValues=function(e){if(e.getValues&&typeof e.getValues=="function")return e.getValues();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(goog.isArrayLike(e)){for(var t=[],i=e.length,n=0;n<i;n++)t.push(e[n]);return t}return module$contents$goog$object_getValues(e)},goog.structs.getKeys=function(e){if(e.getKeys&&typeof e.getKeys=="function")return e.getKeys();if(!e.getValues||typeof e.getValues!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(goog.isArrayLike(e)||typeof e=="string"){for(var t=[],i=e.length,n=0;n<i;n++)t.push(n);return t}return module$contents$goog$object_getKeys(e)}}},goog.structs.contains=function(e,t){return e.contains&&typeof e.contains=="function"?e.contains(t):e.containsValue&&typeof e.containsValue=="function"?e.containsValue(t):goog.isArrayLike(e)||typeof e=="string"?module$contents$goog$array_contains(e,t):module$contents$goog$object_containsValue(e,t)},goog.structs.isEmpty=function(e){return e.isEmpty&&typeof e.isEmpty=="function"?e.isEmpty():goog.isArrayLike(e)||typeof e=="string"?e.length===0:module$contents$goog$object_isEmpty(e)},goog.structs.clear=function(e){e.clear&&typeof e.clear=="function"?e.clear():goog.isArrayLike(e)?module$contents$goog$array_clear(e):module$contents$goog$object_clear(e)},goog.structs.forEach=function(e,t,i){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,i);else if(goog.isArrayLike(e)||typeof e=="string")Array.prototype.forEach.call(e,t,i);else for(var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),u=r.length,d=0;d<u;d++)t.call(i,r[d],n&&n[d],e)},goog.structs.filter=function(e,t,i){if(typeof e.filter=="function")return e.filter(t,i);if(goog.isArrayLike(e)||typeof e=="string")return Array.prototype.filter.call(e,t,i);var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),u=r.length;if(n)for(var d={},c=0;c<u;c++)t.call(i,r[c],n[c],e)&&(d[n[c]]=r[c]);else for(d=[],c=0;c<u;c++)t.call(i,r[c],void 0,e)&&d.push(r[c]);return d},goog.structs.map=function(e,t,i){if(typeof e.map=="function")return e.map(t,i);if(goog.isArrayLike(e)||typeof e=="string")return Array.prototype.map.call(e,t,i);var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),u=r.length;if(n)for(var d={},c=0;c<u;c++)d[n[c]]=t.call(i,r[c],n[c],e);else for(d=[],c=0;c<u;c++)d[c]=t.call(i,r[c],void 0,e);return d},goog.structs.some=function(e,t,i){if(typeof e.some=="function")return e.some(t,i);if(goog.isArrayLike(e)||typeof e=="string")return Array.prototype.some.call(e,t,i);for(var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),u=r.length,d=0;d<u;d++)if(t.call(i,r[d],n&&n[d],e))return!0;return!1},goog.structs.every=function(e,t,i){if(typeof e.every=="function")return e.every(t,i);if(goog.isArrayLike(e)||typeof e=="string")return Array.prototype.every.call(e,t,i);for(var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),u=r.length,d=0;d<u;d++)if(!t.call(i,r[d],n&&n[d],e))return!1;return!0},goog.structs.Set=function(e){this.map_=new goog.structs.Map,this.size=0,e&&this.addAll(e)},goog.structs.Set.getUid_=goog.getUid,goog.structs.Set.getKey_=function(e){var t=typeof e;return t=="object"&&e||t=="function"?"o"+goog.getUid(e):t.slice(0,1)+e},goog.structs.Set.prototype.getCount=function(){return this.map_.size},goog.structs.Set.prototype.add=function(e){this.map_.set(goog.structs.Set.getKey_(e),e),this.setSizeInternal_(this.map_.size)},goog.structs.Set.prototype.addAll=function(e){for(var t=goog.structs.getValues(e),i=t.length,n=0;n<i;n++)this.add(t[n]);this.setSizeInternal_(this.map_.size)},goog.structs.Set.prototype.removeAll=function(e){for(var t=goog.structs.getValues(e),i=t.length,n=0;n<i;n++)this.remove(t[n]);this.setSizeInternal_(this.map_.size)},goog.structs.Set.prototype.delete=function(e){var t=this.map_.remove(goog.structs.Set.getKey_(e));return this.setSizeInternal_(this.map_.size),t},goog.structs.Set.prototype.remove=function(e){return this.delete(e)},goog.structs.Set.prototype.clear=function(){this.map_.clear(),this.setSizeInternal_(0)},goog.structs.Set.prototype.isEmpty=function(){return this.map_.size===0},goog.structs.Set.prototype.has=function(e){return this.map_.containsKey(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.contains=function(e){return this.map_.containsKey(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.containsAll=function(e){return goog.structs.every(e,this.contains,this)},goog.structs.Set.prototype.intersection=function(e){for(var t=new goog.structs.Set,i=goog.structs.getValues(e),n=0;n<i.length;n++){var r=i[n];this.contains(r)&&t.add(r)}return t},goog.structs.Set.prototype.difference=function(e){var t=this.clone();return t.removeAll(e),t},goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()},goog.structs.Set.prototype.values=function(){return this.map_.values()},goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)},goog.structs.Set.prototype.equals=function(e){return this.getCount()==goog.structs.getCount(e)&&this.isSubsetOf(e)},goog.structs.Set.prototype.isSubsetOf=function(e){var t=goog.structs.getCount(e);return this.getCount()>t?!1:(!(e instanceof goog.structs.Set)&&5<t&&(e=new goog.structs.Set(e)),goog.structs.every(this,function(i){return goog.structs.contains(e,i)}))},goog.structs.Set.prototype.__iterator__=function(e){return this.map_.__iterator__(!1)},goog.structs.Set.prototype[Symbol.iterator]=function(){return this.values()},goog.structs.Set.prototype.setSizeInternal_=function(e){this.size=e};var ee={AbstractOverlay:function(e,t,i,n,r){goog.events.EventTarget.call(this),this.mapId=t,this.token=i,this.tilesLoading=[],this.tilesFailed=new goog.structs.Set,this.tileCounter=0,this.url=e}};goog.inherits(ee.AbstractOverlay,goog.events.EventTarget),goog.exportSymbol("ee.AbstractOverlay",ee.AbstractOverlay),ee.AbstractOverlay.EventType={TILE_LOADED:"tileevent"},ee.AbstractOverlay.prototype.getTileId=function(e,t){var i=1<<t,n=e.x%i;return 0>n&&(n+=i),[this.mapId,t,n,e.y].join("/")},ee.AbstractOverlay.prototype.getLoadingTilesCount=function(){return this.tilesLoading.length},ee.AbstractOverlay.prototype.getFailedTilesCount=function(){return this.tilesFailed.getCount()},ee.TileEvent=function(e){goog.events.Event.call(this,ee.AbstractOverlay.EventType.TILE_LOADED),this.count=e},goog.inherits(ee.TileEvent,goog.events.Event);var module$exports$eeapiclient$domain_object={};module$exports$eeapiclient$domain_object.ObjectMapMetadata=function e(){},module$exports$eeapiclient$domain_object.ClassMetadata=function e(){};var module$contents$eeapiclient$domain_object_NullClass=function(){};module$exports$eeapiclient$domain_object.NULL_VALUE=new module$contents$eeapiclient$domain_object_NullClass,module$exports$eeapiclient$domain_object.ISerializable=function e(){};function module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial(e){return Object.assign({},{arrays:{},descriptions:{},keys:[],objectMaps:{},objects:{},enums:{},emptyArrayIsUnset:!1},e)}module$exports$eeapiclient$domain_object.buildClassMetadataFromPartial=module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial,module$exports$eeapiclient$domain_object.Serializable=function(){this.Serializable$values={}},module$exports$eeapiclient$domain_object.Serializable.prototype.getClassMetadata=function(){return module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial(this.getPartialClassMetadata())},module$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$get=function(e){return this.Serializable$values.hasOwnProperty(e)?this.Serializable$values[e]:null},module$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$set=function(e,t){this.Serializable$values[e]=t},module$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$has=function(e){return this.Serializable$values[e]!=null},module$exports$eeapiclient$domain_object.SerializableCtor=function e(){},module$exports$eeapiclient$domain_object.clone=function e(t){return module$contents$eeapiclient$domain_object_deserialize(t.getConstructor(),module$contents$eeapiclient$domain_object_serialize(t))},module$exports$eeapiclient$domain_object.isEmpty=function e(t){return!Object.keys(module$contents$eeapiclient$domain_object_serialize(t)).length};function module$contents$eeapiclient$domain_object_serialize(e){return module$contents$eeapiclient$domain_object_deepCopy(e,module$contents$eeapiclient$domain_object_serializeGetter,module$contents$eeapiclient$domain_object_serializeSetter,module$contents$eeapiclient$domain_object_serializeInstanciator)}module$exports$eeapiclient$domain_object.serialize=module$contents$eeapiclient$domain_object_serialize;function module$contents$eeapiclient$domain_object_serializeGetter(e,t){return t.Serializable$get(e)}function module$contents$eeapiclient$domain_object_serializeSetter(e,t,i){t[e]=i}function module$contents$eeapiclient$domain_object_serializeInstanciator(e){return{}}function module$contents$eeapiclient$domain_object_deserialize(e,t){var i=new e;return t==null?i:module$contents$eeapiclient$domain_object_deepCopy(t,module$contents$eeapiclient$domain_object_deserializeGetter,module$contents$eeapiclient$domain_object_deserializeSetter,module$contents$eeapiclient$domain_object_deserializeInstanciator,e)}module$exports$eeapiclient$domain_object.deserialize=module$contents$eeapiclient$domain_object_deserialize;function module$contents$eeapiclient$domain_object_deserializeGetter(e,t){return t[e]}function module$contents$eeapiclient$domain_object_deserializeSetter(e,t,i){t.Serializable$set(e,i)}function module$contents$eeapiclient$domain_object_deserializeInstanciator(e){if(e==null)throw Error("Cannot deserialize, target constructor was null.");return new e}module$exports$eeapiclient$domain_object.strictDeserialize=function e(t,i){return module$contents$eeapiclient$domain_object_deserialize(t,i)};function module$contents$eeapiclient$domain_object_deepCopy(e,t,i,n,r){for(var u=n(r),d=module$contents$eeapiclient$domain_object_deepCopyMetadata(e,u),c=d.arrays||{},b=d.objects||{},S=d.objectMaps||{},C={},O=$jscomp.makeIterator(d.keys||[]),D=O.next();!D.done;C={$jscomp$loop$prop$mapMetadata$73:C.$jscomp$loop$prop$mapMetadata$73},D=O.next()){var H=D.value,K=t(H,e);if(K!=null){var le=void 0;if(c.hasOwnProperty(H)){if(d.emptyArrayIsUnset&&K.length===0)continue;le=module$contents$eeapiclient$domain_object_deepCopyValue(K,t,i,n,!0,!0,c[H])}else if(b.hasOwnProperty(H))le=module$contents$eeapiclient$domain_object_deepCopyValue(K,t,i,n,!1,!0,b[H]);else if(S.hasOwnProperty(H))C.$jscomp$loop$prop$mapMetadata$73=S[H],le=C.$jscomp$loop$prop$mapMetadata$73.isPropertyArray?K.map(function(de){return function(fe){return module$contents$eeapiclient$domain_object_deepCopyObjectMap(fe,de.$jscomp$loop$prop$mapMetadata$73,t,i,n)}}(C)):module$contents$eeapiclient$domain_object_deepCopyObjectMap(K,C.$jscomp$loop$prop$mapMetadata$73,t,i,n);else if(Array.isArray(K)){if(d.emptyArrayIsUnset&&K.length===0)continue;le=module$contents$eeapiclient$domain_object_deepCopyValue(K,t,i,n,!0,!1)}else le=K instanceof module$contents$eeapiclient$domain_object_NullClass?null:K;i(H,u,le)}}return u}function module$contents$eeapiclient$domain_object_deepCopyObjectMap(e,t,i,n,r){for(var u={},d=$jscomp.makeIterator(Object.keys(e)),c=d.next();!c.done;c=d.next()){var b=c.value,S=e[b];S!=null&&(u[b]=module$contents$eeapiclient$domain_object_deepCopyValue(S,i,n,r,t.isValueArray,t.isSerializable,t.ctor))}return u}function module$contents$eeapiclient$domain_object_deepCopyValue(e,t,i,n,r,u,d){if(u&&d==null)throw Error("Cannot deserialize a reference object without a constructor.");return e==null?e:r&&u?e.map(function(c){return module$contents$eeapiclient$domain_object_deepCopy(c,t,i,n,d)}):r&&!u?e.map(function(c){return c}):!r&&u?module$contents$eeapiclient$domain_object_deepCopy(e,t,i,n,d):e instanceof module$contents$eeapiclient$domain_object_NullClass?null:typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function module$contents$eeapiclient$domain_object_deepCopyMetadata(e,t){if(t instanceof module$exports$eeapiclient$domain_object.Serializable)var i=t.getClassMetadata();else if(e instanceof module$exports$eeapiclient$domain_object.Serializable)i=e.getClassMetadata();else throw Error("Cannot find ClassMetadata.");return i}function module$contents$eeapiclient$domain_object_deepEquals(e,t){var i=e.getClassMetadata(),n=i.keys||[],r=i.arrays||{},u=i.objects||{},d=i.objectMaps||{},c=t.getClassMetadata(),b=c.arrays||{},S=c.objects||{},C=c.objectMaps||{};if(!(module$contents$eeapiclient$domain_object_sameKeys(n,c.keys||[])&&module$contents$eeapiclient$domain_object_sameKeys(r,b)&&module$contents$eeapiclient$domain_object_sameKeys(u,S)&&module$contents$eeapiclient$domain_object_sameKeys(d,C)))return!1;for(var O={},D=$jscomp.makeIterator(n),H=D.next();!H.done;O={$jscomp$loop$prop$value2$75:O.$jscomp$loop$prop$value2$75,$jscomp$loop$prop$mapMetadata$76:O.$jscomp$loop$prop$mapMetadata$76},H=D.next()){var K=H.value,le=module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(e,K,i),de=module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(t,K,c);if(le!==de)return!1;if(le){var fe=e.Serializable$get(K);if(O.$jscomp$loop$prop$value2$75=t.Serializable$get(K),r.hasOwnProperty(K)){if(!module$contents$eeapiclient$domain_object_deepEqualsValue(fe,O.$jscomp$loop$prop$value2$75,!0,!0))return!1}else if(u.hasOwnProperty(K)){if(!module$contents$eeapiclient$domain_object_deepEqualsValue(fe,O.$jscomp$loop$prop$value2$75,!1,!0))return!1}else if(d.hasOwnProperty(K)){if(O.$jscomp$loop$prop$mapMetadata$76=d[K],O.$jscomp$loop$prop$mapMetadata$76.isPropertyArray){if(!module$contents$eeapiclient$domain_object_sameKeys(fe,O.$jscomp$loop$prop$value2$75)||fe.some(function(be){return function(Ie,De){return!module$contents$eeapiclient$domain_object_deepEqualsObjectMap(Ie,be.$jscomp$loop$prop$value2$75[De],be.$jscomp$loop$prop$mapMetadata$76)}}(O)))return!1}else if(!module$contents$eeapiclient$domain_object_deepEqualsObjectMap(fe,O.$jscomp$loop$prop$value2$75,O.$jscomp$loop$prop$mapMetadata$76))return!1}else if(Array.isArray(fe)){if(!module$contents$eeapiclient$domain_object_deepEqualsValue(fe,O.$jscomp$loop$prop$value2$75,!0,!1))return!1}else if(!module$contents$eeapiclient$domain_object_deepEqualsValue(fe,O.$jscomp$loop$prop$value2$75,!1,!1))return!1}}return!0}module$exports$eeapiclient$domain_object.deepEquals=module$contents$eeapiclient$domain_object_deepEquals;function module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(e,t,i){if(!e.Serializable$has(t))return!1;if(!i.emptyArrayIsUnset)return!0;var n=e.Serializable$get(t);return Array.isArray(n)?n.length!==0:!0}function module$contents$eeapiclient$domain_object_deepEqualsObjectMap(e,t,i){if(!module$contents$eeapiclient$domain_object_sameKeys(e,t))return!1;for(var n=$jscomp.makeIterator(Object.keys(e)),r=n.next();!r.done;r=n.next()){var u=r.value;if(!module$contents$eeapiclient$domain_object_deepEqualsValue(e[u],t[u],i.isValueArray,i.isSerializable))return!1}return!0}function module$contents$eeapiclient$domain_object_deepEqualsValue(e,t,i,n){if(e==null&&t==null)return!0;if(i&&n){if(!module$contents$eeapiclient$domain_object_sameKeys(e,t)||e.some(function(r,u){return!module$contents$eeapiclient$domain_object_deepEquals(r,t[u])}))return!1}else if(i&&!n){if(!module$contents$eeapiclient$domain_object_sameKeys(e,t)||e.some(function(r,u){return r!==t[u]}))return!1}else{if(n)return module$contents$eeapiclient$domain_object_deepEquals(e,t);if(typeof e=="object"){if(JSON.stringify(e)!==JSON.stringify(t))return!1}else if(e!==t)return!1}return!0}function module$contents$eeapiclient$domain_object_sameKeys(e,t){if(typeof e!=typeof t||Array.isArray(e)!==Array.isArray(t))throw Error("Types are not comparable.");var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;Array.isArray(e)||(i.sort(),n.sort());for(var r=0;r<i.length;r++)if(i[r]!==n[r])return!1;return!0}module$exports$eeapiclient$domain_object.serializableEqualityTester=function e(t,i){if(t instanceof module$exports$eeapiclient$domain_object.Serializable&&i instanceof module$exports$eeapiclient$domain_object.Serializable)return module$contents$eeapiclient$domain_object_deepEquals(t,i)},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(){},goog.dom.TagName.cast=function(e,t){return e},goog.dom.TagName.prototype.toString=function(){},goog.dom.TagName.A="A",goog.dom.TagName.ABBR="ABBR",goog.dom.TagName.ACRONYM="ACRONYM",goog.dom.TagName.ADDRESS="ADDRESS",goog.dom.TagName.APPLET="APPLET",goog.dom.TagName.AREA="AREA",goog.dom.TagName.ARTICLE="ARTICLE",goog.dom.TagName.ASIDE="ASIDE",goog.dom.TagName.AUDIO="AUDIO",goog.dom.TagName.B="B",goog.dom.TagName.BASE="BASE",goog.dom.TagName.BASEFONT="BASEFONT",goog.dom.TagName.BDI="BDI",goog.dom.TagName.BDO="BDO",goog.dom.TagName.BIG="BIG",goog.dom.TagName.BLOCKQUOTE="BLOCKQUOTE",goog.dom.TagName.BODY="BODY",goog.dom.TagName.BR="BR",goog.dom.TagName.BUTTON="BUTTON",goog.dom.TagName.CANVAS="CANVAS",goog.dom.TagName.CAPTION="CAPTION",goog.dom.TagName.CENTER="CENTER",goog.dom.TagName.CITE="CITE",goog.dom.TagName.CODE="CODE",goog.dom.TagName.COL="COL",goog.dom.TagName.COLGROUP="COLGROUP",goog.dom.TagName.COMMAND="COMMAND",goog.dom.TagName.DATA="DATA",goog.dom.TagName.DATALIST="DATALIST",goog.dom.TagName.DD="DD",goog.dom.TagName.DEL="DEL",goog.dom.TagName.DETAILS="DETAILS",goog.dom.TagName.DFN="DFN",goog.dom.TagName.DIALOG="DIALOG",goog.dom.TagName.DIR="DIR",goog.dom.TagName.DIV="DIV",goog.dom.TagName.DL="DL",goog.dom.TagName.DT="DT",goog.dom.TagName.EM="EM",goog.dom.TagName.EMBED="EMBED",goog.dom.TagName.FIELDSET="FIELDSET",goog.dom.TagName.FIGCAPTION="FIGCAPTION",goog.dom.TagName.FIGURE="FIGURE",goog.dom.TagName.FONT="FONT",goog.dom.TagName.FOOTER="FOOTER",goog.dom.TagName.FORM="FORM",goog.dom.TagName.FRAME="FRAME",goog.dom.TagName.FRAMESET="FRAMESET",goog.dom.TagName.H1="H1",goog.dom.TagName.H2="H2",goog.dom.TagName.H3="H3",goog.dom.TagName.H4="H4",goog.dom.TagName.H5="H5",goog.dom.TagName.H6="H6",goog.dom.TagName.HEAD="HEAD",goog.dom.TagName.HEADER="HEADER",goog.dom.TagName.HGROUP="HGROUP",goog.dom.TagName.HR="HR",goog.dom.TagName.HTML="HTML",goog.dom.TagName.I="I",goog.dom.TagName.IFRAME="IFRAME",goog.dom.TagName.IMG="IMG",goog.dom.TagName.INPUT="INPUT",goog.dom.TagName.INS="INS",goog.dom.TagName.ISINDEX="ISINDEX",goog.dom.TagName.KBD="KBD",goog.dom.TagName.KEYGEN="KEYGEN",goog.dom.TagName.LABEL="LABEL",goog.dom.TagName.LEGEND="LEGEND",goog.dom.TagName.LI="LI",goog.dom.TagName.LINK="LINK",goog.dom.TagName.MAIN="MAIN",goog.dom.TagName.MAP="MAP",goog.dom.TagName.MARK="MARK",goog.dom.TagName.MATH="MATH",goog.dom.TagName.MENU="MENU",goog.dom.TagName.MENUITEM="MENUITEM",goog.dom.TagName.META="META",goog.dom.TagName.METER="METER",goog.dom.TagName.NAV="NAV",goog.dom.TagName.NOFRAMES="NOFRAMES",goog.dom.TagName.NOSCRIPT="NOSCRIPT",goog.dom.TagName.OBJECT="OBJECT",goog.dom.TagName.OL="OL",goog.dom.TagName.OPTGROUP="OPTGROUP",goog.dom.TagName.OPTION="OPTION",goog.dom.TagName.OUTPUT="OUTPUT",goog.dom.TagName.P="P",goog.dom.TagName.PARAM="PARAM",goog.dom.TagName.PICTURE="PICTURE",goog.dom.TagName.PRE="PRE",goog.dom.TagName.PROGRESS="PROGRESS",goog.dom.TagName.Q="Q",goog.dom.TagName.RP="RP",goog.dom.TagName.RT="RT",goog.dom.TagName.RTC="RTC",goog.dom.TagName.RUBY="RUBY",goog.dom.TagName.S="S",goog.dom.TagName.SAMP="SAMP",goog.dom.TagName.SCRIPT="SCRIPT",goog.dom.TagName.SECTION="SECTION",goog.dom.TagName.SELECT="SELECT",goog.dom.TagName.SMALL="SMALL",goog.dom.TagName.SOURCE="SOURCE",goog.dom.TagName.SPAN="SPAN",goog.dom.TagName.STRIKE="STRIKE",goog.dom.TagName.STRONG="STRONG",goog.dom.TagName.STYLE="STYLE",goog.dom.TagName.SUB="SUB",goog.dom.TagName.SUMMARY="SUMMARY",goog.dom.TagName.SUP="SUP",goog.dom.TagName.SVG="SVG",goog.dom.TagName.TABLE="TABLE",goog.dom.TagName.TBODY="TBODY",goog.dom.TagName.TD="TD",goog.dom.TagName.TEMPLATE="TEMPLATE",goog.dom.TagName.TEXTAREA="TEXTAREA",goog.dom.TagName.TFOOT="TFOOT",goog.dom.TagName.TH="TH",goog.dom.TagName.THEAD="THEAD",goog.dom.TagName.TIME="TIME",goog.dom.TagName.TITLE="TITLE",goog.dom.TagName.TR="TR",goog.dom.TagName.TRACK="TRACK",goog.dom.TagName.TT="TT",goog.dom.TagName.U="U",goog.dom.TagName.UL="UL",goog.dom.TagName.VAR="VAR",goog.dom.TagName.VIDEO="VIDEO",goog.dom.TagName.WBR="WBR",goog.dom.element={};var module$contents$goog$dom$element_isElement=function(e){return goog.isObject(e)&&e.nodeType===goog.dom.NodeType.ELEMENT},module$contents$goog$dom$element_isHtmlElement=function(e){return goog.isObject(e)&&module$contents$goog$dom$element_isElement(e)&&(!e.namespaceURI||e.namespaceURI==="http://www.w3.org/1999/xhtml")},module$contents$goog$dom$element_isHtmlElementOfType=function(e,t){return goog.isObject(e)&&module$contents$goog$dom$element_isHtmlElement(e)&&e.tagName.toUpperCase()===t.toString()};goog.dom.element.isElement=module$contents$goog$dom$element_isElement,goog.dom.element.isHtmlElement=module$contents$goog$dom$element_isHtmlElement,goog.dom.element.isHtmlElementOfType=module$contents$goog$dom$element_isHtmlElementOfType,goog.dom.element.isHtmlAnchorElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.A)},goog.dom.element.isHtmlButtonElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.BUTTON)},goog.dom.element.isHtmlLinkElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.LINK)},goog.dom.element.isHtmlImageElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.IMG)},goog.dom.element.isHtmlAudioElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.AUDIO)},goog.dom.element.isHtmlVideoElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.VIDEO)},goog.dom.element.isHtmlInputElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.INPUT)},goog.dom.element.isHtmlTextAreaElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.TEXTAREA)},goog.dom.element.isHtmlCanvasElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.CANVAS)},goog.dom.element.isHtmlEmbedElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.EMBED)},goog.dom.element.isHtmlFormElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.FORM)},goog.dom.element.isHtmlFrameElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.FRAME)},goog.dom.element.isHtmlIFrameElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.IFRAME)},goog.dom.element.isHtmlObjectElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.OBJECT)},goog.dom.element.isHtmlScriptElement=function(e){return module$contents$goog$dom$element_isHtmlElementOfType(e,goog.dom.TagName.SCRIPT)},goog.asserts.dom={};var module$contents$goog$asserts$dom_assertIsHtmlElement=function(e){return goog.asserts.ENABLE_ASSERTS&&!module$contents$goog$dom$element_isHtmlElement(e)&&goog.asserts.fail("Argument is not an HTML Element; got: "+module$contents$goog$asserts$dom_debugStringForType(e)),e},module$contents$goog$asserts$dom_assertIsHtmlElementOfType=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!module$contents$goog$dom$element_isHtmlElementOfType(e,t)&&goog.asserts.fail("Argument is not an HTML Element with tag name "+(t.toString()+"; got: "+module$contents$goog$asserts$dom_debugStringForType(e))),e},module$contents$goog$asserts$dom_assertIsHtmlAnchorElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.A)},module$contents$goog$asserts$dom_assertIsHtmlButtonElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.BUTTON)},module$contents$goog$asserts$dom_assertIsHtmlLinkElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.LINK)},module$contents$goog$asserts$dom_assertIsHtmlAudioElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.AUDIO)},module$contents$goog$asserts$dom_assertIsHtmlVideoElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.VIDEO)},module$contents$goog$asserts$dom_assertIsHtmlInputElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.INPUT)},module$contents$goog$asserts$dom_assertIsHtmlEmbedElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.EMBED)},module$contents$goog$asserts$dom_assertIsHtmlFormElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.FORM)},module$contents$goog$asserts$dom_assertIsHtmlFrameElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.FRAME)},module$contents$goog$asserts$dom_assertIsHtmlIFrameElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.IFRAME)},module$contents$goog$asserts$dom_assertIsHtmlObjectElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.OBJECT)},module$contents$goog$asserts$dom_assertIsHtmlScriptElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.SCRIPT)},module$contents$goog$asserts$dom_debugStringForType=function(e){if(goog.isObject(e))try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch{return"<object could not be stringified>"}else return e===void 0?"undefined":e===null?"null":typeof e};goog.asserts.dom.assertIsElement=function(e){return goog.asserts.ENABLE_ASSERTS&&!module$contents$goog$dom$element_isElement(e)&&goog.asserts.fail("Argument is not an Element; got: "+module$contents$goog$asserts$dom_debugStringForType(e)),e},goog.asserts.dom.assertIsHtmlElement=module$contents$goog$asserts$dom_assertIsHtmlElement,goog.asserts.dom.assertIsHtmlElementOfType=module$contents$goog$asserts$dom_assertIsHtmlElementOfType,goog.asserts.dom.assertIsHtmlAnchorElement=module$contents$goog$asserts$dom_assertIsHtmlAnchorElement,goog.asserts.dom.assertIsHtmlButtonElement=module$contents$goog$asserts$dom_assertIsHtmlButtonElement,goog.asserts.dom.assertIsHtmlLinkElement=module$contents$goog$asserts$dom_assertIsHtmlLinkElement,goog.asserts.dom.assertIsHtmlImageElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.IMG)},goog.asserts.dom.assertIsHtmlAudioElement=module$contents$goog$asserts$dom_assertIsHtmlAudioElement,goog.asserts.dom.assertIsHtmlVideoElement=module$contents$goog$asserts$dom_assertIsHtmlVideoElement,goog.asserts.dom.assertIsHtmlInputElement=module$contents$goog$asserts$dom_assertIsHtmlInputElement,goog.asserts.dom.assertIsHtmlTextAreaElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.TEXTAREA)},goog.asserts.dom.assertIsHtmlCanvasElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(e,goog.dom.TagName.CANVAS)},goog.asserts.dom.assertIsHtmlEmbedElement=module$contents$goog$asserts$dom_assertIsHtmlEmbedElement,goog.asserts.dom.assertIsHtmlFormElement=module$contents$goog$asserts$dom_assertIsHtmlFormElement,goog.asserts.dom.assertIsHtmlFrameElement=module$contents$goog$asserts$dom_assertIsHtmlFrameElement,goog.asserts.dom.assertIsHtmlIFrameElement=module$contents$goog$asserts$dom_assertIsHtmlIFrameElement,goog.asserts.dom.assertIsHtmlObjectElement=module$contents$goog$asserts$dom_assertIsHtmlObjectElement,goog.asserts.dom.assertIsHtmlScriptElement=module$contents$goog$asserts$dom_assertIsHtmlScriptElement,goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.debugStringForType_=function(e){if(goog.isObject(e))try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch{return"<object could not be stringified>"}else return e===void 0?"undefined":e===null?"null":typeof e},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,i=t&&(t.defaultView||t.parentWindow);if(i=i||goog.global,i.Element&&i.Location)return i}catch{}return null},goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return goog.dom.tags.VOID_TAGS_[e]===!0},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.POLICY_NAME=goog.TRUSTED_TYPES_POLICY_NAME?goog.TRUSTED_TYPES_POLICY_NAME+"#html":"",goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse=function(){return goog.html.trustedtypes.POLICY_NAME?(goog.html.trustedtypes.cachedPolicy_===void 0&&(goog.html.trustedtypes.cachedPolicy_=goog.createTrustedTypesPolicy(goog.html.trustedtypes.POLICY_NAME)),goog.html.trustedtypes.cachedPolicy_):null},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from("");var module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeScript_SafeScript=function(e,t){this.privateDoNotAccessOrElseSafeScriptWrappedValue_=t===module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE?e:"",this.implementsGoogStringTypedString=!0};module$contents$goog$html$SafeScript_SafeScript.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},module$contents$goog$html$SafeScript_SafeScript.fromConstant=function(e){var t=goog.string.Const.unwrap(e);return t.length===0?module$contents$goog$html$SafeScript_SafeScript.EMPTY:module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},module$contents$goog$html$SafeScript_SafeScript.fromJson=function(e){return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(module$contents$goog$html$SafeScript_SafeScript.stringify_(e))},module$contents$goog$html$SafeScript_SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},module$contents$goog$html$SafeScript_SafeScript.unwrap=function(e){return module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript(e).toString()},module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript=function(e){return e instanceof module$contents$goog$html$SafeScript_SafeScript&&e.constructor===module$contents$goog$html$SafeScript_SafeScript?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:((0,goog.asserts.fail)("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},module$contents$goog$html$SafeScript_SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){var t=e,i=goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(),n=i?i.createScript(t):t;return new module$contents$goog$html$SafeScript_SafeScript(n,module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE)},module$contents$goog$html$SafeScript_SafeScript.EMPTY=function(){return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("")}(),goog.html.SafeScript=module$contents$goog$html$SafeScript_SafeScript,goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(e){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(e){},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(e!=null)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.global.URL!==void 0&&goog.global.URL.createObjectURL!==void 0?goog.global.URL:goog.global.createObjectURL!==void 0?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.fs.blob={},goog.fs.blob.getBlob=function(e){var t=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(t!==void 0){for(var i=new t,n=0;n<arguments.length;n++)i.append(arguments[n]);return i.getBlob()}return goog.fs.blob.getBlobWithProperties(Array.prototype.slice.call(arguments))},goog.fs.blob.getBlobWithProperties=function(e,t,i){var n=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(n!==void 0){for(var r=new n,u=0;u<e.length;u++)r.append(e[u],i);return r.getBlob(t)}if(goog.global.Blob!==void 0){var d={};return t&&(d.type=t),i&&(d.endings=i),new Blob(e,d)}throw Error("This browser doesn't seem to support creating Blobs")},goog.html.TrustedResourceUrl=function(e,t){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=t===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_?e:""},goog.html.TrustedResourceUrl.prototype.toString=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+""},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var i=goog.html.TrustedResourceUrl.unwrap(this),n=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(i),r=n[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(n[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",n[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",r,t))},goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(e,t){var i=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(i))throw Error("Invalid TrustedResourceUrl format: "+i);var n=i.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(r,u){if(!Object.prototype.hasOwnProperty.call(t,u))throw Error('Found marker, "'+u+'", in format string, "'+i+'", but no valid label mapping found in args: '+JSON.stringify(t));var d=t[u];return d instanceof goog.string.Const?goog.string.Const.unwrap(d):encodeURIComponent(String(d))});return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=RegExp("^((https:)?//[0-9a-z.:[\\]-]+/|/[^/\\\\]|[^:/\\\\%]+/|[^:/\\\\%]*[?#]|about:blank#)","i"),goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,i,n){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(i,n)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",i=0;i<e.length;i++)t+=goog.string.Const.unwrap(e[i]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.fromSafeScript=function(e){var t=goog.fs.blob.getBlobWithProperties([module$contents$goog$html$SafeScript_SafeScript.unwrap(e)],"text/javascript"),i=goog.fs.url.createObjectUrl(t);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=e,i=goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(),n=i?i.createScriptURL(t):t;return new goog.html.TrustedResourceUrl(n,goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_)},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,i){if(i==null)return t;if(typeof i=="string")return i?e+encodeURIComponent(i):"";for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n))for(var r=i[n],u=Array.isArray(r)?r:[r],d=0;d<u.length;d++){var c=u[d];c!=null&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(String(c)))}return t},goog.html.SafeUrl=function(e,t){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=t===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_?e:""},goog.html.SafeUrl.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=RegExp('^(?:audio/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font/\\w+|image/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon|heic|heif)|video/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\\w+=(?:\\w+|"[\\w;,= ]+"))*$',"i"),goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){var t=goog.html.SafeUrl.isSafeMimeType(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING;return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.revokeObjectUrl=function(e){var t=e.getTypedStringValue();t!==goog.html.SafeUrl.INNOCUOUS_STRING&&goog.fs.url.revokeObjectUrl(t)},goog.html.SafeUrl.fromMediaSource=function(e){goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource");var t=e instanceof MediaSource?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING;return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.tryFromDataUrl=function(e){e=String(e);var t=e.replace(/(%0A|%0D)/g,"");return t.match(goog.html.DATA_URL_PATTERN_)?goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t):null},goog.html.SafeUrl.fromDataUrl=function(e){return goog.html.SafeUrl.tryFromDataUrl(e)||goog.html.SafeUrl.INNOCUOUS_URL},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=RegExp("^sip[s]?:[+a-z0-9_.!$%&'*\\/=^`{|}~-]+@([a-z0-9-]+\\.)+[a-z0-9]{2,63}$","i"),goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");0<t&&(e=e.substring(0,t));var i=e.match(/[?&]body=/gi);if(!i)return!0;if(1<i.length)return!1;var n=e.match(/[?&]body=([^&]*)/)[1];if(!n)return!0;try{decodeURIComponent(n)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(n)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,i){var n=e.exec(t);if(n){var r=n[1];(i instanceof goog.string.Const?[goog.string.Const.unwrap(i)]:i.map(function(d){return goog.string.Const.unwrap(d)})).indexOf(r)==-1&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)}else t=goog.html.SafeUrl.INNOCUOUS_STRING;return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.trySanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e=typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)?goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e):goog.html.SafeUrl.tryFromDataUrl(e))},goog.html.SafeUrl.sanitize=function(e){return goog.html.SafeUrl.trySanitize(e)||goog.html.SafeUrl.INNOCUOUS_URL},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){if(e instanceof goog.html.SafeUrl)return e;if(e=typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)){var i=goog.html.SafeUrl.fromDataUrl(e);if(i.getTypedStringValue()==e)return i}return goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.ASSUME_IMPLEMENTS_URL_API_GOOG=2020<=goog.FEATURESET_YEAR,goog.html.SafeUrl.supportsURLAPI=function(){if(goog.html.SafeUrl.ASSUME_IMPLEMENTS_URL_API_GOOG)return!0;try{return new URL("s://g"),!0}catch{return!1}}(),goog.html.SafeUrl.legacyExtractScheme=function(e){var t=document.createElement("a");try{t.href=e}catch{return}var i=t.protocol;return i===":"||i===""?"https:":i},goog.html.SafeUrl.extractScheme=function(e){if(!goog.html.SafeUrl.supportsURLAPI)return goog.html.SafeUrl.legacyExtractScheme(e);try{var t=new URL(e)}catch{return"https:"}return t.protocol},goog.html.SafeUrl.sanitizeJavascriptUrlAssertUnchanged=function(e){if(e instanceof goog.html.SafeUrl)return e;e=typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e);var t=goog.html.SafeUrl.extractScheme(e);return goog.asserts.assert(t!=="javascript:","%s is a javascript: URL",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeUrl(e,goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_)},goog.html.SafeUrl.INNOCUOUS_URL=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank");var module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeStyle_SafeStyle=function(e,t){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=t===module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE?e:"",this.implementsGoogStringTypedString=!0};module$contents$goog$html$SafeStyle_SafeStyle.fromConstant=function(e){var t=goog.string.Const.unwrap(e);return t.length===0?module$contents$goog$html$SafeStyle_SafeStyle.EMPTY:((0,goog.asserts.assert)((0,goog.string.internal.endsWith)(t,";"),"Last character of style string is not ';': "+t),(0,goog.asserts.assert)((0,goog.string.internal.contains)(t,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+t),module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t))},module$contents$goog$html$SafeStyle_SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},module$contents$goog$html$SafeStyle_SafeStyle.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_.toString()},module$contents$goog$html$SafeStyle_SafeStyle.unwrap=function(e){return e instanceof module$contents$goog$html$SafeStyle_SafeStyle&&e.constructor===module$contents$goog$html$SafeStyle_SafeStyle?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:((0,goog.asserts.fail)("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return new module$contents$goog$html$SafeStyle_SafeStyle(e,module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE)},module$contents$goog$html$SafeStyle_SafeStyle.create=function(e){var t="",i;for(i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(!/^[-_a-zA-Z0-9]+$/.test(i))throw Error("Name allows only [-_a-zA-Z0-9], got: "+i);var n=e[i];n!=null&&(n=Array.isArray(n)?n.map(module$contents$goog$html$SafeStyle_sanitizePropertyValue).join(" "):module$contents$goog$html$SafeStyle_sanitizePropertyValue(n),t+=i+":"+n+";")}return t?module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):module$contents$goog$html$SafeStyle_SafeStyle.EMPTY},module$contents$goog$html$SafeStyle_SafeStyle.concat=function(e){var t="",i=function(n){Array.isArray(n)?n.forEach(i):t+=module$contents$goog$html$SafeStyle_SafeStyle.unwrap(n)};return Array.prototype.forEach.call(arguments,i),t?module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):module$contents$goog$html$SafeStyle_SafeStyle.EMPTY},module$contents$goog$html$SafeStyle_SafeStyle.EMPTY=module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING="zClosurez";function module$contents$goog$html$SafeStyle_sanitizePropertyValue(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';var t=e instanceof goog.string.Const?goog.string.Const.unwrap(e):module$contents$goog$html$SafeStyle_sanitizePropertyValueString(String(e));if(/[{;}]/.test(t))throw new module$contents$goog$asserts_AssertionError("Value does not allow [{;}], got: %s.",[t]);return t}function module$contents$goog$html$SafeStyle_sanitizePropertyValueString(e){var t=e.replace(module$contents$goog$html$SafeStyle_FUNCTIONS_RE,"$1").replace(module$contents$goog$html$SafeStyle_FUNCTIONS_RE,"$1").replace(module$contents$goog$html$SafeStyle_URL_RE,"url");if(module$contents$goog$html$SafeStyle_VALUE_RE.test(t)){if(module$contents$goog$html$SafeStyle_COMMENT_RE.test(e))return(0,goog.asserts.fail)("String value disallows comments, got: "+e),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;if(!module$contents$goog$html$SafeStyle_hasBalancedQuotes(e))return(0,goog.asserts.fail)("String value requires balanced quotes, got: "+e),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;if(!module$contents$goog$html$SafeStyle_hasBalancedSquareBrackets(e))return(0,goog.asserts.fail)("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING}else return(0,goog.asserts.fail)(`String value allows only [-+,."'%_!#/ a-zA-Z0-9\\[\\]] and simple functions, got: `+e),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;return module$contents$goog$html$SafeStyle_sanitizeUrl(e)}function module$contents$goog$html$SafeStyle_hasBalancedQuotes(e){for(var t=!0,i=!0,n=0;n<e.length;n++){var r=e.charAt(n);r=="'"&&i?t=!t:r=='"'&&t&&(i=!i)}return t&&i}function module$contents$goog$html$SafeStyle_hasBalancedSquareBrackets(e){for(var t=!0,i=/^[-_a-zA-Z0-9]$/,n=0;n<e.length;n++){var r=e.charAt(n);if(r=="]"){if(t)return!1;t=!0}else if(r=="["){if(!t)return!1;t=!1}else if(!t&&!i.test(r))return!1}return t}var module$contents$goog$html$SafeStyle_VALUE_RE=RegExp(`^[-+,."'%_!#/ a-zA-Z0-9\\[\\]]+$`),module$contents$goog$html$SafeStyle_URL_RE=RegExp(`\\b(url\\([ 	
]*)('[ -&(-\\[\\]-~]*'|"[ !#-\\[\\]-~]*"|[!#-&*-\\[\\]-~]*)([ 	
]*\\))`,"g"),module$contents$goog$html$SafeStyle_FUNCTIONS_RE=RegExp("\\b(calc|cubic-bezier|fit-content|hsl|hsla|linear-gradient|matrix|minmax|radial-gradient|repeat|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?|steps|var)\\([-+*/0-9a-zA-Z.%#\\[\\], ]+\\)","g"),module$contents$goog$html$SafeStyle_COMMENT_RE=/\/\*/;function module$contents$goog$html$SafeStyle_sanitizeUrl(e){return e.replace(module$contents$goog$html$SafeStyle_URL_RE,function(t,i,n,r){var u="";n=n.replace(/^(['"])(.*)\1$/,function(c,b,S){return u=b,S});var d=goog.html.SafeUrl.sanitize(n).getTypedStringValue();return i+u+d+u+r})}goog.html.SafeStyle=module$contents$goog$html$SafeStyle_SafeStyle;var module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet=function(e,t){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=t===module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE?e:"",this.implementsGoogStringTypedString=!0};module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_.toString()},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createRule=function(e,t){if((0,goog.string.internal.contains)(e,"<"))throw Error("Selector does not allow '<', got: "+e);var i=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(i))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.hasBalancedBrackets_(i))throw Error("() and [] in selector must be balanced, got: "+e);t instanceof module$contents$goog$html$SafeStyle_SafeStyle||(t=module$contents$goog$html$SafeStyle_SafeStyle.create(t));var n=e+"{"+module$contents$goog$html$SafeStyle_SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}";return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(n)},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},i=[],n=0;n<e.length;n++){var r=e[n];if(t[r])i.push(t[r]);else if(module$contents$goog$object_contains(t,r)&&i.pop()!=r)return!1}return i.length==0},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.concat=function(e){var t="",i=function(n){Array.isArray(n)?n.forEach(i):t+=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(n)};return Array.prototype.forEach.call(arguments,i),module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.fromConstant=function(e){var t=goog.string.Const.unwrap(e);return t.length===0?module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.EMPTY:((0,goog.asserts.assert)(!(0,goog.string.internal.contains)(t,"<"),"Forbidden '<' character in style sheet string: "+t),module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t))},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap=function(e){return e instanceof module$contents$goog$html$SafeStyleSheet_SafeStyleSheet&&e.constructor===module$contents$goog$html$SafeStyleSheet_SafeStyleSheet?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:((0,goog.asserts.fail)("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return new module$contents$goog$html$SafeStyleSheet_SafeStyleSheet(e,module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE)},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.EMPTY=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyleSheet=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet;var module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeHtml_SafeHtml=function(e,t){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=t===module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE?e:"",this.implementsGoogStringTypedString=!0};module$contents$goog$html$SafeHtml_SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},module$contents$goog$html$SafeHtml_SafeHtml.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},module$contents$goog$html$SafeHtml_SafeHtml.unwrap=function(e){return module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(e).toString()},module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML=function(e){return e instanceof module$contents$goog$html$SafeHtml_SafeHtml&&e.constructor===module$contents$goog$html$SafeHtml_SafeHtml?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape=function(e){return e instanceof module$contents$goog$html$SafeHtml_SafeHtml?e:module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e)))},module$contents$goog$html$SafeHtml_SafeHtml.htmlEscapePreservingNewlines=function(e){if(e instanceof module$contents$goog$html$SafeHtml_SafeHtml)return e;var t=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(e);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(t)))},module$contents$goog$html$SafeHtml_SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){if(e instanceof module$contents$goog$html$SafeHtml_SafeHtml)return e;var t=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(e);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(t)))},module$contents$goog$html$SafeHtml_SafeHtml.comment=function(e){return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!--"+goog.string.internal.htmlEscape(e)+"-->")},module$contents$goog$html$SafeHtml_SafeHtml.create=function(e,t,i){return module$contents$goog$html$SafeHtml_SafeHtml.verifyTagName(String(e)),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,i)},module$contents$goog$html$SafeHtml_SafeHtml.verifyTagName=function(e){if(!module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG.test(e))throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+e+">.":"");if(e.toUpperCase()in module$contents$goog$html$SafeHtml_NOT_ALLOWED_TAG_NAMES)throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+e+"> is not allowed for SafeHtml.":"")},module$contents$goog$html$SafeHtml_SafeHtml.createIframe=function(e,t,i,n){e&&goog.html.TrustedResourceUrl.unwrap(e);var r={};r.src=e||null,r.srcdoc=t&&module$contents$goog$html$SafeHtml_SafeHtml.unwrap(t);var u=module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes(r,{sandbox:""},i);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",u,n)},module$contents$goog$html$SafeHtml_SafeHtml.createSandboxIframe=function(e,t,i,n){if(!module$contents$goog$html$SafeHtml_SafeHtml.canUseSandboxIframe())throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var r={};r.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,r.srcdoc=t||null,r.sandbox="";var u=module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes(r,{},i);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",u,n)},module$contents$goog$html$SafeHtml_SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},module$contents$goog$html$SafeHtml_SafeHtml.createScriptSrc=function(e,t){goog.html.TrustedResourceUrl.unwrap(e);var i=module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes({src:e},{},t);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",i)},module$contents$goog$html$SafeHtml_SafeHtml.createScript=function(e,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=i.toLowerCase();if(n=="language"||n=="src"||n=="text")throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+n+'" attribute':"")}var r="";e=module$contents$goog$array_concat(e);for(var u=0;u<e.length;u++)r+=module$contents$goog$html$SafeScript_SafeScript.unwrap(e[u]);var d=module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,d)},module$contents$goog$html$SafeHtml_SafeHtml.createStyle=function(e,t){var i=module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes({type:"text/css"},{},t),n="";e=module$contents$goog$array_concat(e);for(var r=0;r<e.length;r++)n+=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(e[r]);var u=module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",i,u)},module$contents$goog$html$SafeHtml_SafeHtml.createMetaRefresh=function(e,t){var i=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e));return(module$contents$goog$labs$userAgent$browser_matchIE()||module$contents$goog$labs$userAgent$browser_matchEdgeHtml())&&goog.string.internal.contains(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+i})},module$contents$goog$html$SafeHtml_SafeHtml.join=function(e,t){var i=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(e),n=[],r=function(u){if(Array.isArray(u))u.forEach(r);else{var d=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(u);n.push(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(d))}};return t.forEach(r),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n.join(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(i)))},module$contents$goog$html$SafeHtml_SafeHtml.concat=function(e){return module$contents$goog$html$SafeHtml_SafeHtml.join(module$contents$goog$html$SafeHtml_SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e){var t=e,i=goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(),n=i?i.createHTML(t):t;return new module$contents$goog$html$SafeHtml_SafeHtml(n,module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE)},module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,i){var n="<"+e+module$contents$goog$html$SafeHtml_SafeHtml.stringifyAttributes(e,t);if(i==null?i=[]:Array.isArray(i)||(i=[i]),goog.dom.tags.isVoidTag(e.toLowerCase()))goog.asserts.assert(!i.length,"Void tag <"+e+"> does not allow content."),n+=">";else{var r=module$contents$goog$html$SafeHtml_SafeHtml.concat(i);n+=">"+module$contents$goog$html$SafeHtml_SafeHtml.unwrap(r)+"</"+e+">"}return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n)},module$contents$goog$html$SafeHtml_SafeHtml.stringifyAttributes=function(e,t){var i="";if(t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(!module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG.test(n))throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+n+'".':"");var r=t[n];r!=null&&(i+=" "+module$contents$goog$html$SafeHtml_getAttrNameAndValue(e,n,r))}}return i},module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes=function(e,t,i){var n={},r;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(goog.asserts.assert(r.toLowerCase()==r,"Must be lower case"),n[r]=e[r]);for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(goog.asserts.assert(u.toLowerCase()==u,"Must be lower case"),n[u]=t[u]);if(i){for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var c=d.toLowerCase();if(c in e)throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+c+'" attribute, got "'+d+'" with value "'+i[d]+'"':"");c in t&&delete n[c],n[d]=i[d]}}return n},module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,module$contents$goog$html$SafeHtml_SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,module$contents$goog$html$SafeHtml_SafeHtml.from=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape;var module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG=/^[a-zA-Z0-9-]+$/,module$contents$goog$html$SafeHtml_URL_ATTRIBUTES={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},module$contents$goog$html$SafeHtml_NOT_ALLOWED_TAG_NAMES=module$contents$goog$object_createSet(goog.dom.TagName.APPLET,goog.dom.TagName.BASE,goog.dom.TagName.EMBED,goog.dom.TagName.IFRAME,goog.dom.TagName.LINK,goog.dom.TagName.MATH,goog.dom.TagName.META,goog.dom.TagName.OBJECT,goog.dom.TagName.SCRIPT,goog.dom.TagName.STYLE,goog.dom.TagName.SVG,goog.dom.TagName.TEMPLATE);function module$contents$goog$html$SafeHtml_getAttrNameAndValue(e,t,i){if(i instanceof goog.string.Const)i=goog.string.Const.unwrap(i);else if(t.toLowerCase()=="style")if(module$contents$goog$html$SafeHtml_SafeHtml.SUPPORT_STYLE_ATTRIBUTE)i=module$contents$goog$html$SafeHtml_getStyleValue(i);else throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");else{if(/^on/i.test(t))throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" requires goog.string.Const value, "'+i+'" given.':"");if(t.toLowerCase()in module$contents$goog$html$SafeHtml_URL_ATTRIBUTES)if(i instanceof goog.html.TrustedResourceUrl)i=goog.html.TrustedResourceUrl.unwrap(i);else if(i instanceof goog.html.SafeUrl)i=goog.html.SafeUrl.unwrap(i);else if(typeof i=="string")i=goog.html.SafeUrl.sanitize(i).getTypedStringValue();else throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+i+'" given.':"")}return i.implementsGoogStringTypedString&&(i=i.getTypedStringValue()),goog.asserts.assert(typeof i=="string"||typeof i=="number","String or number value expected, got "+typeof i+" with value: "+i),t+'="'+goog.string.internal.htmlEscape(String(i))+'"'}function module$contents$goog$html$SafeHtml_getStyleValue(e){if(!goog.isObject(e))throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e:"");return e instanceof module$contents$goog$html$SafeStyle_SafeStyle||(e=module$contents$goog$html$SafeStyle_SafeStyle.create(e)),module$contents$goog$html$SafeStyle_SafeStyle.unwrap(e)}module$contents$goog$html$SafeHtml_SafeHtml.DOCTYPE_HTML=function(){return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>")}(),module$contents$goog$html$SafeHtml_SafeHtml.EMPTY=new module$contents$goog$html$SafeHtml_SafeHtml(goog.global.trustedTypes&&goog.global.trustedTypes.emptyHTML||"",module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE),module$contents$goog$html$SafeHtml_SafeHtml.BR=function(){return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>")}(),goog.html.SafeHtml=module$contents$goog$html$SafeHtml_SafeHtml,goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,i){e.insertAdjacentHTML(t,module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(i))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var e=document.createElement("div"),t=document.createElement("div");if(t.appendChild(document.createElement("div")),e.appendChild(t),goog.DEBUG&&!e.firstChild)return!1;var i=e.firstChild.firstChild;return e.innerHTML=module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(module$contents$goog$html$SafeHtml_SafeHtml.EMPTY),!i.parentElement}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS&&e.tagName&&goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[e.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".");goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setInnerHtmlFromConstant=function(e,t){goog.dom.safe.setInnerHtml(e,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML to be immediatelly used."),goog.string.Const.unwrap(t)))},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){var i=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeJavascriptUrlAssertUnchanged(t);module$contents$goog$asserts$dom_assertIsHtmlFormElement(e).action=goog.html.SafeUrl.unwrap(i)},goog.dom.safe.setButtonFormAction=function(e,t){var i=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeJavascriptUrlAssertUnchanged(t);module$contents$goog$asserts$dom_assertIsHtmlButtonElement(e).formAction=goog.html.SafeUrl.unwrap(i)},goog.dom.safe.setInputFormAction=function(e,t){var i=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeJavascriptUrlAssertUnchanged(t);module$contents$goog$asserts$dom_assertIsHtmlInputElement(e).formAction=goog.html.SafeUrl.unwrap(i)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=module$contents$goog$html$SafeStyle_SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){module$contents$goog$asserts$dom_assertIsHtmlAnchorElement(e);var i=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeJavascriptUrlAssertUnchanged(t);e.href=goog.html.SafeUrl.unwrap(i)},goog.dom.safe.setAudioSrc=function(e,t){module$contents$goog$asserts$dom_assertIsHtmlAudioElement(e);var i=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeJavascriptUrlAssertUnchanged(t);e.src=goog.html.SafeUrl.unwrap(i)},goog.dom.safe.setVideoSrc=function(e,t){module$contents$goog$asserts$dom_assertIsHtmlVideoElement(e);var i=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeJavascriptUrlAssertUnchanged(t);e.src=goog.html.SafeUrl.unwrap(i)},goog.dom.safe.setEmbedSrc=function(e,t){module$contents$goog$asserts$dom_assertIsHtmlEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){module$contents$goog$asserts$dom_assertIsHtmlFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrc=function(e,t){module$contents$goog$asserts$dom_assertIsHtmlIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){module$contents$goog$asserts$dom_assertIsHtmlIFrameElement(e),e.srcdoc=module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,i){if(module$contents$goog$asserts$dom_assertIsHtmlLinkElement(e),e.rel=i,goog.string.internal.caseInsensitiveContains(i,"stylesheet")){goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(t);var n=goog.dom.safe.getStyleNonce(e.ownerDocument&&e.ownerDocument.defaultView);n&&e.setAttribute("nonce",n)}else e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(t):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeJavascriptUrlAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){module$contents$goog$asserts$dom_assertIsHtmlObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){module$contents$goog$asserts$dom_assertIsHtmlScriptElement(e),goog.dom.safe.setNonceForScriptElement_(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptContent=function(e,t){module$contents$goog$asserts$dom_assertIsHtmlScriptElement(e),goog.dom.safe.setNonceForScriptElement_(e),e.textContent=module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript(t)},goog.dom.safe.setNonceForScriptElement_=function(e){var t=goog.dom.safe.getScriptNonce(e.ownerDocument&&e.ownerDocument.defaultView);t&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e);var i=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeJavascriptUrlAssertUnchanged(t);e.href=goog.html.SafeUrl.unwrap(i)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e);var i=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeJavascriptUrlAssertUnchanged(t);e.assign(goog.html.SafeUrl.unwrap(i))},goog.dom.safe.replaceLocation=function(e,t){var i=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeJavascriptUrlAssertUnchanged(t);e.replace(goog.html.SafeUrl.unwrap(i))},goog.dom.safe.openInWindow=function(e,t,i,n){var r=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeJavascriptUrlAssertUnchanged(e),u=t||goog.global,d=i instanceof goog.string.Const?goog.string.Const.unwrap(i):i||"";return n!==void 0?u.open(goog.html.SafeUrl.unwrap(r),d,n):u.open(goog.html.SafeUrl.unwrap(r),d)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,i){return e.parseFromString(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t),i)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e),i=new goog.global.Image;return i.onload=function(){goog.global.URL.revokeObjectURL(t)},i.src=t,i},goog.dom.safe.createContextualFragment=function(e,t){return e.createContextualFragment(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.getScriptNonce=function(e){return goog.dom.safe.getNonce_("script[nonce]",e)},goog.dom.safe.getStyleNonce=function(e){return goog.dom.safe.getNonce_('style[nonce],link[rel="stylesheet"][nonce]',e)},goog.dom.safe.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.dom.safe.getNonce_=function(e,t){var i=(t||goog.global).document;if(!i.querySelector)return"";var n=i.querySelector(e);if(n){var r=n.nonce||n.getAttribute("nonce");if(r&&goog.dom.safe.NONCE_PATTERN_.test(r))return r}return""},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"",ZERO_WIDTH_SPACE:""},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var i=e.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<i.length;)n+=i.shift()+r.shift();return n+i.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return e.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return e==" "},goog.string.isUnicodeChar=function(e){return e.length==1&&" "<=e&&"~">=e||""<=e&&"">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,i){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(i),r=t.toLowerCase().match(i),u=Math.min(n.length,r.length),d=0;d<u;d++){var c=n[d],b=r[d];if(c!=b){var S=parseInt(c,10);if(!isNaN(S)){var C=parseInt(b,10);if(!isNaN(C)&&S-C)return S-C}return c<b?-1:1}}return n.length!=r.length?n.length-r.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var i={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(r,u){var d=i[r];if(d)return d;if(u.charAt(0)=="#"){var c=+("0"+u.slice(1));isNaN(c)||(d=String.fromCharCode(c))}return d||(goog.dom.safe.setInnerHtml(n,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),r+" ")),d=n.firstChild.nodeValue.slice(0,-1)),i[r]=d})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(t,i){switch(i){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if(i.charAt(0)=="#"){var n=+("0"+i.slice(1));if(!isNaN(n))return String.fromCharCode(n)}return t}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var i=t.length,n=0;n<i;n++){var r=i==1?t:t.charAt(n);if(e.charAt(0)==r&&e.charAt(e.length-1)==r)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,i){return i&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),i&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,i,n){if(i&&(e=goog.string.unescapeEntities(e)),n&&e.length>t)n>t&&(n=t),e=e.substring(0,t-n)+"..."+e.substring(e.length-n);else if(e.length>t){var r=Math.floor(t/2);e=e.substring(0,r+t%2)+"..."+e.substring(e.length-r)}return i&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],i=0;i<e.length;i++){var n=e.charAt(i),r=n.charCodeAt(0);t[i+1]=goog.string.specialEscapeChars_[n]||(31<r&&127>r?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=goog.string.escapeChar(e.charAt(i));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e,i=e.charCodeAt(0);return 31<i&&127>i?t=e:(256>i?(t="\\x",(16>i||256<i)&&(t+="0")):(t="\\u",4096>i&&(t+="0")),t+=i.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=t},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,i){var n=e;return 0<=t&&t<e.length&&0<i&&(n=e.slice(0,t)+e.slice(t+i)),n},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){var i=new RegExp(goog.string.regExpEscape(t),"g");return e.replace(i,"")},goog.string.replaceAll=function(e,t,i){var n=new RegExp(goog.string.regExpEscape(t),"g");return e.replace(n,i.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,i){if(!Number.isFinite(e))return String(e);var n=i!==void 0?e.toFixed(i):String(e),r=n.indexOf(".");r===-1&&(r=n.length);var u=n[0]==="-"?"-":"";return u&&(n=n.substring(1)),u+goog.string.repeat("0",Math.max(0,t-r))+n},goog.string.makeSafe=function(e){return e==null?"":String(e)},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,i=0;i<e.length;++i)t=31*t+e.charCodeAt(i)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return t==0&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(t,i){return i.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var i=typeof t=="string"?goog.string.regExpEscape(t):"\\s";return e.replace(new RegExp("(^"+(i?"|["+i+"]+":"")+")([a-z])","g"),function(n,r,u){return r+u.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.slice(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),typeof e=="string"?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,i){for(var n=e.split(t),r=[];0<i&&n.length;)r.push(n.shift()),i--;return n.length&&r.push(n.join(t)),r},goog.string.lastComponent=function(e,t){if(t)typeof t=="string"&&(t=[t]);else return e;for(var i=-1,n=0;n<t.length;n++)if(t[n]!=""){var r=e.lastIndexOf(t[n]);r>i&&(i=r)}return i==-1?e:e.slice(i+1)},goog.string.editDistance=function(e,t){var i=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var r=0;r<t.length+1;r++)i[r]=r;for(var u=0;u<e.length;u++){n[0]=u+1;for(var d=0;d<t.length;d++)n[d+1]=Math.min(n[d]+1,i[d+1]+1,i[d]+ +(e[u]!=t[d]));for(var c=0;c<i.length;c++)i[c]=n[c]}return n[t.length]},goog.collections.maps={};var module$contents$goog$collections$maps_MapLike=function(){};module$contents$goog$collections$maps_MapLike.prototype.set=function(e,t){},module$contents$goog$collections$maps_MapLike.prototype.get=function(e){},module$contents$goog$collections$maps_MapLike.prototype.keys=function(){},module$contents$goog$collections$maps_MapLike.prototype.values=function(){},module$contents$goog$collections$maps_MapLike.prototype.has=function(e){},goog.collections.maps.MapLike=module$contents$goog$collections$maps_MapLike,goog.collections.maps.setAll=function e(t,i){if(i)for(var n=$jscomp.makeIterator(i),r=n.next();!r.done;r=n.next()){var u=$jscomp.makeIterator(r.value),d=u.next().value,c=u.next().value;t.set(d,c)}},goog.collections.maps.hasValue=function e(t,i,n){n=n===void 0?module$contents$goog$collections$maps_defaultEqualityFn:n;for(var r=$jscomp.makeIterator(t.values()),u=r.next();!u.done;u=r.next())if(n(u.value,i))return!0;return!1};var module$contents$goog$collections$maps_defaultEqualityFn=function(e,t){return e===t};goog.collections.maps.equals=function e(t,i,n){if(n=n===void 0?module$contents$goog$collections$maps_defaultEqualityFn:n,t===i)return!0;if(t.size!==i.size)return!1;for(var r=$jscomp.makeIterator(t.keys()),u=r.next();!u.done;u=r.next()){var d=u.value;if(!i.has(d)||!n(t.get(d),i.get(d)))return!1}return!0},goog.collections.maps.transpose=function e(t){for(var i=new Map,n=$jscomp.makeIterator(t.keys()),r=n.next();!r.done;r=n.next()){var u=r.value,d=t.get(u);i.set(d,u)}return i},goog.collections.maps.toObject=function e(t){for(var i={},n=$jscomp.makeIterator(t.keys()),r=n.next();!r.done;r=n.next()){var u=r.value;i[u]=t.get(u)}return i},goog.uri={},goog.uri.utils={},goog.uri.utils.QueryArray={},goog.uri.utils.QueryValue={},goog.uri.utils.CharCode_={AMPERSAND:38,EQUAL:61,HASH:35,QUESTION:63},goog.uri.utils.buildFromEncodedParts=function(e,t,i,n,r,u,d){var c="";return e&&(c+=e+":"),i&&(c+="//",t&&(c+=t+"@"),c+=i,n&&(c+=":"+n)),r&&(c+=r),u&&(c+="?"+u),d&&(c+="#"+d),c},goog.uri.utils.splitRe_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$"),goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7},goog.uri.utils.urlPackageSupportLoggingHandler_=null,goog.uri.utils.setUrlPackageSupportLoggingHandler=function(e){goog.uri.utils.urlPackageSupportLoggingHandler_=e},goog.uri.utils.split=function(e){var t=e.match(goog.uri.utils.splitRe_);return goog.uri.utils.urlPackageSupportLoggingHandler_&&0<=["http","https","ws","wss","ftp"].indexOf(t[goog.uri.utils.ComponentIndex.SCHEME])&&goog.uri.utils.urlPackageSupportLoggingHandler_(e),t},goog.uri.utils.decodeIfPossible_=function(e,t){return e&&(t?decodeURI(e):decodeURIComponent(e))},goog.uri.utils.getComponentByIndex_=function(e,t){return goog.uri.utils.split(t)[e]||null},goog.uri.utils.getScheme=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME,e)},goog.uri.utils.getEffectiveScheme=function(e){var t=goog.uri.utils.getScheme(e);return!t&&goog.global.self&&goog.global.self.location&&(t=goog.global.self.location.protocol.slice(0,-1)),t?t.toLowerCase():""},goog.uri.utils.getUserInfoEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO,e)},goog.uri.utils.getUserInfo=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(e))},goog.uri.utils.getDomainEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN,e)},goog.uri.utils.getDomain=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(e),!0)},goog.uri.utils.getPort=function(e){return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT,e))||null},goog.uri.utils.getPathEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH,e)},goog.uri.utils.getPath=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(e),!0)},goog.uri.utils.getQueryData=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA,e)},goog.uri.utils.getFragmentEncoded=function(e){var t=e.indexOf("#");return 0>t?null:e.slice(t+1)},goog.uri.utils.setFragmentEncoded=function(e,t){return goog.uri.utils.removeFragment(e)+(t?"#"+t:"")},goog.uri.utils.getFragment=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(e))},goog.uri.utils.getHost=function(e){var t=goog.uri.utils.split(e);return goog.uri.utils.buildFromEncodedParts(t[goog.uri.utils.ComponentIndex.SCHEME],t[goog.uri.utils.ComponentIndex.USER_INFO],t[goog.uri.utils.ComponentIndex.DOMAIN],t[goog.uri.utils.ComponentIndex.PORT])},goog.uri.utils.getOrigin=function(e){var t=goog.uri.utils.split(e);return goog.uri.utils.buildFromEncodedParts(t[goog.uri.utils.ComponentIndex.SCHEME],null,t[goog.uri.utils.ComponentIndex.DOMAIN],t[goog.uri.utils.ComponentIndex.PORT])},goog.uri.utils.getPathAndAfter=function(e){var t=goog.uri.utils.split(e);return goog.uri.utils.buildFromEncodedParts(null,null,null,null,t[goog.uri.utils.ComponentIndex.PATH],t[goog.uri.utils.ComponentIndex.QUERY_DATA],t[goog.uri.utils.ComponentIndex.FRAGMENT])},goog.uri.utils.removeFragment=function(e){var t=e.indexOf("#");return 0>t?e:e.slice(0,t)},goog.uri.utils.haveSameDomain=function(e,t){var i=goog.uri.utils.split(e),n=goog.uri.utils.split(t);return i[goog.uri.utils.ComponentIndex.DOMAIN]==n[goog.uri.utils.ComponentIndex.DOMAIN]&&i[goog.uri.utils.ComponentIndex.SCHEME]==n[goog.uri.utils.ComponentIndex.SCHEME]&&i[goog.uri.utils.ComponentIndex.PORT]==n[goog.uri.utils.ComponentIndex.PORT]},goog.uri.utils.assertNoFragmentsOrQueries_=function(e){goog.asserts.assert(0>e.indexOf("#")&&0>e.indexOf("?"),"goog.uri.utils: Fragment or query identifiers are not supported: [%s]",e)},goog.uri.utils.parseQueryData=function(e,t){if(e)for(var i=e.split("&"),n=0;n<i.length;n++){var r=i[n].indexOf("="),u=null,d=null;0<=r?(u=i[n].substring(0,r),d=i[n].substring(r+1)):u=i[n],t(u,d?goog.string.urlDecode(d):"")}},goog.uri.utils.splitQueryData_=function(e){var t=e.indexOf("#");0>t&&(t=e.length);var i=e.indexOf("?");if(0>i||i>t){i=t;var n=""}else n=e.substring(i+1,t);return[e.slice(0,i),n,e.slice(t)]},goog.uri.utils.joinQueryData_=function(e){return e[0]+(e[1]?"?"+e[1]:"")+e[2]},goog.uri.utils.appendQueryData_=function(e,t){return t?e?e+"&"+t:t:e},goog.uri.utils.appendQueryDataToUri_=function(e,t){if(!t)return e;var i=goog.uri.utils.splitQueryData_(e);return i[1]=goog.uri.utils.appendQueryData_(i[1],t),goog.uri.utils.joinQueryData_(i)},goog.uri.utils.appendKeyValuePairs_=function(e,t,i){if(goog.asserts.assertString(e),Array.isArray(t)){goog.asserts.assertArray(t);for(var n=0;n<t.length;n++)goog.uri.utils.appendKeyValuePairs_(e,String(t[n]),i)}else t!=null&&i.push(e+(t===""?"":"="+goog.string.urlEncode(t)))},goog.uri.utils.buildQueryData=function(e,t){goog.asserts.assert(Math.max(e.length-(t||0),0)%2==0,"goog.uri.utils: Key/value lists must be even in length.");for(var i=[],n=t||0;n<e.length;n+=2)goog.uri.utils.appendKeyValuePairs_(e[n],e[n+1],i);return i.join("&")},goog.uri.utils.buildQueryDataFromMap=function(e){var t=[],i;for(i in e)goog.uri.utils.appendKeyValuePairs_(i,e[i],t);return t.join("&")},goog.uri.utils.appendParams=function(e,t){var i=arguments.length==2?goog.uri.utils.buildQueryData(arguments[1],0):goog.uri.utils.buildQueryData(arguments,1);return goog.uri.utils.appendQueryDataToUri_(e,i)},goog.uri.utils.appendParamsFromMap=function(e,t){var i=goog.uri.utils.buildQueryDataFromMap(t);return goog.uri.utils.appendQueryDataToUri_(e,i)},goog.uri.utils.appendParam=function(e,t,i){var n=i!=null?"="+goog.string.urlEncode(i):"";return goog.uri.utils.appendQueryDataToUri_(e,t+n)},goog.uri.utils.findParam_=function(e,t,i,n){for(var r=t,u=i.length;0<=(r=e.indexOf(i,r))&&r<n;){var d=e.charCodeAt(r-1);if(d==goog.uri.utils.CharCode_.AMPERSAND||d==goog.uri.utils.CharCode_.QUESTION){var c=e.charCodeAt(r+u);if(!c||c==goog.uri.utils.CharCode_.EQUAL||c==goog.uri.utils.CharCode_.AMPERSAND||c==goog.uri.utils.CharCode_.HASH)return r}r+=u+1}return-1},goog.uri.utils.hashOrEndRe_=/#|$/,goog.uri.utils.hasParam=function(e,t){return 0<=goog.uri.utils.findParam_(e,0,t,e.search(goog.uri.utils.hashOrEndRe_))},goog.uri.utils.getParamValue=function(e,t){var i=e.search(goog.uri.utils.hashOrEndRe_),n=goog.uri.utils.findParam_(e,0,t,i);if(0>n)return null;var r=e.indexOf("&",n);return(0>r||r>i)&&(r=i),n+=t.length+1,goog.string.urlDecode(e.slice(n,r!==-1?r:0))},goog.uri.utils.getParamValues=function(e,t){for(var i=e.search(goog.uri.utils.hashOrEndRe_),n=0,r,u=[];0<=(r=goog.uri.utils.findParam_(e,n,t,i));)n=e.indexOf("&",r),(0>n||n>i)&&(n=i),r+=t.length+1,u.push(goog.string.urlDecode(e.slice(r,Math.max(n,0))));return u},goog.uri.utils.trailingQueryPunctuationRe_=/[?&]($|#)/,goog.uri.utils.removeParam=function(e,t){for(var i=e.search(goog.uri.utils.hashOrEndRe_),n=0,r,u=[];0<=(r=goog.uri.utils.findParam_(e,n,t,i));)u.push(e.substring(n,r)),n=Math.min(e.indexOf("&",r)+1||i,i);return u.push(e.slice(n)),u.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_,"$1")},goog.uri.utils.setParam=function(e,t,i){return goog.uri.utils.appendParam(goog.uri.utils.removeParam(e,t),t,i)},goog.uri.utils.setParamsFromMap=function(e,t){var i=goog.uri.utils.splitQueryData_(e),n=i[1],r=[];return n&&n.split("&").forEach(function(u){var d=u.indexOf("="),c=0<=d?u.slice(0,d):u;t.hasOwnProperty(c)||r.push(u)}),i[1]=goog.uri.utils.appendQueryData_(r.join("&"),goog.uri.utils.buildQueryDataFromMap(t)),goog.uri.utils.joinQueryData_(i)},goog.uri.utils.appendPath=function(e,t){return goog.uri.utils.assertNoFragmentsOrQueries_(e),goog.string.endsWith(e,"/")&&(e=e.slice(0,-1)),goog.string.startsWith(t,"/")&&(t=t.slice(1)),""+e+"/"+t},goog.uri.utils.setPath=function(e,t){goog.string.startsWith(t,"/")||(t="/"+t);var i=goog.uri.utils.split(e);return goog.uri.utils.buildFromEncodedParts(i[goog.uri.utils.ComponentIndex.SCHEME],i[goog.uri.utils.ComponentIndex.USER_INFO],i[goog.uri.utils.ComponentIndex.DOMAIN],i[goog.uri.utils.ComponentIndex.PORT],t,i[goog.uri.utils.ComponentIndex.QUERY_DATA],i[goog.uri.utils.ComponentIndex.FRAGMENT])},goog.uri.utils.StandardQueryParam={RANDOM:"zx"},goog.uri.utils.makeUnique=function(e){return goog.uri.utils.setParam(e,goog.uri.utils.StandardQueryParam.RANDOM,goog.string.getRandomString())},goog.Uri=function(e,t){this.domain_=this.userInfo_=this.scheme_="",this.port_=null,this.fragment_=this.path_="",this.ignoreCase_=this.isReadOnly_=!1;var i;e instanceof goog.Uri?(this.ignoreCase_=t!==void 0?t:e.getIgnoreCase(),this.setScheme(e.getScheme()),this.setUserInfo(e.getUserInfo()),this.setDomain(e.getDomain()),this.setPort(e.getPort()),this.setPath(e.getPath()),this.setQueryData(e.getQueryData().clone()),this.setFragment(e.getFragment())):e&&(i=goog.uri.utils.split(String(e)))?(this.ignoreCase_=!!t,this.setScheme(i[goog.uri.utils.ComponentIndex.SCHEME]||"",!0),this.setUserInfo(i[goog.uri.utils.ComponentIndex.USER_INFO]||"",!0),this.setDomain(i[goog.uri.utils.ComponentIndex.DOMAIN]||"",!0),this.setPort(i[goog.uri.utils.ComponentIndex.PORT]),this.setPath(i[goog.uri.utils.ComponentIndex.PATH]||"",!0),this.setQueryData(i[goog.uri.utils.ComponentIndex.QUERY_DATA]||"",!0),this.setFragment(i[goog.uri.utils.ComponentIndex.FRAGMENT]||"",!0)):(this.ignoreCase_=!!t,this.queryData_=new goog.Uri.QueryData(null,this.ignoreCase_))},goog.Uri.RANDOM_PARAM=goog.uri.utils.StandardQueryParam.RANDOM,goog.Uri.prototype.toString=function(){var e=[],t=this.getScheme();t&&e.push(goog.Uri.encodeSpecialChars_(t,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),":");var i=this.getDomain();if(i||t=="file"){e.push("//");var n=this.getUserInfo();n&&e.push(goog.Uri.encodeSpecialChars_(n,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),"@"),e.push(goog.Uri.removeDoubleEncoding_(goog.string.urlEncode(i)));var r=this.getPort();r!=null&&e.push(":",String(r))}var u=this.getPath();u&&(this.hasDomain()&&u.charAt(0)!="/"&&e.push("/"),e.push(goog.Uri.encodeSpecialChars_(u,u.charAt(0)=="/"?goog.Uri.reDisallowedInAbsolutePath_:goog.Uri.reDisallowedInRelativePath_,!0)));var d=this.getEncodedQuery();d&&e.push("?",d);var c=this.getFragment();return c&&e.push("#",goog.Uri.encodeSpecialChars_(c,goog.Uri.reDisallowedInFragment_)),e.join("")},goog.Uri.prototype.resolve=function(e){var t=this.clone(),i=e.hasScheme();i?t.setScheme(e.getScheme()):i=e.hasUserInfo(),i?t.setUserInfo(e.getUserInfo()):i=e.hasDomain(),i?t.setDomain(e.getDomain()):i=e.hasPort();var n=e.getPath();if(i)t.setPort(e.getPort());else if(i=e.hasPath()){if(n.charAt(0)!="/")if(this.hasDomain()&&!this.hasPath())n="/"+n;else{var r=t.getPath().lastIndexOf("/");r!=-1&&(n=t.getPath().slice(0,r+1)+n)}n=goog.Uri.removeDotSegments(n)}return i?t.setPath(n):i=e.hasQuery(),i?t.setQueryData(e.getQueryData().clone()):i=e.hasFragment(),i&&t.setFragment(e.getFragment()),t},goog.Uri.prototype.clone=function(){return new goog.Uri(this)},goog.Uri.prototype.getScheme=function(){return this.scheme_},goog.Uri.prototype.setScheme=function(e,t){return this.enforceReadOnly(),(this.scheme_=t?goog.Uri.decodeOrEmpty_(e,!0):e)&&(this.scheme_=this.scheme_.replace(/:$/,"")),this},goog.Uri.prototype.hasScheme=function(){return!!this.scheme_},goog.Uri.prototype.getUserInfo=function(){return this.userInfo_},goog.Uri.prototype.setUserInfo=function(e,t){return this.enforceReadOnly(),this.userInfo_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasUserInfo=function(){return!!this.userInfo_},goog.Uri.prototype.getDomain=function(){return this.domain_},goog.Uri.prototype.setDomain=function(e,t){return this.enforceReadOnly(),this.domain_=t?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasDomain=function(){return!!this.domain_},goog.Uri.prototype.getPort=function(){return this.port_},goog.Uri.prototype.setPort=function(e){if(this.enforceReadOnly(),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);this.port_=e}else this.port_=null;return this},goog.Uri.prototype.hasPort=function(){return this.port_!=null},goog.Uri.prototype.getPath=function(){return this.path_},goog.Uri.prototype.setPath=function(e,t){return this.enforceReadOnly(),this.path_=t?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasPath=function(){return!!this.path_},goog.Uri.prototype.hasQuery=function(){return this.queryData_.toString()!==""},goog.Uri.prototype.setQueryData=function(e,t){return this.enforceReadOnly(),e instanceof goog.Uri.QueryData?(this.queryData_=e,this.queryData_.setIgnoreCase(this.ignoreCase_)):(t||(e=goog.Uri.encodeSpecialChars_(e,goog.Uri.reDisallowedInQuery_)),this.queryData_=new goog.Uri.QueryData(e,this.ignoreCase_)),this},goog.Uri.prototype.setQuery=function(e,t){return this.setQueryData(e,t)},goog.Uri.prototype.getEncodedQuery=function(){return this.queryData_.toString()},goog.Uri.prototype.getDecodedQuery=function(){return this.queryData_.toDecodedString()},goog.Uri.prototype.getQueryData=function(){return this.queryData_},goog.Uri.prototype.getQuery=function(){return this.getEncodedQuery()},goog.Uri.prototype.setParameterValue=function(e,t){return this.enforceReadOnly(),this.queryData_.set(e,t),this},goog.Uri.prototype.setParameterValues=function(e,t){return this.enforceReadOnly(),Array.isArray(t)||(t=[String(t)]),this.queryData_.setValues(e,t),this},goog.Uri.prototype.getParameterValues=function(e){return this.queryData_.getValues(e)},goog.Uri.prototype.getParameterValue=function(e){return this.queryData_.get(e)},goog.Uri.prototype.getFragment=function(){return this.fragment_},goog.Uri.prototype.setFragment=function(e,t){return this.enforceReadOnly(),this.fragment_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasFragment=function(){return!!this.fragment_},goog.Uri.prototype.hasSameDomainAs=function(e){return(!this.hasDomain()&&!e.hasDomain()||this.getDomain()==e.getDomain())&&(!this.hasPort()&&!e.hasPort()||this.getPort()==e.getPort())},goog.Uri.prototype.makeUnique=function(){return this.enforceReadOnly(),this.setParameterValue(goog.Uri.RANDOM_PARAM,goog.string.getRandomString()),this},goog.Uri.prototype.removeParameter=function(e){return this.enforceReadOnly(),this.queryData_.remove(e),this},goog.Uri.prototype.setReadOnly=function(e){return this.isReadOnly_=e,this},goog.Uri.prototype.isReadOnly=function(){return this.isReadOnly_},goog.Uri.prototype.enforceReadOnly=function(){if(this.isReadOnly_)throw Error("Tried to modify a read-only Uri")},goog.Uri.prototype.setIgnoreCase=function(e){return this.ignoreCase_=e,this.queryData_&&this.queryData_.setIgnoreCase(e),this},goog.Uri.prototype.getIgnoreCase=function(){return this.ignoreCase_},goog.Uri.parse=function(e,t){return e instanceof goog.Uri?e.clone():new goog.Uri(e,t)},goog.Uri.create=function(e,t,i,n,r,u,d,c){var b=new goog.Uri(null,c);return e&&b.setScheme(e),t&&b.setUserInfo(t),i&&b.setDomain(i),n&&b.setPort(n),r&&b.setPath(r),u&&b.setQueryData(u),d&&b.setFragment(d),b},goog.Uri.resolve=function(e,t){return e instanceof goog.Uri||(e=goog.Uri.parse(e)),t instanceof goog.Uri||(t=goog.Uri.parse(t)),e.resolve(t)},goog.Uri.removeDotSegments=function(e){if(e==".."||e==".")return"";if(goog.string.contains(e,"./")||goog.string.contains(e,"/.")){for(var t=goog.string.startsWith(e,"/"),i=e.split("/"),n=[],r=0;r<i.length;){var u=i[r++];u=="."?t&&r==i.length&&n.push(""):u==".."?((1<n.length||n.length==1&&n[0]!="")&&n.pop(),t&&r==i.length&&n.push("")):(n.push(u),t=!0)}return n.join("/")}return e},goog.Uri.decodeOrEmpty_=function(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""},goog.Uri.encodeSpecialChars_=function(e,t,i){if(typeof e=="string"){var n=encodeURI(e).replace(t,goog.Uri.encodeChar_);return i&&(n=goog.Uri.removeDoubleEncoding_(n)),n}return null},goog.Uri.encodeChar_=function(e){var t=e.charCodeAt(0);return"%"+(t>>4&15).toString(16)+(t&15).toString(16)},goog.Uri.removeDoubleEncoding_=function(e){return e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")},goog.Uri.reDisallowedInSchemeOrUserInfo_=/[#\/\?@]/g,goog.Uri.reDisallowedInRelativePath_=/[#\?:]/g,goog.Uri.reDisallowedInAbsolutePath_=/[#\?]/g,goog.Uri.reDisallowedInQuery_=/[#\?@]/g,goog.Uri.reDisallowedInFragment_=/#/g,goog.Uri.haveSameDomain=function(e,t){var i=goog.uri.utils.split(e),n=goog.uri.utils.split(t);return i[goog.uri.utils.ComponentIndex.DOMAIN]==n[goog.uri.utils.ComponentIndex.DOMAIN]&&i[goog.uri.utils.ComponentIndex.PORT]==n[goog.uri.utils.ComponentIndex.PORT]},goog.Uri.QueryData=function(e,t){this.count_=this.keyMap_=null,this.encodedQuery_=e||null,this.ignoreCase_=!!t},goog.Uri.QueryData.prototype.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_=new Map,this.count_=0,this.encodedQuery_)){var e=this;goog.uri.utils.parseQueryData(this.encodedQuery_,function(t,i){e.add(goog.string.urlDecode(t),i)})}},goog.Uri.QueryData.createFromMap=function(e,t){var i=goog.structs.getKeys(e);if(typeof i>"u")throw Error("Keys are undefined");for(var n=new goog.Uri.QueryData(null,t),r=goog.structs.getValues(e),u=0;u<i.length;u++){var d=i[u],c=r[u];Array.isArray(c)?n.setValues(d,c):n.add(d,c)}return n},goog.Uri.QueryData.createFromKeysValues=function(e,t,i){if(e.length!=t.length)throw Error("Mismatched lengths for keys/values");for(var n=new goog.Uri.QueryData(null,i),r=0;r<e.length;r++)n.add(e[r],t[r]);return n},goog.Uri.QueryData.prototype.getCount=function(){return this.ensureKeyMapInitialized_(),this.count_},goog.Uri.QueryData.prototype.add=function(e,t){this.ensureKeyMapInitialized_(),this.invalidateCache_(),e=this.getKeyName_(e);var i=this.keyMap_.get(e);return i||this.keyMap_.set(e,i=[]),i.push(t),this.count_=goog.asserts.assertNumber(this.count_)+1,this},goog.Uri.QueryData.prototype.remove=function(e){return this.ensureKeyMapInitialized_(),e=this.getKeyName_(e),this.keyMap_.has(e)?(this.invalidateCache_(),this.count_=goog.asserts.assertNumber(this.count_)-this.keyMap_.get(e).length,this.keyMap_.delete(e)):!1},goog.Uri.QueryData.prototype.clear=function(){this.invalidateCache_(),this.keyMap_=null,this.count_=0},goog.Uri.QueryData.prototype.isEmpty=function(){return this.ensureKeyMapInitialized_(),this.count_==0},goog.Uri.QueryData.prototype.containsKey=function(e){return this.ensureKeyMapInitialized_(),e=this.getKeyName_(e),this.keyMap_.has(e)},goog.Uri.QueryData.prototype.containsValue=function(e){var t=this.getValues();return module$contents$goog$array_contains(t,e)},goog.Uri.QueryData.prototype.forEach=function(e,t){this.ensureKeyMapInitialized_(),this.keyMap_.forEach(function(i,n){i.forEach(function(r){e.call(t,r,n,this)},this)},this)},goog.Uri.QueryData.prototype.getKeys=function(){this.ensureKeyMapInitialized_();for(var e=Array.from(this.keyMap_.values()),t=Array.from(this.keyMap_.keys()),i=[],n=0;n<t.length;n++)for(var r=e[n],u=0;u<r.length;u++)i.push(t[n]);return i},goog.Uri.QueryData.prototype.getValues=function(e){this.ensureKeyMapInitialized_();var t=[];if(typeof e=="string")this.containsKey(e)&&(t=t.concat(this.keyMap_.get(this.getKeyName_(e))));else for(var i=Array.from(this.keyMap_.values()),n=0;n<i.length;n++)t=t.concat(i[n]);return t},goog.Uri.QueryData.prototype.set=function(e,t){return this.ensureKeyMapInitialized_(),this.invalidateCache_(),e=this.getKeyName_(e),this.containsKey(e)&&(this.count_=goog.asserts.assertNumber(this.count_)-this.keyMap_.get(e).length),this.keyMap_.set(e,[t]),this.count_=goog.asserts.assertNumber(this.count_)+1,this},goog.Uri.QueryData.prototype.get=function(e,t){if(!e)return t;var i=this.getValues(e);return 0<i.length?String(i[0]):t},goog.Uri.QueryData.prototype.setValues=function(e,t){this.remove(e),0<t.length&&(this.invalidateCache_(),this.keyMap_.set(this.getKeyName_(e),module$contents$goog$array_toArray(t)),this.count_=goog.asserts.assertNumber(this.count_)+t.length)},goog.Uri.QueryData.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";for(var e=[],t=Array.from(this.keyMap_.keys()),i=0;i<t.length;i++)for(var n=t[i],r=goog.string.urlEncode(n),u=this.getValues(n),d=0;d<u.length;d++){var c=r;u[d]!==""&&(c+="="+goog.string.urlEncode(u[d])),e.push(c)}return this.encodedQuery_=e.join("&")},goog.Uri.QueryData.prototype.toDecodedString=function(){return goog.Uri.decodeOrEmpty_(this.toString())},goog.Uri.QueryData.prototype.invalidateCache_=function(){this.encodedQuery_=null},goog.Uri.QueryData.prototype.filterKeys=function(e){return this.ensureKeyMapInitialized_(),this.keyMap_.forEach(function(t,i){module$contents$goog$array_contains(e,i)||this.remove(i)},this),this},goog.Uri.QueryData.prototype.clone=function(){var e=new goog.Uri.QueryData;return e.encodedQuery_=this.encodedQuery_,this.keyMap_&&(e.keyMap_=new Map(this.keyMap_),e.count_=this.count_),e},goog.Uri.QueryData.prototype.getKeyName_=function(e){var t=String(e);return this.ignoreCase_&&(t=t.toLowerCase()),t},goog.Uri.QueryData.prototype.setIgnoreCase=function(e){e&&!this.ignoreCase_&&(this.ensureKeyMapInitialized_(),this.invalidateCache_(),this.keyMap_.forEach(function(t,i){var n=i.toLowerCase();i!=n&&(this.remove(i),this.setValues(n,t))},this)),this.ignoreCase_=e},goog.Uri.QueryData.prototype.extend=function(e){for(var t=0;t<arguments.length;t++)goog.structs.forEach(arguments[t],function(i,n){this.add(n,i)},this)};function module$contents$eeapiclient$request_params_MakeRequestParams(){}function module$contents$eeapiclient$request_params_processParams(e){if(e.queryParams!=null){var t={},i;for(i in e.queryParams)e.queryParams[i]!==void 0&&(t[i]=e.queryParams[i]);e.queryParams=t}}function module$contents$eeapiclient$request_params_buildQueryParams(e,t,i){for(var n=i=i===void 0?{}:i,r=$jscomp.makeIterator(Object.entries(t)),u=r.next();!u.done;u=r.next()){var d=$jscomp.makeIterator(u.value),c=d.next().value,b=d.next().value,S=c,C=b;S in e&&(n[C]=e[S])}return n}var module$exports$eeapiclient$multipart_request={};module$exports$eeapiclient$multipart_request.MultipartRequest=function(e,t){this.files=e,this._metadata=t,this._metadataPayload="",this._boundary=Date.now().toString(),t&&this.addMetadata(t),this._payloadPromise=this.build()},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.boundary=function(){return this._boundary},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.metadata=function(){return this._metadata},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.payloadPromise=function(){return this._payloadPromise},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.addMetadata=function(e){var t=e instanceof module$exports$eeapiclient$domain_object.Serializable?module$contents$eeapiclient$domain_object_serialize(e):e;this._metadataPayload+=`Content-Type: application/json; charset=utf-8\r
\r
`+JSON.stringify(t)+(`\r
--`+this._boundary+`\r
`)},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.build=function(){var e=this,t="--"+this._boundary+`\r
`;return t+=this._metadataPayload,Promise.all(this.files.map(function(i){return e.encodeFile(i)})).then(function(i){for(var n=$jscomp.makeIterator(i),r=n.next();!r.done;r=n.next())t+=r.value;return t+=`\r
--`+e._boundary+"--"})},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.encodeFile=function(e){return this.base64EncodeFile(e).then(function(t){return"Content-Type: "+e.type+`\r
Content-Disposition: form-data; name="file"; filename="`+(encodeURIComponent(e.name)+`"\r
Content-Transfer-Encoding: base64\r
\r
`)+t})},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.base64EncodeFile=function(e){return new Promise(function(t,i){var n=new FileReader;n.onload=function(r){try{var u=r.target.result,d=u.substr(u.indexOf(",")+1);t(d)}catch(c){i(c)}},n.readAsDataURL(e)})};var module$exports$eeapiclient$api_client={};module$exports$eeapiclient$api_client.ApiClient=function(){},module$exports$eeapiclient$api_client.ApiClient.prototype.$validateParameter=function(e,t){var i=String(e);if(!t.test(i))throw Error("parameter ["+i+"] does not match pattern ["+t.toString()+"]")};function module$contents$eeapiclient$api_client_toMakeRequestParams(e){var t=e.body instanceof module$exports$eeapiclient$domain_object.Serializable?module$contents$eeapiclient$domain_object_serialize(e.body):e.body;return{path:e.path,httpMethod:e.httpMethod,methodId:e.methodId,body:t,queryParams:e.queryParams,streamingType:e.streamingType&&e.streamingType}}module$exports$eeapiclient$api_client.toMakeRequestParams=module$contents$eeapiclient$api_client_toMakeRequestParams;function module$contents$eeapiclient$api_client_toMultipartMakeRequestParams(e){if(!(e.body instanceof module$exports$eeapiclient$multipart_request.MultipartRequest))throw Error(e.path+" request must be a MultipartRequest");var t=e.body;return t.payloadPromise().then(function(i){var n,r=(n=e.queryParams)!=null?n:{};return{path:e.path,httpMethod:e.httpMethod,methodId:e.methodId,queryParams:Object.assign({},r,{uploadType:"multipart"}),headers:{"X-Goog-Upload-Protocol":"multipart","Content-Type":"multipart/related; boundary="+t.boundary()},body:i}})}module$exports$eeapiclient$api_client.toMultipartMakeRequestParams=module$contents$eeapiclient$api_client_toMultipartMakeRequestParams;var module$exports$eeapiclient$api_request_hook={};module$exports$eeapiclient$api_request_hook.ApiClientRequestHook=function e(){},module$exports$eeapiclient$api_request_hook.ApiClientHookFactory=function(){},module$exports$eeapiclient$api_request_hook.ApiClientHookFactoryCtor=function e(){},module$exports$eeapiclient$api_request_hook.DefaultApiClientHookFactory=function(){},module$exports$eeapiclient$api_request_hook.DefaultApiClientHookFactory.prototype.getRequestHook=function(e){return{onBeforeSend:function(){},onSuccess:function(t){},onError:function(t){}}};function module$contents$eeapiclient$api_request_hook_getRequestHook(e,t){if(e==null)return null;var i=e.getRequestHook(t);return i??null}module$exports$eeapiclient$api_request_hook.getRequestHook=module$contents$eeapiclient$api_request_hook_getRequestHook;var module$exports$eeapiclient$promise_api_client={};module$exports$eeapiclient$promise_api_client.PromiseApiClient=function(e,t){this.requestService=e,this.hookFactory=t===void 0?null:t},$jscomp.inherits(module$exports$eeapiclient$promise_api_client.PromiseApiClient,module$exports$eeapiclient$api_client.ApiClient),module$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$addHooksToRequest=function(e,t){return module$contents$eeapiclient$api_request_hook_getRequestHook(this.hookFactory,e)==null?t:t.then(function(i){return i},function(i){throw i})},module$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$request=function(e){var t=e.responseCtor||void 0;return this.$addHooksToRequest(e,this.requestService.send(module$contents$eeapiclient$api_client_toMakeRequestParams(e),t))},module$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$uploadRequest=function(e){var t=this,i=e.responseCtor||void 0;return this.$addHooksToRequest(e,module$contents$eeapiclient$api_client_toMultipartMakeRequestParams(e).then(function(n){return t.requestService.send(n,i)}))};var module$exports$eeapiclient$ee_api_client={};module$exports$eeapiclient$ee_api_client.IAuditLogConfigLogTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum={ADMIN_READ:"ADMIN_READ",DATA_READ:"DATA_READ",DATA_WRITE:"DATA_WRITE",LOG_TYPE_UNSPECIFIED:"LOG_TYPE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.LOG_TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.ADMIN_READ,module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.DATA_WRITE,module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.DATA_READ]}},module$exports$eeapiclient$ee_api_client.IAuthorizationLoggingOptionsPermissionTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum={ADMIN_READ:"ADMIN_READ",ADMIN_WRITE:"ADMIN_WRITE",DATA_READ:"DATA_READ",DATA_WRITE:"DATA_WRITE",PERMISSION_TYPE_UNSPECIFIED:"PERMISSION_TYPE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.PERMISSION_TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.ADMIN_READ,module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.ADMIN_WRITE,module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.DATA_READ,module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.DATA_WRITE]}},module$exports$eeapiclient$ee_api_client.ICapabilitiesCapabilitiesEnum=function e(){},module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum={AUTO_APPEAL_ELIGIBLE:"AUTO_APPEAL_ELIGIBLE",CAPABILITY_GROUP_UNSPECIFIED:"CAPABILITY_GROUP_UNSPECIFIED",CLOUD_ALPHA:"CLOUD_ALPHA",EXTERNAL:"EXTERNAL",INTERNAL:"INTERNAL",LIMITED:"LIMITED",PREAUTHORIZED:"PREAUTHORIZED",PREVIEW:"PREVIEW",PUBLIC:"PUBLIC",RESTRICTED:"RESTRICTED",values:function(){return[module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.CAPABILITY_GROUP_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PUBLIC,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.INTERNAL,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.EXTERNAL,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.LIMITED,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PREAUTHORIZED,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PREVIEW,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.CLOUD_ALPHA,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.RESTRICTED,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.AUTO_APPEAL_ELIGIBLE]}},module$exports$eeapiclient$ee_api_client.IChangeSubscriptionTypeRequestChangeTimeEnum=function e(){},module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestChangeTimeEnum={CHANGE_TIME_TYPE_UNSPECIFIED:"CHANGE_TIME_TYPE_UNSPECIFIED",EARLIEST_POSSIBLE:"EARLIEST_POSSIBLE",END_OF_PERIOD:"END_OF_PERIOD",values:function(){return[module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestChangeTimeEnum.CHANGE_TIME_TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestChangeTimeEnum.END_OF_PERIOD,module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestChangeTimeEnum.EARLIEST_POSSIBLE]}},module$exports$eeapiclient$ee_api_client.IChangeSubscriptionTypeRequestTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum={BASIC:"BASIC",NO_SUBSCRIPTION:"NO_SUBSCRIPTION",PREMIUM:"PREMIUM",PROFESSIONAL:"PROFESSIONAL",TYPE_UNSPECIFIED:"TYPE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum.TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum.NO_SUBSCRIPTION,module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum.BASIC,module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum.PROFESSIONAL,module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum.PREMIUM]}},module$exports$eeapiclient$ee_api_client.ICloudAuditOptionsLogNameEnum=function e(){},module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum={ADMIN_ACTIVITY:"ADMIN_ACTIVITY",DATA_ACCESS:"DATA_ACCESS",UNSPECIFIED_LOG_NAME:"UNSPECIFIED_LOG_NAME",values:function(){return[module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.UNSPECIFIED_LOG_NAME,module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.ADMIN_ACTIVITY,module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.DATA_ACCESS]}},module$exports$eeapiclient$ee_api_client.ICloudStorageDestinationPermissionsEnum=function e(){},module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum={DEFAULT_OBJECT_ACL:"DEFAULT_OBJECT_ACL",PUBLIC:"PUBLIC",TILE_PERMISSIONS_UNSPECIFIED:"TILE_PERMISSIONS_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.TILE_PERMISSIONS_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.PUBLIC,module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.DEFAULT_OBJECT_ACL]}},module$exports$eeapiclient$ee_api_client.IComputePixelsRequestFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",GEO_TIFF:"GEO_TIFF",IMAGE_FILE_FORMAT_UNSPECIFIED:"IMAGE_FILE_FORMAT_UNSPECIFIED",JPEG:"JPEG",MULTI_BAND_IMAGE_TILE:"MULTI_BAND_IMAGE_TILE",NPY:"NPY",PNG:"PNG",TF_RECORD_IMAGE:"TF_RECORD_IMAGE",ZIPPED_GEO_TIFF:"ZIPPED_GEO_TIFF",ZIPPED_GEO_TIFF_PER_BAND:"ZIPPED_GEO_TIFF_PER_BAND",values:function(){return[module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.JPEG,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.PNG,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.AUTO_JPEG_PNG,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.NPY,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.GEO_TIFF,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.TF_RECORD_IMAGE,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.MULTI_BAND_IMAGE_TILE,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND]}},module$exports$eeapiclient$ee_api_client.IConditionIamEnum=function e(){},module$exports$eeapiclient$ee_api_client.ConditionIamEnum={APPROVER:"APPROVER",ATTRIBUTION:"ATTRIBUTION",AUTHORITY:"AUTHORITY",CREDENTIALS_TYPE:"CREDENTIALS_TYPE",CREDS_ASSERTION:"CREDS_ASSERTION",JUSTIFICATION_TYPE:"JUSTIFICATION_TYPE",NO_ATTR:"NO_ATTR",SECURITY_REALM:"SECURITY_REALM",values:function(){return[module$exports$eeapiclient$ee_api_client.ConditionIamEnum.NO_ATTR,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.AUTHORITY,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.ATTRIBUTION,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.SECURITY_REALM,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.APPROVER,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.JUSTIFICATION_TYPE,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.CREDENTIALS_TYPE,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.CREDS_ASSERTION]}},module$exports$eeapiclient$ee_api_client.IConditionOpEnum=function e(){},module$exports$eeapiclient$ee_api_client.ConditionOpEnum={DISCHARGED:"DISCHARGED",EQUALS:"EQUALS",IN:"IN",NOT_EQUALS:"NOT_EQUALS",NOT_IN:"NOT_IN",NO_OP:"NO_OP",values:function(){return[module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NO_OP,module$exports$eeapiclient$ee_api_client.ConditionOpEnum.EQUALS,module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NOT_EQUALS,module$exports$eeapiclient$ee_api_client.ConditionOpEnum.IN,module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NOT_IN,module$exports$eeapiclient$ee_api_client.ConditionOpEnum.DISCHARGED]}},module$exports$eeapiclient$ee_api_client.IConditionSysEnum=function e(){},module$exports$eeapiclient$ee_api_client.ConditionSysEnum={IP:"IP",NAME:"NAME",NO_ATTR:"NO_ATTR",REGION:"REGION",SERVICE:"SERVICE",values:function(){return[module$exports$eeapiclient$ee_api_client.ConditionSysEnum.NO_ATTR,module$exports$eeapiclient$ee_api_client.ConditionSysEnum.REGION,module$exports$eeapiclient$ee_api_client.ConditionSysEnum.SERVICE,module$exports$eeapiclient$ee_api_client.ConditionSysEnum.NAME,module$exports$eeapiclient$ee_api_client.ConditionSysEnum.IP]}},module$exports$eeapiclient$ee_api_client.IDataAccessOptionsLogModeEnum=function e(){},module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum={LOG_FAIL_CLOSED:"LOG_FAIL_CLOSED",LOG_MODE_UNSPECIFIED:"LOG_MODE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum.LOG_MODE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum.LOG_FAIL_CLOSED]}},module$exports$eeapiclient$ee_api_client.IEarthEngineAssetTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum={CLASSIFIER:"CLASSIFIER",FEATURE_VIEW:"FEATURE_VIEW",FOLDER:"FOLDER",IMAGE:"IMAGE",IMAGE_COLLECTION:"IMAGE_COLLECTION",TABLE:"TABLE",TYPE_UNSPECIFIED:"TYPE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.IMAGE,module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.IMAGE_COLLECTION,module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.TABLE,module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.FOLDER,module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.CLASSIFIER,module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.FEATURE_VIEW]}},module$exports$eeapiclient$ee_api_client.IEarthEngineMapFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",GEO_TIFF:"GEO_TIFF",IMAGE_FILE_FORMAT_UNSPECIFIED:"IMAGE_FILE_FORMAT_UNSPECIFIED",JPEG:"JPEG",MULTI_BAND_IMAGE_TILE:"MULTI_BAND_IMAGE_TILE",NPY:"NPY",PNG:"PNG",TF_RECORD_IMAGE:"TF_RECORD_IMAGE",ZIPPED_GEO_TIFF:"ZIPPED_GEO_TIFF",ZIPPED_GEO_TIFF_PER_BAND:"ZIPPED_GEO_TIFF_PER_BAND",values:function(){return[module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.JPEG,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.PNG,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.AUTO_JPEG_PNG,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.NPY,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.GEO_TIFF,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.TF_RECORD_IMAGE,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.MULTI_BAND_IMAGE_TILE,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.ZIPPED_GEO_TIFF,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND]}},module$exports$eeapiclient$ee_api_client.IExportVideoMapRequestVersionEnum=function e(){},module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum={V1:"V1",V2:"V2",VERSION_UNSPECIFIED:"VERSION_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.VERSION_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.V1,module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.V2]}},module$exports$eeapiclient$ee_api_client.IFeatureViewAttributeTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum={BOOLEAN:"BOOLEAN",DATE_TIME:"DATE_TIME",DOUBLE:"DOUBLE",INTEGER:"INTEGER",STRING:"STRING",TYPE_UNSPECIFIED:"TYPE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.INTEGER,module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.BOOLEAN,module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.DOUBLE,module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.STRING,module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.DATE_TIME]}},module$exports$eeapiclient$ee_api_client.IFeatureViewDestinationPermissionsEnum=function e(){},module$exports$eeapiclient$ee_api_client.FeatureViewDestinationPermissionsEnum={FEATURE_VIEW_ASSET_PERMISSIONS_UNSPECIFIED:"FEATURE_VIEW_ASSET_PERMISSIONS_UNSPECIFIED",PUBLIC:"PUBLIC",values:function(){return[module$exports$eeapiclient$ee_api_client.FeatureViewDestinationPermissionsEnum.FEATURE_VIEW_ASSET_PERMISSIONS_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.FeatureViewDestinationPermissionsEnum.PUBLIC]}},module$exports$eeapiclient$ee_api_client.IFilmstripThumbnailFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",GEO_TIFF:"GEO_TIFF",IMAGE_FILE_FORMAT_UNSPECIFIED:"IMAGE_FILE_FORMAT_UNSPECIFIED",JPEG:"JPEG",MULTI_BAND_IMAGE_TILE:"MULTI_BAND_IMAGE_TILE",NPY:"NPY",PNG:"PNG",TF_RECORD_IMAGE:"TF_RECORD_IMAGE",ZIPPED_GEO_TIFF:"ZIPPED_GEO_TIFF",ZIPPED_GEO_TIFF_PER_BAND:"ZIPPED_GEO_TIFF_PER_BAND",values:function(){return[module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.JPEG,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.PNG,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.AUTO_JPEG_PNG,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.NPY,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.GEO_TIFF,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.TF_RECORD_IMAGE,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.MULTI_BAND_IMAGE_TILE,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.ZIPPED_GEO_TIFF,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND]}},module$exports$eeapiclient$ee_api_client.IFilmstripThumbnailOrientationEnum=function e(){},module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum={HORIZONTAL:"HORIZONTAL",ORIENTATION_UNSPECIFIED:"ORIENTATION_UNSPECIFIED",VERTICAL:"VERTICAL",values:function(){return[module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.ORIENTATION_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.HORIZONTAL,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.VERTICAL]}},module$exports$eeapiclient$ee_api_client.IGcsDestinationPermissionsEnum=function e(){},module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum={DEFAULT_OBJECT_ACL:"DEFAULT_OBJECT_ACL",PUBLIC:"PUBLIC",TILE_PERMISSIONS_UNSPECIFIED:"TILE_PERMISSIONS_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.TILE_PERMISSIONS_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.PUBLIC,module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.DEFAULT_OBJECT_ACL]}},module$exports$eeapiclient$ee_api_client.IGetPixelsRequestFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",GEO_TIFF:"GEO_TIFF",IMAGE_FILE_FORMAT_UNSPECIFIED:"IMAGE_FILE_FORMAT_UNSPECIFIED",JPEG:"JPEG",MULTI_BAND_IMAGE_TILE:"MULTI_BAND_IMAGE_TILE",NPY:"NPY",PNG:"PNG",TF_RECORD_IMAGE:"TF_RECORD_IMAGE",ZIPPED_GEO_TIFF:"ZIPPED_GEO_TIFF",ZIPPED_GEO_TIFF_PER_BAND:"ZIPPED_GEO_TIFF_PER_BAND",values:function(){return[module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.JPEG,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.PNG,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.AUTO_JPEG_PNG,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.NPY,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.GEO_TIFF,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.TF_RECORD_IMAGE,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.MULTI_BAND_IMAGE_TILE,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND]}},module$exports$eeapiclient$ee_api_client.IImageAssetExportOptionsPyramidingPolicyEnum=function e(){},module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum={MAX:"MAX",MEAN:"MEAN",MEDIAN:"MEDIAN",MIN:"MIN",MODE:"MODE",PYRAMIDING_POLICY_UNSPECIFIED:"PYRAMIDING_POLICY_UNSPECIFIED",SAMPLE:"SAMPLE",values:function(){return[module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MEAN,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.SAMPLE,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MIN,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MAX,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MODE,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MEDIAN]}},module$exports$eeapiclient$ee_api_client.IImageAssetExportOptionsPyramidingPolicyOverridesEnum=function e(){},module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum={MAX:"MAX",MEAN:"MEAN",MEDIAN:"MEDIAN",MIN:"MIN",MODE:"MODE",PYRAMIDING_POLICY_UNSPECIFIED:"PYRAMIDING_POLICY_UNSPECIFIED",SAMPLE:"SAMPLE",values:function(){return[module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.PYRAMIDING_POLICY_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MEAN,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.SAMPLE,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MIN,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MAX,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MODE,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MEDIAN]}},module$exports$eeapiclient$ee_api_client.IImageBandPyramidingPolicyEnum=function e(){},module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum={MAX:"MAX",MEAN:"MEAN",MEDIAN:"MEDIAN",MIN:"MIN",MODE:"MODE",PYRAMIDING_POLICY_UNSPECIFIED:"PYRAMIDING_POLICY_UNSPECIFIED",SAMPLE:"SAMPLE",values:function(){return[module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MEAN,module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.SAMPLE,module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MIN,module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MAX,module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MODE,module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MEDIAN]}},module$exports$eeapiclient$ee_api_client.IImageFileExportOptionsFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",GEO_TIFF:"GEO_TIFF",IMAGE_FILE_FORMAT_UNSPECIFIED:"IMAGE_FILE_FORMAT_UNSPECIFIED",JPEG:"JPEG",MULTI_BAND_IMAGE_TILE:"MULTI_BAND_IMAGE_TILE",NPY:"NPY",PNG:"PNG",TF_RECORD_IMAGE:"TF_RECORD_IMAGE",ZIPPED_GEO_TIFF:"ZIPPED_GEO_TIFF",ZIPPED_GEO_TIFF_PER_BAND:"ZIPPED_GEO_TIFF_PER_BAND",values:function(){return[module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.JPEG,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.PNG,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.AUTO_JPEG_PNG,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.NPY,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.GEO_TIFF,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.TF_RECORD_IMAGE,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.MULTI_BAND_IMAGE_TILE,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.ZIPPED_GEO_TIFF,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND]}},module$exports$eeapiclient$ee_api_client.IImageManifestPyramidingPolicyEnum=function e(){},module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum={MAX:"MAX",MEAN:"MEAN",MEDIAN:"MEDIAN",MIN:"MIN",MODE:"MODE",PYRAMIDING_POLICY_UNSPECIFIED:"PYRAMIDING_POLICY_UNSPECIFIED",SAMPLE:"SAMPLE",values:function(){return[module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MEAN,module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.SAMPLE,module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MIN,module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MAX,module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MODE,module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MEDIAN]}},module$exports$eeapiclient$ee_api_client.IOperationMetadataStateEnum=function e(){},module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",FAILED:"FAILED",PENDING:"PENDING",RUNNING:"RUNNING",STATE_UNSPECIFIED:"STATE_UNSPECIFIED",SUCCEEDED:"SUCCEEDED",values:function(){return[module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.STATE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.PENDING,module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.RUNNING,module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.CANCELLING,module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.SUCCEEDED,module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.CANCELLED,module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.FAILED]}},module$exports$eeapiclient$ee_api_client.IOperationNotificationSeverityEnum=function e(){},module$exports$eeapiclient$ee_api_client.OperationNotificationSeverityEnum={SEVERE:"SEVERE",SEVERITY_UNSPECIFIED:"SEVERITY_UNSPECIFIED",WARNING:"WARNING",values:function(){return[module$exports$eeapiclient$ee_api_client.OperationNotificationSeverityEnum.SEVERITY_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.OperationNotificationSeverityEnum.WARNING,module$exports$eeapiclient$ee_api_client.OperationNotificationSeverityEnum.SEVERE]}},module$exports$eeapiclient$ee_api_client.IPixelDataTypePrecisionEnum=function e(){},module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum={DOUBLE:"DOUBLE",FLOAT:"FLOAT",INT:"INT",PRECISION_UNSPECIFIED:"PRECISION_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.PRECISION_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.INT,module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.FLOAT,module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.DOUBLE]}},module$exports$eeapiclient$ee_api_client.IProjectRegistrationBillingConsentEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectRegistrationBillingConsentEnum={BILLING_CONSENT_FULL:"BILLING_CONSENT_FULL",BILLING_CONSENT_NONE:"BILLING_CONSENT_NONE",BILLING_CONSENT_UNSPECIFIED:"BILLING_CONSENT_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectRegistrationBillingConsentEnum.BILLING_CONSENT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ProjectRegistrationBillingConsentEnum.BILLING_CONSENT_NONE,module$exports$eeapiclient$ee_api_client.ProjectRegistrationBillingConsentEnum.BILLING_CONSENT_FULL]}},module$exports$eeapiclient$ee_api_client.IProjectRegistrationFreeQuotaEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectRegistrationFreeQuotaEnum={FREE_QUOTA_FULL:"FREE_QUOTA_FULL",FREE_QUOTA_NONE:"FREE_QUOTA_NONE",FREE_QUOTA_UNSPECIFIED:"FREE_QUOTA_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectRegistrationFreeQuotaEnum.FREE_QUOTA_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ProjectRegistrationFreeQuotaEnum.FREE_QUOTA_NONE,module$exports$eeapiclient$ee_api_client.ProjectRegistrationFreeQuotaEnum.FREE_QUOTA_FULL]}},module$exports$eeapiclient$ee_api_client.IRankByOneThingRuleDirectionEnum=function e(){},module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING",DIRECTION_UNSPECIFIED:"DIRECTION_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.DIRECTION_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.ASCENDING,module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.DESCENDING]}},module$exports$eeapiclient$ee_api_client.IRuleActionEnum=function e(){},module$exports$eeapiclient$ee_api_client.RuleActionEnum={ALLOW:"ALLOW",ALLOW_WITH_LOG:"ALLOW_WITH_LOG",DENY:"DENY",DENY_WITH_LOG:"DENY_WITH_LOG",LOG:"LOG",NO_ACTION:"NO_ACTION",values:function(){return[module$exports$eeapiclient$ee_api_client.RuleActionEnum.NO_ACTION,module$exports$eeapiclient$ee_api_client.RuleActionEnum.ALLOW,module$exports$eeapiclient$ee_api_client.RuleActionEnum.ALLOW_WITH_LOG,module$exports$eeapiclient$ee_api_client.RuleActionEnum.DENY,module$exports$eeapiclient$ee_api_client.RuleActionEnum.DENY_WITH_LOG,module$exports$eeapiclient$ee_api_client.RuleActionEnum.LOG]}},module$exports$eeapiclient$ee_api_client.IScheduledUpdateSubscriptionUpdateTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum={BASIC:"BASIC",NO_SUBSCRIPTION:"NO_SUBSCRIPTION",PREMIUM:"PREMIUM",PROFESSIONAL:"PROFESSIONAL",TYPE_UNSPECIFIED:"TYPE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum.TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum.NO_SUBSCRIPTION,module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum.BASIC,module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum.PROFESSIONAL,module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum.PREMIUM]}},module$exports$eeapiclient$ee_api_client.IScheduledUpdateUpdateChangeTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.ScheduledUpdateUpdateChangeTypeEnum={CHANGE_TIME_TYPE_UNSPECIFIED:"CHANGE_TIME_TYPE_UNSPECIFIED",EARLIEST_POSSIBLE:"EARLIEST_POSSIBLE",END_OF_PERIOD:"END_OF_PERIOD",values:function(){return[module$exports$eeapiclient$ee_api_client.ScheduledUpdateUpdateChangeTypeEnum.CHANGE_TIME_TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ScheduledUpdateUpdateChangeTypeEnum.END_OF_PERIOD,module$exports$eeapiclient$ee_api_client.ScheduledUpdateUpdateChangeTypeEnum.EARLIEST_POSSIBLE]}},module$exports$eeapiclient$ee_api_client.ISubscriptionStateEnum=function e(){},module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum={ACTIVE:"ACTIVE",COMPLETED:"COMPLETED",ERROR:"ERROR",INACTIVE:"INACTIVE",STATE_UNSPECIFIED:"STATE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum.STATE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum.INACTIVE,module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum.ACTIVE,module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum.COMPLETED,module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum.ERROR]}},module$exports$eeapiclient$ee_api_client.ISubscriptionTrialStateEnum=function e(){},module$exports$eeapiclient$ee_api_client.SubscriptionTrialStateEnum={ACTIVE:"ACTIVE",EXPIRED:"EXPIRED",STATE_UNSPECIFIED:"STATE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.SubscriptionTrialStateEnum.STATE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.SubscriptionTrialStateEnum.ACTIVE,module$exports$eeapiclient$ee_api_client.SubscriptionTrialStateEnum.EXPIRED]}},module$exports$eeapiclient$ee_api_client.ISubscriptionTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum={BASIC:"BASIC",NO_SUBSCRIPTION:"NO_SUBSCRIPTION",PREMIUM:"PREMIUM",PROFESSIONAL:"PROFESSIONAL",TYPE_UNSPECIFIED:"TYPE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum.TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum.NO_SUBSCRIPTION,module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum.BASIC,module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum.PROFESSIONAL,module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum.PREMIUM]}},module$exports$eeapiclient$ee_api_client.ITableFileExportOptionsFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum={CSV:"CSV",GEO_JSON:"GEO_JSON",KML:"KML",KMZ:"KMZ",SHP:"SHP",TABLE_FILE_FORMAT_UNSPECIFIED:"TABLE_FILE_FORMAT_UNSPECIFIED",TF_RECORD_TABLE:"TF_RECORD_TABLE",values:function(){return[module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.TABLE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.CSV,module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.GEO_JSON,module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.KML,module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.KMZ,module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.SHP,module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.TF_RECORD_TABLE]}},module$exports$eeapiclient$ee_api_client.ITableFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.TableFileFormatEnum={CSV:"CSV",GEO_JSON:"GEO_JSON",KML:"KML",KMZ:"KMZ",SHP:"SHP",TABLE_FILE_FORMAT_UNSPECIFIED:"TABLE_FILE_FORMAT_UNSPECIFIED",TF_RECORD_TABLE:"TF_RECORD_TABLE",values:function(){return[module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.TABLE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.CSV,module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.GEO_JSON,module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.KML,module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.KMZ,module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.SHP,module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.TF_RECORD_TABLE]}},module$exports$eeapiclient$ee_api_client.ITableManifestColumnDataTypeOverridesEnum=function e(){},module$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum={COLUMN_DATA_TYPE_LONG:"COLUMN_DATA_TYPE_LONG",COLUMN_DATA_TYPE_NUMERIC:"COLUMN_DATA_TYPE_NUMERIC",COLUMN_DATA_TYPE_STRING:"COLUMN_DATA_TYPE_STRING",COLUMN_DATA_TYPE_UNSPECIFIED:"COLUMN_DATA_TYPE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum.COLUMN_DATA_TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum.COLUMN_DATA_TYPE_STRING,module$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum.COLUMN_DATA_TYPE_NUMERIC,module$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum.COLUMN_DATA_TYPE_LONG]}},module$exports$eeapiclient$ee_api_client.ITableManifestCsvColumnDataTypeOverridesEnum=function e(){},module$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum={CSV_COLUMN_DATA_TYPE_LONG:"CSV_COLUMN_DATA_TYPE_LONG",CSV_COLUMN_DATA_TYPE_NUMERIC:"CSV_COLUMN_DATA_TYPE_NUMERIC",CSV_COLUMN_DATA_TYPE_STRING:"CSV_COLUMN_DATA_TYPE_STRING",CSV_COLUMN_DATA_TYPE_UNSPECIFIED:"CSV_COLUMN_DATA_TYPE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_STRING,module$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_NUMERIC,module$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_LONG]}},module$exports$eeapiclient$ee_api_client.ITerminateSubscriptionRequestTerminationTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestTerminationTypeEnum={CHANGE_TIME_TYPE_UNSPECIFIED:"CHANGE_TIME_TYPE_UNSPECIFIED",EARLIEST_POSSIBLE:"EARLIEST_POSSIBLE",END_OF_PERIOD:"END_OF_PERIOD",values:function(){return[module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestTerminationTypeEnum.CHANGE_TIME_TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestTerminationTypeEnum.END_OF_PERIOD,module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestTerminationTypeEnum.EARLIEST_POSSIBLE]}},module$exports$eeapiclient$ee_api_client.IThinningOptionsThinningStrategyEnum=function e(){},module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum={GLOBALLY_CONSISTENT:"GLOBALLY_CONSISTENT",HIGHER_DENSITY:"HIGHER_DENSITY",UNKNOWN_THINNING_STRATEGY:"UNKNOWN_THINNING_STRATEGY",values:function(){return[module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.UNKNOWN_THINNING_STRATEGY,module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.GLOBALLY_CONSISTENT,module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.HIGHER_DENSITY]}},module$exports$eeapiclient$ee_api_client.IThumbnailFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",GEO_TIFF:"GEO_TIFF",IMAGE_FILE_FORMAT_UNSPECIFIED:"IMAGE_FILE_FORMAT_UNSPECIFIED",JPEG:"JPEG",MULTI_BAND_IMAGE_TILE:"MULTI_BAND_IMAGE_TILE",NPY:"NPY",PNG:"PNG",TF_RECORD_IMAGE:"TF_RECORD_IMAGE",ZIPPED_GEO_TIFF:"ZIPPED_GEO_TIFF",ZIPPED_GEO_TIFF_PER_BAND:"ZIPPED_GEO_TIFF_PER_BAND",values:function(){return[module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.JPEG,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.PNG,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.AUTO_JPEG_PNG,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.NPY,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.GEO_TIFF,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.TF_RECORD_IMAGE,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.MULTI_BAND_IMAGE_TILE,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.ZIPPED_GEO_TIFF,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND]}},module$exports$eeapiclient$ee_api_client.ITilesetBandPyramidingPolicyEnum=function e(){},module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum={MAX:"MAX",MEAN:"MEAN",MEDIAN:"MEDIAN",MIN:"MIN",MODE:"MODE",PYRAMIDING_POLICY_UNSPECIFIED:"PYRAMIDING_POLICY_UNSPECIFIED",SAMPLE:"SAMPLE",values:function(){return[module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MEAN,module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.SAMPLE,module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MIN,module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MAX,module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MODE,module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MEDIAN]}},module$exports$eeapiclient$ee_api_client.ITilesetDataTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum={DATA_TYPE_UNSPECIFIED:"DATA_TYPE_UNSPECIFIED",DOUBLE:"DOUBLE",FLOAT:"FLOAT",INT16:"INT16",INT32:"INT32",INT8:"INT8",UINT16:"UINT16",UINT32:"UINT32",UINT8:"UINT8",values:function(){return[module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.DATA_TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT8,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT8,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT16,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT16,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT32,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT32,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.FLOAT,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.DOUBLE]}},module$exports$eeapiclient$ee_api_client.ITrialStatusEligibilityEnum=function e(){},module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum={ACCOUNT_INELIGIBLE:"ACCOUNT_INELIGIBLE",ALREADY_EVALUATED:"ALREADY_EVALUATED",ELIGIBILITY_UNSPECIFIED:"ELIGIBILITY_UNSPECIFIED",ELIGIBLE:"ELIGIBLE",NO_BILLING_ACCOUNT:"NO_BILLING_ACCOUNT",REDEEMED:"REDEEMED",values:function(){return[module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum.ELIGIBILITY_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum.ELIGIBLE,module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum.REDEEMED,module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum.ALREADY_EVALUATED,module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum.NO_BILLING_ACCOUNT,module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum.ACCOUNT_INELIGIBLE]}},module$exports$eeapiclient$ee_api_client.ITrialStatusStateEnum=function e(){},module$exports$eeapiclient$ee_api_client.TrialStatusStateEnum={ACTIVE:"ACTIVE",EXPIRED:"EXPIRED",STATE_UNSPECIFIED:"STATE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.TrialStatusStateEnum.STATE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TrialStatusStateEnum.ACTIVE,module$exports$eeapiclient$ee_api_client.TrialStatusStateEnum.EXPIRED]}},module$exports$eeapiclient$ee_api_client.IVideoFileExportOptionsFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum={GIF:"GIF",MP4:"MP4",VIDEO_FILE_FORMAT_UNSPECIFIED:"VIDEO_FILE_FORMAT_UNSPECIFIED",VP9:"VP9",values:function(){return[module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.VIDEO_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.MP4,module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.GIF,module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.VP9]}},module$exports$eeapiclient$ee_api_client.IVideoThumbnailFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum={GIF:"GIF",MP4:"MP4",VIDEO_FILE_FORMAT_UNSPECIFIED:"VIDEO_FILE_FORMAT_UNSPECIFIED",VP9:"VP9",values:function(){return[module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.VIDEO_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.MP4,module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.GIF,module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.VP9]}},module$exports$eeapiclient$ee_api_client.AffineTransformParameters=function e(){},module$exports$eeapiclient$ee_api_client.AffineTransform=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("scaleX",e.scaleX==null?null:e.scaleX),this.Serializable$set("shearX",e.shearX==null?null:e.shearX),this.Serializable$set("translateX",e.translateX==null?null:e.translateX),this.Serializable$set("shearY",e.shearY==null?null:e.shearY),this.Serializable$set("scaleY",e.scaleY==null?null:e.scaleY),this.Serializable$set("translateY",e.translateY==null?null:e.translateY)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AffineTransform,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.AffineTransform.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.AffineTransform},module$exports$eeapiclient$ee_api_client.AffineTransform.prototype.getPartialClassMetadata=function(){return{keys:"scaleX scaleY shearX shearY translateX translateY".split(" ")}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AffineTransform.prototype,{scaleX:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("scaleX")?this.Serializable$get("scaleX"):null},set:function(e){this.Serializable$set("scaleX",e)}},scaleY:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("scaleY")?this.Serializable$get("scaleY"):null},set:function(e){this.Serializable$set("scaleY",e)}},shearX:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("shearX")?this.Serializable$get("shearX"):null},set:function(e){this.Serializable$set("shearX",e)}},shearY:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("shearY")?this.Serializable$get("shearY"):null},set:function(e){this.Serializable$set("shearY",e)}},translateX:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("translateX")?this.Serializable$get("translateX"):null},set:function(e){this.Serializable$set("translateX",e)}},translateY:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("translateY")?this.Serializable$get("translateY"):null},set:function(e){this.Serializable$set("translateY",e)}}}),module$exports$eeapiclient$ee_api_client.AlgorithmParameters=function e(){},module$exports$eeapiclient$ee_api_client.Algorithm=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("returnType",e.returnType==null?null:e.returnType),this.Serializable$set("arguments",e.arguments==null?null:e.arguments),this.Serializable$set("deprecated",e.deprecated==null?null:e.deprecated),this.Serializable$set("deprecationReason",e.deprecationReason==null?null:e.deprecationReason),this.Serializable$set("hidden",e.hidden==null?null:e.hidden),this.Serializable$set("preview",e.preview==null?null:e.preview),this.Serializable$set("sourceCodeUri",e.sourceCodeUri==null?null:e.sourceCodeUri)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Algorithm,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Algorithm.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Algorithm},module$exports$eeapiclient$ee_api_client.Algorithm.prototype.getPartialClassMetadata=function(){return{arrays:{arguments:module$exports$eeapiclient$ee_api_client.AlgorithmArgument},keys:"arguments deprecated deprecationReason description hidden name preview returnType sourceCodeUri".split(" ")}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Algorithm.prototype,{arguments:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("arguments")?this.Serializable$get("arguments"):null},set:function(e){this.Serializable$set("arguments",e)}},deprecated:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("deprecated")?this.Serializable$get("deprecated"):null},set:function(e){this.Serializable$set("deprecated",e)}},deprecationReason:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("deprecationReason")?this.Serializable$get("deprecationReason"):null},set:function(e){this.Serializable$set("deprecationReason",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},hidden:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("hidden")?this.Serializable$get("hidden"):null},set:function(e){this.Serializable$set("hidden",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},preview:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("preview")?this.Serializable$get("preview"):null},set:function(e){this.Serializable$set("preview",e)}},returnType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("returnType")?this.Serializable$get("returnType"):null},set:function(e){this.Serializable$set("returnType",e)}},sourceCodeUri:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sourceCodeUri")?this.Serializable$get("sourceCodeUri"):null},set:function(e){this.Serializable$set("sourceCodeUri",e)}}}),module$exports$eeapiclient$ee_api_client.AlgorithmArgumentParameters=function e(){},module$exports$eeapiclient$ee_api_client.AlgorithmArgument=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("argumentName",e.argumentName==null?null:e.argumentName),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("optional",e.optional==null?null:e.optional),this.Serializable$set("defaultValue",e.defaultValue==null?null:e.defaultValue)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AlgorithmArgument,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.AlgorithmArgument},module$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype.getPartialClassMetadata=function(){return{keys:["argumentName","defaultValue","description","optional","type"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype,{argumentName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("argumentName")?this.Serializable$get("argumentName"):null},set:function(e){this.Serializable$set("argumentName",e)}},defaultValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("defaultValue")?this.Serializable$get("defaultValue"):null},set:function(e){this.Serializable$set("defaultValue",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},optional:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("optional")?this.Serializable$get("optional"):null},set:function(e){this.Serializable$set("optional",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}}}),module$exports$eeapiclient$ee_api_client.AppealRestrictionRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.AppealRestrictionRequest=function(e){module$exports$eeapiclient$domain_object.Serializable.call(this)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AppealRestrictionRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.AppealRestrictionRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.AppealRestrictionRequest},module$exports$eeapiclient$ee_api_client.AppealRestrictionRequest.prototype.getPartialClassMetadata=function(){return{keys:[]}},module$exports$eeapiclient$ee_api_client.ArrayValueParameters=function e(){},module$exports$eeapiclient$ee_api_client.ArrayValue=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("values",e.values==null?null:e.values)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ArrayValue,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ArrayValue.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ArrayValue},module$exports$eeapiclient$ee_api_client.ArrayValue.prototype.getPartialClassMetadata=function(){return{arrays:{values:module$exports$eeapiclient$ee_api_client.ValueNode},keys:["values"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ArrayValue.prototype,{values:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("values")?this.Serializable$get("values"):null},set:function(e){this.Serializable$set("values",e)}}}),module$exports$eeapiclient$ee_api_client.AuditConfigParameters=function e(){},module$exports$eeapiclient$ee_api_client.AuditConfig=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("service",e.service==null?null:e.service),this.Serializable$set("auditLogConfigs",e.auditLogConfigs==null?null:e.auditLogConfigs)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuditConfig,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.AuditConfig.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.AuditConfig},module$exports$eeapiclient$ee_api_client.AuditConfig.prototype.getPartialClassMetadata=function(){return{arrays:{auditLogConfigs:module$exports$eeapiclient$ee_api_client.AuditLogConfig},keys:["auditLogConfigs","service"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditConfig.prototype,{auditLogConfigs:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("auditLogConfigs")?this.Serializable$get("auditLogConfigs"):null},set:function(e){this.Serializable$set("auditLogConfigs",e)}},service:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("service")?this.Serializable$get("service"):null},set:function(e){this.Serializable$set("service",e)}}}),module$exports$eeapiclient$ee_api_client.AuditLogConfigParameters=function e(){},module$exports$eeapiclient$ee_api_client.AuditLogConfig=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("logType",e.logType==null?null:e.logType),this.Serializable$set("exemptedMembers",e.exemptedMembers==null?null:e.exemptedMembers),this.Serializable$set("ignoreChildExemptions",e.ignoreChildExemptions==null?null:e.ignoreChildExemptions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuditLogConfig,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.AuditLogConfig},module$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype.getPartialClassMetadata=function(){return{enums:{logType:module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum},keys:["exemptedMembers","ignoreChildExemptions","logType"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype,{exemptedMembers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("exemptedMembers")?this.Serializable$get("exemptedMembers"):null},set:function(e){this.Serializable$set("exemptedMembers",e)}},ignoreChildExemptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("ignoreChildExemptions")?this.Serializable$get("ignoreChildExemptions"):null},set:function(e){this.Serializable$set("ignoreChildExemptions",e)}},logType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("logType")?this.Serializable$get("logType"):null},set:function(e){this.Serializable$set("logType",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditLogConfig,{LogType:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum}}}),module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("permissionType",e.permissionType==null?null:e.permissionType)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions},module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype.getPartialClassMetadata=function(){return{enums:{permissionType:module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum},keys:["permissionType"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype,{permissionType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("permissionType")?this.Serializable$get("permissionType"):null},set:function(e){this.Serializable$set("permissionType",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions,{PermissionType:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum}}}),module$exports$eeapiclient$ee_api_client.BigQueryDestinationParameters=function e(){},module$exports$eeapiclient$ee_api_client.BigQueryDestination=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("table",e.table==null?null:e.table),this.Serializable$set("overwrite",e.overwrite==null?null:e.overwrite)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.BigQueryDestination,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.BigQueryDestination.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.BigQueryDestination},module$exports$eeapiclient$ee_api_client.BigQueryDestination.prototype.getPartialClassMetadata=function(){return{keys:["overwrite","table"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.BigQueryDestination.prototype,{overwrite:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("overwrite")?this.Serializable$get("overwrite"):null},set:function(e){this.Serializable$set("overwrite",e)}},table:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("table")?this.Serializable$get("table"):null},set:function(e){this.Serializable$set("table",e)}}}),module$exports$eeapiclient$ee_api_client.BigQueryExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.BigQueryExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("bigqueryDestination",e.bigqueryDestination==null?null:e.bigqueryDestination)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.BigQueryExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.BigQueryExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.BigQueryExportOptions},module$exports$eeapiclient$ee_api_client.BigQueryExportOptions.prototype.getPartialClassMetadata=function(){return{keys:["bigqueryDestination"],objects:{bigqueryDestination:module$exports$eeapiclient$ee_api_client.BigQueryDestination}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.BigQueryExportOptions.prototype,{bigqueryDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bigqueryDestination")?this.Serializable$get("bigqueryDestination"):null},set:function(e){this.Serializable$set("bigqueryDestination",e)}}}),module$exports$eeapiclient$ee_api_client.BindingParameters=function e(){},module$exports$eeapiclient$ee_api_client.Binding=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("role",e.role==null?null:e.role),this.Serializable$set("members",e.members==null?null:e.members),this.Serializable$set("condition",e.condition==null?null:e.condition),this.Serializable$set("bindingId",e.bindingId==null?null:e.bindingId)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Binding,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Binding.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Binding},module$exports$eeapiclient$ee_api_client.Binding.prototype.getPartialClassMetadata=function(){return{keys:["bindingId","condition","members","role"],objects:{condition:module$exports$eeapiclient$ee_api_client.Expr}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Binding.prototype,{bindingId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bindingId")?this.Serializable$get("bindingId"):null},set:function(e){this.Serializable$set("bindingId",e)}},condition:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("condition")?this.Serializable$get("condition"):null},set:function(e){this.Serializable$set("condition",e)}},members:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("members")?this.Serializable$get("members"):null},set:function(e){this.Serializable$set("members",e)}},role:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("role")?this.Serializable$get("role"):null},set:function(e){this.Serializable$set("role",e)}}}),module$exports$eeapiclient$ee_api_client.CancelOperationRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.CancelOperationRequest=function(e){module$exports$eeapiclient$domain_object.Serializable.call(this)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CancelOperationRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CancelOperationRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CancelOperationRequest},module$exports$eeapiclient$ee_api_client.CancelOperationRequest.prototype.getPartialClassMetadata=function(){return{keys:[]}},module$exports$eeapiclient$ee_api_client.CapabilitiesParameters=function e(){},module$exports$eeapiclient$ee_api_client.Capabilities=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("capabilities",e.capabilities==null?null:e.capabilities)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Capabilities,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Capabilities.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Capabilities},module$exports$eeapiclient$ee_api_client.Capabilities.prototype.getPartialClassMetadata=function(){return{enums:{capabilities:module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum},keys:["capabilities"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Capabilities.prototype,{capabilities:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("capabilities")?this.Serializable$get("capabilities"):null},set:function(e){this.Serializable$set("capabilities",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Capabilities,{Capabilities:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum}}}),module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("changeTime",e.changeTime==null?null:e.changeTime),this.Serializable$set("etag",e.etag==null?null:e.etag)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest},module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest.prototype.getPartialClassMetadata=function(){return{enums:{changeTime:module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestChangeTimeEnum,type:module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum},keys:["changeTime","etag","type"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest.prototype,{changeTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("changeTime")?this.Serializable$get("changeTime"):null},set:function(e){this.Serializable$set("changeTime",e)}},etag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("etag")?this.Serializable$get("etag"):null},set:function(e){this.Serializable$set("etag",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest,{ChangeTime:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestChangeTimeEnum}},Type:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum}}}),module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("earthEngineDestination",e.earthEngineDestination==null?null:e.earthEngineDestination)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions},module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype.getPartialClassMetadata=function(){return{keys:["earthEngineDestination"],objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype,{earthEngineDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("earthEngineDestination")?this.Serializable$get("earthEngineDestination"):null},set:function(e){this.Serializable$set("earthEngineDestination",e)}}}),module$exports$eeapiclient$ee_api_client.CloudAuditOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.CloudAuditOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("logName",e.logName==null?null:e.logName),this.Serializable$set("authorizationLoggingOptions",e.authorizationLoggingOptions==null?null:e.authorizationLoggingOptions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudAuditOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CloudAuditOptions},module$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype.getPartialClassMetadata=function(){return{enums:{logName:module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum},keys:["authorizationLoggingOptions","logName"],objects:{authorizationLoggingOptions:module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype,{authorizationLoggingOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("authorizationLoggingOptions")?this.Serializable$get("authorizationLoggingOptions"):null},set:function(e){this.Serializable$set("authorizationLoggingOptions",e)}},logName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("logName")?this.Serializable$get("logName"):null},set:function(e){this.Serializable$set("logName",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudAuditOptions,{LogName:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum}}}),module$exports$eeapiclient$ee_api_client.CloudStorageDestinationParameters=function e(){},module$exports$eeapiclient$ee_api_client.CloudStorageDestination=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("bucket",e.bucket==null?null:e.bucket),this.Serializable$set("filenamePrefix",e.filenamePrefix==null?null:e.filenamePrefix),this.Serializable$set("permissions",e.permissions==null?null:e.permissions),this.Serializable$set("bucketCorsUris",e.bucketCorsUris==null?null:e.bucketCorsUris)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudStorageDestination,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CloudStorageDestination},module$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype.getPartialClassMetadata=function(){return{enums:{permissions:module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum},keys:["bucket","bucketCorsUris","filenamePrefix","permissions"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype,{bucket:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bucket")?this.Serializable$get("bucket"):null},set:function(e){this.Serializable$set("bucket",e)}},bucketCorsUris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bucketCorsUris")?this.Serializable$get("bucketCorsUris"):null},set:function(e){this.Serializable$set("bucketCorsUris",e)}},filenamePrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("filenamePrefix")?this.Serializable$get("filenamePrefix"):null},set:function(e){this.Serializable$set("filenamePrefix",e)}},permissions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("permissions")?this.Serializable$get("permissions"):null},set:function(e){this.Serializable$set("permissions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageDestination,{Permissions:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum}}}),module$exports$eeapiclient$ee_api_client.CloudStorageLocationParameters=function e(){},module$exports$eeapiclient$ee_api_client.CloudStorageLocation=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("uris",e.uris==null?null:e.uris)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudStorageLocation,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CloudStorageLocation},module$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype.getPartialClassMetadata=function(){return{keys:["uris"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype,{uris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("uris")?this.Serializable$get("uris"):null},set:function(e){this.Serializable$set("uris",e)}}}),module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("pageSize",e.pageSize==null?null:e.pageSize),this.Serializable$set("pageToken",e.pageToken==null?null:e.pageToken),this.Serializable$set("workloadTag",e.workloadTag==null?null:e.workloadTag)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest},module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype.getPartialClassMetadata=function(){return{keys:["expression","pageSize","pageToken","workloadTag"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype,{expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},pageSize:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pageSize")?this.Serializable$get("pageSize"):null},set:function(e){this.Serializable$set("pageSize",e)}},pageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pageToken")?this.Serializable$get("pageToken"):null},set:function(e){this.Serializable$set("pageToken",e)}},workloadTag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("workloadTag")?this.Serializable$get("workloadTag"):null},set:function(e){this.Serializable$set("workloadTag",e)}}}),module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("features",e.features==null?null:e.features),this.Serializable$set("nextPageToken",e.nextPageToken==null?null:e.nextPageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse},module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype.getPartialClassMetadata=function(){return{arrays:{features:module$exports$eeapiclient$ee_api_client.Feature},keys:["features","nextPageToken","type"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype,{features:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("features")?this.Serializable$get("features"):null},set:function(e){this.Serializable$set("features",e)}},nextPageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("nextPageToken")?this.Serializable$get("nextPageToken"):null},set:function(e){this.Serializable$set("nextPageToken",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}}}),module$exports$eeapiclient$ee_api_client.ComputeImagesRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputeImagesRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("pageSize",e.pageSize==null?null:e.pageSize),this.Serializable$set("pageToken",e.pageToken==null?null:e.pageToken),this.Serializable$set("workloadTag",e.workloadTag==null?null:e.workloadTag)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeImagesRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputeImagesRequest},module$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype.getPartialClassMetadata=function(){return{keys:["expression","pageSize","pageToken","workloadTag"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype,{expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},pageSize:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pageSize")?this.Serializable$get("pageSize"):null},set:function(e){this.Serializable$set("pageSize",e)}},pageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pageToken")?this.Serializable$get("pageToken"):null},set:function(e){this.Serializable$set("pageToken",e)}},workloadTag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("workloadTag")?this.Serializable$get("workloadTag"):null},set:function(e){this.Serializable$set("workloadTag",e)}}}),module$exports$eeapiclient$ee_api_client.ComputeImagesResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputeImagesResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("images",e.images==null?null:e.images),this.Serializable$set("nextPageToken",e.nextPageToken==null?null:e.nextPageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeImagesResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputeImagesResponse},module$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype.getPartialClassMetadata=function(){return{arrays:{images:module$exports$eeapiclient$ee_api_client.EarthEngineAsset},keys:["images","nextPageToken"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype,{images:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("images")?this.Serializable$get("images"):null},set:function(e){this.Serializable$set("images",e)}},nextPageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("nextPageToken")?this.Serializable$get("nextPageToken"):null},set:function(e){this.Serializable$set("nextPageToken",e)}}}),module$exports$eeapiclient$ee_api_client.ComputePixelsRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputePixelsRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("grid",e.grid==null?null:e.grid),this.Serializable$set("bandIds",e.bandIds==null?null:e.bandIds),this.Serializable$set("visualizationOptions",e.visualizationOptions==null?null:e.visualizationOptions),this.Serializable$set("workloadTag",e.workloadTag==null?null:e.workloadTag)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputePixelsRequest},module$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum},keys:"bandIds expression fileFormat grid visualizationOptions workloadTag".split(" "),objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,grid:module$exports$eeapiclient$ee_api_client.PixelGrid,visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype,{bandIds:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandIds")?this.Serializable$get("bandIds"):null},set:function(e){this.Serializable$set("bandIds",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},visualizationOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("visualizationOptions")?this.Serializable$get("visualizationOptions"):null},set:function(e){this.Serializable$set("visualizationOptions",e)}},workloadTag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("workloadTag")?this.Serializable$get("workloadTag"):null},set:function(e){this.Serializable$set("workloadTag",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.ComputeValueRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputeValueRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("workloadTag",e.workloadTag==null?null:e.workloadTag)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeValueRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputeValueRequest},module$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype.getPartialClassMetadata=function(){return{keys:["expression","workloadTag"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype,{expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},workloadTag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("workloadTag")?this.Serializable$get("workloadTag"):null},set:function(e){this.Serializable$set("workloadTag",e)}}}),module$exports$eeapiclient$ee_api_client.ComputeValueResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputeValueResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("result",e.result==null?null:e.result)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeValueResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputeValueResponse},module$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype.getPartialClassMetadata=function(){return{keys:["result"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype,{result:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("result")?this.Serializable$get("result"):null},set:function(e){this.Serializable$set("result",e)}}}),module$exports$eeapiclient$ee_api_client.ConditionParameters=function e(){},module$exports$eeapiclient$ee_api_client.Condition=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("iam",e.iam==null?null:e.iam),this.Serializable$set("sys",e.sys==null?null:e.sys),this.Serializable$set("svc",e.svc==null?null:e.svc),this.Serializable$set("op",e.op==null?null:e.op),this.Serializable$set("values",e.values==null?null:e.values)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Condition,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Condition.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Condition},module$exports$eeapiclient$ee_api_client.Condition.prototype.getPartialClassMetadata=function(){return{enums:{iam:module$exports$eeapiclient$ee_api_client.ConditionIamEnum,op:module$exports$eeapiclient$ee_api_client.ConditionOpEnum,sys:module$exports$eeapiclient$ee_api_client.ConditionSysEnum},keys:["iam","op","svc","sys","values"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Condition.prototype,{iam:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("iam")?this.Serializable$get("iam"):null},set:function(e){this.Serializable$set("iam",e)}},op:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("op")?this.Serializable$get("op"):null},set:function(e){this.Serializable$set("op",e)}},svc:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("svc")?this.Serializable$get("svc"):null},set:function(e){this.Serializable$set("svc",e)}},sys:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sys")?this.Serializable$get("sys"):null},set:function(e){this.Serializable$set("sys",e)}},values:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("values")?this.Serializable$get("values"):null},set:function(e){this.Serializable$set("values",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Condition,{Iam:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ConditionIamEnum}},Op:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ConditionOpEnum}},Sys:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ConditionSysEnum}}}),module$exports$eeapiclient$ee_api_client.CopyAssetRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.CopyAssetRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("destinationName",e.destinationName==null?null:e.destinationName),this.Serializable$set("overwrite",e.overwrite==null?null:e.overwrite),this.Serializable$set("bandIds",e.bandIds==null?null:e.bandIds)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CopyAssetRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CopyAssetRequest},module$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype.getPartialClassMetadata=function(){return{keys:["bandIds","destinationName","overwrite"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype,{bandIds:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandIds")?this.Serializable$get("bandIds"):null},set:function(e){this.Serializable$set("bandIds",e)}},destinationName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("destinationName")?this.Serializable$get("destinationName"):null},set:function(e){this.Serializable$set("destinationName",e)}},overwrite:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("overwrite")?this.Serializable$get("overwrite"):null},set:function(e){this.Serializable$set("overwrite",e)}}}),module$exports$eeapiclient$ee_api_client.CounterOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.CounterOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("metric",e.metric==null?null:e.metric),this.Serializable$set("field",e.field==null?null:e.field),this.Serializable$set("customFields",e.customFields==null?null:e.customFields)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CounterOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CounterOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CounterOptions},module$exports$eeapiclient$ee_api_client.CounterOptions.prototype.getPartialClassMetadata=function(){return{arrays:{customFields:module$exports$eeapiclient$ee_api_client.CustomField},keys:["customFields","field","metric"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CounterOptions.prototype,{customFields:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("customFields")?this.Serializable$get("customFields"):null},set:function(e){this.Serializable$set("customFields",e)}},field:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("field")?this.Serializable$get("field"):null},set:function(e){this.Serializable$set("field",e)}},metric:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("metric")?this.Serializable$get("metric"):null},set:function(e){this.Serializable$set("metric",e)}}}),module$exports$eeapiclient$ee_api_client.CustomFieldParameters=function e(){},module$exports$eeapiclient$ee_api_client.CustomField=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("value",e.value==null?null:e.value)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CustomField,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CustomField.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CustomField},module$exports$eeapiclient$ee_api_client.CustomField.prototype.getPartialClassMetadata=function(){return{keys:["name","value"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CustomField.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},value:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("value")?this.Serializable$get("value"):null},set:function(e){this.Serializable$set("value",e)}}}),module$exports$eeapiclient$ee_api_client.DataAccessOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.DataAccessOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("logMode",e.logMode==null?null:e.logMode)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DataAccessOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DataAccessOptions},module$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype.getPartialClassMetadata=function(){return{enums:{logMode:module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum},keys:["logMode"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype,{logMode:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("logMode")?this.Serializable$get("logMode"):null},set:function(e){this.Serializable$set("logMode",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DataAccessOptions,{LogMode:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum}}}),module$exports$eeapiclient$ee_api_client.DictionaryValueParameters=function e(){},module$exports$eeapiclient$ee_api_client.DictionaryValue=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("values",e.values==null?null:e.values)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DictionaryValue,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DictionaryValue.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DictionaryValue},module$exports$eeapiclient$ee_api_client.DictionaryValue.prototype.getPartialClassMetadata=function(){return{keys:["values"],objectMaps:{values:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode,isPropertyArray:!1,isSerializable:!0,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DictionaryValue.prototype,{values:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("values")?this.Serializable$get("values"):null},set:function(e){this.Serializable$set("values",e)}}}),module$exports$eeapiclient$ee_api_client.DoubleRangeParameters=function e(){},module$exports$eeapiclient$ee_api_client.DoubleRange=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("min",e.min==null?null:e.min),this.Serializable$set("max",e.max==null?null:e.max)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DoubleRange,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DoubleRange.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DoubleRange},module$exports$eeapiclient$ee_api_client.DoubleRange.prototype.getPartialClassMetadata=function(){return{keys:["max","min"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DoubleRange.prototype,{max:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("max")?this.Serializable$get("max"):null},set:function(e){this.Serializable$set("max",e)}},min:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("min")?this.Serializable$get("min"):null},set:function(e){this.Serializable$set("min",e)}}}),module$exports$eeapiclient$ee_api_client.DriveDestinationParameters=function e(){},module$exports$eeapiclient$ee_api_client.DriveDestination=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("folder",e.folder==null?null:e.folder),this.Serializable$set("filenamePrefix",e.filenamePrefix==null?null:e.filenamePrefix)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DriveDestination,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DriveDestination.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DriveDestination},module$exports$eeapiclient$ee_api_client.DriveDestination.prototype.getPartialClassMetadata=function(){return{keys:["filenamePrefix","folder"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DriveDestination.prototype,{filenamePrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("filenamePrefix")?this.Serializable$get("filenamePrefix"):null},set:function(e){this.Serializable$set("filenamePrefix",e)}},folder:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("folder")?this.Serializable$get("folder"):null},set:function(e){this.Serializable$set("folder",e)}}}),module$exports$eeapiclient$ee_api_client.EarthEngineAssetParameters=function e(){},module$exports$eeapiclient$ee_api_client.EarthEngineAsset=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("tilestoreLocation",e.tilestoreLocation==null?null:e.tilestoreLocation),this.Serializable$set("cloudStorageLocation",e.cloudStorageLocation==null?null:e.cloudStorageLocation),this.Serializable$set("tilestoreEntry",e.tilestoreEntry==null?null:e.tilestoreEntry),this.Serializable$set("gcsLocation",e.gcsLocation==null?null:e.gcsLocation),this.Serializable$set("featureViewAssetLocation",e.featureViewAssetLocation==null?null:e.featureViewAssetLocation),this.Serializable$set("tableLocation",e.tableLocation==null?null:e.tableLocation),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("id",e.id==null?null:e.id),this.Serializable$set("updateTime",e.updateTime==null?null:e.updateTime),this.Serializable$set("title",e.title==null?null:e.title),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("properties",e.properties==null?null:e.properties),this.Serializable$set("startTime",e.startTime==null?null:e.startTime),this.Serializable$set("endTime",e.endTime==null?null:e.endTime),this.Serializable$set("geometry",e.geometry==null?null:e.geometry),this.Serializable$set("bands",e.bands==null?null:e.bands),this.Serializable$set("sizeBytes",e.sizeBytes==null?null:e.sizeBytes),this.Serializable$set("featureCount",e.featureCount==null?null:e.featureCount),this.Serializable$set("quota",e.quota==null?null:e.quota),this.Serializable$set("expression",e.expression==null?null:e.expression)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineAsset,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.EarthEngineAsset},module$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype.getPartialClassMetadata=function(){return{arrays:{bands:module$exports$eeapiclient$ee_api_client.ImageBand},enums:{type:module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum},keys:"bands cloudStorageLocation description endTime expression featureCount featureViewAssetLocation gcsLocation geometry id name properties quota sizeBytes startTime tableLocation tilestoreEntry tilestoreLocation title type updateTime".split(" "),objectMaps:{geometry:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1},properties:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}},objects:{cloudStorageLocation:module$exports$eeapiclient$ee_api_client.CloudStorageLocation,expression:module$exports$eeapiclient$ee_api_client.Expression,featureViewAssetLocation:module$exports$eeapiclient$ee_api_client.FeatureViewLocation,gcsLocation:module$exports$eeapiclient$ee_api_client.GcsLocation,quota:module$exports$eeapiclient$ee_api_client.FolderQuota,tableLocation:module$exports$eeapiclient$ee_api_client.TableLocation,tilestoreEntry:module$exports$eeapiclient$ee_api_client.TilestoreEntry,tilestoreLocation:module$exports$eeapiclient$ee_api_client.TilestoreLocation}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype,{bands:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bands")?this.Serializable$get("bands"):null},set:function(e){this.Serializable$set("bands",e)}},cloudStorageLocation:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("cloudStorageLocation")?this.Serializable$get("cloudStorageLocation"):null},set:function(e){this.Serializable$set("cloudStorageLocation",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},endTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("endTime")?this.Serializable$get("endTime"):null},set:function(e){this.Serializable$set("endTime",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},featureCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("featureCount")?this.Serializable$get("featureCount"):null},set:function(e){this.Serializable$set("featureCount",e)}},featureViewAssetLocation:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("featureViewAssetLocation")?this.Serializable$get("featureViewAssetLocation"):null},set:function(e){this.Serializable$set("featureViewAssetLocation",e)}},gcsLocation:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("gcsLocation")?this.Serializable$get("gcsLocation"):null},set:function(e){this.Serializable$set("gcsLocation",e)}},geometry:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("geometry")?this.Serializable$get("geometry"):null},set:function(e){this.Serializable$set("geometry",e)}},id:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("id")?this.Serializable$get("id"):null},set:function(e){this.Serializable$set("id",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},properties:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("properties")?this.Serializable$get("properties"):null},set:function(e){this.Serializable$set("properties",e)}},quota:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("quota")?this.Serializable$get("quota"):null},set:function(e){this.Serializable$set("quota",e)}},sizeBytes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sizeBytes")?this.Serializable$get("sizeBytes"):null},set:function(e){this.Serializable$set("sizeBytes",e)}},startTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startTime")?this.Serializable$get("startTime"):null},set:function(e){this.Serializable$set("startTime",e)}},tableLocation:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tableLocation")?this.Serializable$get("tableLocation"):null},set:function(e){this.Serializable$set("tableLocation",e)}},tilestoreEntry:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilestoreEntry")?this.Serializable$get("tilestoreEntry"):null},set:function(e){this.Serializable$set("tilestoreEntry",e)}},tilestoreLocation:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilestoreLocation")?this.Serializable$get("tilestoreLocation"):null},set:function(e){this.Serializable$set("tilestoreLocation",e)}},title:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("title")?this.Serializable$get("title"):null},set:function(e){this.Serializable$set("title",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}},updateTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("updateTime")?this.Serializable$get("updateTime"):null},set:function(e){this.Serializable$set("updateTime",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineAsset,{Type:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum}}}),module$exports$eeapiclient$ee_api_client.EarthEngineDestinationParameters=function e(){},module$exports$eeapiclient$ee_api_client.EarthEngineDestination=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("overwrite",e.overwrite==null?null:e.overwrite)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineDestination,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.EarthEngineDestination},module$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype.getPartialClassMetadata=function(){return{keys:["name","overwrite"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},overwrite:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("overwrite")?this.Serializable$get("overwrite"):null},set:function(e){this.Serializable$set("overwrite",e)}}}),module$exports$eeapiclient$ee_api_client.EarthEngineMapParameters=function e(){},module$exports$eeapiclient$ee_api_client.EarthEngineMap=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("bandIds",e.bandIds==null?null:e.bandIds),this.Serializable$set("visualizationOptions",e.visualizationOptions==null?null:e.visualizationOptions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineMap,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.EarthEngineMap},module$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum},keys:["bandIds","expression","fileFormat","name","visualizationOptions"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype,{bandIds:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandIds")?this.Serializable$get("bandIds"):null},set:function(e){this.Serializable$set("bandIds",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},visualizationOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("visualizationOptions")?this.Serializable$get("visualizationOptions"):null},set:function(e){this.Serializable$set("visualizationOptions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineMap,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.EmptyParameters=function e(){},module$exports$eeapiclient$ee_api_client.Empty=function(e){module$exports$eeapiclient$domain_object.Serializable.call(this)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Empty,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Empty.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Empty},module$exports$eeapiclient$ee_api_client.Empty.prototype.getPartialClassMetadata=function(){return{keys:[]}},module$exports$eeapiclient$ee_api_client.ExportClassifierRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ExportClassifierRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("requestId",e.requestId==null?null:e.requestId),this.Serializable$set("assetExportOptions",e.assetExportOptions==null?null:e.assetExportOptions),this.Serializable$set("maxWorkers",e.maxWorkers==null?null:e.maxWorkers),this.Serializable$set("maxWorkerCount",e.maxWorkerCount==null?null:e.maxWorkerCount),this.Serializable$set("workloadTag",e.workloadTag==null?null:e.workloadTag)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportClassifierRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ExportClassifierRequest},module$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype.getPartialClassMetadata=function(){return{keys:"assetExportOptions description expression maxWorkerCount maxWorkers requestId workloadTag".split(" "),objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions,expression:module$exports$eeapiclient$ee_api_client.Expression}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype,{assetExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("assetExportOptions")?this.Serializable$get("assetExportOptions"):null},set:function(e){this.Serializable$set("assetExportOptions",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},maxWorkerCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkerCount")?this.Serializable$get("maxWorkerCount"):null},set:function(e){this.Serializable$set("maxWorkerCount",e)}},maxWorkers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkers")?this.Serializable$get("maxWorkers"):null},set:function(e){this.Serializable$set("maxWorkers",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}},workloadTag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("workloadTag")?this.Serializable$get("workloadTag"):null},set:function(e){this.Serializable$set("workloadTag",e)}}}),module$exports$eeapiclient$ee_api_client.ExportImageRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ExportImageRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("fileExportOptions",e.fileExportOptions==null?null:e.fileExportOptions),this.Serializable$set("assetExportOptions",e.assetExportOptions==null?null:e.assetExportOptions),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("maxPixels",e.maxPixels==null?null:e.maxPixels),this.Serializable$set("grid",e.grid==null?null:e.grid),this.Serializable$set("requestId",e.requestId==null?null:e.requestId),this.Serializable$set("maxWorkers",e.maxWorkers==null?null:e.maxWorkers),this.Serializable$set("maxWorkerCount",e.maxWorkerCount==null?null:e.maxWorkerCount),this.Serializable$set("workloadTag",e.workloadTag==null?null:e.workloadTag)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportImageRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ExportImageRequest},module$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype.getPartialClassMetadata=function(){return{keys:"assetExportOptions description expression fileExportOptions grid maxPixels maxWorkerCount maxWorkers requestId workloadTag".split(" "),objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions,expression:module$exports$eeapiclient$ee_api_client.Expression,fileExportOptions:module$exports$eeapiclient$ee_api_client.ImageFileExportOptions,grid:module$exports$eeapiclient$ee_api_client.PixelGrid}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype,{assetExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("assetExportOptions")?this.Serializable$get("assetExportOptions"):null},set:function(e){this.Serializable$set("assetExportOptions",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileExportOptions")?this.Serializable$get("fileExportOptions"):null},set:function(e){this.Serializable$set("fileExportOptions",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},maxPixels:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxPixels")?this.Serializable$get("maxPixels"):null},set:function(e){this.Serializable$set("maxPixels",e)}},maxWorkerCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkerCount")?this.Serializable$get("maxWorkerCount"):null},set:function(e){this.Serializable$set("maxWorkerCount",e)}},maxWorkers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkers")?this.Serializable$get("maxWorkers"):null},set:function(e){this.Serializable$set("maxWorkers",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}},workloadTag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("workloadTag")?this.Serializable$get("workloadTag"):null},set:function(e){this.Serializable$set("workloadTag",e)}}}),module$exports$eeapiclient$ee_api_client.ExportMapRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ExportMapRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("tileOptions",e.tileOptions==null?null:e.tileOptions),this.Serializable$set("tileExportOptions",e.tileExportOptions==null?null:e.tileExportOptions),this.Serializable$set("requestId",e.requestId==null?null:e.requestId),this.Serializable$set("maxWorkers",e.maxWorkers==null?null:e.maxWorkers),this.Serializable$set("maxWorkerCount",e.maxWorkerCount==null?null:e.maxWorkerCount),this.Serializable$set("workloadTag",e.workloadTag==null?null:e.workloadTag)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportMapRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ExportMapRequest},module$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype.getPartialClassMetadata=function(){return{keys:"description expression maxWorkerCount maxWorkers requestId tileExportOptions tileOptions workloadTag".split(" "),objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,tileExportOptions:module$exports$eeapiclient$ee_api_client.ImageFileExportOptions,tileOptions:module$exports$eeapiclient$ee_api_client.TileOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype,{description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},maxWorkerCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkerCount")?this.Serializable$get("maxWorkerCount"):null},set:function(e){this.Serializable$set("maxWorkerCount",e)}},maxWorkers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkers")?this.Serializable$get("maxWorkers"):null},set:function(e){this.Serializable$set("maxWorkers",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}},tileExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileExportOptions")?this.Serializable$get("tileExportOptions"):null},set:function(e){this.Serializable$set("tileExportOptions",e)}},tileOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileOptions")?this.Serializable$get("tileOptions"):null},set:function(e){this.Serializable$set("tileOptions",e)}},workloadTag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("workloadTag")?this.Serializable$get("workloadTag"):null},set:function(e){this.Serializable$set("workloadTag",e)}}}),module$exports$eeapiclient$ee_api_client.ExportTableRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ExportTableRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("fileExportOptions",e.fileExportOptions==null?null:e.fileExportOptions),this.Serializable$set("assetExportOptions",e.assetExportOptions==null?null:e.assetExportOptions),this.Serializable$set("featureViewExportOptions",e.featureViewExportOptions==null?null:e.featureViewExportOptions),this.Serializable$set("bigqueryExportOptions",e.bigqueryExportOptions==null?null:e.bigqueryExportOptions),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("selectors",e.selectors==null?null:e.selectors),this.Serializable$set("requestId",e.requestId==null?null:e.requestId),this.Serializable$set("maxErrorMeters",e.maxErrorMeters==null?null:e.maxErrorMeters),this.Serializable$set("maxWorkers",e.maxWorkers==null?null:e.maxWorkers),this.Serializable$set("maxWorkerCount",e.maxWorkerCount==null?null:e.maxWorkerCount),this.Serializable$set("maxVertices",e.maxVertices==null?null:e.maxVertices),this.Serializable$set("workloadTag",e.workloadTag==null?null:e.workloadTag),this.Serializable$set("policy",e.policy==null?null:e.policy)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportTableRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ExportTableRequest},module$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype.getPartialClassMetadata=function(){return{keys:"assetExportOptions bigqueryExportOptions description expression featureViewExportOptions fileExportOptions maxErrorMeters maxVertices maxWorkerCount maxWorkers policy requestId selectors workloadTag".split(" "),objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.TableAssetExportOptions,bigqueryExportOptions:module$exports$eeapiclient$ee_api_client.BigQueryExportOptions,expression:module$exports$eeapiclient$ee_api_client.Expression,featureViewExportOptions:module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions,fileExportOptions:module$exports$eeapiclient$ee_api_client.TableFileExportOptions,policy:module$exports$eeapiclient$ee_api_client.Policy}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype,{assetExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("assetExportOptions")?this.Serializable$get("assetExportOptions"):null},set:function(e){this.Serializable$set("assetExportOptions",e)}},bigqueryExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bigqueryExportOptions")?this.Serializable$get("bigqueryExportOptions"):null},set:function(e){this.Serializable$set("bigqueryExportOptions",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},featureViewExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("featureViewExportOptions")?this.Serializable$get("featureViewExportOptions"):null},set:function(e){this.Serializable$set("featureViewExportOptions",e)}},fileExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileExportOptions")?this.Serializable$get("fileExportOptions"):null},set:function(e){this.Serializable$set("fileExportOptions",e)}},maxErrorMeters:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxErrorMeters")?this.Serializable$get("maxErrorMeters"):null},set:function(e){this.Serializable$set("maxErrorMeters",e)}},maxVertices:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxVertices")?this.Serializable$get("maxVertices"):null},set:function(e){this.Serializable$set("maxVertices",e)}},maxWorkerCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkerCount")?this.Serializable$get("maxWorkerCount"):null},set:function(e){this.Serializable$set("maxWorkerCount",e)}},maxWorkers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkers")?this.Serializable$get("maxWorkers"):null},set:function(e){this.Serializable$set("maxWorkers",e)}},policy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("policy")?this.Serializable$get("policy"):null},set:function(e){this.Serializable$set("policy",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}},selectors:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("selectors")?this.Serializable$get("selectors"):null},set:function(e){this.Serializable$set("selectors",e)}},workloadTag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("workloadTag")?this.Serializable$get("workloadTag"):null},set:function(e){this.Serializable$set("workloadTag",e)}}}),module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("videoOptions",e.videoOptions==null?null:e.videoOptions),this.Serializable$set("tileOptions",e.tileOptions==null?null:e.tileOptions),this.Serializable$set("tileExportOptions",e.tileExportOptions==null?null:e.tileExportOptions),this.Serializable$set("requestId",e.requestId==null?null:e.requestId),this.Serializable$set("version",e.version==null?null:e.version),this.Serializable$set("maxWorkers",e.maxWorkers==null?null:e.maxWorkers),this.Serializable$set("maxWorkerCount",e.maxWorkerCount==null?null:e.maxWorkerCount),this.Serializable$set("workloadTag",e.workloadTag==null?null:e.workloadTag)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest},module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype.getPartialClassMetadata=function(){return{enums:{version:module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum},keys:"description expression maxWorkerCount maxWorkers requestId tileExportOptions tileOptions version videoOptions workloadTag".split(" "),objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,tileExportOptions:module$exports$eeapiclient$ee_api_client.VideoFileExportOptions,tileOptions:module$exports$eeapiclient$ee_api_client.TileOptions,videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype,{description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},maxWorkerCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkerCount")?this.Serializable$get("maxWorkerCount"):null},set:function(e){this.Serializable$set("maxWorkerCount",e)}},maxWorkers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkers")?this.Serializable$get("maxWorkers"):null},set:function(e){this.Serializable$set("maxWorkers",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}},tileExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileExportOptions")?this.Serializable$get("tileExportOptions"):null},set:function(e){this.Serializable$set("tileExportOptions",e)}},tileOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileOptions")?this.Serializable$get("tileOptions"):null},set:function(e){this.Serializable$set("tileOptions",e)}},version:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("version")?this.Serializable$get("version"):null},set:function(e){this.Serializable$set("version",e)}},videoOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("videoOptions")?this.Serializable$get("videoOptions"):null},set:function(e){this.Serializable$set("videoOptions",e)}},workloadTag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("workloadTag")?this.Serializable$get("workloadTag"):null},set:function(e){this.Serializable$set("workloadTag",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest,{Version:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum}}}),module$exports$eeapiclient$ee_api_client.ExportVideoRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ExportVideoRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("videoOptions",e.videoOptions==null?null:e.videoOptions),this.Serializable$set("fileExportOptions",e.fileExportOptions==null?null:e.fileExportOptions),this.Serializable$set("requestId",e.requestId==null?null:e.requestId),this.Serializable$set("maxWorkers",e.maxWorkers==null?null:e.maxWorkers),this.Serializable$set("maxWorkerCount",e.maxWorkerCount==null?null:e.maxWorkerCount),this.Serializable$set("workloadTag",e.workloadTag==null?null:e.workloadTag)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportVideoRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ExportVideoRequest},module$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype.getPartialClassMetadata=function(){return{keys:"description expression fileExportOptions maxWorkerCount maxWorkers requestId videoOptions workloadTag".split(" "),objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,fileExportOptions:module$exports$eeapiclient$ee_api_client.VideoFileExportOptions,videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype,{description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileExportOptions")?this.Serializable$get("fileExportOptions"):null},set:function(e){this.Serializable$set("fileExportOptions",e)}},maxWorkerCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkerCount")?this.Serializable$get("maxWorkerCount"):null},set:function(e){this.Serializable$set("maxWorkerCount",e)}},maxWorkers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkers")?this.Serializable$get("maxWorkers"):null},set:function(e){this.Serializable$set("maxWorkers",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}},videoOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("videoOptions")?this.Serializable$get("videoOptions"):null},set:function(e){this.Serializable$set("videoOptions",e)}},workloadTag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("workloadTag")?this.Serializable$get("workloadTag"):null},set:function(e){this.Serializable$set("workloadTag",e)}}}),module$exports$eeapiclient$ee_api_client.ExprParameters=function e(){},module$exports$eeapiclient$ee_api_client.Expr=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("title",e.title==null?null:e.title),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("location",e.location==null?null:e.location)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Expr,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Expr.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Expr},module$exports$eeapiclient$ee_api_client.Expr.prototype.getPartialClassMetadata=function(){return{keys:["description","expression","location","title"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Expr.prototype,{description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},location:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("location")?this.Serializable$get("location"):null},set:function(e){this.Serializable$set("location",e)}},title:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("title")?this.Serializable$get("title"):null},set:function(e){this.Serializable$set("title",e)}}}),module$exports$eeapiclient$ee_api_client.ExpressionParameters=function e(){},module$exports$eeapiclient$ee_api_client.Expression=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("values",e.values==null?null:e.values),this.Serializable$set("result",e.result==null?null:e.result)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Expression,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Expression.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Expression},module$exports$eeapiclient$ee_api_client.Expression.prototype.getPartialClassMetadata=function(){return{keys:["result","values"],objectMaps:{values:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode,isPropertyArray:!1,isSerializable:!0,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Expression.prototype,{result:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("result")?this.Serializable$get("result"):null},set:function(e){this.Serializable$set("result",e)}},values:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("values")?this.Serializable$get("values"):null},set:function(e){this.Serializable$set("values",e)}}}),module$exports$eeapiclient$ee_api_client.FeatureParameters=function e(){},module$exports$eeapiclient$ee_api_client.Feature=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("geometry",e.geometry==null?null:e.geometry),this.Serializable$set("properties",e.properties==null?null:e.properties)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Feature,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Feature.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Feature},module$exports$eeapiclient$ee_api_client.Feature.prototype.getPartialClassMetadata=function(){return{keys:["geometry","properties","type"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Feature.prototype,{geometry:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("geometry")?this.Serializable$get("geometry"):null},set:function(e){this.Serializable$set("geometry",e)}},properties:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("properties")?this.Serializable$get("properties"):null},set:function(e){this.Serializable$set("properties",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}}}),module$exports$eeapiclient$ee_api_client.FeatureViewParameters=function e(){},module$exports$eeapiclient$ee_api_client.FeatureView=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("asset",e.asset==null?null:e.asset),this.Serializable$set("mapName",e.mapName==null?null:e.mapName),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("visualizationExpression",e.visualizationExpression==null?null:e.visualizationExpression)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureView,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FeatureView.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FeatureView},module$exports$eeapiclient$ee_api_client.FeatureView.prototype.getPartialClassMetadata=function(){return{keys:["asset","mapName","name","visualizationExpression"],objects:{visualizationExpression:module$exports$eeapiclient$ee_api_client.Expression}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureView.prototype,{asset:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("asset")?this.Serializable$get("asset"):null},set:function(e){this.Serializable$set("asset",e)}},mapName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("mapName")?this.Serializable$get("mapName"):null},set:function(e){this.Serializable$set("mapName",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},visualizationExpression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("visualizationExpression")?this.Serializable$get("visualizationExpression"):null},set:function(e){this.Serializable$set("visualizationExpression",e)}}}),module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("featureViewDestination",e.featureViewDestination==null?null:e.featureViewDestination),this.Serializable$set("ingestionTimeParameters",e.ingestionTimeParameters==null?null:e.ingestionTimeParameters)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions},module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions.prototype.getPartialClassMetadata=function(){return{keys:["featureViewDestination","ingestionTimeParameters"],objects:{featureViewDestination:module$exports$eeapiclient$ee_api_client.FeatureViewDestination,ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions.prototype,{featureViewDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("featureViewDestination")?this.Serializable$get("featureViewDestination"):null},set:function(e){this.Serializable$set("featureViewDestination",e)}},ingestionTimeParameters:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("ingestionTimeParameters")?this.Serializable$get("ingestionTimeParameters"):null},set:function(e){this.Serializable$set("ingestionTimeParameters",e)}}}),module$exports$eeapiclient$ee_api_client.FeatureViewAttributeParameters=function e(){},module$exports$eeapiclient$ee_api_client.FeatureViewAttribute=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("type",e.type==null?null:e.type)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewAttribute,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FeatureViewAttribute.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FeatureViewAttribute},module$exports$eeapiclient$ee_api_client.FeatureViewAttribute.prototype.getPartialClassMetadata=function(){return{enums:{type:module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum},keys:["name","type"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewAttribute.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewAttribute,{Type:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum}}}),module$exports$eeapiclient$ee_api_client.FeatureViewDestinationParameters=function e(){},module$exports$eeapiclient$ee_api_client.FeatureViewDestination=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("assetVersion",e.assetVersion==null?null:e.assetVersion),this.Serializable$set("permissions",e.permissions==null?null:e.permissions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewDestination,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FeatureViewDestination.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FeatureViewDestination},module$exports$eeapiclient$ee_api_client.FeatureViewDestination.prototype.getPartialClassMetadata=function(){return{enums:{permissions:module$exports$eeapiclient$ee_api_client.FeatureViewDestinationPermissionsEnum},keys:["assetVersion","name","permissions"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewDestination.prototype,{assetVersion:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("assetVersion")?this.Serializable$get("assetVersion"):null},set:function(e){this.Serializable$set("assetVersion",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},permissions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("permissions")?this.Serializable$get("permissions"):null},set:function(e){this.Serializable$set("permissions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewDestination,{Permissions:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.FeatureViewDestinationPermissionsEnum}}}),module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParametersParameters=function e(){},module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("thinningOptions",e.thinningOptions==null?null:e.thinningOptions),this.Serializable$set("rankingOptions",e.rankingOptions==null?null:e.rankingOptions),this.Serializable$set("prerenderingOptions",e.prerenderingOptions==null?null:e.prerenderingOptions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters},module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters.prototype.getPartialClassMetadata=function(){return{keys:["prerenderingOptions","rankingOptions","thinningOptions"],objects:{prerenderingOptions:module$exports$eeapiclient$ee_api_client.PrerenderingOptions,rankingOptions:module$exports$eeapiclient$ee_api_client.RankingOptions,thinningOptions:module$exports$eeapiclient$ee_api_client.ThinningOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters.prototype,{prerenderingOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("prerenderingOptions")?this.Serializable$get("prerenderingOptions"):null},set:function(e){this.Serializable$set("prerenderingOptions",e)}},rankingOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rankingOptions")?this.Serializable$get("rankingOptions"):null},set:function(e){this.Serializable$set("rankingOptions",e)}},thinningOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("thinningOptions")?this.Serializable$get("thinningOptions"):null},set:function(e){this.Serializable$set("thinningOptions",e)}}}),module$exports$eeapiclient$ee_api_client.FeatureViewLocationParameters=function e(){},module$exports$eeapiclient$ee_api_client.FeatureViewLocation=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("location",e.location==null?null:e.location),this.Serializable$set("assetOptions",e.assetOptions==null?null:e.assetOptions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewLocation,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FeatureViewLocation.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FeatureViewLocation},module$exports$eeapiclient$ee_api_client.FeatureViewLocation.prototype.getPartialClassMetadata=function(){return{keys:["assetOptions","location"],objects:{assetOptions:module$exports$eeapiclient$ee_api_client.FeatureViewOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewLocation.prototype,{assetOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("assetOptions")?this.Serializable$get("assetOptions"):null},set:function(e){this.Serializable$set("assetOptions",e)}},location:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("location")?this.Serializable$get("location"):null},set:function(e){this.Serializable$set("location",e)}}}),module$exports$eeapiclient$ee_api_client.FeatureViewOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.FeatureViewOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("featureViewAttributes",e.featureViewAttributes==null?null:e.featureViewAttributes),this.Serializable$set("ingestionTimeParameters",e.ingestionTimeParameters==null?null:e.ingestionTimeParameters)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FeatureViewOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FeatureViewOptions},module$exports$eeapiclient$ee_api_client.FeatureViewOptions.prototype.getPartialClassMetadata=function(){return{arrays:{featureViewAttributes:module$exports$eeapiclient$ee_api_client.FeatureViewAttribute},keys:["featureViewAttributes","ingestionTimeParameters"],objects:{ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewOptions.prototype,{featureViewAttributes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("featureViewAttributes")?this.Serializable$get("featureViewAttributes"):null},set:function(e){this.Serializable$set("featureViewAttributes",e)}},ingestionTimeParameters:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("ingestionTimeParameters")?this.Serializable$get("ingestionTimeParameters"):null},set:function(e){this.Serializable$set("ingestionTimeParameters",e)}}}),module$exports$eeapiclient$ee_api_client.FilmstripThumbnailParameters=function e(){},module$exports$eeapiclient$ee_api_client.FilmstripThumbnail=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("orientation",e.orientation==null?null:e.orientation),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("grid",e.grid==null?null:e.grid)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FilmstripThumbnail},module$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum,orientation:module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum},keys:["expression","fileFormat","grid","name","orientation"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,grid:module$exports$eeapiclient$ee_api_client.PixelGrid}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype,{expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},orientation:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("orientation")?this.Serializable$get("orientation"):null},set:function(e){this.Serializable$set("orientation",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum}},Orientation:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum}}}),module$exports$eeapiclient$ee_api_client.FolderQuotaParameters=function e(){},module$exports$eeapiclient$ee_api_client.FolderQuota=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("sizeBytes",e.sizeBytes==null?null:e.sizeBytes),this.Serializable$set("maxSizeBytes",e.maxSizeBytes==null?null:e.maxSizeBytes),this.Serializable$set("assetCount",e.assetCount==null?null:e.assetCount),this.Serializable$set("maxAssets",e.maxAssets==null?null:e.maxAssets),this.Serializable$set("maxAssetCount",e.maxAssetCount==null?null:e.maxAssetCount)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FolderQuota,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FolderQuota.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FolderQuota},module$exports$eeapiclient$ee_api_client.FolderQuota.prototype.getPartialClassMetadata=function(){return{keys:["assetCount","maxAssetCount","maxAssets","maxSizeBytes","sizeBytes"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FolderQuota.prototype,{assetCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("assetCount")?this.Serializable$get("assetCount"):null},set:function(e){this.Serializable$set("assetCount",e)}},maxAssetCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxAssetCount")?this.Serializable$get("maxAssetCount"):null},set:function(e){this.Serializable$set("maxAssetCount",e)}},maxAssets:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxAssets")?this.Serializable$get("maxAssets"):null},set:function(e){this.Serializable$set("maxAssets",e)}},maxSizeBytes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxSizeBytes")?this.Serializable$get("maxSizeBytes"):null},set:function(e){this.Serializable$set("maxSizeBytes",e)}},sizeBytes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sizeBytes")?this.Serializable$get("sizeBytes"):null},set:function(e){this.Serializable$set("sizeBytes",e)}}}),module$exports$eeapiclient$ee_api_client.FunctionDefinitionParameters=function e(){},module$exports$eeapiclient$ee_api_client.FunctionDefinition=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("argumentNames",e.argumentNames==null?null:e.argumentNames),this.Serializable$set("body",e.body==null?null:e.body)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FunctionDefinition,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FunctionDefinition},module$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype.getPartialClassMetadata=function(){return{keys:["argumentNames","body"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype,{argumentNames:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("argumentNames")?this.Serializable$get("argumentNames"):null},set:function(e){this.Serializable$set("argumentNames",e)}},body:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("body")?this.Serializable$get("body"):null},set:function(e){this.Serializable$set("body",e)}}}),module$exports$eeapiclient$ee_api_client.FunctionInvocationParameters=function e(){},module$exports$eeapiclient$ee_api_client.FunctionInvocation=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("functionName",e.functionName==null?null:e.functionName),this.Serializable$set("functionReference",e.functionReference==null?null:e.functionReference),this.Serializable$set("arguments",e.arguments==null?null:e.arguments)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FunctionInvocation,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FunctionInvocation},module$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype.getPartialClassMetadata=function(){return{keys:["arguments","functionName","functionReference"],objectMaps:{arguments:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode,isPropertyArray:!1,isSerializable:!0,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype,{arguments:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("arguments")?this.Serializable$get("arguments"):null},set:function(e){this.Serializable$set("arguments",e)}},functionName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("functionName")?this.Serializable$get("functionName"):null},set:function(e){this.Serializable$set("functionName",e)}},functionReference:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("functionReference")?this.Serializable$get("functionReference"):null},set:function(e){this.Serializable$set("functionReference",e)}}}),module$exports$eeapiclient$ee_api_client.GcsDestinationParameters=function e(){},module$exports$eeapiclient$ee_api_client.GcsDestination=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("bucket",e.bucket==null?null:e.bucket),this.Serializable$set("filenamePrefix",e.filenamePrefix==null?null:e.filenamePrefix),this.Serializable$set("permissions",e.permissions==null?null:e.permissions),this.Serializable$set("bucketCorsUris",e.bucketCorsUris==null?null:e.bucketCorsUris)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GcsDestination,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GcsDestination.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GcsDestination},module$exports$eeapiclient$ee_api_client.GcsDestination.prototype.getPartialClassMetadata=function(){return{enums:{permissions:module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum},keys:["bucket","bucketCorsUris","filenamePrefix","permissions"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsDestination.prototype,{bucket:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bucket")?this.Serializable$get("bucket"):null},set:function(e){this.Serializable$set("bucket",e)}},bucketCorsUris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bucketCorsUris")?this.Serializable$get("bucketCorsUris"):null},set:function(e){this.Serializable$set("bucketCorsUris",e)}},filenamePrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("filenamePrefix")?this.Serializable$get("filenamePrefix"):null},set:function(e){this.Serializable$set("filenamePrefix",e)}},permissions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("permissions")?this.Serializable$get("permissions"):null},set:function(e){this.Serializable$set("permissions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsDestination,{Permissions:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum}}}),module$exports$eeapiclient$ee_api_client.GcsLocationParameters=function e(){},module$exports$eeapiclient$ee_api_client.GcsLocation=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("uris",e.uris==null?null:e.uris)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GcsLocation,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GcsLocation.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GcsLocation},module$exports$eeapiclient$ee_api_client.GcsLocation.prototype.getPartialClassMetadata=function(){return{keys:["uris"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsLocation.prototype,{uris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("uris")?this.Serializable$get("uris"):null},set:function(e){this.Serializable$set("uris",e)}}}),module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("cloudOptimized",e.cloudOptimized==null?null:e.cloudOptimized),this.Serializable$set("tileDimensions",e.tileDimensions==null?null:e.tileDimensions),this.Serializable$set("skipEmptyFiles",e.skipEmptyFiles==null?null:e.skipEmptyFiles),this.Serializable$set("tileSize",e.tileSize==null?null:e.tileSize)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions},module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype.getPartialClassMetadata=function(){return{keys:["cloudOptimized","skipEmptyFiles","tileDimensions","tileSize"],objects:{tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype,{cloudOptimized:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("cloudOptimized")?this.Serializable$get("cloudOptimized"):null},set:function(e){this.Serializable$set("cloudOptimized",e)}},skipEmptyFiles:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("skipEmptyFiles")?this.Serializable$get("skipEmptyFiles"):null},set:function(e){this.Serializable$set("skipEmptyFiles",e)}},tileDimensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileDimensions")?this.Serializable$get("tileDimensions"):null},set:function(e){this.Serializable$set("tileDimensions",e)}},tileSize:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileSize")?this.Serializable$get("tileSize"):null},set:function(e){this.Serializable$set("tileSize",e)}}}),module$exports$eeapiclient$ee_api_client.GetIamPolicyRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("options",e.options==null?null:e.options)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest},module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype.getPartialClassMetadata=function(){return{keys:["options"],objects:{options:module$exports$eeapiclient$ee_api_client.GetPolicyOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype,{options:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("options")?this.Serializable$get("options"):null},set:function(e){this.Serializable$set("options",e)}}}),module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest=function(e){module$exports$eeapiclient$domain_object.Serializable.call(this)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest},module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest.prototype.getPartialClassMetadata=function(){return{keys:[]}},module$exports$eeapiclient$ee_api_client.GetPixelsRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.GetPixelsRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("grid",e.grid==null?null:e.grid),this.Serializable$set("region",e.region==null?null:e.region),this.Serializable$set("bandIds",e.bandIds==null?null:e.bandIds),this.Serializable$set("visualizationOptions",e.visualizationOptions==null?null:e.visualizationOptions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetPixelsRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GetPixelsRequest},module$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum},keys:["bandIds","fileFormat","grid","region","visualizationOptions"],objectMaps:{region:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}},objects:{grid:module$exports$eeapiclient$ee_api_client.PixelGrid,visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype,{bandIds:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandIds")?this.Serializable$get("bandIds"):null},set:function(e){this.Serializable$set("bandIds",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},region:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("region")?this.Serializable$get("region"):null},set:function(e){this.Serializable$set("region",e)}},visualizationOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("visualizationOptions")?this.Serializable$get("visualizationOptions"):null},set:function(e){this.Serializable$set("visualizationOptions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPixelsRequest,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.GetPolicyOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.GetPolicyOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("requestedPolicyVersion",e.requestedPolicyVersion==null?null:e.requestedPolicyVersion)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetPolicyOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GetPolicyOptions},module$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype.getPartialClassMetadata=function(){return{keys:["requestedPolicyVersion"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype,{requestedPolicyVersion:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestedPolicyVersion")?this.Serializable$get("requestedPolicyVersion"):null},set:function(e){this.Serializable$set("requestedPolicyVersion",e)}}}),module$exports$eeapiclient$ee_api_client.GridDimensionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.GridDimensions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("width",e.width==null?null:e.width),this.Serializable$set("height",e.height==null?null:e.height)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GridDimensions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GridDimensions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GridDimensions},module$exports$eeapiclient$ee_api_client.GridDimensions.prototype.getPartialClassMetadata=function(){return{keys:["height","width"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GridDimensions.prototype,{height:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("height")?this.Serializable$get("height"):null},set:function(e){this.Serializable$set("height",e)}},width:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("width")?this.Serializable$get("width"):null},set:function(e){this.Serializable$set("width",e)}}}),module$exports$eeapiclient$ee_api_client.GridPointParameters=function e(){},module$exports$eeapiclient$ee_api_client.GridPoint=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("x",e.x==null?null:e.x),this.Serializable$set("y",e.y==null?null:e.y)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GridPoint,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GridPoint.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GridPoint},module$exports$eeapiclient$ee_api_client.GridPoint.prototype.getPartialClassMetadata=function(){return{keys:["x","y"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GridPoint.prototype,{x:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("x")?this.Serializable$get("x"):null},set:function(e){this.Serializable$set("x",e)}},y:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("y")?this.Serializable$get("y"):null},set:function(e){this.Serializable$set("y",e)}}}),module$exports$eeapiclient$ee_api_client.HttpBodyParameters=function e(){},module$exports$eeapiclient$ee_api_client.HttpBody=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("contentType",e.contentType==null?null:e.contentType),this.Serializable$set("data",e.data==null?null:e.data),this.Serializable$set("extensions",e.extensions==null?null:e.extensions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.HttpBody,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.HttpBody.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.HttpBody},module$exports$eeapiclient$ee_api_client.HttpBody.prototype.getPartialClassMetadata=function(){return{keys:["contentType","data","extensions"],objectMaps:{extensions:{ctor:null,isPropertyArray:!0,isSerializable:!1,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.HttpBody.prototype,{contentType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("contentType")?this.Serializable$get("contentType"):null},set:function(e){this.Serializable$set("contentType",e)}},data:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("data")?this.Serializable$get("data"):null},set:function(e){this.Serializable$set("data",e)}},extensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("extensions")?this.Serializable$get("extensions"):null},set:function(e){this.Serializable$set("extensions",e)}}}),module$exports$eeapiclient$ee_api_client.ImageParameters=function e(){},module$exports$eeapiclient$ee_api_client.Image=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("id",e.id==null?null:e.id),this.Serializable$set("updateTime",e.updateTime==null?null:e.updateTime),this.Serializable$set("title",e.title==null?null:e.title),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("properties",e.properties==null?null:e.properties),this.Serializable$set("startTime",e.startTime==null?null:e.startTime),this.Serializable$set("endTime",e.endTime==null?null:e.endTime),this.Serializable$set("geometry",e.geometry==null?null:e.geometry),this.Serializable$set("bands",e.bands==null?null:e.bands),this.Serializable$set("sizeBytes",e.sizeBytes==null?null:e.sizeBytes)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Image,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Image.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Image},module$exports$eeapiclient$ee_api_client.Image.prototype.getPartialClassMetadata=function(){return{arrays:{bands:module$exports$eeapiclient$ee_api_client.ImageBand},keys:"bands description endTime geometry id name properties sizeBytes startTime title updateTime".split(" "),objectMaps:{geometry:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1},properties:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Image.prototype,{bands:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bands")?this.Serializable$get("bands"):null},set:function(e){this.Serializable$set("bands",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},endTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("endTime")?this.Serializable$get("endTime"):null},set:function(e){this.Serializable$set("endTime",e)}},geometry:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("geometry")?this.Serializable$get("geometry"):null},set:function(e){this.Serializable$set("geometry",e)}},id:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("id")?this.Serializable$get("id"):null},set:function(e){this.Serializable$set("id",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},properties:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("properties")?this.Serializable$get("properties"):null},set:function(e){this.Serializable$set("properties",e)}},sizeBytes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sizeBytes")?this.Serializable$get("sizeBytes"):null},set:function(e){this.Serializable$set("sizeBytes",e)}},startTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startTime")?this.Serializable$get("startTime"):null},set:function(e){this.Serializable$set("startTime",e)}},title:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("title")?this.Serializable$get("title"):null},set:function(e){this.Serializable$set("title",e)}},updateTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("updateTime")?this.Serializable$get("updateTime"):null},set:function(e){this.Serializable$set("updateTime",e)}}}),module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("earthEngineDestination",e.earthEngineDestination==null?null:e.earthEngineDestination),this.Serializable$set("pyramidingPolicy",e.pyramidingPolicy==null?null:e.pyramidingPolicy),this.Serializable$set("pyramidingPolicyOverrides",e.pyramidingPolicyOverrides==null?null:e.pyramidingPolicyOverrides),this.Serializable$set("tileSize",e.tileSize==null?null:e.tileSize)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions},module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype.getPartialClassMetadata=function(){return{enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum,pyramidingPolicyOverrides:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum},keys:["earthEngineDestination","pyramidingPolicy","pyramidingPolicyOverrides","tileSize"],objectMaps:{pyramidingPolicyOverrides:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}},objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype,{earthEngineDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("earthEngineDestination")?this.Serializable$get("earthEngineDestination"):null},set:function(e){this.Serializable$set("earthEngineDestination",e)}},pyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pyramidingPolicy")?this.Serializable$get("pyramidingPolicy"):null},set:function(e){this.Serializable$set("pyramidingPolicy",e)}},pyramidingPolicyOverrides:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pyramidingPolicyOverrides")?this.Serializable$get("pyramidingPolicyOverrides"):null},set:function(e){this.Serializable$set("pyramidingPolicyOverrides",e)}},tileSize:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileSize")?this.Serializable$get("tileSize"):null},set:function(e){this.Serializable$set("tileSize",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions,{PyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum}},PyramidingPolicyOverrides:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum}}}),module$exports$eeapiclient$ee_api_client.ImageBandParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImageBand=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("id",e.id==null?null:e.id),this.Serializable$set("dataType",e.dataType==null?null:e.dataType),this.Serializable$set("grid",e.grid==null?null:e.grid),this.Serializable$set("pyramidingPolicy",e.pyramidingPolicy==null?null:e.pyramidingPolicy),this.Serializable$set("tilesets",e.tilesets==null?null:e.tilesets),this.Serializable$set("missingData",e.missingData==null?null:e.missingData),this.Serializable$set("cloudStorageLocation",e.cloudStorageLocation==null?null:e.cloudStorageLocation)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageBand,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImageBand.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImageBand},module$exports$eeapiclient$ee_api_client.ImageBand.prototype.getPartialClassMetadata=function(){return{arrays:{tilesets:module$exports$eeapiclient$ee_api_client.TilestoreTileset},enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum},keys:"cloudStorageLocation dataType grid id missingData pyramidingPolicy tilesets".split(" "),objects:{cloudStorageLocation:module$exports$eeapiclient$ee_api_client.CloudStorageLocation,dataType:module$exports$eeapiclient$ee_api_client.PixelDataType,grid:module$exports$eeapiclient$ee_api_client.PixelGrid,missingData:module$exports$eeapiclient$ee_api_client.MissingData}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageBand.prototype,{cloudStorageLocation:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("cloudStorageLocation")?this.Serializable$get("cloudStorageLocation"):null},set:function(e){this.Serializable$set("cloudStorageLocation",e)}},dataType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dataType")?this.Serializable$get("dataType"):null},set:function(e){this.Serializable$set("dataType",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},id:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("id")?this.Serializable$get("id"):null},set:function(e){this.Serializable$set("id",e)}},missingData:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("missingData")?this.Serializable$get("missingData"):null},set:function(e){this.Serializable$set("missingData",e)}},pyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pyramidingPolicy")?this.Serializable$get("pyramidingPolicy"):null},set:function(e){this.Serializable$set("pyramidingPolicy",e)}},tilesets:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilesets")?this.Serializable$get("tilesets"):null},set:function(e){this.Serializable$set("tilesets",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageBand,{PyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum}}}),module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImageFileExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("driveDestination",e.driveDestination==null?null:e.driveDestination),this.Serializable$set("cloudStorageDestination",e.cloudStorageDestination==null?null:e.cloudStorageDestination),this.Serializable$set("gcsDestination",e.gcsDestination==null?null:e.gcsDestination),this.Serializable$set("geoTiffOptions",e.geoTiffOptions==null?null:e.geoTiffOptions),this.Serializable$set("tfRecordOptions",e.tfRecordOptions==null?null:e.tfRecordOptions),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImageFileExportOptions},module$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum},keys:"cloudStorageDestination driveDestination fileFormat gcsDestination geoTiffOptions tfRecordOptions".split(" "),objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination,driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination,gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination,geoTiffOptions:module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions,tfRecordOptions:module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype,{cloudStorageDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("cloudStorageDestination")?this.Serializable$get("cloudStorageDestination"):null},set:function(e){this.Serializable$set("cloudStorageDestination",e)}},driveDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("driveDestination")?this.Serializable$get("driveDestination"):null},set:function(e){this.Serializable$set("driveDestination",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},gcsDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("gcsDestination")?this.Serializable$get("gcsDestination"):null},set:function(e){this.Serializable$set("gcsDestination",e)}},geoTiffOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("geoTiffOptions")?this.Serializable$get("geoTiffOptions"):null},set:function(e){this.Serializable$set("geoTiffOptions",e)}},tfRecordOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tfRecordOptions")?this.Serializable$get("tfRecordOptions"):null},set:function(e){this.Serializable$set("tfRecordOptions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.ImageManifestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImageManifest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("properties",e.properties==null?null:e.properties),this.Serializable$set("uriPrefix",e.uriPrefix==null?null:e.uriPrefix),this.Serializable$set("tilesets",e.tilesets==null?null:e.tilesets),this.Serializable$set("bands",e.bands==null?null:e.bands),this.Serializable$set("maskBands",e.maskBands==null?null:e.maskBands),this.Serializable$set("footprint",e.footprint==null?null:e.footprint),this.Serializable$set("missingData",e.missingData==null?null:e.missingData),this.Serializable$set("pyramidingPolicy",e.pyramidingPolicy==null?null:e.pyramidingPolicy),this.Serializable$set("startTime",e.startTime==null?null:e.startTime),this.Serializable$set("endTime",e.endTime==null?null:e.endTime),this.Serializable$set("minTileAreaRatio",e.minTileAreaRatio==null?null:e.minTileAreaRatio),this.Serializable$set("skipMetadataRead",e.skipMetadataRead==null?null:e.skipMetadataRead)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageManifest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImageManifest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImageManifest},module$exports$eeapiclient$ee_api_client.ImageManifest.prototype.getPartialClassMetadata=function(){return{arrays:{bands:module$exports$eeapiclient$ee_api_client.TilesetBand,maskBands:module$exports$eeapiclient$ee_api_client.TilesetMaskBand,tilesets:module$exports$eeapiclient$ee_api_client.Tileset},enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum},keys:"bands endTime footprint maskBands minTileAreaRatio missingData name properties pyramidingPolicy skipMetadataRead startTime tilesets uriPrefix".split(" "),objectMaps:{properties:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}},objects:{footprint:module$exports$eeapiclient$ee_api_client.PixelFootprint,missingData:module$exports$eeapiclient$ee_api_client.MissingData}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageManifest.prototype,{bands:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bands")?this.Serializable$get("bands"):null},set:function(e){this.Serializable$set("bands",e)}},endTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("endTime")?this.Serializable$get("endTime"):null},set:function(e){this.Serializable$set("endTime",e)}},footprint:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("footprint")?this.Serializable$get("footprint"):null},set:function(e){this.Serializable$set("footprint",e)}},maskBands:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maskBands")?this.Serializable$get("maskBands"):null},set:function(e){this.Serializable$set("maskBands",e)}},minTileAreaRatio:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("minTileAreaRatio")?this.Serializable$get("minTileAreaRatio"):null},set:function(e){this.Serializable$set("minTileAreaRatio",e)}},missingData:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("missingData")?this.Serializable$get("missingData"):null},set:function(e){this.Serializable$set("missingData",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},properties:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("properties")?this.Serializable$get("properties"):null},set:function(e){this.Serializable$set("properties",e)}},pyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pyramidingPolicy")?this.Serializable$get("pyramidingPolicy"):null},set:function(e){this.Serializable$set("pyramidingPolicy",e)}},skipMetadataRead:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("skipMetadataRead")?this.Serializable$get("skipMetadataRead"):null},set:function(e){this.Serializable$set("skipMetadataRead",e)}},startTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startTime")?this.Serializable$get("startTime"):null},set:function(e){this.Serializable$set("startTime",e)}},tilesets:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilesets")?this.Serializable$get("tilesets"):null},set:function(e){this.Serializable$set("tilesets",e)}},uriPrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("uriPrefix")?this.Serializable$get("uriPrefix"):null},set:function(e){this.Serializable$set("uriPrefix",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageManifest,{PyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum}}}),module$exports$eeapiclient$ee_api_client.ImageSourceParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImageSource=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("uris",e.uris==null?null:e.uris),this.Serializable$set("affineTransform",e.affineTransform==null?null:e.affineTransform),this.Serializable$set("dimensions",e.dimensions==null?null:e.dimensions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageSource,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImageSource.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImageSource},module$exports$eeapiclient$ee_api_client.ImageSource.prototype.getPartialClassMetadata=function(){return{keys:["affineTransform","dimensions","uris"],objects:{affineTransform:module$exports$eeapiclient$ee_api_client.AffineTransform,dimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageSource.prototype,{affineTransform:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("affineTransform")?this.Serializable$get("affineTransform"):null},set:function(e){this.Serializable$set("affineTransform",e)}},dimensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dimensions")?this.Serializable$get("dimensions"):null},set:function(e){this.Serializable$set("dimensions",e)}},uris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("uris")?this.Serializable$get("uris"):null},set:function(e){this.Serializable$set("uris",e)}}}),module$exports$eeapiclient$ee_api_client.ImportImageRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImportImageRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("imageManifest",e.imageManifest==null?null:e.imageManifest),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("overwrite",e.overwrite==null?null:e.overwrite),this.Serializable$set("requestId",e.requestId==null?null:e.requestId)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImportImageRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImportImageRequest},module$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype.getPartialClassMetadata=function(){return{keys:["description","imageManifest","overwrite","requestId"],objects:{imageManifest:module$exports$eeapiclient$ee_api_client.ImageManifest}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype,{description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},imageManifest:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("imageManifest")?this.Serializable$get("imageManifest"):null},set:function(e){this.Serializable$set("imageManifest",e)}},overwrite:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("overwrite")?this.Serializable$get("overwrite"):null},set:function(e){this.Serializable$set("overwrite",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}}}),module$exports$eeapiclient$ee_api_client.ImportTableRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImportTableRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("tableManifest",e.tableManifest==null?null:e.tableManifest),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("overwrite",e.overwrite==null?null:e.overwrite),this.Serializable$set("requestId",e.requestId==null?null:e.requestId)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImportTableRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImportTableRequest},module$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype.getPartialClassMetadata=function(){return{keys:["description","overwrite","requestId","tableManifest"],objects:{tableManifest:module$exports$eeapiclient$ee_api_client.TableManifest}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype,{description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},overwrite:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("overwrite")?this.Serializable$get("overwrite"):null},set:function(e){this.Serializable$set("overwrite",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}},tableManifest:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tableManifest")?this.Serializable$get("tableManifest"):null},set:function(e){this.Serializable$set("tableManifest",e)}}}),module$exports$eeapiclient$ee_api_client.LinkAssetRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.LinkAssetRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("destinationName",e.destinationName==null?null:e.destinationName)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.LinkAssetRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.LinkAssetRequest},module$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype.getPartialClassMetadata=function(){return{keys:["destinationName"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype,{destinationName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("destinationName")?this.Serializable$get("destinationName"):null},set:function(e){this.Serializable$set("destinationName",e)}}}),module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("algorithms",e.algorithms==null?null:e.algorithms)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse},module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype.getPartialClassMetadata=function(){return{arrays:{algorithms:module$exports$eeapiclient$ee_api_client.Algorithm},keys:["algorithms"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype,{algorithms:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("algorithms")?this.Serializable$get("algorithms"):null},set:function(e){this.Serializable$set("algorithms",e)}}}),module$exports$eeapiclient$ee_api_client.ListAssetsResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ListAssetsResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("assets",e.assets==null?null:e.assets),this.Serializable$set("nextPageToken",e.nextPageToken==null?null:e.nextPageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListAssetsResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ListAssetsResponse},module$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype.getPartialClassMetadata=function(){return{arrays:{assets:module$exports$eeapiclient$ee_api_client.EarthEngineAsset},keys:["assets","nextPageToken"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype,{assets:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("assets")?this.Serializable$get("assets"):null},set:function(e){this.Serializable$set("assets",e)}},nextPageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("nextPageToken")?this.Serializable$get("nextPageToken"):null},set:function(e){this.Serializable$set("nextPageToken",e)}}}),module$exports$eeapiclient$ee_api_client.ListFeaturesResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ListFeaturesResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("features",e.features==null?null:e.features),this.Serializable$set("nextPageToken",e.nextPageToken==null?null:e.nextPageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListFeaturesResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ListFeaturesResponse},module$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype.getPartialClassMetadata=function(){return{arrays:{features:module$exports$eeapiclient$ee_api_client.Feature},keys:["features","nextPageToken","type"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype,{features:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("features")?this.Serializable$get("features"):null},set:function(e){this.Serializable$set("features",e)}},nextPageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("nextPageToken")?this.Serializable$get("nextPageToken"):null},set:function(e){this.Serializable$set("nextPageToken",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}}}),module$exports$eeapiclient$ee_api_client.ListImagesResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ListImagesResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("images",e.images==null?null:e.images),this.Serializable$set("nextPageToken",e.nextPageToken==null?null:e.nextPageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListImagesResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ListImagesResponse},module$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype.getPartialClassMetadata=function(){return{arrays:{images:module$exports$eeapiclient$ee_api_client.Image},keys:["images","nextPageToken"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype,{images:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("images")?this.Serializable$get("images"):null},set:function(e){this.Serializable$set("images",e)}},nextPageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("nextPageToken")?this.Serializable$get("nextPageToken"):null},set:function(e){this.Serializable$set("nextPageToken",e)}}}),module$exports$eeapiclient$ee_api_client.ListOperationsResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ListOperationsResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("operations",e.operations==null?null:e.operations),this.Serializable$set("nextPageToken",e.nextPageToken==null?null:e.nextPageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListOperationsResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ListOperationsResponse},module$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype.getPartialClassMetadata=function(){return{arrays:{operations:module$exports$eeapiclient$ee_api_client.Operation},keys:["nextPageToken","operations"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype,{nextPageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("nextPageToken")?this.Serializable$get("nextPageToken"):null},set:function(e){this.Serializable$set("nextPageToken",e)}},operations:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("operations")?this.Serializable$get("operations"):null},set:function(e){this.Serializable$set("operations",e)}}}),module$exports$eeapiclient$ee_api_client.ListSubscriptionsResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("subscriptions",e.subscriptions==null?null:e.subscriptions),this.Serializable$set("nextPageToken",e.nextPageToken==null?null:e.nextPageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse},module$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse.prototype.getPartialClassMetadata=function(){return{arrays:{subscriptions:module$exports$eeapiclient$ee_api_client.Subscription},keys:["nextPageToken","subscriptions"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse.prototype,{nextPageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("nextPageToken")?this.Serializable$get("nextPageToken"):null},set:function(e){this.Serializable$set("nextPageToken",e)}},subscriptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("subscriptions")?this.Serializable$get("subscriptions"):null},set:function(e){this.Serializable$set("subscriptions",e)}}}),module$exports$eeapiclient$ee_api_client.LogConfigParameters=function e(){},module$exports$eeapiclient$ee_api_client.LogConfig=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("counter",e.counter==null?null:e.counter),this.Serializable$set("dataAccess",e.dataAccess==null?null:e.dataAccess),this.Serializable$set("cloudAudit",e.cloudAudit==null?null:e.cloudAudit)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.LogConfig,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.LogConfig.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.LogConfig},module$exports$eeapiclient$ee_api_client.LogConfig.prototype.getPartialClassMetadata=function(){return{keys:["cloudAudit","counter","dataAccess"],objects:{cloudAudit:module$exports$eeapiclient$ee_api_client.CloudAuditOptions,counter:module$exports$eeapiclient$ee_api_client.CounterOptions,dataAccess:module$exports$eeapiclient$ee_api_client.DataAccessOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.LogConfig.prototype,{cloudAudit:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("cloudAudit")?this.Serializable$get("cloudAudit"):null},set:function(e){this.Serializable$set("cloudAudit",e)}},counter:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("counter")?this.Serializable$get("counter"):null},set:function(e){this.Serializable$set("counter",e)}},dataAccess:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dataAccess")?this.Serializable$get("dataAccess"):null},set:function(e){this.Serializable$set("dataAccess",e)}}}),module$exports$eeapiclient$ee_api_client.MissingDataParameters=function e(){},module$exports$eeapiclient$ee_api_client.MissingData=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("values",e.values==null?null:e.values)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.MissingData,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.MissingData.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.MissingData},module$exports$eeapiclient$ee_api_client.MissingData.prototype.getPartialClassMetadata=function(){return{keys:["values"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.MissingData.prototype,{values:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("values")?this.Serializable$get("values"):null},set:function(e){this.Serializable$set("values",e)}}}),module$exports$eeapiclient$ee_api_client.MoveAssetRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.MoveAssetRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("destinationName",e.destinationName==null?null:e.destinationName)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.MoveAssetRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.MoveAssetRequest},module$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype.getPartialClassMetadata=function(){return{keys:["destinationName"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype,{destinationName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("destinationName")?this.Serializable$get("destinationName"):null},set:function(e){this.Serializable$set("destinationName",e)}}}),module$exports$eeapiclient$ee_api_client.OperationParameters=function e(){},module$exports$eeapiclient$ee_api_client.Operation=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("metadata",e.metadata==null?null:e.metadata),this.Serializable$set("done",e.done==null?null:e.done),this.Serializable$set("error",e.error==null?null:e.error),this.Serializable$set("response",e.response==null?null:e.response)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Operation,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Operation.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Operation},module$exports$eeapiclient$ee_api_client.Operation.prototype.getPartialClassMetadata=function(){return{keys:["done","error","metadata","name","response"],objectMaps:{metadata:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1},response:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}},objects:{error:module$exports$eeapiclient$ee_api_client.Status}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Operation.prototype,{done:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("done")?this.Serializable$get("done"):null},set:function(e){this.Serializable$set("done",e)}},error:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("error")?this.Serializable$get("error"):null},set:function(e){this.Serializable$set("error",e)}},metadata:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("metadata")?this.Serializable$get("metadata"):null},set:function(e){this.Serializable$set("metadata",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},response:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("response")?this.Serializable$get("response"):null},set:function(e){this.Serializable$set("response",e)}}}),module$exports$eeapiclient$ee_api_client.OperationMetadataParameters=function e(){},module$exports$eeapiclient$ee_api_client.OperationMetadata=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("state",e.state==null?null:e.state),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("priority",e.priority==null?null:e.priority),this.Serializable$set("createTime",e.createTime==null?null:e.createTime),this.Serializable$set("updateTime",e.updateTime==null?null:e.updateTime),this.Serializable$set("startTime",e.startTime==null?null:e.startTime),this.Serializable$set("endTime",e.endTime==null?null:e.endTime),this.Serializable$set("progress",e.progress==null?null:e.progress),this.Serializable$set("stages",e.stages==null?null:e.stages),this.Serializable$set("attempt",e.attempt==null?null:e.attempt),this.Serializable$set("scriptUri",e.scriptUri==null?null:e.scriptUri),this.Serializable$set("destinationUris",e.destinationUris==null?null:e.destinationUris),this.Serializable$set("notifications",e.notifications==null?null:e.notifications),this.Serializable$set("batchEecuUsageSeconds",e.batchEecuUsageSeconds==null?null:e.batchEecuUsageSeconds)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.OperationMetadata,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.OperationMetadata.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.OperationMetadata},module$exports$eeapiclient$ee_api_client.OperationMetadata.prototype.getPartialClassMetadata=function(){return{arrays:{notifications:module$exports$eeapiclient$ee_api_client.OperationNotification,stages:module$exports$eeapiclient$ee_api_client.OperationStage},enums:{state:module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum},keys:"attempt batchEecuUsageSeconds createTime description destinationUris endTime notifications priority progress scriptUri stages startTime state type updateTime".split(" ")}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationMetadata.prototype,{attempt:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("attempt")?this.Serializable$get("attempt"):null},set:function(e){this.Serializable$set("attempt",e)}},batchEecuUsageSeconds:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("batchEecuUsageSeconds")?this.Serializable$get("batchEecuUsageSeconds"):null},set:function(e){this.Serializable$set("batchEecuUsageSeconds",e)}},createTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("createTime")?this.Serializable$get("createTime"):null},set:function(e){this.Serializable$set("createTime",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},destinationUris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("destinationUris")?this.Serializable$get("destinationUris"):null},set:function(e){this.Serializable$set("destinationUris",e)}},endTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("endTime")?this.Serializable$get("endTime"):null},set:function(e){this.Serializable$set("endTime",e)}},notifications:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("notifications")?this.Serializable$get("notifications"):null},set:function(e){this.Serializable$set("notifications",e)}},priority:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("priority")?this.Serializable$get("priority"):null},set:function(e){this.Serializable$set("priority",e)}},progress:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("progress")?this.Serializable$get("progress"):null},set:function(e){this.Serializable$set("progress",e)}},scriptUri:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("scriptUri")?this.Serializable$get("scriptUri"):null},set:function(e){this.Serializable$set("scriptUri",e)}},stages:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("stages")?this.Serializable$get("stages"):null},set:function(e){this.Serializable$set("stages",e)}},startTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startTime")?this.Serializable$get("startTime"):null},set:function(e){this.Serializable$set("startTime",e)}},state:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("state")?this.Serializable$get("state"):null},set:function(e){this.Serializable$set("state",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}},updateTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("updateTime")?this.Serializable$get("updateTime"):null},set:function(e){this.Serializable$set("updateTime",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationMetadata,{State:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum}}}),module$exports$eeapiclient$ee_api_client.OperationNotificationParameters=function e(){},module$exports$eeapiclient$ee_api_client.OperationNotification=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("severity",e.severity==null?null:e.severity),this.Serializable$set("topic",e.topic==null?null:e.topic),this.Serializable$set("detail",e.detail==null?null:e.detail)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.OperationNotification,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.OperationNotification.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.OperationNotification},module$exports$eeapiclient$ee_api_client.OperationNotification.prototype.getPartialClassMetadata=function(){return{enums:{severity:module$exports$eeapiclient$ee_api_client.OperationNotificationSeverityEnum},keys:["detail","severity","topic"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationNotification.prototype,{detail:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("detail")?this.Serializable$get("detail"):null},set:function(e){this.Serializable$set("detail",e)}},severity:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("severity")?this.Serializable$get("severity"):null},set:function(e){this.Serializable$set("severity",e)}},topic:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("topic")?this.Serializable$get("topic"):null},set:function(e){this.Serializable$set("topic",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationNotification,{Severity:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.OperationNotificationSeverityEnum}}}),module$exports$eeapiclient$ee_api_client.OperationStageParameters=function e(){},module$exports$eeapiclient$ee_api_client.OperationStage=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("displayName",e.displayName==null?null:e.displayName),this.Serializable$set("completeWorkUnits",e.completeWorkUnits==null?null:e.completeWorkUnits),this.Serializable$set("totalWorkUnits",e.totalWorkUnits==null?null:e.totalWorkUnits),this.Serializable$set("description",e.description==null?null:e.description)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.OperationStage,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.OperationStage.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.OperationStage},module$exports$eeapiclient$ee_api_client.OperationStage.prototype.getPartialClassMetadata=function(){return{keys:["completeWorkUnits","description","displayName","totalWorkUnits"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationStage.prototype,{completeWorkUnits:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("completeWorkUnits")?this.Serializable$get("completeWorkUnits"):null},set:function(e){this.Serializable$set("completeWorkUnits",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},displayName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("displayName")?this.Serializable$get("displayName"):null},set:function(e){this.Serializable$set("displayName",e)}},totalWorkUnits:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("totalWorkUnits")?this.Serializable$get("totalWorkUnits"):null},set:function(e){this.Serializable$set("totalWorkUnits",e)}}}),module$exports$eeapiclient$ee_api_client.PixelDataTypeParameters=function e(){},module$exports$eeapiclient$ee_api_client.PixelDataType=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("precision",e.precision==null?null:e.precision),this.Serializable$set("range",e.range==null?null:e.range),this.Serializable$set("dimensionsCount",e.dimensionsCount==null?null:e.dimensionsCount)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelDataType,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.PixelDataType.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.PixelDataType},module$exports$eeapiclient$ee_api_client.PixelDataType.prototype.getPartialClassMetadata=function(){return{enums:{precision:module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum},keys:["dimensionsCount","precision","range"],objects:{range:module$exports$eeapiclient$ee_api_client.DoubleRange}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelDataType.prototype,{dimensionsCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dimensionsCount")?this.Serializable$get("dimensionsCount"):null},set:function(e){this.Serializable$set("dimensionsCount",e)}},precision:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("precision")?this.Serializable$get("precision"):null},set:function(e){this.Serializable$set("precision",e)}},range:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("range")?this.Serializable$get("range"):null},set:function(e){this.Serializable$set("range",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelDataType,{Precision:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum}}}),module$exports$eeapiclient$ee_api_client.PixelFootprintParameters=function e(){},module$exports$eeapiclient$ee_api_client.PixelFootprint=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("points",e.points==null?null:e.points),this.Serializable$set("bandId",e.bandId==null?null:e.bandId)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelFootprint,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.PixelFootprint.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.PixelFootprint},module$exports$eeapiclient$ee_api_client.PixelFootprint.prototype.getPartialClassMetadata=function(){return{arrays:{points:module$exports$eeapiclient$ee_api_client.GridPoint},keys:["bandId","points"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelFootprint.prototype,{bandId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandId")?this.Serializable$get("bandId"):null},set:function(e){this.Serializable$set("bandId",e)}},points:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("points")?this.Serializable$get("points"):null},set:function(e){this.Serializable$set("points",e)}}}),module$exports$eeapiclient$ee_api_client.PixelGridParameters=function e(){},module$exports$eeapiclient$ee_api_client.PixelGrid=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("crsCode",e.crsCode==null?null:e.crsCode),this.Serializable$set("crsWkt",e.crsWkt==null?null:e.crsWkt),this.Serializable$set("dimensions",e.dimensions==null?null:e.dimensions),this.Serializable$set("affineTransform",e.affineTransform==null?null:e.affineTransform)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelGrid,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.PixelGrid.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.PixelGrid},module$exports$eeapiclient$ee_api_client.PixelGrid.prototype.getPartialClassMetadata=function(){return{keys:["affineTransform","crsCode","crsWkt","dimensions"],objects:{affineTransform:module$exports$eeapiclient$ee_api_client.AffineTransform,dimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelGrid.prototype,{affineTransform:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("affineTransform")?this.Serializable$get("affineTransform"):null},set:function(e){this.Serializable$set("affineTransform",e)}},crsCode:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("crsCode")?this.Serializable$get("crsCode"):null},set:function(e){this.Serializable$set("crsCode",e)}},crsWkt:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("crsWkt")?this.Serializable$get("crsWkt"):null},set:function(e){this.Serializable$set("crsWkt",e)}},dimensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dimensions")?this.Serializable$get("dimensions"):null},set:function(e){this.Serializable$set("dimensions",e)}}}),module$exports$eeapiclient$ee_api_client.PolicyParameters=function e(){},module$exports$eeapiclient$ee_api_client.Policy=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("version",e.version==null?null:e.version),this.Serializable$set("bindings",e.bindings==null?null:e.bindings),this.Serializable$set("auditConfigs",e.auditConfigs==null?null:e.auditConfigs),this.Serializable$set("rules",e.rules==null?null:e.rules),this.Serializable$set("etag",e.etag==null?null:e.etag)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Policy,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Policy.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Policy},module$exports$eeapiclient$ee_api_client.Policy.prototype.getPartialClassMetadata=function(){return{arrays:{auditConfigs:module$exports$eeapiclient$ee_api_client.AuditConfig,bindings:module$exports$eeapiclient$ee_api_client.Binding,rules:module$exports$eeapiclient$ee_api_client.Rule},keys:["auditConfigs","bindings","etag","rules","version"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Policy.prototype,{auditConfigs:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("auditConfigs")?this.Serializable$get("auditConfigs"):null},set:function(e){this.Serializable$set("auditConfigs",e)}},bindings:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bindings")?this.Serializable$get("bindings"):null},set:function(e){this.Serializable$set("bindings",e)}},etag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("etag")?this.Serializable$get("etag"):null},set:function(e){this.Serializable$set("etag",e)}},rules:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rules")?this.Serializable$get("rules"):null},set:function(e){this.Serializable$set("rules",e)}},version:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("version")?this.Serializable$get("version"):null},set:function(e){this.Serializable$set("version",e)}}}),module$exports$eeapiclient$ee_api_client.PrerenderingOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.PrerenderingOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("prerenderTiles",e.prerenderTiles==null?null:e.prerenderTiles),this.Serializable$set("tileLimiting",e.tileLimiting==null?null:e.tileLimiting)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PrerenderingOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.PrerenderingOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.PrerenderingOptions},module$exports$eeapiclient$ee_api_client.PrerenderingOptions.prototype.getPartialClassMetadata=function(){return{keys:["prerenderTiles","tileLimiting"],objects:{tileLimiting:module$exports$eeapiclient$ee_api_client.TileLimiting}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PrerenderingOptions.prototype,{prerenderTiles:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("prerenderTiles")?this.Serializable$get("prerenderTiles"):null},set:function(e){this.Serializable$set("prerenderTiles",e)}},tileLimiting:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileLimiting")?this.Serializable$get("tileLimiting"):null},set:function(e){this.Serializable$set("tileLimiting",e)}}}),module$exports$eeapiclient$ee_api_client.ProjectConfigParameters=function e(){},module$exports$eeapiclient$ee_api_client.ProjectConfig=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("registration",e.registration==null?null:e.registration),this.Serializable$set("trialStatus",e.trialStatus==null?null:e.trialStatus)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ProjectConfig,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ProjectConfig.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ProjectConfig},module$exports$eeapiclient$ee_api_client.ProjectConfig.prototype.getPartialClassMetadata=function(){return{keys:["name","registration","trialStatus"],objects:{registration:module$exports$eeapiclient$ee_api_client.ProjectRegistration,trialStatus:module$exports$eeapiclient$ee_api_client.TrialStatus}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ProjectConfig.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},registration:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("registration")?this.Serializable$get("registration"):null},set:function(e){this.Serializable$set("registration",e)}},trialStatus:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("trialStatus")?this.Serializable$get("trialStatus"):null},set:function(e){this.Serializable$set("trialStatus",e)}}}),module$exports$eeapiclient$ee_api_client.ProjectRegistrationParameters=function e(){},module$exports$eeapiclient$ee_api_client.ProjectRegistration=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("billingConsent",e.billingConsent==null?null:e.billingConsent),this.Serializable$set("freeQuota",e.freeQuota==null?null:e.freeQuota)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ProjectRegistration,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ProjectRegistration.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ProjectRegistration},module$exports$eeapiclient$ee_api_client.ProjectRegistration.prototype.getPartialClassMetadata=function(){return{enums:{billingConsent:module$exports$eeapiclient$ee_api_client.ProjectRegistrationBillingConsentEnum,freeQuota:module$exports$eeapiclient$ee_api_client.ProjectRegistrationFreeQuotaEnum},keys:["billingConsent","freeQuota"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ProjectRegistration.prototype,{billingConsent:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("billingConsent")?this.Serializable$get("billingConsent"):null},set:function(e){this.Serializable$set("billingConsent",e)}},freeQuota:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("freeQuota")?this.Serializable$get("freeQuota"):null},set:function(e){this.Serializable$set("freeQuota",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ProjectRegistration,{BillingConsent:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ProjectRegistrationBillingConsentEnum}},FreeQuota:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ProjectRegistrationFreeQuotaEnum}}}),module$exports$eeapiclient$ee_api_client.RankByAttributeRuleParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankByAttributeRule=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("attributeName",e.attributeName==null?null:e.attributeName)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByAttributeRule,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankByAttributeRule},module$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype.getPartialClassMetadata=function(){return{keys:["attributeName"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype,{attributeName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("attributeName")?this.Serializable$get("attributeName"):null},set:function(e){this.Serializable$set("attributeName",e)}}}),module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRuleParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule=function(e){module$exports$eeapiclient$domain_object.Serializable.call(this)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule},module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule.prototype.getPartialClassMetadata=function(){return{keys:[]}},module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRuleParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule=function(e){module$exports$eeapiclient$domain_object.Serializable.call(this)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule},module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule.prototype.getPartialClassMetadata=function(){return{keys:[]}},module$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRuleParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule=function(e){module$exports$eeapiclient$domain_object.Serializable.call(this)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule},module$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule.prototype.getPartialClassMetadata=function(){return{keys:[]}},module$exports$eeapiclient$ee_api_client.RankByOneThingRuleParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankByOneThingRule=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("rankByAttributeRule",e.rankByAttributeRule==null?null:e.rankByAttributeRule),this.Serializable$set("rankByMinVisibleLodRule",e.rankByMinVisibleLodRule==null?null:e.rankByMinVisibleLodRule),this.Serializable$set("rankByGeometryTypeRule",e.rankByGeometryTypeRule==null?null:e.rankByGeometryTypeRule),this.Serializable$set("rankByMinZoomLevelRule",e.rankByMinZoomLevelRule==null?null:e.rankByMinZoomLevelRule),this.Serializable$set("direction",e.direction==null?null:e.direction)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByOneThingRule,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankByOneThingRule},module$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype.getPartialClassMetadata=function(){return{enums:{direction:module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum},keys:["direction","rankByAttributeRule","rankByGeometryTypeRule","rankByMinVisibleLodRule","rankByMinZoomLevelRule"],objects:{rankByAttributeRule:module$exports$eeapiclient$ee_api_client.RankByAttributeRule,rankByGeometryTypeRule:module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule,rankByMinVisibleLodRule:module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule,rankByMinZoomLevelRule:module$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype,{direction:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("direction")?this.Serializable$get("direction"):null},set:function(e){this.Serializable$set("direction",e)}},rankByAttributeRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rankByAttributeRule")?this.Serializable$get("rankByAttributeRule"):null},set:function(e){this.Serializable$set("rankByAttributeRule",e)}},rankByGeometryTypeRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rankByGeometryTypeRule")?this.Serializable$get("rankByGeometryTypeRule"):null},set:function(e){this.Serializable$set("rankByGeometryTypeRule",e)}},rankByMinVisibleLodRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rankByMinVisibleLodRule")?this.Serializable$get("rankByMinVisibleLodRule"):null},set:function(e){this.Serializable$set("rankByMinVisibleLodRule",e)}},rankByMinZoomLevelRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rankByMinZoomLevelRule")?this.Serializable$get("rankByMinZoomLevelRule"):null},set:function(e){this.Serializable$set("rankByMinZoomLevelRule",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByOneThingRule,{Direction:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum}}}),module$exports$eeapiclient$ee_api_client.RankingOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankingOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("zOrderRankingRule",e.zOrderRankingRule==null?null:e.zOrderRankingRule),this.Serializable$set("thinningRankingRule",e.thinningRankingRule==null?null:e.thinningRankingRule)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankingOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankingOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankingOptions},module$exports$eeapiclient$ee_api_client.RankingOptions.prototype.getPartialClassMetadata=function(){return{keys:["thinningRankingRule","zOrderRankingRule"],objects:{thinningRankingRule:module$exports$eeapiclient$ee_api_client.RankingRule,zOrderRankingRule:module$exports$eeapiclient$ee_api_client.RankingRule}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankingOptions.prototype,{thinningRankingRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("thinningRankingRule")?this.Serializable$get("thinningRankingRule"):null},set:function(e){this.Serializable$set("thinningRankingRule",e)}},zOrderRankingRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("zOrderRankingRule")?this.Serializable$get("zOrderRankingRule"):null},set:function(e){this.Serializable$set("zOrderRankingRule",e)}}}),module$exports$eeapiclient$ee_api_client.RankingRuleParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankingRule=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("rankByOneThingRule",e.rankByOneThingRule==null?null:e.rankByOneThingRule),this.Serializable$set("pseudoRandomTiebreaking",e.pseudoRandomTiebreaking==null?null:e.pseudoRandomTiebreaking)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankingRule,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankingRule.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankingRule},module$exports$eeapiclient$ee_api_client.RankingRule.prototype.getPartialClassMetadata=function(){return{arrays:{rankByOneThingRule:module$exports$eeapiclient$ee_api_client.RankByOneThingRule},keys:["pseudoRandomTiebreaking","rankByOneThingRule"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankingRule.prototype,{pseudoRandomTiebreaking:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pseudoRandomTiebreaking")?this.Serializable$get("pseudoRandomTiebreaking"):null},set:function(e){this.Serializable$set("pseudoRandomTiebreaking",e)}},rankByOneThingRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rankByOneThingRule")?this.Serializable$get("rankByOneThingRule"):null},set:function(e){this.Serializable$set("rankByOneThingRule",e)}}}),module$exports$eeapiclient$ee_api_client.RuleParameters=function e(){},module$exports$eeapiclient$ee_api_client.Rule=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("permissions",e.permissions==null?null:e.permissions),this.Serializable$set("action",e.action==null?null:e.action),this.Serializable$set("in",e.in==null?null:e.in),this.Serializable$set("notIn",e.notIn==null?null:e.notIn),this.Serializable$set("conditions",e.conditions==null?null:e.conditions),this.Serializable$set("logConfig",e.logConfig==null?null:e.logConfig)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Rule,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Rule.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Rule},module$exports$eeapiclient$ee_api_client.Rule.prototype.getPartialClassMetadata=function(){return{arrays:{conditions:module$exports$eeapiclient$ee_api_client.Condition,logConfig:module$exports$eeapiclient$ee_api_client.LogConfig},enums:{action:module$exports$eeapiclient$ee_api_client.RuleActionEnum},keys:"action conditions description in logConfig notIn permissions".split(" ")}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Rule.prototype,{action:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("action")?this.Serializable$get("action"):null},set:function(e){this.Serializable$set("action",e)}},conditions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("conditions")?this.Serializable$get("conditions"):null},set:function(e){this.Serializable$set("conditions",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},in:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("in")?this.Serializable$get("in"):null},set:function(e){this.Serializable$set("in",e)}},logConfig:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("logConfig")?this.Serializable$get("logConfig"):null},set:function(e){this.Serializable$set("logConfig",e)}},notIn:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("notIn")?this.Serializable$get("notIn"):null},set:function(e){this.Serializable$set("notIn",e)}},permissions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("permissions")?this.Serializable$get("permissions"):null},set:function(e){this.Serializable$set("permissions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Rule,{Action:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.RuleActionEnum}}}),module$exports$eeapiclient$ee_api_client.ScheduledUpdateParameters=function e(){},module$exports$eeapiclient$ee_api_client.ScheduledUpdate=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("subscriptionUpdateType",e.subscriptionUpdateType==null?null:e.subscriptionUpdateType),this.Serializable$set("updateChangeType",e.updateChangeType==null?null:e.updateChangeType),this.Serializable$set("updateTime",e.updateTime==null?null:e.updateTime)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ScheduledUpdate,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ScheduledUpdate.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ScheduledUpdate},module$exports$eeapiclient$ee_api_client.ScheduledUpdate.prototype.getPartialClassMetadata=function(){return{enums:{subscriptionUpdateType:module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum,updateChangeType:module$exports$eeapiclient$ee_api_client.ScheduledUpdateUpdateChangeTypeEnum},keys:["subscriptionUpdateType","updateChangeType","updateTime"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ScheduledUpdate.prototype,{subscriptionUpdateType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("subscriptionUpdateType")?this.Serializable$get("subscriptionUpdateType"):null},set:function(e){this.Serializable$set("subscriptionUpdateType",e)}},updateChangeType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("updateChangeType")?this.Serializable$get("updateChangeType"):null},set:function(e){this.Serializable$set("updateChangeType",e)}},updateTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("updateTime")?this.Serializable$get("updateTime"):null},set:function(e){this.Serializable$set("updateTime",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ScheduledUpdate,{SubscriptionUpdateType:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum}},UpdateChangeType:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ScheduledUpdateUpdateChangeTypeEnum}}}),module$exports$eeapiclient$ee_api_client.SetIamPolicyRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("policy",e.policy==null?null:e.policy),this.Serializable$set("updateMask",e.updateMask==null?null:e.updateMask)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest},module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype.getPartialClassMetadata=function(){return{keys:["policy","updateMask"],objects:{policy:module$exports$eeapiclient$ee_api_client.Policy}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype,{policy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("policy")?this.Serializable$get("policy"):null},set:function(e){this.Serializable$set("policy",e)}},updateMask:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("updateMask")?this.Serializable$get("updateMask"):null},set:function(e){this.Serializable$set("updateMask",e)}}}),module$exports$eeapiclient$ee_api_client.StatusParameters=function e(){},module$exports$eeapiclient$ee_api_client.Status=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("code",e.code==null?null:e.code),this.Serializable$set("message",e.message==null?null:e.message),this.Serializable$set("details",e.details==null?null:e.details)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Status,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Status.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Status},module$exports$eeapiclient$ee_api_client.Status.prototype.getPartialClassMetadata=function(){return{keys:["code","details","message"],objectMaps:{details:{ctor:null,isPropertyArray:!0,isSerializable:!1,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Status.prototype,{code:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("code")?this.Serializable$get("code"):null},set:function(e){this.Serializable$set("code",e)}},details:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("details")?this.Serializable$get("details"):null},set:function(e){this.Serializable$set("details",e)}},message:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("message")?this.Serializable$get("message"):null},set:function(e){this.Serializable$set("message",e)}}}),module$exports$eeapiclient$ee_api_client.SubscriptionParameters=function e(){},module$exports$eeapiclient$ee_api_client.Subscription=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("etag",e.etag==null?null:e.etag),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("state",e.state==null?null:e.state),this.Serializable$set("creationTime",e.creationTime==null?null:e.creationTime),this.Serializable$set("startTime",e.startTime==null?null:e.startTime),this.Serializable$set("periodEndTime",e.periodEndTime==null?null:e.periodEndTime),this.Serializable$set("endTime",e.endTime==null?null:e.endTime),this.Serializable$set("scheduledUpdate",e.scheduledUpdate==null?null:e.scheduledUpdate),this.Serializable$set("trialState",e.trialState==null?null:e.trialState),this.Serializable$set("errorDetail",e.errorDetail==null?null:e.errorDetail)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Subscription,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Subscription.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Subscription},module$exports$eeapiclient$ee_api_client.Subscription.prototype.getPartialClassMetadata=function(){return{enums:{state:module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum,trialState:module$exports$eeapiclient$ee_api_client.SubscriptionTrialStateEnum,type:module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum},keys:"creationTime endTime errorDetail etag name periodEndTime scheduledUpdate startTime state trialState type".split(" "),objects:{scheduledUpdate:module$exports$eeapiclient$ee_api_client.ScheduledUpdate}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Subscription.prototype,{creationTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("creationTime")?this.Serializable$get("creationTime"):null},set:function(e){this.Serializable$set("creationTime",e)}},endTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("endTime")?this.Serializable$get("endTime"):null},set:function(e){this.Serializable$set("endTime",e)}},errorDetail:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("errorDetail")?this.Serializable$get("errorDetail"):null},set:function(e){this.Serializable$set("errorDetail",e)}},etag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("etag")?this.Serializable$get("etag"):null},set:function(e){this.Serializable$set("etag",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},periodEndTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("periodEndTime")?this.Serializable$get("periodEndTime"):null},set:function(e){this.Serializable$set("periodEndTime",e)}},scheduledUpdate:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("scheduledUpdate")?this.Serializable$get("scheduledUpdate"):null},set:function(e){this.Serializable$set("scheduledUpdate",e)}},startTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startTime")?this.Serializable$get("startTime"):null},set:function(e){this.Serializable$set("startTime",e)}},state:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("state")?this.Serializable$get("state"):null},set:function(e){this.Serializable$set("state",e)}},trialState:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("trialState")?this.Serializable$get("trialState"):null},set:function(e){this.Serializable$set("trialState",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Subscription,{State:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum}},TrialState:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.SubscriptionTrialStateEnum}},Type:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum}}}),module$exports$eeapiclient$ee_api_client.TableParameters=function e(){},module$exports$eeapiclient$ee_api_client.Table=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("selectors",e.selectors==null?null:e.selectors),this.Serializable$set("filename",e.filename==null?null:e.filename)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Table,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Table.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Table},module$exports$eeapiclient$ee_api_client.Table.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.TableFileFormatEnum},keys:["expression","fileFormat","filename","name","selectors"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Table.prototype,{expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},filename:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("filename")?this.Serializable$get("filename"):null},set:function(e){this.Serializable$set("filename",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},selectors:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("selectors")?this.Serializable$get("selectors"):null},set:function(e){this.Serializable$set("selectors",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Table,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TableFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.TableAssetExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.TableAssetExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("earthEngineDestination",e.earthEngineDestination==null?null:e.earthEngineDestination)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableAssetExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TableAssetExportOptions},module$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype.getPartialClassMetadata=function(){return{keys:["earthEngineDestination"],objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype,{earthEngineDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("earthEngineDestination")?this.Serializable$get("earthEngineDestination"):null},set:function(e){this.Serializable$set("earthEngineDestination",e)}}}),module$exports$eeapiclient$ee_api_client.TableFileExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.TableFileExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("driveDestination",e.driveDestination==null?null:e.driveDestination),this.Serializable$set("cloudStorageDestination",e.cloudStorageDestination==null?null:e.cloudStorageDestination),this.Serializable$set("gcsDestination",e.gcsDestination==null?null:e.gcsDestination),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableFileExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TableFileExportOptions},module$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum},keys:["cloudStorageDestination","driveDestination","fileFormat","gcsDestination"],objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination,driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination,gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype,{cloudStorageDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("cloudStorageDestination")?this.Serializable$get("cloudStorageDestination"):null},set:function(e){this.Serializable$set("cloudStorageDestination",e)}},driveDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("driveDestination")?this.Serializable$get("driveDestination"):null},set:function(e){this.Serializable$set("driveDestination",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},gcsDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("gcsDestination")?this.Serializable$get("gcsDestination"):null},set:function(e){this.Serializable$set("gcsDestination",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableFileExportOptions,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.TableLocationParameters=function e(){},module$exports$eeapiclient$ee_api_client.TableLocation=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("paths",e.paths==null?null:e.paths),this.Serializable$set("sizeBytes",e.sizeBytes==null?null:e.sizeBytes),this.Serializable$set("shardCount",e.shardCount==null?null:e.shardCount),this.Serializable$set("primaryGeometryColumn",e.primaryGeometryColumn==null?null:e.primaryGeometryColumn)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableLocation,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TableLocation.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TableLocation},module$exports$eeapiclient$ee_api_client.TableLocation.prototype.getPartialClassMetadata=function(){return{keys:["paths","primaryGeometryColumn","shardCount","sizeBytes"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableLocation.prototype,{paths:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("paths")?this.Serializable$get("paths"):null},set:function(e){this.Serializable$set("paths",e)}},primaryGeometryColumn:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("primaryGeometryColumn")?this.Serializable$get("primaryGeometryColumn"):null},set:function(e){this.Serializable$set("primaryGeometryColumn",e)}},shardCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("shardCount")?this.Serializable$get("shardCount"):null},set:function(e){this.Serializable$set("shardCount",e)}},sizeBytes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sizeBytes")?this.Serializable$get("sizeBytes"):null},set:function(e){this.Serializable$set("sizeBytes",e)}}}),module$exports$eeapiclient$ee_api_client.TableManifestParameters=function e(){},module$exports$eeapiclient$ee_api_client.TableManifest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("properties",e.properties==null?null:e.properties),this.Serializable$set("uriPrefix",e.uriPrefix==null?null:e.uriPrefix),this.Serializable$set("sources",e.sources==null?null:e.sources),this.Serializable$set("startTime",e.startTime==null?null:e.startTime),this.Serializable$set("endTime",e.endTime==null?null:e.endTime),this.Serializable$set("csvColumnDataTypeOverrides",e.csvColumnDataTypeOverrides==null?null:e.csvColumnDataTypeOverrides),this.Serializable$set("policy",e.policy==null?null:e.policy),this.Serializable$set("columnDataTypeOverrides",e.columnDataTypeOverrides==null?null:e.columnDataTypeOverrides)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableManifest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TableManifest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TableManifest},module$exports$eeapiclient$ee_api_client.TableManifest.prototype.getPartialClassMetadata=function(){return{arrays:{sources:module$exports$eeapiclient$ee_api_client.TableSource},enums:{columnDataTypeOverrides:module$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum,csvColumnDataTypeOverrides:module$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum},keys:"columnDataTypeOverrides csvColumnDataTypeOverrides endTime name policy properties sources startTime uriPrefix".split(" "),objectMaps:{columnDataTypeOverrides:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1},csvColumnDataTypeOverrides:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1},properties:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}},objects:{policy:module$exports$eeapiclient$ee_api_client.Policy}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableManifest.prototype,{columnDataTypeOverrides:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("columnDataTypeOverrides")?this.Serializable$get("columnDataTypeOverrides"):null},set:function(e){this.Serializable$set("columnDataTypeOverrides",e)}},csvColumnDataTypeOverrides:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("csvColumnDataTypeOverrides")?this.Serializable$get("csvColumnDataTypeOverrides"):null},set:function(e){this.Serializable$set("csvColumnDataTypeOverrides",e)}},endTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("endTime")?this.Serializable$get("endTime"):null},set:function(e){this.Serializable$set("endTime",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},policy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("policy")?this.Serializable$get("policy"):null},set:function(e){this.Serializable$set("policy",e)}},properties:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("properties")?this.Serializable$get("properties"):null},set:function(e){this.Serializable$set("properties",e)}},sources:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sources")?this.Serializable$get("sources"):null},set:function(e){this.Serializable$set("sources",e)}},startTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startTime")?this.Serializable$get("startTime"):null},set:function(e){this.Serializable$set("startTime",e)}},uriPrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("uriPrefix")?this.Serializable$get("uriPrefix"):null},set:function(e){this.Serializable$set("uriPrefix",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableManifest,{ColumnDataTypeOverrides:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum}},CsvColumnDataTypeOverrides:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum}}}),module$exports$eeapiclient$ee_api_client.TableSourceParameters=function e(){},module$exports$eeapiclient$ee_api_client.TableSource=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("uris",e.uris==null?null:e.uris),this.Serializable$set("charset",e.charset==null?null:e.charset),this.Serializable$set("maxErrorMeters",e.maxErrorMeters==null?null:e.maxErrorMeters),this.Serializable$set("maxVertices",e.maxVertices==null?null:e.maxVertices),this.Serializable$set("crs",e.crs==null?null:e.crs),this.Serializable$set("geodesic",e.geodesic==null?null:e.geodesic),this.Serializable$set("primaryGeometryColumn",e.primaryGeometryColumn==null?null:e.primaryGeometryColumn),this.Serializable$set("xColumn",e.xColumn==null?null:e.xColumn),this.Serializable$set("yColumn",e.yColumn==null?null:e.yColumn),this.Serializable$set("dateFormat",e.dateFormat==null?null:e.dateFormat),this.Serializable$set("csvDelimiter",e.csvDelimiter==null?null:e.csvDelimiter),this.Serializable$set("csvQualifier",e.csvQualifier==null?null:e.csvQualifier)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableSource,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TableSource.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TableSource},module$exports$eeapiclient$ee_api_client.TableSource.prototype.getPartialClassMetadata=function(){return{keys:"charset crs csvDelimiter csvQualifier dateFormat geodesic maxErrorMeters maxVertices primaryGeometryColumn uris xColumn yColumn".split(" ")}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableSource.prototype,{charset:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("charset")?this.Serializable$get("charset"):null},set:function(e){this.Serializable$set("charset",e)}},crs:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("crs")?this.Serializable$get("crs"):null},set:function(e){this.Serializable$set("crs",e)}},csvDelimiter:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("csvDelimiter")?this.Serializable$get("csvDelimiter"):null},set:function(e){this.Serializable$set("csvDelimiter",e)}},csvQualifier:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("csvQualifier")?this.Serializable$get("csvQualifier"):null},set:function(e){this.Serializable$set("csvQualifier",e)}},dateFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dateFormat")?this.Serializable$get("dateFormat"):null},set:function(e){this.Serializable$set("dateFormat",e)}},geodesic:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("geodesic")?this.Serializable$get("geodesic"):null},set:function(e){this.Serializable$set("geodesic",e)}},maxErrorMeters:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxErrorMeters")?this.Serializable$get("maxErrorMeters"):null},set:function(e){this.Serializable$set("maxErrorMeters",e)}},maxVertices:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxVertices")?this.Serializable$get("maxVertices"):null},set:function(e){this.Serializable$set("maxVertices",e)}},primaryGeometryColumn:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("primaryGeometryColumn")?this.Serializable$get("primaryGeometryColumn"):null},set:function(e){this.Serializable$set("primaryGeometryColumn",e)}},uris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("uris")?this.Serializable$get("uris"):null},set:function(e){this.Serializable$set("uris",e)}},xColumn:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("xColumn")?this.Serializable$get("xColumn"):null},set:function(e){this.Serializable$set("xColumn",e)}},yColumn:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("yColumn")?this.Serializable$get("yColumn"):null},set:function(e){this.Serializable$set("yColumn",e)}}}),module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("terminationType",e.terminationType==null?null:e.terminationType),this.Serializable$set("etag",e.etag==null?null:e.etag)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest},module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest.prototype.getPartialClassMetadata=function(){return{enums:{terminationType:module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestTerminationTypeEnum},keys:["etag","terminationType"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest.prototype,{etag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("etag")?this.Serializable$get("etag"):null},set:function(e){this.Serializable$set("etag",e)}},terminationType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("terminationType")?this.Serializable$get("terminationType"):null},set:function(e){this.Serializable$set("terminationType",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest,{TerminationType:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestTerminationTypeEnum}}}),module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("permissions",e.permissions==null?null:e.permissions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest},module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype.getPartialClassMetadata=function(){return{keys:["permissions"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype,{permissions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("permissions")?this.Serializable$get("permissions"):null},set:function(e){this.Serializable$set("permissions",e)}}}),module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("permissions",e.permissions==null?null:e.permissions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse},module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype.getPartialClassMetadata=function(){return{keys:["permissions"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype,{permissions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("permissions")?this.Serializable$get("permissions"):null},set:function(e){this.Serializable$set("permissions",e)}}}),module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("tileDimensions",e.tileDimensions==null?null:e.tileDimensions),this.Serializable$set("marginDimensions",e.marginDimensions==null?null:e.marginDimensions),this.Serializable$set("compress",e.compress==null?null:e.compress),this.Serializable$set("maxSizeBytes",e.maxSizeBytes==null?null:e.maxSizeBytes),this.Serializable$set("defaultValue",e.defaultValue==null?null:e.defaultValue),this.Serializable$set("tensorDepths",e.tensorDepths==null?null:e.tensorDepths),this.Serializable$set("sequenceData",e.sequenceData==null?null:e.sequenceData),this.Serializable$set("collapseBands",e.collapseBands==null?null:e.collapseBands),this.Serializable$set("maxMaskedRatio",e.maxMaskedRatio==null?null:e.maxMaskedRatio)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions},module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype.getPartialClassMetadata=function(){return{keys:"collapseBands compress defaultValue marginDimensions maxMaskedRatio maxSizeBytes sequenceData tensorDepths tileDimensions".split(" "),objectMaps:{tensorDepths:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}},objects:{marginDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions,tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype,{collapseBands:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("collapseBands")?this.Serializable$get("collapseBands"):null},set:function(e){this.Serializable$set("collapseBands",e)}},compress:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("compress")?this.Serializable$get("compress"):null},set:function(e){this.Serializable$set("compress",e)}},defaultValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("defaultValue")?this.Serializable$get("defaultValue"):null},set:function(e){this.Serializable$set("defaultValue",e)}},marginDimensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("marginDimensions")?this.Serializable$get("marginDimensions"):null},set:function(e){this.Serializable$set("marginDimensions",e)}},maxMaskedRatio:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxMaskedRatio")?this.Serializable$get("maxMaskedRatio"):null},set:function(e){this.Serializable$set("maxMaskedRatio",e)}},maxSizeBytes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxSizeBytes")?this.Serializable$get("maxSizeBytes"):null},set:function(e){this.Serializable$set("maxSizeBytes",e)}},sequenceData:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sequenceData")?this.Serializable$get("sequenceData"):null},set:function(e){this.Serializable$set("sequenceData",e)}},tensorDepths:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tensorDepths")?this.Serializable$get("tensorDepths"):null},set:function(e){this.Serializable$set("tensorDepths",e)}},tileDimensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileDimensions")?this.Serializable$get("tileDimensions"):null},set:function(e){this.Serializable$set("tileDimensions",e)}}}),module$exports$eeapiclient$ee_api_client.ThinningOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.ThinningOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("maxFeaturesPerTile",e.maxFeaturesPerTile==null?null:e.maxFeaturesPerTile),this.Serializable$set("thinningStrategy",e.thinningStrategy==null?null:e.thinningStrategy)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ThinningOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ThinningOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ThinningOptions},module$exports$eeapiclient$ee_api_client.ThinningOptions.prototype.getPartialClassMetadata=function(){return{enums:{thinningStrategy:module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum},keys:["maxFeaturesPerTile","thinningStrategy"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ThinningOptions.prototype,{maxFeaturesPerTile:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxFeaturesPerTile")?this.Serializable$get("maxFeaturesPerTile"):null},set:function(e){this.Serializable$set("maxFeaturesPerTile",e)}},thinningStrategy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("thinningStrategy")?this.Serializable$get("thinningStrategy"):null},set:function(e){this.Serializable$set("thinningStrategy",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ThinningOptions,{ThinningStrategy:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum}}}),module$exports$eeapiclient$ee_api_client.ThumbnailParameters=function e(){},module$exports$eeapiclient$ee_api_client.Thumbnail=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("bandIds",e.bandIds==null?null:e.bandIds),this.Serializable$set("visualizationOptions",e.visualizationOptions==null?null:e.visualizationOptions),this.Serializable$set("grid",e.grid==null?null:e.grid),this.Serializable$set("filenamePrefix",e.filenamePrefix==null?null:e.filenamePrefix)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Thumbnail,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Thumbnail.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Thumbnail},module$exports$eeapiclient$ee_api_client.Thumbnail.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum},keys:"bandIds expression fileFormat filenamePrefix grid name visualizationOptions".split(" "),objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,grid:module$exports$eeapiclient$ee_api_client.PixelGrid,visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Thumbnail.prototype,{bandIds:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandIds")?this.Serializable$get("bandIds"):null},set:function(e){this.Serializable$set("bandIds",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},filenamePrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("filenamePrefix")?this.Serializable$get("filenamePrefix"):null},set:function(e){this.Serializable$set("filenamePrefix",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},visualizationOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("visualizationOptions")?this.Serializable$get("visualizationOptions"):null},set:function(e){this.Serializable$set("visualizationOptions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Thumbnail,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.TileLimitingParameters=function e(){},module$exports$eeapiclient$ee_api_client.TileLimiting=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("maxPrerenderZoom",e.maxPrerenderZoom==null?null:e.maxPrerenderZoom),this.Serializable$set("minVerticesPerTile",e.minVerticesPerTile==null?null:e.minVerticesPerTile),this.Serializable$set("neighborDepth",e.neighborDepth==null?null:e.neighborDepth),this.Serializable$set("minFeaturesPerTile",e.minFeaturesPerTile==null?null:e.minFeaturesPerTile)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TileLimiting,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TileLimiting.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TileLimiting},module$exports$eeapiclient$ee_api_client.TileLimiting.prototype.getPartialClassMetadata=function(){return{keys:["maxPrerenderZoom","minFeaturesPerTile","minVerticesPerTile","neighborDepth"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TileLimiting.prototype,{maxPrerenderZoom:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxPrerenderZoom")?this.Serializable$get("maxPrerenderZoom"):null},set:function(e){this.Serializable$set("maxPrerenderZoom",e)}},minFeaturesPerTile:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("minFeaturesPerTile")?this.Serializable$get("minFeaturesPerTile"):null},set:function(e){this.Serializable$set("minFeaturesPerTile",e)}},minVerticesPerTile:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("minVerticesPerTile")?this.Serializable$get("minVerticesPerTile"):null},set:function(e){this.Serializable$set("minVerticesPerTile",e)}},neighborDepth:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("neighborDepth")?this.Serializable$get("neighborDepth"):null},set:function(e){this.Serializable$set("neighborDepth",e)}}}),module$exports$eeapiclient$ee_api_client.TileOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.TileOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("endZoom",e.endZoom==null?null:e.endZoom),this.Serializable$set("maxZoom",e.maxZoom==null?null:e.maxZoom),this.Serializable$set("scale",e.scale==null?null:e.scale),this.Serializable$set("startZoom",e.startZoom==null?null:e.startZoom),this.Serializable$set("minZoom",e.minZoom==null?null:e.minZoom),this.Serializable$set("skipEmpty",e.skipEmpty==null?null:e.skipEmpty),this.Serializable$set("skipEmptyTiles",e.skipEmptyTiles==null?null:e.skipEmptyTiles),this.Serializable$set("mapsApiKey",e.mapsApiKey==null?null:e.mapsApiKey),this.Serializable$set("dimensions",e.dimensions==null?null:e.dimensions),this.Serializable$set("tileDimensions",e.tileDimensions==null?null:e.tileDimensions),this.Serializable$set("stride",e.stride==null?null:e.stride),this.Serializable$set("zoomSubset",e.zoomSubset==null?null:e.zoomSubset)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TileOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TileOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TileOptions},module$exports$eeapiclient$ee_api_client.TileOptions.prototype.getPartialClassMetadata=function(){return{keys:"dimensions endZoom mapsApiKey maxZoom minZoom scale skipEmpty skipEmptyTiles startZoom stride tileDimensions zoomSubset".split(" "),objects:{dimensions:module$exports$eeapiclient$ee_api_client.GridDimensions,tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions,zoomSubset:module$exports$eeapiclient$ee_api_client.ZoomSubset}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TileOptions.prototype,{dimensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dimensions")?this.Serializable$get("dimensions"):null},set:function(e){this.Serializable$set("dimensions",e)}},endZoom:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("endZoom")?this.Serializable$get("endZoom"):null},set:function(e){this.Serializable$set("endZoom",e)}},mapsApiKey:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("mapsApiKey")?this.Serializable$get("mapsApiKey"):null},set:function(e){this.Serializable$set("mapsApiKey",e)}},maxZoom:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxZoom")?this.Serializable$get("maxZoom"):null},set:function(e){this.Serializable$set("maxZoom",e)}},minZoom:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("minZoom")?this.Serializable$get("minZoom"):null},set:function(e){this.Serializable$set("minZoom",e)}},scale:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("scale")?this.Serializable$get("scale"):null},set:function(e){this.Serializable$set("scale",e)}},skipEmpty:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("skipEmpty")?this.Serializable$get("skipEmpty"):null},set:function(e){this.Serializable$set("skipEmpty",e)}},skipEmptyTiles:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("skipEmptyTiles")?this.Serializable$get("skipEmptyTiles"):null},set:function(e){this.Serializable$set("skipEmptyTiles",e)}},startZoom:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startZoom")?this.Serializable$get("startZoom"):null},set:function(e){this.Serializable$set("startZoom",e)}},stride:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("stride")?this.Serializable$get("stride"):null},set:function(e){this.Serializable$set("stride",e)}},tileDimensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileDimensions")?this.Serializable$get("tileDimensions"):null},set:function(e){this.Serializable$set("tileDimensions",e)}},zoomSubset:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("zoomSubset")?this.Serializable$get("zoomSubset"):null},set:function(e){this.Serializable$set("zoomSubset",e)}}}),module$exports$eeapiclient$ee_api_client.TilesetParameters=function e(){},module$exports$eeapiclient$ee_api_client.Tileset=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("id",e.id==null?null:e.id),this.Serializable$set("sources",e.sources==null?null:e.sources),this.Serializable$set("dataType",e.dataType==null?null:e.dataType),this.Serializable$set("crs",e.crs==null?null:e.crs),this.Serializable$set("subdatasetPrefix",e.subdatasetPrefix==null?null:e.subdatasetPrefix),this.Serializable$set("subdatasetSuffix",e.subdatasetSuffix==null?null:e.subdatasetSuffix)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Tileset,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Tileset.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Tileset},module$exports$eeapiclient$ee_api_client.Tileset.prototype.getPartialClassMetadata=function(){return{arrays:{sources:module$exports$eeapiclient$ee_api_client.ImageSource},enums:{dataType:module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum},keys:"crs dataType id sources subdatasetPrefix subdatasetSuffix".split(" ")}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Tileset.prototype,{crs:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("crs")?this.Serializable$get("crs"):null},set:function(e){this.Serializable$set("crs",e)}},dataType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dataType")?this.Serializable$get("dataType"):null},set:function(e){this.Serializable$set("dataType",e)}},id:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("id")?this.Serializable$get("id"):null},set:function(e){this.Serializable$set("id",e)}},sources:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sources")?this.Serializable$get("sources"):null},set:function(e){this.Serializable$set("sources",e)}},subdatasetPrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("subdatasetPrefix")?this.Serializable$get("subdatasetPrefix"):null},set:function(e){this.Serializable$set("subdatasetPrefix",e)}},subdatasetSuffix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("subdatasetSuffix")?this.Serializable$get("subdatasetSuffix"):null},set:function(e){this.Serializable$set("subdatasetSuffix",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Tileset,{DataType:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum}}}),module$exports$eeapiclient$ee_api_client.TilesetBandParameters=function e(){},module$exports$eeapiclient$ee_api_client.TilesetBand=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("id",e.id==null?null:e.id),this.Serializable$set("tilesetId",e.tilesetId==null?null:e.tilesetId),this.Serializable$set("tilesetBandIndex",e.tilesetBandIndex==null?null:e.tilesetBandIndex),this.Serializable$set("missingData",e.missingData==null?null:e.missingData),this.Serializable$set("pyramidingPolicy",e.pyramidingPolicy==null?null:e.pyramidingPolicy)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilesetBand,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TilesetBand.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TilesetBand},module$exports$eeapiclient$ee_api_client.TilesetBand.prototype.getPartialClassMetadata=function(){return{enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum},keys:["id","missingData","pyramidingPolicy","tilesetBandIndex","tilesetId"],objects:{missingData:module$exports$eeapiclient$ee_api_client.MissingData}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetBand.prototype,{id:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("id")?this.Serializable$get("id"):null},set:function(e){this.Serializable$set("id",e)}},missingData:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("missingData")?this.Serializable$get("missingData"):null},set:function(e){this.Serializable$set("missingData",e)}},pyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pyramidingPolicy")?this.Serializable$get("pyramidingPolicy"):null},set:function(e){this.Serializable$set("pyramidingPolicy",e)}},tilesetBandIndex:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilesetBandIndex")?this.Serializable$get("tilesetBandIndex"):null},set:function(e){this.Serializable$set("tilesetBandIndex",e)}},tilesetId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilesetId")?this.Serializable$get("tilesetId"):null},set:function(e){this.Serializable$set("tilesetId",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetBand,{PyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum}}}),module$exports$eeapiclient$ee_api_client.TilesetMaskBandParameters=function e(){},module$exports$eeapiclient$ee_api_client.TilesetMaskBand=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("tilesetId",e.tilesetId==null?null:e.tilesetId),this.Serializable$set("bandIds",e.bandIds==null?null:e.bandIds)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilesetMaskBand,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TilesetMaskBand},module$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype.getPartialClassMetadata=function(){return{keys:["bandIds","tilesetId"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype,{bandIds:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandIds")?this.Serializable$get("bandIds"):null},set:function(e){this.Serializable$set("bandIds",e)}},tilesetId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilesetId")?this.Serializable$get("tilesetId"):null},set:function(e){this.Serializable$set("tilesetId",e)}}}),module$exports$eeapiclient$ee_api_client.TilestoreEntryParameters=function e(){},module$exports$eeapiclient$ee_api_client.TilestoreEntry=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("sources",e.sources==null?null:e.sources),this.Serializable$set("pathPrefix",e.pathPrefix==null?null:e.pathPrefix)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreEntry,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TilestoreEntry},module$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype.getPartialClassMetadata=function(){return{arrays:{sources:module$exports$eeapiclient$ee_api_client.TilestoreSource},keys:["pathPrefix","sources"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype,{pathPrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pathPrefix")?this.Serializable$get("pathPrefix"):null},set:function(e){this.Serializable$set("pathPrefix",e)}},sources:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sources")?this.Serializable$get("sources"):null},set:function(e){this.Serializable$set("sources",e)}}}),module$exports$eeapiclient$ee_api_client.TilestoreLocationParameters=function e(){},module$exports$eeapiclient$ee_api_client.TilestoreLocation=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("sources",e.sources==null?null:e.sources),this.Serializable$set("pathPrefix",e.pathPrefix==null?null:e.pathPrefix)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreLocation,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TilestoreLocation},module$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype.getPartialClassMetadata=function(){return{arrays:{sources:module$exports$eeapiclient$ee_api_client.TilestoreSource},keys:["pathPrefix","sources"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype,{pathPrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pathPrefix")?this.Serializable$get("pathPrefix"):null},set:function(e){this.Serializable$set("pathPrefix",e)}},sources:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sources")?this.Serializable$get("sources"):null},set:function(e){this.Serializable$set("sources",e)}}}),module$exports$eeapiclient$ee_api_client.TilestoreSourceParameters=function e(){},module$exports$eeapiclient$ee_api_client.TilestoreSource=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("pathSuffix",e.pathSuffix==null?null:e.pathSuffix),this.Serializable$set("headerSizeBytes",e.headerSizeBytes==null?null:e.headerSizeBytes)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreSource,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TilestoreSource.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TilestoreSource},module$exports$eeapiclient$ee_api_client.TilestoreSource.prototype.getPartialClassMetadata=function(){return{keys:["headerSizeBytes","pathSuffix"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreSource.prototype,{headerSizeBytes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("headerSizeBytes")?this.Serializable$get("headerSizeBytes"):null},set:function(e){this.Serializable$set("headerSizeBytes",e)}},pathSuffix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pathSuffix")?this.Serializable$get("pathSuffix"):null},set:function(e){this.Serializable$set("pathSuffix",e)}}}),module$exports$eeapiclient$ee_api_client.TilestoreTilesetParameters=function e(){},module$exports$eeapiclient$ee_api_client.TilestoreTileset=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("fileIndexes",e.fileIndexes==null?null:e.fileIndexes),this.Serializable$set("firstTileIndex",e.firstTileIndex==null?null:e.firstTileIndex),this.Serializable$set("tilesPerFile",e.tilesPerFile==null?null:e.tilesPerFile)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreTileset,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TilestoreTileset},module$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype.getPartialClassMetadata=function(){return{keys:["fileIndexes","firstTileIndex","tilesPerFile"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype,{fileIndexes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileIndexes")?this.Serializable$get("fileIndexes"):null},set:function(e){this.Serializable$set("fileIndexes",e)}},firstTileIndex:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("firstTileIndex")?this.Serializable$get("firstTileIndex"):null},set:function(e){this.Serializable$set("firstTileIndex",e)}},tilesPerFile:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilesPerFile")?this.Serializable$get("tilesPerFile"):null},set:function(e){this.Serializable$set("tilesPerFile",e)}}}),module$exports$eeapiclient$ee_api_client.TrialStatusParameters=function e(){},module$exports$eeapiclient$ee_api_client.TrialStatus=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("billingAccount",e.billingAccount==null?null:e.billingAccount),this.Serializable$set("eligibility",e.eligibility==null?null:e.eligibility),this.Serializable$set("state",e.state==null?null:e.state),this.Serializable$set("startTime",e.startTime==null?null:e.startTime),this.Serializable$set("expiryTime",e.expiryTime==null?null:e.expiryTime),this.Serializable$set("subscription",e.subscription==null?null:e.subscription)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TrialStatus,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TrialStatus.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TrialStatus},module$exports$eeapiclient$ee_api_client.TrialStatus.prototype.getPartialClassMetadata=function(){return{enums:{eligibility:module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum,state:module$exports$eeapiclient$ee_api_client.TrialStatusStateEnum},keys:"billingAccount eligibility expiryTime startTime state subscription".split(" ")}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TrialStatus.prototype,{billingAccount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("billingAccount")?this.Serializable$get("billingAccount"):null},set:function(e){this.Serializable$set("billingAccount",e)}},eligibility:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("eligibility")?this.Serializable$get("eligibility"):null},set:function(e){this.Serializable$set("eligibility",e)}},expiryTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expiryTime")?this.Serializable$get("expiryTime"):null},set:function(e){this.Serializable$set("expiryTime",e)}},startTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startTime")?this.Serializable$get("startTime"):null},set:function(e){this.Serializable$set("startTime",e)}},state:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("state")?this.Serializable$get("state"):null},set:function(e){this.Serializable$set("state",e)}},subscription:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("subscription")?this.Serializable$get("subscription"):null},set:function(e){this.Serializable$set("subscription",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TrialStatus,{Eligibility:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum}},State:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TrialStatusStateEnum}}}),module$exports$eeapiclient$ee_api_client.UpdateAssetRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.UpdateAssetRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("asset",e.asset==null?null:e.asset),this.Serializable$set("updateMask",e.updateMask==null?null:e.updateMask)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.UpdateAssetRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.UpdateAssetRequest},module$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype.getPartialClassMetadata=function(){return{keys:["asset","updateMask"],objects:{asset:module$exports$eeapiclient$ee_api_client.EarthEngineAsset}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype,{asset:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("asset")?this.Serializable$get("asset"):null},set:function(e){this.Serializable$set("asset",e)}},updateMask:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("updateMask")?this.Serializable$get("updateMask"):null},set:function(e){this.Serializable$set("updateMask",e)}}}),module$exports$eeapiclient$ee_api_client.ValueNodeParameters=function e(){},module$exports$eeapiclient$ee_api_client.ValueNode=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("constantValue",e.constantValue==null?null:e.constantValue),this.Serializable$set("integerValue",e.integerValue==null?null:e.integerValue),this.Serializable$set("bytesValue",e.bytesValue==null?null:e.bytesValue),this.Serializable$set("arrayValue",e.arrayValue==null?null:e.arrayValue),this.Serializable$set("dictionaryValue",e.dictionaryValue==null?null:e.dictionaryValue),this.Serializable$set("functionDefinitionValue",e.functionDefinitionValue==null?null:e.functionDefinitionValue),this.Serializable$set("functionInvocationValue",e.functionInvocationValue==null?null:e.functionInvocationValue),this.Serializable$set("argumentReference",e.argumentReference==null?null:e.argumentReference),this.Serializable$set("valueReference",e.valueReference==null?null:e.valueReference)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ValueNode,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ValueNode.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ValueNode},module$exports$eeapiclient$ee_api_client.ValueNode.prototype.getPartialClassMetadata=function(){return{keys:"argumentReference arrayValue bytesValue constantValue dictionaryValue functionDefinitionValue functionInvocationValue integerValue valueReference".split(" "),objects:{arrayValue:module$exports$eeapiclient$ee_api_client.ArrayValue,dictionaryValue:module$exports$eeapiclient$ee_api_client.DictionaryValue,functionDefinitionValue:module$exports$eeapiclient$ee_api_client.FunctionDefinition,functionInvocationValue:module$exports$eeapiclient$ee_api_client.FunctionInvocation}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ValueNode.prototype,{argumentReference:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("argumentReference")?this.Serializable$get("argumentReference"):null},set:function(e){this.Serializable$set("argumentReference",e)}},arrayValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("arrayValue")?this.Serializable$get("arrayValue"):null},set:function(e){this.Serializable$set("arrayValue",e)}},bytesValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bytesValue")?this.Serializable$get("bytesValue"):null},set:function(e){this.Serializable$set("bytesValue",e)}},constantValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("constantValue")?this.Serializable$get("constantValue"):null},set:function(e){this.Serializable$set("constantValue",e)}},dictionaryValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dictionaryValue")?this.Serializable$get("dictionaryValue"):null},set:function(e){this.Serializable$set("dictionaryValue",e)}},functionDefinitionValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("functionDefinitionValue")?this.Serializable$get("functionDefinitionValue"):null},set:function(e){this.Serializable$set("functionDefinitionValue",e)}},functionInvocationValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("functionInvocationValue")?this.Serializable$get("functionInvocationValue"):null},set:function(e){this.Serializable$set("functionInvocationValue",e)}},integerValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("integerValue")?this.Serializable$get("integerValue"):null},set:function(e){this.Serializable$set("integerValue",e)}},valueReference:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("valueReference")?this.Serializable$get("valueReference"):null},set:function(e){this.Serializable$set("valueReference",e)}}}),module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.VideoFileExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("driveDestination",e.driveDestination==null?null:e.driveDestination),this.Serializable$set("cloudStorageDestination",e.cloudStorageDestination==null?null:e.cloudStorageDestination),this.Serializable$set("gcsDestination",e.gcsDestination==null?null:e.gcsDestination),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.VideoFileExportOptions},module$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum},keys:["cloudStorageDestination","driveDestination","fileFormat","gcsDestination"],objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination,driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination,gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype,{cloudStorageDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("cloudStorageDestination")?this.Serializable$get("cloudStorageDestination"):null},set:function(e){this.Serializable$set("cloudStorageDestination",e)}},driveDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("driveDestination")?this.Serializable$get("driveDestination"):null},set:function(e){this.Serializable$set("driveDestination",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},gcsDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("gcsDestination")?this.Serializable$get("gcsDestination"):null},set:function(e){this.Serializable$set("gcsDestination",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.VideoOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.VideoOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("framesPerSecond",e.framesPerSecond==null?null:e.framesPerSecond),this.Serializable$set("maxFrames",e.maxFrames==null?null:e.maxFrames),this.Serializable$set("maxPixelsPerFrame",e.maxPixelsPerFrame==null?null:e.maxPixelsPerFrame)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.VideoOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.VideoOptions},module$exports$eeapiclient$ee_api_client.VideoOptions.prototype.getPartialClassMetadata=function(){return{keys:["framesPerSecond","maxFrames","maxPixelsPerFrame"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoOptions.prototype,{framesPerSecond:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("framesPerSecond")?this.Serializable$get("framesPerSecond"):null},set:function(e){this.Serializable$set("framesPerSecond",e)}},maxFrames:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxFrames")?this.Serializable$get("maxFrames"):null},set:function(e){this.Serializable$set("maxFrames",e)}},maxPixelsPerFrame:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxPixelsPerFrame")?this.Serializable$get("maxPixelsPerFrame"):null},set:function(e){this.Serializable$set("maxPixelsPerFrame",e)}}}),module$exports$eeapiclient$ee_api_client.VideoThumbnailParameters=function e(){},module$exports$eeapiclient$ee_api_client.VideoThumbnail=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("videoOptions",e.videoOptions==null?null:e.videoOptions),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("grid",e.grid==null?null:e.grid)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoThumbnail,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.VideoThumbnail},module$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum},keys:["expression","fileFormat","grid","name","videoOptions"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,grid:module$exports$eeapiclient$ee_api_client.PixelGrid,videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype,{expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},videoOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("videoOptions")?this.Serializable$get("videoOptions"):null},set:function(e){this.Serializable$set("videoOptions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoThumbnail,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.VisualizationOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.VisualizationOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("ranges",e.ranges==null?null:e.ranges),this.Serializable$set("paletteColors",e.paletteColors==null?null:e.paletteColors),this.Serializable$set("gamma",e.gamma==null?null:e.gamma),this.Serializable$set("opacity",e.opacity==null?null:e.opacity)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VisualizationOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.VisualizationOptions},module$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype.getPartialClassMetadata=function(){return{arrays:{ranges:module$exports$eeapiclient$ee_api_client.DoubleRange},keys:["gamma","opacity","paletteColors","ranges"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype,{gamma:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("gamma")?this.Serializable$get("gamma"):null},set:function(e){this.Serializable$set("gamma",e)}},opacity:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("opacity")?this.Serializable$get("opacity"):null},set:function(e){this.Serializable$set("opacity",e)}},paletteColors:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("paletteColors")?this.Serializable$get("paletteColors"):null},set:function(e){this.Serializable$set("paletteColors",e)}},ranges:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("ranges")?this.Serializable$get("ranges"):null},set:function(e){this.Serializable$set("ranges",e)}}}),module$exports$eeapiclient$ee_api_client.WaitOperationRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.WaitOperationRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("timeout",e.timeout==null?null:e.timeout)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.WaitOperationRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.WaitOperationRequest},module$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype.getPartialClassMetadata=function(){return{keys:["timeout"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("timeout")?this.Serializable$get("timeout"):null},set:function(e){this.Serializable$set("timeout",e)}}}),module$exports$eeapiclient$ee_api_client.ZoomSubsetParameters=function e(){},module$exports$eeapiclient$ee_api_client.ZoomSubset=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("start",e.start==null?null:e.start),this.Serializable$set("end",e.end==null?null:e.end),this.Serializable$set("min",e.min==null?null:e.min),this.Serializable$set("max",e.max==null?null:e.max)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ZoomSubset,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ZoomSubset.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ZoomSubset},module$exports$eeapiclient$ee_api_client.ZoomSubset.prototype.getPartialClassMetadata=function(){return{keys:["end","max","min","start"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ZoomSubset.prototype,{end:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("end")?this.Serializable$get("end"):null},set:function(e){this.Serializable$set("end",e)}},max:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("max")?this.Serializable$get("max"):null},set:function(e){this.Serializable$set("max",e)}},min:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("min")?this.Serializable$get("min"):null},set:function(e){this.Serializable$set("min",e)}},start:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("start")?this.Serializable$get("start"):null},set:function(e){this.Serializable$set("start",e)}}});var module$contents$eeapiclient$ee_api_client_PARAM_MAP_0={$Xgafv:"$.xgafv",access_token:"access_token",alt:"alt",assetId:"assetId",billingAccount:"billingAccount",callback:"callback",endTime:"endTime",fields:"fields",filter:"filter",key:"key",oauth_token:"oauth_token",overwrite:"overwrite",pageSize:"pageSize",pageToken:"pageToken",parent:"parent",prettyPrint:"prettyPrint",quotaUser:"quotaUser",region:"region",startTime:"startTime",updateMask:"updateMask",uploadType:"uploadType",upload_protocol:"upload_protocol",view:"view",workloadTag:"workloadTag"};module$exports$eeapiclient$ee_api_client.IBillingAccountsSubscriptionsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IBillingAccountsSubscriptionsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientImpl.prototype.changeType=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^billingAccounts/[^/]+/subscriptions/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.billingAccounts.subscriptions.changeType",path:"/"+this.gapiVersion+"/"+e+":changeType",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Subscription})},module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^billingAccounts/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.billingAccounts.subscriptions.create",path:"/"+this.gapiVersion+"/"+e+"/subscriptions",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Subscription})},module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientImpl.prototype.list=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^billingAccounts/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.billingAccounts.subscriptions.list",path:"/"+this.gapiVersion+"/"+e+"/subscriptions",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse})},module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientImpl.prototype.terminate=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^billingAccounts/[^/]+/subscriptions/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.billingAccounts.subscriptions.terminate",path:"/"+this.gapiVersion+"/"+e+":terminate",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Subscription})},module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClient=function(){},module$exports$eeapiclient$ee_api_client.ICapabilitiesApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.CapabilitiesApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.CapabilitiesApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.CapabilitiesApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.ICapabilitiesApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.CapabilitiesApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.CapabilitiesApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.CapabilitiesApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.CapabilitiesApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.CapabilitiesApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.CapabilitiesApiClientImpl.prototype.appealRestriction=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$request({body:e,httpMethod:"POST",methodId:"earthengine.capabilities.appealRestriction",path:"/"+this.gapiVersion+"/capabilities:appealRestriction",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Empty})},module$exports$eeapiclient$ee_api_client.CapabilitiesApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsAlgorithmsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsAlgorithmsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl.prototype.list=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.algorithms.list",path:"/"+this.gapiVersion+"/"+e+"/algorithms",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse})},module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.IProjectsApiClientViewEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum={BASIC:"BASIC",EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED:"EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED",FULL:"FULL",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.FULL,module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.BASIC]}},module$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.getCapabilities=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.getCapabilities",path:"/"+this.gapiVersion+"/"+e+"/capabilities",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Capabilities})},module$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.getConfig=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/config$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.getConfig",path:"/"+this.gapiVersion+"/"+e,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.ProjectConfig})},module$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.listAssets=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.listAssets",path:"/"+this.gapiVersion+"/"+e+":listAssets",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.ListAssetsResponse})},module$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.updateConfig=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/config$")),this.$apiClient.$request({body:t,httpMethod:"PATCH",methodId:"earthengine.projects.updateConfig",path:"/"+this.gapiVersion+"/"+e,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.ProjectConfig})},module$exports$eeapiclient$ee_api_client.ProjectsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClientViewEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum={BASIC:"BASIC",EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED:"EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED",FULL:"FULL",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.FULL,module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.BASIC]}},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.copy=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.copy",path:"/"+this.gapiVersion+"/"+e+":copy",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.create",path:"/"+this.gapiVersion+"/"+e+"/assets",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.createInternal=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.createInternal",path:"/"+this.gapiVersion+"/"+e+"/assets:createInternal",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.delete=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:null,httpMethod:"DELETE",methodId:"earthengine.projects.assets.delete",path:"/"+this.gapiVersion+"/"+e,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Empty})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.get=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.assets.get",path:"/"+this.gapiVersion+"/"+e,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getIamPolicy=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.getIamPolicy",path:"/"+this.gapiVersion+"/"+e+":getIamPolicy",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Policy})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getLinked=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.getLinked",path:"/"+this.gapiVersion+"/"+e+":getLinked",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getPixels=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.getPixels",path:"/"+this.gapiVersion+"/"+e+":getPixels",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.link=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.link",path:"/"+this.gapiVersion+"/"+e+":link",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listAssets=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.assets.listAssets",path:"/"+this.gapiVersion+"/"+e+":listAssets",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.ListAssetsResponse})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listFeatures=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.assets.listFeatures",path:"/"+this.gapiVersion+"/"+e+":listFeatures",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.ListFeaturesResponse})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listImages=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.assets.listImages",path:"/"+this.gapiVersion+"/"+e+":listImages",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.ListImagesResponse})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.move=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.move",path:"/"+this.gapiVersion+"/"+e+":move",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.patch=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"PATCH",methodId:"earthengine.projects.assets.patch",path:"/"+this.gapiVersion+"/"+e,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.setIamPolicy=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.setIamPolicy",path:"/"+this.gapiVersion+"/"+e+":setIamPolicy",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Policy})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.testIamPermissions=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.testIamPermissions",path:"/"+this.gapiVersion+"/"+e+":testIamPermissions",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsClassifierApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsClassifierApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl.prototype.export=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.classifier.export",path:"/"+this.gapiVersion+"/"+e+"/classifier:export",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsFeatureViewApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsFeatureViewApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.featureView.create",path:"/"+this.gapiVersion+"/"+e+"/featureView",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.FeatureView})},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsFeatureViewsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsFeatureViewsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.featureViews.create",path:"/"+this.gapiVersion+"/"+e+"/featureViews",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.FeatureView})},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsFeatureViewsTilesApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsFeatureViewsTilesApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClientImpl.prototype.get=function(e,t,i,n,r,u){return r=r===void 0?{}:r,u=u===void 0?{}:u,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/featureViews/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.featureViews.tiles.get",path:"/"+this.gapiVersion+"/"+e+"/tiles/"+t+"/"+i+"/"+n,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(r,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,u),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsFilmstripThumbnailsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsFilmstripThumbnailsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.filmstripThumbnails.create",path:"/"+this.gapiVersion+"/"+e+"/filmstripThumbnails",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.FilmstripThumbnail})},module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl.prototype.getPixels=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/filmstripThumbnails/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.filmstripThumbnails.getPixels",path:"/"+this.gapiVersion+"/"+e+":getPixels",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsImageApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsImageApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.computePixels=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.image.computePixels",path:"/"+this.gapiVersion+"/"+e+"/image:computePixels",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.export=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.image.export",path:"/"+this.gapiVersion+"/"+e+"/image:export",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.import=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.image.import",path:"/"+this.gapiVersion+"/"+e+"/image:import",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsImageCollectionApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsImageCollectionApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientImpl.prototype.computeImages=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.imageCollection.computeImages",path:"/"+this.gapiVersion+"/"+e+"/imageCollection:computeImages",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.ComputeImagesResponse})},module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsLocationsAssetsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsLocationsAssetsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/locations/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.locations.assets.create",path:"/"+this.gapiVersion+"/"+e+"/assets",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientImpl.prototype.createInernal=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/locations/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.locations.assets.createInernal",path:"/"+this.gapiVersion+"/"+e+"/assets:createInernal",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsLocationsFilmstripThumbnailsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/locations/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.locations.filmstripThumbnails.create",path:"/"+this.gapiVersion+"/"+e+"/filmstripThumbnails",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.FilmstripThumbnail})},module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsLocationsMapsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsLocationsMapsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/locations/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.locations.maps.create",path:"/"+this.gapiVersion+"/"+e+"/maps",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineMap})},module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsLocationsTablesApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsLocationsTablesApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/locations/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.locations.tables.create",path:"/"+this.gapiVersion+"/"+e+"/tables",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Table})},module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsLocationsThumbnailsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsLocationsThumbnailsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/locations/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.locations.thumbnails.create",path:"/"+this.gapiVersion+"/"+e+"/thumbnails",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Thumbnail})},module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsLocationsVideoThumbnailsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsLocationsVideoThumbnailsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/locations/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.locations.videoThumbnails.create",path:"/"+this.gapiVersion+"/"+e+"/videoThumbnails",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.VideoThumbnail})},module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsMapApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsMapApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl.prototype.export=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.map.export",path:"/"+this.gapiVersion+"/"+e+"/map:export",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsMapsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsMapsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.maps.create",path:"/"+this.gapiVersion+"/"+e+"/maps",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineMap})},module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsMapsTilesApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsMapsTilesApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientImpl.prototype.get=function(e,t,i,n,r,u){return r=r===void 0?{}:r,u=u===void 0?{}:u,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/maps/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.maps.tiles.get",path:"/"+this.gapiVersion+"/"+e+"/tiles/"+t+"/"+i+"/"+n,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(r,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,u),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsOperationsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsOperationsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.cancel=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/operations/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.operations.cancel",path:"/"+this.gapiVersion+"/"+e+":cancel",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Empty})},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.delete=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/operations/.*$")),this.$apiClient.$request({body:null,httpMethod:"DELETE",methodId:"earthengine.projects.operations.delete",path:"/"+this.gapiVersion+"/"+e,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Empty})},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.get=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/operations/.*$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.operations.get",path:"/"+this.gapiVersion+"/"+e,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.list=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.operations.list",path:"/"+this.gapiVersion+"/"+e+"/operations",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.ListOperationsResponse})},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.wait=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/operations/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.operations.wait",path:"/"+this.gapiVersion+"/"+e+":wait",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsTableApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsTableApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.computeFeatures=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.table.computeFeatures",path:"/"+this.gapiVersion+"/"+e+"/table:computeFeatures",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse})},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.export=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.table.export",path:"/"+this.gapiVersion+"/"+e+"/table:export",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.import=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.table.import",path:"/"+this.gapiVersion+"/"+e+"/table:import",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsTablesApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsTablesApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.tables.create",path:"/"+this.gapiVersion+"/"+e+"/tables",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Table})},module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl.prototype.getFeatures=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/tables/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.tables.getFeatures",path:"/"+this.gapiVersion+"/"+e+":getFeatures",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsThumbnailsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsThumbnailsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.thumbnails.create",path:"/"+this.gapiVersion+"/"+e+"/thumbnails",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Thumbnail})},module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl.prototype.getPixels=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/thumbnails/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.thumbnails.getPixels",path:"/"+this.gapiVersion+"/"+e+":getPixels",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsValueApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsValueApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl.prototype.compute=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.value.compute",path:"/"+this.gapiVersion+"/"+e+"/value:compute",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.ComputeValueResponse})},module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsVideoApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsVideoApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl.prototype.export=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.video.export",path:"/"+this.gapiVersion+"/"+e+"/video:export",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsVideoMapApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsVideoMapApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl.prototype.export=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.videoMap.export",path:"/"+this.gapiVersion+"/"+e+"/videoMap:export",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsVideoThumbnailsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsVideoThumbnailsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl.prototype.create=function(e,t,i,n){return i=i===void 0?{}:i,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.videoThumbnails.create",path:"/"+this.gapiVersion+"/"+e+"/videoThumbnails",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(i,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.VideoThumbnail})},module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl.prototype.getPixels=function(e,t,i){return t=t===void 0?{}:t,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/videoThumbnails/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.videoThumbnails.getPixels",path:"/"+this.gapiVersion+"/"+e+":getPixels",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IV1alphaApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.V1alphaApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.V1alphaApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.V1alphaApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IV1alphaApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.V1alphaApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.V1alphaApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.V1alphaApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.V1alphaApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.V1alphaApiClientImpl=function(e,t,i){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,i===void 0?null:i)},module$exports$eeapiclient$ee_api_client.V1alphaApiClientImpl.prototype.getCapabilities=function(e,t){return e=e===void 0?{}:e,t=t===void 0?{}:t,this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.getCapabilities",path:"/"+this.gapiVersion+"/capabilities",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(e,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,t),responseCtor:module$exports$eeapiclient$ee_api_client.Capabilities})},module$exports$eeapiclient$ee_api_client.V1alphaApiClient=function(){},ee.api=module$exports$eeapiclient$ee_api_client;var module$exports$ee$apiVersion={V1ALPHA:"v1alpha",V1:"v1"};module$exports$ee$apiVersion.VERSION=module$exports$ee$apiVersion.V1ALPHA;var module$exports$eeapiclient$promise_request_service={};module$exports$eeapiclient$promise_request_service.PromiseRequestService=function(){},module$exports$eeapiclient$promise_request_service.PromiseRequestService.prototype.send=function(e,t){return module$contents$eeapiclient$request_params_processParams(e),this.makeRequest(e).then(function(i){return t?module$contents$eeapiclient$domain_object_deserialize(t,i):i})},goog.async={};var module$contents$goog$async$FreeList_FreeList=function(e,t,i){this.limit_=i,this.create_=e,this.reset_=t,this.occupants_=0,this.head_=null};module$contents$goog$async$FreeList_FreeList.prototype.get=function(){if(0<this.occupants_){this.occupants_--;var e=this.head_;this.head_=e.next,e.next=null}else e=this.create_();return e},module$contents$goog$async$FreeList_FreeList.prototype.put=function(e){this.reset_(e),this.occupants_<this.limit_&&(this.occupants_++,e.next=this.head_,this.head_=e)},module$contents$goog$async$FreeList_FreeList.prototype.occupants=function(){return this.occupants_},goog.async.FreeList=module$contents$goog$async$FreeList_FreeList,goog.dom.BrowserFeature={},goog.dom.BrowserFeature.ASSUME_NO_OFFSCREEN_CANVAS=!1,goog.dom.BrowserFeature.ASSUME_OFFSCREEN_CANVAS=!1,goog.dom.BrowserFeature.detectOffscreenCanvas_=function(e){try{return!!new self.OffscreenCanvas(0,0).getContext(e)}catch{}return!1},goog.dom.BrowserFeature.OFFSCREEN_CANVAS_2D=!goog.dom.BrowserFeature.ASSUME_NO_OFFSCREEN_CANVAS&&(goog.dom.BrowserFeature.ASSUME_OFFSCREEN_CANVAS||goog.dom.BrowserFeature.detectOffscreenCanvas_("2d")),goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES=!0,goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE=!0,goog.dom.BrowserFeature.CAN_USE_INNER_TEXT=!1,goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY=goog.userAgent.IE||goog.userAgent.WEBKIT,goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT=goog.userAgent.IE,goog.math.Coordinate=function(e,t){this.x=e!==void 0?e:0,this.y=t!==void 0?t:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.prototype.equals=function(e){return e instanceof goog.math.Coordinate&&goog.math.Coordinate.equals(this,e)},goog.math.Coordinate.equals=function(e,t){return e==t?!0:e&&t?e.x==t.x&&e.y==t.y:!1},goog.math.Coordinate.distance=function(e,t){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},goog.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},goog.math.Coordinate.azimuth=function(e){return goog.math.angle(0,0,e.x,e.y)},goog.math.Coordinate.squaredDistance=function(e,t){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},goog.math.Coordinate.difference=function(e,t){return new goog.math.Coordinate(e.x-t.x,e.y-t.y)},goog.math.Coordinate.sum=function(e,t){return new goog.math.Coordinate(e.x+t.x,e.y+t.y)},goog.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},goog.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},goog.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},goog.math.Coordinate.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=Number(e),typeof t=="number"&&(this.y+=t)),this},goog.math.Coordinate.prototype.scale=function(e,t){return this.x*=e,this.y*=typeof t=="number"?t:e,this},goog.math.Coordinate.prototype.rotateRadians=function(e,t){var i=t||new goog.math.Coordinate(0,0),n=this.x,r=this.y,u=Math.cos(e),d=Math.sin(e);this.x=(n-i.x)*u-(r-i.y)*d+i.x,this.y=(n-i.x)*d+(r-i.y)*u+i.y},goog.math.Coordinate.prototype.rotateDegrees=function(e,t){this.rotateRadians(goog.math.toRadians(e),t)},goog.math.Size=function(e,t){this.width=e,this.height=t},goog.math.Size.equals=function(e,t){return e==t?!0:e&&t?e.width==t.width&&e.height==t.height:!1},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(e,t){return this.width*=e,this.height*=typeof t=="number"?t:e,this},goog.math.Size.prototype.scaleToCover=function(e){var t=this.aspectRatio()<=e.aspectRatio()?e.width/this.width:e.height/this.height;return this.scale(t)},goog.math.Size.prototype.scaleToFit=function(e){var t=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height;return this.scale(t)},goog.dom.Appendable={},goog.dom.ASSUME_QUIRKS_MODE=!1,goog.dom.ASSUME_STANDARDS_MODE=!1,goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.getDomHelper=function(e){return e?new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.getDocument=function(){return document},goog.dom.getElement=function(e){return goog.dom.getElementHelper_(document,e)},goog.dom.getHTMLElement=function(e){var t=goog.dom.getElement(e);return t?module$contents$goog$asserts$dom_assertIsHtmlElement(t):null},goog.dom.getElementHelper_=function(e,t){return typeof t=="string"?e.getElementById(t):t},goog.dom.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(document,e)},goog.dom.getRequiredHTMLElement=function(e){return module$contents$goog$asserts$dom_assertIsHtmlElement(goog.dom.getRequiredElementHelper_(document,e))},goog.dom.getRequiredElementHelper_=function(e,t){goog.asserts.assertString(t);var i=goog.dom.getElementHelper_(e,t);return goog.asserts.assert(i,"No element found with id: "+t)},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagName=function(e,t){return(t||document).getElementsByTagName(String(e))},goog.dom.getElementsByTagNameAndClass=function(e,t,i){return goog.dom.getElementsByTagNameAndClass_(document,e,t,i)},goog.dom.getElementByTagNameAndClass=function(e,t,i){return goog.dom.getElementByTagNameAndClass_(document,e,t,i)},goog.dom.getElementsByClass=function(e,t){var i=t||document;return goog.dom.canUseQuerySelector_(i)?i.querySelectorAll("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)},goog.dom.getElementByClass=function(e,t){var i=t||document;return(i.getElementsByClassName?i.getElementsByClassName(e)[0]:goog.dom.getElementByTagNameAndClass_(document,"*",e,t))||null},goog.dom.getHTMLElementByClass=function(e,t){var i=goog.dom.getElementByClass(e,t);return i?module$contents$goog$asserts$dom_assertIsHtmlElement(i):null},goog.dom.getRequiredElementByClass=function(e,t){var i=goog.dom.getElementByClass(e,t);return goog.asserts.assert(i,"No element found with className: "+e)},goog.dom.getRequiredHTMLElementByClass=function(e,t){var i=goog.dom.getElementByClass(e,t);return goog.asserts.assert(i,"No HTMLElement found with className: "+e),module$contents$goog$asserts$dom_assertIsHtmlElement(i)},goog.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(e,t,i,n){var r=n||e,u=t&&t!="*"?String(t).toUpperCase():"";if(goog.dom.canUseQuerySelector_(r)&&(u||i))return r.querySelectorAll(u+(i?"."+i:""));if(i&&r.getElementsByClassName){var d=r.getElementsByClassName(i);if(u){for(var c={},b=0,S=0,C;C=d[S];S++)u==C.nodeName&&(c[b++]=C);return c.length=b,c}return d}if(d=r.getElementsByTagName(u||"*"),i){for(c={},S=b=0;C=d[S];S++){var O=C.className;typeof O.split=="function"&&module$contents$goog$array_contains(O.split(/\s+/),i)&&(c[b++]=C)}return c.length=b,c}return d},goog.dom.getElementByTagNameAndClass_=function(e,t,i,n){var r=n||e,u=t&&t!="*"?String(t).toUpperCase():"";return goog.dom.canUseQuerySelector_(r)&&(u||i)?r.querySelector(u+(i?"."+i:"")):goog.dom.getElementsByTagNameAndClass_(e,t,i,n)[0]||null},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(e,t){module$contents$goog$object_forEach(t,function(i,n){i&&typeof i=="object"&&i.implementsGoogStringTypedString&&(i=i.getTypedStringValue()),n=="style"?e.style.cssText=i:n=="class"?e.className=i:n=="for"?e.htmlFor=i:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(n)?e.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[n],i):goog.string.startsWith(n,"aria-")||goog.string.startsWith(n,"data-")?e.setAttribute(n,i):e[n]=i})},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},goog.dom.getViewportSize=function(e){return goog.dom.getViewportSize_(e||window)},goog.dom.getViewportSize_=function(e){var t=e.document,i=goog.dom.isCss1CompatMode_(t)?t.documentElement:t.body;return new goog.math.Size(i.clientWidth,i.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeightForWindow=function(e){return goog.dom.getDocumentHeight_(e)},goog.dom.getDocumentHeight_=function(e){var t=e.document,i=0;if(t){var n=t.body,r=t.documentElement;if(!r||!n)return 0;var u=goog.dom.getViewportSize_(e).height;if(goog.dom.isCss1CompatMode_(t)&&r.scrollHeight)i=r.scrollHeight!=u?r.scrollHeight:r.offsetHeight;else{var d=r.scrollHeight,c=r.offsetHeight;r.clientHeight!=c&&(d=n.scrollHeight,c=n.offsetHeight),i=d>u?d>c?d:c:d<c?d:c}}return i},goog.dom.getPageScroll=function(e){return goog.dom.getDomHelper((e||goog.global||window).document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(e){var t=goog.dom.getDocumentScrollElement_(e),i=goog.dom.getWindow_(e);return goog.userAgent.IE&&i.pageYOffset!=t.scrollTop?new goog.math.Coordinate(t.scrollLeft,t.scrollTop):new goog.math.Coordinate(i.pageXOffset||t.scrollLeft,i.pageYOffset||t.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(e){return e.scrollingElement?e.scrollingElement:!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body||e.documentElement},goog.dom.getWindow=function(e){return e?goog.dom.getWindow_(e):window},goog.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},goog.dom.createDom=function(e,t,i){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(e,t){var i=t[1],n=goog.dom.createElement_(e,String(t[0]));return i&&(typeof i=="string"?n.className=i:Array.isArray(i)?n.className=i.join(" "):goog.dom.setProperties(n,i)),2<t.length&&goog.dom.append_(e,n,t,2),n},goog.dom.append_=function(e,t,i,n){function r(c){c&&t.appendChild(typeof c=="string"?e.createTextNode(c):c)}for(var u=n;u<i.length;u++){var d=i[u];goog.isArrayLike(d)&&!goog.dom.isNodeLike(d)?module$contents$goog$array_forEach(goog.dom.isNodeList(d)?module$contents$goog$array_toArray(d):d,r):r(d)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(e){return goog.dom.createElement_(document,e)},goog.dom.createElement_=function(e,t){return t=String(t),e.contentType==="application/xhtml+xml"&&(t=t.toLowerCase()),e.createElement(t)},goog.dom.createTextNode=function(e){return document.createTextNode(String(e))},goog.dom.createTable=function(e,t,i){return goog.dom.createTable_(document,e,t,!!i)},goog.dom.createTable_=function(e,t,i,n){for(var r=goog.dom.createElement_(e,goog.dom.TagName.TABLE),u=r.appendChild(goog.dom.createElement_(e,goog.dom.TagName.TBODY)),d=0;d<t;d++){for(var c=goog.dom.createElement_(e,goog.dom.TagName.TR),b=0;b<i;b++){var S=goog.dom.createElement_(e,goog.dom.TagName.TD);n&&goog.dom.setTextContent(S,goog.string.Unicode.NBSP),c.appendChild(S)}u.appendChild(c)}return r},goog.dom.constHtmlToNode=function(e){var t=Array.prototype.map.call(arguments,goog.string.Const.unwrap),i=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML string, that gets turned into a Node later, so it will be automatically balanced."),t.join(""));return goog.dom.safeHtmlToNode(i)},goog.dom.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(document,e)},goog.dom.safeHtmlToNode_=function(e,t){var i=goog.dom.createElement_(e,goog.dom.TagName.DIV);return goog.userAgent.IE?(goog.dom.safe.setInnerHtml(i,module$contents$goog$html$SafeHtml_SafeHtml.concat(module$contents$goog$html$SafeHtml_SafeHtml.BR,t)),i.removeChild(goog.asserts.assert(i.firstChild))):goog.dom.safe.setInnerHtml(i,t),goog.dom.childrenToNode_(e,i)},goog.dom.childrenToNode_=function(e,t){if(t.childNodes.length==1)return t.removeChild(goog.asserts.assert(t.firstChild));for(var i=e.createDocumentFragment();t.firstChild;)i.appendChild(t.firstChild);return i},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(e){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:e.compatMode=="CSS1Compat"},goog.dom.canHaveChildren=function(e){if(e.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case String(goog.dom.TagName.APPLET):case String(goog.dom.TagName.AREA):case String(goog.dom.TagName.BASE):case String(goog.dom.TagName.BR):case String(goog.dom.TagName.COL):case String(goog.dom.TagName.COMMAND):case String(goog.dom.TagName.EMBED):case String(goog.dom.TagName.FRAME):case String(goog.dom.TagName.HR):case String(goog.dom.TagName.IMG):case String(goog.dom.TagName.INPUT):case String(goog.dom.TagName.IFRAME):case String(goog.dom.TagName.ISINDEX):case String(goog.dom.TagName.KEYGEN):case String(goog.dom.TagName.LINK):case String(goog.dom.TagName.NOFRAMES):case String(goog.dom.TagName.NOSCRIPT):case String(goog.dom.TagName.META):case String(goog.dom.TagName.OBJECT):case String(goog.dom.TagName.PARAM):case String(goog.dom.TagName.SCRIPT):case String(goog.dom.TagName.SOURCE):case String(goog.dom.TagName.STYLE):case String(goog.dom.TagName.TRACK):case String(goog.dom.TagName.WBR):return!1}return!0},goog.dom.appendChild=function(e,t){goog.asserts.assert(e!=null&&t!=null,"goog.dom.appendChild expects non-null arguments"),e.appendChild(t)},goog.dom.append=function(e,t){goog.dom.append_(goog.dom.getOwnerDocument(e),e,arguments,1)},goog.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},goog.dom.insertSiblingBefore=function(e,t){goog.asserts.assert(e!=null&&t!=null,"goog.dom.insertSiblingBefore expects non-null arguments"),t.parentNode&&t.parentNode.insertBefore(e,t)},goog.dom.insertSiblingAfter=function(e,t){goog.asserts.assert(e!=null&&t!=null,"goog.dom.insertSiblingAfter expects non-null arguments"),t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},goog.dom.insertChildAt=function(e,t,i){goog.asserts.assert(e!=null,"goog.dom.insertChildAt expects a non-null parent"),e.insertBefore(t,e.childNodes[i]||null)},goog.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},goog.dom.replaceNode=function(e,t){goog.asserts.assert(e!=null&&t!=null,"goog.dom.replaceNode expects non-null arguments");var i=t.parentNode;i&&i.replaceChild(e,t)},goog.dom.copyContents=function(e,t){goog.asserts.assert(e!=null&&t!=null,"goog.dom.copyContents expects non-null arguments");var i=t.cloneNode(!0).childNodes;for(goog.dom.removeChildren(e);i.length;)e.appendChild(i[0])},goog.dom.flattenElement=function(e){var t,i=e.parentNode;if(i&&i.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)i.insertBefore(t,e);return goog.dom.removeNode(e)}},goog.dom.getChildren=function(e){return e.children!=null?e.children:Array.prototype.filter.call(e.childNodes,function(t){return t.nodeType==goog.dom.NodeType.ELEMENT})},goog.dom.getFirstElementChild=function(e){return e.firstElementChild!==void 0?e.firstElementChild:goog.dom.getNextElementNode_(e.firstChild,!0)},goog.dom.getLastElementChild=function(e){return e.lastElementChild!==void 0?e.lastElementChild:goog.dom.getNextElementNode_(e.lastChild,!1)},goog.dom.getNextElementSibling=function(e){return e.nextElementSibling!==void 0?e.nextElementSibling:goog.dom.getNextElementNode_(e.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(e){return e.previousElementSibling!==void 0?e.previousElementSibling:goog.dom.getNextElementNode_(e.previousSibling,!1)},goog.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=goog.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},goog.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},goog.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},goog.dom.isNodeLike=function(e){return goog.isObject(e)&&0<e.nodeType},goog.dom.isElement=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(e){return goog.isObject(e)&&e.window==e},goog.dom.getParentElement=function(e){var t;return goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY&&(t=e.parentElement)?t:(t=e.parentNode,goog.dom.isElement(t)?t:null)},goog.dom.contains=function(e,t){if(!e||!t)return!1;if(e.contains&&t.nodeType==goog.dom.NodeType.ELEMENT)return e==t||e.contains(t);if(typeof e.compareDocumentPosition<"u")return e==t||!!(e.compareDocumentPosition(t)&16);for(;t&&e!=t;)t=t.parentNode;return t==e},goog.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return e.compareDocumentPosition(t)&2?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(e.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(t.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var i=e.nodeType==goog.dom.NodeType.ELEMENT,n=t.nodeType==goog.dom.NodeType.ELEMENT;if(i&&n)return e.sourceIndex-t.sourceIndex;var r=e.parentNode,u=t.parentNode;return r==u?goog.dom.compareSiblingOrder_(e,t):!i&&goog.dom.contains(r,t)?-1*goog.dom.compareParentsDescendantNodeIe_(e,t):!n&&goog.dom.contains(u,e)?goog.dom.compareParentsDescendantNodeIe_(t,e):(i?e.sourceIndex:r.sourceIndex)-(n?t.sourceIndex:u.sourceIndex)}var d=goog.dom.getOwnerDocument(e),c=d.createRange();c.selectNode(e),c.collapse(!0);var b=d.createRange();return b.selectNode(t),b.collapse(!0),c.compareBoundaryPoints(goog.global.Range.START_TO_END,b)},goog.dom.compareParentsDescendantNodeIe_=function(e,t){var i=e.parentNode;if(i==t)return-1;for(var n=t;n.parentNode!=i;)n=n.parentNode;return goog.dom.compareSiblingOrder_(n,e)},goog.dom.compareSiblingOrder_=function(e,t){for(var i=t;i=i.previousSibling;)if(i==e)return-1;return 1},goog.dom.findCommonAncestor=function(e){var t,i=arguments.length;if(!i)return null;if(i==1)return arguments[0];var n=[],r=1/0;for(t=0;t<i;t++){for(var u=[],d=arguments[t];d;)u.unshift(d),d=d.parentNode;n.push(u),r=Math.min(r,u.length)}var c=null;for(t=0;t<r;t++){for(var b=n[0][t],S=1;S<i;S++)if(b!=n[S][t])return c;c=b}return c},goog.dom.isInDocument=function(e){return(e.ownerDocument.compareDocumentPosition(e)&16)==16},goog.dom.getOwnerDocument=function(e){return goog.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==goog.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},goog.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},goog.dom.getFrameContentWindow=function(e){try{return e.contentWindow||(e.contentDocument?goog.dom.getWindow(e.contentDocument):null)}catch{}return null},goog.dom.setTextContent=function(e,t){if(goog.asserts.assert(e!=null,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=t;else if(e.nodeType==goog.dom.NodeType.TEXT)e.data=String(t);else if(e.firstChild&&e.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(goog.asserts.assert(e.lastChild));e.firstChild.data=String(t)}else{goog.dom.removeChildren(e);var i=goog.dom.getOwnerDocument(e);e.appendChild(i.createTextNode(String(t)))}},goog.dom.getOuterHtml=function(e){if(goog.asserts.assert(e!==null,"goog.dom.getOuterHtml expects a non-null value for element"),"outerHTML"in e)return e.outerHTML;var t=goog.dom.getOwnerDocument(e),i=goog.dom.createElement_(t,goog.dom.TagName.DIV);return i.appendChild(e.cloneNode(!0)),i.innerHTML},goog.dom.findNode=function(e,t){var i=[];return goog.dom.findNodes_(e,t,i,!0)?i[0]:void 0},goog.dom.findNodes=function(e,t){var i=[];return goog.dom.findNodes_(e,t,i,!1),i},goog.dom.findNodes_=function(e,t,i,n){if(e!=null)for(var r=e.firstChild;r;){if(t(r)&&(i.push(r),n)||goog.dom.findNodes_(r,t,i,n))return!0;r=r.nextSibling}return!1},goog.dom.findElement=function(e,t){for(var i=goog.dom.getChildrenReverse_(e);0<i.length;){var n=i.pop();if(t(n))return n;for(var r=n.lastElementChild;r;r=r.previousElementSibling)i.push(r)}return null},goog.dom.findElements=function(e,t){for(var i=[],n=goog.dom.getChildrenReverse_(e);0<n.length;){var r=n.pop();t(r)&&i.push(r);for(var u=r.lastElementChild;u;u=u.previousElementSibling)n.push(u)}return i},goog.dom.getChildrenReverse_=function(e){if(e.nodeType==goog.dom.NodeType.DOCUMENT)return[e.documentElement];for(var t=[],i=e.lastElementChild;i;i=i.previousElementSibling)t.push(i);return t},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:`
`},goog.dom.isFocusableTabIndex=function(e){return goog.dom.hasSpecifiedTabIndex_(e)&&goog.dom.isTabIndexFocusable_(e)},goog.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},goog.dom.isFocusable=function(e){var t;return(t=goog.dom.nativelySupportsFocus_(e)?!e.disabled&&(!goog.dom.hasSpecifiedTabIndex_(e)||goog.dom.isTabIndexFocusable_(e)):goog.dom.isFocusableTabIndex(e))&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(e):t},goog.dom.hasSpecifiedTabIndex_=function(e){return e.hasAttribute("tabindex")},goog.dom.isTabIndexFocusable_=function(e){var t=e.tabIndex;return typeof t=="number"&&0<=t&&32768>t},goog.dom.nativelySupportsFocus_=function(e){return e.tagName==goog.dom.TagName.A&&e.hasAttribute("href")||e.tagName==goog.dom.TagName.INPUT||e.tagName==goog.dom.TagName.TEXTAREA||e.tagName==goog.dom.TagName.SELECT||e.tagName==goog.dom.TagName.BUTTON},goog.dom.hasNonZeroBoundingRect_=function(e){var t=typeof e.getBoundingClientRect!="function"||goog.userAgent.IE&&e.parentElement==null?{height:e.offsetHeight,width:e.offsetWidth}:e.getBoundingClientRect();return t!=null&&0<t.height&&0<t.width},goog.dom.getTextContent=function(e){var t=[];goog.dom.getTextContent_(e,t,!0);var i=t.join("");return i=i.replace(/ \xAD /g," ").replace(/\xAD/g,""),i=i.replace(/\u200B/g,""),i=i.replace(/ +/g," "),i!=" "&&(i=i.replace(/^\s*/,"")),i},goog.dom.getRawTextContent=function(e){var t=[];return goog.dom.getTextContent_(e,t,!1),t.join("")},goog.dom.getTextContent_=function(e,t,i){if(!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)i?t.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)t.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(var n=e.firstChild;n;)goog.dom.getTextContent_(n,t,i),n=n.nextSibling},goog.dom.getNodeTextLength=function(e){return goog.dom.getTextContent(e).length},goog.dom.getNodeTextOffset=function(e,t){for(var i=t||goog.dom.getOwnerDocument(e).body,n=[];e&&e!=i;){for(var r=e;r=r.previousSibling;)n.unshift(goog.dom.getTextContent(r));e=e.parentNode}return goog.string.trimLeft(n.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(e,t,i){for(var n=[e],r=0,u=null;0<n.length&&r<t;)if(u=n.pop(),!(u.nodeName in goog.dom.TAGS_TO_IGNORE_))if(u.nodeType==goog.dom.NodeType.TEXT){var d=u.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");r+=d.length}else if(u.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)r+=goog.dom.PREDEFINED_TAG_VALUES_[u.nodeName].length;else for(var c=u.childNodes.length-1;0<=c;c--)n.push(u.childNodes[c]);return goog.isObject(i)&&(i.remainder=u?u.nodeValue.length+t-r-1:0,i.node=u),u},goog.dom.isNodeList=function(e){if(e&&typeof e.length=="number"){if(goog.isObject(e))return typeof e.item=="function"||typeof e.item=="string";if(typeof e=="function")return typeof e.item=="function"}return!1},goog.dom.getAncestorByTagNameAndClass=function(e,t,i,n){if(!t&&!i)return null;var r=t?String(t).toUpperCase():null;return goog.dom.getAncestor(e,function(u){return(!r||u.nodeName==r)&&(!i||typeof u.className=="string"&&module$contents$goog$array_contains(u.className.split(/\s+/),i))},!0,n)},goog.dom.getAncestorByClass=function(e,t,i){return goog.dom.getAncestorByTagNameAndClass(e,null,t,i)},goog.dom.getAncestor=function(e,t,i,n){e&&!i&&(e=e.parentNode);for(var r=0;e&&(n==null||r<=n);){if(goog.asserts.assert(e.name!="parentNode"),t(e))return e;e=e.parentNode,r++}return null},goog.dom.getActiveElement=function(e){try{var t=e&&e.activeElement;return t&&t.nodeName?t:null}catch{return null}},goog.dom.getPixelRatio=function(){var e=goog.dom.getWindow();return e.devicePixelRatio!==void 0?e.devicePixelRatio:e.matchMedia?goog.dom.matchesPixelRatio_(3)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(1)||.75:1},goog.dom.matchesPixelRatio_=function(e){return goog.dom.getWindow().matchMedia("(min-resolution: "+e+"dppx),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+96*e+"dpi)").matches?e:0},goog.dom.getCanvasContext2D=function(e){return e.getContext("2d")},goog.dom.DomHelper=function(e){this.document_=e||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(e){return goog.dom.getElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagName=function(e,t){return(t||this.document_).getElementsByTagName(String(e))},goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,i){return goog.dom.getElementsByTagNameAndClass_(this.document_,e,t,i)},goog.dom.DomHelper.prototype.getElementByTagNameAndClass=function(e,t,i){return goog.dom.getElementByTagNameAndClass_(this.document_,e,t,i)},goog.dom.DomHelper.prototype.getElementsByClass=function(e,t){return goog.dom.getElementsByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getElementByClass=function(e,t){return goog.dom.getElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getRequiredElementByClass=function(e,t){return goog.dom.getRequiredElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(e){return goog.dom.getViewportSize(e||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.DomHelper.prototype.createDom=function(e,t,i){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(e){return goog.dom.createElement_(this.document_,e)},goog.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},goog.dom.DomHelper.prototype.createTable=function(e,t,i){return goog.dom.createTable_(this.document_,e,t,!!i)},goog.dom.DomHelper.prototype.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(this.document_,e)},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.getActiveElement=function(e){return goog.dom.getActiveElement(e||this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.copyContents=goog.dom.copyContents,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.isElement=goog.dom.isElement,goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow,goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder,goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex,goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex,goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset,goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.dom.DomHelper.prototype.getCanvasContext2D=goog.dom.getCanvasContext2D,goog.async.nextTick=function(e,t,i){var n=e;t&&(n=goog.bind(e,t)),n=goog.async.nextTick.wrapCallback_(n),typeof goog.global.setImmediate=="function"&&(i||goog.async.nextTick.useSetImmediate_())?goog.global.setImmediate(n):(goog.async.nextTick.nextTickImpl||(goog.async.nextTick.nextTickImpl=goog.async.nextTick.getNextTickImpl_()),goog.async.nextTick.nextTickImpl(n))},goog.async.nextTick.useSetImmediate_=function(){return!(goog.global.Window&&goog.global.Window.prototype&&!module$contents$goog$labs$userAgent$browser_matchEdgeHtml()&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate)},goog.async.nextTick.getNextTickImpl_=function(){var e=goog.global.MessageChannel;if(typeof e>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!module$contents$goog$labs$userAgent$engine_isPresto()&&(e=function(){var r=goog.dom.createElement(goog.dom.TagName.IFRAME);r.style.display="none",document.documentElement.appendChild(r);var u=r.contentWindow,d=u.document;d.open(),d.close();var c="callImmediate"+Math.random(),b=u.location.protocol=="file:"?"*":u.location.protocol+"//"+u.location.host,S=goog.bind(function(C){(b=="*"||C.origin==b)&&C.data==c&&this.port1.onmessage()},this);u.addEventListener("message",S,!1),this.port1={},this.port2={postMessage:function(){u.postMessage(c,b)}}}),typeof e<"u"&&!module$contents$goog$labs$userAgent$browser_matchIE()){var t=new e,i={},n=i;return t.port1.onmessage=function(){if(i.next!==void 0){i=i.next;var r=i.cb;i.cb=null,r()}},function(r){n.next={cb:r},n=n.next,t.port2.postMessage(0)}}return function(r){goog.global.setTimeout(r,0)}},goog.async.nextTick.wrapCallback_=goog.functions.identity,goog.debug.entryPointRegistry.register(function(e){goog.async.nextTick.wrapCallback_=e});function module$contents$goog$async$throwException_throwException(e){goog.global.setTimeout(function(){throw e},0)}goog.async.throwException=module$contents$goog$async$throwException_throwException;var module$contents$goog$async$WorkQueue_WorkQueue=function(){this.workTail_=this.workHead_=null};module$contents$goog$async$WorkQueue_WorkQueue.prototype.add=function(e,t){var i=this.getUnusedItem_();i.set(e,t),this.workTail_?this.workTail_.next=i:((0,goog.asserts.assert)(!this.workHead_),this.workHead_=i),this.workTail_=i},module$contents$goog$async$WorkQueue_WorkQueue.prototype.remove=function(){var e=null;return this.workHead_&&(e=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),e.next=null),e},module$contents$goog$async$WorkQueue_WorkQueue.prototype.returnUnused=function(e){module$contents$goog$async$WorkQueue_WorkQueue.freelist_.put(e)},module$contents$goog$async$WorkQueue_WorkQueue.prototype.getUnusedItem_=function(){return module$contents$goog$async$WorkQueue_WorkQueue.freelist_.get()},module$contents$goog$async$WorkQueue_WorkQueue.DEFAULT_MAX_UNUSED=100,module$contents$goog$async$WorkQueue_WorkQueue.freelist_=new module$contents$goog$async$FreeList_FreeList(function(){return new module$contents$goog$async$WorkQueue_WorkItem},function(e){return e.reset()},module$contents$goog$async$WorkQueue_WorkQueue.DEFAULT_MAX_UNUSED);var module$contents$goog$async$WorkQueue_WorkItem=function(){this.next=this.scope=this.fn=null};module$contents$goog$async$WorkQueue_WorkItem.prototype.set=function(e,t){this.fn=e,this.scope=t,this.next=null},module$contents$goog$async$WorkQueue_WorkItem.prototype.reset=function(){this.next=this.scope=this.fn=null},goog.async.WorkQueue=module$contents$goog$async$WorkQueue_WorkQueue,goog.debug.asyncStackTag={};var module$contents$goog$debug$asyncStackTag_createTask=goog.DEBUG&&goog.global.console&&goog.global.console.createTask?goog.global.console.createTask.bind(goog.global.console):void 0,module$contents$goog$debug$asyncStackTag_CONSOLE_TASK_SYMBOL=module$contents$goog$debug$asyncStackTag_createTask?Symbol("consoleTask"):void 0;function module$contents$goog$debug$asyncStackTag_wrap(e,t){function i(){var r=$jscomp.getRestArguments.apply(0,arguments),u=this;return n.run(function(){return e.call.apply(e,[u].concat($jscomp.arrayFromIterable(r)))})}if(t=t===void 0?"anonymous":t,!goog.DEBUG||!module$contents$goog$debug$asyncStackTag_createTask||e[(0,goog.asserts.assertExists)(module$contents$goog$debug$asyncStackTag_CONSOLE_TASK_SYMBOL)])return e;var n=module$contents$goog$debug$asyncStackTag_createTask(e.name||t);return i[(0,goog.asserts.assertExists)(module$contents$goog$debug$asyncStackTag_CONSOLE_TASK_SYMBOL)]=n,i}goog.debug.asyncStackTag.wrap=module$contents$goog$debug$asyncStackTag_wrap,goog.ASSUME_NATIVE_PROMISE=!1;var module$contents$goog$async$run_schedule,module$contents$goog$async$run_workQueueScheduled=!1,module$contents$goog$async$run_workQueue=new module$contents$goog$async$WorkQueue_WorkQueue,module$contents$goog$async$run_run=function(e,t){module$contents$goog$async$run_schedule||module$contents$goog$async$run_initializeRunner(),module$contents$goog$async$run_workQueueScheduled||(module$contents$goog$async$run_schedule(),module$contents$goog$async$run_workQueueScheduled=!0),e=module$contents$goog$debug$asyncStackTag_wrap(e,"goog.async.run"),module$contents$goog$async$run_workQueue.add(e,t)},module$contents$goog$async$run_initializeRunner=function(){if(goog.ASSUME_NATIVE_PROMISE||goog.global.Promise&&goog.global.Promise.resolve){var e=goog.global.Promise.resolve(void 0);module$contents$goog$async$run_schedule=function(){e.then(module$contents$goog$async$run_run.processWorkQueue)}}else module$contents$goog$async$run_schedule=function(){(0,goog.async.nextTick)(module$contents$goog$async$run_run.processWorkQueue)}};module$contents$goog$async$run_run.forceNextTick=function(e){module$contents$goog$async$run_schedule=function(){(0,goog.async.nextTick)(module$contents$goog$async$run_run.processWorkQueue),e&&e(module$contents$goog$async$run_run.processWorkQueue)}},goog.DEBUG&&(module$contents$goog$async$run_run.resetQueue=function(){module$contents$goog$async$run_workQueueScheduled=!1,module$contents$goog$async$run_workQueue=new module$contents$goog$async$WorkQueue_WorkQueue},module$contents$goog$async$run_run.resetSchedulerForTest=function(){module$contents$goog$async$run_initializeRunner()}),module$contents$goog$async$run_run.processWorkQueue=function(){for(var e=null;e=module$contents$goog$async$run_workQueue.remove();){try{e.fn.call(e.scope)}catch(t){module$contents$goog$async$throwException_throwException(t)}module$contents$goog$async$run_workQueue.returnUnused(e)}module$contents$goog$async$run_workQueueScheduled=!1},goog.async.run=module$contents$goog$async$run_run,goog.promise={},goog.promise.Resolver=function(){};function module$contents$goog$Thenable_Thenable(){}module$contents$goog$Thenable_Thenable.prototype.then=function(e,t,i){},module$contents$goog$Thenable_Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable",module$contents$goog$Thenable_Thenable.addImplementation=function(e){e.prototype[module$contents$goog$Thenable_Thenable.IMPLEMENTED_BY_PROP]=!0},module$contents$goog$Thenable_Thenable.isImplementedBy=function(e){if(!e)return!1;try{return!!e[module$contents$goog$Thenable_Thenable.IMPLEMENTED_BY_PROP]}catch{return!1}},goog.Thenable=module$contents$goog$Thenable_Thenable,goog.Promise=function(e,t){if(this.state_=goog.Promise.State_.PENDING,this.result_=void 0,this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null,this.executing_=!1,0<goog.Promise.UNHANDLED_REJECTION_DELAY?this.unhandledRejectionId_=0:goog.Promise.UNHANDLED_REJECTION_DELAY==0&&(this.hadUnhandledRejection_=!1),goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(Error("created")),this.currentStep_=0),e!=goog.functions.UNDEFINED)try{var i=this;e.call(t,function(n){i.resolve_(goog.Promise.State_.FULFILLED,n)},function(n){if(goog.DEBUG&&!(n instanceof goog.Promise.CancellationError))try{throw n instanceof Error?n:Error("Promise rejected.")}catch{}i.resolve_(goog.Promise.State_.REJECTED,n)})}catch(n){this.resolve_(goog.Promise.State_.REJECTED,n)}},goog.Promise.LONG_STACK_TRACES=!1,goog.Promise.UNHANDLED_REJECTION_DELAY=0,goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},goog.Promise.CallbackEntry_=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.CallbackEntry_.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.DEFAULT_MAX_UNUSED=100,goog.Promise.freelist_=new module$contents$goog$async$FreeList_FreeList(function(){return new goog.Promise.CallbackEntry_},function(e){e.reset()},goog.Promise.DEFAULT_MAX_UNUSED),goog.Promise.getCallbackEntry_=function(e,t,i){var n=goog.Promise.freelist_.get();return n.onFulfilled=e,n.onRejected=t,n.context=i,n},goog.Promise.returnEntry_=function(e){goog.Promise.freelist_.put(e)},goog.Promise.resolve=function(e){if(e instanceof goog.Promise)return e;var t=new goog.Promise(goog.functions.UNDEFINED);return t.resolve_(goog.Promise.State_.FULFILLED,e),t},goog.Promise.reject=function(e){return new goog.Promise(function(t,i){i(e)})},goog.Promise.resolveThen_=function(e,t,i){goog.Promise.maybeThen_(e,t,i,null)||module$contents$goog$async$run_run(goog.partial(t,e))},goog.Promise.race=function(e){return new goog.Promise(function(t,i){e.length||t(void 0);for(var n=0,r;n<e.length;n++)r=e[n],goog.Promise.resolveThen_(r,t,i)})},goog.Promise.all=function(e){return new goog.Promise(function(t,i){var n=e.length,r=[];if(n)for(var u=function(S,C){n--,r[S]=C,n==0&&t(r)},d=function(S){i(S)},c=0,b;c<e.length;c++)b=e[c],goog.Promise.resolveThen_(b,goog.partial(u,c),d);else t(r)})},goog.Promise.allSettled=function(e){return new goog.Promise(function(t,i){var n=e.length,r=[];if(n)for(var u=function(b,S,C){n--,r[b]=S?{fulfilled:!0,value:C}:{fulfilled:!1,reason:C},n==0&&t(r)},d=0,c;d<e.length;d++)c=e[d],goog.Promise.resolveThen_(c,goog.partial(u,d,!0),goog.partial(u,d,!1));else t(r)})},goog.Promise.firstFulfilled=function(e){return new goog.Promise(function(t,i){var n=e.length,r=[];if(n)for(var u=function(S){t(S)},d=function(S,C){n--,r[S]=C,n==0&&i(r)},c=0,b;c<e.length;c++)b=e[c],goog.Promise.resolveThen_(b,u,goog.partial(d,c));else t(void 0)})},goog.Promise.withResolver=function(){var e,t,i=new goog.Promise(function(n,r){e=n,t=r});return new goog.Promise.Resolver_(i,e,t)},goog.Promise.prototype.then=function(e,t,i){return e!=null&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),t!=null&&goog.asserts.assertFunction(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addChildPromise_(typeof e=="function"?e:null,typeof t=="function"?t:null,i)},module$contents$goog$Thenable_Thenable.addImplementation(goog.Promise),goog.Promise.prototype.thenVoid=function(e,t,i){e!=null&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),t!=null&&goog.asserts.assertFunction(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addCallbackEntry_(goog.Promise.getCallbackEntry_(e||goog.functions.UNDEFINED,t||null,i))},goog.Promise.prototype.thenAlways=function(e,t){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenAlways"));var i=goog.Promise.getCallbackEntry_(e,e,t);return i.always=!0,this.addCallbackEntry_(i),this},goog.Promise.prototype.thenCatch=function(e,t){return goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenCatch")),this.addChildPromise_(null,e,t)},goog.Promise.prototype.catch=goog.Promise.prototype.thenCatch,goog.Promise.prototype.cancel=function(e){if(this.state_==goog.Promise.State_.PENDING){var t=new goog.Promise.CancellationError(e);module$contents$goog$async$run_run(function(){this.cancelInternal_(t)},this)}},goog.Promise.prototype.cancelInternal_=function(e){this.state_==goog.Promise.State_.PENDING&&(this.parent_?(this.parent_.cancelChild_(this,e),this.parent_=null):this.resolve_(goog.Promise.State_.REJECTED,e))},goog.Promise.prototype.cancelChild_=function(e,t){if(this.callbackEntries_){for(var i=0,n=null,r=null,u=this.callbackEntries_;u&&(u.always||(i++,u.child==e&&(n=u),!(n&&1<i)));u=u.next)n||(r=u);n&&(this.state_==goog.Promise.State_.PENDING&&i==1?this.cancelInternal_(t):(r?this.removeEntryAfter_(r):this.popEntry_(),this.executeCallback_(n,goog.Promise.State_.REJECTED,t)))}},goog.Promise.prototype.addCallbackEntry_=function(e){this.hasEntry_()||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_(),this.queueEntry_(e)},goog.Promise.prototype.addChildPromise_=function(e,t,i){e&&(e=module$contents$goog$debug$asyncStackTag_wrap(e,"goog.Promise.then")),t&&(t=module$contents$goog$debug$asyncStackTag_wrap(t,"goog.Promise.then"));var n=goog.Promise.getCallbackEntry_(null,null,null);return n.child=new goog.Promise(function(r,u){n.onFulfilled=e?function(d){try{var c=e.call(i,d);r(c)}catch(b){u(b)}}:r,n.onRejected=t?function(d){try{var c=t.call(i,d);c===void 0&&d instanceof goog.Promise.CancellationError?u(d):r(c)}catch(b){u(b)}}:u}),n.child.parent_=this,this.addCallbackEntry_(n),n.child},goog.Promise.prototype.unblockAndFulfill_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.FULFILLED,e)},goog.Promise.prototype.unblockAndReject_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.REJECTED,e)},goog.Promise.prototype.resolve_=function(e,t){this.state_==goog.Promise.State_.PENDING&&(this===t&&(e=goog.Promise.State_.REJECTED,t=new TypeError("Promise cannot resolve to itself")),this.state_=goog.Promise.State_.BLOCKED,goog.Promise.maybeThen_(t,this.unblockAndFulfill_,this.unblockAndReject_,this)||(this.result_=t,this.state_=e,this.parent_=null,this.scheduleCallbacks_(),e!=goog.Promise.State_.REJECTED||t instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,t)))},goog.Promise.maybeThen_=function(e,t,i,n){if(e instanceof goog.Promise)return e.thenVoid(t,i,n),!0;if(module$contents$goog$Thenable_Thenable.isImplementedBy(e))return e.then(t,i,n),!0;if(goog.isObject(e))try{var r=e.then;if(typeof r=="function")return goog.Promise.tryThen_(e,r,t,i,n),!0}catch(u){return i.call(n,u),!0}return!1},goog.Promise.tryThen_=function(e,t,i,n,r){var u=!1,d=function(b){u||(u=!0,i.call(r,b))},c=function(b){u||(u=!0,n.call(r,b))};try{t.call(e,d,c)}catch(b){c(b)}},goog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,module$contents$goog$async$run_run(this.executeCallbacks_,this))},goog.Promise.prototype.hasEntry_=function(){return!!this.callbackEntries_},goog.Promise.prototype.queueEntry_=function(e){goog.asserts.assert(e.onFulfilled!=null),this.callbackEntriesTail_?this.callbackEntriesTail_.next=e:this.callbackEntries_=e,this.callbackEntriesTail_=e},goog.Promise.prototype.popEntry_=function(){var e=null;return this.callbackEntries_&&(e=this.callbackEntries_,this.callbackEntries_=e.next,e.next=null),this.callbackEntries_||(this.callbackEntriesTail_=null),e!=null&&goog.asserts.assert(e.onFulfilled!=null),e},goog.Promise.prototype.removeEntryAfter_=function(e){goog.asserts.assert(this.callbackEntries_),goog.asserts.assert(e!=null),e.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=e),e.next=e.next.next},goog.Promise.prototype.executeCallbacks_=function(){for(var e=null;e=this.popEntry_();)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(e,this.state_,this.result_);this.executing_=!1},goog.Promise.prototype.executeCallback_=function(e,t,i){if(t==goog.Promise.State_.REJECTED&&e.onRejected&&!e.always&&this.removeUnhandledRejection_(),e.child)e.child.parent_=null,goog.Promise.invokeCallback_(e,t,i);else try{e.always?e.onFulfilled.call(e.context):goog.Promise.invokeCallback_(e,t,i)}catch(n){goog.Promise.handleRejection_.call(null,n)}goog.Promise.returnEntry_(e)},goog.Promise.invokeCallback_=function(e,t,i){t==goog.Promise.State_.FULFILLED?e.onFulfilled.call(e.context,i):e.onRejected&&e.onRejected.call(e.context,i)},goog.Promise.prototype.addStackTrace_=function(e){if(goog.Promise.LONG_STACK_TRACES&&typeof e.stack=="string"){var t=e.stack.split(`
`,4)[3],i=e.message;i+=Array(11-i.length).join(" "),this.stack_.push(i+t)}},goog.Promise.prototype.appendLongStack_=function(e){if(goog.Promise.LONG_STACK_TRACES&&e&&typeof e.stack=="string"&&this.stack_.length){for(var t=["Promise trace:"],i=this;i;i=i.parent_){for(var n=this.currentStep_;0<=n;n--)t.push(i.stack_[n]);t.push("Value: ["+(i.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(i.result_)+">")}e.stack+=`

`+t.join(`
`)}},goog.Promise.prototype.removeUnhandledRejection_=function(){if(0<goog.Promise.UNHANDLED_REJECTION_DELAY)for(var e=this;e&&e.unhandledRejectionId_;e=e.parent_)goog.global.clearTimeout(e.unhandledRejectionId_),e.unhandledRejectionId_=0;else if(goog.Promise.UNHANDLED_REJECTION_DELAY==0)for(e=this;e&&e.hadUnhandledRejection_;e=e.parent_)e.hadUnhandledRejection_=!1},goog.Promise.addUnhandledRejection_=function(e,t){0<goog.Promise.UNHANDLED_REJECTION_DELAY?e.unhandledRejectionId_=goog.global.setTimeout(function(){e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t)},goog.Promise.UNHANDLED_REJECTION_DELAY):goog.Promise.UNHANDLED_REJECTION_DELAY==0&&(e.hadUnhandledRejection_=!0,module$contents$goog$async$run_run(function(){e.hadUnhandledRejection_&&(e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t))}))},goog.Promise.handleRejection_=module$contents$goog$async$throwException_throwException,goog.Promise.setUnhandledRejectionHandler=function(e){goog.Promise.handleRejection_=e},goog.Promise.CancellationError=function(e){module$contents$goog$debug$Error_DebugError.call(this,e),this.reportErrorToServer=!1},goog.inherits(goog.Promise.CancellationError,module$contents$goog$debug$Error_DebugError),goog.Promise.CancellationError.prototype.name="cancel",goog.Promise.Resolver_=function(e,t,i){this.promise=e,this.resolve=t,this.reject=i},goog.Timer=function(e,t){goog.events.EventTarget.call(this),this.interval_=e||1,this.timerObject_=t||goog.Timer.defaultTimerObject,this.boundTick_=goog.bind(this.tick_,this),this.last_=goog.now()},goog.inherits(goog.Timer,goog.events.EventTarget),goog.Timer.MAX_TIMEOUT_=2147483647,goog.Timer.INVALID_TIMEOUT_ID_=-1,goog.Timer.prototype.enabled=!1,goog.Timer.defaultTimerObject=goog.global,goog.Timer.intervalScale=.8,goog.Timer.prototype.timer_=null,goog.Timer.prototype.getInterval=function(){return this.interval_},goog.Timer.prototype.setInterval=function(e){this.interval_=e,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()},goog.Timer.prototype.tick_=function(){if(this.enabled){var e=goog.now()-this.last_;0<e&&e<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-e):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.stop(),this.start()))}},goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)},goog.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())},goog.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},goog.Timer.TICK="tick",goog.Timer.callOnce=function(e,t,i){if(typeof e=="function")i&&(e=goog.bind(e,i));else if(e&&typeof e.handleEvent=="function")e=goog.bind(e.handleEvent,e);else throw Error("Invalid listener argument");return Number(t)>goog.Timer.MAX_TIMEOUT_?goog.Timer.INVALID_TIMEOUT_ID_:goog.Timer.defaultTimerObject.setTimeout(e,t||0)},goog.Timer.clear=function(e){goog.Timer.defaultTimerObject.clearTimeout(e)},goog.Timer.promise=function(e,t){var i=null;return new goog.Promise(function(n,r){i=goog.Timer.callOnce(function(){n(t)},e),i==goog.Timer.INVALID_TIMEOUT_ID_&&r(Error("Failed to schedule timer."))}).thenCatch(function(n){throw goog.Timer.clear(i),n})};var module$contents$goog$async$Throttle_Throttle=function(e,t,i){goog.Disposable.call(this),this.listener_=i!=null?e.bind(i):e,this.interval_=t,this.args_=null,this.shouldFire_=!1,this.pauseCount_=0,this.timer_=null};$jscomp.inherits(module$contents$goog$async$Throttle_Throttle,goog.Disposable),module$contents$goog$async$Throttle_Throttle.prototype.fire=function(e){this.args_=arguments,this.timer_||this.pauseCount_?this.shouldFire_=!0:this.doAction_()},module$contents$goog$async$Throttle_Throttle.prototype.stop=function(){this.timer_&&(goog.Timer.clear(this.timer_),this.timer_=null,this.shouldFire_=!1,this.args_=null)},module$contents$goog$async$Throttle_Throttle.prototype.pause=function(){this.pauseCount_++},module$contents$goog$async$Throttle_Throttle.prototype.resume=function(){this.pauseCount_--,this.pauseCount_||!this.shouldFire_||this.timer_||(this.shouldFire_=!1,this.doAction_())},module$contents$goog$async$Throttle_Throttle.prototype.disposeInternal=function(){goog.Disposable.prototype.disposeInternal.call(this),this.stop()},module$contents$goog$async$Throttle_Throttle.prototype.onTimer_=function(){this.timer_=null,this.shouldFire_&&!this.pauseCount_&&(this.shouldFire_=!1,this.doAction_())},module$contents$goog$async$Throttle_Throttle.prototype.doAction_=function(){var e=this;this.timer_=goog.Timer.callOnce(function(){return e.onTimer_()},this.interval_);var t=this.args_;this.args_=null,this.listener_.apply(null,t)},goog.async.Throttle=module$contents$goog$async$Throttle_Throttle,goog.promise.deferredBase={};function module$contents$goog$promise$deferredBase_DeferredBaseDoNotUse(){}goog.promise.deferredBase.DeferredBaseDoNotUse=module$contents$goog$promise$deferredBase_DeferredBaseDoNotUse,goog.async.Deferred=function(e,t){if(this.sequence_=[],this.onCancelFunction_=e,this.defaultScope_=t||null,this.hadError_=this.fired_=!1,this.result_=void 0,this.silentlyCanceled_=this.blocking_=this.blocked_=!1,this.unhandledErrorId_=0,this.parent_=null,this.branches_=0,goog.async.Deferred.LONG_STACK_TRACES&&(this.constructorStack_=null,Error.captureStackTrace)){var i={stack:""};Error.captureStackTrace(i,goog.async.Deferred),typeof i.stack=="string"&&(this.constructorStack_=i.stack.replace(/^[^\n]*\n/,""))}},goog.inherits(goog.async.Deferred,module$contents$goog$promise$deferredBase_DeferredBaseDoNotUse),goog.async.Deferred.STRICT_ERRORS=!1,goog.async.Deferred.LONG_STACK_TRACES=!1,goog.async.Deferred.prototype.cancel=function(e){if(this.hasFired())this.result_ instanceof goog.async.Deferred&&this.result_.cancel();else{if(this.parent_){var t=this.parent_;delete this.parent_,e?t.cancel(e):t.branchCancel_()}this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCanceled_=!0,this.hasFired()||this.errback(new goog.async.Deferred.CanceledError(this))}},goog.async.Deferred.prototype.branchCancel_=function(){this.branches_--,0>=this.branches_&&this.cancel()},goog.async.Deferred.prototype.continue_=function(e,t){this.blocked_=!1,this.updateResult_(e,t)},goog.async.Deferred.prototype.updateResult_=function(e,t){this.fired_=!0,this.result_=t,this.hadError_=!e,this.fire_()},goog.async.Deferred.prototype.check_=function(){if(this.hasFired()){if(!this.silentlyCanceled_)throw new goog.async.Deferred.AlreadyCalledError(this);this.silentlyCanceled_=!1}},goog.async.Deferred.prototype.callback=function(e){this.check_(),this.assertNotDeferred_(e),this.updateResult_(!0,e)},goog.async.Deferred.prototype.errback=function(e){this.check_(),this.assertNotDeferred_(e),this.makeStackTraceLong_(e),this.updateResult_(!1,e)},goog.async.Deferred.unhandledErrorHandler_=function(e){throw e},goog.async.Deferred.setUnhandledErrorHandler=function(e){goog.async.Deferred.unhandledErrorHandler_=e},goog.async.Deferred.prototype.makeStackTraceLong_=function(e){goog.async.Deferred.LONG_STACK_TRACES&&this.constructorStack_&&goog.isObject(e)&&e.stack&&/^[^\n]+(\n   [^\n]+)+/.test(e.stack)&&(e.stack=e.stack+`
DEFERRED OPERATION:
`+this.constructorStack_)},goog.async.Deferred.prototype.assertNotDeferred_=function(e){goog.asserts.assert(!(e instanceof goog.async.Deferred),"An execution sequence may not be initiated with a blocking Deferred.")},goog.async.Deferred.prototype.addCallback=function(e,t){return this.addCallbacks(e,null,t)},goog.async.Deferred.prototype.addErrback=function(e,t){return this.addCallbacks(null,e,t)},goog.async.Deferred.prototype.addBoth=function(e,t){return this.addCallbacks(e,e,t)},goog.async.Deferred.prototype.addFinally=function(e,t){return this.addCallbacks(e,function(i){var n=e.call(this,i);if(n===void 0)throw i;return n},t)},goog.async.Deferred.prototype.addCallbacks=function(e,t,i){return goog.asserts.assert(!this.blocking_,"Blocking Deferreds can not be re-used"),this.sequence_.push([e,t,i]),this.hasFired()&&this.fire_(),this},goog.async.Deferred.prototype.then=function(e,t,i){var n,r,u=new goog.Promise(function(d,c){r=d,n=c});return this.addCallbacks(r,function(d){return d instanceof goog.async.Deferred.CanceledError?u.cancel():n(d),goog.async.Deferred.CONVERTED_TO_PROMISE_},this),u.then(e,t,i)},module$contents$goog$Thenable_Thenable.addImplementation(goog.async.Deferred),goog.async.Deferred.prototype.chainDeferred=function(e){return this.addCallbacks(e.callback,e.errback,e),this},goog.async.Deferred.prototype.awaitDeferred=function(e){return e instanceof goog.async.Deferred?this.addCallback(goog.bind(e.branch,e)):this.addCallback(function(){return e})},goog.async.Deferred.prototype.branch=function(e){var t=new goog.async.Deferred;return this.chainDeferred(t),e&&(t.parent_=this,this.branches_++),t},goog.async.Deferred.prototype.hasFired=function(){return this.fired_},goog.async.Deferred.prototype.isError=function(e){return e instanceof Error},goog.async.Deferred.prototype.hasErrback_=function(){return module$contents$goog$array_some(this.sequence_,function(e){return typeof e[1]=="function"})},goog.async.Deferred.prototype.getLastValueForMigration=function(){return this.hasFired()&&!this.hadError_?this.result_:void 0},goog.async.Deferred.CONVERTED_TO_PROMISE_={},goog.async.Deferred.prototype.fire_=function(){this.unhandledErrorId_&&this.hasFired()&&this.hasErrback_()&&(goog.async.Deferred.unscheduleError_(this.unhandledErrorId_),this.unhandledErrorId_=0),this.parent_&&(this.parent_.branches_--,delete this.parent_);for(var e=this.result_,t=!1,i=!1,n=!1;this.sequence_.length&&!this.blocked_;){n=!1;var r=this.sequence_.shift(),u=r[0],d=r[1],c=r[2],b=this.hadError_?d:u;if(b)try{var S=b.call(c||this.defaultScope_,e);S===goog.async.Deferred.CONVERTED_TO_PROMISE_&&(n=!0,S=void 0),S!==void 0&&(this.hadError_=this.hadError_&&(S==e||this.isError(S)),this.result_=e=S),(module$contents$goog$Thenable_Thenable.isImplementedBy(e)||typeof goog.global.Promise=="function"&&e instanceof goog.global.Promise)&&(this.blocked_=i=!0)}catch(D){e=D,this.hadError_=!0,this.makeStackTraceLong_(e),this.hasErrback_()||(t=!0)}}if(this.result_=e,i){var C=goog.bind(this.continue_,this,!0),O=goog.bind(this.continue_,this,!1);e instanceof goog.async.Deferred?(e.addCallbacks(C,O),e.blocking_=!0):e.then(C,O)}else!goog.async.Deferred.STRICT_ERRORS||n||!this.isError(e)||e instanceof goog.async.Deferred.CanceledError||(t=this.hadError_=!0);t&&(this.unhandledErrorId_=goog.async.Deferred.scheduleError_(e))},goog.async.Deferred.succeed=function(e){var t=new goog.async.Deferred;return t.callback(e),t},goog.async.Deferred.fromPromise=function(e){var t=new goog.async.Deferred;return e.then(function(i){t.callback(i)},function(i){t.errback(i)}),t},goog.async.Deferred.fail=function(e){var t=new goog.async.Deferred;return t.errback(e),t},goog.async.Deferred.canceled=function(){var e=new goog.async.Deferred;return e.cancel(),e},goog.async.Deferred.when=function(e,t,i){return e instanceof goog.async.Deferred?e.branch(!0).addCallback(t,i):goog.async.Deferred.succeed(e).addCallback(t,i)},goog.async.Deferred.AlreadyCalledError=function(e){module$contents$goog$debug$Error_DebugError.call(this),this.deferred=e},goog.inherits(goog.async.Deferred.AlreadyCalledError,module$contents$goog$debug$Error_DebugError),goog.async.Deferred.AlreadyCalledError.prototype.message="Deferred has already fired",goog.async.Deferred.AlreadyCalledError.prototype.name="AlreadyCalledError",goog.async.Deferred.CanceledError=function(e){module$contents$goog$debug$Error_DebugError.call(this),this.deferred=e},goog.inherits(goog.async.Deferred.CanceledError,module$contents$goog$debug$Error_DebugError),goog.async.Deferred.CanceledError.prototype.message="Deferred was canceled",goog.async.Deferred.CanceledError.prototype.name="CanceledError",goog.async.Deferred.Error_=function(e){this.id_=goog.global.setTimeout(goog.bind(this.throwError,this),0),this.error_=e},goog.async.Deferred.Error_.prototype.throwError=function(){goog.asserts.assert(goog.async.Deferred.errorMap_[this.id_],"Cannot throw an error that is not scheduled."),delete goog.async.Deferred.errorMap_[this.id_],goog.async.Deferred.unhandledErrorHandler_(this.error_)},goog.async.Deferred.Error_.prototype.resetTimer=function(){goog.global.clearTimeout(this.id_)},goog.async.Deferred.errorMap_={},goog.async.Deferred.scheduleError_=function(e){var t=new goog.async.Deferred.Error_(e);return goog.async.Deferred.errorMap_[t.id_]=t,t.id_},goog.async.Deferred.unscheduleError_=function(e){var t=goog.async.Deferred.errorMap_[e];t&&(t.resetTimer(),delete goog.async.Deferred.errorMap_[e])},goog.async.Deferred.assertNoErrors=function(){var e=goog.async.Deferred.errorMap_,t;for(t in e){var i=e[t];i.resetTimer(),i.throwError()}},goog.net={},goog.net.jsloader={},goog.net.jsloader.Options={},goog.net.jsloader.GLOBAL_VERIFY_OBJS_="closure_verification",goog.net.jsloader.DEFAULT_TIMEOUT=5e3,goog.net.jsloader.scriptsToLoad_=[],goog.net.jsloader.safeLoadMany=function(e,t){if(!e.length)return goog.async.Deferred.succeed(null);var i=goog.net.jsloader.scriptsToLoad_.length;if(module$contents$goog$array_extend(goog.net.jsloader.scriptsToLoad_,e),i)return goog.net.jsloader.scriptLoadingDeferred_;e=goog.net.jsloader.scriptsToLoad_;var n=function(){var r=e.shift(),u=goog.net.jsloader.safeLoad(r,t);return e.length&&u.addBoth(n),u};return goog.net.jsloader.scriptLoadingDeferred_=n(),goog.net.jsloader.scriptLoadingDeferred_},goog.net.jsloader.safeLoad=function(e,t){var i=t||{},n=i.document||document,r=goog.html.TrustedResourceUrl.unwrap(e),u=new goog.dom.DomHelper(n).createElement(goog.dom.TagName.SCRIPT),d={script_:u,timeout_:void 0},c=new goog.async.Deferred(goog.net.jsloader.cancel_,d),b=null,S=i.timeout!=null?i.timeout:goog.net.jsloader.DEFAULT_TIMEOUT;0<S&&(b=window.setTimeout(function(){goog.net.jsloader.cleanup_(u,!0),c.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.TIMEOUT,"Timeout reached for loading script "+r))},S),d.timeout_=b),u.onload=u.onreadystatechange=function(){u.readyState&&u.readyState!="loaded"&&u.readyState!="complete"||(goog.net.jsloader.cleanup_(u,i.cleanupWhenDone||!1,b),c.callback(null))},u.onerror=function(){goog.net.jsloader.cleanup_(u,!0,b),c.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.LOAD_ERROR,"Error while loading script "+r))};var C=i.attributes||{};return module$contents$goog$object_extend(C,{type:"text/javascript",charset:"UTF-8"}),goog.dom.setProperties(u,C),goog.dom.safe.setScriptSrc(u,e),goog.net.jsloader.getScriptParentElement_(n).appendChild(u),c},goog.net.jsloader.safeLoadAndVerify=function(e,t,i){goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]||(goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]={});var n=goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_],r=goog.html.TrustedResourceUrl.unwrap(e);if(n[t]!==void 0)return goog.async.Deferred.fail(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_OBJECT_ALREADY_EXISTS,"Verification object "+t+" already defined."));var u=goog.net.jsloader.safeLoad(e,i),d=new goog.async.Deferred(goog.bind(u.cancel,u));return u.addCallback(function(){var c=n[t];c!==void 0?(d.callback(c),delete n[t]):d.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_ERROR,"Script "+r+" loaded, but verification object "+t+" was not defined."))}),u.addErrback(function(c){n[t]!==void 0&&delete n[t],d.errback(c)}),d},goog.net.jsloader.getScriptParentElement_=function(e){var t=goog.dom.getElementsByTagName(goog.dom.TagName.HEAD,e);return t&&t.length!==0?t[0]:e.documentElement},goog.net.jsloader.cancel_=function(){if(this&&this.script_){var e=this.script_;e&&e.tagName==goog.dom.TagName.SCRIPT&&goog.net.jsloader.cleanup_(e,!0,this.timeout_)}},goog.net.jsloader.cleanup_=function(e,t,i){i!=null&&goog.global.clearTimeout(i),e.onload=function(){},e.onerror=function(){},e.onreadystatechange=function(){},t&&window.setTimeout(function(){goog.dom.removeNode(e)},0)},goog.net.jsloader.ErrorCode={LOAD_ERROR:0,TIMEOUT:1,VERIFY_ERROR:2,VERIFY_OBJECT_ALREADY_EXISTS:3},goog.net.jsloader.Error=function(e,t){var i="Jsloader error (code #"+e+")";t&&(i+=": "+t),module$contents$goog$debug$Error_DebugError.call(this,i),this.code=e},goog.inherits(goog.net.jsloader.Error,module$contents$goog$debug$Error_DebugError),goog.json={},goog.json.Replacer={},goog.json.Reviver={},goog.json.USE_NATIVE_JSON=!1,goog.json.isValid=function(e){return/^\s*$/.test(e)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},goog.json.errorLogger_=function(){},goog.json.setErrorLogger=function(e){goog.json.errorLogger_=e},goog.json.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(s){try{return goog.global.JSON.parse(s)}catch(e){var error=e}var o=String(s);if(goog.json.isValid(o))try{var result=eval("("+o+")");return error&&goog.json.errorLogger_("Invalid JSON: "+o,error),result}catch(e){}throw Error("Invalid JSON string: "+o)},goog.json.serialize=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(e,t){return new goog.json.Serializer(t).serialize(e)},goog.json.Serializer=function(e){this.replacer_=e},goog.json.Serializer.prototype.serialize=function(e){var t=[];return this.serializeInternal(e,t),t.join("")},goog.json.Serializer.prototype.serializeInternal=function(e,t){if(e==null)t.push("null");else{if(typeof e=="object"){if(Array.isArray(e)){this.serializeArray(e,t);return}if(e instanceof String||e instanceof Number||e instanceof Boolean)e=e.valueOf();else{this.serializeObject_(e,t);return}}switch(typeof e){case"string":this.serializeString_(e,t);break;case"number":this.serializeNumber_(e,t);break;case"boolean":t.push(String(e));break;case"function":t.push("null");break;default:throw Error("Unknown type: "+typeof e)}}},goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},goog.json.Serializer.charsToReplace_=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,goog.json.Serializer.prototype.serializeString_=function(e,t){t.push('"',e.replace(goog.json.Serializer.charsToReplace_,function(i){var n=goog.json.Serializer.charToJsonCharCache_[i];return n||(n="\\u"+(i.charCodeAt(0)|65536).toString(16).slice(1),goog.json.Serializer.charToJsonCharCache_[i]=n),n}),'"')},goog.json.Serializer.prototype.serializeNumber_=function(e,t){t.push(isFinite(e)&&!isNaN(e)?String(e):"null")},goog.json.Serializer.prototype.serializeArray=function(e,t){var i=e.length;t.push("[");for(var n="",r=0;r<i;r++){t.push(n);var u=e[r];this.serializeInternal(this.replacer_?this.replacer_.call(e,String(r),u):u,t),n=","}t.push("]")},goog.json.Serializer.prototype.serializeObject_=function(e,t){t.push("{");var i="",n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];typeof r!="function"&&(t.push(i),this.serializeString_(n,t),t.push(":"),this.serializeInternal(this.replacer_?this.replacer_.call(e,n,r):r,t),i=",")}t.push("}")},goog.json.hybrid={},goog.json.hybrid.stringify=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(e){if(goog.global.JSON)try{return goog.global.JSON.stringify(e)}catch{}return goog.json.serialize(e)},goog.json.hybrid.parse_=function(e,t){if(goog.global.JSON)try{var i=goog.global.JSON.parse(e);return goog.asserts.assert(typeof i=="object"),i}catch{}return t(e)},goog.json.hybrid.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(e){return goog.json.hybrid.parse_(e,goog.json.parse)},goog.log={},goog.log.ENABLED=goog.debug.LOGGING_ENABLED,goog.log.ROOT_LOGGER_NAME="";var third_party$javascript$closure$log$log$classdecl$var0=function(e,t){this.name=e,this.value=t};third_party$javascript$closure$log$log$classdecl$var0.prototype.toString=function(){return this.name},goog.log.Level=third_party$javascript$closure$log$log$classdecl$var0,goog.log.Level.OFF=new goog.log.Level("OFF",1/0),goog.log.Level.SHOUT=new goog.log.Level("SHOUT",1200),goog.log.Level.SEVERE=new goog.log.Level("SEVERE",1e3),goog.log.Level.WARNING=new goog.log.Level("WARNING",900),goog.log.Level.INFO=new goog.log.Level("INFO",800),goog.log.Level.CONFIG=new goog.log.Level("CONFIG",700),goog.log.Level.FINE=new goog.log.Level("FINE",500),goog.log.Level.FINER=new goog.log.Level("FINER",400),goog.log.Level.FINEST=new goog.log.Level("FINEST",300),goog.log.Level.ALL=new goog.log.Level("ALL",0),goog.log.Level.PREDEFINED_LEVELS=[goog.log.Level.OFF,goog.log.Level.SHOUT,goog.log.Level.SEVERE,goog.log.Level.WARNING,goog.log.Level.INFO,goog.log.Level.CONFIG,goog.log.Level.FINE,goog.log.Level.FINER,goog.log.Level.FINEST,goog.log.Level.ALL],goog.log.Level.predefinedLevelsCache_=null,goog.log.Level.createPredefinedLevelsCache_=function(){goog.log.Level.predefinedLevelsCache_={};for(var e=0,t=void 0;t=goog.log.Level.PREDEFINED_LEVELS[e];e++)goog.log.Level.predefinedLevelsCache_[t.value]=t,goog.log.Level.predefinedLevelsCache_[t.name]=t},goog.log.Level.getPredefinedLevel=function(e){return goog.log.Level.predefinedLevelsCache_||goog.log.Level.createPredefinedLevelsCache_(),goog.log.Level.predefinedLevelsCache_[e]||null},goog.log.Level.getPredefinedLevelByValue=function(e){if(goog.log.Level.predefinedLevelsCache_||goog.log.Level.createPredefinedLevelsCache_(),e in goog.log.Level.predefinedLevelsCache_)return goog.log.Level.predefinedLevelsCache_[e];for(var t=0;t<goog.log.Level.PREDEFINED_LEVELS.length;++t){var i=goog.log.Level.PREDEFINED_LEVELS[t];if(i.value<=e)return i}return null};var third_party$javascript$closure$log$log$classdecl$var1=function(){};third_party$javascript$closure$log$log$classdecl$var1.prototype.getName=function(){},goog.log.Logger=third_party$javascript$closure$log$log$classdecl$var1,goog.log.Logger.Level=goog.log.Level;var third_party$javascript$closure$log$log$classdecl$var2=function(e){this.capacity_=typeof e=="number"?e:goog.log.LogBuffer.CAPACITY,this.clear()};third_party$javascript$closure$log$log$classdecl$var2.prototype.addRecord=function(e,t,i){if(!this.isBufferingEnabled())return new goog.log.LogRecord(e,t,i);var n=(this.curIndex_+1)%this.capacity_;if(this.curIndex_=n,this.isFull_){var r=this.buffer_[n];return r.reset(e,t,i),r}return this.isFull_=n==this.capacity_-1,this.buffer_[n]=new goog.log.LogRecord(e,t,i)},third_party$javascript$closure$log$log$classdecl$var2.prototype.forEachRecord=function(e){var t=this.buffer_;if(t[0]){var i=this.curIndex_,n=this.isFull_?i:-1;do n=(n+1)%this.capacity_,e(t[n]);while(n!==i)}},third_party$javascript$closure$log$log$classdecl$var2.prototype.isBufferingEnabled=function(){return 0<this.capacity_},third_party$javascript$closure$log$log$classdecl$var2.prototype.isFull=function(){return this.isFull_},third_party$javascript$closure$log$log$classdecl$var2.prototype.clear=function(){this.buffer_=Array(this.capacity_),this.curIndex_=-1,this.isFull_=!1},goog.log.LogBuffer=third_party$javascript$closure$log$log$classdecl$var2,goog.log.LogBuffer.CAPACITY=0,goog.log.LogBuffer.getInstance=function(){return goog.log.LogBuffer.instance_||(goog.log.LogBuffer.instance_=new goog.log.LogBuffer(goog.log.LogBuffer.CAPACITY)),goog.log.LogBuffer.instance_},goog.log.LogBuffer.isBufferingEnabled=function(){return goog.log.LogBuffer.getInstance().isBufferingEnabled()};var third_party$javascript$closure$log$log$classdecl$var3=function(e,t,i,n,r){this.exception_=void 0,this.reset(e||goog.log.Level.OFF,t,i,n,r)};third_party$javascript$closure$log$log$classdecl$var3.prototype.reset=function(e,t,i,n,r){this.time_=n||goog.now(),this.level_=e,this.msg_=t,this.loggerName_=i,this.exception_=void 0,this.sequenceNumber_=typeof r=="number"?r:goog.log.LogRecord.nextSequenceNumber_},third_party$javascript$closure$log$log$classdecl$var3.prototype.getLoggerName=function(){return this.loggerName_},third_party$javascript$closure$log$log$classdecl$var3.prototype.setLoggerName=function(e){this.loggerName_=e},third_party$javascript$closure$log$log$classdecl$var3.prototype.getException=function(){return this.exception_},third_party$javascript$closure$log$log$classdecl$var3.prototype.setException=function(e){this.exception_=e},third_party$javascript$closure$log$log$classdecl$var3.prototype.getLevel=function(){return this.level_},third_party$javascript$closure$log$log$classdecl$var3.prototype.setLevel=function(e){this.level_=e},third_party$javascript$closure$log$log$classdecl$var3.prototype.getMessage=function(){return this.msg_},third_party$javascript$closure$log$log$classdecl$var3.prototype.setMessage=function(e){this.msg_=e},third_party$javascript$closure$log$log$classdecl$var3.prototype.getMillis=function(){return this.time_},third_party$javascript$closure$log$log$classdecl$var3.prototype.setMillis=function(e){this.time_=e},third_party$javascript$closure$log$log$classdecl$var3.prototype.getSequenceNumber=function(){return this.sequenceNumber_},goog.log.LogRecord=third_party$javascript$closure$log$log$classdecl$var3,goog.log.LogRecord.nextSequenceNumber_=0;var third_party$javascript$closure$log$log$classdecl$var4=function(e,t){this.level=null,this.handlers=[],this.parent=(t===void 0?null:t)||null,this.children=[],this.logger={getName:function(){return e}}};third_party$javascript$closure$log$log$classdecl$var4.prototype.getEffectiveLevel=function(){return this.level?this.level:this.parent?this.parent.getEffectiveLevel():(goog.asserts.fail("Root logger has no level set."),goog.log.Level.OFF)},third_party$javascript$closure$log$log$classdecl$var4.prototype.publish=function(e){for(var t=this;t;)t.handlers.forEach(function(i){i(e)}),t=t.parent},goog.log.LogRegistryEntry_=third_party$javascript$closure$log$log$classdecl$var4;var third_party$javascript$closure$log$log$classdecl$var5=function(){this.entries={};var e=new goog.log.LogRegistryEntry_(goog.log.ROOT_LOGGER_NAME);e.level=goog.log.Level.CONFIG,this.entries[goog.log.ROOT_LOGGER_NAME]=e};third_party$javascript$closure$log$log$classdecl$var5.prototype.getLogRegistryEntry=function(e,t){var i=this.entries[e];if(i)return t!==void 0&&(i.level=t),i;var n=e.lastIndexOf("."),r=e.slice(0,Math.max(n,0)),u=this.getLogRegistryEntry(r),d=new goog.log.LogRegistryEntry_(e,u);return this.entries[e]=d,u.children.push(d),t!==void 0&&(d.level=t),d},third_party$javascript$closure$log$log$classdecl$var5.prototype.getAllLoggers=function(){var e=this;return Object.keys(this.entries).map(function(t){return e.entries[t].logger})},goog.log.LogRegistry_=third_party$javascript$closure$log$log$classdecl$var5,goog.log.LogRegistry_.getInstance=function(){return goog.log.LogRegistry_.instance_||(goog.log.LogRegistry_.instance_=new goog.log.LogRegistry_),goog.log.LogRegistry_.instance_},goog.log.getLogger=function(e,t){return goog.log.ENABLED?goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e,t).logger:null},goog.log.getRootLogger=function(){return goog.log.ENABLED?goog.log.LogRegistry_.getInstance().getLogRegistryEntry(goog.log.ROOT_LOGGER_NAME).logger:null},goog.log.addHandler=function(e,t){goog.log.ENABLED&&e&&goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName()).handlers.push(t)},goog.log.removeHandler=function(e,t){if(goog.log.ENABLED&&e){var i=goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName()),n=i.handlers.indexOf(t);if(n!==-1)return i.handlers.splice(n,1),!0}return!1},goog.log.setLevel=function(e,t){goog.log.ENABLED&&e&&(goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName()).level=t)},goog.log.getLevel=function(e){return goog.log.ENABLED&&e?goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName()).level:null},goog.log.getEffectiveLevel=function(e){return goog.log.ENABLED&&e?goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName()).getEffectiveLevel():goog.log.Level.OFF},goog.log.isLoggable=function(e,t){return goog.log.ENABLED&&e&&t?t.value>=goog.log.getEffectiveLevel(e).value:!1},goog.log.getAllLoggers=function(){return goog.log.ENABLED?goog.log.LogRegistry_.getInstance().getAllLoggers():[]},goog.log.getLogRecord=function(e,t,i,n){var r=goog.log.LogBuffer.getInstance().addRecord(t||goog.log.Level.OFF,i,e.getName());return r.setException(n),r},goog.log.publishLogRecord=function(e,t){goog.log.ENABLED&&e&&goog.log.isLoggable(e,t.getLevel())&&goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName()).publish(t)},goog.log.log=function(e,t,i,n){if(goog.log.ENABLED&&e&&goog.log.isLoggable(e,t)){t=t||goog.log.Level.OFF;var r=goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName());typeof i=="function"&&(i=i());var u=goog.log.LogBuffer.getInstance().addRecord(t,i,e.getName());u.setException(n),r.publish(u)}},goog.log.error=function(e,t,i){goog.log.ENABLED&&e&&goog.log.log(e,goog.log.Level.SEVERE,t,i)},goog.log.warning=function(e,t,i){goog.log.ENABLED&&e&&goog.log.log(e,goog.log.Level.WARNING,t,i)},goog.log.info=function(e,t,i){goog.log.ENABLED&&e&&goog.log.log(e,goog.log.Level.INFO,t,i)},goog.log.fine=function(e,t,i){goog.log.ENABLED&&e&&goog.log.log(e,goog.log.Level.FINE,t,i)},goog.net.ErrorCode={NO_ERROR:0,ACCESS_DENIED:1,FILE_NOT_FOUND:2,FF_SILENT_ERROR:3,CUSTOM_ERROR:4,EXCEPTION:5,HTTP_ERROR:6,ABORT:7,TIMEOUT:8,OFFLINE:9},goog.net.ErrorCode.getDebugMessage=function(e){switch(e){case goog.net.ErrorCode.NO_ERROR:return"No Error";case goog.net.ErrorCode.ACCESS_DENIED:return"Access denied to content document";case goog.net.ErrorCode.FILE_NOT_FOUND:return"File not found";case goog.net.ErrorCode.FF_SILENT_ERROR:return"Firefox silently errored";case goog.net.ErrorCode.CUSTOM_ERROR:return"Application custom error";case goog.net.ErrorCode.EXCEPTION:return"An exception occurred";case goog.net.ErrorCode.HTTP_ERROR:return"Http response at 400 or 500 level";case goog.net.ErrorCode.ABORT:return"Request was aborted";case goog.net.ErrorCode.TIMEOUT:return"Request timed out";case goog.net.ErrorCode.OFFLINE:return"The resource is not available offline";default:return"Unrecognized error code"}},goog.net.EventType={COMPLETE:"complete",SUCCESS:"success",ERROR:"error",ABORT:"abort",READY:"ready",READY_STATE_CHANGE:"readystatechange",TIMEOUT:"timeout",INCREMENTAL_DATA:"incrementaldata",PROGRESS:"progress",DOWNLOAD_PROGRESS:"downloadprogress",UPLOAD_PROGRESS:"uploadprogress"},goog.net.HttpStatus={CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,PERMANENT_REDIRECT:308,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUEST_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,INSUFFICIENT_STORAGE:507,NETWORK_AUTHENTICATION_REQUIRED:511,QUIRK_IE_NO_CONTENT:1223},goog.net.HttpStatus.isSuccess=function(e){switch(e){case goog.net.HttpStatus.OK:case goog.net.HttpStatus.CREATED:case goog.net.HttpStatus.ACCEPTED:case goog.net.HttpStatus.NO_CONTENT:case goog.net.HttpStatus.PARTIAL_CONTENT:case goog.net.HttpStatus.NOT_MODIFIED:case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:return!0;default:return!1}},goog.net.XhrLike=function(){},goog.net.XhrLike.prototype.open=function(e,t,i,n,r){},goog.net.XhrLike.prototype.send=function(e){},goog.net.XhrLike.prototype.abort=function(){},goog.net.XhrLike.prototype.setRequestHeader=function(e,t){},goog.net.XhrLike.prototype.getResponseHeader=function(e){},goog.net.XhrLike.prototype.getAllResponseHeaders=function(){},goog.net.XhrLike.prototype.setTrustToken=function(e){},goog.net.XmlHttpFactory=function(){},goog.net.XmlHttpFactory.prototype.cachedOptions_=null,goog.net.XmlHttpFactory.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())},goog.net.WrapperXmlHttpFactory=function(e,t){this.xhrFactory_=e,this.optionsFactory_=t},goog.inherits(goog.net.WrapperXmlHttpFactory,goog.net.XmlHttpFactory),goog.net.WrapperXmlHttpFactory.prototype.createInstance=function(){return this.xhrFactory_()},goog.net.WrapperXmlHttpFactory.prototype.getOptions=function(){return this.optionsFactory_()},goog.net.XmlHttp=function(){return goog.net.XmlHttp.factory_.createInstance()},goog.net.XmlHttp.ASSUME_NATIVE_XHR=!1,goog.net.XmlHttpDefines={},goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR=!1,goog.net.XmlHttp.getOptions=function(){return goog.net.XmlHttp.factory_.getOptions()},goog.net.XmlHttp.OptionType={USE_NULL_FUNCTION:0,LOCAL_REQUEST_ERROR:1},goog.net.XmlHttp.ReadyState={UNINITIALIZED:0,LOADING:1,LOADED:2,INTERACTIVE:3,COMPLETE:4},goog.net.XmlHttp.setFactory=function(e,t){goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(goog.asserts.assert(e),goog.asserts.assert(t)))},goog.net.XmlHttp.setGlobalFactory=function(e){goog.net.XmlHttp.factory_=e},goog.net.DefaultXmlHttpFactory=function(){},goog.inherits(goog.net.DefaultXmlHttpFactory,goog.net.XmlHttpFactory),goog.net.DefaultXmlHttpFactory.prototype.createInstance=function(){var e=this.getProgId_();return e?new ActiveXObject(e):new XMLHttpRequest},goog.net.DefaultXmlHttpFactory.prototype.internalGetOptions=function(){var e={};return this.getProgId_()&&(e[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]=!0,e[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]=!0),e},goog.net.DefaultXmlHttpFactory.prototype.getProgId_=function(){if(goog.net.XmlHttp.ASSUME_NATIVE_XHR||goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR)return"";if(!this.ieProgId_&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<e.length;t++){var i=e[t];try{return new ActiveXObject(i),this.ieProgId_=i}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return this.ieProgId_},goog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory),goog.net.XhrIo=function(e){goog.events.EventTarget.call(this),this.headers=new Map,this.xmlHttpFactory_=e||null,this.active_=!1,this.xhrOptions_=this.xhr_=null,this.lastMethod_=this.lastUri_="",this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR,this.lastError_="",this.inAbort_=this.inOpen_=this.inSend_=this.errorDispatched_=!1,this.timeoutInterval_=0,this.timeoutId_=null,this.responseType_=goog.net.XhrIo.ResponseType.DEFAULT,this.useXhr2Timeout_=this.progressEventsEnabled_=this.withCredentials_=!1,this.trustToken_=null},goog.inherits(goog.net.XhrIo,goog.events.EventTarget),goog.net.XhrIo.ResponseType={DEFAULT:"",TEXT:"text",DOCUMENT:"document",BLOB:"blob",ARRAY_BUFFER:"arraybuffer"},goog.net.XhrIo.prototype.logger_=goog.log.getLogger("goog.net.XhrIo"),goog.net.XhrIo.CONTENT_TYPE_HEADER="Content-Type",goog.net.XhrIo.CONTENT_TRANSFER_ENCODING="Content-Transfer-Encoding",goog.net.XhrIo.HTTP_SCHEME_PATTERN=/^https?$/i,goog.net.XhrIo.METHODS_WITH_FORM_DATA=["POST","PUT"],goog.net.XhrIo.FORM_CONTENT_TYPE="application/x-www-form-urlencoded;charset=utf-8",goog.net.XhrIo.XHR2_TIMEOUT_="timeout",goog.net.XhrIo.XHR2_ON_TIMEOUT_="ontimeout",goog.net.XhrIo.sendInstances_=[],goog.net.XhrIo.send=function(e,t,i,n,r,u,d){var c=new goog.net.XhrIo;return goog.net.XhrIo.sendInstances_.push(c),t&&c.listen(goog.net.EventType.COMPLETE,t),c.listenOnce(goog.net.EventType.READY,c.cleanupSend_),u&&c.setTimeoutInterval(u),d&&c.setWithCredentials(d),c.send(e,i,n,r),c},goog.net.XhrIo.cleanup=function(){for(var e=goog.net.XhrIo.sendInstances_;e.length;)e.pop().dispose()},goog.net.XhrIo.protectEntryPoints=function(e){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=e.protectEntryPoint(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)},goog.net.XhrIo.prototype.cleanupSend_=function(){this.dispose(),module$contents$goog$array_remove(goog.net.XhrIo.sendInstances_,this)},goog.net.XhrIo.prototype.getTimeoutInterval=function(){return this.timeoutInterval_},goog.net.XhrIo.prototype.setTimeoutInterval=function(e){this.timeoutInterval_=Math.max(0,e)},goog.net.XhrIo.prototype.setResponseType=function(e){this.responseType_=e},goog.net.XhrIo.prototype.getResponseType=function(){return this.responseType_},goog.net.XhrIo.prototype.setWithCredentials=function(e){this.withCredentials_=e},goog.net.XhrIo.prototype.getWithCredentials=function(){return this.withCredentials_},goog.net.XhrIo.prototype.setProgressEventsEnabled=function(e){this.progressEventsEnabled_=e},goog.net.XhrIo.prototype.getProgressEventsEnabled=function(){return this.progressEventsEnabled_},goog.net.XhrIo.prototype.setTrustToken=function(e){this.trustToken_=e},goog.net.XhrIo.prototype.send=function(e,t,i,n){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+e);var r=t?t.toUpperCase():"GET";this.lastUri_=e,this.lastError_="",this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR,this.lastMethod_=r,this.errorDispatched_=!1,this.active_=!0,this.xhr_=this.createXhr(),this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():goog.net.XmlHttp.getOptions(),this.xhr_.onreadystatechange=goog.bind(this.onReadyStateChange_,this),this.getProgressEventsEnabled()&&"onprogress"in this.xhr_&&(this.xhr_.onprogress=goog.bind(function(be){this.onProgressHandler_(be,!0)},this),this.xhr_.upload&&(this.xhr_.upload.onprogress=goog.bind(this.onProgressHandler_,this)));try{goog.log.fine(this.logger_,this.formatMsg_("Opening Xhr")),this.inOpen_=!0,this.xhr_.open(r,String(e),!0),this.inOpen_=!1}catch(be){goog.log.fine(this.logger_,this.formatMsg_("Error opening Xhr: "+be.message)),this.error_(goog.net.ErrorCode.EXCEPTION,be);return}var u=i||"",d=new Map(this.headers);if(n)if(Object.getPrototypeOf(n)===Object.prototype)for(var c in n)d.set(c,n[c]);else if(typeof n.keys=="function"&&typeof n.get=="function")for(var b=$jscomp.makeIterator(n.keys()),S=b.next();!S.done;S=b.next()){var C=S.value;d.set(C,n.get(C))}else throw Error("Unknown input type for opt_headers: "+String(n));var O=Array.from(d.keys()).find(function(be){return goog.string.caseInsensitiveEquals(goog.net.XhrIo.CONTENT_TYPE_HEADER,be)}),D=goog.global.FormData&&u instanceof goog.global.FormData;!module$contents$goog$array_contains(goog.net.XhrIo.METHODS_WITH_FORM_DATA,r)||O||D||d.set(goog.net.XhrIo.CONTENT_TYPE_HEADER,goog.net.XhrIo.FORM_CONTENT_TYPE);for(var H=$jscomp.makeIterator(d),K=H.next();!K.done;K=H.next()){var le=$jscomp.makeIterator(K.value),de=le.next().value,fe=le.next().value;this.xhr_.setRequestHeader(de,fe)}if(this.responseType_&&(this.xhr_.responseType=this.responseType_),"withCredentials"in this.xhr_&&this.xhr_.withCredentials!==this.withCredentials_&&(this.xhr_.withCredentials=this.withCredentials_),"setTrustToken"in this.xhr_&&this.trustToken_)try{this.xhr_.setTrustToken(this.trustToken_)}catch(be){goog.log.fine(this.logger_,this.formatMsg_("Error SetTrustToken: "+be.message))}try{this.cleanUpTimeoutTimer_(),0<this.timeoutInterval_&&(this.useXhr2Timeout_=goog.net.XhrIo.shouldUseXhr2Timeout_(this.xhr_),goog.log.fine(this.logger_,this.formatMsg_("Will abort after "+this.timeoutInterval_+"ms if incomplete, xhr2 "+this.useXhr2Timeout_)),this.useXhr2Timeout_?(this.xhr_[goog.net.XhrIo.XHR2_TIMEOUT_]=this.timeoutInterval_,this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_]=goog.bind(this.timeout_,this)):this.timeoutId_=goog.Timer.callOnce(this.timeout_,this.timeoutInterval_,this)),goog.log.fine(this.logger_,this.formatMsg_("Sending request")),this.inSend_=!0,this.xhr_.send(u),this.inSend_=!1}catch(be){goog.log.fine(this.logger_,this.formatMsg_("Send error: "+be.message)),this.error_(goog.net.ErrorCode.EXCEPTION,be)}},goog.net.XhrIo.shouldUseXhr2Timeout_=function(e){return goog.userAgent.IE&&typeof e[goog.net.XhrIo.XHR2_TIMEOUT_]=="number"&&e[goog.net.XhrIo.XHR2_ON_TIMEOUT_]!==void 0},goog.net.XhrIo.prototype.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():goog.net.XmlHttp()},goog.net.XhrIo.prototype.timeout_=function(){typeof goog<"u"&&this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",this.lastErrorCode_=goog.net.ErrorCode.TIMEOUT,goog.log.fine(this.logger_,this.formatMsg_(this.lastError_)),this.dispatchEvent(goog.net.EventType.TIMEOUT),this.abort(goog.net.ErrorCode.TIMEOUT))},goog.net.XhrIo.prototype.error_=function(e,t){this.active_=!1,this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.lastError_=t,this.lastErrorCode_=e,this.dispatchErrors_(),this.cleanUpXhr_()},goog.net.XhrIo.prototype.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=!0,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ERROR))},goog.net.XhrIo.prototype.abort=function(e){this.xhr_&&this.active_&&(goog.log.fine(this.logger_,this.formatMsg_("Aborting")),this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.lastErrorCode_=e||goog.net.ErrorCode.ABORT,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ABORT),this.cleanUpXhr_())},goog.net.XhrIo.prototype.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.cleanUpXhr_(!0)),goog.net.XhrIo.superClass_.disposeInternal.call(this)},goog.net.XhrIo.prototype.onReadyStateChange_=function(){this.isDisposed()||(this.inOpen_||this.inSend_||this.inAbort_?this.onReadyStateChangeHelper_():this.onReadyStateChangeEntryPoint_())},goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()},goog.net.XhrIo.prototype.onReadyStateChangeHelper_=function(){if(this.active_&&typeof goog<"u"){if(this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE&&this.getStatus()==2)goog.log.fine(this.logger_,this.formatMsg_("Local request error detected and ignored"));else if(this.inSend_&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE)goog.Timer.callOnce(this.onReadyStateChange_,0,this);else if(this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE),this.isComplete()){goog.log.fine(this.logger_,this.formatMsg_("Request complete")),this.active_=!1;try{this.isSuccess()?(this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.SUCCESS)):(this.lastErrorCode_=goog.net.ErrorCode.HTTP_ERROR,this.lastError_=this.getStatusText()+" ["+this.getStatus()+"]",this.dispatchErrors_())}finally{this.cleanUpXhr_()}}}},goog.net.XhrIo.prototype.onProgressHandler_=function(e,t){goog.asserts.assert(e.type===goog.net.EventType.PROGRESS,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e,goog.net.EventType.PROGRESS)),this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e,t?goog.net.EventType.DOWNLOAD_PROGRESS:goog.net.EventType.UPLOAD_PROGRESS))},goog.net.XhrIo.buildProgressEvent_=function(e,t){return{type:t,lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total}},goog.net.XhrIo.prototype.cleanUpXhr_=function(e){if(this.xhr_){this.cleanUpTimeoutTimer_();var t=this.xhr_,i=this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]?function(){}:null;this.xhrOptions_=this.xhr_=null,e||this.dispatchEvent(goog.net.EventType.READY);try{t.onreadystatechange=i}catch(n){goog.log.error(this.logger_,"Problem encountered resetting onreadystatechange: "+n.message)}}},goog.net.XhrIo.prototype.cleanUpTimeoutTimer_=function(){this.xhr_&&this.useXhr2Timeout_&&(this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_]=null),this.timeoutId_&&(goog.Timer.clear(this.timeoutId_),this.timeoutId_=null)},goog.net.XhrIo.prototype.isActive=function(){return!!this.xhr_},goog.net.XhrIo.prototype.isComplete=function(){return this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE},goog.net.XhrIo.prototype.isSuccess=function(){var e=this.getStatus();return goog.net.HttpStatus.isSuccess(e)||e===0&&!this.isLastUriEffectiveSchemeHttp_()},goog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_=function(){var e=goog.uri.utils.getEffectiveScheme(String(this.lastUri_));return goog.net.XhrIo.HTTP_SCHEME_PATTERN.test(e)},goog.net.XhrIo.prototype.getReadyState=function(){return this.xhr_?this.xhr_.readyState:goog.net.XmlHttp.ReadyState.UNINITIALIZED},goog.net.XhrIo.prototype.getStatus=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.status:-1}catch{return-1}},goog.net.XhrIo.prototype.getStatusText=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.statusText:""}catch(e){return goog.log.fine(this.logger_,"Can not get status: "+e.message),""}},goog.net.XhrIo.prototype.getLastUri=function(){return String(this.lastUri_)},goog.net.XhrIo.prototype.getResponseText=function(){try{return this.xhr_?this.xhr_.responseText:""}catch(e){return goog.log.fine(this.logger_,"Can not get responseText: "+e.message),""}},goog.net.XhrIo.prototype.getResponseBody=function(){try{if(this.xhr_&&"responseBody"in this.xhr_)return this.xhr_.responseBody}catch(e){goog.log.fine(this.logger_,"Can not get responseBody: "+e.message)}return null},goog.net.XhrIo.prototype.getResponseXml=function(){try{return this.xhr_?this.xhr_.responseXML:null}catch(e){return goog.log.fine(this.logger_,"Can not get responseXML: "+e.message),null}},goog.net.XhrIo.prototype.getResponseJson=function(e){if(this.xhr_){var t=this.xhr_.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),goog.json.hybrid.parse(t)}},goog.net.XhrIo.prototype.getResponse=function(){try{if(!this.xhr_)return null;if("response"in this.xhr_)return this.xhr_.response;switch(this.responseType_){case goog.net.XhrIo.ResponseType.DEFAULT:case goog.net.XhrIo.ResponseType.TEXT:return this.xhr_.responseText;case goog.net.XhrIo.ResponseType.ARRAY_BUFFER:if("mozResponseArrayBuffer"in this.xhr_)return this.xhr_.mozResponseArrayBuffer}return goog.log.error(this.logger_,"Response type "+this.responseType_+" is not supported on this browser"),null}catch(e){return goog.log.fine(this.logger_,"Can not get response: "+e.message),null}},goog.net.XhrIo.prototype.getResponseHeader=function(e){if(this.xhr_&&this.isComplete()){var t=this.xhr_.getResponseHeader(e);return t===null?void 0:t}},goog.net.XhrIo.prototype.getAllResponseHeaders=function(){return this.xhr_&&this.getReadyState()>=goog.net.XmlHttp.ReadyState.LOADED&&this.xhr_.getAllResponseHeaders()||""},goog.net.XhrIo.prototype.getResponseHeaders=function(){for(var e={},t=this.getAllResponseHeaders().split(`\r
`),i=0;i<t.length;i++)if(!goog.string.isEmptyOrWhitespace(t[i])){var n=goog.string.splitLimit(t[i],":",1),r=n[0],u=n[1];if(typeof u=="string"){u=u.trim();var d=e[r]||[];e[r]=d,d.push(u)}}return module$contents$goog$object_map(e,function(c){return c.join(", ")})},goog.net.XhrIo.prototype.getStreamingResponseHeader=function(e){return this.xhr_?this.xhr_.getResponseHeader(e):null},goog.net.XhrIo.prototype.getAllStreamingResponseHeaders=function(){return this.xhr_?this.xhr_.getAllResponseHeaders():""},goog.net.XhrIo.prototype.getLastErrorCode=function(){return this.lastErrorCode_},goog.net.XhrIo.prototype.getLastError=function(){return typeof this.lastError_=="string"?this.lastError_:String(this.lastError_)},goog.net.XhrIo.prototype.formatMsg_=function(e){return e+" ["+this.lastMethod_+" "+this.lastUri_+" "+this.getStatus()+"]"},goog.debug.entryPointRegistry.register(function(e){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=e(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)}),ee.apiclient={};var module$contents$ee$apiclient_apiclient={};ee.apiclient.VERSION=module$exports$ee$apiVersion.V1ALPHA,ee.apiclient.API_CLIENT_VERSION="0.1.342",ee.apiclient.NULL_VALUE=module$exports$eeapiclient$domain_object.NULL_VALUE,ee.apiclient.PromiseRequestService=module$exports$eeapiclient$promise_request_service.PromiseRequestService,ee.apiclient.MakeRequestParams=module$contents$eeapiclient$request_params_MakeRequestParams,ee.apiclient.deserialize=module$contents$eeapiclient$domain_object_deserialize,ee.apiclient.serialize=module$contents$eeapiclient$domain_object_serialize;var module$contents$ee$apiclient_Call=function(e,t){module$contents$ee$apiclient_apiclient.initialize(),this.callback=e,this.requestService=new module$contents$ee$apiclient_EERequestService(!e,t)};module$contents$ee$apiclient_Call.prototype.handle=function(e){var t=this;if(e instanceof Promise){if(this.callback){var i=function(n,r){try{return t.callback(n,r)}catch(u){setTimeout(function(){throw u},0)}};e.then(i,function(n){return i(void 0,n)})}}else e.then(function(n){e=n});return e},module$contents$ee$apiclient_Call.prototype.projectsPath=function(){return"projects/"+module$contents$ee$apiclient_apiclient.getProject()},module$contents$ee$apiclient_Call.prototype.algorithms=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.projects=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.assets=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.operations=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.value=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.maps=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.map=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.image=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.table=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.tables=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.video=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.videoMap=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.classifier=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.featureView=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.thumbnails=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.videoThumbnails=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.filmstripThumbnails=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)};var module$contents$ee$apiclient_EERequestService=function(e,t){this.sync=e=e===void 0?!1:e,this.retries=t??(e?module$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_:module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_)};$jscomp.inherits(module$contents$ee$apiclient_EERequestService,module$exports$eeapiclient$promise_request_service.PromiseRequestService),module$contents$ee$apiclient_EERequestService.prototype.send=function(e,t){var i=this;module$contents$eeapiclient$request_params_processParams(e);var n=e.path||"",r=module$contents$ee$apiclient_apiclient.getSafeApiUrl()+n,u=module$contents$ee$apiclient_apiclient.makeRequest_(e.queryParams||{}),d=e.body?JSON.stringify(e.body):void 0;if(this.sync){var c=module$contents$ee$apiclient_apiclient.send(r,u,void 0,e.httpMethod,d,this.retries),b=t?module$contents$eeapiclient$domain_object_deserialize(t,c):c,S=function(C){return{then:function(O){return S(O(C))}}};return S(b)}return new Promise(function(C,O){module$contents$ee$apiclient_apiclient.send(r,u,function(D,H){H?O(H):C(D)},e.httpMethod,d,i.retries)}).then(function(C){return t?module$contents$eeapiclient$domain_object_deserialize(t,C):C})},module$contents$ee$apiclient_EERequestService.prototype.makeRequest=function(e){};var module$contents$ee$apiclient_BatchCall=function(e){module$contents$ee$apiclient_Call.call(this,e),this.requestService=new module$contents$ee$apiclient_BatchRequestService};$jscomp.inherits(module$contents$ee$apiclient_BatchCall,module$contents$ee$apiclient_Call),module$contents$ee$apiclient_BatchCall.prototype.send=function(e,t){var i=this,n=module$contents$ee$apiclient_apiclient.getSafeApiUrl()+"/batch",r=e.map(function(d){var c=$jscomp.makeIterator(d),b=c.next().value,S=$jscomp.makeIterator(c.next().value),C=S.next().value;return S.next().value,`--batch_EARTHENGINE_batch\r
Content-Type: application/http\r
Content-Transfer-Encoding: binary\r
MIME-Version: 1.0\r
Content-ID: <`+b+`>\r
\r
`+C+`\r
`}).join("")+`--batch_EARTHENGINE_batch--\r
`,u=function(d){var c={};return e.forEach(function(b){var S=$jscomp.makeIterator(b),C=S.next().value,O=$jscomp.makeIterator(S.next().value);O.next().value;var D=O.next().value;d[C]!=null&&(c[C]=module$contents$eeapiclient$domain_object_deserialize(D,d[C]))}),t?t(c):c};return this.callback?(module$contents$ee$apiclient_apiclient.send(n,null,function(d,c){return i.callback(c?d:u(d),c)},"multipart/mixed; boundary=batch_EARTHENGINE_batch",r),null):u(module$contents$ee$apiclient_apiclient.send(n,null,void 0,"multipart/mixed; boundary=batch_EARTHENGINE_batch",r))};var module$contents$ee$apiclient_BatchRequestService=function(){};$jscomp.inherits(module$contents$ee$apiclient_BatchRequestService,module$exports$eeapiclient$promise_request_service.PromiseRequestService),module$contents$ee$apiclient_BatchRequestService.prototype.send=function(e,t){var i=[e.httpMethod+" "+e.path+" HTTP/1.1"];i.push("Content-Type: application/json; charset=utf-8");var n=module$contents$ee$apiclient_apiclient.getAuthToken();n!=null&&i.push("Authorization: "+n);var r=e.body?JSON.stringify(e.body):"";return[i.join(`\r
`)+`\r
\r
`+r,t]},module$contents$ee$apiclient_BatchRequestService.prototype.makeRequest=function(e){},module$contents$ee$apiclient_apiclient.parseBatchReply=function(e,t,i){for(var n=e.split("; boundary=")[1],r=$jscomp.makeIterator(t.split("--"+n)),u=r.next();!u.done;u=r.next()){var d=u.value.split(`\r
\r
`);if(!(3>d.length)){var c=d[0].match(/\r\nContent-ID: <response-([^>]*)>/)[1],b=Number(d[1].match(/^HTTP\S*\s(\d+)\s/)[1]),S=d.slice(2).join(`\r
\r
`);i(c,b,S)}}},module$contents$ee$apiclient_apiclient.setApiKey=function(e){module$contents$ee$apiclient_apiclient.cloudApiKey_=e},module$contents$ee$apiclient_apiclient.getApiKey=function(){return module$contents$ee$apiclient_apiclient.cloudApiKey_},module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_="earthengine-legacy",module$contents$ee$apiclient_apiclient.setProject=function(e){module$contents$ee$apiclient_apiclient.project_=e},module$contents$ee$apiclient_apiclient.getProject=function(){return module$contents$ee$apiclient_apiclient.project_},module$contents$ee$apiclient_apiclient.getSafeApiUrl=function(){var e=module$contents$ee$apiclient_apiclient.apiBaseUrl_.replace(/\/api$/,"");return"window"in goog.global&&!e.match(/^https?:\/\/content-/)?e.replace(/^(https?:\/\/)(.*\.googleapis\.com)$/,"$1content-$2"):e},module$contents$ee$apiclient_apiclient.mergeAuthScopes_=function(e,t,i){var n=[];return e&&(n=n.concat(module$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_)),t&&n.push(module$contents$ee$apiclient_apiclient.STORAGE_SCOPE_),n=n.concat(i),module$contents$goog$array_removeDuplicates(n),n},module$contents$ee$apiclient_apiclient.setAuthToken=function(e,t,i,n,r,u,d,c){var b=module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!c,!1,r||[]);module$contents$ee$apiclient_apiclient.authClientId_=e,module$contents$ee$apiclient_apiclient.authScopes_=b;var S={token_type:t,access_token:i,state:b.join(" "),expires_in:n};module$contents$ee$apiclient_apiclient.handleAuthResult_(void 0,void 0,S),d===!1?u&&u():module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function(){goog.global.gapi.auth.setToken(S),u&&u()})},module$contents$ee$apiclient_apiclient.refreshAuthToken=function(e,t,i){if(module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_()){var n={client_id:String(module$contents$ee$apiclient_apiclient.authClientId_),immediate:!0,scope:module$contents$ee$apiclient_apiclient.authScopes_.join(" ")};module$contents$ee$apiclient_apiclient.authTokenRefresher_(n,function(r){if(r.error=="immediate_failed"&&i)i();else if("window"in goog.global)try{module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function(){try{goog.global.gapi.auth.setToken(r),module$contents$ee$apiclient_apiclient.handleAuthResult_(e,t,r)}catch(u){t(u.toString())}})}catch(u){t(u.toString())}else module$contents$ee$apiclient_apiclient.handleAuthResult_(e,t,r)})}},module$contents$ee$apiclient_apiclient.setAuthTokenRefresher=function(e){module$contents$ee$apiclient_apiclient.authTokenRefresher_=e},module$contents$ee$apiclient_apiclient.getAuthToken=function(){return module$contents$ee$apiclient_apiclient.authTokenExpiration_&&0<=Date.now()-module$contents$ee$apiclient_apiclient.authTokenExpiration_&&module$contents$ee$apiclient_apiclient.clearAuthToken(),module$contents$ee$apiclient_apiclient.authToken_},module$contents$ee$apiclient_apiclient.clearAuthToken=function(){module$contents$ee$apiclient_apiclient.authToken_=null,module$contents$ee$apiclient_apiclient.authTokenExpiration_=null},module$contents$ee$apiclient_apiclient.getAuthClientId=function(){return module$contents$ee$apiclient_apiclient.authClientId_},module$contents$ee$apiclient_apiclient.getAuthScopes=function(){return module$contents$ee$apiclient_apiclient.authScopes_},module$contents$ee$apiclient_apiclient.setAuthClient=function(e,t){module$contents$ee$apiclient_apiclient.authClientId_=e,module$contents$ee$apiclient_apiclient.authScopes_=t},module$contents$ee$apiclient_apiclient.setAppIdToken=function(e){module$contents$ee$apiclient_apiclient.appIdToken_=e},module$contents$ee$apiclient_apiclient.initialize=function(e,t,i,n){e!=null?module$contents$ee$apiclient_apiclient.apiBaseUrl_=e:module$contents$ee$apiclient_apiclient.initialized_||(module$contents$ee$apiclient_apiclient.apiBaseUrl_=module$contents$ee$apiclient_apiclient.DEFAULT_API_BASE_URL_),t!=null?module$contents$ee$apiclient_apiclient.tileBaseUrl_=t:module$contents$ee$apiclient_apiclient.initialized_||(module$contents$ee$apiclient_apiclient.tileBaseUrl_=module$contents$ee$apiclient_apiclient.DEFAULT_TILE_BASE_URL_),i!==void 0&&(module$contents$ee$apiclient_apiclient.xsrfToken_=i),n!=null?module$contents$ee$apiclient_apiclient.setProject(n):module$contents$ee$apiclient_apiclient.setProject(module$contents$ee$apiclient_apiclient.getProject()||module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_),module$contents$ee$apiclient_apiclient.initialized_=!0},module$contents$ee$apiclient_apiclient.reset=function(){module$contents$ee$apiclient_apiclient.apiBaseUrl_=null,module$contents$ee$apiclient_apiclient.tileBaseUrl_=null,module$contents$ee$apiclient_apiclient.xsrfToken_=null,module$contents$ee$apiclient_apiclient.initialized_=!1},module$contents$ee$apiclient_apiclient.setDeadline=function(e){module$contents$ee$apiclient_apiclient.deadlineMs_=e},module$contents$ee$apiclient_apiclient.setParamAugmenter=function(e){module$contents$ee$apiclient_apiclient.paramAugmenter_=e||goog.functions.identity},module$contents$ee$apiclient_apiclient.getApiBaseUrl=function(){return module$contents$ee$apiclient_apiclient.apiBaseUrl_},module$contents$ee$apiclient_apiclient.getTileBaseUrl=function(){return module$contents$ee$apiclient_apiclient.tileBaseUrl_},module$contents$ee$apiclient_apiclient.getXsrfToken=function(){return module$contents$ee$apiclient_apiclient.xsrfToken_},module$contents$ee$apiclient_apiclient.isInitialized=function(){return module$contents$ee$apiclient_apiclient.initialized_},module$contents$ee$apiclient_apiclient.send=function(e,t,i,n,r,u){module$contents$ee$apiclient_apiclient.initialize();var d=module$contents$ee$apiclient_apiclient.profileHook_,c="application/x-www-form-urlencoded";r&&(c="application/json",n&&n.startsWith("multipart")&&(c=n,n="POST")),n=n||"POST";var b={"Content-Type":c},S="0.1.342";S==="0.1.342"&&(S="latest"),b[module$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER]="ee-js/"+S;var C=module$contents$ee$apiclient_apiclient.getAuthToken();if(C!=null)b.Authorization=C;else if(i&&module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_())return module$contents$ee$apiclient_apiclient.refreshAuthToken(function(){module$contents$ee$apiclient_apiclient.withProfiling(d,function(){module$contents$ee$apiclient_apiclient.send(e,t,i,n)})}),null;t=t?t.clone():new goog.Uri.QueryData,module$contents$ee$apiclient_apiclient.cloudApiKey_!=null&&t.add("key",module$contents$ee$apiclient_apiclient.cloudApiKey_),d&&(b[module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER]="1"),module$contents$ee$apiclient_apiclient.getProject()&&module$contents$ee$apiclient_apiclient.getProject()!==module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_&&(b[module$contents$ee$apiclient_apiclient.USER_PROJECT_OVERRIDE_HEADER_]=module$contents$ee$apiclient_apiclient.getProject()),t=module$contents$ee$apiclient_apiclient.paramAugmenter_(t,e),module$contents$ee$apiclient_apiclient.xsrfToken_!=null&&(b["X-XSRF-Token"]=module$contents$ee$apiclient_apiclient.xsrfToken_),module$contents$ee$apiclient_apiclient.appIdToken_!=null&&(b[module$contents$ee$apiclient_apiclient.APP_ID_TOKEN_HEADER_]=module$contents$ee$apiclient_apiclient.appIdToken_);var O=r||null,D=t?t.toString():"";n==="POST"&&r===void 0?O=D:goog.string.isEmptyOrWhitespace(D)||(e+=goog.string.contains(e,"?")?"&":"?",e+=D);var H=e.startsWith("/")?module$contents$ee$apiclient_apiclient.apiBaseUrl_+e:e;if(i)return module$contents$ee$apiclient_apiclient.requestQueue_.push(module$contents$ee$apiclient_apiclient.buildAsyncRequest_(H,i,n,O,b,u)),module$contents$ee$apiclient_apiclient.RequestThrottle_.fire(),null;for(var K=function(be,Ie){this.setRequestHeader&&this.setRequestHeader(Ie,be)},le,de=0,fe=u??module$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_;le=(0,goog.net.XmlHttp)(),le.open(n,H,!1),module$contents$goog$object_forEach(b,K,le),le.send(O),!(le.status!=429||de>fe);)de++;return module$contents$ee$apiclient_apiclient.handleResponse_(le.status,function(Ie){try{return le.getResponseHeader(Ie)}catch{return null}},le.responseText,d,void 0,H,n)},module$contents$ee$apiclient_apiclient.buildAsyncRequest_=function(e,t,i,n,r,u){var d=0,c={url:e,method:i,content:n,headers:r},b=module$contents$ee$apiclient_apiclient.profileHook_,S=u??module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_;return c.callback=function(C){var O=C.target;return O.getStatus()==429&&d<S?(d++,setTimeout(function(){module$contents$ee$apiclient_apiclient.requestQueue_.push(c),module$contents$ee$apiclient_apiclient.RequestThrottle_.fire()},module$contents$ee$apiclient_apiclient.calculateRetryWait_(d)),null):module$contents$ee$apiclient_apiclient.handleResponse_(O.getStatus(),goog.bind(O.getResponseHeader,O),O.getResponseText(),b,t,e,i)},c},module$contents$ee$apiclient_apiclient.withProfiling=function(e,t,i){var n=module$contents$ee$apiclient_apiclient.profileHook_;try{return module$contents$ee$apiclient_apiclient.profileHook_=e,t.call(i)}finally{module$contents$ee$apiclient_apiclient.profileHook_=n}},module$contents$ee$apiclient_apiclient.handleResponse_=function(e,t,i,n,r,u,d){var c=n?t(module$contents$ee$apiclient_apiclient.PROFILE_HEADER):"";c&&n&&n(c);var b=function(fe){try{var be=JSON.parse(fe);return goog.isObject(be)&&"error"in be&&"message"in be.error?be.error.message:{parsed:be}}catch{return"Invalid JSON: "+fe}},S=function(fe){if(fe===0)return"Failed to contact Earth Engine servers. Please check your connection, firewall, or browser extension settings.";if(200>fe||300<=fe)return"Server returned HTTP code: "+fe+" for "+d+" "+u},C,O=t("Content-Type")||"application/json",D=O.replace(/;.*/,"");if(D==="application/json"||D==="text/json"){var H=b(i);if(H.parsed){var K=H.parsed;K===void 0&&(C="Malformed response: "+i)}else C=H}else if(D==="multipart/mixed"){K={};var le=[];module$contents$ee$apiclient_apiclient.parseBatchReply(O,i,function(fe,be,Ie){var De=b(Ie);De.parsed&&(K[fe]=De.parsed);var Ze=(De.parsed?"":De)||S(be);Ze&&le.push(fe+": "+Ze)}),le.length&&(C=le.join(`
`))}else var de="Response was unexpectedly not JSON, but "+D;if(C=C||S(e)||de,r)return r(K,C),null;if(!C)return K;throw Error(C)},module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_=function(e){var t=function(){goog.global.gapi.config.update("client/cors",!0),module$contents$ee$apiclient_apiclient.authTokenRefresher_||module$contents$ee$apiclient_apiclient.setAuthTokenRefresher(goog.global.gapi.auth.authorize),e()};if(goog.isObject(goog.global.gapi)&&goog.isObject(goog.global.gapi.auth)&&typeof goog.global.gapi.auth.authorize=="function")t();else{for(var i=Date.now().toString(36);i in goog.global;)i+="_";goog.global[i]=function(){delete goog.global[i],t()},goog.net.jsloader.safeLoad(goog.html.TrustedResourceUrl.format(module$contents$ee$apiclient_apiclient.AUTH_LIBRARY_URL_,{onload:i}))}},module$contents$ee$apiclient_apiclient.handleAuthResult_=function(e,t,i){if(i.access_token){var n=i.token_type+" "+i.access_token;if(i.expires_in||i.expires_in===0){var r=900*i.expires_in,u=setTimeout(module$contents$ee$apiclient_apiclient.refreshAuthToken,.9*r);u.unref!==void 0&&u.unref(),module$contents$ee$apiclient_apiclient.authTokenExpiration_=Date.now()+r}module$contents$ee$apiclient_apiclient.authToken_=n,e&&e()}else t&&t(i.error||"Unknown error.")},module$contents$ee$apiclient_apiclient.makeRequest_=function(e){for(var t=new goog.Uri.QueryData,i=$jscomp.makeIterator(Object.entries(e)),n=i.next();!n.done;n=i.next()){var r=$jscomp.makeIterator(n.value),u=r.next().value,d=r.next().value;t.set(u,d)}return t},module$contents$ee$apiclient_apiclient.setupMockSend=function(e){function t(r,u,d){if(r=r.replace(i,"").replace(module$exports$ee$apiVersion.V1ALPHA+"/projects/"+module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_+"/",""),r in e)var c=e[r];else throw Error(r+" mock response not specified");if(typeof c=="function"&&(c=c(r,u,d)),typeof c=="string"&&(c={text:c,status:200,contentType:"application/json; charset=utf-8"}),typeof c.text!="string")throw Error(r+" mock response missing/invalid text");if(typeof c.status!="number"&&typeof c.status!="function")throw Error(r+" mock response missing/invalid status");return c}e=e?module$contents$goog$object_clone(e):{};var i;goog.net.XhrIo.send=function(r,u,d,c){i=i||module$contents$ee$apiclient_apiclient.apiBaseUrl_;var b=t(r,d,c),S=new function(){this.target={}};return S.target.getResponseText=function(){return b.text},S.target.getStatus=typeof b.status=="function"?b.status:function(){return b.status},S.target.getResponseHeader=function(C){return C==="Content-Type"?b.contentType:null},setTimeout(goog.bind(u,S,S),0),new goog.net.XhrIo};var n=function(){};n.prototype.open=function(r,u){i=i||module$contents$ee$apiclient_apiclient.apiBaseUrl_,this.url=u,this.method=r},n.prototype.setRequestHeader=function(){},n.prototype.getResponseHeader=function(r){return r==="Content-Type"&&this.contentType_||null},n.prototype.send=function(r){var u=t(this.url,this.method,r);this.responseText=u.text,this.status=typeof u.status=="function"?u.status():u.status,this.contentType_=u.contentType},goog.net.XmlHttp.setGlobalFactory({createInstance:function(){return new n},getOptions:function(){return{}}})},module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_=function(){return!(!module$contents$ee$apiclient_apiclient.authTokenRefresher_||!module$contents$ee$apiclient_apiclient.authClientId_)},module$contents$ee$apiclient_apiclient.calculateRetryWait_=function(e){return Math.min(module$contents$ee$apiclient_apiclient.MAX_RETRY_WAIT_,Math.pow(2,e)*module$contents$ee$apiclient_apiclient.BASE_RETRY_WAIT_)},module$contents$ee$apiclient_apiclient.sleep_=function(e){for(var t=new Date().getTime()+e;new Date().getTime()<t;);},module$contents$ee$apiclient_apiclient.NetworkRequest_=function(){},module$contents$ee$apiclient_apiclient.requestQueue_=[],module$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_=350,module$contents$ee$apiclient_apiclient.RequestThrottle_=new module$contents$goog$async$Throttle_Throttle(function(){var e=module$contents$ee$apiclient_apiclient.requestQueue_.shift();e&&goog.net.XhrIo.send(e.url,e.callback,e.method,e.content,e.headers,module$contents$ee$apiclient_apiclient.deadlineMs_),module$contents$goog$array_isEmpty(module$contents$ee$apiclient_apiclient.requestQueue_)||module$contents$ee$apiclient_apiclient.RequestThrottle_.fire()},module$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_),module$contents$ee$apiclient_apiclient.apiBaseUrl_=null,module$contents$ee$apiclient_apiclient.tileBaseUrl_=null,module$contents$ee$apiclient_apiclient.xsrfToken_=null,module$contents$ee$apiclient_apiclient.appIdToken_=null,module$contents$ee$apiclient_apiclient.paramAugmenter_=goog.functions.identity,module$contents$ee$apiclient_apiclient.authToken_=null,module$contents$ee$apiclient_apiclient.authTokenExpiration_=null,module$contents$ee$apiclient_apiclient.authClientId_=null,module$contents$ee$apiclient_apiclient.authScopes_=[],module$contents$ee$apiclient_apiclient.authTokenRefresher_=null,module$contents$ee$apiclient_apiclient.AUTH_SCOPE_="https://www.googleapis.com/auth/earthengine",module$contents$ee$apiclient_apiclient.READ_ONLY_AUTH_SCOPE_="https://www.googleapis.com/auth/earthengine.readonly",module$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_="https://www.googleapis.com/auth/cloud-platform",module$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_=[module$contents$ee$apiclient_apiclient.AUTH_SCOPE_,module$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_],module$contents$ee$apiclient_apiclient.AUTH_LIBRARY_URL_=goog.string.Const.from("https://apis.google.com/js/client.js?onload=%{onload}"),module$contents$ee$apiclient_apiclient.STORAGE_SCOPE_="https://www.googleapis.com/auth/devstorage.read_write",module$contents$ee$apiclient_apiclient.cloudApiKey_=null,module$contents$ee$apiclient_apiclient.initialized_=!1,module$contents$ee$apiclient_apiclient.deadlineMs_=0,module$contents$ee$apiclient_apiclient.profileHook_=null,module$contents$ee$apiclient_apiclient.BASE_RETRY_WAIT_=1e3,module$contents$ee$apiclient_apiclient.MAX_RETRY_WAIT_=12e4,module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_=10,module$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_=5,module$contents$ee$apiclient_apiclient.APP_ID_TOKEN_HEADER_="X-Earth-Engine-App-ID-Token",module$contents$ee$apiclient_apiclient.PROFILE_HEADER="X-Earth-Engine-Computation-Profile",module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER="X-Earth-Engine-Computation-Profiling",module$contents$ee$apiclient_apiclient.USER_PROJECT_OVERRIDE_HEADER_="X-Goog-User-Project",module$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER="x-goog-api-client",module$contents$ee$apiclient_apiclient.DEFAULT_API_BASE_URL_="https://earthengine.googleapis.com/api",module$contents$ee$apiclient_apiclient.DEFAULT_TILE_BASE_URL_="https://earthengine.googleapis.com",module$contents$ee$apiclient_apiclient.AuthArgs=function(){},module$contents$ee$apiclient_apiclient.AuthResponse=function(){},ee.apiclient.Call=module$contents$ee$apiclient_Call,ee.apiclient.BatchCall=module$contents$ee$apiclient_BatchCall,ee.apiclient.setApiKey=module$contents$ee$apiclient_apiclient.setApiKey,ee.apiclient.getApiKey=module$contents$ee$apiclient_apiclient.getApiKey,ee.apiclient.setProject=module$contents$ee$apiclient_apiclient.setProject,ee.apiclient.getProject=module$contents$ee$apiclient_apiclient.getProject,ee.apiclient.DEFAULT_PROJECT=module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_,ee.apiclient.PROFILE_HEADER=module$contents$ee$apiclient_apiclient.PROFILE_HEADER,ee.apiclient.PROFILE_REQUEST_HEADER=module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER,ee.apiclient.API_CLIENT_VERSION_HEADER=module$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER,ee.apiclient.send=module$contents$ee$apiclient_apiclient.send,ee.apiclient.AUTH_SCOPE=module$contents$ee$apiclient_apiclient.AUTH_SCOPE_,ee.apiclient.READ_ONLY_AUTH_SCOPE=module$contents$ee$apiclient_apiclient.READ_ONLY_AUTH_SCOPE_,ee.apiclient.CLOUD_PLATFORM_SCOPE=module$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_,ee.apiclient.STORAGE_SCOPE=module$contents$ee$apiclient_apiclient.STORAGE_SCOPE_,ee.apiclient.DEFAULT_AUTH_SCOPES=module$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_,ee.apiclient.makeRequest=module$contents$ee$apiclient_apiclient.makeRequest_,ee.apiclient.reset=module$contents$ee$apiclient_apiclient.reset,ee.apiclient.initialize=module$contents$ee$apiclient_apiclient.initialize,ee.apiclient.setDeadline=module$contents$ee$apiclient_apiclient.setDeadline,ee.apiclient.isInitialized=module$contents$ee$apiclient_apiclient.isInitialized,ee.apiclient.ensureAuthLibLoaded=module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_,ee.apiclient.handleAuthResult=module$contents$ee$apiclient_apiclient.handleAuthResult_,ee.apiclient.refreshAuthToken=module$contents$ee$apiclient_apiclient.refreshAuthToken,ee.apiclient.setAuthClient=module$contents$ee$apiclient_apiclient.setAuthClient,ee.apiclient.getAuthScopes=module$contents$ee$apiclient_apiclient.getAuthScopes,ee.apiclient.getAuthClientId=module$contents$ee$apiclient_apiclient.getAuthClientId,ee.apiclient.getAuthToken=module$contents$ee$apiclient_apiclient.getAuthToken,ee.apiclient.setAuthToken=module$contents$ee$apiclient_apiclient.setAuthToken,ee.apiclient.clearAuthToken=module$contents$ee$apiclient_apiclient.clearAuthToken,ee.apiclient.setAuthTokenRefresher=module$contents$ee$apiclient_apiclient.setAuthTokenRefresher,ee.apiclient.setAppIdToken=module$contents$ee$apiclient_apiclient.setAppIdToken,ee.apiclient.mergeAuthScopes=module$contents$ee$apiclient_apiclient.mergeAuthScopes_,ee.apiclient.setupMockSend=module$contents$ee$apiclient_apiclient.setupMockSend,ee.apiclient.setParamAugmenter=module$contents$ee$apiclient_apiclient.setParamAugmenter,ee.apiclient.withProfiling=module$contents$ee$apiclient_apiclient.withProfiling,ee.apiclient.getApiBaseUrl=module$contents$ee$apiclient_apiclient.getApiBaseUrl,ee.apiclient.getTileBaseUrl=module$contents$ee$apiclient_apiclient.getTileBaseUrl,ee.apiclient.AuthArgs=module$contents$ee$apiclient_apiclient.AuthArgs,ee.apiclient.AuthResponse=module$contents$ee$apiclient_apiclient.AuthResponse,ee.apiclient.RequestThrottle=module$contents$ee$apiclient_apiclient.RequestThrottle_,ee.apiclient.calculateRetryWait=module$contents$ee$apiclient_apiclient.calculateRetryWait_,ee.apiclient.MAX_ASYNC_RETRIES=module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_,ee.apiclient.REQUEST_THROTTLE_INTERVAL_MS=module$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_,ee.apiclient.isAuthTokenRefreshingEnabled=module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_,goog.exportSymbol("ee.api.ListAssetsResponse",module$exports$eeapiclient$ee_api_client.ListAssetsResponse),goog.exportSymbol("ee.api.EarthEngineAsset",module$exports$eeapiclient$ee_api_client.EarthEngineAsset),goog.exportSymbol("ee.api.Operation",module$exports$eeapiclient$ee_api_client.Operation),goog.exportSymbol("ee.api.ListFeaturesResponse",module$exports$eeapiclient$ee_api_client.ListFeaturesResponse),goog.exportSymbol("ee.api.FeatureViewLocation",module$exports$eeapiclient$ee_api_client.FeatureViewLocation),ee.Encodable=function(){},ee.rpc_node={},ee.rpc_node.constant=function(e){return e==null&&(e=module$exports$eeapiclient$domain_object.NULL_VALUE),new module$exports$eeapiclient$ee_api_client.ValueNode({constantValue:e})},ee.rpc_node.reference=function(e){return new module$exports$eeapiclient$ee_api_client.ValueNode({valueReference:e})},ee.rpc_node.array=function(e){return new module$exports$eeapiclient$ee_api_client.ValueNode({arrayValue:new module$exports$eeapiclient$ee_api_client.ArrayValue({values:e})})},ee.rpc_node.dictionary=function(e){return new module$exports$eeapiclient$ee_api_client.ValueNode({dictionaryValue:new module$exports$eeapiclient$ee_api_client.DictionaryValue({values:e})})},ee.rpc_node.functionByName=function(e,t){return new module$exports$eeapiclient$ee_api_client.ValueNode({functionInvocationValue:new module$exports$eeapiclient$ee_api_client.FunctionInvocation({functionName:e,arguments:t})})},ee.rpc_node.functionByReference=function(e,t){return new module$exports$eeapiclient$ee_api_client.ValueNode({functionInvocationValue:new module$exports$eeapiclient$ee_api_client.FunctionInvocation({functionReference:e,arguments:t})})},ee.rpc_node.functionDefinition=function(e,t){return new module$exports$eeapiclient$ee_api_client.ValueNode({functionDefinitionValue:new module$exports$eeapiclient$ee_api_client.FunctionDefinition({argumentNames:e,body:t})})},ee.rpc_node.argumentReference=function(e){return new module$exports$eeapiclient$ee_api_client.ValueNode({argumentReference:e})},ee.rpc_convert={},ee.rpc_convert.fileFormat=function(e){if(!e)return"AUTO_JPEG_PNG";var t=e.toUpperCase();switch(t){case"JPG":return"JPEG";case"AUTO":return"AUTO_JPEG_PNG";case"TIF":case"TIFF":case"GEOTIF":case"GEOTIFF":return"GEO_TIFF";case"TF_RECORD":case"TFRECORD":return"TF_RECORD_IMAGE";case"NUMPY":return"NPY";case"ZIPPED_TIF":case"ZIPPED_TIFF":case"ZIPPED_GEOTIF":case"ZIPPED_GEOTIFF":return"ZIPPED_GEO_TIFF";case"ZIPPED_TIF_PER_BAND":case"ZIPPED_TIFF_PER_BAND":case"ZIPPED_GEOTIF_PER_BAND":case"ZIPPED_GEOTIFF_PER_BAND":return"ZIPPED_GEO_TIFF_PER_BAND";default:return t}},ee.rpc_convert.tableFileFormat=function(e){if(!e)return"CSV";var t=e.toUpperCase();switch(t){case"TF_RECORD":case"TFRECORD":return"TF_RECORD_TABLE";case"JSON":case"GEOJSON":return"GEO_JSON";default:return t}},ee.rpc_convert.orientation=function(e){if(!e)return"VERTICAL";var t=e.toUpperCase();if(t!=="HORIZONTAL"&&t!=="VERTICAL")throw Error('Orientation must be "horizontal" or "vertical"');return t},ee.rpc_convert.bandList=function(e){if(!e)return[];if(typeof e=="string")return e.split(",");if(Array.isArray(e))return e;throw Error("Invalid band list "+e)},ee.rpc_convert.visualizationOptions=function(e){var t=new module$exports$eeapiclient$ee_api_client.VisualizationOptions,i=!1;if("palette"in e){var n=e.palette;t.paletteColors=typeof n=="string"?n.split(","):n,i=!0}var r=[];if("gain"in e||"bias"in e){if("min"in e||"max"in e)throw Error("Gain and bias can't be specified with min and max");var u=t.paletteColors?t.paletteColors.length-1:255;r=ee.rpc_convert.pairedValues(e,"bias","gain").map(function(c){var b=-c.bias/c.gain;return{min:b,max:u/c.gain+b}})}else("min"in e||"max"in e)&&(r=ee.rpc_convert.pairedValues(e,"min","max"));r.length!==0&&(t.ranges=r.map(function(c){return new module$exports$eeapiclient$ee_api_client.DoubleRange(c)}),i=!0);var d=ee.rpc_convert.csvToNumbers(e.gamma);if(1<d.length)throw Error("Only one gamma value is supported");return d.length===1&&(t.gamma=d[0],i=!0),i?t:null},ee.rpc_convert.csvToNumbers=function(e){return e?e.split(",").map(Number):[]},ee.rpc_convert.pairedValues=function(e,t,i){var n=ee.rpc_convert.csvToNumbers(e[t]),r=ee.rpc_convert.csvToNumbers(e[i]);if(n.length===0)return r.map(function(u){var d={};return d[t]=0,d[i]=u,d});if(r.length===0)return n.map(function(u){var d={};return d[t]=u,d[i]=1,d});if(n.length!==r.length)throw Error("Length of "+t+" and "+i+" must match.");return n.map(function(u,d){var c={};return c[t]=u,c[i]=r[d],c})},ee.rpc_convert.algorithms=function(e){for(var t=function(b){var S={};return S.description=b.description||"",S.type=b.type||"",b.argumentName!=null&&(S.name=b.argumentName),b.defaultValue!==void 0&&(S.default=b.defaultValue),b.optional!=null&&(S.optional=b.optional),S},i=function(b){var S={};return S.args=(b.arguments||[]).map(t),S.description=b.description||"",S.returns=b.returnType||"",b.hidden!=null&&(S.hidden=b.hidden),b.preview&&(S.preview=b.preview),b.deprecated&&(S.deprecated=b.deprecationReason),b.sourceCodeUri&&(S.sourceCodeUri=b.sourceCodeUri),S},n={},r=$jscomp.makeIterator(e.algorithms||[]),u=r.next();!u.done;u=r.next()){var d=u.value,c=d.name.replace(/^algorithms\//,"");n[c]=i(d)}return n},ee.rpc_convert.DEFAULT_PROJECT="earthengine-legacy",ee.rpc_convert.PUBLIC_PROJECT="earthengine-public",ee.rpc_convert.PROJECT_ID_RE=/^projects\/((?:\w+(?:[\w\-]+\.[\w\-]+)*?\.\w+:)?[a-z][a-z0-9\-]{4,28}[a-z0-9])\/.+/,ee.rpc_convert.CLOUD_ASSET_ID_RE=/^projects\/((?:\w+(?:[\w\-]+\.[\w\-]+)*?\.\w+:)?[a-z][a-z0-9\-]{4,28}[a-z0-9])\/assets\/(.*)$/,ee.rpc_convert.CLOUD_ASSET_ROOT_RE=/^projects\/((?:\w+(?:[\w\-]+\.[\w\-]+)*?\.\w+:)?[a-z][a-z0-9\-]{4,28}[a-z0-9])\/assets\/?$/,ee.rpc_convert.projectIdFromPath=function(e){var t=ee.rpc_convert.PROJECT_ID_RE.exec(e);return t?t[1]:ee.rpc_convert.DEFAULT_PROJECT},ee.rpc_convert.projectParentFromPath=function(e){return"projects/"+ee.rpc_convert.projectIdFromPath(e)},ee.rpc_convert.assetIdToAssetName=function(e){return ee.rpc_convert.CLOUD_ASSET_ID_RE.exec(e)?e:/^(users|projects)\/.*/.exec(e)?"projects/"+ee.rpc_convert.DEFAULT_PROJECT+"/assets/"+e:"projects/"+ee.rpc_convert.PUBLIC_PROJECT+"/assets/"+e},ee.rpc_convert.assetNameToAssetId=function(e){var t=e.split("/"),i=function(n){return[ee.rpc_convert.DEFAULT_PROJECT,ee.rpc_convert.PUBLIC_PROJECT].includes(n)};return t[0]==="projects"&&t[2]==="assets"&&i(t[1])?t.slice(3).join("/"):e},ee.rpc_convert.assetTypeForCreate=function(e){switch(e){case"ImageCollection":return"IMAGE_COLLECTION";case"Folder":return"FOLDER";default:return e}},ee.rpc_convert.listAssetsToGetList=function(e){return(e.assets||[]).map(ee.rpc_convert.assetToLegacyResult)},ee.rpc_convert.assetTypeToLegacyAssetType=function(e){switch(e){case"ALGORITHM":return"Algorithm";case"FOLDER":return"Folder";case"IMAGE":return"Image";case"IMAGE_COLLECTION":return"ImageCollection";case"TABLE":return"Table";case"CLASSIFIER":return"Classifier";case"FEATURE_VIEW":return"FeatureView";default:return"Unknown"}},ee.rpc_convert.legacyAssetTypeToAssetType=function(e){switch(e){case"Algorithm":return"ALGORITHM";case"Folder":return"FOLDER";case"Image":return"IMAGE";case"ImageCollection":return"IMAGE_COLLECTION";case"Table":return"TABLE";default:return"UNKNOWN"}},ee.rpc_convert.assetToLegacyResult=function(e){var t=ee.rpc_convert.makeLegacyAsset_(ee.rpc_convert.assetTypeToLegacyAssetType(e.type),e.name),i=Object.assign({},e.properties||{});return e.sizeBytes&&(i["system:asset_size"]=Number(e.sizeBytes)),e.startTime&&(i["system:time_start"]=Date.parse(e.startTime)),e.endTime&&(i["system:time_end"]=Date.parse(e.endTime)),e.geometry&&(i["system:footprint"]=e.geometry),typeof e.title=="string"&&(i["system:title"]=e.title),typeof e.description=="string"&&(i["system:description"]=e.description),e.updateTime&&(t.version=1e3*Date.parse(e.updateTime)),t.properties=i,e.bands&&(t.bands=e.bands.map(function(n){var r={id:n.id,crs:n.grid.crsCode,dimensions:void 0,crs_transform:void 0};if(n.grid){if(n.grid.affineTransform!=null){var u=n.grid.affineTransform;r.crs_transform=[u.scaleX||0,u.shearX||0,u.translateX||0,u.shearY||0,u.scaleY||0,u.translateY||0]}n.grid.dimensions!=null&&(r.dimensions=[n.grid.dimensions.width,n.grid.dimensions.height])}if(n.dataType){var d={type:"PixelType"};d.precision=(n.dataType.precision||"").toLowerCase(),n.dataType.range&&(d.min=n.dataType.range.min||0,d.max=n.dataType.range.max),r.data_type=d}return r})),e.featureViewAssetLocation&&(t.mapLocation=e.featureViewAssetLocation),e.featureCount&&(t.featureCount=e.featureCount),t},ee.rpc_convert.legacyPropertiesToAssetUpdate=function(e){var t=new module$exports$eeapiclient$ee_api_client.EarthEngineAsset,i=function(c){return new Date(Number(c)).toISOString()},n=function(c){return c===null?module$exports$eeapiclient$domain_object.NULL_VALUE:void 0},r=Object.assign({},e),u,d=function(c){return u=r[c],delete r[c],u};return d("system:asset_size")!==void 0&&(t.sizeBytes=n(u)||String(u)),d("system:time_start")!==void 0&&(t.startTime=n(u)||i(u)),d("system:time_end")!==void 0&&(t.endTime=n(u)||i(u)),d("system:footprint")!==void 0&&(t.geometry=n(u)||u),d("system:title"),typeof u!="string"&&u!==null||r.title!=null||(r.title=n(u)||u),d("system:description"),typeof u!="string"&&u!==null||r.description!=null||(r.description=n(u)||u),Object.entries(r).forEach(function(c){var b=$jscomp.makeIterator(c),S=b.next().value,C=b.next().value;r[S]=n(C)||C}),t.properties=r,t},ee.rpc_convert.makeLegacyAsset_=function(e,t){var i={};return i.type=e,t!=null&&(i.id=ee.rpc_convert.assetNameToAssetId(t)),i},ee.rpc_convert.getListToListAssets=function(e){var t={},i=function(d){return new Date(d).toISOString()};e.num&&(t.pageSize=e.num),e.starttime&&(t.startTime=i(e.starttime)),e.endtime&&(t.endTime=i(e.endtime)),e.bbox&&(t.region=ee.rpc_convert.boundingBoxToGeoJson(e.bbox)),e.region&&(t.region=e.region),e.bbox&&e.region&&console.warn("Multiple request parameters converted to region");for(var n="id num starttime endtime bbox region".split(" "),r=$jscomp.makeIterator(Object.keys(e).filter(function(d){return!n.includes(d)})),u=r.next();!u.done;u=r.next())console.warn("Unrecognized key "+u.value+" ignored");return ee.rpc_convert.processListImagesParams(t)},ee.rpc_convert.boundingBoxToGeoJson=function(e){return'{"type":"Polygon","coordinates":[[['+[[0,1],[2,1],[2,3],[0,3],[0,1]].map(function(t){return e[t[0]]+","+e[t[1]]}).join("],[")+"]]]}"},ee.rpc_convert.iamPolicyToAcl=function(e){var t={};(e.bindings||[]).forEach(function(c){t[c.role]=c.members});var i=new Set,n=function(c){var b=c.replace(/^domain:|^group:|^serviceAccount:|^user:/,"");return c.startsWith("group:")&&i.add(b),b},r=t["roles/viewer"]||[],u=r.filter(function(c){return c!=="allUsers"}),d={owners:(t["roles/owner"]||[]).map(n),writers:(t["roles/editor"]||[]).map(n),readers:u.map(n)};return 0<i.size&&(d.groups=i),r.length!=u.length&&(d.all_users_can_read=!0),d},ee.rpc_convert.aclToIamPolicy=function(e){var t=function(b){return b.includes(":")},i=function(b){return!b.includes("@")},n=function(b){return e.groups&&e.groups.has(b)},r=function(b){return b.match(/[@|\.]gserviceaccount\.com$/)},u=function(b){return(e[b]||[]).map(function(S){if(t(S))return S;var C="user:";return i(S)?C="domain:":n(S)?C="group:":r(S)&&(C="serviceAccount:"),C+S})},d=e.all_users_can_read?["allUsers"]:[],c=[{role:"roles/owner",members:u("owners")},{role:"roles/viewer",members:u("readers").concat(d)},{role:"roles/editor",members:u("writers")}].map(function(b){return new module$exports$eeapiclient$ee_api_client.Binding(b)});return new module$exports$eeapiclient$ee_api_client.Policy({bindings:c.filter(function(b){return b.members.length}),etag:null})},ee.rpc_convert.taskIdToOperationName=function(e){return"projects/"+ee.rpc_convert.operationNameToProject(e)+"/operations/"+ee.rpc_convert.operationNameToTaskId(e)},ee.rpc_convert.operationNameToTaskId=function(e){var t=/^.*operations\/(.*)$/.exec(e);return t?t[1]:e},ee.rpc_convert.operationNameToProject=function(e){var t=/^projects\/(.+)\/operations\/.+$/.exec(e);return t?t[1]:ee.rpc_convert.DEFAULT_PROJECT},ee.rpc_convert.operationToTask=function(e){var t={},i=function(u,d){d!=null&&(t[u]=Date.parse(d))},n=function(u){switch(u){case"PENDING":return"READY";case"RUNNING":return"RUNNING";case"CANCELLING":return"CANCEL_REQUESTED";case"SUCCEEDED":return"COMPLETED";case"CANCELLED":return"CANCELLED";case"FAILED":return"FAILED";default:return"UNKNOWN"}},r=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.OperationMetadata,e.metadata||{});return r.description!=null&&(t.description=r.description),r.state!=null&&(t.state=n(r.state)),i("creation_timestamp_ms",r.createTime),i("update_timestamp_ms",r.updateTime),i("start_timestamp_ms",r.startTime),t.attempt=r.attempt,e.done&&e.error!=null&&(t.error_message=e.error.message),e.name!=null&&(t.id=ee.rpc_convert.operationNameToTaskId(e.name),t.name=e.name),t.task_type=r.type||"UNKNOWN",t.output_url=r.destinationUris,t.source_url=r.scriptUri,t},ee.rpc_convert.operationToProcessingResponse=function(e){var t={started:"OK"};return e.name&&(t.taskId=ee.rpc_convert.operationNameToTaskId(e.name),t.name=e.name),e.error&&(t.note=e.error.message),t},ee.rpc_convert.sourcePathsToUris=function(e){return e.primaryPath?[e.primaryPath].concat($jscomp.arrayFromIterable(e.additionalPaths||[])):null},ee.rpc_convert.toImageManifest=function(e){var t=function(c){var b=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.ImageSource,c);return b.uris=ee.rpc_convert.sourcePathsToUris(c),b},i=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.ImageManifest,e);if(i.name=ee.rpc_convert.assetIdToAssetName(e.id),i.tilesets=(e.tilesets||[]).map(function(c){var b=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.Tileset,c);return b.sources=(c.sources||[]).map(t),b}),i.bands=(e.bands||[]).map(function(c){var b=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TilesetBand,c);return b.missingData=ee.rpc_convert.toOnePlatformMissingData(c.missingData),b}),i.missingData=ee.rpc_convert.toOnePlatformMissingData(e.missingData),i.maskBands=module$contents$goog$array_flatten((e.tilesets||[]).map(ee.rpc_convert.toOnePlatformMaskBands)),i.pyramidingPolicy=e.pyramidingPolicy||null,e.properties){var n=Object.assign({},e.properties),r=function(c){return new Date(Number(c)).toISOString()},u,d=function(c){return u=n[c],delete n[c],u};d("system:time_start")&&(i.startTime=r(u)),d("system:time_end")&&(i.endTime=r(u)),i.properties=n}return i},ee.rpc_convert.toOnePlatformMaskBands=function(e){var t=[];if(!Array.isArray(e.fileBands))return t;var i=function(n){var r=[];return n!=null&&Array.isArray(n.bandId)&&(r=n.bandId.map(function(u){return u||""})),new module$exports$eeapiclient$ee_api_client.TilesetMaskBand({tilesetId:e.id||"",bandIds:r})};return e.fileBands.forEach(function(n){n.maskForAllBands?t.push(i(null)):n.maskForBands!=null&&t.push(i(n.maskForBands))}),t},ee.rpc_convert.toTableManifest=function(e){var t=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TableManifest,e);if(t.name=ee.rpc_convert.assetIdToAssetName(e.id),t.sources=(e.sources||[]).map(function(d){var c=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TableSource,d);return c.uris=ee.rpc_convert.sourcePathsToUris(d),d.maxError&&(c.maxErrorMeters=d.maxError),c}),e.properties){var i=Object.assign({},e.properties),n=function(d){return new Date(Number(d)).toISOString()},r,u=function(d){return r=i[d],delete i[d],r};u("system:time_start")&&(t.startTime=n(r)),u("system:time_end")&&(t.endTime=n(r)),t.properties=i}return t},ee.rpc_convert.toOnePlatformMissingData=function(e){if(e==null)return null;var t=new module$exports$eeapiclient$ee_api_client.MissingData({values:[]});return e.value!=null&&typeof e.value=="number"&&t.values.push(e.value),Array.isArray(e.values)&&e.values.map(function(i){typeof i=="number"&&t.values.push(i)}),module$contents$goog$array_isEmpty(t.values)?null:t},ee.rpc_convert.folderQuotaToAssetQuotaDetails=function(e){var t=function(i){return Number(i||0)};return{asset_count:{usage:t(e.assetCount),limit:t(e.maxAssets)},asset_size:{usage:t(e.sizeBytes),limit:t(e.maxSizeBytes)}}},ee.rpc_convert.parseFilterParamsFromListImages_=function(e){var t=[],i=function(d){return new Date(d).toISOString()};if("startTime"in e&&(t.push('startTime >= "'+i(e.startTime)+'"'),delete e.startTime),"endTime"in e&&(t.push('endTime < "'+i(e.endTime)+'"'),delete e.endTime),"region"in e){var n=e.region;if(typeof n=="object")try{n=JSON.stringify(n)}catch{throw Error('Filter parameter "region" must be a GeoJSON or WKT string.')}else if(typeof n!="string")throw Error('Filter parameter "region" must be a GeoJSON or WKT string.');n=n.replace(/"/g,"'"),t.push('intersects("'+n+'")'),delete e.region}if("properties"in e){if(!Array.isArray(e.properties)&&e.properties.some(function(d){return typeof d!="string"}))throw Error('Filter parameter "properties" must be an array of strings');for(var r=$jscomp.makeIterator(e.properties),u=r.next();!u.done;u=r.next())t.push(u.value.trim().replace(/^(properties\.)?/,"properties."));delete e.properties}return t.join(" AND ")},ee.rpc_convert.processListImagesParams=function(e){e=Object.assign({},e);var t=ee.rpc_convert.parseFilterParamsFromListImages_(e);return t&&(e.filter=e.filter?e.filter+" AND "+t:t),e},goog.crypt={},goog.crypt.Hash=function(){this.blockSize=-1},goog.crypt.Md5=function(){goog.crypt.Hash.call(this),this.blockSize=64,this.chain_=Array(4),this.block_=Array(this.blockSize),this.totalLength_=this.blockLength_=0,this.reset()},goog.inherits(goog.crypt.Md5,goog.crypt.Hash),goog.crypt.Md5.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.totalLength_=this.blockLength_=0},goog.crypt.Md5.prototype.compress_=function(e,t){t||(t=0);var i=Array(16);if(typeof e=="string")for(var n=0;16>n;++n)i[n]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(n=0;16>n;++n)i[n]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var r=this.chain_[0],u=this.chain_[1],d=this.chain_[2],c=this.chain_[3],b=0;b=r+(c^u&(d^c))+i[0]+3614090360&4294967295,r=u+(b<<7&4294967295|b>>>25),b=c+(d^r&(u^d))+i[1]+3905402710&4294967295,c=r+(b<<12&4294967295|b>>>20),b=d+(u^c&(r^u))+i[2]+606105819&4294967295,d=c+(b<<17&4294967295|b>>>15),b=u+(r^d&(c^r))+i[3]+3250441966&4294967295,u=d+(b<<22&4294967295|b>>>10),b=r+(c^u&(d^c))+i[4]+4118548399&4294967295,r=u+(b<<7&4294967295|b>>>25),b=c+(d^r&(u^d))+i[5]+1200080426&4294967295,c=r+(b<<12&4294967295|b>>>20),b=d+(u^c&(r^u))+i[6]+2821735955&4294967295,d=c+(b<<17&4294967295|b>>>15),b=u+(r^d&(c^r))+i[7]+4249261313&4294967295,u=d+(b<<22&4294967295|b>>>10),b=r+(c^u&(d^c))+i[8]+1770035416&4294967295,r=u+(b<<7&4294967295|b>>>25),b=c+(d^r&(u^d))+i[9]+2336552879&4294967295,c=r+(b<<12&4294967295|b>>>20),b=d+(u^c&(r^u))+i[10]+4294925233&4294967295,d=c+(b<<17&4294967295|b>>>15),b=u+(r^d&(c^r))+i[11]+2304563134&4294967295,u=d+(b<<22&4294967295|b>>>10),b=r+(c^u&(d^c))+i[12]+1804603682&4294967295,r=u+(b<<7&4294967295|b>>>25),b=c+(d^r&(u^d))+i[13]+4254626195&4294967295,c=r+(b<<12&4294967295|b>>>20),b=d+(u^c&(r^u))+i[14]+2792965006&4294967295,d=c+(b<<17&4294967295|b>>>15),b=u+(r^d&(c^r))+i[15]+1236535329&4294967295,u=d+(b<<22&4294967295|b>>>10),b=r+(d^c&(u^d))+i[1]+4129170786&4294967295,r=u+(b<<5&4294967295|b>>>27),b=c+(u^d&(r^u))+i[6]+3225465664&4294967295,c=r+(b<<9&4294967295|b>>>23),b=d+(r^u&(c^r))+i[11]+643717713&4294967295,d=c+(b<<14&4294967295|b>>>18),b=u+(c^r&(d^c))+i[0]+3921069994&4294967295,u=d+(b<<20&4294967295|b>>>12),b=r+(d^c&(u^d))+i[5]+3593408605&4294967295,r=u+(b<<5&4294967295|b>>>27),b=c+(u^d&(r^u))+i[10]+38016083&4294967295,c=r+(b<<9&4294967295|b>>>23),b=d+(r^u&(c^r))+i[15]+3634488961&4294967295,d=c+(b<<14&4294967295|b>>>18),b=u+(c^r&(d^c))+i[4]+3889429448&4294967295,u=d+(b<<20&4294967295|b>>>12),b=r+(d^c&(u^d))+i[9]+568446438&4294967295,r=u+(b<<5&4294967295|b>>>27),b=c+(u^d&(r^u))+i[14]+3275163606&4294967295,c=r+(b<<9&4294967295|b>>>23),b=d+(r^u&(c^r))+i[3]+4107603335&4294967295,d=c+(b<<14&4294967295|b>>>18),b=u+(c^r&(d^c))+i[8]+1163531501&4294967295,u=d+(b<<20&4294967295|b>>>12),b=r+(d^c&(u^d))+i[13]+2850285829&4294967295,r=u+(b<<5&4294967295|b>>>27),b=c+(u^d&(r^u))+i[2]+4243563512&4294967295,c=r+(b<<9&4294967295|b>>>23),b=d+(r^u&(c^r))+i[7]+1735328473&4294967295,d=c+(b<<14&4294967295|b>>>18),b=u+(c^r&(d^c))+i[12]+2368359562&4294967295,u=d+(b<<20&4294967295|b>>>12),b=r+(u^d^c)+i[5]+4294588738&4294967295,r=u+(b<<4&4294967295|b>>>28),b=c+(r^u^d)+i[8]+2272392833&4294967295,c=r+(b<<11&4294967295|b>>>21),b=d+(c^r^u)+i[11]+1839030562&4294967295,d=c+(b<<16&4294967295|b>>>16),b=u+(d^c^r)+i[14]+4259657740&4294967295,u=d+(b<<23&4294967295|b>>>9),b=r+(u^d^c)+i[1]+2763975236&4294967295,r=u+(b<<4&4294967295|b>>>28),b=c+(r^u^d)+i[4]+1272893353&4294967295,c=r+(b<<11&4294967295|b>>>21),b=d+(c^r^u)+i[7]+4139469664&4294967295,d=c+(b<<16&4294967295|b>>>16),b=u+(d^c^r)+i[10]+3200236656&4294967295,u=d+(b<<23&4294967295|b>>>9),b=r+(u^d^c)+i[13]+681279174&4294967295,r=u+(b<<4&4294967295|b>>>28),b=c+(r^u^d)+i[0]+3936430074&4294967295,c=r+(b<<11&4294967295|b>>>21),b=d+(c^r^u)+i[3]+3572445317&4294967295,d=c+(b<<16&4294967295|b>>>16),b=u+(d^c^r)+i[6]+76029189&4294967295,u=d+(b<<23&4294967295|b>>>9),b=r+(u^d^c)+i[9]+3654602809&4294967295,r=u+(b<<4&4294967295|b>>>28),b=c+(r^u^d)+i[12]+3873151461&4294967295,c=r+(b<<11&4294967295|b>>>21),b=d+(c^r^u)+i[15]+530742520&4294967295,d=c+(b<<16&4294967295|b>>>16),b=u+(d^c^r)+i[2]+3299628645&4294967295,u=d+(b<<23&4294967295|b>>>9),b=r+(d^(u|~c))+i[0]+4096336452&4294967295,r=u+(b<<6&4294967295|b>>>26),b=c+(u^(r|~d))+i[7]+1126891415&4294967295,c=r+(b<<10&4294967295|b>>>22),b=d+(r^(c|~u))+i[14]+2878612391&4294967295,d=c+(b<<15&4294967295|b>>>17),b=u+(c^(d|~r))+i[5]+4237533241&4294967295,u=d+(b<<21&4294967295|b>>>11),b=r+(d^(u|~c))+i[12]+1700485571&4294967295,r=u+(b<<6&4294967295|b>>>26),b=c+(u^(r|~d))+i[3]+2399980690&4294967295,c=r+(b<<10&4294967295|b>>>22),b=d+(r^(c|~u))+i[10]+4293915773&4294967295,d=c+(b<<15&4294967295|b>>>17),b=u+(c^(d|~r))+i[1]+2240044497&4294967295,u=d+(b<<21&4294967295|b>>>11),b=r+(d^(u|~c))+i[8]+1873313359&4294967295,r=u+(b<<6&4294967295|b>>>26),b=c+(u^(r|~d))+i[15]+4264355552&4294967295,c=r+(b<<10&4294967295|b>>>22),b=d+(r^(c|~u))+i[6]+2734768916&4294967295,d=c+(b<<15&4294967295|b>>>17),b=u+(c^(d|~r))+i[13]+1309151649&4294967295,u=d+(b<<21&4294967295|b>>>11),b=r+(d^(u|~c))+i[4]+4149444226&4294967295,r=u+(b<<6&4294967295|b>>>26),b=c+(u^(r|~d))+i[11]+3174756917&4294967295,c=r+(b<<10&4294967295|b>>>22),b=d+(r^(c|~u))+i[2]+718787259&4294967295,d=c+(b<<15&4294967295|b>>>17),b=u+(c^(d|~r))+i[9]+3951481745&4294967295,this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+(d+(b<<21&4294967295|b>>>11))&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295},goog.crypt.Md5.prototype.update=function(e,t){t===void 0&&(t=e.length);for(var i=t-this.blockSize,n=this.block_,r=this.blockLength_,u=0;u<t;){if(r==0)for(;u<=i;)this.compress_(e,u),u+=this.blockSize;if(typeof e=="string"){for(;u<t;)if(n[r++]=e.charCodeAt(u++),r==this.blockSize){this.compress_(n),r=0;break}}else for(;u<t;)if(n[r++]=e[u++],r==this.blockSize){this.compress_(n),r=0;break}}this.blockLength_=r,this.totalLength_+=t},goog.crypt.Md5.prototype.digest=function(){var e=Array((56>this.blockLength_?this.blockSize:2*this.blockSize)-this.blockLength_);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var i=8*this.totalLength_;for(t=e.length-8;t<e.length;++t)e[t]=i&255,i/=256;this.update(e);var n=Array(16),r=0;for(t=0;4>t;++t)for(var u=0;32>u;u+=8)n[r++]=this.chain_[t]>>>u&255;return n},ee.Serializer=function(e){this.HASH_KEY="__ee_hash__",this.isCompound_=e!==!1,this.scope_=[],this.encoded_={},this.withHashes_=[],this.hashes_=new WeakMap,this.unboundName=void 0},goog.exportSymbol("ee.Serializer",ee.Serializer),ee.Serializer.jsonSerializer_=new goog.json.Serializer,ee.Serializer.hash_=new goog.crypt.Md5,ee.Serializer.encode=function(e,t){return new ee.Serializer(t!==void 0?t:!0).encode_(e)},goog.exportSymbol("ee.Serializer.encode",ee.Serializer.encode),ee.Serializer.toJSON=function(e){return ee.Serializer.jsonSerializer_.serialize(ee.Serializer.encode(e))},goog.exportSymbol("ee.Serializer.toJSON",ee.Serializer.toJSON),ee.Serializer.toReadableJSON=function(e){return ee.Serializer.stringify(ee.Serializer.encode(e,!1))},goog.exportSymbol("ee.Serializer.toReadableJSON",ee.Serializer.toReadableJSON),ee.Serializer.stringify=function(e){return"JSON"in goog.global?goog.global.JSON.stringify(e,null,"  "):ee.Serializer.jsonSerializer_.serialize(e)},ee.Serializer.prototype.encode_=function(e){var t=this.encodeValue_(e);return this.isCompound_&&(t=goog.isObject(t)&&t.type=="ValueRef"&&this.scope_.length==1?this.scope_[0][1]:{type:"CompoundValue",scope:this.scope_,value:t},this.scope_=[],module$contents$goog$array_forEach(this.withHashes_,goog.bind(function(i){delete i[this.HASH_KEY]},this)),this.withHashes_=[],this.encoded_={}),t},ee.Serializer.prototype.encodeValue_=function(e){if(e===void 0)throw Error("Can't encode an undefined value.");var t=goog.isObject(e)?e[this.HASH_KEY]:null;if(this.isCompound_&&t!=null&&this.encoded_[t])return{type:"ValueRef",value:this.encoded_[t]};if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(goog.isDateLike(e))return{type:"Invocation",functionName:"Date",arguments:{value:Math.floor(e.getTime())}};if(e instanceof ee.Encodable){var i=e.encode(goog.bind(this.encodeValue_,this));if(!(Array.isArray(i)||goog.isObject(i)&&i.type!="ArgumentRef"))return i}else if(Array.isArray(e))i=module$contents$goog$array_map(e,function(u){return this.encodeValue_(u)},this);else if(goog.isObject(e)&&typeof e!="function"){var n=module$contents$goog$object_map(e,function(u){if(typeof u!="function")return this.encodeValue_(u)},this);module$contents$goog$object_remove(n,this.HASH_KEY),i={type:"Dictionary",value:n}}else throw Error("Can't encode object: "+e);if(this.isCompound_){if(t=ee.Serializer.computeHash(i),this.encoded_[t])var r=this.encoded_[t];else r=String(this.scope_.length),this.scope_.push([r,i]),this.encoded_[t]=r;return e[this.HASH_KEY]=t,this.withHashes_.push(e),{type:"ValueRef",value:r}}return i},ee.Serializer.computeHash=function(e){return ee.Serializer.hash_.reset(),ee.Serializer.hash_.update(ee.Serializer.jsonSerializer_.serialize(e)),ee.Serializer.hash_.digest().toString()},ee.Serializer.encodeCloudApi=function(e){return module$contents$eeapiclient$domain_object_serialize(ee.Serializer.encodeCloudApiExpression(e))},goog.exportSymbol("ee.Serializer.encodeCloudApi",ee.Serializer.encodeCloudApi),ee.Serializer.encodeCloudApiExpression=function(e,t){var i=new ee.Serializer(!0);return i.unboundName=t,i.encodeForCloudApi_(e)},ee.Serializer.encodeCloudApiPretty=function(e){var t=new ee.Serializer(!1).encodeForCloudApi_(e),i=t.values,n=function(r){if(!goog.isObject(r))return r;for(var u=Array.isArray(r)?[]:{},d=r instanceof Object.getPrototypeOf(module$exports$eeapiclient$ee_api_client.ValueNode),c=$jscomp.makeIterator(Object.entries(d?r.Serializable$values:r)),b=c.next();!b.done;b=c.next()){var S=$jscomp.makeIterator(b.value),C=S.next().value,O=S.next().value;d?O!==null&&(u[C]=C==="functionDefinitionValue"&&O.body!=null?{argumentNames:O.argumentNames,body:n(i[O.body])}:C==="functionInvocationValue"&&O.functionReference!=null?{arguments:module$contents$goog$object_map(O.arguments,n),functionReference:n(i[O.functionReference])}:C==="constantValue"?O===module$exports$eeapiclient$domain_object.NULL_VALUE?null:O:n(O)):u[C]=n(O)}return u};return t.result&&n(i[t.result])},goog.exportSymbol("ee.Serializer.encodeCloudApiPretty",ee.Serializer.encodeCloudApiPretty),ee.Serializer.toCloudApiJSON=function(e){return ee.Serializer.jsonSerializer_.serialize(ee.Serializer.encodeCloudApi(e))},goog.exportSymbol("ee.Serializer.toCloudApiJSON",ee.Serializer.toCloudApiJSON),ee.Serializer.toReadableCloudApiJSON=function(e){return ee.Serializer.stringify(ee.Serializer.encodeCloudApiPretty(e))},goog.exportSymbol("ee.Serializer.toReadableCloudApiJSON",ee.Serializer.toReadableCloudApiJSON),ee.Serializer.prototype.encodeForCloudApi_=function(e){try{var t=this.makeReference(e);return new ExpressionOptimizer(t,this.scope_,this.isCompound_).optimize()}finally{this.hashes_=new WeakMap,this.encoded_={},this.scope_=[]}},ee.Serializer.prototype.makeReference=function(e){var t=this,i=function(r){var u=ee.Serializer.computeHash(r);if(goog.isObject(e)&&t.hashes_.set(e,u),t.encoded_[u])return t.encoded_[u];var d=String(t.scope_.length);return t.scope_.push([d,r]),t.encoded_[u]=d};if(goog.isObject(e)&&this.encoded_[this.hashes_.get(e)])return this.encoded_[this.hashes_.get(e)];if(e===null||typeof e=="boolean"||typeof e=="string"||typeof e=="number")return i(ee.rpc_node.constant(e));if(goog.isDateLike(e))return i(ee.rpc_node.functionByName("Date",{value:ee.rpc_node.constant(Math.floor(e.getTime()))}));if(e instanceof ee.Encodable)return i(e.encodeCloudValue(this));if(Array.isArray(e))return i(ee.rpc_node.array(e.map(function(r){return ee.rpc_node.reference(t.makeReference(r))})));if(goog.isObject(e)&&typeof e!="function"){var n={};return Object.keys(e).sort().forEach(function(r){n[r]=ee.rpc_node.reference(t.makeReference(e[r]))}),i(ee.rpc_node.dictionary(n))}throw Error("Can't encode object: "+e)};var ExpressionOptimizer=function(e,t,i){var n=this;this.rootReference=e,this.values={},t.forEach(function(r){return n.values[r[0]]=r[1]}),this.referenceCounts=i?this.countReferences():null,this.optimizedValues={},this.referenceMap={},this.nextMappedRef=0};ExpressionOptimizer.prototype.optimize=function(){var e=this.optimizeReference(this.rootReference);return new module$exports$eeapiclient$ee_api_client.Expression({result:e,values:this.optimizedValues})},ExpressionOptimizer.prototype.optimizeReference=function(e){if(e in this.referenceMap)return this.referenceMap[e];var t=String(this.nextMappedRef++);return this.referenceMap[e]=t,this.optimizedValues[t]=this.optimizeValue(this.values[e],0),t},ExpressionOptimizer.prototype.optimizeValue=function(e,t){var i=this,n=function(De){return De.constantValue!==null},r=function(De){return De===module$exports$eeapiclient$domain_object.NULL_VALUE?null:De};if(n(e)||e.integerValue!=null||e.bytesValue!=null||e.argumentReference!=null)return e;if(e.valueReference!=null){var u=this.values[e.valueReference];return this.referenceCounts===null||50>t&&this.referenceCounts[e.valueReference]===1?this.optimizeValue(u,t):ExpressionOptimizer.isAlwaysLiftable(u)?u:ee.rpc_node.reference(this.optimizeReference(e.valueReference))}if(e.arrayValue!=null){var d=e.arrayValue.values.map(function(De){return i.optimizeValue(De,t+3)});return d.every(n)?ee.rpc_node.constant(d.map(function(De){return r(De.constantValue)})):ee.rpc_node.array(d)}if(e.dictionaryValue!=null){for(var c={},b={},S=$jscomp.makeIterator(Object.entries(e.dictionaryValue.values||{})),C=S.next();!C.done;C=S.next()){var O=$jscomp.makeIterator(C.value),D=O.next().value,H=O.next().value;c[D]=this.optimizeValue(H,t+3),b!==null&&n(c[D])?b[D]=r(c[D].constantValue):b=null}return b!==null?ee.rpc_node.constant(b):ee.rpc_node.dictionary(c)}if(e.functionDefinitionValue!=null){var K=e.functionDefinitionValue;return ee.rpc_node.functionDefinition(K.argumentNames||[],this.optimizeReference(K.body||""))}if(e.functionInvocationValue!=null){for(var le=e.functionInvocationValue,de={},fe=$jscomp.makeIterator(Object.keys(le.arguments||{})),be=fe.next();!be.done;be=fe.next()){var Ie=be.value;de[Ie]=this.optimizeValue(le.arguments[Ie],t+3)}return le.functionName?ee.rpc_node.functionByName(le.functionName,de):ee.rpc_node.functionByReference(this.optimizeReference(le.functionReference||""),de)}throw Error("Can't optimize value: "+e)},ExpressionOptimizer.isAlwaysLiftable=function(e){var t=e.constantValue;return t!==null?t===module$exports$eeapiclient$domain_object.NULL_VALUE||typeof t=="number"||typeof t=="boolean":e.argumentReference!=null},ExpressionOptimizer.prototype.countReferences=function(){var e=this,t={},i=function(r){t[r]?t[r]++:(t[r]=1,n(e.values[r]))},n=function(r){if(r.arrayValue!=null)r.arrayValue.values.forEach(n);else if(r.dictionaryValue!=null)Object.values(r.dictionaryValue.values).forEach(n);else if(r.functionDefinitionValue!=null)i(r.functionDefinitionValue.body);else if(r.functionInvocationValue!=null){var u=r.functionInvocationValue;u.functionReference!=null&&i(u.functionReference),Object.values(u.arguments).forEach(n)}else r.valueReference!=null&&i(r.valueReference)};return i(this.rootReference),t},ee.rpc_convert_batch={},ee.rpc_convert_batch.ExportDestination={DRIVE:"DRIVE",GCS:"GOOGLE_CLOUD_STORAGE",ASSET:"ASSET",FEATURE_VIEW:"FEATURE_VIEW",BIGQUERY:"BIGQUERY"},ee.rpc_convert_batch.taskToExportImageRequest=function(e){if(e.element==null)throw Error('"element" not found in params '+e);var t=new module$exports$eeapiclient$ee_api_client.ExportImageRequest({expression:ee.Serializer.encodeCloudApiExpression(e.element),description:stringOrNull_(e.description),fileExportOptions:null,assetExportOptions:null,grid:null,maxPixels:stringOrNull_(e.maxPixels),requestId:stringOrNull_(e.id),maxWorkers:numberOrNull_(e.maxWorkers)}),i=ee.rpc_convert_batch.guessDestination_(e);switch(i){case ee.rpc_convert_batch.ExportDestination.GCS:case ee.rpc_convert_batch.ExportDestination.DRIVE:t.fileExportOptions=ee.rpc_convert_batch.buildImageFileExportOptions_(e,i);break;case ee.rpc_convert_batch.ExportDestination.ASSET:t.assetExportOptions=ee.rpc_convert_batch.buildImageAssetExportOptions_(e);break;default:throw Error('Export destination "'+i+'" unknown')}return t},ee.rpc_convert_batch.taskToExportTableRequest=function(e){if(e.element==null)throw Error('"element" not found in params '+e);var t=e.selectors||null;t!=null&&typeof t=="string"&&(t=t.split(","));var i=new module$exports$eeapiclient$ee_api_client.ExportTableRequest({expression:ee.Serializer.encodeCloudApiExpression(e.element),description:stringOrNull_(e.description),fileExportOptions:null,assetExportOptions:null,featureViewExportOptions:null,bigqueryExportOptions:null,selectors:t,maxErrorMeters:numberOrNull_(e.maxErrorMeters),requestId:stringOrNull_(e.id),maxVertices:numberOrNull_(e.maxVertices),maxWorkers:numberOrNull_(e.maxWorkers)}),n=ee.rpc_convert_batch.guessDestination_(e);switch(n){case ee.rpc_convert_batch.ExportDestination.GCS:case ee.rpc_convert_batch.ExportDestination.DRIVE:i.fileExportOptions=ee.rpc_convert_batch.buildTableFileExportOptions_(e,n);break;case ee.rpc_convert_batch.ExportDestination.ASSET:i.assetExportOptions=ee.rpc_convert_batch.buildTableAssetExportOptions_(e);break;case ee.rpc_convert_batch.ExportDestination.FEATURE_VIEW:i.featureViewExportOptions=ee.rpc_convert_batch.buildFeatureViewExportOptions_(e);break;case ee.rpc_convert_batch.ExportDestination.BIGQUERY:i.bigqueryExportOptions=ee.rpc_convert_batch.buildBigQueryExportOptions_(e);break;default:throw Error('Export destination "'+n+'" unknown')}return e.workloadTag&&(i.workloadTag=e.workloadTag),i},ee.rpc_convert_batch.taskToExportVideoRequest=function(e){if(e.element==null)throw Error('"element" not found in params '+e);var t=new module$exports$eeapiclient$ee_api_client.ExportVideoRequest({expression:ee.Serializer.encodeCloudApiExpression(e.element),description:stringOrNull_(e.description),videoOptions:ee.rpc_convert_batch.buildVideoOptions_(e),fileExportOptions:null,requestId:stringOrNull_(e.id),maxWorkers:numberOrNull_(e.maxWorkers)});return t.fileExportOptions=ee.rpc_convert_batch.buildVideoFileExportOptions_(e,ee.rpc_convert_batch.guessDestination_(e)),t},ee.rpc_convert_batch.taskToExportMapRequest=function(e){if(e.element==null)throw Error('"element" not found in params '+e);return new module$exports$eeapiclient$ee_api_client.ExportMapRequest({expression:ee.Serializer.encodeCloudApiExpression(e.element),description:stringOrNull_(e.description),tileOptions:ee.rpc_convert_batch.buildTileOptions_(e),tileExportOptions:ee.rpc_convert_batch.buildImageFileExportOptions_(e,ee.rpc_convert_batch.ExportDestination.GCS),requestId:stringOrNull_(e.id),maxWorkers:numberOrNull_(e.maxWorkers)})},ee.rpc_convert_batch.taskToExportVideoMapRequest=function(e){if(e.element==null)throw Error('"element" not found in params '+e);return new module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest({expression:ee.Serializer.encodeCloudApiExpression(e.element),description:stringOrNull_(e.description),videoOptions:ee.rpc_convert_batch.buildVideoMapOptions_(e),tileOptions:ee.rpc_convert_batch.buildTileOptions_(e),tileExportOptions:ee.rpc_convert_batch.buildVideoFileExportOptions_(e,ee.rpc_convert_batch.ExportDestination.GCS),requestId:stringOrNull_(e.id),version:stringOrNull_(e.version),maxWorkers:numberOrNull_(e.maxWorkers)})},ee.rpc_convert_batch.taskToExportClassifierRequest=function(e){if(e.element==null)throw Error('"element" not found in params '+e);var t=ee.rpc_convert_batch.guessDestination_(e);if(t!=ee.rpc_convert_batch.ExportDestination.ASSET)throw Error('Export destination "'+t+'" unknown');return new module$exports$eeapiclient$ee_api_client.ExportClassifierRequest({expression:ee.Serializer.encodeCloudApiExpression(e.element),description:stringOrNull_(e.description),requestId:stringOrNull_(e.id),assetExportOptions:new module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(e)}),maxWorkers:numberOrNull_(e.maxWorkers)})};function stringOrNull_(e){return e!=null?String(e):null}function numberOrNull_(e){return e!=null?Number(e):null}ee.rpc_convert_batch.guessDestination_=function(e){var t=ee.rpc_convert_batch.ExportDestination.DRIVE;return e==null||(e.outputBucket!=null||e.outputPrefix!=null?t=ee.rpc_convert_batch.ExportDestination.GCS:e.assetId!=null?t=ee.rpc_convert_batch.ExportDestination.ASSET:e.mapName!=null&&(t=ee.rpc_convert_batch.ExportDestination.FEATURE_VIEW),e.table!=null&&(t=ee.rpc_convert_batch.ExportDestination.BIGQUERY)),t},ee.rpc_convert_batch.buildGeoTiffFormatOptions_=function(e){if(e.fileDimensions&&e.tiffFileDimensions)throw Error('Export cannot set both "fileDimensions" and "tiffFileDimensions".');var t=e.tiffShardSize||e.shardSize;return new module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions({cloudOptimized:!!e.tiffCloudOptimized,skipEmptyFiles:!(!e.skipEmptyTiles&&!e.tiffSkipEmptyFiles),tileDimensions:ee.rpc_convert_batch.buildGridDimensions_(e.fileDimensions||e.tiffFileDimensions),tileSize:numberOrNull_(t)})},ee.rpc_convert_batch.buildTfRecordFormatOptions_=function(e){var t=new module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions({compress:!!e.tfrecordCompressed,maxSizeBytes:stringOrNull_(e.tfrecordMaxFileSize),sequenceData:!!e.tfrecordSequenceData,collapseBands:!!e.tfrecordCollapseBands,maxMaskedRatio:numberOrNull_(e.tfrecordMaskedThreshold),defaultValue:numberOrNull_(e.tfrecordDefaultValue),tileDimensions:ee.rpc_convert_batch.buildGridDimensions_(e.tfrecordPatchDimensions),marginDimensions:ee.rpc_convert_batch.buildGridDimensions_(e.tfrecordKernelSize),tensorDepths:null}),i=e.tfrecordTensorDepths;if(i!=null)if(goog.isObject(i)){var n={};module$contents$goog$object_forEach(i,function(r,u){if(typeof u!="string"||typeof r!="number")throw Error('"tensorDepths" option must be an object of type Object<string, number>');n[u]=r}),t.tensorDepths=n}else throw Error('"tensorDepths" option needs to have the form Object<string, number>.');return t},ee.rpc_convert_batch.buildImageFileExportOptions_=function(e,t){var i=new module$exports$eeapiclient$ee_api_client.ImageFileExportOptions({cloudStorageDestination:null,driveDestination:null,geoTiffOptions:null,tfRecordOptions:null,fileFormat:ee.rpc_convert.fileFormat(e.fileFormat)});return i.fileFormat==="GEO_TIFF"?i.geoTiffOptions=ee.rpc_convert_batch.buildGeoTiffFormatOptions_(e):i.fileFormat==="TF_RECORD_IMAGE"&&(i.tfRecordOptions=ee.rpc_convert_batch.buildTfRecordFormatOptions_(e)),t===ee.rpc_convert_batch.ExportDestination.GCS?i.cloudStorageDestination=ee.rpc_convert_batch.buildCloudStorageDestination_(e):i.driveDestination=ee.rpc_convert_batch.buildDriveDestination_(e),i},ee.rpc_convert_batch.buildImageAssetExportOptions_=function(e){var t=e.pyramidingPolicy||{};try{t=JSON.parse(t)}catch{}var i="PYRAMIDING_POLICY_UNSPECIFIED";return typeof t=="string"?(i=t,t={}):t[".default"]&&(i=t[".default"],delete t[".default"]),new module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(e),pyramidingPolicy:i,pyramidingPolicyOverrides:module$contents$goog$object_isEmpty(t)?null:t,tileSize:numberOrNull_(e.shardSize)})},ee.rpc_convert_batch.buildTableFileExportOptions_=function(e,t){var i=new module$exports$eeapiclient$ee_api_client.TableFileExportOptions({cloudStorageDestination:null,driveDestination:null,fileFormat:ee.rpc_convert.tableFileFormat(e.fileFormat)});return t===ee.rpc_convert_batch.ExportDestination.GCS?i.cloudStorageDestination=ee.rpc_convert_batch.buildCloudStorageDestination_(e):i.driveDestination=ee.rpc_convert_batch.buildDriveDestination_(e),i},ee.rpc_convert_batch.buildTableAssetExportOptions_=function(e){return new module$exports$eeapiclient$ee_api_client.TableAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(e)})},ee.rpc_convert_batch.buildFeatureViewExportOptions_=function(e){return new module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions({featureViewDestination:ee.rpc_convert_batch.buildFeatureViewDestination_(e),ingestionTimeParameters:ee.rpc_convert_batch.buildFeatureViewIngestionTimeParameters_(e)})},ee.rpc_convert_batch.buildBigQueryExportOptions_=function(e){return new module$exports$eeapiclient$ee_api_client.BigQueryExportOptions({bigqueryDestination:ee.rpc_convert_batch.buildBigQueryDestination_(e)})},ee.rpc_convert_batch.buildVideoFileExportOptions_=function(e,t){var i=new module$exports$eeapiclient$ee_api_client.VideoFileExportOptions({cloudStorageDestination:null,driveDestination:null,fileFormat:"MP4"});return t===ee.rpc_convert_batch.ExportDestination.GCS?i.cloudStorageDestination=ee.rpc_convert_batch.buildCloudStorageDestination_(e):i.driveDestination=ee.rpc_convert_batch.buildDriveDestination_(e),i},ee.rpc_convert_batch.buildVideoOptions_=function(e){return new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:numberOrNull_(e.framesPerSecond),maxFrames:numberOrNull_(e.maxFrames),maxPixelsPerFrame:stringOrNull_(e.maxPixels)})},ee.rpc_convert_batch.buildVideoMapOptions_=function(e){return new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:numberOrNull_(e.framesPerSecond),maxFrames:numberOrNull_(e.maxFrames),maxPixelsPerFrame:null})},ee.rpc_convert_batch.buildTileOptions_=function(e){var t,i,n,r;return new module$exports$eeapiclient$ee_api_client.TileOptions({endZoom:numberOrNull_((t=e.endZoom)!=null?t:e.maxZoom),startZoom:numberOrNull_((i=e.startZoom)!=null?i:e.minZoom),scale:numberOrNull_(e.scale),skipEmpty:!((n=e.skipEmpty)!=null?!n:!e.skipEmptyTiles),mapsApiKey:stringOrNull_(e.mapsApiKey),dimensions:ee.rpc_convert_batch.buildGridDimensions_((r=e.dimensions)!=null?r:e.tileDimensions),stride:numberOrNull_(e.stride),zoomSubset:ee.rpc_convert_batch.buildZoomSubset_(numberOrNull_(e.minTimeMachineZoomSubset),numberOrNull_(e.maxTimeMachineZoomSubset))})},ee.rpc_convert_batch.buildZoomSubset_=function(e,t){return e==null&&t==null?null:new module$exports$eeapiclient$ee_api_client.ZoomSubset({start:e??0,end:t})},ee.rpc_convert_batch.buildGridDimensions_=function(e){if(e==null)return null;var t=new module$exports$eeapiclient$ee_api_client.GridDimensions({height:0,width:0});if(typeof e=="string"&&(e.indexOf("x")!==-1?e=e.split("x").map(Number):e.indexOf(",")!==-1&&(e=e.split(",").map(Number))),Array.isArray(e))if(e.length===2)t.height=e[0],t.width=e[1];else if(e.length===1)t.height=e[0],t.width=e[0];else throw Error("Unable to construct grid from dimensions: "+e);else if(typeof e!="number"||isNaN(e))if(goog.isObject(e)&&e.height!=null&&e.width!=null)t.height=e.height,t.width=e.width;else throw Error("Unable to construct grid from dimensions: "+e);else t.height=e,t.width=e;return t},ee.rpc_convert_batch.buildCloudStorageDestination_=function(e){var t=null;return e.writePublicTiles!=null&&(t=e.writePublicTiles?"PUBLIC":"DEFAULT_OBJECT_ACL"),new module$exports$eeapiclient$ee_api_client.CloudStorageDestination({bucket:stringOrNull_(e.outputBucket),filenamePrefix:stringOrNull_(e.outputPrefix),bucketCorsUris:e.bucketCorsUris||null,permissions:t})},ee.rpc_convert_batch.buildDriveDestination_=function(e){return new module$exports$eeapiclient$ee_api_client.DriveDestination({folder:stringOrNull_(e.driveFolder),filenamePrefix:stringOrNull_(e.driveFileNamePrefix)})},ee.rpc_convert_batch.buildEarthEngineDestination_=function(e){return new module$exports$eeapiclient$ee_api_client.EarthEngineDestination({name:ee.rpc_convert.assetIdToAssetName(e.assetId)})},ee.rpc_convert_batch.buildFeatureViewDestination_=function(e){return new module$exports$eeapiclient$ee_api_client.FeatureViewDestination({name:ee.rpc_convert.assetIdToAssetName(e.mapName)})},ee.rpc_convert_batch.buildBigQueryDestination_=function(e){return new module$exports$eeapiclient$ee_api_client.BigQueryDestination({table:stringOrNull_(e.table),overwrite:!!e.overwrite})},ee.rpc_convert_batch.buildFeatureViewIngestionTimeParameters_=function(e){return new module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters({thinningOptions:ee.rpc_convert_batch.buildThinningOptions_(e),rankingOptions:ee.rpc_convert_batch.buildRankingOptions_(e)})},ee.rpc_convert_batch.buildThinningOptions_=function(e){return e==null?null:new module$exports$eeapiclient$ee_api_client.ThinningOptions({maxFeaturesPerTile:numberOrNull_(e.maxFeaturesPerTile),thinningStrategy:e.thinningStrategy})},ee.rpc_convert_batch.buildRankingOptions_=function(e){return e==null?null:new module$exports$eeapiclient$ee_api_client.RankingOptions({zOrderRankingRule:ee.rpc_convert_batch.buildRankingRule_(e.zOrderRanking),thinningRankingRule:ee.rpc_convert_batch.buildRankingRule_(e.thinningRanking)})},ee.rpc_convert_batch.buildRankingRule_=function(e){if(!e)return null;var t=e;if(typeof e=="string"&&(e=e.split(",")),Array.isArray(e))return new module$exports$eeapiclient$ee_api_client.RankingRule({rankByOneThingRule:(e||[]).map(ee.rpc_convert_batch.buildRankByOneThingRule_)});throw Error("Unable to build ranking rule from rules: "+JSON.stringify(t)+". Rules should either be a comma-separated string or list of strings.")},ee.rpc_convert_batch.buildRankByOneThingRule_=function(e){var t=new module$exports$eeapiclient$ee_api_client.RankByOneThingRule({direction:null,rankByAttributeRule:null,rankByMinZoomLevelRule:null,rankByGeometryTypeRule:null});e=e.trim();var i=e.match(/^([\S]+.*)\s+(ASC|DESC)$/);if(i==null)throw Error("Ranking rule format is invalid. Each rule should be defined by a rule type and a direction (ASC or DESC), separated by a space. Valid rule types are: .geometryType, .minZoomLevel, or a feature property name.");var n=$jscomp.makeIterator(i);n.next();var r=n.next().value,u=n.next().value;switch(u.toUpperCase()){case"ASC":t.direction="ASCENDING";break;case"DESC":t.direction="DESCENDING";break;default:throw Error("Ranking rule direction '"+u+"' is invalid. Directions are: ASC, DESC.")}switch(r.trim()){case".geometryType":t.rankByGeometryTypeRule=new module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule({});break;case".minZoomLevel":t.rankByMinZoomLevelRule=new module$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule({});break;default:t.rankByAttributeRule=new module$exports$eeapiclient$ee_api_client.RankByAttributeRule({attributeName:stringOrNull_(r)})}return t},goog.singleton={};var module$contents$goog$singleton_instantiatedSingletons=[];goog.singleton.getInstance=function(e){if((0,goog.asserts.assert)(!Object.isSealed(e),"Cannot use getInstance() with a sealed constructor."),e.instance_&&e.hasOwnProperty("instance_"))return e.instance_;goog.DEBUG&&module$contents$goog$singleton_instantiatedSingletons.push(e);var t=new e;return e.instance_=t,(0,goog.asserts.assert)(e.hasOwnProperty("instance_"),"Could not instantiate singleton."),t},goog.singleton.instantiatedSingletons=module$contents$goog$singleton_instantiatedSingletons,ee.data={},ee.data.AbstractTaskConfig={},ee.data.AlgorithmsRegistry={},ee.data.AssetList={},ee.data.BigQueryTaskConfig={},ee.data.ClassifierTaskConfig={},ee.data.FeatureViewTaskConfig={},ee.data.ImageTaskConfig={},ee.data.MapTaskConfig={},ee.data.TableTaskConfig={},ee.data.VideoMapTaskConfig={},ee.data.VideoTaskConfig={},ee.data.authenticateViaOauth=function(e,t,i,n,r,u){var d=module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!u,!1,n||[]);module$contents$ee$apiclient_apiclient.setAuthClient(e,d),e===null?module$contents$ee$apiclient_apiclient.clearAuthToken():module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function(){var c=r||goog.partial(ee.data.authenticateViaPopup,t,i);ee.data.refreshAuthToken(t,i,c)})},goog.exportSymbol("ee.data.authenticateViaOauth",ee.data.authenticateViaOauth),ee.data.authenticate=function(e,t,i,n,r){ee.data.authenticateViaOauth(e,t,i,n,r)},goog.exportSymbol("ee.data.authenticate",ee.data.authenticate),ee.data.authenticateViaPopup=function(e,t){goog.global.gapi.auth.authorize({client_id:module$contents$ee$apiclient_apiclient.getAuthClientId(),immediate:!1,scope:module$contents$ee$apiclient_apiclient.getAuthScopes().join(" ")},goog.partial(module$contents$ee$apiclient_apiclient.handleAuthResult_,e,t))},goog.exportSymbol("ee.data.authenticateViaPopup",ee.data.authenticateViaPopup),ee.data.authenticateViaPrivateKey=function(e,t,i,n,r){if("window"in goog.global)throw Error("Use of private key authentication in the browser is insecure. Consider using OAuth, instead.");var u=module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!r,!r,n||[]);module$contents$ee$apiclient_apiclient.setAuthClient(e.client_email,u);var d=new google.auth.JWT(e.client_email,null,e.private_key,u,null);ee.data.setAuthTokenRefresher(function(c,b){d.authorize(function(S,C){b(S?{error:S}:{access_token:C.access_token,token_type:C.token_type,expires_in:(C.expiry_date-Date.now())/1e3})})}),ee.data.refreshAuthToken(t,i)},goog.exportSymbol("ee.data.authenticateViaPrivateKey",ee.data.authenticateViaPrivateKey),ee.data.setApiKey=module$contents$ee$apiclient_apiclient.setApiKey,ee.data.setProject=module$contents$ee$apiclient_apiclient.setProject,ee.data.getProject=module$contents$ee$apiclient_apiclient.getProject,ee.data.PROFILE_REQUEST_HEADER=module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER,ee.data.setExpressionAugmenter=function(e){ee.data.expressionAugmenter_=e||goog.functions.identity},goog.exportSymbol("ee.data.setExpressionAugmenter",ee.data.setExpressionAugmenter),ee.data.expressionAugmenter_=goog.functions.identity,ee.data.setAuthToken=module$contents$ee$apiclient_apiclient.setAuthToken,goog.exportSymbol("ee.data.setAuthToken",ee.data.setAuthToken),ee.data.refreshAuthToken=module$contents$ee$apiclient_apiclient.refreshAuthToken,goog.exportSymbol("ee.data.refreshAuthToken",ee.data.refreshAuthToken),ee.data.setAuthTokenRefresher=module$contents$ee$apiclient_apiclient.setAuthTokenRefresher,goog.exportSymbol("ee.data.setAuthTokenRefresher",ee.data.setAuthTokenRefresher),ee.data.getAuthToken=module$contents$ee$apiclient_apiclient.getAuthToken,goog.exportSymbol("ee.data.getAuthToken",ee.data.getAuthToken),ee.data.clearAuthToken=module$contents$ee$apiclient_apiclient.clearAuthToken,goog.exportSymbol("ee.data.clearAuthToken",ee.data.clearAuthToken),ee.data.getAuthClientId=module$contents$ee$apiclient_apiclient.getAuthClientId,goog.exportSymbol("ee.data.getAuthClientId",ee.data.getAuthClientId),ee.data.getAuthScopes=module$contents$ee$apiclient_apiclient.getAuthScopes,goog.exportSymbol("ee.data.getAuthScopes",ee.data.getAuthScopes),ee.data.setDeadline=module$contents$ee$apiclient_apiclient.setDeadline,goog.exportSymbol("ee.data.setDeadline",ee.data.setDeadline),ee.data.setParamAugmenter=module$contents$ee$apiclient_apiclient.setParamAugmenter,goog.exportSymbol("ee.data.setParamAugmenter",ee.data.setParamAugmenter),ee.data.initialize=module$contents$ee$apiclient_apiclient.initialize,ee.data.reset=module$contents$ee$apiclient_apiclient.reset,ee.data.PROFILE_HEADER=module$contents$ee$apiclient_apiclient.PROFILE_HEADER,ee.data.makeRequest_=module$contents$ee$apiclient_apiclient.makeRequest_,ee.data.send_=module$contents$ee$apiclient_apiclient.send,ee.data.setupMockSend=module$contents$ee$apiclient_apiclient.setupMockSend,ee.data.withProfiling=module$contents$ee$apiclient_apiclient.withProfiling,ee.data.getAlgorithms=function(e){var t=new module$contents$ee$apiclient_Call(e);return t.handle(t.algorithms().list(t.projectsPath(),{prettyPrint:!1}).then(ee.rpc_convert.algorithms))},ee.data.getMapId=function(e,t){if(typeof e.image=="string")throw Error("Image as JSON string not supported.");if(e.version!==void 0)throw Error("Image version specification not supported.");var i=new module$exports$eeapiclient$ee_api_client.EarthEngineMap({name:null,expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e.image)),fileFormat:ee.rpc_convert.fileFormat(e.format),bandIds:ee.rpc_convert.bandList(e.bands),visualizationOptions:ee.rpc_convert.visualizationOptions(e)}),n={fields:"name"},r=ee.data.getWorkloadTag();r&&(n.workloadTag=r);var u=new module$contents$ee$apiclient_Call(t);return u.handle(u.maps().create(u.projectsPath(),i,n).then(function(d){return ee.data.makeMapId_(d.name,"")}))},goog.exportSymbol("ee.data.getMapId",ee.data.getMapId),ee.data.getTileUrl=function(e,t,i,n){if(!e.formatTileUrl){var r=ee.data.makeMapId_(e.mapid,e.token,e.urlFormat);e.urlFormat=r.urlFormat,e.formatTileUrl=r.formatTileUrl}return e.formatTileUrl(t,i,n)},goog.exportSymbol("ee.data.getTileUrl",ee.data.getTileUrl),ee.data.makeMapId_=function(e,t,i){var n=i===void 0?"":i;if(!n){module$contents$ee$apiclient_apiclient.initialize();var r=module$contents$ee$apiclient_apiclient.getTileBaseUrl();n=t?r+"/map/"+e+"/{z}/{x}/{y}?token="+t:r+"/"+module$exports$ee$apiVersion.V1ALPHA+"/"+e+"/tiles/{z}/{x}/{y}"}return{mapid:e,token:t,formatTileUrl:function(u,d,c){var b=Math.pow(2,c);return u%=b,u=String(0>u?u+b:u),n.replace("{x}",u).replace("{y}",d).replace("{z}",c)},urlFormat:n}},ee.data.getFeatureViewTilesKey=function(e,t){var i=e.visParams?ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e.visParams)):null,n=new module$exports$eeapiclient$ee_api_client.FeatureView({name:null,asset:e.assetId,mapName:e.mapName,visualizationExpression:i}),r=new module$contents$ee$apiclient_Call(t);return r.handle(r.featureView().create(r.projectsPath(),n,{fields:["name"]}).then(function(u){var d=u.name.split("/").pop(),c=d.substring(0,d.lastIndexOf("-"));return{token:d,formatTileUrl:function(b,S,C){return module$contents$ee$apiclient_apiclient.getTileBaseUrl()+"/"+module$exports$ee$apiVersion.V1ALPHA+"/"+u.name+"/tiles/"+C+"/"+b+"/"+S},rawTilesKey:c}}))},goog.exportSymbol("ee.data.getFeatureViewTilesKey",ee.data.getFeatureViewTilesKey),ee.data.listFeatures=function(e,t,i){var n=new module$contents$ee$apiclient_Call(i),r=ee.rpc_convert.assetIdToAssetName(e);return n.handle(n.assets().listFeatures(r,t))},goog.exportSymbol("ee.data.listFeatures",ee.data.listFeatures),ee.data.computeValue=function(e,t){var i={expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e))},n=ee.data.getWorkloadTag();n&&(i.workloadTag=n);var r=new module$contents$ee$apiclient_Call(t);return r.handle(r.value().compute(r.projectsPath(),new module$exports$eeapiclient$ee_api_client.ComputeValueRequest(i)).then(function(u){return u.result}))},goog.exportSymbol("ee.data.computeValue",ee.data.computeValue),ee.data.getThumbId=function(e,t){if(typeof e.image=="string")throw Error("Image as JSON string not supported.");if(e.version!==void 0)throw Error("Image version specification not supported.");if(e.region!==void 0)throw Error('"region" not supported in call to ee.data.getThumbId. Use ee.Image.getThumbURL.');if(e.dimensions!==void 0)throw Error('"dimensions" is not supported in call to ee.data.getThumbId. Use ee.Image.getThumbURL.');var i=new module$exports$eeapiclient$ee_api_client.Thumbnail({name:null,expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e.image)),fileFormat:ee.rpc_convert.fileFormat(e.format),filenamePrefix:e.name,bandIds:ee.rpc_convert.bandList(e.bands),visualizationOptions:ee.rpc_convert.visualizationOptions(e),grid:null}),n={fields:"name"},r=ee.data.getWorkloadTag();r&&(n.workloadTag=r);var u=new module$contents$ee$apiclient_Call(t);return u.handle(u.thumbnails().create(u.projectsPath(),i,n).then(function(d){return{thumbid:d.name,token:""}}))},goog.exportSymbol("ee.data.getThumbId",ee.data.getThumbId),ee.data.getVideoThumbId=function(e,t){var i=new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:e.framesPerSecond||null,maxFrames:e.maxFrames||null,maxPixelsPerFrame:e.maxPixelsPerFrame||null}),n=new module$exports$eeapiclient$ee_api_client.VideoThumbnail({name:null,expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e.imageCollection)),fileFormat:ee.rpc_convert.fileFormat(e.format),videoOptions:i,grid:null}),r={fields:"name"},u=ee.data.getWorkloadTag();u&&(r.workloadTag=u);var d=new module$contents$ee$apiclient_Call(t);return d.handle(d.videoThumbnails().create(d.projectsPath(),n,r).then(function(c){return{thumbid:c.name,token:""}}))},goog.exportSymbol("ee.data.getVideoThumbId",ee.data.getVideoThumbId),ee.data.getFilmstripThumbId=function(e,t){var i=new module$exports$eeapiclient$ee_api_client.FilmstripThumbnail({name:null,expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e.imageCollection)),fileFormat:ee.rpc_convert.fileFormat(e.format),orientation:ee.rpc_convert.orientation(e.orientation),grid:null}),n={fields:"name"},r=ee.data.getWorkloadTag();r&&(n.workloadTag=r);var u=new module$contents$ee$apiclient_Call(t);return u.handle(u.filmstripThumbnails().create(u.projectsPath(),i,n).then(function(d){return{thumbid:d.name,token:""}}))},goog.exportSymbol("ee.data.getFilmstripThumbId",ee.data.getFilmstripThumbId),ee.data.makeThumbUrl=function(e){return module$contents$ee$apiclient_apiclient.getTileBaseUrl()+"/"+module$exports$ee$apiVersion.V1ALPHA+"/"+e.thumbid+":getPixels"},goog.exportSymbol("ee.data.makeThumbUrl",ee.data.makeThumbUrl),ee.data.getDownloadId=function(e,t){if(e=Object.assign({},e),e.id&&(e.image=new ee.Image(e.id)),typeof e.image=="string")throw Error("Image as serialized JSON string not supported.");if(!e.image)throw Error("Missing ID or image parameter.");if(e.filePerBand=e.filePerBand!==!1,e.format=e.format||(e.filePerBand?"ZIPPED_GEO_TIFF_PER_BAND":"ZIPPED_GEO_TIFF"),e.region!=null&&(e.scale!=null||e.crs_transform!=null)&&e.dimensions!=null)throw Error("Cannot specify (bounding region, crs_transform/scale, dimensions) simultaneously.");if(typeof e.bands=="string")try{e.bands=JSON.parse(e.bands)}catch{e.bands=ee.rpc_convert.bandList(e.bands)}if(e.bands&&!Array.isArray(e.bands))throw Error("Bands parameter must be an array.");if(e.bands&&e.bands.every(function(c){return typeof c=="string"})&&(e.bands=e.bands.map(function(c){return{id:c}})),e.bands&&e.bands.some(function(c){return c.id==null}))throw Error("Each band dictionary must have an id.");if(typeof e.region=="string"&&(e.region=JSON.parse(e.region)),typeof e.crs_transform=="string")try{e.crs_transform=JSON.parse(e.crs_transform)}catch{}var i=ee.data.images.buildDownloadIdImage(e.image,e),n=new module$exports$eeapiclient$ee_api_client.Thumbnail({name:null,expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(i)),fileFormat:ee.rpc_convert.fileFormat(e.format),filenamePrefix:e.name,bandIds:e.bands&&ee.rpc_convert.bandList(e.bands.map(function(c){return c.id})),grid:null}),r={fields:"name"},u=ee.data.getWorkloadTag();u&&(r.workloadTag=u);var d=new module$contents$ee$apiclient_Call(t);return d.handle(d.thumbnails().create(d.projectsPath(),n,r).then(function(c){return{docid:c.name,token:""}}))},goog.exportSymbol("ee.data.getDownloadId",ee.data.getDownloadId),ee.data.makeDownloadUrl=function(e){return module$contents$ee$apiclient_apiclient.initialize(),module$contents$ee$apiclient_apiclient.getTileBaseUrl()+"/"+module$exports$ee$apiVersion.V1ALPHA+"/"+e.docid+":getPixels"},goog.exportSymbol("ee.data.makeDownloadUrl",ee.data.makeDownloadUrl),ee.data.getTableDownloadId=function(e,t){var i=new module$contents$ee$apiclient_Call(t),n=ee.rpc_convert.tableFileFormat(e.format),r=ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e.table)),u=null;if(e.selectors!=null)if(typeof e.selectors=="string")u=e.selectors.split(",");else if(Array.isArray(e.selectors)&&e.selectors.every(function(S){return typeof S=="string"}))u=e.selectors;else throw Error("'selectors' parameter must be an array of strings.");var d=new module$exports$eeapiclient$ee_api_client.Table({name:null,expression:r,fileFormat:n,selectors:u,filename:e.filename||null}),c={fields:"name"},b=ee.data.getWorkloadTag();return b&&(c.workloadTag=b),i.handle(i.tables().create(i.projectsPath(),d,c).then(function(S){return{docid:S.name||"",token:""}}))},goog.exportSymbol("ee.data.getTableDownloadId",ee.data.getTableDownloadId),ee.data.makeTableDownloadUrl=function(e){return module$contents$ee$apiclient_apiclient.getTileBaseUrl()+"/"+module$exports$ee$apiVersion.V1ALPHA+"/"+e.docid+":getFeatures"},goog.exportSymbol("ee.data.makeTableDownloadUrl",ee.data.makeTableDownloadUrl),ee.data.newTaskId=function(e,t){var i=function(d){return Math.floor(Math.random()*d)},n=function(d){return i(Math.pow(2,4*d)).toString(16).padStart(d,"0")},r=function(){return(8+i(4)).toString(16)+n(3)},u=module$contents$goog$array_range(e||1).map(function(){return[n(8),n(4),"4"+n(3),r(),n(12)].join("-")});return t?t(u):u},goog.exportSymbol("ee.data.newTaskId",ee.data.newTaskId),ee.data.getTaskStatus=function(e,t){var i=ee.data.makeStringArray_(e).map(ee.rpc_convert.taskIdToOperationName);if(i.length===1){var n=new module$contents$ee$apiclient_Call(t);return n.handle(n.operations().get(i[0]).then(function(d){return[ee.rpc_convert.operationToTask(d)]}))}var r=new module$contents$ee$apiclient_BatchCall(t),u=r.operations();return r.send(i.map(function(d){return[d,u.get(d)]}),function(d){return i.map(function(c){return ee.rpc_convert.operationToTask(d[c])})})},goog.exportSymbol("ee.data.getTaskStatus",ee.data.getTaskStatus),ee.data.makeStringArray_=function(e){if(typeof e=="string")return[e];if(Array.isArray(e))return e;throw Error("Invalid value: expected a string or an array of strings.")},ee.data.TASKLIST_PAGE_SIZE_=500,ee.data.getTaskList=function(e){return ee.data.getTaskListWithLimit(void 0,e)},goog.exportSymbol("ee.data.getTaskList",ee.data.getTaskList),ee.data.getTaskListWithLimit=function(e,t){var i=function(n){return{tasks:n.map(ee.rpc_convert.operationToTask)}};return t?(ee.data.listOperations(e,function(n,r){return t(n?i(n):null,r)}),null):i(ee.data.listOperations(e))},goog.exportSymbol("ee.data.getTaskListWithLimit",ee.data.getTaskListWithLimit),ee.data.listOperations=function(e,t){var i=[],n=function(){return e?i.slice(0,e):i},r={pageSize:ee.data.TASKLIST_PAGE_SIZE_},u=function(b){return module$contents$goog$array_extend(i,b.operations||[]),!b.nextPageToken||e&&i.length>=e?t&&t(n()):(r.pageToken=b.nextPageToken,d.handle(c.list(d.projectsPath(),r).then(u))),null},d=new module$contents$ee$apiclient_Call(t?function(b,S){return S&&t(b,S)}:void 0),c=d.operations();return d.handle(c.list(d.projectsPath(),r).then(u)),t?null:n()},goog.exportSymbol("ee.data.listOperations",ee.data.listOperations),ee.data.cancelOperation=function(e,t){var i=ee.data.makeStringArray_(e),n=new module$exports$eeapiclient$ee_api_client.CancelOperationRequest;if(i.length===1){var r=new module$contents$ee$apiclient_Call(t);r.handle(r.operations().cancel(i[0],n))}else{var u=new module$contents$ee$apiclient_BatchCall(t),d=u.operations();u.send(i.map(function(c){return[c,d.cancel(c,n)]}))}},goog.exportSymbol("ee.data.cancelOperation",ee.data.cancelOperation),ee.data.getOperation=function(e,t){var i=ee.data.makeStringArray_(e).map(ee.rpc_convert.taskIdToOperationName);if(!Array.isArray(e)){var n=new module$contents$ee$apiclient_Call(t);return n.handle(n.operations().get(i[0]))}var r=new module$contents$ee$apiclient_BatchCall(t),u=r.operations();return r.send(i.map(function(d){return[d,u.get(d)]}))},goog.exportSymbol("ee.data.getOperation",ee.data.getOperation),ee.data.cancelTask=function(e,t){return ee.data.updateTask(e,ee.data.TaskUpdateActions.CANCEL,t)},goog.exportSymbol("ee.data.cancelTask",ee.data.cancelTask),ee.data.updateTask=function(e,t,i){if(!module$contents$goog$object_containsValue(ee.data.TaskUpdateActions,t))throw Error("Invalid action: "+t);e=ee.data.makeStringArray_(e);var n=e.map(ee.rpc_convert.taskIdToOperationName);return ee.data.cancelOperation(n,i),null},goog.exportSymbol("ee.data.updateTask",ee.data.updateTask),ee.data.startProcessing=function(e,t,i){t.id=e;var n=t.type,r=t.sourceUrl!=null?{__source_url__:t.sourceUrl}:{};if("workloadTag"in t)t.workloadTag||delete t.workloadTag;else{var u=ee.data.getWorkloadTag();u&&(t.workloadTag=u)}var d=new module$contents$ee$apiclient_Call(i),c=function(K){return d.handle(K.then(ee.rpc_convert.operationToProcessingResponse))};switch(n){case ee.data.ExportType.IMAGE:var b=ee.data.prepareExportImageRequest_(t,r);return c(d.image().export(d.projectsPath(),b));case ee.data.ExportType.TABLE:var S=ee.rpc_convert_batch.taskToExportTableRequest(t);return S.expression=ee.data.expressionAugmenter_(S.expression,r),c(d.table().export(d.projectsPath(),S));case ee.data.ExportType.VIDEO:var C=ee.data.prepareExportVideoRequest_(t,r);return c(d.video().export(d.projectsPath(),C));case ee.data.ExportType.MAP:var O=ee.data.prepareExportMapRequest_(t,r);return c(d.map().export(d.projectsPath(),O));case ee.data.ExportType.VIDEO_MAP:var D=ee.data.prepareExportVideoMapRequest_(t,r);return c(d.videoMap().export(d.projectsPath(),D));case ee.data.ExportType.CLASSIFIER:var H=ee.data.prepareExportClassifierRequest_(t,r);return c(d.classifier().export(d.projectsPath(),H));default:throw Error("Unable to start processing for task of type "+n)}},goog.exportSymbol("ee.data.startProcessing",ee.data.startProcessing),ee.data.prepareExportImageRequest_=function(e,t){var i=ee.data.images.applyTransformsToImage(e),n=ee.rpc_convert_batch.taskToExportImageRequest(i);return n.expression=ee.data.expressionAugmenter_(n.expression,t),e.workloadTag&&(n.workloadTag=e.workloadTag),n},ee.data.prepareExportVideoRequest_=function(e,t){var i=ee.data.images.applyTransformsToCollection(e),n=ee.rpc_convert_batch.taskToExportVideoRequest(i);return n.expression=ee.data.expressionAugmenter_(n.expression,t),e.workloadTag&&(n.workloadTag=e.workloadTag),n},ee.data.prepareExportMapRequest_=function(e,t){var i=e.scale;delete e.scale;var n=ee.data.images.applyTransformsToImage(e);n.scale=i;var r=ee.rpc_convert_batch.taskToExportMapRequest(n);return r.expression=ee.data.expressionAugmenter_(r.expression,t),e.workloadTag&&(r.workloadTag=e.workloadTag),r},ee.data.prepareExportVideoMapRequest_=function(e,t){var i=e.scale;delete e.scale;var n=ee.data.images.applyTransformsToCollection(e);n.scale=i;var r=ee.rpc_convert_batch.taskToExportVideoMapRequest(n);return r.expression=ee.data.expressionAugmenter_(r.expression),e.workloadTag&&(r.workloadTag=e.workloadTag),r},ee.data.prepareExportClassifierRequest_=function(e,t){var i=ee.rpc_convert_batch.taskToExportClassifierRequest(e);return i.expression=ee.data.expressionAugmenter_(i.expression),e.workloadTag&&(i.workloadTag=e.workloadTag),i},ee.data.startIngestion=function(e,t,i){var n=ee.rpc_convert.toImageManifest(t),r=function(u){return u?ee.rpc_convert.operationToProcessingResponse(u):null};return r(ee.data.ingestImage(e,n,i&&function(u,d){return i(r(u),d)}))},goog.exportSymbol("ee.data.startIngestion",ee.data.startIngestion),ee.data.ingestImage=function(e,t,i){var n=new module$exports$eeapiclient$ee_api_client.ImportImageRequest({imageManifest:t,requestId:e,overwrite:null,description:null}),r=new module$contents$ee$apiclient_Call(i,e?void 0:0);return r.handle(r.image().import(r.projectsPath(),n))},ee.data.ingestTable=function(e,t,i){var n=new module$exports$eeapiclient$ee_api_client.ImportTableRequest({tableManifest:t,requestId:e,overwrite:null,description:null}),r=new module$contents$ee$apiclient_Call(i,e?void 0:0);return r.handle(r.table().import(r.projectsPath(),n))},ee.data.startTableIngestion=function(e,t,i){var n=ee.rpc_convert.toTableManifest(t),r=function(u){return u?ee.rpc_convert.operationToProcessingResponse(u):null};return r(ee.data.ingestTable(e,n,i&&function(u,d){return i(r(u),d)}))},goog.exportSymbol("ee.data.startTableIngestion",ee.data.startTableIngestion),ee.data.getAsset=function(e,t){var i=new module$contents$ee$apiclient_Call(t),n=ee.rpc_convert.assetIdToAssetName(e);return i.handle(i.assets().get(n,{prettyPrint:!1}).then(ee.rpc_convert.assetToLegacyResult))},goog.exportSymbol("ee.data.getAsset",ee.data.getAsset),ee.data.getInfo=ee.data.getAsset,goog.exportSymbol("ee.data.getInfo",ee.data.getInfo),ee.data.makeListAssetsCall_=function(e,t,i,n){t=t===void 0?{}:t,n=n===void 0?goog.functions.identity:n;var r=ee.rpc_convert.CLOUD_ASSET_ROOT_RE.test(e),u=new module$contents$ee$apiclient_Call(i),d=r?u.projects():u.assets();return e=r?ee.rpc_convert.projectParentFromPath(e):ee.rpc_convert.assetIdToAssetName(e),u.handle(d.listAssets(e,t).then(n))},ee.data.getList=function(e,t){return ee.data.makeListAssetsCall_(e.id,ee.rpc_convert.getListToListAssets(e),t,function(i){return i==null?null:ee.rpc_convert.listAssetsToGetList(i)})},goog.exportSymbol("ee.data.getList",ee.data.getList),ee.data.listAssets=function(e,t,i){return t=t===void 0?{}:t,ee.data.makeListAssetsCall_(e,t,i)},goog.exportSymbol("ee.data.listAssets",ee.data.listAssets),ee.data.listImages=function(e,t,i){t=t===void 0?{}:t;var n=ee.rpc_convert.processListImagesParams(t);return ee.data.makeListAssetsCall_(e,n,i,function(r){if(r==null)return null;var u={};return r.assets&&(u.images=r.assets),r.nextPageToken&&(u.nextPageToken=r.nextPageToken),u})},goog.exportSymbol("ee.data.listImages",ee.data.listImages),ee.data.listBuckets=function(e,t){var i=new module$contents$ee$apiclient_Call(t);return i.handle(i.projects().listAssets(e||i.projectsPath()))},goog.exportSymbol("ee.data.listBuckets",ee.data.listBuckets),ee.data.getAssetRoots=function(e){var t=new module$contents$ee$apiclient_Call(e);return t.handle(t.projects().listAssets(t.projectsPath()).then(ee.rpc_convert.listAssetsToGetList))},goog.exportSymbol("ee.data.getAssetRoots",ee.data.getAssetRoots),ee.data.createAssetHome=function(e,t){var i=ee.rpc_convert.projectParentFromPath(e),n=i==="projects/"+module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_?e:void 0,r=new module$exports$eeapiclient$ee_api_client.EarthEngineAsset({type:"Folder"}),u=new module$contents$ee$apiclient_Call(t);u.handle(u.assets().create(i,r,{assetId:n}).then(ee.rpc_convert.assetToLegacyResult))},goog.exportSymbol("ee.data.createAssetHome",ee.data.createAssetHome),ee.data.createAsset=function(e,t,i,n,r){if(i)throw Error("Asset overwrite not supported.");if(typeof e=="string")throw Error("Asset cannot be specified as string.");var u=e.name||t&&ee.rpc_convert.assetIdToAssetName(t);if(!u)throw Error("Either asset name or opt_path must be specified.");var d=u.indexOf("/assets/");if(d===-1)throw Error("Asset name must contain /assets/.");var c=new module$exports$eeapiclient$ee_api_client.EarthEngineAsset(e),b=u.slice(0,d),S=u.slice(d+8);c.id=null,c.name=null,n&&!c.properties&&(c.properties=n),c.type=ee.rpc_convert.assetTypeForCreate(c.type);var C=new module$contents$ee$apiclient_Call(r);return C.handle(C.assets().create(b,c,{assetId:S}).then(ee.rpc_convert.assetToLegacyResult))},goog.exportSymbol("ee.data.createAsset",ee.data.createAsset),ee.data.createFolder=function(e,t,i){return ee.data.createAsset({type:"Folder"},e,t,void 0,i)},goog.exportSymbol("ee.data.createFolder",ee.data.createFolder),ee.data.renameAsset=function(e,t,i){var n=ee.rpc_convert.assetIdToAssetName(e),r=ee.rpc_convert.assetIdToAssetName(t),u=new module$exports$eeapiclient$ee_api_client.MoveAssetRequest({destinationName:r}),d=new module$contents$ee$apiclient_Call(i);d.handle(d.assets().move(n,u).then(ee.rpc_convert.assetToLegacyResult))},goog.exportSymbol("ee.data.renameAsset",ee.data.renameAsset),ee.data.copyAsset=function(e,t,i,n){var r=ee.rpc_convert.assetIdToAssetName(e),u=ee.rpc_convert.assetIdToAssetName(t),d=new module$exports$eeapiclient$ee_api_client.CopyAssetRequest({destinationName:u,overwrite:i??null}),c=new module$contents$ee$apiclient_Call(n);c.handle(c.assets().copy(r,d).then(ee.rpc_convert.assetToLegacyResult))},goog.exportSymbol("ee.data.copyAsset",ee.data.copyAsset),ee.data.deleteAsset=function(e,t){var i=new module$contents$ee$apiclient_Call(t);i.handle(i.assets().delete(ee.rpc_convert.assetIdToAssetName(e)))},goog.exportSymbol("ee.data.deleteAsset",ee.data.deleteAsset),ee.data.getAssetAcl=function(e,t){var i=ee.rpc_convert.assetIdToAssetName(e),n=new module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest,r=new module$contents$ee$apiclient_Call(t);return r.handle(r.assets().getIamPolicy(i,n,{prettyPrint:!1}).then(ee.rpc_convert.iamPolicyToAcl))},goog.exportSymbol("ee.data.getAssetAcl",ee.data.getAssetAcl),ee.data.getIamPolicy=function(e,t){var i=ee.rpc_convert.assetIdToAssetName(e),n=new module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest,r=new module$contents$ee$apiclient_Call(t);return r.handle(r.assets().getIamPolicy(i,n,{prettyPrint:!1}))},ee.data.setIamPolicy=function(e,t,i){var n=ee.rpc_convert.assetIdToAssetName(e),r=new module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest({policy:t}),u=new module$contents$ee$apiclient_Call(i);return u.handle(u.assets().setIamPolicy(n,r,{prettyPrint:!1}))},ee.data.updateAsset=function(e,t,i,n){var r=(i||[]).join(","),u=new module$exports$eeapiclient$ee_api_client.UpdateAssetRequest({asset:t,updateMask:r}),d=new module$contents$ee$apiclient_Call(n);return d.handle(d.assets().patch(ee.rpc_convert.assetIdToAssetName(e),u).then(ee.rpc_convert.assetToLegacyResult))},goog.exportSymbol("ee.data.updateAsset",ee.data.updateAsset),ee.data.setAssetAcl=function(e,t,i){var n=ee.rpc_convert.assetIdToAssetName(e),r=ee.rpc_convert.aclToIamPolicy(t),u=new module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest({policy:r}),d=new module$contents$ee$apiclient_Call(i);d.handle(d.assets().setIamPolicy(n,u,{prettyPrint:!1}))},goog.exportSymbol("ee.data.setAssetAcl",ee.data.setAssetAcl),ee.data.setAssetProperties=function(e,t,i){var n=ee.rpc_convert.legacyPropertiesToAssetUpdate(t),r=n.getClassMetadata().keys.filter(function(u){return u!=="properties"&&n.Serializable$has(u)}).map(function(u){return u.replace(/([A-Z])/g,function(d,c){return"_"+c.toLowerCase()})}).concat(Object.keys(n.properties||{}).map(function(u){return'properties."'+u+'"'}));ee.data.updateAsset(e,n,r,i)},goog.exportSymbol("ee.data.setAssetProperties",ee.data.setAssetProperties),ee.data.getAssetRootQuota=function(e,t){var i=ee.rpc_convert.assetIdToAssetName(e),n=new module$contents$ee$apiclient_Call(t),r=n.assets(),u=r.$apiClient.$validateParameter;r.$apiClient.$validateParameter=function(c,b){return b.source==="^projects\\/[^/]+\\/assets\\/.+$"&&(b=RegExp("^projects/[^/]+/assets/.*$")),u(c,b)};var d=r.get(i,{prettyPrint:!1});return n.handle(d.then(function(c){if(!(c instanceof module$exports$eeapiclient$ee_api_client.EarthEngineAsset&&c.quota))throw Error(e+" is not a root folder.");return ee.rpc_convert.folderQuotaToAssetQuotaDetails(c.quota)}))},goog.exportSymbol("ee.data.getAssetRootQuota",ee.data.getAssetRootQuota),ee.data.WorkloadTag=function(){this.default=this.tag=""},ee.data.WorkloadTag.prototype.get=function(){return this.tag},ee.data.WorkloadTag.prototype.set=function(e){this.tag=this.validate(e)},ee.data.WorkloadTag.prototype.setDefault=function(e){this.default=this.validate(e)},ee.data.WorkloadTag.prototype.reset=function(){this.tag=this.default},ee.data.WorkloadTag.prototype.validate=function(e){if(e==null||e==="")return"";if(e=String(e),!/^([a-z0-9]|[a-z0-9][-_\.a-z0-9]{0,61}[a-z0-9])$/g.test(e))throw Error('Invalid tag, "'+e+'". Tags must be 1-63 characters, beginning and ending with a lowercase alphanumeric character([a-z0-9]) with dashes (-), underscores (_), dots (.), andlowercase alphanumerics between.');return e},ee.data.WorkloadTag.getInstance=function(){return goog.singleton.getInstance(ee.data.WorkloadTag)},ee.data.getWorkloadTag=function(){return ee.data.WorkloadTag.getInstance().get()},goog.exportSymbol("ee.data.getWorkloadTag",ee.data.getWorkloadTag),ee.data.setWorkloadTag=function(e){ee.data.WorkloadTag.getInstance().set(e)},goog.exportSymbol("ee.data.setWorkloadTag",ee.data.setWorkloadTag),ee.data.setDefaultWorkloadTag=function(e){ee.data.WorkloadTag.getInstance().setDefault(e),ee.data.WorkloadTag.getInstance().set(e)},goog.exportSymbol("ee.data.setDefaultWorkloadTag",ee.data.setDefaultWorkloadTag),ee.data.resetWorkloadTag=function(e){e&&ee.data.WorkloadTag.getInstance().setDefault(""),ee.data.WorkloadTag.getInstance().reset()},goog.exportSymbol("ee.data.resetWorkloadTag",ee.data.resetWorkloadTag),ee.data.AssetType={ALGORITHM:"Algorithm",CLASSIFIER:"Classifier",FEATURE_VIEW:"FeatureView",FOLDER:"Folder",FEATURE_COLLECTION:"FeatureCollection",IMAGE:"Image",IMAGE_COLLECTION:"ImageCollection",TABLE:"Table",UNKNOWN:"Unknown"},ee.data.ExportType={IMAGE:"EXPORT_IMAGE",MAP:"EXPORT_TILES",TABLE:"EXPORT_FEATURES",VIDEO:"EXPORT_VIDEO",VIDEO_MAP:"EXPORT_VIDEO_MAP",CLASSIFIER:"EXPORT_CLASSIFIER"},ee.data.ExportState={UNSUBMITTED:"UNSUBMITTED",READY:"READY",RUNNING:"RUNNING",COMPLETED:"COMPLETED",FAILED:"FAILED",CANCEL_REQUESTED:"CANCEL_REQUESTED",CANCELLED:"CANCELLED"},ee.data.ExportDestination={DRIVE:"DRIVE",GCS:"GOOGLE_CLOUD_STORAGE",ASSET:"ASSET",FEATURE_VIEW:"FEATURE_VIEW",BIGQUERY:"BIGQUERY"},ee.data.ThinningStrategy={GLOBALLY_CONSISTENT:"GLOBALLY_CONSISTENT",HIGHER_DENSITY:"HIGHER_DENSITY"},ee.data.SystemPropertyPrefix="system:",ee.data.SystemTimeProperty={START:"system:time_start",END:"system:time_end"},ee.data.SYSTEM_ASSET_SIZE_PROPERTY="system:asset_size",ee.data.AssetDetailsProperty={TITLE:"system:title",DESCRIPTION:"system:description",TAGS:"system:tags"},ee.data.ALLOWED_DESCRIPTION_HTML_TABLE_ELEMENTS_="col colgroup caption table tbody td tfoot th thead tr".split(" "),ee.data.ALLOWED_DESCRIPTION_HTML_ELEMENTS=ee.data.ALLOWED_DESCRIPTION_HTML_TABLE_ELEMENTS_.concat("a code em i li ol p strong sub sup ul".split(" ")),ee.data.ShortAssetDescription=function(){},ee.data.ListImagesResponse=function(){},ee.data.AssetAcl=function(){},ee.data.AssetAclUpdate=function(){},ee.data.AssetQuotaEntry=function(){},ee.data.AssetQuotaDetails=function(){},ee.data.FeatureViewDescription=function(){},ee.data.FolderDescription=function(){},ee.data.FeatureCollectionDescription=function(){},ee.data.FeatureVisualizationParameters=function(){},ee.data.GeoJSONFeature=function(){},ee.data.GeoJSONGeometry=function(){},ee.data.GeoJSONGeometryCrs=function(){},ee.data.GeoJSONGeometryCrsProperties=function(){},ee.data.ImageCollectionDescription=function(){},ee.data.ImageDescription=function(){},ee.data.TableDescription=function(){},ee.data.TableDownloadParameters=function(){},ee.data.ImageVisualizationParameters=function(){},ee.data.FeatureViewVisualizationParameters=function(){},ee.data.ThumbnailOptions=function(){},$jscomp.inherits(ee.data.ThumbnailOptions,ee.data.ImageVisualizationParameters),ee.data.VideoThumbnailOptions=function(){},$jscomp.inherits(ee.data.VideoThumbnailOptions,ee.data.ThumbnailOptions),ee.data.FilmstripThumbnailOptions=function(){},$jscomp.inherits(ee.data.FilmstripThumbnailOptions,ee.data.ThumbnailOptions),ee.data.BandDescription=function(){},ee.data.PixelTypeDescription=function(){},ee.data.AlgorithmSignature=function(){},ee.data.AlgorithmArgument=function(){},ee.data.ThumbnailId=function(){},ee.data.DownloadId=function(){},ee.data.RawMapId=function(){},ee.data.MapId=function(){},$jscomp.inherits(ee.data.MapId,ee.data.RawMapId),ee.data.FeatureViewTilesKey=function(){},ee.data.MapZoomRange={MIN:0,MAX:24},ee.data.TaskStatus=function(){},ee.data.ProcessingResponse=function(){},ee.data.TaskListResponse=function(){},ee.data.TaskUpdateActions={CANCEL:"CANCEL",UPDATE:"UPDATE"},ee.data.AssetDescription=function(){},ee.data.IngestionRequest=function(){},ee.data.MissingData=function(){},ee.data.PyramidingPolicy={MEAN:"MEAN",MODE:"MODE",MIN:"MIN",MAX:"MAX",SAMPLE:"SAMPLE"},ee.data.Band=function(){},ee.data.Tileset=function(){},ee.data.FileBand=function(){},ee.data.FileSource=function(){},ee.data.TableIngestionRequest=function(){},ee.data.TableSource=function(){},$jscomp.inherits(ee.data.TableSource,ee.data.FileSource),ee.data.AuthPrivateKey=function(){},ee.ComputedObject=function(e,t,i){if(!(this instanceof ee.ComputedObject))return ee.ComputedObject.construct(ee.ComputedObject,arguments);if(i&&(e||t))throw Error('When "opt_varName" is specified, "func" and "args" must be null.');if(e&&!t)throw Error('When "func" is specified, "args" must not be null.');this.func=e,this.args=t,this.varName=i||null},goog.inherits(ee.ComputedObject,ee.Encodable),goog.exportSymbol("ee.ComputedObject",ee.ComputedObject),ee.ComputedObject.prototype.evaluate=function(e){if(!e||typeof e!="function")throw Error("evaluate() requires a callback function.");ee.data.computeValue(this,e)},goog.exportProperty(ee.ComputedObject.prototype,"evaluate",ee.ComputedObject.prototype.evaluate),ee.ComputedObject.prototype.getInfo=function(e){return ee.data.computeValue(this,e)},goog.exportProperty(ee.ComputedObject.prototype,"getInfo",ee.ComputedObject.prototype.getInfo),ee.ComputedObject.prototype.encode=function(e){if(this.isVariable())return{type:"ArgumentRef",value:this.varName};var t={},i;for(i in this.args)this.args[i]!==void 0&&(t[i]=e(this.args[i]));var n={type:"Invocation",arguments:t},r=e(this.func);return n[typeof r=="string"?"functionName":"function"]=r,n},ee.ComputedObject.prototype.encodeCloudValue=function(e){if(this.isVariable()){var t=this.varName||e.unboundName;if(!t)throw Error("A mapped function's arguments cannot be used in client-side operations");return ee.rpc_node.argumentReference(t)}var i={},n;for(n in this.args)this.args[n]!==void 0&&(i[n]=ee.rpc_node.reference(e.makeReference(this.args[n])));return typeof this.func=="string"?ee.rpc_node.functionByName(String(this.func),i):this.func.encodeCloudInvocation(e,i)},ee.ComputedObject.prototype.serialize=function(e){return e!==void 0&&e?ee.Serializer.toJSON(this):ee.Serializer.toCloudApiJSON(this)},goog.exportProperty(ee.ComputedObject.prototype,"serialize",ee.ComputedObject.prototype.serialize),ee.ComputedObject.prototype.toString=function(){return"ee."+this.name()+"("+ee.Serializer.toReadableJSON(this)+")"},goog.exportSymbol("ee.ComputedObject.prototype.toString",ee.ComputedObject.prototype.toString),ee.ComputedObject.prototype.isVariable=function(){return this.func===null&&this.args===null},ee.ComputedObject.prototype.name=function(){return"ComputedObject"},ee.ComputedObject.prototype.aside=function(e,t){var i=Array.from(arguments);return i[0]=this,e.apply(goog.global,i),this},goog.exportProperty(ee.ComputedObject.prototype,"aside",ee.ComputedObject.prototype.aside),ee.ComputedObject.prototype.castInternal=function(e){if(e instanceof this.constructor)return e;var t=function(){};t.prototype=this.constructor.prototype;var i=new t;return i.func=e.func,i.args=e.args,i.varName=e.varName,i},ee.ComputedObject.construct=function(e,t){function i(){return e.apply(this,t)}return i.prototype=e.prototype,new i},ee.Types={},ee.Types.registeredClasses_={},ee.Types.registerClasses=function(e){ee.Types.registeredClasses_=e},ee.Types.nameToClass=function(e){return e in ee.Types.registeredClasses_?ee.Types.registeredClasses_[e]:null},ee.Types.classToName=function(e){return e.prototype instanceof ee.ComputedObject?e.prototype.name.call(null):e==Number?"Number":e==String?"String":e==Array?"Array":e==Date?"Date":"Object"},ee.Types.isSubtype=function(e,t){if(t==e)return!0;switch(e){case"Element":return t=="Element"||t=="Image"||t=="Feature"||t=="Collection"||t=="ImageCollection"||t=="FeatureCollection";case"FeatureCollection":case"Collection":return t=="Collection"||t=="ImageCollection"||t=="FeatureCollection";case"Object":return!0;default:return!1}},ee.Types.isNumber=function(e){return typeof e=="number"||e instanceof ee.ComputedObject&&e.name()=="Number"},ee.Types.isString=function(e){return typeof e=="string"||e instanceof ee.ComputedObject&&e.name()=="String"},ee.Types.isArray=function(e){return Array.isArray(e)||e instanceof ee.ComputedObject&&e.name()=="List"},ee.Types.isRegularObject=function(e){if(goog.isObject(e)&&typeof e!="function"){var t=Object.getPrototypeOf(e);return t!==null&&Object.getPrototypeOf(t)===null}return!1},ee.Types.useKeywordArgs=function(e,t,i){if(i=i===void 0?!1:i,e.length===1&&ee.Types.isRegularObject(e[0])){var n=t.args;if(i&&(n=n.slice(1)),n.length)return!(n.length===1||n[1].optional)||n[0].type!=="Dictionary"}return!1},ee.Function=function(){if(!(this instanceof ee.Function))return new ee.Function},goog.inherits(ee.Function,ee.Encodable),goog.exportSymbol("ee.Function",ee.Function),ee.Function.promoter_=goog.functions.identity,ee.Function.registerPromoter=function(e){ee.Function.promoter_=e},ee.Function.prototype.call=function(e){return this.apply(this.nameArgs(Array.prototype.slice.call(arguments,0)))},goog.exportProperty(ee.Function.prototype,"call",ee.Function.prototype.call),ee.Function.prototype.apply=function(e){var t=new ee.ComputedObject(this,this.promoteArgs(e));return ee.Function.promoter_(t,this.getReturnType())},goog.exportProperty(ee.Function.prototype,"apply",ee.Function.prototype.apply),ee.Function.prototype.callOrApply=function(e,t){var i=e!==void 0,n=this.getSignature();if(ee.Types.useKeywordArgs(t,n,i)){var r=module$contents$goog$object_clone(t[0]);if(i){var u=n.args[0].name;if(u in r)throw Error("Named args for "+n.name+" can't contain keyword "+u);r[u]=e}}else r=this.nameArgs(i?[e].concat(t):t);return this.apply(r)},ee.Function.prototype.promoteArgs=function(e){for(var t=this.getSignature().args,i={},n={},r=0;r<t.length;r++){var u=t[r].name;if(u in e&&e[u]!==void 0)i[u]=ee.Function.promoter_(e[u],t[r].type);else if(!t[r].optional)throw Error("Required argument ("+u+") missing to function: "+this);n[u]=!0}var d=[],c;for(c in e)n[c]||d.push(c);if(0<d.length)throw Error("Unrecognized arguments ("+d+") to function: "+this);return i},ee.Function.prototype.nameArgs=function(e){var t=this.getSignature().args;if(t.length<e.length)throw Error("Too many ("+e.length+") arguments to function: "+this);for(var i={},n=0;n<e.length;n++)i[t[n].name]=e[n];return i},ee.Function.prototype.getReturnType=function(){return this.getSignature().returns},ee.Function.prototype.toString=function(e,t){var i=this.getSignature(),n=[];if(n.push(e||i.name),n.push("("),n.push(module$contents$goog$array_map(i.args.slice(t?1:0),function(d){return d.name}).join(", ")),n.push(`)
`),n.push(`
`),i.description?n.push(i.description):n.push("Undocumented."),n.push(`
`),i.args.length){n.push(`
Args:
`);for(var r=0;r<i.args.length;r++){t&&r==0?n.push("  this:"):n.push(`
  `);var u=i.args[r];n.push(u.name),n.push(" ("),n.push(u.type),u.optional&&n.push(", optional"),n.push("): "),u.description?n.push(u.description):n.push("Undocumented.")}}return n.join("")},ee.Function.prototype.serialize=function(e){return e!==void 0&&e?ee.Serializer.toJSON(this):ee.Serializer.toCloudApiJSON(this)},ee.ApiFunction=function(e,t){if(t===void 0)return ee.ApiFunction.lookup(e);if(!(this instanceof ee.ApiFunction))return ee.ComputedObject.construct(ee.ApiFunction,arguments);this.signature_=module$contents$goog$object_unsafeClone(t),this.signature_.name=e},goog.inherits(ee.ApiFunction,ee.Function),goog.exportSymbol("ee.ApiFunction",ee.ApiFunction),ee.ApiFunction._call=function(e,t){return ee.Function.prototype.call.apply(ee.ApiFunction.lookup(e),Array.prototype.slice.call(arguments,1))},goog.exportSymbol("ee.ApiFunction._call",ee.ApiFunction._call),ee.ApiFunction._apply=function(e,t){return ee.ApiFunction.lookup(e).apply(t)},goog.exportSymbol("ee.ApiFunction._apply",ee.ApiFunction._apply),ee.ApiFunction.prototype.encode=function(e){return this.signature_.name},ee.ApiFunction.prototype.encodeCloudInvocation=function(e,t){return ee.rpc_node.functionByName(this.signature_.name,t)},ee.ApiFunction.prototype.getSignature=function(){return this.signature_},ee.ApiFunction.api_=null,ee.ApiFunction.boundSignatures_={},ee.ApiFunction.allSignatures=function(){return ee.ApiFunction.initialize(),module$contents$goog$object_map(ee.ApiFunction.api_,function(e){return e.getSignature()})},ee.ApiFunction.unboundFunctions=function(){return ee.ApiFunction.initialize(),module$contents$goog$object_filter(ee.ApiFunction.api_,function(e,t){return!ee.ApiFunction.boundSignatures_[t]})},ee.ApiFunction.lookup=function(e){var t=ee.ApiFunction.lookupInternal(e);if(!t)throw Error("Unknown built-in function name: "+e);return t},goog.exportSymbol("ee.ApiFunction.lookup",ee.ApiFunction.lookup),ee.ApiFunction.lookupInternal=function(e){return ee.ApiFunction.initialize(),ee.ApiFunction.api_[e]||null},ee.ApiFunction.initialize=function(e,t){if(ee.ApiFunction.api_)e&&e();else{var i=function(n,r){r?t&&t(Error(r)):(ee.ApiFunction.api_=module$contents$goog$object_map(n,function(u,d){u.returns=u.returns.replace(/<.*>/,"");for(var c=0;c<u.args.length;c++)u.args[c].type=u.args[c].type.replace(/<.*>/,"");return new ee.ApiFunction(d,u)}),e&&e())};e?ee.data.getAlgorithms(i):i(ee.data.getAlgorithms())}},ee.ApiFunction.reset=function(){ee.ApiFunction.api_=null,ee.ApiFunction.boundSignatures_={}},ee.ApiFunction.importApi=function(e,t,i,n){ee.ApiFunction.initialize();var r=n||"";module$contents$goog$object_forEach(ee.ApiFunction.api_,function(u,d){var c=d.split(".");if(c.length==2&&c[0]==t){var b=r+c[1],S=u.getSignature();ee.ApiFunction.boundSignatures_[d]=!0;var C=!1;if(S.args.length){var O=S.args[0].type;C=O!="Object"&&ee.Types.isSubtype(O,i)}var D=C?e.prototype:e;b in D&&!D[b].signature||(D[b]=function(H){return u.callOrApply(C?this:void 0,Array.prototype.slice.call(arguments,0))},D[b].toString=goog.bind(u.toString,u,b,C),D[b].signature=S)}})},ee.ApiFunction.clearApi=function(e){var t=function(i){for(var n in i)typeof i[n]=="function"&&i[n].signature&&delete i[n]};t(e),t(e.prototype||{})},ee.arguments={},ee.arguments.extractFromFunction=function(e,t){return ee.arguments.extractImpl_(e,t,ee.arguments.JS_PARAM_DECL_MATCHER_FUNCTION_)},ee.arguments.extractFromClassConstructor=function(e,t){return ee.arguments.extractImpl_(e,t,ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_CONSTRUCTOR_)},ee.arguments.extractFromClassMethod=function(e,t){return ee.arguments.extractImpl_(e,t,ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_METHOD_)},ee.arguments.extract=ee.arguments.extractFromFunction,ee.arguments.extractImpl_=function(e,t,i){var n=ee.arguments.getParamNames_(e,i),r=module$contents$goog$array_map(n,function(de){return de.replace(/^opt_/,"")}),u=ee.arguments.getFnName_(e),d=u?" to function "+u:"",c={},b=t[0],S=goog.isObject(b)&&typeof b!="function"&&!Array.isArray(b)&&Object.getPrototypeOf(b).constructor.name==="Object";if(1<t.length||!S){if(t.length>r.length)throw Error("Received too many arguments"+d+". Expected at most "+r.length+" but got "+t.length+".");for(var C=0;C<t.length;C++)c[r[C]]=t[C]}else{var O=new goog.structs.Set(module$contents$goog$object_getKeys(b)),D=new goog.structs.Set(r);if(D.intersection(O).isEmpty())c[r[0]]=t[0];else{var H=O.difference(D);if(H.size!==0)throw Error("Unexpected arguments"+d+": "+Array.from(H.values()).join(", "));c=module$contents$goog$object_clone(b)}}var K=new goog.structs.Set(module$contents$goog$object_getKeys(c)),le=new goog.structs.Set(module$contents$goog$array_filter(n,function(de){return!goog.string.startsWith(de,"opt_")})).difference(K);if(le.size!==0)throw Error("Missing required arguments"+d+": "+Array.from(le.values()).join(", "));return c},ee.arguments.getParamNames_=function(e,t){var i=[];if(goog.global.EXPORTED_FN_INFO){var n=goog.global.EXPORTED_FN_INFO[e.toString()];goog.isObject(n)||ee.arguments.throwMatchFailedError_(),i=n.paramNames,Array.isArray(i)||ee.arguments.throwMatchFailedError_()}else{var r=e.toString().replace(ee.arguments.JS_COMMENT_MATCHER_,"").match(t);r===null&&ee.arguments.throwMatchFailedError_(),i=(r[1].split(",")||[]).map(function(u){return u.replace(ee.arguments.JS_PARAM_DEFAULT_MATCHER_,"")})}return i},ee.arguments.getFnName_=function(e){return goog.global.EXPORTED_FN_INFO?goog.global.EXPORTED_FN_INFO[e.toString()].name.split(".").pop()+"()":null},ee.arguments.throwMatchFailedError_=function(){throw Error("Failed to locate function parameters.")},ee.arguments.JS_COMMENT_MATCHER_=/((\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s))/gm,ee.arguments.JS_PARAM_DECL_MATCHER_FUNCTION_=/^function[^\(]*\(([^\)]*)\)/m,ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_CONSTRUCTOR_=/^class[^\{]*{\S*?\bconstructor\(([^\)]*)\)/m,ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_METHOD_=/[^\(]*\(([^\)]*)\)/m,ee.arguments.JS_PARAM_DEFAULT_MATCHER_=/=.*$/,ee.Element=function(e,t,i){ee.ComputedObject.call(this,e,t,i),ee.Element.initialize()},goog.inherits(ee.Element,ee.ComputedObject),goog.exportSymbol("ee.Element",ee.Element),ee.Element.initialized_=!1,ee.Element.initialize=function(){ee.Element.initialized_||(ee.ApiFunction.importApi(ee.Element,"Element","Element"),ee.Element.initialized_=!0)},ee.Element.reset=function(){ee.ApiFunction.clearApi(ee.Element),ee.Element.initialized_=!1},ee.Element.prototype.name=function(){return"Element"},ee.Element.prototype.set=function(e){if(1>=arguments.length){var t=arguments[0];if(ee.Types.isRegularObject(t)&&module$contents$goog$array_equals(module$contents$goog$object_getKeys(t),["properties"])&&goog.isObject(t.properties)&&(t=t.properties),ee.Types.isRegularObject(t)){var i=this;for(var n in t){var r=t[n];i=ee.ApiFunction._call("Element.set",i,n,r)}}else if(t instanceof ee.ComputedObject&&ee.ApiFunction.lookupInternal("Element.setMulti"))i=ee.ApiFunction._call("Element.setMulti",this,t);else throw Error("When Element.set() is passed one argument, it must be a dictionary.")}else{if(arguments.length%2!=0)throw Error("When Element.set() is passed multiple arguments, there must be an even number of them.");i=this;for(var u=0;u<arguments.length;u+=2)n=arguments[u],r=arguments[u+1],i=ee.ApiFunction._call("Element.set",i,n,r)}return this.castInternal(i)},goog.exportProperty(ee.Element.prototype,"set",ee.Element.prototype.set),ee.Geometry=function(e,t,i,n){if(!(this instanceof ee.Geometry))return ee.ComputedObject.construct(ee.Geometry,arguments);if(!("type"in e)){var r=ee.arguments.extractFromFunction(ee.Geometry,arguments);e=r.geoJson,t=r.proj,i=r.geodesic,n=r.evenOdd}ee.Geometry.initialize();var u=t!=null||i!=null||n!=null;if(e instanceof ee.ComputedObject&&!(e instanceof ee.Geometry&&e.type_)){if(u)throw Error("Setting the CRS, geodesic, or evenOdd flag on a computed Geometry is not supported.  Use Geometry.transform().");ee.ComputedObject.call(this,e.func,e.args,e.varName)}else{if(e instanceof ee.Geometry&&(e=e.encode()),!ee.Geometry.isValidGeometry_(e))throw Error("Invalid GeoJSON geometry: "+JSON.stringify(e));if(ee.ComputedObject.call(this,null,null),this.type_=e.type,this.coordinates_=e.coordinates!=null?module$contents$goog$object_unsafeClone(e.coordinates):null,this.geometries_=e.geometries||null,t!=null)this.proj_=t;else if("crs"in e)if(goog.isObject(e.crs)&&e.crs.type=="name"&&goog.isObject(e.crs.properties)&&typeof e.crs.properties.name=="string")this.proj_=e.crs.properties.name;else throw Error("Invalid CRS declaration in GeoJSON: "+new goog.json.Serializer().serialize(e.crs));this.geodesic_=i,this.geodesic_===void 0&&"geodesic"in e&&(this.geodesic_=!!e.geodesic),this.evenOdd_=n,this.evenOdd_===void 0&&"evenOdd"in e&&(this.evenOdd_=!!e.evenOdd)}},goog.inherits(ee.Geometry,ee.ComputedObject),goog.exportSymbol("ee.Geometry",ee.Geometry),ee.Geometry.initialized_=!1,ee.Geometry.initialize=function(){ee.Geometry.initialized_||(ee.ApiFunction.importApi(ee.Geometry,"Geometry","Geometry"),ee.Geometry.initialized_=!0)},ee.Geometry.reset=function(){ee.ApiFunction.clearApi(ee.Geometry),ee.Geometry.initialized_=!1},ee.Geometry.Point=function(e,t){if(!(this instanceof ee.Geometry.Point))return ee.Geometry.createInstance_(ee.Geometry.Point,arguments);var i=ee.Geometry.construct_(ee.Geometry.Point,"Point",1,arguments);if(!(i instanceof ee.ComputedObject)){var n=i.coordinates;if(!Array.isArray(n)||n.length!=2)throw Error("The Geometry.Point constructor requires 2 coordinates.")}ee.Geometry.call(this,i)},goog.inherits(ee.Geometry.Point,ee.Geometry),goog.exportProperty(ee.Geometry,"Point",ee.Geometry.Point),ee.Geometry.MultiPoint=function(e,t){if(!(this instanceof ee.Geometry.MultiPoint))return ee.Geometry.createInstance_(ee.Geometry.MultiPoint,arguments);ee.Geometry.call(this,ee.Geometry.construct_(ee.Geometry.MultiPoint,"MultiPoint",2,arguments))},goog.inherits(ee.Geometry.MultiPoint,ee.Geometry),goog.exportProperty(ee.Geometry,"MultiPoint",ee.Geometry.MultiPoint),ee.Geometry.Rectangle=function(e,t,i,n){if(!(this instanceof ee.Geometry.Rectangle))return ee.Geometry.createInstance_(ee.Geometry.Rectangle,arguments);var r=ee.Geometry.construct_(ee.Geometry.Rectangle,"Rectangle",2,arguments);if(!(r instanceof ee.ComputedObject)){var u=r.coordinates;if(u.length!=2)throw Error("The Geometry.Rectangle constructor requires 2 points or 4 coordinates.");var d=u[0][0],c=u[0][1],b=u[1][0],S=u[1][1];r.coordinates=[[[d,S],[d,c],[b,c],[b,S]]],r.type="Polygon"}ee.Geometry.call(this,r)},goog.inherits(ee.Geometry.Rectangle,ee.Geometry),goog.exportProperty(ee.Geometry,"Rectangle",ee.Geometry.Rectangle),ee.Geometry.BBox=function(e,t,i,n){if(!(this instanceof ee.Geometry.BBox))return ee.Geometry.createInstance_(ee.Geometry.BBox,arguments);var r=[e,t,i,n];if(ee.Geometry.hasServerValue_(r)){var u;return(u=new ee.ApiFunction("GeometryConstructors.BBox")).call.apply(u,$jscomp.arrayFromIterable(r))}if(!(1/0>e))throw Error("Geometry.BBox: west must not be "+e);if(!(-1/0<i))throw Error("Geometry.BBox: east must not be "+i);if(!(90>=t))throw Error("Geometry.BBox: south must be at most +90, but was "+t+"");if(!(-90<=n))throw Error("Geometry.BBox: north must be at least -90, but was "+n+"");t=Math.max(t,-90),n=Math.min(n,90),360<=i-e?(e=-180,i=180):(e=ee.Geometry.canonicalizeLongitude_(e),i=ee.Geometry.canonicalizeLongitude_(i),i<e&&(i+=360)),ee.Geometry.call(this,{type:"Polygon",coordinates:[[[e,n],[e,t],[i,t],[i,n]]]},void 0,!1,!0)},goog.inherits(ee.Geometry.BBox,ee.Geometry.Rectangle),goog.exportProperty(ee.Geometry,"BBox",ee.Geometry.BBox),ee.Geometry.canonicalizeLongitude_=function(e){return e%=360,180<e?e-=360:-180>e&&(e+=360),e},ee.Geometry.LineString=function(e,t,i,n){if(!(this instanceof ee.Geometry.LineString))return ee.Geometry.createInstance_(ee.Geometry.LineString,arguments);ee.Geometry.call(this,ee.Geometry.construct_(ee.Geometry.LineString,"LineString",2,arguments))},goog.inherits(ee.Geometry.LineString,ee.Geometry),goog.exportProperty(ee.Geometry,"LineString",ee.Geometry.LineString),ee.Geometry.LinearRing=function(e,t,i,n){if(!(this instanceof ee.Geometry.LinearRing))return ee.Geometry.createInstance_(ee.Geometry.LinearRing,arguments);ee.Geometry.call(this,ee.Geometry.construct_(ee.Geometry.LinearRing,"LinearRing",2,arguments))},goog.inherits(ee.Geometry.LinearRing,ee.Geometry),goog.exportProperty(ee.Geometry,"LinearRing",ee.Geometry.LinearRing),ee.Geometry.MultiLineString=function(e,t,i,n){if(!(this instanceof ee.Geometry.MultiLineString))return ee.Geometry.createInstance_(ee.Geometry.MultiLineString,arguments);ee.Geometry.call(this,ee.Geometry.construct_(ee.Geometry.MultiLineString,"MultiLineString",3,arguments))},goog.inherits(ee.Geometry.MultiLineString,ee.Geometry),goog.exportProperty(ee.Geometry,"MultiLineString",ee.Geometry.MultiLineString),ee.Geometry.Polygon=function(e,t,i,n,r){if(!(this instanceof ee.Geometry.Polygon))return ee.Geometry.createInstance_(ee.Geometry.Polygon,arguments);ee.Geometry.call(this,ee.Geometry.construct_(ee.Geometry.Polygon,"Polygon",3,arguments))},goog.inherits(ee.Geometry.Polygon,ee.Geometry),goog.exportProperty(ee.Geometry,"Polygon",ee.Geometry.Polygon),ee.Geometry.MultiPolygon=function(e,t,i,n,r){if(!(this instanceof ee.Geometry.MultiPolygon))return ee.Geometry.createInstance_(ee.Geometry.MultiPolygon,arguments);ee.Geometry.call(this,ee.Geometry.construct_(ee.Geometry.MultiPolygon,"MultiPolygon",4,arguments))},goog.inherits(ee.Geometry.MultiPolygon,ee.Geometry),goog.exportProperty(ee.Geometry,"MultiPolygon",ee.Geometry.MultiPolygon),ee.Geometry.prototype.encode=function(e){if(!this.type_){if(!e)throw Error("Must specify an encode function when encoding a computed geometry.");return ee.ComputedObject.prototype.encode.call(this,e)}var t={type:this.type_};return this.type_=="GeometryCollection"?t.geometries=this.geometries_:t.coordinates=this.coordinates_,this.proj_!=null&&(t.crs={type:"name",properties:{name:this.proj_}}),this.geodesic_!=null&&(t.geodesic=this.geodesic_),this.evenOdd_!=null&&(t.evenOdd=this.evenOdd_),t},ee.Geometry.prototype.toGeoJSON=function(){if(this.func)throw Error("Can't convert a computed Geometry to GeoJSON. Use evaluate() instead.");return this.encode()},goog.exportProperty(ee.Geometry.prototype,"toGeoJSON",ee.Geometry.prototype.toGeoJSON),ee.Geometry.prototype.toGeoJSONString=function(){if(this.func)throw Error("Can't convert a computed Geometry to GeoJSON. Use evaluate() instead.");return new goog.json.Serializer().serialize(this.toGeoJSON())},goog.exportProperty(ee.Geometry.prototype,"toGeoJSONString",ee.Geometry.prototype.toGeoJSONString),ee.Geometry.prototype.serialize=function(e){return e!==void 0&&e?ee.Serializer.toJSON(this):ee.Serializer.toCloudApiJSON(this)},goog.exportProperty(ee.Geometry.prototype,"serialize",ee.Geometry.prototype.serialize),ee.Geometry.prototype.toString=function(){return"ee.Geometry("+this.toGeoJSONString()+")"},ee.Geometry.prototype.encodeCloudValue=function(e){if(!this.type_){if(!e)throw Error("Must specify a serializer when encoding a computed geometry.");return ee.ComputedObject.prototype.encodeCloudValue.call(this,e)}var t={},i="";this.type_==="GeometryCollection"?(t.geometries=this.geometries_.map(function(r){return new ee.Geometry(r)}),i="GeometryConstructors.MultiGeometry"):(t.coordinates=this.coordinates_,i="GeometryConstructors."+this.type_),this.proj_!=null&&(t.crs=typeof this.proj_=="string"?new ee.ApiFunction("Projection").call(this.proj_):this.proj_);var n=this.type_!=="Point"&&this.type_!=="MultiPoint";return this.geodesic_!=null&&n&&(t.geodesic=this.geodesic_),this.evenOdd_!=null&&(t.evenOdd=this.evenOdd_),new ee.ApiFunction(i).apply(t).encodeCloudValue(e)},ee.Geometry.isValidGeometry_=function(e){var t=e.type;if(t=="GeometryCollection"){var i=e.geometries;if(!Array.isArray(i))return!1;for(var n=0;n<i.length;n++)if(!ee.Geometry.isValidGeometry_(i[n]))return!1;return!0}var r=e.coordinates,u=ee.Geometry.isValidCoordinates_(r);return t=="Point"&&u==1||t=="MultiPoint"&&(u==2||r.length==0)||t=="LineString"&&u==2||t=="LinearRing"&&u==2||t=="MultiLineString"&&(u==3||r.length==0)||t=="Polygon"&&u==3||t=="MultiPolygon"&&(u==4||r.length==0)},ee.Geometry.isValidCoordinates_=function(e){if(!Array.isArray(e))return-1;if(Array.isArray(e[0])){for(var t=ee.Geometry.isValidCoordinates_(e[0]),i=1;i<e.length;i++)if(ee.Geometry.isValidCoordinates_(e[i])!=t)return-1;return t+1}for(i=0;i<e.length;i++)if(typeof e[i]!="number")return-1;return e.length%2==0?1:-1},ee.Geometry.coordinatesToLine_=function(e){if(typeof e[0]!="number"||e.length==2)return e;if(e.length%2!=0)throw Error("Invalid number of coordinates: "+e.length);for(var t=[],i=0;i<e.length;i+=2)t.push([e[i],e[i+1]]);return t},ee.Geometry.construct_=function(e,t,i,n){var r=ee.Geometry.getEeApiArgs_(e,n);if(ee.Geometry.hasServerValue_(r.coordinates)||r.crs!=null||r.maxError!=null)return new ee.ApiFunction("GeometryConstructors."+t).apply(r);r.type=t,r.coordinates=ee.Geometry.fixDepth_(i,r.coordinates);var u=module$contents$goog$array_contains(["Polygon","Rectangle","MultiPolygon"],t);if(u&&r.evenOdd==null&&(r.evenOdd=!0),u&&r.geodesic===!1&&r.evenOdd===!1)throw Error("Planar interiors must be even/odd.");return r},ee.Geometry.getEeApiArgs_=function(e,t){if(module$contents$goog$array_every(t,ee.Types.isNumber))return{coordinates:module$contents$goog$array_toArray(t)};var i=ee.arguments.extractFromFunction(e,t);return i.coordinates=i.coords,delete i.coords,i.crs=i.proj,delete i.proj,module$contents$goog$object_filter(i,function(n){return n!=null})},ee.Geometry.hasServerValue_=function(e){return Array.isArray(e)?module$contents$goog$array_some(e,ee.Geometry.hasServerValue_):e instanceof ee.ComputedObject},ee.Geometry.fixDepth_=function(e,t){if(1>e||4<e)throw Error("Unexpected nesting level.");module$contents$goog$array_every(t,function(r){return typeof r=="number"})&&(t=ee.Geometry.coordinatesToLine_(t));for(var i=t,n=0;Array.isArray(i);)i=i[0],n++;for(;n<e;)t=[t],n++;if(ee.Geometry.isValidCoordinates_(t)!=e)throw Error("Invalid geometry");for(i=t;Array.isArray(i)&&i.length==1;)i=i[0];return Array.isArray(i)&&i.length==0?[]:t},ee.Geometry.createInstance_=function(e,t){var i=function(){};i.prototype=e.prototype;var n=new i,r=e.apply(n,t);return r!==void 0?r:n},ee.Geometry.prototype.name=function(){return"Geometry"},ee.Filter=function(e){if(!(this instanceof ee.Filter))return ee.ComputedObject.construct(ee.Filter,arguments);if(e instanceof ee.Filter)return e;if(ee.Filter.initialize(),Array.isArray(e)){if(e.length==0)throw Error("Empty list specified for ee.Filter().");if(e.length==1)return new ee.Filter(e[0]);ee.ComputedObject.call(this,new ee.ApiFunction("Filter.and"),{filters:e}),this.filter_=e}else if(e instanceof ee.ComputedObject)ee.ComputedObject.call(this,e.func,e.args,e.varName),this.filter_=[e];else if(e===void 0)ee.ComputedObject.call(this,null,null),this.filter_=[];else throw Error("Invalid argument specified for ee.Filter(): "+e)},goog.inherits(ee.Filter,ee.ComputedObject),goog.exportSymbol("ee.Filter",ee.Filter),ee.Filter.initialized_=!1,ee.Filter.initialize=function(){ee.Filter.initialized_||(ee.ApiFunction.importApi(ee.Filter,"Filter","Filter"),ee.Filter.initialized_=!0)},ee.Filter.reset=function(){ee.ApiFunction.clearApi(ee.Filter),ee.Filter.initialized_=!1},ee.Filter.functionNames_={equals:"equals",less_than:"lessThan",greater_than:"greaterThan",contains:"stringContains",starts_with:"stringStartsWith",ends_with:"stringEndsWith"},ee.Filter.prototype.append_=function(e){var t=this.filter_.slice(0);return e instanceof ee.Filter?module$contents$goog$array_extend(t,e.filter_):e instanceof Array?module$contents$goog$array_extend(t,e):t.push(e),new ee.Filter(t)},ee.Filter.prototype.not=function(){return ee.ApiFunction._call("Filter.not",this)},goog.exportProperty(ee.Filter.prototype,"not",ee.Filter.prototype.not),ee.Filter.eq=function(e,t){var i=ee.arguments.extractFromFunction(ee.Filter.eq,arguments);return ee.ApiFunction._call("Filter.equals",i.name,i.value)},goog.exportProperty(ee.Filter,"eq",ee.Filter.eq),ee.Filter.neq=function(e,t){var i=ee.arguments.extractFromFunction(ee.Filter.neq,arguments);return ee.Filter.eq(i.name,i.value).not()},goog.exportProperty(ee.Filter,"neq",ee.Filter.neq),ee.Filter.lt=function(e,t){var i=ee.arguments.extractFromFunction(ee.Filter.lt,arguments);return ee.ApiFunction._call("Filter.lessThan",i.name,i.value)},goog.exportProperty(ee.Filter,"lt",ee.Filter.lt),ee.Filter.gte=function(e,t){var i=ee.arguments.extractFromFunction(ee.Filter.gte,arguments);return ee.Filter.lt(i.name,i.value).not()},goog.exportProperty(ee.Filter,"gte",ee.Filter.gte),ee.Filter.gt=function(e,t){var i=ee.arguments.extractFromFunction(ee.Filter.gt,arguments);return ee.ApiFunction._call("Filter.greaterThan",i.name,i.value)},goog.exportProperty(ee.Filter,"gt",ee.Filter.gt),ee.Filter.lte=function(e,t){var i=ee.arguments.extractFromFunction(ee.Filter.lte,arguments);return ee.Filter.gt(i.name,i.value).not()},goog.exportProperty(ee.Filter,"lte",ee.Filter.lte),ee.Filter.and=function(e){var t=Array.prototype.slice.call(arguments);return ee.ApiFunction._call("Filter.and",t)},goog.exportProperty(ee.Filter,"and",ee.Filter.and),ee.Filter.or=function(e){var t=Array.prototype.slice.call(arguments);return ee.ApiFunction._call("Filter.or",t)},goog.exportProperty(ee.Filter,"or",ee.Filter.or),ee.Filter.date=function(e,t){var i=ee.arguments.extractFromFunction(ee.Filter.date,arguments),n=ee.ApiFunction._call("DateRange",i.start,i.end);return ee.ApiFunction._apply("Filter.dateRangeContains",{leftValue:n,rightField:"system:time_start"})},goog.exportProperty(ee.Filter,"date",ee.Filter.date),ee.Filter.inList=function(e,t,i,n){var r=ee.arguments.extractFromFunction(ee.Filter.inList,arguments);return ee.ApiFunction._apply("Filter.listContains",{leftField:r.rightField,rightValue:r.leftValue,rightField:r.leftField,leftValue:r.rightValue})},goog.exportProperty(ee.Filter,"inList",ee.Filter.inList),ee.Filter.bounds=function(e,t){return ee.ApiFunction._apply("Filter.intersects",{leftField:".all",rightValue:ee.ApiFunction._call("Feature",e),maxError:t})},goog.exportProperty(ee.Filter,"bounds",ee.Filter.bounds),ee.Filter.prototype.name=function(){return"Filter"},ee.Filter.metadata=function(e,t,i){t=t.toLowerCase();var n=!1;if(goog.string.startsWith(t,"not_")&&(n=!0,t=t.substring(4)),!(t in ee.Filter.functionNames_))throw Error("Unknown filtering operator: "+t);var r=ee.ApiFunction._call("Filter."+ee.Filter.functionNames_[t],e,i);return n?r.not():r},goog.exportProperty(ee.Filter,"metadata",ee.Filter.metadata),ee.Collection=function(e,t,i){ee.Element.call(this,e,t,i),ee.Collection.initialize()},goog.inherits(ee.Collection,ee.Element),goog.exportSymbol("ee.Collection",ee.Collection),ee.Collection.initialized_=!1,ee.Collection.initialize=function(){ee.Collection.initialized_||(ee.ApiFunction.importApi(ee.Collection,"Collection","Collection"),ee.ApiFunction.importApi(ee.Collection,"AggregateFeatureCollection","Collection","aggregate_"),ee.Collection.initialized_=!0)},ee.Collection.reset=function(){ee.ApiFunction.clearApi(ee.Collection),ee.Collection.initialized_=!1},ee.Collection.prototype.filter=function(e){if(e=ee.arguments.extractFromFunction(ee.Collection.prototype.filter,arguments).filter,!e)throw Error("Empty filters.");return this.castInternal(ee.ApiFunction._call("Collection.filter",this,e))},goog.exportProperty(ee.Collection.prototype,"filter",ee.Collection.prototype.filter),ee.Collection.prototype.filterMetadata=function(e,t,i){var n=ee.arguments.extractFromFunction(ee.Collection.prototype.filterMetadata,arguments);return this.filter(ee.Filter.metadata(n.name,n.operator,n.value))},goog.exportProperty(ee.Collection.prototype,"filterMetadata",ee.Collection.prototype.filterMetadata),ee.Collection.prototype.filterBounds=function(e){return this.filter(ee.Filter.bounds(e))},goog.exportProperty(ee.Collection.prototype,"filterBounds",ee.Collection.prototype.filterBounds),ee.Collection.prototype.filterDate=function(e,t){var i=ee.arguments.extractFromFunction(ee.Collection.prototype.filterDate,arguments);return this.filter(ee.Filter.date(i.start,i.end))},goog.exportProperty(ee.Collection.prototype,"filterDate",ee.Collection.prototype.filterDate),ee.Collection.prototype.limit=function(e,t,i){var n=ee.arguments.extractFromFunction(ee.Collection.prototype.limit,arguments);return this.castInternal(ee.ApiFunction._call("Collection.limit",this,n.max,n.property,n.ascending))},goog.exportProperty(ee.Collection.prototype,"limit",ee.Collection.prototype.limit),ee.Collection.prototype.sort=function(e,t){var i=ee.arguments.extractFromFunction(ee.Collection.prototype.sort,arguments);return this.castInternal(ee.ApiFunction._call("Collection.limit",this,void 0,i.property,i.ascending))},goog.exportProperty(ee.Collection.prototype,"sort",ee.Collection.prototype.sort),ee.Collection.prototype.name=function(){return"Collection"},ee.Collection.prototype.elementType=function(){return ee.Element},ee.Collection.prototype.map=function(e,t){var i=this.elementType();return this.castInternal(ee.ApiFunction._call("Collection.map",this,function(n){return e(new i(n))},t))},goog.exportProperty(ee.Collection.prototype,"map",ee.Collection.prototype.map),ee.Collection.prototype.iterate=function(e,t){var i=t!==void 0?t:null,n=this.elementType();return ee.ApiFunction._call("Collection.iterate",this,function(r,u){return e(new n(r),u)},i)},goog.exportProperty(ee.Collection.prototype,"iterate",ee.Collection.prototype.iterate),ee.Feature=function(e,t){if(!(this instanceof ee.Feature))return ee.ComputedObject.construct(ee.Feature,arguments);if(e instanceof ee.Feature){if(t)throw Error("Can't create Feature out of a Feature and properties.");return e}if(2<arguments.length)throw Error("The Feature constructor takes at most 2 arguments ("+arguments.length+" given)");if(ee.Feature.initialize(),e instanceof ee.Geometry||e===null)ee.Element.call(this,new ee.ApiFunction("Feature"),{geometry:e,metadata:t||null});else if(e instanceof ee.ComputedObject)ee.Element.call(this,e.func,e.args,e.varName);else if(e.type=="Feature"){var i=e.properties||{};if("id"in e){if("system:index"in i)throw Error(`Can't specify both "id" and "system:index".`);i=module$contents$goog$object_clone(i),i["system:index"]=e.id}ee.Element.call(this,new ee.ApiFunction("Feature"),{geometry:new ee.Geometry(e.geometry),metadata:i})}else ee.Element.call(this,new ee.ApiFunction("Feature"),{geometry:new ee.Geometry(e),metadata:t||null})},goog.inherits(ee.Feature,ee.Element),goog.exportSymbol("ee.Feature",ee.Feature),ee.Feature.initialized_=!1,ee.Feature.initialize=function(){ee.Feature.initialized_||(ee.ApiFunction.importApi(ee.Feature,"Feature","Feature"),ee.Feature.initialized_=!0)},ee.Feature.reset=function(){ee.ApiFunction.clearApi(ee.Feature),ee.Feature.initialized_=!1},ee.Feature.prototype.getInfo=function(e){return ee.Feature.superClass_.getInfo.call(this,e)},goog.exportProperty(ee.Feature.prototype,"getInfo",ee.Feature.prototype.getInfo),ee.Feature.prototype.getMap=function(e,t){var i=ee.arguments.extractFromFunction(ee.Feature.prototype.getMap,arguments);return ee.ApiFunction._call("Collection",[this]).getMap(i.visParams,i.callback)},goog.exportProperty(ee.Feature.prototype,"getMap",ee.Feature.prototype.getMap),ee.Feature.prototype.name=function(){return"Feature"},ee.data.images={},ee.data.images.applyTransformsToImage=function(e){var t={},i=ee.data.images.applyCrsAndTransform(e.element,e);return i=ee.data.images.applySelectionAndScale(i,e,t),t.element=i,t},ee.data.images.applyTransformsToCollection=function(e){var t={},i=e.element.map(function(n){var r=ee.data.images.applyCrsAndTransform(n,e);return ee.data.images.applySelectionAndScale(r,e,t)});return t.element=i,t},ee.data.images.applySelectionAndScale=function(e,t,i){var n={},r=!1,u=["maxDimension","width","height","scale"];return module$contents$goog$object_forEach(t,function(d,c){if(d!=null)switch(c){case"dimensions":var b=typeof d=="string"?d.split("x").map(Number):Array.isArray(d)?d:typeof d=="number"?[d]:[];if(b.length===1)n.maxDimension=b[0];else if(b.length===2)n.width=b[0],n.height=b[1];else throw Error("Invalid dimensions "+d);break;case"dimensions_consumed":r=!0;break;case"bbox":n.geometry!=null&&console.warn("Multiple request parameters converted to region."),n.geometry=ee.data.images.bboxToGeometry(d);break;case"region":n.geometry!=null&&console.warn("Multiple request parameters converted to region."),n.geometry=ee.data.images.regionToGeometry(d);break;case"scale":n.scale=Number(d);break;default:i[c]=d}}),module$contents$goog$object_isEmpty(n)||(n.input=e,e=u.some(function(d){return d in n})||r?ee.ApiFunction._apply("Image.clipToBoundsAndScale",n):ee.ApiFunction._apply("Image.clip",n)),e},ee.data.images.bboxToGeometry=function(e){if(e instanceof ee.Geometry.Rectangle)return e;var t=e;if(typeof e=="string")try{t=JSON.parse(e)}catch{t=e.split(/\s*,\s*/).map(Number)}if(Array.isArray(t)){if(t.some(isNaN))throw Error("Invalid bbox `{bboxArray}`, please specify a list of numbers.");return new ee.Geometry.Rectangle(t,null,!1)}throw Error('Invalid bbox "{bbox}" type, must be of type Array<number>')},ee.data.images.regionToGeometry=function(e){if(e instanceof ee.Geometry)return e;var t=e;if(typeof e=="string")try{t=JSON.parse(e)}catch{throw Error('Region string "'+e+'" is not valid GeoJSON.')}if(Array.isArray(t))return new ee.Geometry.Polygon(t,null,!1);if(goog.isObject(t))return new ee.Geometry(t,null,!1);throw Error("Region {region} was not convertible to an ee.Geometry.")},ee.data.images.applyCrsAndTransform=function(e,t){var i=t.crs||"",n=t.crsTransform||t.crs_transform;if(n!=null&&(n=ee.data.images.maybeConvertCrsTransformToArray_(n)),!i&&!n)return e;if(n&&!i)throw Error('Must specify "crs" if "crsTransform" is specified.');if(n){if(e=ee.ApiFunction._apply("Image.reproject",{image:e,crs:i,crsTransform:n}),t.dimensions!=null&&t.scale==null&&t.region==null){var r=t.dimensions;if(typeof r=="string"&&(r=r.split("x").map(Number)),r.length===2){delete t.dimensions,t.dimensions_consumed=!0;var u=new ee.ApiFunction("Projection").call(i,n);t.region=new ee.Geometry.Rectangle([0,0,r[0],r[1]],u,!1)}}}else e=ee.ApiFunction._apply("Image.setDefaultProjection",{image:e,crs:i,crsTransform:[1,0,0,0,-1,0]});return e},ee.data.images.maybeConvertCrsTransformToArray_=function(e){var t=e;if(typeof t=="string")try{t=JSON.parse(t)}catch{}if(Array.isArray(t)){if(t.length===6&&module$contents$goog$array_every(t,function(i){return typeof i=="number"}))return t;throw Error("Invalid argument, crs transform must be a list of 6 numbers.")}throw Error("Invalid argument, crs transform was not a string or array.")},ee.data.images.applyVisualization=function(e,t){var i={},n=ee.data.images.extractVisParams(t,i);return module$contents$goog$object_isEmpty(n)||(n.image=e,e=ee.ApiFunction._apply("Image.visualize",n)),i.image=e,i},ee.data.images.extractVisParams=function(e,t){var i="bands gain bias min max gamma palette opacity forceRgbOutput".split(" "),n={};return module$contents$goog$object_forEach(e,function(r,u){module$contents$goog$array_contains(i,u)?n[u]=r:t[u]=r}),n},ee.data.images.buildDownloadIdImage=function(e,t){t=Object.assign({},t);var i=function(d){var c={};return["crs","crs_transform","dimensions","region"].forEach(function(b){b in d&&(c[b]=d[b])}),d.scale!=null&&d.dimensions==null&&(c.scale=d.scale),c},n=function(d){var c=d.id;if(c===void 0)throw Error("Each band dictionary must have an id.");var b=e.select(c),S=i(t),C=i(d);return C=i(Object.assign(S,C)),b=ee.data.images.applyCrsAndTransform(b,C),b=ee.data.images.applySelectionAndScale(b,C,{})};if(t.format==="ZIPPED_GEO_TIFF_PER_BAND"&&t.bands&&t.bands.length){var r=t.bands.map(n);e=r.reduce(function(d,c){return ee.ApiFunction._call("Image.addBands",d,c,null,!0)},r.shift())}else{var u=i(t);e=ee.data.images.applyCrsAndTransform(e,u),e=ee.data.images.applySelectionAndScale(e,u,{})}return e},ee.Image=function(e){if(!(this instanceof ee.Image))return ee.ComputedObject.construct(ee.Image,arguments);if(e instanceof ee.Image)return e;ee.Image.initialize();var t=arguments.length;if(t==0||t==1&&e===void 0)ee.Element.call(this,new ee.ApiFunction("Image.mask"),{image:new ee.Image(0),mask:new ee.Image(0)});else if(t==1)if(ee.Types.isNumber(e))ee.Element.call(this,new ee.ApiFunction("Image.constant"),{value:e});else if(ee.Types.isString(e))ee.Element.call(this,new ee.ApiFunction("Image.load"),{id:e});else{if(Array.isArray(e))return ee.Image.combine_(module$contents$goog$array_map(e,function(r){return new ee.Image(r)}));if(e instanceof ee.ComputedObject)e.name()=="Array"?ee.Element.call(this,new ee.ApiFunction("Image.constant"),{value:e}):ee.Element.call(this,e.func,e.args,e.varName);else throw Error("Unrecognized argument type to convert to an Image: "+e)}else if(t==2){var i=arguments[0],n=arguments[1];if(ee.Types.isString(i)&&ee.Types.isNumber(n))ee.Element.call(this,new ee.ApiFunction("Image.load"),{id:i,version:n});else throw Error("Unrecognized argument types to convert to an Image: "+arguments)}else throw Error("The Image constructor takes at most 2 arguments ("+t+" given)")},goog.inherits(ee.Image,ee.Element),goog.exportSymbol("ee.Image",ee.Image),ee.Image.initialized_=!1,ee.Image.initialize=function(){ee.Image.initialized_||(ee.ApiFunction.importApi(ee.Image,"Image","Image"),ee.Image.initialized_=!0)},ee.Image.reset=function(){ee.ApiFunction.clearApi(ee.Image),ee.Image.initialized_=!1},ee.Image.prototype.getInfo=function(e){return ee.Image.superClass_.getInfo.call(this,e)},goog.exportProperty(ee.Image.prototype,"getInfo",ee.Image.prototype.getInfo),ee.Image.prototype.getMap=function(e,t){var i=this,n=ee.arguments.extractFromFunction(ee.Image.prototype.getMap,arguments),r=ee.data.images.applyVisualization(this,n.visParams);if(n.callback){var u=n.callback;ee.data.getMapId(r,function(c,b){var S=c?Object.assign(c,{image:i}):void 0;u(S,b)})}else{var d=ee.data.getMapId(r);return d.image=this,d}},goog.exportProperty(ee.Image.prototype,"getMap",ee.Image.prototype.getMap),ee.Image.prototype.getDownloadURL=function(e,t){var i=ee.arguments.extractFromFunction(ee.Image.prototype.getDownloadURL,arguments),n=i.params?module$contents$goog$object_clone(i.params):{};if(n.image=this,i.callback){var r=i.callback;ee.data.getDownloadId(n,function(u,d){u?r(ee.data.makeDownloadUrl(u)):r(null,d)})}else return ee.data.makeDownloadUrl(ee.data.getDownloadId(n))},goog.exportProperty(ee.Image.prototype,"getDownloadURL",ee.Image.prototype.getDownloadURL),ee.Image.prototype.getThumbId=function(e,t){var i=ee.arguments.extractFromFunction(ee.Image.prototype.getDownloadURL,arguments),n=i.params?module$contents$goog$object_clone(i.params):{},r={},u=ee.data.images.applyCrsAndTransform(this,n);return u=ee.data.images.applySelectionAndScale(u,n,r),n=ee.data.images.applyVisualization(u,r),i.callback?(ee.data.getThumbId(n,i.callback),null):ee.data.getThumbId(n)},goog.exportProperty(ee.Image.prototype,"getThumbId",ee.Image.prototype.getThumbId),ee.Image.prototype.getThumbURL=function(e,t){var i=ee.arguments.extractFromFunction(ee.Image.prototype.getThumbURL,arguments);if(i.callback)this.getThumbId(i.params,function(n,r){var u="";if(r===void 0)try{u=ee.data.makeThumbUrl(n)}catch(d){r=String(d.message)}i.callback(u,r)});else return ee.data.makeThumbUrl(this.getThumbId(i.params))},goog.exportProperty(ee.Image.prototype,"getThumbURL",ee.Image.prototype.getThumbURL),ee.Image.rgb=function(e,t,i){var n=ee.arguments.extractFromFunction(ee.Image.rgb,arguments);return ee.Image.combine_([n.r,n.g,n.b],["vis-red","vis-green","vis-blue"])},goog.exportProperty(ee.Image,"rgb",ee.Image.rgb),ee.Image.cat=function(e){var t=Array.prototype.slice.call(arguments);return ee.Image.combine_(t,null)},goog.exportProperty(ee.Image,"cat",ee.Image.cat),ee.Image.combine_=function(e,t){if(e.length==0)return ee.ApiFunction._call("Image.constant",[]);for(var i=new ee.Image(e[0]),n=1;n<e.length;n++)i=ee.ApiFunction._call("Image.addBands",i,e[n]);return t&&(i=i.select([".*"],t)),i},ee.Image.prototype.select=function(e){var t=Array.prototype.slice.call(arguments),i={input:this,bandSelectors:t[0]||[]};if(2<t.length||ee.Types.isString(t[0])||ee.Types.isNumber(t[0])){for(var n=0;n<t.length;n++)if(!(ee.Types.isString(t[n])||ee.Types.isNumber(t[n])||t[n]instanceof ee.ComputedObject))throw Error("Illegal argument to select(): "+t[n]);i.bandSelectors=t}else t[1]&&(i.newNames=t[1]);return ee.ApiFunction._apply("Image.select",i)},goog.exportProperty(ee.Image.prototype,"select",ee.Image.prototype.select),ee.Image.prototype.expression=function(e,t){var i=ee.arguments.extractFromFunction(ee.Image.prototype.expression,arguments),n=["DEFAULT_EXPRESSION_IMAGE"],r={DEFAULT_EXPRESSION_IMAGE:this};if(i.map){var u=i.map,d;for(d in u)n.push(d),r[d]=new ee.Image(u[d])}var c=ee.ApiFunction._call("Image.parseExpression",i.expression,"DEFAULT_EXPRESSION_IMAGE",n),b=new ee.Function;return b.encode=function(S){return c.encode(S)},b.encodeCloudInvocation=function(S,C){return ee.rpc_node.functionByReference(S.makeReference(c),C)},b.getSignature=function(){return{name:"",args:module$contents$goog$array_map(n,function(S){return{name:S,type:"Image",optional:!1}},this),returns:"Image"}},b.apply(r)},goog.exportProperty(ee.Image.prototype,"expression",ee.Image.prototype.expression),ee.Image.prototype.clip=function(e){try{e=new ee.Geometry(e)}catch{}return ee.ApiFunction._call("Image.clip",this,e)},goog.exportProperty(ee.Image.prototype,"clip",ee.Image.prototype.clip),ee.Image.prototype.rename=function(e){var t=arguments.length!=1||ee.Types.isString(arguments[0])?Array.from(arguments):arguments[0];return ee.ApiFunction._call("Image.rename",this,t)},goog.exportProperty(ee.Image.prototype,"rename",ee.Image.prototype.rename),ee.Image.prototype.name=function(){return"Image"},ee.List=function(e){if(this instanceof ee.List){if(1<arguments.length)throw Error("ee.List() only accepts 1 argument.");if(e instanceof ee.List)return e}else return ee.ComputedObject.construct(ee.List,arguments);if(ee.List.initialize(),Array.isArray(e))ee.ComputedObject.call(this,null,null),this.list_=e;else if(e instanceof ee.ComputedObject)ee.ComputedObject.call(this,e.func,e.args,e.varName),this.list_=null;else throw Error("Invalid argument specified for ee.List(): "+e)},goog.inherits(ee.List,ee.ComputedObject),goog.exportSymbol("ee.List",ee.List),ee.List.initialized_=!1,ee.List.initialize=function(){ee.List.initialized_||(ee.ApiFunction.importApi(ee.List,"List","List"),ee.List.initialized_=!0)},ee.List.reset=function(){ee.ApiFunction.clearApi(ee.List),ee.List.initialized_=!1},ee.List.prototype.encode=function(e){return Array.isArray(this.list_)?module$contents$goog$array_map(this.list_,function(t){return e(t)}):ee.List.superClass_.encode.call(this,e)},ee.List.prototype.encodeCloudValue=function(e){return Array.isArray(this.list_)?ee.rpc_node.reference(e.makeReference(this.list_)):ee.List.superClass_.encodeCloudValue.call(this,e)},ee.List.prototype.name=function(){return"List"},ee.FeatureCollection=function(e,t){if(!(this instanceof ee.FeatureCollection))return ee.ComputedObject.construct(ee.FeatureCollection,arguments);if(e instanceof ee.FeatureCollection)return e;if(2<arguments.length)throw Error("The FeatureCollection constructor takes at most 2 arguments ("+arguments.length+" given)");if(ee.FeatureCollection.initialize(),e instanceof ee.Geometry&&(e=new ee.Feature(e)),e instanceof ee.Feature&&(e=[e]),ee.Types.isString(e)){var i={tableId:e};t&&(i.geometryColumn=t),ee.Collection.call(this,new ee.ApiFunction("Collection.loadTable"),i)}else if(Array.isArray(e))ee.Collection.call(this,new ee.ApiFunction("Collection"),{features:module$contents$goog$array_map(e,function(n){return new ee.Feature(n)})});else if(e instanceof ee.List)ee.Collection.call(this,new ee.ApiFunction("Collection"),{features:e});else if(e&&typeof e=="object"&&e.type==="FeatureCollection")ee.Collection.call(this,new ee.ApiFunction("Collection"),{features:e.features.map(function(n){return new ee.Feature(n)})});else if(e instanceof ee.ComputedObject)ee.Collection.call(this,e.func,e.args,e.varName);else throw Error("Unrecognized argument type to convert to a FeatureCollection: "+e)},goog.inherits(ee.FeatureCollection,ee.Collection),goog.exportSymbol("ee.FeatureCollection",ee.FeatureCollection),ee.FeatureCollection.initialized_=!1,ee.FeatureCollection.initialize=function(){ee.FeatureCollection.initialized_||(ee.ApiFunction.importApi(ee.FeatureCollection,"FeatureCollection","FeatureCollection"),ee.FeatureCollection.initialized_=!0)},ee.FeatureCollection.reset=function(){ee.ApiFunction.clearApi(ee.FeatureCollection),ee.FeatureCollection.initialized_=!1},ee.FeatureCollection.prototype.getMap=function(e,t){var i=ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.getMap,arguments),n=ee.ApiFunction._apply("Collection.draw",{collection:this,color:(i.visParams||{}).color||"000000"});if(i.callback)n.getMap(void 0,i.callback);else return n.getMap()},goog.exportProperty(ee.FeatureCollection.prototype,"getMap",ee.FeatureCollection.prototype.getMap),ee.FeatureCollection.prototype.getInfo=function(e){return ee.FeatureCollection.superClass_.getInfo.call(this,e)},goog.exportProperty(ee.FeatureCollection.prototype,"getInfo",ee.FeatureCollection.prototype.getInfo),ee.FeatureCollection.prototype.getDownloadURL=function(e,t,i,n){var r=ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.getDownloadURL,arguments),u={table:this};if(r.format&&(u.format=r.format.toUpperCase()),r.filename&&(u.filename=r.filename),r.selectors&&(u.selectors=r.selectors),r.callback)ee.data.getTableDownloadId(u,function(d,c){d?r.callback(ee.data.makeTableDownloadUrl(d)):r.callback(null,c)});else return ee.data.makeTableDownloadUrl(ee.data.getTableDownloadId(u))},goog.exportProperty(ee.FeatureCollection.prototype,"getDownloadURL",ee.FeatureCollection.prototype.getDownloadURL),ee.FeatureCollection.prototype.select=function(e,t,i){if(ee.Types.isString(e)){var n=Array.prototype.slice.call(arguments);return this.map(function(u){return u.select(n)})}var r=ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.select,arguments);return this.map(function(u){return u.select(r)})},goog.exportProperty(ee.FeatureCollection.prototype,"select",ee.FeatureCollection.prototype.select),ee.FeatureCollection.prototype.name=function(){return"FeatureCollection"},ee.FeatureCollection.prototype.elementType=function(){return ee.Feature},ee.ImageCollection=function(e){if(!(this instanceof ee.ImageCollection))return ee.ComputedObject.construct(ee.ImageCollection,arguments);if(e instanceof ee.ImageCollection)return e;if(arguments.length!=1)throw Error("The ImageCollection constructor takes exactly 1 argument ("+arguments.length+" given)");if(ee.ImageCollection.initialize(),e instanceof ee.Image&&(e=[e]),ee.Types.isString(e))ee.Collection.call(this,new ee.ApiFunction("ImageCollection.load"),{id:e});else if(Array.isArray(e))ee.Collection.call(this,new ee.ApiFunction("ImageCollection.fromImages"),{images:module$contents$goog$array_map(e,function(t){return new ee.Image(t)})});else if(e instanceof ee.List)ee.Collection.call(this,new ee.ApiFunction("ImageCollection.fromImages"),{images:e});else if(e instanceof ee.ComputedObject)ee.Collection.call(this,e.func,e.args,e.varName);else throw Error("Unrecognized argument type to convert to an ImageCollection: "+e)},goog.inherits(ee.ImageCollection,ee.Collection),goog.exportSymbol("ee.ImageCollection",ee.ImageCollection),ee.ImageCollection.initialized_=!1,ee.ImageCollection.initialize=function(){ee.ImageCollection.initialized_||(ee.ApiFunction.importApi(ee.ImageCollection,"ImageCollection","ImageCollection"),ee.ApiFunction.importApi(ee.ImageCollection,"reduce","ImageCollection"),ee.ImageCollection.initialized_=!0)},ee.ImageCollection.reset=function(){ee.ApiFunction.clearApi(ee.ImageCollection),ee.ImageCollection.initialized_=!1},ee.ImageCollection.prototype.getFilmstripThumbURL=function(e,t){var i=ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getFilmstripThumbURL,arguments);return ee.ImageCollection.prototype.getThumbURL_(this,i,["png","jpg","jpeg"],ee.ImageCollection.ThumbTypes.FILMSTRIP,t)},goog.exportProperty(ee.ImageCollection.prototype,"getFilmstripThumbURL",ee.ImageCollection.prototype.getFilmstripThumbURL),ee.ImageCollection.prototype.getVideoThumbURL=function(e,t){var i=ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getVideoThumbURL,arguments);return ee.ImageCollection.prototype.getThumbURL_(this,i,["gif"],ee.ImageCollection.ThumbTypes.VIDEO,t)},goog.exportProperty(ee.ImageCollection.prototype,"getVideoThumbURL",ee.ImageCollection.prototype.getVideoThumbURL),ee.ImageCollection.ThumbTypes={FILMSTRIP:"filmstrip",VIDEO:"video",IMAGE:"image"},ee.ImageCollection.prototype.getThumbURL_=function(e,t,i,n,r){var u={},d=e.map(function(C){var O=ee.data.images.applyCrsAndTransform(C,t.params);return ee.data.images.applySelectionAndScale(O,t.params,u)}),c={},b=ee.data.images.extractVisParams(u,c);if(c.imageCollection=d.map(function(C){return b.image=C,ee.ApiFunction._apply("Image.visualize",b)}),t.params.dimensions!=null&&(c.dimensions=t.params.dimensions),c.format){if(!module$contents$goog$array_some(i,function(C){return goog.string.caseInsensitiveEquals(C,c.format)}))throw Error("Invalid format specified.")}else c.format=i[0];var S=ee.data.getThumbId;switch(n){case ee.ImageCollection.ThumbTypes.VIDEO:S=ee.data.getVideoThumbId;break;case ee.ImageCollection.ThumbTypes.FILMSTRIP:S=ee.data.getFilmstripThumbId}if(t.callback)S(c,function(C,O){var D="";if(O===void 0)try{D=ee.data.makeThumbUrl(C)}catch(H){O=String(H.message)}t.callback(D,O)});else return ee.data.makeThumbUrl(S(c))},ee.ImageCollection.prototype.getMap=function(e,t){var i=ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getMap,arguments),n=ee.ApiFunction._call("ImageCollection.mosaic",this);if(i.callback)n.getMap(i.visParams,i.callback);else return n.getMap(i.visParams)},goog.exportProperty(ee.ImageCollection.prototype,"getMap",ee.ImageCollection.prototype.getMap),ee.ImageCollection.prototype.getInfo=function(e){return ee.ImageCollection.superClass_.getInfo.call(this,e)},goog.exportProperty(ee.ImageCollection.prototype,"getInfo",ee.ImageCollection.prototype.getInfo),ee.ImageCollection.prototype.select=function(e,t){var i=arguments;return this.map(function(n){return n.select.apply(n,i)})},goog.exportProperty(ee.ImageCollection.prototype,"select",ee.ImageCollection.prototype.select),ee.ImageCollection.prototype.first=function(){return new ee.Image(ee.ApiFunction._call("Collection.first",this))},goog.exportProperty(ee.ImageCollection.prototype,"first",ee.ImageCollection.prototype.first),ee.ImageCollection.prototype.name=function(){return"ImageCollection"},ee.ImageCollection.prototype.elementType=function(){return ee.Image},ee.batch={};var module$contents$ee$batch_Export={image:{},map:{},table:{},video:{},videoMap:{},classifier:{}},module$contents$ee$batch_ExportTask=function(e){this.config_=e,this.id=null};module$contents$ee$batch_ExportTask.create=function(e){var t={element:module$contents$ee$batch_Export.extractElement(e)};return Object.assign(t,e),t=module$contents$goog$object_filter(t,function(i){return i!=null}),new module$contents$ee$batch_ExportTask(t)},module$contents$ee$batch_ExportTask.prototype.start=function(e,t){var i=this;if(goog.asserts.assert(this.config_,"Task config must be specified for tasks to be started."),e){var n=function(){goog.asserts.assertString(i.id),ee.data.startProcessing(i.id,i.config_,function(r,u){u?t(u):e()})};this.id?n():ee.data.newTaskId(1,function(r){var u=r&&r[0];u?(i.id=u,n()):t("Failed to obtain task ID.")})}else this.id=this.id||ee.data.newTaskId(1)[0],goog.asserts.assertString(this.id,"Failed to obtain task ID."),ee.data.startProcessing(this.id,this.config_)},goog.exportProperty(module$contents$ee$batch_ExportTask.prototype,"start",module$contents$ee$batch_ExportTask.prototype.start),module$contents$ee$batch_Export.image.toAsset=function(e,t,i,n,r,u,d,c,b,S,C){var O=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toAsset,arguments),D=module$contents$ee$batch_Export.convertToServerParams(O,ee.data.ExportDestination.ASSET,ee.data.ExportType.IMAGE);return module$contents$ee$batch_ExportTask.create(D)},goog.exportSymbol("module$contents$ee$batch_Export.image.toAsset",module$contents$ee$batch_Export.image.toAsset),module$contents$ee$batch_Export.image.toCloudStorage=function(e,t,i,n,r,u,d,c,b,S,C,O,D,H,K){var le=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toCloudStorage,arguments),de=module$contents$ee$batch_Export.convertToServerParams(le,ee.data.ExportDestination.GCS,ee.data.ExportType.IMAGE);return module$contents$ee$batch_ExportTask.create(de)},goog.exportSymbol("module$contents$ee$batch_Export.image.toCloudStorage",module$contents$ee$batch_Export.image.toCloudStorage),module$contents$ee$batch_Export.image.toDrive=function(e,t,i,n,r,u,d,c,b,S,C,O,D,H,K){var le=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toDrive,arguments),de=module$contents$ee$batch_Export.convertToServerParams(le,ee.data.ExportDestination.DRIVE,ee.data.ExportType.IMAGE);return module$contents$ee$batch_ExportTask.create(de)},goog.exportSymbol("module$contents$ee$batch_Export.image.toDrive",module$contents$ee$batch_Export.image.toDrive),module$contents$ee$batch_Export.map.toCloudStorage=function(e,t,i,n,r,u,d,c,b,S,C,O,D){var H=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.map.toCloudStorage,arguments),K=module$contents$ee$batch_Export.convertToServerParams(H,ee.data.ExportDestination.GCS,ee.data.ExportType.MAP);return module$contents$ee$batch_ExportTask.create(K)},goog.exportSymbol("module$contents$ee$batch_Export.map.toCloudStorage",module$contents$ee$batch_Export.map.toCloudStorage),module$contents$ee$batch_Export.table.toCloudStorage=function(e,t,i,n,r,u,d){var c=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toCloudStorage,arguments),b=module$contents$ee$batch_Export.convertToServerParams(c,ee.data.ExportDestination.GCS,ee.data.ExportType.TABLE);return module$contents$ee$batch_ExportTask.create(b)},goog.exportSymbol("module$contents$ee$batch_Export.table.toCloudStorage",module$contents$ee$batch_Export.table.toCloudStorage),module$contents$ee$batch_Export.table.toDrive=function(e,t,i,n,r,u,d){var c=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toDrive,arguments);c.type=ee.data.ExportType.TABLE;var b=module$contents$ee$batch_Export.convertToServerParams(c,ee.data.ExportDestination.DRIVE,ee.data.ExportType.TABLE);return module$contents$ee$batch_ExportTask.create(b)},goog.exportSymbol("module$contents$ee$batch_Export.table.toDrive",module$contents$ee$batch_Export.table.toDrive),module$contents$ee$batch_Export.table.toAsset=function(e,t,i,n){var r=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toAsset,arguments),u=module$contents$ee$batch_Export.convertToServerParams(r,ee.data.ExportDestination.ASSET,ee.data.ExportType.TABLE);return module$contents$ee$batch_ExportTask.create(u)},goog.exportSymbol("module$contents$ee$batch_Export.table.toAsset",module$contents$ee$batch_Export.table.toAsset),module$contents$ee$batch_Export.table.toFeatureView=function(e,t,i,n,r,u,d){var c=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toFeatureView,arguments),b=module$contents$ee$batch_Export.convertToServerParams(c,ee.data.ExportDestination.FEATURE_VIEW,ee.data.ExportType.TABLE);return module$contents$ee$batch_ExportTask.create(b)},goog.exportSymbol("module$contents$ee$batch_Export.table.toFeatureView",module$contents$ee$batch_Export.table.toFeatureView),module$contents$ee$batch_Export.table.toBigQuery=function(e,t,i,n,r){var u=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toBigQuery,arguments),d=module$contents$ee$batch_Export.convertToServerParams(u,ee.data.ExportDestination.BIGQUERY,ee.data.ExportType.TABLE);return module$contents$ee$batch_ExportTask.create(d)},module$contents$ee$batch_Export.video.toCloudStorage=function(e,t,i,n,r,u,d,c,b,S,C,O){var D=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.video.toCloudStorage,arguments),H=module$contents$ee$batch_Export.convertToServerParams(D,ee.data.ExportDestination.GCS,ee.data.ExportType.VIDEO);return module$contents$ee$batch_ExportTask.create(H)},goog.exportSymbol("module$contents$ee$batch_Export.video.toCloudStorage",module$contents$ee$batch_Export.video.toCloudStorage),module$contents$ee$batch_Export.video.toDrive=function(e,t,i,n,r,u,d,c,b,S,C,O){var D=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.video.toDrive,arguments),H=module$contents$ee$batch_Export.convertToServerParams(D,ee.data.ExportDestination.DRIVE,ee.data.ExportType.VIDEO);return module$contents$ee$batch_ExportTask.create(H)},goog.exportSymbol("module$contents$ee$batch_Export.video.toDrive",module$contents$ee$batch_Export.video.toDrive),module$contents$ee$batch_Export.videoMap.toCloudStorage=function(e,t,i,n,r,u,d,c,b,S,C,O,D,H,K,le,de,fe,be,Ie){var De=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.videoMap.toCloudStorage,arguments),Ze=module$contents$ee$batch_Export.convertToServerParams(De,ee.data.ExportDestination.GCS,ee.data.ExportType.VIDEO_MAP);return module$contents$ee$batch_ExportTask.create(Ze)},goog.exportSymbol("module$contents$ee$batch_Export.videoMap.toCloudStorage",module$contents$ee$batch_Export.videoMap.toCloudStorage),module$contents$ee$batch_Export.classifier.toAsset=function(e,t,i){var n=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.classifier.toAsset,arguments),r=module$contents$ee$batch_Export.convertToServerParams(n,ee.data.ExportDestination.ASSET,ee.data.ExportType.CLASSIFIER);return module$contents$ee$batch_ExportTask.create(r)},goog.exportSymbol("module$contents$ee$batch_Export.classifier.toAsset",module$contents$ee$batch_Export.classifier.toAsset),module$contents$ee$batch_Export.serializeRegion=function(e){if(e instanceof ee.Geometry)e=e.toGeoJSON();else if(typeof e=="string")try{e=goog.asserts.assertObject(JSON.parse(e))}catch{throw Error("Invalid format for region property. Region must be GeoJSON LinearRing or Polygon specified as actual coordinates or serialized as a string. See Export documentation.")}if(!(goog.isObject(e)&&"type"in e))try{new ee.Geometry.LineString(e)}catch{try{new ee.Geometry.Polygon(e)}catch{throw Error("Invalid format for region property. Region must be GeoJSON LinearRing or Polygon specified as actual coordinates or serialized as a string. See Export documentation.")}}return JSON.stringify(e)},module$contents$ee$batch_Export.resolveRegionParam=function(e){if(e=module$contents$goog$object_clone(e),!e.region)return goog.Promise.resolve(e);var t=e.region;return t instanceof ee.ComputedObject?(t instanceof ee.Element&&(t=t.geometry()),new goog.Promise(function(i,n){t.getInfo(function(r,u){u?n(u):(e.region=e.type===ee.data.ExportType.IMAGE?new ee.Geometry(r):module$contents$ee$batch_Export.serializeRegion(r),i(e))})})):(e.region=e.type===ee.data.ExportType.IMAGE?new ee.Geometry(t):module$contents$ee$batch_Export.serializeRegion(t),goog.Promise.resolve(e))},module$contents$ee$batch_Export.extractElement=function(e){var t=function(u){return u in e},i=module$contents$ee$batch_Export.EE_ELEMENT_KEYS.find(t);goog.asserts.assert(module$contents$goog$array_count(module$contents$ee$batch_Export.EE_ELEMENT_KEYS,t)===1,'Expected a single "image", "collection" or "classifier" key.');var n=e[i];if(n instanceof ee.Image)var r=n;else if(n instanceof ee.FeatureCollection)r=n;else if(n instanceof ee.ImageCollection)r=n;else if(n instanceof ee.Element)r=n;else if(n instanceof ee.ComputedObject)r=n;else throw Error("Unknown element type provided: "+typeof n+". Expected:  ee.Image, ee.ImageCollection, ee.FeatureCollection,  ee.Element or ee.ComputedObject.");return delete e[i],r},module$contents$ee$batch_Export.convertToServerParams=function(e,t,i,n){n=n===void 0?!0:n;var r={type:i};switch(Object.assign(r,e),i){case ee.data.ExportType.IMAGE:r=module$contents$ee$batch_Export.image.prepareTaskConfig_(r,t);break;case ee.data.ExportType.MAP:r=module$contents$ee$batch_Export.map.prepareTaskConfig_(r,t);break;case ee.data.ExportType.TABLE:r=module$contents$ee$batch_Export.table.prepareTaskConfig_(r,t);break;case ee.data.ExportType.VIDEO:r=module$contents$ee$batch_Export.video.prepareTaskConfig_(r,t);break;case ee.data.ExportType.VIDEO_MAP:r=module$contents$ee$batch_Export.videoMap.prepareTaskConfig_(r,t);break;case ee.data.ExportType.CLASSIFIER:r=module$contents$ee$batch_Export.classifier.prepareTaskConfig_(r,t);break;default:throw Error("Unknown export type: "+r.type)}return n&&r.region!=null&&(r.region=module$contents$ee$batch_Export.serializeRegion(r.region)),r},module$contents$ee$batch_Export.prepareDestination_=function(e,t){switch(t){case ee.data.ExportDestination.GCS:e.outputBucket=e.bucket||"",e.outputPrefix=e.fileNamePrefix||e.path||"",delete e.fileNamePrefix,delete e.path,delete e.bucket;break;case ee.data.ExportDestination.ASSET:e.assetId=e.assetId||"";break;case ee.data.ExportDestination.FEATURE_VIEW:e.mapName=e.mapName||"";break;case ee.data.ExportDestination.BIGQUERY:e.table=e.table||"";break;default:var i=goog.typeOf(e.folder);if(!module$contents$goog$array_contains(["string","undefined"],i))throw Error('Error: toDrive "folder" parameter must be a string, but is of type '+i+".");e.driveFolder=e.folder||"",e.driveFileNamePrefix=e.fileNamePrefix||"",delete e.folder,delete e.fileNamePrefix}return e},module$contents$ee$batch_Export.image.prepareTaskConfig_=function(e,t){return e.fileFormat==null&&(e.fileFormat="GeoTIFF"),e=module$contents$ee$batch_Export.reconcileImageFormat(e),e=module$contents$ee$batch_Export.prepareDestination_(e,t),e.crsTransform!=null&&(e[module$contents$ee$batch_Export.CRS_TRANSFORM_KEY]=e.crsTransform,delete e.crsTransform),e},module$contents$ee$batch_Export.table.prepareTaskConfig_=function(e,t){return Array.isArray(e.selectors)&&(e.selectors=e.selectors.join()),e=module$contents$ee$batch_Export.reconcileTableFormat(e),e=module$contents$ee$batch_Export.prepareDestination_(e,t)},module$contents$ee$batch_Export.map.prepareTaskConfig_=function(e,t){return e=module$contents$ee$batch_Export.prepareDestination_(e,t),e=module$contents$ee$batch_Export.reconcileMapFormat(e)},module$contents$ee$batch_Export.video.prepareTaskConfig_=function(e,t){return e=module$contents$ee$batch_Export.reconcileVideoFormat_(e),e=module$contents$ee$batch_Export.prepareDestination_(e,t),e.crsTransform!=null&&(e[module$contents$ee$batch_Export.CRS_TRANSFORM_KEY]=e.crsTransform,delete e.crsTransform),e},module$contents$ee$batch_Export.videoMap.prepareTaskConfig_=function(e,t){return e=module$contents$ee$batch_Export.reconcileVideoFormat_(e),e.version=e.version||module$contents$ee$batch_VideoMapVersion.V1,e.stride=e.stride||1,e.tileDimensions={width:e.tileWidth||256,height:e.tileHeight||256},e=module$contents$ee$batch_Export.prepareDestination_(e,t)},module$contents$ee$batch_Export.classifier.prepareTaskConfig_=function(e,t){return e=module$contents$ee$batch_Export.prepareDestination_(e,t)};var module$contents$ee$batch_VideoFormat={MP4:"MP4",GIF:"GIF",VP9:"VP9"},module$contents$ee$batch_MapFormat={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",JPEG:"JPEG",PNG:"PNG"},module$contents$ee$batch_ImageFormat={GEO_TIFF:"GEO_TIFF",TF_RECORD_IMAGE:"TF_RECORD_IMAGE"},module$contents$ee$batch_TableFormat={CSV:"CSV",GEO_JSON:"GEO_JSON",KML:"KML",KMZ:"KMZ",SHP:"SHP",TF_RECORD_TABLE:"TF_RECORD_TABLE"},module$contents$ee$batch_VideoMapVersion={V1:"V1",V2:"V2"},module$contents$ee$batch_FORMAT_OPTIONS_MAP={GEO_TIFF:["cloudOptimized","fileDimensions","shardSize"],TF_RECORD_IMAGE:"patchDimensions kernelSize compressed maxFileSize defaultValue tensorDepths sequenceData collapseBands maskedThreshold".split(" ")},module$contents$ee$batch_FORMAT_PREFIX_MAP={GEO_TIFF:"tiff",TF_RECORD_IMAGE:"tfrecord"};module$contents$ee$batch_Export.reconcileVideoFormat_=function(e){e.videoOptions=e.framesPerSecond||5,e.maxFrames=e.maxFrames||1e3,e.maxPixels=e.maxPixels||1e8;var t=e.fileFormat;switch(t==null&&(t=module$contents$ee$batch_VideoFormat.MP4),t=t.toUpperCase(),t){case"MP4":t=module$contents$ee$batch_VideoFormat.MP4;break;case"GIF":case"JIF":t=module$contents$ee$batch_VideoFormat.GIF;break;case"VP9":case"WEBM":t=module$contents$ee$batch_VideoFormat.VP9;break;default:throw Error("Invalid file format "+t+". Supported formats are: 'MP4', 'GIF', and 'WEBM'.")}return e.fileFormat=t,e},module$contents$ee$batch_Export.reconcileImageFormat=function(e){var t=e.fileFormat;switch(t==null&&(t=module$contents$ee$batch_ImageFormat.GEO_TIFF),t=t.toUpperCase(),t){case"TIFF":case"TIF":case"GEO_TIFF":case"GEOTIFF":t=module$contents$ee$batch_ImageFormat.GEO_TIFF;break;case"TF_RECORD":case"TF_RECORD_IMAGE":case"TFRECORD":t=module$contents$ee$batch_ImageFormat.TF_RECORD_IMAGE;break;default:throw Error("Invalid file format "+t+". Supported formats are: 'GEOTIFF', 'TFRECORD'.")}if(e.fileFormat=t,e.formatOptions!=null){var i=module$contents$ee$batch_Export.prefixImageFormatOptions_(e,t);delete e.formatOptions,Object.assign(e,i)}return e},module$contents$ee$batch_Export.reconcileMapFormat=function(e){var t=e.fileFormat;switch(t==null&&(t=module$contents$ee$batch_MapFormat.AUTO_JPEG_PNG),t=t.toUpperCase(),t){case"AUTO":case"AUTO_JPEG_PNG":case"AUTO_JPG_PNG":t=module$contents$ee$batch_MapFormat.AUTO_JPEG_PNG;break;case"JPG":case"JPEG":t=module$contents$ee$batch_MapFormat.JPEG;break;case"PNG":t=module$contents$ee$batch_MapFormat.PNG;break;default:throw Error("Invalid file format "+t+". Supported formats are: 'AUTO', 'PNG', and 'JPEG'.")}return e.fileFormat=t,e},module$contents$ee$batch_Export.reconcileTableFormat=function(e){var t=e.fileFormat;switch(t==null&&(t=module$contents$ee$batch_TableFormat.CSV),t=t.toUpperCase(),t){case"CSV":t=module$contents$ee$batch_TableFormat.CSV;break;case"JSON":case"GEOJSON":case"GEO_JSON":t=module$contents$ee$batch_TableFormat.GEO_JSON;break;case"KML":t=module$contents$ee$batch_TableFormat.KML;break;case"KMZ":t=module$contents$ee$batch_TableFormat.KMZ;break;case"SHP":t=module$contents$ee$batch_TableFormat.SHP;break;case"TF_RECORD":case"TF_RECORD_TABLE":case"TFRECORD":t=module$contents$ee$batch_TableFormat.TF_RECORD_TABLE;break;default:throw Error("Invalid file format "+t+". Supported formats are: 'CSV', 'GeoJSON', 'KML', 'KMZ', 'SHP', and 'TFRecord'.")}return e.fileFormat=t,e},module$contents$ee$batch_Export.prefixImageFormatOptions_=function(e,t){var i=e.formatOptions;if(i==null)return{};if(Object.keys(e).some(function(H){return module$contents$goog$object_containsKey(i,H)}))throw Error("Parameter specified at least twice: once in config, and once in config format options.");for(var n=module$contents$ee$batch_FORMAT_PREFIX_MAP[t],r=module$contents$ee$batch_FORMAT_OPTIONS_MAP[t],u={},d=$jscomp.makeIterator(Object.entries(i)),c=d.next();!c.done;c=d.next()){var b=$jscomp.makeIterator(c.value),S=b.next().value,C=b.next().value;if(!module$contents$goog$array_contains(r,S)){var O=r.join(", ");throw Error('"'+S+'" is not a valid option, the image format "'+t+'""may have the following options: '+(O+'".'))}var D=n+S[0].toUpperCase()+S.substring(1);Array.isArray(C)?u[D]=C.join():u[D]=C}return u},module$contents$ee$batch_Export.CRS_TRANSFORM_KEY="crs_transform",module$contents$ee$batch_Export.EE_ELEMENT_KEYS=["image","collection","classifier"],ee.batch.Export=module$contents$ee$batch_Export,ee.batch.ExportTask=module$contents$ee$batch_ExportTask,ee.batch.ImageFormat=module$contents$ee$batch_ImageFormat,ee.batch.MapFormat=module$contents$ee$batch_MapFormat,ee.batch.ServerTaskConfig={},ee.batch.TableFormat=module$contents$ee$batch_TableFormat,ee.batch.VideoFormat=module$contents$ee$batch_VideoFormat,ee.Number=function(e){if(!(this instanceof ee.Number))return ee.ComputedObject.construct(ee.Number,arguments);if(e instanceof ee.Number)return e;if(ee.Number.initialize(),typeof e=="number")ee.ComputedObject.call(this,null,null),this.number_=e;else if(e instanceof ee.ComputedObject)ee.ComputedObject.call(this,e.func,e.args,e.varName),this.number_=null;else throw Error("Invalid argument specified for ee.Number(): "+e)},goog.inherits(ee.Number,ee.ComputedObject),goog.exportSymbol("ee.Number",ee.Number),ee.Number.initialized_=!1,ee.Number.initialize=function(){ee.Number.initialized_||(ee.ApiFunction.importApi(ee.Number,"Number","Number"),ee.Number.initialized_=!0)},ee.Number.reset=function(){ee.ApiFunction.clearApi(ee.Number),ee.Number.initialized_=!1},ee.Number.prototype.encode=function(e){return typeof this.number_=="number"?this.number_:ee.Number.superClass_.encode.call(this,e)},ee.Number.prototype.encodeCloudValue=function(e){return typeof this.number_=="number"?ee.rpc_node.reference(e.makeReference(this.number_)):ee.Number.superClass_.encodeCloudValue.call(this,e)},ee.Number.prototype.name=function(){return"Number"},ee.String=function(e){if(!(this instanceof ee.String))return ee.ComputedObject.construct(ee.String,arguments);if(e instanceof ee.String)return e;if(ee.String.initialize(),typeof e=="string")ee.ComputedObject.call(this,null,null),this.string_=e;else if(e instanceof ee.ComputedObject)this.string_=null,e.func&&e.func.getSignature().returns=="String"?ee.ComputedObject.call(this,e.func,e.args,e.varName):ee.ComputedObject.call(this,new ee.ApiFunction("String"),{input:e},null);else throw Error("Invalid argument specified for ee.String(): "+e)},goog.inherits(ee.String,ee.ComputedObject),goog.exportSymbol("ee.String",ee.String),ee.String.initialized_=!1,ee.String.initialize=function(){ee.String.initialized_||(ee.ApiFunction.importApi(ee.String,"String","String"),ee.String.initialized_=!0)},ee.String.reset=function(){ee.ApiFunction.clearApi(ee.String),ee.String.initialized_=!1},ee.String.prototype.encode=function(e){return typeof this.string_=="string"?this.string_:ee.String.superClass_.encode.call(this,e)},ee.String.prototype.encodeCloudValue=function(e){return typeof this.string_=="string"?ee.rpc_node.reference(e.makeReference(this.string_)):ee.String.superClass_.encodeCloudValue.call(this,e)},ee.String.prototype.name=function(){return"String"},ee.CustomFunction=function(e,t){if(!(this instanceof ee.CustomFunction))return ee.ComputedObject.construct(ee.CustomFunction,arguments);for(var i=[],n=e.args,r=0;r<n.length;r++){var u=n[r];i.push(ee.CustomFunction.variable(ee.Types.nameToClass(u.type),u.name))}if(t.apply(null,i)===void 0)throw Error("User-defined methods must return a value.");this.signature_=ee.CustomFunction.resolveNamelessArgs_(e,i,t),this.body_=t.apply(null,i)},goog.inherits(ee.CustomFunction,ee.Function),goog.exportSymbol("ee.CustomFunction",ee.CustomFunction),ee.CustomFunction.prototype.encode=function(e){return{type:"Function",argumentNames:module$contents$goog$array_map(this.signature_.args,function(t){return t.name}),body:e(this.body_)}},ee.CustomFunction.prototype.encodeCloudValue=function(e){return ee.rpc_node.functionDefinition(this.signature_.args.map(function(t){return t.name}),e.makeReference(this.body_))},ee.CustomFunction.prototype.encodeCloudInvocation=function(e,t){return ee.rpc_node.functionByReference(e.makeReference(this),t)},ee.CustomFunction.prototype.getSignature=function(){return this.signature_},ee.CustomFunction.variable=function(e,t){if(e=e||Object,!(e.prototype instanceof ee.ComputedObject))if(e&&e!=Object)if(e==String)e=ee.String;else if(e==Number)e=ee.Number;else if(e==Array)e=goog.global.ee.List;else throw Error("Variables must be of an EE type, e.g. ee.Image or ee.Number.");else e=ee.ComputedObject;var i=function(n){this.args=this.func=null,this.varName=n};return i.prototype=e.prototype,new i(t)},ee.CustomFunction.create=function(e,t,i){var n=function(d){return typeof d=="string"?d:ee.Types.classToName(d)},r=module$contents$goog$array_map(i,function(d){return{name:null,type:n(d)}}),u={name:"",returns:n(t),args:r};return new ee.CustomFunction(u,e)},ee.CustomFunction.resolveNamelessArgs_=function(e,t,i){for(var n=[],r=0;r<t.length;r++)t[r].varName===null&&n.push(r);if(n.length===0)return e;for(var u="_MAPPING_VAR_"+function(S){var C=function(D){return D.map(O).reduce(function(H,K){return H+K},0)},O=function(D){return D.functionDefinitionValue?1:D.arrayValue?C(D.arrayValue.values):D.dictionaryValue?C(Object.values(D.dictionaryValue.values)):D.functionInvocationValue?C(Object.values(D.functionInvocationValue.arguments)):0};return C(Object.values(S.values))}(ee.Serializer.encodeCloudApiExpression(i.apply(null,t),"<unbound>"))+"_",d=0;d<n.length;d++){var c=n[d],b=u+d;t[c].varName=b,e.args[c].name=b}return e},ee.Date=function(e,t){if(!(this instanceof ee.Date))return ee.ComputedObject.construct(ee.Date,arguments);if(e instanceof ee.Date)return e;ee.Date.initialize();var i=ee.arguments.extractFromFunction(ee.Date,arguments);e=i.date;var n=i.tz,r=new ee.ApiFunction("Date"),u={},d=null;if(ee.Types.isString(e)){if(u.value=e,n)if(ee.Types.isString(n))u.timeZone=n;else throw Error("Invalid argument specified for ee.Date(..., opt_tz): "+n)}else if(ee.Types.isNumber(e))u.value=e;else if(goog.isDateLike(e))u.value=Math.floor(e.getTime());else if(e instanceof ee.ComputedObject)e.func&&e.func.getSignature().returns=="Date"?(r=e.func,u=e.args,d=e.varName):u.value=e;else throw Error("Invalid argument specified for ee.Date(): "+e);ee.ComputedObject.call(this,r,u,d)},goog.inherits(ee.Date,ee.ComputedObject),goog.exportSymbol("ee.Date",ee.Date),ee.Date.initialized_=!1,ee.Date.initialize=function(){ee.Date.initialized_||(ee.ApiFunction.importApi(ee.Date,"Date","Date"),ee.Date.initialized_=!0)},ee.Date.reset=function(){ee.ApiFunction.clearApi(ee.Date),ee.Date.initialized_=!1},ee.Date.prototype.name=function(){return"Date"},ee.Deserializer=function(){},goog.exportSymbol("ee.Deserializer",ee.Deserializer),ee.Deserializer.fromJSON=function(e){return ee.Deserializer.decode(JSON.parse(e))},goog.exportSymbol("ee.Deserializer.fromJSON",ee.Deserializer.fromJSON),ee.Deserializer.decode=function(e){if("result"in e&&"values"in e)return ee.Deserializer.decodeCloudApi(e);var t={};if(goog.isObject(e)&&e.type==="CompoundValue"){for(var i=e.scope,n=0;n<i.length;n++){var r=i[n][0],u=i[n][1];if(r in t)throw Error('Duplicate scope key "'+r+'" in scope #'+n+".");t[r]=ee.Deserializer.decodeValue_(u,t)}e=e.value}return ee.Deserializer.decodeValue_(e,t)},goog.exportSymbol("ee.Deserializer.decode",ee.Deserializer.decode),ee.Deserializer.decodeValue_=function(e,t){if(e===null||typeof e=="number"||typeof e=="boolean"||typeof e=="string")return e;if(Array.isArray(e))return module$contents$goog$array_map(e,function(S){return ee.Deserializer.decodeValue_(S,t)});if(!goog.isObject(e)||typeof e=="function")throw Error("Cannot decode object: "+e);var i=e.type;switch(i){case"ValueRef":if(e.value in t)return t[e.value];throw Error("Unknown ValueRef: "+e);case"ArgumentRef":var n=e.value;if(typeof n!="string")throw Error("Invalid variable name: "+n);return ee.CustomFunction.variable(Object,n);case"Date":var r=e.value;if(typeof r!="number")throw Error("Invalid date value: "+r);return new ee.Date(r/1e3);case"Bytes":return ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({bytesValue:e}),e);case"Invocation":var u="functionName"in e?ee.ApiFunction.lookup(e.functionName):ee.Deserializer.decodeValue_(e.function,t),d=module$contents$goog$object_map(e.arguments,function(S){return ee.Deserializer.decodeValue_(S,t)});return ee.Deserializer.invocation_(u,d);case"Dictionary":return module$contents$goog$object_map(e.value,function(S){return ee.Deserializer.decodeValue_(S,t)});case"Function":var c=ee.Deserializer.decodeValue_(e.body,t),b={name:"",args:module$contents$goog$array_map(e.argumentNames,function(S){return{name:S,type:"Object",optional:!1}}),returns:"Object"};return new ee.CustomFunction(b,function(){return c});case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":case"LinearRing":case"GeometryCollection":return new ee.Geometry(e);case"CompoundValue":throw Error("Nested CompoundValues are disallowed.");default:throw Error("Unknown encoded object type: "+i)}},ee.Deserializer.roundTrip_=function(e,t){var i=function(){};return $jscomp.inherits(i,ee.Encodable),i.prototype.encode=function(n){return t},i.prototype.encodeCloudValue=function(n){return e},new i},ee.Deserializer.invocation_=function(e,t){if(e instanceof ee.Function)return e.apply(t);if(e instanceof ee.ComputedObject){var i=function(){return ee.Function.apply(this,arguments)||this};return $jscomp.inherits(i,ee.Function),i.prototype.encode=function(n){return e.encode(n)},i.prototype.encodeCloudInvocation=function(n,r){return ee.rpc_node.functionByReference(n.makeReference(e),r)},new ee.ComputedObject(new i,t)}throw Error("Invalid function value")},ee.Deserializer.fromCloudApiJSON=function(e){return ee.Deserializer.decodeCloudApi(JSON.parse(e))},goog.exportSymbol("ee.Deserializer.fromCloudApiJSON",ee.Deserializer.fromCloudApiJSON),ee.Deserializer.decodeCloudApi=function(e){var t=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.Expression,e),i={},n=function(c,b){if(!(c in i)){if(!(c in t.values))throw Error("Cannot find "+b+" "+c);i[c]=r(t.values[c])}return i[c]},r=function(c){return c.constantValue!==null?c.constantValue:c.arrayValue!==null?c.arrayValue.values.map(r):c.dictionaryValue!==null?module$contents$goog$object_map(c.dictionaryValue.values,r):c.argumentReference!==null?ee.CustomFunction.variable(Object,c.argumentReference):c.functionDefinitionValue!==null?u(c.functionDefinitionValue):c.functionInvocationValue!==null?d(c.functionInvocationValue):c.bytesValue!==null?ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({bytesValue:c.bytesValue}),c.bytesValue):c.integerValue!==null?ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({integerValue:c.integerValue}),c.integerValue):c.valueReference!==null?n(c.valueReference,"reference"):null},u=function(c){var b=n(c.body,"function body"),S={args:c.argumentNames.map(function(C){return{name:C,type:"Object",optional:!1}}),name:"",returns:"Object"};return new ee.CustomFunction(S,function(){return b})},d=function(c){var b=c.functionReference?n(c.functionReference,"function"):ee.ApiFunction.lookup(c.functionName),S=module$contents$goog$object_map(c.arguments,r);return ee.Deserializer.invocation_(b,S)};return n(t.result,"result value")},goog.exportSymbol("ee.Deserializer.decodeCloudApi",ee.Deserializer.decodeCloudApi),ee.Dictionary=function(e){if(!(this instanceof ee.Dictionary))return ee.ComputedObject.construct(ee.Dictionary,arguments);if(e instanceof ee.Dictionary)return e;ee.Dictionary.initialize(),ee.Types.isRegularObject(e)?(ee.ComputedObject.call(this,null,null),this.dict_=e):(e instanceof ee.ComputedObject&&e.func&&e.func.getSignature().returns=="Dictionary"?ee.ComputedObject.call(this,e.func,e.args,e.varName):ee.ComputedObject.call(this,new ee.ApiFunction("Dictionary"),{input:e},null),this.dict_=null)},goog.inherits(ee.Dictionary,ee.ComputedObject),goog.exportSymbol("ee.Dictionary",ee.Dictionary),ee.Dictionary.initialized_=!1,ee.Dictionary.initialize=function(){ee.Dictionary.initialized_||(ee.ApiFunction.importApi(ee.Dictionary,"Dictionary","Dictionary"),ee.Dictionary.initialized_=!0)},ee.Dictionary.reset=function(){ee.ApiFunction.clearApi(ee.Dictionary),ee.Dictionary.initialized_=!1},ee.Dictionary.prototype.encode=function(e){return this.dict_!==null?e(this.dict_):ee.Dictionary.superClass_.encode.call(this,e)},ee.Dictionary.prototype.encodeCloudValue=function(e){return this.dict_!==null?ee.rpc_node.reference(e.makeReference(this.dict_)):ee.Dictionary.superClass_.encodeCloudValue.call(this,e)},ee.Dictionary.prototype.name=function(){return"Dictionary"},ee.Terrain={},goog.exportSymbol("ee.Terrain",ee.Terrain),ee.Terrain.initialized_=!1,ee.Terrain.initialize=function(){ee.Terrain.initialized_||(ee.ApiFunction.importApi(ee.Terrain,"Terrain","Terrain"),ee.Terrain.initialized_=!0)},ee.Terrain.reset=function(){ee.ApiFunction.clearApi(ee.Terrain),ee.Terrain.initialized_=!1},ee.initialize=function(e,t,i,n,r,u){if(ee.ready_!=ee.InitState.READY||e||t){var d=i!=null;if(n)if(d)ee.errorCallbacks_.push(n);else throw Error("Can't pass an error callback without a success callback.");if(ee.ready_==ee.InitState.LOADING&&d)ee.successCallbacks_.push(i);else if(ee.ready_=ee.InitState.LOADING,ee.data.initialize(e,t,r,u),d)ee.successCallbacks_.push(i),ee.ApiFunction.initialize(ee.initializationSuccess_,ee.initializationFailure_);else try{ee.ApiFunction.initialize(),ee.initializationSuccess_()}catch(c){throw ee.initializationFailure_(c),c}}else i&&i()},goog.exportSymbol("ee.initialize",ee.initialize),ee.reset=function(){ee.ready_=ee.InitState.NOT_READY,ee.data.reset(),ee.ApiFunction.reset(),ee.Date.reset(),ee.Dictionary.reset(),ee.Element.reset(),ee.Image.reset(),ee.Feature.reset(),ee.Collection.reset(),ee.ImageCollection.reset(),ee.FeatureCollection.reset(),ee.Filter.reset(),ee.Geometry.reset(),ee.List.reset(),ee.Number.reset(),ee.String.reset(),ee.Terrain.reset(),ee.resetGeneratedClasses_(),module$contents$goog$object_clear(ee.Algorithms)},goog.exportSymbol("ee.reset",ee.reset),ee.InitState={NOT_READY:"not_ready",LOADING:"loading",READY:"ready"},goog.exportSymbol("ee.InitState",ee.InitState),goog.exportSymbol("ee.InitState.NOT_READY",ee.InitState.NOT_READY),goog.exportSymbol("ee.InitState.LOADING",ee.InitState.LOADING),goog.exportSymbol("ee.InitState.READY",ee.InitState.READY),ee.ready_=ee.InitState.NOT_READY,ee.successCallbacks_=[],ee.errorCallbacks_=[],ee.TILE_SIZE=256,goog.exportSymbol("ee.TILE_SIZE",ee.TILE_SIZE),ee.generatedClasses_=[],ee.Algorithms={},goog.exportSymbol("ee.Algorithms",ee.Algorithms),ee.ready=function(){return ee.ready_},ee.call=function(e,t){typeof e=="string"&&(e=new ee.ApiFunction(e));var i=Array.prototype.slice.call(arguments,1);return ee.Function.prototype.call.apply(e,i)},goog.exportSymbol("ee.call",ee.call),ee.apply=function(e,t){return typeof e=="string"&&(e=new ee.ApiFunction(e)),e.apply(t)},goog.exportSymbol("ee.apply",ee.apply),ee.initializationSuccess_=function(){if(ee.ready_==ee.InitState.LOADING){try{ee.Date.initialize(),ee.Dictionary.initialize(),ee.Element.initialize(),ee.Image.initialize(),ee.Feature.initialize(),ee.Collection.initialize(),ee.ImageCollection.initialize(),ee.FeatureCollection.initialize(),ee.Filter.initialize(),ee.Geometry.initialize(),ee.List.initialize(),ee.Number.initialize(),ee.String.initialize(),ee.Terrain.initialize(),ee.initializeGeneratedClasses_(),ee.initializeUnboundMethods_()}catch(e){ee.initializationFailure_(e);return}for(ee.ready_=ee.InitState.READY,ee.errorCallbacks_=[];0<ee.successCallbacks_.length;)ee.successCallbacks_.shift()()}},ee.initializationFailure_=function(e){if(ee.ready_==ee.InitState.LOADING)for(ee.ready_=ee.InitState.NOT_READY,ee.successCallbacks_=[];0<ee.errorCallbacks_.length;)ee.errorCallbacks_.shift()(e)},ee.promote_=function(e,t){if(e===null)return null;if(e!==void 0){var i=goog.global.ee;switch(t){case"Image":return new ee.Image(e);case"Feature":return e instanceof ee.Collection?ee.ApiFunction._call("Feature",ee.ApiFunction._call("Collection.geometry",e)):new ee.Feature(e);case"Element":if(e instanceof ee.Element)return e;if(e instanceof ee.Geometry)return new ee.Feature(e);if(e instanceof ee.ComputedObject)return new ee.Element(e.func,e.args,e.varName);throw Error("Cannot convert "+e+" to Element.");case"Geometry":return e instanceof ee.FeatureCollection?ee.ApiFunction._call("Collection.geometry",e):new ee.Geometry(e);case"FeatureCollection":case"Collection":return e instanceof ee.Collection?e:new ee.FeatureCollection(e);case"ImageCollection":return new ee.ImageCollection(e);case"Filter":return new ee.Filter(e);case"Algorithm":if(typeof e=="string")return new ee.ApiFunction(e);if(typeof e=="function")return ee.CustomFunction.create(e,"Object",module$contents$goog$array_repeat("Object",e.length));if(e instanceof ee.Encodable)return e;throw Error("Argument is not a function: "+e);case"String":return ee.Types.isString(e)||e instanceof ee.String||e instanceof ee.ComputedObject?new ee.String(e):e;case"Dictionary":return ee.Types.isRegularObject(e)?e:new ee.Dictionary(e);case"List":return new ee.List(e);case"Number":case"Float":case"Long":case"Integer":case"Short":case"Byte":return new ee.Number(e);default:if(t in i){var n=ee.ApiFunction.lookupInternal(t);if(e instanceof i[t])return e;if(n)return new i[t](e);if(typeof e=="string"){if(e in i[t])return i[t][e].call();throw Error("Unknown algorithm: "+t+"."+e)}return new i[t](e)}return e}}},ee.initializeUnboundMethods_=function(){var e=ee.ApiFunction.unboundFunctions();module$contents$goog$object_getKeys(e).sort().forEach(function(t){var i=e[t],n=i.getSignature();if(!n.hidden){var r=t.split("."),u=ee.Algorithms;for(u.signature={};1<r.length;){var d=r[0];d in u||(u[d]={signature:{}}),u=u[d],r=module$contents$goog$array_slice(r,1)}var c=function(b){return i.callOrApply(void 0,Array.prototype.slice.call(arguments,0))};c.signature=n,c.toString=goog.bind(i.toString,i),u[r[0]]=c}})},ee.initializeGeneratedClasses_=function(){var e=ee.ApiFunction.allSignatures(),t={},i={},n;for(n in e){var r=void 0;r=n.indexOf(".")!=-1?n.slice(0,n.indexOf(".")):n,t[r]=!0;var u=e[n].returns.replace(/<.*>/,"");i[u]=!0}var d=goog.global.ee,c;for(c in t)c in i&&!(c in d)&&(d[c]=ee.makeClass_(c),ee.generatedClasses_.push(c),e[c]?(d[c].signature=e[c],d[c].signature.isConstructor=!0,ee.ApiFunction.boundSignatures_[c]=!0):d[c].signature={});ee.Types.registerClasses(d)},ee.resetGeneratedClasses_=function(){for(var e=goog.global.ee,t=0;t<ee.generatedClasses_.length;t++){var i=ee.generatedClasses_[t];ee.ApiFunction.clearApi(e[i]),delete e[i]}ee.generatedClasses_=[],ee.Types.registerClasses(e)},ee.makeClass_=function(e){var t=function(i){var n=goog.global.ee[e],r=Array.prototype.slice.call(arguments),u=r.length==1;if(u&&r[0]instanceof n)return r[0];if(!(this instanceof n))return ee.ComputedObject.construct(n,r);var d=ee.ApiFunction.lookupInternal(e),c=!(r[0]instanceof ee.ComputedObject),b=!1;if(d&&(u?c?b=!0:r[0].func&&r[0].func.getSignature().returns==d.getSignature().returns||(b=!0):b=!0),b){var S=ee.Types.useKeywordArgs(r,d.getSignature())?r[0]:d.nameArgs(r);ee.ComputedObject.call(this,d,d.promoteArgs(S))}else{if(!u)throw Error("Too many arguments for ee."+e+"(): "+r);if(c)throw Error("Invalid argument for ee."+e+"(): "+r+". Must be a ComputedObject.");var C=r[0];ee.ComputedObject.call(this,C.func,C.args,C.varName)}};return goog.inherits(t,ee.ComputedObject),t.prototype.name=function(){return e},ee.ApiFunction.importApi(t,e,e),t},ee.Function.registerPromoter(ee.promote_),ee.FloatTileOverlay=function(e,t,i){ee.AbstractOverlay.call(this,e,t,i),this.tileSize=new google.maps.Size(ee.FloatTileOverlay.TILE_EDGE_LENGTH,ee.FloatTileOverlay.TILE_EDGE_LENGTH),this.floatTiles_=new goog.structs.Map,this.floatTileDivs_=new goog.structs.Map},$jscomp.inherits(ee.FloatTileOverlay,ee.AbstractOverlay),ee.FloatTileOverlay.prototype.getTile=function(e,t,i){var n=this.getTileId(e,t),r=[this.url,n].join("/")+"?token="+this.token,u=[n,this.tileCounter,this.token].join("/");this.tilesLoading.push(u),this.tileCounter+=1;var d=goog.dom.createDom(goog.dom.TagName.DIV);return this.loadFloatTile_(r,e,u,d),this.dispatchTileEvent_(),d},ee.FloatTileOverlay.prototype.loadFloatTile_=function(e,t,i,n){var r=goog.net.XmlHttp();r.open("GET",e,!0),r.responseType="arraybuffer",r.onreadystatechange=goog.bind(function(){if(r.readyState===XMLHttpRequest.DONE&&r.status===200){var u=r.response;if(u){var d=new Float32Array(u);this.handleFloatTileLoaded_(d,t,i,n)}else throw this.tilesFailed.add(i),Error("Unable to request floating point array buffers.")}},this),r.send()},ee.FloatTileOverlay.prototype.handleFloatTileLoaded_=function(e,t,i,n){this.floatTiles_.set(t,e),this.floatTileDivs_.set(t,n),module$contents$goog$array_remove(this.tilesLoading,i),this.dispatchTileEvent_()},ee.FloatTileOverlay.prototype.getAllFloatTiles=function(){return this.floatTiles_},ee.FloatTileOverlay.prototype.getAllFloatTileDivs=function(){return this.floatTileDivs_},ee.FloatTileOverlay.prototype.getLoadedFloatTilesCount=function(){return this.floatTiles_.getCount()},ee.FloatTileOverlay.prototype.dispatchTileEvent_=function(){this.dispatchEvent(new ee.TileEvent(this.tilesLoading.length))},ee.FloatTileOverlay.prototype.disposeInternal=function(){this.floatTileDivs_=this.floatTiles_=null,ee.AbstractOverlay.prototype.disposeInternal.call(this)},goog.exportSymbol("ee.FloatTileOverlay",ee.FloatTileOverlay),ee.FloatTileOverlay.TILE_EDGE_LENGTH=256,ee.layers={};var module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats=function(e){this.statsByZoom_=new Map,this.uniqueId_=e};module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.addTileStats=function(e,t,i){this.getStatsForZoom_(i).tileLatencies.push(t-e)},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.incrementThrottleCounter=function(e){this.getStatsForZoom_(e).throttleCount++},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.incrementErrorCounter=function(e){this.getStatsForZoom_(e).errorCount++},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.clear=function(){this.statsByZoom_.clear()},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.hasData=function(){return 0<this.statsByZoom_.size},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.getSummaryList=function(){var e=this,t=[];return this.statsByZoom_.forEach(function(i,n){return t.push({layerId:e.uniqueId_,zoomLevel:n,tileLatencies:i.tileLatencies,throttleCount:i.throttleCount,errorCount:i.errorCount})}),t},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.getStatsForZoom_=function(e){return this.statsByZoom_.has(e)||this.statsByZoom_.set(e,{throttleCount:0,errorCount:0,tileLatencies:[]}),this.statsByZoom_.get(e)},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.LayerStatsForZoomLevel=function(){},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.Summary=function(){},ee.layers.AbstractOverlayStats=module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats,goog.events.EventHandler=function(e){goog.Disposable.call(this),this.handler_=e,this.keys_={}},goog.inherits(goog.events.EventHandler,goog.Disposable),goog.events.EventHandler.typeArray_=[],goog.events.EventHandler.prototype.listen=function(e,t,i,n){return this.listen_(e,t,i,n)},goog.events.EventHandler.prototype.listenWithScope=function(e,t,i,n,r){return this.listen_(e,t,i,n,r)},goog.events.EventHandler.prototype.listen_=function(e,t,i,n,r){Array.isArray(t)||(t&&(goog.events.EventHandler.typeArray_[0]=t.toString()),t=goog.events.EventHandler.typeArray_);for(var u=0;u<t.length;u++){var d=goog.events.listen(e,t[u],i||this.handleEvent,n||!1,r||this.handler_||this);if(!d)break;this.keys_[d.key]=d}return this},goog.events.EventHandler.prototype.listenOnce=function(e,t,i,n){return this.listenOnce_(e,t,i,n)},goog.events.EventHandler.prototype.listenOnceWithScope=function(e,t,i,n,r){return this.listenOnce_(e,t,i,n,r)},goog.events.EventHandler.prototype.listenOnce_=function(e,t,i,n,r){if(Array.isArray(t))for(var u=0;u<t.length;u++)this.listenOnce_(e,t[u],i,n,r);else{var d=goog.events.listenOnce(e,t,i||this.handleEvent,n,r||this.handler_||this);if(!d)return this;this.keys_[d.key]=d}return this},goog.events.EventHandler.prototype.listenWithWrapper=function(e,t,i,n){return this.listenWithWrapper_(e,t,i,n)},goog.events.EventHandler.prototype.listenWithWrapperAndScope=function(e,t,i,n,r){return this.listenWithWrapper_(e,t,i,n,r)},goog.events.EventHandler.prototype.listenWithWrapper_=function(e,t,i,n,r){return t.listen(e,i,n,r||this.handler_||this,this),this},goog.events.EventHandler.prototype.getListenerCount=function(){var e=0,t;for(t in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,t)&&e++;return e},goog.events.EventHandler.prototype.unlisten=function(e,t,i,n,r){if(Array.isArray(t))for(var u=0;u<t.length;u++)this.unlisten(e,t[u],i,n,r);else{var d=goog.events.getListener(e,t,i||this.handleEvent,goog.isObject(n)?!!n.capture:!!n,r||this.handler_||this);d&&(goog.events.unlistenByKey(d),delete this.keys_[d.key])}return this},goog.events.EventHandler.prototype.unlistenWithWrapper=function(e,t,i,n,r){return t.unlisten(e,i,n,r||this.handler_||this,this),this},goog.events.EventHandler.prototype.removeAll=function(){module$contents$goog$object_forEach(this.keys_,function(e,t){this.keys_.hasOwnProperty(t)&&goog.events.unlistenByKey(e)},this),this.keys_={}},goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this),this.removeAll()},goog.events.EventHandler.prototype.handleEvent=function(e){throw Error("EventHandler.handleEvent not implemented")},goog.fs.DOMErrorLike=function(){},goog.fs.Error=function(e,t){if(e.name!==void 0)this.name=e.name,this.code=goog.fs.Error.getCodeFromName_(e.name);else{var i=goog.asserts.assertNumber(e.code);this.code=i,this.name=goog.fs.Error.getNameFromCode_(i)}module$contents$goog$debug$Error_DebugError.call(this,goog.string.subs("%s %s",this.name,t))},goog.inherits(goog.fs.Error,module$contents$goog$debug$Error_DebugError),goog.fs.Error.ErrorName={ABORT:"AbortError",ENCODING:"EncodingError",INVALID_MODIFICATION:"InvalidModificationError",INVALID_STATE:"InvalidStateError",NOT_FOUND:"NotFoundError",NOT_READABLE:"NotReadableError",NO_MODIFICATION_ALLOWED:"NoModificationAllowedError",PATH_EXISTS:"PathExistsError",QUOTA_EXCEEDED:"QuotaExceededError",SECURITY:"SecurityError",SYNTAX:"SyntaxError",TYPE_MISMATCH:"TypeMismatchError"},goog.fs.Error.ErrorCode={NOT_FOUND:1,SECURITY:2,ABORT:3,NOT_READABLE:4,ENCODING:5,NO_MODIFICATION_ALLOWED:6,INVALID_STATE:7,SYNTAX:8,INVALID_MODIFICATION:9,QUOTA_EXCEEDED:10,TYPE_MISMATCH:11,PATH_EXISTS:12},goog.fs.Error.getNameFromCode_=function(e){var t=module$contents$goog$object_findKey(goog.fs.Error.NameToCodeMap_,function(i){return e==i});if(t===void 0)throw Error("Invalid code: "+e);return t},goog.fs.Error.getCodeFromName_=function(e){return goog.fs.Error.NameToCodeMap_[e]};var $jscomp$compprop11={};goog.fs.Error.NameToCodeMap_=($jscomp$compprop11[goog.fs.Error.ErrorName.ABORT]=goog.fs.Error.ErrorCode.ABORT,$jscomp$compprop11[goog.fs.Error.ErrorName.ENCODING]=goog.fs.Error.ErrorCode.ENCODING,$jscomp$compprop11[goog.fs.Error.ErrorName.INVALID_MODIFICATION]=goog.fs.Error.ErrorCode.INVALID_MODIFICATION,$jscomp$compprop11[goog.fs.Error.ErrorName.INVALID_STATE]=goog.fs.Error.ErrorCode.INVALID_STATE,$jscomp$compprop11[goog.fs.Error.ErrorName.NOT_FOUND]=goog.fs.Error.ErrorCode.NOT_FOUND,$jscomp$compprop11[goog.fs.Error.ErrorName.NOT_READABLE]=goog.fs.Error.ErrorCode.NOT_READABLE,$jscomp$compprop11[goog.fs.Error.ErrorName.NO_MODIFICATION_ALLOWED]=goog.fs.Error.ErrorCode.NO_MODIFICATION_ALLOWED,$jscomp$compprop11[goog.fs.Error.ErrorName.PATH_EXISTS]=goog.fs.Error.ErrorCode.PATH_EXISTS,$jscomp$compprop11[goog.fs.Error.ErrorName.QUOTA_EXCEEDED]=goog.fs.Error.ErrorCode.QUOTA_EXCEEDED,$jscomp$compprop11[goog.fs.Error.ErrorName.SECURITY]=goog.fs.Error.ErrorCode.SECURITY,$jscomp$compprop11[goog.fs.Error.ErrorName.SYNTAX]=goog.fs.Error.ErrorCode.SYNTAX,$jscomp$compprop11[goog.fs.Error.ErrorName.TYPE_MISMATCH]=goog.fs.Error.ErrorCode.TYPE_MISMATCH,$jscomp$compprop11),goog.fs.ProgressEvent=function(e,t){goog.events.Event.call(this,e.type,t),this.event_=e},goog.inherits(goog.fs.ProgressEvent,goog.events.Event),goog.fs.ProgressEvent.prototype.isLengthComputable=function(){return this.event_.lengthComputable},goog.fs.ProgressEvent.prototype.getLoaded=function(){return this.event_.loaded},goog.fs.ProgressEvent.prototype.getTotal=function(){return this.event_.total},goog.fs.FileReader=function(){goog.events.EventTarget.call(this),this.reader_=new FileReader,this.reader_.onloadstart=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onprogress=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onload=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onabort=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onerror=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onloadend=goog.bind(this.dispatchProgressEvent_,this)},goog.inherits(goog.fs.FileReader,goog.events.EventTarget),goog.fs.FileReader.ReadyState={INIT:0,LOADING:1,DONE:2},goog.fs.FileReader.EventType={LOAD_START:"loadstart",PROGRESS:"progress",LOAD:"load",ABORT:"abort",ERROR:"error",LOAD_END:"loadend"},goog.fs.FileReader.prototype.abort=function(){try{this.reader_.abort()}catch(e){throw new goog.fs.Error(e,"aborting read")}},goog.fs.FileReader.prototype.getReadyState=function(){return this.reader_.readyState},goog.fs.FileReader.prototype.getResult=function(){return this.reader_.result},goog.fs.FileReader.prototype.getError=function(){return this.reader_.error&&new goog.fs.Error(this.reader_.error,"reading file")},goog.fs.FileReader.prototype.dispatchProgressEvent_=function(e){this.dispatchEvent(new goog.fs.ProgressEvent(e,this))},goog.fs.FileReader.prototype.disposeInternal=function(){goog.fs.FileReader.superClass_.disposeInternal.call(this),delete this.reader_},goog.fs.FileReader.prototype.readAsBinaryString=function(e){this.reader_.readAsBinaryString(e)},goog.fs.FileReader.readAsBinaryString=function(e){var t=new goog.fs.FileReader,i=goog.fs.FileReader.createDeferred_(t);return t.readAsBinaryString(e),i},goog.fs.FileReader.prototype.readAsArrayBuffer=function(e){this.reader_.readAsArrayBuffer(e)},goog.fs.FileReader.readAsArrayBuffer=function(e){var t=new goog.fs.FileReader,i=goog.fs.FileReader.createDeferred_(t);return t.readAsArrayBuffer(e),i},goog.fs.FileReader.prototype.readAsText=function(e,t){this.reader_.readAsText(e,t)},goog.fs.FileReader.readAsText=function(e,t){var i=new goog.fs.FileReader,n=goog.fs.FileReader.createDeferred_(i);return i.readAsText(e,t),n},goog.fs.FileReader.prototype.readAsDataUrl=function(e){this.reader_.readAsDataURL(e)},goog.fs.FileReader.readAsDataUrl=function(e){var t=new goog.fs.FileReader,i=goog.fs.FileReader.createDeferred_(t);return t.readAsDataUrl(e),i},goog.fs.FileReader.createDeferred_=function(e){var t=new goog.async.Deferred;return e.listen(goog.fs.FileReader.EventType.LOAD_END,goog.partial(function(i,n,r){var u=n.getResult(),d=n.getError();u==null||d?i.errback(d):i.callback(u),n.dispose()},t,e)),t},goog.dom.vendor={},goog.dom.vendor.getVendorJsPrefix=function(){return goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.IE?"ms":null},goog.dom.vendor.getVendorPrefix=function(){return goog.userAgent.WEBKIT?"-webkit":goog.userAgent.GECKO?"-moz":goog.userAgent.IE?"-ms":null},goog.dom.vendor.getPrefixedPropertyName=function(e,t){if(t&&e in t)return e;var i=goog.dom.vendor.getVendorJsPrefix();if(i){i=i.toLowerCase();var n=i+goog.string.toTitleCase(e);return t===void 0||n in t?n:null}return null},goog.dom.vendor.getPrefixedEventType=function(e){return((goog.dom.vendor.getVendorJsPrefix()||"")+e).toLowerCase()},goog.math.Box=function(e,t,i,n){this.top=e,this.right=t,this.bottom=i,this.left=n},goog.math.Box.boundingBox=function(e){for(var t=new goog.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),i=1;i<arguments.length;i++)t.expandToIncludeCoordinate(arguments[i]);return t},goog.math.Box.prototype.getWidth=function(){return this.right-this.left},goog.math.Box.prototype.getHeight=function(){return this.bottom-this.top},goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)},goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),goog.math.Box.prototype.contains=function(e){return goog.math.Box.contains(this,e)},goog.math.Box.prototype.expand=function(e,t,i,n){return goog.isObject(e)?(this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left):(this.top-=e,this.right+=Number(t),this.bottom+=Number(i),this.left-=Number(n)),this},goog.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},goog.math.Box.prototype.expandToIncludeCoordinate=function(e){this.top=Math.min(this.top,e.y),this.right=Math.max(this.right,e.x),this.bottom=Math.max(this.bottom,e.y),this.left=Math.min(this.left,e.x)},goog.math.Box.equals=function(e,t){return e==t?!0:e&&t?e.top==t.top&&e.right==t.right&&e.bottom==t.bottom&&e.left==t.left:!1},goog.math.Box.contains=function(e,t){return e&&t?t instanceof goog.math.Box?t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom:t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom:!1},goog.math.Box.relativePositionX=function(e,t){return t.x<e.left?t.x-e.left:t.x>e.right?t.x-e.right:0},goog.math.Box.relativePositionY=function(e,t){return t.y<e.top?t.y-e.top:t.y>e.bottom?t.y-e.bottom:0},goog.math.Box.distance=function(e,t){var i=goog.math.Box.relativePositionX(e,t),n=goog.math.Box.relativePositionY(e,t);return Math.sqrt(i*i+n*n)},goog.math.Box.intersects=function(e,t){return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom},goog.math.Box.intersectsWithPadding=function(e,t,i){return e.left<=t.right+i&&t.left<=e.right+i&&e.top<=t.bottom+i&&t.top<=e.bottom+i},goog.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},goog.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},goog.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},goog.math.Box.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.right+=e.x,this.top+=e.y,this.bottom+=e.y):(goog.asserts.assertNumber(e),this.left+=e,this.right+=e,typeof t=="number"&&(this.top+=t,this.bottom+=t)),this},goog.math.Box.prototype.scale=function(e,t){var i=typeof t=="number"?t:e;return this.left*=e,this.right*=e,this.top*=i,this.bottom*=i,this},goog.math.IRect=function(){},goog.math.Rect=function(e,t,i,n){this.left=e,this.top=t,this.width=i,this.height=n},goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)},goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},goog.math.Rect.createFromPositionAndSize=function(e,t){return new goog.math.Rect(e.x,e.y,t.width,t.height)},goog.math.Rect.createFromBox=function(e){return new goog.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),goog.math.Rect.equals=function(e,t){return e==t?!0:e&&t?e.left==t.left&&e.width==t.width&&e.top==t.top&&e.height==t.height:!1},goog.math.Rect.prototype.intersection=function(e){var t=Math.max(this.left,e.left),i=Math.min(this.left+this.width,e.left+e.width);if(t<=i){var n=Math.max(this.top,e.top),r=Math.min(this.top+this.height,e.top+e.height);if(n<=r)return this.left=t,this.top=n,this.width=i-t,this.height=r-n,!0}return!1},goog.math.Rect.intersection=function(e,t){var i=Math.max(e.left,t.left),n=Math.min(e.left+e.width,t.left+t.width);if(i<=n){var r=Math.max(e.top,t.top),u=Math.min(e.top+e.height,t.top+t.height);if(r<=u)return new goog.math.Rect(i,r,n-i,u-r)}return null},goog.math.Rect.intersects=function(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height},goog.math.Rect.prototype.intersects=function(e){return goog.math.Rect.intersects(this,e)},goog.math.Rect.difference=function(e,t){var i=goog.math.Rect.intersection(e,t);if(!i||!i.height||!i.width)return[e.clone()];var n=[],r=e.top,u=e.height,d=e.left+e.width,c=e.top+e.height,b=t.left+t.width,S=t.top+t.height;return t.top>e.top&&(n.push(new goog.math.Rect(e.left,e.top,e.width,t.top-e.top)),r=t.top,u-=t.top-e.top),S<c&&(n.push(new goog.math.Rect(e.left,S,e.width,c-S)),u=S-r),t.left>e.left&&n.push(new goog.math.Rect(e.left,r,t.left-e.left,u)),b<d&&n.push(new goog.math.Rect(b,r,d-b,u)),n},goog.math.Rect.prototype.difference=function(e){return goog.math.Rect.difference(this,e)},goog.math.Rect.prototype.boundingRect=function(e){var t=Math.max(this.left+this.width,e.left+e.width),i=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=t-this.left,this.height=i-this.top},goog.math.Rect.boundingRect=function(e,t){if(!e||!t)return null;var i=new goog.math.Rect(e.left,e.top,e.width,e.height);return i.boundingRect(t),i},goog.math.Rect.prototype.contains=function(e){return e instanceof goog.math.Coordinate?e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height:this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height},goog.math.Rect.prototype.squaredDistance=function(e){var t=e.x<this.left?this.left-e.x:Math.max(e.x-(this.left+this.width),0),i=e.y<this.top?this.top-e.y:Math.max(e.y-(this.top+this.height),0);return t*t+i*i},goog.math.Rect.prototype.distance=function(e){return Math.sqrt(this.squaredDistance(e))},goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)},goog.math.Rect.prototype.getTopLeft=function(){return new goog.math.Coordinate(this.left,this.top)},goog.math.Rect.prototype.getCenter=function(){return new goog.math.Coordinate(this.left+this.width/2,this.top+this.height/2)},goog.math.Rect.prototype.getBottomRight=function(){return new goog.math.Coordinate(this.left+this.width,this.top+this.height)},goog.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Rect.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.top+=e.y):(this.left+=goog.asserts.assertNumber(e),typeof t=="number"&&(this.top+=t)),this},goog.math.Rect.prototype.scale=function(e,t){var i=typeof t=="number"?t:e;return this.left*=e,this.width*=e,this.top*=i,this.height*=i,this},goog.style={},goog.style.setStyle=function(e,t,i){if(typeof t=="string")goog.style.setStyle_(e,i,t);else for(var n in t)goog.style.setStyle_(e,t[n],n)},goog.style.setStyle_=function(e,t,i){var n=goog.style.getVendorJsStyleName_(e,i);n&&(e.style[n]=t)},goog.style.styleNameCache_={},goog.style.getVendorJsStyleName_=function(e,t){var i=goog.style.styleNameCache_[t];if(!i){var n=goog.string.toCamelCase(t);if(i=n,e.style[n]===void 0){var r=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(n);e.style[r]!==void 0&&(i=r)}goog.style.styleNameCache_[t]=i}return i},goog.style.getVendorStyleName_=function(e,t){var i=goog.string.toCamelCase(t);if(e.style[i]===void 0){var n=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(i);if(e.style[n]!==void 0)return goog.dom.vendor.getVendorPrefix()+"-"+t}return t},goog.style.getStyle=function(e,t){var i=e.style[goog.string.toCamelCase(t)];return typeof i<"u"?i:e.style[goog.style.getVendorJsStyleName_(e,t)]||""},goog.style.getComputedStyle=function(e,t){var i=goog.dom.getOwnerDocument(e);if(i.defaultView&&i.defaultView.getComputedStyle){var n=i.defaultView.getComputedStyle(e,null);if(n)return n[t]||n.getPropertyValue(t)||""}return""},goog.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},goog.style.getStyle_=function(e,t){return goog.style.getComputedStyle(e,t)||goog.style.getCascadedStyle(e,t)||e.style&&e.style[t]},goog.style.getComputedBoxSizing=function(e){return goog.style.getStyle_(e,"boxSizing")||goog.style.getStyle_(e,"MozBoxSizing")||goog.style.getStyle_(e,"WebkitBoxSizing")||null},goog.style.getComputedPosition=function(e){return goog.style.getStyle_(e,"position")},goog.style.getBackgroundColor=function(e){return goog.style.getStyle_(e,"backgroundColor")},goog.style.getComputedOverflowX=function(e){return goog.style.getStyle_(e,"overflowX")},goog.style.getComputedOverflowY=function(e){return goog.style.getStyle_(e,"overflowY")},goog.style.getComputedZIndex=function(e){return goog.style.getStyle_(e,"zIndex")},goog.style.getComputedTextAlign=function(e){return goog.style.getStyle_(e,"textAlign")},goog.style.getComputedCursor=function(e){return goog.style.getStyle_(e,"cursor")},goog.style.getComputedTransform=function(e){var t=goog.style.getVendorStyleName_(e,"transform");return goog.style.getStyle_(e,t)||goog.style.getStyle_(e,"transform")},goog.style.setPosition=function(e,t,i){if(t instanceof goog.math.Coordinate)var n=t.x,r=t.y;else n=t,r=i;e.style.left=goog.style.getPixelStyleValue_(n,!1),e.style.top=goog.style.getPixelStyleValue_(r,!1)},goog.style.getPosition=function(e){return new goog.math.Coordinate(e.offsetLeft,e.offsetTop)},goog.style.getClientViewportElement=function(e){var t=e?goog.dom.getOwnerDocument(e):goog.dom.getDocument();return!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||goog.dom.getDomHelper(t).isCss1CompatMode()?t.documentElement:t.body},goog.style.getViewportPageOffset=function(e){var t=e.body,i=e.documentElement;return new goog.math.Coordinate(t.scrollLeft||i.scrollLeft,t.scrollTop||i.scrollTop)},goog.style.getBoundingClientRect_=function(e){try{return e.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}},goog.style.getOffsetParent=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(8))return goog.asserts.assert(e&&"offsetParent"in e),e.offsetParent;for(var t=goog.dom.getOwnerDocument(e),i=goog.style.getStyle_(e,"position"),n=i=="fixed"||i=="absolute",r=e.parentNode;r&&r!=t;r=r.parentNode)if(r.nodeType==goog.dom.NodeType.DOCUMENT_FRAGMENT&&r.host&&(r=r.host),i=goog.style.getStyle_(r,"position"),n=n&&i=="static"&&r!=t.documentElement&&r!=t.body,!n&&(r.scrollWidth>r.clientWidth||r.scrollHeight>r.clientHeight||i=="fixed"||i=="absolute"||i=="relative"))return r;return null},goog.style.getVisibleRectForElement=function(e){for(var t=new goog.math.Box(0,1/0,1/0,0),i=goog.dom.getDomHelper(e),n=i.getDocument().body,r=i.getDocument().documentElement,u=i.getDocumentScrollElement(),d=e;d=goog.style.getOffsetParent(d);)if(!(goog.userAgent.IE&&d.clientWidth==0||goog.userAgent.WEBKIT&&d.clientHeight==0&&d==n)&&d!=n&&d!=r&&goog.style.getStyle_(d,"overflow")!="visible"){var c=goog.style.getPageOffset(d),b=goog.style.getClientLeftTop(d);c.x+=b.x,c.y+=b.y,t.top=Math.max(t.top,c.y),t.right=Math.min(t.right,c.x+d.clientWidth),t.bottom=Math.min(t.bottom,c.y+d.clientHeight),t.left=Math.max(t.left,c.x)}var S=u.scrollLeft,C=u.scrollTop;t.left=Math.max(t.left,S),t.top=Math.max(t.top,C);var O=i.getViewportSize();return t.right=Math.min(t.right,S+O.width),t.bottom=Math.min(t.bottom,C+O.height),0<=t.top&&0<=t.left&&t.bottom>t.top&&t.right>t.left?t:null},goog.style.getContainerOffsetToScrollInto=function(e,t,i){var n=t||goog.dom.getDocumentScrollElement(),r=goog.style.getPageOffset(e),u=goog.style.getPageOffset(n),d=goog.style.getBorderBox(n);if(n==goog.dom.getDocumentScrollElement()){var c=r.x-n.scrollLeft,b=r.y-n.scrollTop;goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(10)&&(c+=d.left,b+=d.top)}else c=r.x-u.x-d.left,b=r.y-u.y-d.top;var S=goog.style.getSizeWithDisplay_(e),C=n.clientWidth-S.width,O=n.clientHeight-S.height,D=n.scrollLeft,H=n.scrollTop;return i?(D+=c-C/2,H+=b-O/2):(D+=Math.min(c,Math.max(c-C,0)),H+=Math.min(b,Math.max(b-O,0))),new goog.math.Coordinate(D,H)},goog.style.scrollIntoContainerView=function(e,t,i){var n=t||goog.dom.getDocumentScrollElement(),r=goog.style.getContainerOffsetToScrollInto(e,n,i);n.scrollLeft=r.x,n.scrollTop=r.y},goog.style.getClientLeftTop=function(e){return new goog.math.Coordinate(e.clientLeft,e.clientTop)},goog.style.getPageOffset=function(e){var t=goog.dom.getOwnerDocument(e);goog.asserts.assertObject(e,"Parameter is required");var i=new goog.math.Coordinate(0,0),n=goog.style.getClientViewportElement(t);if(e==n)return i;var r=goog.style.getBoundingClientRect_(e),u=goog.dom.getDomHelper(t).getDocumentScroll();return i.x=r.left+u.x,i.y=r.top+u.y,i},goog.style.getPageOffsetLeft=function(e){return goog.style.getPageOffset(e).x},goog.style.getPageOffsetTop=function(e){return goog.style.getPageOffset(e).y},goog.style.getFramedPageOffset=function(e,t){var i=new goog.math.Coordinate(0,0),n=goog.dom.getWindow(goog.dom.getOwnerDocument(e));if(!goog.reflect.canAccessProperty(n,"parent"))return i;var r=e;do{var u=n==t?goog.style.getPageOffset(r):goog.style.getClientPositionForElement_(goog.asserts.assert(r));i.x+=u.x,i.y+=u.y}while(n&&n!=t&&n!=n.parent&&(r=n.frameElement)&&(n=n.parent));return i},goog.style.translateRectForAnotherFrame=function(e,t,i){if(t.getDocument()!=i.getDocument()){var n=t.getDocument().body,r=goog.style.getFramedPageOffset(n,i.getWindow());r=goog.math.Coordinate.difference(r,goog.style.getPageOffset(n)),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||t.isCss1CompatMode()||(r=goog.math.Coordinate.difference(r,t.getDocumentScroll())),e.left+=r.x,e.top+=r.y}},goog.style.getRelativePosition=function(e,t){var i=goog.style.getClientPosition(e),n=goog.style.getClientPosition(t);return new goog.math.Coordinate(i.x-n.x,i.y-n.y)},goog.style.getClientPositionForElement_=function(e){var t=goog.style.getBoundingClientRect_(e);return new goog.math.Coordinate(t.left,t.top)},goog.style.getClientPosition=function(e){if(goog.asserts.assert(e),e.nodeType==goog.dom.NodeType.ELEMENT)return goog.style.getClientPositionForElement_(e);var t=e.changedTouches?e.changedTouches[0]:e;return new goog.math.Coordinate(t.clientX,t.clientY)},goog.style.setPageOffset=function(e,t,i){var n=goog.style.getPageOffset(e);t instanceof goog.math.Coordinate&&(i=t.y,t=t.x);var r=goog.asserts.assertNumber(t)-n.x;goog.style.setPosition(e,e.offsetLeft+r,e.offsetTop+(Number(i)-n.y))},goog.style.setSize=function(e,t,i){if(t instanceof goog.math.Size){var n=t.height;t=t.width}else{if(i==null)throw Error("missing height argument");n=i}goog.style.setWidth(e,t),goog.style.setHeight(e,n)},goog.style.getPixelStyleValue_=function(e,t){return typeof e=="number"&&(e=(t?Math.round(e):e)+"px"),e},goog.style.setHeight=function(e,t){e.style.height=goog.style.getPixelStyleValue_(t,!0)},goog.style.setWidth=function(e,t){e.style.width=goog.style.getPixelStyleValue_(t,!0)},goog.style.getSize=function(e){return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_,e)},goog.style.evaluateWithTemporaryDisplay_=function(e,t){if(goog.style.getStyle_(t,"display")!="none")return e(t);var i=t.style,n=i.display,r=i.visibility,u=i.position;i.visibility="hidden",i.position="absolute",i.display="inline";var d=e(t);return i.display=n,i.position=u,i.visibility=r,d},goog.style.getSizeWithDisplay_=function(e){var t=e.offsetWidth,i=e.offsetHeight,n=goog.userAgent.WEBKIT&&!t&&!i;if((t===void 0||n)&&e.getBoundingClientRect){var r=goog.style.getBoundingClientRect_(e);return new goog.math.Size(r.right-r.left,r.bottom-r.top)}return new goog.math.Size(t,i)},goog.style.getTransformedSize=function(e){if(!e.getBoundingClientRect)return null;var t=goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_,e);return new goog.math.Size(t.right-t.left,t.bottom-t.top)},goog.style.getBounds=function(e){var t=goog.style.getPageOffset(e),i=goog.style.getSize(e);return new goog.math.Rect(t.x,t.y,i.width,i.height)},goog.style.toCamelCase=function(e){return goog.string.toCamelCase(String(e))},goog.style.toSelectorCase=function(e){return goog.string.toSelectorCase(e)},goog.style.getOpacity=function(e){goog.asserts.assert(e);var t=e.style,i="";if("opacity"in t)i=t.opacity;else if("MozOpacity"in t)i=t.MozOpacity;else if("filter"in t){var n=t.filter.match(/alpha\(opacity=([\d.]+)\)/);n&&(i=String(n[1]/100))}return i==""?i:Number(i)},goog.style.setOpacity=function(e,t){goog.asserts.assert(e);var i=e.style;"opacity"in i?i.opacity=t:"MozOpacity"in i?i.MozOpacity=t:"filter"in i&&(i.filter=t===""?"":"alpha(opacity="+100*Number(t)+")")},goog.style.setTransparentBackgroundImage=function(e,t){var i=e.style;i.backgroundImage="url("+t+")",i.backgroundPosition="top left",i.backgroundRepeat="no-repeat"},goog.style.clearTransparentBackgroundImage=function(e){var t=e.style;"filter"in t?t.filter="":t.backgroundImage="none"},goog.style.showElement=function(e,t){goog.style.setElementShown(e,t)},goog.style.setElementShown=function(e,t){e.style.display=t?"":"none"},goog.style.isElementShown=function(e){return e.style.display!="none"},goog.style.installSafeStyleSheet=function(e,t){var i=goog.dom.getDomHelper(t),n=i.getDocument();if(goog.userAgent.IE&&n.createStyleSheet){var r=n.createStyleSheet();return goog.style.setSafeStyleSheet(r,e),r}var u=i.getElementsByTagNameAndClass(goog.dom.TagName.HEAD)[0];if(!u){var d=i.getElementsByTagNameAndClass(goog.dom.TagName.BODY)[0];u=i.createDom(goog.dom.TagName.HEAD),d.parentNode.insertBefore(u,d)}var c=i.createDom(goog.dom.TagName.STYLE),b=goog.dom.safe.getStyleNonce();return b&&c.setAttribute("nonce",b),goog.style.setSafeStyleSheet(c,e),i.appendChild(u,c),c},goog.style.uninstallStyles=function(e){goog.dom.removeNode(e.ownerNode||e.owningElement||e)},goog.style.setSafeStyleSheet=function(e,t){var i=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(t);goog.userAgent.IE&&e.cssText!==void 0?e.cssText=i:goog.global.trustedTypes?goog.dom.setTextContent(e,i):e.innerHTML=i},goog.style.setPreWrap=function(e){e.style.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},goog.style.setInlineBlock=function(e){var t=e.style;t.position="relative",t.display="inline-block"},goog.style.isRightToLeft=function(e){return goog.style.getStyle_(e,"direction")=="rtl"},goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT||goog.userAgent.EDGE?"WebkitUserSelect":null,goog.style.isUnselectable=function(e){return goog.style.unselectableStyle_?e.style[goog.style.unselectableStyle_].toLowerCase()=="none":goog.userAgent.IE?e.getAttribute("unselectable")=="on":!1},goog.style.setUnselectable=function(e,t,i){var n=i?null:e.getElementsByTagName("*"),r=goog.style.unselectableStyle_;if(r){var u=t?"none":"";if(e.style&&(e.style[r]=u),n)for(var d=0,c;c=n[d];d++)c.style&&(c.style[r]=u)}else if(goog.userAgent.IE&&(u=t?"on":"",e.setAttribute("unselectable",u),n))for(d=0;c=n[d];d++)c.setAttribute("unselectable",u)},goog.style.getBorderBoxSize=function(e){return new goog.math.Size(e.offsetWidth,e.offsetHeight)},goog.style.setBorderBoxSize=function(e,t){goog.style.setBoxSizingSize_(e,t,"border-box")},goog.style.getContentBoxSize=function(e){var t=goog.dom.getOwnerDocument(e),i=goog.userAgent.IE&&e.currentStyle;if(i&&goog.dom.getDomHelper(t).isCss1CompatMode()&&i.width!="auto"&&i.height!="auto"&&!i.boxSizing){var n=goog.style.getIePixelValue_(e,i.width,"width","pixelWidth"),r=goog.style.getIePixelValue_(e,i.height,"height","pixelHeight");return new goog.math.Size(n,r)}var u=goog.style.getBorderBoxSize(e),d=goog.style.getPaddingBox(e),c=goog.style.getBorderBox(e);return new goog.math.Size(u.width-c.left-d.left-d.right-c.right,u.height-c.top-d.top-d.bottom-c.bottom)},goog.style.setContentBoxSize=function(e,t){goog.style.setBoxSizingSize_(e,t,"content-box")},goog.style.setBoxSizingSize_=function(e,t,i){var n=e.style;goog.userAgent.GECKO?n.MozBoxSizing=i:goog.userAgent.WEBKIT?n.WebkitBoxSizing=i:n.boxSizing=i,n.width=Math.max(t.width,0)+"px",n.height=Math.max(t.height,0)+"px"},goog.style.getIePixelValue_=function(e,t,i,n){if(/^\d+px?$/.test(t))return parseInt(t,10);var r=e.style[i],u=e.runtimeStyle[i];e.runtimeStyle[i]=e.currentStyle[i],e.style[i]=t;var d=e.style[n];return e.style[i]=r,e.runtimeStyle[i]=u,+d},goog.style.getIePixelDistance_=function(e,t){var i=goog.style.getCascadedStyle(e,t);return i?goog.style.getIePixelValue_(e,i,"left","pixelLeft"):0},goog.style.getBox_=function(e,t){if(goog.userAgent.IE){var i=goog.style.getIePixelDistance_(e,t+"Left"),n=goog.style.getIePixelDistance_(e,t+"Right"),r=goog.style.getIePixelDistance_(e,t+"Top"),u=goog.style.getIePixelDistance_(e,t+"Bottom");return new goog.math.Box(r,n,u,i)}return i=goog.style.getComputedStyle(e,t+"Left"),n=goog.style.getComputedStyle(e,t+"Right"),r=goog.style.getComputedStyle(e,t+"Top"),u=goog.style.getComputedStyle(e,t+"Bottom"),new goog.math.Box(parseFloat(r),parseFloat(n),parseFloat(u),parseFloat(i))},goog.style.getPaddingBox=function(e){return goog.style.getBox_(e,"padding")},goog.style.getMarginBox=function(e){return goog.style.getBox_(e,"margin")},goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},goog.style.getIePixelBorder_=function(e,t){if(goog.style.getCascadedStyle(e,t+"Style")=="none")return 0;var i=goog.style.getCascadedStyle(e,t+"Width");return i in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[i]:goog.style.getIePixelValue_(e,i,"left","pixelLeft")},goog.style.getBorderBox=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){var t=goog.style.getIePixelBorder_(e,"borderLeft"),i=goog.style.getIePixelBorder_(e,"borderRight"),n=goog.style.getIePixelBorder_(e,"borderTop"),r=goog.style.getIePixelBorder_(e,"borderBottom");return new goog.math.Box(n,i,r,t)}return t=goog.style.getComputedStyle(e,"borderLeftWidth"),i=goog.style.getComputedStyle(e,"borderRightWidth"),n=goog.style.getComputedStyle(e,"borderTopWidth"),r=goog.style.getComputedStyle(e,"borderBottomWidth"),new goog.math.Box(parseFloat(n),parseFloat(i),parseFloat(r),parseFloat(t))},goog.style.getFontFamily=function(e){var t=goog.dom.getOwnerDocument(e),i="";if(t.body.createTextRange&&goog.dom.contains(t,e)){var n=t.body.createTextRange();n.moveToElementText(e);try{i=n.queryCommandValue("FontName")}catch{i=""}}i||(i=goog.style.getStyle_(e,"fontFamily"));var r=i.split(",");return 1<r.length&&(i=r[0]),goog.string.stripQuotes(i,`"'`)},goog.style.lengthUnitRegex_=/[^\d]+$/,goog.style.getLengthUnits=function(e){var t=e.match(goog.style.lengthUnitRegex_);return t&&t[0]||null},goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,in:1,mm:1,pc:1,pt:1},goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},goog.style.getFontSize=function(e){var t=goog.style.getStyle_(e,"fontSize"),i=goog.style.getLengthUnits(t);if(t&&i=="px")return parseInt(t,10);if(goog.userAgent.IE){if(String(i)in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(e,t,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&String(i)in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_){var n=e.parentNode,r=goog.style.getStyle_(n,"fontSize");return goog.style.getIePixelValue_(n,t==r?"1em":t,"left","pixelLeft")}}var u=goog.dom.createDom(goog.dom.TagName.SPAN,{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});return goog.dom.appendChild(e,u),t=u.offsetHeight,goog.dom.removeNode(u),t},goog.style.parseStyleAttribute=function(e){var t={};return e.split(/\s*;\s*/).forEach(function(i){var n=i.match(/\s*([\w-]+)\s*:(.+)/);if(n){var r=goog.string.trim(n[2]);t[goog.string.toCamelCase(n[1].toLowerCase())]=r}}),t},goog.style.toStyleAttribute=function(e){var t=[];return module$contents$goog$object_forEach(e,function(i,n){t.push(goog.string.toSelectorCase(n),":",i,";")}),t.join("")},goog.style.setFloat=function(e,t){e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=t},goog.style.getFloat=function(e){return e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""},goog.style.getScrollbarWidth=function(e){var t=goog.dom.createElement(goog.dom.TagName.DIV);e&&(t.className=e),t.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px";var i=goog.dom.createElement(goog.dom.TagName.DIV);goog.style.setSize(i,"200px","200px"),t.appendChild(i),goog.dom.appendChild(goog.dom.getDocument().body,t);var n=t.offsetWidth-t.clientWidth;return goog.dom.removeNode(t),n},goog.style.MATRIX_TRANSLATION_REGEX_=RegExp("matrix\\([0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, ([0-9\\.\\-]+)p?x?, ([0-9\\.\\-]+)p?x?\\)"),goog.style.getCssTranslation=function(e){var t=goog.style.getComputedTransform(e);if(!t)return new goog.math.Coordinate(0,0);var i=t.match(goog.style.MATRIX_TRANSLATION_REGEX_);return i?new goog.math.Coordinate(parseFloat(i[1]),parseFloat(i[2])):new goog.math.Coordinate(0,0)},ee.layers.AbstractOverlay=function(e,t){goog.events.EventTarget.call(this);var i=t||{};if(this.minZoom=i.minZoom||0,this.maxZoom=i.maxZoom||20,!window.google||!window.google.maps)throw Error("Google Maps API hasn't been initialized.");this.tileSize=i.tileSize||new google.maps.Size(ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH,ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH),this.isPng="isPng"in i?i.isPng:!0,this.name=i.name,this.opacity="opacity"in i?i.opacity:1,this.stats=new module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats(e.getUniqueId()),this.tilesById=new goog.structs.Map,this.tileCounter=0,this.tileSource=e,this.handler=new goog.events.EventHandler(this),this.radius=0},$jscomp.inherits(ee.layers.AbstractOverlay,goog.events.EventTarget),ee.layers.AbstractOverlay.prototype.addTileCallback=function(e){return goog.events.listen(this,ee.layers.AbstractOverlay.EventType.TILE_LOAD,e)},ee.layers.AbstractOverlay.prototype.removeTileCallback=function(e){goog.events.unlistenByKey(e)},ee.layers.AbstractOverlay.prototype.getLoadingTilesCount=function(){return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.THROTTLED)+this.getTileCountForStatus_(ee.layers.AbstractTile.Status.LOADING)+this.getTileCountForStatus_(ee.layers.AbstractTile.Status.NEW)},ee.layers.AbstractOverlay.prototype.getFailedTilesCount=function(){return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.FAILED)},ee.layers.AbstractOverlay.prototype.getLoadedTilesCount=function(){return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.LOADED)},ee.layers.AbstractOverlay.prototype.setOpacity=function(e){this.opacity=e,this.tilesById.forEach(function(t){goog.style.setOpacity(t.div,this.opacity)},this)},ee.layers.AbstractOverlay.prototype.getTilesById=function(){return this.tilesById},ee.layers.AbstractOverlay.prototype.getStats=function(){return this.stats},ee.layers.AbstractOverlay.prototype.getTile=function(e,t,i){var n=1<<t;if(t<this.minZoom||0>e.y||e.y>=n)return i.createElement("div");var r=e.x%n;0>r&&(r+=n);var u=new google.maps.Point(r,e.y),d=this.getUniqueTileId_(e,t),c=this.createTile(u,t,i,d);return c.tileSize=this.tileSize,goog.style.setOpacity(c.div,this.opacity),this.tilesById.set(d,c),this.registerStatusChangeListener_(c),this.dispatchEvent(new ee.layers.TileStartEvent(this.getLoadingTilesCount())),this.tileSource.loadTile(c,new Date().getTime()/1e3),c.div},ee.layers.AbstractOverlay.prototype.releaseTile=function(e){var t=this.tilesById.get(e.id);this.tilesById.remove(e.id),t&&(t.abort(),module$contents$goog$dispose_dispose(t))},ee.layers.AbstractOverlay.prototype.registerStatusChangeListener_=function(e){this.handler.listen(e,ee.layers.AbstractTile.EventType.STATUS_CHANGED,function(){var t=ee.layers.AbstractTile.Status;switch(e.getStatus()){case t.LOADED:this.stats.addTileStats(e.loadingStartTs_,new Date().getTime(),e.zoom),this.dispatchEvent(new ee.layers.TileLoadEvent(this.getLoadingTilesCount()));break;case t.THROTTLED:this.stats.incrementThrottleCounter(e.zoom),this.dispatchEvent(new ee.layers.TileThrottleEvent(e.sourceUrl));break;case t.FAILED:this.stats.incrementErrorCounter(e.zoom),this.dispatchEvent(new ee.layers.TileFailEvent(e.sourceUrl,e.errorMessage_));break;case t.ABORTED:this.dispatchEvent(new ee.layers.TileAbortEvent(this.getLoadingTilesCount()))}})},ee.layers.AbstractOverlay.prototype.getUniqueTileId_=function(e,t){var i=[e.x,e.y,t,this.tileCounter++].join("-"),n=this.tileSource.getUniqueId();return[i,n].join("-")},ee.layers.AbstractOverlay.prototype.disposeInternal=function(){goog.events.EventTarget.prototype.disposeInternal.call(this),this.tilesById.forEach(module$contents$goog$dispose_dispose),this.tilesById.clear(),this.tilesById=null,module$contents$goog$dispose_dispose(this.handler),this.tileSource=this.handler=null},ee.layers.AbstractOverlay.prototype.getTileCountForStatus_=function(e){return module$contents$goog$array_count(this.tilesById.getValues(),function(t){return t.getStatus()==e})},goog.exportSymbol("ee.layers.AbstractOverlay",ee.layers.AbstractOverlay),goog.exportProperty(ee.layers.AbstractOverlay.prototype,"removeTileCallback",ee.layers.AbstractOverlay.prototype.removeTileCallback),goog.exportProperty(ee.layers.AbstractOverlay.prototype,"addTileCallback",ee.layers.AbstractOverlay.prototype.addTileCallback),ee.layers.AbstractOverlay.EventType={TILE_FAIL:"tile-fail",TILE_ABORT:"tile-abort",TILE_THROTTLE:"tile-throttle",TILE_LOAD:"tile-load",TILE_START:"tile-start"},ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH=256,ee.layers.TileLoadEvent=function(e){goog.events.Event.call(this,ee.layers.AbstractOverlay.EventType.TILE_LOAD),this.loadingTileCount=e},$jscomp.inherits(ee.layers.TileLoadEvent,goog.events.Event),ee.layers.TileStartEvent=function(e){goog.events.Event.call(this,ee.layers.AbstractOverlay.EventType.TILE_START),this.loadingTileCount=e},$jscomp.inherits(ee.layers.TileStartEvent,goog.events.Event),ee.layers.TileThrottleEvent=function(e){goog.events.Event.call(this,ee.layers.AbstractOverlay.EventType.TILE_THROTTLE),this.tileUrl=e},$jscomp.inherits(ee.layers.TileThrottleEvent,goog.events.Event),ee.layers.TileFailEvent=function(e,t){goog.events.Event.call(this,ee.layers.AbstractOverlay.EventType.TILE_FAIL),this.tileUrl=e,this.errorMessage=t},$jscomp.inherits(ee.layers.TileFailEvent,goog.events.Event),ee.layers.TileAbortEvent=function(e){goog.events.Event.call(this,ee.layers.AbstractOverlay.EventType.TILE_ABORT),this.loadingTileCount=e},$jscomp.inherits(ee.layers.TileAbortEvent,goog.events.Event),ee.layers.AbstractTile=function(e,t,i,n){goog.events.EventTarget.call(this),this.coord=e,this.zoom=t,this.div=i.createElement("div"),this.div.id=n,this.maxRetries=ee.layers.AbstractTile.DEFAULT_MAX_LOAD_RETRIES_,this.renderer=function(){},this.status_=ee.layers.AbstractTile.Status.NEW,this.retryAttemptCount_=0,this.isRetrying_=!1},$jscomp.inherits(ee.layers.AbstractTile,goog.events.EventTarget),ee.layers.AbstractTile.prototype.getDiv=function(){return this.div},ee.layers.AbstractTile.prototype.startLoad=function(){var e=this;if(!this.isRetrying_&&this.getStatus()==ee.layers.AbstractTile.Status.LOADING)throw Error("startLoad() can only be invoked once. Use retryLoad() after the first attempt.");this.setStatus(ee.layers.AbstractTile.Status.LOADING),this.loadingStartTs_=new Date().getTime(),this.xhrIo_=new goog.net.XhrIo,this.xhrIo_.setResponseType(goog.net.XhrIo.ResponseType.BLOB),this.xhrIo_.listen(goog.net.EventType.COMPLETE,function(t){var i=e.xhrIo_.getResponse(),n=e.xhrIo_.getStatus(),r=goog.net.HttpStatus;if(n==r.TOO_MANY_REQUESTS&&e.setStatus(ee.layers.AbstractTile.Status.THROTTLED),r.isSuccess(n)){var u={};module$contents$goog$object_forEach(e.xhrIo_.getResponseHeaders(),function(c,b){u[b.toLowerCase()]=c}),e.sourceResponseHeaders=u,e.sourceData=i,e.finishLoad()}else if(i){var d=new goog.fs.FileReader;d.listen(goog.fs.FileReader.EventType.LOAD_END,function(){e.retryLoad(d.getResult())},void 0),d.readAsText(i)}else e.retryLoad("Failed to load tile.")},!1),this.xhrIo_.listenOnce(goog.net.EventType.READY,goog.partial(module$contents$goog$dispose_dispose,this.xhrIo_)),this.sourceUrl&&this.sourceUrl.endsWith("&profiling=1")&&(this.sourceUrl=this.sourceUrl.replace("&profiling=1",""),this.xhrIo_.headers.set(module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER,"1")),this.xhrIo_.send(this.sourceUrl,"GET")},ee.layers.AbstractTile.prototype.finishLoad=function(){this.renderer(this),this.setStatus(ee.layers.AbstractTile.Status.LOADED)},ee.layers.AbstractTile.prototype.cancelLoad=function(){module$contents$goog$dispose_dispose(this.xhrIo_)},ee.layers.AbstractTile.prototype.retryLoad=function(e){var t=function(i){try{if(i=JSON.parse(i),i.error&&i.error.message)return i.error.message}catch{}return i};this.retryAttemptCount_>=this.maxRetries?(this.errorMessage_=t(e),this.setStatus(ee.layers.AbstractTile.Status.FAILED)):(this.cancelLoad(),setTimeout(goog.bind(function(){this.isDisposed()||(this.isRetrying_=!0,this.startLoad(),this.isRetrying_=!1)},this),1e3*Math.pow(2,this.retryAttemptCount_++)))},ee.layers.AbstractTile.prototype.abort=function(){this.cancelLoad(),this.getStatus()!=ee.layers.AbstractTile.Status.ABORTED&&this.getStatus()!=ee.layers.AbstractTile.Status.REMOVED&&this.setStatus(this.isDone()?ee.layers.AbstractTile.Status.REMOVED:ee.layers.AbstractTile.Status.ABORTED)},ee.layers.AbstractTile.prototype.isDone=function(){return this.status_ in ee.layers.AbstractTile.DONE_STATUS_SET_},ee.layers.AbstractTile.prototype.getStatus=function(){return this.status_},ee.layers.AbstractTile.prototype.setStatus=function(e){this.status_=e,this.dispatchEvent(ee.layers.AbstractTile.EventType.STATUS_CHANGED)},ee.layers.AbstractTile.prototype.disposeInternal=function(){goog.events.EventTarget.prototype.disposeInternal.call(this),this.cancelLoad(),this.div.remove(),this.renderer=null},ee.layers.AbstractTile.EventType={STATUS_CHANGED:"status-changed"},ee.layers.AbstractTile.Status={NEW:"new",LOADING:"loading",THROTTLED:"throttled",LOADED:"loaded",FAILED:"failed",ABORTED:"aborted",REMOVED:"removed"},ee.layers.AbstractTile.DONE_STATUS_SET_=module$contents$goog$object_createSet(ee.layers.AbstractTile.Status.ABORTED,ee.layers.AbstractTile.Status.FAILED,ee.layers.AbstractTile.Status.LOADED,ee.layers.AbstractTile.Status.REMOVED),ee.layers.AbstractTile.DEFAULT_MAX_LOAD_RETRIES_=5;var module$exports$ee$layers$AbstractTileSource=function(){goog.Disposable.call(this)};$jscomp.inherits(module$exports$ee$layers$AbstractTileSource,goog.Disposable),ee.layers.BinaryOverlay=function(e,t){ee.layers.AbstractOverlay.call(this,e,t),this.buffersByCoord_=new goog.structs.Map,this.divsByCoord_=new goog.structs.Map},$jscomp.inherits(ee.layers.BinaryOverlay,ee.layers.AbstractOverlay),ee.layers.BinaryOverlay.prototype.createTile=function(e,t,i,n){var r=new ee.layers.BinaryTile(e,t,i,n);return this.handler.listen(r,ee.layers.AbstractTile.EventType.STATUS_CHANGED,function(){r.getStatus()==ee.layers.AbstractTile.Status.LOADED&&(this.buffersByCoord_.set(e,new Float32Array(r.buffer_)),this.divsByCoord_.set(e,r.div))}),r},ee.layers.BinaryOverlay.prototype.getBuffersByCoord=function(){return this.buffersByCoord_},ee.layers.BinaryOverlay.prototype.getDivsByCoord=function(){return this.divsByCoord_},ee.layers.BinaryOverlay.prototype.disposeInternal=function(){ee.layers.AbstractOverlay.prototype.disposeInternal.call(this),this.divsByCoord_=this.buffersByCoord_=null},goog.exportSymbol("ee.layers.BinaryOverlay",ee.layers.BinaryOverlay),ee.layers.BinaryTile=function(e,t,i,n){ee.layers.AbstractTile.call(this,e,t,i,n)},$jscomp.inherits(ee.layers.BinaryTile,ee.layers.AbstractTile),ee.layers.BinaryTile.prototype.finishLoad=function(){var e=new goog.fs.FileReader;e.listen(goog.fs.FileReader.EventType.LOAD_END,function(){this.buffer_=e.getResult(),ee.layers.AbstractTile.prototype.finishLoad.call(this)},void 0,this),e.readAsArrayBuffer(this.sourceData)},goog.net.ImageLoader=function(e){goog.events.EventTarget.call(this),this.imageIdToRequestMap_={},this.imageIdToImageMap_={},this.handler_=new goog.events.EventHandler(this),this.parent_=e,this.completionFired_=!1},goog.inherits(goog.net.ImageLoader,goog.events.EventTarget),goog.net.ImageLoader.CorsRequestType={ANONYMOUS:"anonymous",USE_CREDENTIALS:"use-credentials"},goog.net.ImageLoader.IMAGE_LOAD_EVENTS_=[goog.events.EventType.LOAD,goog.net.EventType.ABORT,goog.net.EventType.ERROR],goog.net.ImageLoader.prototype.addImage=function(e,t,i){var n=typeof t=="string"?t:t.src;n&&(this.completionFired_=!1,this.imageIdToRequestMap_[e]={src:n,corsRequestType:i!==void 0?i:null})},goog.net.ImageLoader.prototype.removeImage=function(e){delete this.imageIdToRequestMap_[e];var t=this.imageIdToImageMap_[e];t&&(delete this.imageIdToImageMap_[e],this.handler_.unlisten(t,goog.net.ImageLoader.IMAGE_LOAD_EVENTS_,this.onNetworkEvent_))},goog.net.ImageLoader.prototype.start=function(){var e=this.imageIdToRequestMap_;module$contents$goog$object_getKeys(e).forEach(function(t){var i=e[t];i&&(delete e[t],this.loadImage_(i,t))},this)},goog.net.ImageLoader.prototype.loadImage_=function(e,t){if(!this.isDisposed()){var i=this.parent_?goog.dom.getDomHelper(this.parent_).createDom(goog.dom.TagName.IMG):new Image;e.corsRequestType&&(i.crossOrigin=e.corsRequestType),this.handler_.listen(i,goog.net.ImageLoader.IMAGE_LOAD_EVENTS_,this.onNetworkEvent_),this.imageIdToImageMap_[t]=i,i.id=t,i.src=e.src}},goog.net.ImageLoader.prototype.onNetworkEvent_=function(e){var t=e.currentTarget;if(t){if(e.type==goog.net.EventType.READY_STATE_CHANGE)if(t.readyState==goog.net.EventType.COMPLETE)e.type=goog.events.EventType.LOAD;else return;typeof t.naturalWidth>"u"&&(e.type==goog.events.EventType.LOAD?(t.naturalWidth=t.width,t.naturalHeight=t.height):(t.naturalWidth=0,t.naturalHeight=0)),this.removeImage(t.id),this.dispatchEvent({type:e.type,target:t}),this.isDisposed()||this.maybeFireCompletionEvent_()}},goog.net.ImageLoader.prototype.maybeFireCompletionEvent_=function(){module$contents$goog$object_isEmpty(this.imageIdToImageMap_)&&module$contents$goog$object_isEmpty(this.imageIdToRequestMap_)&&!this.completionFired_&&(this.completionFired_=!0,this.dispatchEvent(goog.net.EventType.COMPLETE))},goog.net.ImageLoader.prototype.disposeInternal=function(){delete this.imageIdToRequestMap_,delete this.imageIdToImageMap_,module$contents$goog$dispose_dispose(this.handler_),goog.net.ImageLoader.superClass_.disposeInternal.call(this)},ee.layers.ImageOverlay=function(e,t){ee.layers.AbstractOverlay.call(this,e,t)},$jscomp.inherits(ee.layers.ImageOverlay,ee.layers.AbstractOverlay),ee.layers.ImageOverlay.prototype.createTile=function(e,t,i,n){return new ee.layers.ImageTile(e,t,i,n)},goog.exportSymbol("ee.layers.ImageOverlay",ee.layers.ImageOverlay),ee.layers.ImageTile=function(e,t,i,n){ee.layers.AbstractTile.call(this,e,t,i,n),this.renderer=ee.layers.ImageTile.defaultRenderer_,this.imageLoaderListenerKey_=this.imageLoader_=this.imageEl=null,this.objectUrl_=""},$jscomp.inherits(ee.layers.ImageTile,ee.layers.AbstractTile),ee.layers.ImageTile.prototype.finishLoad=function(){try{var e=goog.html.SafeUrl.fromBlob(this.sourceData);this.objectUrl_=goog.html.SafeUrl.unwrap(e);var t=this.objectUrl_!==goog.html.SafeUrl.INNOCUOUS_STRING?this.objectUrl_:this.sourceUrl}catch{t=this.sourceUrl}this.imageLoader_=new goog.net.ImageLoader,this.imageLoader_.addImage(this.div.id+"-image",t),this.imageLoaderListenerKey_=goog.events.listenOnce(this.imageLoader_,ee.layers.ImageTile.IMAGE_LOADER_EVENTS_,function(i){i.type==goog.events.EventType.LOAD?(this.imageEl=i.target,ee.layers.AbstractTile.prototype.finishLoad.call(this)):this.retryLoad()},void 0,this),this.imageLoader_.start()},ee.layers.ImageTile.prototype.cancelLoad=function(){ee.layers.AbstractTile.prototype.cancelLoad.call(this),this.imageLoader_&&(goog.events.unlistenByKey(this.imageLoaderListenerKey_),module$contents$goog$dispose_dispose(this.imageLoader_))},ee.layers.ImageTile.prototype.disposeInternal=function(){ee.layers.AbstractTile.prototype.disposeInternal.call(this),this.objectUrl_&&URL.revokeObjectURL(this.objectUrl_)},ee.layers.ImageTile.defaultRenderer_=function(e){e.div.appendChild(e.imageEl)},ee.layers.ImageTile.IMAGE_LOADER_EVENTS_=[goog.events.EventType.LOAD,goog.net.EventType.ABORT,goog.net.EventType.ERROR],goog.string.path={},goog.string.path.baseName=function(e){var t=e.lastIndexOf("/")+1;return e.slice(t)},goog.string.path.basename=goog.string.path.baseName,goog.string.path.dirname=function(e){var t=e.lastIndexOf("/")+1,i=e.slice(0,t);return/^\/+$/.test(i)||(i=i.replace(/\/+$/,"")),i},goog.string.path.extension=function(e){var t=goog.string.path.baseName(e).replace(/\.+/g,"."),i=t.lastIndexOf(".");return 0>=i?"":t.slice(i+1)},goog.string.path.join=function(e){for(var t=arguments[0],i=1;i<arguments.length;i++){var n=arguments[i];t=goog.string.startsWith(n,"/")?n:t==""||goog.string.endsWith(t,"/")?t+n:t+("/"+n)}return t},goog.string.path.normalizePath=function(e){if(e=="")return".";var t="";goog.string.startsWith(e,"/")&&(t="/",goog.string.startsWith(e,"//")&&!goog.string.startsWith(e,"///")&&(t="//"));for(var i=e.split("/"),n=[],r=0;r<i.length;r++){var u=i[r];u!=""&&u!="."&&(u!=".."||!t&&!n.length||module$contents$goog$array_peek(n)==".."?n.push(u):n.pop())}return t+n.join("/")||"."},goog.string.path.split=function(e){var t=goog.string.path.dirname(e),i=goog.string.path.baseName(e);return[t,i]};var module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource=function(e,t,i,n){module$exports$ee$layers$AbstractTileSource.call(this),this.bucket_=e,this.path_=t,this.suffix_=n||"",this.maxZoom_=i};$jscomp.inherits(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource,module$exports$ee$layers$AbstractTileSource),module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.loadTile=function(e,t){if(e.zoom<=this.maxZoom_)e.sourceUrl=this.getTileUrl_(e.coord,e.zoom);else{var i=e.zoom-this.maxZoom_,n=Math.pow(2,i),r=new google.maps.Point(Math.floor(e.coord.x/n),Math.floor(e.coord.y/n));e.sourceUrl=this.getTileUrl_(r,e.zoom-i),e.renderer=goog.partial(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.zoomTileRenderer_,this.maxZoom_)}var u=goog.bind(e.retryLoad,e);e.retryLoad=goog.bind(function(d){d&&(d.includes(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.MISSING_TILE_ERROR_)||d.includes(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.ACCESS_DENIED_ERROR_))?e.setStatus(ee.layers.AbstractTile.Status.LOADED):u(d)},e),e.startLoad()},module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.getUniqueId=function(){return[this.bucket_,this.path_,this.maxZoom_,this.suffix_].join("-")},module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.getTileUrl_=function(e,t){var i=goog.string.path.join(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.BASE_URL,this.bucket_,this.path_,String(t),String(e.x),String(e.y));return this.suffix_&&(i+=this.suffix_),i},module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.zoomTileRenderer_=function(e,t){if(!t.imageEl)throw Error("Tile must have an image element to be rendered.");var i=Math.pow(2,t.zoom-e),n=t.tileSize.width,r=t.div.ownerDocument.createElement("canvas");r.setAttribute("width",n),r.setAttribute("height",n),t.div.appendChild(r);var u=r.getContext("2d");u.imageSmoothingEnabled=!1,u.mozImageSmoothingEnabled=!1,u.webkitImageSmoothingEnabled=!1,u.drawImage(t.imageEl,n/i*(t.coord.x%i),n/i*(t.coord.y%i),n/i,n/i,0,0,n,n)},goog.exportSymbol("ee.layers.CloudStorageTileSource",module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource),module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.BASE_URL="https://storage.googleapis.com",module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.MISSING_TILE_ERROR_="The specified key does not exist.",module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.ACCESS_DENIED_ERROR_="AccessDenied",ee.layers.CloudStorageTileSource=module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource,goog.structs.Queue=function(){this.front_=[],this.back_=[]},goog.structs.Queue.prototype.maybeFlip_=function(){this.front_.length===0&&(this.front_=this.back_,this.front_.reverse(),this.back_=[])},goog.structs.Queue.prototype.enqueue=function(e){this.back_.push(e)},goog.structs.Queue.prototype.dequeue=function(){return this.maybeFlip_(),this.front_.pop()},goog.structs.Queue.prototype.peek=function(){return this.maybeFlip_(),module$contents$goog$array_peek(this.front_)},goog.structs.Queue.prototype.getCount=function(){return this.front_.length+this.back_.length},goog.structs.Queue.prototype.isEmpty=function(){return this.front_.length===0&&this.back_.length===0},goog.structs.Queue.prototype.clear=function(){this.front_=[],this.back_=[]},goog.structs.Queue.prototype.contains=function(e){return module$contents$goog$array_contains(this.front_,e)||module$contents$goog$array_contains(this.back_,e)},goog.structs.Queue.prototype.remove=function(e){return module$contents$goog$array_removeLast(this.front_,e)||module$contents$goog$array_remove(this.back_,e)},goog.structs.Queue.prototype.getValues=function(){for(var e=[],t=this.front_.length-1;0<=t;--t)e.push(this.front_[t]);var i=this.back_.length;for(t=0;t<i;++t)e.push(this.back_[t]);return e},goog.structs.Pool=function(e,t){if(goog.Disposable.call(this),this.minCount_=e||0,this.maxCount_=t||10,this.minCount_>this.maxCount_)throw Error(goog.structs.Pool.ERROR_MIN_MAX_);this.freeQueue_=new goog.structs.Queue,this.inUseSet_=new goog.structs.Set,this.delay=0,this.lastAccess=null,this.adjustForMinMax()},goog.inherits(goog.structs.Pool,goog.Disposable),goog.structs.Pool.ERROR_MIN_MAX_="[goog.structs.Pool] Min can not be greater than max",goog.structs.Pool.ERROR_DISPOSE_UNRELEASED_OBJS_="[goog.structs.Pool] Objects not released",goog.structs.Pool.prototype.setMinimumCount=function(e){if(e>this.maxCount_)throw Error(goog.structs.Pool.ERROR_MIN_MAX_);this.minCount_=e,this.adjustForMinMax()},goog.structs.Pool.prototype.setMaximumCount=function(e){if(e<this.minCount_)throw Error(goog.structs.Pool.ERROR_MIN_MAX_);this.maxCount_=e,this.adjustForMinMax()},goog.structs.Pool.prototype.setDelay=function(e){this.delay=e},goog.structs.Pool.prototype.getObject=function(){var e=Date.now();if(!(this.lastAccess!=null&&e-this.lastAccess<this.delay)){var t=this.removeFreeObject_();return t&&(this.lastAccess=e,this.inUseSet_.add(t)),t}},goog.structs.Pool.prototype.releaseObject=function(e){return this.inUseSet_.remove(e)?(this.addFreeObject(e),!0):!1},goog.structs.Pool.prototype.removeFreeObject_=function(){for(var e;0<this.getFreeCount()&&(e=this.freeQueue_.dequeue(),!this.objectCanBeReused(e));)this.adjustForMinMax();return!e&&this.getCount()<this.maxCount_&&(e=this.createObject()),e},goog.structs.Pool.prototype.addFreeObject=function(e){this.inUseSet_.remove(e),this.objectCanBeReused(e)&&this.getCount()<this.maxCount_?this.freeQueue_.enqueue(e):this.disposeObject(e)},goog.structs.Pool.prototype.adjustForMinMax=function(){for(var e=this.freeQueue_;this.getCount()<this.minCount_;)e.enqueue(this.createObject());for(;this.getCount()>this.maxCount_&&0<this.getFreeCount();)this.disposeObject(e.dequeue())},goog.structs.Pool.prototype.createObject=function(){return{}},goog.structs.Pool.prototype.disposeObject=function(e){if(typeof e.dispose=="function")e.dispose();else for(var t in e)e[t]=null},goog.structs.Pool.prototype.objectCanBeReused=function(e){return typeof e.canBeReused=="function"?e.canBeReused():!0},goog.structs.Pool.prototype.contains=function(e){return this.freeQueue_.contains(e)||this.inUseSet_.contains(e)},goog.structs.Pool.prototype.getCount=function(){return this.freeQueue_.getCount()+this.inUseSet_.getCount()},goog.structs.Pool.prototype.getInUseCount=function(){return this.inUseSet_.getCount()},goog.structs.Pool.prototype.getFreeCount=function(){return this.freeQueue_.getCount()},goog.structs.Pool.prototype.isEmpty=function(){return this.freeQueue_.isEmpty()&&this.inUseSet_.isEmpty()},goog.structs.Pool.prototype.disposeInternal=function(){if(goog.structs.Pool.superClass_.disposeInternal.call(this),0<this.getInUseCount())throw Error(goog.structs.Pool.ERROR_DISPOSE_UNRELEASED_OBJS_);delete this.inUseSet_;for(var e=this.freeQueue_;!e.isEmpty();)this.disposeObject(e.dequeue());delete this.freeQueue_},goog.structs.Node=function(e,t){this.key_=e,this.value_=t},goog.structs.Node.prototype.getKey=function(){return this.key_},goog.structs.Node.prototype.getValue=function(){return this.value_},goog.structs.Node.prototype.clone=function(){return new goog.structs.Node(this.key_,this.value_)};var module$contents$goog$structs$Heap_Heap=function(e){this.nodes_=[],e&&this.insertAll(e)};module$contents$goog$structs$Heap_Heap.prototype.insert=function(e,t){var i=new goog.structs.Node(e,t),n=this.nodes_;n.push(i),this.moveUp_(n.length-1)},module$contents$goog$structs$Heap_Heap.prototype.insertAll=function(e){if(e instanceof module$contents$goog$structs$Heap_Heap){var t=e.getKeys(),i=e.getValues();if(0>=this.getCount()){for(var n=this.nodes_,r=0;r<t.length;r++)n.push(new goog.structs.Node(t[r],i[r]));return}}else t=module$contents$goog$object_getKeys(e),i=module$contents$goog$object_getValues(e);for(var u=0;u<t.length;u++)this.insert(t[u],i[u])},module$contents$goog$structs$Heap_Heap.prototype.remove=function(){var e=this.nodes_,t=e.length,i=e[0];if(!(0>=t))return t==1?e.length=0:(e[0]=e.pop(),this.moveDown_(0)),i.getValue()},module$contents$goog$structs$Heap_Heap.prototype.peek=function(){var e=this.nodes_;if(e.length!=0)return e[0].getValue()},module$contents$goog$structs$Heap_Heap.prototype.peekKey=function(){return this.nodes_[0]&&this.nodes_[0].getKey()},module$contents$goog$structs$Heap_Heap.prototype.moveDown_=function(e){for(var t=this.nodes_,i=t.length,n=t[e];e<i>>1;){var r=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),d=u<i&&t[u].getKey()<t[r].getKey()?u:r;if(t[d].getKey()>n.getKey())break;t[e]=t[d],e=d}t[e]=n},module$contents$goog$structs$Heap_Heap.prototype.moveUp_=function(e){for(var t=this.nodes_,i=t[e];0<e;){var n=this.getParentIndex_(e);if(t[n].getKey()>i.getKey())t[e]=t[n],e=n;else break}t[e]=i},module$contents$goog$structs$Heap_Heap.prototype.getLeftChildIndex_=function(e){return 2*e+1},module$contents$goog$structs$Heap_Heap.prototype.getRightChildIndex_=function(e){return 2*e+2},module$contents$goog$structs$Heap_Heap.prototype.getParentIndex_=function(e){return e-1>>1},module$contents$goog$structs$Heap_Heap.prototype.getValues=function(){for(var e=this.nodes_,t=[],i=e.length,n=0;n<i;n++)t.push(e[n].getValue());return t},module$contents$goog$structs$Heap_Heap.prototype.getKeys=function(){for(var e=this.nodes_,t=[],i=e.length,n=0;n<i;n++)t.push(e[n].getKey());return t},module$contents$goog$structs$Heap_Heap.prototype.containsValue=function(e){return this.nodes_.some(function(t){return t.getValue()==e})},module$contents$goog$structs$Heap_Heap.prototype.containsKey=function(e){return this.nodes_.some(function(t){return t.getKey()==e})},module$contents$goog$structs$Heap_Heap.prototype.clone=function(){return new module$contents$goog$structs$Heap_Heap(this)},module$contents$goog$structs$Heap_Heap.prototype.getCount=function(){return this.nodes_.length},module$contents$goog$structs$Heap_Heap.prototype.isEmpty=function(){return this.nodes_.length===0},module$contents$goog$structs$Heap_Heap.prototype.clear=function(){this.nodes_.length=0},goog.structs.Heap=module$contents$goog$structs$Heap_Heap;var module$contents$goog$structs$PriorityQueue_PriorityQueue=function(){module$contents$goog$structs$Heap_Heap.apply(this,arguments)};$jscomp.inherits(module$contents$goog$structs$PriorityQueue_PriorityQueue,module$contents$goog$structs$Heap_Heap),module$contents$goog$structs$PriorityQueue_PriorityQueue.prototype.enqueue=function(e,t){this.insert(e,t)},module$contents$goog$structs$PriorityQueue_PriorityQueue.prototype.dequeue=function(){return this.remove()},goog.structs.PriorityQueue=module$contents$goog$structs$PriorityQueue_PriorityQueue,goog.structs.PriorityPool=function(e,t){this.delayTimeout_=void 0,this.requestQueue_=new module$contents$goog$structs$PriorityQueue_PriorityQueue,goog.structs.Pool.call(this,e,t)},goog.inherits(goog.structs.PriorityPool,goog.structs.Pool),goog.structs.PriorityPool.DEFAULT_PRIORITY_=100,goog.structs.PriorityPool.prototype.setDelay=function(e){goog.structs.PriorityPool.superClass_.setDelay.call(this,e),this.lastAccess!=null&&(goog.global.clearTimeout(this.delayTimeout_),this.delayTimeout_=goog.global.setTimeout(goog.bind(this.handleQueueRequests_,this),this.delay+this.lastAccess-Date.now()),this.handleQueueRequests_())},goog.structs.PriorityPool.prototype.getObject=function(e,t){if(!e){var i=goog.structs.PriorityPool.superClass_.getObject.call(this);return i&&this.delay&&(this.delayTimeout_=goog.global.setTimeout(goog.bind(this.handleQueueRequests_,this),this.delay)),i}this.requestQueue_.enqueue(t!==void 0?t:goog.structs.PriorityPool.DEFAULT_PRIORITY_,e),this.handleQueueRequests_()},goog.structs.PriorityPool.prototype.handleQueueRequests_=function(){for(var e=this.requestQueue_;0<e.getCount();){var t=this.getObject();if(t)e.dequeue().apply(this,[t]);else break}},goog.structs.PriorityPool.prototype.addFreeObject=function(e){goog.structs.PriorityPool.superClass_.addFreeObject.call(this,e),this.handleQueueRequests_()},goog.structs.PriorityPool.prototype.adjustForMinMax=function(){goog.structs.PriorityPool.superClass_.adjustForMinMax.call(this),this.handleQueueRequests_()},goog.structs.PriorityPool.prototype.disposeInternal=function(){goog.structs.PriorityPool.superClass_.disposeInternal.call(this),goog.global.clearTimeout(this.delayTimeout_),this.requestQueue_.clear(),this.requestQueue_=null};var module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource=function(e,t){module$exports$ee$layers$AbstractTileSource.call(this),this.mapId_=e,this.profiler_=t||null};$jscomp.inherits(module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource,module$exports$ee$layers$AbstractTileSource),module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.loadTile=function(e,t){var i=module$contents$ee$apiclient_apiclient.PROFILE_HEADER.toLowerCase(),n=goog.events.listen(e,ee.layers.AbstractTile.EventType.STATUS_CHANGED,function(){switch(e.getStatus()){case ee.layers.AbstractTile.Status.LOADED:var u=e.sourceResponseHeaders[i];this.profiler_&&u&&this.profiler_.addTile(e.div.id,u);break;case ee.layers.AbstractTile.Status.FAILED:case ee.layers.AbstractTile.Status.ABORTED:this.profiler_&&e.div.id!==""&&this.profiler_.removeTile(e.div.id),goog.events.unlistenByKey(n)}},void 0,this);e.sourceUrl=this.getTileUrl_(e.coord,e.zoom);var r=goog.bind(this.handleAvailableToken_,this,e);module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_().getObject(r,t)},module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.getUniqueId=function(){return this.mapId_.mapid+"-"+this.mapId_.token},module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.handleAvailableToken_=function(e,t){var i=module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_();if(e.isDisposed()||e.getStatus()==ee.layers.AbstractTile.Status.ABORTED)i.releaseObject(t);else{var n=goog.events.listen(e,ee.layers.AbstractTile.EventType.STATUS_CHANGED,function(){e.isDone()&&(goog.events.unlistenByKey(n),i.releaseObject(t))});e.startLoad()}},module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.getTileUrl_=function(e,t){var i=ee.data.getTileUrl(this.mapId_,e.x,e.y,t);return this.profiler_&&this.profiler_.isEnabled()?i+"&profiling=1":i},module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_=function(){return module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_||(module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_=new goog.structs.PriorityPool(0,module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_COUNT_)),module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_},goog.exportSymbol("ee.layers.EarthEngineTileSource",module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource),module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_=null,module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_COUNT_=4,ee.layers.EarthEngineTileSource=module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource,ee.layers.FeatureViewTileSource={};var module$contents$ee$layers$FeatureViewTileSource_FeatureViewTileSource=function(e){module$exports$ee$layers$AbstractTileSource.call(this),this.tilesKey_=e};$jscomp.inherits(module$contents$ee$layers$FeatureViewTileSource_FeatureViewTileSource,module$exports$ee$layers$AbstractTileSource),module$contents$ee$layers$FeatureViewTileSource_FeatureViewTileSource.prototype.loadTile=function(e,t){e.sourceUrl=this.tilesKey_.formatTileUrl(e.coord.x,e.coord.y,e.zoom),e.startLoad()},module$contents$ee$layers$FeatureViewTileSource_FeatureViewTileSource.prototype.getUniqueId=function(){return this.tilesKey_.token},goog.exportSymbol("ee.layers.FeatureViewTileSource",module$contents$ee$layers$FeatureViewTileSource_FeatureViewTileSource),ee.layers.FeatureViewTileSource.FeatureViewTileSource=module$contents$ee$layers$FeatureViewTileSource_FeatureViewTileSource,ee.MapTileManager=function(){goog.events.EventTarget.call(this),this.tokenPool_=new ee.MapTileManager.TokenPool_(0,60),this.requests_=new goog.structs.Map},$jscomp.inherits(ee.MapTileManager,goog.events.EventTarget),ee.MapTileManager.prototype.getOutstandingCount=function(){return this.requests_.getCount()},ee.MapTileManager.prototype.send=function(e,t,i,n,r){if(this.requests_.get(e))throw Error(ee.MapTileManager.ERROR_ID_IN_USE_);var u=new ee.MapTileManager.Request_(e,t,n,goog.bind(this.releaseRequest_,this),r!==void 0?r:ee.MapTileManager.MAX_RETRIES);this.requests_.set(e,u);var d=goog.bind(this.handleAvailableToken_,this,u);return this.tokenPool_.getObject(d,i),u},ee.MapTileManager.prototype.abort=function(e){var t=this.requests_.get(e);t&&(t.setAborted(!0),this.releaseRequest_(t))},ee.MapTileManager.prototype.handleAvailableToken_=function(e,t){if(e.getImageLoader()||e.getAborted())this.releaseObject_(t);else if(e.setToken(t),t.setActive(!0),e.setImageLoader(new goog.net.ImageLoader),!e.retry())throw Error("Cannot dispatch first request!")},ee.MapTileManager.prototype.releaseRequest_=function(e){this.requests_.remove(e.getId()),e.getImageLoader()&&(this.releaseObject_(e.getToken()),e.getImageLoader().dispose()),e.fireImageEventCallback()},ee.MapTileManager.prototype.releaseObject_=function(e){if(e.setActive(!1),!this.tokenPool_.releaseObject(e))throw Error("Object not released")},ee.MapTileManager.prototype.disposeInternal=function(){goog.events.EventTarget.prototype.disposeInternal.call(this),this.tokenPool_.dispose(),this.tokenPool_=null;var e=this.requests_;module$contents$goog$array_forEach(e.getValues(),function(t){t.dispose()}),e.clear(),this.requests_=null},ee.MapTileManager.getInstance=function(){return goog.singleton.getInstance(ee.MapTileManager)},goog.exportSymbol("ee.MapTileManager",ee.MapTileManager),ee.MapTileManager.MAX_RETRIES=1,ee.MapTileManager.ERROR_ID_IN_USE_="[ee.MapTileManager] ID in use",ee.MapTileManager.Request_=function(e,t,i,n,r){goog.Disposable.call(this),this.id_=e,this.url_=t,this.maxRetries_=r!==void 0?r:ee.MapTileManager.MAX_RETRIES,this.imageEventCallback_=i,this.requestCompleteCallback_=n},$jscomp.inherits(ee.MapTileManager.Request_,goog.Disposable),ee.MapTileManager.Request_.prototype.getImageLoader=function(){return this.imageLoader_},ee.MapTileManager.Request_.prototype.setImageLoader=function(e){this.imageLoader_=e},ee.MapTileManager.Request_.prototype.getToken=function(){return this.token_},ee.MapTileManager.Request_.prototype.setToken=function(e){this.token_=e},ee.MapTileManager.Request_.prototype.addImageEventListener=function(){goog.events.listenOnce(this.imageLoader_,ee.MapTileManager.Request_.IMAGE_LOADER_EVENT_TYPES_,goog.bind(this.handleImageEvent_,this))},ee.MapTileManager.Request_.prototype.fireImageEventCallback=function(){this.imageEventCallback_&&this.imageEventCallback_(this.event_,this.profileId_)},ee.MapTileManager.Request_.prototype.getId=function(){return this.id_},ee.MapTileManager.Request_.prototype.getUrl=function(){return this.url_},ee.MapTileManager.Request_.prototype.getMaxRetries=function(){return this.maxRetries_},ee.MapTileManager.Request_.prototype.getAttemptCount=function(){return this.attemptCount_},ee.MapTileManager.Request_.prototype.increaseAttemptCount=function(){this.attemptCount_++},ee.MapTileManager.Request_.prototype.hasReachedMaxRetries=function(){return this.attemptCount_>this.maxRetries_},ee.MapTileManager.Request_.prototype.setAborted=function(e){e&&!this.aborted_&&(this.aborted_=e,this.event_=new goog.events.Event(goog.net.EventType.ABORT))},ee.MapTileManager.Request_.prototype.getAborted=function(){return this.aborted_},ee.MapTileManager.Request_.prototype.handleImageEvent_=function(e){if(this.getAborted())this.markCompleted_();else switch(e.type){case goog.events.EventType.LOAD:this.handleSuccess_(e),this.markCompleted_();break;case goog.net.EventType.ERROR:case goog.net.EventType.ABORT:this.handleError_(e)}},ee.MapTileManager.Request_.prototype.markCompleted_=function(){this.requestCompleteCallback_&&this.requestCompleteCallback_(this)},ee.MapTileManager.Request_.prototype.handleSuccess_=function(e){this.event_=e},ee.MapTileManager.Request_.prototype.handleError_=function(e){this.retry()||(this.event_=e,this.markCompleted_())},ee.MapTileManager.Request_.prototype.disposeInternal=function(){goog.Disposable.prototype.disposeInternal.call(this),delete this.imageEventCallback_,delete this.requestCompleteCallback_},ee.MapTileManager.Request_.prototype.retry=function(){return this.hasReachedMaxRetries()?!1:(this.increaseAttemptCount(),this.imageLoader_.removeImage(this.id_),setTimeout(goog.bind(this.start_,this),0),!0)},ee.MapTileManager.Request_.prototype.start_=function(){if(!this.getAborted()){var e=goog.bind(function(n){this.getAborted()||(this.imageLoader_.addImage(this.id_,n),this.addImageEventListener(),this.imageLoader_.start())},this),t=this.getUrl();if(goog.Uri.parse(t).getQueryData().containsKey("profiling")){var i=new goog.net.XhrIo;i.setResponseType(goog.net.XhrIo.ResponseType.BLOB),i.listen(goog.net.EventType.COMPLETE,goog.bind(function(n){if(this.profileId_=i.getResponseHeader(module$contents$ee$apiclient_apiclient.PROFILE_HEADER)||null,200<=i.getStatus()&&300>i.getStatus())try{var r=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.fromBlob(i.getResponse())),u=r!==goog.html.SafeUrl.INNOCUOUS_STRING}catch{}e(u?r:t)},this)),i.listenOnce(goog.net.EventType.READY,goog.bind(i.dispose,i)),i.send(t,"GET")}else e(t)}},ee.MapTileManager.Request_.prototype.attemptCount_=0,ee.MapTileManager.Request_.prototype.aborted_=!1,ee.MapTileManager.Request_.prototype.imageLoader_=null,ee.MapTileManager.Request_.prototype.token_=null,ee.MapTileManager.Request_.prototype.event_=null,ee.MapTileManager.Request_.prototype.profileId_=null,ee.MapTileManager.Request_.IMAGE_LOADER_EVENT_TYPES_=[goog.events.EventType.LOAD,goog.net.EventType.ABORT,goog.net.EventType.ERROR],ee.MapTileManager.Token_=function(){goog.Disposable.call(this),this.active_=!1},$jscomp.inherits(ee.MapTileManager.Token_,goog.Disposable),ee.MapTileManager.Token_.prototype.setActive=function(e){this.active_=e},ee.MapTileManager.Token_.prototype.isActive=function(){return this.active_},ee.MapTileManager.TokenPool_=function(e,t){goog.structs.PriorityPool.call(this,e,t)},$jscomp.inherits(ee.MapTileManager.TokenPool_,goog.structs.PriorityPool),ee.MapTileManager.TokenPool_.prototype.createObject=function(){return new ee.MapTileManager.Token_},ee.MapTileManager.TokenPool_.prototype.disposeObject=function(e){e.dispose()},ee.MapTileManager.TokenPool_.prototype.objectCanBeReused=function(e){return!e.isDisposed()&&!e.isActive()},ee.MapLayerOverlay=function(e,t,i,n,r){if(ee.AbstractOverlay.call(this,e,t,i,n,r),this.minZoom=n.minZoom||0,this.maxZoom=n.maxZoom||20,!window.google||!window.google.maps)throw Error("Google Maps API hasn't been initialized.");this.tileSize=n.tileSize||new google.maps.Size(256,256),this.isPng=n.isPng!==void 0?n.isPng:!0,this.name=n.name,this.tiles_=new goog.structs.Set,this.opacity_=1,this.visible_=!0,this.profiler_=r||null},$jscomp.inherits(ee.MapLayerOverlay,ee.AbstractOverlay),ee.MapLayerOverlay.prototype.addTileCallback=function(e){return goog.events.listen(this,ee.AbstractOverlay.EventType.TILE_LOADED,e)},ee.MapLayerOverlay.prototype.removeTileCallback=function(e){goog.events.unlistenByKey(e)},ee.MapLayerOverlay.prototype.dispatchTileEvent_=function(){this.dispatchEvent(new ee.TileEvent(this.tilesLoading.length))},ee.MapLayerOverlay.prototype.getTile=function(e,t,i){if(t<this.minZoom||0>e.y||e.y>=1<<t){var n=i.createElement("IMG");return n.style.width="0px",n.style.height="0px",n}var r=this.profiler_&&this.profiler_.isEnabled(),u=this.getTileId(e,t),d=[this.url,u].join("/")+"?token="+this.token;r&&(d+="&profiling=1");var c=[u,this.tileCounter,this.token].join("/");this.tileCounter+=1;var b=goog.dom.createDom(goog.dom.TagName.DIV,{id:c}),S=new Date().getTime()/1e3;return this.tilesLoading.push(c),ee.MapTileManager.getInstance().send(c,d,S,goog.bind(this.handleImageCompleted_,this,b,c)),this.dispatchTileEvent_(),b},ee.MapLayerOverlay.prototype.getLoadedTilesCount=function(){return this.tiles_.getCount()},ee.MapLayerOverlay.prototype.getLoadingTilesCount=function(){return this.tilesLoading.length},ee.MapLayerOverlay.prototype.releaseTile=function(e){ee.MapTileManager.getInstance().abort(e.id),this.tiles_.remove(goog.dom.getFirstElementChild(e)),e.id!==""&&(this.tilesFailed.remove(e.id),this.profiler_&&this.profiler_.removeTile(e.id))},ee.MapLayerOverlay.prototype.setOpacity=function(e){this.opacity_=e;var t=this.tiles_.__iterator__();goog.iter.forEach(t,function(i){goog.style.setOpacity(i,e)})},ee.MapLayerOverlay.prototype.handleImageCompleted_=function(e,t,i,n){if(i.type==goog.net.EventType.ERROR)module$contents$goog$array_remove(this.tilesLoading,t),this.tilesFailed.add(t),this.dispatchEvent(i);else{if(module$contents$goog$array_remove(this.tilesLoading,t),i.target&&i.type==goog.events.EventType.LOAD){var r=i.target;this.tiles_.add(r),this.opacity_!=1&&goog.style.setOpacity(r,this.opacity_),e.appendChild(r)}this.dispatchTileEvent_()}this.profiler_&&n!==null&&this.profiler_.addTile(t,n)},goog.exportSymbol("ee.MapLayerOverlay",ee.MapLayerOverlay),goog.exportProperty(ee.MapLayerOverlay.prototype,"removeTileCallback",ee.MapLayerOverlay.prototype.removeTileCallback),goog.exportProperty(ee.MapLayerOverlay.prototype,"addTileCallback",ee.MapLayerOverlay.prototype.addTileCallback),goog.exportProperty(ee.MapLayerOverlay.prototype,"getTile",ee.MapLayerOverlay.prototype.getTile),goog.exportProperty(ee.MapLayerOverlay.prototype,"setOpacity",ee.MapLayerOverlay.prototype.setOpacity),goog.exportProperty(ee.MapLayerOverlay.prototype,"releaseTile",ee.MapLayerOverlay.prototype.releaseTile),goog.async.Delay=function(e,t,i){goog.Disposable.call(this),this.listener_=e,this.interval_=t||0,this.handler_=i,this.callback_=goog.bind(this.doAction_,this)},goog.inherits(goog.async.Delay,goog.Disposable),goog.async.Delay.prototype.id_=0,goog.async.Delay.prototype.disposeInternal=function(){goog.async.Delay.superClass_.disposeInternal.call(this),this.stop(),delete this.listener_,delete this.handler_},goog.async.Delay.prototype.start=function(e){this.stop(),this.id_=goog.Timer.callOnce(this.callback_,e!==void 0?e:this.interval_)},goog.async.Delay.prototype.startIfNotActive=function(e){this.isActive()||this.start(e)},goog.async.Delay.prototype.stop=function(){this.isActive()&&goog.Timer.clear(this.id_),this.id_=0},goog.async.Delay.prototype.fire=function(){this.stop(),this.doAction_()},goog.async.Delay.prototype.fireIfActive=function(){this.isActive()&&this.fire()},goog.async.Delay.prototype.isActive=function(){return this.id_!=0},goog.async.Delay.prototype.doAction_=function(){this.id_=0,this.listener_&&this.listener_.call(this.handler_)},ee.data.Profiler=function(e){goog.events.EventTarget.call(this),this.format_=e,this.isEnabled_=!1,this.lastRefreshToken_=null,this.profileIds_=Object.create(null),this.tileProfileIds_=Object.create(null),this.showInternal_=!1,this.profileError_=null,this.throttledRefresh_=new goog.async.Delay(goog.bind(this.refresh_,this),ee.data.Profiler.DELAY_BEFORE_REFRESH_),this.profileData_=ee.data.Profiler.getEmptyProfile_(e),this.MAX_RETRY_COUNT_=5},$jscomp.inherits(ee.data.Profiler,goog.events.EventTarget),ee.data.Profiler.prototype.isEnabled=function(){return this.isEnabled_},ee.data.Profiler.prototype.setEnabled=function(e){this.isEnabled_=!!e,this.dispatchEvent(new goog.events.Event(ee.data.Profiler.EventType.STATE_CHANGED))},ee.data.Profiler.prototype.isLoading=function(){return this.lastRefreshToken_!==null},ee.data.Profiler.prototype.isError=function(){return this.profileError_!=null},ee.data.Profiler.prototype.getStatusText=function(){if(this.profileError_)return this.profileError_;if(this.lastRefreshToken_)return"Loading...";var e=0,t=0,i=0;return module$contents$goog$object_forEach(this.profileIds_,function(n){e++,n===1/0?t++:i++},this),"Viewing "+e+" profiles, "+t+" from API calls and "+i+" from map tiles."},ee.data.Profiler.prototype.getProfileData=function(){return this.profileData_},ee.data.Profiler.prototype.clearAndDrop=function(){this.profileIds_=Object.create(null),this.tileProfileIds_=Object.create(null),this.refresh_()},ee.data.Profiler.prototype.getProfileHook=function(){var e=this.profileIds_;return this.isEnabled_?goog.bind(function(t){e[t]=1/0,this.throttledRefresh_.start()},this):null},ee.data.Profiler.prototype.removeProfile_=function(e){var t=this.profileIds_[e];1<t?this.profileIds_[e]--:t!==void 0&&(delete this.profileIds_[e],this.throttledRefresh_.start())},ee.data.Profiler.prototype.refresh_=function(e){var t=this;e=e===void 0?0:e;var i={};this.lastRefreshToken_=i;var n=function(u,d){i==t.lastRefreshToken_&&(d&&typeof e=="number"&&e<t.MAX_RETRY_COUNT_?goog.Timer.callOnce(goog.bind(t.refresh_,t,e+1),2*ee.data.Profiler.DELAY_BEFORE_REFRESH_):(t.profileError_=d||null,t.profileData_=d?ee.data.Profiler.getEmptyProfile_(t.format_):u,t.lastRefreshToken_=null,t.dispatchEvent(ee.data.Profiler.EventType.STATE_CHANGED),t.dispatchEvent(ee.data.Profiler.EventType.DATA_CHANGED)))},r=module$contents$goog$object_getKeys(this.profileIds_);r.length===0?n(ee.data.Profiler.getEmptyProfile_(this.format_),void 0):(ee.ApiFunction._apply(this.showInternal_?"Profile.getProfilesInternal":"Profile.getProfiles",{ids:r,format:this.format_.toString()}).getInfo(n),this.dispatchEvent(ee.data.Profiler.EventType.STATE_CHANGED))},ee.data.Profiler.prototype.addTile=function(e,t){this.tileProfileIds_[e]||(this.tileProfileIds_[e]=t,this.profileIds_[t]=(this.profileIds_[t]||0)+1,this.throttledRefresh_.start())},ee.data.Profiler.prototype.removeTile=function(e){var t=this.tileProfileIds_[e];t&&(delete this.tileProfileIds_[e],this.removeProfile_(t))},ee.data.Profiler.prototype.getShowInternal=function(){return this.showInternal_},ee.data.Profiler.prototype.setShowInternal=function(e){this.showInternal_=!!e,this.throttledRefresh_.fire()},ee.data.Profiler.prototype.setParentEventTarget=function(e){throw Error("not applicable")},ee.data.Profiler.getEmptyProfile_=function(e){switch(e){case ee.data.Profiler.Format.TEXT:return"";case ee.data.Profiler.Format.JSON:return ee.data.Profiler.EMPTY_JSON_PROFILE_;default:throw Error("Invalid Profiler data format: "+e)}},ee.data.Profiler.DELAY_BEFORE_REFRESH_=500,ee.data.Profiler.EMPTY_JSON_PROFILE_={cols:[],rows:[]},ee.data.Profiler.EventType={STATE_CHANGED:"statechanged",DATA_CHANGED:"datachanged"},ee.data.Profiler.Format=function(e){this.format_=e},ee.data.Profiler.Format.prototype.toString=function(){return this.format_},ee.data.Profiler.Format.TEXT=new ee.data.Profiler.Format("text"),ee.data.Profiler.Format.JSON=new ee.data.Profiler.Format("json"),function(){var e={},t="ee.ApiFunction.lookup ee.ApiFunction._apply ee.ApiFunction._call ee.batch.Export.image.toDrive ee.batch.Export.table.toAsset ee.batch.Export.classifier.toAsset ee.batch.Export.table.toDrive ee.batch.Export.video.toDrive ee.batch.Export.table.toFeatureView ee.batch.Export.videoMap.toCloudStorage ee.batch.Export.image.toAsset ee.batch.Export.image.toCloudStorage ee.batch.Export.video.toCloudStorage ee.batch.Export.map.toCloudStorage ee.batch.Export.table.toCloudStorage ee.Collection.prototype.map ee.Collection.prototype.filter ee.Collection.prototype.limit ee.Collection.prototype.iterate ee.Collection.prototype.filterMetadata ee.Collection.prototype.filterDate ee.Collection.prototype.sort ee.Collection.prototype.filterBounds ee.ComputedObject.prototype.evaluate ee.ComputedObject.prototype.aside ee.ComputedObject.prototype.getInfo ee.ComputedObject.prototype.serialize ee.data.getOperation ee.data.getList ee.data.listAssets ee.data.makeDownloadUrl ee.data.getAssetRoots ee.data.getMapId ee.data.startIngestion ee.data.createAssetHome ee.data.getAssetAcl ee.data.cancelOperation ee.data.listOperations ee.data.authenticate ee.data.listFeatures ee.data.setAssetAcl ee.data.getTaskList ee.data.createAsset ee.data.deleteAsset ee.data.makeThumbUrl ee.data.authenticateViaOauth ee.data.getFilmstripThumbId ee.data.getVideoThumbId ee.data.resetWorkloadTag ee.data.getThumbId ee.data.getFeatureViewTilesKey ee.data.setDefaultWorkloadTag ee.data.createFolder ee.data.setWorkloadTag ee.data.authenticateViaPopup ee.data.updateTask ee.data.startProcessing ee.data.copyAsset ee.data.getWorkloadTag ee.data.renameAsset ee.data.getTaskListWithLimit ee.data.getTileUrl ee.data.getTableDownloadId ee.data.computeValue ee.data.authenticateViaPrivateKey ee.data.getTaskStatus ee.data.getInfo ee.data.updateAsset ee.data.makeTableDownloadUrl ee.data.setAssetProperties ee.data.getAsset ee.data.getAssetRootQuota ee.data.startTableIngestion ee.data.listImages ee.data.newTaskId ee.data.cancelTask ee.data.listBuckets ee.data.getDownloadId ee.Date ee.Deserializer.fromCloudApiJSON ee.Deserializer.decode ee.Deserializer.fromJSON ee.Deserializer.decodeCloudApi ee.Dictionary ee.apply ee.call ee.initialize ee.TILE_SIZE ee.Algorithms ee.reset ee.InitState ee.Element.prototype.set ee.Feature ee.Feature.prototype.getMap ee.Feature.prototype.getInfo ee.FeatureCollection.prototype.select ee.FeatureCollection ee.FeatureCollection.prototype.getInfo ee.FeatureCollection.prototype.getDownloadURL ee.FeatureCollection.prototype.getMap ee.Filter.lt ee.Filter.and ee.Filter.or ee.Filter.gte ee.Filter.date ee.Filter.inList ee.Filter.prototype.not ee.Filter ee.Filter.metadata ee.Filter.eq ee.Filter.neq ee.Filter.bounds ee.Filter.gt ee.Filter.lte ee.Function.prototype.call ee.Function.prototype.apply ee.Geometry.Polygon ee.Geometry.prototype.toGeoJSON ee.Geometry.prototype.toGeoJSONString ee.Geometry.BBox ee.Geometry.LinearRing ee.Geometry.Point ee.Geometry.prototype.serialize ee.Geometry.MultiPolygon ee.Geometry ee.Geometry.MultiPoint ee.Geometry.MultiLineString ee.Geometry.Rectangle ee.Geometry.LineString ee.Image.prototype.clip ee.Image.prototype.expression ee.Image.prototype.rename ee.Image ee.Image.prototype.getMap ee.Image.prototype.getDownloadURL ee.Image.rgb ee.Image.prototype.getInfo ee.Image.prototype.getThumbURL ee.Image.prototype.getThumbId ee.Image.prototype.select ee.Image.cat ee.ImageCollection.prototype.getFilmstripThumbURL ee.ImageCollection.prototype.getVideoThumbURL ee.ImageCollection.prototype.getMap ee.ImageCollection.prototype.getInfo ee.ImageCollection.prototype.first ee.ImageCollection.prototype.select ee.ImageCollection ee.List ee.Number ee.Serializer.encode ee.Serializer.toJSON ee.Serializer.toReadableJSON ee.Serializer.encodeCloudApi ee.Serializer.toReadableCloudApiJSON ee.Serializer.encodeCloudApiPretty ee.Serializer.toCloudApiJSON ee.String ee.Terrain".split(" "),i=[["name"],["name","namedArgs"],["name","var_args"],"image opt_description opt_folder opt_fileNamePrefix opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize opt_fileDimensions opt_skipEmptyTiles opt_fileFormat opt_formatOptions".split(" "),["collection","opt_description","opt_assetId","opt_maxVertices"],["classifier","opt_description","opt_assetId"],"collection opt_description opt_folder opt_fileNamePrefix opt_fileFormat opt_selectors opt_maxVertices".split(" "),"collection opt_description opt_folder opt_fileNamePrefix opt_framesPerSecond opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_maxFrames".split(" "),"collection opt_description opt_assetId opt_maxFeaturesPerTile opt_thinningStrategy opt_thinningRanking opt_zOrderRanking".split(" "),"collection opt_description opt_bucket opt_fileNamePrefix opt_framesPerSecond opt_writePublicTiles opt_minZoom opt_maxZoom opt_scale opt_region opt_skipEmptyTiles opt_minTimeMachineZoomSubset opt_maxTimeMachineZoomSubset opt_tileWidth opt_tileHeight opt_tileStride opt_videoFormat opt_version opt_mapsApiKey opt_bucketCorsUris".split(" "),"image opt_description opt_assetId opt_pyramidingPolicy opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize".split(" "),"image opt_description opt_bucket opt_fileNamePrefix opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize opt_fileDimensions opt_skipEmptyTiles opt_fileFormat opt_formatOptions".split(" "),"collection opt_description opt_bucket opt_fileNamePrefix opt_framesPerSecond opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_maxFrames".split(" "),"image opt_description opt_bucket opt_fileFormat opt_path opt_writePublicTiles opt_scale opt_maxZoom opt_minZoom opt_region opt_skipEmptyTiles opt_mapsApiKey opt_bucketCorsUris".split(" "),"collection opt_description opt_bucket opt_fileNamePrefix opt_fileFormat opt_selectors opt_maxVertices".split(" "),["algorithm","opt_dropNulls"],["filter"],["max","opt_property","opt_ascending"],["algorithm","opt_first"],["name","operator","value"],["start","opt_end"],["property","opt_ascending"],["geometry"],["callback"],["func","var_args"],["opt_callback"],["legacy"],["operationName","opt_callback"],["params","opt_callback"],["parent","opt_params","opt_callback"],["id"],["opt_callback"],["params","opt_callback"],["taskId","request","opt_callback"],["requestedId","opt_callback"],["assetId","opt_callback"],["operationName","opt_callback"],["opt_limit","opt_callback"],["clientId","success","opt_error","opt_extraScopes","opt_onImmediateFailed"],["asset","params","opt_callback"],["assetId","aclUpdate","opt_callback"],["opt_callback"],["value","opt_path","opt_force","opt_properties","opt_callback"],["assetId","opt_callback"],["id"],"clientId success opt_error opt_extraScopes opt_onImmediateFailed opt_suppressDefaultScopes".split(" "),["params","opt_callback"],["params","opt_callback"],["opt_resetDefault"],["params","opt_callback"],["params","opt_callback"],["tag"],["path","opt_force","opt_callback"],["tag"],["opt_success","opt_error"],["taskId","action","opt_callback"],["taskId","params","opt_callback"],["sourceId","destinationId","opt_overwrite","opt_callback"],[],["sourceId","destinationId","opt_callback"],["opt_limit","opt_callback"],["id","x","y","z"],["params","opt_callback"],["obj","opt_callback"],["privateKey","opt_success","opt_error","opt_extraScopes","opt_suppressDefaultScopes"],["taskId","opt_callback"],["id","opt_callback"],["assetId","asset","updateFields","opt_callback"],["id"],["assetId","properties","opt_callback"],["id","opt_callback"],["rootId","opt_callback"],["taskId","request","opt_callback"],["parent","opt_params","opt_callback"],["opt_count","opt_callback"],["taskId","opt_callback"],["project","opt_callback"],["params","opt_callback"],["date","opt_tz"],["json"],["json"],["json"],["json"],["opt_dict"],["func","namedArgs"],["func","var_args"],"opt_baseurl opt_tileurl opt_successCallback opt_errorCallback opt_xsrfToken opt_project".split(" "),[],[],[],[],["var_args"],["geometry","opt_properties"],["opt_visParams","opt_callback"],["opt_callback"],["propertySelectors","opt_newProperties","opt_retainGeometry"],["args","opt_column"],["opt_callback"],["opt_format","opt_selectors","opt_filename","opt_callback"],["opt_visParams","opt_callback"],["name","value"],["var_args"],["var_args"],["name","value"],["start","opt_end"],["opt_leftField","opt_rightValue","opt_rightField","opt_leftValue"],[],["opt_filter"],["name","operator","value"],["name","value"],["name","value"],["geometry","opt_errorMargin"],["name","value"],["name","value"],["var_args"],["namedArgs"],["coords","opt_proj","opt_geodesic","opt_maxError","opt_evenOdd"],[],[],["west","south","east","north"],["coords","opt_proj","opt_geodesic","opt_maxError"],["coords","opt_proj"],["legacy"],["coords","opt_proj","opt_geodesic","opt_maxError","opt_evenOdd"],["geoJson","opt_proj","opt_geodesic","opt_evenOdd"],["coords","opt_proj"],["coords","opt_proj","opt_geodesic","opt_maxError"],["coords","opt_proj","opt_geodesic","opt_evenOdd"],["coords","opt_proj","opt_geodesic","opt_maxError"],["geometry"],["expression","opt_map"],["var_args"],["opt_args"],["opt_visParams","opt_callback"],["params","opt_callback"],["r","g","b"],["opt_callback"],["params","opt_callback"],["params","opt_callback"],["var_args"],["var_args"],["params","opt_callback"],["params","opt_callback"],["opt_visParams","opt_callback"],["opt_callback"],[],["selectors","opt_names"],["args"],["list"],["number"],["obj","opt_isCompound"],["obj"],["obj"],["obj"],["obj"],["obj"],["obj"],["string"],[]];[ee.ApiFunction.lookup,ee.ApiFunction._apply,ee.ApiFunction._call,module$contents$ee$batch_Export.image.toDrive,module$contents$ee$batch_Export.table.toAsset,module$contents$ee$batch_Export.classifier.toAsset,module$contents$ee$batch_Export.table.toDrive,module$contents$ee$batch_Export.video.toDrive,module$contents$ee$batch_Export.table.toFeatureView,module$contents$ee$batch_Export.videoMap.toCloudStorage,module$contents$ee$batch_Export.image.toAsset,module$contents$ee$batch_Export.image.toCloudStorage,module$contents$ee$batch_Export.video.toCloudStorage,module$contents$ee$batch_Export.map.toCloudStorage,module$contents$ee$batch_Export.table.toCloudStorage,ee.Collection.prototype.map,ee.Collection.prototype.filter,ee.Collection.prototype.limit,ee.Collection.prototype.iterate,ee.Collection.prototype.filterMetadata,ee.Collection.prototype.filterDate,ee.Collection.prototype.sort,ee.Collection.prototype.filterBounds,ee.ComputedObject.prototype.evaluate,ee.ComputedObject.prototype.aside,ee.ComputedObject.prototype.getInfo,ee.ComputedObject.prototype.serialize,ee.data.getOperation,ee.data.getList,ee.data.listAssets,ee.data.makeDownloadUrl,ee.data.getAssetRoots,ee.data.getMapId,ee.data.startIngestion,ee.data.createAssetHome,ee.data.getAssetAcl,ee.data.cancelOperation,ee.data.listOperations,ee.data.authenticate,ee.data.listFeatures,ee.data.setAssetAcl,ee.data.getTaskList,ee.data.createAsset,ee.data.deleteAsset,ee.data.makeThumbUrl,ee.data.authenticateViaOauth,ee.data.getFilmstripThumbId,ee.data.getVideoThumbId,ee.data.resetWorkloadTag,ee.data.getThumbId,ee.data.getFeatureViewTilesKey,ee.data.setDefaultWorkloadTag,ee.data.createFolder,ee.data.setWorkloadTag,ee.data.authenticateViaPopup,ee.data.updateTask,ee.data.startProcessing,ee.data.copyAsset,ee.data.getWorkloadTag,ee.data.renameAsset,ee.data.getTaskListWithLimit,ee.data.getTileUrl,ee.data.getTableDownloadId,ee.data.computeValue,ee.data.authenticateViaPrivateKey,ee.data.getTaskStatus,ee.data.getInfo,ee.data.updateAsset,ee.data.makeTableDownloadUrl,ee.data.setAssetProperties,ee.data.getAsset,ee.data.getAssetRootQuota,ee.data.startTableIngestion,ee.data.listImages,ee.data.newTaskId,ee.data.cancelTask,ee.data.listBuckets,ee.data.getDownloadId,ee.Date,ee.Deserializer.fromCloudApiJSON,ee.Deserializer.decode,ee.Deserializer.fromJSON,ee.Deserializer.decodeCloudApi,ee.Dictionary,ee.apply,ee.call,ee.initialize,ee.TILE_SIZE,ee.Algorithms,ee.reset,ee.InitState,ee.Element.prototype.set,ee.Feature,ee.Feature.prototype.getMap,ee.Feature.prototype.getInfo,ee.FeatureCollection.prototype.select,ee.FeatureCollection,ee.FeatureCollection.prototype.getInfo,ee.FeatureCollection.prototype.getDownloadURL,ee.FeatureCollection.prototype.getMap,ee.Filter.lt,ee.Filter.and,ee.Filter.or,ee.Filter.gte,ee.Filter.date,ee.Filter.inList,ee.Filter.prototype.not,ee.Filter,ee.Filter.metadata,ee.Filter.eq,ee.Filter.neq,ee.Filter.bounds,ee.Filter.gt,ee.Filter.lte,ee.Function.prototype.call,ee.Function.prototype.apply,ee.Geometry.Polygon,ee.Geometry.prototype.toGeoJSON,ee.Geometry.prototype.toGeoJSONString,ee.Geometry.BBox,ee.Geometry.LinearRing,ee.Geometry.Point,ee.Geometry.prototype.serialize,ee.Geometry.MultiPolygon,ee.Geometry,ee.Geometry.MultiPoint,ee.Geometry.MultiLineString,ee.Geometry.Rectangle,ee.Geometry.LineString,ee.Image.prototype.clip,ee.Image.prototype.expression,ee.Image.prototype.rename,ee.Image,ee.Image.prototype.getMap,ee.Image.prototype.getDownloadURL,ee.Image.rgb,ee.Image.prototype.getInfo,ee.Image.prototype.getThumbURL,ee.Image.prototype.getThumbId,ee.Image.prototype.select,ee.Image.cat,ee.ImageCollection.prototype.getFilmstripThumbURL,ee.ImageCollection.prototype.getVideoThumbURL,ee.ImageCollection.prototype.getMap,ee.ImageCollection.prototype.getInfo,ee.ImageCollection.prototype.first,ee.ImageCollection.prototype.select,ee.ImageCollection,ee.List,ee.Number,ee.Serializer.encode,ee.Serializer.toJSON,ee.Serializer.toReadableJSON,ee.Serializer.encodeCloudApi,ee.Serializer.toReadableCloudApiJSON,ee.Serializer.encodeCloudApiPretty,ee.Serializer.toCloudApiJSON,ee.String,ee.Terrain].forEach(function(n,r){n&&(e[n.toString()]={name:t[r],paramNames:i[r]})}),goog.global.EXPORTED_FN_INFO=e}(),goog.Timer.defaultTimerObject=self;var ee_api_js_worker=goog.global.ee=ee,ee$1=getDefaultExportFromCjs(ee_api_js_worker);const squareMetersToHectares=e=>e/1e4,squareMetersToAcres=e=>e/4046.8564224;function ownKeys$1(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(i),!0).forEach(function(n){_defineProperty$1(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys$1(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function _defineProperty$1(e,t,i){return(t=_toPropertyKey$1(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey$1(e){var t=_toPrimitive$1(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$1(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const classAggregation=["percentage","hectares","acres"],DEFAULT_MASK_VALUE=0,hasClasses=e=>classAggregation.includes(e),getInfo=e=>new Promise((t,i)=>e.evaluate((n,r)=>{r?i(r):t(n)})),createReducer=(e,t,i)=>{const n=e[t]();return i?n.unweighted():n},combineReducers=(e,t)=>e.reduce((i,n,r)=>r===0?createReducer(i,n,t):i.combine(createReducer(ee$1.Reducer,n,t),"",!0),ee$1.Reducer),getScale=e=>e.select(0).projection().nominalScale(),getHistogramStatistics=({data:e,scale:t,aggregationType:i,style:n})=>e.features.reduce((r,{id:u,properties:d})=>{const{histogram:c}=d,b=Object.values(c).reduce((S,C)=>S+C,0);return r[u]=n.reduce((S,{value:C})=>{const O=c[C]||0,D=O*(t*t);let H;switch(i){case"hectares":H=Math.round(squareMetersToHectares(D));break;case"acres":H=Math.round(squareMetersToAcres(D));break;default:H=O/b*100}return S[C]=H,S},{}),r},{}),getFeatureCollectionProperties=e=>e.features.reduce((t,i)=>_objectSpread$1(_objectSpread$1({},t),{},{[i.id]:i.properties}),{}),getClassifiedImage=(e,{legend:t=[],style:i,band:n,maskOperator:r})=>{if(r&&e[r]&&(e=e.updateMask(e[r]((i==null?void 0:i.min)||DEFAULT_MASK_VALUE))),Array.isArray(i))return{eeImage:e.remap({from:i.map(S=>S.value),to:[...Array(i.length).keys()],bandName:n}),params:{min:0,max:i.length-1,palette:i.map(S=>S.color).join(",")}};if(i.bands)return{eeImage:e,params:i};const u=0,d=t.length-1,{palette:c}=i;let b;for(let S=u,C;S<d;S++)C=t[S],b?b=b.add(e.gt(C.to)):b=e.gt(C.to);return{eeImage:b,params:{min:u,max:d,palette:c}}},applyFilter=(e,t=[])=>{let i=e;return t.forEach(n=>{ee$1.Filter[n.type]&&(i=i.filter(ee$1.Filter[n.type].apply(void 0,n.arguments)))}),i},applyMethods=(e,t=[])=>{let i=e;return Array.isArray(t)?t.forEach(n=>{i[n.name]&&(i=i[n.name].apply(i,n.arguments))}):Object.keys(t).forEach(n=>{i[n]&&(i=i[n].apply(i,t[n]))}),i},applyCloudMask=(e,t)=>{const{datasetId:i,band:n,clearThreshold:r}=t;return e.linkCollection(ee$1.ImageCollection(i),[n]).map(u=>u.updateMask(u.select(n).gte(r)))};function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach(function(n){_defineProperty(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const IMAGE="Image",IMAGE_COLLECTION="ImageCollection",FEATURE_COLLECTION="FeatureCollection",DEFAULT_FEATURE_STYLE={color:"#FFA500",strokeWidth:2,pointRadius:5},DEFAULT_TILE_SCALE=1,DEFAULT_UNMASK_VALUE=0;class EarthEngineWorker{constructor(t={}){this.options=t}setOptions(t){return this.options=t,this.eeFeatureCollection=null,this.eeImage=null,this.eeImageBands=null,this.eeScale=null,this}getFeatureCollection(){const{data:t,buffer:i}=this.options;return Array.isArray(t)&&!this.eeFeatureCollection&&(this.eeFeatureCollection=ee$1.FeatureCollection(t.map(n=>_objectSpread(_objectSpread({},n),{},{id:n.properties.id,geometry:i&&n.geometry.type==="Point"?getBufferGeometry(n,i/1e3):n.geometry})))),this.eeFeatureCollection}getImage(){if(this.eeImage)return this.eeImage;const{datasetId:t,format:i,filter:n,periodReducer:r,mosaic:u,band:d,bandReducer:c,methods:b,cloudScore:S}=this.options;let C;if(i===IMAGE)C=ee$1.Image(t),this.eeScale=getScale(C);else{let O=ee$1.ImageCollection(t);this.eeScale=getScale(O.first()),O=applyFilter(O,n),S&&(O=applyCloudMask(O,S)),r?C=O[r]():u?C=O.mosaic():C=ee$1.Image(O.first())}return d&&(C=C.select(d),Array.isArray(d)&&c&&(this.eeImageBands=C,C=C.reduce(ee$1.Reducer[c]()))),C=applyMethods(C,b),this.eeImage=C,C}getTileUrl(){const{datasetId:t,format:i,data:n,filter:r,style:u}=this.options;return new Promise((d,c)=>{switch(i){case FEATURE_COLLECTION:{let b=ee$1.FeatureCollection(t);b=applyFilter(b,r).draw(_objectSpread(_objectSpread({},DEFAULT_FEATURE_STYLE),u)),n&&(b=b.clipToCollection(this.getFeatureCollection())),b.getMap(null,S=>d(S.urlFormat));break}case IMAGE:case IMAGE_COLLECTION:{let{eeImage:b,params:S}=getClassifiedImage(this.getImage(),this.options);n&&(b=b.clipToCollection(this.getFeatureCollection())),b.visualize(S).getMap(null,C=>d(C.urlFormat));break}default:c(new Error("Unknown format"))}})}async getValue(t){const{lng:i,lat:n}=t,r=await this.getImage(),u=ee$1.Geometry.Point(i,n),d=ee$1.Reducer.mean();return getInfo(r.reduceRegion(d,u,1))}getPeriods(t){const i=ee$1.ImageCollection(t).distinct("system:time_start").sort("system:time_start",!1),n=ee$1.FeatureCollection(i).select(["system:time_start","system:time_end","year"],null,!1);return getInfo(n)}getTimeRange(t){const n=ee$1.ImageCollection(t).reduceColumns(ee$1.Reducer.minMax(),["system:time_start"]);return getInfo(n)}async getAggregations(t){t&&this.setOptions(t);const{format:i,aggregationType:n,band:r,useCentroid:u,style:d,tileScale:c=DEFAULT_TILE_SCALE,unmaskAggregation:b}=this.options,S=!Array.isArray(n),C=S&&hasClasses(n)&&Array.isArray(d),O=this.eeScale,D=this.getFeatureCollection();let H=await this.getImage();if((b||typeof b=="number")&&(H=H.unmask(typeof b=="number"?b:DEFAULT_UNMASK_VALUE)),D)if(i===FEATURE_COLLECTION){const{datasetId:K,filter:le}=this.options;let de=ee$1.FeatureCollection(K);de=applyFilter(de,le);const fe=D.map(be=>{be=ee$1.Feature(be);const Ie=de.filterBounds(be.geometry()).size();return be.set("count",Ie)}).select(["count"],null,!1);return getInfo(fe).then(getFeatureCollectionProperties)}else if(C){const K=ee$1.Reducer.frequencyHistogram(),le=await getInfo(O);return getInfo(H.reduceRegions({collection:D,reducer:K,scale:O,tileScale:c}).select(["histogram"],null,!1)).then(de=>getHistogramStatistics({data:de,scale:le,aggregationType:n,style:d}))}else if(!S&&n.length){const K=combineReducers(n,u),le=[...n];let de=H.reduceRegions({collection:D,reducer:K,scale:O,tileScale:c});return this.eeImageBands&&(de=this.eeImageBands.reduceRegions({collection:de,reducer:K,scale:O,tileScale:c}),r.forEach(fe=>n.forEach(be=>le.push(n.length===1?fe:`${fe}_${be}`)))),de=de.select(le,null,!1),getInfo(de).then(getFeatureCollectionProperties)}else throw new Error("Aggregation type is not valid");else throw new Error("Missing org unit features")}}_defineProperty(EarthEngineWorker,"setAuthToken",e=>new Promise((t,i)=>{ee$1.data.getAuthToken()?ee$1.initialize(null,null,t,i):e().then(n=>{const{client_id:r,tokenType:u="Bearer",access_token:d,expires_in:c}=n;ee$1.data.setAuthToken(r,u,d,c,null,()=>ee$1.initialize(null,null,t,i),!1),ee$1.data.setAuthTokenRefresher(async(C,O)=>O(_objectSpread(_objectSpread({},await e()),{},{state:C.scope})))}).catch(i)})),typeof onconnect<"u"?onconnect=e=>expose(EarthEngineWorker,e.ports[0]):expose(EarthEngineWorker)})();
