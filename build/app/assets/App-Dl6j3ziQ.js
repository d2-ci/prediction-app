import{P as he,c as Ge,e as my,l as VL,s as HR,a as jt,b as XR,t as qt,r as Oe,R as Se,_ as Pt,d as Dr,m as ZR,f as Ea,B as vi,S as WL,g as xE,L as qL,h as HL,C as Df,I as XL,i as KR,j as tt,F as ZL,k as QR,u as KL,n as JR,o as QL,p as as,q as e3,v as t3,w as n3,x as i3,y as r3,z as a3,A as cu,D as re,N as rT,M as Jy,E as Pp,G as Eo,H as rc,J as JL,K as fy,O as s3,Q as o3,T as l3,U as c3,V as e2,W as u3,X as aT,Y as d3,Z as h3}from"./main-De6hfn2b.js";const p3=n=>typeof n>"u"||n===null||n==="",bE=(n,e,t)=>(i,r,a)=>{const o=i[r];return t?new Error(`Property \`${r}\` on component \`${a}\` is using the \`requiredIf\` prop-validator combined with \`.isRequired\`. This is an invalid combination.`):typeof n!="function"?new Error("The `condition` argument passed to the `requiredIf` prop-validator was not a function."):typeof e!="function"?new Error("The `propType` argument passed to the `requiredIf` prop-validator was not a function."):n(i)&&p3(o)?new Error(`Invalid prop \`${r}\` supplied to \`${a}\`, this prop is conditionally required but has value \`${o}\`. The condition that made this prop required is: \`${n.toString()}\`.`):(he.checkPropTypes({[r]:e},i,"prop",a),null)};function Hm(n,e){const t=bE(n,e,!1);return t.isRequired=bE(n,e,!0),t}const m3=Object.freeze(Object.defineProperty({__proto__:null,colors:Ge,elevations:my,layers:VL,sharedPropTypes:HR,spacers:jt,spacersNum:XR,theme:qt},Symbol.toStringTag,{value:"Module"}));function sT(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M8 2a1 1 0 011 1v4h4a1 1 0 010 2H9v4a1 1 0 01-2 0V9H3a1 1 0 110-2h4V3a1 1 0 011-1z",fill:"currentColor",fillRule:"evenodd"}))}sT.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};function s0(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M12 3a1 1 0 011 1v7h7a1 1 0 010 2h-7v7a1 1 0 01-2 0v-7H4a1 1 0 010-2h7V4a1 1 0 011-1z",fill:"currentColor",fillRule:"evenodd"}))}s0.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};function t2(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M9.284 2.589l.07.057 5 5 .011.013a.503.503 0 01.033.039l-.044-.052A.502.502 0 0114.5 8v.02a.503.503 0 01-.005.052L14.5 8a.502.502 0 01-.089.284l-.013.018a.503.503 0 01-.033.04l-.011.012-5 5a.5.5 0 01-.765-.638l.057-.07L12.793 8.5H2a.5.5 0 01-.09-.992L2 7.5h10.793L8.646 3.354a.5.5 0 01-.057-.638l.057-.07a.5.5 0 01.638-.057z",fill:"currentColor"}))}t2.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};function Yl(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M13.613 5.21l.094.083 6 6a1 1 0 01.083 1.32l-.083.094-6 6a1 1 0 01-1.497-1.32l.083-.094L16.584 13H5a1 1 0 01-.117-1.993L5 11h11.586l-4.293-4.293a1 1 0 01-.083-1.32l.083-.094a1 1 0 011.32-.083z",fill:"currentColor"}))}Yl.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};function n2(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M4.146 6.146a.5.5 0 01.638-.057l.07.057L8 9.293l3.146-3.147a.5.5 0 01.638-.057l.07.057a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 010-.708z",fill:"currentColor"}))}n2.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};function i2(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M9.146 4.146a.5.5 0 01.765.638l-.057.07L6.707 8l3.147 3.146a.5.5 0 01.057.638l-.057.07a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 01-.057-.638l.057-.07z",fill:"currentColor"}))}i2.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};function r2(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M6.146 4.146a.5.5 0 01.638-.057l.07.057 3.5 3.5a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.765-.638l.057-.07L9.293 8 6.146 4.854a.5.5 0 01-.057-.638z",fill:"currentColor"}))}r2.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};function oT(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M20 5a1 1 0 010 2h-1v13a2 2 0 01-2 2H7a2 2 0 01-2-2V7H4a1 1 0 110-2zm-3 2H7v13h10zm-6 2v8h-1V9zm3 0v8h-1V9zm1-7v2H9V2z",fill:"currentColor"}))}oT.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};function o0(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M20 14a1 1 0 01.993.883L21 15v3a3 3 0 01-2.824 2.995L18 21H6a3 3 0 01-2.995-2.824L3 18v-3a1 1 0 011.993-.117L5 15v3a1 1 0 00.883.993L6 19h12a1 1 0 00.993-.883L19 18v-3a1 1 0 011-1zM12 3a1 1 0 01.993.883L13 4v9.584l2.293-2.291a1 1 0 011.32-.083l.094.083a1 1 0 01.083 1.32l-.083.094-4 4a1 1 0 01-1.32.083l-.094-.083-4-4a1 1 0 011.32-1.497l.094.083L11 13.584V4a1 1 0 011-1z",fill:"currentColor"}))}o0.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};function a2(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M10.613 2.624l.094.083 2.586 2.586a1 1 0 01.083 1.32l-.083.094L6 14H2v-4l7.293-7.293a1 1 0 011.32-.083zm-.613.79l-6.793 6.792 2.585 2.585L12.586 6z",fill:"currentColor"}))}a2.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};function lT(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 100 16 8 8 0 000-16zm0 11a1 1 0 110 2 1 1 0 010-2zm1-8v6h-2V7z",fill:"currentColor"}))}lT.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};function s2(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm0 1a6 6 0 100 12A6 6 0 008 2zm.5 5v4H10v1H6v-1h1.5V7zM8 4a.75.75 0 110 1.5A.75.75 0 018 4z",fill:"currentColor"}))}s2.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};function cT(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M15 3l6 6v10a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2zm-.829 2H13v2a2 2 0 01-2 2H5v10h2v-4a2 2 0 012-2h6a2 2 0 012 2v4h2V9.829zM15 15H9v4h6zM11 5H5v2h6z",fill:"currentColor"}))}cT.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};function o2(n){let{color:e,dataTest:t,ariaLabel:i}=n;return Oe.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},Oe.createElement("path",{d:"M20 14a1 1 0 01.993.883L21 15v3a3 3 0 01-2.824 2.995L18 21H6a3 3 0 01-2.995-2.824L3 18v-3a1 1 0 011.993-.117L5 15v3a1 1 0 00.883.993L6 19h12a1 1 0 00.993-.883L19 18v-3a1 1 0 011-1zM12 4h.02c.023 0 .046.002.07.004L12 4a1.008 1.008 0 01.625.22l.082.073 4 4a1 1 0 01-1.32 1.497l-.094-.083L13 7.415V16a1 1 0 01-1.993.117L11 16V7.413L8.707 9.707a1 1 0 01-1.32.083l-.094-.083a1 1 0 01-.083-1.32l.083-.094 4-4 .082-.073.008-.007-.09.08A1.008 1.008 0 0111.982 4H12z",fill:"currentColor"}))}o2.propTypes={color:he.string,dataTest:he.string,ariaLabel:he.string};const wo=["svg.jsx-4069423049{display:block;pointer-events:none;}",`svg.jsx-4069423049 .border.jsx-4069423049{fill:${Ge.grey800};}`,`svg.jsx-4069423049 .background.jsx-4069423049,svg.jsx-4069423049 .indeterminate.jsx-4069423049,svg.jsx-4069423049 .checkmark.jsx-4069423049{fill:${Ge.white};}`,`svg.checked.jsx-4069423049 .background.jsx-4069423049,svg.indeterminate.jsx-4069423049 .background.jsx-4069423049{fill:${Ge.teal500};}`,`svg.valid.jsx-4069423049 .background.jsx-4069423049{fill:${Ge.blue600};}`,`svg.warning.jsx-4069423049 .background.jsx-4069423049{fill:${Ge.yellow700};}`,`svg.error.jsx-4069423049 .background.jsx-4069423049{fill:${Ge.red500};}`,`svg.checked.jsx-4069423049 .border.jsx-4069423049,svg.indeterminate.jsx-4069423049 .border.jsx-4069423049{fill:${Ge.teal900};}`,"svg.jsx-4069423049:not(.checked) .checkmark.jsx-4069423049,svg.jsx-4069423049:not(.indeterminate) .indeterminate.jsx-4069423049{fill:none;}",`svg.jsx-4069423049:not(.checked):not(.indeterminate) .background.jsx-4069423049{fill:${Ge.white};}`];wo.__hash="4069423049";function l2(n){let{className:e}=n;return Se.createElement("svg",{viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",className:`jsx-${wo.__hash} `+Pt.dynamic([["2753140462",[Ge.grey300,Ge.grey400,Ge.blue600,Ge.blue700,Ge.yellow700,Ge.yellow800,Ge.red500,Ge.red700]]])+" "+(e||"")},Se.createElement("rect",{x:"0",y:"0",width:"18",height:"18",rx:"3",className:`jsx-${wo.__hash} `+Pt.dynamic([["2753140462",[Ge.grey300,Ge.grey400,Ge.blue600,Ge.blue700,Ge.yellow700,Ge.yellow800,Ge.red500,Ge.red700]]])+" background"}),Se.createElement("path",{d:"M15,0 C16.6568542,0 18,1.34314575 18,3 L18,15 C18,16.6568542 16.6568542,18 15,18 L3,18 C1.34314575,18 0,16.6568542 0,15 L0,3 C0,1.34314575 1.34314575,0 3,0 L15,0 Z M15,1 L3,1 C1.9456382,1 1.08183488,1.81587779 1.00548574,2.85073766 L1,3 L1,15 C1,16.0543618 1.81587779,16.9181651 2.85073766,16.9945143 L3,17 L15,17 C16.0543618,17 16.9181651,16.1841222 16.9945143,15.1492623 L17,15 L17,3 C17,1.9456382 16.1841222,1.08183488 15.1492623,1.00548574 L15,1 Z",className:`jsx-${wo.__hash} `+Pt.dynamic([["2753140462",[Ge.grey300,Ge.grey400,Ge.blue600,Ge.blue700,Ge.yellow700,Ge.yellow800,Ge.red500,Ge.red700]]])+" border"}),Se.createElement("path",{d:"M4.74451387,8.02852516 C4.39595738,8.11985643 4.12375034,8.39235188 4.03251575,8.74127768 C3.94128115,9.09020348 4.04521722,9.46125864 4.30437605,9.71182782 L7.29823844,12.7078028 C7.68753993,13.0973991 8.31859767,13.0973991 8.70789916,12.7078028 L13.695624,6.71585285 C13.9547828,6.46528367 14.0587189,6.09422851 13.9674843,5.74530271 C13.8762497,5.39637691 13.6040426,5.12388146 13.2554861,5.0325502 C12.9069296,4.94121893 12.5362672,5.04526513 12.2859632,5.30469855 L8.0030688,10.5910713 L5.71403676,8.30067351 C5.46373279,8.0412401 5.09307036,7.9371939 4.74451387,8.02852516 Z",className:`jsx-${wo.__hash} `+Pt.dynamic([["2753140462",[Ge.grey300,Ge.grey400,Ge.blue600,Ge.blue700,Ge.yellow700,Ge.yellow800,Ge.red500,Ge.red700]]])+" checkmark"}),Se.createElement("rect",{x:"4",y:"8",width:"10",height:"2",rx:"1",className:`jsx-${wo.__hash} `+Pt.dynamic([["2753140462",[Ge.grey300,Ge.grey400,Ge.blue600,Ge.blue700,Ge.yellow700,Ge.yellow800,Ge.red500,Ge.red700]]])+" indeterminate"}),Se.createElement(Pt,{id:wo.__hash},wo),Se.createElement(Pt,{id:"2753140462",dynamic:[Ge.grey300,Ge.grey400,Ge.blue600,Ge.blue700,Ge.yellow700,Ge.yellow800,Ge.red500,Ge.red700]},["svg.__jsx-style-dynamic-selector{width:18px;height:18px;}",`svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:${Ge.grey300};}`,`svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.grey400};}`,`svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.blue600};}`,`svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.blue700};}`,`svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.yellow700};}`,`svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.yellow800};}`,`svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.red500};}`,`svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.red700};}`]))}l2.propTypes={className:he.string};function c2(n){let{className:e}=n;return Se.createElement("svg",{viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",className:`jsx-${wo.__hash} `+Pt.dynamic([["86695588",[Ge.grey400,Ge.grey400,Ge.grey500,Ge.blue600,Ge.blue800,Ge.yellow700,Ge.yellow800,Ge.red500,Ge.red800]]])+" "+(e||"")},Se.createElement("rect",{x:"0",y:"0",width:"14",height:"14",rx:"2",className:`jsx-${wo.__hash} `+Pt.dynamic([["86695588",[Ge.grey400,Ge.grey400,Ge.grey500,Ge.blue600,Ge.blue800,Ge.yellow700,Ge.yellow800,Ge.red500,Ge.red800]]])+" background"}),Se.createElement("path",{d:"M2,0 L12,0 C13.1045695,0 14,0.8954305 14,2 L14,12 C14,13.1045695 13.1045695,14 12,14 L2,14 C0.8954305,14 0,13.1045695 0,12 L0,2 C0,0.8954305 0.8954305,0 2,0 Z M2,1 C1.44771525,1 1,1.44771525 1,2 L1,12 C1,12.5522847 1.44771525,13 2,13 L12,13 C12.5522847,13 13,12.5522847 13,12 L13,2 C13,1.44771525 12.5522847,1 12,1 L2,1 Z",className:`jsx-${wo.__hash} `+Pt.dynamic([["86695588",[Ge.grey400,Ge.grey400,Ge.grey500,Ge.blue600,Ge.blue800,Ge.yellow700,Ge.yellow800,Ge.red500,Ge.red800]]])+" border"}),Se.createElement("path",{d:"M10.3520005,3.30015877 L5.54268293,8.03252726 L3.64634146,6.16652726 L2.28668615,7.5044281 L5.54310367,10.7010587 L11.7145993,4.628307 L10.3520005,3.30015877 Z M5.54268293,9.43547274 L5.61193184,9.36733181 L5.54226219,9.29894127 L5.47309681,9.367 L5.54268293,9.43547274 Z M10.6496329,4.41023392 L10.6495057,4.35652297 L10.5648412,4.35672356 L10.2854007,4.631693 L10.3553166,4.69984123 L10.6496329,4.41023392 Z M3.42891348,7.22439304 L3.35030905,7.22439304 L3.35034135,7.27820863 L3.64634146,7.56947274 L3.71331385,7.5035719 L3.42891348,7.22439304 Z",className:`jsx-${wo.__hash} `+Pt.dynamic([["86695588",[Ge.grey400,Ge.grey400,Ge.grey500,Ge.blue600,Ge.blue800,Ge.yellow700,Ge.yellow800,Ge.red500,Ge.red800]]])+" checkmark"}),Se.createElement("rect",{x:"3",y:"6",width:"8",height:"2",className:`jsx-${wo.__hash} `+Pt.dynamic([["86695588",[Ge.grey400,Ge.grey400,Ge.grey500,Ge.blue600,Ge.blue800,Ge.yellow700,Ge.yellow800,Ge.red500,Ge.red800]]])+" indeterminate"}),Se.createElement(Pt,{id:wo.__hash},wo),Se.createElement(Pt,{id:"86695588",dynamic:[Ge.grey400,Ge.grey400,Ge.grey500,Ge.blue600,Ge.blue800,Ge.yellow700,Ge.yellow800,Ge.red500,Ge.red800]},["svg.__jsx-style-dynamic-selector{width:14px;height:14px;}",`svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:${Ge.grey400};}`,`svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.grey400};}`,`svg.disabled.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.disabled.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.grey500};}`,`svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.blue600};}`,`svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.blue800};}`,`svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.yellow700};}`,`svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.yellow800};}`,`svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.red500};}`,`svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${Ge.red800};}`]))}c2.propTypes={className:he.string};function Bm(n,e,t){return(e=f3(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function f3(n){var e=g3(n,"string");return typeof e=="symbol"?e:e+""}function g3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class l0 extends Oe.Component{constructor(){super(...arguments),Bm(this,"ref",Oe.createRef()),Bm(this,"handleChange",e=>{this.props.onChange&&this.props.onChange(this.createHandlerPayload(),e)}),Bm(this,"handleBlur",e=>{this.props.onBlur&&this.props.onBlur(this.createHandlerPayload(),e)}),Bm(this,"handleFocus",e=>{this.props.onFocus&&this.props.onFocus(this.createHandlerPayload(),e)}),Bm(this,"handleKeyDown",e=>{this.props.onKeyDown&&this.props.onKeyDown(this.createHandlerPayload(),e)})}componentDidMount(){this.props.initialFocus&&this.ref.current.focus(),this.setIndeterminate(this.props.indeterminate)}componentDidUpdate(e){e.indeterminate!==this.props.indeterminate&&this.setIndeterminate(this.props.indeterminate)}setIndeterminate(e){this.ref.current.indeterminate=e}createHandlerPayload(){return{value:this.props.value,name:this.props.name,checked:!this.props.checked}}render(){const{checked:e=!1,indeterminate:t=!1,className:i,disabled:r,error:a,label:o,name:s,tabIndex:d,valid:p,value:m,warning:y,dense:g,dataTest:_="dhis2-uicore-checkbox"}=this.props,x=Dr({checked:e,indeterminate:t,disabled:r,valid:p,error:a,warning:y});return Se.createElement("label",{"data-test":_,className:Pt.dynamic([["1252368010",[Ge.grey900,qt.disabled,jt.dp4,qt.focus]]])+" "+(Dr(i,{disabled:r,dense:g})||"")},Se.createElement("input",{type:"checkbox",ref:this.ref,name:s,value:m,checked:e,disabled:r,tabIndex:d,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,className:Pt.dynamic([["1252368010",[Ge.grey900,qt.disabled,jt.dp4,qt.focus]]])}),Se.createElement("div",{className:Pt.dynamic([["1252368010",[Ge.grey900,qt.disabled,jt.dp4,qt.focus]]])+" "+(Dr("icon",{dense:g})||"")},g?Se.createElement(c2,{className:x}):Se.createElement(l2,{className:x})),o,Se.createElement(Pt,{id:"1252368010",dynamic:[Ge.grey900,qt.disabled,jt.dp4,qt.focus]},[`label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;cursor:pointer;color:${Ge.grey900};font-size:14px;line-height:19px;}`,"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}",`label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:${qt.disabled};}`,"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:18px;inset-inline-start:3px;}","label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:14px;}",`.icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-inline-end:${jt.dp4};border:2px solid transparent;padding:1px;border-radius:5px;}`,"label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-inline-end:3px;border-radius:4px;}",`input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{outline:3px solid ${qt.focus};outline-offset:-3px;}`]))}}Bm(l0,"defaultProps",{checked:!1,indeterminate:!1,dataTest:"dhis2-uicore-checkbox"});const _E=ZR(["checked","indeterminate"],he.bool);l0.propTypes={checked:_E,className:he.string,dataTest:he.string,dense:he.bool,disabled:he.bool,error:Ea,indeterminate:_E,initialFocus:he.bool,label:he.node,name:he.string,tabIndex:he.string,valid:Ea,value:he.string,warning:Ea,onBlur:he.func,onChange:he.func,onFocus:he.func,onKeyDown:he.func};function Xh(n,e,t){return(e=y3(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function y3(n){var e=v3(n,"string");return typeof e=="symbol"?e:e+""}function v3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class uT extends Oe.Component{constructor(){super(...arguments),Xh(this,"ref",Oe.createRef()),Xh(this,"handleClick",()=>{this.ref.current.click()}),Xh(this,"handleChange",e=>{this.props.onChange&&this.props.onChange(this.createHandlerPayload(),e),this.ref.current.value=""}),Xh(this,"handleBlur",e=>{this.props.onBlur&&this.props.onBlur(this.createHandlerPayload(),e)}),Xh(this,"handleFocus",e=>{this.props.onFocus&&this.props.onFocus(this.createHandlerPayload(),e)}),Xh(this,"handleKeyDown",e=>{this.props.onKeyDown&&this.props.onKeyDown(this.createHandlerPayload(),e)})}createHandlerPayload(){return{files:this.ref.current.files,name:this.props.name}}render(){const{accept:e="*",buttonLabel:t,className:i,dataTest:r="dhis2-uicore-fileinput",disabled:a,error:o,initialFocus:s,large:d,multiple:p,name:m,small:y,tabIndex:g,valid:_,warning:x}=this.props;return Se.createElement("div",{"data-test":r,className:Pt.dynamic([["1746996489",[jt.dp8,jt.dp4]]])+" "+(Dr("file-input",i)||"")},Se.createElement("div",{className:Pt.dynamic([["1746996489",[jt.dp8,jt.dp4]]])},Se.createElement("input",{id:m,name:m,type:"file",ref:this.ref,onChange:this.handleChange,accept:e,multiple:p,disabled:a,"data-test":`${r}-input`,className:Pt.dynamic([["1746996489",[jt.dp8,jt.dp4]]])}),Se.createElement(vi,{disabled:a,icon:Se.createElement(o2,{color:Ge.grey700}),initialFocus:s,large:d,onBlur:this.handleBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,small:y,tabIndex:g,type:"button"},t)),Se.createElement(WL,{error:o,valid:_,warning:x}),Se.createElement(Pt,{id:"1746996489",dynamic:[jt.dp8,jt.dp4]},["input.__jsx-style-dynamic-selector{display:none;}",`.file-input.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:${jt.dp8};padding-bottom:${jt.dp4};}`]))}}Xh(uT,"defaultProps",{accept:"*",dataTest:"dhis2-uicore-fileinput"});uT.propTypes={accept:he.string,buttonLabel:he.string,className:he.string,dataTest:he.string,disabled:he.bool,error:Ea,initialFocus:he.bool,large:xE,multiple:he.bool,name:he.string,small:xE,tabIndex:he.string,valid:Ea,warning:Ea,onBlur:he.func,onChange:he.func,onFocus:he.func,onKeyDown:he.func};var x3=void 0;const b3=(n,e,t)=>{let i;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];const s=x3,d=()=>{i=null,n.apply(s,a)};clearTimeout(i),i=setTimeout(d,e)}},u2=n=>{let{dataTest:e,onToggle:t,children:i,tabIndex:r="0",error:a,warning:o,valid:s,disabled:d,dense:p,className:m,inputRef:y}=n;const g=Dr(m,"root",{error:a,warning:o,valid:s,disabled:d,dense:p});return Se.createElement("div",{onClick:t,tabIndex:r,ref:y,"data-test":e,className:Pt.dynamic([["1568723238",[Ge.grey500,qt.focus,qt.focus,qt.valid,qt.warning,qt.error,Ge.grey100,Ge.grey500,qt.disabled]]])+" "+(g||"")},Se.createElement("div",{className:Pt.dynamic([["1568723238",[Ge.grey500,qt.focus,qt.focus,qt.valid,qt.warning,qt.error,Ge.grey100,Ge.grey500,qt.disabled]]])+" root-children"},i),Se.createElement("div",{className:Pt.dynamic([["1568723238",[Ge.grey500,qt.focus,qt.focus,qt.valid,qt.warning,qt.error,Ge.grey100,Ge.grey500,qt.disabled]]])+" root-right"},Se.createElement(n2,null)),Se.createElement(Pt,{id:"1568723238",dynamic:[Ge.grey500,qt.focus,qt.focus,qt.valid,qt.warning,qt.error,Ge.grey100,Ge.grey500,qt.disabled]},[`.root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:white;border-radius:3px;border:1px solid ${Ge.grey500};box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:40px;padding-block:6px;padding-inline:12px;box-shadow:inset 0 0 1px 0 rgba(48,54,60,0.1);}`,`.root.__jsx-style-dynamic-selector:not(.disabled):focus,.root.__jsx-style-dynamic-selector:not(.disabled):active{outline:none;box-shadow:inset 0 0 0 2px ${qt.focus};border-color:${qt.focus};}`,`.root.valid.__jsx-style-dynamic-selector{border-color:${qt.valid};}`,`.root.warning.__jsx-style-dynamic-selector{border-color:${qt.warning};}`,`.root.error.__jsx-style-dynamic-selector{border-color:${qt.error};}`,`.root.disabled.__jsx-style-dynamic-selector{background-color:${Ge.grey100};border-color:${Ge.grey500};color:${qt.disabled};cursor:not-allowed;}`,".root.dense.__jsx-style-dynamic-selector{padding-block:2px;padding-inline:8px;min-height:32px;}",".root-children.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".root-right.__jsx-style-dynamic-selector{margin-block-start:4px;margin-inline-start:8px;}"]))};u2.propTypes={dataTest:he.string.isRequired,inputRef:he.object.isRequired,onToggle:he.func.isRequired,children:he.element,className:he.string,dense:he.bool,disabled:he.bool,error:Ea,tabIndex:he.string,valid:Ea,warning:Ea};const d2=n=>{let{children:e,dataTest:t,maxHeight:i="280px",menuWidth:r,onClick:a,selectRef:o}=n;return Se.createElement(qL,{onBackdropClick:a,transparent:!0},Se.createElement(HL,{reference:o,placement:"bottom-start",observeReferenceResize:!0},Se.createElement("div",{"data-test":`${t}-menuwrapper`,className:Pt.dynamic([["1363246346",[r,i,Ge.white,Ge.grey200,my.e300]]])},e,Se.createElement(Pt,{id:"1363246346",dynamic:[r,i,Ge.white,Ge.grey200,my.e300]},[`div.__jsx-style-dynamic-selector{width:${r};height:auto;max-height:${i};overflow:auto;background:${Ge.white};border:1px solid ${Ge.grey200};border-radius:3px;box-shadow:${my.e300};}`]))))};d2.propTypes={dataTest:he.string.isRequired,menuWidth:he.string.isRequired,selectRef:he.object.isRequired,children:he.node,maxHeight:he.string,onClick:he.func};function Ol(n,e,t){return(e=_3(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _3(n){var e=w3(n,"string");return typeof e=="symbol"?e:e+""}function w3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const T3=27,S3=32,C3=38,E3=40;class dT extends Oe.Component{constructor(){super(...arguments),Ol(this,"state",{open:!1,menuWidth:"auto"}),Ol(this,"selectRef",Se.createRef()),Ol(this,"inputRef",Se.createRef()),Ol(this,"onResize",b3(()=>{const e=this.getMenuWidth();this.state.menuWidth!==e&&this.setState({menuWidth:e})},50)),Ol(this,"handleFocusInput",()=>{this.inputRef.current.focus()}),Ol(this,"onFocus",e=>{const{onFocus:t,disabled:i,selected:r}=this.props;i||!t||t({selected:r},e)}),Ol(this,"handleOpen",()=>{this.setState({open:!0,menuWidth:this.getMenuWidth()})}),Ol(this,"handleClose",()=>{this.setState({open:!1})}),Ol(this,"onToggle",e=>{this.props.disabled||(e.stopPropagation(),this.state.open?this.handleClose():this.handleOpen())}),Ol(this,"onOutsideClick",e=>{const{onBlur:t,disabled:i,selected:r}=this.props;i||(this.handleClose(),t&&t({selected:r},e))}),Ol(this,"onKeyDown",e=>{const{onKeyDown:t,disabled:i,selected:r}=this.props;if(i||(t&&t({selected:r},e),e.defaultPrevented))return;e.stopPropagation();const{open:a}=this.state,{keyCode:o}=e,s=!a&&(o===S3||o===C3||o===E3);if(a&&o===T3)return this.handleClose();if(s)return this.handleOpen()})}componentDidMount(){this.props.initialFocus&&this.inputRef.current.focus(),this.setState({menuWidth:this.getMenuWidth()}),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}getMenuWidth(){const{offsetWidth:e}=this.inputRef.current,{menuWidth:t}=this.state;return e&&`${e}px`!==t?`${e}px`:t}render(){const{open:e,menuWidth:t}=this.state,{children:i,className:r,selected:a,onChange:o,tabIndex:s,maxHeight:d,error:p,warning:m,valid:y,disabled:g,dense:_,dataTest:x}=this.props,T={selected:a,onChange:o,options:i,disabled:g},E=Se.cloneElement(this.props.input,T),k={selected:a,onChange:o,options:i,handleClose:this.handleClose,handleFocusInput:this.handleFocusInput},v=Se.cloneElement(this.props.menu,k);return Se.createElement("div",{className:r,ref:this.selectRef,onFocus:this.onFocus,onKeyDown:this.onKeyDown,"data-test":x},Se.createElement(u2,{onToggle:this.onToggle,inputRef:this.inputRef,tabIndex:g?"-1":s,error:p,warning:m,valid:y,disabled:g,dense:_,dataTest:`${x}-input`},E),e&&Se.createElement(d2,{onClick:this.onOutsideClick,maxHeight:d,selectRef:this.selectRef,menuWidth:t,dataTest:`${x}-menu`},v))}}Ol(dT,"defaultProps",{dataTest:"dhis2-uicore-select"});dT.propTypes={input:he.element.isRequired,menu:he.element.isRequired,selected:he.oneOfType([he.string,he.arrayOf(he.string)]).isRequired,children:he.node,className:he.string,dataTest:he.string,dense:he.bool,disabled:he.bool,error:Ea,initialFocus:he.bool,maxHeight:he.string,tabIndex:he.string,valid:Ea,warning:Ea,onBlur:he.func,onChange:he.func,onFocus:he.func,onKeyDown:he.func};const h2=n=>{let{message:e,className:t,dataTest:i}=n;return Se.createElement("div",{"data-test":i,className:Pt.dynamic([["3603755746",[jt.dp16,Ge.grey700,qt.fonts,jt.dp8,jt.dp24]]])+" "+(Dr(t,"container")||"")},Se.createElement("div",{className:Pt.dynamic([["3603755746",[jt.dp16,Ge.grey700,qt.fonts,jt.dp8,jt.dp24]]])},Se.createElement(Df,{small:!0})),e,Se.createElement(Pt,{id:"3603755746",dynamic:[jt.dp16,Ge.grey700,qt.fonts,jt.dp8,jt.dp24]},[`.container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${jt.dp16};-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:${Ge.grey700};font-family:${qt.fonts};font-size:13px;padding-block:${jt.dp8};padding-inline:${jt.dp24};}`]))};h2.propTypes={dataTest:he.string.isRequired,className:he.string,message:he.string};const s1=n=>{let{value:e,onChange:t,placeholder:i,className:r,dataTest:a}=n;return Se.createElement("div",{className:Pt.dynamic([["730881408",[Ge.white,jt.dp8,jt.dp8,jt.dp4,jt.dp8]]])+" "+(r||"")},Se.createElement(XL,{dense:!0,dataTest:a,value:e,onChange:t,type:"text",name:"filter",placeholder:i,initialFocus:!0}),Se.createElement(Pt,{id:"730881408",dynamic:[Ge.white,jt.dp8,jt.dp8,jt.dp4,jt.dp8]},[`div.__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;-webkit-inset-block-start:0;-ms-intb-rlock-start:0;inset-block-start:0;background:${Ge.white};padding-block-start:${jt.dp8};padding-inline-end:${jt.dp8};padding-block-end:${jt.dp4};padding-inline-start:${jt.dp8};z-index:1;}`]))};s1.propTypes={dataTest:he.string.isRequired,value:he.string.isRequired,className:he.string,placeholder:he.string,onChange:he.func};const p2=n=>{let{message:e,className:t}=n;return Se.createElement("div",{className:Pt.dynamic([["3788156646",[Ge.grey700,qt.fonts,jt.dp8,jt.dp24]]])+" "+(t||"")},e,Se.createElement(Pt,{id:"3788156646",dynamic:[Ge.grey700,qt.fonts,jt.dp8,jt.dp24]},[`div.__jsx-style-dynamic-selector{color:${Ge.grey700};font-family:${qt.fonts};font-size:13px;line-height:16px;padding-block:${jt.dp8};padding-inline:${jt.dp24};text-align:center;}`]))};p2.propTypes={message:he.string.isRequired,className:he.string};const m2=n=>n&&"props"in n&&"value"in n.props&&"label"in n.props,f2=n=>Se.Children.toArray(n).filter(e=>e!==null&&e!==!1&&e!==void 0),k3=(n,e)=>Se.Children.toArray(e).find(t=>t.props?n===t.props.value:!1);function yb(){return yb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yb.apply(null,arguments)}function wE(n,e,t){return(e=N3(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function N3(n){var e=L3(n,"string");return typeof e=="symbol"?e:e+""}function L3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}let g2=class extends Oe.Component{constructor(){super(...arguments),wE(this,"state",{filter:""}),wE(this,"onFilterChange",e=>{let{value:t}=e;this.setState({filter:t})})}render(){const{dataTest:e,options:t,onChange:i,selected:r,empty:a,handleClose:o,handleFocusInput:s,placeholder:d,noMatchText:p,Menu:m}=this.props,{filter:y}=this.state,g={onChange:i,selected:r,empty:a,handleClose:o,handleFocusInput:s,dataTest:e},_=f2(t);if(Se.Children.count(_)===0||!y)return Se.createElement(Se.Fragment,null,Se.createElement(s1,{dataTest:`${e}-filterinput`,placeholder:d,value:y,onChange:this.onFilterChange}),Se.createElement(m,yb({},g,{options:t})));const x=Se.Children.map(t,E=>{if(!m2(E))return null;const{label:v}=E.props;return v.toLowerCase().includes(y.toLowerCase())?E:null}),T=Se.Children.count(x)>0;return Se.createElement(Se.Fragment,null,Se.createElement(s1,{dataTest:`${e}-filterinput`,placeholder:d,value:y,onChange:this.onFilterChange}),T?Se.createElement(m,yb({},g,{options:x})):Se.createElement(p2,{message:p}))}};g2.propTypes={Menu:he.elementType.isRequired,dataTest:he.string.isRequired,noMatchText:he.string.isRequired,selected:he.oneOfType([he.string,he.arrayOf(he.string)]).isRequired,empty:he.node,handleClose:he.func,handleFocusInput:he.func,options:he.node,placeholder:he.string,onChange:he.func};const y2=n=>{let{message:e,className:t,dataTest:i}=n;return Se.createElement("div",{"data-test":i,className:Pt.dynamic([["3788156646",[Ge.grey700,qt.fonts,jt.dp8,jt.dp24]]])+" "+(t||"")},e,Se.createElement(Pt,{id:"3788156646",dynamic:[Ge.grey700,qt.fonts,jt.dp8,jt.dp24]},[`div.__jsx-style-dynamic-selector{color:${Ge.grey700};font-family:${qt.fonts};font-size:13px;line-height:16px;padding-block:${jt.dp8};padding-inline:${jt.dp24};text-align:center;}`]))};y2.propTypes={dataTest:he.string.isRequired,message:he.string.isRequired,className:he.string};const I3=4,TE={styles:Se.createElement(Pt,{id:"1892168270"},[`.jsx-1892168270{z-index:${VL.applicationTop};}`,'div[data-popper-reference-hidden="true"].jsx-1892168270{visibility:hidden;}']),className:"jsx-1892168270"},A3={name:"offset",options:{offset:[0,I3]}},P3={name:"hide"},D3={name:"flip",options:{altBoundary:!0}},c0=n=>{let{children:e,className:t,closeDelay:i=200,content:r,dataTest:a="dhis2-uicore-tooltip",maxWidth:o=300,openDelay:s=200,placement:d="top"}=n;const[p,m]=Oe.useState(!1),y=Oe.useRef(),g=Oe.useRef(null),_=Oe.useRef(null),x=()=>{clearTimeout(_.current),g.current=setTimeout(()=>{m(!0)},s)},T=()=>{clearTimeout(g.current),_.current=setTimeout(()=>{m(!1)},i)},E=()=>{clearTimeout(_.current),g.current=setTimeout(()=>{m(!0)},s)},k=()=>{clearTimeout(g.current),_.current=setTimeout(()=>{m(!1)},i)},v=w=>{w.key==="Escape"&&(_.current=setTimeout(()=>{m(!1)},i))};return Oe.useEffect(()=>(document.addEventListener("keydown",v),()=>{clearTimeout(g.current),clearTimeout(_.current),document.removeEventListener("keydown",v)}),[]),Se.createElement(Se.Fragment,null,typeof e=="function"?e({onMouseOver:x,onMouseOut:T,onFocus:E,onBlur:k,ref:y}):Se.createElement("span",{onMouseOver:x,onMouseOut:T,onFocus:E,onBlur:k,ref:y,tabIndex:0,"aria-describedby":p?"tooltipContenDhis2Ui":"","data-test":`${a}-reference`,className:Pt.dynamic([["3515683788",[o,Ge.grey900,Ge.white]]])},e),p&&Se.createElement(KR,null,Se.createElement(HL,{className:TE.className,placement:d,reference:y,modifiers:[A3,D3,P3]},Se.createElement("div",{id:"tooltipContenDhis2Ui",onMouseOver:x,onMouseOut:T,"data-test":`${a}-content`,role:"tooltip",className:Pt.dynamic([["3515683788",[o,Ge.grey900,Ge.white]]])+" "+(t||"")},r))),TE.styles,Se.createElement(Pt,{id:"3515683788",dynamic:[o,Ge.grey900,Ge.white]},[`div.__jsx-style-dynamic-selector{max-width:${o}px;}`,`div.__jsx-style-dynamic-selector{padding:4px 6px;background-color:${Ge.grey900};border-radius:3px;color:${Ge.white};font-size:13px;line-height:17px;}`]))};c0.propTypes={children:he.oneOfType([he.node,he.func]),className:he.string,closeDelay:he.number,content:he.node,dataTest:he.string,maxWidth:he.number,openDelay:he.number,placement:he.oneOf(["top","right","bottom","left"])};const v2=n=>{let{onClear:e,clearText:t,className:i,dataTest:r}=n;return Se.createElement(c0,{openDelay:500,content:t},Se.createElement("button",{"data-test":r,onClick:e,type:"button",className:Pt.dynamic([["2606883952",[Ge.grey500,Ge.grey800,Ge.grey200,qt.focus]]])+" "+(i||"")},Se.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:Pt.dynamic([["2606883952",[Ge.grey500,Ge.grey800,Ge.grey200,qt.focus]]])},Se.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Zm3.536-5.879a1 1 0 1 1-1.415 1.414l-2.12-2.12-2.122 2.121a1 1 0 1 1-1.415-1.414L6.586 8 4.464 5.878A1 1 0 1 1 5.88 4.464L8 6.586l2.121-2.121a1 1 0 1 1 1.415 1.414L9.415 8l2.12 2.121Z",fill:"none",className:Pt.dynamic([["2606883952",[Ge.grey500,Ge.grey800,Ge.grey200,qt.focus]]])})),Se.createElement(Pt,{id:"2606883952",dynamic:[Ge.grey500,Ge.grey800,Ge.grey200,qt.focus]},["button.__jsx-style-dynamic-selector{background:none;border:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;height:24px;width:24px;border-radius:3px;}",`button.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:${Ge.grey500};}`,`button.__jsx-style-dynamic-selector:hover svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:${Ge.grey800};}`,`button.__jsx-style-dynamic-selector:hover{background:${Ge.grey200};}`,`button.__jsx-style-dynamic-selector:focus{outline:2px solid ${qt.focus};}`])))};v2.propTypes={clearText:he.string.isRequired,dataTest:he.string.isRequired,onClear:he.func.isRequired,className:he.string};const x2=n=>{let{placeholder:e,className:t,dataTest:i}=n;return e?Se.createElement("div",{"data-test":i,className:Pt.dynamic([["1027033961",[Ge.grey600]]])+" "+(t||"")},e,Se.createElement(Pt,{id:"1027033961",dynamic:[Ge.grey600]},[`div.__jsx-style-dynamic-selector{color:${Ge.grey600};-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`])):null};x2.propTypes={dataTest:he.string.isRequired,className:he.string,placeholder:he.string};const b2=n=>{let{prefix:e,className:t,dataTest:i}=n;return e?Se.createElement("div",{"data-test":i,className:Pt.dynamic([["1343055987",[Ge.grey600,jt.dp12]]])+" "+(t||"")},e,Se.createElement(Pt,{id:"1343055987",dynamic:[Ge.grey600,jt.dp12]},[`div.__jsx-style-dynamic-selector{color:${Ge.grey600};padding-inline-end:${jt.dp12};font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`])):null};b2.propTypes={dataTest:he.string.isRequired,className:he.string,prefix:he.string};const _2=n=>{let{children:e,overflow:t}=n;return Se.createElement("span",{className:Pt.dynamic([["765109298",[jt.dp12]]])+" "+(Dr({overflow:t})||"")},e,Se.createElement(Pt,{id:"765109298",dynamic:[jt.dp12]},[`span.__jsx-style-dynamic-selector{margin:0 ${jt.dp12};color:inherit;white-space:nowrap;}`,".overflow.__jsx-style-dynamic-selector{max-width:150px;overflow:hidden;text-overflow:ellipsis;}"]))};_2.propTypes={children:he.any,overflow:he.bool};const w2=n=>{let{icon:e,dataTest:t}=n;return e?Se.createElement("span",{"data-test":t,className:Pt.dynamic([["1889825154",[jt.dp4]]])},e,Se.createElement(Pt,{id:"1889825154",dynamic:[jt.dp4]},[`span.__jsx-style-dynamic-selector{width:24px;height:24px;margin-inline-start:${jt.dp4};margin-inline-end:-6px;border-radius:50%;overflow:hidden;}`,"span.__jsx-style-dynamic-selector>*{max-height:24px;max-width:24px;}"])):null};w2.propTypes={dataTest:he.string.isRequired,icon:he.element};function T2(n){let{className:e}=n;return Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",className:"jsx-2898942518 "+(e||"")},Se.createElement("path",{d:"M11.2928932,3.29289322 L12.7071068,4.70710678 L9.41389322,7.99989322 L12.7071068,11.2928932 L11.2928932,12.7071068 L7.99989322,9.41389322 L4.70710678,12.7071068 L3.29289322,11.2928932 L6.58589322,7.99989322 L3.29289322,4.70710678 L4.70710678,3.29289322 L7.99989322,6.58589322 L11.2928932,3.29289322 Z",className:"jsx-2898942518"}),Se.createElement(Pt,{id:"2898942518"},["svg.jsx-2898942518{fill:inherit;height:16px;width:16px;vertical-align:middle;pointer-events:none;}"]))}T2.propTypes={className:he.string};const eb=["span.jsx-2824632002{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:20px;width:20px;margin-inline-end:4px;border-radius:12px;margin-inline-start:-8px;}",`span.jsx-2824632002:hover{background:${Ge.grey400};}`];eb.__hash="2824632002";const SE={styles:Se.createElement(Pt,{id:"2658726446"},[`svg.jsx-2658726446{fill:${Ge.grey600};height:16px;width:16px;cursor:pointer;opacity:1;pointer-events:all;}`]),className:"jsx-2658726446"},S2=n=>{let{onRemove:e,dataTest:t}=n;return e?Se.createElement("span",{onClick:i=>{i.stopPropagation(),e({},i)},"data-test":t,className:`jsx-${eb.__hash}`},Se.createElement(T2,{className:SE.className}),SE.styles,Se.createElement(Pt,{id:eb.__hash},eb)):null};S2.propTypes={dataTest:he.string.isRequired,onRemove:he.func};const Pm="4",C2=n=>{var e,t,i,r;let{selected:a,dense:o,disabled:s,dragging:d,overflow:p,className:m,children:y,onRemove:g,onClick:_,icon:x,dataTest:T="dhis2-uicore-chip",marginBottom:E=4,marginLeft:k,marginRight:v,marginTop:w=4,marginInlineStart:N,marginInlineEnd:S}=n;return Se.createElement("span",{onClick:L=>{!s&&_&&_({},L)},"data-test":T,className:Pt.dynamic([["3780556490",[Ge.grey200,Ge.grey900,Ge.grey300,qt.secondary600,Ge.white]],["1687525377",[E&&`margin-bottom: ${E}px;`,(e=N??k)!==null&&e!==void 0?e:Pm,(t=S??v)!==null&&t!==void 0?t:Pm,w&&`margin-top: ${w}px`]]])+" "+(Dr(m,{selected:a,dense:o,disabled:s,dragging:d})||"")},Se.createElement(w2,{icon:x,dataTest:`${T}-icon`}),Se.createElement(_2,{overflow:p},y),Se.createElement(S2,{onRemove:g,dataTest:`${T}-remove`}),Se.createElement(Pt,{id:"3780556490",dynamic:[Ge.grey200,Ge.grey900,Ge.grey300,qt.secondary600,Ge.white]},[`span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:32px;border-radius:16px;background-color:${Ge.grey200};font-size:14px;line-height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:${Ge.grey900};}`,".dense.__jsx-style-dynamic-selector{height:24px;font-size:13px;line-height:15px;}",`span.__jsx-style-dynamic-selector:hover{background-color:${Ge.grey300};}`,`.selected.__jsx-style-dynamic-selector{background-color:${qt.secondary600};font-weight:500;}`,".selected.__jsx-style-dynamic-selector:hover{background-color:#00695c;}",`.selected.__jsx-style-dynamic-selector,.selected.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector,.selected.__jsx-style-dynamic-selector .remove-icon.__jsx-style-dynamic-selector{color:${Ge.white};}`,".disabled.__jsx-style-dynamic-selector{cursor:not-allowed;opacity:0.3;}",".disabled.__jsx-style-dynamic-selector .remove-icon.__jsx-style-dynamic-selector{pointer-events:none;}",".dragging.__jsx-style-dynamic-selector{box-shadow:0 3px 1px -2px rgba(0,0,0,0.2), 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12);}"]),Se.createElement(Pt,{id:"1687525377",dynamic:[E&&`margin-bottom: ${E}px;`,(e=N??k)!==null&&e!==void 0?e:Pm,(t=S??v)!==null&&t!==void 0?t:Pm,w&&`margin-top: ${w}px`]},[`span.__jsx-style-dynamic-selector{${E&&`margin-bottom: ${E}px;`} margin-inline-start:${(i=N??k)!==null&&i!==void 0?i:Pm}px;margin-inline-end:${(r=S??v)!==null&&r!==void 0?r:Pm}px;${w&&`margin-top: ${w}px`};}`]))};C2.propTypes={children:he.any,className:he.string,dataTest:he.string,dense:he.bool,disabled:he.bool,dragging:he.bool,icon:he.element,marginBottom:he.number,marginInlineEnd:he.number,marginInlineStart:he.number,marginLeft:he.number,marginRight:he.number,marginTop:he.number,overflow:he.bool,selected:he.bool,onClick:he.func,onRemove:he.func};const M3="مسح",O3={Clear:M3,"No data found":"لم يتم إيجاد بيانات","Type to filter options":"اكتب لتصفية الخيارات","Loading options":"تحميل الخيارات","No options found":"لم يتم العثور على خيارات"},R3="مسح",$3={Clear:R3,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},z3="پاککردنەوە",F3={Clear:z3,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},j3="Vyčistit",B3={Clear:j3,"No data found":"Nenalezena žádná data","Type to filter options":"Zadáním filtrujete možnosti","Loading options":"Možnosti načítání","No options found":"Nenalezeny žádné možnosti"},U3="Clear",G3={Clear:U3,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},Y3="",V3={Clear:Y3,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},W3="Limpiar",q3={Clear:W3,"No data found":"Datos no encontrados","Type to filter options":"Escriba para filtrar opciones","Loading options":"Cargando las opciones","No options found":"No se ha encontrado ninguna opción"},H3="Limpiar",X3={Clear:H3,"No data found":"No se han encontrado datos","Type to filter options":"Escriba para filtrar opciones","Loading options":"Opciones de carga","No options found":"No se han encontrado opciones"},Z3="Effacer",K3={Clear:Z3,"No data found":"Aucune valeur trouvée","Type to filter options":"","Loading options":"Chargement des options","No options found":""},Q3="Hapus",J3={Clear:Q3,"No data found":"Tidak ada data yang ditemukan","Type to filter options":"Tipe opsi filter","Loading options":"Opsi mengunggah","No options found":"Opsi tidak tersedia"},e$="សម្អាត",t$={Clear:e$,"No data found":"មិនមានទិន្នន័យបង្ហាញ","Type to filter options":"វាយបញ្ចូលមុខងារដើម្បីច្រោះ","Loading options":"កំពុងទាញយកមុខងារ","No options found":"មិនមានមុខងារបង្ហាញ"},n$="ລຶບ",i$={Clear:n$,"No data found":"ບໍ່ພົບຂໍ້ມູນ","Type to filter options":"ປະເພດຕົວເລືອກການກອງ","Loading options":"ໂຫຼດຕົວເລືອກ","No options found":"ບໍ່ພົບຕົວເລືອກ"},r$="ရှင်းလင်းသည်",a$={Clear:r$,"No data found":"data မတွေ့ပါ။","Type to filter options":"","Loading options":"","No options found":""},s$="Fjern",o$={Clear:s$,"No data found":"Ingen data funnet","Type to filter options":"Skriv for å filtrere alternativer","Loading options":"Laster alternativer","No options found":"Ingen alternativer funnet"},l$="Duidelijk",c$={Clear:l$,"No data found":"Geen gegevens gevonden","Type to filter options":"Typ om opties te filteren","Loading options":"Laad opties","No options found":"Geen opties gevonden"},u$="پاک کردن",d$={Clear:u$,"No data found":"هیچ معلوماتی یافت نشد","Type to filter options":"","Loading options":"","No options found":""},h$="پاک یې کړئ",p$={Clear:h$,"No data found":"هېڅ ډاټا یا مالومات ونه موندل شول","Type to filter options":"","Loading options":"","No options found":""},m$="Limpar",f$={Clear:m$,"No data found":"Dado não encontrado","Type to filter options":"Tipo de opções de filtros","Loading options":"","No options found":""},g$="Limpar",y$={Clear:g$,"No data found":"Dado não encontrado","Type to filter options":"","Loading options":"","No options found":""},v$="Очистить",x$={Clear:v$,"No data found":"Данные не найдены","Type to filter options":"Начать печатать для фильтрации опций","Loading options":"Загрузка опций","No options found":"Опции не найдены"},b$="Klar",_$={Clear:b$,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},w$="Hamós",T$={Clear:w$,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},S$="Пок кардан",C$={Clear:S$,"No data found":"Ягон иттилоот ёфт нашуд","Type to filter options":"","Loading options":"","No options found":""},E$="Очистити",k$={Clear:E$,"No data found":"Даних не знайдено","Type to filter options":"Введіть параметри фільтра","Loading options":"Параметри завантаження","No options found":"Варіантів не знайдено"},N$="کلیئر",L$={Clear:N$,"No data found":"کوئی ڈیٹا نہیں ملا","Type to filter options":"","Loading options":"","No options found":""},I$="Аниқ",A$={Clear:I$,"No data found":"Maʼlumotlar topilmadi","Type to filter options":"","Loading options":"","No options found":""},P$="Тозалаш",D$={Clear:P$,"No data found":"Маълумотлар топилмади","Type to filter options":"","Loading options":"Вариантлар юкланмоқда","No options found":""},M$="Аниқ",O$={Clear:M$,"No data found":"Maʼlumotlar topilmadi","Type to filter options":"","Loading options":"","No options found":""},R$="Xóa",$$={Clear:R$,"No data found":"Không tìm thấy dữ liệu","Type to filter options":"Nhập để lọc tùy chọn","Loading options":"","No options found":""},z$="清除",F$={Clear:z$,"No data found":"没有发现数据","Type to filter options":"键入过滤选项","Loading options":"加载选项","No options found":"没有找到选项"},j$="清除",B$={Clear:j$,"No data found":"没有数据被找到","Type to filter options":"","Loading options":"","No options found":""},sr="default";tt.addResources("ar",sr,O3);tt.addResources("ar_IQ",sr,$3);tt.addResources("ckb",sr,F3);tt.addResources("cs",sr,B3);tt.addResources("da",sr,G3);tt.addResources("en",sr,V3);tt.addResources("es",sr,q3);tt.addResources("es_419",sr,X3);tt.addResources("fr",sr,K3);tt.addResources("id",sr,J3);tt.addResources("km",sr,t$);tt.addResources("lo",sr,i$);tt.addResources("my",sr,a$);tt.addResources("nb",sr,o$);tt.addResources("nl",sr,c$);tt.addResources("prs",sr,d$);tt.addResources("ps",sr,p$);tt.addResources("pt",sr,f$);tt.addResources("pt_BR",sr,y$);tt.addResources("ru",sr,x$);tt.addResources("sv",sr,_$);tt.addResources("tet",sr,T$);tt.addResources("tg",sr,C$);tt.addResources("uk",sr,k$);tt.addResources("ur",sr,L$);tt.addResources("uz_Latn",sr,A$);tt.addResources("uz_UZ_Cyrl",sr,D$);tt.addResources("uz_UZ_Latn",sr,O$);tt.addResources("vi",sr,$$);tt.addResources("zh",sr,F$);tt.addResources("zh_CN",sr,B$);const U$=(n,e)=>{e.stopPropagation(),e.preventDefault()},hT=n=>{let{options:e,onChange:t,selected:i,empty:r="",handleFocusInput:a,handleClose:o,dataTest:s}=n;const d=f2(e);if(Se.Children.count(d)===0)return typeof r=="string"?Se.createElement(y2,{message:r,dataTest:`${s}-empty`}):r;const p=Se.Children.map(e,m=>{if(!m2(m))return m;const{value:g,disabled:_}=m.props,x=g===i,T=(k,v)=>{const w={selected:g};v.stopPropagation(),t(w,v),o(),a()},E=x||_;return Se.cloneElement(m,{...m.props,onClick:E?U$:T,active:x})});return Se.createElement(Se.Fragment,null,p)};hT.propTypes={dataTest:he.string.isRequired,empty:he.node,handleClose:he.func,handleFocusInput:he.func,options:he.node,selected:he.string,onChange:he.func};const E2=n=>{let{dataTest:e,options:t,onChange:i,selected:r,empty:a,handleClose:o,handleFocusInput:s,placeholder:d,noMatchText:p}=n;return Se.createElement(g2,{dataTest:e,options:t,onChange:i,selected:r,empty:a,handleClose:o,handleFocusInput:s,placeholder:d,noMatchText:p,Menu:hT})};E2.propTypes={dataTest:he.string.isRequired,noMatchText:he.string.isRequired,empty:he.node,handleClose:he.func,handleFocusInput:he.func,options:he.node,placeholder:he.string,selected:he.string,onChange:he.func};const k2=n=>{let{options:e,selected:t,className:i}=n;const r=k3(t,e);if(!r){const s=`There is no option with the value: "${t}". Make sure that the value passed to the selected prop matches the value of an existing option.`;console.error(s)}const a=r&&r.props.icon,o=r?r.props.label:t;return Se.createElement("div",{className:Pt.dynamic([["1914911415",[jt.dp8,jt.dp16,jt.dp16]]])+" "+(Dr(i,"root")||"")},a&&Se.createElement("div",{className:Pt.dynamic([["1914911415",[jt.dp8,jt.dp16,jt.dp16]]])+" root-icon"},a),o,Se.createElement(Pt,{id:"1914911415",dynamic:[jt.dp8,jt.dp16,jt.dp16]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",`.root-icon.__jsx-style-dynamic-selector{margin-inline-end:${jt.dp8};width:${jt.dp16};height:${jt.dp16};overflow:hidden;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}`]))};k2.propTypes={className:he.string,options:he.node,selected:he.string};const N2=n=>{let{selected:e,onChange:t,clearable:i,clearText:r,placeholder:a,dataTest:o,prefix:s,options:d,className:p,disabled:m,inputMaxHeight:y="100px"}=n;const g=e&&typeof e=="string",_=x=>{const T={selected:""};x.stopPropagation(),t(T,x)};return Se.createElement("div",{className:Pt.dynamic([["2186325794",[Ge.grey900]],["1331770409",[y]]])+" "+(Dr("root",p)||"")},Se.createElement(b2,{prefix:s,dataTest:`${o}-prefix`}),!g&&!s&&Se.createElement(x2,{placeholder:a,dataTest:`${o}-placeholder`}),g&&Se.createElement("div",{className:Pt.dynamic([["2186325794",[Ge.grey900]],["1331770409",[y]]])+" root-input"},Se.createElement(k2,{selected:e,options:d})),g&&i&&!m&&Se.createElement("div",{className:Pt.dynamic([["2186325794",[Ge.grey900]],["1331770409",[y]]])+" root-right"},Se.createElement(v2,{onClear:_,clearText:r,dataTest:`${o}-clear`})),Se.createElement(Pt,{id:"2186325794",dynamic:[Ge.grey900]},[`.root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:${Ge.grey900};font-size:14px;line-height:16px;}`,".root-input.__jsx-style-dynamic-selector{overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;}",".root-right.__jsx-style-dynamic-selector{margin-inline-start:auto;}"]),Se.createElement(Pt,{id:"1331770409",dynamic:[y]},[`.root-input.__jsx-style-dynamic-selector{max-height:${y};}`]))};N2.propTypes={dataTest:he.string.isRequired,className:he.string,clearText:Hm(n=>n.clearable,he.string),clearable:he.bool,disabled:he.bool,inputMaxHeight:he.string,options:he.node,placeholder:he.string,prefix:he.string,selected:he.string,onChange:he.func};const L2=n=>{let{className:e,selected:t="",tabIndex:i,maxHeight:r,inputMaxHeight:a,onChange:o,onFocus:s,onKeyDown:d,onBlur:p,loading:m,error:y,warning:g,valid:_,disabled:x,children:T,clearable:E,clearText:k,filterable:v,filterPlaceholder:w,placeholder:N,prefix:S,empty:L,loadingText:O,noMatchText:Y,initialFocus:X,dense:H,dataTest:$="dhis2-uicore-singleselect"}=n;const G=v?Se.createElement(E2,{dataTest:$,empty:L,noMatchText:Y,placeholder:w}):Se.createElement(hT,{empty:L,dataTest:$});return Se.createElement("div",{"data-test":$,className:Pt.dynamic([["2180377457",[jt.dp8]]])+" root"},Se.createElement("div",{className:Pt.dynamic([["2180377457",[jt.dp8]]])+" root-input"},Se.createElement(dT,{className:e,selected:t,input:Se.createElement(N2,{clearable:E,clearText:k,dataTest:$,placeholder:N,prefix:S,inputMaxHeight:a}),menu:G,tabIndex:i,maxHeight:r,onChange:o,onFocus:s,onKeyDown:d,onBlur:p,error:y,warning:g,valid:_,disabled:x,initialFocus:X,dense:H},T,m&&Se.createElement(h2,{message:O,dataTest:`${$}-loading`}))),Se.createElement(WL,{error:y,valid:_,warning:g}),Se.createElement(Pt,{id:"2180377457",dynamic:[jt.dp8]},[`.root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${jt.dp8};}`,".root-input.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}"]))};L2.propTypes={children:he.node,className:he.string,clearText:Hm(n=>n.clearable,he.string),clearable:he.bool,dataTest:he.string,dense:he.bool,disabled:he.bool,empty:he.node,error:Ea,filterPlaceholder:he.string,filterable:he.bool,initialFocus:he.bool,inputMaxHeight:he.string,loading:he.bool,loadingText:he.string,maxHeight:he.string,noMatchText:Hm(n=>n.filterable,he.string),placeholder:he.string,prefix:he.string,selected:he.string,tabIndex:he.string,valid:Ea,warning:Ea,onBlur:he.func,onChange:he.func,onFocus:he.func,onKeyDown:he.func};function G$(n,e,t){return(e=Y$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Y$(n){var e=V$(n,"string");return typeof e=="symbol"?e:e+""}function V$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const Kg=(n,e)=>typeof n=="function"?n(e):n;class va extends Se.Component{render(){const{className:e,onChange:t,onFocus:i,onKeyDown:r,onBlur:a,required:o,label:s,valid:d,error:p,warning:m,disabled:y,loading:g,selected:_=va.defaultProps.selected,tabIndex:x,helpText:T,validationText:E,maxHeight:k,inputMaxHeight:v,inputWidth:w,children:N,clearable:S,clearText:L=va.defaultProps.clearText,filterable:O,filterPlaceholder:Y=va.defaultProps.filterPlaceholder,placeholder:X,prefix:H,empty:$=va.defaultProps.empty,loadingText:G=va.defaultProps.loadingText,noMatchText:B=va.defaultProps.noMatchText,initialFocus:M,dense:D,dataTest:V=va.defaultProps.dataTest}=this.props;return Se.createElement(ZL,{className:e,dataTest:V,disabled:y,required:o,label:s,helpText:T,validationText:E,error:p,warning:m,valid:d},Se.createElement(QR,{width:w,minWidth:"100px"},Se.createElement(L2,{selected:_,tabIndex:x,maxHeight:k,inputMaxHeight:v,onChange:t,onFocus:i,onKeyDown:r,onBlur:a,loading:g,error:p,warning:m,valid:d,disabled:y,clearable:S,clearText:Kg(L),filterable:O,filterPlaceholder:Kg(Y),placeholder:X,prefix:H,empty:Kg($),loadingText:Kg(G),noMatchText:Kg(B),initialFocus:M,dense:D},N)))}}G$(va,"defaultProps",{dataTest:"dhis2-uiwidgets-singleselectfield",selected:"",clearText:()=>tt.t("Clear"),empty:()=>tt.t("No data found"),filterPlaceholder:()=>tt.t("Type to filter options"),loadingText:()=>tt.t("Loading options"),noMatchText:()=>tt.t("No options found")});va.propTypes={children:he.node,className:he.string,clearText:he.oneOfType([he.string,he.func]),clearable:he.bool,dataTest:he.string,dense:he.bool,disabled:he.bool,empty:he.oneOfType([he.node,he.func]),error:Ea,filterPlaceholder:he.oneOfType([he.node,he.func]),filterable:he.bool,helpText:he.string,initialFocus:he.bool,inputMaxHeight:he.string,inputWidth:he.string,label:he.string,loading:he.bool,loadingText:he.oneOfType([he.string,he.func]),maxHeight:he.string,noMatchText:he.oneOfType([he.string,he.func]),placeholder:he.string,prefix:he.string,required:he.bool,selected:he.string,tabIndex:he.string,valid:Ea,validationText:he.string,warning:Ea,onBlur:he.func,onChange:he.func,onFocus:he.func,onKeyDown:he.func};const to=n=>{let{label:e,active:t,disabled:i,onClick:r,className:a,dataTest:o="dhis2-uicore-singleselectoption",value:s}=n;return Se.createElement("div",{onClick:d=>r({},d),"data-test":o,"data-value":s,"data-label":e,className:Pt.dynamic([["3808134379",[Ge.grey900,jt.dp8,jt.dp12,Ge.grey200,Ge.teal700,Ge.white,Ge.grey500]]])+" "+(Dr(a,{disabled:i,active:t})||"")},e,Se.createElement(Pt,{id:"3808134379",dynamic:[Ge.grey900,jt.dp8,jt.dp12,Ge.grey200,Ge.teal700,Ge.white,Ge.grey500]},[`div.__jsx-style-dynamic-selector{cursor:pointer;font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:${Ge.grey900};padding-block:${jt.dp8};padding-inline:${jt.dp12};}`,`div.__jsx-style-dynamic-selector:hover{background-color:${Ge.grey200};}`,`div.__jsx-style-dynamic-selector:active,div.active.__jsx-style-dynamic-selector{background-color:${Ge.teal700};color:${Ge.white};cursor:auto;}`,`div.disabled.__jsx-style-dynamic-selector{color:${Ge.grey500};cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`,"div.disabled.__jsx-style-dynamic-selector:hover{background-color:initial;}"]))};to.propTypes={label:he.string.isRequired,value:he.string.isRequired,active:he.bool,className:he.string,dataTest:he.string,disabled:he.bool,onClick:he.func};const Uc=["svg.jsx-4217794981{display:block;pointer-events:none;height:18px;width:35px;}","svg.jsx-4217794981:dir(rtl){-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1);}","svg[dir='rtl'].jsx-4217794981{-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1);}","svg.dense.jsx-4217794981{height:14px;width:27px;}",`svg.jsx-4217794981 .background.jsx-4217794981,svg.jsx-4217794981 .border.jsx-4217794981{fill:${Ge.grey600};}`,`svg.jsx-4217794981 .checkmark.jsx-4217794981,svg.jsx-4217794981 .cross.jsx-4217794981,svg.jsx-4217794981 .handle.jsx-4217794981{fill:${Ge.white};}`,"svg.jsx-4217794981 .checkmark.jsx-4217794981:dir(rtl){display:none;}","svg[dir='rtl'].jsx-4217794981 .checkmark.jsx-4217794981{display:none;}","svg.checked.jsx-4217794981 .handle-unchecked.jsx-4217794981,svg.jsx-4217794981:not(.checked) .handle-checked.jsx-4217794981{fill:none;}",`svg.checked.jsx-4217794981 .background.jsx-4217794981{fill:${Ge.teal400};}`,`svg.valid.jsx-4217794981 .background.jsx-4217794981{fill:${Ge.blue600};}`,`svg.warning.jsx-4217794981 .background.jsx-4217794981{fill:${Ge.yellow700};}`,`svg.error.jsx-4217794981 .background.jsx-4217794981{fill:${Ge.red500};}`,`svg.checked.jsx-4217794981 .border.jsx-4217794981{fill:${Ge.teal700};}`,`svg.disabled.jsx-4217794981 .background.jsx-4217794981{fill:${Ge.grey300};}`,`svg.disabled.jsx-4217794981 .border.jsx-4217794981{fill:${Ge.grey400};}`,`svg.valid.jsx-4217794981 .border.jsx-4217794981{fill:${Ge.blue600};}`,`svg.valid.checked.jsx-4217794981 .border.jsx-4217794981,svg.valid.indeterminate.jsx-4217794981 .border.jsx-4217794981{fill:${Ge.blue700};}`,`svg.warning.jsx-4217794981 .border.jsx-4217794981{fill:${Ge.yellow700};}`,`svg.warning.checked.jsx-4217794981 .border.jsx-4217794981{fill:${Ge.yellow800};}`,`svg.error.jsx-4217794981 .border.jsx-4217794981{fill:${Ge.red500};}`,`svg.error.checked.jsx-4217794981 .border.jsx-4217794981{fill:${Ge.red700};}`];Uc.__hash="4217794981";function I2(n){var e,t;let{className:i}=n;return Se.createElement("svg",{viewBox:"0 0 42 22",xmlns:"http://www.w3.org/2000/svg",dir:(e=(t=document.documentElement)===null||t===void 0?void 0:t.dir)!==null&&e!==void 0?e:"ltr",className:`jsx-${Uc.__hash} `+(i||"")},Se.createElement("path",{d:"M0,11 L0,11 C0,4.92486775 4.92076837,0 11.0075657,0 L30.9924343,0 C37.071745,0 42,4.923532 42,11 L42,11 C42,17.0751322 37.0792316,22 30.9924343,22 L11.0075657,22 C4.92825504,22 0,17.0791222 0,11 L0,11 Z",fill:"red",className:`jsx-${Uc.__hash} background`}),Se.createElement("path",{d:"M30.9924343,0 C36.975248,0 41.8432574,4.76846989 41.99629,10.7115309 L42,11 C42,17.0751322 37.0792316,22 30.9924343,22 L11.0075657,22 C5.02475203,22 0.156742552,17.2341007 0.00370995454,11.2885915 L0,11 C0,4.92486775 4.92076837,0 11.0075657,0 L30.9924343,0 Z M30.9924343,1 L11.0075657,1 C5.47559009,1 0.99991738,5.47461611 0.99991738,10.9871457 L1.00337887,11.2628608 C1.14271146,16.6761076 5.5768313,21 11.0075657,21 L30.9924343,21 C36.5244099,21 41.0000827,16.5253839 41.0000827,11.0128598 L40.9966214,10.7372722 C40.8572703,5.32553352 36.4222391,1 30.9924343,1 Z",className:`jsx-${Uc.__hash} border`}),Se.createElement("path",{d:"M27.7071068,7.29289322 L30,9.585 L32.2928932,7.29289322 C32.6533772,6.93240926 33.2206082,6.90467972 33.6128994,7.20970461 L33.7071068,7.29289322 C34.0976311,7.68341751 34.0976311,8.31658249 33.7071068,8.70710678 L33.7071068,8.70710678 L31.415,11 L33.7071068,13.2928932 C34.0976311,13.6834175 34.0976311,14.3165825 33.7071068,14.7071068 C33.3165825,15.0976311 32.6834175,15.0976311 32.2928932,14.7071068 L30,12.415 L27.7071068,14.7071068 C27.3466228,15.0675907 26.7793918,15.0953203 26.3871006,14.7902954 L26.2928932,14.7071068 C25.9023689,14.3165825 25.9023689,13.6834175 26.2928932,13.2928932 L26.2928932,13.2928932 L28.585,11 L26.2928932,8.70710678 C25.9023689,8.31658249 25.9023689,7.68341751 26.2928932,7.29289322 C26.6834175,6.90236893 27.3165825,6.90236893 27.7071068,7.29289322 Z",fill:"#FFFFFF",className:`jsx-${Uc.__hash} cross`}),Se.createElement("path",{d:"M7.74451387,10.0285252 C7.39595738,10.1198564 7.12375034,10.3923519 7.03251575,10.7412777 C6.94128115,11.0902035 7.04521722,11.4612586 7.30437605,11.7118278 L10.2982384,14.7078028 C10.6875399,15.0973991 11.3185977,15.0973991 11.7078992,14.7078028 L16.695624,8.71585285 C16.9547828,8.46528367 17.0587189,8.09422851 16.9674843,7.74530271 C16.8762497,7.39637691 16.6040426,7.12388146 16.2554861,7.0325502 C15.9069296,6.94121893 15.5362672,7.04526513 15.2859632,7.30469855 L11.0030688,12.5910713 L8.71403676,10.3006735 C8.46373279,10.0412401 8.09307036,9.9371939 7.74451387,10.0285252 Z",className:`jsx-${Uc.__hash} checkmark`}),Se.createElement("path",{d:"M11,20 C15.9705627,20 20,15.9705627 20,11 C20,6.02943725 15.9705627,2 11,2 C6.02943725,2 2,6.02943725 2,11 C2,15.9705627 6.02943725,20 11,20 Z",className:`jsx-${Uc.__hash} handle handle-unchecked`}),Se.createElement("path",{d:"M31,20 C35.9705627,20 40,15.9705627 40,11 C40,6.02943725 35.9705627,2 31,2 C26.0294373,2 22,6.02943725 22,11 C22,15.9705627 26.0294373,20 31,20 Z",className:`jsx-${Uc.__hash} handle handle-checked`}),Se.createElement(Pt,{id:Uc.__hash},Uc))}I2.propTypes={className:he.string};function Um(n,e,t){return(e=W$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W$(n){var e=q$(n,"string");return typeof e=="symbol"?e:e+""}function q$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class pT extends Oe.Component{constructor(){super(...arguments),Um(this,"ref",Oe.createRef()),Um(this,"handleChange",e=>{this.props.onChange&&this.props.onChange(this.createHandlerPayload(),e)}),Um(this,"handleBlur",e=>{this.props.onBlur&&this.props.onBlur(this.createHandlerPayload(),e)}),Um(this,"handleFocus",e=>{this.props.onFocus&&this.props.onFocus(this.createHandlerPayload(),e)}),Um(this,"handleKeyDown",e=>{this.props.onKeyDown&&this.props.onKeyDown(this.createHandlerPayload(),e)})}componentDidMount(){this.props.initialFocus&&this.ref.current.focus()}createHandlerPayload(){return{value:this.props.value,name:this.props.name,checked:!this.props.checked}}render(){const{"aria-label":e,checked:t=!1,className:i,disabled:r,error:a,label:o,name:s,tabIndex:d,valid:p,value:m,warning:y,dense:g,dataTest:_="dhis2-uicore-switch",role:x="switch"}=this.props,T=Dr({checked:t,disabled:r,valid:p,error:a,warning:y,dense:g});return Se.createElement("label",{"data-test":_,className:Pt.dynamic([["3097670863",[Ge.grey900,qt.disabled,qt.focus]]])+" "+(Dr(i,{disabled:r,dense:g})||"")},Se.createElement("input",{"aria-label":e,type:"checkbox",role:x,ref:this.ref,name:s,value:m,checked:t,disabled:r,tabIndex:d,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,className:Pt.dynamic([["3097670863",[Ge.grey900,qt.disabled,qt.focus]]])}),Se.createElement("div",{className:Pt.dynamic([["3097670863",[Ge.grey900,qt.disabled,qt.focus]]])+" "+(Dr("icon",{dense:g})||"")},Se.createElement(I2,{className:T})),o,Se.createElement(Pt,{id:"3097670863",dynamic:[Ge.grey900,qt.disabled,qt.focus]},[`label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;color:${Ge.grey900};font-size:14px;line-height:19px;}`,"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}",`label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:${qt.disabled};}`,"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:35px;margin-left:3px;}","label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:27px;}",".icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:5px;border:2px solid transparent;padding:1px;border-radius:14px;}","label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-right:3px;border-radius:12px;}",`input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{outline:3px solid ${qt.focus};outline-offset:-3px;}`]))}}Um(pT,"defaultProps",{checked:!1,dataTest:"dhis2-uicore-switch",role:"switch"});pT.propTypes={"aria-label":he.string,checked:he.bool,className:he.string,dataTest:he.string,dense:he.bool,disabled:he.bool,error:Ea,initialFocus:he.bool,label:he.node,name:he.string,role:he.string,tabIndex:he.string,valid:Ea,value:he.string,warning:Ea,onBlur:he.func,onChange:he.func,onFocus:he.func,onKeyDown:he.func};class pe extends Array{constructor(e,t){if(super(e),this.sign=t,Object.setPrototypeOf(this,pe.prototype),e>pe.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Math.floor,i=Number.isFinite;if(typeof e=="number"){if(e===0)return pe.__zero();if(pe.__isOneDigitInt(e))return 0>e?pe.__oneDigit(-e,!0):pe.__oneDigit(e,!1);if(!i(e)||t(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return pe.__fromDouble(e)}if(typeof e=="string"){const r=pe.__fromString(e);if(r===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return r}if(typeof e=="boolean")return e===!0?pe.__oneDigit(1,!1):pe.__zero();if(typeof e=="object"){if(e.constructor===pe)return e;const r=pe.__toPrimitive(e);return pe.BigInt(r)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const t of this)e.push((t&&(t>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":e&e-1?pe.__toStringGeneric(this,e,!1):pe.__toStringBasePowerOfTwo(this,e)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(e){const t=e.length;if(t===0)return 0;if(t===1){const E=e.__unsignedDigit(0);return e.sign?-E:E}const i=e.__digit(t-1),r=pe.__clz30(i),a=30*t-r;if(1024<a)return e.sign?-1/0:1/0;let o=a-1,s=i,d=t-1;const p=r+3;let m=p===32?0:s<<p;m>>>=12;const y=p-12;let g=12<=p?0:s<<20+p,_=20+p;for(0<y&&0<d&&(d--,s=e.__digit(d),m|=s>>>30-y,g=s<<y+2,_=y+2);0<_&&0<d;)d--,s=e.__digit(d),g|=30<=_?s<<_-30:s>>>30-_,_-=30;const x=pe.__decideRounding(e,_,d,s);if((x===1||x===0&&(1&g)==1)&&(g=g+1>>>0,g===0&&(m++,m>>>20!=0&&(m=0,o++,1023<o))))return e.sign?-1/0:1/0;const T=e.sign?-2147483648:0;return o=o+1023<<20,pe.__kBitConversionInts[1]=T|o|m,pe.__kBitConversionInts[0]=g,pe.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?pe.__absoluteSubOne(e).__trim():pe.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(t.length===0)return pe.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&!(1&t.__digit(0))?pe.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");let i=t.__unsignedDigit(0);if(i===1)return e;if(i>=pe.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const o=1+(0|i/30),s=e.sign&&(1&i)!=0,d=new pe(o,s);d.__initializeDigits();const p=1<<i%30;return d.__setDigit(o-1,p),d}let r=null,a=e;for(1&i&&(r=e),i>>=1;i!==0;i>>=1)a=pe.multiply(a,a),1&i&&(r===null?r=a:r=pe.multiply(r,a));return r}static multiply(e,t){if(e.length===0)return e;if(t.length===0)return t;let i=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&i--;const r=new pe(i,e.sign!==t.sign);r.__initializeDigits();for(let a=0;a<e.length;a++)pe.__multiplyAccumulate(t,e.__digit(a),r,a);return r.__trim()}static divide(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>pe.__absoluteCompare(e,t))return pe.__zero();const i=e.sign!==t.sign,r=t.__unsignedDigit(0);let a;if(t.length===1&&32767>=r){if(r===1)return i===e.sign?e:pe.unaryMinus(e);a=pe.__absoluteDivSmall(e,r,null)}else a=pe.__absoluteDivLarge(e,t,!0,!1);return a.sign=i,a.__trim()}static remainder(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>pe.__absoluteCompare(e,t))return e;const i=t.__unsignedDigit(0);if(t.length===1&&32767>=i){if(i===1)return pe.__zero();const a=pe.__absoluteModSmall(e,i);return a===0?pe.__zero():pe.__oneDigit(a,e.sign)}const r=pe.__absoluteDivLarge(e,t,!1,!0);return r.sign=e.sign,r.__trim()}static add(e,t){const i=e.sign;return i===t.sign?pe.__absoluteAdd(e,t,i):0<=pe.__absoluteCompare(e,t)?pe.__absoluteSub(e,t,i):pe.__absoluteSub(t,e,!i)}static subtract(e,t){const i=e.sign;return i===t.sign?0<=pe.__absoluteCompare(e,t)?pe.__absoluteSub(e,t,i):pe.__absoluteSub(t,e,!i):pe.__absoluteAdd(e,t,i)}static leftShift(e,t){return t.length===0||e.length===0?e:t.sign?pe.__rightShiftByAbsolute(e,t):pe.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return t.length===0||e.length===0?e:t.sign?pe.__leftShiftByAbsolute(e,t):pe.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>pe.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=pe.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<pe.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=pe.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e.__digit(i)!==t.__digit(i))return!1;return!0}static notEqual(e,t){return!pe.equal(e,t)}static bitwiseAnd(e,t){var i=Math.max;if(!e.sign&&!t.sign)return pe.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){const r=i(e.length,t.length)+1;let a=pe.__absoluteSubOne(e,r);const o=pe.__absoluteSubOne(t);return a=pe.__absoluteOr(a,o,a),pe.__absoluteAddOne(a,!0,a).__trim()}return e.sign&&([e,t]=[t,e]),pe.__absoluteAndNot(e,pe.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){var i=Math.max;if(!e.sign&&!t.sign)return pe.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){const o=i(e.length,t.length),s=pe.__absoluteSubOne(e,o),d=pe.__absoluteSubOne(t);return pe.__absoluteXor(s,d,s).__trim()}const r=i(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let a=pe.__absoluteSubOne(t,r);return a=pe.__absoluteXor(a,e,a),pe.__absoluteAddOne(a,!0,a).__trim()}static bitwiseOr(e,t){var i=Math.max;const r=i(e.length,t.length);if(!e.sign&&!t.sign)return pe.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let o=pe.__absoluteSubOne(e,r);const s=pe.__absoluteSubOne(t);return o=pe.__absoluteAnd(o,s,o),pe.__absoluteAddOne(o,!0,o).__trim()}e.sign&&([e,t]=[t,e]);let a=pe.__absoluteSubOne(t,r);return a=pe.__absoluteAndNot(a,e,a),pe.__absoluteAddOne(a,!0,a).__trim()}static asIntN(e,t){var i=Math.floor;if(t.length===0)return t;if(e=i(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return pe.__zero();if(e>=pe.__kMaxLengthBits)return t;const r=0|(e+29)/30;if(t.length<r)return t;const a=t.__unsignedDigit(r-1),o=1<<(e-1)%30;if(t.length===r&&a<o)return t;if((a&o)!==o)return pe.__truncateToNBits(e,t);if(!t.sign)return pe.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(a&o-1)){for(let s=r-2;0<=s;s--)if(t.__digit(s)!==0)return pe.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&a===o?t:pe.__truncateToNBits(e,t)}return pe.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){var i=Math.floor;if(t.length===0)return t;if(e=i(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return pe.__zero();if(t.sign){if(e>pe.__kMaxLengthBits)throw new RangeError("BigInt too big");return pe.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=pe.__kMaxLengthBits)return t;const r=0|(e+29)/30;if(t.length<r)return t;const a=e%30;return t.length==r&&(a===0||!(t.__digit(r-1)>>>a))?t:pe.__truncateToNBits(e,t)}static ADD(e,t){if(e=pe.__toPrimitive(e),t=pe.__toPrimitive(t),typeof e=="string")return typeof t!="string"&&(t=t.toString()),e+t;if(typeof t=="string")return e.toString()+t;if(e=pe.__toNumeric(e),t=pe.__toNumeric(t),pe.__isBigInt(e)&&pe.__isBigInt(t))return pe.add(e,t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return pe.__compare(e,t,0)}static LE(e,t){return pe.__compare(e,t,1)}static GT(e,t){return pe.__compare(e,t,2)}static GE(e,t){return pe.__compare(e,t,3)}static EQ(e,t){for(;;){if(pe.__isBigInt(e))return pe.__isBigInt(t)?pe.equal(e,t):pe.EQ(t,e);if(typeof e=="number"){if(pe.__isBigInt(t))return pe.__equalToNumber(t,e);if(typeof t!="object")return e==t;t=pe.__toPrimitive(t)}else if(typeof e=="string"){if(pe.__isBigInt(t))return e=pe.__fromString(e),e!==null&&pe.equal(e,t);if(typeof t!="object")return e==t;t=pe.__toPrimitive(t)}else if(typeof e=="boolean"){if(pe.__isBigInt(t))return pe.__equalToNumber(t,+e);if(typeof t!="object")return e==t;t=pe.__toPrimitive(t)}else if(typeof e=="symbol"){if(pe.__isBigInt(t))return!1;if(typeof t!="object")return e==t;t=pe.__toPrimitive(t)}else if(typeof e=="object"){if(typeof t=="object"&&t.constructor!==pe)return e==t;e=pe.__toPrimitive(e)}else return e==t}}static NE(e,t){return!pe.EQ(e,t)}static DataViewGetBigInt64(e,t,i=!1){return pe.asIntN(64,pe.DataViewGetBigUint64(e,t,i))}static DataViewGetBigUint64(e,t,i=!1){const[r,a]=i?[4,0]:[0,4],o=e.getUint32(t+r,i),s=e.getUint32(t+a,i),d=new pe(3,!1);return d.__setDigit(0,1073741823&s),d.__setDigit(1,(268435455&o)<<2|s>>>30),d.__setDigit(2,o>>>28),d.__trim()}static DataViewSetBigInt64(e,t,i,r=!1){pe.DataViewSetBigUint64(e,t,i,r)}static DataViewSetBigUint64(e,t,i,r=!1){i=pe.asUintN(64,i);let a=0,o=0;if(0<i.length&&(o=i.__digit(0),1<i.length)){const p=i.__digit(1);o|=p<<30,a=p>>>2,2<i.length&&(a|=i.__digit(2)<<28)}const[s,d]=r?[4,0]:[0,4];e.setUint32(t+s,a,r),e.setUint32(t+d,o,r)}static __zero(){return new pe(0,!1)}static __oneDigit(e,t){const i=new pe(1,t);return i.__setDigit(0,e),i}__copy(){const e=new pe(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;t===0;)e--,t=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,i,r){if(0<t)return-1;let a;if(0>t)a=-t-1;else{if(i===0)return-1;i--,r=e.__digit(i),a=29}let o=1<<a;if(!(r&o))return-1;if(o-=1,(r&o)!=0)return 1;for(;0<i;)if(i--,e.__digit(i)!==0)return 1;return 0}static __fromDouble(e){pe.__kBitConversionDouble[0]=e;const t=2047&pe.__kBitConversionInts[1]>>>20,i=t-1023,r=(0|i/30)+1,a=new pe(r,0>e);let o=1048575&pe.__kBitConversionInts[1]|1048576,s=pe.__kBitConversionInts[0];const d=20,p=i%30;let m,y=0;if(p<20){const g=d-p;y=g+32,m=o>>>g,o=o<<32-g|s>>>g,s<<=32-g}else if(p===20)y=32,m=o,o=s,s=0;else{const g=p-d;y=32-g,m=o<<g|s>>>32-g,o=s<<g,s=0}a.__setDigit(r-1,m);for(let g=r-2;0<=g;g--)0<y?(y-=30,m=o>>>2,o=o<<30|s>>>2,s<<=30):m=0,a.__setDigit(g,m);return a.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,t=0){let i=0;const r=e.length;let a=0;if(a===r)return pe.__zero();let o=e.charCodeAt(a);for(;pe.__isWhitespace(o);){if(++a===r)return pe.__zero();o=e.charCodeAt(a)}if(o===43){if(++a===r)return null;o=e.charCodeAt(a),i=1}else if(o===45){if(++a===r)return null;o=e.charCodeAt(a),i=-1}if(t===0){if(t=10,o===48){if(++a===r)return pe.__zero();if(o=e.charCodeAt(a),o===88||o===120){if(t=16,++a===r)return null;o=e.charCodeAt(a)}else if(o===79||o===111){if(t=8,++a===r)return null;o=e.charCodeAt(a)}else if(o===66||o===98){if(t=2,++a===r)return null;o=e.charCodeAt(a)}}}else if(t===16&&o===48){if(++a===r)return pe.__zero();if(o=e.charCodeAt(a),o===88||o===120){if(++a===r)return null;o=e.charCodeAt(a)}}if(i!=0&&t!==10)return null;for(;o===48;){if(++a===r)return pe.__zero();o=e.charCodeAt(a)}const s=r-a;let d=pe.__kMaxBitsPerChar[t],p=pe.__kBitsPerCharTableMultiplier-1;if(s>1073741824/d)return null;const m=d*s+p>>>pe.__kBitsPerCharTableShift,y=new pe(0|(m+29)/30,!1),g=10>t?t:10,_=10<t?t-10:0;if(t&t-1){y.__initializeDigits();let x=!1,T=0;do{let E=0,k=1;for(;;){let w;if(o-48>>>0<g)w=o-48;else if((32|o)-97>>>0<_)w=(32|o)-87;else{x=!0;break}const N=k*t;if(1073741823<N)break;if(k=N,E=E*t+w,T++,++a===r){x=!0;break}o=e.charCodeAt(a)}p=30*pe.__kBitsPerCharTableMultiplier-1;const v=0|(d*T+p>>>pe.__kBitsPerCharTableShift)/30;y.__inplaceMultiplyAdd(k,E,v)}while(!x)}else{d>>=pe.__kBitsPerCharTableShift;const x=[],T=[];let E=!1;do{let k=0,v=0;for(;;){let w;if(o-48>>>0<g)w=o-48;else if((32|o)-97>>>0<_)w=(32|o)-87;else{E=!0;break}if(v+=d,k=k<<d|w,++a===r){E=!0;break}if(o=e.charCodeAt(a),30<v+d)break}x.push(k),T.push(v)}while(!E);pe.__fillFromParts(y,x,T)}if(a!==r){if(!pe.__isWhitespace(o))return null;for(a++;a<r;a++)if(o=e.charCodeAt(a),!pe.__isWhitespace(o))return null}return y.sign=i==-1,y.__trim()}static __fillFromParts(e,t,i){let r=0,a=0,o=0;for(let s=t.length-1;0<=s;s--){const d=t[s],p=i[s];a|=d<<o,o+=p,o===30?(e.__setDigit(r++,a),o=0,a=0):30<o&&(e.__setDigit(r++,1073741823&a),o-=30,a=d>>>p-o)}if(a!==0){if(r>=e.length)throw new Error("implementation bug");e.__setDigit(r++,a)}for(;r<e.length;r++)e.__setDigit(r,0)}static __toStringBasePowerOfTwo(e,t){const i=e.length;let r=t-1;r=(85&r>>>1)+(85&r),r=(51&r>>>2)+(51&r),r=(15&r>>>4)+(15&r);const a=r,o=t-1,s=e.__digit(i-1),d=pe.__clz30(s);let p=0|(30*i-d+a-1)/a;if(e.sign&&p++,268435456<p)throw new Error("string too long");const m=Array(p);let y=p-1,g=0,_=0;for(let T=0;T<i-1;T++){const E=e.__digit(T),k=(g|E<<_)&o;m[y--]=pe.__kConversionChars[k];const v=a-_;for(g=E>>>v,_=30-v;_>=a;)m[y--]=pe.__kConversionChars[g&o],g>>>=a,_-=a}const x=(g|s<<_)&o;for(m[y--]=pe.__kConversionChars[x],g=s>>>a-_;g!==0;)m[y--]=pe.__kConversionChars[g&o],g>>>=a;if(e.sign&&(m[y--]="-"),y!=-1)throw new Error("implementation bug");return m.join("")}static __toStringGeneric(e,t,i){const r=e.length;if(r===0)return"";if(r===1){let T=e.__unsignedDigit(0).toString(t);return i===!1&&e.sign&&(T="-"+T),T}const a=30*r-pe.__clz30(e.__digit(r-1)),o=pe.__kMaxBitsPerChar[t],s=o-1;let d=a*pe.__kBitsPerCharTableMultiplier;d+=s-1,d=0|d/s;const p=d+1>>1,m=pe.exponentiate(pe.__oneDigit(t,!1),pe.__oneDigit(p,!1));let y,g;const _=m.__unsignedDigit(0);if(m.length===1&&32767>=_){y=new pe(e.length,!1),y.__initializeDigits();let T=0;for(let E=2*e.length-1;0<=E;E--){const k=T<<15|e.__halfDigit(E);y.__setHalfDigit(E,0|k/_),T=0|k%_}g=T.toString(t)}else{const T=pe.__absoluteDivLarge(e,m,!0,!0);y=T.quotient;const E=T.remainder.__trim();g=pe.__toStringGeneric(E,t,!0)}y.__trim();let x=pe.__toStringGeneric(y,t,!0);for(;g.length<p;)g="0"+g;return i===!1&&e.sign&&(x="-"+x),x+g}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){const i=e.sign;if(i!==t.sign)return pe.__unequalSign(i);const r=pe.__absoluteCompare(e,t);return 0<r?pe.__absoluteGreater(i):0>r?pe.__absoluteLess(i):0}static __compareToNumber(e,t){if(pe.__isOneDigitInt(t)){const i=e.sign,r=0>t;if(i!==r)return pe.__unequalSign(i);if(e.length===0){if(r)throw new Error("implementation bug");return t===0?0:-1}if(1<e.length)return pe.__absoluteGreater(i);const a=Math.abs(t),o=e.__unsignedDigit(0);return o>a?pe.__absoluteGreater(i):o<a?pe.__absoluteLess(i):0}return pe.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;const i=e.sign;if(i!==0>t)return pe.__unequalSign(i);if(t===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;pe.__kBitConversionDouble[0]=t;const r=2047&pe.__kBitConversionInts[1]>>>20;if(r==2047)throw new Error("implementation bug: handled elsewhere");const a=r-1023;if(0>a)return pe.__absoluteGreater(i);const o=e.length;let s=e.__digit(o-1);const d=pe.__clz30(s),p=30*o-d,m=a+1;if(p<m)return pe.__absoluteLess(i);if(p>m)return pe.__absoluteGreater(i);let y=1048576|1048575&pe.__kBitConversionInts[1],g=pe.__kBitConversionInts[0];const _=20,x=29-d;if(x!==(0|(p-1)%30))throw new Error("implementation bug");let T,E=0;if(20>x){const k=_-x;E=k+32,T=y>>>k,y=y<<32-k|g>>>k,g<<=32-k}else if(x===20)E=32,T=y,y=g,g=0;else{const k=x-_;E=32-k,T=y<<k|g>>>32-k,y=g<<k,g=0}if(s>>>=0,T>>>=0,s>T)return pe.__absoluteGreater(i);if(s<T)return pe.__absoluteLess(i);for(let k=o-2;0<=k;k--){0<E?(E-=30,T=y>>>2,y=y<<30|g>>>2,g<<=30):T=0;const v=e.__unsignedDigit(k);if(v>T)return pe.__absoluteGreater(i);if(v<T)return pe.__absoluteLess(i)}if(y!==0||g!==0){if(E===0)throw new Error("implementation bug");return pe.__absoluteLess(i)}return 0}static __equalToNumber(e,t){var i=Math.abs;return pe.__isOneDigitInt(t)?t===0?e.length===0:e.length===1&&e.sign===0>t&&e.__unsignedDigit(0)===i(t):pe.__compareToDouble(e,t)===0}static __comparisonResultToBool(e,t){return t===0?0>e:t===1?0>=e:t===2?0<e:t===3?0<=e:void 0}static __compare(e,t,i){if(e=pe.__toPrimitive(e),t=pe.__toPrimitive(t),typeof e=="string"&&typeof t=="string")switch(i){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(pe.__isBigInt(e)&&typeof t=="string")return t=pe.__fromString(t),t!==null&&pe.__comparisonResultToBool(pe.__compareToBigInt(e,t),i);if(typeof e=="string"&&pe.__isBigInt(t))return e=pe.__fromString(e),e!==null&&pe.__comparisonResultToBool(pe.__compareToBigInt(e,t),i);if(e=pe.__toNumeric(e),t=pe.__toNumeric(t),pe.__isBigInt(e)){if(pe.__isBigInt(t))return pe.__comparisonResultToBool(pe.__compareToBigInt(e,t),i);if(typeof t!="number")throw new Error("implementation bug");return pe.__comparisonResultToBool(pe.__compareToNumber(e,t),i)}if(typeof e!="number")throw new Error("implementation bug");if(pe.__isBigInt(t))return pe.__comparisonResultToBool(pe.__compareToNumber(t,e),2^i);if(typeof t!="number")throw new Error("implementation bug");return i===0?e<t:i===1?e<=t:i===2?e>t:i===3?e>=t:void 0}__clzmsd(){return pe.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,i){if(e.length<t.length)return pe.__absoluteAdd(t,e,i);if(e.length===0)return e;if(t.length===0)return e.sign===i?e:pe.unaryMinus(e);let r=e.length;(e.__clzmsd()===0||t.length===e.length&&t.__clzmsd()===0)&&r++;const a=new pe(r,i);let o=0,s=0;for(;s<t.length;s++){const d=e.__digit(s)+t.__digit(s)+o;o=d>>>30,a.__setDigit(s,1073741823&d)}for(;s<e.length;s++){const d=e.__digit(s)+o;o=d>>>30,a.__setDigit(s,1073741823&d)}return s<a.length&&a.__setDigit(s,o),a.__trim()}static __absoluteSub(e,t,i){if(e.length===0)return e;if(t.length===0)return e.sign===i?e:pe.unaryMinus(e);const r=new pe(e.length,i);let a=0,o=0;for(;o<t.length;o++){const s=e.__digit(o)-t.__digit(o)-a;a=1&s>>>30,r.__setDigit(o,1073741823&s)}for(;o<e.length;o++){const s=e.__digit(o)-a;a=1&s>>>30,r.__setDigit(o,1073741823&s)}return r.__trim()}static __absoluteAddOne(e,t,i=null){const r=e.length;i===null?i=new pe(r,t):i.sign=t;let a=1;for(let o=0;o<r;o++){const s=e.__digit(o)+a;a=s>>>30,i.__setDigit(o,1073741823&s)}return a!=0&&i.__setDigitGrow(r,1),i}static __absoluteSubOne(e,t){const i=e.length;t=t||i;const r=new pe(t,!1);let a=1;for(let o=0;o<i;o++){const s=e.__digit(o)-a;a=1&s>>>30,r.__setDigit(o,1073741823&s)}if(a!=0)throw new Error("implementation bug");for(let o=i;o<t;o++)r.__setDigit(o,0);return r}static __absoluteAnd(e,t,i=null){let r=e.length,a=t.length,o=a;if(r<a){o=r;const p=e,m=r;e=t,r=a,t=p,a=m}let s=o;i===null?i=new pe(s,!1):s=i.length;let d=0;for(;d<o;d++)i.__setDigit(d,e.__digit(d)&t.__digit(d));for(;d<s;d++)i.__setDigit(d,0);return i}static __absoluteAndNot(e,t,i=null){const r=e.length,a=t.length;let o=a;r<a&&(o=r);let s=r;i===null?i=new pe(s,!1):s=i.length;let d=0;for(;d<o;d++)i.__setDigit(d,e.__digit(d)&~t.__digit(d));for(;d<r;d++)i.__setDigit(d,e.__digit(d));for(;d<s;d++)i.__setDigit(d,0);return i}static __absoluteOr(e,t,i=null){let r=e.length,a=t.length,o=a;if(r<a){o=r;const p=e,m=r;e=t,r=a,t=p,a=m}let s=r;i===null?i=new pe(s,!1):s=i.length;let d=0;for(;d<o;d++)i.__setDigit(d,e.__digit(d)|t.__digit(d));for(;d<r;d++)i.__setDigit(d,e.__digit(d));for(;d<s;d++)i.__setDigit(d,0);return i}static __absoluteXor(e,t,i=null){let r=e.length,a=t.length,o=a;if(r<a){o=r;const p=e,m=r;e=t,r=a,t=p,a=m}let s=r;i===null?i=new pe(s,!1):s=i.length;let d=0;for(;d<o;d++)i.__setDigit(d,e.__digit(d)^t.__digit(d));for(;d<r;d++)i.__setDigit(d,e.__digit(d));for(;d<s;d++)i.__setDigit(d,0);return i}static __absoluteCompare(e,t){const i=e.length-t.length;if(i!=0)return i;let r=e.length-1;for(;0<=r&&e.__digit(r)===t.__digit(r);)r--;return 0>r?0:e.__unsignedDigit(r)>t.__unsignedDigit(r)?1:-1}static __multiplyAccumulate(e,t,i,r){if(t===0)return;const a=32767&t,o=t>>>15;let s=0,d=0;for(let p,m=0;m<e.length;m++,r++){p=i.__digit(r);const y=e.__digit(m),g=32767&y,_=y>>>15,x=pe.__imul(g,a),T=pe.__imul(g,o),E=pe.__imul(_,a),k=pe.__imul(_,o);p+=d+x+s,s=p>>>30,p&=1073741823,p+=((32767&T)<<15)+((32767&E)<<15),s+=p>>>30,d=k+(T>>>15)+(E>>>15),i.__setDigit(r,1073741823&p)}for(;s!=0||d!==0;r++){let p=i.__digit(r);p+=s+d,d=0,s=p>>>30,i.__setDigit(r,1073741823&p)}}static __internalMultiplyAdd(e,t,i,r,a){let o=i,s=0;for(let d=0;d<r;d++){const p=e.__digit(d),m=pe.__imul(32767&p,t),y=pe.__imul(p>>>15,t),g=m+((32767&y)<<15)+s+o;o=g>>>30,s=y>>>15,a.__setDigit(d,1073741823&g)}if(a.length>r)for(a.__setDigit(r++,o+s);r<a.length;)a.__setDigit(r++,0);else if(o+s!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,t,i){i>this.length&&(i=this.length);const r=32767&e,a=e>>>15;let o=0,s=t;for(let d=0;d<i;d++){const p=this.__digit(d),m=32767&p,y=p>>>15,g=pe.__imul(m,r),_=pe.__imul(m,a),x=pe.__imul(y,r),T=pe.__imul(y,a);let E=s+g+o;o=E>>>30,E&=1073741823,E+=((32767&_)<<15)+((32767&x)<<15),o+=E>>>30,s=T+(_>>>15)+(x>>>15),this.__setDigit(d,1073741823&E)}if(o!=0||s!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,t,i=null){i===null&&(i=new pe(e.length,!1));let r=0;for(let a,o=2*e.length-1;0<=o;o-=2){a=(r<<15|e.__halfDigit(o))>>>0;const s=0|a/t;r=0|a%t,a=(r<<15|e.__halfDigit(o-1))>>>0;const d=0|a/t;r=0|a%t,i.__setDigit(o>>>1,s<<15|d)}return i}static __absoluteModSmall(e,t){let i=0;for(let r=2*e.length-1;0<=r;r--)i=0|((i<<15|e.__halfDigit(r))>>>0)%t;return i}static __absoluteDivLarge(e,t,i,r){const a=t.__halfDigitLength(),o=t.length,s=e.__halfDigitLength()-a;let d=null;i&&(d=new pe(s+2>>>1,!1),d.__initializeDigits());const p=new pe(a+2>>>1,!1);p.__initializeDigits();const m=pe.__clz15(t.__halfDigit(a-1));0<m&&(t=pe.__specialLeftShift(t,m,0));const y=pe.__specialLeftShift(e,m,1),g=t.__halfDigit(a-1);let _=0;for(let x,T=s;0<=T;T--){x=32767;const E=y.__halfDigit(T+a);if(E!==g){const v=(E<<15|y.__halfDigit(T+a-1))>>>0;x=0|v/g;let w=0|v%g;const N=t.__halfDigit(a-2),S=y.__halfDigit(T+a-2);for(;pe.__imul(x,N)>>>0>(w<<16|S)>>>0&&(x--,w+=g,!(32767<w)););}pe.__internalMultiplyAdd(t,x,0,o,p);let k=y.__inplaceSub(p,T,a+1);k!==0&&(k=y.__inplaceAdd(t,T,a),y.__setHalfDigit(T+a,32767&y.__halfDigit(T+a)+k),x--),i&&(1&T?_=x<<15:d.__setDigit(T>>>1,_|x))}if(r)return y.__inplaceRightShift(m),i?{quotient:d,remainder:y}:y;if(i)return d;throw new Error("unreachable")}static __clz15(e){return pe.__clz30(e)-15}__inplaceAdd(e,t,i){let r=0;for(let a=0;a<i;a++){const o=this.__halfDigit(t+a)+e.__halfDigit(a)+r;r=o>>>15,this.__setHalfDigit(t+a,32767&o)}return r}__inplaceSub(e,t,i){let r=0;if(1&t){t>>=1;let a=this.__digit(t),o=32767&a,s=0;for(;s<i-1>>>1;s++){const m=e.__digit(s),y=(a>>>15)-(32767&m)-r;r=1&y>>>15,this.__setDigit(t+s,(32767&y)<<15|32767&o),a=this.__digit(t+s+1),o=(32767&a)-(m>>>15)-r,r=1&o>>>15}const d=e.__digit(s),p=(a>>>15)-(32767&d)-r;if(r=1&p>>>15,this.__setDigit(t+s,(32767&p)<<15|32767&o),t+s+1>=this.length)throw new RangeError("out of bounds");!(1&i)&&(a=this.__digit(t+s+1),o=(32767&a)-(d>>>15)-r,r=1&o>>>15,this.__setDigit(t+e.length,1073709056&a|32767&o))}else{t>>=1;let a=0;for(;a<e.length-1;a++){const m=this.__digit(t+a),y=e.__digit(a),g=(32767&m)-(32767&y)-r;r=1&g>>>15;const _=(m>>>15)-(y>>>15)-r;r=1&_>>>15,this.__setDigit(t+a,(32767&_)<<15|32767&g)}const o=this.__digit(t+a),s=e.__digit(a),d=(32767&o)-(32767&s)-r;r=1&d>>>15;let p=0;!(1&i)&&(p=(o>>>15)-(s>>>15)-r,r=1&p>>>15),this.__setDigit(t+a,(32767&p)<<15|32767&d)}return r}__inplaceRightShift(e){if(e===0)return;let t=this.__digit(0)>>>e;const i=this.length-1;for(let r=0;r<i;r++){const a=this.__digit(r+1);this.__setDigit(r,1073741823&a<<30-e|t),t=a>>>e}this.__setDigit(i,t)}static __specialLeftShift(e,t,i){const r=e.length,a=new pe(r+i,!1);if(t===0){for(let s=0;s<r;s++)a.__setDigit(s,e.__digit(s));return 0<i&&a.__setDigit(r,0),a}let o=0;for(let s=0;s<r;s++){const d=e.__digit(s);a.__setDigit(s,1073741823&d<<t|o),o=d>>>30-t}return 0<i&&a.__setDigit(r,o),a}static __leftShiftByAbsolute(e,t){const i=pe.__toShiftAmount(t);if(0>i)throw new RangeError("BigInt too big");const r=0|i/30,a=i%30,o=e.length,s=a!==0&&e.__digit(o-1)>>>30-a!=0,d=o+r+(s?1:0),p=new pe(d,e.sign);if(a===0){let m=0;for(;m<r;m++)p.__setDigit(m,0);for(;m<d;m++)p.__setDigit(m,e.__digit(m-r))}else{let m=0;for(let y=0;y<r;y++)p.__setDigit(y,0);for(let y=0;y<o;y++){const g=e.__digit(y);p.__setDigit(y+r,1073741823&g<<a|m),m=g>>>30-a}if(s)p.__setDigit(o+r,m);else if(m!==0)throw new Error("implementation bug")}return p.__trim()}static __rightShiftByAbsolute(e,t){const i=e.length,r=e.sign,a=pe.__toShiftAmount(t);if(0>a)return pe.__rightShiftByMaximum(r);const o=0|a/30,s=a%30;let d=i-o;if(0>=d)return pe.__rightShiftByMaximum(r);let p=!1;if(r){if(e.__digit(o)&(1<<s)-1)p=!0;else for(let y=0;y<o;y++)if(e.__digit(y)!==0){p=!0;break}}p&&s===0&&!~e.__digit(i-1)&&d++;let m=new pe(d,r);if(s===0){m.__setDigit(d-1,0);for(let y=o;y<i;y++)m.__setDigit(y-o,e.__digit(y))}else{let y=e.__digit(o)>>>s;const g=i-o-1;for(let _=0;_<g;_++){const x=e.__digit(_+o+1);m.__setDigit(_,1073741823&x<<30-s|y),y=x>>>s}m.__setDigit(g,y)}return p&&(m=pe.__absoluteAddOne(m,!0,m)),m.__trim()}static __rightShiftByMaximum(e){return e?pe.__oneDigit(1,!0):pe.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const t=e.__unsignedDigit(0);return t>pe.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if(typeof e!="object"||e.constructor===pe)return e;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){const a=e[Symbol.toPrimitive];if(a){const o=a(t);if(typeof o!="object")return o;throw new TypeError("Cannot convert object to primitive value")}}const i=e.valueOf;if(i){const a=i.call(e);if(typeof a!="object")return a}const r=e.toString;if(r){const a=r.call(e);if(typeof a!="object")return a}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return pe.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e!==null&&e.constructor===pe}static __truncateToNBits(e,t){const i=0|(e+29)/30,r=new pe(i,t.sign),a=i-1;for(let s=0;s<a;s++)r.__setDigit(s,t.__digit(s));let o=t.__digit(a);if(e%30!=0){const s=32-e%30;o=o<<s>>>s}return r.__setDigit(a,o),r.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,i){var r=Math.min;const a=0|(e+29)/30,o=new pe(a,i);let s=0;const d=a-1;let p=0;for(const _=r(d,t.length);s<_;s++){const x=0-t.__digit(s)-p;p=1&x>>>30,o.__setDigit(s,1073741823&x)}for(;s<d;s++)o.__setDigit(s,0|1073741823&-p);let m=d<t.length?t.__digit(d):0;const y=e%30;let g;if(y==0)g=0-m-p,g&=1073741823;else{const _=32-y;m=m<<_>>>_;const x=1<<32-_;g=x-m-p,g&=x-1}return o.__setDigit(d,g),o.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){const i=e>>>1,r=this.__digit(i),a=1&e?32767&r|t<<15:1073709056&r|32767&t;this.__setDigit(i,a)}static __digitPow(e,t){let i=1;for(;0<t;)1&t&&(i*=e),t>>>=1,e*=e;return i}static __isOneDigitInt(e){return(1073741823&e)===e}}pe.__kMaxLength=33554432,pe.__kMaxLengthBits=pe.__kMaxLength<<5,pe.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],pe.__kBitsPerCharTableShift=5,pe.__kBitsPerCharTableMultiplier=1<<pe.__kBitsPerCharTableShift,pe.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],pe.__kBitConversionBuffer=new ArrayBuffer(8),pe.__kBitConversionDouble=new Float64Array(pe.__kBitConversionBuffer),pe.__kBitConversionInts=new Int32Array(pe.__kBitConversionBuffer),pe.__clz30=Math.clz32?function(n){return Math.clz32(n)-2}:function(n){return n===0?30:0|29-(0|Math.log(n>>>0)/Math.LN2)},pe.__imul=Math.imul||function(n,e){return 0|n*e};const o1={};function uu(n,e){Object.defineProperty(n.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(const t of Object.getOwnPropertyNames(n)){const i=Object.getOwnPropertyDescriptor(n,t);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(n,t,i))}for(const t of Object.getOwnPropertyNames(n.prototype)){const i=Object.getOwnPropertyDescriptor(n.prototype,t);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(n.prototype,t,i))}l1(e,n),l1(`${e}.prototype`,n.prototype)}function l1(n,e){const t=`%${n}%`;if(o1[t]!==void 0)throw new Error(`intrinsic ${n} already exists`);o1[t]=e}function Fn(n){return o1[n]}const zn="slot-epochNanoSeconds",Dd="slot-timezone-identifier",dn="slot-year",gn="slot-month",_n="slot-day",Zn="slot-hour",Kn="slot-minute",Qn="slot-second",Jn="slot-millisecond",ei="slot-microsecond",ti="slot-nanosecond",Nt="slot-calendar",fs="slot-cached-instant",Gi="slot-time-zone",As="slot-years",Oa="slot-months",eo="slot-weeks",Ps="slot-days",Ds="slot-hours",Ms="slot-minutes",Os="slot-seconds",Rs="slot-milliseconds",$s="slot-microseconds",zs="slot-nanoseconds",qr="slot-calendar-identifier",A2=new WeakMap;function du(n){A2.set(n,Object.create(null))}function mT(n){return A2.get(n)}function Na(n,...e){if(!n||typeof n!="object")return!1;const t=mT(n);return!!t&&e.reduce((i,r)=>i&&r in t,!0)}function Z(n,e){const t=mT(n)[e];if(t===void 0)throw new TypeError(`Missing internal slot ${e}`);return t}function si(n,e,t){mT(n)[e]=t}const CE=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,H$=new RegExp(`(?:(?:${CE.source})(?:\\/(?:${CE.source}))*|Etc/GMT[-+]\\d{1,2}|${/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source})`),EE=/[A-Za-z0-9]{3,8}/,X$=new RegExp(`(?:${EE.source}(?:-${EE.source})*)`),P2=/(?:[+\u2212-]\d{6}|\d{4})/,vb=/(?:0[1-9]|1[0-2])/,c1=/(?:0[1-9]|[12]\d|3[01])/,Z$=new RegExp(`(${P2.source})(?:-(${vb.source})-(${c1.source})|(${vb.source})(${c1.source}))`),D2=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,M2=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,O2=new RegExp(`(?:([zZ])|(?:${M2.source})?)(?:\\[(${H$.source})\\])?`),R2=new RegExp(`\\[u-ca=(${X$.source})\\]`),K$=new RegExp(`^${Z$.source}(?:(?:T|\\s+)${D2.source})?${O2.source}(?:${R2.source})?$`,"i"),Q$=new RegExp(`^T?${D2.source}(?:${O2.source})?(?:${R2.source})?$`,"i"),J$=new RegExp(`^(${P2.source})-?(${vb.source})$`),ez=new RegExp(`^(?:--)?(${vb.source})-?(${c1.source})$`),sw=/(\d+)(?:[.,](\d{1,9}))?/,tz=new RegExp(`(?:${sw.source}H)?(?:${sw.source}M)?(?:${sw.source}S)?`),nz=new RegExp(`^([+−-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${tz.source})?$`,"i"),$2=Array.prototype.includes,fT=Array.prototype.push,z2=globalThis.Intl.DateTimeFormat,iz=Math.min,rz=Math.max,Ii=Math.abs,Ca=Math.floor,by=Math.sign,Gm=Math.trunc,ev=Number.isNaN,za=Number.isFinite,az=Number,tv=String,sz=Number.MAX_SAFE_INTEGER,F2=Object.assign,ts=Object.create,oz=Object.getOwnPropertyDescriptor,lz=Object.is,gT=Reflect.apply,Hr=pe.BigInt(0),yT=pe.BigInt(1),op=pe.BigInt(60),Yi=pe.BigInt(1e3),ml=pe.BigInt(1e6),Vu=pe.BigInt(1e9),cz=pe.BigInt(-1),Vd=pe.multiply(pe.BigInt(86400),Vu),_y=pe.multiply(pe.BigInt(-86400),pe.BigInt(1e17)),wy=pe.multiply(pe.BigInt(86400),pe.BigInt(1e17)),j2=pe.multiply(pe.BigInt(-388152),pe.BigInt(1e13)),uz=pe.multiply(Vd,pe.BigInt(3660)),B2=pe.multiply(Vd,pe.BigInt(366)),U2=pe.multiply(Vd,pe.BigInt(14)),dz=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function G2(n){if(typeof n!="number"||!za(n))return!1;const e=Ii(n);return Ca(e)===e}function or(n){return typeof n=="object"&&n!==null||typeof n=="function"}function Ty(n){if(typeof n=="bigint")throw new TypeError("Cannot convert BigInt to number");return az(n)}function Vi(n){const e=Ty(n);if(ev(e))return 0;const t=Gm(e);return e===0?0:t}function Wn(n){if(typeof n=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return tv(n)}function Ji(n){const e=Vi(n);if(!za(e))throw new RangeError("infinity is out of range");return e}function Sy(n,e){const t=Vi(n);if(!za(t))throw new RangeError("infinity is out of range");if(t<1)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return t}function Sa(n){const e=Ty(n);if(ev(e))return 0;if(!za(e))throw new RangeError("infinity is out of range");if(!G2(e))throw new RangeError(`unsupported fractional value ${e}`);return Vi(e)}function Ta(n,e){return{quotient:pe.divide(n,e),remainder:pe.remainder(n,e)}}function vT(n){return pe.lessThan(n,Hr)?pe.multiply(n,cz):n}function u1(n,...e){return fT.apply(n,e),n}const kE=new Map([["year",Ji],["month",Sy],["monthCode",Wn],["day",Sy],["hour",Ji],["minute",Ji],["second",Ji],["millisecond",Ji],["microsecond",Ji],["nanosecond",Ji],["years",Sa],["months",Sa],["weeks",Sa],["days",Sa],["hours",Sa],["minutes",Sa],["seconds",Sa],["milliseconds",Sa],["microseconds",Sa],["nanoseconds",Sa],["era",Wn],["eraYear",Vi],["offset",Wn]]),hz=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),Mf=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],xb=new Map(Mf.map(n=>[n[0],n[1]])),pz=new Map(Mf.map(([n,e])=>[e,n])),NE=Mf.map(([,n])=>n),LE=Array.from(xb.keys()).sort(),IE=new Map;function Y2(n){let e=IE.get(n);return e===void 0&&(e=new z2("en-us",{timeZone:tv(n),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),IE.set(n,e)),e}function ya(n){return Na(n,zn)&&!Na(n,Gi,Nt)}function Gc(n){return Na(n,Dd)}function Wr(n){return Na(n,qr)}function Ir(n){return Na(n,As,Oa,Ps,Ds,Ms,Os,Rs,$s,zs)}function Ti(n){return Na(n,"slot-date-brand")}function Ar(n){return Na(n,Zn,Kn,Qn,Jn,ei,ti)&&!Na(n,dn,gn,_n)}function ai(n){return Na(n,dn,gn,_n,Zn,Kn,Qn,Jn,ei,ti)}function Oi(n){return Na(n,"slot-year-month-brand")}function Ra(n){return Na(n,"slot-month-day-brand")}function En(n){return Na(n,zn,Gi,Nt)}function Of(n){if(Na(n,Nt)||Na(n,Gi))throw new TypeError("with() does not support a calendar or timeZone property");if(n.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(n.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function V2(n){let{ianaName:e,offset:t,z:i}=function(a){try{let o=CT(a);if(o)return{ianaName:o.toString()}}catch{}try{const o=hu(a);if(o.z||o.offset||o.ianaName)return o}catch{}throw new RangeError(`Invalid time zone: ${a}`)}(n);return e||(i?"UTC":t)}function nv(n,e){return e==="never"||e==="auto"&&n==="iso8601"?"":`[u-ca=${n}]`}function hu(n){const e=K$.exec(n);if(!e)throw new RangeError(`invalid ISO 8601 string: ${n}`);let t=e[1];if(t[0]==="−"&&(t=`-${t.slice(1)}`),t==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);const i=Vi(t),r=Vi(e[2]||e[4]),a=Vi(e[3]||e[5]),o=Vi(e[6]),s=e[6]!==void 0,d=Vi(e[7]||e[10]);let p=Vi(e[8]||e[11]);p===60&&(p=59);const m=(e[9]||e[12])+"000000000",y=Vi(m.slice(0,3)),g=Vi(m.slice(3,6)),_=Vi(m.slice(6,9));let x,T=!1;if(e[13])x=void 0,T=!0;else if(e[14]&&e[15]){const v=e[14]==="-"||e[14]==="−"?"-":"+",w=e[15]||"00",N=e[16]||"00",S=e[17]||"00";let L=e[18]||"0";if(x=`${v}${w}:${N}`,+L){for(;L.endsWith("0");)L=L.slice(0,-1);x+=`:${S}.${L}`}else+S&&(x+=`:${S}`);x==="-00:00"&&(x="+00:00")}let E=e[19];if(E)try{E=CT(E).toString()}catch{}const k=e[20];return LT(i,r,a,o,d,p,y,g,_),{year:i,month:r,day:a,hasTime:s,hour:o,minute:d,second:p,millisecond:y,microsecond:g,nanosecond:_,ianaName:E,offset:x,z:T,calendar:k}}function W2(n){const e=J$.exec(n);let t,i,r,a;if(e){let o=e[1];if(o[0]==="−"&&(o=`-${o.slice(1)}`),o==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);t=Vi(o),i=Vi(e[2]),r=e[3]}else{let o;if({year:t,month:i,calendar:r,day:a,z:o}=hu(n),o)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:t,month:i,calendar:r,referenceISODay:a}}function q2(n){const e=ez.exec(n);let t,i,r,a;if(e)t=Vi(e[1]),i=Vi(e[2]);else{let o;if({month:t,day:i,calendar:r,year:a,z:o}=hu(n),o)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:t,day:i,calendar:r,referenceISOYear:a}}function mz(n){const e=nz.exec(n);if(!e)throw new RangeError(`invalid duration: ${n}`);if(e.slice(2).every(E=>E===void 0))throw new RangeError(`invalid duration: ${n}`);const t=e[1]==="-"||e[1]==="−"?-1:1,i=Vi(e[2])*t,r=Vi(e[3])*t,a=Vi(e[4])*t,o=Vi(e[5])*t,s=Vi(e[6])*t;let d=e[7],p=Vi(e[8])*t,m=e[9],y=Vi(e[10])*t;const g=e[11]+"000000000";let _=Vi(g.slice(0,3))*t,x=Vi(g.slice(3,6))*t,T=Vi(g.slice(6,9))*t;return d=d?t*Vi(d)/10**d.length:0,m=m?t*Vi(m)/10**m.length:0,{minutes:p,seconds:y,milliseconds:_,microseconds:x,nanoseconds:T}=function(k,v,w,N,S,L,O){let Y=k,X=v,H=w,$=N,G=S,B=L,M=O;if(Y!==0){[X,H,$,G,B,M].forEach(V=>{if(V!==0)throw new RangeError("only the smallest unit can be fractional")});const D=60*Y;X=Gm(D),H=D%1}if(H!==0){[$,G,B,M].forEach(F=>{if(F!==0)throw new RangeError("only the smallest unit can be fractional")});const D=60*H;$=Gm(D);const V=D%1;if(V!==0){const F=1e3*V;G=Gm(F);const z=F%1;if(z!==0){const W=1e3*z;B=Gm(W);const q=W%1;q!==0&&(M=Gm(1e3*q))}}}return{minutes:X,seconds:$,milliseconds:G,microseconds:B,nanoseconds:M}}(d,p,m,y,_,x,T),T0(i,r,a,o,s,p,y,_,x,T),{years:i,months:r,weeks:a,days:o,hours:s,minutes:p,seconds:y,milliseconds:_,microseconds:x,nanoseconds:T}}function fz(n){let{year:e,month:t,day:i,hour:r,minute:a,second:o,millisecond:s,microsecond:d,nanosecond:p,offset:m,z:y}=function(T){const E=hu(T);if(!E.z&&!E.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return E}(n);if(!y&&!m)throw new RangeError("Temporal.Instant requires a time zone offset");const g=y?0:gp(m);({year:e,month:t,day:i,hour:r,minute:a,second:o,millisecond:s,microsecond:d,nanosecond:p}=kT(e,t,i,r,a,o,s,d,p-g));const _=Hd(e,t,i,r,a,o,s,d,p);if(_===null)throw new RangeError("DateTime outside of supported range");return _}function bb(n,e,t,i){let r=n,a=e,o=t;switch(i){case"reject":eu(r,a,o);break;case"constrain":({year:r,month:a,day:o}=lI(r,a,o))}return{year:r,month:a,day:o}}function u0(n,e,t,i,r,a,o){let s=n,d=e,p=t,m=i,y=r,g=a;switch(o){case"reject":w0(s,d,p,m,y,g);break;case"constrain":({hour:s,minute:d,second:p,millisecond:m,microsecond:y,nanosecond:g}=function(x,T,E,k,v,w){const N=So(x,0,23),S=So(T,0,59),L=So(E,0,59),O=So(k,0,999),Y=So(v,0,999),X=So(w,0,999);return{hour:N,minute:S,second:L,millisecond:O,microsecond:Y,nanosecond:X}}(s,d,p,m,y,g))}return{hour:s,minute:d,second:p,millisecond:m,microsecond:y,nanosecond:g}}function Dp(n){if(!or(n))return mz(Wn(n));if(Ir(n))return{years:Z(n,As),months:Z(n,Oa),weeks:Z(n,eo),days:Z(n,Ps),hours:Z(n,Ds),minutes:Z(n,Ms),seconds:Z(n,Os),milliseconds:Z(n,Rs),microseconds:Z(n,$s),nanoseconds:Z(n,zs)};const e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let t=function(x){if(!or(x))throw new TypeError("invalid duration-like");const T={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let E=!1;for(const k of LE){const v=x[k];v!==void 0&&(E=!0,T[k]=Sa(v))}if(!E)throw new TypeError("invalid duration-like");return T}(n);for(const _ of LE){const x=t[_];x!==void 0&&(e[_]=x)}let{years:i,months:r,weeks:a,days:o,hours:s,minutes:d,seconds:p,milliseconds:m,microseconds:y,nanoseconds:g}=e;return T0(i,r,a,o,s,d,p,m,y,g),{years:i,months:r,weeks:a,days:o,hours:s,minutes:d,seconds:p,milliseconds:m,microseconds:y,nanoseconds:g}}function Jr(n){return n===void 0?"constrain":Zd(n,"overflow",["constrain","reject"],"constrain")}function Cy(n){return n===void 0?"compatible":Zd(n,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function ro(n,e){return Zd(n,"roundingMode",["ceil","floor","trunc","halfExpand"],e)}function iv(n){switch(n){case"ceil":return"floor";case"floor":return"ceil";default:return n}}function d1(n,e){return n===void 0?e:Zd(n,"offset",["prefer","use","ignore","reject"],e)}function rv(n){return Zd(n,"calendarName",["auto","always","never"],"auto")}function od(n,e,t){let i=1/0;e!==void 0&&(i=e),t||e===void 0||(i=e>1?e-1:1);const r=function(o,s,d,p,m){let y=o[s];if(y===void 0)return m;const g=Ty(y);if(ev(g)||g<d||g>p)throw new RangeError(`${String(s)} must be between ${d} and ${p}, not ${g}`);return Ca(g)}(n,"roundingIncrement",1,i,1);if(e!==void 0&&e%r!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`);return r}function xT(n,e){return od(n,{year:void 0,month:void 0,week:void 0,day:void 0,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[e],!1)}function av(n){const e=ka(n,"smallestUnit","time",void 0);if(e==="hour"){const r=Mf.reduce((a,[o,s,d])=>(d==="time"&&s!=="hour"&&a.push(s,o),a),[]);throw new RangeError(`smallestUnit must be one of ${r.join(", ")}, not ${e}`)}switch(e){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}let t=n.fractionalSecondDigits;if(t===void 0&&(t="auto"),typeof t!="number"){const r=Wn(t);if(r==="auto")return{precision:"auto",unit:"nanosecond",increment:1};throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${r}`)}if(ev(t)||t<0||t>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);const i=Ca(t);switch(i){case 0:return{precision:i,unit:"second",increment:1};case 1:case 2:case 3:return{precision:i,unit:"millisecond",increment:10**(3-i)};case 4:case 5:case 6:return{precision:i,unit:"microsecond",increment:10**(6-i)};case 7:case 8:case 9:return{precision:i,unit:"nanosecond",increment:10**(9-i)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const pp=Symbol("~required~");function ka(n,e,t,i,r=[]){const a=[];for(const[,p,m]of Mf)t!=="datetime"&&t!==m||a.push(p);a.push(...r);let o=i;o===pp?o=void 0:o!==void 0&&a.push(o);const s=[...a];for(const p of a){const m=pz.get(p);m!==void 0&&s.push(m)}let d=Zd(n,e,s,o);if(d===void 0&&i===pp)throw new RangeError(`${e} is required`);return xb.has(d)?xb.get(d):d}function tb(n){const e=n.relativeTo;if(e===void 0)return e;let t,i,r,a,o,s,d,p,m,y,g,_,x="option",T=!1;if(or(e)){if(En(e)||Ti(e))return e;if(ai(e))return rf(e);y=Rf(e);const E=ci(e,ua(y,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]),k=ts(null);k.overflow="constrain",{year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:d,microsecond:p,nanosecond:m}=sv(y,E,k),_=e.offset,_===void 0&&(x="wall"),g=e.timeZone}else{let E,k;({year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:d,microsecond:p,nanosecond:m,calendar:y,ianaName:E,offset:_,z:k}=hu(Wn(e))),E&&(g=E),k?x="exact":_||(x="wall"),y||(y=ea()),y=Ga(y),T=!0}if(g!==void 0){g=Ys(g);let E=0;return x==="option"&&(E=gp(Wn(_))),Xa(wb(t,i,r,a,o,s,d,p,m,x,E,g,"compatible","reject",T),g,y)}return ql(t,i,r,y)}function h1(n,e,t,i,r,a,o,s,d,p){for(const[m,y]of[["years",n],["months",e],["weeks",t],["days",i],["hours",r],["minutes",a],["seconds",o],["milliseconds",s],["microseconds",d],["nanoseconds",p]])if(y!==0)return xb.get(m);return"nanosecond"}function Ao(n,e){return NE.indexOf(n)>NE.indexOf(e)?e:n}function d0(n,e){let t=n;return t===void 0&&(t=ts(null)),F2(ts(null),t,{largestUnit:e})}function ci(n,e,t,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const r=ts(null);let a=!1;for(const o of e){let s=n[o];if(s!==void 0)a=!0,kE.has(o)&&(s=kE.get(o)(s)),r[o]=s;else if(t!=="partial"){if($2.call(t,o))throw new TypeError(`required property '${o}' missing or undefined`);s=hz.get(o),r[o]=s}}if(t==="partial"&&!a)throw new TypeError(i);if(r.era===void 0!=(r.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together");return r}function _b(n,e="complete"){const t=["hour","microsecond","millisecond","minute","nanosecond","second"],i=ci(n,t,"partial",{emptySourceErrorMessage:"invalid time-like"}),r={};for(const a of t){const o=oz(i,a);o!==void 0?r[a]=o.value:e==="complete"&&(r[a]=0)}return r}function Qi(n,e){let t=n;if(or(t)){if(Ti(t))return t;if(En(t)&&(Jr(e),t=qo(Z(t,Gi),Z(t,fs),Z(t,Nt))),ai(t))return Jr(e),ql(Z(t,dn),Z(t,gn),Z(t,_n),Z(t,Nt));const d=Rf(t);return qd(d,ci(t,ua(d,["day","month","monthCode","year"]),[]),e)}Jr(e);const{year:i,month:r,day:a,calendar:o,z:s}=function(p){return hu(p)}(Wn(t));if(s)throw new RangeError("Z designator not supported for PlainDate");return new(Fn("%Temporal.PlainDate%"))(i,r,a,o)}function sv(n,e,t){let{hour:i,minute:r,second:a,millisecond:o,microsecond:s,nanosecond:d}=_b(e);const p=Jr(t),m=qd(n,e,t),y=Z(m,dn),g=Z(m,gn),_=Z(m,_n);return{hour:i,minute:r,second:a,millisecond:o,microsecond:s,nanosecond:d}=u0(i,r,a,o,s,d,p),{year:y,month:g,day:_,hour:i,minute:r,second:a,millisecond:o,microsecond:s,nanosecond:d}}function ip(n,e){let t,i,r,a,o,s,d,p,m,y;if(or(n)){if(ai(n))return n;if(En(n))return Jr(e),qo(Z(n,Gi),Z(n,fs),Z(n,Nt));if(Ti(n))return Jr(e),To(Z(n,dn),Z(n,gn),Z(n,_n),0,0,0,0,0,0,Z(n,Nt));y=Rf(n);const g=ci(n,ua(y,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:d,microsecond:p,nanosecond:m}=sv(y,g,e))}else{let g;if(Jr(e),{year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:d,microsecond:p,nanosecond:m,calendar:y,z:g}=function(x){return hu(x)}(Wn(n)),g)throw new RangeError("Z designator not supported for PlainDateTime");LT(t,i,r,a,o,s,d,p,m),y===void 0&&(y=ea()),y=Ga(y)}return To(t,i,r,a,o,s,d,p,m,y)}function Xm(n){if(Ir(n))return n;let{years:e,months:t,weeks:i,days:r,hours:a,minutes:o,seconds:s,milliseconds:d,microseconds:p,nanoseconds:m}=Dp(n);return new(Fn("%Temporal.Duration%"))(e,t,i,r,a,o,s,d,p,m)}function Hc(n){if(ya(n))return n;if(En(n))return new(Fn("%Temporal.Instant%"))(Z(n,zn));const e=fz(Wn(n));return new(Fn("%Temporal.Instant%"))(e)}function AE(n,e){let t=n;if(or(t)){if(Ra(t))return t;let d,p;if(Na(t,Nt))d=Z(t,Nt),p=!1;else{let y=t.calendar;p=y===void 0,y===void 0&&(y=ea()),d=Ga(y)}t=t;const m=ci(t,ua(d,["day","month","monthCode","year"]),[]);return p&&m.month!==void 0&&m.monthCode===void 0&&m.year===void 0&&(m.year=1972),nf(d,m,e)}Jr(e);let{month:i,day:r,referenceISOYear:a,calendar:o}=q2(Wn(t)),s=o;return s===void 0&&(s=ea()),s=Ga(s),a===void 0?(eu(1972,i,r),Ey(i,r,s)):nf(s,Ey(i,r,s,a))}function Uu(n,e="constrain"){let t,i,r,a,o,s,d,p=n;if(or(p)){if(Ar(p))return p;if(En(p)&&(p=qo(Z(p,Gi),Z(p,fs),Z(p,Nt))),ai(p))return new(Fn("%Temporal.PlainTime%"))(Z(p,Zn),Z(p,Kn),Z(p,Qn),Z(p,Jn),Z(p,ei),Z(p,ti));if(d=Rf(p),Wn(d)!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");({hour:t,minute:i,second:r,millisecond:a,microsecond:o,nanosecond:s}=_b(p)),{hour:t,minute:i,second:r,millisecond:a,microsecond:o,nanosecond:s}=u0(t,i,r,a,o,s,e)}else if({hour:t,minute:i,second:r,millisecond:a,microsecond:o,nanosecond:s,calendar:d}=function(y){const g=Q$.exec(y);let _,x,T,E,k,v,w;if(g){_=Vi(g[1]),x=Vi(g[2]||g[5]),T=Vi(g[3]||g[6]),T===60&&(T=59);const N=(g[4]||g[7])+"000000000";E=Vi(N.slice(0,3)),k=Vi(N.slice(3,6)),v=Vi(N.slice(6,9)),w=g[15]}else{let N,S;if({hasTime:S,hour:_,minute:x,second:T,millisecond:E,microsecond:k,nanosecond:v,calendar:w,z:N}=hu(y),!S)throw new RangeError(`time is missing in string: ${y}`);if(N)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(y))return{hour:_,minute:x,second:T,millisecond:E,microsecond:k,nanosecond:v,calendar:w};try{const{month:N,day:S}=q2(y);eu(1972,N,S)}catch{try{const{year:N,month:S}=W2(y);eu(N,S,1)}catch{return{hour:_,minute:x,second:T,millisecond:E,microsecond:k,nanosecond:v,calendar:w}}}throw new RangeError(`invalid ISO 8601 time-only string ${y}; may need a T prefix`)}(Wn(p)),w0(t,i,r,a,o,s),d!==void 0&&d!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");return new(Fn("%Temporal.PlainTime%"))(t,i,r,a,o,s)}function ly(n,e){if(or(n)){if(Oi(n))return n;const s=Rf(n);return fp(s,ci(n,ua(s,["month","monthCode","year"]),[]),e)}Jr(e);let{year:t,month:i,referenceISODay:r,calendar:a}=W2(Wn(n)),o=a;return o===void 0&&(o=ea()),o=Ga(o),r===void 0?(eu(t,i,1),ky(t,i,o)):fp(o,ky(t,i,o,r))}function wb(n,e,t,i,r,a,o,s,d,p,m,y,g,_,x){const T=new(Fn("%Temporal.PlainDateTime%"))(n,e,t,i,r,a,o,s,d);if(p==="wall"||_==="ignore")return Z(Us(y,T,g),zn);if(p==="exact"||_==="use"){const k=Hd(n,e,t,i,r,a,o,s,d);if(k===null)throw new RangeError("ZonedDateTime outside of supported range");return pe.subtract(k,pe.BigInt(m))}const E=Tb(y,T);for(const k of E){const v=gc(y,k),w=pe.toNumber(_o(pe.BigInt(v),6e10,"halfExpand"));if(v===m||x&&w===m)return Z(k,zn)}if(_==="reject"){const k=ET(m),v=Gc(y)?Z(y,Dd):"time zone";throw new RangeError(`Offset ${k} is invalid for ${T.toString()} in ${v}`)}return Z(tI(E,y,T,g),zn)}function cy(n,e){let t,i,r,a,o,s,d,p,m,y,g,_,x=!1,T="option";if(or(n)){if(En(n))return n;_=Rf(n);const k=ci(n,u1(ua(_,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"timeZone","offset"),["timeZone"]);({year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:d,microsecond:p,nanosecond:m}=sv(_,k,e)),y=Ys(k.timeZone),g=k.offset,g===void 0?T="wall":g=Wn(g)}else{let k,v;if(Jr(e),{year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:d,microsecond:p,nanosecond:m,ianaName:k,offset:g,z:v,calendar:_}=function(N){const S=hu(N);if(!S.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return S}(Wn(n)),!k)throw new RangeError("time zone ID required in brackets");v?T="exact":g||(T="wall"),y=new(Fn("%Temporal.TimeZone%"))(k),_||(_=ea()),_=Ga(_),x=!0}let E=0;return T==="option"&&(E=gp(g)),Xa(wb(t,i,r,a,o,s,d,p,m,T,E,y,Cy(e),d1(e,"reject"),x),y,_)}function H2(n,e,t,i,r){eu(e,t,i),cI(e,t,i),du(n),si(n,dn,e),si(n,gn,t),si(n,_n,i),si(n,Nt,r),si(n,"slot-date-brand",!0)}function ql(n,e,t,i=ea()){const r=Fn("%Temporal.PlainDate%"),a=ts(r.prototype);return H2(a,n,e,t,i),a}function X2(n,e,t,i,r,a,o,s,d,p,m){LT(e,t,i,r,a,o,s,d,p),uI(e,t,i,r,a,o,s,d,p),du(n),si(n,dn,e),si(n,gn,t),si(n,_n,i),si(n,Zn,r),si(n,Kn,a),si(n,Qn,o),si(n,Jn,s),si(n,ei,d),si(n,ti,p),si(n,Nt,m)}function To(n,e,t,i,r,a,o,s,d,p=ea()){const m=Fn("%Temporal.PlainDateTime%"),y=ts(m.prototype);return X2(y,n,e,t,i,r,a,o,s,d,p),y}function Z2(n,e,t,i,r){eu(r,e,t),cI(r,e,t),du(n),si(n,gn,e),si(n,_n,t),si(n,dn,r),si(n,Nt,i),si(n,"slot-month-day-brand",!0)}function Ey(n,e,t=ea(),i=1972){const r=Fn("%Temporal.PlainMonthDay%"),a=ts(r.prototype);return Z2(a,n,e,t,i),a}function K2(n,e,t,i,r){eu(e,t,r),function(o,s){Ka(o,-271821,275760),o===-271821?Ka(s,4,12):o===275760&&Ka(s,1,9)}(e,t),du(n),si(n,dn,e),si(n,gn,t),si(n,_n,r),si(n,Nt,i),si(n,"slot-year-month-brand",!0)}function ky(n,e,t=ea(),i=1){const r=Fn("%Temporal.PlainYearMonth%"),a=ts(r.prototype);return K2(a,n,e,t,i),a}function Q2(n,e,t,i){Jh(e),du(n),si(n,zn,e),si(n,Gi,t),si(n,Nt,i);const r=new(Fn("%Temporal.Instant%"))(Z(n,zn));si(n,fs,r)}function Xa(n,e,t=ea()){const i=Fn("%Temporal.ZonedDateTime%"),r=ts(i.prototype);return Q2(r,n,e,t),r}function ea(){return new(Fn("%Temporal.Calendar%"))("iso8601")}function ua(n,e){let t=e;n.fields&&(t=n.fields(t));const i=[];for(const r of t){if(typeof r!="string")throw new TypeError("bad return from calendar.fields()");fT.call(i,r)}return i}function mp(n,e,t){const i=n.mergeFields;if(!i)return{...e,...t};const r=Reflect.apply(i,n,[e,t]);if(!or(r))throw new TypeError("bad return from calendar.mergeFields()");return r}function Bs(n,e,t,i,r){let a=r;a===void 0&&(a=n.dateAdd);const o=gT(a,n,[e,t,i]);if(!Ti(o))throw new TypeError("invalid result");return o}function Wd(n,e,t,i,r){let a=r;a===void 0&&(a=n.dateUntil);const o=gT(a,n,[e,t,i]);if(!Ir(o))throw new TypeError("invalid result");return o}function h0(n,e){const t=n.year(e);if(t===void 0)throw new RangeError("calendar year result must be an integer");return Ji(t)}function p0(n,e){const t=n.month(e);if(t===void 0)throw new RangeError("calendar month result must be a positive integer");return Sy(t)}function ov(n,e){const t=n.monthCode(e);if(t===void 0)throw new RangeError("calendar monthCode result must be a string");return Wn(t)}function m0(n,e){const t=n.day(e);if(t===void 0)throw new RangeError("calendar day result must be a positive integer");return Sy(t)}function f0(n,e){let t=n.era(e);return t!==void 0&&(t=Wn(t)),t}function g0(n,e){let t=n.eraYear(e);return t!==void 0&&(t=Ji(t)),t}function bT(n,e){return n.dayOfWeek(e)}function _T(n,e){return n.dayOfYear(e)}function wT(n,e){return n.weekOfYear(e)}function TT(n,e){return n.daysInWeek(e)}function lv(n,e){return n.daysInMonth(e)}function y0(n,e){return n.daysInYear(e)}function v0(n,e){return n.monthsInYear(e)}function x0(n,e){return n.inLeapYear(e)}function Ga(n){let e=n;if(or(e)){if(Na(e,Nt))return Z(e,Nt);if(!("calendar"in e)||(e=e.calendar,or(e)&&!("calendar"in e)))return e}const t=Wn(e),i=Fn("%Temporal.Calendar%");if(gI(t))return new i(t);let r;try{({calendar:r}=hu(t))}catch{throw new RangeError(`Invalid calendar: ${t}`)}return r||(r="iso8601"),new i(r)}function Rf(n){if(Na(n,Nt))return Z(n,Nt);const{calendar:e}=n;return e===void 0?ea():Ga(e)}function cv(n,e){return n===e?!0:Wn(n)===Wn(e)}function J2(n,e){if(n===e)return e;const t=Wn(n),i=Wn(e);if(t===i||t==="iso8601")return e;if(i==="iso8601")return n;throw new RangeError("irreconcilable calendars")}function qd(n,e,t){const i=n.dateFromFields(e,t);if(!Ti(i))throw new TypeError("invalid result");return i}function fp(n,e,t){const i=n.yearMonthFromFields(e,t);if(!Oi(i))throw new TypeError("invalid result");return i}function nf(n,e,t){const i=n.monthDayFromFields(e,t);if(!Ra(i))throw new TypeError("invalid result");return i}function Ys(n){let e=n;if(or(e)){if(En(e))return Z(e,Gi);if(!("timeZone"in e)||(e=e.timeZone,or(e)&&!("timeZone"in e)))return e}const t=V2(Wn(e));return new(Fn("%Temporal.TimeZone%"))(t)}function eI(n,e){return n===e?!0:Wn(n)===Wn(e)}function rf(n){return ql(Z(n,dn),Z(n,gn),Z(n,_n),Z(n,Nt))}function ST(n){return new(Fn("%Temporal.PlainTime%"))(Z(n,Zn),Z(n,Kn),Z(n,Qn),Z(n,Jn),Z(n,ei),Z(n,ti))}function gc(n,e){let t=n.getOffsetNanosecondsFor;if(typeof t!="function")throw new TypeError("getOffsetNanosecondsFor not callable");const i=Reflect.apply(t,n,[e]);if(typeof i!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!G2(i)||Ii(i)>864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function p1(n,e){return ET(gc(n,e))}function qo(n,e,t){const i=Z(e,zn),r=gc(n,e);let{year:a,month:o,day:s,hour:d,minute:p,second:m,millisecond:y,microsecond:g,nanosecond:_}=iI(i);return{year:a,month:o,day:s,hour:d,minute:p,second:m,millisecond:y,microsecond:g,nanosecond:_}=kT(a,o,s,d,p,m,y,g,_+r),To(a,o,s,d,p,m,y,g,_,t)}function Us(n,e,t){return tI(Tb(n,e),n,e,t)}function tI(n,e,t,i){const r=Fn("%Temporal.Instant%"),a=n.length;if(a===1)return n[0];if(a)switch(i){case"compatible":case"earlier":return n[0];case"later":return n[a-1];case"reject":throw new RangeError("multiple instants found")}const o=Z(t,dn),s=Z(t,gn),d=Z(t,_n),p=Z(t,Zn),m=Z(t,Kn),y=Z(t,Qn),g=Z(t,Jn),_=Z(t,ei),x=Z(t,ti),T=Hd(o,s,d,p,m,y,g,_,x);if(T===null)throw new RangeError("DateTime outside of supported range");const E=new r(pe.subtract(T,Vd)),k=new r(pe.add(T,Vd)),v=gc(e,E),w=gc(e,k)-v;switch(i){case"earlier":{const N=Z(t,Nt),S=Fn("%Temporal.PlainDateTime%"),L=f1(o,s,d,p,m,y,g,_,x,N,0,0,0,0,0,0,0,0,0,-w,void 0);return Tb(e,new S(L.year,L.month,L.day,L.hour,L.minute,L.second,L.millisecond,L.microsecond,L.nanosecond,N))[0]}case"compatible":case"later":{const N=Z(t,Nt),S=Fn("%Temporal.PlainDateTime%"),L=f1(o,s,d,p,m,y,g,_,x,N,0,0,0,0,0,0,0,0,0,w,void 0),O=Tb(e,new S(L.year,L.month,L.day,L.hour,L.minute,L.second,L.millisecond,L.microsecond,L.nanosecond,N));return O[O.length-1]}case"reject":throw new RangeError("no such instant found")}}function Tb(n,e){const t=n.getPossibleInstantsFor(e),i=[];for(const r of t){if(!ya(r))throw new TypeError("bad return from getPossibleInstantsFor");fT.call(i,r)}return i}function Mp(n){let e;return n<0||n>9999?e=(n<0?"-":"+")+`000000${Ii(n)}`.slice(-6):e=`0000${n}`.slice(-4),e}function yr(n){return`00${n}`.slice(-2)}function b0(n,e,t,i,r){if(r==="minute")return"";const a=`:${yr(n)}`;let o,s=1e6*e+1e3*t+i;if(r==="auto"){if(s===0)return a;for(o=`${s}`.padStart(9,"0");o[o.length-1]==="0";)o=o.slice(0,-1)}else{if(r===0)return a;o=`${s}`.padStart(9,"0").slice(0,r)}return`${a}.${o}`}function PE(n,e,t){let i=e;i===void 0&&(i=new(Fn("%Temporal.TimeZone%"))("UTC"));const r=qo(i,n,ea()),a=Mp(Z(r,dn)),o=yr(Z(r,gn)),s=yr(Z(r,_n)),d=yr(Z(r,Zn)),p=yr(Z(r,Kn)),m=b0(Z(r,Qn),Z(r,Jn),Z(r,ei),Z(r,ti),t);let y="Z";return e!==void 0&&(y=nI(gc(i,n))),`${a}-${o}-${s}T${d}:${p}${m}${y}`}function ow(n,e="auto",t){function i(X){return X<=sz?X.toString(10):pe.BigInt(X).toString(10)}const r=Z(n,As),a=Z(n,Oa),o=Z(n,eo),s=Z(n,Ps),d=Z(n,Ds),p=Z(n,Ms);let m=Z(n,Os),y=Z(n,Rs),g=Z(n,$s),_=Z(n,zs);const x=Kc(r,a,o,s,d,p,m,y,g,_);if(t){const{unit:X,increment:H,roundingMode:$}=t;({seconds:m,milliseconds:y,microseconds:g,nanoseconds:_}=Xd(0,0,0,0,0,0,m,y,g,_,H,X,$))}const T=[];r&&T.push(`${i(Ii(r))}Y`),a&&T.push(`${i(Ii(a))}M`),o&&T.push(`${i(Ii(o))}W`),s&&T.push(`${i(Ii(s))}D`);const E=[];d&&E.push(`${i(Ii(d))}H`),p&&E.push(`${i(Ii(p))}M`);const k=[];let v,w,N,S,L=af(0,0,0,m,y,g,_,0);({quotient:L,remainder:v}=Ta(L,Yi)),{quotient:L,remainder:w}=Ta(L,Yi),{quotient:S,remainder:N}=Ta(L,Yi);const O=1e6*Ii(pe.toNumber(N))+1e3*Ii(pe.toNumber(w))+Ii(pe.toNumber(v));let Y;if(e==="auto"){if(O!==0)for(Y=`${O}`.padStart(9,"0");Y[Y.length-1]==="0";)Y=Y.slice(0,-1)}else e!==0&&(Y=`${O}`.padStart(9,"0").slice(0,e));return Y&&k.unshift(".",Y),pe.equal(S,Hr)&&!k.length&&e==="auto"||k.unshift(vT(S).toString()),k.length&&E.push(`${k.join("")}S`),E.length&&E.unshift("T"),T.length||E.length?`${x<0?"-":""}P${T.join("")}${E.join("")}`:"PT0S"}function DE(n,e="auto"){return`${Mp(Z(n,dn))}-${yr(Z(n,gn))}-${yr(Z(n,_n))}${nv(Wn(Z(n,Nt)),e)}`}function ME(n,e,t="auto",i){let r=Z(n,dn),a=Z(n,gn),o=Z(n,_n),s=Z(n,Zn),d=Z(n,Kn),p=Z(n,Qn),m=Z(n,Jn),y=Z(n,ei),g=Z(n,ti);if(i){const{unit:_,increment:x,roundingMode:T}=i;({year:r,month:a,day:o,hour:s,minute:d,second:p,millisecond:m,microsecond:y,nanosecond:g}=DT(r,a,o,s,d,p,m,y,g,x,_,T))}return`${Mp(r)}-${yr(a)}-${yr(o)}T${yr(s)}:${yr(d)}${b0(p,m,y,g,e)}${nv(Wn(Z(n,Nt)),t)}`}function OE(n,e="auto"){let t=`${yr(Z(n,gn))}-${yr(Z(n,_n))}`;const i=Wn(Z(n,Nt));(e==="always"||i!=="iso8601")&&(t=`${Mp(Z(n,dn))}-${t}`);const r=nv(i,e);return r&&(t+=r),t}function RE(n,e="auto"){let t=`${Mp(Z(n,dn))}-${yr(Z(n,gn))}`;const i=Wn(Z(n,Nt));(e==="always"||i!=="iso8601")&&(t+=`-${yr(Z(n,_n))}`);const r=nv(i,e);return r&&(t+=r),t}function $E(n,e,t="auto",i="auto",r="auto",a){let o=Z(n,fs);if(a){const{unit:m,increment:y,roundingMode:g}=a,_=Cb(Z(n,zn),y,m,g);o=new(Fn("%Temporal.Instant%"))(_)}const s=Z(n,Gi),d=qo(s,o,ea());let p=`${Mp(Z(d,dn))}-${yr(Z(d,gn))}-${yr(Z(d,_n))}T${yr(Z(d,Zn))}:${yr(Z(d,Kn))}${b0(Z(d,Qn),Z(d,Jn),Z(d,ei),Z(d,ti),e)}`;return r!=="never"&&(p+=nI(gc(s,o))),i!=="never"&&(p+=`[${s}]`),p+=nv(Wn(Z(n,Nt)),t),p}function uy(n){return yI.test(tv(n))}function gp(n){const e=yI.exec(tv(n));if(!e)throw new RangeError(`invalid time zone offset: ${n}`);return(e[1]==="-"||e[1]==="−"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function CT(n){return uy(n)?ET(gp(n)):Y2(tv(n)).resolvedOptions().timeZone}function ju(n,e){const{year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:d,microsecond:p,nanosecond:m}=rI(n,e),y=Hd(t,i,r,a,o,s,d,p,m);if(y===null)throw new RangeError("Date outside of supported range");return pe.toNumber(pe.subtract(y,n))}function ET(n){const e=n<0?"-":"+",t=Ii(n),i=t%1e9,r=Ca(t/1e9)%60,a=Ca(t/6e10)%60,o=yr(Ca(t/36e11)),s=yr(a),d=yr(r);let p="";if(i){let m=`${i}`.padStart(9,"0");for(;m[m.length-1]==="0";)m=m.slice(0,-1);p=`:${d}.${m}`}else r&&(p=`:${d}`);return`${e}${o}:${s}${p}`}function nI(n){let e=pe.toNumber(_o(pe.BigInt(n),6e10,"halfExpand"));const t=e<0?"-":"+";e=Ii(e);const i=e/6e10%60;return`${t}${yr(Ca(e/36e11))}:${yr(i)}`}function Hd(n,e,t,i,r,a,o,s,d){const p=new Date;p.setUTCHours(i,r,a,o),p.setUTCFullYear(n,e-1,t);const m=p.getTime();if(ev(m))return null;let y=pe.multiply(pe.BigInt(m),ml);return y=pe.add(y,pe.multiply(pe.BigInt(s),Yi)),y=pe.add(y,pe.BigInt(d)),pe.lessThan(y,_y)||pe.greaterThan(y,wy)?null:y}function iI(n){const{quotient:e,remainder:t}=Ta(n,ml);let i=pe.toNumber(e),r=pe.toNumber(t);r<0&&(r+=1e6,i-=1);const a=Ca(r/1e3)%1e3,o=r%1e3,s=new Date(i);return{epochMilliseconds:i,year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate(),hour:s.getUTCHours(),minute:s.getUTCMinutes(),second:s.getUTCSeconds(),millisecond:s.getUTCMilliseconds(),microsecond:a,nanosecond:o}}function rI(n,e){const{epochMilliseconds:t,millisecond:i,microsecond:r,nanosecond:a}=iI(n),{year:o,month:s,day:d,hour:p,minute:m,second:y}=function(_,x){const T=Y2(_);return function(k){const v=k.split(/[^\w]+/);if(v.length!==7)throw new RangeError(`expected 7 parts in "${k}`);const w=+v[0],N=+v[1];let S=+v[2];const L=v[3].toUpperCase();if(L==="B"||L==="BC")S=1-S;else if(L!=="A"&&L!=="AD")throw new RangeError(`Unknown era ${L} in "${k}`);let O=+v[4];O===24&&(O=0);const Y=+v[5],X=+v[6];if(!(za(S)&&za(w)&&za(N)&&za(O)&&za(Y)&&za(X)))throw new RangeError(`Invalid number in "${k}`);return{year:S,month:w,day:N,hour:O,minute:Y,second:X}}(T.format(new Date(x)))}(e,t);return kT(o,s,d,p,m,y,i,r,a)}function zE(n,e){return pe.lessThan(n,e)?e:n}function aI(){return pe.add(OT(),uz)}function sI(n,e){const t=aI(),i=pe.greaterThan(n,t),r=i?pe.subtract(n,B2):j2;let a=pe.subtract(n,yT);const o=ju(a,e);let s=a,d=o;for(;o===d&&pe.greaterThan(a,r);)s=pe.subtract(a,U2),d=ju(s,e),o===d&&(a=s);return o===d?i?sI(pe.subtract(t,Vd),e):null:vI(p=>ju(p,e),s,a,d,o)}function $d(n){return n===void 0?!1:n%4==0&&(n%100!=0||n%400==0)}function Wu(n,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[$d(n)?"leapyear":"standard"][e-1]}function lw(n,e,t){const i=e+(e<3?10:-2),r=n-(e<3?1:0),a=Ca(r/100),o=r-100*a,s=(t+Ca(2.6*i-.2)+(o+Ca(o/4))+(Ca(a/4)-2*a))%7;return s+(s<=0?7:0)}function Sb(n,e,t){let i=t;for(let r=e-1;r>0;r--)i+=Wu(n,r);return i}function Kc(n,e,t,i,r,a,o,s,d,p){for(const m of[n,e,t,i,r,a,o,s,d,p])if(m!==0)return m<0?-1:1;return 0}function nb(n,e){let t=n,i=e;if(!za(t)||!za(i))throw new RangeError("infinity is out of range");return i-=1,t+=Ca(i/12),i%=12,i<0&&(i+=12),i+=1,{year:t,month:i}}function _0(n,e,t){let i=n,r=e,a=t;if(!za(a))throw new RangeError("infinity is out of range");({year:i,month:r}=nb(i,r));let o=0,s=r>2?i:i-1;for(;o=$d(s)?366:365,a<-o;)i-=1,s-=1,a+=o;for(s+=1;o=$d(s)?366:365,a>o;)i+=1,s+=1,a-=o;for(;a<1;)({year:i,month:r}=nb(i,r-1)),a+=Wu(i,r);for(;a>Wu(i,r);)a-=Wu(i,r),{year:i,month:r}=nb(i,r+1);return{year:i,month:r,day:a}}function kT(n,e,t,i,r,a,o,s,d){const{deltaDays:p,hour:m,minute:y,second:g,millisecond:_,microsecond:x,nanosecond:T}=Bu(i,r,a,o,s,d),{year:E,month:k,day:v}=_0(n,e,t+p);return{year:E,month:k,day:v,hour:m,minute:y,second:g,millisecond:_,microsecond:x,nanosecond:T}}function Bu(n,e,t,i,r,a){let o=n,s=e,d=t,p=i,m=r,y=a;if(!(za(o)&&za(s)&&za(d)&&za(p)&&za(m)&&za(y)))throw new RangeError("infinity is out of range");m+=Ca(y/1e3),y=Dm(y,1e3),p+=Ca(m/1e3),m=Dm(m,1e3),d+=Ca(p/1e3),p=Dm(p,1e3),s+=Ca(d/60),d=Dm(d,60),o+=Ca(s/60),s=Dm(s,60);const g=Ca(o/24);return o=Dm(o,24),{deltaDays:g,hour:o,minute:s,second:d,millisecond:p,microsecond:m,nanosecond:y}}function af(n,e,t,i,r,a,o,s){const d=pe.BigInt(n);let p=pe.BigInt(o);n!==0&&(p=pe.subtract(pe.BigInt(o),pe.BigInt(s)));const m=pe.add(pe.BigInt(e),pe.multiply(d,pe.BigInt(24))),y=pe.add(pe.BigInt(t),pe.multiply(m,op)),g=pe.add(pe.BigInt(i),pe.multiply(y,op)),_=pe.add(pe.BigInt(r),pe.multiply(g,Yi)),x=pe.add(pe.BigInt(a),pe.multiply(_,Yi));return pe.add(pe.BigInt(p),pe.multiply(x,Yi))}function NT(n,e){const t=Fn("%Temporal.Instant%"),i=by(pe.toNumber(n));let r=pe.BigInt(n),a=864e11;if(i===0)return{days:0,nanoseconds:Hr,dayLengthNs:a};if(!En(e)){let v;return{quotient:v,remainder:r}=Ta(r,pe.BigInt(a)),{days:pe.toNumber(v),nanoseconds:r,dayLengthNs:a}}const o=Z(e,zn),s=Z(e,fs),d=pe.add(o,r),p=new t(d),m=Z(e,Gi),y=Z(e,Nt),g=qo(m,s,y),_=qo(m,p,y);let{days:x}=PT(Z(g,dn),Z(g,gn),Z(g,_n),Z(g,Zn),Z(g,Kn),Z(g,Qn),Z(g,Jn),Z(g,ei),Z(g,ti),Z(_,dn),Z(_,gn),Z(_,_n),Z(_,Zn),Z(_,Kn),Z(_,Qn),Z(_,Jn),Z(_,ei),Z(_,ti),y,"day",ts(null)),T=fl(s,m,y,0,0,0,x,0,0,0,0,0,0);if(i===1)for(;x>0&&pe.greaterThan(T,d);)--x,T=fl(s,m,y,0,0,0,x,0,0,0,0,0,0);r=pe.subtract(d,T);let E=!1,k=new t(T);do{const v=fl(k,m,y,0,0,0,i,0,0,0,0,0,0),w=Z(k,zn);a=pe.toNumber(pe.subtract(v,w)),E=pe.greaterThan(pe.multiply(pe.subtract(r,pe.BigInt(a)),pe.BigInt(i)),Hr),E&&(r=pe.subtract(r,pe.BigInt(a)),k=new t(v),x+=i)}while(E);return{days:x,nanoseconds:r,dayLengthNs:Ii(a)}}function Lo(n,e,t,i,r,a,o,s,d){let p,m,y,g,_,x,T=n;if(En(d)){const k=fl(Z(d,fs),Z(d,Gi),Z(d,Nt),0,0,0,T,e,t,i,r,a,o),v=Z(d,zn);p=pe.subtract(k,v)}else p=af(T,e,t,i,r,a,o,0);s==="year"||s==="month"||s==="week"||s==="day"?{days:T,nanoseconds:p}=NT(p,d):T=0;const E=pe.lessThan(p,Hr)?-1:1;switch(p=vT(p),m=y=g=_=x=Hr,s){case"year":case"month":case"week":case"day":case"hour":({quotient:m,remainder:p}=Ta(p,Yi)),{quotient:y,remainder:m}=Ta(m,Yi),{quotient:g,remainder:y}=Ta(y,Yi),{quotient:_,remainder:g}=Ta(g,op),{quotient:x,remainder:_}=Ta(_,op);break;case"minute":({quotient:m,remainder:p}=Ta(p,Yi)),{quotient:y,remainder:m}=Ta(m,Yi),{quotient:g,remainder:y}=Ta(y,Yi),{quotient:_,remainder:g}=Ta(g,op);break;case"second":({quotient:m,remainder:p}=Ta(p,Yi)),{quotient:y,remainder:m}=Ta(m,Yi),{quotient:g,remainder:y}=Ta(y,Yi);break;case"millisecond":({quotient:m,remainder:p}=Ta(p,Yi)),{quotient:y,remainder:m}=Ta(m,Yi);break;case"microsecond":({quotient:m,remainder:p}=Ta(p,Yi));break;case"nanosecond":break;default:throw new Error("assert not reached")}return{days:T,hours:pe.toNumber(x)*E,minutes:pe.toNumber(_)*E,seconds:pe.toNumber(g)*E,milliseconds:pe.toNumber(y)*E,microseconds:pe.toNumber(m)*E,nanoseconds:pe.toNumber(p)*E}}function Lx(n,e,t,i,r,a){let o=n,s=e,d=t,p=i;const m=Fn("%Temporal.Duration%"),y=Kc(o,s,d,p,0,0,0,0,0,0);let g,_;a&&(_=Qi(a),g=Z(_,Nt));const x=new m(y),T=new m(0,y),E=new m(0,0,y);switch(r){case"year":break;case"month":{if(!g)throw new RangeError("a starting point is required for months balancing");const k=g.dateAdd,v=g.dateUntil;let w=_;for(;Ii(o)>0;){const N=Bs(g,w,x,void 0,k),S=ts(null);S.largestUnit="month";const L=Z(Wd(g,w,N,S,v),Oa);w=N,s+=L,o-=y}}break;case"week":if(!g)throw new RangeError("a starting point is required for weeks balancing");for(;Ii(o)>0;){let k;({relativeTo:_,days:k}=ps(g,_,x)),p+=k,o-=y}for(;Ii(s)>0;){let k;({relativeTo:_,days:k}=ps(g,_,T)),p+=k,s-=y}break;default:for(;Ii(o)>0;){if(!g)throw new RangeError("a starting point is required for balancing calendar units");let k;({relativeTo:_,days:k}=ps(g,_,x)),p+=k,o-=y}for(;Ii(s)>0;){if(!g)throw new RangeError("a starting point is required for balancing calendar units");let k;({relativeTo:_,days:k}=ps(g,_,T)),p+=k,s-=y}for(;Ii(d)>0;){if(!g)throw new RangeError("a starting point is required for balancing calendar units");let k;({relativeTo:_,days:k}=ps(g,_,E)),p+=k,d-=y}}return{years:o,months:s,weeks:d,days:p}}function FE(n,e,t,i,r){if(En(n)){const a=Z(n,fs),o=Z(n,Gi),s=Z(n,Nt),d=gc(o,a),p=fl(a,o,s,e,t,i,r,0,0,0,0,0,0);return gc(o,new(Fn("%Temporal.Instant%"))(p))-d}return 0}function oI(n){return new(Fn("%Temporal.Duration%"))(-Z(n,As),-Z(n,Oa),-Z(n,eo),-Z(n,Ps),-Z(n,Ds),-Z(n,Ms),-Z(n,Os),-Z(n,Rs),-Z(n,$s),-Z(n,zs))}function So(n,e,t){return iz(t,rz(e,n))}function lI(n,e,t){const i=So(e,1,12);return{year:n,month:i,day:So(t,1,Wu(n,i))}}function Ka(n,e,t){if(n<e||n>t)throw new RangeError(`value out of range: ${e} <= ${n} <= ${t}`)}function eu(n,e,t){Ka(e,1,12),Ka(t,1,Wu(n,e))}function cI(n,e,t){uI(n,e,t,12,0,0,0,0,0)}function w0(n,e,t,i,r,a){Ka(n,0,23),Ka(e,0,59),Ka(t,0,59),Ka(i,0,999),Ka(r,0,999),Ka(a,0,999)}function LT(n,e,t,i,r,a,o,s,d){eu(n,e,t),w0(i,r,a,o,s,d)}function uI(n,e,t,i,r,a,o,s,d){if(Ka(n,-271821,275760),n===-271821&&Hd(n,e,t+1,i,r,a,o,s,d-1)==null||n===275760&&Hd(n,e,t-1,i,r,a,o,s,d+1)==null)throw new RangeError("DateTime outside of supported range")}function Jh(n){if(pe.lessThan(n,_y)||pe.greaterThan(n,wy))throw new RangeError("Instant outside of supported range")}function T0(n,e,t,i,r,a,o,s,d,p){const m=Kc(n,e,t,i,r,a,o,s,d,p);for(const y of[n,e,t,i,r,a,o,s,d,p]){if(!za(y))throw new RangeError("infinite values not allowed as duration fields");const g=by(y);if(g!==0&&g!==m)throw new RangeError("mixed-sign values not allowed as duration fields")}}function IT(n,e,t,i,r,a,o){switch(o){case"year":case"month":{const s=-zd(n,e,t,i,r,a);if(s===0)return{years:0,months:0,weeks:0,days:0};const d={year:n,month:e,day:t},p={year:i,month:r,day:a};let m=p.year-d.year,y=lp(n,e,t,m,0,0,0,"constrain"),g=-zd(y.year,y.month,y.day,i,r,a);if(g===0)return o==="year"?{years:m,months:0,weeks:0,days:0}:{years:0,months:12*m,weeks:0,days:0};let _=p.month-d.month;if(g!==s&&(m-=s,_+=12*s),y=lp(n,e,t,m,_,0,0,"constrain"),g=-zd(y.year,y.month,y.day,i,r,a),g===0)return o==="year"?{years:m,months:_,weeks:0,days:0}:{years:0,months:_+12*m,weeks:0,days:0};g!==s&&(_-=s,_===-s&&(m-=s,_=11*s),y=lp(n,e,t,m,_,0,0,"constrain"));let x=0;return x=y.month===p.month?p.day-y.day:s<0?-y.day-(Wu(p.year,p.month)-p.day):p.day+(Wu(y.year,y.month)-y.day),o==="month"&&(_+=12*m,m=0),{years:m,months:_,weeks:0,days:x}}case"week":case"day":{let s,d,p;zd(n,e,t,i,r,a)<0?(d={year:n,month:e,day:t},s={year:i,month:r,day:a},p=1):(d={year:i,month:r,day:a},s={year:n,month:e,day:t},p=-1);let m=Sb(s.year,s.month,s.day)-Sb(d.year,d.month,d.day);for(let g=d.year;g<s.year;++g)m+=$d(g)?366:365;let y=0;return o==="week"&&(y=Ca(m/7),m%=7),y*=p,m*=p,{years:0,months:0,weeks:y,days:m}}default:throw new Error("assert not reached")}}function dI(n,e,t,i,r,a,o,s,d,p,m,y){let g=o-n,_=s-e,x=d-t,T=p-i,E=m-r,k=y-a;const v=Kc(0,0,0,0,g,_,x,T,E,k);g*=v,_*=v,x*=v,T*=v,E*=v,k*=v;let w=0;if({deltaDays:w,hour:g,minute:_,second:x,millisecond:T,microsecond:E,nanosecond:k}=Bu(g,_,x,T,E,k),w!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return g*=v,_*=v,x*=v,T*=v,E*=v,k*=v,{hours:g,minutes:_,seconds:x,milliseconds:T,microseconds:E,nanoseconds:k}}function AT(n,e,t,i,r){const a=pe.subtract(e,n),o=pe.remainder(a,pe.BigInt(864e11)),s=pe.subtract(a,o),d=_o(o,RT[i]*t,r),p=pe.add(s,d),m=pe.toNumber(pe.remainder(p,Yi)),y=pe.toNumber(pe.remainder(pe.divide(p,Yi),Yi)),g=pe.toNumber(pe.remainder(pe.divide(p,ml),Yi));return{seconds:pe.toNumber(pe.divide(p,Vu)),milliseconds:g,microseconds:y,nanoseconds:m}}function PT(n,e,t,i,r,a,o,s,d,p,m,y,g,_,x,T,E,k,v,w,N){let S=n,L=e,O=t,{hours:Y,minutes:X,seconds:H,milliseconds:$,microseconds:G,nanoseconds:B}=dI(i,r,a,o,s,d,g,_,x,T,E,k);const M=Kc(0,0,0,0,Y,X,H,$,G,B);zd(p,m,y,S,L,O)===-M&&({year:S,month:L,day:O}=_0(S,L,O-M),{hours:Y,minutes:X,seconds:H,milliseconds:$,microseconds:G,nanoseconds:B}=Lo(-M,Y,X,H,$,G,B,w));const D=ql(S,L,O,v),V=ql(p,m,y,v),F=d0(N,Ao("day",w));let{years:z,months:W,weeks:q,days:ee}=Wd(v,D,V,F);return{days:ee,hours:Y,minutes:X,seconds:H,milliseconds:$,microseconds:G,nanoseconds:B}=Lo(ee,Y,X,H,$,G,B,w),{years:z,months:W,weeks:q,days:ee,hours:Y,minutes:X,seconds:H,milliseconds:$,microseconds:G,nanoseconds:B}}function hI(n,e,t,i,r,a){const o=pe.subtract(e,n);if(pe.equal(o,Hr))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const s=Fn("%Temporal.Instant%"),d=new s(n),p=new s(e),m=qo(t,d,i),y=qo(t,p,i);let{years:g,months:_,weeks:x,days:T}=PT(Z(m,dn),Z(m,gn),Z(m,_n),Z(m,Zn),Z(m,Kn),Z(m,Qn),Z(m,Jn),Z(m,ei),Z(m,ti),Z(y,dn),Z(y,gn),Z(y,_n),Z(y,Zn),Z(y,Kn),Z(y,Qn),Z(y,Jn),Z(y,ei),Z(y,ti),i,r,a);const E=fl(d,t,i,g,_,x,0,0,0,0,0,0,0);let k=pe.subtract(e,E);const v=Xa(E,t,i);({nanoseconds:k,days:T}=NT(k,v));const{hours:w,minutes:N,seconds:S,milliseconds:L,microseconds:O,nanoseconds:Y}=Lo(0,0,0,0,0,0,pe.toNumber(k),"hour");return{years:g,months:_,weeks:x,days:T,hours:w,minutes:N,seconds:S,milliseconds:L,microseconds:O,nanoseconds:Y}}function jE(n,e,t,i){const r=Hc(t);let a,o;[a,o]=n==="until"?[e,r]:[r,e];const s=di(i),d=ka(s,"smallestUnit","time","nanosecond"),p=Ao("second",d);let m=ka(s,"largestUnit","time","auto");if(m==="auto"&&(m=p),Ao(m,d)!==m)throw new RangeError(`largestUnit ${m} cannot be smaller than smallestUnit ${d}`);const y=ro(s,"trunc"),g=od(s,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[d],!1),_=Z(a,zn),x=Z(o,zn);let T,E,{seconds:k,milliseconds:v,microseconds:w,nanoseconds:N}=AT(_,x,g,d,y);return{hours:T,minutes:E,seconds:k,milliseconds:v,microseconds:w,nanoseconds:N}=Lo(0,0,0,k,v,w,N,m),new(Fn("%Temporal.Duration%"))(0,0,0,0,T,E,k,v,w,N)}function BE(n,e,t,i){const r=n==="since"?-1:1,a=Qi(t),o=Z(e,Nt),s=Z(a,Nt),d=Wn(o),p=Wn(s);if(d!==p)throw new RangeError(`cannot compute difference between dates of ${d} and ${p} calendars`);const m=di(i),y=ka(m,"smallestUnit","date","day"),g=Ao("day",y);let _=ka(m,"largestUnit","date","auto");if(_==="auto"&&(_=g),Ao(_,y)!==_)throw new RangeError(`largestUnit ${_} cannot be smaller than smallestUnit ${y}`);let x=ro(m,"trunc");n==="since"&&(x=iv(x));const T=od(m,void 0,!1),E=d0(m,_);let{years:k,months:v,weeks:w,days:N}=Wd(o,e,a,E);return y==="day"&&T===1||({years:k,months:v,weeks:w,days:N}=Xd(k,v,w,N,0,0,0,0,0,0,T,y,x,e)),new(Fn("%Temporal.Duration%"))(r*k,r*v,r*w,r*N,0,0,0,0,0,0)}function UE(n,e,t,i){const r=n==="since"?-1:1,a=ip(t),o=Z(e,Nt),s=Z(a,Nt),d=Wn(o),p=Wn(s);if(d!==p)throw new RangeError(`cannot compute difference between dates of ${d} and ${p} calendars`);const m=di(i),y=ka(m,"smallestUnit","datetime","nanosecond"),g=Ao("day",y);let _=ka(m,"largestUnit","datetime","auto");if(_==="auto"&&(_=g),Ao(_,y)!==_)throw new RangeError(`largestUnit ${_} cannot be smaller than smallestUnit ${y}`);let x=ro(m,"trunc");n==="since"&&(x=iv(x));const T=xT(m,y);let{years:E,months:k,weeks:v,days:w,hours:N,minutes:S,seconds:L,milliseconds:O,microseconds:Y,nanoseconds:X}=PT(Z(e,dn),Z(e,gn),Z(e,_n),Z(e,Zn),Z(e,Kn),Z(e,Qn),Z(e,Jn),Z(e,ei),Z(e,ti),Z(a,dn),Z(a,gn),Z(a,_n),Z(a,Zn),Z(a,Kn),Z(a,Qn),Z(a,Jn),Z(a,ei),Z(a,ti),o,_,m);const H=rf(e);return{years:E,months:k,weeks:v,days:w,hours:N,minutes:S,seconds:L,milliseconds:O,microseconds:Y,nanoseconds:X}=Xd(E,k,v,w,N,S,L,O,Y,X,T,y,x,H),{days:w,hours:N,minutes:S,seconds:L,milliseconds:O,microseconds:Y,nanoseconds:X}=Lo(w,N,S,L,O,Y,X,_),new(Fn("%Temporal.Duration%"))(r*E,r*k,r*v,r*w,r*N,r*S,r*L,r*O,r*Y,r*X)}function GE(n,e,t,i){const r=n==="since"?-1:1,a=Uu(t),o=di(i);let s=ka(o,"largestUnit","time","auto");s==="auto"&&(s="hour");const d=ka(o,"smallestUnit","time","nanosecond");if(Ao(s,d)!==s)throw new RangeError(`largestUnit ${s} cannot be smaller than smallestUnit ${d}`);let p=ro(o,"trunc");n==="since"&&(p=iv(p));const m=od(o,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[d],!1);let{hours:y,minutes:g,seconds:_,milliseconds:x,microseconds:T,nanoseconds:E}=dI(Z(e,Zn),Z(e,Kn),Z(e,Qn),Z(e,Jn),Z(e,ei),Z(e,ti),Z(a,Zn),Z(a,Kn),Z(a,Qn),Z(a,Jn),Z(a,ei),Z(a,ti));return{hours:y,minutes:g,seconds:_,milliseconds:x,microseconds:T,nanoseconds:E}=Xd(0,0,0,0,y,g,_,x,T,E,m,d,p),{hours:y,minutes:g,seconds:_,milliseconds:x,microseconds:T,nanoseconds:E}=Lo(0,y,g,_,x,T,E,s),new(Fn("%Temporal.Duration%"))(0,0,0,0,r*y,r*g,r*_,r*x,r*T,r*E)}function YE(n,e,t,i){const r=n==="since"?-1:1,a=ly(t),o=Z(e,Nt),s=Z(a,Nt),d=Wn(o),p=Wn(s);if(d!==p)throw new RangeError(`cannot compute difference between months of ${d} and ${p} calendars`);const m=di(i),y=Mf.reduce((Y,[X,H,$])=>($==="date"&&H!=="week"&&H!=="day"&&Y.push(H,X),Y),[]),g=ka(m,"smallestUnit","date","month");if(g==="week"||g==="day")throw new RangeError(`smallestUnit must be one of ${y.join(", ")}, not ${g}`);let _=ka(m,"largestUnit","date","auto");if(_==="week"||_==="day")throw new RangeError(`largestUnit must be one of ${y.join(", ")}, not ${_}`);if(_==="auto"&&(_="year"),Ao(_,g)!==_)throw new RangeError(`largestUnit ${_} cannot be smaller than smallestUnit ${g}`);let x=ro(m,"trunc");n==="since"&&(x=iv(x));const T=od(m,void 0,!1),E=ua(o,["monthCode","year"]),k=ci(a,E,[]);k.day=1;const v=ci(e,E,[]);v.day=1;const w=qd(o,k),N=qd(o,v),S=d0(m,_);let{years:L,months:O}=Wd(o,N,w,S);return g==="month"&&T===1||({years:L,months:O}=Xd(L,O,0,0,0,0,0,0,0,0,T,g,x,N)),new(Fn("%Temporal.Duration%"))(r*L,r*O,0,0,0,0,0,0,0,0)}function VE(n,e,t,i){const r=n==="since"?-1:1,a=cy(t),o=Z(e,Nt),s=Z(a,Nt),d=Wn(o),p=Wn(s);if(d!==p)throw new RangeError(`cannot compute difference between dates of ${d} and ${p} calendars`);const m=di(i),y=ka(m,"smallestUnit","datetime","nanosecond"),g=Ao("hour",y);let _=ka(m,"largestUnit","datetime","auto");if(_==="auto"&&(_=g),Ao(_,y)!==_)throw new RangeError(`largestUnit ${_} cannot be smaller than smallestUnit ${y}`);let x=ro(m,"trunc");n==="since"&&(x=iv(x));const T=xT(m,y),E=Z(e,zn),k=Z(a,zn);let v,w,N,S,L,O,Y,X,H,$;if(_!=="year"&&_!=="month"&&_!=="week"&&_!=="day")v=0,w=0,N=0,S=0,{seconds:Y,milliseconds:X,microseconds:H,nanoseconds:$}=AT(E,k,T,y,x),{hours:L,minutes:O,seconds:Y,milliseconds:X,microseconds:H,nanoseconds:$}=Lo(0,0,0,Y,X,H,$,_);else{const G=Z(e,Gi);if(!eI(G,Z(a,Gi)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");const B=d0(m,_);({years:v,months:w,weeks:N,days:S,hours:L,minutes:O,seconds:Y,milliseconds:X,microseconds:H,nanoseconds:$}=hI(E,k,G,o,_,B)),{years:v,months:w,weeks:N,days:S,hours:L,minutes:O,seconds:Y,milliseconds:X,microseconds:H,nanoseconds:$}=Xd(v,w,N,S,L,O,Y,X,H,$,T,y,x,e),{years:v,months:w,weeks:N,days:S,hours:L,minutes:O,seconds:Y,milliseconds:X,microseconds:H,nanoseconds:$}=fI(v,w,N,S,L,O,Y,X,H,$,T,y,x,e)}return new(Fn("%Temporal.Duration%"))(r*v,r*w,r*N,r*S,r*L,r*O,r*Y,r*X,r*H,r*$)}function lp(n,e,t,i,r,a,o,s){let d=n,p=e,m=t,y=a,g=o;return d+=i,p+=r,{year:d,month:p}=nb(d,p),{year:d,month:p,day:m}=bb(d,p,m,s),g+=7*y,m+=g,{year:d,month:p,day:m}=_0(d,p,m),{year:d,month:p,day:m}}function pI(n,e,t,i,r,a,o,s,d,p,m,y){let g=n,_=e,x=t,T=i,E=r,k=a;g+=o,_+=s,x+=d,T+=p,E+=m,k+=y;let v=0;return{deltaDays:v,hour:g,minute:_,second:x,millisecond:T,microsecond:E,nanosecond:k}=Bu(g,_,x,T,E,k),{deltaDays:v,hour:g,minute:_,second:x,millisecond:T,microsecond:E,nanosecond:k}}function mI(n,e,t,i,r,a,o,s,d,p,m,y,g,_,x,T,E,k,v,w,N){const S=Ao(h1(n,e,t,i,r,a,o,s,d,p),h1(m,y,g,_,x,T,E,k,v,w));let L,O,Y,X,H,$,G,B,M,D;if(N)if(Ti(N)){const V=Fn("%Temporal.Duration%"),F=Z(N,Nt),z=new V(n,e,t,i,0,0,0,0,0,0),W=new V(m,y,g,_,0,0,0,0,0,0),q=F.dateAdd,ee=Bs(F,N,z,void 0,q),ue=Bs(F,ee,W,void 0,q),ie=Ao("day",S),oe=ts(null);oe.largestUnit=ie,{years:L,months:O,weeks:Y,days:X}=Wd(F,N,ue,oe),{days:X,hours:H,minutes:$,seconds:G,milliseconds:B,microseconds:M,nanoseconds:D}=Lo(X,r+x,a+T,o+E,s+k,d+v,p+w,S)}else{const V=Fn("%Temporal.Instant%"),F=Z(N,Gi),z=Z(N,Nt),W=fl(Z(N,fs),F,z,n,e,t,i,r,a,o,s,d,p),q=fl(new V(W),F,z,m,y,g,_,x,T,E,k,v,w);S!=="year"&&S!=="month"&&S!=="week"&&S!=="day"?(L=0,O=0,Y=0,X=0,{seconds:G,milliseconds:B,microseconds:M,nanoseconds:D}=AT(Z(N,zn),q,1,"nanosecond","halfExpand"),{hours:H,minutes:$,seconds:G,milliseconds:B,microseconds:M,nanoseconds:D}=Lo(0,0,0,G,B,M,D,S)):{years:L,months:O,weeks:Y,days:X,hours:H,minutes:$,seconds:G,milliseconds:B,microseconds:M,nanoseconds:D}=hI(Z(N,zn),q,F,z,S,ts(null))}else{if(S==="year"||S==="month"||S==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");L=O=Y=0,{days:X,hours:H,minutes:$,seconds:G,milliseconds:B,microseconds:M,nanoseconds:D}=Lo(i+_,r+x,a+T,o+E,s+k,d+v,p+w,S)}return T0(L,O,Y,X,H,$,G,B,M,D),{years:L,months:O,weeks:Y,days:X,hours:H,minutes:$,seconds:G,milliseconds:B,microseconds:M,nanoseconds:D}}function m1(n,e,t,i,r,a,o){let s=Hr;s=pe.add(s,pe.BigInt(o)),s=pe.add(s,pe.multiply(pe.BigInt(a),Yi)),s=pe.add(s,pe.multiply(pe.BigInt(r),ml)),s=pe.add(s,pe.multiply(pe.BigInt(i),Vu)),s=pe.add(s,pe.multiply(pe.BigInt(t),pe.BigInt(6e10))),s=pe.add(s,pe.multiply(pe.BigInt(e),pe.BigInt(36e11)));const d=pe.add(n,s);return Jh(d),d}function f1(n,e,t,i,r,a,o,s,d,p,m,y,g,_,x,T,E,k,v,w,N){let S=_,{deltaDays:L,hour:O,minute:Y,second:X,millisecond:H,microsecond:$,nanosecond:G}=pI(i,r,a,o,s,d,x,T,E,k,v,w);S+=L;const B=Fn("%Temporal.Duration%"),M=Bs(p,ql(n,e,t,p),new B(m,y,g,S,0,0,0,0,0,0),N);return{year:Z(M,dn),month:Z(M,gn),day:Z(M,_n),hour:O,minute:Y,second:X,millisecond:H,microsecond:$,nanosecond:G}}function fl(n,e,t,i,r,a,o,s,d,p,m,y,g,_){const x=Fn("%Temporal.Duration%");if(Kc(i,r,a,o,0,0,0,0,0,0)===0)return m1(Z(n,zn),s,d,p,m,y,g);const T=qo(e,n,t),E=Bs(t,ql(Z(T,dn),Z(T,gn),Z(T,_n),t),new x(i,r,a,o,0,0,0,0,0,0),_),k=To(Z(E,dn),Z(E,gn),Z(E,_n),Z(T,Zn),Z(T,Kn),Z(T,Qn),Z(T,Jn),Z(T,ei),Z(T,ti),t);return m1(Z(Us(e,k,"compatible"),zn),s,d,p,m,y,g)}function WE(n,e,t,i){const r=n==="subtract"?-1:1;let{years:a,months:o,weeks:s,days:d,hours:p,minutes:m,seconds:y,milliseconds:g,microseconds:_,nanoseconds:x}=Dp(t);const T=tb(di(i));return{years:a,months:o,weeks:s,days:d,hours:p,minutes:m,seconds:y,milliseconds:g,microseconds:_,nanoseconds:x}=mI(Z(e,As),Z(e,Oa),Z(e,eo),Z(e,Ps),Z(e,Ds),Z(e,Ms),Z(e,Os),Z(e,Rs),Z(e,$s),Z(e,zs),r*a,r*o,r*s,r*d,r*p,r*m,r*y,r*g,r*_,r*x,T),new(Fn("%Temporal.Duration%"))(a,o,s,d,p,m,y,g,_,x)}function qE(n,e,t){const i=n==="subtract"?-1:1,{hours:r,minutes:a,seconds:o,milliseconds:s,microseconds:d,nanoseconds:p}=function(g,_){let x=Dp(g);for(const T of _)if(x[T]!==0)throw new RangeError(`Duration field ${T} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return x}(t,["years","months","weeks","days"]),m=m1(Z(e,zn),i*r,i*a,i*o,i*s,i*d,i*p);return new(Fn("%Temporal.Instant%"))(m)}function HE(n,e,t,i){const r=n==="subtract"?-1:1,{years:a,months:o,weeks:s,days:d,hours:p,minutes:m,seconds:y,milliseconds:g,microseconds:_,nanoseconds:x}=Dp(t),T=di(i),E=Z(e,Nt),{year:k,month:v,day:w,hour:N,minute:S,second:L,millisecond:O,microsecond:Y,nanosecond:X}=f1(Z(e,dn),Z(e,gn),Z(e,_n),Z(e,Zn),Z(e,Kn),Z(e,Qn),Z(e,Jn),Z(e,ei),Z(e,ti),E,r*a,r*o,r*s,r*d,r*p,r*m,r*y,r*g,r*_,r*x,T);return To(k,v,w,N,S,L,O,Y,X,E)}function XE(n,e,t){const i=n==="subtract"?-1:1,{hours:r,minutes:a,seconds:o,milliseconds:s,microseconds:d,nanoseconds:p}=Dp(t);let{hour:m,minute:y,second:g,millisecond:_,microsecond:x,nanosecond:T}=pI(Z(e,Zn),Z(e,Kn),Z(e,Qn),Z(e,Jn),Z(e,ei),Z(e,ti),i*r,i*a,i*o,i*s,i*d,i*p);return{hour:m,minute:y,second:g,millisecond:_,microsecond:x,nanosecond:T}=u0(m,y,g,_,x,T,"reject"),new(Fn("%Temporal.PlainTime%"))(m,y,g,_,x,T)}function ZE(n,e,t,i){let r=Dp(t);n==="subtract"&&(r={years:-r.years,months:-r.months,weeks:-r.weeks,days:-r.days,hours:-r.hours,minutes:-r.minutes,seconds:-r.seconds,milliseconds:-r.milliseconds,microseconds:-r.microseconds,nanoseconds:-r.nanoseconds});let{years:a,months:o,weeks:s,days:d,hours:p,minutes:m,seconds:y,milliseconds:g,microseconds:_,nanoseconds:x}=r;({days:d}=Lo(d,p,m,y,g,_,x,"day"));const T=di(i),E=Z(e,Nt),k=ua(E,["monthCode","year"]),v=ci(e,k,[]),w=Kc(a,o,s,d,0,0,0,0,0,0);v.day=w<0?Sy(lv(E,e)):1;const N=qd(E,v),S=new(Fn("%Temporal.Duration%"))(a,o,s,d,0,0,0,0,0,0),L=F2(ts(null),T);return fp(E,ci(Bs(E,N,S,T),k,[]),L)}function KE(n,e,t,i){const r=n==="subtract"?-1:1,{years:a,months:o,weeks:s,days:d,hours:p,minutes:m,seconds:y,milliseconds:g,microseconds:_,nanoseconds:x}=Dp(t),T=di(i),E=Z(e,Gi),k=Z(e,Nt);return Xa(fl(Z(e,fs),E,k,r*a,r*o,r*s,r*d,r*p,r*m,r*y,r*g,r*_,r*x,T),E,k)}function _o(n,e,t){if(e===1)return n;let{quotient:i,remainder:r}=Ta(n,pe.BigInt(e));if(pe.equal(r,Hr))return n;const a=pe.lessThan(r,Hr)?-1:1;switch(t){case"ceil":a>0&&(i=pe.add(i,pe.BigInt(a)));break;case"floor":a<0&&(i=pe.add(i,pe.BigInt(a)));break;case"trunc":break;case"halfExpand":pe.toNumber(vT(pe.multiply(r,pe.BigInt(2))))>=e&&(i=pe.add(i,pe.BigInt(a)))}return pe.multiply(i,pe.BigInt(e))}function Cb(n,e,t,i){let r=pe.remainder(n,pe.BigInt(864e11));pe.lessThan(r,Hr)&&(r=pe.add(r,pe.BigInt(864e11)));const a=pe.subtract(n,r),o=_o(r,RT[t]*e,i);return pe.add(a,o)}function DT(n,e,t,i,r,a,o,s,d,p,m,y,g=864e11){const{deltaDays:_,hour:x,minute:T,second:E,millisecond:k,microsecond:v,nanosecond:w}=MT(i,r,a,o,s,d,p,m,y,g),{year:N,month:S,day:L}=_0(n,e,t+_);return{year:N,month:S,day:L,hour:x,minute:T,second:E,millisecond:k,microsecond:v,nanosecond:w}}function MT(n,e,t,i,r,a,o,s,d,p=864e11){let m=Hr;switch(s){case"day":case"hour":m=pe.BigInt(n);case"minute":m=pe.add(pe.multiply(m,op),pe.BigInt(e));case"second":m=pe.add(pe.multiply(m,op),pe.BigInt(t));case"millisecond":m=pe.add(pe.multiply(m,Yi),pe.BigInt(i));case"microsecond":m=pe.add(pe.multiply(m,Yi),pe.BigInt(r));case"nanosecond":m=pe.add(pe.multiply(m,Yi),pe.BigInt(a))}const y=s==="day"?p:RT[s],g=_o(m,y*o,d),_=pe.toNumber(pe.divide(g,pe.BigInt(y)));switch(s){case"day":return{deltaDays:_,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Bu(_,0,0,0,0,0);case"minute":return Bu(n,_,0,0,0,0);case"second":return Bu(n,e,_,0,0,0);case"millisecond":return Bu(n,e,t,_,0,0);case"microsecond":return Bu(n,e,t,i,_,0);case"nanosecond":return Bu(n,e,t,i,r,_);default:throw new Error(`Invalid unit ${s}`)}}function ib(n,e){return IT(Z(n,dn),Z(n,gn),Z(n,_n),Z(e,dn),Z(e,gn),Z(e,_n),"day").days}function ps(n,e,t){const i=Bs(n,e,t,void 0);return{relativeTo:i,days:ib(e,i)}}function g1(n,e,t,i,r){const a=Z(n,Gi),o=Z(n,Nt);return Xa(fl(Z(n,fs),a,o,e,t,i,r,0,0,0,0,0,0),a,o)}function fI(n,e,t,i,r,a,o,s,d,p,m,y,g,_){let x=n,T=e,E=t,k=i,v=r,w=a,N=o,S=s,L=d,O=p;if(!En(_)||y==="year"||y==="month"||y==="week"||y==="day"||y==="nanosecond"&&m===1)return{years:x,months:T,weeks:E,days:k,hours:v,minutes:w,seconds:N,milliseconds:S,microseconds:L,nanoseconds:O};let Y=af(0,v,w,N,S,L,O,0);const X=by(pe.toNumber(Y)),H=Z(_,Gi),$=Z(_,Nt),G=fl(Z(_,fs),H,$,x,T,E,k,0,0,0,0,0,0),B=fl(new(Fn("%Temporal.Instant%"))(G),H,$,0,0,0,X,0,0,0,0,0,0),M=pe.subtract(B,G);return pe.greaterThanOrEqual(pe.multiply(pe.subtract(Y,M),pe.BigInt(X)),Hr)&&({years:x,months:T,weeks:E,days:k}=mI(x,T,E,k,0,0,0,0,0,0,0,0,0,X,0,0,0,0,0,0,_),Y=Cb(pe.subtract(Y,M),m,y,g),{hours:v,minutes:w,seconds:N,milliseconds:S,microseconds:L,nanoseconds:O}=Lo(0,0,0,0,0,0,pe.toNumber(Y),"hour")),{years:x,months:T,weeks:E,days:k,hours:v,minutes:w,seconds:N,milliseconds:S,microseconds:L,nanoseconds:O}}function Xd(n,e,t,i,r,a,o,s,d,p,m,y,g,_){let x=n,T=e,E=t,k=i,v=r,w=a,N=o,S=s,L=d,O=pe.BigInt(p);const Y=Fn("%Temporal.Duration%");let X,H,$,G,B=_;if(B){if(En(B))H=B,B=Qi(B);else if(!Ti(B))throw new TypeError("starting point must be PlainDate or ZonedDateTime");X=Z(B,Nt)}if(y==="year"||y==="month"||y==="week"||y==="day"){let M,D,V;O=af(0,v,w,N,S,L,p,0),H&&(M=g1(H,x,T,E,k)),{days:D,nanoseconds:O,dayLengthNs:V}=NT(O,M),$=pe.BigInt(V),k+=D,v=w=N=S=L=0}switch(y){case"year":{if(!X)throw new RangeError("A starting point is required for years rounding");const M=new Y(x),D=X.dateAdd,V=Bs(X,B,M,void 0,D),F=Bs(X,B,new Y(x,T,E),void 0,D);B=V,k+=ib(V,F);const z=Bs(X,B,{days:k},void 0,D),W=ts(null);W.largestUnit="year";const q=Wd(X,B,z,W).years;x+=q;const ee=B;B=Bs(X,B,{years:q},void 0,D),k-=ib(ee,B);const ue=new Y(k<0?-1:1);let{days:ie}=ps(X,B,ue);ie=Ii(ie);const oe=pe.multiply(pe.BigInt(ie),$);O=pe.add(pe.add(pe.multiply(oe,pe.BigInt(x)),pe.multiply(pe.BigInt(k),$)),O);const Ee=_o(O,pe.toNumber(pe.multiply(oe,pe.BigInt(m))),g);G=pe.toNumber(O)/pe.toNumber(oe),x=pe.toNumber(pe.divide(Ee,oe)),O=Hr,T=E=k=0;break}case"month":{if(!X)throw new RangeError("A starting point is required for months rounding");const M=new Y(x,T),D=X.dateAdd,V=Bs(X,B,M,void 0,D),F=Bs(X,B,new Y(x,T,E),void 0,D);B=V,k+=ib(V,F);const z=by(k),W=new Y(0,k<0?-1:1);let q;for({relativeTo:B,days:q}=ps(X,B,W);Ii(k)>=Ii(q);)T+=z,k-=q,{relativeTo:B,days:q}=ps(X,B,W);q=Ii(q);const ee=pe.multiply(pe.BigInt(q),$);O=pe.add(pe.add(pe.multiply(ee,pe.BigInt(T)),pe.multiply(pe.BigInt(k),$)),O);const ue=_o(O,pe.toNumber(pe.multiply(ee,pe.BigInt(m))),g);G=pe.toNumber(O)/pe.toNumber(ee),T=pe.toNumber(pe.divide(ue,ee)),O=Hr,E=k=0;break}case"week":{if(!X)throw new RangeError("A starting point is required for weeks rounding");const M=by(k),D=new Y(0,0,k<0?-1:1);let V;for({relativeTo:B,days:V}=ps(X,B,D);Ii(k)>=Ii(V);)E+=M,k-=V,{relativeTo:B,days:V}=ps(X,B,D);V=Ii(V);const F=pe.multiply(pe.BigInt(V),$);O=pe.add(pe.add(pe.multiply(F,pe.BigInt(E)),pe.multiply(pe.BigInt(k),$)),O);const z=_o(O,pe.toNumber(pe.multiply(F,pe.BigInt(m))),g);G=pe.toNumber(O)/pe.toNumber(F),E=pe.toNumber(pe.divide(z,F)),O=Hr,k=0;break}case"day":{const M=$;O=pe.add(pe.multiply(M,pe.BigInt(k)),O);const D=_o(O,pe.toNumber(pe.multiply(M,pe.BigInt(m))),g);G=pe.toNumber(O)/pe.toNumber(M),k=pe.toNumber(pe.divide(D,M)),O=Hr;break}case"hour":{let D=pe.multiply(pe.BigInt(v),pe.BigInt(36e11));D=pe.add(D,pe.multiply(pe.BigInt(w),pe.BigInt(6e10))),D=pe.add(D,pe.multiply(pe.BigInt(N),Vu)),D=pe.add(D,pe.multiply(pe.BigInt(S),ml)),D=pe.add(D,pe.multiply(pe.BigInt(L),Yi)),D=pe.add(D,O),G=pe.toNumber(D)/36e11;const V=_o(D,36e11*m,g);v=pe.toNumber(pe.divide(V,pe.BigInt(36e11))),O=Hr,w=N=S=L=0;break}case"minute":{let D=pe.multiply(pe.BigInt(w),pe.BigInt(6e10));D=pe.add(D,pe.multiply(pe.BigInt(N),Vu)),D=pe.add(D,pe.multiply(pe.BigInt(S),ml)),D=pe.add(D,pe.multiply(pe.BigInt(L),Yi)),D=pe.add(D,O),G=pe.toNumber(D)/6e10;const V=_o(D,6e10*m,g);w=pe.toNumber(pe.divide(V,pe.BigInt(6e10))),O=Hr,N=S=L=0;break}case"second":{let D=pe.multiply(pe.BigInt(N),Vu);D=pe.add(D,pe.multiply(pe.BigInt(S),ml)),D=pe.add(D,pe.multiply(pe.BigInt(L),Yi)),D=pe.add(D,O),G=pe.toNumber(D)/1e9;const V=_o(D,1e9*m,g);N=pe.toNumber(pe.divide(V,pe.BigInt(1e9))),O=Hr,S=L=0;break}case"millisecond":{let D=pe.multiply(pe.BigInt(S),ml);D=pe.add(D,pe.multiply(pe.BigInt(L),Yi)),D=pe.add(D,O),G=pe.toNumber(D)/1e6;const V=_o(D,1e6*m,g);S=pe.toNumber(pe.divide(V,pe.BigInt(1e6))),O=Hr,L=0;break}case"microsecond":{let D=pe.multiply(pe.BigInt(L),Yi);D=pe.add(D,O),G=pe.toNumber(D)/1e3;const V=_o(D,1e3*m,g);L=pe.toNumber(pe.divide(V,pe.BigInt(1e3))),O=Hr;break}case"nanosecond":G=pe.toNumber(O),O=_o(O,m,g)}return{years:x,months:T,weeks:E,days:k,hours:v,minutes:w,seconds:N,milliseconds:S,microseconds:L,nanoseconds:pe.toNumber(O),total:G}}function zd(n,e,t,i,r,a){for(const[o,s]of[[n,i],[e,r],[t,a]])if(o!==s)return cp(o-s);return 0}function Dm(n,e){let t=n%e;return lz(t,-0)?0:(t<0&&(t+=e),t)}function Eb(n){const e=gy(n);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function gy(n){if(n instanceof pe)return n;let e=n;if(typeof n=="object"){const t=n[Symbol.toPrimitive];t&&typeof t=="function"&&(e=gT(t,n,["number"]))}switch(typeof e){case"undefined":case"object":case"number":case"symbol":default:throw new TypeError(`cannot convert ${typeof n} to bigint`);case"string":if(!e.match(/^\s*(?:[+-]?\d+\s*)?$/))throw new SyntaxError("invalid BigInt syntax");case"bigint":try{return pe.BigInt(e.toString())}catch(t){throw t instanceof Error&&t.message.startsWith("Invalid integer")?new SyntaxError(t.message):t}case"boolean":return e?yT:Hr}}const OT=(()=>{let n=pe.BigInt(Date.now()%1e6);return()=>{const e=pe.BigInt(Date.now()),t=pe.add(pe.multiply(e,ml),n);return n=pe.remainder(e,ml),pe.greaterThan(t,wy)?wy:pe.lessThan(t,_y)?_y:t}})();function cp(n){return n<0?-1:n>0?1:n}function di(n){if(n===void 0)return ts(null);if(or(n)&&n!==null)return n;throw new TypeError("Options parameter must be an object, not "+(n===null?"null":typeof n))}function sf(n,e){const t=ts(null);return t[n]=e,t}function Zd(n,e,t,i){let r=n[e];if(r!==void 0){if(r=Wn(r),!t.includes(r))throw new RangeError(`${e} must be one of ${t.join(", ")}, not ${r}`);return r}return i}function gI(n){return $2.call(dz,n)}const yI=new RegExp(`^${M2.source}$`);function vI(n,e,t,i=n(e),r=n(t)){let a=pe.BigInt(e),o=pe.BigInt(t),s=i,d=r;for(;pe.greaterThan(pe.subtract(o,a),yT);){const p=pe.divide(pe.add(a,o),pe.BigInt(2)),m=n(p);if(m===s)a=p,s=m;else{if(m!==d)throw new Error(`invalid state in bisection ${s} - ${m} - ${d}`);o=p,d=m}}return o}const RT={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},xI=Symbol("date"),bI=Symbol("ym"),_I=Symbol("md"),wI=Symbol("time"),TI=Symbol("datetime"),SI=Symbol("zoneddatetime"),CI=Symbol("instant"),Zm=Symbol("original"),y1=Symbol("timezone"),rb=Symbol("timezone-id-given"),Bo=Symbol("calendar-id"),EI=Symbol("locale"),v1=Symbol("options"),yy=n=>({value:n,enumerable:!0,writable:!1,configurable:!0}),up=globalThis.Intl.DateTimeFormat,tu=Object.assign,gz=Object.prototype.hasOwnProperty,yz=Reflect.apply;function Gh(n,e){let t=n[e];return typeof t=="function"&&(t=new up(n[EI],t(n[v1])),n[e]=t),t}function Qg(n){let e=n[y1];return typeof e=="string"&&(e=Ys(e),n[y1]=e),e}function yp(n,e={}){if(!(this instanceof yp))return new yp(n,e);const t=e!==void 0,i=t?tu({},e):{},r=new up(n,i),a=r.resolvedOptions();if(t){const o=tu({},a);for(const s in o)yz(gz,i,[s])||delete o[s];this[v1]=o}else this[v1]=i;this[rb]=i.timeZone?i.timeZone:null,this[EI]=a.locale,this[Zm]=r,this[y1]=a.timeZone,this[Bo]=a.calendar,this[xI]=_z,this[bI]=xz,this[_I]=bz,this[wI]=vz,this[TI]=wz,this[SI]=Tz,this[CI]=Sz}Object.defineProperty(yp,"name",{writable:!0,value:"DateTimeFormat"}),yp.supportedLocalesOf=function(n,e){return up.supportedLocalesOf(n,e)};const cw={resolvedOptions:yy(function(){return this[Zm].resolvedOptions()}),format:yy(function(e,...t){let{instant:i,formatter:r,timeZone:a}=Km(e,this);return i&&r?(r=kb(r,a),r.format(i.epochMilliseconds)):this[Zm].format(e,...t)}),formatRange:yy(function(e,t){if(of(e)||of(t)){if(!kI(e,t))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:i,formatter:r,timeZone:a}=Km(e,this),{instant:o,formatter:s,timeZone:d}=Km(t,this);if(a&&d&&a!==d)throw new RangeError("cannot format range between different time zones");if(i&&o&&r&&s&&r===s)return kb(r,a).formatRange(i.epochMilliseconds,o.epochMilliseconds)}return this[Zm].formatRange(e,t)})};"formatToParts"in up.prototype&&(cw.formatToParts=yy(function(e,...t){let{instant:i,formatter:r,timeZone:a}=Km(e,this);return i&&r?(r=kb(r,a),r.formatToParts(i.epochMilliseconds)):this[Zm].formatToParts(e,...t)})),"formatRangeToParts"in up.prototype&&(cw.formatRangeToParts=yy(function(e,t){if(of(e)||of(t)){if(!kI(e,t))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:i,formatter:r,timeZone:a}=Km(e,this),{instant:o,formatter:s,timeZone:d}=Km(t,this);if(a&&d&&a!==d)throw new RangeError("cannot format range between different time zones");if(i&&o&&r&&s&&r===s)return kb(r,a).formatRangeToParts(i.epochMilliseconds,o.epochMilliseconds)}return this[Zm].formatRangeToParts(e,t)})),yp.prototype=Object.create(up.prototype,cw),Object.defineProperty(yp,"prototype",{writable:!1,enumerable:!1,configurable:!1});const Op=yp;function kb(n,e){if(!e)return n;const t=n.resolvedOptions();return t.timeZone===e?n:((t.dateStyle||t.timeStyle)&&(delete t.weekday,delete t.era,delete t.year,delete t.month,delete t.day,delete t.hour,delete t.minute,delete t.second,delete t.timeZoneName,delete t.hourCycle,delete t.hour12,delete t.dayPeriod),new up(t.locale,{...t,timeZone:e}))}function uv(n={},e={}){const t=tu({},n);for(const i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])t[i]=i in e?e[i]:t[i],t[i]!==!1&&t[i]!==void 0||delete t[i];return t}function vz(n){let e=uv(n,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return C0(e)||(e=tu({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function xz(n){let e=uv(n,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=tu(e,{year:"numeric",month:"numeric"})),e}function bz(n){let e=uv(n,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=tu({},e,{month:"numeric",day:"numeric"})),e}function _z(n){let e=uv(n,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return S0(e)||(e=tu({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function wz(n){let e=uv(n,{timeZoneName:!1});return C0(e)||S0(e)||(e=tu({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function Tz(n){let e=n;return C0(e)||S0(e)||(e=tu({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),e.timeZoneName===void 0&&(e.timeZoneName="short")),e}function Sz(n){let e=n;return C0(e)||S0(e)||(e=tu({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function S0(n){return"year"in n||"month"in n||"day"in n||"weekday"in n||"dateStyle"in n}function C0(n){return"hour"in n||"minute"in n||"second"in n||"timeStyle"in n||"dayPeriod"in n}function of(n){return Ti(n)||Ar(n)||ai(n)||En(n)||Oi(n)||Ra(n)||ya(n)}function kI(n,e){return!(!of(n)||!of(e))&&!(Ar(n)&&!Ar(e))&&!(Ti(n)&&!Ti(e))&&!(ai(n)&&!ai(e))&&!(En(n)&&!En(e))&&!(Oi(n)&&!Oi(e))&&!(Ra(n)&&!Ra(e))&&!(ya(n)&&!ya(e))}function Km(n,e){const t=Fn("%Temporal.PlainDateTime%");if(Ar(n)){const i=new t(1970,1,1,Z(n,Zn),Z(n,Kn),Z(n,Qn),Z(n,Jn),Z(n,ei),Z(n,ti),e[Bo]);return{instant:Us(Qg(e),i,"compatible"),formatter:Gh(e,wI)}}if(Oi(n)){const i=Z(n,dn),r=Z(n,gn),a=Z(n,_n),o=Wn(Z(n,Nt));if(o!==e[Bo])throw new RangeError(`cannot format PlainYearMonth with calendar ${o} in locale with calendar ${e[Bo]}`);const s=new t(i,r,a,12,0,0,0,0,0,o);return{instant:Us(Qg(e),s,"compatible"),formatter:Gh(e,bI)}}if(Ra(n)){const i=Z(n,dn),r=Z(n,gn),a=Z(n,_n),o=Wn(Z(n,Nt));if(o!==e[Bo])throw new RangeError(`cannot format PlainMonthDay with calendar ${o} in locale with calendar ${e[Bo]}`);const s=new t(i,r,a,12,0,0,0,0,0,o);return{instant:Us(Qg(e),s,"compatible"),formatter:Gh(e,_I)}}if(Ti(n)){const i=Z(n,dn),r=Z(n,gn),a=Z(n,_n),o=Wn(Z(n,Nt));if(o!=="iso8601"&&o!==e[Bo])throw new RangeError(`cannot format PlainDate with calendar ${o} in locale with calendar ${e[Bo]}`);const s=new t(i,r,a,12,0,0,0,0,0,e[Bo]);return{instant:Us(Qg(e),s,"compatible"),formatter:Gh(e,xI)}}if(ai(n)){const i=Z(n,dn),r=Z(n,gn),a=Z(n,_n),o=Z(n,Zn),s=Z(n,Kn),d=Z(n,Qn),p=Z(n,Jn),m=Z(n,ei),y=Z(n,ti),g=Wn(Z(n,Nt));if(g!=="iso8601"&&g!==e[Bo])throw new RangeError(`cannot format PlainDateTime with calendar ${g} in locale with calendar ${e[Bo]}`);let _=n;return g==="iso8601"&&(_=new t(i,r,a,o,s,d,p,m,y,e[Bo])),{instant:Us(Qg(e),_,"compatible"),formatter:Gh(e,TI)}}if(En(n)){const i=Wn(Z(n,Nt));if(i!=="iso8601"&&i!==e[Bo])throw new RangeError(`cannot format ZonedDateTime with calendar ${i} in locale with calendar ${e[Bo]}`);const r=Wn(Z(n,Gi));if(e[rb]&&e[rb]!==r)throw new RangeError(`timeZone option ${e[rb]} doesn't match actual time zone ${r}`);return{instant:Z(n,fs),formatter:Gh(e,SI),timeZone:r}}return ya(n)?{instant:n,formatter:Gh(e,CI)}:{}}class dc{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const t=gy(e);Jh(t),du(this),si(this,zn,t)}get epochSeconds(){if(!ya(this))throw new TypeError("invalid receiver");const e=Z(this,zn);return pe.toNumber(pe.divide(e,Vu))}get epochMilliseconds(){if(!ya(this))throw new TypeError("invalid receiver");const e=pe.BigInt(Z(this,zn));return pe.toNumber(pe.divide(e,ml))}get epochMicroseconds(){if(!ya(this))throw new TypeError("invalid receiver");const e=pe.BigInt(Z(this,zn));return Eb(pe.divide(e,Yi))}get epochNanoseconds(){if(!ya(this))throw new TypeError("invalid receiver");return Eb(pe.BigInt(Z(this,zn)))}add(e){if(!ya(this))throw new TypeError("invalid receiver");return qE("add",this,e)}subtract(e){if(!ya(this))throw new TypeError("invalid receiver");return qE("subtract",this,e)}until(e,t){if(!ya(this))throw new TypeError("invalid receiver");return jE("until",this,e,t)}since(e,t){if(!ya(this))throw new TypeError("invalid receiver");return jE("since",this,e,t)}round(e){if(!ya(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?sf("smallestUnit",e):di(e),i=ka(t,"smallestUnit","time",pp),r=ro(t,"halfExpand"),a=od(t,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[i],!0),o=Cb(Z(this,zn),a,i,r);return new dc(o)}equals(e){if(!ya(this))throw new TypeError("invalid receiver");const t=Hc(e),i=Z(this,zn),r=Z(t,zn);return pe.equal(pe.BigInt(i),pe.BigInt(r))}toString(e){if(!ya(this))throw new TypeError("invalid receiver");const t=di(e);let i=t.timeZone;i!==void 0&&(i=Ys(i));const{precision:r,unit:a,increment:o}=av(t),s=ro(t,"trunc"),d=Cb(Z(this,zn),o,a,s);return PE(new dc(d),i,r)}toJSON(){if(!ya(this))throw new TypeError("invalid receiver");return PE(this,void 0,"auto")}toLocaleString(e,t){if(!ya(this))throw new TypeError("invalid receiver");return new Op(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!ya(this))throw new TypeError("invalid receiver");if(!or(e))throw new TypeError("invalid argument in toZonedDateTime");const t=e.calendar;if(t===void 0)throw new TypeError("missing calendar property in toZonedDateTime");const i=Ga(t),r=e.timeZone;if(r===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");const a=Ys(r);return Xa(Z(this,zn),a,i)}toZonedDateTimeISO(e){let t=e;if(!ya(this))throw new TypeError("invalid receiver");if(or(t)){const a=t.timeZone;a!==void 0&&(t=a)}const i=Ys(t),r=ea();return Xa(Z(this,zn),i,r)}static fromEpochSeconds(e){const t=Ty(e),i=pe.multiply(pe.BigInt(t),Vu);return Jh(i),new dc(i)}static fromEpochMilliseconds(e){const t=Ty(e),i=pe.multiply(pe.BigInt(t),ml);return Jh(i),new dc(i)}static fromEpochMicroseconds(e){const t=gy(e),i=pe.multiply(t,Yi);return Jh(i),new dc(i)}static fromEpochNanoseconds(e){const t=gy(e);return Jh(t),new dc(t)}static from(e){return ya(e)?new dc(Z(e,zn)):Hc(e)}static compare(e,t){const i=Hc(e),r=Hc(t),a=Z(i,zn),o=Z(r,zn);return pe.lessThan(a,o)?-1:pe.greaterThan(a,o)?1:0}}uu(dc,"Temporal.Instant");const Nb=Array.prototype.includes,Cz=Array.prototype.push,Ez=globalThis.Intl.DateTimeFormat,kz=Array.prototype.sort,Nz=Math.abs,Lz=Math.floor,x1=Object.entries,QE=Object.keys,Pr={};class Lb{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");const t=Wn(e);if(!gI(t))throw new RangeError(`invalid calendar identifier ${t}`);du(this),si(this,qr,t)}get id(){if(!Wr(this))throw new TypeError("invalid receiver");return Wn(this)}dateFromFields(e,t){if(!Wr(this))throw new TypeError("invalid receiver");if(!or(e))throw new TypeError("invalid fields");const i=di(t);return Pr[Z(this,qr)].dateFromFields(e,i,this)}yearMonthFromFields(e,t){if(!Wr(this))throw new TypeError("invalid receiver");if(!or(e))throw new TypeError("invalid fields");const i=di(t);return Pr[Z(this,qr)].yearMonthFromFields(e,i,this)}monthDayFromFields(e,t){if(!Wr(this))throw new TypeError("invalid receiver");if(!or(e))throw new TypeError("invalid fields");const i=di(t);return Pr[Z(this,qr)].monthDayFromFields(e,i,this)}fields(e){if(!Wr(this))throw new TypeError("invalid receiver");const t=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const r of e){if(typeof r!="string")throw new TypeError("invalid fields");if(!i.has(r))throw new RangeError(`invalid field name ${r}`);i.delete(r),Cz.call(t,r)}return Pr[Z(this,qr)].fields(t)}mergeFields(e,t){if(!Wr(this))throw new TypeError("invalid receiver");return Pr[Z(this,qr)].mergeFields(e,t)}dateAdd(e,t,i){if(!Wr(this))throw new TypeError("invalid receiver");const r=Qi(e),a=Xm(t),o=Jr(di(i)),{days:s}=Lo(Z(a,Ps),Z(a,Ds),Z(a,Ms),Z(a,Os),Z(a,Rs),Z(a,$s),Z(a,zs),"day");return Pr[Z(this,qr)].dateAdd(r,Z(a,As),Z(a,Oa),Z(a,eo),s,o,this)}dateUntil(e,t,i){if(!Wr(this))throw new TypeError("invalid receiver");const r=Qi(e),a=Qi(t);let o=ka(di(i),"largestUnit","date","auto");o==="auto"&&(o="day");const{years:s,months:d,weeks:p,days:m}=Pr[Z(this,qr)].dateUntil(r,a,o);return new(Fn("%Temporal.Duration%"))(s,d,p,m,0,0,0,0,0,0)}year(e){let t=e;if(!Wr(this))throw new TypeError("invalid receiver");return Oi(t)||(t=Qi(t)),Pr[Z(this,qr)].year(t)}month(e){let t=e;if(!Wr(this))throw new TypeError("invalid receiver");if(Ra(t))throw new TypeError("use monthCode on PlainMonthDay instead");return Oi(t)||(t=Qi(t)),Pr[Z(this,qr)].month(t)}monthCode(e){let t=e;if(!Wr(this))throw new TypeError("invalid receiver");return Oi(t)||Ra(t)||(t=Qi(t)),Pr[Z(this,qr)].monthCode(t)}day(e){let t=e;if(!Wr(this))throw new TypeError("invalid receiver");return Ra(t)||(t=Qi(t)),Pr[Z(this,qr)].day(t)}era(e){let t=e;if(!Wr(this))throw new TypeError("invalid receiver");return Oi(t)||(t=Qi(t)),Pr[Z(this,qr)].era(t)}eraYear(e){let t=e;if(!Wr(this))throw new TypeError("invalid receiver");return Oi(t)||(t=Qi(t)),Pr[Z(this,qr)].eraYear(t)}dayOfWeek(e){if(!Wr(this))throw new TypeError("invalid receiver");const t=Qi(e);return Pr[Z(this,qr)].dayOfWeek(t)}dayOfYear(e){if(!Wr(this))throw new TypeError("invalid receiver");const t=Qi(e);return Pr[Z(this,qr)].dayOfYear(t)}weekOfYear(e){if(!Wr(this))throw new TypeError("invalid receiver");const t=Qi(e);return Pr[Z(this,qr)].weekOfYear(t)}daysInWeek(e){if(!Wr(this))throw new TypeError("invalid receiver");const t=Qi(e);return Pr[Z(this,qr)].daysInWeek(t)}daysInMonth(e){let t=e;if(!Wr(this))throw new TypeError("invalid receiver");return Oi(t)||(t=Qi(t)),Pr[Z(this,qr)].daysInMonth(t)}daysInYear(e){let t=e;if(!Wr(this))throw new TypeError("invalid receiver");return Oi(t)||(t=Qi(t)),Pr[Z(this,qr)].daysInYear(t)}monthsInYear(e){let t=e;if(!Wr(this))throw new TypeError("invalid receiver");return Oi(t)||(t=Qi(t)),Pr[Z(this,qr)].monthsInYear(t)}inLeapYear(e){let t=e;if(!Wr(this))throw new TypeError("invalid receiver");return Oi(t)||(t=Qi(t)),Pr[Z(this,qr)].inLeapYear(t)}toString(){if(!Wr(this))throw new TypeError("invalid receiver");return Z(this,qr)}toJSON(){if(!Wr(this))throw new TypeError("invalid receiver");return Wn(this)}static from(e){return Ga(e)}}function $T(n){if(!n.startsWith("M"))throw new RangeError(`Invalid month code: ${n}.  Month codes must start with M.`);const e=+n.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${n}`);return e}function qu(n,e=!1){return`M${n.toString().padStart(2,"0")}${e?"L":""}`}function ab(n,e,t=12){let{month:i,monthCode:r}=n;if(r===void 0){if(i===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&Ka(i,1,t),e==="constrain"&&(i=So(i,1,t)),r=qu(i)}else{const a=$T(r);if(i!==void 0&&i!==a)throw new RangeError(`monthCode ${r} and month ${i} must match if both are present`);if(r!==qu(a))throw new RangeError(`Invalid month code: ${r}`);if(i=a,i<1||i>t)throw new RangeError(`Invalid monthCode: ${r}`)}return{...n,month:i,monthCode:r}}uu(Lb,"Temporal.Calendar"),l1("Temporal.Calendar.from",Lb.from),Pr.iso8601={dateFromFields(n,e,t){const i=Jr(e);let r=ci(n,["day","month","monthCode","year"],["year","day"]);r=ab(r);let{year:a,month:o,day:s}=r;return{year:a,month:o,day:s}=bb(a,o,s,i),ql(a,o,s,t)},yearMonthFromFields(n,e,t){const i=Jr(e);let r=ci(n,["month","monthCode","year"],["year"]);r=ab(r);let{year:a,month:o}=r;return{year:a,month:o}=function(d,p,m){let y=d,g=p;switch(m){case"reject":eu(y,g,1);break;case"constrain":({year:y,month:g}=lI(y,g))}return{year:y,month:g}}(a,o,i),ky(a,o,t,1)},monthDayFromFields(n,e,t){const i=Jr(e);let r=ci(n,["day","month","monthCode","year"],["day"]);if(r.month!==void 0&&r.year===void 0&&r.monthCode===void 0)throw new TypeError("either year or monthCode required with month");const a=r.monthCode===void 0;r=ab(r);let{month:o,day:s,year:d}=r;return{month:o,day:s}=bb(a?d:1972,o,s,i),Ey(o,s,t,1972)},fields:n=>n,mergeFields(n,e){const t={};for(const r of QE(n))r!=="month"&&r!=="monthCode"&&(t[r]=n[r]);const i=QE(e);for(const r of i)t[r]=e[r];if(!Nb.call(i,"month")&&!Nb.call(i,"monthCode")){const{month:r,monthCode:a}=n;r!==void 0&&(t.month=r),a!==void 0&&(t.monthCode=a)}return t},dateAdd(n,e,t,i,r,a,o){let s=Z(n,dn),d=Z(n,gn),p=Z(n,_n);return{year:s,month:d,day:p}=lp(s,d,p,e,t,i,r,a),ql(s,d,p,o)},dateUntil:(n,e,t)=>IT(Z(n,dn),Z(n,gn),Z(n,_n),Z(e,dn),Z(e,gn),Z(e,_n),t),year:n=>Z(n,dn),era(){},eraYear(){},month:n=>Z(n,gn),monthCode:n=>qu(Z(n,gn)),day:n=>Z(n,_n),dayOfWeek:n=>lw(Z(n,dn),Z(n,gn),Z(n,_n)),dayOfYear:n=>Sb(Z(n,dn),Z(n,gn),Z(n,_n)),weekOfYear:n=>function(t,i,r){const a=Sb(t,i,r),o=lw(t,i,r)||7,s=lw(t,1,1),d=Ca((a-o+10)/7);return d<1?s===5||s===6&&$d(t-1)?53:52:d===53&&($d(t)?366:365)-a<4-o?1:d}(Z(n,dn),Z(n,gn),Z(n,_n)),daysInWeek:()=>7,daysInMonth:n=>Wu(Z(n,dn),Z(n,gn)),daysInYear(n){let e=n;return Na(e,dn)||(e=Qi(e)),$d(Z(e,dn))?366:365},monthsInYear:()=>12,inLeapYear(n){let e=n;return Na(e,dn)||(e=Qi(e)),$d(Z(e,dn))}};class wr{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let t=0;for(const i of e.map.entries()){if(++t>wr.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(e){const t=this.map.get(e);return t&&(this.hits++,this.report()),this.calls++,t}set(e,t){this.map.set(e,t),this.misses++,this.report()}report(){}setObject(e){if(wr.objectMap.get(e))throw new RangeError("object already cached");wr.objectMap.set(e,this),this.report()}static getCacheForObject(e){let t=wr.objectMap.get(e);return t||(t=new wr,wr.objectMap.set(e,t)),t}}function NI({isoYear:n,isoMonth:e,isoDay:t}){return`${Mp(n)}-${yr(e)}-${yr(t)}T00:00Z`}function uw(n,e){return{years:n.year-e.year,months:n.month-e.month,days:n.day-e.day}}wr.objectMap=new WeakMap,wr.MAX_CACHE_ENTRIES=1e3;class $f{constructor(){this.eraLength="short",this.hasEra=!0}getFormatter(){return this.formatter===void 0&&(this.formatter=new Ez(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,t){const{year:i,month:r,day:a}=e,o=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:r,isoDay:a,id:this.id}),s=t.get(o);if(s)return s;const d=this.getFormatter();let p,m;try{m=NI({isoYear:i,isoMonth:r,isoDay:a}),p=d.formatToParts(new Date(m))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:r,isoDay:a})}`)}const y={};for(let{type:_,value:x}of p){if(_==="year"&&(y.eraYear=+x),_==="relatedYear"&&(y.eraYear=+x),_==="month"){const T=/^([0-9]*)(.*?)$/.exec(x);if(!T||T.length!=3||!T[1]&&!T[2])throw new RangeError(`Unexpected month: ${x}`);if(y.month=T[1]?+T[1]:1,y.month<1)throw new RangeError(`Invalid month ${x} from ${m}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(y.month>13)throw new RangeError(`Invalid month ${x} from ${m}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);T[2]&&(y.monthExtra=T[2])}_==="day"&&(y.day=+x),this.hasEra&&_==="era"&&x!=null&&x!==""&&(x=x.split(" (")[0],y.era=x.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(y.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:_,eraYear:x}=this.reviseIntlEra(y,e);y.era=_,y.eraYear=x}this.checkIcuBugs&&this.checkIcuBugs(e);const g=this.adjustCalendarDate(y,t,"constrain",!0);if(g.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(g.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(g.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return t.set(o,g),["constrain","reject"].forEach(_=>{const x=JSON.stringify({func:"calendarToIsoDate",year:g.year,month:g.month,day:g.day,overflow:_,id:this.id});t.set(x,e)}),g}validateCalendarDate(e){const{era:t,month:i,year:r,day:a,eraYear:o,monthCode:s,monthExtra:d}=e;if(d!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(r===void 0&&o===void 0)throw new TypeError("year or eraYear is required");if(i===void 0&&s===void 0)throw new TypeError("month or monthCode is required");if(a===void 0)throw new RangeError("Missing day");if(s!==void 0){if(typeof s!="string")throw new RangeError("monthCode must be a string, not "+typeof s);if(!/^M([01]?\d)(L?)$/.test(s))throw new RangeError(`Invalid monthCode: ${s}`)}if(this.constantEra){if(t!==void 0&&t!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${t}`);if(o!==void 0&&r!==void 0&&o!==r)throw new RangeError(`eraYear ${o} does not match year ${r}`)}}adjustCalendarDate(e,t,i="constrain",r=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let a=e;if(this.validateCalendarDate(a),this.constantEra){const{year:p,eraYear:m}=a;a={...a,era:this.constantEra,year:p!==void 0?p:m,eraYear:m!==void 0?m:p}}const o=this.monthsInYear(a,t);let{month:s,monthCode:d}=a;return{month:s,monthCode:d}=ab(a,i,o),{...a,month:s,monthCode:d}}regulateMonthDayNaive(e,t,i){const r=this.monthsInYear(e,i);let{month:a,day:o}=e;return t==="reject"?(Ka(a,1,r),Ka(o,1,this.maximumMonthLength(e))):(a=So(a,1,r),o=So(o,1,this.maximumMonthLength({...e,month:a}))),{...e,month:a,day:o}}calendarToIsoDate(e,t="constrain",i){const r=e;let a=this.adjustCalendarDate(e,i,t,!1);a=this.regulateMonthDayNaive(a,t,i);const{year:o,month:s,day:d}=a,p=JSON.stringify({func:"calendarToIsoDate",year:o,month:s,day:d,overflow:t,id:this.id});let m,y=i.get(p);if(y||r.year!==void 0&&r.month!==void 0&&r.day!==void 0&&(r.year!==a.year||r.month!==a.month||r.day!==a.day)&&(m=JSON.stringify({func:"calendarToIsoDate",year:r.year,month:r.month,day:r.day,overflow:t,id:this.id}),y=i.get(m),y))return y;let g=this.estimateIsoDate({year:o,month:s,day:d});const _=w=>{let N=this.addDaysIso(g,w);if(a.day>this.minimumMonthLength(a)){let S=this.isoToCalendarDate(N,i);for(;S.month!==s||S.year!==o;){if(t==="reject")throw new RangeError(`day ${d} does not exist in month ${s} of year ${o}`);N=this.addDaysIso(N,-1),S=this.isoToCalendarDate(N,i)}}return N};let x=0,T=this.isoToCalendarDate(g,i),E=uw(a,T);if(E.years!==0||E.months!==0||E.days!==0){const w=365*E.years+30*E.months+E.days;g=this.addDaysIso(g,w),T=this.isoToCalendarDate(g,i),E=uw(a,T),E.years===0&&E.months===0?g=_(E.days):x=this.compareCalendarDates(a,T)}let k=8,v=!1;for(;x;){g=this.addDaysIso(g,x*k);const w=T;T=this.isoToCalendarDate(g,i);const N=x;if(x=this.compareCalendarDates(a,T),x){if(E=uw(a,T),E.years===0&&E.months===0)g=_(E.days),x=0,v=a.day>this.minimumMonthLength(a);else if(N&&x!==N)if(k>1)k/=2;else{if(t==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...r})}`);this.compareCalendarDates(T,w)>0&&(g=this.addDaysIso(g,-1)),v=!0,x=0}}}if(i.set(p,g),m&&i.set(m,g),a.year===void 0||a.month===void 0||a.day===void 0||a.monthCode===void 0||this.hasEra&&(a.era===void 0||a.eraYear===void 0))throw new RangeError("Unexpected missing property");if(!v){const w=JSON.stringify({func:"isoToCalendarDate",isoYear:g.year,isoMonth:g.month,isoDay:g.day,id:this.id});i.set(w,a)}return g}temporalToCalendarDate(e,t){const i={year:Z(e,dn),month:Z(e,gn),day:Z(e,_n)};return this.isoToCalendarDate(i,t)}compareCalendarDates(e,t){const i=ci(e,["day","month","year"],["day","month","year"]),r=ci(t,["day","month","year"],["day","month","year"]);return i.year!==r.year?cp(i.year-r.year):i.month!==r.month?cp(i.month-r.month):i.day!==r.day?cp(i.day-r.day):0}regulateDate(e,t="constrain",i){const r=this.calendarToIsoDate(e,t,i);return this.isoToCalendarDate(r,i)}addDaysIso(e,t){return lp(e.year,e.month,e.day,0,0,0,t,"constrain")}addDaysCalendar(e,t,i){const r=this.calendarToIsoDate(e,"constrain",i),a=this.addDaysIso(r,t);return this.isoToCalendarDate(a,i)}addMonthsCalendar(e,t,i,r){let a=e;const{day:o}=a;for(let s=0,d=Nz(t);s<d;s++){const{month:p}=a,m=a,y=t<0?-Math.max(o,this.daysInPreviousMonth(a,r)):this.daysInMonth(a,r),g=this.calendarToIsoDate(a,"constrain",r);let _=this.addDaysIso(g,y);if(a=this.isoToCalendarDate(_,r),t>0){const x=this.monthsInYear(m,r);for(;a.month-1!=p%x;)_=this.addDaysIso(_,-1),a=this.isoToCalendarDate(_,r)}a.day!==o&&(a=this.regulateDate({...a,day:o},"constrain",r))}if(i==="reject"&&a.day!==o)throw new RangeError(`Day ${o} does not exist in resulting calendar month`);return a}addCalendar(e,{years:t=0,months:i=0,weeks:r=0,days:a=0},o,s){const{year:d,day:p,monthCode:m}=e,y=this.adjustCalendarDate({year:d+t,monthCode:m,day:p},s),g=this.addMonthsCalendar(y,i,o,s),_=a+7*r;return this.addDaysCalendar(g,_,s)}untilCalendar(e,t,i,r){let a=0,o=0,s=0,d=0;switch(i){case"day":a=this.calendarDaysUntil(e,t,r);break;case"week":{const p=this.calendarDaysUntil(e,t,r);a=p%7,o=(p-a)/7;break}case"month":case"year":{const p=t.year-e.year,m=t.month-e.month,y=t.day-e.day,g=this.compareCalendarDates(t,e);if(!g)return{years:0,months:0,weeks:0,days:0};i==="year"&&p&&(d=m*g<0||m===0&&y*g<0?p-g:p);let _,x=d?this.addCalendar(e,{years:d},"constrain",r):e;do s+=g,_=x,x=this.addMonthsCalendar(_,g,"constrain",r),x.day!==e.day&&(x=this.regulateDate({...x,day:e.day},"constrain",r));while(this.compareCalendarDates(t,x)*g>=0);s-=g,a=this.calendarDaysUntil(_,t,r);break}}return{years:d,months:s,weeks:o,days:a}}daysInMonth(e,t){const{day:i}=e,r=this.maximumMonthLength(e),a=this.minimumMonthLength(e);if(a===r)return a;const o=i<=r-a?r:a,s=this.calendarToIsoDate(e,"constrain",t),d=this.addDaysIso(s,o),p=this.isoToCalendarDate(d,t),m=this.addDaysIso(d,-p.day);return this.isoToCalendarDate(m,t).day}daysInPreviousMonth(e,t){const{day:i,month:r,year:a}=e;let o={year:r>1?a:a-1,month:r,day:1};const s=r>1?r-1:this.monthsInYear(o,t);o={...o,month:s};const d=this.minimumMonthLength(o),p=this.maximumMonthLength(o);if(d===p)return p;const m=this.calendarToIsoDate(e,"constrain",t),y=this.addDaysIso(m,-i);return this.isoToCalendarDate(y,t).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,t,i){const r=this.calendarToIsoDate(e,"constrain",i),a=this.calendarToIsoDate(t,"constrain",i);return this.isoDaysUntil(r,a)}isoDaysUntil(e,t){return IT(e.year,e.month,e.day,t.year,t.month,t.day,"day").days}monthDayFromFields(e,t,i){let r,a,o,s,d,{year:p,month:m,monthCode:y,day:g,era:_,eraYear:x}=e;if(y===void 0){if(p===void 0&&(_===void 0||x===void 0))throw new TypeError("`monthCode`, `year`, or `era` and `eraYear` is required");({monthCode:y,year:p}=this.adjustCalendarDate({year:p,month:m,monthCode:y,day:g,era:_,eraYear:x},i,t))}const{year:T}=this.isoToCalendarDate({year:1972,month:1,day:1},i);for(let E=0;E<100;E++){const k=this.adjustCalendarDate({day:g,monthCode:y,year:T-E},i),v=this.calendarToIsoDate(k,"constrain",i),w=this.isoToCalendarDate(v,i);if({year:r,month:a,day:o}=v,w.monthCode===y&&w.day===g)return{month:a,day:o,year:r};t==="constrain"&&(s===void 0||w.monthCode===s.monthCode&&w.day>s.day)&&(s=w,d=v)}if(t==="constrain"&&d!==void 0)return d;throw new RangeError(`No recent ${this.id} year with monthCode ${y} and day ${g}`)}}class Iz extends $f{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){const{year:t}=e;return(7*t+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,t){const{month:i,year:r}=e,a=this.getMonthCode(r,i),o=x1(this.months).find(d=>d[1].monthCode===a);if(o===void 0)throw new RangeError(`unmatched Hebrew month: ${i}`);const s=o[1].days;return typeof s=="number"?s:s[t]}estimateIsoDate(e){const{year:t}=e;return{year:t-3760,month:1,day:1}}getMonthCode(e,t){return this.inLeapYear({year:e})?t===6?qu(5,!0):qu(t<6?t:t-1):qu(t)}adjustCalendarDate(e,t,i="constrain",r=!1){let{year:a,eraYear:o,month:s,monthCode:d,day:p,monthExtra:m}=e;if(a===void 0&&o!==void 0&&(a=o),o===void 0&&a!==void 0&&(o=a),r){if(m){const y=this.months[m];if(!y)throw new RangeError(`Unrecognized month from formatToParts: ${m}`);s=this.inLeapYear({year:a})?y.leap:y.regular}return d=this.getMonthCode(a,s),{year:a,month:s,day:p,era:void 0,eraYear:o,monthCode:d}}if(this.validateCalendarDate(e),s===void 0)if(d.endsWith("L")){if(d!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${d}`);if(s=6,!this.inLeapYear({year:a})){if(i==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${a} which is not a leap year`);s=5,p=30,d="M05"}}else{s=$T(d),this.inLeapYear({year:a})&&s>=6&&s++;const y=this.monthsInYear({year:a});if(s<1||s>y)throw new RangeError(`Invalid monthCode: ${d}`)}else if(i==="reject"?(Ka(s,1,this.monthsInYear({year:a})),Ka(p,1,this.maximumMonthLength({year:a,month:s}))):(s=So(s,1,this.monthsInYear({year:a})),p=So(p,1,this.maximumMonthLength({year:a,month:s}))),d===void 0)d=this.getMonthCode(a,s);else if(this.getMonthCode(a,s)!==d)throw new RangeError(`monthCode ${d} doesn't correspond to month ${s} in Hebrew year ${a}`);return{...e,day:p,month:s,monthCode:d,year:a,eraYear:o}}}class zf extends $f{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,t){return this.daysInMonth({year:e.year,month:12,day:1},t)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:Lz(t*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class LI extends zf{constructor(){super(...arguments),this.id="islamic"}}class Az extends zf{constructor(){super(...arguments),this.id="islamic-umalqura"}}class Pz extends zf{constructor(){super(...arguments),this.id="islamic-tbla"}}class Dz extends zf{constructor(){super(...arguments),this.id="islamic-civil"}}class Mz extends zf{constructor(){super(...arguments),this.id="islamic-rgsa"}}class Oz extends zf{constructor(){super(...arguments),this.id="islamicc"}}class Rz extends $f{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,t){return LI.prototype.inLeapYear.call(this,e,t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===12?29:t<=6?31:30}maximumMonthLength(e){const{month:t}=e;return t===12?30:t<=6?31:30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:t+621,month:1,day:1}}}class $z extends $f{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return II(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){const{month:t}=e;let i=this.months[t];if(i===void 0)throw new RangeError(`Invalid month: ${t}`);return this.inLeapYear(e)&&i.leap&&(i=i.leap),i}estimateIsoDate(e){const t=this.adjustCalendarDate(e),i=this.getMonthInfo(t);return lp(t.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,t.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function II(n){return n%4==0&&(n%100!=0||n%400==0)}class dv extends $f{constructor(e,t){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;const{eras:i,anchorEra:r}=function(o){let s,d=o;if(d.length===0)throw new RangeError("Invalid era data: eras are required");if(d.length===1&&d[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(d.length===1&&!d[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(d.filter(m=>m.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");d.forEach(m=>{if(m.isAnchor||!m.anchorEpoch&&!m.reverseOf){if(s)throw new RangeError("Invalid era data: cannot have multiple anchor eras");s=m,m.anchorEpoch={year:m.hasYearZero?0:1}}else if(!m.name)throw new RangeError("If era name is blank, it must be the anchor era")}),d=d.filter(m=>m.name),d.forEach(m=>{const{reverseOf:y}=m;if(y){const g=d.find(_=>_.name===y);if(g===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${y}`);m.reverseOf=g,m.anchorEpoch=g.anchorEpoch,m.isoEpoch=g.isoEpoch}m.anchorEpoch.month===void 0&&(m.anchorEpoch.month=1),m.anchorEpoch.day===void 0&&(m.anchorEpoch.day=1)}),kz.call(d,(m,y)=>{if(m.reverseOf)return 1;if(y.reverseOf)return-1;if(!m.isoEpoch||!y.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return y.isoEpoch.year-m.isoEpoch.year});const p=d[d.length-1].reverseOf;if(p&&p!==d[d.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return d.forEach((m,y)=>{m.genericName="era"+(d.length-1-y)}),{eras:d,anchorEra:s||d[0]}}(t);this.anchorEra=r,this.eras=i}inLeapYear(e){const{year:t}=this.estimateIsoDate({month:1,day:1,year:e.year});return II(t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){const t=(s,d)=>{const p=e[s];if(p!=null&&p!=d)throw new RangeError(`Input ${s} ${p} doesn't match calculated value ${d}`)},i=s=>{let d;const p={...e,year:s},m=this.eras.find((y,g)=>{if(g===this.eras.length-1){if(y.reverseOf){if(s>0)throw new RangeError(`Signed year ${s} is invalid for era ${y.name}`);return d=y.anchorEpoch.year-s,!0}return d=s-y.anchorEpoch.year+(y.hasYearZero?0:1),!0}return this.compareCalendarDates(p,y.anchorEpoch)>=0&&(d=s-y.anchorEpoch.year+(y.hasYearZero?0:1),!0)});if(!m)throw new RangeError(`Year ${s} was not matched by any era`);return{eraYear:d,era:m.name}};let{year:r,eraYear:a,era:o}=e;if(r!=null)({eraYear:a,era:o}=i(r)),t("era",o),t("eraYear",a);else{if(a==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const s=o===void 0?void 0:this.eras.find(d=>d.name===o||d.genericName===o);if(!s)throw new RangeError(`Era ${o} (ISO year ${a}) was not matched by any era`);if(a<1&&s.reverseOf)throw new RangeError(`Years in ${o} era must be positive, not ${r}`);r=s.reverseOf?s.anchorEpoch.year-a:a+s.anchorEpoch.year-(s.hasYearZero?0:1),t("year",r),{eraYear:a,era:o}=i(r)}}return{...e,year:r,eraYear:a,era:o}}adjustCalendarDate(e,t,i="constrain"){let r=e;const{month:a,monthCode:o}=r;return a===void 0&&(r={...r,month:$T(o)}),this.validateCalendarDate(r),r=this.completeEraYear(r),super.adjustCalendarDate(r,t,i)}estimateIsoDate(e){const t=this.adjustCalendarDate(e),{year:i,month:r,day:a}=t,{anchorEra:o}=this;return bb(i+o.isoEpoch.year-(o.hasYearZero?0:1),r,a,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&zd(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class zT extends dv{constructor(e,t){super(e,t)}inLeapYear(e){const{year:t}=e;return(t+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){const{month:t}=e;return t===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}}class zz extends zT{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class Fz extends zT{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class jz extends zT{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class Bz extends dv{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class Uz extends dv{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class Gz extends dv{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:t,eraYear:i}=e;return t!=="bc"&&t!=="b"||(t="bce"),t!=="ad"&&t!=="a"||(t="ce"),{era:t,eraYear:i}}}class Yz extends dv{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long"}reviseIntlEra(e,t){const{era:i,eraYear:r}=e,{year:a}=t;return this.eras.find(o=>o.name===i)?{era:i,eraYear:r}:a<1?{era:"bce",eraYear:1-a}:{era:"ce",eraYear:a}}}class AI extends $f{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,t){const i=this.getMonthList(e.year,t);return x1(i).length===13}monthsInYear(e,t){return this.inLeapYear(e,t)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,t){if(e===void 0)throw new TypeError("Missing year");const i=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),r=t.get(i);if(r)return r;const a=this.getFormatter(),o=(E,k)=>{const v=NI({isoYear:E,isoMonth:2,isoDay:1}),w=new Date(v);w.setUTCDate(k+1);const N=a.formatToParts(w),S=N.find(Y=>Y.type==="month").value,L=+N.find(Y=>Y.type==="day").value;let O=N.find(Y=>Y.type==="relatedYear");if(O===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return O=+O.value,{calendarMonthString:S,calendarDay:L,calendarYearToVerify:O}};let s=17,{calendarMonthString:d,calendarDay:p,calendarYearToVerify:m}=o(e,s);d!=="1"&&(s+=29,{calendarMonthString:d,calendarDay:p}=o(e,s)),s-=p-5;const y={};let g,_,x=1,T=!1;do({calendarMonthString:d,calendarDay:p,calendarYearToVerify:m}=o(e,s)),g&&(y[_].daysInMonth=g+30-p),m!==e?T=!0:(y[d]={monthIndex:x++},s+=30),g=p,_=d;while(!T);return y[_].daysInMonth=g+30-p,t.set(i,y),y}estimateIsoDate(e){const{year:t,month:i}=e;return{year:t,month:i>=12?12:i+1,day:1}}adjustCalendarDate(e,t,i="constrain",r=!1){let{year:a,month:o,monthExtra:s,day:d,monthCode:p,eraYear:m}=e;if(r){if(a=m,s&&s!=="bis")throw new RangeError(`Unexpected leap month suffix: ${s}`);const y=qu(o,s!==void 0),g=`${o}${s||""}`,_=this.getMonthList(a,t)[g];if(_===void 0)throw new RangeError(`Unmatched month ${g} in Chinese year ${a}`);return o=_.monthIndex,{year:a,month:o,day:d,era:void 0,eraYear:m,monthCode:y}}if(this.validateCalendarDate(e),a===void 0&&(a=m),m===void 0&&(m=a),o===void 0){const y=this.getMonthList(a,t);let g=p.replace("L","bis").slice(1);g[0]==="0"&&(g=g.slice(1));let _=y[g];if(o=_&&_.monthIndex,o===void 0&&p.endsWith("L")&&!Nb.call(["M01L","M12L","M13L"],p)&&i==="constrain"){let x=p.slice(1,-1);x[0]==="0"&&(x=x.slice(1)),_=y[x],_&&({daysInMonth:d,monthIndex:o}=_,p=qu(x))}if(o===void 0)throw new RangeError(`Unmatched month ${p} in Chinese year ${a}`)}else if(p===void 0){const y=this.getMonthList(a,t),g=x1(y),_=g.length;i==="reject"?(Ka(o,1,_),Ka(d,1,this.maximumMonthLength())):(o=So(o,1,_),d=So(d,1,this.maximumMonthLength()));const x=g.find(([,T])=>T.monthIndex===o);if(x===void 0)throw new RangeError(`Invalid month ${o} in Chinese year ${a}`);p=qu(x[0].replace("bis",""),x[0].indexOf("bis")!==-1)}else{const y=this.getMonthList(a,t);let g=p.replace("L","bis").slice(1);g[0]==="0"&&(g=g.slice(1));const _=y[g];if(!_)throw new RangeError(`Unmatched monthCode ${p} in Chinese year ${a}`);if(o!==_.monthIndex)throw new RangeError(`monthCode ${p} doesn't correspond to month ${o} in Chinese year ${a}`)}return{...e,year:a,eraYear:m,month:o,monthCode:p,day:d}}}class Vz extends AI{constructor(){super(...arguments),this.id="chinese"}}class Wz extends AI{constructor(){super(...arguments),this.id="dangi"}}const qz={helper:void 0,dateFromFields(n,e,t){const i=Jr(e),r=new wr,a=ci(n,["day","era","eraYear","month","monthCode","year"],["day"]),{year:o,month:s,day:d}=this.helper.calendarToIsoDate(a,i,r),p=ql(o,s,d,t);return r.setObject(p),p},yearMonthFromFields(n,e,t){const i=Jr(e),r=new wr,a=ci(n,["era","eraYear","month","monthCode","year"],[]),{year:o,month:s,day:d}=this.helper.calendarToIsoDate({...a,day:1},i,r),p=ky(o,s,t,d);return r.setObject(p),p},monthDayFromFields(n,e,t){const i=Jr(e),r=new wr,a=ci(n,["day","era","eraYear","month","monthCode","year"],["day"]),{year:o,month:s,day:d}=this.helper.monthDayFromFields(a,i,r),p=Ey(s,d,t,o);return r.setObject(p),p},fields(n){let e=n;return Nb.call(e,"year")&&(e=[...e,"era","eraYear"]),e},mergeFields(n,e){const t={...n},i={...e},{month:r,monthCode:a,year:o,era:s,eraYear:d,...p}=t,{month:m,monthCode:y,year:g,era:_,eraYear:x}=i;return m===void 0&&y===void 0&&(p.month=r,p.monthCode=a),g===void 0&&_===void 0&&x===void 0&&(p.year=o),{...p,...i}},dateAdd(n,e,t,i,r,a,o){const s=wr.getCacheForObject(n),d=this.helper.temporalToCalendarDate(n,s),p=this.helper.addCalendar(d,{years:e,months:t,weeks:i,days:r},a,s),m=this.helper.calendarToIsoDate(p,"constrain",s),{year:y,month:g,day:_}=m,x=ql(y,g,_,o);return new wr(s).setObject(x),x},dateUntil(n,e,t){const i=wr.getCacheForObject(n),r=wr.getCacheForObject(e),a=this.helper.temporalToCalendarDate(n,i),o=this.helper.temporalToCalendarDate(e,r);return this.helper.untilCalendar(a,o,t,i)},year(n){const e=wr.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).year},month(n){const e=wr.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).month},day(n){const e=wr.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).day},era(n){if(!this.helper.hasEra)return;const e=wr.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).era},eraYear(n){if(!this.helper.hasEra)return;const e=wr.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).eraYear},monthCode(n){const e=wr.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).monthCode},dayOfWeek:n=>Pr.iso8601.dayOfWeek(n),dayOfYear(n){const e=wr.getCacheForObject(n),t=this.helper.isoToCalendarDate(n,e),i=this.helper.startOfCalendarYear(t);return this.helper.calendarDaysUntil(i,t,e)+1},weekOfYear:n=>Pr.iso8601.weekOfYear(n),daysInWeek:n=>Pr.iso8601.daysInWeek(n),daysInMonth(n){const e=wr.getCacheForObject(n),t=this.helper.temporalToCalendarDate(n,e),i=this.helper.maximumMonthLength(t);if(i===this.helper.minimumMonthLength(t))return i;const r=this.helper.startOfCalendarMonth(t),a=this.helper.addMonthsCalendar(r,1,"constrain",e);return this.helper.calendarDaysUntil(r,a,e)},daysInYear(n){let e=n;Na(e,dn)||(e=Qi(e));const t=wr.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,t),r=this.helper.startOfCalendarYear(i),a=this.helper.addCalendar(r,{years:1},"constrain",t);return this.helper.calendarDaysUntil(r,a,t)},monthsInYear(n){const e=wr.getCacheForObject(n),t=this.helper.temporalToCalendarDate(n,e);return this.helper.monthsInYear(t,e)},inLeapYear(n){let e=n;Na(e,dn)||(e=Qi(e));const t=wr.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,t);return this.helper.inLeapYear(i,t)}};for(const n of[Iz,Rz,jz,zz,Fz,Vz,Wz,Bz,$z,Uz,Gz,Yz,LI,Az,Pz,Dz,Mz,Oz]){const e=new n;Pr[e.id]={...qz,helper:e}}class hv{constructor(e,t,i,r=ea()){const a=Ji(e),o=Ji(t),s=Ji(i),d=Ga(r);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");H2(this,a,o,s,d)}get calendar(){if(!Ti(this))throw new TypeError("invalid receiver");return Z(this,Nt)}get era(){if(!Ti(this))throw new TypeError("invalid receiver");return f0(Z(this,Nt),this)}get eraYear(){if(!Ti(this))throw new TypeError("invalid receiver");return g0(Z(this,Nt),this)}get year(){if(!Ti(this))throw new TypeError("invalid receiver");return h0(Z(this,Nt),this)}get month(){if(!Ti(this))throw new TypeError("invalid receiver");return p0(Z(this,Nt),this)}get monthCode(){if(!Ti(this))throw new TypeError("invalid receiver");return ov(Z(this,Nt),this)}get day(){if(!Ti(this))throw new TypeError("invalid receiver");return m0(Z(this,Nt),this)}get dayOfWeek(){if(!Ti(this))throw new TypeError("invalid receiver");return bT(Z(this,Nt),this)}get dayOfYear(){if(!Ti(this))throw new TypeError("invalid receiver");return _T(Z(this,Nt),this)}get weekOfYear(){if(!Ti(this))throw new TypeError("invalid receiver");return wT(Z(this,Nt),this)}get daysInWeek(){if(!Ti(this))throw new TypeError("invalid receiver");return TT(Z(this,Nt),this)}get daysInMonth(){if(!Ti(this))throw new TypeError("invalid receiver");return lv(Z(this,Nt),this)}get daysInYear(){if(!Ti(this))throw new TypeError("invalid receiver");return y0(Z(this,Nt),this)}get monthsInYear(){if(!Ti(this))throw new TypeError("invalid receiver");return v0(Z(this,Nt),this)}get inLeapYear(){if(!Ti(this))throw new TypeError("invalid receiver");return x0(Z(this,Nt),this)}with(e,t){if(!Ti(this))throw new TypeError("invalid receiver");if(!or(e))throw new TypeError("invalid argument");Of(e);const i=Z(this,Nt),r=ua(i,["day","month","monthCode","year"]),a=ci(e,r,"partial");if(!a)throw new TypeError("invalid date-like");let o=ci(this,r,[]);return o=mp(i,o,a),o=ci(o,r,[]),qd(i,o,di(t))}withCalendar(e){if(!Ti(this))throw new TypeError("invalid receiver");const t=Ga(e);return new hv(Z(this,dn),Z(this,gn),Z(this,_n),t)}add(e,t){if(!Ti(this))throw new TypeError("invalid receiver");const i=Xm(e),r=di(t);return Bs(Z(this,Nt),this,i,r)}subtract(e,t){if(!Ti(this))throw new TypeError("invalid receiver");const i=oI(Xm(e)),r=di(t);return Bs(Z(this,Nt),this,i,r)}until(e,t){if(!Ti(this))throw new TypeError("invalid receiver");return BE("until",this,e,t)}since(e,t){if(!Ti(this))throw new TypeError("invalid receiver");return BE("since",this,e,t)}equals(e){if(!Ti(this))throw new TypeError("invalid receiver");const t=Qi(e);for(const i of[dn,gn,_n])if(Z(this,i)!==Z(t,i))return!1;return cv(Z(this,Nt),Z(t,Nt))}toString(e){if(!Ti(this))throw new TypeError("invalid receiver");return DE(this,rv(di(e)))}toJSON(){if(!Ti(this))throw new TypeError("invalid receiver");return DE(this)}toLocaleString(e,t){if(!Ti(this))throw new TypeError("invalid receiver");return new Op(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!Ti(this))throw new TypeError("invalid receiver");const t=Z(this,dn),i=Z(this,gn),r=Z(this,_n),a=Z(this,Nt);if(e===void 0)return To(t,i,r,0,0,0,0,0,0,a);const o=Uu(e);return To(t,i,r,Z(o,Zn),Z(o,Kn),Z(o,Qn),Z(o,Jn),Z(o,ei),Z(o,ti),a)}toZonedDateTime(e){if(!Ti(this))throw new TypeError("invalid receiver");let t,i;if(or(e)){const x=e.timeZone;x===void 0?t=Ys(e):(t=Ys(x),i=e.plainTime)}else t=Ys(e);const r=Z(this,dn),a=Z(this,gn),o=Z(this,_n),s=Z(this,Nt);let d=0,p=0,m=0,y=0,g=0,_=0;return i!==void 0&&(i=Uu(i),d=Z(i,Zn),p=Z(i,Kn),m=Z(i,Qn),y=Z(i,Jn),g=Z(i,ei),_=Z(i,ti)),Xa(Z(Us(t,To(r,a,o,d,p,m,y,g,_,s),"compatible"),zn),t,s)}toPlainYearMonth(){if(!Ti(this))throw new TypeError("invalid receiver");const e=Z(this,Nt);return fp(e,ci(this,ua(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ti(this))throw new TypeError("invalid receiver");const e=Z(this,Nt);return nf(e,ci(this,ua(e,["day","monthCode"]),[]))}getISOFields(){if(!Ti(this))throw new TypeError("invalid receiver");return{calendar:Z(this,Nt),isoDay:Z(this,_n),isoMonth:Z(this,gn),isoYear:Z(this,dn)}}static from(e,t){const i=di(t);return Ti(e)?(Jr(i),ql(Z(e,dn),Z(e,gn),Z(e,_n),Z(e,Nt))):Qi(e,i)}static compare(e,t){const i=Qi(e),r=Qi(t);return zd(Z(i,dn),Z(i,gn),Z(i,_n),Z(r,dn),Z(r,gn),Z(r,_n))}}uu(hv,"Temporal.PlainDate");class pv{constructor(e,t,i,r=0,a=0,o=0,s=0,d=0,p=0,m=ea()){const y=Ji(e),g=Ji(t),_=Ji(i),x=Ji(r),T=Ji(a),E=Ji(o),k=Ji(s),v=Ji(d),w=Ji(p),N=Ga(m);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");X2(this,y,g,_,x,T,E,k,v,w,N)}get calendar(){if(!ai(this))throw new TypeError("invalid receiver");return Z(this,Nt)}get year(){if(!ai(this))throw new TypeError("invalid receiver");return h0(Z(this,Nt),this)}get month(){if(!ai(this))throw new TypeError("invalid receiver");return p0(Z(this,Nt),this)}get monthCode(){if(!ai(this))throw new TypeError("invalid receiver");return ov(Z(this,Nt),this)}get day(){if(!ai(this))throw new TypeError("invalid receiver");return m0(Z(this,Nt),this)}get hour(){if(!ai(this))throw new TypeError("invalid receiver");return Z(this,Zn)}get minute(){if(!ai(this))throw new TypeError("invalid receiver");return Z(this,Kn)}get second(){if(!ai(this))throw new TypeError("invalid receiver");return Z(this,Qn)}get millisecond(){if(!ai(this))throw new TypeError("invalid receiver");return Z(this,Jn)}get microsecond(){if(!ai(this))throw new TypeError("invalid receiver");return Z(this,ei)}get nanosecond(){if(!ai(this))throw new TypeError("invalid receiver");return Z(this,ti)}get era(){if(!ai(this))throw new TypeError("invalid receiver");return f0(Z(this,Nt),this)}get eraYear(){if(!ai(this))throw new TypeError("invalid receiver");return g0(Z(this,Nt),this)}get dayOfWeek(){if(!ai(this))throw new TypeError("invalid receiver");return bT(Z(this,Nt),this)}get dayOfYear(){if(!ai(this))throw new TypeError("invalid receiver");return _T(Z(this,Nt),this)}get weekOfYear(){if(!ai(this))throw new TypeError("invalid receiver");return wT(Z(this,Nt),this)}get daysInWeek(){if(!ai(this))throw new TypeError("invalid receiver");return TT(Z(this,Nt),this)}get daysInYear(){if(!ai(this))throw new TypeError("invalid receiver");return y0(Z(this,Nt),this)}get daysInMonth(){if(!ai(this))throw new TypeError("invalid receiver");return lv(Z(this,Nt),this)}get monthsInYear(){if(!ai(this))throw new TypeError("invalid receiver");return v0(Z(this,Nt),this)}get inLeapYear(){if(!ai(this))throw new TypeError("invalid receiver");return x0(Z(this,Nt),this)}with(e,t){if(!ai(this))throw new TypeError("invalid receiver");if(!or(e))throw new TypeError("invalid argument");Of(e);const i=di(t),r=Z(this,Nt),a=ua(r,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),o=ci(e,a,"partial");if(!o)throw new TypeError("invalid date-time-like");let s=ci(this,a,[]);s=mp(r,s,o),s=ci(s,a,[]);const{year:d,month:p,day:m,hour:y,minute:g,second:_,millisecond:x,microsecond:T,nanosecond:E}=sv(r,s,i);return To(d,p,m,y,g,_,x,T,E,r)}withPlainTime(e){if(!ai(this))throw new TypeError("invalid receiver");const t=Z(this,dn),i=Z(this,gn),r=Z(this,_n),a=Z(this,Nt);if(e===void 0)return To(t,i,r,0,0,0,0,0,0,a);const o=Uu(e);return To(t,i,r,Z(o,Zn),Z(o,Kn),Z(o,Qn),Z(o,Jn),Z(o,ei),Z(o,ti),a)}withPlainDate(e){if(!ai(this))throw new TypeError("invalid receiver");const t=Qi(e),i=Z(t,dn),r=Z(t,gn),a=Z(t,_n);let o=Z(t,Nt);const s=Z(this,Zn),d=Z(this,Kn),p=Z(this,Qn),m=Z(this,Jn),y=Z(this,ei),g=Z(this,ti);return o=J2(Z(this,Nt),o),To(i,r,a,s,d,p,m,y,g,o)}withCalendar(e){if(!ai(this))throw new TypeError("invalid receiver");const t=Ga(e);return new pv(Z(this,dn),Z(this,gn),Z(this,_n),Z(this,Zn),Z(this,Kn),Z(this,Qn),Z(this,Jn),Z(this,ei),Z(this,ti),t)}add(e,t){if(!ai(this))throw new TypeError("invalid receiver");return HE("add",this,e,t)}subtract(e,t){if(!ai(this))throw new TypeError("invalid receiver");return HE("subtract",this,e,t)}until(e,t){if(!ai(this))throw new TypeError("invalid receiver");return UE("until",this,e,t)}since(e,t){if(!ai(this))throw new TypeError("invalid receiver");return UE("since",this,e,t)}round(e){if(!ai(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?sf("smallestUnit",e):di(e),i=ka(t,"smallestUnit","time",pp,["day"]),r=ro(t,"halfExpand"),a=od(t,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1);let o=Z(this,dn),s=Z(this,gn),d=Z(this,_n),p=Z(this,Zn),m=Z(this,Kn),y=Z(this,Qn),g=Z(this,Jn),_=Z(this,ei),x=Z(this,ti);return{year:o,month:s,day:d,hour:p,minute:m,second:y,millisecond:g,microsecond:_,nanosecond:x}=DT(o,s,d,p,m,y,g,_,x,a,i,r),To(o,s,d,p,m,y,g,_,x,Z(this,Nt))}equals(e){if(!ai(this))throw new TypeError("invalid receiver");const t=ip(e);for(const i of[dn,gn,_n,Zn,Kn,Qn,Jn,ei,ti])if(Z(this,i)!==Z(t,i))return!1;return cv(Z(this,Nt),Z(t,Nt))}toString(e){if(!ai(this))throw new TypeError("invalid receiver");const t=di(e),{precision:i,unit:r,increment:a}=av(t);return ME(this,i,rv(t),{unit:r,increment:a,roundingMode:ro(t,"trunc")})}toJSON(){if(!ai(this))throw new TypeError("invalid receiver");return ME(this,"auto")}toLocaleString(e,t){if(!ai(this))throw new TypeError("invalid receiver");return new Op(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,t){if(!ai(this))throw new TypeError("invalid receiver");const i=Ys(e);return Xa(Z(Us(i,this,Cy(di(t))),zn),i,Z(this,Nt))}toPlainDate(){if(!ai(this))throw new TypeError("invalid receiver");return rf(this)}toPlainYearMonth(){if(!ai(this))throw new TypeError("invalid receiver");const e=Z(this,Nt);return fp(e,ci(this,ua(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ai(this))throw new TypeError("invalid receiver");const e=Z(this,Nt);return nf(e,ci(this,ua(e,["day","monthCode"]),[]))}toPlainTime(){if(!ai(this))throw new TypeError("invalid receiver");return ST(this)}getISOFields(){if(!ai(this))throw new TypeError("invalid receiver");return{calendar:Z(this,Nt),isoDay:Z(this,_n),isoHour:Z(this,Zn),isoMicrosecond:Z(this,ei),isoMillisecond:Z(this,Jn),isoMinute:Z(this,Kn),isoMonth:Z(this,gn),isoNanosecond:Z(this,ti),isoSecond:Z(this,Qn),isoYear:Z(this,dn)}}static from(e,t){const i=di(t);return ai(e)?(Jr(i),To(Z(e,dn),Z(e,gn),Z(e,_n),Z(e,Zn),Z(e,Kn),Z(e,Qn),Z(e,Jn),Z(e,ei),Z(e,ti),Z(e,Nt))):ip(e,i)}static compare(e,t){const i=ip(e),r=ip(t);for(const a of[dn,gn,_n,Zn,Kn,Qn,Jn,ei,ti]){const o=Z(i,a),s=Z(r,a);if(o!==s)return cp(o-s)}return 0}}uu(pv,"Temporal.PlainDateTime");class Fd{constructor(e=0,t=0,i=0,r=0,a=0,o=0,s=0,d=0,p=0,m=0){const y=Sa(e),g=Sa(t),_=Sa(i),x=Sa(r),T=Sa(a),E=Sa(o),k=Sa(s),v=Sa(d),w=Sa(p),N=Sa(m);T0(y,g,_,x,T,E,k,v,w,N),du(this),si(this,As,y),si(this,Oa,g),si(this,eo,_),si(this,Ps,x),si(this,Ds,T),si(this,Ms,E),si(this,Os,k),si(this,Rs,v),si(this,$s,w),si(this,zs,N)}get years(){if(!Ir(this))throw new TypeError("invalid receiver");return Z(this,As)}get months(){if(!Ir(this))throw new TypeError("invalid receiver");return Z(this,Oa)}get weeks(){if(!Ir(this))throw new TypeError("invalid receiver");return Z(this,eo)}get days(){if(!Ir(this))throw new TypeError("invalid receiver");return Z(this,Ps)}get hours(){if(!Ir(this))throw new TypeError("invalid receiver");return Z(this,Ds)}get minutes(){if(!Ir(this))throw new TypeError("invalid receiver");return Z(this,Ms)}get seconds(){if(!Ir(this))throw new TypeError("invalid receiver");return Z(this,Os)}get milliseconds(){if(!Ir(this))throw new TypeError("invalid receiver");return Z(this,Rs)}get microseconds(){if(!Ir(this))throw new TypeError("invalid receiver");return Z(this,$s)}get nanoseconds(){if(!Ir(this))throw new TypeError("invalid receiver");return Z(this,zs)}get sign(){if(!Ir(this))throw new TypeError("invalid receiver");return Kc(Z(this,As),Z(this,Oa),Z(this,eo),Z(this,Ps),Z(this,Ds),Z(this,Ms),Z(this,Os),Z(this,Rs),Z(this,$s),Z(this,zs))}get blank(){if(!Ir(this))throw new TypeError("invalid receiver");return Kc(Z(this,As),Z(this,Oa),Z(this,eo),Z(this,Ps),Z(this,Ds),Z(this,Ms),Z(this,Os),Z(this,Rs),Z(this,$s),Z(this,zs))===0}with(e){if(!Ir(this))throw new TypeError("invalid receiver");const t=ci(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial");if(!t)throw new TypeError("invalid duration-like");const{years:i=Z(this,As),months:r=Z(this,Oa),weeks:a=Z(this,eo),days:o=Z(this,Ps),hours:s=Z(this,Ds),minutes:d=Z(this,Ms),seconds:p=Z(this,Os),milliseconds:m=Z(this,Rs),microseconds:y=Z(this,$s),nanoseconds:g=Z(this,zs)}=t;return new Fd(i,r,a,o,s,d,p,m,y,g)}negated(){if(!Ir(this))throw new TypeError("invalid receiver");return oI(this)}abs(){if(!Ir(this))throw new TypeError("invalid receiver");return new Fd(Math.abs(Z(this,As)),Math.abs(Z(this,Oa)),Math.abs(Z(this,eo)),Math.abs(Z(this,Ps)),Math.abs(Z(this,Ds)),Math.abs(Z(this,Ms)),Math.abs(Z(this,Os)),Math.abs(Z(this,Rs)),Math.abs(Z(this,$s)),Math.abs(Z(this,zs)))}add(e,t){if(!Ir(this))throw new TypeError("invalid receiver");return WE("add",this,e,t)}subtract(e,t){if(!Ir(this))throw new TypeError("invalid receiver");return WE("subtract",this,e,t)}round(e){if(!Ir(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let t=Z(this,As),i=Z(this,Oa),r=Z(this,eo),a=Z(this,Ps),o=Z(this,Ds),s=Z(this,Ms),d=Z(this,Os),p=Z(this,Rs),m=Z(this,$s),y=Z(this,zs),g=h1(t,i,r,a,o,s,d,p,m,y);const _=typeof e=="string"?sf("smallestUnit",e):di(e);let x=ka(_,"smallestUnit","datetime",void 0),T=!0;x||(T=!1,x="nanosecond"),g=Ao(g,x);let E=ka(_,"largestUnit","datetime",void 0,["auto"]),k=!0;if(E||(k=!1,E=g),E==="auto"&&(E=g),!T&&!k)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Ao(E,x)!==E)throw new RangeError(`largestUnit ${E} cannot be smaller than smallestUnit ${x}`);const v=ro(_,"halfExpand"),w=xT(_,x);let N=tb(_);return{years:t,months:i,weeks:r,days:a}=Lx(t,i,r,a,E,N),{years:t,months:i,weeks:r,days:a,hours:o,minutes:s,seconds:d,milliseconds:p,microseconds:m,nanoseconds:y}=Xd(t,i,r,a,o,s,d,p,m,y,w,x,v,N),{years:t,months:i,weeks:r,days:a,hours:o,minutes:s,seconds:d,milliseconds:p,microseconds:m,nanoseconds:y}=fI(t,i,r,a,o,s,d,p,m,y,w,x,v,N),{years:t,months:i,weeks:r,days:a}=function(L,O,Y,X,H,$){let G=L,B=O,M=Y,D=X;const V=Fn("%Temporal.Duration%"),F=Kc(G,B,M,D,0,0,0,0,0,0);if(F===0)return{years:G,months:B,weeks:M,days:D};let z,W;$&&(W=Qi($),z=Z(W,Nt));const q=new V(F),ee=new V(0,F),ue=new V(0,0,F);switch(H){case"year":{if(!z)throw new RangeError("a starting point is required for years balancing");let ie,oe,Ee;for({relativeTo:ie,days:oe}=ps(z,W,q);Ii(D)>=Ii(oe);)D-=oe,G+=F,W=ie,{relativeTo:ie,days:oe}=ps(z,W,q);for({relativeTo:ie,days:Ee}=ps(z,W,ee);Ii(D)>=Ii(Ee);)D-=Ee,B+=F,W=ie,{relativeTo:ie,days:Ee}=ps(z,W,ee);const me=z.dateAdd;ie=Bs(z,W,q,void 0,me);const Te=z.dateUntil,K=ts(null);K.largestUnit="month";let J=Wd(z,W,ie,K,Te),se=Z(J,Oa);for(;Ii(B)>=Ii(se);){B-=se,G+=F,W=ie,ie=Bs(z,W,q,void 0,me);const xe=ts(null);xe.largestUnit="month",J=Wd(z,W,ie,xe,Te),se=Z(J,Oa)}break}case"month":{if(!z)throw new RangeError("a starting point is required for months balancing");let ie,oe;for({relativeTo:ie,days:oe}=ps(z,W,ee);Ii(D)>=Ii(oe);)D-=oe,B+=F,W=ie,{relativeTo:ie,days:oe}=ps(z,W,ee);break}case"week":{if(!z)throw new RangeError("a starting point is required for weeks balancing");let ie,oe;for({relativeTo:ie,days:oe}=ps(z,W,ue);Ii(D)>=Ii(oe);)D-=oe,M+=F,W=ie,{relativeTo:ie,days:oe}=ps(z,W,ue);break}}return{years:G,months:B,weeks:M,days:D}}(t,i,r,a,E,N),En(N)&&(N=g1(N,t,i,r,0)),{days:a,hours:o,minutes:s,seconds:d,milliseconds:p,microseconds:m,nanoseconds:y}=Lo(a,o,s,d,p,m,y,E,N),new Fd(t,i,r,a,o,s,d,p,m,y)}total(e){if(!Ir(this))throw new TypeError("invalid receiver");let t=Z(this,As),i=Z(this,Oa),r=Z(this,eo),a=Z(this,Ps),o=Z(this,Ds),s=Z(this,Ms),d=Z(this,Os),p=Z(this,Rs),m=Z(this,$s),y=Z(this,zs);if(e===void 0)throw new TypeError("options argument is required");const g=typeof e=="string"?sf("unit",e):di(e),_=ka(g,"unit","datetime",pp),x=tb(g);let T;({years:t,months:i,weeks:r,days:a}=Lx(t,i,r,a,_,x)),En(x)&&(T=g1(x,t,i,r,0)),{days:a,hours:o,minutes:s,seconds:d,milliseconds:p,microseconds:m,nanoseconds:y}=Lo(a,o,s,d,p,m,y,_,T);const{total:E}=Xd(t,i,r,a,o,s,d,p,m,y,1,_,"trunc",x);return E}toString(e){if(!Ir(this))throw new TypeError("invalid receiver");const t=di(e),{precision:i,unit:r,increment:a}=av(t);if(i==="minute")throw new RangeError('smallestUnit must not be "minute"');return ow(this,i,{unit:r,increment:a,roundingMode:ro(t,"trunc")})}toJSON(){if(!Ir(this))throw new TypeError("invalid receiver");return ow(this)}toLocaleString(e,t){if(!Ir(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,t).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),ow(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return Ir(e)?new Fd(Z(e,As),Z(e,Oa),Z(e,eo),Z(e,Ps),Z(e,Ds),Z(e,Ms),Z(e,Os),Z(e,Rs),Z(e,$s),Z(e,zs)):Xm(e)}static compare(e,t,i){const r=Xm(e),a=Xm(t),o=tb(di(i)),s=Z(r,As),d=Z(r,Oa),p=Z(r,eo);let m=Z(r,Ps);const y=Z(r,Ds),g=Z(r,Ms),_=Z(r,Os),x=Z(r,Rs),T=Z(r,$s);let E=Z(r,zs);const k=Z(a,As),v=Z(a,Oa),w=Z(a,eo);let N=Z(a,Ps);const S=Z(a,Ds),L=Z(a,Ms),O=Z(a,Os),Y=Z(a,Rs),X=Z(a,$s);let H=Z(a,zs);const $=FE(o,s,d,p,m),G=FE(o,k,v,w,N);s===0&&k===0&&d===0&&v===0&&p===0&&w===0||({days:m}=Lx(s,d,p,m,"day",o),{days:N}=Lx(k,v,w,N,"day",o));const B=af(m,y,g,_,x,T,E,$),M=af(N,S,L,O,Y,X,H,G);return cp(pe.toNumber(pe.subtract(B,M)))}}uu(Fd,"Temporal.Duration");const Hz=Object.create;class FT{constructor(e,t,i=ea(),r=1972){const a=Ji(e),o=Ji(t),s=Ga(i),d=Ji(r);if(arguments.length<2)throw new RangeError("missing argument: isoMonth and isoDay are required");Z2(this,a,o,s,d)}get monthCode(){if(!Ra(this))throw new TypeError("invalid receiver");return ov(Z(this,Nt),this)}get day(){if(!Ra(this))throw new TypeError("invalid receiver");return m0(Z(this,Nt),this)}get calendar(){if(!Ra(this))throw new TypeError("invalid receiver");return Z(this,Nt)}with(e,t){if(!Ra(this))throw new TypeError("invalid receiver");if(!or(e))throw new TypeError("invalid argument");Of(e);const i=Z(this,Nt),r=ua(i,["day","month","monthCode","year"]),a=ci(e,r,"partial");if(!a)throw new TypeError("invalid month-day-like");let o=ci(this,r,[]);return o=mp(i,o,a),o=ci(o,r,[]),nf(i,o,di(t))}equals(e){if(!Ra(this))throw new TypeError("invalid receiver");const t=AE(e);for(const i of[gn,_n,dn])if(Z(this,i)!==Z(t,i))return!1;return cv(Z(this,Nt),Z(t,Nt))}toString(e){if(!Ra(this))throw new TypeError("invalid receiver");return OE(this,rv(di(e)))}toJSON(){if(!Ra(this))throw new TypeError("invalid receiver");return OE(this)}toLocaleString(e,t){if(!Ra(this))throw new TypeError("invalid receiver");return new Op(e,t).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!Ra(this))throw new TypeError("invalid receiver");if(!or(e))throw new TypeError("argument should be an object");const t=Z(this,Nt),i=ua(t,["day","monthCode"]),r=ci(this,i,[]),a=ua(t,["year"]);let o=mp(t,r,ci(e,a,[]));o=ci(o,[...new Set([...i,...a])],[]);const s=Hz(null);return s.overflow="reject",qd(t,o,s)}getISOFields(){if(!Ra(this))throw new TypeError("invalid receiver");return{calendar:Z(this,Nt),isoDay:Z(this,_n),isoMonth:Z(this,gn),isoYear:Z(this,dn)}}static from(e,t){const i=di(t);return Ra(e)?(Jr(i),Ey(Z(e,gn),Z(e,_n),Z(e,Nt),Z(e,dn))):AE(e,i)}}uu(FT,"Temporal.PlainMonthDay");const jT=()=>new(Fn("%Temporal.Instant%"))(OT()),JE=(n,e=Od())=>{const t=Ys(e),i=Ga(n);return qo(t,jT(),i)},dw=(n=Od())=>{const e=Ys(n),t=ea();return qo(e,jT(),t)},ek=(n,e=Od())=>{const t=Ys(e),i=Ga(n);return Xa(OT(),t,i)},Od=()=>function(){const e=new z2("en-us");return new(Fn("%Temporal.TimeZone%"))(V2(e.resolvedOptions().timeZone))}(),PI={instant:jT,plainDateTime:JE,plainDateTimeISO:dw,plainDate:(n,e=Od())=>rf(JE(n,e)),plainDateISO:(n=Od())=>rf(dw(n)),plainTimeISO:(n=Od())=>ST(dw(n)),timeZone:Od,zonedDateTime:ek,zonedDateTimeISO:(n=Od())=>ek(ea(),n),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(PI,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const Xz=Object.assign;function tk(n,e,t){let i=Z(n,Zn),r=Z(n,Kn),a=Z(n,Qn),o=Z(n,Jn),s=Z(n,ei),d=Z(n,ti);if(t){const{unit:p,increment:m,roundingMode:y}=t;({hour:i,minute:r,second:a,millisecond:o,microsecond:s,nanosecond:d}=MT(i,r,a,o,s,d,m,p,y))}return`${yr(i)}:${yr(r)}${b0(a,o,s,d,e)}`}class dp{constructor(e=0,t=0,i=0,r=0,a=0,o=0){const s=Ji(e),d=Ji(t),p=Ji(i),m=Ji(r),y=Ji(a),g=Ji(o);w0(s,d,p,m,y,g),du(this),si(this,Zn,s),si(this,Kn,d),si(this,Qn,p),si(this,Jn,m),si(this,ei,y),si(this,ti,g),si(this,Nt,ea())}get calendar(){if(!Ar(this))throw new TypeError("invalid receiver");return Z(this,Nt)}get hour(){if(!Ar(this))throw new TypeError("invalid receiver");return Z(this,Zn)}get minute(){if(!Ar(this))throw new TypeError("invalid receiver");return Z(this,Kn)}get second(){if(!Ar(this))throw new TypeError("invalid receiver");return Z(this,Qn)}get millisecond(){if(!Ar(this))throw new TypeError("invalid receiver");return Z(this,Jn)}get microsecond(){if(!Ar(this))throw new TypeError("invalid receiver");return Z(this,ei)}get nanosecond(){if(!Ar(this))throw new TypeError("invalid receiver");return Z(this,ti)}with(e,t){if(!Ar(this))throw new TypeError("invalid receiver");if(!or(e))throw new TypeError("invalid argument");Of(e);const i=_b(e,"partial"),r=Jr(di(t)),a=_b(this);let{hour:o,minute:s,second:d,millisecond:p,microsecond:m,nanosecond:y}=Xz(a,i);return{hour:o,minute:s,second:d,millisecond:p,microsecond:m,nanosecond:y}=u0(o,s,d,p,m,y,r),new dp(o,s,d,p,m,y)}add(e){if(!Ar(this))throw new TypeError("invalid receiver");return XE("add",this,e)}subtract(e){if(!Ar(this))throw new TypeError("invalid receiver");return XE("subtract",this,e)}until(e,t){if(!Ar(this))throw new TypeError("invalid receiver");return GE("until",this,e,t)}since(e,t){if(!Ar(this))throw new TypeError("invalid receiver");return GE("since",this,e,t)}round(e){if(!Ar(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?sf("smallestUnit",e):di(e),i=ka(t,"smallestUnit","time",pp),r=ro(t,"halfExpand"),a=od(t,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1);let o=Z(this,Zn),s=Z(this,Kn),d=Z(this,Qn),p=Z(this,Jn),m=Z(this,ei),y=Z(this,ti);return{hour:o,minute:s,second:d,millisecond:p,microsecond:m,nanosecond:y}=MT(o,s,d,p,m,y,a,i,r),new dp(o,s,d,p,m,y)}equals(e){if(!Ar(this))throw new TypeError("invalid receiver");const t=Uu(e);for(const i of[Zn,Kn,Qn,Jn,ei,ti])if(Z(this,i)!==Z(t,i))return!1;return!0}toString(e){if(!Ar(this))throw new TypeError("invalid receiver");const t=di(e),{precision:i,unit:r,increment:a}=av(t);return tk(this,i,{unit:r,increment:a,roundingMode:ro(t,"trunc")})}toJSON(){if(!Ar(this))throw new TypeError("invalid receiver");return tk(this,"auto")}toLocaleString(e,t){if(!Ar(this))throw new TypeError("invalid receiver");return new Op(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!Ar(this))throw new TypeError("invalid receiver");const t=Qi(e),i=Z(t,dn),r=Z(t,gn),a=Z(t,_n),o=Z(t,Nt);return To(i,r,a,Z(this,Zn),Z(this,Kn),Z(this,Qn),Z(this,Jn),Z(this,ei),Z(this,ti),o)}toZonedDateTime(e){if(!Ar(this))throw new TypeError("invalid receiver");if(!or(e))throw new TypeError("invalid argument");const t=e.plainDate;if(t===void 0)throw new TypeError("missing date property");const i=Qi(t),r=e.timeZone;if(r===void 0)throw new TypeError("missing timeZone property");const a=Ys(r),o=Z(i,dn),s=Z(i,gn),d=Z(i,_n),p=Z(i,Nt),m=Z(this,Zn),y=Z(this,Kn),g=Z(this,Qn),_=Z(this,Jn),x=Z(this,ei),T=Z(this,ti);return Xa(Z(Us(a,new(Fn("%Temporal.PlainDateTime%"))(o,s,d,m,y,g,_,x,T,p),"compatible"),zn),a,p)}getISOFields(){if(!Ar(this))throw new TypeError("invalid receiver");return{calendar:Z(this,Nt),isoHour:Z(this,Zn),isoMicrosecond:Z(this,ei),isoMillisecond:Z(this,Jn),isoMinute:Z(this,Kn),isoNanosecond:Z(this,ti),isoSecond:Z(this,Qn)}}static from(e,t){const i=Jr(di(t));return Ar(e)?new dp(Z(e,Zn),Z(e,Kn),Z(e,Qn),Z(e,Jn),Z(e,ei),Z(e,ti)):Uu(e,i)}static compare(e,t){const i=Uu(e),r=Uu(t);for(const a of[Zn,Kn,Qn,Jn,ei,ti]){const o=Z(i,a),s=Z(r,a);if(o!==s)return cp(o-s)}return 0}}uu(dp,"Temporal.PlainTime");class BT{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const t=CT(e);du(this),si(this,Dd,t)}get id(){if(!Gc(this))throw new TypeError("invalid receiver");return Wn(this)}getOffsetNanosecondsFor(e){if(!Gc(this))throw new TypeError("invalid receiver");const t=Hc(e),i=Z(this,Dd);return uy(i)?gp(i):ju(Z(t,zn),i)}getOffsetStringFor(e){if(!Gc(this))throw new TypeError("invalid receiver");return p1(this,Hc(e))}getPlainDateTimeFor(e,t=ea()){return qo(this,Hc(e),Ga(t))}getInstantFor(e,t){if(!Gc(this))throw new TypeError("invalid receiver");return Us(this,ip(e),Cy(di(t)))}getPossibleInstantsFor(e){if(!Gc(this))throw new TypeError("invalid receiver");const t=ip(e),i=Fn("%Temporal.Instant%"),r=Z(this,Dd);if(uy(r)){const a=Hd(Z(t,dn),Z(t,gn),Z(t,_n),Z(t,Zn),Z(t,Kn),Z(t,Qn),Z(t,Jn),Z(t,ei),Z(t,ti));if(a===null)throw new RangeError("DateTime outside of supported range");const o=gp(r);return[new i(pe.subtract(a,pe.BigInt(o)))]}return function(o,s,d,p,m,y,g,_,x,T){const E=Hd(s,d,p,m,y,g,_,x,T);if(E===null)throw new RangeError("DateTime outside of supported range");let k=pe.subtract(E,Vd);pe.lessThan(k,_y)&&(k=E);let v=pe.add(E,Vd);pe.greaterThan(v,wy)&&(v=E);const w=ju(k,o),N=ju(v,o);return(w===N?[w]:[w,N]).map(S=>{const L=pe.subtract(E,pe.BigInt(S)),O=rI(L,o);if(s===O.year&&d===O.month&&p===O.day&&m===O.hour&&y===O.minute&&g===O.second&&_===O.millisecond&&x===O.microsecond&&T===O.nanosecond)return L}).filter(S=>S!==void 0)}(r,Z(t,dn),Z(t,gn),Z(t,_n),Z(t,Zn),Z(t,Kn),Z(t,Qn),Z(t,Jn),Z(t,ei),Z(t,ti)).map(a=>new i(a))}getNextTransition(e){if(!Gc(this))throw new TypeError("invalid receiver");const t=Hc(e),i=Z(this,Dd);if(uy(i)||i==="UTC")return null;let r=Z(t,zn);const a=Fn("%Temporal.Instant%");return r=function(s,d){const p=pe.add(s,B2),m=zE(aI(),p);let y=zE(j2,s);const g=ju(y,d);let _=y,x=g;for(;g===x&&pe.lessThan(pe.BigInt(y),m);)_=pe.add(y,U2),x=ju(_,d),g===x&&(y=_);return g===x?null:vI(T=>ju(T,d),y,_,g,x)}(r,i),r===null?null:new a(r)}getPreviousTransition(e){if(!Gc(this))throw new TypeError("invalid receiver");const t=Hc(e),i=Z(this,Dd);if(uy(i)||i==="UTC")return null;let r=Z(t,zn);const a=Fn("%Temporal.Instant%");return r=sI(r,i),r===null?null:new a(r)}toString(){if(!Gc(this))throw new TypeError("invalid receiver");return Wn(Z(this,Dd))}toJSON(){if(!Gc(this))throw new TypeError("invalid receiver");return Wn(this)}static from(e){return Ys(e)}}uu(BT,"Temporal.TimeZone");const Zz=Object.create;class UT{constructor(e,t,i=ea(),r=1){const a=Ji(e),o=Ji(t),s=Ga(i),d=Ji(r);if(arguments.length<2)throw new RangeError("missing argument: isoYear and isoMonth are required");K2(this,a,o,s,d)}get year(){if(!Oi(this))throw new TypeError("invalid receiver");return h0(Z(this,Nt),this)}get month(){if(!Oi(this))throw new TypeError("invalid receiver");return p0(Z(this,Nt),this)}get monthCode(){if(!Oi(this))throw new TypeError("invalid receiver");return ov(Z(this,Nt),this)}get calendar(){if(!Oi(this))throw new TypeError("invalid receiver");return Z(this,Nt)}get era(){if(!Oi(this))throw new TypeError("invalid receiver");return f0(Z(this,Nt),this)}get eraYear(){if(!Oi(this))throw new TypeError("invalid receiver");return g0(Z(this,Nt),this)}get daysInMonth(){if(!Oi(this))throw new TypeError("invalid receiver");return lv(Z(this,Nt),this)}get daysInYear(){if(!Oi(this))throw new TypeError("invalid receiver");return y0(Z(this,Nt),this)}get monthsInYear(){if(!Oi(this))throw new TypeError("invalid receiver");return v0(Z(this,Nt),this)}get inLeapYear(){if(!Oi(this))throw new TypeError("invalid receiver");return x0(Z(this,Nt),this)}with(e,t){if(!Oi(this))throw new TypeError("invalid receiver");if(!or(e))throw new TypeError("invalid argument");Of(e);const i=Z(this,Nt),r=ua(i,["month","monthCode","year"]),a=ci(e,r,"partial");if(!a)throw new TypeError("invalid year-month-like");let o=ci(this,r,[]);return o=mp(i,o,a),o=ci(o,r,[]),fp(i,o,di(t))}add(e,t){if(!Oi(this))throw new TypeError("invalid receiver");return ZE("add",this,e,t)}subtract(e,t){if(!Oi(this))throw new TypeError("invalid receiver");return ZE("subtract",this,e,t)}until(e,t){if(!Oi(this))throw new TypeError("invalid receiver");return YE("until",this,e,t)}since(e,t){if(!Oi(this))throw new TypeError("invalid receiver");return YE("since",this,e,t)}equals(e){if(!Oi(this))throw new TypeError("invalid receiver");const t=ly(e);for(const i of[dn,gn,_n])if(Z(this,i)!==Z(t,i))return!1;return cv(Z(this,Nt),Z(t,Nt))}toString(e){if(!Oi(this))throw new TypeError("invalid receiver");return RE(this,rv(di(e)))}toJSON(){if(!Oi(this))throw new TypeError("invalid receiver");return RE(this)}toLocaleString(e,t){if(!Oi(this))throw new TypeError("invalid receiver");return new Op(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!Oi(this))throw new TypeError("invalid receiver");if(!or(e))throw new TypeError("argument should be an object");const t=Z(this,Nt),i=ua(t,["monthCode","year"]),r=ci(this,i,[]),a=ua(t,["day"]);let o=mp(t,r,ci(e,a,[]));o=ci(o,[...new Set([...i,...a])],[]);const s=Zz(null);return s.overflow="reject",qd(t,o,s)}getISOFields(){if(!Oi(this))throw new TypeError("invalid receiver");return{calendar:Z(this,Nt),isoDay:Z(this,_n),isoMonth:Z(this,gn),isoYear:Z(this,dn)}}static from(e,t){const i=di(t);return Oi(e)?(Jr(i),ky(Z(e,dn),Z(e,gn),Z(e,Nt),Z(e,_n))):ly(e,i)}static compare(e,t){const i=ly(e),r=ly(t);return zd(Z(i,dn),Z(i,gn),Z(i,_n),Z(r,dn),Z(r,gn),Z(r,_n))}}uu(UT,"Temporal.PlainYearMonth");class GT{constructor(e,t,i=ea()){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");Q2(this,gy(e),Ys(t),Ga(i))}get calendar(){if(!En(this))throw new TypeError("invalid receiver");return Z(this,Nt)}get timeZone(){if(!En(this))throw new TypeError("invalid receiver");return Z(this,Gi)}get year(){if(!En(this))throw new TypeError("invalid receiver");return h0(Z(this,Nt),lr(this))}get month(){if(!En(this))throw new TypeError("invalid receiver");return p0(Z(this,Nt),lr(this))}get monthCode(){if(!En(this))throw new TypeError("invalid receiver");return ov(Z(this,Nt),lr(this))}get day(){if(!En(this))throw new TypeError("invalid receiver");return m0(Z(this,Nt),lr(this))}get hour(){if(!En(this))throw new TypeError("invalid receiver");return Z(lr(this),Zn)}get minute(){if(!En(this))throw new TypeError("invalid receiver");return Z(lr(this),Kn)}get second(){if(!En(this))throw new TypeError("invalid receiver");return Z(lr(this),Qn)}get millisecond(){if(!En(this))throw new TypeError("invalid receiver");return Z(lr(this),Jn)}get microsecond(){if(!En(this))throw new TypeError("invalid receiver");return Z(lr(this),ei)}get nanosecond(){if(!En(this))throw new TypeError("invalid receiver");return Z(lr(this),ti)}get era(){if(!En(this))throw new TypeError("invalid receiver");return f0(Z(this,Nt),lr(this))}get eraYear(){if(!En(this))throw new TypeError("invalid receiver");return g0(Z(this,Nt),lr(this))}get epochSeconds(){if(!En(this))throw new TypeError("invalid receiver");const e=Z(this,zn);return pe.toNumber(pe.divide(e,Vu))}get epochMilliseconds(){if(!En(this))throw new TypeError("invalid receiver");const e=Z(this,zn);return pe.toNumber(pe.divide(e,ml))}get epochMicroseconds(){if(!En(this))throw new TypeError("invalid receiver");const e=Z(this,zn);return Eb(pe.divide(e,Yi))}get epochNanoseconds(){if(!En(this))throw new TypeError("invalid receiver");return Eb(Z(this,zn))}get dayOfWeek(){if(!En(this))throw new TypeError("invalid receiver");return bT(Z(this,Nt),lr(this))}get dayOfYear(){if(!En(this))throw new TypeError("invalid receiver");return _T(Z(this,Nt),lr(this))}get weekOfYear(){if(!En(this))throw new TypeError("invalid receiver");return wT(Z(this,Nt),lr(this))}get hoursInDay(){if(!En(this))throw new TypeError("invalid receiver");const e=lr(this),t=Fn("%Temporal.PlainDateTime%"),i=Z(e,dn),r=Z(e,gn),a=Z(e,_n),o=new t(i,r,a,0,0,0,0,0,0),s=lp(i,r,a,0,0,0,1,"reject"),d=new t(s.year,s.month,s.day,0,0,0,0,0,0),p=Z(this,Gi),m=Z(Us(p,o,"compatible"),zn),y=Z(Us(p,d,"compatible"),zn);return pe.toNumber(pe.subtract(y,m))/36e11}get daysInWeek(){if(!En(this))throw new TypeError("invalid receiver");return TT(Z(this,Nt),lr(this))}get daysInMonth(){if(!En(this))throw new TypeError("invalid receiver");return lv(Z(this,Nt),lr(this))}get daysInYear(){if(!En(this))throw new TypeError("invalid receiver");return y0(Z(this,Nt),lr(this))}get monthsInYear(){if(!En(this))throw new TypeError("invalid receiver");return v0(Z(this,Nt),lr(this))}get inLeapYear(){if(!En(this))throw new TypeError("invalid receiver");return x0(Z(this,Nt),lr(this))}get offset(){if(!En(this))throw new TypeError("invalid receiver");return p1(Z(this,Gi),Z(this,fs))}get offsetNanoseconds(){if(!En(this))throw new TypeError("invalid receiver");return gc(Z(this,Gi),Z(this,fs))}with(e,t){if(!En(this))throw new TypeError("invalid receiver");if(!or(e))throw new TypeError("invalid zoned-date-time-like");Of(e);const i=di(t),r=Cy(i),a=d1(i,"prefer"),o=Z(this,Gi),s=Z(this,Nt),d=u1(ua(s,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"offset"),p=ci(e,d,"partial"),m=u1(d,"timeZone");let y=ci(this,m,["timeZone","offset"]);y=mp(s,y,p),y=ci(y,m,["timeZone","offset"]);let{year:g,month:_,day:x,hour:T,minute:E,second:k,millisecond:v,microsecond:w,nanosecond:N}=sv(s,y,i);return Xa(wb(g,_,x,T,E,k,v,w,N,"option",gp(y.offset),o,r,a,!1),Z(this,Gi),s)}withPlainDate(e){if(!En(this))throw new TypeError("invalid receiver");const t=Qi(e),i=Z(t,dn),r=Z(t,gn),a=Z(t,_n);let o=Z(t,Nt);const s=lr(this),d=Z(s,Zn),p=Z(s,Kn),m=Z(s,Qn),y=Z(s,Jn),g=Z(s,ei),_=Z(s,ti);o=J2(Z(this,Nt),o);const x=Z(this,Gi);return Xa(Z(Us(x,new(Fn("%Temporal.PlainDateTime%"))(i,r,a,d,p,m,y,g,_,o),"compatible"),zn),x,o)}withPlainTime(e){if(!En(this))throw new TypeError("invalid receiver");const t=Fn("%Temporal.PlainTime%"),i=e===void 0?new t:Uu(e),r=lr(this),a=Z(r,dn),o=Z(r,gn),s=Z(r,_n),d=Z(this,Nt),p=Z(i,Zn),m=Z(i,Kn),y=Z(i,Qn),g=Z(i,Jn),_=Z(i,ei),x=Z(i,ti),T=Z(this,Gi);return Xa(Z(Us(T,new(Fn("%Temporal.PlainDateTime%"))(a,o,s,p,m,y,g,_,x,d),"compatible"),zn),T,d)}withTimeZone(e){if(!En(this))throw new TypeError("invalid receiver");const t=Ys(e);return Xa(Z(this,zn),t,Z(this,Nt))}withCalendar(e){if(!En(this))throw new TypeError("invalid receiver");const t=Ga(e);return Xa(Z(this,zn),Z(this,Gi),t)}add(e,t){if(!En(this))throw new TypeError("invalid receiver");return KE("add",this,e,t)}subtract(e,t){if(!En(this))throw new TypeError("invalid receiver");return KE("subtract",this,e,t)}until(e,t){if(!En(this))throw new TypeError("invalid receiver");return VE("until",this,e,t)}since(e,t){if(!En(this))throw new TypeError("invalid receiver");return VE("since",this,e,t)}round(e){if(!En(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?sf("smallestUnit",e):di(e),i=ka(t,"smallestUnit","time",pp,["day"]),r=ro(t,"halfExpand"),a=od(t,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1),o=lr(this);let s=Z(o,dn),d=Z(o,gn),p=Z(o,_n),m=Z(o,Zn),y=Z(o,Kn),g=Z(o,Qn),_=Z(o,Jn),x=Z(o,ei),T=Z(o,ti);const E=Fn("%Temporal.PlainDateTime%"),k=Z(this,Gi),v=Z(this,Nt),w=Us(k,new E(Z(o,dn),Z(o,gn),Z(o,_n),0,0,0,0,0,0),"compatible"),N=fl(w,k,v,0,0,0,1,0,0,0,0,0,0),S=pe.subtract(N,pe.BigInt(Z(w,zn)));if(pe.equal(S,Hr))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero-length days");return{year:s,month:d,day:p,hour:m,minute:y,second:g,millisecond:_,microsecond:x,nanosecond:T}=DT(s,d,p,m,y,g,_,x,T,a,i,r,pe.toNumber(S)),Xa(wb(s,d,p,m,y,g,_,x,T,"option",gc(k,Z(this,fs)),k,"compatible","prefer",!1),k,Z(this,Nt))}equals(e){if(!En(this))throw new TypeError("invalid receiver");const t=cy(e),i=Z(this,zn),r=Z(t,zn);return!!pe.equal(pe.BigInt(i),pe.BigInt(r))&&!!eI(Z(this,Gi),Z(t,Gi))&&cv(Z(this,Nt),Z(t,Nt))}toString(e){if(!En(this))throw new TypeError("invalid receiver");const t=di(e),{precision:i,unit:r,increment:a}=av(t),o=ro(t,"trunc");return $E(this,i,rv(t),function(d){return Zd(d,"timeZoneName",["auto","never"],"auto")}(t),function(d){return Zd(d,"offset",["auto","never"],"auto")}(t),{unit:r,increment:a,roundingMode:o})}toLocaleString(e,t){if(!En(this))throw new TypeError("invalid receiver");return new Op(e,t).format(this)}toJSON(){if(!En(this))throw new TypeError("invalid receiver");return $E(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!En(this))throw new TypeError("invalid receiver");const e=lr(this),t=Fn("%Temporal.PlainDateTime%"),i=Z(this,Nt),r=new t(Z(e,dn),Z(e,gn),Z(e,_n),0,0,0,0,0,0,i),a=Z(this,Gi);return Xa(Z(Us(a,r,"compatible"),zn),a,i)}toInstant(){if(!En(this))throw new TypeError("invalid receiver");return new(Fn("%Temporal.Instant%"))(Z(this,zn))}toPlainDate(){if(!En(this))throw new TypeError("invalid receiver");return rf(lr(this))}toPlainTime(){if(!En(this))throw new TypeError("invalid receiver");return ST(lr(this))}toPlainDateTime(){if(!En(this))throw new TypeError("invalid receiver");return lr(this)}toPlainYearMonth(){if(!En(this))throw new TypeError("invalid receiver");const e=Z(this,Nt);return fp(e,ci(this,ua(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!En(this))throw new TypeError("invalid receiver");const e=Z(this,Nt);return nf(e,ci(this,ua(e,["day","monthCode"]),[]))}getISOFields(){if(!En(this))throw new TypeError("invalid receiver");const e=lr(this),t=Z(this,Gi);return{calendar:Z(this,Nt),isoDay:Z(e,_n),isoHour:Z(e,Zn),isoMicrosecond:Z(e,ei),isoMillisecond:Z(e,Jn),isoMinute:Z(e,Kn),isoMonth:Z(e,gn),isoNanosecond:Z(e,ti),isoSecond:Z(e,Qn),isoYear:Z(e,dn),offset:p1(t,Z(this,fs)),timeZone:t}}static from(e,t){const i=di(t);return En(e)?(Jr(i),Cy(i),d1(i,"reject"),Xa(Z(e,zn),Z(e,Gi),Z(e,Nt))):cy(e,i)}static compare(e,t){const i=cy(e),r=cy(t),a=Z(i,zn),o=Z(r,zn);return pe.lessThan(pe.BigInt(a),pe.BigInt(o))?-1:pe.greaterThan(pe.BigInt(a),pe.BigInt(o))?1:0}}function lr(n){return qo(Z(n,Gi),Z(n,fs),Z(n,Nt))}uu(GT,"Temporal.ZonedDateTime");var Fr=Object.freeze({__proto__:null,Instant:dc,Calendar:Lb,PlainDate:hv,PlainDateTime:pv,Duration:Fd,PlainMonthDay:FT,Now:PI,PlainTime:dp,TimeZone:BT,PlainYearMonth:UT,ZonedDateTime:GT});const Kz=[dc,Lb,hv,pv,Fd,FT,dp,BT,UT,GT];for(const n of Kz){const e=Object.getOwnPropertyDescriptor(n,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(n,"prototype",e))}const Qz=n=>Object.entries(m3[n]).reduce((e,t)=>{let[i,r]=t;return e[`${n}-${i}`]=r,e},{}),Jz=n=>Object.entries(n).map(e=>{let[t,i]=e;return`--${t}: ${i};`}).join(`
`),DI=n=>{let{colors:e=!1,theme:t=!1,layers:i=!1,spacers:r=!1,elevations:a=!1}=n;const o={colors:e,theme:t,layers:i,spacers:r,elevations:a},s=Object.keys(o).filter(d=>o[d]).map(Qz).map(Jz).join(`
`);return Se.createElement(Pt,{id:"3443925957",dynamic:[s]},[`html{${s};}`])};DI.propTypes={colors:he.bool,elevations:he.bool,layers:he.bool,spacers:he.bool,theme:he.bool};const eF=n=>{let{execute:e,variables:t,singular:i,immediate:r,onComplete:a,onError:o}=n;const[s]=KL(e),[d,p]=Oe.useState({called:!!r,loading:!!r}),m=Oe.useRef(t),y=Oe.useRef([]),g=Oe.useCallback(()=>{y.current.forEach(T=>T.abort()),y.current=[]},[]),_=Oe.useCallback(()=>{g(),p(T=>({called:T.called,loading:!1,error:new JR({type:"aborted",message:"Aborted"})}))},[g]),x=Oe.useCallback(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};p(v=>!v.called||!v.loading?{called:!0,loading:!0}:v),i&&g();const E=new AbortController;y.current.push(E),m.current={...m.current,...T};const k={variables:m.current,signal:E.signal,onComplete:a,onError:o};return s(k).then(v=>E.signal.aborted?new Promise(()=>{}):(p({called:!0,loading:!1,data:v}),v)).catch(v=>(E.signal.aborted||p({called:!0,loading:!1,error:v}),new Promise(()=>{})))},[g,a,o,i,s]);return Oe.useEffect(()=>(r&&x(),g),[]),{refetch:x,abort:_,...d}},tF={},Ny=function(n){let{onComplete:e,onError:t,variables:i=tF,lazy:r=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=QL(),[o]=KL(n,{warn:!0,name:"mutation"}),s=Oe.useCallback(_=>a.mutate(o,_),[a,o]),{refetch:d,called:p,loading:m,error:y,data:g}=eF({execute:s,variables:i,singular:!1,immediate:!r,onComplete:e,onError:t});return[d,{engine:a,called:p,loading:m,error:y,data:g}]},MI=n=>{let{threshold:e=0,onChange:t,children:i,className:r,dataTest:a="dhis2-uicore-intersectiondetector",rootRef:o}=n;const s=Oe.useRef(),d=Oe.useRef();return Oe.useEffect(()=>{const p=o.current,m=d.current;if(p&&m){const y=x=>{const[T]=x;T.isIntersecting!==s.current&&(s.current=T.isIntersecting,t({isIntersecting:T.isIntersecting}))},g={root:p,threshold:e},_=new IntersectionObserver(y,g);return _.observe(m),()=>_.disconnect()}},[o.current,d.current]),Se.createElement("div",{ref:d,"data-test":a,className:"jsx-2829611397 "+(r||"")},i,Se.createElement(Pt,{id:"2829611397"},["div.jsx-2829611397{height:100%;}"]))};MI.propTypes={rootRef:he.shape({current:he.instanceOf(HTMLElement)}).isRequired,onChange:he.func.isRequired,children:he.any,className:he.string,dataTest:he.string,threshold:he.number};const OI=n=>{let{children:e,open:t,dataTest:i}=n;return Se.createElement("div",{"data-test":i,className:"jsx-3677374542 "+(Dr({open:t})||"")},e,Se.createElement(Pt,{id:"3677374542"},["div.jsx-3677374542{height:0;overflow:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".open.jsx-3677374542{height:auto;}"]))};OI.propTypes={children:he.node,dataTest:he.string,open:he.bool};const nF=()=>Se.createElement("div",{className:"jsx-2503342345"},Se.createElement(Pt,{id:"2503342345"},["div.jsx-2503342345{width:24px;}"])),iF=()=>Se.createElement("div",{className:"nodeArrow"},Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"jsx-4098137027"},Se.createElement("path",{d:"M15.7041 10.3329L12.1495 14.3318C12.0699 14.4213 11.9301 14.4213 11.8505 14.3318L8.29589 10.3329C8.18124 10.2039 8.2728 10 8.44537 10H15.5546C15.7272 10 15.8188 10.2039 15.7041 10.3329Z",className:"jsx-4098137027"}),Se.createElement(Pt,{id:"4098137027"},["svg.jsx-4098137027{fill:inherit;height:24px;width:24px;vertical-align:middle;pointer-events:none;}"]))),RI=n=>{let{open:e,onOpen:t,onClose:i,dataTest:r}=n;const a=e?i:t;return Se.createElement("div",{"data-test":r,onClick:o=>a&&a({open:!e},o),className:Pt.dynamic([["375729792",[Ge.grey400,Ge.grey900,Ge.grey100]]])+" "+(Dr({open:e})||"")},Se.createElement("span",{className:Pt.dynamic([["375729792",[Ge.grey400,Ge.grey900,Ge.grey100]]])},Se.createElement(iF,null)),Se.createElement(Pt,{id:"375729792",dynamic:[Ge.grey400,Ge.grey900,Ge.grey100]},["div.__jsx-style-dynamic-selector{width:24px;position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",`div.__jsx-style-dynamic-selector:after{background:${Ge.grey400};height:calc(100% - 24px);inset-inline-start:12px;position:absolute;top:15px;width:1px;z-index:1;}`,".open.__jsx-style-dynamic-selector:after{content:'';}",`span.__jsx-style-dynamic-selector{display:block;position:relative;z-index:2;fill:${Ge.grey900};}`,"div.__jsx-style-dynamic-selector .nodeArrow{vertical-align:top;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:-webkit-transform 0.1s ease-out;-webkit-transition:transform 0.1s ease-out;transition:transform 0.1s ease-out;}","div.__jsx-style-dynamic-selector .nodeArrow:dir(rtl){-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);}",".open.__jsx-style-dynamic-selector .nodeArrow{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}",".open.__jsx-style-dynamic-selector .nodeArrow:dir(rtl){-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}",`div.__jsx-style-dynamic-selector:hover{cursor:pointer;border-radius:3px;background:${Ge.grey100};}`,"div.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector:after{background:#bcc8d4;}"]))};RI.propTypes={dataTest:he.string.isRequired,open:he.bool,onClose:he.func,onOpen:he.func};const $I=n=>{let{open:e,className:t,component:i,children:r,icon:a,onOpen:o,onClose:s,dataTest:d="dhis2-uicore-node"}=n;const p=!!Se.Children.toArray(r).filter(g=>g).length,m=!a&&p,y=!a&&!p;return Se.createElement("div",{"data-test":d,className:"jsx-1433072554 "+(Dr("node",t)||"")},a&&Se.createElement("div",{"data-test":`${d}-icon`,className:"jsx-1433072554"},a),m&&Se.createElement(RI,{open:e,onOpen:o,onClose:s,dataTest:`${d}-toggle`}),y&&Se.createElement(nF,null),Se.createElement("div",{"data-test":`${d}-content`,className:"jsx-1433072554"},Se.createElement("div",{"data-test":`${d}-label`,className:"jsx-1433072554"},i),Se.createElement(OI,{open:e,dataTest:`${d}-leaves`},r)),Se.createElement(Pt,{id:"1433072554"},[".node.jsx-1433072554{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}"]))};$I.propTypes={children:he.node,className:he.string,component:he.element,dataTest:he.string,icon:he.node,open:he.bool,onClose:he.func,onOpen:he.func};const zI=(n,e)=>n.some(i=>e===i?!0:i.startsWith(`${e}/`)),rF=(n,e)=>n.replace(new RegExp(`^.*(/${e})`),"$1"),aF=n=>[...n].sort((e,t)=>e.displayName.localeCompare(t.displayName)),sF={"No children match filter":"","Could not load children":"تعذر تحميل الأبناء","Error: {{ ERRORMESSAGE }}":"خطأ: {{ ERRORMESSAGE }}"},oF={"No children match filter":"Filtru neodpovídají žádné podřízené","Could not load children":"Nelze načíst podřazené","Error: {{ ERRORMESSAGE }}":"Chyba: {{ ERRORMESSAGE }}"},lF={"No children match filter":"No children match filter","Could not load children":"Could not load children","Error: {{ ERRORMESSAGE }}":"Error: {{ ERRORMESSAGE }}"},cF={"No children match filter":"Sin filtros de coincidencia en los elementos inferiores","Could not load children":"No se pudo cargar los elementos inferiores","Error: {{ ERRORMESSAGE }}":"Error: {{ ERRORMESSAGE }}"},uF={"No children match filter":"Ningún descendiente coincide con el filtro","Could not load children":"No se han podido cargar los descendientes","Error: {{ ERRORMESSAGE }}":"Error: {{ ERRORMESSAGE }}"},dF={"No children match filter":"","Could not load children":"","Error: {{ ERRORMESSAGE }}":"Erreur : {{ ERRORMESSAGE }}"},hF={"No children match filter":"ບໍ່ພົບເດັກນ້ອຍທີ່ກົງກັບຕົວກອງ","Could not load children":"ບໍ່ສາມາດໂຫຼດເດັກນ້ອຍໄດ້","Error: {{ ERRORMESSAGE }}":"ຂໍ້ຜິດພາດ {{ ERRORMESSAGE }}"},pF={"No children match filter":"Ingen underenheter matcher filter","Could not load children":"Kunne ikke laste underordnede enheter","Error: {{ ERRORMESSAGE }}":"Feil: {{ ERRORMESSAGE }}"},mF={"No children match filter":"Er komen geen kinderen overeen met het filter","Could not load children":"Kan kinderen niet laden","Error: {{ ERRORMESSAGE }}":"Fout: {{ ERRORMESSAGE }}"},fF={"No children match filter":"Nenhum filho corresponde ao filtro","Could not load children":"Não foi possível carregar as crianças","Error: {{ ERRORMESSAGE }}":"Erro: {{ ERRORMESSAGE }}"},gF={"No children match filter":"Нет дочерних единиц, соответствующих фильтру","Could not load children":"¨Не удалось загрузить дочерние единицы","Error: {{ ERRORMESSAGE }}":"Ошибка: {{ ERRORMESSAGE }}"},yF={"No children match filter":"Немає дочірніх об'єктів, які відповідають фільтру","Could not load children":"Не вдалося завантажити дочірні об'єкти","Error: {{ ERRORMESSAGE }}":"Помилка: {{ ERRORMESSAGE }}"},vF={"No children match filter":"","Could not load children":"Bolalar yuklanmadi","Error: {{ ERRORMESSAGE }}":""},xF={"No children match filter":"Фильтрга мос бўлган авлод мавжуд эмас","Could not load children":"Болалар юкланмади","Error: {{ ERRORMESSAGE }}":"Хатолик: {{ ERRORMESSAGE }}"},bF={"No children match filter":"","Could not load children":"Bolalar yuklanmadi","Error: {{ ERRORMESSAGE }}":""},_F={"No children match filter":"Không có đơn vị con phù hợp với bộ lọc","Could not load children":"Không thể tải đơn vị con","Error: {{ ERRORMESSAGE }}":"Lỗi: {{ ERRORMESSAGE }}"},wF={"No children match filter":"没有下属匹配过滤器","Could not load children":"无法加载下属","Error: {{ ERRORMESSAGE }}":"错误：{{ ERRORMESSAGE }}"},TF={"No children match filter":"","Could not load children":"无法加载下属","Error: {{ ERRORMESSAGE }}":""},Cs="default";tt.addResources("ar",Cs,sF);tt.addResources("cs",Cs,oF);tt.addResources("en",Cs,lF);tt.addResources("es",Cs,cF);tt.addResources("es_419",Cs,uF);tt.addResources("fr",Cs,dF);tt.addResources("lo",Cs,hF);tt.addResources("nb",Cs,pF);tt.addResources("nl",Cs,mF);tt.addResources("pt",Cs,fF);tt.addResources("ru",Cs,gF);tt.addResources("uk",Cs,yF);tt.addResources("uz_Latn",Cs,vF);tt.addResources("uz_UZ_Cyrl",Cs,xF);tt.addResources("uz_UZ_Latn",Cs,bF);tt.addResources("vi",Cs,_F);tt.addResources("zh",Cs,wF);tt.addResources("zh_CN",Cs,TF);const SF="[a-zA-Z][a-zA-Z0-9]{10}",CF=new RegExp(`(/${SF})+`),Uo=(n,e,t,i,r)=>{if(!CF.test(n[e]))return new Error(`Invalid org unit path \`${n[e]}\` supplied to \`${t}.${r}\``)},FI=n=>{let{children:e,dataTest:t}=n;return Se.createElement("span",{"data-test":`${t}-error`,className:Pt.dynamic([["3198585030",[Ge.grey800,jt.dp4,qt.error]]])},e,Se.createElement(Pt,{id:"3198585030",dynamic:[Ge.grey800,jt.dp4,qt.error]},[`span.__jsx-style-dynamic-selector{font-size:14px;color:${Ge.grey800};margin:${jt.dp4};color:${qt.error};}`]))};FI.propTypes={children:he.any.isRequired,dataTest:he.string.isRequired};const EF=(n,e)=>e.some(t=>{const i=!t.match(new RegExp(`${n}$`)),r=t.match(new RegExp(n));return i&&r}),YT=n=>{let{checked:e,children:t,onChange:i,loading:r}=n;return Se.createElement("span",{onClick:a=>{i({checked:!e},a)},className:Pt.dynamic([["321503310",[Ge.grey900,Ge.teal700]]])+" "+(Dr({checked:e,loading:r})||"")},t,Se.createElement(Pt,{id:"321503310",dynamic:[Ge.grey900,Ge.teal700]},[`span.__jsx-style-dynamic-selector{background:transparent;border-radius:3px;color:${Ge.grey900};cursor:pointer;display:inline-block;font-size:14px;line-height:24px;padding:0 5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;}`,`.checked.__jsx-style-dynamic-selector{background:${Ge.teal700};color:white;}`,".loading.__jsx-style-dynamic-selector{cursor:auto;}"]))};YT.propTypes={children:he.any.isRequired,checked:he.bool,loading:he.bool,onChange:he.func};const jI=n=>{let{children:e,loading:t,onToggleOpen:i}=n;return Se.createElement(YT,{checked:!1,loading:t,onChange:i},e)};jI.propTypes={children:he.any.isRequired,onToggleOpen:he.func.isRequired,loading:he.bool};const BI=n=>{let{dataTest:e}=n;return Se.createElement("svg",{height:"18px",version:"1.1",viewBox:"0 0 18 18",width:"18px","data-test":`${e}-iconempty`,className:"jsx-3201893673"},Se.createElement("g",{fill:"none",fillRule:"evenodd",id:"icon/empty",stroke:"none",strokeWidth:"1",className:"jsx-3201893673"}),Se.createElement(Pt,{id:"3201893673"},["svg.jsx-3201893673{display:block;margin:3px 0;}"]))};BI.propTypes={dataTest:he.string.isRequired};const UI=n=>{let{dataTest:e}=n;return Se.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18",version:"1.1","data-test":`${e}-iconfolderclosed`,className:"jsx-3201893673"},Se.createElement("g",{id:"icon/folder/closed",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",className:"jsx-3201893673"},Se.createElement("path",{d:"M2,3.5 C1.17157288,3.5 0.5,4.17157288 0.5,5 L0.5,13 C0.5,13.8284271 1.17157288,14.5 2,14.5 L12,14.5 C12.8284271,14.5 13.5,13.8284271 13.5,13 L13.5,7 C13.5,6.17157288 12.8284271,5.5 12,5.5 L6.69098301,5.5 L5.82917961,3.7763932 C5.7444836,3.60700119 5.57135204,3.5 5.38196601,3.5 L2,3.5 Z",id:"Path-2",stroke:"#6C7787",fill:"#D5DDE5",className:"jsx-3201893673"})),Se.createElement(Pt,{id:"3201893673"},["svg.jsx-3201893673{display:block;margin:3px 0;}"]))};UI.propTypes={dataTest:he.string.isRequired};const GI=n=>{let{dataTest:e}=n;return Se.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18",version:"1.1","data-test":`${e}-iconfolderopen`,className:"jsx-2091325045"},Se.createElement("g",{id:"icon/folder/open",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",className:"jsx-2091325045"},Se.createElement("g",{id:"Group",transform:"translate(0.000000, 3.000000)",stroke:"#6C7787",className:"jsx-2091325045"},Se.createElement("path",{d:"M2,0.5 C1.17157288,0.5 0.5,1.17157288 0.5,2 L0.5,10 C0.5,10.8284271 1.17157288,11.5 2,11.5 L12,11.5 C12.8284271,11.5 13.5,10.8284271 13.5,10 L13.5,4 C13.5,3.17157288 12.8284271,2.5 12,2.5 L6.69098301,2.5 L5.82917961,0.776393202 C5.7444836,0.607001188 5.57135204,0.5 5.38196601,0.5 L2,0.5 Z",id:"Path-2",fill:"#A0ADBA",className:"jsx-2091325045"}),Se.createElement("path",{d:"M1.53632259,10.7093809 C1.47575089,10.7941813 1.44318932,10.8957885 1.44318932,11 C1.44318932,11.2761424 1.66704695,11.5 1.94318932,11.5 L12.4853821,11.5 C12.6468577,11.5 12.7983931,11.4220172 12.8922488,11.2906191 L16.4636774,6.2906191 C16.5242491,6.20581872 16.5568107,6.10421149 16.5568107,6 C16.5568107,5.72385763 16.3329531,5.5 16.0568107,5.5 L5.5146179,5.5 C5.35314234,5.5 5.20160692,5.57798284 5.10775116,5.7093809 L1.53632259,10.7093809 Z",id:"Path-3",fill:"#FBFCFD",className:"jsx-2091325045"}))),Se.createElement(Pt,{id:"2091325045"},["svg.jsx-2091325045{margin:3px 0;display:block;}"]))};GI.propTypes={dataTest:he.string.isRequired};const YI=n=>{let{dataTest:e}=n;return Se.createElement("svg",{height:"18px",version:"1.1",viewBox:"0 0 18 18",width:"18px","data-test":`${e}-iconsingle`,className:"jsx-3201893673"},Se.createElement("g",{fill:"none",fillRule:"evenodd",id:"icon/single",stroke:"none",strokeWidth:"1",className:"jsx-3201893673"},Se.createElement("rect",{fill:"#A0ADBA",height:"4",id:"Rectangle",rx:"1",width:"4",x:"7",y:"7",className:"jsx-3201893673"})),Se.createElement(Pt,{id:"3201893673"},["svg.jsx-3201893673{display:block;margin:3px 0;}"]))};YI.propTypes={dataTest:he.string.isRequired};const VI=n=>{let{loading:e,hasChildren:t,open:i,dataTest:r}=n;return e?Se.createElement(BI,{dataTest:r}):t?i?Se.createElement(GI,{dataTest:r}):Se.createElement(UI,{dataTest:r}):Se.createElement(YI,{dataTest:r})};VI.propTypes={dataTest:he.string.isRequired,hasChildren:he.bool,loading:he.bool,open:he.bool};const WI=n=>{let{checked:e,dataTest:t,hasChildren:i,indeterminate:r,children:a,loading:o,name:s,open:d,value:p,onChange:m}=n;const y=Se.createElement(VI,{loading:o,open:d,hasChildren:i,dataTest:t}),g=Se.createElement(Se.Fragment,null,Se.createElement("span",{className:"jsx-1000763175"},y),a,Se.createElement(Pt,{id:"1000763175"},["span.jsx-1000763175{display:inline-block;margin-inline-end:4px;}"]));return Se.createElement(Se.Fragment,null,Se.createElement(l0,{dense:!0,checked:e,name:s,value:p,label:g,indeterminate:r,onChange:m}))};WI.propTypes={checked:he.bool.isRequired,children:he.any.isRequired,dataTest:he.string.isRequired,hasChildren:he.bool.isRequired,indeterminate:he.bool.isRequired,loading:he.bool.isRequired,name:he.string.isRequired,open:he.bool.isRequired,value:he.string.isRequired,onChange:he.func.isRequired};const sb=n=>{let{highlighted:e,children:t}=n;return Se.createElement("div",{className:Pt.dynamic([["1387769986",[Ge.teal200]]])+" "+(Dr({highlighted:e})||"")},Se.createElement("span",{className:Pt.dynamic([["1387769986",[Ge.teal200]]])},t),Se.createElement(Pt,{id:"1387769986",dynamic:[Ge.teal200]},["div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}","span.__jsx-style-dynamic-selector{display:block;}",`.highlighted.__jsx-style-dynamic-selector{background:${Ge.teal200};padding-inline-end:4px;}`]))};sb.propTypes={children:he.node,highlighted:he.bool};const kF=n=>{let{selected:e,path:t,checked:i,singleSelection:r}=n;const a=e.indexOf(t);if(i&&a!==-1)return e;if(r&&i)return[t];if(i)return[...e,t];if(a===-1)return e;if(r)return[];if(e.indexOf(t)===0)return e.slice(1);const o=e.slice(0,a),s=e.slice(a+1);return[...o,...s]},qI=n=>{let{checked:e,children:t,dataTest:i,disableSelection:r,fullPath:a,hasChildren:o,hasSelectedDescendants:s,highlighted:d,loading:p,node:m,onChange:y,onToggleOpen:g,open:_,rootId:x,selected:T,singleSelection:E}=n;const k=(v,w)=>{let{checked:N}=v;const S=kF({path:a,selected:T,checked:N,singleSelection:E,rootId:x}),L={...m,path:a,checked:N,selected:S};y(L,w)};return r?Se.createElement(sb,{highlighted:d},Se.createElement(jI,{loading:p,onToggleOpen:g},t)):E?Se.createElement(sb,{highlighted:d},Se.createElement(YT,{checked:e,onChange:k,loading:p},t)):Se.createElement(sb,{highlighted:d},Se.createElement(WI,{dataTest:i,checked:e,name:"org-unit",value:m.id,loading:p,indeterminate:!e&&s,onChange:k,open:_,hasChildren:o},t))};qI.propTypes={children:he.any.isRequired,dataTest:he.string.isRequired,fullPath:he.string.isRequired,hasChildren:he.bool.isRequired,loading:he.bool.isRequired,node:he.shape({displayName:he.string.isRequired,id:he.string.isRequired,children:he.number,path:he.string}).isRequired,open:he.bool.isRequired,rootId:he.string.isRequired,onChange:he.func.isRequired,onToggleOpen:he.func.isRequired,checked:he.bool,disableSelection:he.bool,hasSelectedDescendants:he.bool,highlighted:he.bool,selected:he.arrayOf(Uo),singleSelection:he.bool};const nk={styles:Se.createElement(Pt,{id:"358163430"},[".extrasmall.jsx-358163430{display:block;margin:3px 0;}"]),className:"jsx-358163430"},HI=()=>Se.createElement("div",{className:"jsx-2503342345"},Se.createElement(Df,{extrasmall:!0,className:nk.className}),Se.createElement("style",null,nk.styles),Se.createElement(Pt,{id:"2503342345"},["div.jsx-2503342345{width:24px;}"])),NF={orgUnit:{resource:"organisationUnits",id:n=>{let{id:e}=n;return e},params:{fields:"children[id,path,displayName]"}}},LF=n=>{let{node:e,suppressAlphabeticalSorting:t,onComplete:i}=n;const r=Oe.useRef(!1),{called:a,loading:o,error:s,data:d}=as(NF,{variables:{id:e.id}}),p=Oe.useMemo(()=>{if(!d)return;if(!e.children)return[];const{orgUnit:m}=d;return t?m.children:aF(m.children)},[d,t]);return Oe.useEffect(()=>{i&&p&&!r.current&&(i({...e,children:p}),r.current=!0)},[i,p,r]),{called:a,loading:o,error:s||null,data:p}},IF=n=>{let{orgChildren:e,filter:t,node:i}=n;return t!=null&&t.length?e.filter(r=>zI(t,`${i.path}/${r.id}`)):e},XI=n=>{let{node:e,autoExpandLoadingError:t,dataTest:i,disableSelection:r,expanded:a,filter:o,highlighted:s,isUserDataViewFallback:d,onChange:p,onChildrenLoaded:m,onCollapse:y,onExpand:g,parentPath:_,renderNodeLabel:x,rootId:T,selected:E,singleSelection:k,suppressAlphabeticalSorting:v,OrganisationUnitNode:w}=n;const N=LF({node:e,isUserDataViewFallback:d,suppressAlphabeticalSorting:v,onComplete:m}),S=N.called&&!N.loading&&!N.error,L=S?IF({orgChildren:N.data,filter:o,node:e}):[];return Se.createElement(Se.Fragment,null,N.loading&&Se.createElement(HI,null),N.error&&`Error: ${N.error}`,S&&!L.length&&tt.t("No children match filter"),!!L.length&&L.map(O=>{const Y=`${_}/${O.id}`;return Se.createElement(w,{autoExpandLoadingError:t,dataTest:i,disableSelection:r,displayName:O.displayName,expanded:a,filter:o,highlighted:s,id:O.id,isUserDataViewFallback:d,key:Y,onChange:p,onChildrenLoaded:m,onCollapse:y,onExpand:g,path:Y,renderNodeLabel:x,rootId:T,selected:E,singleSelection:k,suppressAlphabeticalSorting:v})}))};XI.propTypes={OrganisationUnitNode:he.func.isRequired,dataTest:he.string.isRequired,node:he.object.isRequired,parentPath:he.string.isRequired,renderNodeLabel:he.func.isRequired,rootId:he.string.isRequired,onChange:he.func.isRequired,autoExpandLoadingError:he.bool,disableSelection:he.bool,expanded:he.arrayOf(Uo),filter:he.arrayOf(Uo),highlighted:he.arrayOf(Uo),isUserDataViewFallback:he.bool,selected:he.arrayOf(Uo),singleSelection:he.bool,suppressAlphabeticalSorting:he.bool,onChildrenLoaded:he.func,onCollapse:he.func,onExpand:he.func};const AF=n=>{let{path:e,expanded:t,onExpand:i,onCollapse:r,errorMessage:a,autoExpandLoadingError:o}=n;const s=o&&!!a,[d,p]=Oe.useState(!!a);Oe.useEffect(()=>{s&&!d&&(i({path:e}),p(!0))},[s,d]);const m=s&&!d||!!t.includes(e);return{open:m,onToggleOpen:()=>m?r({path:e}):i({path:e}),openedOnceDueToError:d}},PF={orgUnit:{resource:"organisationUnits",id:n=>{let{id:e}=n;return e},params:n=>{let{isUserDataViewFallback:e}=n;return{isUserDataViewFallback:e,fields:["path","children::size"]}}}},DF=(n,e)=>{let{displayName:t,isUserDataViewFallback:i}=e;if(!t)throw new Error('"displayName" is required');const r={id:n,isUserDataViewFallback:i},{loading:a,error:o,data:s={}}=as(PF,{variables:r});return{loading:a,error:o||null,data:{id:n,displayName:t,...s.orgUnit}}},VT=n=>{let{autoExpandLoadingError:e,dataTest:t,disableSelection:i,displayName:r,expanded:a,highlighted:o,id:s,isUserDataViewFallback:d,path:p,renderNodeLabel:m,rootId:y,selected:g,singleSelection:_,filter:x,suppressAlphabeticalSorting:T,onChange:E,onChildrenLoaded:k,onCollapse:v,onExpand:w}=n;const N=DF(s,{isUserDataViewFallback:d,displayName:r}),S=rF(p,y),L={displayName:r,id:s,...N.data,path:S},O=!!L.children&&L.children>0,Y=EF(S,g),X=o.includes(p),{open:H,onToggleOpen:$}=AF({autoExpandLoadingError:e,errorMessage:N.error&&N.error.toString(),path:S,expanded:a,onExpand:w,onCollapse:v}),G=!!g.find(F=>F.match(new RegExp(`${S}$`))),B=m({disableSelection:i,hasChildren:O,hasSelectedDescendants:Y,loading:N.loading,error:N.error,selected:g,open:H,path:p,singleSelection:_,node:L,label:r,checked:G,highlighted:X}),M=Se.createElement(qI,{node:L,fullPath:p,open:H,loading:N.loading,checked:G,rootId:y,onChange:E,dataTest:`${t}-label`,selected:g,hasChildren:O,highlighted:X,onToggleOpen:$,disableSelection:i,singleSelection:_,hasSelectedDescendants:Y},B),D=O&&!H&&!N.error,V=O&&H&&!N.error;return Se.createElement($I,{dataTest:`${t}-node`,open:H,onOpen:$,onClose:$,component:M,icon:N.loading&&Se.createElement(HI,null)},N.error&&Se.createElement(FI,{dataTest:t},tt.t("Could not load children")),D&&Se.createElement("span",{"data-test":`${t}-placeholder`}),V&&Se.createElement(XI,{OrganisationUnitNode:VT,node:L,autoExpandLoadingError:e,dataTest:t,disableSelection:i,expanded:a,filter:x,highlighted:o,isUserDataViewFallback:d,onChange:E,onChildrenLoaded:k,onCollapse:v,onExpand:w,parentPath:p,renderNodeLabel:m,rootId:y,selected:g,singleSelection:_,suppressAlphabeticalSorting:T}))};VT.propTypes={dataTest:he.string.isRequired,id:he.string.isRequired,renderNodeLabel:he.func.isRequired,rootId:he.string.isRequired,onChange:he.func.isRequired,autoExpandLoadingError:he.bool,disableSelection:he.bool,displayName:he.string,expanded:he.arrayOf(Uo),filter:he.arrayOf(Uo),highlighted:he.arrayOf(Uo),isUserDataViewFallback:he.bool,path:Uo,selected:he.arrayOf(Uo),singleSelection:he.bool,suppressAlphabeticalSorting:he.bool,onChildrenLoaded:he.func,onCollapse:he.func,onExpand:he.func};const MF=n=>{let{label:e}=n;return e},OF=(n,e)=>n!=null&&n.length?e.filter(t=>zI(n,`/${t}`)):e,ZI=n=>{let{dataTest:e="dhis2-uiwidgets-orgunittree-error",error:t}=n;return Se.createElement("div",{"data-test":e},tt.t("Error: {{ ERRORMESSAGE }}",{ERRORMESSAGE:t,nsSeparator:">"}))};ZI.propTypes={error:he.string.isRequired,dataTest:he.string};const KI=n=>{let{dataTest:e="dhis2-uiwidgets-orgunittree-loading"}=n;return Se.createElement("div",{"data-test":e,className:"jsx-814846266"},Se.createElement(Df,{small:!0}),Se.createElement(Pt,{id:"814846266"},["div.jsx-814846266{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]))};KI.propTypes={dataTest:he.string};const RF=n=>Array.from(new Set(n)),$F=n=>{const e=n.replace(/^\//,"").split("/"),t=e.map((i,r)=>`/${e.slice(0,r+1).join("/")}`);return RF(t)},zF=n=>n.reduce((e,t)=>{const i=$F(t);return[...e,...i]},[]),FF=n=>{let{expanded:e,setExpanded:t,onExpand:i,onCollapse:r}=n;return{handleExpand:s=>{let{path:d,...p}=s;e.includes(d)||(t([...e,d]),i&&i({path:d,...p}))},handleCollapse:s=>{let{path:d,...p}=s;const m=e.indexOf(d);if(m!==-1){const y=m===0?e.slice(1):[...e.slice(0,m),...e.slice(m+1)];t(y),r&&r({path:d,...p})}}}},jF=n=>{let{initiallyExpanded:e,onExpand:t,onCollapse:i,expandedControlled:r,handleExpandControlled:a,handleCollapseControlled:o}=n;const s=!!r,d=s?[]:zF(e),[p,m]=Oe.useState(d);if(s)return{expanded:r,handleExpand:a,handleCollapse:o};const{handleExpand:y,handleCollapse:g}=FF({expanded:p,setExpanded:m,onExpand:t,onCollapse:i});return{expanded:p,handleExpand:y,handleCollapse:g}},BF=n=>{const[e,t]=Oe.useState(0);return Oe.useEffect(()=>{const i=e+1;n===!0&&t(i)},[n]),e},UF=n=>{const t=Object.entries(n).map(i=>{let[r,a]=i;const o=a.displayName||"";return[r,{...a,displayName:o}]});return Object.fromEntries(t)},GF=n=>n.reduce((e,t)=>({...e,[t]:{id:t,resource:"organisationUnits",params:i=>{let{isUserDataViewFallback:r}=i;return{isUserDataViewFallback:r,fields:["displayName","path","id"]}}}}),{}),YF=function(n){let{isUserDataViewFallback:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=Oe.useMemo(()=>GF(n),[n]),r=as(t,{variables:{isUserDataViewFallback:e}}),{called:a,loading:o,error:s,data:d,refetch:p}=r,m=Oe.useMemo(()=>d&&UF(d),[d]);return{called:a,loading:o,error:s||null,data:m||null,refetch:p}},Ix=[],WT=n=>{let{onChange:e,roots:t,autoExpandLoadingError:i,dataTest:r="dhis2-uiwidgets-orgunittree",disableSelection:a,forceReload:o,highlighted:s=Ix,isUserDataViewFallback:d,initiallyExpanded:p=Ix,filter:m=Ix,renderNodeLabel:y=MF,selected:g=Ix,singleSelection:_,suppressAlphabeticalSorting:x,expanded:T,handleExpand:E,handleCollapse:k,onExpand:v,onCollapse:w,onChildrenLoaded:N}=n;const S=OF(m,Array.isArray(t)?t:[t]),L=BF(o),[O,Y]=Oe.useState(L),{called:X,loading:H,error:$,data:G,refetch:B}=YF(S,{isUserDataViewFallback:d,suppressAlphabeticalSorting:x}),{expanded:M,handleExpand:D,handleCollapse:V}=jF({initiallyExpanded:p,onExpand:v,onCollapse:w,expandedControlled:T,handleExpandControlled:E,handleCollapseControlled:k});Oe.useEffect(()=>(B&&L>0&&L!==O&&(B(),Y(L)),()=>console.warn("@TODO: Why does this component unmount after a force reload?")),[L,O,B]);const F=!X||H;return Se.createElement("div",{"data-test":r},F&&Se.createElement(KI,null),$&&Se.createElement(ZI,{error:$}),!$&&!F&&S.map(z=>{const W=G[z];return Se.createElement(VT,{key:W.path,rootId:z,autoExpandLoadingError:i,dataTest:r,disableSelection:a,displayName:W.displayName,expanded:M,highlighted:s,id:z,isUserDataViewFallback:d,filter:m,path:W.path,renderNodeLabel:y,selected:g,singleSelection:_,suppressAlphabeticalSorting:x,onChange:e,onChildrenLoaded:N,onCollapse:V,onExpand:D})}))};WT.propTypes={roots:he.oneOfType([he.string,he.arrayOf(he.string)]).isRequired,onChange:he.func.isRequired,autoExpandLoadingError:he.bool,dataTest:he.string,disableSelection:he.bool,expanded:Hm(n=>!!n.handleExpand||!!n.handleCollapse,he.arrayOf(he.string)),filter:he.arrayOf(Uo),forceReload:he.bool,handleCollapse:Hm(n=>!!n.expanded||!!n.handleExpand,he.func),handleExpand:Hm(n=>!!n.expanded||!!n.handleCollapse,he.func),highlighted:he.arrayOf(Uo),initiallyExpanded:he.arrayOf(Uo),isUserDataViewFallback:he.bool,renderNodeLabel:he.func,selected:he.arrayOf(Uo),singleSelection:he.bool,suppressAlphabeticalSorting:he.bool,onChildrenLoaded:he.func,onCollapse:he.func,onExpand:he.func};const VF=n=>{switch(typeof n=="string"?n.split("-")[0]:""){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right";default:return""}},$r=8,qT=Oe.forwardRef((n,e)=>{let{hidden:t,popperPlacement:i,styles:r}=n;return Se.createElement("div",{"data-test":"dhis2-uicore-popoverarrow",style:r,ref:e,className:Pt.dynamic([["1397459397",[$r,$r,$r/2,$r/2,$r/2,$r/2,$r/2,Ge.white,Ge.white]]])+" "+(Dr(VF(i),{hidden:t})||"")},Se.createElement(Pt,{id:"1397459397",dynamic:[$r,$r,$r/2,$r/2,$r/2,$r/2,$r/2,Ge.white,Ge.white]},[`div.__jsx-style-dynamic-selector{width:${$r}px;height:${$r}px;position:absolute;}`,`div.top.__jsx-style-dynamic-selector{top:-${$r/2}px;}`,`div.right.__jsx-style-dynamic-selector{right:-${$r/2}px;}`,`div.bottom.__jsx-style-dynamic-selector{bottom:-${$r/2}px;}`,`div.left.__jsx-style-dynamic-selector{left:-${$r/2}px;}`,"div.hidden.__jsx-style-dynamic-selector{visibility:hidden;}",`div.__jsx-style-dynamic-selector::after{content:'';position:absolute;pointer-events:none;box-sizing:border-box;border-style:solid;border-width:${$r/2}px;border-color:transparent transparent ${Ge.white} ${Ge.white};box-shadow:-1px 1px 1px 0 rgba(64,75,90,0.08), -3px 3px 8px -6px rgba(64,75,90,0.15);}`,"div.bottom.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);}","div.top.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(135deg);-ms-transform:rotate(135deg);transform:rotate(135deg);}","div.right.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(-135deg);-ms-transform:rotate(-135deg);transform:rotate(-135deg);}","div.left.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}"]))});qT.displayName="Arrow";qT.propTypes={hidden:he.bool,popperPlacement:he.string,styles:he.shape({left:he.string,position:he.string,top:he.string,transform:he.string})};const WF=4,qF=()=>{const e=(Math.sqrt(2*Math.pow($r,2))-$r)/2,t=WF+e;return Math.ceil(t)},HF=n=>{let{state:e}=n;const t=$r/2,i=e.modifiersData.preventOverflow,r=e.rects.reference,a=Math.abs(i.x)>=r.width+t||Math.abs(i.y)>=r.height+t;return typeof e.attributes.arrow!="object"&&(e.attributes.arrow={}),e.attributes.arrow["data-arrow-hidden"]=a,e},XF=(n,e,t)=>{const i=e3(t);return n?[...i,{name:"offset",options:{offset:[0,$r]}},{name:"arrow",options:{padding:qF(),element:e}},{name:"hideArrowWhenDisplaced",enabled:!0,phase:"main",fn:HF,requires:["preventOverflow"]}]:i};function b1(){return b1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},b1.apply(null,arguments)}const QI=n=>{let{children:e,reference:t,arrow:i=!0,className:r,dataTest:a="dhis2-uicore-popover",elevation:o=my.e200,maxWidth:s=360,observePopperResize:d,observeReferenceResize:p,placement:m="top",onClickOutside:y}=n;const g=t3(t),[_,x]=Oe.useState(null),[T,E]=Oe.useState(null),k=Oe.useMemo(()=>XF(i,T,{observePopperResize:d,observeReferenceResize:p}),[i,T,d,p]),{styles:v,attributes:w}=n3(g,_,{placement:m,modifiers:k});return Se.createElement(qL,{onBackdropClick:y},Se.createElement("div",b1({"data-test":a,ref:x,style:v.popper},w.popper,{className:Pt.dynamic([["632767479",[s,o,Ge.white]]])+" "+(w.popper&&w.popper.className!=null&&w.popper.className||r||"")}),e,i&&Se.createElement(qT,{hidden:w.arrow&&w.arrow["data-arrow-hidden"],popperPlacement:w.popper&&w.popper["data-popper-placement"],ref:E,styles:v.arrow}),Se.createElement(Pt,{id:"632767479",dynamic:[s,o,Ge.white]},[`div.__jsx-style-dynamic-selector{max-width:${s}px;box-shadow:${o};background-color:${Ge.white};border-radius:4px;}`])))};QI.propTypes={children:he.node.isRequired,arrow:he.bool,className:he.string,dataTest:he.string,elevation:he.string,maxWidth:he.number,observePopperResize:he.bool,observeReferenceResize:he.bool,placement:i3,reference:r3,onClickOutside:he.func};const Hu=Se.forwardRef((n,e)=>{let{icon:t,onClick:i,selected:r,disabled:a,children:o,className:s,dataTest:d="dhis2-uicore-tab"}=n,p=Oe.useRef(null);e&&(p=e);const[m,y]=Oe.useState(!1);return Oe.useEffect(()=>{(()=>{const _=p.current.scrollWidth>p.current.clientWidth;y(_)})()},[]),Se.createElement("button",{onClick:a?void 0:g=>i({},g),"data-test":d,ref:p,role:"tab","aria-selected":r?"true":"false","aria-disabled":a?"true":"false",onFocus:a?void 0:g=>i({},g),tabIndex:-1,className:Pt.dynamic([["2433456263",[Ge.grey400,Ge.grey600,qt.focus,Ge.grey600,Ge.grey900,Ge.grey600,Ge.grey800,qt.primary800,qt.primary700,qt.primary700,qt.primary700,Ge.grey500,Ge.grey500]]])+` ${Dr("tab",s,{selected:r,disabled:a})}`},t,m?Se.createElement(c0,{content:o,maxWidth:"100%"},Se.createElement("span",{ref:p,className:Pt.dynamic([["2433456263",[Ge.grey400,Ge.grey600,qt.focus,Ge.grey600,Ge.grey900,Ge.grey600,Ge.grey800,qt.primary800,qt.primary700,qt.primary700,qt.primary700,Ge.grey500,Ge.grey500]]])},o)):Se.createElement("span",{ref:p,className:Pt.dynamic([["2433456263",[Ge.grey400,Ge.grey600,qt.focus,Ge.grey600,Ge.grey900,Ge.grey600,Ge.grey800,qt.primary800,qt.primary700,qt.primary700,qt.primary700,Ge.grey500,Ge.grey500]]])},o),Se.createElement(Pt,{id:"2433456263",dynamic:[Ge.grey400,Ge.grey600,qt.focus,Ge.grey600,Ge.grey900,Ge.grey600,Ge.grey800,qt.primary800,qt.primary700,qt.primary700,qt.primary700,Ge.grey500,Ge.grey500]},[`button.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:bottom;height:100%;padding:16px 16px 11px;background-color:transparent;outline:none;border:none;border-bottom:1px solid ${Ge.grey400};color:${Ge.grey600};font-size:14px;line-height:20px;cursor:pointer;}`,".fixed>button.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}","button.__jsx-style-dynamic-selector::after{content:' ';display:block;position:absolute;bottom:-1px;inset-inline-start:0;height:4px;width:100%;background-color:transparent;}","span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;max-width:320px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-transition:fill 150ms ease-in-out;transition:fill 150ms ease-in-out;}",`button.__jsx-style-dynamic-selector:focus{outline:3px solid ${qt.focus};outline-offset:-3px;}`,"button.__jsx-style-dynamic-selector:focus.__jsx-style-dynamic-selector:not(:focus-visible){outline:none;}",`button.__jsx-style-dynamic-selector>svg{fill:${Ge.grey600};width:14px;height:14px;margin:0 4px 0 0;}`,`button.__jsx-style-dynamic-selector:hover{color:${Ge.grey900};}`,`button.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:${Ge.grey600};height:2px;}`,`button.__jsx-style-dynamic-selector:active.__jsx-style-dynamic-selector::after{background-color:${Ge.grey800};}`,`button.selected.__jsx-style-dynamic-selector{color:${qt.primary800};}`,`button.selected.__jsx-style-dynamic-selector::after{background-color:${qt.primary700};-webkit-transition:background-color 150ms ease-in-out;transition:background-color 150ms ease-in-out;}`,`button.selected.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:${qt.primary700};height:4px;}`,`button.selected.__jsx-style-dynamic-selector>svg{fill:${qt.primary700};}`,`button.disabled.__jsx-style-dynamic-selector{color:${Ge.grey500};cursor:not-allowed;}`,"button.disabled.__jsx-style-dynamic-selector:hover,button.selected.__jsx-style-dynamic-selector:hover{background-color:transparent;}",`button.disabled.__jsx-style-dynamic-selector>svg{fill:${Ge.grey500};}`]))});Hu.propTypes={children:he.node,className:he.string,dataTest:he.string,disabled:he.bool,icon:he.element,selected:he.bool,onClick:he.func};Hu.displayName="Tab";const _1=250,ZF=.5;function KF(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=n.scrollLeft,r=QF(n,i,t),a=r-i,o=JF({scrollBox:n,callback:e,startValue:i,endValue:r,change:a});window.requestAnimationFrame(o)}function QF(n,e,t){const i=n.clientWidth*ZF;return Math.floor(e+i*(t?-1:1))}function JF(n){let{scrollBox:e,callback:t,startValue:i,endValue:r,change:a}=n,o,s,d;return function p(m){o||(o=m),s=m-o,d=ej({currentTime:s,DURATION:_1,startValue:i,change:a}),s>=_1?(d!==r&&(e.scrollLeft=r),t&&t()):(e.scrollLeft=d,window.requestAnimationFrame(p))}}function ej(n){let{currentTime:e,startValue:t,change:i}=n;return(e/=_1/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t}let Ax;const w1="__vertical-scrollbar-height-test__",tj=`
    .${w1} {
        position: absolute;
        top: -9999px;
        width: 100px;
        height: 100px;
        overflow-x: scroll;
    }
    .${w1}::-webkit-scrollbar {
        display: none;
    }
`;function nj(){if(Ax)return Ax;const n=document.createElement("style");n.innerHTML=tj;const e=document.createElement("div");return e.classList.add(w1),document.body.appendChild(n),document.body.appendChild(e),Ax=e.offsetHeight-e.clientHeight,document.body.removeChild(n),document.body.removeChild(e),Ax}const Ib=n=>{let{children:e,disabled:t,hidden:i,onClick:r}=n;return Se.createElement("button",{onClick:t?void 0:r,className:Pt.dynamic([["2701682090",[Ge.white,Ge.grey400,Ge.grey600,Ge.grey100,Ge.grey200,Ge.grey500]]])+" "+(Dr("scroll-button",{disabled:t,hidden:i})||"")},e,Se.createElement(Pt,{id:"2701682090",dynamic:[Ge.white,Ge.grey400,Ge.grey600,Ge.grey100,Ge.grey200,Ge.grey500]},[`.scroll-button.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;background-color:${Ge.white};border:none;border-bottom:1px solid ${Ge.grey400};outline:none;padding:16px 16px 11px 16px;cursor:pointer;}`,".scroll-button.hidden.__jsx-style-dynamic-selector{display:none;}",`.scroll-button.__jsx-style-dynamic-selector svg{width:20px;height:20px;fill:${Ge.grey600};-webkit-transition:opacity 150ms ease-in-out;transition:opacity 150ms ease-in-out;opacity:1;}`,`.scroll-button.__jsx-style-dynamic-selector:hover{background-color:${Ge.grey100};}`,`.scroll-button.__jsx-style-dynamic-selector:active{background-color:${Ge.grey200};}`,".scroll-button.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;}",".scroll-button.disabled.__jsx-style-dynamic-selector:hover{background-color:transparent;}",`.scroll-button.disabled.__jsx-style-dynamic-selector svg{fill:${Ge.grey500};}`]))};Ib.displayName="ScrollButton";Ib.propTypes={children:he.any.isRequired,disabled:he.bool,hidden:he.bool,onClick:he.func};function Du(n,e,t){return(e=ij(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ij(n){var e=rj(n,"string");return typeof e=="symbol"?e:e+""}function rj(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class JI extends Oe.Component{constructor(e){super(e),Du(this,"scrollBox",Oe.createRef()),Du(this,"scrollArea",Oe.createRef()),Du(this,"horizontalScrollBarHeight",nj()),Du(this,"scrollBoxResizeObserver",null),Du(this,"calculateShouldHideButtons",()=>{this.setState({hideScrollButtonsInitialized:!1});const{current:t}=this.scrollBox,{current:i}=this.scrollArea,r=i.offsetWidth,a=t.offsetWidth,o=r<=a;this.setState({hideScrollButtons:o}),o||(this.state.scrolledToStart&&this.scrollLeft(),this.state.scrolledToEnd&&this.scrollRight()),this.setState({hideScrollButtonsInitialized:!0})}),Du(this,"scrollRight",()=>this.scroll()),Du(this,"scrollLeft",()=>this.scroll(!0)),Du(this,"animatedScrollCallback",()=>{this.updateScrolledToStates(),this.attachSideScrollListener()}),Du(this,"updateScrolledToStates",()=>{const{scrollLeft:t,offsetWidth:i}=this.scrollBox.current,{offsetWidth:r}=this.scrollArea.current,a=t<=0,o=t+i>=r;(this.state.scrolledToStart!==a||this.state.scrolledToEnd!==o)&&this.setState({scrolledToStart:a,scrolledToEnd:o})}),this.state={scrolledToStart:!0,scrolledToEnd:!1,hideScrollButtonsInitialized:!1,hideScrollButtons:!1},this.scrollBoxResizeObserver=new ResizeObserver(this.calculateShouldHideButtons)}componentDidMount(){this.scrollSelectedTabIntoView(),this.attachSideScrollListener(),this.manageShouldHideButtons()}componentWillUnmount(){this.removeSideScrollListener(),this.scrollBoxResizeObserver.disconnect()}manageShouldHideButtons(){const{current:e}=this.scrollBox;this.scrollBoxResizeObserver.observe(e),this.calculateShouldHideButtons()}scroll(e){this.removeSideScrollListener(),KF(this.scrollBox.current,this.animatedScrollCallback,e)}scrollSelectedTabIntoView(){const e=this.scrollBox.current,t=e.querySelector(".tab.selected");if(t){const i=t.offsetLeft+t.offsetWidth;i>e.offsetWidth&&(e.scrollLeft=i-e.offsetWidth)}}attachSideScrollListener(){this.scrollBox.current.addEventListener("scroll",this.updateScrolledToStates)}removeSideScrollListener(){this.scrollBox.current.removeEventListener("scroll",this.updateScrolledToStates)}render(){const{scrolledToStart:e,scrolledToEnd:t,hideScrollButtonsInitialized:i,hideScrollButtons:r}=this.state,{children:a,className:o,dataTest:s}=this.props,d=!i||r;return Se.createElement("div",{"data-test":s,className:"jsx-191575146 "+Pt.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" "+(Dr("scroll-bar",o)||"")},Se.createElement(Ib,{disabled:e,onClick:this.scrollLeft,hidden:d},Se.createElement(i2,null)),Se.createElement("div",{className:"jsx-191575146 "+Pt.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-box-clipper"},Se.createElement("div",{ref:this.scrollBox,className:"jsx-191575146 "+Pt.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-box"},Se.createElement("div",{ref:this.scrollArea,className:"jsx-191575146 "+Pt.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-area"},a))),Se.createElement(Ib,{disabled:t,onClick:this.scrollRight,hidden:d},Se.createElement(r2,null)),Se.createElement(Pt,{id:"4174900658",dynamic:[-this.horizontalScrollBarHeight]},[`.scroll-box.__jsx-style-dynamic-selector{margin-bottom:${-this.horizontalScrollBarHeight}px;}`]),Se.createElement(Pt,{id:"191575146"},[".scroll-bar.jsx-191575146{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}",".scroll-box-clipper.jsx-191575146{overflow-y:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".scroll-box.jsx-191575146{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow-x:scroll;-webkit-overflow-scrolling:touch;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".scroll-box.jsx-191575146::-webkit-scrollbar{display:none;}",".scroll-area.jsx-191575146{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;overflow-x:hidden;}"]))}}JI.propTypes={children:he.node.isRequired,dataTest:he.string.isRequired,className:he.string};const T1=n=>{let{children:e,fixed:t,dataTest:i}=n;const r=Oe.useRef(null),a=Oe.useMemo(()=>Se.Children.map(e,()=>Se.createRef()),[e]),o=s=>{const d=document.activeElement;if(r.current&&r.current===d){a.length>0&&a[0].current&&a[0].current.focus();return}const p=a.findIndex(m=>m.current===d);if(p!==-1){if(s.key==="ArrowRight"){s.preventDefault();const m=(p+1)%a.length;a[m].current.focus()}if(s.key==="ArrowLeft"){s.preventDefault();const m=(p-1+a.length)%a.length;a[m].current.focus()}}};return Se.createElement("div",{ref:r,"data-test":i,role:"tablist",tabIndex:0,onKeyDown:o,className:Pt.dynamic([["771129571",[Ge.grey400,Ge.white]]])+" "+(Dr({fixed:t})||"")},Se.Children.map(e,(s,d)=>Se.isValidElement(s)?Se.cloneElement(s,{ref:a[d]}):Se.createElement("span",{ref:a[d],tabIndex:-1,className:Pt.dynamic([["771129571",[Ge.grey400,Ge.white]]])},s)),Se.createElement(Pt,{id:"771129571",dynamic:[Ge.grey400,Ge.white]},[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;position:relative;overflow:hidden;box-shadow:inset 0 -1px 0 0 ${Ge.grey400};-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;background:${Ge.white};}`]))};T1.propTypes={dataTest:he.string.isRequired,children:he.node,fixed:he.bool};const E0=n=>{let{fixed:e,children:t,className:i,scrollable:r,dataTest:a="dhis2-uicore-tabbar"}=n;return r?Se.createElement("div",{className:i,"data-test":a},Se.createElement(JI,{dataTest:`${a}-scrollbar`},Se.createElement(T1,{fixed:e,dataTest:`${a}-tabs`},t))):Se.createElement("div",{className:i,"data-test":a},Se.createElement(T1,{fixed:e,dataTest:`${a}-tabs`},t))};E0.propTypes={children:he.node,className:he.string,dataTest:he.string,fixed:he.bool,scrollable:he.bool};const eA=n=>{let{children:e,dataTest:t}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["1457814848",[jt.dp8]]])},e,Se.createElement(Pt,{id:"1457814848",dynamic:[jt.dp8]},[`div.__jsx-style-dynamic-selector{-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:0 ${jt.dp8};}`,"div.__jsx-style-dynamic-selector>button{margin-top:8px;}","div.__jsx-style-dynamic-selector>button:first-child{margin-top:0;}"]))};eA.propTypes={dataTest:he.string.isRequired,children:he.node};const zr=["svg.jsx-2392683210{min-width:20px;}","div.centerButton.jsx-2392683210:dir(rtl){-webkit-transform:rotate(180deg) translateX(4px);-ms-transform:rotate(180deg) translateX(4px);transform:rotate(180deg) translateX(4px);}"];zr.__hash="2392683210";const tA=n=>{let{dataTest:e,disabled:t}=n;return Se.createElement("div",{className:`jsx-${zr.__hash} centerButton`},Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16","data-test":e,fill:t?qt.disabled:"#404B5A",className:`jsx-${zr.__hash}`},Se.createElement("g",{fillRule:"evenodd",className:`jsx-${zr.__hash}`},Se.createElement("polygon",{fillRule:"nonzero",points:"6 2 4.94 3.06 9.13 7.25 0 7.25 0 8.75 9.13 8.75 4.94 12.94 6 14 12 8",className:`jsx-${zr.__hash}`}),Se.createElement("polygon",{fillRule:"nonzero",points:"10 2 8.94 3.06 13.13 7.25 13.9 8 13.13 8.75 8.94 12.94 10 14 16 8",className:`jsx-${zr.__hash}`}))),Se.createElement(Pt,{id:zr.__hash},zr))};tA.propTypes={dataTest:he.string.isRequired,disabled:he.bool};const nA=n=>{let{dataTest:e,disabled:t}=n;return Se.createElement("div",{className:`jsx-${zr.__hash} centerButton`},Se.createElement("svg",{fill:t?qt.disabled:"#404B5A",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16","data-test":e,className:`jsx-${zr.__hash}`},Se.createElement("polygon",{points:"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8",className:`jsx-${zr.__hash}`})),Se.createElement(Pt,{id:zr.__hash},zr))};nA.propTypes={dataTest:he.string.isRequired,disabled:he.bool};const iA=n=>{let{dataTest:e,disabled:t}=n;return Se.createElement("div",{className:`jsx-${zr.__hash} centerButton`},Se.createElement("svg",{fill:t?qt.disabled:"#404B5A",width:"16px",height:"16px",viewBox:"0 0 16 16","data-test":e,xmlns:"http://www.w3.org/2000/svg",className:`jsx-${zr.__hash}`},Se.createElement("g",{fillRule:"evenodd",className:`jsx-${zr.__hash}`},Se.createElement("polygon",{fillRule:"nonzero",points:"10 2 8.94 3.06 13.13 7.25 4 7.25 4 8.75 13.13 8.75 8.94 12.94 10 14 16 8",transform:"matrix(-1 0 0 1 20 0)",className:`jsx-${zr.__hash}`}),Se.createElement("polygon",{fillRule:"nonzero",points:"1.06 2 0 3.06 4.19 7.25 4.96 8 4.19 8.75 0 12.94 1.06 14 7.06 8",transform:"matrix(-1 0 0 1 7.06 0)",className:`jsx-${zr.__hash}`}))),Se.createElement(Pt,{id:zr.__hash},zr))};iA.propTypes={dataTest:he.string.isRequired,disabled:he.bool};const rA=n=>{let{dataTest:e,disabled:t}=n;return Se.createElement("div",{className:`jsx-${zr.__hash} centerButton`},Se.createElement("svg",{fill:t?qt.disabled:"#404B5A",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16","data-test":e,className:`jsx-${zr.__hash}`},Se.createElement("polygon",{points:"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8",transform:"matrix(-1 0 0 1 16 0)",className:`jsx-${zr.__hash}`})),Se.createElement(Pt,{id:zr.__hash},zr))};rA.propTypes={dataTest:he.string.isRequired,disabled:he.bool};const aA=n=>{let{dataTest:e,disabled:t}=n;return Se.createElement("svg",{fill:t?qt.disabled:"#404B5A",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16","data-test":e},Se.createElement("polygon",{points:"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8",transform:"matrix(0 1 1 0 0 0)"}))};aA.propTypes={dataTest:he.string.isRequired,disabled:he.bool};const sA=n=>{let{dataTest:e,disabled:t}=n;return Se.createElement("svg",{fill:t?qt.disabled:"#404B5A",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16","data-test":e},Se.createElement("polygon",{points:"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8",transform:"rotate(-90 8 8)"}))};sA.propTypes={dataTest:he.string.isRequired,disabled:he.bool};const oA=n=>{let{label:e,dataTest:t,disabled:i,onClick:r}=n;return Se.createElement(vi,{dataTest:t,disabled:i,onClick:r,icon:Se.createElement(tA,{dataTest:`${t}-iconaddall`,disabled:i})},e)};oA.propTypes={dataTest:he.string.isRequired,onClick:he.func.isRequired,disabled:he.bool,label:he.string};const lA=n=>{let{label:e,dataTest:t,disabled:i,onClick:r}=n;return Se.createElement(vi,{dataTest:t,disabled:i,onClick:r,icon:Se.createElement(nA,{disabled:i,dataTest:`${t}-iconaddindividual`})},e)};lA.propTypes={dataTest:he.string.isRequired,onClick:he.func.isRequired,disabled:he.bool,label:he.string};const cA=n=>{let{children:e,dataTest:t,className:i,height:r}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["3332822660",[r]]])+" "+(i||"")},e,Se.createElement(Pt,{id:"3332822660",dynamic:[r]},[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:${r};}`]))};cA.propTypes={height:he.string.isRequired,children:he.node,className:he.string,dataTest:he.string};const S1=n=>{let{dataTest:e,filter:t,onChange:i,label:r,placeholder:a}=n;return Se.createElement("div",{"data-test":e,className:Pt.dynamic([["3679907342",[jt.dp8,jt.dp8]]])},Se.createElement(ZL,{label:r,name:e,dataTest:`${e}-field`},Se.createElement(XL,{dense:!0,dataTest:`${e}-input`,type:"search",placeholder:a,value:t,onChange:i})),Se.createElement(Pt,{id:"3679907342",dynamic:[jt.dp8,jt.dp8]},[`div.__jsx-style-dynamic-selector{padding-bottom:${jt.dp8};}`,`div.__jsx-style-dynamic-selector:first-child{padding-top:${jt.dp8};}`]))};S1.propTypes={dataTest:he.string.isRequired,filter:he.string.isRequired,onChange:he.func.isRequired,label:he.string,placeholder:he.string};const ik="REPLACE_MODE",uA="ADD_MODE",dA="RANGE_MODE",Qm=Ge.white,xs=Ge.grey400,Jm="3px",aj=(n,e)=>n.label===e.label&&n.value===e.value,sj=(n,e)=>n.findIndex(t=>aj(t,e)),oj=n=>{let{altKey:e,shiftKey:t,ctrlKey:i,metaKey:r}=n;return[e,t,i,r].filter(d=>d).length!==1?ik:e||i||r?uA:t?dA:ik},lj=(n,e)=>{const t=n.indexOf(e);if(t===-1)return[...n,e];t===0&&n.slice(1);const i=n.slice(0,t),r=n.slice(t+1);return[...i,...r]},hA=n=>{let{children:e,dataTest:t}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["3629116366",[xs,jt.dp8]]])},e,Se.createElement(Pt,{id:"3629116366",dynamic:[xs,jt.dp8]},[`div.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;border-top:1px solid ${xs};padding:0 ${jt.dp8};}`]))};hA.propTypes={children:he.node,dataTest:he.string};const pA=n=>{let{children:e,dataTest:t}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["2175954399",[xs,jt.dp8]]])},e,Se.createElement(Pt,{id:"2175954399",dynamic:[xs,jt.dp8]},[`div.__jsx-style-dynamic-selector{border-bottom:1px solid ${xs};-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;padding:0 ${jt.dp8};}`]))};pA.propTypes={children:he.node,dataTest:he.string};const mA=n=>{let{children:e,dataTest:t,width:i}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["4143353612",[Qm,Jm,xs,i]]])},e,"",Se.createElement(Pt,{id:"4143353612",dynamic:[Qm,Jm,xs,i]},[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:${Qm};border-radius:${Jm};border:1px solid ${xs};min-height:240px;max-width:100%;width:${i};}`]))};mA.propTypes={width:he.string.isRequired,children:he.node,dataTest:he.string};const fA=n=>{let{rootRef:e,onEndReached:t,dataTest:i}=n;return Se.createElement("div",{"data-test":i,className:"jsx-2799340139"},Se.createElement(MI,{rootRef:e,onChange:r=>{let{isIntersecting:a}=r;return a&&t()}}),Se.createElement(Pt,{id:"2799340139"},["div.jsx-2799340139{width:100%;height:50px;position:absolute;z-index:-1;bottom:0;inset-inline-start:0;}"]))};fA.propTypes={rootRef:he.shape({current:he.instanceOf(HTMLElement)}).isRequired,onEndReached:he.func.isRequired,dataTest:he.string};const cj=n=>{const[e,t]=Oe.useState(-1);return Oe.useEffect(()=>{let i=e;if(n){const r=new ResizeObserver(()=>{++i,t(i)});return r.observe(n),()=>r.disconnect()}},[n,t]),e<1?0:e},C1=n=>{let{dataTest:e,emptyComponent:t,onEndReached:i,getOptionClickHandlers:r,highlightedOptions:a,loading:o,renderOption:s,options:d,selected:p=!1,selectionHandler:m,toggleHighlightedOption:y}=n;const g=Oe.useRef(null),_=Oe.useRef(null),x=cj(_.current);return Se.createElement("div",{className:"jsx-1882699425 optionsContainer"},o&&Se.createElement("div",{className:"jsx-1882699425 loading"},Se.createElement(Df,null)),Se.createElement("div",{"data-test":e,ref:g,className:"jsx-1882699425 container"},Se.createElement("div",{ref:_,className:"jsx-1882699425 content-container"},!d.length&&t,d.map(T=>{const E=!!a.find(k=>k===T.value);return Se.createElement(Oe.Fragment,{key:T.value},s({...T,...r(T,m,y),highlighted:E,selected:p}))}),i&&Se.createElement(fA,{dataTest:`${e}-endintersectiondetector`,key:`key-${x}`,rootRef:g,onEndReached:i}))),Se.createElement(Pt,{id:"1882699425"},[".optionsContainer.jsx-1882699425{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;overflow:hidden;}",".container.jsx-1882699425{overflow-y:auto;height:100%;}",".loading.jsx-1882699425{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;z-index:2;top:0;inset-inline-start:0;}",".content-container.jsx-1882699425{z-index:1;position:relative;}",".loading.jsx-1882699425+.container.jsx-1882699425 .content-container.jsx-1882699425{-webkit-filter:blur(2px);filter:blur(2px);}"]))};C1.propTypes={dataTest:he.string.isRequired,getOptionClickHandlers:he.func.isRequired,emptyComponent:he.node,highlightedOptions:he.arrayOf(he.string),loading:he.bool,options:he.arrayOf(he.shape({label:he.string.isRequired,value:he.string.isRequired})),renderOption:he.func,selected:he.bool,selectionHandler:he.func,toggleHighlightedOption:he.func,onEndReached:he.func};const gA=n=>{let{label:e,dataTest:t,disabled:i,onClick:r}=n;return Se.createElement(vi,{dataTest:t,disabled:i,onClick:r,icon:Se.createElement(iA,{disabled:i,dataTest:`${t}-iconremoveall`})},e)};gA.propTypes={dataTest:he.string.isRequired,onClick:he.func.isRequired,disabled:he.bool,label:he.string};const yA=n=>{let{label:e,dataTest:t,disabled:i,onClick:r}=n;return Se.createElement(vi,{dataTest:t,disabled:i,onClick:r,icon:Se.createElement(rA,{disabled:i,dataTest:`${t}-iconremoveindividual`})},e)};yA.propTypes={dataTest:he.string.isRequired,onClick:he.func.isRequired,disabled:he.bool,label:he.string};const vA=n=>{let{dataTest:e,disabledDown:t,disabledUp:i,onChangeUp:r,onChangeDown:a}=n;return Se.createElement("div",{"data-test":e,className:Pt.dynamic([["874845231",[jt.dp8,jt.dp8,jt.dp8]]])},Se.createElement(vi,{small:!0,disabled:t,onClick:()=>!t&&a(event),dataTest:`${e}-buttonmovedown`,icon:Se.createElement(aA,{dataTest:`${e}-iconmovedown`,disabled:t})}),Se.createElement(vi,{small:!0,disabled:i,onClick:()=>!i&&r(event),dataTest:`${e}-buttonmoveup`,icon:Se.createElement(sA,{dataTest:`${e}-iconmoveup`,disabled:i})}),Se.createElement(Pt,{id:"874845231",dynamic:[jt.dp8,jt.dp8,jt.dp8]},[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;padding-top:${jt.dp8};}`,`div.__jsx-style-dynamic-selector:last-child{padding-bottom:${jt.dp8};}`,`div.__jsx-style-dynamic-selector>button:first-child{margin-inline-start:${jt.dp8};}`]))};vA.propTypes={dataTest:he.string.isRequired,onChangeDown:he.func.isRequired,onChangeUp:he.func.isRequired,disabledDown:he.bool,disabledUp:he.bool};const xA=n=>{let{children:e,dataTest:t}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["3629116366",[xs,jt.dp8]]])},e,Se.createElement(Pt,{id:"3629116366",dynamic:[xs,jt.dp8]},[`div.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;border-top:1px solid ${xs};padding:0 ${jt.dp8};}`]))};xA.propTypes={children:he.node,dataTest:he.string};const bA=n=>{let{children:e,dataTest:t}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["2175954399",[xs,jt.dp8]]])},e,Se.createElement(Pt,{id:"2175954399",dynamic:[xs,jt.dp8]},[`div.__jsx-style-dynamic-selector{border-bottom:1px solid ${xs};-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;padding:0 ${jt.dp8};}`]))};bA.propTypes={children:he.node,dataTest:he.string};const _A=n=>{let{children:e,dataTest:t,width:i}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["1391448013",[Qm,xs,Jm,i]]])},e,"",Se.createElement(Pt,{id:"1391448013",dynamic:[Qm,xs,Jm,i]},[`div.__jsx-style-dynamic-selector{background-color:${Qm};border:1px solid ${xs};border-radius:${Jm};display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-width:100%;width:${i};}`]))};_A.propTypes={width:he.string.isRequired,children:he.node,dataTest:he.string};const uj=n=>{let{sourceOptions:e,onChange:t,selected:i,setHighlightedSourceOptions:r}=n;const o=e.filter(s=>{let{disabled:d}=s;return!d}).reduce((s,d)=>[...s,d.value],i);r([]),t({selected:o})},dj=n=>{let{filterable:e,sourceOptions:t,highlightedSourceOptions:i,maxSelections:r,onChange:a,selected:o,setHighlightedSourceOptions:s}=n;const d=e?i.filter(m=>t.find(y=>y.value===m)):i,p=d.reduce((m,y)=>[...m,d.find(g=>g===y)],o);s([]),a({selected:p.slice(-1*r)})},hj=n=>{let{maxSelections:e,onChange:t,selected:i,setHighlightedPickedOptions:r,setHighlightedSourceOptions:a}=n;return{selectSingleOption:d=>{let{value:p}=d;const m=i.includes(p)?i:[...i,p];a([]),t({selected:m.slice(-1*e)})},deselectSingleOption:d=>{let{value:p}=d;const m=i.filter(y=>y!==p);r([]),t({selected:m})}}},rk=(n,e)=>e===""?n:n.filter(t=>{let{label:i}=t;return i.match(new RegExp(e,"i"))}),ak=(n,e,t)=>({onClick:(i,r)=>{const a=oj(r);t({option:n,mode:a})},onDoubleClick:e}),pj=n=>{let{highlightedPickedOptions:e,selected:t}=n;return e.length!==1||t.indexOf(e[0])===t.length-1},mj=n=>{let{highlightedPickedOptions:e,selected:t}=n;return e.length!==1||t.indexOf(e[0])===0},fj=n=>{let{selected:e,highlightedPickedOptions:t,onChange:i}=n;const r=e.findIndex(o=>o===t[0]);if(r===-1||r>e.length-2)return;const a=[...e.slice(0,r),e[r+1],e[r],...e.slice(r+2)];i({selected:a})},gj=n=>{let{selected:e,highlightedPickedOptions:t,onChange:i}=n;const r=e.findIndex(o=>o===t[0]);if(r<1)return;const a=[...e.slice(0,r-1),e[r],e[r-1],...e.slice(r+1)];i({selected:a})},yj=n=>{let{setHighlightedPickedOptions:e,onChange:t}=n;e([]),t({selected:[]})},vj=n=>{let{filterablePicked:e,pickedOptions:t,highlightedPickedOptions:i,onChange:r,selected:a,setHighlightedPickedOptions:o}=n;const s=e?i.filter(p=>t.find(m=>m.value===p)):i,d=a.filter(p=>!s.includes(p));o([]),r({selected:d})},xj=n=>n,sk=n=>{let{initialSearchTerm:e,onFilterChange:t,externalSearchTerm:i,filterable:r,filterCallback:a}=n;const[o,s]=Oe.useState(e);return{filterValue:t?i:o,filter:r?a:xj,setInternalFilter:s}},bj=n=>{let{highlightedOptions:e,maxSelections:t,option:i,setHighlightedOptions:r}=n;const o=lj(e,i.value).slice(-1*t);r(o)},_j=n=>{let{highlightedOptions:e,options:t,option:i,setHighlightedOptions:r,lastClicked:a,maxSelections:o}=n;if(e.length===0)r([i.value]);else{let s,d;const p=sj(t,i),m=a?t.findIndex(x=>x.value===a):-1;m!==-1?(s=m,d=p):(s=t.findIndex(T=>e.find(E=>E===T.value)),d=p);const y=Math.min(s,d),g=Math.max(s,d),_=t.slice(y,g+1).filter(x=>!x.disabled).slice(o*-1).map(x=>{let{value:T}=x;return T});r(_)}},wj=n=>{let{option:e,highlightedOptions:t,setHighlightedOptions:i}=n;if(t.length>1)i([e.value]);else{const r=t.findIndex(a=>a===e.value);i(r===-1?[e.value]:[])}},Tj=n=>{let{disabled:e,highlightedOptions:t,setHighlightedOptions:i,maxSelections:r,setLastClicked:a,options:o,lastClicked:s}=n;return d=>{let{option:p,mode:m}=d;if(!e)return i([]),m===uA?(a(p.value),bj({highlightedOptions:t,maxSelections:r,option:p,setHighlightedOptions:i})):m===dA?_j({highlightedOptions:t,options:o,option:p,setHighlightedOptions:i,lastClicked:s,maxSelections:r}):(a(p.value),wj({option:p,highlightedOptions:t,setHighlightedOptions:i}))}},ok=n=>{let{disabled:e,maxSelections:t,options:i}=n;const[r,a]=Oe.useState(null),[o,s]=Oe.useState([]),d=Tj({disabled:e,highlightedOptions:o,setHighlightedOptions:s,maxSelections:t,setLastClicked:a,options:i,lastClicked:r});return{highlightedOptions:o,setHighlightedOptions:s,toggleHighlightedOption:d}},Sj=500,wA=n=>{let{className:e,disabled:t,dataTest:i="dhis2-uicore-transferoption",highlighted:r,onClick:a,onDoubleClick:o,label:s,value:d}=n;const p=Oe.useRef(null);return Se.createElement("div",{"data-test":i,onClick:m=>{t||(p.current?(clearTimeout(p.current),p.current=null,o({value:d},m)):(p.current=setTimeout(()=>{clearTimeout(p.current),p.current=null},Sj),a({value:d},m)))},"data-value":d,className:Pt.dynamic([["4053649642",[Ge.grey900,Ge.grey200,Ge.teal700,Ge.white,Ge.grey600,jt.dp4,jt.dp4]]])+" "+(Dr(e,{highlighted:r,disabled:t})||"")},s,Se.createElement(Pt,{id:"4053649642",dynamic:[Ge.grey900,Ge.grey200,Ge.teal700,Ge.white,Ge.grey600,jt.dp4,jt.dp4]},[`div.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;padding:4px 8px;color:${Ge.grey900};-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`,`div.__jsx-style-dynamic-selector:hover{background:${Ge.grey200};}`,`div.highlighted.__jsx-style-dynamic-selector{background:${Ge.teal700};color:${Ge.white};}`,`div.disabled.__jsx-style-dynamic-selector{color:${Ge.grey600};cursor:not-allowed;}`,`div.__jsx-style-dynamic-selector:first-child{margin-block-start:${jt.dp4};}`,`div.__jsx-style-dynamic-selector:last-child{margin-block-end:${jt.dp4};}`]))};wA.propTypes={label:he.node.isRequired,value:he.string.isRequired,className:he.string,dataTest:he.string,disabled:he.bool,highlighted:he.bool,onClick:he.func,onDoubleClick:he.func};const Cj=n=>n,Ej=[],TA=n=>{let{options:e,onChange:t,addAllText:i,addIndividualText:r,className:a,dataTest:o="dhis2-uicore-transfer",disabled:s,enableOrderChange:d,filterCallback:p=rk,filterCallbackPicked:m=rk,filterLabel:y,filterLabelPicked:g,filterPlaceholder:_,filterPlaceholderPicked:x,filterable:T,filterablePicked:E,height:k="240px",hideFilterInput:v,hideFilterInputPicked:w,initialSearchTerm:N="",initialSearchTermPicked:S="",leftFooter:L,leftHeader:O,loadingPicked:Y,loading:X,maxSelections:H=1/0,optionsWidth:$="320px",removeAllText:G,removeIndividualText:B,renderOption:M=kj,rightFooter:D,rightHeader:V,searchTerm:F,searchTermPicked:z,selected:W=Ej,selectedEmptyComponent:q,selectedWidth:ee="320px",sourceEmptyPlaceholder:ue,onFilterChange:ie,onFilterChangePicked:oe,onEndReached:Ee,onEndReachedPicked:me}=n;const{filterValue:Te,filter:K,setInternalFilter:J}=sk({initialSearchTerm:N,onFilterChange:ie,externalSearchTerm:F,filterable:T,filterCallback:p}),se=K(e.filter(Me=>{let{value:je}=Me;return!W.includes(je)}),Te),{highlightedOptions:xe,setHighlightedOptions:Q,toggleHighlightedOption:ae}=ok({options:se,disabled:s,maxSelections:H}),{filterValue:ce,filter:ge,setInternalFilter:be}=sk({filterable:E,initialSearchTerm:S,onFilterChange:oe,externalSearchTerm:z,filterCallback:m});let Le=[];Array.isArray(W)&&(Le=ge(W.map(Me=>e.find(je=>Me===je.value)).filter(Cj),ce));const{highlightedOptions:_e,setHighlightedOptions:Ne,toggleHighlightedOption:$e}=ok({options:Le,disabled:s,maxSelections:H}),{selectSingleOption:Ye,deselectSingleOption:Xe}=hj({selected:W,setHighlightedSourceOptions:Q,setHighlightedPickedOptions:Ne,onChange:t,maxSelections:H}),De=s||se.filter(Me=>{let{disabled:je}=Me;return!je}).length===0,we=s||!xe.length,ke=s||!W.length,ze=s||!_e.length;return Se.createElement(cA,{dataTest:o,className:a,height:k},Se.createElement(mA,{dataTest:`${o}-leftside`,width:$},(O||T)&&Se.createElement(pA,{dataTest:`${o}-leftheader`},O,T&&!v&&Se.createElement(S1,{label:y,placeholder:_,dataTest:`${o}-filter`,filter:Te,onChange:ie||(Me=>{let{value:je}=Me;return J(je)})})),Se.createElement(C1,{dataTest:`${o}-sourceoptions`,emptyComponent:ue,getOptionClickHandlers:ak,highlightedOptions:xe,loading:X,options:se,renderOption:M,selectionHandler:Ye,toggleHighlightedOption:ae,onEndReached:Ee}),L&&Se.createElement(hA,{dataTest:`${o}-leftfooter`},L)),Se.createElement(eA,{dataTest:`${o}-actions`},H===1/0&&Se.createElement(oA,{label:i,dataTest:`${o}-actions-addall`,disabled:De,onClick:()=>uj({sourceOptions:se,selected:W,onChange:t,setHighlightedSourceOptions:Q})}),Se.createElement(lA,{label:r,dataTest:`${o}-actions-addindividual`,disabled:we,onClick:()=>dj({filterable:T,sourceOptions:se,highlightedSourceOptions:xe,selected:W,maxSelections:H,onChange:t,setHighlightedSourceOptions:Q})}),H===1/0&&Se.createElement(gA,{label:G,dataTest:`${o}-actions-removeall`,disabled:ke,onClick:()=>yj({setHighlightedPickedOptions:Ne,onChange:t})}),Se.createElement(yA,{label:B,dataTest:`${o}-actions-removeindividual`,disabled:ze,onClick:()=>vj({filterablePicked:E,pickedOptions:Le,highlightedPickedOptions:_e,onChange:t,selected:W,setHighlightedPickedOptions:Ne})})),Se.createElement(_A,{dataTest:`${o}-rightside`,width:ee},(V||E)&&Se.createElement(bA,{dataTest:`${o}-rightheader`},V,E&&!w&&Se.createElement(S1,{label:g,placeholder:x,dataTest:`${o}-filter`,filter:ce,onChange:oe||(Me=>{let{value:je}=Me;return be(je)})})),Se.createElement(C1,{selected:!0,dataTest:`${o}-pickedoptions`,emptyComponent:q,getOptionClickHandlers:ak,highlightedOptions:_e,loading:Y,options:Le,renderOption:M,selectionHandler:Xe,toggleHighlightedOption:$e,onEndReached:me}),(D||d)&&Se.createElement(xA,{dataTest:`${o}-rightfooter`},d&&Se.createElement(vA,{dataTest:`${o}-reorderingactions`,disabledDown:pj({highlightedPickedOptions:_e,selected:W}),disabledUp:mj({highlightedPickedOptions:_e,selected:W}),onChangeUp:()=>gj({selected:W,highlightedPickedOptions:_e,onChange:t}),onChangeDown:()=>{fj({selected:W,highlightedPickedOptions:_e,onChange:t})}}),D)))},kj=n=>Se.createElement(wA,n);TA.propTypes={options:he.arrayOf(he.shape({label:he.string.isRequired,value:he.string.isRequired,disabled:he.bool})).isRequired,onChange:he.func.isRequired,addAllText:he.string,addIndividualText:he.string,className:he.string,dataTest:he.string,disabled:he.bool,enableOrderChange:he.bool,filterCallback:he.func,filterCallbackPicked:he.func,filterLabel:he.string,filterLabelPicked:he.string,filterPlaceholder:he.string,filterPlaceholderPicked:he.string,filterable:he.bool,filterablePicked:he.bool,height:he.string,hideFilterInput:he.bool,hideFilterInputPicked:he.bool,initialSearchTerm:he.string,initialSearchTermPicked:he.string,leftFooter:he.node,leftHeader:he.node,loading:he.bool,loadingPicked:he.bool,maxSelections:he.oneOf([1,1/0]),optionsWidth:he.string,removeAllText:he.string,removeIndividualText:he.string,renderOption:he.func,rightFooter:he.node,rightHeader:he.node,searchTerm:he.string,searchTermPicked:he.string,selected:he.arrayOf(he.string),selectedEmptyComponent:he.node,selectedWidth:he.string,sourceEmptyPlaceholder:he.node,onEndReached:he.func,onEndReachedPicked:he.func,onFilterChange:he.func,onFilterChangePicked:he.func};var HT={};Object.defineProperty(HT,"__esModule",{value:!0});HT.parse=Mj;HT.serialize=Oj;const Nj=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Lj=/^[\u0021-\u003A\u003C-\u007E]*$/,Ij=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Aj=/^[\u0020-\u003A\u003D-\u007E]*$/,Pj=Object.prototype.toString,Dj=(()=>{const n=function(){};return n.prototype=Object.create(null),n})();function Mj(n,e){const t=new Dj,i=n.length;if(i<2)return t;const r=(e==null?void 0:e.decode)||Rj;let a=0;do{const o=n.indexOf("=",a);if(o===-1)break;const s=n.indexOf(";",a),d=s===-1?i:s;if(o>d){a=n.lastIndexOf(";",o-1)+1;continue}const p=lk(n,a,o),m=ck(n,o,p),y=n.slice(p,m);if(t[y]===void 0){let g=lk(n,o+1,d),_=ck(n,d,g);const x=r(n.slice(g,_));t[y]=x}a=d+1}while(a<i);return t}function lk(n,e,t){do{const i=n.charCodeAt(e);if(i!==32&&i!==9)return e}while(++e<t);return t}function ck(n,e,t){for(;e>t;){const i=n.charCodeAt(--e);if(i!==32&&i!==9)return e+1}return t}function Oj(n,e,t){const i=(t==null?void 0:t.encode)||encodeURIComponent;if(!Nj.test(n))throw new TypeError(`argument name is invalid: ${n}`);const r=i(e);if(!Lj.test(r))throw new TypeError(`argument val is invalid: ${e}`);let a=n+"="+r;if(!t)return a;if(t.maxAge!==void 0){if(!Number.isInteger(t.maxAge))throw new TypeError(`option maxAge is invalid: ${t.maxAge}`);a+="; Max-Age="+t.maxAge}if(t.domain){if(!Ij.test(t.domain))throw new TypeError(`option domain is invalid: ${t.domain}`);a+="; Domain="+t.domain}if(t.path){if(!Aj.test(t.path))throw new TypeError(`option path is invalid: ${t.path}`);a+="; Path="+t.path}if(t.expires){if(!$j(t.expires)||!Number.isFinite(t.expires.valueOf()))throw new TypeError(`option expires is invalid: ${t.expires}`);a+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(a+="; HttpOnly"),t.secure&&(a+="; Secure"),t.partitioned&&(a+="; Partitioned"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${t.priority}`)}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${t.sameSite}`)}return a}function Rj(n){if(n.indexOf("%")===-1)return n;try{return decodeURIComponent(n)}catch{return n}}function $j(n){return Pj.call(n)==="[object Date]"}/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uk="popstate";function zj(n={}){function e(r,a){let{pathname:o="/",search:s="",hash:d=""}=ld(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ly("",{pathname:o,search:s,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let o=r.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let d=r.location.href,p=d.indexOf("#");s=p===-1?d:d.slice(0,p)}return s+"#"+(typeof a=="string"?a:Kd(a))}function i(r,a){es(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return jj(e,t,i,n)}function Bi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function es(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fj(){return Math.random().toString(36).substring(2,10)}function dk(n,e){return{usr:n.state,key:n.key,idx:e}}function Ly(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ld(e):e,state:t,key:e&&e.key||i||Fj()}}function Kd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ld(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function jj(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,s="POP",d=null,p=m();p==null&&(p=0,o.replaceState({...o.state,idx:p},""));function m(){return(o.state||{idx:null}).idx}function y(){s="POP";let E=m(),k=E==null?null:E-p;p=E,d&&d({action:s,location:T.location,delta:k})}function g(E,k){s="PUSH";let v=Ly(T.location,E,k);t(v,E),p=m()+1;let w=dk(v,p),N=T.createHref(v);try{o.pushState(w,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(N)}a&&d&&d({action:s,location:T.location,delta:1})}function _(E,k){s="REPLACE";let v=Ly(T.location,E,k);t(v,E),p=m();let w=dk(v,p),N=T.createHref(v);o.replaceState(w,"",N),a&&d&&d({action:s,location:T.location,delta:0})}function x(E){let k=r.location.origin!=="null"?r.location.origin:r.location.href,v=typeof E=="string"?E:Kd(E);return v=v.replace(/ $/,"%20"),Bi(k,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,k)}let T={get action(){return s},get location(){return n(r,o)},listen(E){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(uk,y),d=E,()=>{r.removeEventListener(uk,y),d=null}},createHref(E){return e(r,E)},createURL:x,encodeLocation(E){let k=x(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:_,go(E){return o.go(E)}};return T}var Bj=new Set(["lazy","caseSensitive","path","id","index","children"]);function Uj(n){return n.index===!0}function Ab(n,e,t=[],i={}){return n.map((r,a)=>{let o=[...t,String(a)],s=typeof r.id=="string"?r.id:o.join("-");if(Bi(r.index!==!0||!r.children,"Cannot specify children on an index route"),Bi(!i[s],`Found a route id collision on id "${s}".  Route id's must be globally unique within Data Router usages`),Uj(r)){let d={...r,...e(r),id:s};return i[s]=d,d}else{let d={...r,...e(r),id:s,children:void 0};return i[s]=d,r.children&&(d.children=Ab(r.children,e,o,i)),d}})}function Rd(n,e,t="/"){return ob(n,e,t,!1)}function ob(n,e,t,i){let r=typeof e=="string"?ld(e):e,a=yc(r.pathname||"/",t);if(a==null)return null;let o=SA(n);Yj(o);let s=null;for(let d=0;s==null&&d<o.length;++d){let p=tB(a);s=Jj(o[d],p,i)}return s}function Gj(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function SA(n,e=[],t=[],i=""){let r=(a,o,s)=>{let d={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};d.relativePath.startsWith("/")&&(Bi(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let p=Qc([i,d.relativePath]),m=t.concat(d);a.children&&a.children.length>0&&(Bi(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),SA(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:Kj(p,a.index),routesMeta:m})};return n.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))r(a,o);else for(let d of CA(a.path))r(a,o,d)}),e}function CA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let o=CA(i.join("/")),s=[];return s.push(...o.map(d=>d===""?a:[a,d].join("/"))),r&&s.push(...o),s.map(d=>n.startsWith("/")&&d===""?"/":d)}function Yj(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Qj(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Vj=/^:[\w-]+$/,Wj=3,qj=2,Hj=1,Xj=10,Zj=-2,hk=n=>n==="*";function Kj(n,e){let t=n.split("/"),i=t.length;return t.some(hk)&&(i+=Zj),e&&(i+=qj),t.filter(r=>!hk(r)).reduce((r,a)=>r+(Vj.test(a)?Wj:a===""?Hj:Xj),i)}function Qj(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Jj(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",o=[];for(let s=0;s<i.length;++s){let d=i[s],p=s===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=Pb({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),g=d.route;if(!y&&p&&t&&!i[i.length-1].route.index&&(y=Pb({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(r,y.params),o.push({params:r,pathname:Qc([a,y.pathname]),pathnameBase:rB(Qc([a,y.pathnameBase])),route:g}),y.pathnameBase!=="/"&&(a=Qc([a,y.pathnameBase]))}return o}function Pb(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=eB(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:y},g)=>{if(m==="*"){let x=s[g]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const _=s[g];return y&&!_?p[m]=void 0:p[m]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:o,pattern:n}}function eB(n,e=!1,t=!0){es(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,d)=>(i.push({paramName:s,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function tB(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return es(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function yc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function nB(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?ld(n):n;return{pathname:t?t.startsWith("/")?t:iB(t,e):e,search:aB(i),hash:sB(r)}}function iB(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function hw(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function k0(n){let e=EA(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function N0(n,e,t,i=!1){let r;typeof n=="string"?r=ld(n):(r={...n},Bi(!r.pathname||!r.pathname.includes("?"),hw("?","pathname","search",r)),Bi(!r.pathname||!r.pathname.includes("#"),hw("#","pathname","hash",r)),Bi(!r.search||!r.search.includes("#"),hw("#","search","hash",r)));let a=n===""||r.pathname==="",o=a?"/":r.pathname,s;if(o==null)s=t;else{let y=e.length-1;if(!i&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),y-=1;r.pathname=g.join("/")}s=y>=0?e[y]:"/"}let d=nB(r,s),p=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Qc=n=>n.join("/").replace(/\/\/+/g,"/"),rB=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),aB=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sB=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Db=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function L0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var kA=["POST","PUT","PATCH","DELETE"],oB=new Set(kA),lB=["GET",...kA],cB=new Set(lB),uB=new Set([301,302,303,307,308]),dB=new Set([307,308]),pw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hB={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Jg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pB=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),NA="remix-router-transitions",LA=Symbol("ResetLoaderData");function mB(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Bi(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||pB,r={},a=Ab(n.routes,i,void 0,r),o,s=n.basename||"/",d=n.dataStrategy||xB,p=n.patchRoutesOnNavigation,m={...n.future},y=null,g=new Set,_=null,x=null,T=null,E=n.hydrationData!=null,k=Rd(a,n.history.location,s),v=null;if(k==null&&!p){let dt=zl(404,{pathname:n.history.location.pathname}),{matches:xt,route:Dt}=Tk(a);k=xt,v={[Dt.id]:dt}}k&&!n.hydrationData&&ii(k,a,n.history.location.pathname).active&&(k=null);let w;if(k)if(k.some(dt=>dt.route.lazy))w=!1;else if(!k.some(dt=>dt.route.loader))w=!0;else{let dt=n.hydrationData?n.hydrationData.loaderData:null,xt=n.hydrationData?n.hydrationData.errors:null;if(xt){let Dt=k.findIndex(Gt=>xt[Gt.route.id]!==void 0);w=k.slice(0,Dt+1).every(Gt=>!k1(Gt.route,dt,xt))}else w=k.every(Dt=>!k1(Dt.route,dt,xt))}else{w=!1,k=[];let dt=ii(null,a,n.history.location.pathname);dt.active&&dt.matches&&(k=dt.matches)}let N,S={historyAction:n.history.action,location:n.history.location,matches:k,initialized:w,navigation:pw,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||v,fetchers:new Map,blockers:new Map},L="POP",O=!1,Y,X=!1,H=new Map,$=null,G=!1,B=!1,M=new Set,D=new Map,V=0,F=-1,z=new Map,W=new Set,q=new Map,ee=new Map,ue=new Set,ie=new Map,oe,Ee=null;function me(){if(y=n.history.listen(({action:dt,location:xt,delta:Dt})=>{if(oe){oe(),oe=void 0;return}es(ie.size===0||Dt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Gt=Ct({currentLocation:S.location,nextLocation:xt,historyAction:dt});if(Gt&&Dt!=null){let Qt=new Promise(Tn=>{oe=Tn});n.history.go(Dt*-1),mt(Gt,{state:"blocked",location:xt,proceed(){mt(Gt,{state:"proceeding",proceed:void 0,reset:void 0,location:xt}),Qt.then(()=>n.history.go(Dt))},reset(){let Tn=new Map(S.blockers);Tn.set(Gt,Jg),J({blockers:Tn})}});return}return ae(dt,xt)}),t){IB(e,H);let dt=()=>AB(e,H);e.addEventListener("pagehide",dt),$=()=>e.removeEventListener("pagehide",dt)}return S.initialized||ae("POP",S.location,{initialHydration:!0}),N}function Te(){y&&y(),$&&$(),g.clear(),Y&&Y.abort(),S.fetchers.forEach((dt,xt)=>je(xt)),S.blockers.forEach((dt,xt)=>$t(xt))}function K(dt){return g.add(dt),()=>g.delete(dt)}function J(dt,xt={}){S={...S,...dt};let Dt=[],Gt=[];S.fetchers.forEach((Qt,Tn)=>{Qt.state==="idle"&&(ue.has(Tn)?Dt.push(Tn):Gt.push(Tn))}),ue.forEach(Qt=>{!S.fetchers.has(Qt)&&!D.has(Qt)&&Dt.push(Qt)}),[...g].forEach(Qt=>Qt(S,{deletedFetchers:Dt,viewTransitionOpts:xt.viewTransitionOpts,flushSync:xt.flushSync===!0})),Dt.forEach(Qt=>je(Qt)),Gt.forEach(Qt=>S.fetchers.delete(Qt))}function se(dt,xt,{flushSync:Dt}={}){var ye,Ae;let Gt=S.actionData!=null&&S.navigation.formMethod!=null&&hc(S.navigation.formMethod)&&S.navigation.state==="loading"&&((ye=dt.state)==null?void 0:ye._isRedirect)!==!0,Qt;xt.actionData?Object.keys(xt.actionData).length>0?Qt=xt.actionData:Qt=null:Gt?Qt=S.actionData:Qt=null;let Tn=xt.loaderData?_k(S.loaderData,xt.loaderData,xt.matches||[],xt.errors):S.loaderData,Gn=S.blockers;Gn.size>0&&(Gn=new Map(Gn),Gn.forEach((Be,Ze)=>Gn.set(Ze,Jg)));let vn=O===!0||S.navigation.formMethod!=null&&hc(S.navigation.formMethod)&&((Ae=dt.state)==null?void 0:Ae._isRedirect)!==!0;o&&(a=o,o=void 0),G||L==="POP"||(L==="PUSH"?n.history.push(dt,dt.state):L==="REPLACE"&&n.history.replace(dt,dt.state));let Ve;if(L==="POP"){let Be=H.get(S.location.pathname);Be&&Be.has(dt.pathname)?Ve={currentLocation:S.location,nextLocation:dt}:H.has(dt.pathname)&&(Ve={currentLocation:dt,nextLocation:S.location})}else if(X){let Be=H.get(S.location.pathname);Be?Be.add(dt.pathname):(Be=new Set([dt.pathname]),H.set(S.location.pathname,Be)),Ve={currentLocation:S.location,nextLocation:dt}}J({...xt,actionData:Qt,loaderData:Tn,historyAction:L,location:dt,initialized:!0,navigation:pw,revalidation:"idle",restoreScrollPosition:hi(dt,xt.matches||S.matches),preventScrollReset:vn,blockers:Gn},{viewTransitionOpts:Ve,flushSync:Dt===!0}),L="POP",O=!1,X=!1,G=!1,B=!1,Ee==null||Ee.resolve(),Ee=null}async function xe(dt,xt){if(typeof dt=="number"){n.history.go(dt);return}let Dt=E1(S.location,S.matches,s,dt,xt==null?void 0:xt.fromRouteId,xt==null?void 0:xt.relative),{path:Gt,submission:Qt,error:Tn}=pk(!1,Dt,xt),Gn=S.location,vn=Ly(S.location,Gt,xt&&xt.state);vn={...vn,...n.history.encodeLocation(vn)};let Ve=xt&&xt.replace!=null?xt.replace:void 0,ye="PUSH";Ve===!0?ye="REPLACE":Ve===!1||Qt!=null&&hc(Qt.formMethod)&&Qt.formAction===S.location.pathname+S.location.search&&(ye="REPLACE");let Ae=xt&&"preventScrollReset"in xt?xt.preventScrollReset===!0:void 0,Be=(xt&&xt.flushSync)===!0,Ze=Ct({currentLocation:Gn,nextLocation:vn,historyAction:ye});if(Ze){mt(Ze,{state:"blocked",location:vn,proceed(){mt(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:vn}),xe(dt,xt)},reset(){let rt=new Map(S.blockers);rt.set(Ze,Jg),J({blockers:rt})}});return}await ae(ye,vn,{submission:Qt,pendingError:Tn,preventScrollReset:Ae,replace:xt&&xt.replace,enableViewTransition:xt&&xt.viewTransition,flushSync:Be})}function Q(){Ee||(Ee=PB()),we(),J({revalidation:"loading"});let dt=Ee.promise;return S.navigation.state==="submitting"?dt:S.navigation.state==="idle"?(ae(S.historyAction,S.location,{startUninterruptedRevalidation:!0}),dt):(ae(L||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:X===!0}),dt)}async function ae(dt,xt,Dt){Y&&Y.abort(),Y=null,L=dt,G=(Dt&&Dt.startUninterruptedRevalidation)===!0,Zt(S.location,S.matches),O=(Dt&&Dt.preventScrollReset)===!0,X=(Dt&&Dt.enableViewTransition)===!0;let Gt=o||a,Qt=Dt&&Dt.overrideNavigation,Tn=Rd(Gt,xt,s),Gn=(Dt&&Dt.flushSync)===!0,vn=ii(Tn,Gt,xt.pathname);if(vn.active&&vn.matches&&(Tn=vn.matches),!Tn){let{error:ct,notFoundMatches:st,route:it}=St(xt.pathname);se(xt,{matches:st,loaderData:{},errors:{[it.id]:ct}},{flushSync:Gn});return}if(S.initialized&&!B&&CB(S.location,xt)&&!(Dt&&Dt.submission&&hc(Dt.submission.formMethod))){se(xt,{matches:Tn},{flushSync:Gn});return}Y=new AbortController;let Ve=Mm(n.history,xt,Y.signal,Dt&&Dt.submission),ye;if(Dt&&Dt.pendingError)ye=[ep(Tn).route.id,{type:"error",error:Dt.pendingError}];else if(Dt&&Dt.submission&&hc(Dt.submission.formMethod)){let ct=await ce(Ve,xt,Dt.submission,Tn,vn.active,{replace:Dt.replace,flushSync:Gn});if(ct.shortCircuited)return;if(ct.pendingActionResult){let[st,it]=ct.pendingActionResult;if(ul(it)&&L0(it.error)&&it.error.status===404){Y=null,se(xt,{matches:ct.matches,loaderData:{},errors:{[st]:it.error}});return}}Tn=ct.matches||Tn,ye=ct.pendingActionResult,Qt=mw(xt,Dt.submission),Gn=!1,vn.active=!1,Ve=Mm(n.history,Ve.url,Ve.signal)}let{shortCircuited:Ae,matches:Be,loaderData:Ze,errors:rt}=await ge(Ve,xt,Tn,vn.active,Qt,Dt&&Dt.submission,Dt&&Dt.fetcherSubmission,Dt&&Dt.replace,Dt&&Dt.initialHydration===!0,Gn,ye);Ae||(Y=null,se(xt,{matches:Be||Tn,...wk(ye),loaderData:Ze,errors:rt}))}async function ce(dt,xt,Dt,Gt,Qt,Tn={}){we();let Gn=NB(xt,Dt);if(J({navigation:Gn},{flushSync:Tn.flushSync===!0}),Qt){let ye=await Si(Gt,xt.pathname,dt.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let Ae=ep(ye.partialMatches).route.id;return{matches:ye.partialMatches,pendingActionResult:[Ae,{type:"error",error:ye.error}]}}else if(ye.matches)Gt=ye.matches;else{let{notFoundMatches:Ae,error:Be,route:Ze}=St(xt.pathname);return{matches:Ae,pendingActionResult:[Ze.id,{type:"error",error:Be}]}}}let vn,Ve=dy(Gt,xt);if(!Ve.route.action&&!Ve.route.lazy)vn={type:"error",error:zl(405,{method:dt.method,pathname:xt.pathname,routeId:Ve.route.id})};else if(vn=(await Xe("action",S,dt,[Ve],Gt,null))[Ve.route.id],dt.signal.aborted)return{shortCircuited:!0};if(rp(vn)){let ye;return Tn&&Tn.replace!=null?ye=Tn.replace:ye=vk(vn.response.headers.get("Location"),new URL(dt.url),s)===S.location.pathname+S.location.search,await Ye(dt,vn,!0,{submission:Dt,replace:ye}),{shortCircuited:!0}}if(ul(vn)){let ye=ep(Gt,Ve.route.id);return(Tn&&Tn.replace)!==!0&&(L="PUSH"),{matches:Gt,pendingActionResult:[ye.route.id,vn]}}return{matches:Gt,pendingActionResult:[Ve.route.id,vn]}}async function ge(dt,xt,Dt,Gt,Qt,Tn,Gn,vn,Ve,ye,Ae){let Be=Qt||mw(xt,Tn),Ze=Tn||Gn||Ck(Be),rt=!G&&!Ve;if(Gt){if(rt){let On=be(Ae);J({navigation:Be,...On!==void 0?{actionData:On}:{}},{flushSync:ye})}let Cn=await Si(Dt,xt.pathname,dt.signal);if(Cn.type==="aborted")return{shortCircuited:!0};if(Cn.type==="error"){let On=ep(Cn.partialMatches).route.id;return{matches:Cn.partialMatches,loaderData:{},errors:{[On]:Cn.error}}}else if(Cn.matches)Dt=Cn.matches;else{let{error:On,notFoundMatches:Xn,route:Yn}=St(xt.pathname);return{matches:Xn,loaderData:{},errors:{[Yn.id]:On}}}}let ct=o||a,[st,it]=fk(n.history,S,Dt,Ze,xt,Ve===!0,B,M,ue,q,W,ct,s,Ae);if(F=++V,st.length===0&&it.length===0){let Cn=ht();return se(xt,{matches:Dt,loaderData:{},errors:Ae&&ul(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...wk(Ae),...Cn?{fetchers:new Map(S.fetchers)}:{}},{flushSync:ye}),{shortCircuited:!0}}if(rt){let Cn={};if(!Gt){Cn.navigation=Be;let On=be(Ae);On!==void 0&&(Cn.actionData=On)}it.length>0&&(Cn.fetchers=Le(it)),J(Cn,{flushSync:ye})}it.forEach(Cn=>{nt(Cn.key),Cn.controller&&D.set(Cn.key,Cn.controller)});let ft=()=>it.forEach(Cn=>nt(Cn.key));Y&&Y.signal.addEventListener("abort",ft);let{loaderResults:Lt,fetcherResults:Ft}=await De(S,Dt,st,it,dt);if(dt.signal.aborted)return{shortCircuited:!0};Y&&Y.signal.removeEventListener("abort",ft),it.forEach(Cn=>D.delete(Cn.key));let Rt=Px(Lt);if(Rt)return await Ye(dt,Rt.result,!0,{replace:vn}),{shortCircuited:!0};if(Rt=Px(Ft),Rt)return W.add(Rt.key),await Ye(dt,Rt.result,!0,{replace:vn}),{shortCircuited:!0};let{loaderData:pn,errors:rn}=bk(S,Dt,Lt,Ae,it,Ft);Ve&&S.errors&&(rn={...S.errors,...rn});let xn=ht(),Sn=gt(F),Hn=xn||Sn||it.length>0;return{matches:Dt,loaderData:pn,errors:rn,...Hn?{fetchers:new Map(S.fetchers)}:{}}}function be(dt){if(dt&&!ul(dt[1]))return{[dt[0]]:dt[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Le(dt){return dt.forEach(xt=>{let Dt=S.fetchers.get(xt.key),Gt=ey(void 0,Dt?Dt.data:void 0);S.fetchers.set(xt.key,Gt)}),new Map(S.fetchers)}async function _e(dt,xt,Dt,Gt){nt(dt);let Qt=(Gt&&Gt.flushSync)===!0,Tn=o||a,Gn=E1(S.location,S.matches,s,Dt,xt,Gt==null?void 0:Gt.relative),vn=Rd(Tn,Gn,s),Ve=ii(vn,Tn,Gn);if(Ve.active&&Ve.matches&&(vn=Ve.matches),!vn){ze(dt,xt,zl(404,{pathname:Gn}),{flushSync:Qt});return}let{path:ye,submission:Ae,error:Be}=pk(!0,Gn,Gt);if(Be){ze(dt,xt,Be,{flushSync:Qt});return}let Ze=dy(vn,ye),rt=(Gt&&Gt.preventScrollReset)===!0;if(Ae&&hc(Ae.formMethod)){await Ne(dt,xt,ye,Ze,vn,Ve.active,Qt,rt,Ae);return}q.set(dt,{routeId:xt,path:ye}),await $e(dt,xt,ye,Ze,vn,Ve.active,Qt,rt,Ae)}async function Ne(dt,xt,Dt,Gt,Qt,Tn,Gn,vn,Ve){we(),q.delete(dt);function ye(gi){if(!gi.route.action&&!gi.route.lazy){let nr=zl(405,{method:Ve.formMethod,pathname:Dt,routeId:xt});return ze(dt,xt,nr,{flushSync:Gn}),!0}return!1}if(!Tn&&ye(Gt))return;let Ae=S.fetchers.get(dt);ke(dt,LB(Ve,Ae),{flushSync:Gn});let Be=new AbortController,Ze=Mm(n.history,Dt,Be.signal,Ve);if(Tn){let gi=await Si(Qt,Dt,Ze.signal);if(gi.type==="aborted")return;if(gi.type==="error"){ze(dt,xt,gi.error,{flushSync:Gn});return}else if(gi.matches){if(Qt=gi.matches,Gt=dy(Qt,Dt),ye(Gt))return}else{ze(dt,xt,zl(404,{pathname:Dt}),{flushSync:Gn});return}}D.set(dt,Be);let rt=V,st=(await Xe("action",S,Ze,[Gt],Qt,dt))[Gt.route.id];if(Ze.signal.aborted){D.get(dt)===Be&&D.delete(dt);return}if(ue.has(dt)){if(rp(st)||ul(st)){ke(dt,Ad(void 0));return}}else{if(rp(st))if(D.delete(dt),F>rt){ke(dt,Ad(void 0));return}else return W.add(dt),ke(dt,ey(Ve)),Ye(Ze,st,!1,{fetcherSubmission:Ve,preventScrollReset:vn});if(ul(st)){ze(dt,xt,st.error);return}}let it=S.navigation.location||S.location,ft=Mm(n.history,it,Be.signal),Lt=o||a,Ft=S.navigation.state!=="idle"?Rd(Lt,S.navigation.location,s):S.matches;Bi(Ft,"Didn't find any matches after fetcher action");let Rt=++V;z.set(dt,Rt);let pn=ey(Ve,st.data);S.fetchers.set(dt,pn);let[rn,xn]=fk(n.history,S,Ft,Ve,it,!1,B,M,ue,q,W,Lt,s,[Gt.route.id,st]);xn.filter(gi=>gi.key!==dt).forEach(gi=>{let nr=gi.key,Rr=S.fetchers.get(nr),xa=ey(void 0,Rr?Rr.data:void 0);S.fetchers.set(nr,xa),nt(nr),gi.controller&&D.set(nr,gi.controller)}),J({fetchers:new Map(S.fetchers)});let Sn=()=>xn.forEach(gi=>nt(gi.key));Be.signal.addEventListener("abort",Sn);let{loaderResults:Hn,fetcherResults:Cn}=await De(S,Ft,rn,xn,ft);if(Be.signal.aborted)return;Be.signal.removeEventListener("abort",Sn),z.delete(dt),D.delete(dt),xn.forEach(gi=>D.delete(gi.key));let On=Px(Hn);if(On)return Ye(ft,On.result,!1,{preventScrollReset:vn});if(On=Px(Cn),On)return W.add(On.key),Ye(ft,On.result,!1,{preventScrollReset:vn});let{loaderData:Xn,errors:Yn}=bk(S,Ft,Hn,void 0,xn,Cn);if(S.fetchers.has(dt)){let gi=Ad(st.data);S.fetchers.set(dt,gi)}gt(Rt),S.navigation.state==="loading"&&Rt>F?(Bi(L,"Expected pending action"),Y&&Y.abort(),se(S.navigation.location,{matches:Ft,loaderData:Xn,errors:Yn,fetchers:new Map(S.fetchers)})):(J({errors:Yn,loaderData:_k(S.loaderData,Xn,Ft,Yn),fetchers:new Map(S.fetchers)}),B=!1)}async function $e(dt,xt,Dt,Gt,Qt,Tn,Gn,vn,Ve){let ye=S.fetchers.get(dt);ke(dt,ey(Ve,ye?ye.data:void 0),{flushSync:Gn});let Ae=new AbortController,Be=Mm(n.history,Dt,Ae.signal);if(Tn){let st=await Si(Qt,Dt,Be.signal);if(st.type==="aborted")return;if(st.type==="error"){ze(dt,xt,st.error,{flushSync:Gn});return}else if(st.matches)Qt=st.matches,Gt=dy(Qt,Dt);else{ze(dt,xt,zl(404,{pathname:Dt}),{flushSync:Gn});return}}D.set(dt,Ae);let Ze=V,ct=(await Xe("loader",S,Be,[Gt],Qt,dt))[Gt.route.id];if(D.get(dt)===Ae&&D.delete(dt),!Be.signal.aborted){if(ue.has(dt)){ke(dt,Ad(void 0));return}if(rp(ct))if(F>Ze){ke(dt,Ad(void 0));return}else{W.add(dt),await Ye(Be,ct,!1,{preventScrollReset:vn});return}if(ul(ct)){ze(dt,xt,ct.error);return}ke(dt,Ad(ct.data))}}async function Ye(dt,xt,Dt,{submission:Gt,fetcherSubmission:Qt,preventScrollReset:Tn,replace:Gn}={}){xt.response.headers.has("X-Remix-Revalidate")&&(B=!0);let vn=xt.response.headers.get("Location");Bi(vn,"Expected a Location header on the redirect Response"),vn=vk(vn,new URL(dt.url),s);let Ve=Ly(S.location,vn,{_isRedirect:!0});if(t){let ct=!1;if(xt.response.headers.has("X-Remix-Reload-Document"))ct=!0;else if(XT.test(vn)){const st=n.history.createURL(vn);ct=st.origin!==e.location.origin||yc(st.pathname,s)==null}if(ct){Gn?e.location.replace(vn):e.location.assign(vn);return}}Y=null;let ye=Gn===!0||xt.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ae,formAction:Be,formEncType:Ze}=S.navigation;!Gt&&!Qt&&Ae&&Be&&Ze&&(Gt=Ck(S.navigation));let rt=Gt||Qt;if(dB.has(xt.response.status)&&rt&&hc(rt.formMethod))await ae(ye,Ve,{submission:{...rt,formAction:vn},preventScrollReset:Tn||O,enableViewTransition:Dt?X:void 0});else{let ct=mw(Ve,Gt);await ae(ye,Ve,{overrideNavigation:ct,fetcherSubmission:Qt,preventScrollReset:Tn||O,enableViewTransition:Dt?X:void 0})}}async function Xe(dt,xt,Dt,Gt,Qt,Tn){let Gn,vn={};try{Gn=await bB(d,dt,xt,Dt,Gt,Qt,Tn,r,i)}catch(Ve){return Gt.forEach(ye=>{vn[ye.route.id]={type:"error",error:Ve}}),vn}for(let[Ve,ye]of Object.entries(Gn))if(EB(ye)){let Ae=ye.result;vn[Ve]={type:"redirect",response:TB(Ae,Dt,Ve,Qt,s)}}else vn[Ve]=await wB(ye);return vn}async function De(dt,xt,Dt,Gt,Qt){let Tn=Xe("loader",dt,Qt,Dt,xt,null),Gn=Promise.all(Gt.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let Be=(await Xe("loader",dt,Mm(n.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:Be}}else return Promise.resolve({[ye.key]:{type:"error",error:zl(404,{pathname:ye.path})}})})),vn=await Tn,Ve=(await Gn).reduce((ye,Ae)=>Object.assign(ye,Ae),{});return{loaderResults:vn,fetcherResults:Ve}}function we(){B=!0,q.forEach((dt,xt)=>{D.has(xt)&&M.add(xt),nt(xt)})}function ke(dt,xt,Dt={}){S.fetchers.set(dt,xt),J({fetchers:new Map(S.fetchers)},{flushSync:(Dt&&Dt.flushSync)===!0})}function ze(dt,xt,Dt,Gt={}){let Qt=ep(S.matches,xt);je(dt),J({errors:{[Qt.route.id]:Dt},fetchers:new Map(S.fetchers)},{flushSync:(Gt&&Gt.flushSync)===!0})}function Me(dt){return ee.set(dt,(ee.get(dt)||0)+1),ue.has(dt)&&ue.delete(dt),S.fetchers.get(dt)||hB}function je(dt){let xt=S.fetchers.get(dt);D.has(dt)&&!(xt&&xt.state==="loading"&&z.has(dt))&&nt(dt),q.delete(dt),z.delete(dt),W.delete(dt),ue.delete(dt),M.delete(dt),S.fetchers.delete(dt)}function Ke(dt){let xt=(ee.get(dt)||0)-1;xt<=0?(ee.delete(dt),ue.add(dt)):ee.set(dt,xt),J({fetchers:new Map(S.fetchers)})}function nt(dt){let xt=D.get(dt);xt&&(xt.abort(),D.delete(dt))}function ot(dt){for(let xt of dt){let Dt=Me(xt),Gt=Ad(Dt.data);S.fetchers.set(xt,Gt)}}function ht(){let dt=[],xt=!1;for(let Dt of W){let Gt=S.fetchers.get(Dt);Bi(Gt,`Expected fetcher: ${Dt}`),Gt.state==="loading"&&(W.delete(Dt),dt.push(Dt),xt=!0)}return ot(dt),xt}function gt(dt){let xt=[];for(let[Dt,Gt]of z)if(Gt<dt){let Qt=S.fetchers.get(Dt);Bi(Qt,`Expected fetcher: ${Dt}`),Qt.state==="loading"&&(nt(Dt),z.delete(Dt),xt.push(Dt))}return ot(xt),xt.length>0}function Tt(dt,xt){let Dt=S.blockers.get(dt)||Jg;return ie.get(dt)!==xt&&ie.set(dt,xt),Dt}function $t(dt){S.blockers.delete(dt),ie.delete(dt)}function mt(dt,xt){let Dt=S.blockers.get(dt)||Jg;Bi(Dt.state==="unblocked"&&xt.state==="blocked"||Dt.state==="blocked"&&xt.state==="blocked"||Dt.state==="blocked"&&xt.state==="proceeding"||Dt.state==="blocked"&&xt.state==="unblocked"||Dt.state==="proceeding"&&xt.state==="unblocked",`Invalid blocker state transition: ${Dt.state} -> ${xt.state}`);let Gt=new Map(S.blockers);Gt.set(dt,xt),J({blockers:Gt})}function Ct({currentLocation:dt,nextLocation:xt,historyAction:Dt}){if(ie.size===0)return;ie.size>1&&es(!1,"A router only supports one blocker at a time");let Gt=Array.from(ie.entries()),[Qt,Tn]=Gt[Gt.length-1],Gn=S.blockers.get(Qt);if(!(Gn&&Gn.state==="proceeding")&&Tn({currentLocation:dt,nextLocation:xt,historyAction:Dt}))return Qt}function St(dt){let xt=zl(404,{pathname:dt}),Dt=o||a,{matches:Gt,route:Qt}=Tk(Dt);return{notFoundMatches:Gt,route:Qt,error:xt}}function sn(dt,xt,Dt){if(_=dt,T=xt,x=Dt||null,!E&&S.navigation===pw){E=!0;let Gt=hi(S.location,S.matches);Gt!=null&&J({restoreScrollPosition:Gt})}return()=>{_=null,T=null,x=null}}function yn(dt,xt){return x&&x(dt,xt.map(Gt=>Gj(Gt,S.loaderData)))||dt.key}function Zt(dt,xt){if(_&&T){let Dt=yn(dt,xt);_[Dt]=T()}}function hi(dt,xt){if(_){let Dt=yn(dt,xt),Gt=_[Dt];if(typeof Gt=="number")return Gt}return null}function ii(dt,xt,Dt){if(p)if(dt){if(Object.keys(dt[0].params).length>0)return{active:!0,matches:ob(xt,Dt,s,!0)}}else return{active:!0,matches:ob(xt,Dt,s,!0)||[]};return{active:!1,matches:null}}async function Si(dt,xt,Dt){if(!p)return{type:"success",matches:dt};let Gt=dt;for(;;){let Qt=o==null,Tn=o||a,Gn=r;try{await p({path:xt,matches:Gt,patch:(ye,Ae)=>{Dt.aborted||yk(ye,Ae,Tn,Gn,i)}})}catch(ye){return{type:"error",error:ye,partialMatches:Gt}}finally{Qt&&!Dt.aborted&&(a=[...a])}if(Dt.aborted)return{type:"aborted"};let vn=Rd(Tn,xt,s);if(vn)return{type:"success",matches:vn};let Ve=ob(Tn,xt,s,!0);if(!Ve||Gt.length===Ve.length&&Gt.every((ye,Ae)=>ye.route.id===Ve[Ae].route.id))return{type:"success",matches:null};Gt=Ve}}function Hi(dt){r={},o=Ab(dt,i,void 0,r)}function li(dt,xt){let Dt=o==null;yk(dt,xt,o||a,r,i),Dt&&(a=[...a],J({}))}return N={get basename(){return s},get future(){return m},get state(){return S},get routes(){return a},get window(){return e},initialize:me,subscribe:K,enableScrollRestoration:sn,navigate:xe,fetch:_e,revalidate:Q,createHref:dt=>n.history.createHref(dt),encodeLocation:dt=>n.history.encodeLocation(dt),getFetcher:Me,deleteFetcher:Ke,dispose:Te,getBlocker:Tt,deleteBlocker:$t,patchRoutes:li,_internalFetchControllers:D,_internalSetRoutes:Hi},N}function fB(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function E1(n,e,t,i,r,a){let o,s;if(r){o=[];for(let p of e)if(o.push(p),p.route.id===r){s=p;break}}else o=e,s=e[e.length-1];let d=N0(i||".",k0(o),yc(n.pathname,t)||n.pathname,a==="path");if(i==null&&(d.search=n.search,d.hash=n.hash),(i==null||i===""||i===".")&&s){let p=ZT(d.search);if(s.route.index&&!p)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!s.route.index&&p){let m=new URLSearchParams(d.search),y=m.getAll("index");m.delete("index"),y.filter(_=>_).forEach(_=>m.append("index",_));let g=m.toString();d.search=g?`?${g}`:""}}return t!=="/"&&(d.pathname=d.pathname==="/"?t:Qc([t,d.pathname])),Kd(d)}function pk(n,e,t){if(!t||!fB(t))return{path:e};if(t.formMethod&&!kB(t.formMethod))return{path:e,error:zl(405,{method:t.formMethod})};let i=()=>({path:e,error:zl(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),o=AA(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!hc(a))return i();let y=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((g,[_,x])=>`${g}${_}=${x}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:o,formEncType:t.formEncType,formData:void 0,json:void 0,text:y}}}else if(t.formEncType==="application/json"){if(!hc(a))return i();try{let y=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:o,formEncType:t.formEncType,formData:void 0,json:y,text:void 0}}}catch{return i()}}}Bi(typeof FormData=="function","FormData is not available in this environment");let s,d;if(t.formData)s=N1(t.formData),d=t.formData;else if(t.body instanceof FormData)s=N1(t.body),d=t.body;else if(t.body instanceof URLSearchParams)s=t.body,d=xk(s);else if(t.body==null)s=new URLSearchParams,d=new FormData;else try{s=new URLSearchParams(t.body),d=xk(s)}catch{return i()}let p={formMethod:a,formAction:o,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(hc(p.formMethod))return{path:e,submission:p};let m=ld(e);return n&&m.search&&ZT(m.search)&&s.append("index",""),m.search=`?${s}`,{path:Kd(m),submission:p}}function mk(n,e,t=!1){let i=n.findIndex(r=>r.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function fk(n,e,t,i,r,a,o,s,d,p,m,y,g,_){let x=_?ul(_[1])?_[1].error:_[1].data:void 0,T=n.createURL(e.location),E=n.createURL(r),k=t;a&&e.errors?k=mk(t,Object.keys(e.errors)[0],!0):_&&ul(_[1])&&(k=mk(t,_[0]));let v=_?_[1].statusCode:void 0,w=v&&v>=400,N=k.filter((L,O)=>{let{route:Y}=L;if(Y.lazy)return!0;if(Y.loader==null)return!1;if(a)return k1(Y,e.loaderData,e.errors);if(gB(e.loaderData,e.matches[O],L))return!0;let X=e.matches[O],H=L;return gk(L,{currentUrl:T,currentParams:X.params,nextUrl:E,nextParams:H.params,...i,actionResult:x,actionStatus:v,defaultShouldRevalidate:w?!1:o||T.pathname+T.search===E.pathname+E.search||T.search!==E.search||yB(X,H)})}),S=[];return p.forEach((L,O)=>{if(a||!t.some(G=>G.route.id===L.routeId)||d.has(O))return;let Y=Rd(y,L.path,g);if(!Y){S.push({key:O,routeId:L.routeId,path:L.path,matches:null,match:null,controller:null});return}let X=e.fetchers.get(O),H=dy(Y,L.path),$=!1;m.has(O)?$=!1:s.has(O)?(s.delete(O),$=!0):X&&X.state!=="idle"&&X.data===void 0?$=o:$=gk(H,{currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:t[t.length-1].params,...i,actionResult:x,actionStatus:v,defaultShouldRevalidate:w?!1:o}),$&&S.push({key:O,routeId:L.routeId,path:L.path,matches:Y,match:H,controller:new AbortController})}),[N,S]}function k1(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,r=t!=null&&t[n.id]!==void 0;return!i&&r?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!r}function gB(n,e,t){let i=!e||t.route.id!==e.route.id,r=!n.hasOwnProperty(t.route.id);return i||r}function yB(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function gk(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function yk(n,e,t,i,r){let a;if(n){let d=i[n];Bi(d,`No route found to patch children into: routeId = ${n}`),d.children||(d.children=[]),a=d.children}else a=t;let o=e.filter(d=>!a.some(p=>IA(d,p))),s=Ab(o,r,[n||"_","patch",String((a==null?void 0:a.length)||"0")],i);a.push(...s)}function IA(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var r;return(r=e.children)==null?void 0:r.some(a=>IA(t,a))}):!1}async function vB(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=t[n.id];Bi(r,"No route found in manifest");let a={};for(let o in i){let d=r[o]!==void 0&&o!=="hasErrorBoundary";es(!d,`Route "${r.id}" has a static property "${o}" defined but its lazy function is also returning a value for this property. The lazy route property "${o}" will be ignored.`),!d&&!Bj.has(o)&&(a[o]=i[o])}Object.assign(r,a),Object.assign(r,{...e(r),lazy:void 0})}async function xB({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,r,a)=>Object.assign(i,{[e[a].route.id]:r}),{})}async function bB(n,e,t,i,r,a,o,s,d,p){let m=a.map(_=>_.route.lazy?vB(_.route,d,s):void 0),y=a.map((_,x)=>{let T=m[x],E=r.some(v=>v.route.id===_.route.id);return{..._,shouldLoad:E,resolve:async v=>(v&&i.method==="GET"&&(_.route.lazy||_.route.loader)&&(E=!0),E?_B(e,i,_,T,v,p):Promise.resolve({type:"data",result:void 0}))}}),g=await n({matches:y,request:i,params:a[0].params,fetcherKey:o,context:p});try{await Promise.all(m)}catch{}return g}async function _B(n,e,t,i,r,a){let o,s,d=p=>{let m,y=new Promise((x,T)=>m=T);s=()=>m(),e.signal.addEventListener("abort",s);let g=x=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:a},...x!==void 0?[x]:[]),_=(async()=>{try{return{type:"data",result:await(r?r(T=>g(T)):g())}}catch(x){return{type:"error",result:x}}})();return Promise.race([_,y])};try{let p=t.route[n];if(i)if(p){let m,[y]=await Promise.all([d(p).catch(g=>{m=g}),i]);if(m!==void 0)throw m;o=y}else if(await i,p=t.route[n],p)o=await d(p);else if(n==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw zl(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:"data",result:void 0};else if(p)o=await d(p);else{let m=new URL(e.url),y=m.pathname+m.search;throw zl(404,{pathname:y})}}catch(p){return{type:"error",result:p}}finally{s&&e.signal.removeEventListener("abort",s)}return o}async function wB(n){var i,r,a,o;let{result:e,type:t}=n;if(PA(e)){let s;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?s=null:s=await e.json():s=await e.text()}catch(d){return{type:"error",error:d}}return t==="error"?{type:"error",error:new Db(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}if(t==="error"){if(Sk(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new Db(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:L0(e)?e.status:void 0}}return Sk(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function TB(n,e,t,i,r){let a=n.headers.get("Location");if(Bi(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!XT.test(a)){let o=i.slice(0,i.findIndex(s=>s.route.id===t)+1);a=E1(new URL(e.url),o,r,a),n.headers.set("Location",a)}return n}function vk(n,e,t){if(XT.test(n)){let i=n,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=yc(r.pathname,t)!=null;if(r.origin===e.origin&&a)return r.pathname+r.search+r.hash}return n}function Mm(n,e,t,i){let r=n.createURL(AA(e)).toString(),a={signal:t};if(i&&hc(i.formMethod)){let{formMethod:o,formEncType:s}=i;a.method=o.toUpperCase(),s==="application/json"?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(i.json)):s==="text/plain"?a.body=i.text:s==="application/x-www-form-urlencoded"&&i.formData?a.body=N1(i.formData):a.body=i.formData}return new Request(r,a)}function N1(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function xk(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function SB(n,e,t,i=!1,r=!1){let a={},o=null,s,d=!1,p={},m=t&&ul(t[1])?t[1].error:void 0;return n.forEach(y=>{if(!(y.route.id in e))return;let g=y.route.id,_=e[g];if(Bi(!rp(_),"Cannot handle redirect results in processLoaderData"),ul(_)){let x=_.error;if(m!==void 0&&(x=m,m=void 0),o=o||{},r)o[g]=x;else{let T=ep(n,g);o[T.route.id]==null&&(o[T.route.id]=x)}i||(a[g]=LA),d||(d=!0,s=L0(_.error)?_.error.status:500),_.headers&&(p[g]=_.headers)}else a[g]=_.data,_.statusCode&&_.statusCode!==200&&!d&&(s=_.statusCode),_.headers&&(p[g]=_.headers)}),m!==void 0&&t&&(o={[t[0]]:m},a[t[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:p}}function bk(n,e,t,i,r,a){let{loaderData:o,errors:s}=SB(e,t,i);return r.forEach(d=>{let{key:p,match:m,controller:y}=d,g=a[p];if(Bi(g,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(ul(g)){let _=ep(n.matches,m==null?void 0:m.route.id);s&&s[_.route.id]||(s={...s,[_.route.id]:g.error}),n.fetchers.delete(p)}else if(rp(g))Bi(!1,"Unhandled fetcher revalidation redirect");else{let _=Ad(g.data);n.fetchers.set(p,_)}}),{loaderData:o,errors:s}}function _k(n,e,t,i){let r=Object.entries(e).filter(([,a])=>a!==LA).reduce((a,[o,s])=>(a[o]=s,a),{});for(let a of t){let o=a.route.id;if(!e.hasOwnProperty(o)&&n.hasOwnProperty(o)&&a.route.loader&&(r[o]=n[o]),i&&i.hasOwnProperty(o))break}return r}function wk(n){return n?ul(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ep(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function Tk(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function zl(n,{pathname:e,routeId:t,method:i,type:r,message:a}={}){let o="Unknown Server Error",s="Unknown @remix-run/router error";return n===400?(o="Bad Request",i&&e&&t?s=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:r==="invalid-body"&&(s="Unable to encode submission body")):n===403?(o="Forbidden",s=`Route "${t}" does not match URL "${e}"`):n===404?(o="Not Found",s=`No route matches URL "${e}"`):n===405&&(o="Method Not Allowed",i&&e&&t?s=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(s=`Invalid request method "${i.toUpperCase()}"`)),new Db(n||500,o,new Error(s),!0)}function Px(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,r]=e[t];if(rp(r))return{key:i,result:r}}}function AA(n){let e=typeof n=="string"?ld(n):n;return Kd({...e,hash:""})}function CB(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function EB(n){return PA(n.result)&&uB.has(n.result.status)}function ul(n){return n.type==="error"}function rp(n){return(n&&n.type)==="redirect"}function Sk(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function PA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function kB(n){return cB.has(n.toUpperCase())}function hc(n){return oB.has(n.toUpperCase())}function ZT(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function dy(n,e){let t=typeof e=="string"?ld(e).search:e.search;if(n[n.length-1].route.index&&ZT(t||""))return n[n.length-1];let i=EA(n);return i[i.length-1]}function Ck(n){let{formMethod:e,formAction:t,formEncType:i,text:r,formData:a,json:o}=n;if(!(!e||!t||!i)){if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:r};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:o,text:void 0}}}function mw(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function NB(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ey(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function LB(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ad(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function IB(n,e){try{let t=n.sessionStorage.getItem(NA);if(t){let i=JSON.parse(t);for(let[r,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(r,new Set(a||[]))}}catch{}}function AB(n,e){if(e.size>0){let t={};for(let[i,r]of e)t[i]=[...r];try{n.sessionStorage.setItem(NA,JSON.stringify(t))}catch(i){es(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function PB(){let n,e,t=new Promise((i,r)=>{n=async a=>{i(a);try{await t}catch{}},e=async a=>{r(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Rp=Oe.createContext(null);Rp.displayName="DataRouter";var mv=Oe.createContext(null);mv.displayName="DataRouterState";var KT=Oe.createContext({isTransitioning:!1});KT.displayName="ViewTransition";var DA=Oe.createContext(new Map);DA.displayName="Fetchers";var DB=Oe.createContext(null);DB.displayName="Await";var Nc=Oe.createContext(null);Nc.displayName="Navigation";var I0=Oe.createContext(null);I0.displayName="Location";var Lc=Oe.createContext({outlet:null,matches:[],isDataRoute:!1});Lc.displayName="Route";var QT=Oe.createContext(null);QT.displayName="RouteError";function MB(n,{relative:e}={}){Bi(Ff(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Oe.useContext(Nc),{hash:r,pathname:a,search:o}=$p(n,{relative:e}),s=a;return t!=="/"&&(s=a==="/"?t:Qc([t,a])),i.createHref({pathname:s,search:o,hash:r})}function Ff(){return Oe.useContext(I0)!=null}function pu(){return Bi(Ff(),"useLocation() may be used only in the context of a <Router> component."),Oe.useContext(I0).location}var MA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OA(n){Oe.useContext(Nc).static||Oe.useLayoutEffect(n)}function A0(){let{isDataRoute:n}=Oe.useContext(Lc);return n?HB():OB()}function OB(){Bi(Ff(),"useNavigate() may be used only in the context of a <Router> component.");let n=Oe.useContext(Rp),{basename:e,navigator:t}=Oe.useContext(Nc),{matches:i}=Oe.useContext(Lc),{pathname:r}=pu(),a=JSON.stringify(k0(i)),o=Oe.useRef(!1);return OA(()=>{o.current=!0}),Oe.useCallback((d,p={})=>{if(es(o.current,MA),!o.current)return;if(typeof d=="number"){t.go(d);return}let m=N0(d,JSON.parse(a),r,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Qc([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,a,r,n])}var RB=Oe.createContext(null);function $B(n){let e=Oe.useContext(Lc).outlet;return e&&Oe.createElement(RB.Provider,{value:n},e)}function $p(n,{relative:e}={}){let{matches:t}=Oe.useContext(Lc),{pathname:i}=pu(),r=JSON.stringify(k0(t));return Oe.useMemo(()=>N0(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function zB(n,e,t,i){Bi(Ff(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=Oe.useContext(Nc),{matches:a}=Oe.useContext(Lc),o=a[a.length-1],s=o?o.params:{},d=o?o.pathname:"/",p=o?o.pathnameBase:"/",m=o&&o.route;{let k=m&&m.path||"";$A(d,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let y=pu(),g;g=y;let _=g.pathname||"/",x=_;if(p!=="/"){let k=p.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let T=Rd(n,{pathname:x});return es(m||T!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),es(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),GB(T&&T.map(k=>Object.assign({},k,{params:Object.assign({},s,k.params),pathname:Qc([p,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:Qc([p,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,t,i)}function FB(){let n=RA(),e=L0(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=Oe.createElement(Oe.Fragment,null,Oe.createElement("p",null,"💿 Hey developer 👋"),Oe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Oe.createElement("code",{style:a},"ErrorBoundary")," or"," ",Oe.createElement("code",{style:a},"errorElement")," prop on your route.")),Oe.createElement(Oe.Fragment,null,Oe.createElement("h2",null,"Unexpected Application Error!"),Oe.createElement("h3",{style:{fontStyle:"italic"}},e),t?Oe.createElement("pre",{style:r},t):null,o)}var jB=Oe.createElement(FB,null),BB=class extends Oe.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Oe.createElement(Lc.Provider,{value:this.props.routeContext},Oe.createElement(QT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UB({routeContext:n,match:e,children:t}){let i=Oe.useContext(Rp);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Oe.createElement(Lc.Provider,{value:n},t)}function GB(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t==null?void 0:t.errors;if(a!=null){let d=r.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Bi(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let o=!1,s=-1;if(t)for(let d=0;d<r.length;d++){let p=r[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(s=d),p.route.id){let{loaderData:m,errors:y}=t,g=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||g){o=!0,s>=0?r=r.slice(0,s+1):r=[r[0]];break}}}return r.reduceRight((d,p,m)=>{let y,g=!1,_=null,x=null;t&&(y=a&&p.route.id?a[p.route.id]:void 0,_=p.route.errorElement||jB,o&&(s<0&&m===0?($A("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):s===m&&(g=!0,x=p.route.hydrateFallbackElement||null)));let T=e.concat(r.slice(0,m+1)),E=()=>{let k;return y?k=_:g?k=x:p.route.Component?k=Oe.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=d,Oe.createElement(UB,{match:p,routeContext:{outlet:d,matches:T,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?Oe.createElement(BB,{location:t.location,revalidation:t.revalidation,component:_,error:y,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}function JT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YB(n){let e=Oe.useContext(Rp);return Bi(e,JT(n)),e}function VB(n){let e=Oe.useContext(mv);return Bi(e,JT(n)),e}function WB(n){let e=Oe.useContext(Lc);return Bi(e,JT(n)),e}function eS(n){let e=WB(n),t=e.matches[e.matches.length-1];return Bi(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qB(){return eS("useRouteId")}function RA(){var i;let n=Oe.useContext(QT),e=VB("useRouteError"),t=eS("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function HB(){let{router:n}=YB("useNavigate"),e=eS("useNavigate"),t=Oe.useRef(!1);return OA(()=>{t.current=!0}),Oe.useCallback(async(r,a={})=>{es(t.current,MA),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var Ek={};function $A(n,e,t){!e&&!Ek[n]&&(Ek[n]=!0,es(!1,t))}var kk={};function Nk(n,e){!n&&!kk[e]&&(kk[e]=!0,console.warn(e))}function XB(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&es(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Oe.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&es(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Oe.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&es(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Oe.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var ZB=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function KB({router:n,flushSync:e}){let[t,i]=Oe.useState(n.state),[r,a]=Oe.useState(),[o,s]=Oe.useState({isTransitioning:!1}),[d,p]=Oe.useState(),[m,y]=Oe.useState(),[g,_]=Oe.useState(),x=Oe.useRef(new Map),T=Oe.useCallback((w,{deletedFetchers:N,flushSync:S,viewTransitionOpts:L})=>{w.fetchers.forEach((Y,X)=>{Y.data!==void 0&&x.current.set(X,Y.data)}),N.forEach(Y=>x.current.delete(Y)),Nk(S===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Nk(L==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!O){e&&S?e(()=>i(w)):Oe.startTransition(()=>i(w));return}if(e&&S){e(()=>{m&&(d&&d.resolve(),m.skipTransition()),s({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let Y=n.window.document.startViewTransition(()=>{e(()=>i(w))});Y.finished.finally(()=>{e(()=>{p(void 0),y(void 0),a(void 0),s({isTransitioning:!1})})}),e(()=>y(Y));return}m?(d&&d.resolve(),m.skipTransition(),_({state:w,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(w),s({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,e,m,d]);Oe.useLayoutEffect(()=>n.subscribe(T),[n,T]),Oe.useEffect(()=>{o.isTransitioning&&!o.flushSync&&p(new ZB)},[o]),Oe.useEffect(()=>{if(d&&r&&n.window){let w=r,N=d.promise,S=n.window.document.startViewTransition(async()=>{Oe.startTransition(()=>i(w)),await N});S.finished.finally(()=>{p(void 0),y(void 0),a(void 0),s({isTransitioning:!1})}),y(S)}},[r,d,n.window]),Oe.useEffect(()=>{d&&r&&t.location.key===r.location.key&&d.resolve()},[d,m,t.location,r]),Oe.useEffect(()=>{!o.isTransitioning&&g&&(a(g.state),s({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),_(void 0))},[o.isTransitioning,g]);let E=Oe.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,N,S)=>n.navigate(w,{state:N,preventScrollReset:S==null?void 0:S.preventScrollReset}),replace:(w,N,S)=>n.navigate(w,{replace:!0,state:N,preventScrollReset:S==null?void 0:S.preventScrollReset})}),[n]),k=n.basename||"/",v=Oe.useMemo(()=>({router:n,navigator:E,static:!1,basename:k}),[n,E,k]);return Oe.createElement(Oe.Fragment,null,Oe.createElement(Rp.Provider,{value:v},Oe.createElement(mv.Provider,{value:t},Oe.createElement(DA.Provider,{value:x.current},Oe.createElement(KT.Provider,{value:o},Oe.createElement(n4,{basename:k,location:t.location,navigationType:t.historyAction,navigator:E},Oe.createElement(QB,{routes:n.routes,future:n.future,state:t})))))),null)}var QB=Oe.memo(JB);function JB({routes:n,future:e,state:t}){return zB(n,void 0,t,e)}function e4({to:n,replace:e,state:t,relative:i}){Bi(Ff(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=Oe.useContext(Nc);es(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Oe.useContext(Lc),{pathname:o}=pu(),s=A0(),d=N0(n,k0(a),o,i==="path"),p=JSON.stringify(d);return Oe.useEffect(()=>{s(JSON.parse(p),{replace:e,state:t,relative:i})},[s,p,i,e,t]),null}function t4(n){return $B(n.context)}function n4({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){Bi(!Ff(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),s=Oe.useMemo(()=>({basename:o,navigator:r,static:a,future:{}}),[o,r,a]);typeof t=="string"&&(t=ld(t));let{pathname:d="/",search:p="",hash:m="",state:y=null,key:g="default"}=t,_=Oe.useMemo(()=>{let x=yc(d,o);return x==null?null:{location:{pathname:x,search:p,hash:m,state:y,key:g},navigationType:i}},[o,d,p,m,y,g,i]);return es(_!=null,`<Router basename="${o}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:Oe.createElement(Nc.Provider,{value:s},Oe.createElement(I0.Provider,{children:e,value:_}))}var lb="get",cb="application/x-www-form-urlencoded";function P0(n){return n!=null&&typeof n.tagName=="string"}function i4(n){return P0(n)&&n.tagName.toLowerCase()==="button"}function r4(n){return P0(n)&&n.tagName.toLowerCase()==="form"}function a4(n){return P0(n)&&n.tagName.toLowerCase()==="input"}function s4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function o4(n,e){return n.button===0&&(!e||e==="_self")&&!s4(n)}var Dx=null;function l4(){if(Dx===null)try{new FormData(document.createElement("form"),0),Dx=!1}catch{Dx=!0}return Dx}var c4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fw(n){return n!=null&&!c4.has(n)?(es(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cb}"`),null):n}function u4(n,e){let t,i,r,a,o;if(r4(n)){let s=n.getAttribute("action");i=s?yc(s,e):null,t=n.getAttribute("method")||lb,r=fw(n.getAttribute("enctype"))||cb,a=new FormData(n)}else if(i4(n)||a4(n)&&(n.type==="submit"||n.type==="image")){let s=n.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||s.getAttribute("action");if(i=d?yc(d,e):null,t=n.getAttribute("formmethod")||s.getAttribute("method")||lb,r=fw(n.getAttribute("formenctype"))||fw(s.getAttribute("enctype"))||cb,a=new FormData(s,n),!l4()){let{name:p,type:m,value:y}=n;if(m==="image"){let g=p?`${p}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else p&&a.append(p,y)}}else{if(P0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lb,i=null,r=cb,o=n}return a&&r==="text/plain"&&(o=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:o}}function tS(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function d4(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function p4(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let o=await d4(a,t);return o.links?o.links():[]}return[]}));return y4(i.flat(1).filter(h4).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Lk(n,e,t,i,r,a){let o=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,s=(d,p)=>{var m;return t[p].pathname!==d.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>o(d,p)||s(d,p)):a==="data"?e.filter((d,p)=>{var y;let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,p)||s(d,p))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function m4(n,e){return f4(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function f4(n){return[...new Set(n)]}function g4(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function y4(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(g4(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function v4(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function x4(){let n=Oe.useContext(Rp);return tS(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function b4(){let n=Oe.useContext(mv);return tS(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var nS=Oe.createContext(void 0);nS.displayName="FrameworkContext";function zA(){let n=Oe.useContext(nS);return tS(n,"You must render this element inside a <HydratedRouter> element"),n}function _4(n,e){let t=Oe.useContext(nS),[i,r]=Oe.useState(!1),[a,o]=Oe.useState(!1),{onFocus:s,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,g=Oe.useRef(null);Oe.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let T=k=>{k.forEach(v=>{o(v.isIntersecting)})},E=new IntersectionObserver(T,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[n]),Oe.useEffect(()=>{if(i){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[i]);let _=()=>{r(!0)},x=()=>{r(!1),o(!1)};return t?n!=="intent"?[a,g,{}]:[a,g,{onFocus:ty(s,_),onBlur:ty(d,x),onMouseEnter:ty(p,_),onMouseLeave:ty(m,x),onTouchStart:ty(y,_)}]:[!1,g,{}]}function ty(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function w4({page:n,...e}){let{router:t}=x4(),i=Oe.useMemo(()=>Rd(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Oe.createElement(S4,{page:n,matches:i,...e}):null}function T4(n){let{manifest:e,routeModules:t}=zA(),[i,r]=Oe.useState([]);return Oe.useEffect(()=>{let a=!1;return p4(n,e,t).then(o=>{a||r(o)}),()=>{a=!0}},[n,e,t]),i}function S4({page:n,matches:e,...t}){let i=pu(),{manifest:r,routeModules:a}=zA(),{loaderData:o,matches:s}=b4(),d=Oe.useMemo(()=>Lk(n,e,s,r,i,"data"),[n,e,s,r,i]),p=Oe.useMemo(()=>Lk(n,e,s,r,i,"assets"),[n,e,s,r,i]),m=Oe.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,x=!1;if(e.forEach(E=>{var v;let k=r.routes[E.route.id];!k||!k.hasLoader||(!d.some(w=>w.route.id===E.route.id)&&E.route.id in o&&((v=a[E.route.id])!=null&&v.shouldRevalidate)||k.hasClientLoader?x=!0:_.add(E.route.id))}),_.size===0)return[];let T=v4(n);return x&&_.size>0&&T.searchParams.set("_routes",e.filter(E=>_.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[o,i,r,d,e,n,a]),y=Oe.useMemo(()=>m4(p,r),[p,r]),g=T4(p);return Oe.createElement(Oe.Fragment,null,m.map(_=>Oe.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>Oe.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),g.map(({key:_,link:x})=>Oe.createElement("link",{key:_,...x})))}function C4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var FA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FA&&(window.__reactRouterVersion="7.1.3")}catch{}function E4(n,e){return mB({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:zj({window:e==null?void 0:e.window}),hydrationData:k4(),routes:n,mapRouteProperties:XB,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function k4(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:N4(n.errors)}),n}function N4(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")t[i]=new Db(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let a=window[r.__subType];if(typeof a=="function")try{let o=new a(r.message);o.stack="",t[i]=o}catch{}}if(t[i]==null){let a=new Error(r.message);a.stack="",t[i]=a}}else t[i]=r;return t}var jA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iS=Oe.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:o,state:s,target:d,to:p,preventScrollReset:m,viewTransition:y,...g},_){let{basename:x}=Oe.useContext(Nc),T=typeof p=="string"&&jA.test(p),E,k=!1;if(typeof p=="string"&&T&&(E=p,FA))try{let X=new URL(window.location.href),H=p.startsWith("//")?new URL(X.protocol+p):new URL(p),$=yc(H.pathname,x);H.origin===X.origin&&$!=null?p=$+H.search+H.hash:k=!0}catch{es(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=MB(p,{relative:r}),[w,N,S]=_4(i,g),L=P4(p,{replace:o,state:s,target:d,preventScrollReset:m,relative:r,viewTransition:y});function O(X){e&&e(X),X.defaultPrevented||L(X)}let Y=Oe.createElement("a",{...g,...S,href:E||v,onClick:k||a?e:O,ref:C4(_,N),target:d,"data-discover":!T&&t==="render"?"true":void 0});return w&&!T?Oe.createElement(Oe.Fragment,null,Y,Oe.createElement(w4,{page:v})):Y});iS.displayName="Link";var L4=Oe.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:o,viewTransition:s,children:d,...p},m){let y=$p(o,{relative:p.relative}),g=pu(),_=Oe.useContext(mv),{navigator:x,basename:T}=Oe.useContext(Nc),E=_!=null&&$4(y)&&s===!0,k=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,v=g.pathname,w=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(v=v.toLowerCase(),w=w?w.toLowerCase():null,k=k.toLowerCase()),w&&T&&(w=yc(w,T)||w);const N=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let S=v===k||!r&&v.startsWith(k)&&v.charAt(N)==="/",L=w!=null&&(w===k||!r&&w.startsWith(k)&&w.charAt(k.length)==="/"),O={isActive:S,isPending:L,isTransitioning:E},Y=S?e:void 0,X;typeof i=="function"?X=i(O):X=[i,S?"active":null,L?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let H=typeof a=="function"?a(O):a;return Oe.createElement(iS,{...p,"aria-current":Y,className:X,ref:m,style:H,to:o,viewTransition:s},typeof d=="function"?d(O):d)});L4.displayName="NavLink";var I4=Oe.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:o=lb,action:s,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:y,...g},_)=>{let x=O4(),T=R4(s,{relative:p}),E=o.toLowerCase()==="get"?"get":"post",k=typeof s=="string"&&jA.test(s),v=w=>{if(d&&d(w),w.defaultPrevented)return;w.preventDefault();let N=w.nativeEvent.submitter,S=(N==null?void 0:N.getAttribute("formmethod"))||o;x(N||w.currentTarget,{fetcherKey:e,method:S,navigate:t,replace:r,state:a,relative:p,preventScrollReset:m,viewTransition:y})};return Oe.createElement("form",{ref:_,method:E,action:T,onSubmit:i?d:v,...g,"data-discover":!k&&n==="render"?"true":void 0})});I4.displayName="Form";function A4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BA(n){let e=Oe.useContext(Rp);return Bi(e,A4(n)),e}function P4(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:o}={}){let s=A0(),d=pu(),p=$p(n,{relative:a});return Oe.useCallback(m=>{if(o4(m,e)){m.preventDefault();let y=t!==void 0?t:Kd(d)===Kd(p);s(n,{replace:y,state:i,preventScrollReset:r,relative:a,viewTransition:o})}},[d,s,p,t,i,e,n,r,a,o])}var D4=0,M4=()=>`__${String(++D4)}__`;function O4(){let{router:n}=BA("useSubmit"),{basename:e}=Oe.useContext(Nc),t=qB();return Oe.useCallback(async(i,r={})=>{let{action:a,method:o,encType:s,formData:d,body:p}=u4(i,e);if(r.navigate===!1){let m=r.fetcherKey||M4();await n.fetch(m,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:d,body:p,formMethod:r.method||o,formEncType:r.encType||s,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:d,body:p,formMethod:r.method||o,formEncType:r.encType||s,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function R4(n,{relative:e}={}){let{basename:t}=Oe.useContext(Nc),i=Oe.useContext(Lc);Bi(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...$p(n||".",{relative:e})},o=pu();if(n==null){a.search=o.search;let s=new URLSearchParams(a.search),d=s.getAll("index");if(d.some(m=>m==="")){s.delete("index"),d.filter(y=>y).forEach(y=>s.append("index",y));let m=s.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Qc([t,a.pathname])),Kd(a)}function $4(n,e={}){let t=Oe.useContext(KT);Bi(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=BA("useViewTransitionState"),r=$p(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=yc(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=yc(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Pb(r.pathname,o)!=null||Pb(r.pathname,a)!=null}new TextEncoder;/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function z4(n){return Oe.createElement(KB,{flushSync:a3.flushSync,...n})}const F4="_container_15gm6_6",j4="_sidebar_15gm6_13",B4="_content_15gm6_20",U4="_menuTitle_15gm6_25",ny={container:F4,sidebar:j4,content:B4,menuTitle:U4},G4={routes:{resource:"routes",params:{paging:!1,filter:"code:eq:chap",fields:"*"}}},rS=()=>{var i;const{data:n,loading:e,error:t}=as(G4);return{route:(i=n==null?void 0:n.routes)==null?void 0:i.routes[0],error:t,loading:e}},Y4="_warningMargin_my6pr_1",V4={warningMargin:Y4},W4=()=>{const{loading:n,route:e,error:t}=rS();return cu(),!e&&!n&&window.location.pathname.split("/")[1]!="route"?re.jsx("div",{className:V4.warningMargin,children:re.jsxs(rT,{warning:!0,title:"Missing route",children:["No route for CHAP was found. Functionality is limited."," ",re.jsx(iS,{to:"/route/create-route",children:"Create route ➔"})]})}):re.jsx(re.Fragment,{})},q4="_footer_18ayc_1",H4="_title_18ayc_7",Ik={footer:q4,title:H4},X4=(n,e,t)=>({resource:`dataStore/modeling/${e}`,type:t,id:"",data:n}),Z4=(n,e,t)=>{const[i,{error:r,loading:a,called:o}]=Ny(X4(n,e,t));return{error:r,loading:a,called:o,mutate:i}},K4=({baseURL:n,existingUrl:e,setIsOpen:t})=>{const i=n.endsWith("/")?n.slice(0,-1):n,{called:r,error:a,loading:o,mutate:s}=Z4({url:i},"backend-url",e==null?"create":"update"),d=async()=>{await s(),window.location.reload()};return Oe.useEffect(()=>{d()},[]),re.jsx("p",{children:"Saving.."})},UA=({setOpen:n,existingUrl:e,loading:t,fetching:i})=>{const[r,a]=Oe.useState(""),s=cu().baseUrl+"/api/routes/chap/run",[d,p]=Oe.useState(!1),m=g=>{a(g)},y=()=>{p(!0)};return Oe.useEffect(()=>{e&&!t&&!i&&a(e)},[t,e,i]),re.jsx(re.Fragment,{children:re.jsxs(Jy,{children:[re.jsx("div",{className:Ik.title,children:"Edit url to CHAP-Core backend server"}),re.jsxs("p",{children:["Use this setting when you do not have CHAP installed as a backend server, but have a running instance of CHAP Core on the local machine. If not set, Modeling App use the default value: ",re.jsx("i",{children:s})]}),re.jsx(Pp,{disabled:i,value:r,onChange:g=>m(g.value),placeholder:i?"Loading..":""}),re.jsxs("div",{className:Ik.footer,children:[re.jsx(vi,{onClick:()=>n(!1),children:"Close"}),re.jsx(vi,{icon:re.jsx(cT,{}),onClick:y,primary:!0,children:"Save"})]}),d&&re.jsx(K4,{setIsOpen:n,baseURL:r,existingUrl:e})]})})},Q4=n=>({request:{resource:`dataStore/modeling/${n}`}}),J4=n=>{var s;const{data:e,loading:t,error:i,fetching:r,engine:a,refetch:o}=as(Q4(n));return{url:(s=e==null?void 0:e.request)==null?void 0:s.url,error:i,loading:t,fetching:r,refetch:o}};var GA={exports:{}};(function(n){(function(e,t){n.exports?(t.default=t,n.exports=e&&e.document?t(e):t):(e.Highcharts&&e.Highcharts.error(16,!0),e.Highcharts=t(e))})(typeof window<"u"?window:Eo,function(e){var t={};function i(r,a,o,s){!r.hasOwnProperty(a)&&(r[a]=s.apply(null,o),e&&typeof CustomEvent=="function"&&e.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:a,module:r[a]}})))}return i(t,"Core/Globals.js",[],function(){var r,a;return(a=r||(r={})).SVG_NS="http://www.w3.org/2000/svg",a.product="Highcharts",a.version="11.4.8",a.win=e!==void 0?e:{},a.doc=a.win.document,a.svg=a.doc&&a.doc.createElementNS&&!!a.doc.createElementNS(a.SVG_NS,"svg").createSVGRect,a.userAgent=a.win.navigator&&a.win.navigator.userAgent||"",a.isChrome=a.win.chrome,a.isFirefox=a.userAgent.indexOf("Firefox")!==-1,a.isMS=/(edge|msie|trident)/i.test(a.userAgent)&&!a.win.opera,a.isSafari=!a.isChrome&&a.userAgent.indexOf("Safari")!==-1,a.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(a.userAgent),a.isWebKit=a.userAgent.indexOf("AppleWebKit")!==-1,a.deg2rad=2*Math.PI/360,a.hasBidiBug=a.isFirefox&&4>parseInt(a.userAgent.split("Firefox/")[1],10),a.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],a.noop=function(){},a.supportsPassiveEvents=function(){let o=!1;if(!a.isMS){let s=Object.defineProperty({},"passive",{get:function(){o=!0}});a.win.addEventListener&&a.win.removeEventListener&&(a.win.addEventListener("testPassive",a.noop,s),a.win.removeEventListener("testPassive",a.noop,s))}return o}(),a.charts=[],a.composed=[],a.dateFormats={},a.seriesTypes={},a.symbolSizes={},a.chartCount=0,r}),i(t,"Core/Utilities.js",[t["Core/Globals.js"]],function(r){let a,{charts:o,doc:s,win:d}=r;function p(M,D,V,F){let z=D?"Highcharts error":"Highcharts warning";M===32&&(M=`${z}: Deprecated member`);let W=E(M),q=W?`${z} #${M}: www.highcharts.com/errors/${M}/`:M.toString();if(F!==void 0){let ee="";W&&(q+="?"),H(F,function(ue,ie){ee+=`
 - ${ie}: ${ue}`,W&&(q+=encodeURI(ie)+"="+encodeURI(ue))}),q+=ee}G(r,"displayError",{chart:V,code:M,message:q,params:F},function(){if(D)throw Error(q);d.console&&p.messages.indexOf(q)===-1&&console.warn(q)}),p.messages.push(q)}function m(M,D){return parseInt(M,D||10)}function y(M){return typeof M=="string"}function g(M){let D=Object.prototype.toString.call(M);return D==="[object Array]"||D==="[object Array Iterator]"}function _(M,D){return!!M&&typeof M=="object"&&(!D||!g(M))}function x(M){return _(M)&&typeof M.nodeType=="number"}function T(M){let D=M&&M.constructor;return!!(_(M,!0)&&!x(M)&&D&&D.name&&D.name!=="Object")}function E(M){return typeof M=="number"&&!isNaN(M)&&M<1/0&&M>-1/0}function k(M){return M!=null}function v(M,D,V){let F,z=y(D)&&!k(V),W=(q,ee)=>{k(q)?M.setAttribute(ee,q):z?(F=M.getAttribute(ee))||ee!=="class"||(F=M.getAttribute(ee+"Name")):M.removeAttribute(ee)};return y(D)?W(V,D):H(D,W),F}function w(M){return g(M)?M:[M]}function N(M,D){let V;for(V in M||(M={}),D)M[V]=D[V];return M}function S(){let M=arguments,D=M.length;for(let V=0;V<D;V++){let F=M[V];if(F!=null)return F}}function L(M,D){N(M.style,D)}function O(M){return Math.pow(10,Math.floor(Math.log(M)/Math.LN10))}function Y(M,D){return M>1e14?M:parseFloat(M.toPrecision(D||14))}p.messages=[],Math.easeInOutSine=function(M){return-.5*(Math.cos(Math.PI*M)-1)};let X=Array.prototype.find?function(M,D){return M.find(D)}:function(M,D){let V,F=M.length;for(V=0;V<F;V++)if(D(M[V],V))return M[V]};function H(M,D,V){for(let F in M)Object.hasOwnProperty.call(M,F)&&D.call(V||M[F],M[F],F,M)}function $(M,D,V){function F(q,ee){let ue=M.removeEventListener;ue&&ue.call(M,q,ee,!1)}function z(q){let ee,ue;M.nodeName&&(D?(ee={})[D]=!0:ee=q,H(ee,function(ie,oe){if(q[oe])for(ue=q[oe].length;ue--;)F(oe,q[oe][ue].fn)}))}let W=typeof M=="function"&&M.prototype||M;if(Object.hasOwnProperty.call(W,"hcEvents")){let q=W.hcEvents;if(D){let ee=q[D]||[];V?(q[D]=ee.filter(function(ue){return V!==ue.fn}),F(D,V)):(z(q),q[D]=[])}else z(q),delete W.hcEvents}}function G(M,D,V,F){if(V=V||{},s.createEvent&&(M.dispatchEvent||M.fireEvent&&M!==r)){let z=s.createEvent("Events");z.initEvent(D,!0,!0),V=N(z,V),M.dispatchEvent?M.dispatchEvent(V):M.fireEvent(D,V)}else if(M.hcEvents){V.target||N(V,{preventDefault:function(){V.defaultPrevented=!0},target:M,type:D});let z=[],W=M,q=!1;for(;W.hcEvents;)Object.hasOwnProperty.call(W,"hcEvents")&&W.hcEvents[D]&&(z.length&&(q=!0),z.unshift.apply(z,W.hcEvents[D])),W=Object.getPrototypeOf(W);q&&z.sort((ee,ue)=>ee.order-ue.order),z.forEach(ee=>{ee.fn.call(M,V)===!1&&V.preventDefault()})}F&&!V.defaultPrevented&&F.call(M,V)}H({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(M,D){r[D]=function(V){return p(32,!1,void 0,{[`Highcharts.${D}`]:`use Array.${M}`}),Array.prototype[M].apply(V,[].slice.call(arguments,1))}});let B=function(){let M=Math.random().toString(36).substring(2,9)+"-",D=0;return function(){return"highcharts-"+(a?"":M)+D++}}();return d.jQuery&&(d.jQuery.fn.highcharts=function(){let M=[].slice.call(arguments);if(this[0])return M[0]?(new r[y(M[0])?M.shift():"Chart"](this[0],M[0],M[1]),this):o[v(this[0],"data-highcharts-chart")]}),{addEvent:function(M,D,V,F={}){let z=typeof M=="function"&&M.prototype||M;Object.hasOwnProperty.call(z,"hcEvents")||(z.hcEvents={});let W=z.hcEvents;r.Point&&M instanceof r.Point&&M.series&&M.series.chart&&(M.series.chart.runTrackerClick=!0);let q=M.addEventListener;q&&q.call(M,D,V,!!r.supportsPassiveEvents&&{passive:F.passive===void 0?D.indexOf("touch")!==-1:F.passive,capture:!1}),W[D]||(W[D]=[]);let ee={fn:V,order:typeof F.order=="number"?F.order:1/0};return W[D].push(ee),W[D].sort((ue,ie)=>ue.order-ie.order),function(){$(M,D,V)}},arrayMax:function(M){let D=M.length,V=M[0];for(;D--;)M[D]>V&&(V=M[D]);return V},arrayMin:function(M){let D=M.length,V=M[0];for(;D--;)M[D]<V&&(V=M[D]);return V},attr:v,clamp:function(M,D,V){return M>D?M<V?M:V:D},clearTimeout:function(M){k(M)&&clearTimeout(M)},correctFloat:Y,createElement:function(M,D,V,F,z){let W=s.createElement(M);return D&&N(W,D),z&&L(W,{padding:"0",border:"none",margin:"0"}),V&&L(W,V),F&&F.appendChild(W),W},crisp:(M,D=0,V)=>{let F=D%2/2,z=V?-1:1;return(Math.round(M*z-F)+F)*z},css:L,defined:k,destroyObjectProperties:function(M,D,V){H(M,function(F,z){F!==D&&(F!=null&&F.destroy)&&F.destroy(),(F!=null&&F.destroy||!V)&&delete M[z]})},diffObjects:function(M,D,V,F){let z={};return function W(q,ee,ue,ie){let oe=V?ee:q;H(q,function(Ee,me){if(!ie&&F&&F.indexOf(me)>-1&&ee[me]){Ee=w(Ee),ue[me]=[];for(let Te=0;Te<Math.max(Ee.length,ee[me].length);Te++)ee[me][Te]&&(Ee[Te]===void 0?ue[me][Te]=ee[me][Te]:(ue[me][Te]={},W(Ee[Te],ee[me][Te],ue[me][Te],ie+1)))}else _(Ee,!0)&&!Ee.nodeType?(ue[me]=g(Ee)?[]:{},W(Ee,ee[me]||{},ue[me],ie+1),Object.keys(ue[me]).length!==0||me==="colorAxis"&&ie===0||delete ue[me]):(q[me]!==ee[me]||me in q&&!(me in ee))&&me!=="__proto__"&&me!=="constructor"&&(ue[me]=oe[me])})}(M,D,z,0),z},discardElement:function(M){M&&M.parentElement&&M.parentElement.removeChild(M)},erase:function(M,D){let V=M.length;for(;V--;)if(M[V]===D){M.splice(V,1);break}},error:p,extend:N,extendClass:function(M,D){let V=function(){};return V.prototype=new M,N(V.prototype,D),V},find:X,fireEvent:G,getClosestDistance:function(M,D){let V,F,z,W=!D;return M.forEach(q=>{if(q.length>1)for(z=q.length-1;z>0;z--)(F=q[z]-q[z-1])<0&&!W?(D==null||D(),D=void 0):F&&(V===void 0||F<V)&&(V=F)}),V},getMagnitude:O,getNestedProperty:function(M,D){let V=M.split(".");for(;V.length&&k(D);){let F=V.shift();if(F===void 0||F==="__proto__")return;if(F==="this"){let W;return _(D)&&(W=D["@this"]),W??D}let z=D[F];if(!k(z)||typeof z=="function"||typeof z.nodeType=="number"||z===d)return;D=z}return D},getStyle:function M(D,V,F){let z;if(V==="width"){let q=Math.min(D.offsetWidth,D.scrollWidth),ee=D.getBoundingClientRect&&D.getBoundingClientRect().width;return ee<q&&ee>=q-1&&(q=Math.floor(ee)),Math.max(0,q-(M(D,"padding-left",!0)||0)-(M(D,"padding-right",!0)||0))}if(V==="height")return Math.max(0,Math.min(D.offsetHeight,D.scrollHeight)-(M(D,"padding-top",!0)||0)-(M(D,"padding-bottom",!0)||0));let W=d.getComputedStyle(D,void 0);return W&&(z=W.getPropertyValue(V),S(F,V!=="opacity")&&(z=m(z))),z},inArray:function(M,D,V){return p(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),D.indexOf(M,V)},insertItem:function(M,D){let V,F=M.options.index,z=D.length;for(V=M.options.isInternal?z:0;V<z+1;V++)if(!D[V]||E(F)&&F<S(D[V].options.index,D[V]._i)||D[V].options.isInternal){D.splice(V,0,M);break}return V},isArray:g,isClass:T,isDOMElement:x,isFunction:function(M){return typeof M=="function"},isNumber:E,isObject:_,isString:y,keys:function(M){return p(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(M)},merge:function(){let M,D=arguments,V={},F=function(W,q){return typeof W!="object"&&(W={}),H(q,function(ee,ue){ue!=="__proto__"&&ue!=="constructor"&&(!_(ee,!0)||T(ee)||x(ee)?W[ue]=q[ue]:W[ue]=F(W[ue]||{},ee))}),W};D[0]===!0&&(V=D[1],D=Array.prototype.slice.call(D,2));let z=D.length;for(M=0;M<z;M++)V=F(V,D[M]);return V},normalizeTickInterval:function(M,D,V,F,z){let W,q=M;V=S(V,O(M));let ee=M/V;for(!D&&(D=z?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],F===!1&&(V===1?D=D.filter(function(ue){return ue%1==0}):V<=.1&&(D=[1/V]))),W=0;W<D.length&&(q=D[W],(!z||!(q*V>=M))&&(z||!(ee<=(D[W]+(D[W+1]||D[W]))/2)));W++);return Y(q*V,-Math.round(Math.log(.001)/Math.LN10))},objectEach:H,offset:function(M){let D=s.documentElement,V=M.parentElement||M.parentNode?M.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:V.top+(d.pageYOffset||D.scrollTop)-(D.clientTop||0),left:V.left+(d.pageXOffset||D.scrollLeft)-(D.clientLeft||0),width:V.width,height:V.height}},pad:function(M,D,V){return Array((D||2)+1-String(M).replace("-","").length).join(V||"0")+M},pick:S,pInt:m,pushUnique:function(M,D){return 0>M.indexOf(D)&&!!M.push(D)},relativeLength:function(M,D,V){return/%$/.test(M)?D*parseFloat(M)/100+(V||0):parseFloat(M)},removeEvent:$,replaceNested:function(M,...D){let V,F;do for(F of(V=M,D))M=M.replace(F[0],F[1]);while(M!==V);return M},splat:w,stableSort:function(M,D){let V,F,z=M.length;for(F=0;F<z;F++)M[F].safeI=F;for(M.sort(function(W,q){return(V=D(W,q))===0?W.safeI-q.safeI:V}),F=0;F<z;F++)delete M[F].safeI},syncTimeout:function(M,D,V){return D>0?setTimeout(M,D,V):(M.call(0,V),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:B,useSerialIds:function(M){return a=S(M,a)},wrap:function(M,D,V){let F=M[D];M[D]=function(){let z=arguments,W=this;return V.apply(this,[function(){return F.apply(W,arguments.length?arguments:z)}].concat([].slice.call(arguments)))}}}}),i(t,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),i(t,"Core/Color/Palettes.js",[],function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}}),i(t,"Core/Time.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{win:o}=r,{defined:s,error:d,extend:p,isNumber:m,isObject:y,merge:g,objectEach:_,pad:x,pick:T,splat:E,timeUnits:k}=a,v=r.isSafari&&o.Intl&&o.Intl.DateTimeFormat.prototype.formatRange,w=r.isSafari&&o.Intl&&!o.Intl.DateTimeFormat.prototype.formatRange;class N{constructor(L){this.options={},this.useUTC=!1,this.variableTimezone=!1,this.Date=o.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(L)}get(L,O){if(this.variableTimezone||this.timezoneOffset){let Y=O.getTime(),X=Y-this.getTimezoneOffset(O);O.setTime(X);let H=O["getUTC"+L]();return O.setTime(Y),H}return this.useUTC?O["getUTC"+L]():O["get"+L]()}set(L,O,Y){if(this.variableTimezone||this.timezoneOffset){if(L==="Milliseconds"||L==="Seconds"||L==="Minutes"&&this.getTimezoneOffset(O)%36e5==0)return O["setUTC"+L](Y);let X=this.getTimezoneOffset(O),H=O.getTime()-X;O.setTime(H),O["setUTC"+L](Y);let $=this.getTimezoneOffset(O);return H=O.getTime()+$,O.setTime(H)}return this.useUTC||v&&L==="FullYear"?O["setUTC"+L](Y):O["set"+L](Y)}update(L={}){let O=T(L.useUTC,!0);this.options=L=g(!0,this.options,L),this.Date=L.Date||o.Date||Date,this.useUTC=O,this.timezoneOffset=O&&L.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=O&&!!(L.getTimezoneOffset||L.timezone)}makeTime(L,O,Y,X,H,$){let G,B,M;return this.useUTC?(G=this.Date.UTC.apply(0,arguments),B=this.getTimezoneOffset(G),G+=B,B!==(M=this.getTimezoneOffset(G))?G+=M-B:B-36e5!==this.getTimezoneOffset(G-36e5)||w||(G-=36e5)):G=new this.Date(L,O,T(Y,1),T(X,0),T(H,0),T($,0)).getTime(),G}timezoneOffsetFunction(){let L=this,O=this.options,Y=O.getTimezoneOffset;return this.useUTC?O.timezone?X=>{try{let H=`shortOffset,${O.timezone||""}`,[$,G,B,M,D=0]=(N.formatCache[H]=N.formatCache[H]||Intl.DateTimeFormat("en",{timeZone:O.timezone,timeZoneName:"shortOffset"})).format(X).split(/(GMT|:)/).map(Number),V=-(36e5*(B+D/60));if(m(V))return V}catch{d(34)}return 0}:this.useUTC&&Y?X=>6e4*Y(X.valueOf()):()=>6e4*(L.timezoneOffset||0):X=>6e4*new Date(X.toString()).getTimezoneOffset()}dateFormat(L,O,Y){if(!s(O)||isNaN(O))return r.defaultOptions.lang&&r.defaultOptions.lang.invalidDate||"";L=T(L,"%Y-%m-%d %H:%M:%S");let X=this,H=new this.Date(O),$=this.get("Hours",H),G=this.get("Day",H),B=this.get("Date",H),M=this.get("Month",H),D=this.get("FullYear",H),V=r.defaultOptions.lang,F=V&&V.weekdays,z=V&&V.shortWeekdays;return _(p({a:z?z[G]:F[G].substr(0,3),A:F[G],d:x(B),e:x(B,2," "),w:G,b:V.shortMonths[M],B:V.months[M],m:x(M+1),o:M+1,y:D.toString().substr(2,2),Y:D,H:x($),k:$,I:x($%12||12),l:$%12||12,M:x(this.get("Minutes",H)),p:$<12?"AM":"PM",P:$<12?"am":"pm",S:x(this.get("Seconds",H)),L:x(Math.floor(O%1e3),3)},r.dateFormats),function(W,q){for(;L.indexOf("%"+q)!==-1;)L=L.replace("%"+q,typeof W=="function"?W.call(X,O):W)}),Y?L.substr(0,1).toUpperCase()+L.substr(1):L}resolveDTLFormat(L){return y(L,!0)?L:{main:(L=E(L))[0],from:L[1],to:L[2]}}getTimeTicks(L,O,Y,X){let H,$,G,B,M=this,D=M.Date,V=[],F={},z=new D(O),W=L.unitRange,q=L.count||1;if(X=T(X,1),s(O)){M.set("Milliseconds",z,W>=k.second?0:q*Math.floor(M.get("Milliseconds",z)/q)),W>=k.second&&M.set("Seconds",z,W>=k.minute?0:q*Math.floor(M.get("Seconds",z)/q)),W>=k.minute&&M.set("Minutes",z,W>=k.hour?0:q*Math.floor(M.get("Minutes",z)/q)),W>=k.hour&&M.set("Hours",z,W>=k.day?0:q*Math.floor(M.get("Hours",z)/q)),W>=k.day&&M.set("Date",z,W>=k.month?1:Math.max(1,q*Math.floor(M.get("Date",z)/q))),W>=k.month&&(M.set("Month",z,W>=k.year?0:q*Math.floor(M.get("Month",z)/q)),$=M.get("FullYear",z)),W>=k.year&&($-=$%q,M.set("FullYear",z,$)),W===k.week&&(B=M.get("Day",z),M.set("Date",z,M.get("Date",z)-B+X+(B<X?-7:0))),$=M.get("FullYear",z);let ee=M.get("Month",z),ue=M.get("Date",z),ie=M.get("Hours",z);O=z.getTime(),(M.variableTimezone||!M.useUTC)&&s(Y)&&(G=Y-O>4*k.month||M.getTimezoneOffset(O)!==M.getTimezoneOffset(Y));let oe=z.getTime();for(H=1;oe<Y;)V.push(oe),W===k.year?oe=M.makeTime($+H*q,0):W===k.month?oe=M.makeTime($,ee+H*q):G&&(W===k.day||W===k.week)?oe=M.makeTime($,ee,ue+H*q*(W===k.day?1:7)):G&&W===k.hour&&q>1?oe=M.makeTime($,ee,ue,ie+H*q):oe+=W*q,H++;V.push(oe),W<=k.hour&&V.length<1e4&&V.forEach(function(Ee){Ee%18e5==0&&M.dateFormat("%H%M%S%L",Ee)==="000000000"&&(F[Ee]="day")})}return V.info=p(L,{higherRanks:F,totalRange:W*q}),V}getDateFormat(L,O,Y,X){let H=this.dateFormat("%m-%d %H:%M:%S.%L",O),$="01-01 00:00:00.000",G={millisecond:15,second:12,minute:9,hour:6,day:3},B="millisecond",M=B;for(B in k){if(L===k.week&&+this.dateFormat("%w",O)===Y&&H.substr(6)===$.substr(6)){B="week";break}if(k[B]>L){B=M;break}if(G[B]&&H.substr(G[B])!==$.substr(G[B]))break;B!=="week"&&(M=B)}return this.resolveDTLFormat(X[B]).main}}return N.formatCache={},N}),i(t,"Core/Defaults.js",[t["Core/Chart/ChartDefaults.js"],t["Core/Globals.js"],t["Core/Color/Palettes.js"],t["Core/Time.js"],t["Core/Utilities.js"]],function(r,a,o,s,d){let{isTouchDevice:p}=a,{fireEvent:m,merge:y}=d,g={colors:o.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:r,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:x=>Math.sqrt(1-Math.pow(x-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:p?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};g.chart.styledMode=!1;let _=new s(g.time);return{defaultOptions:g,defaultTime:_,getOptions:function(){return g},setOptions:function(x){return m(a,"setOptions",{options:x}),y(!0,g,x),(x.time||x.global)&&(a.time?a.time.update(y(g.global,g.time,x.global,x.time)):a.time=_),g}}}),i(t,"Core/Color/Color.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{isNumber:o,merge:s,pInt:d}=a;class p{static parse(y){return y?new p(y):p.None}constructor(y){let g,_,x,T;this.rgba=[NaN,NaN,NaN,NaN],this.input=y;let E=r.Color;if(E&&E!==p)return new E(y);if(typeof y=="object"&&y.stops!==void 0)this.stops=y.stops.map(k=>new p(k[1]));else if(typeof y=="string"){if(this.input=y=p.names[y.toLowerCase()]||y,y.charAt(0)==="#"){let k=y.length,v=parseInt(y.substr(1),16);k===7?_=[(16711680&v)>>16,(65280&v)>>8,255&v,1]:k===4&&(_=[(3840&v)>>4|(3840&v)>>8,(240&v)>>4|240&v,(15&v)<<4|15&v,1])}if(!_)for(x=p.parsers.length;x--&&!_;)(g=(T=p.parsers[x]).regex.exec(y))&&(_=T.parse(g))}_&&(this.rgba=_)}get(y){let g=this.input,_=this.rgba;if(typeof g=="object"&&this.stops!==void 0){let x=s(g);return x.stops=[].slice.call(x.stops),this.stops.forEach((T,E)=>{x.stops[E]=[x.stops[E][0],T.get(y)]}),x}return _&&o(_[0])?y!=="rgb"&&(y||_[3]!==1)?y==="a"?`${_[3]}`:"rgba("+_.join(",")+")":"rgb("+_[0]+","+_[1]+","+_[2]+")":g}brighten(y){let g=this.rgba;if(this.stops)this.stops.forEach(function(_){_.brighten(y)});else if(o(y)&&y!==0)for(let _=0;_<3;_++)g[_]+=d(255*y),g[_]<0&&(g[_]=0),g[_]>255&&(g[_]=255);return this}setOpacity(y){return this.rgba[3]=y,this}tweenTo(y,g){let _=this.rgba,x=y.rgba;if(!o(_[0])||!o(x[0]))return y.input||"none";let T=x[3]!==1||_[3]!==1;return(T?"rgba(":"rgb(")+Math.round(x[0]+(_[0]-x[0])*(1-g))+","+Math.round(x[1]+(_[1]-x[1])*(1-g))+","+Math.round(x[2]+(_[2]-x[2])*(1-g))+(T?","+(x[3]+(_[3]-x[3])*(1-g)):"")+")"}}return p.names={white:"#ffffff",black:"#000000"},p.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(m){return[d(m[1]),d(m[2]),d(m[3]),parseFloat(m[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(m){return[d(m[1]),d(m[2]),d(m[3]),1]}}],p.None=new p(""),p}),i(t,"Core/Animation/Fx.js",[t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){let{parse:s}=r,{win:d}=a,{isNumber:p,objectEach:m}=o;class y{constructor(_,x,T){this.pos=NaN,this.options=x,this.elem=_,this.prop=T}dSetter(){let _=this.paths,x=_&&_[0],T=_&&_[1],E=this.now||0,k=[];if(E!==1&&x&&T)if(x.length===T.length&&E<1)for(let v=0;v<T.length;v++){let w=x[v],N=T[v],S=[];for(let L=0;L<N.length;L++){let O=w[L],Y=N[L];p(O)&&p(Y)&&!(N[0]==="A"&&(L===4||L===5))?S[L]=O+E*(Y-O):S[L]=Y}k.push(S)}else k=T;else k=this.toD||[];this.elem.attr("d",k,void 0,!0)}update(){let _=this.elem,x=this.prop,T=this.now,E=this.options.step;this[x+"Setter"]?this[x+"Setter"]():_.attr?_.element&&_.attr(x,T,null,!0):_.style[x]=T+this.unit,E&&E.call(_,T,this)}run(_,x,T){let E=this,k=E.options,v=function(S){return!v.stopped&&E.step(S)},w=d.requestAnimationFrame||function(S){setTimeout(S,13)},N=function(){for(let S=0;S<y.timers.length;S++)y.timers[S]()||y.timers.splice(S--,1);y.timers.length&&w(N)};_!==x||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=_,this.end=x,this.unit=T,this.now=this.start,this.pos=0,v.elem=this.elem,v.prop=this.prop,v()&&y.timers.push(v)===1&&w(N)):(delete k.curAnim[this.prop],k.complete&&Object.keys(k.curAnim).length===0&&k.complete.call(this.elem))}step(_){let x,T,E=+new Date,k=this.options,v=this.elem,w=k.complete,N=k.duration,S=k.curAnim;return v.attr&&!v.element?x=!1:_||E>=N+this.startTime?(this.now=this.end,this.pos=1,this.update(),S[this.prop]=!0,T=!0,m(S,function(L){L!==!0&&(T=!1)}),T&&w&&w.call(v),x=!1):(this.pos=k.easing((E-this.startTime)/N),this.now=this.start+(this.end-this.start)*this.pos,this.update(),x=!0),x}initPath(_,x,T){let E=_.startX,k=_.endX,v=T.slice(),w=_.isArea,N=w?2:1,S=x&&T.length>x.length&&T.hasStackedCliffs,L,O,Y,X,H=x&&x.slice();if(!H||S)return[v,v];function $(B,M){for(;B.length<O;){let D=B[0],V=M[O-B.length];if(V&&D[0]==="M"&&(V[0]==="C"?B[0]=["C",D[1],D[2],D[1],D[2],D[1],D[2]]:B[0]=["L",D[1],D[2]]),B.unshift(D),w){let F=B.pop();B.push(B[B.length-1],F)}}}function G(B){for(;B.length<O;){let M=B[Math.floor(B.length/N)-1].slice();if(M[0]==="C"&&(M[1]=M[5],M[2]=M[6]),w){let D=B[Math.floor(B.length/N)].slice();B.splice(B.length/2,0,M,D)}else B.push(M)}}if(E&&k&&k.length){for(Y=0;Y<E.length;Y++){if(E[Y]===k[0]){L=Y;break}if(E[0]===k[k.length-E.length+Y]){L=Y,X=!0;break}if(E[E.length-1]===k[k.length-E.length+Y]){L=E.length-Y;break}}L===void 0&&(H=[])}return H.length&&p(L)&&(O=v.length+L*N,X?($(H,v),G(v)):($(v,H),G(H))),[H,v]}fillSetter(){y.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,s(this.start).tweenTo(s(this.end),this.pos),void 0,!0)}}return y.timers=[],y}),i(t,"Core/Animation/AnimationUtilities.js",[t["Core/Animation/Fx.js"],t["Core/Utilities.js"]],function(r,a){let{defined:o,getStyle:s,isArray:d,isNumber:p,isObject:m,merge:y,objectEach:g,pick:_}=a;function x(E){return m(E)?y({duration:500,defer:0},E):{duration:E?500:0,defer:0}}function T(E,k){let v=r.timers.length;for(;v--;)r.timers[v].elem!==E||k&&k!==r.timers[v].prop||(r.timers[v].stopped=!0)}return{animate:function(E,k,v){let w,N="",S,L,O;m(v)||(O=arguments,v={duration:O[2],easing:O[3],complete:O[4]}),p(v.duration)||(v.duration=400),v.easing=typeof v.easing=="function"?v.easing:Math[v.easing]||Math.easeInOutSine,v.curAnim=y(k),g(k,function(Y,X){T(E,X),L=new r(E,v,X),S=void 0,X==="d"&&d(k.d)?(L.paths=L.initPath(E,E.pathArray,k.d),L.toD=k.d,w=0,S=1):E.attr?w=E.attr(X):(w=parseFloat(s(E,X))||0,X!=="opacity"&&(N="px")),S||(S=Y),typeof S=="string"&&S.match("px")&&(S=S.replace(/px/g,"")),L.run(w,S,N)})},animObject:x,getDeferredAnimation:function(E,k,v){let w=x(k),N=v?[v]:E.series,S=0,L=0;return N.forEach(O=>{let Y=x(O.options.animation);S=m(k)&&o(k.defer)?w.defer:Math.max(S,Y.duration+Y.defer),L=Math.min(w.duration,Y.duration)}),E.renderer.forExport&&(S=0),{defer:Math.max(0,S-L),duration:Math.min(S,L)}},setAnimation:function(E,k){k.renderer.globalAnimation=_(E,k.options.chart.animation,!0)},stop:T}}),i(t,"Core/Renderer/HTML/AST.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{SVG_NS:o,win:s}=r,{attr:d,createElement:p,css:m,error:y,isFunction:g,isString:_,objectEach:x,splat:T}=a,{trustedTypes:E}=s,k=E&&g(E.createPolicy)&&E.createPolicy("highcharts",{createHTML:S=>S}),v=k?k.createHTML(""):"",w=function(){try{return!!new DOMParser().parseFromString(v,"text/html")}catch{return!1}}();class N{static filterUserAttributes(L){return x(L,(O,Y)=>{let X=!0;N.allowedAttributes.indexOf(Y)===-1&&(X=!1),["background","dynsrc","href","lowsrc","src"].indexOf(Y)!==-1&&(X=_(O)&&N.allowedReferences.some(H=>O.indexOf(H)===0)),X||(y(33,!1,void 0,{"Invalid attribute in config":`${Y}`}),delete L[Y]),_(O)&&L[Y]&&(L[Y]=O.replace(/</g,"&lt;"))}),L}static parseStyle(L){return L.split(";").reduce((O,Y)=>{let X=Y.split(":").map($=>$.trim()),H=X.shift();return H&&X.length&&(O[H.replace(/-([a-z])/g,$=>$[1].toUpperCase())]=X.join(":")),O},{})}static setElementHTML(L,O){L.innerHTML=N.emptyHTML,O&&new N(O).addToDOM(L)}constructor(L){this.nodes=typeof L=="string"?this.parseMarkup(L):L}addToDOM(L){return function O(Y,X){let H;return T(Y).forEach(function($){let G,B=$.tagName,M=$.textContent?r.doc.createTextNode($.textContent):void 0,D=N.bypassHTMLFiltering;if(B)if(B==="#text")G=M;else if(N.allowedTags.indexOf(B)!==-1||D){let V=B==="svg"?o:X.namespaceURI||o,F=r.doc.createElementNS(V,B),z=$.attributes||{};x($,function(W,q){q!=="tagName"&&q!=="attributes"&&q!=="children"&&q!=="style"&&q!=="textContent"&&(z[q]=W)}),d(F,D?z:N.filterUserAttributes(z)),$.style&&m(F,$.style),M&&F.appendChild(M),O($.children||[],F),G=F}else y(33,!1,void 0,{"Invalid tagName in config":B});G&&X.appendChild(G),H=G}),H}(this.nodes,L)}parseMarkup(L){let O,Y=[];if(L=L.trim().replace(/ style=(["'])/g," data-style=$1"),w)O=new DOMParser().parseFromString(k?k.createHTML(L):L,"text/html");else{let H=p("div");H.innerHTML=L,O={body:H}}let X=(H,$)=>{let G=H.nodeName.toLowerCase(),B={tagName:G};G==="#text"&&(B.textContent=H.textContent||"");let M=H.attributes;if(M){let D={};[].forEach.call(M,V=>{V.name==="data-style"?B.style=N.parseStyle(V.value):D[V.name]=V.value}),B.attributes=D}if(H.childNodes.length){let D=[];[].forEach.call(H.childNodes,V=>{X(V,D)}),D.length&&(B.children=D)}$.push(B)};return[].forEach.call(O.body.childNodes,H=>X(H,Y)),Y}}return N.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],N.allowedReferences=["https://","http://","mailto:","/","../","./","#"],N.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],N.emptyHTML=v,N.bypassHTMLFiltering=!1,N}),i(t,"Core/Templating.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],function(r,a){let{defaultOptions:o,defaultTime:s}=r,{extend:d,getNestedProperty:p,isArray:m,isNumber:y,isObject:g,pick:_,pInt:x}=a,T={add:(v,w)=>v+w,divide:(v,w)=>w!==0?v/w:"",eq:(v,w)=>v==w,each:function(v){let w=arguments[arguments.length-1];return!!m(v)&&v.map((N,S)=>E(w.body,d(g(N)?N:{"@this":N},{"@index":S,"@first":S===0,"@last":S===v.length-1}))).join("")},ge:(v,w)=>v>=w,gt:(v,w)=>v>w,if:v=>!!v,le:(v,w)=>v<=w,lt:(v,w)=>v<w,multiply:(v,w)=>v*w,ne:(v,w)=>v!=w,subtract:(v,w)=>v-w,unless:v=>!v};function E(v="",w,N){let S=/\{([\w\:\.\,;\-\/<>%@"'’= #\(\)]+)\}/g,L=/\(([\w\:\.\,;\-\/<>%@"'= ]+)\)/g,O=[],Y=/f$/,X=/\.(\d)/,H=o.lang,$=N&&N.time||s,G=N&&N.numberFormatter||k,B=(z="")=>{let W;return z==="true"||z!=="false"&&((W=Number(z)).toString()===z?W:p(z,w))},M,D,V=0,F;for(;(M=S.exec(v))!==null;){let z=L.exec(M[1]);z&&(M=z,F=!0),D&&D.isBlock||(D={ctx:w,expression:M[1],find:M[0],isBlock:M[1].charAt(0)==="#",start:M.index,startInner:M.index+M[0].length,length:M[0].length});let W=M[1].split(" ")[0].replace("#","");T[W]&&(D.isBlock&&W===D.fn&&V++,D.fn||(D.fn=W));let q=M[1]==="else";if(D.isBlock&&D.fn&&(M[1]===`/${D.fn}`||q))if(V)!q&&V--;else{let ee=D.startInner,ue=v.substr(ee,M.index-ee);D.body===void 0?(D.body=ue,D.startInner=M.index+M[0].length):D.elseBody=ue,D.find+=ue+M[0],q||(O.push(D),D=void 0)}else D.isBlock||O.push(D);if(z&&!(D!=null&&D.isBlock))break}return O.forEach(z=>{let W,q,{body:ee,elseBody:ue,expression:ie,fn:oe}=z;if(oe){let Ee=[z],me=ie.split(" ");for(q=T[oe].length;q--;)Ee.unshift(B(me[q+1]));W=T[oe].apply(w,Ee),z.isBlock&&typeof W=="boolean"&&(W=E(W?ee:ue,w,N))}else{let Ee=ie.split(":");if(W=B(Ee.shift()||""),Ee.length&&typeof W=="number"){let me=Ee.join(":");if(Y.test(me)){let Te=parseInt((me.match(X)||["","-1"])[1],10);W!==null&&(W=G(W,Te,H.decimalPoint,me.indexOf(",")>-1?H.thousandsSep:""))}else W=$.dateFormat(me,W)}}v=v.replace(z.find,_(W,""))}),F?E(v,w,N):v}function k(v,w,N,S){let L,O;v=+v||0,w=+w;let Y=o.lang,X=(v.toString().split(".")[1]||"").split("e")[0].length,H=v.toString().split("e"),$=w;w===-1?w=Math.min(X,20):y(w)?w&&H[1]&&H[1]<0&&((O=w+ +H[1])>=0?(H[0]=(+H[0]).toExponential(O).split("e")[0],w=O):(H[0]=H[0].split(".")[0]||0,v=w<20?(H[0]*Math.pow(10,H[1])).toFixed(w):0,H[1]=0)):w=2;let G=(Math.abs(H[1]?H[0]:v)+Math.pow(10,-Math.max(w,X)-1)).toFixed(w),B=String(x(G)),M=B.length>3?B.length%3:0;return N=_(N,Y.decimalPoint),S=_(S,Y.thousandsSep),L=(v<0?"-":"")+(M?B.substr(0,M)+S:""),0>+H[1]&&!$?L="0":L+=B.substr(M).replace(/(\d{3})(?=\d)/g,"$1"+S),w?L+=N+G.slice(-w):+L==0&&(L="0"),H[1]&&+L!=0&&(L+="e"+H[1]),L}return{dateFormat:function(v,w,N){return s.dateFormat(v,w,N)},format:E,helpers:T,numberFormat:k}}),i(t,"Core/Renderer/RendererRegistry.js",[t["Core/Globals.js"]],function(r){var a,o;let s;return(o=a||(a={})).rendererTypes={},o.getRendererType=function(d=s){return o.rendererTypes[d]||o.rendererTypes[s]},o.registerRendererType=function(d,p,m){o.rendererTypes[d]=p,(!s||m)&&(s=d,r.Renderer=p)},a}),i(t,"Core/Renderer/RendererUtilities.js",[t["Core/Utilities.js"]],function(r){var a;let{clamp:o,pick:s,pushUnique:d,stableSort:p}=r;return(a||(a={})).distribute=function m(y,g,_){let x=y,T=x.reducedLen||g,E=(B,M)=>B.target-M.target,k=[],v=y.length,w=[],N=k.push,S,L,O,Y=!0,X,H,$=0,G;for(S=v;S--;)$+=y[S].size;if($>T){for(p(y,(B,M)=>(M.rank||0)-(B.rank||0)),O=(G=y[0].rank===y[y.length-1].rank)?v/2:-1,L=G?O:v-1;O&&$>T;)X=y[S=Math.floor(L)],d(w,S)&&($-=X.size),L+=O,G&&L>=y.length&&(O/=2,L=O);w.sort((B,M)=>M-B).forEach(B=>N.apply(k,y.splice(B,1)))}for(p(y,E),y=y.map(B=>({size:B.size,targets:[B.target],align:s(B.align,.5)}));Y;){for(S=y.length;S--;)X=y[S],H=(Math.min.apply(0,X.targets)+Math.max.apply(0,X.targets))/2,X.pos=o(H-X.size*X.align,0,g-X.size);for(S=y.length,Y=!1;S--;)S>0&&y[S-1].pos+y[S-1].size>y[S].pos&&(y[S-1].size+=y[S].size,y[S-1].targets=y[S-1].targets.concat(y[S].targets),y[S-1].align=.5,y[S-1].pos+y[S-1].size>g&&(y[S-1].pos=g-y[S-1].size),y.splice(S,1),Y=!0)}return N.apply(x,k),S=0,y.some(B=>{let M=0;return(B.targets||[]).some(()=>(x[S].pos=B.pos+M,_!==void 0&&Math.abs(x[S].pos-x[S].target)>_?(x.slice(0,S+1).forEach(D=>delete D.pos),x.reducedLen=(x.reducedLen||g)-.1*g,x.reducedLen>.1*g&&m(x,g,_),!0):(M+=x[S].size,S++,!1)))}),p(x,E),x},a}),i(t,"Core/Renderer/SVG/SVGElement.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{animate:d,animObject:p,stop:m}=r,{deg2rad:y,doc:g,svg:_,SVG_NS:x,win:T}=o,{addEvent:E,attr:k,createElement:v,crisp:w,css:N,defined:S,erase:L,extend:O,fireEvent:Y,isArray:X,isFunction:H,isObject:$,isString:G,merge:B,objectEach:M,pick:D,pInt:V,pushUnique:F,replaceNested:z,syncTimeout:W,uniqueKey:q}=s;class ee{_defaultGetter(ie){let oe=D(this[ie+"Value"],this[ie],this.element?this.element.getAttribute(ie):null,0);return/^-?[\d\.]+$/.test(oe)&&(oe=parseFloat(oe)),oe}_defaultSetter(ie,oe,Ee){Ee.setAttribute(oe,ie)}add(ie){let oe,Ee=this.renderer,me=this.element;return ie&&(this.parentGroup=ie),this.textStr!==void 0&&this.element.nodeName==="text"&&Ee.buildText(this),this.added=!0,(!ie||ie.handleZ||this.zIndex)&&(oe=this.zIndexSetter()),oe||(ie?ie.element:Ee.box).appendChild(me),this.onAdd&&this.onAdd(),this}addClass(ie,oe){let Ee=oe?"":this.attr("class")||"";return(ie=(ie||"").split(/ /g).reduce(function(me,Te){return Ee.indexOf(Te)===-1&&me.push(Te),me},Ee?[Ee]:[]).join(" "))!==Ee&&this.attr("class",ie),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(ie,oe,Ee,me=!0){let Te,K,J,se,xe={},Q=this.renderer,ae=Q.alignedObjects,ce=!!ie;ie?(this.alignOptions=ie,this.alignByTranslate=oe,this.alignTo=Ee):(ie=this.alignOptions||{},oe=this.alignByTranslate,Ee=this.alignTo);let ge=!Ee||G(Ee)?Ee||"renderer":void 0;ge&&(ce&&F(ae,this),Ee=void 0);let be=D(Ee,Q[ge],Q),Le=ie.align,_e=ie.verticalAlign;return Te=(be.x||0)+(ie.x||0),K=(be.y||0)+(ie.y||0),Le==="right"?J=1:Le==="center"&&(J=2),J&&(Te+=((be.width||0)-(ie.width||0))/J),xe[oe?"translateX":"x"]=Math.round(Te),_e==="bottom"?se=1:_e==="middle"&&(se=2),se&&(K+=((be.height||0)-(ie.height||0))/se),xe[oe?"translateY":"y"]=Math.round(K),me&&(this[this.placed?"animate":"attr"](xe),this.placed=!0),this.alignAttr=xe,this}alignSetter(ie){let oe={left:"start",center:"middle",right:"end"};oe[ie]&&(this.alignValue=ie,this.element.setAttribute("text-anchor",oe[ie]))}animate(ie,oe,Ee){let me=p(D(oe,this.renderer.globalAnimation,!0)),Te=me.defer;return g.hidden&&(me.duration=0),me.duration!==0?(Ee&&(me.complete=Ee),W(()=>{this.element&&d(this,ie,me)},Te)):(this.attr(ie,void 0,Ee||me.complete),M(ie,function(K,J){me.step&&me.step.call(this,K,{prop:J,pos:1,elem:this})},this)),this}applyTextOutline(ie){let oe=this.element;ie.indexOf("contrast")!==-1&&(ie=ie.replace(/contrast/g,this.renderer.getContrast(oe.style.fill)));let Ee=ie.split(" "),me=Ee[Ee.length-1],Te=Ee[0];if(Te&&Te!=="none"&&o.svg){this.fakeTS=!0,Te=Te.replace(/(^[\d\.]+)(.*?)$/g,function(Q,ae,ce){return 2*Number(ae)+ce}),this.removeTextOutline();let K=g.createElementNS(x,"tspan");k(K,{class:"highcharts-text-outline",fill:me,stroke:me,"stroke-width":Te,"stroke-linejoin":"round"});let J=oe.querySelector("textPath")||oe;[].forEach.call(J.childNodes,Q=>{let ae=Q.cloneNode(!0);ae.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(ce=>ae.removeAttribute(ce)),K.appendChild(ae)});let se=0;[].forEach.call(J.querySelectorAll("text tspan"),Q=>{se+=Number(Q.getAttribute("dy"))});let xe=g.createElementNS(x,"tspan");xe.textContent="​",k(xe,{x:Number(oe.getAttribute("x")),dy:-se}),K.appendChild(xe),J.insertBefore(K,J.firstChild)}}attr(ie,oe,Ee,me){let{element:Te}=this,K=ee.symbolCustomAttribs,J,se,xe=this,Q;return typeof ie=="string"&&oe!==void 0&&(J=ie,(ie={})[J]=oe),typeof ie=="string"?xe=(this[ie+"Getter"]||this._defaultGetter).call(this,ie,Te):(M(ie,function(ae,ce){Q=!1,me||m(this,ce),this.symbolName&&K.indexOf(ce)!==-1&&(se||(this.symbolAttr(ie),se=!0),Q=!0),this.rotation&&(ce==="x"||ce==="y")&&(this.doTransform=!0),Q||(this[ce+"Setter"]||this._defaultSetter).call(this,ae,ce,Te)},this),this.afterSetters()),Ee&&Ee.call(this),xe}clip(ie){if(ie&&!ie.clipPath){let oe=q()+"-",Ee=this.renderer.createElement("clipPath").attr({id:oe}).add(this.renderer.defs);O(ie,{clipPath:Ee,id:oe,count:0}),ie.add(Ee)}return this.attr("clip-path",ie?`url(${this.renderer.url}#${ie.id})`:"none")}crisp(ie,oe){oe=Math.round(oe||ie.strokeWidth||0);let Ee=ie.x||this.x||0,me=ie.y||this.y||0,Te=(ie.width||this.width||0)+Ee,K=(ie.height||this.height||0)+me,J=w(Ee,oe),se=w(me,oe);return O(ie,{x:J,y:se,width:w(Te,oe)-J,height:w(K,oe)-se}),S(ie.strokeWidth)&&(ie.strokeWidth=oe),ie}complexColor(ie,oe,Ee){let me=this.renderer,Te,K,J,se,xe,Q,ae,ce,ge,be,Le=[],_e;Y(this.renderer,"complexColor",{args:arguments},function(){if(ie.radialGradient?K="radialGradient":ie.linearGradient&&(K="linearGradient"),K){if(J=ie[K],xe=me.gradients,Q=ie.stops,ge=Ee.radialReference,X(J)&&(ie[K]=J={x1:J[0],y1:J[1],x2:J[2],y2:J[3],gradientUnits:"userSpaceOnUse"}),K==="radialGradient"&&ge&&!S(J.gradientUnits)&&(se=J,J=B(J,me.getRadialAttr(ge,se),{gradientUnits:"userSpaceOnUse"})),M(J,function(Ne,$e){$e!=="id"&&Le.push($e,Ne)}),M(Q,function(Ne){Le.push(Ne)}),xe[Le=Le.join(",")])be=xe[Le].attr("id");else{J.id=be=q();let Ne=xe[Le]=me.createElement(K).attr(J).add(me.defs);Ne.radAttr=se,Ne.stops=[],Q.forEach(function($e){$e[1].indexOf("rgba")===0?(ae=(Te=a.parse($e[1])).get("rgb"),ce=Te.get("a")):(ae=$e[1],ce=1);let Ye=me.createElement("stop").attr({offset:$e[0],"stop-color":ae,"stop-opacity":ce}).add(Ne);Ne.stops.push(Ye)})}_e="url("+me.url+"#"+be+")",Ee.setAttribute(oe,_e),Ee.gradient=Le,ie.toString=function(){return _e}}})}css(ie){let oe=this.styles,Ee={},me=this.element,Te,K=!oe;if(oe&&M(ie,function(J,se){oe&&oe[se]!==J&&(Ee[se]=J,K=!0)}),K){oe&&(ie=O(oe,Ee)),ie.width===null||ie.width==="auto"?delete this.textWidth:me.nodeName.toLowerCase()==="text"&&ie.width&&(Te=this.textWidth=V(ie.width)),O(this.styles,ie),Te&&!_&&this.renderer.forExport&&delete ie.width;let J=B(ie);me.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","width"].forEach(se=>J&&delete J[se]),J.color&&(J.fill=J.color)),N(me,J)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),ie.textOutline&&this.applyTextOutline(ie.textOutline)),this}dashstyleSetter(ie){let oe,Ee=this["stroke-width"];if(Ee==="inherit"&&(Ee=1),ie=ie&&ie.toLowerCase()){let me=ie.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(oe=me.length;oe--;)me[oe]=""+V(me[oe])*D(Ee,NaN);ie=me.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",ie)}}destroy(){var se;let ie=this,oe=ie.element||{},Ee=ie.renderer,me=oe.ownerSVGElement,Te=oe.nodeName==="SPAN"&&ie.parentGroup||void 0,K,J;if(oe.onclick=oe.onmouseout=oe.onmouseover=oe.onmousemove=oe.point=null,m(ie),ie.clipPath&&me){let xe=ie.clipPath;[].forEach.call(me.querySelectorAll("[clip-path],[CLIP-PATH]"),function(Q){Q.getAttribute("clip-path").indexOf(xe.element.id)>-1&&Q.removeAttribute("clip-path")}),ie.clipPath=xe.destroy()}if(ie.connector=(se=ie.connector)==null?void 0:se.destroy(),ie.stops){for(J=0;J<ie.stops.length;J++)ie.stops[J].destroy();ie.stops.length=0,ie.stops=void 0}for(ie.safeRemoveChild(oe);Te&&Te.div&&Te.div.childNodes.length===0;)K=Te.parentGroup,ie.safeRemoveChild(Te.div),delete Te.div,Te=K;ie.alignOptions&&L(Ee.alignedObjects,ie),M(ie,function(xe,Q){ie[Q]&&ie[Q].parentGroup===ie&&ie[Q].destroy&&ie[Q].destroy(),delete ie[Q]})}dSetter(ie,oe,Ee){X(ie)&&(typeof ie[0]=="string"&&(ie=this.renderer.pathToSegments(ie)),this.pathArray=ie,ie=ie.reduce((me,Te,K)=>Te&&Te.join?(K?me+" ":"")+Te.join(" "):(Te||"").toString(),"")),/(NaN| {2}|^$)/.test(ie)&&(ie="M 0 0"),this[oe]!==ie&&(Ee.setAttribute(oe,ie),this[oe]=ie)}fillSetter(ie,oe,Ee){typeof ie=="string"?Ee.setAttribute(oe,ie):ie&&this.complexColor(ie,oe,Ee)}hrefSetter(ie,oe,Ee){Ee.setAttributeNS("http://www.w3.org/1999/xlink",oe,ie)}getBBox(ie,oe){let Ee,me,Te,K,{alignValue:J,element:se,renderer:xe,styles:Q,textStr:ae}=this,{cache:ce,cacheKeys:ge}=xe,be=se.namespaceURI===this.SVG_NS,Le=D(oe,this.rotation,0),_e=xe.styledMode?se&&ee.prototype.getStyle.call(se,"font-size"):Q.fontSize;if(S(ae)&&((K=ae.toString()).indexOf("<")===-1&&(K=K.replace(/\d/g,"0")),K+=["",xe.rootFontSize,_e,Le,this.textWidth,J,Q.textOverflow,Q.fontWeight].join(",")),K&&!ie&&(Ee=ce[K]),!Ee||Ee.polygon){if(be||xe.forExport){try{Te=this.fakeTS&&function($e){let Ye=se.querySelector(".highcharts-text-outline");Ye&&N(Ye,{display:$e})},H(Te)&&Te("none"),Ee=se.getBBox?O({},se.getBBox()):{width:se.offsetWidth,height:se.offsetHeight,x:0,y:0},H(Te)&&Te("")}catch{}(!Ee||Ee.width<0)&&(Ee={x:0,y:0,width:0,height:0})}else Ee=this.htmlGetBBox();me=Ee.height,be&&(Ee.height=me={"11px,17":14,"13px,20":16}[`${_e||""},${Math.round(me)}`]||me),Le&&(Ee=this.getRotatedBox(Ee,Le));let Ne={bBox:Ee};Y(this,"afterGetBBox",Ne),Ee=Ne.bBox}if(K&&(ae===""||Ee.height>0)){for(;ge.length>250;)delete ce[ge.shift()];ce[K]||ge.push(K),ce[K]=Ee}return Ee}getRotatedBox(ie,oe){let{x:Ee,y:me,width:Te,height:K}=ie,{alignValue:J,translateY:se,rotationOriginX:xe=0,rotationOriginY:Q=0}=this,ae={right:1,center:.5}[J||0]||0,ce=Number(this.element.getAttribute("y")||0)-(se?0:me),ge=oe*y,be=(oe-90)*y,Le=Math.cos(ge),_e=Math.sin(ge),Ne=Te*Le,$e=Te*_e,Ye=Math.cos(be),Xe=Math.sin(be),[[De,we],[ke,ze]]=[xe,Q].map(sn=>[sn-sn*Le,sn*_e]),Me=Ee+ae*(Te-Ne)+De+ze+ce*Ye,je=Me+Ne,Ke=je-K*Ye,nt=Ke-Ne,ot=me+ce-ae*$e-we+ke+ce*Xe,ht=ot+$e,gt=ht-K*Xe,Tt=gt-$e,$t=Math.min(Me,je,Ke,nt),mt=Math.min(ot,ht,gt,Tt),Ct=Math.max(Me,je,Ke,nt)-$t,St=Math.max(ot,ht,gt,Tt)-mt;return{x:$t,y:mt,width:Ct,height:St,polygon:[[Me,ot],[je,ht],[Ke,gt],[nt,Tt]]}}getStyle(ie){return T.getComputedStyle(this.element||this,"").getPropertyValue(ie)}hasClass(ie){return(""+this.attr("class")).split(" ").indexOf(ie)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(ie,oe){this.onEvents={},this.opacity=1,this.SVG_NS=x,this.element=oe==="span"||oe==="body"?v(oe):g.createElementNS(this.SVG_NS,oe),this.renderer=ie,this.styles={},Y(this,"afterInit")}on(ie,oe){let{onEvents:Ee}=this;return Ee[ie]&&Ee[ie](),Ee[ie]=E(this.element,ie,oe),this}opacitySetter(ie,oe,Ee){let me=Number(Number(ie).toFixed(3));this.opacity=me,Ee.setAttribute(oe,me)}reAlign(){var ie;(ie=this.alignOptions)!=null&&ie.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(ie){return this.attr("class",(""+this.attr("class")).replace(G(ie)?RegExp(`(^| )${ie}( |$)`):ie," ").replace(/ +/g," ").trim())}removeTextOutline(){let ie=this.element.querySelector("tspan.highcharts-text-outline");ie&&this.safeRemoveChild(ie)}safeRemoveChild(ie){let oe=ie.parentNode;oe&&oe.removeChild(ie)}setRadialReference(ie){let oe=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=ie,oe&&oe.radAttr&&oe.animate(this.renderer.getRadialAttr(ie,oe.radAttr)),this}shadow(ie){var Te;let{renderer:oe}=this,Ee=B(((Te=this.parentGroup)==null?void 0:Te.rotation)===90?{offsetX:-1,offsetY:-1}:{},$(ie)?ie:{}),me=oe.shadowDefinition(Ee);return this.attr({filter:ie?`url(${oe.url}#${me})`:"none"})}show(ie=!0){return this.attr({visibility:ie?"inherit":"visible"})}"stroke-widthSetter"(ie,oe,Ee){this[oe]=ie,Ee.setAttribute(oe,ie)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let ie=this.getStyle("stroke-width"),oe=0,Ee;return/px$/.test(ie)?oe=V(ie):ie!==""&&(k(Ee=g.createElementNS(x,"rect"),{width:ie,"stroke-width":0}),this.element.parentNode.appendChild(Ee),oe=Ee.getBBox().width,Ee.parentNode.removeChild(Ee)),oe}symbolAttr(ie){let oe=this;ee.symbolCustomAttribs.forEach(function(Ee){oe[Ee]=D(ie[Ee],oe[Ee])}),oe.attr({d:oe.renderer.symbols[oe.symbolName](oe.x,oe.y,oe.width,oe.height,oe)})}textSetter(ie){ie!==this.textStr&&(delete this.textPxLength,this.textStr=ie,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(ie){let oe=this.element,Ee=oe.getElementsByTagName("title")[0]||g.createElementNS(this.SVG_NS,"title");oe.insertBefore?oe.insertBefore(Ee,oe.firstChild):oe.appendChild(Ee),Ee.textContent=z(D(ie,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let ie=this.element;return ie.parentNode.appendChild(ie),this}translate(ie,oe){return this.attr({translateX:ie,translateY:oe})}updateTransform(ie="transform"){var ce;let{element:oe,matrix:Ee,rotation:me=0,rotationOriginX:Te,rotationOriginY:K,scaleX:J,scaleY:se,translateX:xe=0,translateY:Q=0}=this,ae=["translate("+xe+","+Q+")"];S(Ee)&&ae.push("matrix("+Ee.join(",")+")"),me&&(ae.push("rotate("+me+" "+D(Te,oe.getAttribute("x"),0)+" "+D(K,oe.getAttribute("y")||0)+")"),((ce=this.text)==null?void 0:ce.element.tagName)==="SPAN"&&this.text.attr({rotation:me,rotationOriginX:(Te||0)-this.padding,rotationOriginY:(K||0)-this.padding})),(S(J)||S(se))&&ae.push("scale("+D(J,1)+" "+D(se,1)+")"),ae.length&&!(this.text||this).textPath&&oe.setAttribute(ie,ae.join(" "))}visibilitySetter(ie,oe,Ee){ie==="inherit"?Ee.removeAttribute(oe):this[oe]!==ie&&Ee.setAttribute(oe,ie),this[oe]=ie}xGetter(ie){return this.element.nodeName==="circle"&&(ie==="x"?ie="cx":ie==="y"&&(ie="cy")),this._defaultGetter(ie)}zIndexSetter(ie,oe){let Ee=this.renderer,me=this.parentGroup,Te=(me||Ee).element||Ee.box,K=this.element,J=Te===Ee.box,se,xe,Q,ae=!1,ce,ge=this.added,be;if(S(ie)?(K.setAttribute("data-z-index",ie),ie=+ie,this[oe]===ie&&(ge=!1)):S(this[oe])&&K.removeAttribute("data-z-index"),this[oe]=ie,ge){for((ie=this.zIndex)&&me&&(me.handleZ=!0),be=(se=Te.childNodes).length-1;be>=0&&!ae;be--)ce=!S(Q=(xe=se[be]).getAttribute("data-z-index")),xe!==K&&(ie<0&&ce&&!J&&!be?(Te.insertBefore(K,se[be]),ae=!0):(V(Q)<=ie||ce&&(!S(ie)||ie>=0))&&(Te.insertBefore(K,se[be+1]),ae=!0));ae||(Te.insertBefore(K,se[J?3:0]),ae=!0)}return ae}}return ee.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],ee.prototype.strokeSetter=ee.prototype.fillSetter,ee.prototype.yGetter=ee.prototype.xGetter,ee.prototype.matrixSetter=ee.prototype.rotationOriginXSetter=ee.prototype.rotationOriginYSetter=ee.prototype.rotationSetter=ee.prototype.scaleXSetter=ee.prototype.scaleYSetter=ee.prototype.translateXSetter=ee.prototype.translateYSetter=ee.prototype.verticalAlignSetter=function(ue,ie){this[ie]=ue,this.doTransform=!0},ee}),i(t,"Core/Renderer/SVG/SVGLabel.js",[t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,a){let{defined:o,extend:s,isNumber:d,merge:p,pick:m,removeEvent:y}=a;class g extends r{constructor(x,T,E,k,v,w,N,S,L,O){let Y;super(x,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=T,this.x=E,this.y=k,this.anchorX=w,this.anchorY=N,this.baseline=L,this.className=O,this.addClass(O==="button"?"highcharts-no-tooltip":"highcharts-label"),O&&this.addClass("highcharts-"+O),this.text=x.text(void 0,0,0,S).attr({zIndex:1}),typeof v=="string"&&((Y=/^url\((.*?)\)$/.test(v))||this.renderer.symbols[v])&&(this.symbolKey=v),this.bBox=g.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=x.styledMode||Y,this.deferredAttr={},this.alignFactor=0}alignSetter(x){let T={left:0,center:.5,right:1}[x];T!==this.alignFactor&&(this.alignFactor=T,this.bBox&&d(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(x,T){this.anchorX=x,this.boxAttr(T,Math.round(x)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(x,T){this.anchorY=x,this.boxAttr(T,x-this.ySetting)}boxAttr(x,T){this.box?this.box.attr(x,T):this.deferredAttr[x]=T}css(x){if(x){let T={};x=p(x),g.textProps.forEach(E=>{x[E]!==void 0&&(T[E]=x[E],delete x[E])}),this.text.css(T),"fontSize"in T||"fontWeight"in T?this.updateTextPadding():("width"in T||"textOverflow"in T)&&this.updateBoxSize()}return r.prototype.css.call(this,x)}destroy(){y(this.element,"mouseenter"),y(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),r.prototype.destroy.call(this)}fillSetter(x,T){x&&(this.needsBox=!0),this.fill=x,this.boxAttr(T,x)}getBBox(x,T){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:E,height:k=0,translateX:v=0,translateY:w=0,width:N=0}=this,S=m(this.paddingLeft,E),L=T??(this.rotation||0),O={width:N,height:k,x:v+this.bBox.x-S,y:w+this.bBox.y-E+this.baselineOffset};return L&&(O=this.getRotatedBox(O,L)),O}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(x){this.heightSetting=x,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:m(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&o(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(x,T){d(x)?x!==this[T]&&(this[T]=x,this.updateTextPadding()):this[T]=void 0}rSetter(x,T){this.boxAttr(T,x)}strokeSetter(x,T){this.stroke=x,this.boxAttr(T,x)}"stroke-widthSetter"(x,T){x&&(this.needsBox=!0),this["stroke-width"]=x,this.boxAttr(T,x)}"text-alignSetter"(x){this.textAlign=x}textSetter(x){x!==void 0&&this.text.attr({text:x}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let x,T=this.text,E={},k=this.padding,v=this.bBox=(!d(this.widthSetting)||!d(this.heightSetting)||this.textAlign)&&o(T.textStr)?T.getBBox(void 0,0):g.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||v.height||0)+2*k;let w=this.renderer.fontMetrics(T);if(this.baselineOffset=k+Math.min((this.text.firstLineMetrics||w).b,v.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-w.h)/2),this.needsBox&&!T.textPath){if(!this.box){let N=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();N.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),N.add(this)}x=this.getCrispAdjust(),E.x=x,E.y=(this.baseline?-this.baselineOffset:0)+x,E.width=Math.round(this.width),E.height=Math.round(this.height),this.box.attr(s(E,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let x=this.text;if(!x.textPath){this.updateBoxSize();let T=this.baseline?0:this.baselineOffset,E=m(this.paddingLeft,this.padding);o(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(E+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(E!==x.x||T!==x.y)&&(x.attr("x",E),x.hasBoxWidthChanged&&(this.bBox=x.getBBox(!0)),T!==void 0&&x.attr("y",T)),x.x=E,x.y=T}}widthSetter(x){this.widthSetting=d(x)?x:void 0,this.doUpdate=!0}getPaddedWidth(){let x=this.padding,T=m(this.paddingLeft,x),E=m(this.paddingRight,x);return(this.widthSetting||this.bBox.width||0)+T+E}xSetter(x){this.x=x,this.alignFactor&&(x-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(x),this.attr("translateX",this.xSetting)}ySetter(x){this.ySetting=this.y=Math.round(x),this.attr("translateY",this.ySetting)}}return g.emptyBBox={width:0,height:0,x:0,y:0},g.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],g}),i(t,"Core/Renderer/SVG/Symbols.js",[t["Core/Utilities.js"]],function(r){let{defined:a,isNumber:o,pick:s}=r;function d(y,g,_,x,T){let E=[];if(T){let k=T.start||0,v=s(T.r,_),w=s(T.r,x||_),N=2e-4/(T.borderRadius?1:Math.max(v,1)),S=Math.abs((T.end||0)-k-2*Math.PI)<N,L=(T.end||0)-(S?N:0),O=T.innerR,Y=s(T.open,S),X=Math.cos(k),H=Math.sin(k),$=Math.cos(L),G=Math.sin(L),B=s(T.longArc,L-k-Math.PI<N?0:1),M=["A",v,w,0,B,s(T.clockwise,1),y+v*$,g+w*G];M.params={start:k,end:L,cx:y,cy:g},E.push(["M",y+v*X,g+w*H],M),a(O)&&((M=["A",O,O,0,B,a(T.clockwise)?1-T.clockwise:0,y+O*X,g+O*H]).params={start:L,end:k,cx:y,cy:g},E.push(Y?["M",y+O*$,g+O*G]:["L",y+O*$,g+O*G],M)),Y||E.push(["Z"])}return E}function p(y,g,_,x,T){return T&&T.r?m(y,g,_,x,T):[["M",y,g],["L",y+_,g],["L",y+_,g+x],["L",y,g+x],["Z"]]}function m(y,g,_,x,T){let E=(T==null?void 0:T.r)||0;return[["M",y+E,g],["L",y+_-E,g],["A",E,E,0,0,1,y+_,g+E],["L",y+_,g+x-E],["A",E,E,0,0,1,y+_-E,g+x],["L",y+E,g+x],["A",E,E,0,0,1,y,g+x-E],["L",y,g+E],["A",E,E,0,0,1,y+E,g],["Z"]]}return{arc:d,callout:function(y,g,_,x,T){let E=Math.min(T&&T.r||0,_,x),k=E+6,v=T&&T.anchorX,w=T&&T.anchorY||0,N=m(y,g,_,x,{r:E});if(!o(v)||v<_&&v>0&&w<x&&w>0)return N;if(y+v>_-k)if(w>g+k&&w<g+x-k)N.splice(3,1,["L",y+_,w-6],["L",y+_+6,w],["L",y+_,w+6],["L",y+_,g+x-E]);else if(v<_){let S=w<g+k,L=S?g:g+x;N.splice(S?2:5,0,["L",v,w],["L",y+_-E,L])}else N.splice(3,1,["L",y+_,x/2],["L",v,w],["L",y+_,x/2],["L",y+_,g+x-E]);else if(y+v<k)if(w>g+k&&w<g+x-k)N.splice(7,1,["L",y,w+6],["L",y-6,w],["L",y,w-6],["L",y,g+E]);else if(v>0){let S=w<g+k,L=S?g:g+x;N.splice(S?1:6,0,["L",v,w],["L",y+E,L])}else N.splice(7,1,["L",y,x/2],["L",v,w],["L",y,x/2],["L",y,g+E]);else w>x&&v<_-k?N.splice(5,1,["L",v+6,g+x],["L",v,g+x+6],["L",v-6,g+x],["L",y+E,g+x]):w<0&&v>k&&N.splice(1,1,["L",v-6,g],["L",v,g-6],["L",v+6,g],["L",_-E,g]);return N},circle:function(y,g,_,x){return d(y+_/2,g+x/2,_/2,x/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(y,g,_,x){return[["M",y+_/2,g],["L",y+_,g+x/2],["L",y+_/2,g+x],["L",y,g+x/2],["Z"]]},rect:p,roundedRect:m,square:p,triangle:function(y,g,_,x){return[["M",y+_/2,g],["L",y+_,g+x],["L",y,g+x],["Z"]]},"triangle-down":function(y,g,_,x){return[["M",y,g],["L",y+_,g],["L",y+_/2,g+x],["Z"]]}}}),i(t,"Core/Renderer/SVG/TextBuilder.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){let{doc:s,SVG_NS:d,win:p}=a,{attr:m,extend:y,fireEvent:g,isString:_,objectEach:x,pick:T}=o;return class{constructor(E){let k=E.styles;this.renderer=E.renderer,this.svgElement=E,this.width=E.textWidth,this.textLineHeight=k&&k.lineHeight,this.textOutline=k&&k.textOutline,this.ellipsis=!!(k&&k.textOverflow==="ellipsis"),this.noWrap=!!(k&&k.whiteSpace==="nowrap")}buildSVG(){let E=this.svgElement,k=E.element,v=E.renderer,w=T(E.textStr,"").toString(),N=w.indexOf("<")!==-1,S=k.childNodes,L=!E.added&&v.box,O=[w,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,E.getStyle("font-size"),this.width].join(",");if(O!==E.textCache){E.textCache=O,delete E.actualWidth;for(let Y=S.length;Y--;)k.removeChild(S[Y]);if(N||this.ellipsis||this.width||E.textPath||w.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(w))){if(w!==""){L&&L.appendChild(k);let Y=new r(w);this.modifyTree(Y.nodes),Y.addToDOM(k),this.modifyDOM(),this.ellipsis&&(k.textContent||"").indexOf("…")!==-1&&E.attr("title",this.unescapeEntities(E.textStr||"",["&lt;","&gt;"])),L&&L.removeChild(k)}}else k.appendChild(s.createTextNode(this.unescapeEntities(w)));_(this.textOutline)&&E.applyTextOutline&&E.applyTextOutline(this.textOutline)}}modifyDOM(){let E,k=this.svgElement,v=m(k.element,"x");for(k.firstLineMetrics=void 0;(E=k.element.firstChild)&&/^[\s\u200B]*$/.test(E.textContent||" ");)k.element.removeChild(E);[].forEach.call(k.element.querySelectorAll("tspan.highcharts-br"),(L,O)=>{L.nextSibling&&L.previousSibling&&(O===0&&L.previousSibling.nodeType===1&&(k.firstLineMetrics=k.renderer.fontMetrics(L.previousSibling)),m(L,{dy:this.getLineHeight(L.nextSibling),x:v}))});let w=this.width||0;if(!w)return;let N=(L,O)=>{let Y=L.textContent||"",X=Y.replace(/([^\^])-/g,"$1- ").split(" "),H=!this.noWrap&&(X.length>1||k.element.childNodes.length>1),$=this.getLineHeight(O),G=0,B=k.actualWidth;if(this.ellipsis)Y&&this.truncate(L,Y,void 0,0,Math.max(0,w-.8*$),(M,D)=>M.substring(0,D)+"…");else if(H){let M=[],D=[];for(;O.firstChild&&O.firstChild!==L;)D.push(O.firstChild),O.removeChild(O.firstChild);for(;X.length;)X.length&&!this.noWrap&&G>0&&(M.push(L.textContent||""),L.textContent=X.join(" ").replace(/- /g,"-")),this.truncate(L,void 0,X,G===0&&B||0,w,(V,F)=>X.slice(0,F).join(" ").replace(/- /g,"-")),B=k.actualWidth,G++;D.forEach(V=>{O.insertBefore(V,L)}),M.forEach(V=>{O.insertBefore(s.createTextNode(V),L);let F=s.createElementNS(d,"tspan");F.textContent="​",m(F,{dy:$,x:v}),O.insertBefore(F,L)})}},S=L=>{[].slice.call(L.childNodes).forEach(O=>{O.nodeType===p.Node.TEXT_NODE?N(O,L):(O.className.baseVal.indexOf("highcharts-br")!==-1&&(k.actualWidth=0),S(O))})};S(k.element)}getLineHeight(E){let k=E.nodeType===p.Node.TEXT_NODE?E.parentElement:E;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(k||this.svgElement.element).h}modifyTree(E){let k=(v,w)=>{let{attributes:N={},children:S,style:L={},tagName:O}=v,Y=this.renderer.styledMode;if(O==="b"||O==="strong"?Y?N.class="highcharts-strong":L.fontWeight="bold":(O==="i"||O==="em")&&(Y?N.class="highcharts-emphasized":L.fontStyle="italic"),L&&L.color&&(L.fill=L.color),O==="br"){N.class="highcharts-br",v.textContent="​";let X=E[w+1];X&&X.textContent&&(X.textContent=X.textContent.replace(/^ +/gm,""))}else O==="a"&&S&&S.some(X=>X.tagName==="#text")&&(v.children=[{children:S,tagName:"tspan"}]);O!=="#text"&&O!=="a"&&(v.tagName="tspan"),y(v,{attributes:N,style:L}),S&&S.filter(X=>X.tagName!=="#text").forEach(k)};E.forEach(k),g(this.svgElement,"afterModifyTree",{nodes:E})}truncate(E,k,v,w,N,S){let L,O,Y=this.svgElement,{rotation:X}=Y,H=[],$=v?1:0,G=(k||v||"").length,B=G,M=function(D,V){let F=V||D,z=E.parentNode;if(z&&H[F]===void 0&&z.getSubStringLength)try{H[F]=w+z.getSubStringLength(0,v?F+1:F)}catch{}return H[F]};if(Y.rotation=0,w+(O=M(E.textContent.length))>N){for(;$<=G;)B=Math.ceil(($+G)/2),v&&(L=S(v,B)),O=M(B,L&&L.length-1),$===G?$=G+1:O>N?G=B-1:$=B;G===0?E.textContent="":k&&G===k.length-1||(E.textContent=L||S(k||v,B))}v&&v.splice(0,B),Y.actualWidth=O,Y.rotation=X}unescapeEntities(E,k){return x(this.renderer.escapes,function(v,w){k&&k.indexOf(v)!==-1||(E=E.toString().replace(RegExp(v,"g"),w))}),E}}}),i(t,"Core/Renderer/SVG/SVGRenderer.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Defaults.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Renderer/SVG/Symbols.js"],t["Core/Renderer/SVG/TextBuilder.js"],t["Core/Utilities.js"]],function(r,a,o,s,d,p,m,y,g,_){let x,{defaultOptions:T}=a,{charts:E,deg2rad:k,doc:v,isFirefox:w,isMS:N,isWebKit:S,noop:L,SVG_NS:O,symbolSizes:Y,win:X}=s,{addEvent:H,attr:$,createElement:G,crisp:B,css:M,defined:D,destroyObjectProperties:V,extend:F,isArray:z,isNumber:W,isObject:q,isString:ee,merge:ue,pick:ie,pInt:oe,replaceNested:Ee,uniqueKey:me}=_;class Te{constructor(J,se,xe,Q,ae,ce,ge){let be,Le,_e=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Ne=_e.element;ge||_e.css(this.getStyle(Q||{})),J.appendChild(Ne),$(J,"dir","ltr"),J.innerHTML.indexOf("xmlns")===-1&&$(Ne,"xmlns",this.SVG_NS),this.box=Ne,this.boxWrapper=_e,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(v.createTextNode("Created with Highcharts 11.4.8")),this.defs=this.createElement("defs").add(),this.allowHTML=ce,this.forExport=ae,this.styledMode=ge,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=_e.getStyle("font-size"),this.setSize(se,xe,!1),w&&J.getBoundingClientRect&&((be=function(){M(J,{left:0,top:0}),Le=J.getBoundingClientRect(),M(J,{left:Math.ceil(Le.left)-Le.left+"px",top:Math.ceil(Le.top)-Le.top+"px"})})(),this.unSubPixelFix=H(X,"resize",be))}definition(J){return new r([J]).addToDOM(this.defs.element)}getReferenceURL(){if((w||S)&&v.getElementsByTagName("base").length){if(!D(x)){let J=me(),se=new r([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:J},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${J})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(v.body);M(se,{position:"fixed",top:0,left:0,zIndex:9e5});let xe=v.elementFromPoint(6,6);x=(xe&&xe.id)==="hitme",v.body.removeChild(se)}if(x)return Ee(X.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(J){return this.style=F({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},J),this.style}setStyle(J){this.boxWrapper.css(this.getStyle(J))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let J=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),V(this.gradients||{}),this.gradients=null,this.defs=J.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(J){return new this.Element(this,J)}getRadialAttr(J,se){return{cx:J[0]-J[2]/2+(se.cx||0)*J[2],cy:J[1]-J[2]/2+(se.cy||0)*J[2],r:(se.r||0)*J[2]}}shadowDefinition(J){let se=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(J).map(Q=>`${Q}-${J[Q]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),xe=ue({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},J);return this.defs.element.querySelector(`#${se}`)||this.definition({tagName:"filter",attributes:{id:se,filterUnits:xe.filterUnits},children:this.getShadowFilterContent(xe)}),se}getShadowFilterContent(J){return[{tagName:"feDropShadow",attributes:{dx:J.offsetX,dy:J.offsetY,"flood-color":J.color,"flood-opacity":Math.min(5*J.opacity,1),stdDeviation:J.width/2}}]}buildText(J){new g(J).buildSVG()}getContrast(J){let se=o.parse(J).rgba.map(Q=>{let ae=Q/255;return ae<=.03928?ae/12.92:Math.pow((ae+.055)/1.055,2.4)}),xe=.2126*se[0]+.7152*se[1]+.0722*se[2];return 1.05/(xe+.05)>(xe+.05)/.05?"#FFFFFF":"#000000"}button(J,se,xe,Q,ae={},ce,ge,be,Le,_e){let Ne=this.label(J,se,xe,Le,void 0,void 0,_e,void 0,"button"),$e=this.styledMode,Ye=arguments,Xe=0;ae=ue(T.global.buttonTheme,ae),$e&&(delete ae.fill,delete ae.stroke,delete ae["stroke-width"]);let De=ae.states||{},we=ae.style||{};delete ae.states,delete ae.style;let ke=[r.filterUserAttributes(ae)],ze=[we];return $e||["hover","select","disabled"].forEach((Me,je)=>{ke.push(ue(ke[0],r.filterUserAttributes(Ye[je+5]||De[Me]||{}))),ze.push(ke[je+1].style),delete ke[je+1].style}),H(Ne.element,N?"mouseover":"mouseenter",function(){Xe!==3&&Ne.setState(1)}),H(Ne.element,N?"mouseout":"mouseleave",function(){Xe!==3&&Ne.setState(Xe)}),Ne.setState=(Me=0)=>{if(Me!==1&&(Ne.state=Xe=Me),Ne.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Me]),!$e){Ne.attr(ke[Me]);let je=ze[Me];q(je)&&Ne.css(je)}},Ne.attr(ke[0]),!$e&&(Ne.css(F({cursor:"default"},we)),_e&&Ne.text.css({pointerEvents:"none"})),Ne.on("touchstart",Me=>Me.stopPropagation()).on("click",function(Me){Xe!==3&&Q.call(Ne,Me)})}crispLine(J,se){let[xe,Q]=J;return D(xe[1])&&xe[1]===Q[1]&&(xe[1]=Q[1]=B(xe[1],se)),D(xe[2])&&xe[2]===Q[2]&&(xe[2]=Q[2]=B(xe[2],se)),J}path(J){let se=this.styledMode?{}:{fill:"none"};return z(J)?se.d=J:q(J)&&F(se,J),this.createElement("path").attr(se)}circle(J,se,xe){let Q=q(J)?J:J===void 0?{}:{x:J,y:se,r:xe},ae=this.createElement("circle");return ae.xSetter=ae.ySetter=function(ce,ge,be){be.setAttribute("c"+ge,ce)},ae.attr(Q)}arc(J,se,xe,Q,ae,ce){let ge;q(J)?(se=(ge=J).y,xe=ge.r,Q=ge.innerR,ae=ge.start,ce=ge.end,J=ge.x):ge={innerR:Q,start:ae,end:ce};let be=this.symbol("arc",J,se,xe,xe,ge);return be.r=xe,be}rect(J,se,xe,Q,ae,ce){let ge=q(J)?J:J===void 0?{}:{x:J,y:se,r:ae,width:Math.max(xe||0,0),height:Math.max(Q||0,0)},be=this.createElement("rect");return this.styledMode||(ce!==void 0&&(ge["stroke-width"]=ce,F(ge,be.crisp(ge))),ge.fill="none"),be.rSetter=function(Le,_e,Ne){be.r=Le,$(Ne,{rx:Le,ry:Le})},be.rGetter=function(){return be.r||0},be.attr(ge)}roundedRect(J){return this.symbol("roundedRect").attr(J)}setSize(J,se,xe){this.width=J,this.height=se,this.boxWrapper.animate({width:J,height:se},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:ie(xe,!0)?void 0:0}),this.alignElements()}g(J){let se=this.createElement("g");return J?se.attr({class:"highcharts-"+J}):se}image(J,se,xe,Q,ae,ce){let ge={preserveAspectRatio:"none"};W(se)&&(ge.x=se),W(xe)&&(ge.y=xe),W(Q)&&(ge.width=Q),W(ae)&&(ge.height=ae);let be=this.createElement("image").attr(ge),Le=function(_e){be.attr({href:J}),ce.call(be,_e)};if(ce){be.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let _e=new X.Image;H(_e,"load",Le),_e.src=J,_e.complete&&Le({})}else be.attr({href:J});return be}symbol(J,se,xe,Q,ae,ce){let ge,be,Le,_e,Ne=this,$e=/^url\((.*?)\)$/,Ye=$e.test(J),Xe=!Ye&&(this.symbols[J]?J:"circle"),De=Xe&&this.symbols[Xe];if(De)typeof se=="number"&&(be=De.call(this.symbols,se||0,xe||0,Q||0,ae||0,ce)),ge=this.path(be),Ne.styledMode||ge.attr("fill","none"),F(ge,{symbolName:Xe||void 0,x:se,y:xe,width:Q,height:ae}),ce&&F(ge,ce);else if(Ye){Le=J.match($e)[1];let we=ge=this.image(Le);we.imgwidth=ie(ce&&ce.width,Y[Le]&&Y[Le].width),we.imgheight=ie(ce&&ce.height,Y[Le]&&Y[Le].height),_e=ke=>ke.attr({width:ke.width,height:ke.height}),["width","height"].forEach(ke=>{we[`${ke}Setter`]=function(ze,Me){this[Me]=ze;let{alignByTranslate:je,element:Ke,width:nt,height:ot,imgwidth:ht,imgheight:gt}=this,Tt=Me==="width"?ht:gt,$t=1;ce&&ce.backgroundSize==="within"&&nt&&ot&&ht&&gt?($t=Math.min(nt/ht,ot/gt),$(Ke,{width:Math.round(ht*$t),height:Math.round(gt*$t)})):Ke&&Tt&&Ke.setAttribute(Me,Tt),!je&&ht&&gt&&this.translate(((nt||0)-ht*$t)/2,((ot||0)-gt*$t)/2)}}),D(se)&&we.attr({x:se,y:xe}),we.isImg=!0,we.symbolUrl=J,D(we.imgwidth)&&D(we.imgheight)?_e(we):(we.attr({width:0,height:0}),G("img",{onload:function(){let ke=E[Ne.chartIndex];this.width===0&&(M(this,{position:"absolute",top:"-999em"}),v.body.appendChild(this)),Y[Le]={width:this.width,height:this.height},we.imgwidth=this.width,we.imgheight=this.height,we.element&&_e(we),this.parentNode&&this.parentNode.removeChild(this),Ne.imgCount--,Ne.imgCount||!ke||ke.hasLoaded||ke.onload()},src:Le}),this.imgCount++)}return ge}clipRect(J,se,xe,Q){return this.rect(J,se,xe,Q,0)}text(J,se,xe,Q){let ae={};if(Q&&(this.allowHTML||!this.forExport))return this.html(J,se,xe);ae.x=Math.round(se||0),xe&&(ae.y=Math.round(xe)),D(J)&&(ae.text=J);let ce=this.createElement("text").attr(ae);return Q&&(!this.forExport||this.allowHTML)||(ce.xSetter=function(ge,be,Le){let _e=Le.getElementsByTagName("tspan"),Ne=Le.getAttribute(be);for(let $e=0,Ye;$e<_e.length;$e++)(Ye=_e[$e]).getAttribute(be)===Ne&&Ye.setAttribute(be,ge);Le.setAttribute(be,ge)}),ce}fontMetrics(J){let se=oe(p.prototype.getStyle.call(J,"font-size")||0),xe=se<24?se+3:Math.round(1.2*se),Q=Math.round(.8*xe);return{h:xe,b:Q,f:se}}rotCorr(J,se,xe){let Q=J;return se&&xe&&(Q=Math.max(Q*Math.cos(se*k),4)),{x:-J/3*Math.sin(se*k),y:Q}}pathToSegments(J){let se=[],xe=[],Q={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let ae=0;ae<J.length;ae++)ee(xe[0])&&W(J[ae])&&xe.length===Q[xe[0].toUpperCase()]&&J.splice(ae,0,xe[0].replace("M","L").replace("m","l")),typeof J[ae]=="string"&&(xe.length&&se.push(xe.slice(0)),xe.length=0),xe.push(J[ae]);return se.push(xe.slice(0)),se}label(J,se,xe,Q,ae,ce,ge,be,Le){return new m(this,J,se,xe,Q,ae,ce,ge,be,Le)}alignElements(){this.alignedObjects.forEach(J=>J.align())}}return F(Te.prototype,{Element:p,SVG_NS:O,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:y,draw:L}),d.registerRendererType("svg",Te,!0),Te}),i(t,"Core/Renderer/HTML/HTMLElement.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{composed:d}=a,{attr:p,css:m,createElement:y,defined:g,extend:_,pInt:x,pushUnique:T}=s;function E(N,S,L){var Y;let O=((Y=this.div)==null?void 0:Y.style)||L.style;o.prototype[`${S}Setter`].call(this,N,S,L),O&&(O[S]=N)}let k=(N,S)=>{var L;if(!N.div){let O=p(N.element,"class"),Y=N.css,X=y("div",O?{className:O}:void 0,{position:"absolute",left:`${N.translateX||0}px`,top:`${N.translateY||0}px`,...N.styles,display:N.display,opacity:N.opacity,visibility:N.visibility},((L=N.parentGroup)==null?void 0:L.div)||S);N.classSetter=(H,$,G)=>{G.setAttribute("class",H),X.className=H},N.translateXSetter=N.translateYSetter=(H,$)=>{N[$]=H,X.style[$==="translateX"?"left":"top"]=`${H}px`,N.doTransform=!0},N.opacitySetter=N.visibilitySetter=E,N.css=H=>(Y.call(N,H),H.cursor&&(X.style.cursor=H.cursor),H.pointerEvents&&(X.style.pointerEvents=H.pointerEvents),N),N.on=function(){return o.prototype.on.apply({element:X,onEvents:N.onEvents},arguments),N},N.div=X}return N.div};class v extends o{static compose(S){T(d,this.compose)&&(S.prototype.html=function(L,O,Y){return new v(this,"span").attr({text:L,x:Math.round(O),y:Math.round(Y)})})}constructor(S,L){super(S,L),this.css({position:"absolute",...S.styledMode?{}:{fontFamily:S.style.fontFamily,fontSize:S.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(S,L,O){this.xCorr=-S*O,this.yCorr=-L}css(S){let L,{element:O}=this,Y=O.tagName==="SPAN"&&S&&"width"in S,X=Y&&S.width;return Y&&(delete S.width,this.textWidth=x(X)||void 0,L=!0),(S==null?void 0:S.textOverflow)==="ellipsis"&&(S.whiteSpace="nowrap",S.overflow="hidden"),_(this.styles,S),m(O,S),L&&this.updateTransform(),this}htmlGetBBox(){let{element:S}=this;return{x:S.offsetLeft,y:S.offsetTop,width:S.offsetWidth,height:S.offsetHeight}}updateTransform(){var W;if(!this.added){this.alignOnAdd=!0;return}let{element:S,renderer:L,rotation:O,rotationOriginX:Y,rotationOriginY:X,styles:H,textAlign:$="left",textWidth:G,translateX:B=0,translateY:M=0,x:D=0,y:V=0}=this,F={left:0,center:.5,right:1}[$],z=H.whiteSpace;if(m(S,{marginLeft:`${B}px`,marginTop:`${M}px`}),S.tagName==="SPAN"){let q=[O,$,S.innerHTML,G,this.textAlign].join(","),ee=-(((W=this.parentGroup)==null?void 0:W.padding)*1)||0,ue,ie=!1;if(G!==this.oldTextWidth){let K=this.textPxLength?this.textPxLength:(m(S,{width:"",whiteSpace:z||"nowrap"}),S.offsetWidth),J=G||0;(J>this.oldTextWidth||K>J)&&(/[ \-]/.test(S.textContent||S.innerText)||S.style.textOverflow==="ellipsis")&&(m(S,{width:K>J||O?G+"px":"auto",display:"block",whiteSpace:z||"normal"}),this.oldTextWidth=G,ie=!0)}this.hasBoxWidthChanged=ie,q!==this.cTT&&(ue=L.fontMetrics(S).b,g(O)&&(O!==(this.oldRotation||0)||$!==this.oldAlign)&&this.setSpanRotation(O,ee,ee),this.getSpanCorrection(!g(O)&&this.textPxLength||S.offsetWidth,ue,F));let{xCorr:oe=0,yCorr:Ee=0}=this,me=(Y??D)-oe-D-ee,Te=(X??V)-Ee-V-ee;m(S,{left:`${D+oe}px`,top:`${V+Ee}px`,transformOrigin:`${me}px ${Te}px`}),this.cTT=q,this.oldRotation=O,this.oldAlign=$}}setSpanRotation(S,L,O){m(this.element,{transform:`rotate(${S}deg)`,transformOrigin:`${L}% ${O}px`})}add(S){let L,O=this.renderer.box.parentNode,Y=[];if(this.parentGroup=S,S&&!(L=S.div)){let X=S;for(;X;)Y.push(X),X=X.parentGroup;for(let H of Y.reverse())L=k(H,O)}return(L||O).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(S){S!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,r.setElementHTML(this.element,S??""),this.textStr=S,this.doTransform=!0)}alignSetter(S){this.alignValue=this.textAlign=S,this.doTransform=!0}xSetter(S,L){this[L]=S,this.doTransform=!0}}let w=v.prototype;return w.visibilitySetter=w.opacitySetter=E,w.ySetter=w.rotationSetter=w.rotationOriginXSetter=w.rotationOriginYSetter=w.xSetter,v}),i(t,"Core/Axis/AxisDefaults.js",[],function(){var r,a;return(a=r||(r={})).xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},a.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:o}=this.axis.chart;return o(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},r}),i(t,"Core/Foundation.js",[t["Core/Utilities.js"]],function(r){var a;let{addEvent:o,isFunction:s,objectEach:d,removeEvent:p}=r;return(a||(a={})).registerEventOptions=function(m,y){m.eventOptions=m.eventOptions||{},d(y.events,function(g,_){m.eventOptions[_]!==g&&(m.eventOptions[_]&&(p(m,_,m.eventOptions[_]),delete m.eventOptions[_]),s(g)&&(m.eventOptions[_]=g,o(m,_,g,{order:0})))})},a}),i(t,"Core/Axis/Tick.js",[t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){let{deg2rad:s}=a,{clamp:d,correctFloat:p,defined:m,destroyObjectProperties:y,extend:g,fireEvent:_,isNumber:x,merge:T,objectEach:E,pick:k}=o;return class{constructor(v,w,N,S,L){this.isNew=!0,this.isNewLabel=!0,this.axis=v,this.pos=w,this.type=N||"",this.parameters=L||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,_(this,"init"),N||S||this.addLabel()}addLabel(){let v=this,w=v.axis,N=w.options,S=w.chart,L=w.categories,O=w.logarithmic,Y=w.names,X=v.pos,H=k(v.options&&v.options.labels,N.labels),$=w.tickPositions,G=X===$[0],B=X===$[$.length-1],M=(!H.step||H.step===1)&&w.tickInterval===1,D=$.info,V=v.label,F,z,W,q=this.parameters.category||(L?k(L[X],Y[X],X):X);O&&x(q)&&(q=p(O.lin2log(q))),w.dateTime&&(D?F=(z=S.time.resolveDTLFormat(N.dateTimeLabelFormats[!N.grid&&D.higherRanks[X]||D.unitName])).main:x(q)&&(F=w.dateTime.getXDateFormat(q,N.dateTimeLabelFormats||{}))),v.isFirst=G,v.isLast=B;let ee={axis:w,chart:S,dateTimeLabelFormat:F,isFirst:G,isLast:B,pos:X,tick:v,tickPositionInfo:D,value:q};_(this,"labelFormat",ee);let ue=Ee=>H.formatter?H.formatter.call(Ee,Ee):H.format?(Ee.text=w.defaultLabelFormatter.call(Ee),r.format(H.format,Ee,S)):w.defaultLabelFormatter.call(Ee),ie=ue.call(ee,ee),oe=z&&z.list;oe?v.shortenLabel=function(){for(W=0;W<oe.length;W++)if(g(ee,{dateTimeLabelFormat:oe[W]}),V.attr({text:ue.call(ee,ee)}),V.getBBox().width<w.getSlotWidth(v)-2*(H.padding||0))return;V.attr({text:""})}:v.shortenLabel=void 0,M&&w._addedPlotLB&&v.moveLabel(ie,H),m(V)||v.movedLabel?V&&V.textStr!==ie&&!M&&(!V.textWidth||H.style.width||V.styles.width||V.css({width:null}),V.attr({text:ie}),V.textPxLength=V.getBBox().width):(v.label=V=v.createLabel(ie,H),v.rotation=0)}createLabel(v,w,N){let S=this.axis,L=S.chart,O=m(v)&&w.enabled?L.renderer.text(v,N==null?void 0:N.x,N==null?void 0:N.y,w.useHTML).add(S.labelGroup):void 0;return O&&(L.styledMode||O.css(T(w.style)),O.textPxLength=O.getBBox().width),O}destroy(){y(this,this.axis)}getPosition(v,w,N,S){let L=this.axis,O=L.chart,Y=S&&O.oldChartHeight||O.chartHeight,X={x:v?p(L.translate(w+N,void 0,void 0,S)+L.transB):L.left+L.offset+(L.opposite?(S&&O.oldChartWidth||O.chartWidth)-L.right-L.left:0),y:v?Y-L.bottom+L.offset-(L.opposite?L.height:0):p(Y-L.translate(w+N,void 0,void 0,S)-L.transB)};return X.y=d(X.y,-1e9,1e9),_(this,"afterGetPosition",{pos:X}),X}getLabelPosition(v,w,N,S,L,O,Y,X){let H,$,G=this.axis,B=G.transA,M=G.isLinked&&G.linkedParent?G.linkedParent.reversed:G.reversed,D=G.staggerLines,V=G.tickRotCorr||{x:0,y:0},F=S||G.reserveSpaceDefault?0:-G.labelOffset*(G.labelAlign==="center"?.5:1),z=L.distance,W={};return H=G.side===0?N.rotation?-z:-N.getBBox().height:G.side===2?V.y+z:Math.cos(N.rotation*s)*(V.y-N.getBBox(!1,0).height/2),m(L.y)&&(H=G.side===0&&G.horiz?L.y+H:L.y),v=v+k(L.x,[0,1,0,-1][G.side]*z)+F+V.x-(O&&S?O*B*(M?-1:1):0),w=w+H-(O&&!S?O*B*(M?1:-1):0),D&&($=Y/(X||1)%D,G.opposite&&($=D-$-1),w+=$*(G.labelOffset/D)),W.x=v,W.y=Math.round(w),_(this,"afterGetLabelPosition",{pos:W,tickmarkOffset:O,index:Y}),W}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(v,w,N,S,L=!1,O){return O.crispLine([["M",v,w],["L",v+(L?0:-N),w+(L?N:0)]],S)}handleOverflow(v){let w=this.axis,N=w.options.labels,S=v.x,L=w.chart.chartWidth,O=w.chart.spacing,Y=k(w.labelLeft,Math.min(w.pos,O[3])),X=k(w.labelRight,Math.max(w.isRadial?0:w.pos+w.len,L-O[1])),H=this.label,$=this.rotation,G={left:0,center:.5,right:1}[w.labelAlign||H.attr("align")],B=H.getBBox().width,M=w.getSlotWidth(this),D={},V=M,F=1,z,W,q;$||N.overflow!=="justify"?$<0&&S-G*B<Y?q=Math.round(S/Math.cos($*s)-Y):$>0&&S+G*B>X&&(q=Math.round((L-S)/Math.cos($*s))):(z=S-G*B,W=S+(1-G)*B,z<Y?V=v.x+V*(1-G)-Y:W>X&&(V=X-v.x+V*G,F=-1),(V=Math.min(M,V))<M&&w.labelAlign==="center"&&(v.x+=F*(M-V-G*(M-Math.min(B,V)))),(B>V||w.autoRotation&&(H.styles||{}).width)&&(q=V)),q&&(this.shortenLabel?this.shortenLabel():(D.width=Math.floor(q)+"px",(N.style||{}).textOverflow||(D.textOverflow="ellipsis"),H.css(D)))}moveLabel(v,w){let N=this,S=N.label,L=N.axis,O=!1,Y;S&&S.textStr===v?(N.movedLabel=S,O=!0,delete N.label):E(L.ticks,function(X){O||X.isNew||X===N||!X.label||X.label.textStr!==v||(N.movedLabel=X.label,O=!0,X.labelPos=N.movedLabel.xy,delete X.label)}),!O&&(N.labelPos||S)&&(Y=N.labelPos||S.xy,N.movedLabel=N.createLabel(v,w,Y),N.movedLabel&&N.movedLabel.attr({opacity:0}))}render(v,w,N){let S=this.axis,L=S.horiz,O=this.pos,Y=k(this.tickmarkOffset,S.tickmarkOffset),X=this.getPosition(L,O,Y,w),H=X.x,$=X.y,G=S.pos,B=G+S.len,M=L?H:$;!S.chart.polar&&this.isNew&&(p(M)<G||M>B)&&(N=0);let D=k(N,this.label&&this.label.newOpacity,1);N=k(N,1),this.isActive=!0,this.renderGridLine(w,N),this.renderMark(X,N),this.renderLabel(X,w,D,v),this.isNew=!1,_(this,"afterRender")}renderGridLine(v,w){let N=this.axis,S=N.options,L={},O=this.pos,Y=this.type,X=k(this.tickmarkOffset,N.tickmarkOffset),H=N.chart.renderer,$=this.gridLine,G,B=S.gridLineWidth,M=S.gridLineColor,D=S.gridLineDashStyle;this.type==="minor"&&(B=S.minorGridLineWidth,M=S.minorGridLineColor,D=S.minorGridLineDashStyle),$||(N.chart.styledMode||(L.stroke=M,L["stroke-width"]=B||0,L.dashstyle=D),Y||(L.zIndex=1),v&&(w=0),this.gridLine=$=H.path().attr(L).addClass("highcharts-"+(Y?Y+"-":"")+"grid-line").add(N.gridGroup)),$&&(G=N.getPlotLinePath({value:O+X,lineWidth:$.strokeWidth(),force:"pass",old:v,acrossPanes:!1}))&&$[v||this.isNew?"attr":"animate"]({d:G,opacity:w})}renderMark(v,w){let N=this.axis,S=N.options,L=N.chart.renderer,O=this.type,Y=N.tickSize(O?O+"Tick":"tick"),X=v.x,H=v.y,$=k(S[O!=="minor"?"tickWidth":"minorTickWidth"],!O&&N.isXAxis?1:0),G=S[O!=="minor"?"tickColor":"minorTickColor"],B=this.mark,M=!B;Y&&(N.opposite&&(Y[0]=-Y[0]),B||(this.mark=B=L.path().addClass("highcharts-"+(O?O+"-":"")+"tick").add(N.axisGroup),N.chart.styledMode||B.attr({stroke:G,"stroke-width":$})),B[M?"attr":"animate"]({d:this.getMarkPath(X,H,Y[0],B.strokeWidth(),N.horiz,L),opacity:w}))}renderLabel(v,w,N,S){let L=this.axis,O=L.horiz,Y=L.options,X=this.label,H=Y.labels,$=H.step,G=k(this.tickmarkOffset,L.tickmarkOffset),B=v.x,M=v.y,D=!0;X&&x(B)&&(X.xy=v=this.getLabelPosition(B,M,X,O,H,G,S,$),(!this.isFirst||this.isLast||Y.showFirstLabel)&&(!this.isLast||this.isFirst||Y.showLastLabel)?!O||H.step||H.rotation||w||N===0||this.handleOverflow(v):D=!1,$&&S%$&&(D=!1),D&&x(v.y)?(v.opacity=N,X[this.isNewLabel?"attr":"animate"](v).show(!0),this.isNewLabel=!1):(X.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let v=this.label,w=this.axis;v&&!this.isNew&&(v.animate({opacity:0},void 0,v.destroy),delete this.label),w.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}}),i(t,"Core/Axis/Axis.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/AxisDefaults.js"],t["Core/Color/Color.js"],t["Core/Defaults.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Axis/Tick.js"],t["Core/Utilities.js"]],function(r,a,o,s,d,p,m,y){let{animObject:g}=r,{xAxis:_,yAxis:x}=a,{defaultOptions:T}=s,{registerEventOptions:E}=d,{deg2rad:k}=p,{arrayMax:v,arrayMin:w,clamp:N,correctFloat:S,defined:L,destroyObjectProperties:O,erase:Y,error:X,extend:H,fireEvent:$,getClosestDistance:G,insertItem:B,isArray:M,isNumber:D,isString:V,merge:F,normalizeTickInterval:z,objectEach:W,pick:q,relativeLength:ee,removeEvent:ue,splat:ie,syncTimeout:oe}=y,Ee=(Te,K)=>z(K,void 0,void 0,q(Te.options.allowDecimals,K<.5||Te.tickAmount!==void 0),!!Te.tickAmount);H(T,{xAxis:_,yAxis:F(_,x)});class me{constructor(K,J,se){this.init(K,J,se)}init(K,J,se=this.coll){let xe=se==="xAxis",Q=this.isZAxis||(K.inverted?!xe:xe);this.chart=K,this.horiz=Q,this.isXAxis=xe,this.coll=se,$(this,"init",{userOptions:J}),this.opposite=q(J.opposite,this.opposite),this.side=q(J.side,this.side,Q?this.opposite?0:2:this.opposite?1:3),this.setOptions(J);let ae=this.options,ce=ae.labels;this.type??(this.type=ae.type||"linear"),this.uniqueNames??(this.uniqueNames=ae.uniqueNames??!0),$(this,"afterSetType"),this.userOptions=J,this.minPixelPadding=0,this.reversed=q(ae.reversed,this.reversed),this.visible=ae.visible,this.zoomEnabled=ae.zoomEnabled,this.hasNames=this.type==="category"||ae.categories===!0,this.categories=M(ae.categories)&&ae.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=L(ae.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=ae.minRange||ae.maxZoom,this.range=ae.range,this.offset=ae.offset||0,this.max=void 0,this.min=void 0;let ge=q(ae.crosshair,ie(K.options.tooltip.crosshairs)[xe?0:1]);this.crosshair=ge===!0?{}:ge,K.axes.indexOf(this)===-1&&(xe?K.axes.splice(K.xAxis.length,0,this):K.axes.push(this),B(this,K[this.coll])),K.orderItems(this.coll),this.series=this.series||[],K.inverted&&!this.isZAxis&&xe&&!L(this.reversed)&&(this.reversed=!0),this.labelRotation=D(ce.rotation)?ce.rotation:void 0,E(this,ae),$(this,"afterInit")}setOptions(K){let J=this.horiz?{labels:{autoRotation:[-45],padding:4},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=F(J,T[this.coll],K),$(this,"afterSetOptions",{userOptions:K})}defaultLabelFormatter(){let K=this.axis,{numberFormatter:J}=this.chart,se=D(this.value)?this.value:NaN,xe=K.chart.time,Q=K.categories,ae=this.dateTimeLabelFormat,ce=T.lang,ge=ce.numericSymbols,be=ce.numericSymbolMagnitude||1e3,Le=K.logarithmic?Math.abs(se):K.tickInterval,_e=ge&&ge.length,Ne,$e;if(Q)$e=`${this.value}`;else if(ae)$e=xe.dateFormat(ae,se);else if(_e&&ge&&Le>=1e3)for(;_e--&&$e===void 0;)Le>=(Ne=Math.pow(be,_e+1))&&10*se%Ne==0&&ge[_e]!==null&&se!==0&&($e=J(se/Ne,-1)+ge[_e]);return $e===void 0&&($e=Math.abs(se)>=1e4?J(se,-1):J(se,-1,void 0,"")),$e}getSeriesExtremes(){let K,J=this;$(this,"getSeriesExtremes",null,function(){J.hasVisibleSeries=!1,J.dataMin=J.dataMax=J.threshold=void 0,J.softThreshold=!J.isXAxis,J.series.forEach(se=>{if(se.reserveSpace()){let xe=se.options,Q,ae=xe.threshold,ce,ge;if(J.hasVisibleSeries=!0,J.positiveValuesOnly&&0>=(ae||0)&&(ae=void 0),J.isXAxis)(Q=se.xData)&&Q.length&&(Q=J.logarithmic?Q.filter(be=>be>0):Q,ce=(K=se.getXExtremes(Q)).min,ge=K.max,D(ce)||ce instanceof Date||(Q=Q.filter(D),ce=(K=se.getXExtremes(Q)).min,ge=K.max),Q.length&&(J.dataMin=Math.min(q(J.dataMin,ce),ce),J.dataMax=Math.max(q(J.dataMax,ge),ge)));else{let be=se.applyExtremes();D(be.dataMin)&&(ce=be.dataMin,J.dataMin=Math.min(q(J.dataMin,ce),ce)),D(be.dataMax)&&(ge=be.dataMax,J.dataMax=Math.max(q(J.dataMax,ge),ge)),L(ae)&&(J.threshold=ae),(!xe.softThreshold||J.positiveValuesOnly)&&(J.softThreshold=!1)}}})}),$(this,"afterGetSeriesExtremes")}translate(K,J,se,xe,Q,ae){var Xe;let ce=this.linkedParent||this,ge=xe&&ce.old?ce.old.min:ce.min;if(!D(ge))return NaN;let be=ce.minPixelPadding,Le=(ce.isOrdinal||((Xe=ce.brokenAxis)==null?void 0:Xe.hasBreaks)||ce.logarithmic&&Q)&&ce.lin2val,_e=1,Ne=0,$e=xe&&ce.old?ce.old.transA:ce.transA,Ye=0;return $e||($e=ce.transA),se&&(_e*=-1,Ne=ce.len),ce.reversed&&(_e*=-1,Ne-=_e*(ce.sector||ce.len)),J?(Ye=(K=K*_e+Ne-be)/$e+ge,Le&&(Ye=ce.lin2val(Ye))):(Le&&(K=ce.val2lin(K)),Ye=_e*(K-ge)*$e+Ne+_e*be+(D(ae)?$e*ae:0),ce.isRadial||(Ye=S(Ye))),Ye}toPixels(K,J){return this.translate(K,!1,!this.horiz,void 0,!0)+(J?0:this.pos)}toValue(K,J){return this.translate(K-(J?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(K){let J=this,se=J.chart,xe=J.left,Q=J.top,ae=K.old,ce=K.value,ge=K.lineWidth,be=ae&&se.oldChartHeight||se.chartHeight,Le=ae&&se.oldChartWidth||se.chartWidth,_e=J.transB,Ne=K.translatedValue,$e=K.force,Ye,Xe,De,we,ke;function ze(je,Ke,nt){return $e!=="pass"&&(je<Ke||je>nt)&&($e?je=N(je,Ke,nt):ke=!0),je}let Me={value:ce,lineWidth:ge,old:ae,force:$e,acrossPanes:K.acrossPanes,translatedValue:Ne};return $(this,"getPlotLinePath",Me,function(je){Ye=De=(Ne=N(Ne=q(Ne,J.translate(ce,void 0,void 0,ae)),-1e9,1e9))+_e,Xe=we=be-Ne-_e,D(Ne)?J.horiz?(Xe=Q,we=be-J.bottom+(J.options.isInternal?0:se.scrollablePixelsY||0),Ye=De=ze(Ye,xe,xe+J.width)):(Ye=xe,De=Le-J.right+(se.scrollablePixelsX||0),Xe=we=ze(Xe,Q,Q+J.height)):(ke=!0,$e=!1),je.path=ke&&!$e?void 0:se.renderer.crispLine([["M",Ye,Xe],["L",De,we]],ge||1)}),Me.path}getLinearTickPositions(K,J,se){let xe,Q,ae,ce=S(Math.floor(J/K)*K),ge=S(Math.ceil(se/K)*K),be=[];if(S(ce+K)===ce&&(ae=20),this.single)return[J];for(xe=ce;xe<=ge&&(be.push(xe),(xe=S(xe+K,ae))!==Q);)Q=xe;return be}getMinorTickInterval(){let{minorTicks:K,minorTickInterval:J}=this.options;return K===!0?q(J,"auto"):K!==!1?J:void 0}getMinorTickPositions(){let K=this.options,J=this.tickPositions,se=this.minorTickInterval,xe=this.pointRangePadding||0,Q=(this.min||0)-xe,ae=(this.max||0)+xe,ce=ae-Q,ge=[],be;if(ce&&ce/se<this.len/3){let Le=this.logarithmic;if(Le)this.paddedTicks.forEach(function(_e,Ne,$e){Ne&&ge.push.apply(ge,Le.getLogTickPositions(se,$e[Ne-1],$e[Ne],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")ge=ge.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(se),Q,ae,K.startOfWeek));else for(be=Q+(J[0]-Q)%se;be<=ae&&be!==ge[0];be+=se)ge.push(be)}return ge.length!==0&&this.trimTicks(ge),ge}adjustForMinRange(){let K=this.options,J=this.logarithmic,{max:se,min:xe,minRange:Q}=this,ae,ce,ge,be;this.isXAxis&&Q===void 0&&!J&&(Q=L(K.min)||L(K.max)||L(K.floor)||L(K.ceiling)?null:Math.min(5*(G(this.series.map(Le=>{var _e;return(Le.xIncrement?(_e=Le.xData)==null?void 0:_e.slice(0,2):Le.xData)||[]}))||0),this.dataMax-this.dataMin)),D(se)&&D(xe)&&D(Q)&&se-xe<Q&&(ce=this.dataMax-this.dataMin>=Q,ae=(Q-se+xe)/2,ge=[xe-ae,q(K.min,xe-ae)],ce&&(ge[2]=J?J.log2lin(this.dataMin):this.dataMin),be=[(xe=v(ge))+Q,q(K.max,xe+Q)],ce&&(be[2]=J?J.log2lin(this.dataMax):this.dataMax),(se=w(be))-xe<Q&&(ge[0]=se-Q,ge[1]=q(K.min,se-Q),xe=v(ge))),this.minRange=Q,this.min=xe,this.max=se}getClosest(){let K,J;if(this.categories)J=1;else{let se=[];this.series.forEach(function(xe){var ae;let Q=xe.closestPointRange;((ae=xe.xData)==null?void 0:ae.length)===1?se.push(xe.xData[0]):!xe.noSharedTooltip&&L(Q)&&xe.reserveSpace()&&(J=L(J)?Math.min(J,Q):Q)}),se.length&&(se.sort((xe,Q)=>xe-Q),K=G([se]))}return K&&J?Math.min(K,J):K||J}nameToX(K){let J=M(this.options.categories),se=J?this.categories:this.names,xe=K.options.x,Q;return K.series.requireSorting=!1,L(xe)||(xe=this.uniqueNames&&se?J?se.indexOf(K.name):q(se.keys[K.name],-1):K.series.autoIncrement()),xe===-1?!J&&se&&(Q=se.length):Q=xe,Q!==void 0?(this.names[Q]=K.name,this.names.keys[K.name]=Q):K.x&&(Q=K.x),Q}updateNames(){let K=this,J=this.names;J.length>0&&(Object.keys(J.keys).forEach(function(se){delete J.keys[se]}),J.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(se=>{se.xIncrement=null,(!se.points||se.isDirtyData)&&(K.max=Math.max(K.max,se.xData.length-1),se.processData(),se.generatePoints()),se.data.forEach(function(xe,Q){let ae;xe!=null&&xe.options&&xe.name!==void 0&&(ae=K.nameToX(xe))!==void 0&&ae!==xe.x&&(xe.x=ae,se.xData[Q]=ae)})}))}setAxisTranslation(){let K=this,J=K.max-K.min,se=K.linkedParent,xe=!!K.categories,Q=K.isXAxis,ae=K.axisPointRange||0,ce,ge=0,be=0,Le,_e=K.transA;(Q||xe||ae)&&(ce=K.getClosest(),se?(ge=se.minPointOffset,be=se.pointRangePadding):K.series.forEach(function(Ne){let $e=xe?1:Q?q(Ne.options.pointRange,ce,0):K.axisPointRange||0,Ye=Ne.options.pointPlacement;if(ae=Math.max(ae,$e),!K.single||xe){let Xe=Ne.is("xrange")?!Q:Q;ge=Math.max(ge,Xe&&V(Ye)?0:$e/2),be=Math.max(be,Xe&&Ye==="on"?0:$e)}}),Le=K.ordinal&&K.ordinal.slope&&ce?K.ordinal.slope/ce:1,K.minPointOffset=ge*=Le,K.pointRangePadding=be*=Le,K.pointRange=Math.min(ae,K.single&&xe?1:J),Q&&ce&&(K.closestPointRange=ce)),K.translationSlope=K.transA=_e=K.staticScale||K.len/(J+be||1),K.transB=K.horiz?K.left:K.bottom,K.minPixelPadding=_e*ge,$(this,"afterSetAxisTranslation")}minFromRange(){let{max:K,min:J}=this;return D(K)&&D(J)&&K-J||void 0}setTickInterval(K){var Ct,St,sn,yn;let{categories:J,chart:se,dataMax:xe,dataMin:Q,dateTime:ae,isXAxis:ce,logarithmic:ge,options:be,softThreshold:Le}=this,_e=D(this.threshold)?this.threshold:void 0,Ne=this.minRange||0,{ceiling:$e,floor:Ye,linkedTo:Xe,softMax:De,softMin:we}=be,ke=D(Xe)&&((Ct=se[this.coll])==null?void 0:Ct[Xe]),ze=be.tickPixelInterval,Me=be.maxPadding,je=be.minPadding,Ke=0,nt,ot=D(be.tickInterval)&&be.tickInterval>=0?be.tickInterval:void 0,ht,gt,Tt,$t;if(ae||J||ke||this.getTickAmount(),Tt=q(this.userMin,be.min),$t=q(this.userMax,be.max),ke?(this.linkedParent=ke,nt=ke.getExtremes(),this.min=q(nt.min,nt.dataMin),this.max=q(nt.max,nt.dataMax),this.type!==ke.type&&X(11,!0,se)):(Le&&L(_e)&&D(xe)&&D(Q)&&(Q>=_e?(ht=_e,je=0):xe<=_e&&(gt=_e,Me=0)),this.min=q(Tt,ht,Q),this.max=q($t,gt,xe)),D(this.max)&&D(this.min)&&(ge&&(this.positiveValuesOnly&&!K&&0>=Math.min(this.min,q(Q,this.min))&&X(10,!0,se),this.min=S(ge.log2lin(this.min),16),this.max=S(ge.log2lin(this.max),16)),this.range&&D(Q)&&(this.userMin=this.min=Tt=Math.max(Q,this.minFromRange()||0),this.userMax=$t=this.max,this.range=void 0)),$(this,"foundExtremes"),this.adjustForMinRange(),D(this.min)&&D(this.max)){if(!D(this.userMin)&&D(we)&&we<this.min&&(this.min=Tt=we),!D(this.userMax)&&D(De)&&De>this.max&&(this.max=$t=De),J||this.axisPointRange||(St=this.stacking)!=null&&St.usePercentage||ke||!(Ke=this.max-this.min)||(!L(Tt)&&je&&(this.min-=Ke*je),L($t)||!Me||(this.max+=Ke*Me)),!D(this.userMin)&&D(Ye)&&(this.min=Math.max(this.min,Ye)),!D(this.userMax)&&D($e)&&(this.max=Math.min(this.max,$e)),Le&&D(Q)&&D(xe)){let Zt=_e||0;!L(Tt)&&this.min<Zt&&Q>=Zt?this.min=be.minRange?Math.min(Zt,this.max-Ne):Zt:!L($t)&&this.max>Zt&&xe<=Zt&&(this.max=be.minRange?Math.max(Zt,this.min+Ne):Zt)}!se.polar&&this.min>this.max&&(L(be.min)?this.max=this.min:L(be.max)&&(this.min=this.max)),Ke=this.max-this.min}if(this.min!==this.max&&D(this.min)&&D(this.max)?ke&&!ot&&ze===ke.options.tickPixelInterval?this.tickInterval=ot=ke.tickInterval:this.tickInterval=q(ot,this.tickAmount?Ke/Math.max(this.tickAmount-1,1):void 0,J?1:Ke*ze/Math.max(this.len,ze)):this.tickInterval=1,ce&&!K){let Zt=this.min!==((sn=this.old)==null?void 0:sn.min)||this.max!==((yn=this.old)==null?void 0:yn.max);this.series.forEach(function(hi){var ii;hi.forceCrop=(ii=hi.forceCropping)==null?void 0:ii.call(hi),hi.processData(Zt)}),$(this,"postProcessData",{hasExtremesChanged:Zt})}this.setAxisTranslation(),$(this,"initialAxisTranslation"),this.pointRange&&!ot&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let mt=q(be.minTickInterval,ae&&!this.series.some(Zt=>Zt.noSharedTooltip)?this.closestPointRange:0);!ot&&this.tickInterval<mt&&(this.tickInterval=mt),ae||ge||ot||(this.tickInterval=Ee(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var Le,_e;let K=this.options,J=K.tickPositions,se=K.tickPositioner,xe=this.getMinorTickInterval(),Q=!this.isPanning,ae=Q&&K.startOnTick,ce=Q&&K.endOnTick,ge=[],be;if(this.tickmarkOffset=this.categories&&K.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&L(this.min)&&!this.tickAmount&&(this.min%1==0||K.allowDecimals!==!1),J)ge=J.slice();else if(D(this.min)&&D(this.max)){if(!((Le=this.ordinal)!=null&&Le.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))ge=[this.min,this.max],X(19,!1,this.chart);else if(this.dateTime)ge=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,K.units),this.min,this.max,K.startOfWeek,(_e=this.ordinal)==null?void 0:_e.positions,this.closestPointRange,!0);else if(this.logarithmic)ge=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let Ne=this.tickInterval,$e=Ne;for(;$e<=2*Ne&&(ge=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&ge.length>this.tickAmount);)this.tickInterval=Ee(this,$e*=1.1)}ge.length>this.len&&(ge=[ge[0],ge[ge.length-1]])[0]===ge[1]&&(ge.length=1),se&&(this.tickPositions=ge,(be=se.apply(this,[this.min,this.max]))&&(ge=be))}this.tickPositions=ge,this.minorTickInterval=xe==="auto"&&this.tickInterval?this.tickInterval/K.minorTicksPerMajor:xe,this.paddedTicks=ge.slice(0),this.trimTicks(ge,ae,ce),!this.isLinked&&D(this.min)&&D(this.max)&&(this.single&&ge.length<2&&!this.categories&&!this.series.some(Ne=>Ne.is("heatmap")&&Ne.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),J||be||this.adjustTickAmount()),$(this,"afterSetTickPositions")}trimTicks(K,J,se){let xe=K[0],Q=K[K.length-1],ae=!this.isOrdinal&&this.minPointOffset||0;if($(this,"trimTicks"),!this.isLinked){if(J&&xe!==-1/0)this.min=xe;else for(;this.min-ae>K[0];)K.shift();if(se)this.max=Q;else for(;this.max+ae<K[K.length-1];)K.pop();K.length===0&&L(xe)&&!this.options.tickPositions&&K.push((Q+xe)/2)}}alignToOthers(){let K,J=this,se=J.chart,xe=[this],Q=J.options,ae=se.options.chart,ce=this.coll==="yAxis"&&ae.alignThresholds,ge=[];if(J.thresholdAlignment=void 0,(ae.alignTicks!==!1&&Q.alignTicks||ce)&&Q.startOnTick!==!1&&Q.endOnTick!==!1&&!J.logarithmic){let be=_e=>{let{horiz:Ne,options:$e}=_e;return[Ne?$e.left:$e.top,$e.width,$e.height,$e.pane].join(",")},Le=be(this);se[this.coll].forEach(function(_e){let{series:Ne}=_e;Ne.length&&Ne.some($e=>$e.visible)&&_e!==J&&be(_e)===Le&&(K=!0,xe.push(_e))})}if(K&&ce){xe.forEach(Le=>{let _e=Le.getThresholdAlignment(J);D(_e)&&ge.push(_e)});let be=ge.length>1?ge.reduce((Le,_e)=>Le+=_e,0)/ge.length:void 0;xe.forEach(Le=>{Le.thresholdAlignment=be})}return K}getThresholdAlignment(K){if((!D(this.dataMin)||this!==K&&this.series.some(J=>J.isDirty||J.isDirtyData))&&this.getSeriesExtremes(),D(this.threshold)){let J=N((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(J=1-J),J}}getTickAmount(){let K=this.options,J=K.tickPixelInterval,se=K.tickAmount;L(K.tickInterval)||se||!(this.len<J)||this.isRadial||this.logarithmic||!K.startOnTick||!K.endOnTick||(se=2),!se&&this.alignToOthers()&&(se=Math.ceil(this.len/J)+1),se<4&&(this.finalTickAmt=se,se=5),this.tickAmount=se}adjustTickAmount(){let K=this,{finalTickAmt:J,max:se,min:xe,options:Q,tickPositions:ae,tickAmount:ce,thresholdAlignment:ge}=K,be=ae==null?void 0:ae.length,Le=q(K.threshold,K.softThreshold?0:null),_e,Ne,$e=K.tickInterval,Ye,Xe=()=>ae.push(S(ae[ae.length-1]+$e)),De=()=>ae.unshift(S(ae[0]-$e));if(D(ge)&&(Ye=ge<.5?Math.ceil(ge*(ce-1)):Math.floor(ge*(ce-1)),Q.reversed&&(Ye=ce-1-Ye)),K.hasData()&&D(xe)&&D(se)){let we=()=>{K.transA*=(be-1)/(ce-1),K.min=Q.startOnTick?ae[0]:Math.min(xe,ae[0]),K.max=Q.endOnTick?ae[ae.length-1]:Math.max(se,ae[ae.length-1])};if(D(Ye)&&D(K.threshold)){for(;ae[Ye]!==Le||ae.length!==ce||ae[0]>xe||ae[ae.length-1]<se;){for(ae.length=0,ae.push(K.threshold);ae.length<ce;)ae[Ye]===void 0||ae[Ye]>K.threshold?De():Xe();if($e>8*K.tickInterval)break;$e*=2}we()}else if(be<ce){for(;ae.length<ce;)ae.length%2||xe===Le?Xe():De();we()}if(L(J)){for(Ne=_e=ae.length;Ne--;)(J===3&&Ne%2==1||J<=2&&Ne>0&&Ne<_e-1)&&ae.splice(Ne,1);K.finalTickAmt=void 0}}}setScale(){var ae,ce;let{coll:K,stacking:J}=this,se=!1,xe=!1;this.series.forEach(ge=>{se=se||ge.isDirtyData||ge.isDirty,xe=xe||ge.xAxis&&ge.xAxis.isDirty||!1}),this.setAxisSize();let Q=this.len!==(this.old&&this.old.len);Q||se||xe||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(J&&K==="yAxis"&&J.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),J&&K==="xAxis"&&J.buildStacks(),this.isDirty||(this.isDirty=Q||this.min!==((ae=this.old)==null?void 0:ae.min)||this.max!==((ce=this.old)==null?void 0:ce.max))):J&&J.cleanStacks(),se&&delete this.allExtremes,$(this,"afterSetScale")}setExtremes(K,J,se=!0,xe,Q){this.series.forEach(ae=>{delete ae.kdTree}),$(this,"setExtremes",Q=H(Q,{min:K,max:J}),ae=>{this.userMin=ae.min,this.userMax=ae.max,this.eventArgs=ae,se&&this.chart.redraw(xe)})}setAxisSize(){let K=this.chart,J=this.options,se=J.offsets||[0,0,0,0],xe=this.horiz,Q=this.width=Math.round(ee(q(J.width,K.plotWidth-se[3]+se[1]),K.plotWidth)),ae=this.height=Math.round(ee(q(J.height,K.plotHeight-se[0]+se[2]),K.plotHeight)),ce=this.top=Math.round(ee(q(J.top,K.plotTop+se[0]),K.plotHeight,K.plotTop)),ge=this.left=Math.round(ee(q(J.left,K.plotLeft+se[3]),K.plotWidth,K.plotLeft));this.bottom=K.chartHeight-ae-ce,this.right=K.chartWidth-Q-ge,this.len=Math.max(xe?Q:ae,0),this.pos=xe?ge:ce}getExtremes(){let K=this.logarithmic;return{min:K?S(K.lin2log(this.min)):this.min,max:K?S(K.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(K){let J=this.logarithmic,se=J?J.lin2log(this.min):this.min,xe=J?J.lin2log(this.max):this.max;return K===null||K===-1/0?K=se:K===1/0?K=xe:se>K?K=se:xe<K&&(K=xe),this.translate(K,0,1,0,1)}autoLabelAlign(K){let J=(q(K,0)-90*this.side+720)%360,se={align:"center"};return $(this,"autoLabelAlign",se,function(xe){J>15&&J<165?xe.align="right":J>195&&J<345&&(xe.align="left")}),se.align}tickSize(K){let J=this.options,se=q(J[K==="tick"?"tickWidth":"minorTickWidth"],K==="tick"&&this.isXAxis&&!this.categories?1:0),xe=J[K==="tick"?"tickLength":"minorTickLength"],Q;se&&xe&&(J[K+"Position"]==="inside"&&(xe=-xe),Q=[xe,se]);let ae={tickSize:Q};return $(this,"afterTickSize",ae),ae.tickSize}labelMetrics(){let K=this.chart.renderer,J=this.ticks,se=J[Object.keys(J)[0]]||{};return this.chart.renderer.fontMetrics(se.label||se.movedLabel||K.box)}unsquish(){let K=this.options.labels,J=K.padding||0,se=this.horiz,xe=this.tickInterval,Q=this.len/(((this.categories?1:0)+this.max-this.min)/xe),ae=K.rotation,ce=S(.8*this.labelMetrics().h),ge=Math.max(this.max-this.min,0),be=function(Ye){let Xe=(Ye+2*J)/(Q||1);return(Xe=Xe>1?Math.ceil(Xe):1)*xe>ge&&Ye!==1/0&&Q!==1/0&&ge&&(Xe=Math.ceil(ge/xe)),S(Xe*xe)},Le=xe,_e,Ne=Number.MAX_VALUE,$e;if(se){if(!K.staggerLines&&(D(ae)?$e=[ae]:Q<K.autoRotationLimit&&($e=K.autoRotation)),$e){let Ye,Xe;for(let De of $e)(De===ae||De&&De>=-90&&De<=90)&&(Xe=(Ye=be(Math.abs(ce/Math.sin(k*De))))+Math.abs(De/360))<Ne&&(Ne=Xe,_e=De,Le=Ye)}}else Le=be(.75*ce);return this.autoRotation=$e,this.labelRotation=q(_e,D(ae)?ae:0),K.step?xe:Le}getSlotWidth(K){let J=this.chart,se=this.horiz,xe=this.options.labels,Q=Math.max(this.tickPositions.length-(this.categories?0:1),1),ae=J.margin[3];if(K&&D(K.slotWidth))return K.slotWidth;if(se&&xe.step<2)return xe.rotation?0:(this.staggerLines||1)*this.len/Q;if(!se){let ce=xe.style.width;if(ce!==void 0)return parseInt(String(ce),10);if(ae)return ae-J.spacing[3]}return .33*J.chartWidth}renderUnsquish(){let K=this.chart,J=K.renderer,se=this.tickPositions,xe=this.ticks,Q=this.options.labels,ae=Q.style,ce=this.horiz,ge=this.getSlotWidth(),be=Math.max(1,Math.round(ge-(ce?2*(Q.padding||0):Q.distance||0))),Le={},_e=this.labelMetrics(),Ne=ae.textOverflow,$e,Ye,Xe=0,De,we;if(V(Q.rotation)||(Le.rotation=Q.rotation||0),se.forEach(function(ke){let ze=xe[ke];ze.movedLabel&&ze.replaceMovedLabel(),ze&&ze.label&&ze.label.textPxLength>Xe&&(Xe=ze.label.textPxLength)}),this.maxLabelLength=Xe,this.autoRotation)Xe>be&&Xe>_e.h?Le.rotation=this.labelRotation:this.labelRotation=0;else if(ge&&($e=be,!Ne))for(Ye="clip",we=se.length;!ce&&we--;)(De=xe[se[we]].label)&&(De.styles.textOverflow==="ellipsis"?De.css({textOverflow:"clip"}):De.textPxLength>ge&&De.css({width:ge+"px"}),De.getBBox().height>this.len/se.length-(_e.h-_e.f)&&(De.specificTextOverflow="ellipsis"));Le.rotation&&($e=Xe>.5*K.chartHeight?.33*K.chartHeight:Xe,Ne||(Ye="ellipsis")),this.labelAlign=Q.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(Le.align=this.labelAlign),se.forEach(function(ke){let ze=xe[ke],Me=ze&&ze.label,je=ae.width,Ke={};Me&&(Me.attr(Le),ze.shortenLabel?ze.shortenLabel():$e&&!je&&ae.whiteSpace!=="nowrap"&&($e<Me.textPxLength||Me.element.tagName==="SPAN")?(Ke.width=$e+"px",Ne||(Ke.textOverflow=Me.specificTextOverflow||Ye),Me.css(Ke)):!Me.styles.width||Ke.width||je||Me.css({width:null}),delete Me.specificTextOverflow,ze.rotation=Le.rotation)},this),this.tickRotCorr=J.rotCorr(_e.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(K){return K.hasData()})||this.options.showEmpty&&L(this.min)&&L(this.max)}addTitle(K){let J,se=this.chart.renderer,xe=this.horiz,Q=this.opposite,ae=this.options.title,ce=this.chart.styledMode;this.axisTitle||((J=ae.textAlign)||(J=(xe?{low:"left",middle:"center",high:"right"}:{low:Q?"right":"left",middle:"center",high:Q?"left":"right"})[ae.align]),this.axisTitle=se.text(ae.text||"",0,0,ae.useHTML).attr({zIndex:7,rotation:ae.rotation||0,align:J}).addClass("highcharts-axis-title"),ce||this.axisTitle.css(F(ae.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),ce||ae.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[K?"show":"hide"](K)}generateTick(K){let J=this.ticks;J[K]?J[K].addLabel():J[K]=new m(this,K)}createGroups(){let{axisParent:K,chart:J,coll:se,options:xe}=this,Q=J.renderer,ae=(ce,ge,be)=>Q.g(ce).attr({zIndex:be}).addClass(`highcharts-${se.toLowerCase()}${ge} `+(this.isRadial?`highcharts-radial-axis${ge} `:"")+(xe.className||"")).add(K);this.axisGroup||(this.gridGroup=ae("grid","-grid",xe.gridZIndex),this.axisGroup=ae("axis","",xe.zIndex),this.labelGroup=ae("axis-labels","-labels",xe.labels.zIndex))}getOffset(){let K=this,{chart:J,horiz:se,options:xe,side:Q,ticks:ae,tickPositions:ce,coll:ge}=K,be=J.inverted&&!K.isZAxis?[1,0,3,2][Q]:Q,Le=K.hasData(),_e=xe.title,Ne=xe.labels,$e=D(xe.crossing),Ye=J.axisOffset,Xe=J.clipOffset,De=[-1,1,1,-1][Q],we,ke=0,ze,Me=0,je=0,Ke,nt;if(K.showAxis=we=Le||xe.showEmpty,K.staggerLines=K.horiz&&Ne.staggerLines||void 0,K.createGroups(),Le||K.isLinked?(ce.forEach(function(ot){K.generateTick(ot)}),K.renderUnsquish(),K.reserveSpaceDefault=Q===0||Q===2||{1:"left",3:"right"}[Q]===K.labelAlign,q(Ne.reserveSpace,!$e&&null,K.labelAlign==="center"||null,K.reserveSpaceDefault)&&ce.forEach(function(ot){je=Math.max(ae[ot].getLabelSize(),je)}),K.staggerLines&&(je*=K.staggerLines),K.labelOffset=je*(K.opposite?-1:1)):W(ae,function(ot,ht){ot.destroy(),delete ae[ht]}),_e!=null&&_e.text&&_e.enabled!==!1&&(K.addTitle(we),we&&!$e&&_e.reserveSpace!==!1&&(K.titleOffset=ke=K.axisTitle.getBBox()[se?"height":"width"],Me=L(ze=_e.offset)?0:q(_e.margin,se?5:10))),K.renderLine(),K.offset=De*q(xe.offset,Ye[Q]?Ye[Q]+(xe.margin||0):0),K.tickRotCorr=K.tickRotCorr||{x:0,y:0},nt=Q===0?-K.labelMetrics().h:Q===2?K.tickRotCorr.y:0,Ke=Math.abs(je)+Me,je&&(Ke-=nt,Ke+=De*(se?q(Ne.y,K.tickRotCorr.y+De*Ne.distance):q(Ne.x,De*Ne.distance))),K.axisTitleMargin=q(ze,Ke),K.getMaxLabelDimensions&&(K.maxLabelDimensions=K.getMaxLabelDimensions(ae,ce)),ge!=="colorAxis"&&Xe){let ot=this.tickSize("tick");Ye[Q]=Math.max(Ye[Q],(K.axisTitleMargin||0)+ke+De*K.offset,Ke,ce&&ce.length&&ot?ot[0]+De*K.offset:0);let ht=!K.axisLine||xe.offset?0:K.axisLine.strokeWidth()/2;Xe[be]=Math.max(Xe[be],ht)}$(this,"afterGetOffset")}getLinePath(K){let J=this.chart,se=this.opposite,xe=this.offset,Q=this.horiz,ae=this.left+(se?this.width:0)+xe,ce=J.chartHeight-this.bottom-(se?this.height:0)+xe;return se&&(K*=-1),J.renderer.crispLine([["M",Q?this.left:ae,Q?ce:this.top],["L",Q?J.chartWidth-this.right:ae,Q?ce:J.chartHeight-this.bottom]],K)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(K){let J=this.horiz,se=this.left,xe=this.top,Q=this.len,ae=this.options.title,ce=J?se:xe,ge=this.opposite,be=this.offset,Le=ae.x,_e=ae.y,Ne=this.chart.renderer.fontMetrics(K),$e=K?Math.max(K.getBBox(!1,0).height-Ne.h-1,0):0,Ye={low:ce+(J?0:Q),middle:ce+Q/2,high:ce+(J?Q:0)}[ae.align],Xe=(J?xe+this.height:se)+(J?1:-1)*(ge?-1:1)*(this.axisTitleMargin||0)+[-$e,$e,Ne.f,-$e][this.side],De={x:J?Ye+Le:Xe+(ge?this.width:0)+be+Le,y:J?Xe+_e-(ge?this.height:0)+be:Ye+_e};return $(this,"afterGetTitlePosition",{titlePosition:De}),De}renderMinorTick(K,J){let se=this.minorTicks;se[K]||(se[K]=new m(this,K,"minor")),J&&se[K].isNew&&se[K].render(null,!0),se[K].render(null,!1,1)}renderTick(K,J,se){let xe=this.isLinked,Q=this.ticks;(!xe||K>=this.min&&K<=this.max||this.grid&&this.grid.isColumn)&&(Q[K]||(Q[K]=new m(this,K)),se&&Q[K].isNew&&Q[K].render(J,!0,-1),Q[K].render(J))}render(){let K,J,se=this,xe=se.chart,Q=se.logarithmic,ae=xe.renderer,ce=se.options,ge=se.isLinked,be=se.tickPositions,Le=se.axisTitle,_e=se.ticks,Ne=se.minorTicks,$e=se.alternateBands,Ye=ce.stackLabels,Xe=ce.alternateGridColor,De=ce.crossing,we=se.tickmarkOffset,ke=se.axisLine,ze=se.showAxis,Me=g(ae.globalAnimation);if(se.labelEdge.length=0,se.overlap=!1,[_e,Ne,$e].forEach(function(je){W(je,function(Ke){Ke.isActive=!1})}),D(De)){let je=this.isXAxis?xe.yAxis[0]:xe.xAxis[0],Ke=[1,-1,-1,1][this.side];if(je){let nt=je.toPixels(De,!0);se.horiz&&(nt=je.len-nt),se.offset=Ke*nt}}if(se.hasData()||ge){let je=se.chart.hasRendered&&se.old&&D(se.old.min);se.minorTickInterval&&!se.categories&&se.getMinorTickPositions().forEach(function(Ke){se.renderMinorTick(Ke,je)}),be.length&&(be.forEach(function(Ke,nt){se.renderTick(Ke,nt,je)}),we&&(se.min===0||se.single)&&(_e[-1]||(_e[-1]=new m(se,-1,null,!0)),_e[-1].render(-1))),Xe&&be.forEach(function(Ke,nt){J=be[nt+1]!==void 0?be[nt+1]+we:se.max-we,nt%2==0&&Ke<se.max&&J<=se.max+(xe.polar?-we:we)&&($e[Ke]||($e[Ke]=new p.PlotLineOrBand(se,{})),K=Ke+we,$e[Ke].options={from:Q?Q.lin2log(K):K,to:Q?Q.lin2log(J):J,color:Xe,className:"highcharts-alternate-grid"},$e[Ke].render(),$e[Ke].isActive=!0)}),se._addedPlotLB||(se._addedPlotLB=!0,(ce.plotLines||[]).concat(ce.plotBands||[]).forEach(function(Ke){se.addPlotBandOrLine(Ke)}))}[_e,Ne,$e].forEach(function(je){let Ke=[],nt=Me.duration;W(je,function(ot,ht){ot.isActive||(ot.render(ht,!1,0),ot.isActive=!1,Ke.push(ht))}),oe(function(){let ot=Ke.length;for(;ot--;)je[Ke[ot]]&&!je[Ke[ot]].isActive&&(je[Ke[ot]].destroy(),delete je[Ke[ot]])},je!==$e&&xe.hasRendered&&nt?nt:0)}),ke&&(ke[ke.isPlaced?"animate":"attr"]({d:this.getLinePath(ke.strokeWidth())}),ke.isPlaced=!0,ke[ze?"show":"hide"](ze)),Le&&ze&&(Le[Le.isNew?"attr":"animate"](se.getTitlePosition(Le)),Le.isNew=!1),Ye&&Ye.enabled&&se.stacking&&se.stacking.renderStackTotals(),se.old={len:se.len,max:se.max,min:se.min,transA:se.transA,userMax:se.userMax,userMin:se.userMin},se.isDirty=!1,$(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(K){K.render()})),this.series.forEach(function(K){K.isDirty=!0})}getKeepProps(){return this.keepProps||me.keepProps}destroy(K){let J=this,se=J.plotLinesAndBands,xe=this.eventOptions;if($(this,"destroy",{keepEvents:K}),K||ue(J),[J.ticks,J.minorTicks,J.alternateBands].forEach(function(Q){O(Q)}),se){let Q=se.length;for(;Q--;)se[Q].destroy()}for(let Q in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(ae){J[ae]&&(J[ae]=J[ae].destroy())}),J.plotLinesAndBandsGroups)J.plotLinesAndBandsGroups[Q]=J.plotLinesAndBandsGroups[Q].destroy();W(J,function(Q,ae){J.getKeepProps().indexOf(ae)===-1&&delete J[ae]}),this.eventOptions=xe}drawCrosshair(K,J){let se=this.crosshair,xe=q(se&&se.snap,!0),Q=this.chart,ae,ce,ge,be=this.cross,Le;if($(this,"drawCrosshair",{e:K,point:J}),K||(K=this.cross&&this.cross.e),se&&(L(J)||!xe)!==!1){if(xe?L(J)&&(ce=q(this.coll!=="colorAxis"?J.crosshairPos:null,this.isXAxis?J.plotX:this.len-J.plotY)):ce=K&&(this.horiz?K.chartX-this.pos:this.len-K.chartY+this.pos),L(ce)&&(Le={value:J&&(this.isXAxis?J.x:q(J.stackY,J.y)),translatedValue:ce},Q.polar&&H(Le,{isCrosshair:!0,chartX:K&&K.chartX,chartY:K&&K.chartY,point:J}),ae=this.getPlotLinePath(Le)||null),!L(ae)){this.hideCrosshair();return}ge=this.categories&&!this.isRadial,be||(this.cross=be=Q.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(ge?"category ":"thin ")+(se.className||"")).attr({zIndex:q(se.zIndex,2)}).add(),!Q.styledMode&&(be.attr({stroke:se.color||(ge?o.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":q(se.width,1)}).css({"pointer-events":"none"}),se.dashStyle&&be.attr({dashstyle:se.dashStyle}))),be.show().attr({d:ae}),ge&&!se.width&&be.attr({"stroke-width":this.transA}),this.cross.e=K}else this.hideCrosshair();$(this,"afterDrawCrosshair",{e:K,point:J})}hideCrosshair(){this.cross&&this.cross.hide(),$(this,"afterHideCrosshair")}update(K,J){let se=this.chart;K=F(this.userOptions,K),this.destroy(!0),this.init(se,K),se.isDirtyBox=!0,q(J,!0)&&se.redraw()}remove(K){let J=this.chart,se=this.coll,xe=this.series,Q=xe.length;for(;Q--;)xe[Q]&&xe[Q].remove(!1);Y(J.axes,this),Y(J[se]||[],this),J.orderItems(se),this.destroy(),J.isDirtyBox=!0,q(K,!0)&&J.redraw()}setTitle(K,J){this.update({title:K},J)}setCategories(K,J){this.update({categories:K},J)}}return me.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],me}),i(t,"Core/Axis/DateTimeAxis.js",[t["Core/Utilities.js"]],function(r){var a;let{addEvent:o,getMagnitude:s,normalizeTickInterval:d,timeUnits:p}=r;return function(m){function y(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function g(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new _(this))}m.compose=function(x){return x.keepProps.includes("dateTime")||(x.keepProps.push("dateTime"),x.prototype.getTimeTicks=y,o(x,"afterSetType",g)),x};class _{constructor(T){this.axis=T}normalizeTimeTickInterval(T,E){let k=E||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],v=k[k.length-1],w=p[v[0]],N=v[1],S;for(S=0;S<k.length&&(w=p[(v=k[S])[0]],N=v[1],!k[S+1]||!(T<=(w*N[N.length-1]+p[k[S+1][0]])/2));S++);w===p.year&&T<5*w&&(N=[1,2,5]);let L=d(T/w,N,v[0]==="year"?Math.max(s(T/w),1):1);return{unitRange:w,count:L,unitName:v[0]}}getXDateFormat(T,E){let{axis:k}=this,v=k.chart.time;return k.closestPointRange?v.getDateFormat(k.closestPointRange,T,k.options.startOfWeek,E)||v.resolveDTLFormat(E.year).main:v.resolveDTLFormat(E.day).main}}m.Additions=_}(a||(a={})),a}),i(t,"Core/Axis/LogarithmicAxis.js",[t["Core/Utilities.js"]],function(r){var a;let{addEvent:o,normalizeTickInterval:s,pick:d}=r;return function(p){function m(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new g(this))}function y(){let _=this.logarithmic;_&&(this.lin2val=function(x){return _.lin2log(x)},this.val2lin=function(x){return _.log2lin(x)})}p.compose=function(_){return _.keepProps.includes("logarithmic")||(_.keepProps.push("logarithmic"),o(_,"afterSetType",m),o(_,"afterInit",y)),_};class g{constructor(x){this.axis=x}getLogTickPositions(x,T,E,k){let v=this.axis,w=v.len,N=v.options,S=[];if(k||(this.minorAutoInterval=void 0),x>=.5)x=Math.round(x),S=v.getLinearTickPositions(x,T,E);else if(x>=.08){let L,O,Y,X,H,$,G,B=Math.floor(T);for(L=x>.3?[1,2,4]:x>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],O=B;O<E+1&&!G;O++)for(Y=0,X=L.length;Y<X&&!G;Y++)(H=this.log2lin(this.lin2log(O)*L[Y]))>T&&(!k||$<=E)&&$!==void 0&&S.push($),$>E&&(G=!0),$=H}else{let L=this.lin2log(T),O=this.lin2log(E),Y=k?v.getMinorTickInterval():N.tickInterval,X=N.tickPixelInterval/(k?5:1),H=k?w/v.tickPositions.length:w;x=s(x=d(Y==="auto"?null:Y,this.minorAutoInterval,(O-L)*X/(H||1))),S=v.getLinearTickPositions(x,L,O).map(this.log2lin),k||(this.minorAutoInterval=x/5)}return k||(v.tickInterval=x),S}lin2log(x){return Math.pow(10,x)}log2lin(x){return Math.log(x)/Math.LN10}}p.Additions=g}(a||(a={})),a}),i(t,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[t["Core/Utilities.js"]],function(r){var a;let{erase:o,extend:s,isNumber:d}=r;return function(p){let m;function y(v){return this.addPlotBandOrLine(v,"plotBands")}function g(v,w){let N=this.userOptions,S=new m(this,v);if(this.visible&&(S=S.render()),S){if(this._addedPlotLB||(this._addedPlotLB=!0,(N.plotLines||[]).concat(N.plotBands||[]).forEach(L=>{this.addPlotBandOrLine(L)})),w){let L=N[w]||[];L.push(v),N[w]=L}this.plotLinesAndBands.push(S)}return S}function _(v){return this.addPlotBandOrLine(v,"plotLines")}function x(v,w,N){N=N||this.options;let S=this.getPlotLinePath({value:w,force:!0,acrossPanes:N.acrossPanes}),L=[],O=this.horiz,Y=!d(this.min)||!d(this.max)||v<this.min&&w<this.min||v>this.max&&w>this.max,X=this.getPlotLinePath({value:v,force:!0,acrossPanes:N.acrossPanes}),H,$=1,G;if(X&&S)for(Y&&(G=X.toString()===S.toString(),$=0),H=0;H<X.length;H+=2){let B=X[H],M=X[H+1],D=S[H],V=S[H+1];(B[0]==="M"||B[0]==="L")&&(M[0]==="M"||M[0]==="L")&&(D[0]==="M"||D[0]==="L")&&(V[0]==="M"||V[0]==="L")&&(O&&D[1]===B[1]?(D[1]+=$,V[1]+=$):O||D[2]!==B[2]||(D[2]+=$,V[2]+=$),L.push(["M",B[1],B[2]],["L",M[1],M[2]],["L",V[1],V[2]],["L",D[1],D[2]],["Z"])),L.isFlat=G}return L}function T(v){this.removePlotBandOrLine(v)}function E(v){let w=this.plotLinesAndBands,N=this.options,S=this.userOptions;if(w){let L=w.length;for(;L--;)w[L].id===v&&w[L].destroy();[N.plotLines||[],S.plotLines||[],N.plotBands||[],S.plotBands||[]].forEach(function(O){for(L=O.length;L--;)(O[L]||{}).id===v&&o(O,O[L])})}}function k(v){this.removePlotBandOrLine(v)}p.compose=function(v,w){let N=w.prototype;return N.addPlotBand||(m=v,s(N,{addPlotBand:y,addPlotLine:_,addPlotBandOrLine:g,getPlotBandPath:x,removePlotBand:T,removePlotLine:k,removePlotBandOrLine:E})),w}}(a||(a={})),a}),i(t,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[t["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],t["Core/Utilities.js"]],function(r,a){let{addEvent:o,arrayMax:s,arrayMin:d,defined:p,destroyObjectProperties:m,erase:y,fireEvent:g,merge:_,objectEach:x,pick:T}=a;class E{static compose(v,w){return o(v,"afterInit",function(){this.labelCollectors.push(()=>{var S;let N=[];for(let L of this.axes)for(let{label:O,options:Y}of L.plotLinesAndBands)O&&!((S=Y==null?void 0:Y.label)!=null&&S.allowOverlap)&&N.push(O);return N})}),r.compose(E,w)}constructor(v,w){this.axis=v,this.options=w,this.id=w.id}render(){g(this,"render");let{axis:v,options:w}=this,{horiz:N,logarithmic:S}=v,{color:L,events:O,zIndex:Y=0}=w,X={},H=v.chart.renderer,$=w.to,G=w.from,B=w.value,M=w.borderWidth,D=w.label,{label:V,svgElem:F}=this,z=[],W,q=p(G)&&p($),ee=p(B),ue=!F,ie={class:"highcharts-plot-"+(q?"band ":"line ")+(w.className||"")},oe=q?"bands":"lines";if(!v.chart.styledMode&&(ee?(ie.stroke=L||"#999999",ie["stroke-width"]=T(w.width,1),w.dashStyle&&(ie.dashstyle=w.dashStyle)):q&&(ie.fill=L||"#e6e9ff",M&&(ie.stroke=w.borderColor,ie["stroke-width"]=M))),X.zIndex=Y,oe+="-"+Y,(W=v.plotLinesAndBandsGroups[oe])||(v.plotLinesAndBandsGroups[oe]=W=H.g("plot-"+oe).attr(X).add()),F||(this.svgElem=F=H.path().attr(ie).add(W)),p(B))z=v.getPlotLinePath({value:(S==null?void 0:S.log2lin(B))??B,lineWidth:F.strokeWidth(),acrossPanes:w.acrossPanes});else{if(!(p(G)&&p($)))return;z=v.getPlotBandPath((S==null?void 0:S.log2lin(G))??G,(S==null?void 0:S.log2lin($))??$,w)}return!this.eventsAdded&&O&&(x(O,(Ee,me)=>{F==null||F.on(me,Te=>{O[me].apply(this,[Te])})}),this.eventsAdded=!0),(ue||!F.d)&&(z!=null&&z.length)?F.attr({d:z}):F&&(z?(F.show(),F.animate({d:z})):F.d&&(F.hide(),V&&(this.label=V=V.destroy()))),D&&(p(D.text)||p(D.formatter))&&(z!=null&&z.length)&&v.width>0&&v.height>0&&!z.isFlat?(D=_({align:N&&q?"center":void 0,x:N?!q&&4:10,verticalAlign:!N&&q?"middle":void 0,y:N?q?16:10:q?6:-4,rotation:N&&!q?90:0,...q?{inside:!0}:{}},D),this.renderLabel(D,z,q,Y)):V&&V.hide(),this}renderLabel(v,w,N,S){var D;let L=this.axis,O=L.chart.renderer,Y=v.inside,X=this.label;X||(this.label=X=O.text(this.getLabelText(v),0,0,v.useHTML).attr({align:v.textAlign||v.align,rotation:v.rotation,class:"highcharts-plot-"+(N?"band":"line")+"-label "+(v.className||""),zIndex:S}),L.chart.styledMode||X.css(_({fontSize:"0.8em",textOverflow:N&&!Y?"":"ellipsis"},v.style)),X.add());let H=w.xBounds||[w[0][1],w[1][1],N?w[2][1]:w[0][1]],$=w.yBounds||[w[0][2],w[1][2],N?w[2][2]:w[0][2]],G=d(H),B=d($),M=s(H)-G;X.align(v,!1,{x:G,y:B,width:M,height:s($)-B}),(!X.alignValue||X.alignValue==="left"||p(Y))&&X.css({width:(((D=v.style)==null?void 0:D.width)||(N&&Y?M:X.rotation===90?L.height-(X.alignAttr.y-L.top):(v.clip?L.width:L.chart.chartWidth)-(X.alignAttr.x-L.left)))+"px"}),X.show(!0)}getLabelText(v){return p(v.formatter)?v.formatter.call(this):v.text}destroy(){y(this.axis.plotLinesAndBands,this),delete this.axis,m(this)}}return E}),i(t,"Core/Tooltip.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s,d,p){var m;let{animObject:y}=r,{format:g}=a,{composed:_,doc:x,isSafari:T}=o,{distribute:E}=s,{addEvent:k,clamp:v,css:w,discardElement:N,extend:S,fireEvent:L,isArray:O,isNumber:Y,isString:X,merge:H,pick:$,pushUnique:G,splat:B,syncTimeout:M}=p;class D{constructor(F,z,W){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=F,this.init(F,z),this.pointer=W}bodyFormatter(F){return F.map(function(z){let W=z.series.tooltipOptions;return(W[(z.point.formatPrefix||"point")+"Formatter"]||z.point.tooltipFormatter).call(z.point,W[(z.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(F){this.chart.series.forEach(function(z){let W=z&&z.tt;W&&(!W.isActive||F?z.tt=W.destroy():W.isActive=!1)})}defaultFormatter(F){let z,W=this.points||B(this);return(z=(z=[F.tooltipFooterHeaderFormatter(W[0])]).concat(F.bodyFormatter(W))).push(F.tooltipFooterHeaderFormatter(W[0],!0)),z}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),N(this.container)),p.clearTimeout(this.hideTimer)}getAnchor(F,z){let W,{chart:q,pointer:ee}=this,ue=q.inverted,ie=q.plotTop,oe=q.plotLeft;if((F=B(F))[0].series&&F[0].series.yAxis&&!F[0].series.yAxis.options.reversedStacks&&(F=F.slice().reverse()),this.followPointer&&z)z.chartX===void 0&&(z=ee.normalize(z)),W=[z.chartX-oe,z.chartY-ie];else if(F[0].tooltipPos)W=F[0].tooltipPos;else{let Ee=0,me=0;F.forEach(function(Te){let K=Te.pos(!0);K&&(Ee+=K[0],me+=K[1])}),Ee/=F.length,me/=F.length,this.shared&&F.length>1&&z&&(ue?Ee=z.chartX:me=z.chartY),W=[Ee-oe,me-ie]}return W.map(Math.round)}getClassName(F,z,W){let q=this.options,ee=F.series,ue=ee.options;return[q.className,"highcharts-label",W&&"highcharts-tooltip-header",z?"highcharts-tooltip-box":"highcharts-tooltip",!W&&"highcharts-color-"+$(F.colorIndex,ee.colorIndex),ue&&ue.className].filter(X).join(" ")}getLabel({anchorX:F,anchorY:z}={anchorX:0,anchorY:0}){let W=this,q=this.chart.styledMode,ee=this.options,ue=this.split&&this.allowShared,ie=this.container,oe=this.chart.renderer;if(this.label){let Ee=!this.label.hasClass("highcharts-label");(!ue&&Ee||ue&&!Ee)&&this.destroy()}if(!this.label){if(this.outside){let Ee=this.chart.options.chart.style,me=d.getRendererType();this.container=ie=o.doc.createElement("div"),ie.className="highcharts-tooltip-container",w(ie,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(Ee&&Ee.zIndex||0)+3)}),this.renderer=oe=new me(ie,0,0,Ee,void 0,void 0,oe.styledMode)}if(ue?this.label=oe.g("tooltip"):(this.label=oe.label("",F,z,ee.shape,void 0,void 0,ee.useHTML,void 0,"tooltip").attr({padding:ee.padding,r:ee.borderRadius}),q||this.label.attr({fill:ee.backgroundColor,"stroke-width":ee.borderWidth||0}).css(ee.style).css({pointerEvents:ee.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),W.outside){let Ee=this.label;[Ee.xSetter,Ee.ySetter].forEach((me,Te)=>{Ee[Te?"ySetter":"xSetter"]=K=>{me.call(Ee,W.distance),Ee[Te?"y":"x"]=K,ie&&(ie.style[Te?"top":"left"]=`${K}px`)}})}this.label.attr({zIndex:8}).shadow(ee.shadow).add()}return ie&&!ie.parentElement&&o.doc.body.appendChild(ie),this.label}getPlayingField(){let{body:F,documentElement:z}=x,{chart:W,distance:q,outside:ee}=this;return{width:ee?Math.max(F.scrollWidth,z.scrollWidth,F.offsetWidth,z.offsetWidth,z.clientWidth)-2*q:W.chartWidth,height:ee?Math.max(F.scrollHeight,z.scrollHeight,F.offsetHeight,z.offsetHeight,z.clientHeight):W.chartHeight}}getPosition(F,z,W){var Me,je;let{distance:q,chart:ee,outside:ue,pointer:ie}=this,{inverted:oe,plotLeft:Ee,plotTop:me,polar:Te}=ee,{plotX:K=0,plotY:J=0}=W,se={},xe=oe&&W.h||0,{height:Q,width:ae}=this.getPlayingField(),ce=ie.getChartPosition(),ge=Ke=>Ke*ce.scaleX,be=Ke=>Ke*ce.scaleY,Le=Ke=>{let nt=Ke==="x";return[Ke,nt?ae:Q,nt?F:z].concat(ue?[nt?ge(F):be(z),nt?ce.left-q+ge(K+Ee):ce.top-q+be(J+me),0,nt?ae:Q]:[nt?F:z,nt?K+Ee:J+me,nt?Ee:me,nt?Ee+ee.plotWidth:me+ee.plotHeight])},_e=Le("y"),Ne=Le("x"),$e,Ye=!!W.negative;!Te&&((je=(Me=ee.hoverSeries)==null?void 0:Me.yAxis)!=null&&je.reversed)&&(Ye=!Ye);let Xe=!this.followPointer&&$(W.ttBelow,!Te&&!oe===Ye),De=function(Ke,nt,ot,ht,gt,Tt,$t){let mt=ue?Ke==="y"?be(q):ge(q):q,Ct=(ot-ht)/2,St=ht<gt-q,sn=gt+q+ht<nt,yn=gt-mt-ot+Ct,Zt=gt+mt-Ct;if(Xe&&sn)se[Ke]=Zt;else if(!Xe&&St)se[Ke]=yn;else if(St)se[Ke]=Math.min($t-ht,yn-xe<0?yn:yn-xe);else{if(!sn)return!1;se[Ke]=Math.max(Tt,Zt+xe+ot>nt?Zt:Zt+xe)}},we=function(Ke,nt,ot,ht,gt){if(gt<q||gt>nt-q)return!1;gt<ot/2?se[Ke]=1:gt>nt-ht/2?se[Ke]=nt-ht-2:se[Ke]=gt-ot/2},ke=function(Ke){[_e,Ne]=[Ne,_e],$e=Ke},ze=()=>{De.apply(0,_e)!==!1?we.apply(0,Ne)!==!1||$e||(ke(!0),ze()):$e?se.x=se.y=0:(ke(!0),ze())};return(oe&&!Te||this.len>1)&&ke(),ze(),se}hide(F){let z=this;p.clearTimeout(this.hideTimer),F=$(F,this.options.hideDelay),this.isHidden||(this.hideTimer=M(function(){let W=z.getLabel();z.getLabel().animate({opacity:0},{duration:F&&150,complete:()=>{W.hide(),z.container&&z.container.remove()}}),z.isHidden=!0},F))}init(F,z){this.chart=F,this.options=z,this.crosshairs=[],this.isHidden=!0,this.split=z.split&&!F.inverted&&!F.polar,this.shared=z.shared||this.split,this.outside=$(z.outside,!!(F.scrollablePixelsX||F.scrollablePixelsY))}shouldStickOnContact(F){return!!(!this.followPointer&&this.options.stickOnContact&&(!F||this.pointer.inClass(F.target,"highcharts-tooltip")))}move(F,z,W,q){let ee=this,ue=y(!ee.isHidden&&ee.options.animation),ie=ee.followPointer||(ee.len||0)>1,oe={x:F,y:z};ie||(oe.anchorX=W,oe.anchorY=q),ue.step=()=>ee.drawTracker(),ee.getLabel().animate(oe,ue)}refresh(F,z){let{chart:W,options:q,pointer:ee,shared:ue}=this,ie=B(F),oe=ie[0],Ee=[],me=q.format,Te=q.formatter||this.defaultFormatter,K=W.styledMode,J={},se=this.allowShared;if(!q.enabled||!oe.series)return;p.clearTimeout(this.hideTimer),this.allowShared=!(!O(F)&&F.series&&F.series.noSharedTooltip),se=se&&!this.allowShared,this.followPointer=!this.split&&oe.series.tooltipOptions.followPointer;let xe=this.getAnchor(F,z),Q=xe[0],ae=xe[1];ue&&this.allowShared?(ee.applyInactiveState(ie),ie.forEach(function(be){be.setState("hover"),Ee.push(be.getLabelConfig())}),(J=oe.getLabelConfig()).points=Ee):J=oe.getLabelConfig(),this.len=Ee.length;let ce=X(me)?g(me,J,W):Te.call(J,this),ge=oe.series;if(this.distance=$(ge.tooltipOptions.distance,16),ce===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(ce,ie);else{let be=Q,Le=ae;if(z&&ee.isDirectTouch&&(be=z.chartX-W.plotLeft,Le=z.chartY-W.plotTop),W.polar||ge.options.clip===!1||ie.some(_e=>ee.isDirectTouch||_e.series.shouldShowTooltip(be,Le))){let _e=this.getLabel(se&&this.tt||{});(!q.style.width||K)&&_e.css({width:(this.outside?this.getPlayingField():W.spacingBox).width+"px"}),_e.attr({class:this.getClassName(oe),text:ce&&ce.join?ce.join(""):ce}),this.outside&&_e.attr({x:v(_e.x||0,0,this.getPlayingField().width-(_e.width||0))}),K||_e.attr({stroke:q.borderColor||oe.color||ge.color||"#666666"}),this.updatePosition({plotX:Q,plotY:ae,negative:oe.negative,ttBelow:oe.ttBelow,h:xe[2]||0})}else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}L(this,"refresh")}renderSplit(F,z){var nt;let W=this,{chart:q,chart:{chartWidth:ee,chartHeight:ue,plotHeight:ie,plotLeft:oe,plotTop:Ee,scrollablePixelsY:me=0,scrollablePixelsX:Te,styledMode:K},distance:J,options:se,options:{positioner:xe},pointer:Q}=W,{scrollLeft:ae=0,scrollTop:ce=0}=((nt=q.scrollablePlotArea)==null?void 0:nt.scrollingContainer)||{},ge=W.outside&&typeof Te!="number"?x.documentElement.getBoundingClientRect():{left:ae,right:ae+ee,top:ce,bottom:ce+ue},be=W.getLabel(),Le=this.renderer||q.renderer,_e=!!(q.xAxis[0]&&q.xAxis[0].opposite),{left:Ne,top:$e}=Q.getChartPosition(),Ye=Ee+ce,Xe=0,De=ie-me;function we(ot,ht,gt,Tt,$t=!0){let mt,Ct;return gt?(mt=_e?0:De,Ct=v(ot-Tt/2,ge.left,ge.right-Tt-(W.outside?Ne:0))):(mt=ht-Ye,Ct=v(Ct=$t?ot-Tt-J:ot+J,$t?Ct:ge.left,ge.right)),{x:Ct,y:mt}}X(F)&&(F=[!1,F]);let ke=F.slice(0,z.length+1).reduce(function(ot,ht,gt){if(ht!==!1&&ht!==""){let Tt=z[gt-1]||{isHeader:!0,plotX:z[0].plotX,plotY:ie,series:{}},$t=Tt.isHeader,mt=$t?W:Tt.series,Ct=mt.tt=function(hi,ii,Si){let Hi=hi,{isHeader:li,series:dt}=ii;if(!Hi){let xt={padding:se.padding,r:se.borderRadius};K||(xt.fill=se.backgroundColor,xt["stroke-width"]=se.borderWidth??1),Hi=Le.label("",0,0,se[li?"headerShape":"shape"],void 0,void 0,se.useHTML).addClass(W.getClassName(ii,!0,li)).attr(xt).add(be)}return Hi.isActive=!0,Hi.attr({text:Si}),K||Hi.css(se.style).attr({stroke:se.borderColor||ii.color||dt.color||"#333333"}),Hi}(mt.tt,Tt,ht.toString()),St=Ct.getBBox(),sn=St.width+Ct.strokeWidth();$t&&(Xe=St.height,De+=Xe,_e&&(Ye-=Xe));let{anchorX:yn,anchorY:Zt}=function(hi){let ii,Si,{isHeader:Hi,plotX:li=0,plotY:dt=0,series:xt}=hi;if(Hi)ii=Math.max(oe+li,oe),Si=Ee+ie/2;else{let{xAxis:Dt,yAxis:Gt}=xt;ii=Dt.pos+v(li,-J,Dt.len+J),xt.shouldShowTooltip(0,Gt.pos-Ee+dt,{ignoreX:!0})&&(Si=Gt.pos+dt)}return{anchorX:ii=v(ii,ge.left-J,ge.right+J),anchorY:Si}}(Tt);if(typeof Zt=="number"){let hi=St.height+1,ii=xe?xe.call(W,sn,hi,Tt):we(yn,Zt,$t,sn);ot.push({align:xe?0:void 0,anchorX:yn,anchorY:Zt,boxWidth:sn,point:Tt,rank:$(ii.rank,$t?1:0),size:hi,target:ii.y,tt:Ct,x:ii.x})}else Ct.isActive=!1}return ot},[]);!xe&&ke.some(ot=>{let{outside:ht}=W,gt=(ht?Ne:0)+ot.anchorX;return gt<ge.left&&gt+ot.boxWidth<ge.right||gt<Ne-ge.left+ot.boxWidth&&ge.right-gt>gt})&&(ke=ke.map(ot=>{let{x:ht,y:gt}=we(ot.anchorX,ot.anchorY,ot.point.isHeader,ot.boxWidth,!1);return S(ot,{target:gt,x:ht})})),W.cleanSplit(),E(ke,De);let ze={left:Ne,right:Ne};ke.forEach(function(ot){let{x:ht,boxWidth:gt,isHeader:Tt}=ot;!Tt&&(W.outside&&Ne+ht<ze.left&&(ze.left=Ne+ht),!Tt&&W.outside&&ze.left+gt>ze.right&&(ze.right=Ne+ht))}),ke.forEach(function(ot){let{x:ht,anchorX:gt,anchorY:Tt,pos:$t,point:{isHeader:mt}}=ot,Ct={visibility:$t===void 0?"hidden":"inherit",x:ht,y:($t||0)+Ye,anchorX:gt,anchorY:Tt};if(W.outside&&ht<gt){let St=Ne-ze.left;St>0&&(mt||(Ct.x=ht+St,Ct.anchorX=gt+St),mt&&(Ct.x=(ze.right-ze.left)/2,Ct.anchorX=gt+St))}ot.tt.attr(Ct)});let{container:Me,outside:je,renderer:Ke}=W;if(je&&Me&&Ke){let{width:ot,height:ht,x:gt,y:Tt}=be.getBBox();Ke.setSize(ot+gt,ht+Tt,!1),Me.style.left=ze.left+"px",Me.style.top=$e+"px"}T&&be.attr({opacity:be.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let F=this.chart,z=this.label,W=this.shared?F.hoverPoints:F.hoverPoint;if(!z||!W)return;let q={x:0,y:0,width:0,height:0},ee=this.getAnchor(W),ue=z.getBBox();ee[0]+=F.plotLeft-(z.translateX||0),ee[1]+=F.plotTop-(z.translateY||0),q.x=Math.min(0,ee[0]),q.y=Math.min(0,ee[1]),q.width=ee[0]<0?Math.max(Math.abs(ee[0]),ue.width-ee[0]):Math.max(Math.abs(ee[0]),ue.width),q.height=ee[1]<0?Math.max(Math.abs(ee[1]),ue.height-Math.abs(ee[1])):Math.max(Math.abs(ee[1]),ue.height),this.tracker?this.tracker.attr(q):(this.tracker=z.renderer.rect(q).addClass("highcharts-tracker").add(z),F.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(F){return F.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(F,z){let W=F.series,q=W.tooltipOptions,ee=W.xAxis,ue=ee&&ee.dateTime,ie={isFooter:z,labelConfig:F},oe=q.xDateFormat,Ee=q[z?"footerFormat":"headerFormat"];return L(this,"headerFormatter",ie,function(me){ue&&!oe&&Y(F.key)&&(oe=ue.getXDateFormat(F.key,q.dateTimeLabelFormats)),ue&&oe&&(F.point&&F.point.tooltipDateKeys||["key"]).forEach(function(Te){Ee=Ee.replace("{point."+Te+"}","{point."+Te+":"+oe+"}")}),W.chart.styledMode&&(Ee=this.styledModeFormat(Ee)),me.text=g(Ee,{point:F,series:W},this.chart)}),ie.text}update(F){this.destroy(),this.init(this.chart,H(!0,this.options,F))}updatePosition(F){let{chart:z,container:W,distance:q,options:ee,pointer:ue,renderer:ie}=this,{height:oe=0,width:Ee=0}=this.getLabel(),{left:me,top:Te,scaleX:K,scaleY:J}=ue.getChartPosition(),se=(ee.positioner||this.getPosition).call(this,Ee,oe,F),xe=(F.plotX||0)+z.plotLeft,Q=(F.plotY||0)+z.plotTop,ae;ie&&W&&(ee.positioner&&(se.x+=me-q,se.y+=Te-q),ae=(ee.borderWidth||0)+2*q+2,ie.setSize(Ee+ae,oe+ae,!1),(K!==1||J!==1)&&(w(W,{transform:`scale(${K}, ${J})`}),xe*=K,Q*=J),xe+=me-se.x,Q+=Te-se.y),this.move(Math.round(se.x),Math.round(se.y||0),xe,Q)}}return(m=D).compose=function(V){G(_,"Core.Tooltip")&&k(V,"afterInit",function(){let F=this.chart;F.options.tooltip&&(F.tooltip=new m(F,F.options.tooltip,this))})},D}),i(t,"Core/Series/Point.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Defaults.js"],t["Core/Templating.js"],t["Core/Utilities.js"]],function(r,a,o,s,d){let{animObject:p}=a,{defaultOptions:m}=o,{format:y}=s,{addEvent:g,crisp:_,erase:x,extend:T,fireEvent:E,getNestedProperty:k,isArray:v,isFunction:w,isNumber:N,isObject:S,merge:L,pick:O,syncTimeout:Y,removeEvent:X,uniqueKey:H}=d;class ${animateBeforeDestroy(){let B=this,M={x:B.startXPos,opacity:0},D=B.getGraphicalProps();D.singular.forEach(function(V){B[V]=B[V].animate(V==="dataLabel"?{x:B[V].startXPos,y:B[V].startYPos,opacity:0}:M)}),D.plural.forEach(function(V){B[V].forEach(function(F){F.element&&F.animate(T({x:B.startXPos},F.startYPos?{x:F.startXPos,y:F.startYPos}:{}))})})}applyOptions(B,M){let D=this.series,V=D.options.pointValKey||D.pointValKey;return T(this,B=$.prototype.optionsToObject.call(this,B)),this.options=this.options?T(this.options,B):B,B.group&&delete this.group,B.dataLabels&&delete this.dataLabels,V&&(this.y=$.prototype.getNestedProperty.call(this,V)),this.selected&&(this.state="select"),"name"in this&&M===void 0&&D.xAxis&&D.xAxis.hasNames&&(this.x=D.xAxis.nameToX(this)),this.x===void 0&&D?this.x=M??D.autoIncrement():N(B.x)&&D.options.relativeXValue&&(this.x=D.autoIncrement(B.x)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let B=this,M=B.series,D=M.chart,V=M.options.dataSorting,F=D.hoverPoints,z=p(B.series.chart.renderer.globalAnimation),W=()=>{for(let q in(B.graphic||B.graphics||B.dataLabel||B.dataLabels)&&(X(B),B.destroyElements()),B)delete B[q]};B.legendItem&&D.legend.destroyItem(B),F&&(B.setState(),x(F,B),F.length||(D.hoverPoints=null)),B===D.hoverPoint&&B.onMouseOut(),V&&V.enabled?(this.animateBeforeDestroy(),Y(W,z.duration)):W(),D.pointCount--}this.destroyed=!0}destroyElements(B){let M=this,D=M.getGraphicalProps(B);D.singular.forEach(function(V){M[V]=M[V].destroy()}),D.plural.forEach(function(V){M[V].forEach(function(F){F&&F.element&&F.destroy()}),delete M[V]})}firePointEvent(B,M,D){let V=this,F=this.series.options;V.manageEvent(B),B==="click"&&F.allowPointSelect&&(D=function(z){!V.destroyed&&V.select&&V.select(null,z.ctrlKey||z.metaKey||z.shiftKey)}),E(V,B,M,D)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(B){let M,D,V=this,F=[],z={singular:[],plural:[]};for((B=B||{graphic:1,dataLabel:1}).graphic&&F.push("graphic","connector"),B.dataLabel&&F.push("dataLabel","dataLabelPath","dataLabelUpper"),D=F.length;D--;)V[M=F[D]]&&z.singular.push(M);return["graphic","dataLabel"].forEach(function(W){let q=W+"s";B[W]&&V[q]&&z.plural.push(q)}),z}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(B){return B?B.indexOf("custom.")===0?k(B,this.options):this[B]:void 0}getZone(){let B=this.series,M=B.zones,D=B.zoneAxis||"y",V,F=0;for(V=M[0];this[D]>=V.value;)V=M[++F];return this.nonZonedColor||(this.nonZonedColor=this.color),V&&V.color&&!this.options.color?this.color=V.color:this.color=this.nonZonedColor,V}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(B,M,D){this.formatPrefix="point",this.visible=!0,this.series=B,this.applyOptions(M,D),this.id??(this.id=H()),this.resolveColor(),B.chart.pointCount++,E(this,"afterInit")}isValid(){return(N(this.x)||this.x instanceof Date)&&N(this.y)}optionsToObject(B){let M=this.series,D=M.options.keys,V=D||M.pointArrayMap||["y"],F=V.length,z={},W,q=0,ee=0;if(N(B)||B===null)z[V[0]]=B;else if(v(B))for(!D&&B.length>F&&((W=typeof B[0])=="string"?z.name=B[0]:W==="number"&&(z.x=B[0]),q++);ee<F;)D&&B[q]===void 0||(V[ee].indexOf(".")>0?$.prototype.setNestedProperty(z,B[q],V[ee]):z[V[ee]]=B[q]),q++,ee++;else typeof B=="object"&&(z=B,B.dataLabels&&(M.hasDataLabels=()=>!0),B.marker&&(M._hasPointMarkers=!0));return z}pos(B,M=this.plotY){if(!this.destroyed){let{plotX:D,series:V}=this,{chart:F,xAxis:z,yAxis:W}=V,q=0,ee=0;if(N(D)&&N(M))return B&&(q=z?z.pos:F.plotLeft,ee=W?W.pos:F.plotTop),F.inverted&&z&&W?[W.len-M+ee,z.len-D+q]:[D+q,M+ee]}}resolveColor(){let B=this.series,M=B.chart.options.chart,D=B.chart.styledMode,V,F,z=M.colorCount,W;delete this.nonZonedColor,B.options.colorByPoint?(D||(V=(F=B.options.colors||B.chart.options.colors)[B.colorCounter],z=F.length),W=B.colorCounter,B.colorCounter++,B.colorCounter===z&&(B.colorCounter=0)):(D||(V=B.color),W=B.colorIndex),this.colorIndex=O(this.options.colorIndex,W),this.color=O(this.options.color,V)}setNestedProperty(B,M,D){return D.split(".").reduce(function(V,F,z,W){let q=W.length-1===z;return V[F]=q?M:S(V[F],!0)?V[F]:{},V[F]},B),B}shouldDraw(){return!this.isNull}tooltipFormatter(B){let M=this.series,D=M.tooltipOptions,V=O(D.valueDecimals,""),F=D.valuePrefix||"",z=D.valueSuffix||"";return M.chart.styledMode&&(B=M.chart.tooltip.styledModeFormat(B)),(M.pointArrayMap||["y"]).forEach(function(W){W="{point."+W,(F||z)&&(B=B.replace(RegExp(W+"}","g"),F+W+"}"+z)),B=B.replace(RegExp(W+"}","g"),W+":,."+V+"f}")}),y(B,{point:this,series:this.series},M.chart)}update(B,M,D,V){let F,z=this,W=z.series,q=z.graphic,ee=W.chart,ue=W.options;function ie(){z.applyOptions(B);let oe=q&&z.hasMockGraphic,Ee=z.y===null?!oe:oe;q&&Ee&&(z.graphic=q.destroy(),delete z.hasMockGraphic),S(B,!0)&&(q&&q.element&&B&&B.marker&&B.marker.symbol!==void 0&&(z.graphic=q.destroy()),B!=null&&B.dataLabels&&z.dataLabel&&(z.dataLabel=z.dataLabel.destroy())),F=z.index,W.updateParallelArrays(z,F),ue.data[F]=S(ue.data[F],!0)||S(B,!0)?z.options:O(B,ue.data[F]),W.isDirty=W.isDirtyData=!0,!W.fixedBox&&W.hasCartesianSeries&&(ee.isDirtyBox=!0),ue.legendType==="point"&&(ee.isDirtyLegend=!0),M&&ee.redraw(D)}M=O(M,!0),V===!1?ie():z.firePointEvent("update",{options:B},ie)}remove(B,M){this.series.removePoint(this.series.data.indexOf(this),B,M)}select(B,M){let D=this,V=D.series,F=V.chart;B=O(B,!D.selected),this.selectedStaging=B,D.firePointEvent(B?"select":"unselect",{accumulate:M},function(){D.selected=D.options.selected=B,V.options.data[V.data.indexOf(D)]=D.options,D.setState(B&&"select"),M||F.getSelectedPoints().forEach(function(z){let W=z.series;z.selected&&z!==D&&(z.selected=z.options.selected=!1,W.options.data[W.data.indexOf(z)]=z.options,z.setState(F.hoverPoints&&W.options.inactiveOtherPoints?"inactive":""),z.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(B){let{inverted:M,pointer:D}=this.series.chart;D&&(B=B?D.normalize(B):D.getChartCoordinatesFromPoint(this,M),D.runPointActions(B,this))}onMouseOut(){let B=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(B.hoverPoints||[]).forEach(function(M){M.setState()}),B.hoverPoints=B.hoverPoint=null}manageEvent(B){var V,F,z,W,q,ee;let M=L(this.series.options.point,this.options),D=(V=M.events)==null?void 0:V[B];w(D)&&(!((F=this.hcEvents)!=null&&F[B])||((W=(z=this.hcEvents)==null?void 0:z[B])==null?void 0:W.map(ue=>ue.fn).indexOf(D))===-1)?((q=this.importedUserEvent)==null||q.call(this),this.importedUserEvent=g(this,B,D)):this.importedUserEvent&&!D&&((ee=this.hcEvents)!=null&&ee[B])&&(X(this,B),delete this.hcEvents[B],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(B,M){var ce;let D=this.series,V=this.state,F=D.options.states[B||"normal"]||{},z=m.plotOptions[D.type].marker&&D.options.marker,W=z&&z.enabled===!1,q=z&&z.states&&z.states[B||"normal"]||{},ee=q.enabled===!1,ue=this.marker||{},ie=D.chart,oe=z&&D.markerAttribs,Ee=D.halo,me,Te,K,J=D.stateMarkerGraphic,se;if((B=B||"")===this.state&&!M||this.selected&&B!=="select"||F.enabled===!1||B&&(ee||W&&q.enabled===!1)||B&&ue.states&&ue.states[B]&&ue.states[B].enabled===!1)return;if(this.state=B,oe&&(me=D.markerAttribs(this,B)),this.graphic&&!this.hasMockGraphic){if(V&&this.graphic.removeClass("highcharts-point-"+V),B&&this.graphic.addClass("highcharts-point-"+B),!ie.styledMode){Te=D.pointAttribs(this,B),K=O(ie.options.chart.animation,F.animation);let ge=Te.opacity;D.options.inactiveOtherPoints&&N(ge)&&(this.dataLabels||[]).forEach(function(be){be&&!be.hasClass("highcharts-data-label-hidden")&&(be.animate({opacity:ge},K),be.connector&&be.connector.animate({opacity:ge},K))}),this.graphic.animate(Te,K)}me&&this.graphic.animate(me,O(ie.options.chart.animation,q.animation,z.animation)),J&&J.hide()}else B&&q&&(se=ue.symbol||D.symbol,J&&J.currentSymbol!==se&&(J=J.destroy()),me&&(J?J[M?"animate":"attr"]({x:me.x,y:me.y}):se&&(D.stateMarkerGraphic=J=ie.renderer.symbol(se,me.x,me.y,me.width,me.height).add(D.markerGroup),J.currentSymbol=se)),!ie.styledMode&&J&&this.state!=="inactive"&&J.attr(D.pointAttribs(this,B))),J&&(J[B&&this.isInside?"show":"hide"](),J.element.point=this,J.addClass(this.getClassName(),!0));let xe=F.halo,Q=this.graphic||J,ae=Q&&Q.visibility||"inherit";xe&&xe.size&&Q&&ae!=="hidden"&&!this.isCluster?(Ee||(D.halo=Ee=ie.renderer.path().add(Q.parentGroup)),Ee.show()[M?"animate":"attr"]({d:this.haloPath(xe.size)}),Ee.attr({class:"highcharts-halo highcharts-color-"+O(this.colorIndex,D.colorIndex)+(this.className?" "+this.className:""),visibility:ae,zIndex:-1}),Ee.point=this,ie.styledMode||Ee.attr(T({fill:this.color||D.color,"fill-opacity":xe.opacity},r.filterUserAttributes(xe.attributes||{})))):(ce=Ee==null?void 0:Ee.point)!=null&&ce.haloPath&&!Ee.point.destroyed&&Ee.animate({d:Ee.point.haloPath(0)},null,Ee.hide),E(this,"afterSetState",{state:B})}haloPath(B){let M=this.pos();return M?this.series.chart.renderer.symbols.circle(_(M[0],1)-B,M[1]-B,2*B,2*B):[]}}return $}),i(t,"Core/Pointer.js",[t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){var s;let{parse:d}=r,{charts:p,composed:m,isTouchDevice:y}=a,{addEvent:g,attr:_,css:x,extend:T,find:E,fireEvent:k,isNumber:v,isObject:w,objectEach:N,offset:S,pick:L,pushUnique:O,splat:Y}=o;class X{applyInactiveState($){let G=[],B;($||[]).forEach(function(M){B=M.series,G.push(B),B.linkedParent&&G.push(B.linkedParent),B.linkedSeries&&(G=G.concat(B.linkedSeries)),B.navigatorSeries&&G.push(B.navigatorSeries)}),this.chart.series.forEach(function(M){G.indexOf(M)===-1?M.setState("inactive",!0):M.options.inactiveOtherPoints&&M.setAllPointsToState("inactive")})}destroy(){let $=this;this.eventsToUnbind.forEach(G=>G()),this.eventsToUnbind=[],!a.chartCount&&(X.unbindDocumentMouseUp&&X.unbindDocumentMouseUp.forEach(G=>G()),X.unbindDocumentTouchEnd&&(X.unbindDocumentTouchEnd=X.unbindDocumentTouchEnd())),clearInterval($.tooltipTimeout),N($,function(G,B){$[B]=void 0})}getSelectionMarkerAttrs($,G){let B={args:{chartX:$,chartY:G},attrs:{},shapeType:"rect"};return k(this,"getSelectionMarkerAttrs",B,M=>{let D,{chart:V,zoomHor:F,zoomVert:z}=this,{mouseDownX:W=0,mouseDownY:q=0}=V,ee=M.attrs;ee.x=V.plotLeft,ee.y=V.plotTop,ee.width=F?1:V.plotWidth,ee.height=z?1:V.plotHeight,F&&(D=$-W,ee.width=Math.max(1,Math.abs(D)),ee.x=(D>0?0:D)+W),z&&(D=G-q,ee.height=Math.max(1,Math.abs(D)),ee.y=(D>0?0:D)+q)}),B}drag($){let{chart:G}=this,{mouseDownX:B=0,mouseDownY:M=0}=G,{panning:D,panKey:V,selectionMarkerFill:F}=G.options.chart,z=G.plotLeft,W=G.plotTop,q=G.plotWidth,ee=G.plotHeight,ue=w(D)?D.enabled:D,ie=V&&$[`${V}Key`],oe=$.chartX,Ee=$.chartY,me,Te=this.selectionMarker;if((!Te||!Te.touch)&&(oe<z?oe=z:oe>z+q&&(oe=z+q),Ee<W?Ee=W:Ee>W+ee&&(Ee=W+ee),this.hasDragged=Math.sqrt(Math.pow(B-oe,2)+Math.pow(M-Ee,2)),this.hasDragged>10)){me=G.isInsidePlot(B-z,M-W,{visiblePlotOnly:!0});let{shapeType:K,attrs:J}=this.getSelectionMarkerAttrs(oe,Ee);(G.hasCartesianSeries||G.mapView)&&this.hasZoom&&me&&!ie&&!Te&&(this.selectionMarker=Te=G.renderer[K](),Te.attr({class:"highcharts-selection-marker",zIndex:7}).add(),G.styledMode||Te.attr({fill:F||d("#334eff").setOpacity(.25).get()})),Te&&Te.attr(J),me&&!Te&&ue&&G.pan($,D)}}dragStart($){let G=this.chart;G.mouseIsDown=$.type,G.cancelClick=!1,G.mouseDownX=$.chartX,G.mouseDownY=$.chartY}getSelectionBox($){let G={args:{marker:$},result:$.getBBox()};return k(this,"getSelectionBox",G),G.result}drop($){let G,{chart:B,selectionMarker:M}=this;for(let D of B.axes)D.isPanning&&(D.isPanning=!1,(D.options.startOnTick||D.options.endOnTick||D.series.some(V=>V.boosted))&&(D.forceRedraw=!0,D.setExtremes(D.userMin,D.userMax,!1),G=!0));if(G&&B.redraw(),M&&$){if(this.hasDragged){let D=this.getSelectionBox(M);B.transform({axes:B.axes.filter(V=>V.zoomEnabled&&(V.coll==="xAxis"&&this.zoomX||V.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:$,xAxis:[],yAxis:[],...D},from:D})}v(B.index)&&(this.selectionMarker=M.destroy())}B&&v(B.index)&&(x(B.container,{cursor:B._cursor}),B.cancelClick=this.hasDragged>10,B.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint($,G,B){let M;return $.forEach(function(D){let V=!(D.noSharedTooltip&&G)&&0>D.options.findNearestPointBy.indexOf("y"),F=D.searchPoint(B,V);w(F,!0)&&F.series&&(!w(M,!0)||function(z,W){var ie,oe;let q=z.distX-W.distX,ee=z.dist-W.dist,ue=((ie=W.series.group)==null?void 0:ie.zIndex)-((oe=z.series.group)==null?void 0:oe.zIndex);return q!==0&&G?q:ee!==0?ee:ue!==0?ue:z.series.index>W.series.index?-1:1}(M,F)>0)&&(M=F)}),M}getChartCoordinatesFromPoint($,G){let{xAxis:B,yAxis:M}=$.series,D=$.shapeArgs;if(B&&M){let V=$.clientX??$.plotX??0,F=$.plotY||0;return $.isNode&&D&&v(D.x)&&v(D.y)&&(V=D.x,F=D.y),G?{chartX:M.len+M.pos-F,chartY:B.len+B.pos-V}:{chartX:V+B.pos,chartY:F+M.pos}}if(D&&D.x&&D.y)return{chartX:D.x,chartY:D.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:$}=this.chart,G=S($);this.chartPosition={left:G.left,top:G.top,scaleX:1,scaleY:1};let{offsetHeight:B,offsetWidth:M}=$;return M>2&&B>2&&(this.chartPosition.scaleX=G.width/M,this.chartPosition.scaleY=G.height/B),this.chartPosition}getCoordinates($){let G={xAxis:[],yAxis:[]};for(let B of this.chart.axes)G[B.isXAxis?"xAxis":"yAxis"].push({axis:B,value:B.toValue($[B.horiz?"chartX":"chartY"])});return G}getHoverData($,G,B,M,D,V){let F=[],z=function(ie){return ie.visible&&!(!D&&ie.directTouch)&&L(ie.options.enableMouseTracking,!0)},W=G,q,ee={chartX:V?V.chartX:void 0,chartY:V?V.chartY:void 0,shared:D};k(this,"beforeGetHoverData",ee),q=W&&!W.stickyTracking?[W]:B.filter(ie=>ie.stickyTracking&&(ee.filter||z)(ie));let ue=M&&$||!V?$:this.findNearestKDPoint(q,D,V);return W=ue&&ue.series,ue&&(D&&!W.noSharedTooltip?(q=B.filter(function(ie){return ee.filter?ee.filter(ie):z(ie)&&!ie.noSharedTooltip})).forEach(function(ie){let oe=E(ie.points,function(Ee){return Ee.x===ue.x&&!Ee.isNull});w(oe)&&(ie.boosted&&ie.boost&&(oe=ie.boost.getPoint(oe)),F.push(oe))}):F.push(ue)),k(this,"afterGetHoverData",ee={hoverPoint:ue}),{hoverPoint:ee.hoverPoint,hoverSeries:W,hoverPoints:F}}getPointFromEvent($){let G=$.target,B;for(;G&&!B;)B=G.point,G=G.parentNode;return B}onTrackerMouseOut($){let G=this.chart,B=$.relatedTarget,M=G.hoverSeries;this.isDirectTouch=!1,!M||!B||M.stickyTracking||this.inClass(B,"highcharts-tooltip")||this.inClass(B,"highcharts-series-"+M.index)&&this.inClass(B,"highcharts-tracker")||M.onMouseOut()}inClass($,G){let B=$,M;for(;B;){if(M=_(B,"class")){if(M.indexOf(G)!==-1)return!0;if(M.indexOf("highcharts-container")!==-1)return!1}B=B.parentElement}}constructor($,G){var B;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=G,this.chart=$,this.runChartClick=!!((B=G.chart.events)!=null&&B.click),this.pinchDown=[],this.setDOMEvents(),k(this,"afterInit")}normalize($,G){let B=$.touches,M=B?B.length?B.item(0):L(B.changedTouches,$.changedTouches)[0]:$;G||(G=this.getChartPosition());let D=M.pageX-G.left,V=M.pageY-G.top;return T($,{chartX:Math.round(D/=G.scaleX),chartY:Math.round(V/=G.scaleY)})}onContainerClick($){let G=this.chart,B=G.hoverPoint,M=this.normalize($),D=G.plotLeft,V=G.plotTop;!G.cancelClick&&(B&&this.inClass(M.target,"highcharts-tracker")?(k(B.series,"click",T(M,{point:B})),G.hoverPoint&&B.firePointEvent("click",M)):(T(M,this.getCoordinates(M)),G.isInsidePlot(M.chartX-D,M.chartY-V,{visiblePlotOnly:!0})&&k(G,"click",M)))}onContainerMouseDown($){var B;let G=(1&($.buttons||$.button))==1;$=this.normalize($),a.isFirefox&&$.button!==0&&this.onContainerMouseMove($),($.button===void 0||G)&&(this.zoomOption($),G&&((B=$.preventDefault)==null||B.call($)),this.dragStart($))}onContainerMouseLeave($){let{pointer:G}=p[L(X.hoverChartIndex,-1)]||{};$=this.normalize($),this.onContainerMouseMove($),G&&!this.inClass($.relatedTarget,"highcharts-tooltip")&&(G.reset(),G.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove($){let G=this.chart,B=G.tooltip,M=this.normalize($);this.setHoverChartIndex($),(G.mouseIsDown==="mousedown"||this.touchSelect(M))&&this.drag(M),!G.openMenu&&(this.inClass(M.target,"highcharts-tracker")||G.isInsidePlot(M.chartX-G.plotLeft,M.chartY-G.plotTop,{visiblePlotOnly:!0}))&&!(B&&B.shouldStickOnContact(M))&&(this.inClass(M.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(M))}onDocumentTouchEnd($){this.onDocumentMouseUp($)}onContainerTouchMove($){this.touchSelect($)?this.onContainerMouseMove($):this.touch($)}onContainerTouchStart($){this.touchSelect($)?this.onContainerMouseDown($):(this.zoomOption($),this.touch($,!0))}onDocumentMouseMove($){let G=this.chart,B=G.tooltip,M=this.chartPosition,D=this.normalize($,M);!M||G.isInsidePlot(D.chartX-G.plotLeft,D.chartY-G.plotTop,{visiblePlotOnly:!0})||B&&B.shouldStickOnContact(D)||D.target!==G.container.ownerDocument&&this.inClass(D.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp($){var G,B;(B=(G=p[L(X.hoverChartIndex,-1)])==null?void 0:G.pointer)==null||B.drop($)}pinch($){let G=this,{chart:B,hasZoom:M,lastTouches:D}=G,V=[].map.call($.touches||[],ee=>G.normalize(ee)),F=V.length,z=F===1&&(G.inClass($.target,"highcharts-tracker")&&B.runTrackerClick||G.runChartClick),W=B.tooltip,q=F===1&&L(W==null?void 0:W.options.followTouchMove,!0);F>1?G.initiated=!0:q&&(G.initiated=!1),M&&G.initiated&&!z&&$.cancelable!==!1&&$.preventDefault(),$.type==="touchstart"?(G.pinchDown=V,G.res=!0,B.mouseDownX=$.chartX):q?this.runPointActions(G.normalize($)):D&&(k(B,"touchpan",{originalEvent:$,touches:V},()=>{let ee=ue=>{let ie=ue[0],oe=ue[1]||ie;return{x:ie.chartX,y:ie.chartY,width:oe.chartX-ie.chartX,height:oe.chartY-ie.chartY}};B.transform({axes:B.axes.filter(ue=>ue.zoomEnabled&&(this.zoomHor&&ue.horiz||this.zoomVert&&!ue.horiz)),to:ee(V),from:ee(D),trigger:$.type})}),G.res&&(G.res=!1,this.reset(!1,0))),G.lastTouches=V}reset($,G){let B=this.chart,M=B.hoverSeries,D=B.hoverPoint,V=B.hoverPoints,F=B.tooltip,z=F&&F.shared?V:D;$&&z&&Y(z).forEach(function(W){W.series.isCartesian&&W.plotX===void 0&&($=!1)}),$?F&&z&&Y(z).length&&(F.refresh(z),F.shared&&V?V.forEach(function(W){W.setState(W.state,!0),W.series.isCartesian&&(W.series.xAxis.crosshair&&W.series.xAxis.drawCrosshair(null,W),W.series.yAxis.crosshair&&W.series.yAxis.drawCrosshair(null,W))}):D&&(D.setState(D.state,!0),B.axes.forEach(function(W){W.crosshair&&D.series[W.coll]===W&&W.drawCrosshair(null,D)}))):(D&&D.onMouseOut(),V&&V.forEach(function(W){W.setState()}),M&&M.onMouseOut(),F&&F.hide(G),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),B.axes.forEach(function(W){W.hideCrosshair()}),B.hoverPoints=B.hoverPoint=void 0)}runPointActions($,G,B){let M=this.chart,D=M.series,V=M.tooltip&&M.tooltip.options.enabled?M.tooltip:void 0,F=!!V&&V.shared,z=G||M.hoverPoint,W=z&&z.series||M.hoverSeries,q=(!$||$.type!=="touchmove")&&(!!G||W&&W.directTouch&&this.isDirectTouch),ee=this.getHoverData(z,W,D,q,F,$);z=ee.hoverPoint,W=ee.hoverSeries;let ue=ee.hoverPoints,ie=W&&W.tooltipOptions.followPointer&&!W.tooltipOptions.split,oe=F&&W&&!W.noSharedTooltip;if(z&&(B||z!==M.hoverPoint||V&&V.isHidden)){if((M.hoverPoints||[]).forEach(function(Ee){ue.indexOf(Ee)===-1&&Ee.setState()}),M.hoverSeries!==W&&W.onMouseOver(),this.applyInactiveState(ue),(ue||[]).forEach(function(Ee){Ee.setState("hover")}),M.hoverPoint&&M.hoverPoint.firePointEvent("mouseOut"),!z.series)return;M.hoverPoints=ue,M.hoverPoint=z,z.firePointEvent("mouseOver",void 0,()=>{V&&z&&V.refresh(oe?ue:z,$)})}else if(ie&&V&&!V.isHidden){let Ee=V.getAnchor([{}],$);M.isInsidePlot(Ee[0],Ee[1],{visiblePlotOnly:!0})&&V.updatePosition({plotX:Ee[0],plotY:Ee[1]})}this.unDocMouseMove||(this.unDocMouseMove=g(M.container.ownerDocument,"mousemove",Ee=>{var me,Te;return(Te=(me=p[X.hoverChartIndex??-1])==null?void 0:me.pointer)==null?void 0:Te.onDocumentMouseMove(Ee)}),this.eventsToUnbind.push(this.unDocMouseMove)),M.axes.forEach(function(Ee){let me,Te=L((Ee.crosshair||{}).snap,!0);!Te||(me=M.hoverPoint)&&me.series[Ee.coll]===Ee||(me=E(ue,K=>K.series&&K.series[Ee.coll]===Ee)),me||!Te?Ee.drawCrosshair($,me):Ee.hideCrosshair()})}setDOMEvents(){let $=this.chart.container,G=$.ownerDocument;$.onmousedown=this.onContainerMouseDown.bind(this),$.onmousemove=this.onContainerMouseMove.bind(this),$.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(g($,"mouseenter",this.onContainerMouseEnter.bind(this)),g($,"mouseleave",this.onContainerMouseLeave.bind(this))),X.unbindDocumentMouseUp||(X.unbindDocumentMouseUp=[]),X.unbindDocumentMouseUp.push(g(G,"mouseup",this.onDocumentMouseUp.bind(this)));let B=this.chart.renderTo.parentElement;for(;B&&B.tagName!=="BODY";)this.eventsToUnbind.push(g(B,"scroll",()=>{delete this.chartPosition})),B=B.parentElement;this.eventsToUnbind.push(g($,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),g($,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),X.unbindDocumentTouchEnd||(X.unbindDocumentTouchEnd=g(G,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),g(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var D,V;if(!y)return;let $=this.pointerCaptureEventsToUnbind,G=this.chart,B=G.container,M=L((D=G.options.tooltip)==null?void 0:D.followTouchMove,!0)&&G.series.some(F=>F.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&M?($.push(g(B,"pointerdown",F=>{var z,W;(z=F.target)!=null&&z.hasPointerCapture(F.pointerId)&&((W=F.target)==null||W.releasePointerCapture(F.pointerId))}),g(B,"pointermove",F=>{var z,W;(W=(z=G.pointer)==null?void 0:z.getPointFromEvent(F))==null||W.onMouseOver(F)})),G.styledMode||x(B,{"touch-action":"none"}),B.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!M&&($.forEach(F=>F()),$.length=0,G.styledMode||x(B,{"touch-action":L((V=G.options.chart.style)==null?void 0:V["touch-action"],"manipulation")}),B.className=B.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex($){var M;let G=this.chart,B=a.charts[L(X.hoverChartIndex,-1)];if(B&&B!==G){let D={relatedTarget:G.container};$&&!($!=null&&$.relatedTarget)&&($={...D,...$}),(M=B.pointer)==null||M.onContainerMouseLeave($||D)}B&&B.mouseIsDown||(X.hoverChartIndex=G.index)}touch($,G){let B,{chart:M,pinchDown:D=[]}=this;this.setHoverChartIndex(),($=this.normalize($)).touches.length===1?M.isInsidePlot($.chartX-M.plotLeft,$.chartY-M.plotTop,{visiblePlotOnly:!0})&&!M.openMenu?(G&&this.runPointActions($),$.type==="touchmove"&&(B=!!D[0]&&Math.pow(D[0].chartX-$.chartX,2)+Math.pow(D[0].chartY-$.chartY,2)>=16),L(B,!0)&&this.pinch($)):G&&this.reset():$.touches.length===2&&this.pinch($)}touchSelect($){return!!(this.chart.zooming.singleTouch&&$.touches&&$.touches.length===1)}zoomOption($){let G=this.chart,B=G.inverted,M=G.zooming.type||"",D,V;/touch/.test($.type)&&(M=L(G.zooming.pinchType,M)),this.zoomX=D=/x/.test(M),this.zoomY=V=/y/.test(M),this.zoomHor=D&&!B||V&&B,this.zoomVert=V&&!B||D&&B,this.hasZoom=D||V}}return(s=X).compose=function(H){O(m,"Core.Pointer")&&g(H,"beforeRender",function(){this.pointer=new s(this,this.options)})},X}),i(t,"Core/Legend/LegendSymbol.js",[t["Core/Utilities.js"]],function(r){var a;let{extend:o,merge:s,pick:d}=r;return function(p){function m(y,g,_){var B,M;let x=this.legendItem=this.legendItem||{},{chart:T,options:E}=this,{baseline:k=0,symbolWidth:v,symbolHeight:w}=y,N=this.symbol||"circle",S=w/2,L=T.renderer,O=x.group,Y=k-Math.round((((B=y.fontMetrics)==null?void 0:B.b)||w)*(_?.4:.3)),X={},H,$=E.marker,G=0;if(T.styledMode||(X["stroke-width"]=Math.min(E.lineWidth||0,24),E.dashStyle?X.dashstyle=E.dashStyle:E.linecap==="square"||(X["stroke-linecap"]="round")),x.line=L.path().addClass("highcharts-graph").attr(X).add(O),_&&(x.area=L.path().addClass("highcharts-area").add(O)),X["stroke-linecap"]&&(G=Math.min(x.line.strokeWidth(),v)/2),v){let D=[["M",G,Y],["L",v-G,Y]];x.line.attr({d:D}),(M=x.area)==null||M.attr({d:[...D,["L",v-G,k],["L",G,k]]})}if($&&$.enabled!==!1&&v){let D=Math.min(d($.radius,S),S);N.indexOf("url")===0&&($=s($,{width:w,height:w}),D=0),x.symbol=H=L.symbol(N,v/2-D,Y-D,2*D,2*D,o({context:"legend"},$)).addClass("highcharts-point").add(O),H.isMarker=!0}}p.areaMarker=function(y,g){m.call(this,y,g,!0)},p.lineMarker=m,p.rectangle=function(y,g){let _=g.legendItem||{},x=y.options,T=y.symbolHeight,E=x.squareSymbol,k=E?T:y.symbolWidth;_.symbol=this.chart.renderer.rect(E?(y.symbolWidth-T)/2:0,y.baseline-T+1,k,T,d(y.options.symbolRadius,T/2)).addClass("highcharts-point").attr({zIndex:3}).add(_.group)}}(a||(a={})),a}),i(t,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:r}=this.series.chart;return typeof this.y!="number"?"":r(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),i(t,"Core/Series/SeriesRegistry.js",[t["Core/Globals.js"],t["Core/Defaults.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(r,a,o,s){var d;let{defaultOptions:p}=a,{extend:m,extendClass:y,merge:g}=s;return function(_){function x(T,E){let k=p.plotOptions||{},v=E.defaultOptions,w=E.prototype;return w.type=T,w.pointClass||(w.pointClass=o),!_.seriesTypes[T]&&(v&&(k[T]=v),_.seriesTypes[T]=E,!0)}_.seriesTypes=r.seriesTypes,_.registerSeriesType=x,_.seriesType=function(T,E,k,v,w){let N=p.plotOptions||{};if(E=E||"",N[T]=g(N[E],k),delete _.seriesTypes[T],x(T,y(_.seriesTypes[E]||function(){},v)),_.seriesTypes[T].prototype.type=T,w){class S extends o{}m(S.prototype,w),_.seriesTypes[T].prototype.pointClass=S}return _.seriesTypes[T]}}(d||(d={})),d}),i(t,"Core/Series/Series.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Defaults.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,a,o,s,d,p,m,y,g,_){let{animObject:x,setAnimation:T}=r,{defaultOptions:E}=a,{registerEventOptions:k}=o,{svg:v,win:w}=s,{seriesTypes:N}=y,{arrayMax:S,arrayMin:L,clamp:O,correctFloat:Y,crisp:X,defined:H,destroyObjectProperties:$,diffObjects:G,erase:B,error:M,extend:D,find:V,fireEvent:F,getClosestDistance:z,getNestedProperty:W,insertItem:q,isArray:ee,isNumber:ue,isString:ie,merge:oe,objectEach:Ee,pick:me,removeEvent:Te,splat:K,syncTimeout:J}=_;class se{constructor(){this.zoneAxis="y"}init(Q,ae){let ce;F(this,"init",{options:ae});let ge=this,be=Q.series;this.eventsToUnbind=[],ge.chart=Q,ge.options=ge.setOptions(ae);let Le=ge.options,_e=Le.visible!==!1;ge.linkedSeries=[],ge.bindAxes(),D(ge,{name:Le.name,state:"",visible:_e,selected:Le.selected===!0}),k(this,Le);let Ne=Le.events;(Ne&&Ne.click||Le.point&&Le.point.events&&Le.point.events.click||Le.allowPointSelect)&&(Q.runTrackerClick=!0),ge.getColor(),ge.getSymbol(),ge.parallelArrays.forEach(function($e){ge[$e+"Data"]||(ge[$e+"Data"]=[])}),ge.isCartesian&&(Q.hasCartesianSeries=!0),be.length&&(ce=be[be.length-1]),ge._i=me(ce&&ce._i,-1)+1,ge.opacity=ge.options.opacity,Q.orderItems("series",q(this,be)),Le.dataSorting&&Le.dataSorting.enabled?ge.setDataSortingOptions():ge.points||ge.data||ge.setData(Le.data,!1),F(this,"afterInit")}is(Q){return N[Q]&&this instanceof N[Q]}bindAxes(){let Q,ae=this,ce=ae.options,ge=ae.chart;F(this,"bindAxes",null,function(){(ae.axisTypes||[]).forEach(function(be){(ge[be]||[]).forEach(function(Le){Q=Le.options,(me(ce[be],0)===Le.index||ce[be]!==void 0&&ce[be]===Q.id)&&(q(ae,Le.series),ae[be]=Le,Le.isDirty=!0)}),ae[be]||ae.optionalAxis===be||M(18,!0,ge)})}),F(this,"afterBindAxes")}updateParallelArrays(Q,ae,ce){let ge=Q.series,be=ue(ae)?function(Le){let _e=Le==="y"&&ge.toYData?ge.toYData(Q):Q[Le];ge[Le+"Data"][ae]=_e}:function(Le){Array.prototype[ae].apply(ge[Le+"Data"],ce)};ge.parallelArrays.forEach(be)}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.yData&&this.yData.length>0}hasMarkerChanged(Q,ae){let ce=Q.marker,ge=ae.marker||{};return ce&&(ge.enabled&&!ce.enabled||ge.symbol!==ce.symbol||ge.height!==ce.height||ge.width!==ce.width)}autoIncrement(Q){let ae=this.options,ce=ae.pointIntervalUnit,ge=ae.relativeXValue,be=this.chart.time,Le=this.xIncrement,_e,Ne;return Le=me(Le,ae.pointStart,0),this.pointInterval=Ne=me(this.pointInterval,ae.pointInterval,1),ge&&ue(Q)&&(Ne*=Q),ce&&(_e=new be.Date(Le),ce==="day"?be.set("Date",_e,be.get("Date",_e)+Ne):ce==="month"?be.set("Month",_e,be.get("Month",_e)+Ne):ce==="year"&&be.set("FullYear",_e,be.get("FullYear",_e)+Ne),Ne=_e.getTime()-Le),ge&&ue(Q)?Le+Ne:(this.xIncrement=Le+Ne,Le)}setDataSortingOptions(){let Q=this.options;D(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),H(Q.pointRange)||(Q.pointRange=1)}setOptions(Q){var Me,je;let ae,ce=this.chart,ge=ce.options.plotOptions,be=ce.userOptions||{},Le=oe(Q),_e=ce.styledMode,Ne={plotOptions:ge,userOptions:Le};F(this,"setOptions",Ne);let $e=Ne.plotOptions[this.type],Ye=be.plotOptions||{},Xe=Ye.series||{},De=E.plotOptions[this.type]||{},we=Ye[this.type]||{};this.userOptions=Ne.userOptions;let ke=oe($e,ge.series,we,Le);this.tooltipOptions=oe(E.tooltip,(Me=E.plotOptions.series)==null?void 0:Me.tooltip,De==null?void 0:De.tooltip,ce.userOptions.tooltip,(je=Ye.series)==null?void 0:je.tooltip,we.tooltip,Le.tooltip),this.stickyTracking=me(Le.stickyTracking,we.stickyTracking,Xe.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||ke.stickyTracking),$e.marker===null&&delete ke.marker,this.zoneAxis=ke.zoneAxis||"y";let ze=this.zones=(ke.zones||[]).map(Ke=>({...Ke}));return(ke.negativeColor||ke.negativeFillColor)&&!ke.zones&&(ae={value:ke[this.zoneAxis+"Threshold"]||ke.threshold||0,className:"highcharts-negative"},_e||(ae.color=ke.negativeColor,ae.fillColor=ke.negativeFillColor),ze.push(ae)),ze.length&&H(ze[ze.length-1].value)&&ze.push(_e?{}:{color:this.color,fillColor:this.fillColor}),F(this,"afterSetOptions",{options:ke}),ke}getName(){return me(this.options.name,"Series "+(this.index+1))}getCyclic(Q,ae,ce){let ge,be,Le=this.chart,_e=`${Q}Index`,Ne=`${Q}Counter`,$e=(ce==null?void 0:ce.length)||Le.options.chart.colorCount;!ae&&(H(be=me(Q==="color"?this.options.colorIndex:void 0,this[_e]))?ge=be:(Le.series.length||(Le[Ne]=0),ge=Le[Ne]%$e,Le[Ne]+=1),ce&&(ae=ce[ge])),ge!==void 0&&(this[_e]=ge),this[Q]=ae}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||E.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let Q=this.options.marker;this.getCyclic("symbol",Q.symbol,this.chart.options.symbols)}findPointIndex(Q,ae){let ce,ge,be,Le=Q.id,_e=Q.x,Ne=this.points,$e=this.options.dataSorting;if(Le){let Ye=this.chart.get(Le);Ye instanceof p&&(ce=Ye)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let Ye=Xe=>!Xe.touched&&Xe.index===Q.index;if($e&&$e.matchByName?Ye=Xe=>!Xe.touched&&Xe.name===Q.name:this.options.relativeXValue&&(Ye=Xe=>!Xe.touched&&Xe.options.x===Q.x),!(ce=V(Ne,Ye)))return}return ce&&(be=ce&&ce.index)!==void 0&&(ge=!0),be===void 0&&ue(_e)&&(be=this.xData.indexOf(_e,ae)),be!==-1&&be!==void 0&&this.cropped&&(be=be>=this.cropStart?be-this.cropStart:be),!ge&&ue(be)&&Ne[be]&&Ne[be].touched&&(be=void 0),be}updateData(Q,ae){let ce=this.options,ge=ce.dataSorting,be=this.points,Le=[],_e=this.requireSorting,Ne=Q.length===be.length,$e,Ye,Xe,De,we=!0;if(this.xIncrement=null,Q.forEach(function(ke,ze){let Me,je=H(ke)&&this.pointClass.prototype.optionsToObject.call({series:this},ke)||{},Ke=je.x;je.id||ue(Ke)?((Me=this.findPointIndex(je,De))===-1||Me===void 0?Le.push(ke):be[Me]&&ke!==ce.data[Me]?(be[Me].update(ke,!1,null,!1),be[Me].touched=!0,_e&&(De=Me+1)):be[Me]&&(be[Me].touched=!0),(!Ne||ze!==Me||ge&&ge.enabled||this.hasDerivedData)&&($e=!0)):Le.push(ke)},this),$e)for(Ye=be.length;Ye--;)(Xe=be[Ye])&&!Xe.touched&&Xe.remove&&Xe.remove(!1,ae);else!Ne||ge&&ge.enabled?we=!1:(Q.forEach(function(ke,ze){ke===be[ze].y||be[ze].destroyed||be[ze].update(ke,!1,null,!1)}),Le.length=0);return be.forEach(function(ke){ke&&(ke.touched=!1)}),!!we&&(Le.forEach(function(ke){this.addPoint(ke,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=S(this.xData),this.autoIncrement()),!0)}setData(Q,ae=!0,ce,ge){var mt;let be=this,Le=be.points,_e=Le&&Le.length||0,Ne=be.options,$e=be.chart,Ye=Ne.dataSorting,Xe=be.xAxis,De=Ne.turboThreshold,we=this.xData,ke=this.yData,ze=be.pointArrayMap,Me=ze&&ze.length,je=Ne.keys,Ke,nt,ot,ht=0,gt=1,Tt;$e.options.chart.allowMutatingData||(Ne.data&&delete be.options.data,be.userOptions.data&&delete be.userOptions.data,Tt=oe(!0,Q));let $t=(Q=Tt||Q||[]).length;if(Ye&&Ye.enabled&&(Q=this.sortData(Q)),$e.options.chart.allowMutatingData&&ge!==!1&&$t&&_e&&!be.cropped&&!be.hasGroupedData&&be.visible&&!be.boosted&&(ot=this.updateData(Q,ce)),!ot){be.xIncrement=null,be.colorCounter=0,this.parallelArrays.forEach(function(St){be[St+"Data"].length=0});let Ct=De&&$t>De;if(Ct){let St=be.getFirstValidPoint(Q),sn=be.getFirstValidPoint(Q,$t-1,-1),yn=Zt=>!!(ee(Zt)&&(je||ue(Zt[0])));if(ue(St)&&ue(sn))for(Ke=0;Ke<$t;Ke++)we[Ke]=this.autoIncrement(),ke[Ke]=Q[Ke];else if(yn(St)&&yn(sn))if(Me)if(St.length===Me)for(Ke=0;Ke<$t;Ke++)we[Ke]=this.autoIncrement(),ke[Ke]=Q[Ke];else for(Ke=0;Ke<$t;Ke++)nt=Q[Ke],we[Ke]=nt[0],ke[Ke]=nt.slice(1,Me+1);else if(je&&(ht=je.indexOf("x"),gt=je.indexOf("y"),ht=ht>=0?ht:0,gt=gt>=0?gt:1),St.length===1&&(gt=0),ht===gt)for(Ke=0;Ke<$t;Ke++)we[Ke]=this.autoIncrement(),ke[Ke]=Q[Ke][gt];else for(Ke=0;Ke<$t;Ke++)nt=Q[Ke],we[Ke]=nt[ht],ke[Ke]=nt[gt];else Ct=!1}if(!Ct)for(Ke=0;Ke<$t;Ke++)nt={series:be},be.pointClass.prototype.applyOptions.apply(nt,[Q[Ke]]),be.updateParallelArrays(nt,Ke);for(ke&&ie(ke[0])&&M(14,!0,$e),be.data=[],be.options.data=be.userOptions.data=Q,Ke=_e;Ke--;)(mt=Le[Ke])==null||mt.destroy();Xe&&(Xe.minRange=Xe.userMinRange),be.isDirty=$e.isDirtyBox=!0,be.isDirtyData=!!Le,ce=!1}Ne.legendType==="point"&&(this.processData(),this.generatePoints()),ae&&$e.redraw(ce)}sortData(Q){let ae=this,ce=ae.options.dataSorting.sortKey||"y",ge=function(be,Le){return H(Le)&&be.pointClass.prototype.optionsToObject.call({series:be},Le)||{}};return Q.forEach(function(be,Le){Q[Le]=ge(ae,be),Q[Le].index=Le},this),Q.concat().sort((be,Le)=>{let _e=W(ce,be),Ne=W(ce,Le);return Ne<_e?-1:Ne>_e?1:0}).forEach(function(be,Le){be.x=Le},this),ae.linkedSeries&&ae.linkedSeries.forEach(function(be){let Le=be.options,_e=Le.data;Le.dataSorting&&Le.dataSorting.enabled||!_e||(_e.forEach(function(Ne,$e){_e[$e]=ge(be,Ne),Q[$e]&&(_e[$e].x=Q[$e].x,_e[$e].index=$e)}),be.setData(_e,!1))}),Q}getProcessedData(Q){let ae=this,ce=ae.xAxis,ge=ae.options.cropThreshold,be=ce==null?void 0:ce.logarithmic,Le=ae.isCartesian,_e,Ne,$e=0,Ye,Xe,De,we=ae.xData,ke=ae.yData,ze=!1,Me=we.length;ce&&(Xe=(Ye=ce.getExtremes()).min,De=Ye.max,ze=!!(ce.categories&&!ce.names.length)),Le&&ae.sorted&&!Q&&(!ge||Me>ge||ae.forceCrop)&&(we[Me-1]<Xe||we[0]>De?(we=[],ke=[]):ae.yData&&(we[0]<Xe||we[Me-1]>De)&&(we=(_e=this.cropData(ae.xData,ae.yData,Xe,De)).xData,ke=_e.yData,$e=_e.start,Ne=!0));let je=z([be?we.map(be.log2lin):we],()=>ae.requireSorting&&!ze&&M(15,!1,ae.chart));return{xData:we,yData:ke,cropped:Ne,cropStart:$e,closestPointRange:je}}processData(Q){let ae=this.xAxis;if(this.isCartesian&&!this.isDirty&&!ae.isDirty&&!this.yAxis.isDirty&&!Q)return!1;let ce=this.getProcessedData();this.cropped=ce.cropped,this.cropStart=ce.cropStart,this.processedXData=ce.xData,this.processedYData=ce.yData,this.closestPointRange=this.basePointRange=ce.closestPointRange,F(this,"afterProcessData")}cropData(Q,ae,ce,ge){let be=Q.length,Le,_e,Ne=0,$e=be;for(Le=0;Le<be;Le++)if(Q[Le]>=ce){Ne=Math.max(0,Le-1);break}for(_e=Le;_e<be;_e++)if(Q[_e]>ge){$e=_e+1;break}return{xData:Q.slice(Ne,$e),yData:ae.slice(Ne,$e),start:Ne,end:$e}}generatePoints(){let Q=this.options,ae=this.processedData||Q.data,ce=this.processedXData,ge=this.processedYData,be=this.pointClass,Le=ce.length,_e=this.cropStart||0,Ne=this.hasGroupedData,$e=Q.keys,Ye=[],Xe=Q.dataGrouping&&Q.dataGrouping.groupAll?_e:0,De,we,ke,ze,Me=this.data;if(!Me&&!Ne){let je=[];je.length=ae.length,Me=this.data=je}for($e&&Ne&&(this.options.keys=!1),ze=0;ze<Le;ze++)we=_e+ze,Ne?((ke=new be(this,[ce[ze]].concat(K(ge[ze])))).dataGroup=this.groupMap[Xe+ze],ke.dataGroup.options&&(ke.options=ke.dataGroup.options,D(ke,ke.dataGroup.options),delete ke.dataLabels)):(ke=Me[we])||ae[we]===void 0||(Me[we]=ke=new be(this,ae[we],ce[ze])),ke&&(ke.index=Ne?Xe+ze:we,Ye[ze]=ke);if(this.options.keys=$e,Me&&(Le!==(De=Me.length)||Ne))for(ze=0;ze<De;ze++)ze!==_e||Ne||(ze+=Le),Me[ze]&&(Me[ze].destroyElements(),Me[ze].plotX=void 0);this.data=Me,this.points=Ye,F(this,"afterGeneratePoints")}getXExtremes(Q){return{min:L(Q),max:S(Q)}}getExtremes(Q,ae){let ce=this.xAxis,ge=this.yAxis,be=[],Le=this.requireSorting&&!this.is("column")?1:0,_e=!!ge&&ge.positiveValuesOnly,Ne=ae||this.getExtremesFromAll||this.options.getExtremesFromAll,{processedXData:$e,processedYData:Ye}=this,Xe,De,we,ke,ze,Me,je,Ke=0,nt=0,ot=0;if(this.cropped&&Ne){let $t=this.getProcessedData(!0);$e=$t.xData,Ye=$t.yData}let ht=(Q=Q||this.stackedYData||Ye||[]).length,gt=$e||this.xData;for(ce&&(Ke=(Xe=ce.getExtremes()).min,nt=Xe.max),Me=0;Me<ht;Me++)if(ke=gt[Me],De=(ue(ze=Q[Me])||ee(ze))&&((ue(ze)?ze>0:ze.length)||!_e),we=ae||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!ce||(gt[Me+Le]||ke)>=Ke&&(gt[Me-Le]||ke)<=nt,De&&we)if(je=ze.length)for(;je--;)ue(ze[je])&&(be[ot++]=ze[je]);else be[ot++]=ze;let Tt={activeYData:be,dataMin:L(be),dataMax:S(be)};return F(this,"afterGetExtremes",{dataExtremes:Tt}),Tt}applyExtremes(){let Q=this.getExtremes();return this.dataMin=Q.dataMin,this.dataMax=Q.dataMax,Q}getFirstValidPoint(Q,ae=0,ce=1){let ge=Q.length,be=ae;for(;be>=0&&be<ge;){if(H(Q[be]))return Q[be];be+=ce}}translate(){var nt;this.processedXData||this.processData(),this.generatePoints();let Q=this.options,ae=Q.stacking,ce=this.xAxis,ge=ce.categories,be=this.enabledDataSorting,Le=this.yAxis,_e=this.points,Ne=_e.length,$e=this.pointPlacementToXValue(),Ye=!!$e,Xe=Q.threshold,De=Q.startFromThreshold?Xe:0,we,ke,ze,Me,je=Number.MAX_VALUE;function Ke(ot){return O(ot,-1e9,1e9)}for(we=0;we<Ne;we++){let ot,ht=_e[we],gt=ht.x,Tt,$t,mt=ht.y,Ct=ht.low,St=ae&&((nt=Le.stacking)==null?void 0:nt.stacks[(this.negStacks&&mt<(De?0:Xe)?"-":"")+this.stackKey]);ke=ce.translate(gt,!1,!1,!1,!0,$e),ht.plotX=ue(ke)?Y(Ke(ke)):void 0,ae&&this.visible&&St&&St[gt]&&(Me=this.getStackIndicator(Me,gt,this.index),!ht.isNull&&Me.key&&($t=(Tt=St[gt]).points[Me.key]),Tt&&ee($t)&&(Ct=$t[0],mt=$t[1],Ct===De&&Me.key===St[gt].base&&(Ct=me(ue(Xe)?Xe:Le.min)),Le.positiveValuesOnly&&H(Ct)&&Ct<=0&&(Ct=void 0),ht.total=ht.stackTotal=me(Tt.total),ht.percentage=H(ht.y)&&Tt.total?ht.y/Tt.total*100:void 0,ht.stackY=mt,this.irregularWidths||Tt.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),ht.yBottom=H(Ct)?Ke(Le.translate(Ct,!1,!0,!1,!0)):void 0,this.dataModify&&(mt=this.dataModify.modifyValue(mt,we)),ue(mt)&&ht.plotX!==void 0&&(ot=ue(ot=Le.translate(mt,!1,!0,!1,!0))?Ke(ot):void 0),ht.plotY=ot,ht.isInside=this.isPointInside(ht),ht.clientX=Ye?Y(ce.translate(gt,!1,!1,!1,!0,$e)):ke,ht.negative=(ht.y||0)<(Xe||0),ht.category=me(ge&&ge[ht.x],ht.x),ht.isNull||ht.visible===!1||(ze!==void 0&&(je=Math.min(je,Math.abs(ke-ze))),ze=ke),ht.zone=this.zones.length?ht.getZone():void 0,!ht.graphic&&this.group&&be&&(ht.isNew=!0)}this.closestPointRangePx=je,F(this,"afterTranslate")}getValidPoints(Q,ae,ce){let ge=this.chart;return(Q||this.points||[]).filter(function(be){let{plotX:Le,plotY:_e}=be;return!!((ce||!be.isNull&&ue(_e))&&(!ae||ge.isInsidePlot(Le,_e,{inverted:ge.inverted})))&&be.visible!==!1})}getClipBox(){let{chart:Q,xAxis:ae,yAxis:ce}=this,{x:ge,y:be,width:Le,height:_e}=oe(Q.clipBox);return ae&&ae.len!==Q.plotSizeX&&(Le=ae.len),ce&&ce.len!==Q.plotSizeY&&(_e=ce.len),Q.inverted&&!this.invertible&&([Le,_e]=[_e,Le]),{x:ge,y:be,width:Le,height:_e}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:Q,group:ae,markerGroup:ce}=this,ge=Q.sharedClips,be=Q.renderer,Le=this.getClipBox(),_e=this.getSharedClipKey(),Ne=ge[_e];Ne?Ne.animate(Le):ge[_e]=Ne=be.clipRect(Le),ae&&ae.clip(this.options.clip===!1?void 0:Ne),ce&&ce.clip()}animate(Q){let{chart:ae,group:ce,markerGroup:ge}=this,be=ae.inverted,Le=x(this.options.animation),_e=[this.getSharedClipKey(),Le.duration,Le.easing,Le.defer].join(","),Ne=ae.sharedClips[_e],$e=ae.sharedClips[_e+"m"];if(Q&&ce){let Ye=this.getClipBox();if(Ne)Ne.attr("height",Ye.height);else{Ye.width=0,be&&(Ye.x=ae.plotHeight),Ne=ae.renderer.clipRect(Ye),ae.sharedClips[_e]=Ne;let Xe={x:-99,y:-99,width:be?ae.plotWidth+199:99,height:be?99:ae.plotHeight+199};$e=ae.renderer.clipRect(Xe),ae.sharedClips[_e+"m"]=$e}ce.clip(Ne),ge==null||ge.clip($e)}else if(Ne&&!Ne.hasClass("highcharts-animating")){let Ye=this.getClipBox(),Xe=Le.step;(ge!=null&&ge.element.childNodes.length||ae.series.length>1)&&(Le.step=function(De,we){Xe&&Xe.apply(we,arguments),we.prop==="width"&&($e!=null&&$e.element)&&$e.attr(be?"height":"width",De+99)}),Ne.addClass("highcharts-animating").animate(Ye,Le)}}afterAnimate(){this.setClip(),Ee(this.chart.sharedClips,(Q,ae,ce)=>{Q&&!this.chart.container.querySelector(`[clip-path="url(#${Q.id})"]`)&&(Q.destroy(),delete ce[ae])}),this.finishedAnimating=!0,F(this,"afterAnimate")}drawPoints(Q=this.points){let ae,ce,ge,be,Le,_e,Ne,$e=this.chart,Ye=$e.styledMode,{colorAxis:Xe,options:De}=this,we=De.marker,ke=this[this.specialGroup||"markerGroup"],ze=this.xAxis,Me=me(we.enabled,!ze||!!ze.isRadial||null,this.closestPointRangePx>=we.enabledThreshold*we.radius);if(we.enabled!==!1||this._hasPointMarkers)for(ae=0;ae<Q.length;ae++)if(be=(ge=(ce=Q[ae]).graphic)?"animate":"attr",Le=ce.marker||{},_e=!!ce.marker,(Me&&Le.enabled===void 0||Le.enabled)&&!ce.isNull&&ce.visible!==!1){let je=me(Le.symbol,this.symbol,"rect");Ne=this.markerAttribs(ce,ce.selected&&"select"),this.enabledDataSorting&&(ce.startXPos=ze.reversed?-(Ne.width||0):ze.width);let Ke=ce.isInside!==!1;if(!ge&&Ke&&((Ne.width||0)>0||ce.hasImage)&&(ce.graphic=ge=$e.renderer.symbol(je,Ne.x,Ne.y,Ne.width,Ne.height,_e?Le:we).add(ke),this.enabledDataSorting&&$e.hasRendered&&(ge.attr({x:ce.startXPos}),be="animate")),ge&&be==="animate"&&ge[Ke?"show":"hide"](Ke).animate(Ne),ge){let nt=this.pointAttribs(ce,Ye||!ce.selected?void 0:"select");Ye?Xe&&ge.css({fill:nt.fill}):ge[be](nt)}ge&&ge.addClass(ce.getClassName(),!0)}else ge&&(ce.graphic=ge.destroy())}markerAttribs(Q,ae){let ce=this.options,ge=ce.marker,be=Q.marker||{},Le=be.symbol||ge.symbol,_e={},Ne,$e,Ye=me(be.radius,ge&&ge.radius);ae&&(Ne=ge.states[ae],Ye=me(($e=be.states&&be.states[ae])&&$e.radius,Ne&&Ne.radius,Ye&&Ye+(Ne&&Ne.radiusPlus||0))),Q.hasImage=Le&&Le.indexOf("url")===0,Q.hasImage&&(Ye=0);let Xe=Q.pos();return ue(Ye)&&Xe&&(ce.crisp&&(Xe[0]=X(Xe[0],Q.hasImage?0:Le==="rect"?(ge==null?void 0:ge.lineWidth)||0:1)),_e.x=Xe[0]-Ye,_e.y=Xe[1]-Ye),Ye&&(_e.width=_e.height=2*Ye),_e}pointAttribs(Q,ae){let ce=this.options.marker,ge=Q&&Q.options,be=ge&&ge.marker||{},Le=ge&&ge.color,_e=Q&&Q.color,Ne=Q&&Q.zone&&Q.zone.color,$e,Ye,Xe=this.color,De,we,ke=me(be.lineWidth,ce.lineWidth),ze=1;return Xe=Le||Ne||_e||Xe,De=be.fillColor||ce.fillColor||Xe,we=be.lineColor||ce.lineColor||Xe,ae=ae||"normal",$e=ce.states[ae]||{},ke=me((Ye=be.states&&be.states[ae]||{}).lineWidth,$e.lineWidth,ke+me(Ye.lineWidthPlus,$e.lineWidthPlus,0)),De=Ye.fillColor||$e.fillColor||De,{stroke:we=Ye.lineColor||$e.lineColor||we,"stroke-width":ke,fill:De,opacity:ze=me(Ye.opacity,$e.opacity,ze)}}destroy(Q){let ae,ce,ge,be=this,Le=be.chart,_e=/AppleWebKit\/533/.test(w.navigator.userAgent),Ne=be.data||[];for(F(be,"destroy",{keepEventsForUpdate:Q}),this.removeEvents(Q),(be.axisTypes||[]).forEach(function($e){(ge=be[$e])&&ge.series&&(B(ge.series,be),ge.isDirty=ge.forceRedraw=!0)}),be.legendItem&&be.chart.legend.destroyItem(be),ae=Ne.length;ae--;)(ce=Ne[ae])&&ce.destroy&&ce.destroy();for(let $e of be.zones)$($e,void 0,!0);_.clearTimeout(be.animationTimeout),Ee(be,function($e,Ye){$e instanceof g&&!$e.survive&&$e[_e&&Ye==="group"?"hide":"destroy"]()}),Le.hoverSeries===be&&(Le.hoverSeries=void 0),B(Le.series,be),Le.orderItems("series"),Ee(be,function($e,Ye){Q&&Ye==="hcEvents"||delete be[Ye]})}applyZones(){let{area:Q,chart:ae,graph:ce,zones:ge,points:be,xAxis:Le,yAxis:_e,zoneAxis:Ne}=this,{inverted:$e,renderer:Ye}=ae,Xe=this[`${Ne}Axis`],{isXAxis:De,len:we=0}=Xe||{},ke=((ce==null?void 0:ce.strokeWidth())||0)/2+1,ze=(Me,je=0,Ke=0)=>{$e&&(Ke=we-Ke);let{translated:nt=0,lineClip:ot}=Me,ht=Ke-nt;ot==null||ot.push(["L",je,Math.abs(ht)<ke?Ke-ke*(ht<=0?-1:1):nt])};if(ge.length&&(ce||Q)&&Xe&&ue(Xe.min)){let Me=Xe.getExtremes().max,je=ot=>{ot.forEach((ht,gt)=>{(ht[0]==="M"||ht[0]==="L")&&(ot[gt]=[ht[0],De?we-ht[1]:ht[1],De?ht[2]:we-ht[2]])})};if(ge.forEach(ot=>{ot.lineClip=[],ot.translated=O(Xe.toPixels(me(ot.value,Me),!0)||0,0,we)}),ce&&!this.showLine&&ce.hide(),Q&&Q.hide(),Ne==="y"&&be.length<Le.len)for(let ot of be){let{plotX:ht,plotY:gt,zone:Tt}=ot,$t=Tt&&ge[ge.indexOf(Tt)-1];Tt&&ze(Tt,ht,gt),$t&&ze($t,ht,gt)}let Ke=[],nt=Xe.toPixels(Xe.getExtremes().min,!0);ge.forEach(ot=>{var hi,ii;let ht=ot.lineClip||[],gt=Math.round(ot.translated||0);Le.reversed&&ht.reverse();let{clip:Tt,simpleClip:$t}=ot,mt=0,Ct=0,St=Le.len,sn=_e.len;De?(mt=gt,St=nt):(Ct=gt,sn=nt);let yn=[["M",mt,Ct],["L",St,Ct],["L",St,sn],["L",mt,sn],["Z"]],Zt=[yn[0],...ht,yn[1],yn[2],...Ke,yn[3],yn[4]];Ke=ht.reverse(),nt=gt,$e&&(je(Zt),Q&&je(yn)),Tt?(Tt.animate({d:Zt}),$t==null||$t.animate({d:yn})):(Tt=ot.clip=Ye.path(Zt),Q&&($t=ot.simpleClip=Ye.path(yn))),ce&&((hi=ot.graph)==null||hi.clip(Tt)),Q&&((ii=ot.area)==null||ii.clip($t))})}else this.visible&&(ce&&ce.show(),Q&&Q.show())}plotGroup(Q,ae,ce,ge,be){let Le=this[Q],_e=!Le,Ne={visibility:ce,zIndex:ge||.1};return H(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(Ne.opacity=this.opacity),Le||(this[Q]=Le=this.chart.renderer.g().add(be)),Le.addClass("highcharts-"+ae+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(H(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Le.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Le.attr(Ne)[_e?"attr":"animate"](this.getPlotBox(ae)),Le}getPlotBox(Q){let ae=this.xAxis,ce=this.yAxis,ge=this.chart,be=ge.inverted&&!ge.polar&&ae&&this.invertible&&Q==="series";return ge.inverted&&(ae=ce,ce=this.xAxis),{translateX:ae?ae.left:ge.plotLeft,translateY:ce?ce.top:ge.plotTop,rotation:be?90:0,rotationOriginX:be?(ae.len-ce.len)/2:0,rotationOriginY:be?(ae.len+ce.len)/2:0,scaleX:be?-1:1,scaleY:1}}removeEvents(Q){let{eventsToUnbind:ae}=this;Q||Te(this),ae.length&&(ae.forEach(ce=>{ce()}),ae.length=0)}render(){var Ye,Xe,De,we,ke;let Q=this,{chart:ae,options:ce,hasRendered:ge}=Q,be=x(ce.animation),Le=Q.visible?"inherit":"hidden",_e=ce.zIndex,Ne=ae.seriesGroup,$e=Q.finishedAnimating?0:be.duration;F(this,"render"),Q.plotGroup("group","series",Le,_e,Ne),Q.markerGroup=Q.plotGroup("markerGroup","markers",Le,_e,Ne),ce.clip!==!1&&Q.setClip(),$e&&((Ye=Q.animate)==null||Ye.call(Q,!0)),Q.drawGraph&&(Q.drawGraph(),Q.applyZones()),Q.visible&&Q.drawPoints(),(Xe=Q.drawDataLabels)==null||Xe.call(Q),(De=Q.redrawPoints)==null||De.call(Q),ce.enableMouseTracking&&((we=Q.drawTracker)==null||we.call(Q)),$e&&((ke=Q.animate)==null||ke.call(Q)),ge||($e&&be.defer&&($e+=be.defer),Q.animationTimeout=J(()=>{Q.afterAnimate()},$e||0)),Q.isDirty=!1,Q.hasRendered=!0,F(Q,"afterRender")}redraw(){let Q=this.isDirty||this.isDirtyData;this.translate(),this.render(),Q&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(Q,ae){let{xAxis:ce,yAxis:ge}=this,be=this.chart.inverted;return this.searchKDTree({clientX:be?ce.len-Q.chartY+ce.pos:Q.chartX-ce.pos,plotY:be?ge.len-Q.chartX+ge.pos:Q.chartY-ge.pos},ae,Q)}buildKDTree(Q){this.buildingKdTree=!0;let ae=this,ce=ae.options.findNearestPointBy.indexOf("y")>-1?2:1;delete ae.kdTree,J(function(){ae.kdTree=function ge(be,Le,_e){let Ne,$e,Ye=be==null?void 0:be.length;if(Ye)return Ne=ae.kdAxisArray[Le%_e],be.sort((Xe,De)=>(Xe[Ne]||0)-(De[Ne]||0)),{point:be[$e=Math.floor(Ye/2)],left:ge(be.slice(0,$e),Le+1,_e),right:ge(be.slice($e+1),Le+1,_e)}}(ae.getValidPoints(void 0,!ae.directTouch),ce,ce),ae.buildingKdTree=!1},ae.options.kdNow||(Q==null?void 0:Q.type)==="touchstart"?0:1)}searchKDTree(Q,ae,ce){let ge=this,[be,Le]=this.kdAxisArray,_e=ae?"distX":"dist",Ne=(ge.options.findNearestPointBy||"").indexOf("y")>-1?2:1,$e=!!ge.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree(ce),this.kdTree)return function Ye(Xe,De,we,ke){var Tt;let ze=De.point,Me=ge.kdAxisArray[we%ke],je,Ke,nt=ze;(function($t,mt){var Si;let Ct=$t[be],St=mt[be],sn=H(Ct)&&H(St)?Ct-St:null,yn=$t[Le],Zt=mt[Le],hi=H(yn)&&H(Zt)?yn-Zt:0,ii=$e&&((Si=mt.marker)==null?void 0:Si.radius)||0;mt.dist=Math.sqrt((sn&&sn*sn||0)+hi*hi)-ii,mt.distX=H(sn)?Math.abs(sn)-ii:Number.MAX_VALUE})(Xe,ze);let ot=(Xe[Me]||0)-(ze[Me]||0)+($e&&((Tt=ze.marker)==null?void 0:Tt.radius)||0),ht=ot<0?"left":"right",gt=ot<0?"right":"left";return De[ht]&&(nt=(je=Ye(Xe,De[ht],we+1,ke))[_e]<nt[_e]?je:ze),De[gt]&&Math.sqrt(ot*ot)<nt[_e]&&(nt=(Ke=Ye(Xe,De[gt],we+1,ke))[_e]<nt[_e]?Ke:nt),nt}(Q,this.kdTree,Ne,Ne)}pointPlacementToXValue(){let{options:Q,xAxis:ae}=this,ce=Q.pointPlacement;return ce==="between"&&(ce=ae.reversed?-.5:.5),ue(ce)?ce*(Q.pointRange||ae.pointRange):0}isPointInside(Q){let{chart:ae,xAxis:ce,yAxis:ge}=this,{plotX:be=-1,plotY:Le=-1}=Q;return Le>=0&&Le<=(ge?ge.len:ae.plotHeight)&&be>=0&&be<=(ce?ce.len:ae.plotWidth)}drawTracker(){var De;let Q=this,ae=Q.options,ce=ae.trackByArea,ge=[].concat((ce?Q.areaPath:Q.graphPath)||[]),be=Q.chart,Le=be.pointer,_e=be.renderer,Ne=((De=be.options.tooltip)==null?void 0:De.snap)||0,$e=()=>{ae.enableMouseTracking&&be.hoverSeries!==Q&&Q.onMouseOver()},Ye="rgba(192,192,192,"+(v?1e-4:.002)+")",Xe=Q.tracker;Xe?Xe.attr({d:ge}):Q.graph&&(Q.tracker=Xe=_e.path(ge).attr({visibility:Q.visible?"inherit":"hidden",zIndex:2}).addClass(ce?"highcharts-tracker-area":"highcharts-tracker-line").add(Q.group),be.styledMode||Xe.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Ye,fill:ce?Ye:"none","stroke-width":Q.graph.strokeWidth()+(ce?0:2*Ne)}),[Q.tracker,Q.markerGroup,Q.dataLabelsGroup].forEach(we=>{we&&(we.addClass("highcharts-tracker").on("mouseover",$e).on("mouseout",ke=>{Le==null||Le.onTrackerMouseOut(ke)}),ae.cursor&&!be.styledMode&&we.css({cursor:ae.cursor}),we.on("touchstart",$e))})),F(this,"afterDrawTracker")}addPoint(Q,ae,ce,ge,be){let Le,_e,Ne=this.options,$e=this.data,Ye=this.chart,Xe=this.xAxis,De=Xe&&Xe.hasNames&&Xe.names,we=Ne.data,ke=this.xData;ae=me(ae,!0);let ze={series:this};this.pointClass.prototype.applyOptions.apply(ze,[Q]);let Me=ze.x;if(_e=ke.length,this.requireSorting&&Me<ke[_e-1])for(Le=!0;_e&&ke[_e-1]>Me;)_e--;this.updateParallelArrays(ze,"splice",[_e,0,0]),this.updateParallelArrays(ze,_e),De&&ze.name&&(De[Me]=ze.name),we.splice(_e,0,Q),(Le||this.processedData)&&(this.data.splice(_e,0,null),this.processData()),Ne.legendType==="point"&&this.generatePoints(),ce&&($e[0]&&$e[0].remove?$e[0].remove(!1):($e.shift(),this.updateParallelArrays(ze,"shift"),we.shift())),be!==!1&&F(this,"addPoint",{point:ze}),this.isDirty=!0,this.isDirtyData=!0,ae&&Ye.redraw(ge)}removePoint(Q,ae,ce){let ge=this,be=ge.data,Le=be[Q],_e=ge.points,Ne=ge.chart,$e=function(){_e&&_e.length===be.length&&_e.splice(Q,1),be.splice(Q,1),ge.options.data.splice(Q,1),ge.updateParallelArrays(Le||{series:ge},"splice",[Q,1]),Le&&Le.destroy(),ge.isDirty=!0,ge.isDirtyData=!0,ae&&Ne.redraw()};T(ce,Ne),ae=me(ae,!0),Le?Le.firePointEvent("remove",null,$e):$e()}remove(Q,ae,ce,ge){let be=this,Le=be.chart;function _e(){be.destroy(ge),Le.isDirtyLegend=Le.isDirtyBox=!0,Le.linkSeries(ge),me(Q,!0)&&Le.redraw(ae)}ce!==!1?F(be,"remove",null,_e):_e()}update(Q,ae){var je,Ke,nt;F(this,"update",{options:Q=G(Q,this.userOptions)});let ce=this,ge=ce.chart,be=ce.userOptions,Le=ce.initialType||ce.type,_e=ge.options.plotOptions,Ne=N[Le].prototype,$e=ce.finishedAnimating&&{animation:!1},Ye={},Xe,De,we=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],ke=Q.type||be.type||ge.options.chart.type,ze=!(this.hasDerivedData||ke&&ke!==this.type||Q.pointStart!==void 0||Q.pointInterval!==void 0||Q.relativeXValue!==void 0||Q.joinBy||Q.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(ot=>ce.hasOptionChanged(ot)));ke=ke||Le,ze&&(we.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),Q.visible!==!1&&we.push("area","graph"),ce.parallelArrays.forEach(function(ot){we.push(ot+"Data")}),Q.data&&(Q.dataSorting&&D(ce.options.dataSorting,Q.dataSorting),this.setData(Q.data,!1))),Q=oe(be,{index:be.index===void 0?ce.index:be.index,pointStart:((je=_e==null?void 0:_e.series)==null?void 0:je.pointStart)??be.pointStart??((Ke=ce.xData)==null?void 0:Ke[0])},!ze&&{data:ce.options.data},Q,$e),ze&&Q.data&&(Q.data=ce.options.data),(we=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(we)).forEach(function(ot){we[ot]=ce[ot],delete ce[ot]});let Me=!1;if(N[ke]){if(Me=ke!==ce.type,ce.remove(!1,!1,!1,!0),Me)if(ge.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(ce,N[ke].prototype);else{let ot=Object.hasOwnProperty.call(ce,"hcEvents")&&ce.hcEvents;for(De in Ne)ce[De]=void 0;D(ce,N[ke].prototype),ot?ce.hcEvents=ot:delete ce.hcEvents}}else M(17,!0,ge,{missingModuleFor:ke});if(we.forEach(function(ot){ce[ot]=we[ot]}),ce.init(ge,Q),ze&&this.points)for(let ot of((Xe=ce.options).visible===!1?(Ye.graphic=1,Ye.dataLabel=1):(this.hasMarkerChanged(Xe,be)&&(Ye.graphic=1),(nt=ce.hasDataLabels)!=null&&nt.call(ce)||(Ye.dataLabel=1)),this.points))ot&&ot.series&&(ot.resolveColor(),Object.keys(Ye).length&&ot.destroyElements(Ye),Xe.showInLegend===!1&&ot.legendItem&&ge.legend.destroyItem(ot));ce.initialType=Le,ge.linkSeries(),ge.setSortedData(),Me&&ce.linkedSeries.length&&(ce.isDirtyData=!0),F(this,"afterUpdate"),me(ae,!0)&&ge.redraw(!!ze&&void 0)}setName(Q){this.name=this.options.name=this.userOptions.name=Q,this.chart.isDirtyLegend=!0}hasOptionChanged(Q){var _e,Ne;let ae=this.chart,ce=this.options[Q],ge=ae.options.plotOptions,be=this.userOptions[Q],Le=me((_e=ge==null?void 0:ge[this.type])==null?void 0:_e[Q],(Ne=ge==null?void 0:ge.series)==null?void 0:Ne[Q]);return be&&!H(Le)?ce!==be:ce!==me(Le,ce)}onMouseOver(){let Q=this.chart,ae=Q.hoverSeries,ce=Q.pointer;ce==null||ce.setHoverChartIndex(),ae&&ae!==this&&ae.onMouseOut(),this.options.events.mouseOver&&F(this,"mouseOver"),this.setState("hover"),Q.hoverSeries=this}onMouseOut(){let Q=this.options,ae=this.chart,ce=ae.tooltip,ge=ae.hoverPoint;ae.hoverSeries=null,ge&&ge.onMouseOut(),this&&Q.events.mouseOut&&F(this,"mouseOut"),ce&&!this.stickyTracking&&(!ce.shared||this.noSharedTooltip)&&ce.hide(),ae.series.forEach(function(be){be.setState("",!0)})}setState(Q,ae){let ce=this,ge=ce.options,be=ce.graph,Le=ge.inactiveOtherPoints,_e=ge.states,Ne=me(_e[Q||"normal"]&&_e[Q||"normal"].animation,ce.chart.options.chart.animation),$e=ge.lineWidth,Ye=ge.opacity;if(Q=Q||"",ce.state!==Q&&([ce.group,ce.markerGroup,ce.dataLabelsGroup].forEach(function(Xe){Xe&&(ce.state&&Xe.removeClass("highcharts-series-"+ce.state),Q&&Xe.addClass("highcharts-series-"+Q))}),ce.state=Q,!ce.chart.styledMode)){if(_e[Q]&&_e[Q].enabled===!1)return;if(Q&&($e=_e[Q].lineWidth||$e+(_e[Q].lineWidthPlus||0),Ye=me(_e[Q].opacity,Ye)),be&&!be.dashstyle&&ue($e))for(let Xe of[be,...this.zones.map(De=>De.graph)])Xe==null||Xe.animate({"stroke-width":$e},Ne);Le||[ce.group,ce.markerGroup,ce.dataLabelsGroup,ce.labelBySeries].forEach(function(Xe){Xe&&Xe.animate({opacity:Ye},Ne)})}ae&&Le&&ce.points&&ce.setAllPointsToState(Q||void 0)}setAllPointsToState(Q){this.points.forEach(function(ae){ae.setState&&ae.setState(Q)})}setVisible(Q,ae){var Ne;let ce=this,ge=ce.chart,be=ge.options.chart.ignoreHiddenSeries,Le=ce.visible;ce.visible=Q=ce.options.visible=ce.userOptions.visible=Q===void 0?!Le:Q;let _e=Q?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach($e=>{var Ye;(Ye=ce[$e])==null||Ye[_e]()}),(ge.hoverSeries===ce||((Ne=ge.hoverPoint)==null?void 0:Ne.series)===ce)&&ce.onMouseOut(),ce.legendItem&&ge.legend.colorizeItem(ce,Q),ce.isDirty=!0,ce.options.stacking&&ge.series.forEach($e=>{$e.options.stacking&&$e.visible&&($e.isDirty=!0)}),ce.linkedSeries.forEach($e=>{$e.setVisible(Q,!1)}),be&&(ge.isDirtyBox=!0),F(ce,_e),ae!==!1&&ge.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(Q){this.selected=Q=this.options.selected=Q===void 0?!this.selected:Q,this.checkbox&&(this.checkbox.checked=Q),F(this,Q?"select":"unselect")}shouldShowTooltip(Q,ae,ce={}){return ce.series=this,ce.visiblePlotOnly=!0,this.chart.isInsidePlot(Q,ae,ce)}drawLegendSymbol(Q,ae){var ce;(ce=d[this.options.legendSymbol||"rectangle"])==null||ce.call(this,Q,ae)}}return se.defaultOptions=m,se.types=y.seriesTypes,se.registerType=y.registerSeriesType,D(se.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:p,requireSorting:!0,sorted:!0}),y.series=se,se}),i(t,"Core/Legend/Legend.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Series/Point.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Templating.js"],t["Core/Utilities.js"]],function(r,a,o,s,d,p,m,y){var g;let{animObject:_,setAnimation:x}=r,{registerEventOptions:T}=a,{composed:E,marginNames:k}=o,{distribute:v}=p,{format:w}=m,{addEvent:N,createElement:S,css:L,defined:O,discardElement:Y,find:X,fireEvent:H,isNumber:$,merge:G,pick:B,pushUnique:M,relativeLength:D,stableSort:V,syncTimeout:F}=y;class z{constructor(q,ee){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=q,this.setOptions(ee),ee.enabled&&(this.render(),T(this,ee),N(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),N(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(q){let ee=B(q.padding,8);this.options=q,this.chart.styledMode||(this.itemStyle=q.itemStyle,this.itemHiddenStyle=G(this.itemStyle,q.itemHiddenStyle)),this.itemMarginTop=q.itemMarginTop,this.itemMarginBottom=q.itemMarginBottom,this.padding=ee,this.initialItemY=ee-5,this.symbolWidth=B(q.symbolWidth,16),this.pages=[],this.proximate=q.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(q,ee){let ue=this.chart;this.setOptions(G(!0,this.options,q)),"events"in this.options&&T(this,this.options),this.destroy(),ue.isDirtyLegend=ue.isDirtyBox=!0,B(ee,!0)&&ue.redraw(),H(this,"afterUpdate",{redraw:ee})}colorizeItem(q,ee){let{area:ue,group:ie,label:oe,line:Ee,symbol:me}=q.legendItem||{};if(ie==null||ie[ee?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:Te={}}=this,K=Te.color,{fillColor:J,fillOpacity:se,lineColor:xe,marker:Q}=q.options,ae=ce=>(!ee&&(ce.fill&&(ce.fill=K),ce.stroke&&(ce.stroke=K)),ce);oe==null||oe.css(G(ee?this.itemStyle:Te)),Ee==null||Ee.attr(ae({stroke:xe||q.color})),me&&me.attr(ae(Q&&me.isMarker?q.pointAttribs():{fill:q.color})),ue==null||ue.attr(ae({fill:J||q.color,"fill-opacity":J?1:se??.75}))}H(this,"afterColorizeItem",{item:q,visible:ee})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(q){let{group:ee,x:ue=0,y:ie=0}=q.legendItem||{},oe=this.options,Ee=oe.symbolPadding,me=!oe.rtl,Te=q.checkbox;if(ee&&ee.element){let K={translateX:me?ue:this.legendWidth-ue-2*Ee-4,translateY:ie};ee[O(ee.translateY)?"animate":"attr"](K,void 0,()=>{H(this,"afterPositionItem",{item:q})})}Te&&(Te.x=ue,Te.y=ie)}destroyItem(q){let ee=q.checkbox,ue=q.legendItem||{};for(let ie of["group","label","line","symbol"])ue[ie]&&(ue[ie]=ue[ie].destroy());ee&&Y(ee),q.legendItem=void 0}destroy(){for(let q of this.getAllItems())this.destroyItem(q);for(let q of["clipRect","up","down","pager","nav","box","title","group"])this[q]&&(this[q]=this[q].destroy());this.display=null}positionCheckboxes(){let q,ee=this.group&&this.group.alignAttr,ue=this.clipHeight||this.legendHeight,ie=this.titleHeight;ee&&(q=ee.translateY,this.allItems.forEach(function(oe){let Ee,me=oe.checkbox;me&&(Ee=q+ie+me.y+(this.scrollOffset||0)+3,L(me,{left:ee.translateX+oe.checkboxOffset+me.x-20+"px",top:Ee+"px",display:this.proximate||Ee>q-6&&Ee<q+ue-6?"":"none"}))},this))}renderTitle(){let q=this.options,ee=this.padding,ue=q.title,ie,oe=0;ue.text&&(this.title||(this.title=this.chart.renderer.label(ue.text,ee-3,ee-4,void 0,void 0,void 0,q.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(ue.style),this.title.add(this.group)),ue.width||this.title.css({width:this.maxLegendWidth+"px"}),oe=(ie=this.title.getBBox()).height,this.offsetWidth=ie.width,this.contentGroup.attr({translateY:oe})),this.titleHeight=oe}setText(q){let ee=this.options;q.legendItem.label.attr({text:ee.labelFormat?w(ee.labelFormat,q,this.chart):ee.labelFormatter.call(q)})}renderItem(q){let ee=q.legendItem=q.legendItem||{},ue=this.chart,ie=ue.renderer,oe=this.options,Ee=oe.layout==="horizontal",me=this.symbolWidth,Te=oe.symbolPadding||0,K=this.itemStyle,J=this.itemHiddenStyle,se=Ee?B(oe.itemDistance,20):0,xe=!oe.rtl,Q=!q.series,ae=!Q&&q.series.drawLegendSymbol?q.series:q,ce=ae.options,ge=!!this.createCheckboxForItem&&ce&&ce.showCheckbox,be=oe.useHTML,Le=q.options.className,_e=ee.label,Ne=me+Te+se+(ge?20:0);!_e&&(ee.group=ie.g("legend-item").addClass("highcharts-"+ae.type+"-series highcharts-color-"+q.colorIndex+(Le?" "+Le:"")+(Q?" highcharts-series-"+q.index:"")).attr({zIndex:1}).add(this.scrollGroup),ee.label=_e=ie.text("",xe?me+Te:-Te,this.baseline||0,be),ue.styledMode||_e.css(G(q.visible?K:J)),_e.attr({align:xe?"left":"right",zIndex:2}).add(ee.group),!this.baseline&&(this.fontMetrics=ie.fontMetrics(_e),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_e.attr("y",this.baseline),this.symbolHeight=B(oe.symbolHeight,this.fontMetrics.f),oe.squareSymbol&&(this.symbolWidth=B(oe.symbolWidth,Math.max(this.symbolHeight,16)),Ne=this.symbolWidth+Te+se+(ge?20:0),xe&&_e.attr("x",this.symbolWidth+Te))),ae.drawLegendSymbol(this,q),this.setItemEvents&&this.setItemEvents(q,_e,be)),ge&&!q.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(q),this.colorizeItem(q,q.visible),(ue.styledMode||!K.width)&&_e.css({width:(oe.itemWidth||this.widthOption||ue.spacingBox.width)-Ne+"px"}),this.setText(q);let $e=_e.getBBox(),Ye=this.fontMetrics&&this.fontMetrics.h||0;q.itemWidth=q.checkboxOffset=oe.itemWidth||ee.labelWidth||$e.width+Ne,this.maxItemWidth=Math.max(this.maxItemWidth,q.itemWidth),this.totalItemWidth+=q.itemWidth,this.itemHeight=q.itemHeight=Math.round(ee.labelHeight||($e.height>1.5*Ye?$e.height:Ye))}layoutItem(q){let ee=this.options,ue=this.padding,ie=ee.layout==="horizontal",oe=q.itemHeight,Ee=this.itemMarginBottom,me=this.itemMarginTop,Te=ie?B(ee.itemDistance,20):0,K=this.maxLegendWidth,J=ee.alignColumns&&this.totalItemWidth>K?this.maxItemWidth:q.itemWidth,se=q.legendItem||{};ie&&this.itemX-ue+J>K&&(this.itemX=ue,this.lastLineHeight&&(this.itemY+=me+this.lastLineHeight+Ee),this.lastLineHeight=0),this.lastItemY=me+this.itemY+Ee,this.lastLineHeight=Math.max(oe,this.lastLineHeight),se.x=this.itemX,se.y=this.itemY,ie?this.itemX+=J:(this.itemY+=me+oe+Ee,this.lastLineHeight=oe),this.offsetWidth=this.widthOption||Math.max((ie?this.itemX-ue-(q.checkbox?0:Te):J)+ue,this.offsetWidth)}getAllItems(){let q=[];return this.chart.series.forEach(function(ee){let ue=ee&&ee.options;ee&&B(ue.showInLegend,!O(ue.linkedTo)&&void 0,!0)&&(q=q.concat((ee.legendItem||{}).labels||(ue.legendType==="point"?ee.data:ee)))}),H(this,"afterGetAllItems",{allItems:q}),q}getAlignment(){let q=this.options;return this.proximate?q.align.charAt(0)+"tv":q.floating?"":q.align.charAt(0)+q.verticalAlign.charAt(0)+q.layout.charAt(0)}adjustMargins(q,ee){let ue=this.chart,ie=this.options,oe=this.getAlignment();oe&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(Ee,me){Ee.test(oe)&&!O(q[me])&&(ue[k[me]]=Math.max(ue[k[me]],ue.legend[(me+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][me]*ie[me%2?"x":"y"]+B(ie.margin,12)+ee[me]+(ue.titleOffset[me]||0)))})}proximatePositions(){let q,ee=this.chart,ue=[],ie=this.options.align==="left";for(let oe of(this.allItems.forEach(function(Ee){let me,Te,K=ie,J,se;Ee.yAxis&&(Ee.xAxis.options.reversed&&(K=!K),Ee.points&&(me=X(K?Ee.points:Ee.points.slice(0).reverse(),function(xe){return $(xe.plotY)})),Te=this.itemMarginTop+Ee.legendItem.label.getBBox().height+this.itemMarginBottom,se=Ee.yAxis.top-ee.plotTop,J=Ee.visible?(me?me.plotY:Ee.yAxis.height)+(se-.3*Te):se+Ee.yAxis.height,ue.push({target:J,size:Te,item:Ee}))},this),v(ue,ee.plotHeight)))q=oe.item.legendItem||{},$(oe.pos)&&(q.y=ee.plotTop-ee.spacing[0]+oe.pos)}render(){let q=this.chart,ee=q.renderer,ue=this.options,ie=this.padding,oe=this.getAllItems(),Ee,me,Te,K=this.group,J,se=this.box;this.itemX=ie,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=D(ue.width,q.spacingBox.width-ie),J=q.spacingBox.width-2*ie-ue.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(J/=2),this.maxLegendWidth=this.widthOption||J,K||(this.group=K=ee.g("legend").addClass(ue.className||"").attr({zIndex:7}).add(),this.contentGroup=ee.g().attr({zIndex:1}).add(K),this.scrollGroup=ee.g().add(this.contentGroup)),this.renderTitle(),V(oe,(xe,Q)=>(xe.options&&xe.options.legendIndex||0)-(Q.options&&Q.options.legendIndex||0)),ue.reversed&&oe.reverse(),this.allItems=oe,this.display=Ee=!!oe.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,oe.forEach(this.renderItem,this),oe.forEach(this.layoutItem,this),me=(this.widthOption||this.offsetWidth)+ie,Te=this.lastItemY+this.lastLineHeight+this.titleHeight,Te=this.handleOverflow(Te)+ie,se||(this.box=se=ee.rect().addClass("highcharts-legend-box").attr({r:ue.borderRadius}).add(K)),q.styledMode||se.attr({stroke:ue.borderColor,"stroke-width":ue.borderWidth||0,fill:ue.backgroundColor||"none"}).shadow(ue.shadow),me>0&&Te>0&&se[se.placed?"animate":"attr"](se.crisp.call({},{x:0,y:0,width:me,height:Te},se.strokeWidth())),K[Ee?"show":"hide"](),q.styledMode&&K.getStyle("display")==="none"&&(me=Te=0),this.legendWidth=me,this.legendHeight=Te,Ee&&this.align(),this.proximate||this.positionItems(),H(this,"afterRender")}align(q=this.chart.spacingBox){let ee=this.chart,ue=this.options,ie=q.y;/(lth|ct|rth)/.test(this.getAlignment())&&ee.titleOffset[0]>0?ie+=ee.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&ee.titleOffset[2]>0&&(ie-=ee.titleOffset[2]),ie!==q.y&&(q=G(q,{y:ie})),ee.hasRendered||(this.group.placed=!1),this.group.align(G(ue,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":ue.verticalAlign}),!0,q)}handleOverflow(q){let ee=this,ue=this.chart,ie=ue.renderer,oe=this.options,Ee=oe.y,me=oe.verticalAlign==="top",Te=this.padding,K=oe.maxHeight,J=oe.navigation,se=B(J.animation,!0),xe=J.arrowSize||12,Q=this.pages,ae=this.allItems,ce=function(Xe){typeof Xe=="number"?Ye.attr({height:Xe}):Ye&&(ee.clipRect=Ye.destroy(),ee.contentGroup.clip()),ee.contentGroup.div&&(ee.contentGroup.div.style.clip=Xe?"rect("+Te+"px,9999px,"+(Te+Xe)+"px,0)":"auto")},ge=function(Xe){return ee[Xe]=ie.circle(0,0,1.3*xe).translate(xe/2,xe/2).add($e),ue.styledMode||ee[Xe].attr("fill","rgba(0,0,0,0.0001)"),ee[Xe]},be,Le,_e,Ne=ue.spacingBox.height+(me?-Ee:Ee)-Te,$e=this.nav,Ye=this.clipRect;return oe.layout!=="horizontal"||oe.verticalAlign==="middle"||oe.floating||(Ne/=2),K&&(Ne=Math.min(Ne,K)),Q.length=0,q&&Ne>0&&q>Ne&&J.enabled!==!1?(this.clipHeight=be=Math.max(Ne-20-this.titleHeight-Te,0),this.currentPage=B(this.currentPage,1),this.fullHeight=q,ae.forEach((Xe,De)=>{let we=(_e=Xe.legendItem||{}).y||0,ke=Math.round(_e.label.getBBox().height),ze=Q.length;(!ze||we-Q[ze-1]>be&&(Le||we)!==Q[ze-1])&&(Q.push(Le||we),ze++),_e.pageIx=ze-1,Le&&((ae[De-1].legendItem||{}).pageIx=ze-1),De===ae.length-1&&we+ke-Q[ze-1]>be&&we>Q[ze-1]&&(Q.push(we),_e.pageIx=ze),we!==Le&&(Le=we)}),Ye||(Ye=ee.clipRect=ie.clipRect(0,Te-2,9999,0),ee.contentGroup.clip(Ye)),ce(be),$e||(this.nav=$e=ie.g().attr({zIndex:1}).add(this.group),this.up=ie.symbol("triangle",0,0,xe,xe).add($e),ge("upTracker").on("click",function(){ee.scroll(-1,se)}),this.pager=ie.text("",15,10).addClass("highcharts-legend-navigation"),!ue.styledMode&&J.style&&this.pager.css(J.style),this.pager.add($e),this.down=ie.symbol("triangle-down",0,0,xe,xe).add($e),ge("downTracker").on("click",function(){ee.scroll(1,se)})),ee.scroll(0),q=Ne):$e&&(ce(),this.nav=$e.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),q}scroll(q,ee){let ue=this.chart,ie=this.pages,oe=ie.length,Ee=this.clipHeight,me=this.options.navigation,Te=this.pager,K=this.padding,J=this.currentPage+q;J>oe&&(J=oe),J>0&&(ee!==void 0&&x(ee,ue),this.nav.attr({translateX:K,translateY:Ee+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(se){se.attr({class:J===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),Te.attr({text:J+"/"+oe}),[this.down,this.downTracker].forEach(function(se){se.attr({x:18+this.pager.getBBox().width,class:J===oe?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),ue.styledMode||(this.up.attr({fill:J===1?me.inactiveColor:me.activeColor}),this.upTracker.css({cursor:J===1?"default":"pointer"}),this.down.attr({fill:J===oe?me.inactiveColor:me.activeColor}),this.downTracker.css({cursor:J===oe?"default":"pointer"})),this.scrollOffset=-ie[J-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=J,this.positionCheckboxes(),F(()=>{H(this,"afterScroll",{currentPage:J})},_(B(ee,ue.renderer.globalAnimation,!0)).duration))}setItemEvents(q,ee,ue){let ie=this,oe=q.legendItem||{},Ee=ie.chart.renderer.boxWrapper,me=q instanceof d,Te=q instanceof s,K="highcharts-legend-"+(me?"point":"series")+"-active",J=ie.chart.styledMode,se=ue?[ee,oe.symbol]:[oe.group],xe=Q=>{ie.allItems.forEach(ae=>{q!==ae&&[ae].concat(ae.linkedSeries||[]).forEach(ce=>{ce.setState(Q,!me)})})};for(let Q of se)Q&&Q.on("mouseover",function(){q.visible&&xe("inactive"),q.setState("hover"),q.visible&&Ee.addClass(K),J||ee.css(ie.options.itemHoverStyle)}).on("mouseout",function(){ie.chart.styledMode||ee.css(G(q.visible?ie.itemStyle:ie.itemHiddenStyle)),xe(""),Ee.removeClass(K),q.setState()}).on("click",function(ae){let ce=function(){q.setVisible&&q.setVisible(),xe(q.visible?"inactive":"")};Ee.removeClass(K),H(ie,"itemClick",{browserEvent:ae,legendItem:q},ce),me?q.firePointEvent("legendItemClick",{browserEvent:ae}):Te&&H(q,"legendItemClick",{browserEvent:ae})})}createCheckboxForItem(q){q.checkbox=S("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:q.selected,defaultChecked:q.selected},this.options.itemCheckboxStyle,this.chart.container),N(q.checkbox,"click",function(ee){let ue=ee.target;H(q.series||q,"checkboxClick",{checked:ue.checked,item:q},function(){q.select()})})}}return(g=z).compose=function(W){M(E,"Core.Legend")&&N(W,"beforeMargins",function(){this.legend=new g(this,this.options.legend)})},z}),i(t,"Core/Chart/Chart.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Templating.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Time.js"],t["Core/Utilities.js"],t["Core/Renderer/HTML/AST.js"],t["Core/Axis/Tick.js"]],function(r,a,o,s,d,p,m,y,g,_,x,T,E,k){let{animate:v,animObject:w,setAnimation:N}=r,{defaultOptions:S,defaultTime:L}=o,{numberFormat:O}=s,{registerEventOptions:Y}=d,{charts:X,doc:H,marginNames:$,svg:G,win:B}=p,{seriesTypes:M}=g,{addEvent:D,attr:V,createElement:F,css:z,defined:W,diffObjects:q,discardElement:ee,erase:ue,error:ie,extend:oe,find:Ee,fireEvent:me,getStyle:Te,isArray:K,isNumber:J,isObject:se,isString:xe,merge:Q,objectEach:ae,pick:ce,pInt:ge,relativeLength:be,removeEvent:Le,splat:_e,syncTimeout:Ne,uniqueKey:$e}=T;class Ye{static chart(De,we,ke){return new Ye(De,we,ke)}constructor(De,we,ke){this.sharedClips={};let ze=[...arguments];(xe(De)||De.nodeName)&&(this.renderTo=ze.shift()),this.init(ze[0],ze[1])}setZoomOptions(){let De=this.options.chart,we=De.zooming;this.zooming={...we,type:ce(De.zoomType,we.type),key:ce(De.zoomKey,we.key),pinchType:ce(De.pinchType,we.pinchType),singleTouch:ce(De.zoomBySingleTouch,we.singleTouch,!1),resetButton:Q(we.resetButton,De.resetZoomButton)}}init(De,we){me(this,"init",{args:arguments},function(){let ke=Q(S,De),ze=ke.chart;this.userOptions=oe({},De),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=we,this.isResizing=0,this.options=ke,this.axes=[],this.series=[],this.time=De.time&&Object.keys(De.time).length?new x(De.time):p.time,this.numberFormatter=ze.numberFormatter||O,this.styledMode=ze.styledMode,this.hasCartesianSeries=ze.showAxes,this.index=X.length,X.push(this),p.chartCount++,Y(this,ze),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),me(this,"afterInit"),this.firstRender()})}initSeries(De){let we=this.options.chart,ke=De.type||we.type,ze=M[ke];ze||ie(17,!0,this,{missingModuleFor:ke});let Me=new ze;return typeof Me.init=="function"&&Me.init(this,De),Me}setSortedData(){this.getSeriesOrderByLinks().forEach(function(De){De.points||De.data||!De.enabledDataSorting||De.setData(De.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(De,we){return De.linkedSeries.length||we.linkedSeries.length?we.linkedSeries.length-De.linkedSeries.length:0})}orderItems(De,we=0){let ke=this[De],ze=this.options[De]=_e(this.options[De]).slice(),Me=this.userOptions[De]=this.userOptions[De]?_e(this.userOptions[De]).slice():[];if(this.hasRendered&&(ze.splice(we),Me.splice(we)),ke)for(let je=we,Ke=ke.length;je<Ke;++je){let nt=ke[je];nt&&(nt.index=je,nt instanceof y&&(nt.name=nt.getName()),nt.options.isInternal||(ze[je]=nt.options,Me[je]=nt.userOptions))}}isInsidePlot(De,we,ke={}){var St;let{inverted:ze,plotBox:Me,plotLeft:je,plotTop:Ke,scrollablePlotBox:nt}=this,{scrollLeft:ot=0,scrollTop:ht=0}=ke.visiblePlotOnly&&((St=this.scrollablePlotArea)==null?void 0:St.scrollingContainer)||{},gt=ke.series,Tt=ke.visiblePlotOnly&&nt||Me,$t=ke.inverted?we:De,mt=ke.inverted?De:we,Ct={x:$t,y:mt,isInsidePlot:!0,options:ke};if(!ke.ignoreX){let sn=gt&&(ze&&!this.polar?gt.yAxis:gt.xAxis)||{pos:je,len:1/0},yn=ke.paneCoordinates?sn.pos+$t:je+$t;yn>=Math.max(ot+je,sn.pos)&&yn<=Math.min(ot+je+Tt.width,sn.pos+sn.len)||(Ct.isInsidePlot=!1)}if(!ke.ignoreY&&Ct.isInsidePlot){let sn=!ze&&ke.axis&&!ke.axis.isXAxis&&ke.axis||gt&&(ze?gt.xAxis:gt.yAxis)||{pos:Ke,len:1/0},yn=ke.paneCoordinates?sn.pos+mt:Ke+mt;yn>=Math.max(ht+Ke,sn.pos)&&yn<=Math.min(ht+Ke+Tt.height,sn.pos+sn.len)||(Ct.isInsidePlot=!1)}return me(this,"afterIsInsidePlot",Ct),Ct.isInsidePlot}redraw(De){me(this,"beforeRedraw");let we=this.hasCartesianSeries?this.axes:this.colorAxis||[],ke=this.series,ze=this.pointer,Me=this.legend,je=this.userOptions.legend,Ke=this.renderer,nt=Ke.isHidden(),ot=[],ht,gt,Tt,$t=this.isDirtyBox,mt=this.isDirtyLegend,Ct;for(Ke.rootFontSize=Ke.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),N(!!this.hasRendered&&De,this),nt&&this.temporaryDisplay(),this.layOutTitles(!1),Tt=ke.length;Tt--;)if(((Ct=ke[Tt]).options.stacking||Ct.options.centerInCategory)&&(gt=!0,Ct.isDirty)){ht=!0;break}if(ht)for(Tt=ke.length;Tt--;)(Ct=ke[Tt]).options.stacking&&(Ct.isDirty=!0);ke.forEach(function(St){St.isDirty&&(St.options.legendType==="point"?(typeof St.updateTotals=="function"&&St.updateTotals(),mt=!0):je&&(je.labelFormatter||je.labelFormat)&&(mt=!0)),St.isDirtyData&&me(St,"updatedData")}),mt&&Me&&Me.options.enabled&&(Me.render(),this.isDirtyLegend=!1),gt&&this.getStacks(),we.forEach(function(St){St.updateNames(),St.setScale()}),this.getMargins(),we.forEach(function(St){St.isDirty&&($t=!0)}),we.forEach(function(St){let sn=St.min+","+St.max;St.extKey!==sn&&(St.extKey=sn,ot.push(function(){me(St,"afterSetExtremes",oe(St.eventArgs,St.getExtremes())),delete St.eventArgs})),($t||gt)&&St.redraw()}),$t&&this.drawChartBox(),me(this,"predraw"),ke.forEach(function(St){($t||St.isDirty)&&St.visible&&St.redraw(),St.isDirtyData=!1}),ze&&ze.reset(!0),Ke.draw(),me(this,"redraw"),me(this,"render"),nt&&this.temporaryDisplay(!0),ot.forEach(function(St){St.call()})}get(De){let we=this.series;function ke(Me){return Me.id===De||Me.options&&Me.options.id===De}let ze=Ee(this.axes,ke)||Ee(this.series,ke);for(let Me=0;!ze&&Me<we.length;Me++)ze=Ee(we[Me].points||[],ke);return ze}getAxes(){let De=this.userOptions;for(let we of(me(this,"getAxes"),["xAxis","yAxis"]))for(let ke of De[we]=_e(De[we]||{}))new a(this,ke,we);me(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((De,we)=>(we.getPointsCollection().forEach(ke=>{ce(ke.selectedStaging,ke.selected)&&De.push(ke)}),De),[])}getSelectedSeries(){return this.series.filter(function(De){return De.selected})}setTitle(De,we,ke){this.applyDescription("title",De),this.applyDescription("subtitle",we),this.applyDescription("caption",void 0),this.layOutTitles(ke)}applyDescription(De,we){let ke=this,ze=this.options[De]=Q(this.options[De],we),Me=this[De];Me&&we&&(this[De]=Me=Me.destroy()),ze&&!Me&&((Me=this.renderer.text(ze.text,0,0,ze.useHTML).attr({align:ze.align,class:"highcharts-"+De,zIndex:ze.zIndex||4}).add()).update=function(je,Ke){ke.applyDescription(De,je),ke.layOutTitles(Ke)},this.styledMode||Me.css(oe(De==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},ze.style)),this[De]=Me)}layOutTitles(De=!0){let we=[0,0,0],ke=this.renderer,ze=this.spacingBox;["title","subtitle","caption"].forEach(function(je){let Ke=this[je],nt=this.options[je],ot=nt.verticalAlign||"top",ht=je==="title"?ot==="top"?-3:0:ot==="top"?we[0]+2:0;if(Ke){Ke.css({width:(nt.width||ze.width+(nt.widthAdjust||0))+"px"});let gt=ke.fontMetrics(Ke).b,Tt=Math.round(Ke.getBBox(nt.useHTML).height);Ke.align(oe({y:ot==="bottom"?gt:ht+gt,height:Tt},nt),!1,"spacingBox"),nt.floating||(ot==="top"?we[0]=Math.ceil(we[0]+Tt):ot==="bottom"&&(we[2]=Math.ceil(we[2]+Tt)))}},this),we[0]&&(this.options.title.verticalAlign||"top")==="top"&&(we[0]+=this.options.title.margin),we[2]&&this.options.caption.verticalAlign==="bottom"&&(we[2]+=this.options.caption.margin);let Me=!this.titleOffset||this.titleOffset.join(",")!==we.join(",");this.titleOffset=we,me(this,"afterLayOutTitles"),!this.isDirtyBox&&Me&&(this.isDirtyBox=this.isDirtyLegend=Me,this.hasRendered&&De&&this.isDirtyBox&&this.redraw())}getContainerBox(){let De=[].map.call(this.renderTo.children,ke=>{if(ke!==this.container){let ze=ke.style.display;return ke.style.display="none",[ke,ze]}}),we={width:Te(this.renderTo,"width",!0)||0,height:Te(this.renderTo,"height",!0)||0};return De.filter(Boolean).forEach(([ke,ze])=>{ke.style.display=ze}),we}getChartSize(){var je;let De=this.options.chart,we=De.width,ke=De.height,ze=this.getContainerBox(),Me=ze.height>1&&!(!((je=this.renderTo.parentElement)!=null&&je.style.height)&&this.renderTo.style.height==="100%");this.chartWidth=Math.max(0,we||ze.width||600),this.chartHeight=Math.max(0,be(ke,this.chartWidth)||(Me?ze.height:400)),this.containerBox=ze}temporaryDisplay(De){let we=this.renderTo,ke;if(De)for(;we&&we.style;)we.hcOrigStyle&&(z(we,we.hcOrigStyle),delete we.hcOrigStyle),we.hcOrigDetached&&(H.body.removeChild(we),we.hcOrigDetached=!1),we=we.parentNode;else for(;we&&we.style&&(H.body.contains(we)||we.parentNode||(we.hcOrigDetached=!0,H.body.appendChild(we)),(Te(we,"display",!1)==="none"||we.hcOricDetached)&&(we.hcOrigStyle={display:we.style.display,height:we.style.height,overflow:we.style.overflow},ke={display:"block",overflow:"hidden"},we!==this.renderTo&&(ke.height=0),z(we,ke),we.offsetWidth||we.style.setProperty("display","block","important")),(we=we.parentNode)!==H.body););}setClassName(De){this.container.className="highcharts-container "+(De||"")}getContainer(){var Tt;let De=this.options,we=De.chart,ke="data-highcharts-chart",ze=$e(),Me,je=this.renderTo;je||(this.renderTo=je=we.renderTo),xe(je)&&(this.renderTo=je=H.getElementById(je)),je||ie(13,!0,this);let Ke=ge(V(je,ke));J(Ke)&&X[Ke]&&X[Ke].hasRendered&&X[Ke].destroy(),V(je,ke,this.index),je.innerHTML=E.emptyHTML,we.skipClone||je.offsetWidth||this.temporaryDisplay(),this.getChartSize();let nt=this.chartHeight,ot=this.chartWidth;z(je,{overflow:"hidden"}),this.styledMode||(Me=oe({position:"relative",overflow:"hidden",width:ot+"px",height:nt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},we.style||{}));let ht=F("div",{id:ze},Me,je);this.container=ht,this.getChartSize(),ot===this.chartWidth||(ot=this.chartWidth,this.styledMode||z(ht,{width:ce((Tt=we.style)==null?void 0:Tt.width,ot+"px")})),this.containerBox=this.getContainerBox(),this._cursor=ht.style.cursor;let gt=we.renderer||!G?m.getRendererType(we.renderer):_;if(this.renderer=new gt(ht,ot,nt,void 0,we.forExport,De.exporting&&De.exporting.allowHTML,this.styledMode),N(void 0,this),this.setClassName(we.className),this.styledMode)for(let $t in De.defs)this.renderer.definition(De.defs[$t]);else this.renderer.setStyle(we.style);this.renderer.chartIndex=this.index,me(this,"afterGetContainer")}getMargins(De){let{spacing:we,margin:ke,titleOffset:ze}=this;this.resetMargins(),ze[0]&&!W(ke[0])&&(this.plotTop=Math.max(this.plotTop,ze[0]+we[0])),ze[2]&&!W(ke[2])&&(this.marginBottom=Math.max(this.marginBottom,ze[2]+we[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(ke,we),me(this,"getMargins"),De||this.getAxisMargins()}getAxisMargins(){let De=this,we=De.axisOffset=[0,0,0,0],ke=De.colorAxis,ze=De.margin,Me=function(je){je.forEach(function(Ke){Ke.visible&&Ke.getOffset()})};De.hasCartesianSeries?Me(De.axes):ke&&ke.length&&Me(ke),$.forEach(function(je,Ke){W(ze[Ke])||(De[je]+=we[Ke])}),De.setChartSize()}getOptions(){return q(this.userOptions,S)}reflow(De){var Me;let we=this,ke=we.containerBox,ze=we.getContainerBox();(Me=we.pointer)==null||delete Me.chartPosition,!we.isPrinting&&!we.isResizing&&ke&&ze.width&&((ze.width!==ke.width||ze.height!==ke.height)&&(T.clearTimeout(we.reflowTimeout),we.reflowTimeout=Ne(function(){we.container&&we.setSize(void 0,void 0,!1)},De?100:0)),we.containerBox=ze)}setReflow(){let De=this,we=ke=>{var ze;(ze=De.options)!=null&&ze.chart.reflow&&De.hasLoaded&&De.reflow(ke)};if(typeof ResizeObserver=="function")new ResizeObserver(we).observe(De.renderTo);else{let ke=D(B,"resize",we);D(this,"destroy",ke)}}setSize(De,we,ke){let ze=this,Me=ze.renderer;ze.isResizing+=1,N(ke,ze);let je=Me.globalAnimation;ze.oldChartHeight=ze.chartHeight,ze.oldChartWidth=ze.chartWidth,De!==void 0&&(ze.options.chart.width=De),we!==void 0&&(ze.options.chart.height=we),ze.getChartSize();let{chartWidth:Ke,chartHeight:nt,scrollablePixelsX:ot=0,scrollablePixelsY:ht=0}=ze;(ze.isDirtyBox||Ke!==ze.oldChartWidth||nt!==ze.oldChartHeight)&&(ze.styledMode||(je?v:z)(ze.container,{width:`${Ke+ot}px`,height:`${nt+ht}px`},je),ze.setChartSize(!0),Me.setSize(Ke,nt,je),ze.axes.forEach(function(gt){gt.isDirty=!0,gt.setScale()}),ze.isDirtyLegend=!0,ze.isDirtyBox=!0,ze.layOutTitles(),ze.getMargins(),ze.redraw(je),ze.oldChartHeight=void 0,me(ze,"resize"),setTimeout(()=>{ze&&me(ze,"endResize")},w(je).duration)),ze.isResizing-=1}setChartSize(De){let we,ke,ze,Me,{chartHeight:je,chartWidth:Ke,inverted:nt,spacing:ot,renderer:ht}=this,gt=this.clipOffset,Tt=Math[nt?"floor":"round"];this.plotLeft=we=Math.round(this.plotLeft),this.plotTop=ke=Math.round(this.plotTop),this.plotWidth=ze=Math.max(0,Math.round(Ke-we-this.marginRight)),this.plotHeight=Me=Math.max(0,Math.round(je-ke-this.marginBottom)),this.plotSizeX=nt?Me:ze,this.plotSizeY=nt?ze:Me,this.spacingBox=ht.spacingBox={x:ot[3],y:ot[0],width:Ke-ot[3]-ot[1],height:je-ot[0]-ot[2]},this.plotBox=ht.plotBox={x:we,y:ke,width:ze,height:Me},gt&&(this.clipBox={x:Tt(gt[3]),y:Tt(gt[0]),width:Tt(this.plotSizeX-gt[1]-gt[3]),height:Tt(this.plotSizeY-gt[0]-gt[2])}),De||(this.axes.forEach(function($t){$t.setAxisSize(),$t.setAxisTranslation()}),ht.alignElements()),me(this,"afterSetChartSize",{skipAxes:De})}resetMargins(){me(this,"resetMargins");let De=this,we=De.options.chart,ke=we.plotBorderWidth||0,ze=ke/2;["margin","spacing"].forEach(function(Me){let je=we[Me],Ke=se(je)?je:[je,je,je,je];["Top","Right","Bottom","Left"].forEach(function(nt,ot){De[Me][ot]=ce(we[Me+nt],Ke[ot])})}),$.forEach(function(Me,je){De[Me]=ce(De.margin[je],De.spacing[je])}),De.axisOffset=[0,0,0,0],De.clipOffset=[ze,ze,ze,ze],De.plotBorderWidth=ke}drawChartBox(){let De=this.options.chart,we=this.renderer,ke=this.chartWidth,ze=this.chartHeight,Me=this.styledMode,je=this.plotBGImage,Ke=De.backgroundColor,nt=De.plotBackgroundColor,ot=De.plotBackgroundImage,ht=this.plotLeft,gt=this.plotTop,Tt=this.plotWidth,$t=this.plotHeight,mt=this.plotBox,Ct=this.clipRect,St=this.clipBox,sn=this.chartBackground,yn=this.plotBackground,Zt=this.plotBorder,hi,ii,Si,Hi="animate";sn||(this.chartBackground=sn=we.rect().addClass("highcharts-background").add(),Hi="attr"),Me?hi=ii=sn.strokeWidth():(ii=(hi=De.borderWidth||0)+(De.shadow?8:0),Si={fill:Ke||"none"},(hi||sn["stroke-width"])&&(Si.stroke=De.borderColor,Si["stroke-width"]=hi),sn.attr(Si).shadow(De.shadow)),sn[Hi]({x:ii/2,y:ii/2,width:ke-ii-hi%2,height:ze-ii-hi%2,r:De.borderRadius}),Hi="animate",yn||(Hi="attr",this.plotBackground=yn=we.rect().addClass("highcharts-plot-background").add()),yn[Hi](mt),!Me&&(yn.attr({fill:nt||"none"}).shadow(De.plotShadow),ot&&(je?(ot!==je.attr("href")&&je.attr("href",ot),je.animate(mt)):this.plotBGImage=we.image(ot,ht,gt,Tt,$t).add())),Ct?Ct.animate({width:St.width,height:St.height}):this.clipRect=we.clipRect(St),Hi="animate",Zt||(Hi="attr",this.plotBorder=Zt=we.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),Me||Zt.attr({stroke:De.plotBorderColor,"stroke-width":De.plotBorderWidth||0,fill:"none"}),Zt[Hi](Zt.crisp({x:ht,y:gt,width:Tt,height:$t},-Zt.strokeWidth())),this.isDirtyBox=!1,me(this,"afterDrawChartBox")}propFromSeries(){let De,we,ke,ze=this,Me=ze.options.chart,je=ze.options.series;["inverted","angular","polar"].forEach(function(Ke){for(we=M[Me.type],ke=Me[Ke]||we&&we.prototype[Ke],De=je&&je.length;!ke&&De--;)(we=M[je[De].type])&&we.prototype[Ke]&&(ke=!0);ze[Ke]=ke})}linkSeries(De){let we=this,ke=we.series;ke.forEach(function(ze){ze.linkedSeries.length=0}),ke.forEach(function(ze){let{linkedTo:Me}=ze.options;if(xe(Me)){let je;(je=Me===":previous"?we.series[ze.index-1]:we.get(Me))&&je.linkedParent!==ze&&(je.linkedSeries.push(ze),ze.linkedParent=je,je.enabledDataSorting&&ze.setDataSortingOptions(),ze.visible=ce(ze.options.visible,je.options.visible,ze.visible))}}),me(this,"afterLinkSeries",{isUpdating:De})}renderSeries(){this.series.forEach(function(De){De.translate(),De.render()})}render(){var ht;let De=this.axes,we=this.colorAxis,ke=this.renderer,ze=this.options.chart.axisLayoutRuns||2,Me=gt=>{gt.forEach(Tt=>{Tt.visible&&Tt.render()})},je=0,Ke=!0,nt,ot=0;for(let gt of(this.setTitle(),me(this,"beforeMargins"),(ht=this.getStacks)==null||ht.call(this),this.getMargins(!0),this.setChartSize(),De)){let{options:Tt}=gt,{labels:$t}=Tt;if(this.hasCartesianSeries&&gt.horiz&&gt.visible&&$t.enabled&&gt.series.length&&gt.coll!=="colorAxis"&&!this.polar){je=Tt.tickLength,gt.createGroups();let mt=new k(gt,0,"",!0),Ct=mt.createLabel("x",$t);if(mt.destroy(),Ct&&ce($t.reserveSpace,!J(Tt.crossing))&&(je=Ct.getBBox().height+$t.distance+Math.max(Tt.offset||0,0)),je){Ct==null||Ct.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-je,0);(Ke||nt||ze>1)&&ot<ze;){let gt=this.plotWidth,Tt=this.plotHeight;for(let $t of De)ot===0?$t.setScale():($t.horiz&&Ke||!$t.horiz&&nt)&&$t.setTickInterval(!0);ot===0?this.getAxisMargins():this.getMargins(),Ke=gt/this.plotWidth>(ot?1:1.1),nt=Tt/this.plotHeight>(ot?1:1.05),ot++}this.drawChartBox(),this.hasCartesianSeries?Me(De):we&&we.length&&Me(we),this.seriesGroup||(this.seriesGroup=ke.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(De){let we=this,ke=Q(!0,this.options.credits,De);ke.enabled&&!this.credits&&(this.credits=this.renderer.text(ke.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){ke.href&&(B.location.href=ke.href)}).attr({align:ke.position.align,zIndex:8}),we.styledMode||this.credits.css(ke.style),this.credits.add().align(ke.position),this.credits.update=function(ze){we.credits=we.credits.destroy(),we.addCredits(ze)})}destroy(){let De,we=this,ke=we.axes,ze=we.series,Me=we.container,je=Me&&Me.parentNode;for(me(we,"destroy"),we.renderer.forExport?ue(X,we):X[we.index]=void 0,p.chartCount--,we.renderTo.removeAttribute("data-highcharts-chart"),Le(we),De=ke.length;De--;)ke[De]=ke[De].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),De=ze.length;De--;)ze[De]=ze[De].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(Ke){let nt=we[Ke];nt&&nt.destroy&&(we[Ke]=nt.destroy())}),Me&&(Me.innerHTML=E.emptyHTML,Le(Me),je&&ee(Me)),ae(we,function(Ke,nt){delete we[nt]})}firstRender(){var ze;let De=this,we=De.options;De.getContainer(),De.resetMargins(),De.setChartSize(),De.propFromSeries(),De.getAxes();let ke=K(we.series)?we.series:[];we.series=[],ke.forEach(function(Me){De.initSeries(Me)}),De.linkSeries(),De.setSortedData(),me(De,"beforeRender"),De.render(),(ze=De.pointer)==null||ze.getChartPosition(),De.renderer.imgCount||De.hasLoaded||De.onload(),De.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(De){De&&this.index!==void 0&&De.apply(this,[this])},this),me(this,"load"),me(this,"render"),W(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:De,title:we}=this;!De||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(we&&we.element.textContent||"").replace(/</g,"&lt;")}),De.accessibility&&De.accessibility.enabled===!1||ie('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(De,we,ke){let ze,Me=this;return De&&(we=ce(we,!0),me(Me,"addSeries",{options:De},function(){ze=Me.initSeries(De),Me.isDirtyLegend=!0,Me.linkSeries(),ze.enabledDataSorting&&ze.setData(De.data,!1),me(Me,"afterAddSeries",{series:ze}),we&&Me.redraw(ke)})),ze}addAxis(De,we,ke,ze){return this.createAxis(we?"xAxis":"yAxis",{axis:De,redraw:ke,animation:ze})}addColorAxis(De,we,ke){return this.createAxis("colorAxis",{axis:De,redraw:we,animation:ke})}createAxis(De,we){let ke=new a(this,we.axis,De);return ce(we.redraw,!0)&&this.redraw(we.animation),ke}showLoading(De){let we=this,ke=we.options,ze=ke.loading,Me=function(){je&&z(je,{left:we.plotLeft+"px",top:we.plotTop+"px",width:we.plotWidth+"px",height:we.plotHeight+"px"})},je=we.loadingDiv,Ke=we.loadingSpan;je||(we.loadingDiv=je=F("div",{className:"highcharts-loading highcharts-loading-hidden"},null,we.container)),Ke||(we.loadingSpan=Ke=F("span",{className:"highcharts-loading-inner"},null,je),D(we,"redraw",Me)),je.className="highcharts-loading",E.setElementHTML(Ke,ce(De,ke.lang.loading,"")),we.styledMode||(z(je,oe(ze.style,{zIndex:10})),z(Ke,ze.labelStyle),we.loadingShown||(z(je,{opacity:0,display:""}),v(je,{opacity:ze.style.opacity||.5},{duration:ze.showDuration||0}))),we.loadingShown=!0,Me()}hideLoading(){let De=this.options,we=this.loadingDiv;we&&(we.className="highcharts-loading highcharts-loading-hidden",this.styledMode||v(we,{opacity:0},{duration:De.loading.hideDuration||100,complete:function(){z(we,{display:"none"})}})),this.loadingShown=!1}update(De,we,ke,ze){let Me,je,Ke,nt=this,ot={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},ht=De.isResponsiveOptions,gt=[];me(nt,"update",{options:De}),ht||nt.setResponsive(!1,!0),De=q(De,nt.options),nt.userOptions=Q(nt.userOptions,De);let Tt=De.chart;Tt&&(Q(!0,nt.options.chart,Tt),this.setZoomOptions(),"className"in Tt&&nt.setClassName(Tt.className),("inverted"in Tt||"polar"in Tt||"type"in Tt)&&(nt.propFromSeries(),Me=!0),"alignTicks"in Tt&&(Me=!0),"events"in Tt&&Y(this,Tt),ae(Tt,function(Ct,St){nt.propsRequireUpdateSeries.indexOf("chart."+St)!==-1&&(je=!0),nt.propsRequireDirtyBox.indexOf(St)!==-1&&(nt.isDirtyBox=!0),nt.propsRequireReflow.indexOf(St)===-1||(nt.isDirtyBox=!0,ht||(Ke=!0))}),!nt.styledMode&&Tt.style&&nt.renderer.setStyle(nt.options.chart.style||{})),!nt.styledMode&&De.colors&&(this.options.colors=De.colors),De.time&&(this.time===L&&(this.time=new x(De.time)),Q(!0,nt.options.time,De.time)),ae(De,function(Ct,St){nt[St]&&typeof nt[St].update=="function"?nt[St].update(Ct,!1):typeof nt[ot[St]]=="function"?nt[ot[St]](Ct):St!=="colors"&&nt.collectionsWithUpdate.indexOf(St)===-1&&Q(!0,nt.options[St],De[St]),St!=="chart"&&nt.propsRequireUpdateSeries.indexOf(St)!==-1&&(je=!0)}),this.collectionsWithUpdate.forEach(function(Ct){De[Ct]&&(_e(De[Ct]).forEach(function(St,sn){let yn,Zt=W(St.id);Zt&&(yn=nt.get(St.id)),!yn&&nt[Ct]&&(yn=nt[Ct][ce(St.index,sn)])&&(Zt&&W(yn.options.id)||yn.options.isInternal)&&(yn=void 0),yn&&yn.coll===Ct&&(yn.update(St,!1),ke&&(yn.touched=!0)),!yn&&ke&&nt.collectionsWithInit[Ct]&&(nt.collectionsWithInit[Ct][0].apply(nt,[St].concat(nt.collectionsWithInit[Ct][1]||[]).concat([!1])).touched=!0)}),ke&&nt[Ct].forEach(function(St){St.touched||St.options.isInternal?delete St.touched:gt.push(St)}))}),gt.forEach(function(Ct){Ct.chart&&Ct.remove&&Ct.remove(!1)}),Me&&nt.axes.forEach(function(Ct){Ct.update({},!1)}),je&&nt.getSeriesOrderByLinks().forEach(function(Ct){Ct.chart&&Ct.update({},!1)},this);let $t=Tt&&Tt.width,mt=Tt&&(xe(Tt.height)?be(Tt.height,$t||nt.chartWidth):Tt.height);Ke||J($t)&&$t!==nt.chartWidth||J(mt)&&mt!==nt.chartHeight?nt.setSize($t,mt,ze):ce(we,!0)&&nt.redraw(ze),me(nt,"afterUpdate",{options:De,redraw:we,animation:ze})}setSubtitle(De,we){this.applyDescription("subtitle",De),this.layOutTitles(we)}setCaption(De,we){this.applyDescription("caption",De),this.layOutTitles(we)}showResetZoom(){let De=this,we=S.lang,ke=De.zooming.resetButton,ze=ke.theme,Me=ke.relativeTo==="chart"||ke.relativeTo==="spacingBox"?null:"plotBox";function je(){De.zoomOut()}me(this,"beforeShowResetZoom",null,function(){De.resetZoomButton=De.renderer.button(we.resetZoom,null,null,je,ze).attr({align:ke.position.align,title:we.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(ke.position,!1,Me)}),me(this,"afterShowResetZoom")}zoomOut(){me(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(De,we){let ke=this,ze=typeof we=="object"?we:{enabled:we,type:"x"},Me=ze.type,je=Me&&ke[{x:"xAxis",xy:"axes",y:"yAxis"}[Me]].filter(nt=>nt.options.panningEnabled&&!nt.options.isInternal),Ke=ke.options.chart;Ke!=null&&Ke.panning&&(Ke.panning=ze),me(this,"pan",{originalEvent:De},()=>{ke.transform({axes:je,event:De,to:{x:De.chartX-(ke.mouseDownX||0),y:De.chartY-(ke.mouseDownY||0)},trigger:"pan"}),z(ke.container,{cursor:"move"})})}transform(De){var $t;let{axes:we=this.axes,event:ke,from:ze={},reset:Me,selection:je,to:Ke={},trigger:nt}=De,{inverted:ot}=this,ht=!1,gt,Tt;for(let mt of(($t=this.hoverPoints)==null||$t.forEach(Ct=>Ct.setState()),we)){let{horiz:Ct,len:St,minPointOffset:sn=0,options:yn,reversed:Zt}=mt,hi=Ct?"width":"height",ii=Ct?"x":"y",Si=ce(Ke[hi],mt.len),Hi=ce(ze[hi],mt.len),li=10>Math.abs(Si)?1:Si/Hi,dt=(ze[ii]||0)+Hi/2-mt.pos,xt=dt-((Ke[ii]??mt.pos)+Si/2-mt.pos)/li,Dt=Zt&&!ot||!Zt&&ot?-1:1;if(!Me&&(dt<0||dt>mt.len))continue;let Gt=mt.toValue(xt,!0)+(je||mt.isOrdinal?0:sn*Dt),Qt=mt.toValue(xt+St/li,!0)-(je||mt.isOrdinal?0:sn*Dt||0),Tn=mt.allExtremes;if(Gt>Qt&&([Gt,Qt]=[Qt,Gt]),li===1&&!Me&&mt.coll==="yAxis"&&!Tn){for(let Ft of mt.series){let Rt=Ft.getExtremes(Ft.getProcessedData(!0).yData,!0);Tn??(Tn={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),J(Rt.dataMin)&&J(Rt.dataMax)&&(Tn.dataMin=Math.min(Rt.dataMin,Tn.dataMin),Tn.dataMax=Math.max(Rt.dataMax,Tn.dataMax))}mt.allExtremes=Tn}let{dataMin:Gn,dataMax:vn,min:Ve,max:ye}=oe(mt.getExtremes(),Tn||{}),Ae=Gn??yn.min,Be=vn??yn.max,Ze=Qt-Gt,rt=mt.categories?0:Math.min(Ze,Be-Ae),ct=Ae-rt*(W(yn.min)?0:yn.minPadding),st=Be+rt*(W(yn.max)?0:yn.maxPadding),it=mt.allowZoomOutside||li===1||nt!=="zoom"&&li>1,ft=Math.min(yn.min??ct,ct,it?Ve:ct),Lt=Math.max(yn.max??st,st,it?ye:st);(!mt.isOrdinal||mt.options.overscroll||li!==1||Me)&&(Gt<ft&&(Gt=ft,li>=1&&(Qt=Gt+Ze)),Qt>Lt&&(Qt=Lt,li>=1&&(Gt=Qt-Ze)),(Me||mt.series.length&&(Gt!==Ve||Qt!==ye)&&Gt>=ft&&Qt<=Lt)&&(je?je[mt.coll].push({axis:mt,min:Gt,max:Qt}):(mt.isPanning=nt!=="zoom",mt.isPanning&&(Tt=!0),mt.setExtremes(Me?void 0:Gt,Me?void 0:Qt,!1,!1,{move:xt,trigger:nt,scale:li}),!Me&&(Gt>ft||Qt<Lt)&&nt!=="mousewheel"&&(gt=!0)),ht=!0),ke&&(this[Ct?"mouseDownX":"mouseDownY"]=ke[Ct?"chartX":"chartY"]))}return ht&&(je?me(this,"selection",je,()=>{delete De.selection,De.trigger="zoom",this.transform(De)}):(!gt||Tt||this.resetZoomButton?!gt&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(nt==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),ht}}return oe(Ye.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Ye.prototype.addAxis,[!0]],yAxis:[Ye.prototype.addAxis,[!1]],series:[Ye.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]}),Ye}),i(t,"Extensions/ScrollablePlotArea.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{stop:d}=r,{composed:p}=a,{addEvent:m,createElement:y,css:g,defined:_,merge:x,pushUnique:T}=s;function E(){let w=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!w&&(this.scrollablePlotArea=w=new v(this)),w==null||w.applyFixed()}function k(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class v{static compose(N,S,L){T(p,this.compose)&&(m(N,"afterInit",k),m(S,"afterSetChartSize",O=>this.afterSetSize(O.target,O)),m(S,"render",E),m(L,"show",k))}static afterSetSize(N,S){let L,O,Y,{minWidth:X,minHeight:H}=N.options.chart.scrollablePlotArea||{},{clipBox:$,plotBox:G,inverted:B,renderer:M}=N;if(!M.forExport&&(X?(N.scrollablePixelsX=L=Math.max(0,X-N.chartWidth),L&&(N.scrollablePlotBox=x(N.plotBox),G.width=N.plotWidth+=L,$[B?"height":"width"]+=L,Y=!0)):H&&(N.scrollablePixelsY=O=Math.max(0,H-N.chartHeight),_(O)&&(N.scrollablePlotBox=x(N.plotBox),G.height=N.plotHeight+=O,$[B?"width":"height"]+=O,Y=!1)),_(Y)&&!S.skipAxes))for(let D of N.axes)D.horiz===Y&&(D.setAxisSize(),D.setAxisTranslation())}constructor(N){var V;let S,L=N.options.chart,O=o.getRendererType(),Y=L.scrollablePlotArea||{},X=this.moveFixedElements.bind(this),H={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};N.scrollablePixelsX&&(H.overflowX="auto"),N.scrollablePixelsY&&(H.overflowY="auto"),this.chart=N;let $=this.parentDiv=y("div",{className:"highcharts-scrolling-parent"},{position:"relative"},N.renderTo),G=this.scrollingContainer=y("div",{className:"highcharts-scrolling"},H,$),B=this.innerContainer=y("div",{className:"highcharts-inner-container"},void 0,G),M=this.fixedDiv=y("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((V=L.style)==null?void 0:V.zIndex)||0)+2,top:0},void 0,!0),D=this.fixedRenderer=new O(M,N.chartWidth,N.chartHeight,L.style);this.mask=D.path().attr({fill:L.backgroundColor||"#fff","fill-opacity":Y.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),G.parentNode.insertBefore(M,G),g(N.renderTo,{overflow:"visible"}),m(N,"afterShowResetZoom",X),m(N,"afterApplyDrilldown",X),m(N,"afterLayOutTitles",X),m(G,"scroll",()=>{let{pointer:F,hoverPoint:z}=N;F&&(delete F.chartPosition,z&&(S=z),F.runPointActions(void 0,S,!0))}),B.appendChild(N.container)}applyFixed(){var J;let{chart:N,fixedRenderer:S,isDirty:L,scrollingContainer:O}=this,{axisOffset:Y,chartWidth:X,chartHeight:H,container:$,plotHeight:G,plotLeft:B,plotTop:M,plotWidth:D,scrollablePixelsX:V=0,scrollablePixelsY:F=0}=N,{scrollPositionX:z=0,scrollPositionY:W=0}=N.options.chart.scrollablePlotArea||{},q=X+V,ee=H+F;S.setSize(X,H),(L??!0)&&(this.isDirty=!1,this.moveFixedElements()),d(N.container),g($,{width:`${q}px`,height:`${ee}px`}),N.renderer.boxWrapper.attr({width:q,height:ee,viewBox:[0,0,q,ee].join(" ")}),(J=N.chartBackground)==null||J.attr({width:q,height:ee}),g(O,{width:`${X}px`,height:`${H}px`}),_(L)||(O.scrollLeft=V*z,O.scrollTop=F*W);let ue=M-Y[0]-1,ie=B-Y[3]-1,oe=M+G+Y[2]+1,Ee=B+D+Y[1]+1,me=B+D-V,Te=M+G-F,K=[["M",0,0]];V?K=[["M",0,ue],["L",B-1,ue],["L",B-1,oe],["L",0,oe],["Z"],["M",me,ue],["L",X,ue],["L",X,oe],["L",me,oe],["Z"]]:F&&(K=[["M",ie,0],["L",ie,M-1],["L",Ee,M-1],["L",Ee,0],["Z"],["M",ie,Te],["L",ie,H],["L",Ee,H],["L",Ee,Te],["Z"]]),N.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:K})}moveFixedElements(){let N,{container:S,inverted:L,scrollablePixelsX:O,scrollablePixelsY:Y}=this.chart,X=this.fixedRenderer,H=v.fixedSelectors;for(let $ of(O&&!L?N=".highcharts-yaxis":O&&L||Y&&!L?N=".highcharts-xaxis":Y&&L&&(N=".highcharts-yaxis"),N&&H.push(`${N}:not(.highcharts-radial-axis)`,`${N}-labels:not(.highcharts-radial-axis-labels)`),H))[].forEach.call(S.querySelectorAll($),G=>{(G.namespaceURI===X.SVG_NS?X.box:X.box.parentNode).appendChild(G),G.style.pointerEvents="auto"})}}return v.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],v}),i(t,"Core/Axis/Stacking/StackItem.js",[t["Core/Templating.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{format:s}=r,{series:d}=a,{destroyObjectProperties:p,fireEvent:m,isNumber:y,pick:g}=o;return class{constructor(_,x,T,E,k){let v=_.chart.inverted,w=_.reversed;this.axis=_;let N=this.isNegative=!!T!=!!w;this.options=x=x||{},this.x=E,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=k,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:x.align||(v?N?"left":"right":"center"),verticalAlign:x.verticalAlign||(v?"middle":N?"bottom":"top"),y:x.y,x:x.x},this.textAlign=x.textAlign||(v?N?"right":"left":"center")}destroy(){p(this,this.axis)}render(_){let x=this.axis.chart,T=this.options,E=T.format,k=E?s(E,this,x):T.formatter.call(this);if(this.label)this.label.attr({text:k,visibility:"hidden"});else{this.label=x.renderer.label(k,null,void 0,T.shape,void 0,void 0,T.useHTML,!1,"stack-labels");let v={r:T.borderRadius||0,text:k,padding:g(T.padding,5),visibility:"hidden"};x.styledMode||(v.fill=T.backgroundColor,v.stroke=T.borderColor,v["stroke-width"]=T.borderWidth,this.label.css(T.style||{})),this.label.attr(v),this.label.added||this.label.add(_)}this.label.labelrank=x.plotSizeY,m(this,"afterRender")}setOffset(_,x,T,E,k,v){let{alignOptions:w,axis:N,label:S,options:L,textAlign:O}=this,Y=N.chart,X=this.getStackBox({xOffset:_,width:x,boxBottom:T,boxTop:E,defaultX:k,xAxis:v}),{verticalAlign:H}=w;if(S&&X){let $=S.getBBox(void 0,0),G=S.padding,B=g(L.overflow,"justify")==="justify",M;w.x=L.x||0,w.y=L.y||0;let{x:D,y:V}=this.adjustStackPosition({labelBox:$,verticalAlign:H,textAlign:O});X.x-=D,X.y-=V,S.align(w,!1,X),(M=Y.isInsidePlot(S.alignAttr.x+w.x+D,S.alignAttr.y+w.y+V))||(B=!1),B&&d.prototype.justifyDataLabel.call(N,S,w,S.alignAttr,$,X),S.attr({x:S.alignAttr.x,y:S.alignAttr.y,rotation:L.rotation,rotationOriginX:$.width*{left:0,center:.5,right:1}[L.textAlign||"center"],rotationOriginY:$.height/2}),g(!B&&L.crop,!0)&&(M=y(S.x)&&y(S.y)&&Y.isInsidePlot(S.x-G+(S.width||0),S.y)&&Y.isInsidePlot(S.x+G,S.y)),S[M?"show":"hide"]()}m(this,"afterSetOffset",{xOffset:_,width:x})}adjustStackPosition({labelBox:_,verticalAlign:x,textAlign:T}){let E={bottom:0,middle:1,top:2,right:1,center:0,left:-1},k=E[x],v=E[T];return{x:_.width/2+_.width/2*v,y:_.height/2*k}}getStackBox(_){let x=this.axis,T=x.chart,{boxTop:E,defaultX:k,xOffset:v,width:w,boxBottom:N}=_,S=x.stacking.usePercentage?100:g(E,this.total,0),L=x.toPixels(S),O=_.xAxis||T.xAxis[0],Y=g(k,O.translate(this.x))+v,X=Math.abs(L-x.toPixels(N||y(x.min)&&x.logarithmic&&x.logarithmic.lin2log(x.min)||0)),H=T.inverted,$=this.isNegative;return H?{x:($?L:L-X)-T.plotLeft,y:O.height-Y-w+O.top-T.plotTop,width:X,height:w}:{x:Y+O.transB-T.plotLeft,y:($?L-X:L)-T.plotTop,width:w,height:X}}}}),i(t,"Core/Axis/Stacking/StackingAxis.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/Axis.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(r,a,o,s,d){var p;let{getDeferredAnimation:m}=r,{series:{prototype:y}}=o,{addEvent:g,correctFloat:_,defined:x,destroyObjectProperties:T,fireEvent:E,isArray:k,isNumber:v,objectEach:w,pick:N}=d;function S(){let M=this.inverted;this.axes.forEach(D=>{D.stacking&&D.stacking.stacks&&D.hasVisibleSeries&&(D.stacking.oldStacks=D.stacking.stacks)}),this.series.forEach(D=>{let V=D.xAxis&&D.xAxis.options||{};D.options.stacking&&D.reserveSpace()&&(D.stackKey=[D.type,N(D.options.stack,""),M?V.top:V.left,M?V.height:V.width].join(","))})}function L(){var D;let M=this.stacking;if(M){let V=M.stacks;w(V,(F,z)=>{T(F),delete V[z]}),(D=M.stackTotalGroup)==null||D.destroy()}}function O(){this.stacking||(this.stacking=new B(this))}function Y(M,D,V,F){return!x(M)||M.x!==D||F&&M.stackKey!==F?M={x:D,index:0,key:F,stackKey:F}:M.index++,M.key=[V,D,M.index].join(","),M}function X(){let M,D=this,V=D.yAxis,F=D.stackKey||"",z=V.stacking.stacks,W=D.processedXData,q=D.options.stacking,ee=D[q+"Stacker"];ee&&[F,"-"+F].forEach(ue=>{var Te;let ie=W.length,oe,Ee,me;for(;ie--;)oe=W[ie],M=D.getStackIndicator(M,oe,D.index,ue),Ee=(Te=z[ue])==null?void 0:Te[oe],(me=Ee==null?void 0:Ee.points[M.key||""])&&ee.call(D,me,Ee,ie)})}function H(M,D,V){let F=D.total?100/D.total:0;M[0]=_(M[0]*F),M[1]=_(M[1]*F),this.stackedYData[V]=M[1]}function $(M){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&!this.options.stacking&&this.chart.series.length>1?y.setStackedPoints.call(this,M,"group"):M.stacking.resetStacks())}function G(M,D){var $e,Ye;let V,F,z,W,q,ee,ue,ie,oe,Ee=D||this.options.stacking;if(!Ee||!this.reserveSpace()||({group:"xAxis"}[Ee]||"yAxis")!==M.coll)return;let me=this.processedXData,Te=this.processedYData,K=[],J=Te.length,se=this.options,xe=se.threshold||0,Q=se.startFromThreshold?xe:0,ae=se.stack,ce=D?`${this.type},${Ee}`:this.stackKey||"",ge="-"+ce,be=this.negStacks,Le=M.stacking,_e=Le.stacks,Ne=Le.oldStacks;for(Le.stacksTouched+=1,ue=0;ue<J;ue++){ie=me[ue],oe=Te[ue],ee=(V=this.getStackIndicator(V,ie,this.index)).key||"",_e[q=(F=be&&oe<(Q?0:xe))?ge:ce]||(_e[q]={}),_e[q][ie]||(($e=Ne[q])!=null&&$e[ie]?(_e[q][ie]=Ne[q][ie],_e[q][ie].total=null):_e[q][ie]=new s(M,M.options.stackLabels,!!F,ie,ae)),z=_e[q][ie],oe!==null?(z.points[ee]=z.points[this.index]=[N(z.cumulative,Q)],x(z.cumulative)||(z.base=ee),z.touched=Le.stacksTouched,V.index>0&&this.singleStacks===!1&&(z.points[ee][0]=z.points[this.index+","+ie+",0"][0])):(delete z.points[ee],delete z.points[this.index]);let Xe=z.total||0;Ee==="percent"?(W=F?ce:ge,Xe=be&&((Ye=_e[W])!=null&&Ye[ie])?(W=_e[W][ie]).total=Math.max(W.total||0,Xe)+Math.abs(oe)||0:_(Xe+(Math.abs(oe)||0))):Ee==="group"?(k(oe)&&(oe=oe[0]),oe!==null&&Xe++):Xe=_(Xe+(oe||0)),Ee==="group"?z.cumulative=(Xe||1)-1:z.cumulative=_(N(z.cumulative,Q)+(oe||0)),z.total=Xe,oe!==null&&(z.points[ee].push(z.cumulative),K[ue]=z.cumulative,z.hasValidPoints=!0)}Ee==="percent"&&(Le.usePercentage=!0),Ee!=="group"&&(this.stackedYData=K),Le.oldStacks={}}class B{constructor(D){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=D}buildStacks(){let D,V,F=this.axis,z=F.series,W=F.coll==="xAxis",q=F.options.reversedStacks,ee=z.length;for(this.resetStacks(),this.usePercentage=!1,V=ee;V--;)D=z[q?V:ee-V-1],W&&D.setGroupedPoints(F),D.setStackedPoints(F);if(!W)for(V=0;V<ee;V++)z[V].modifyStacks();E(F,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,w(this.stacks,D=>{w(D,V=>{V.cumulative=V.total})}))}resetStacks(){w(this.stacks,D=>{w(D,(V,F)=>{v(V.touched)&&V.touched<this.stacksTouched?(V.destroy(),delete D[F]):(V.total=null,V.cumulative=null)})})}renderStackTotals(){var ee;let D=this.axis,V=D.chart,F=V.renderer,z=this.stacks,W=m(V,((ee=D.options.stackLabels)==null?void 0:ee.animation)||!1),q=this.stackTotalGroup=this.stackTotalGroup||F.g("stack-labels").attr({zIndex:6,opacity:0}).add();q.translate(V.plotLeft,V.plotTop),w(z,ue=>{w(ue,ie=>{ie.render(q)})}),q.animate({opacity:1},W)}}return(p||(p={})).compose=function(M,D,V){let F=D.prototype,z=V.prototype;F.getStacks||(g(M,"init",O),g(M,"destroy",L),F.getStacks=S,z.getStackIndicator=Y,z.modifyStacks=X,z.percentStacker=H,z.setGroupedPoints=$,z.setStackedPoints=G)},p}),i(t,"Series/Line/LineSeries.js",[t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{defined:s,merge:d,isObject:p}=o;class m extends r{drawGraph(){let g=this.options,_=(this.gappedPath||this.getGraphPath).call(this),x=this.chart.styledMode;[this,...this.zones].forEach((T,E)=>{let k,v=T.graph,w=v?"animate":"attr",N=T.dashStyle||g.dashStyle;v?(v.endX=this.preventGraphAnimation?null:_.xMap,v.animate({d:_})):_.length&&(T.graph=v=this.chart.renderer.path(_).addClass("highcharts-graph"+(E?` highcharts-zone-graph-${E-1} `:" ")+(E&&T.className||"")).attr({zIndex:1}).add(this.group)),v&&!x&&(k={stroke:!E&&g.lineColor||T.color||this.color||"#cccccc","stroke-width":g.lineWidth||0,fill:this.fillGraph&&this.color||"none"},N?k.dashstyle=N:g.linecap!=="square"&&(k["stroke-linecap"]=k["stroke-linejoin"]="round"),v[w](k).shadow(E<2&&g.shadow&&d({filterUnits:"userSpaceOnUse"},p(g.shadow)?g.shadow:{}))),v&&(v.startX=_.xMap,v.isArea=_.isArea)})}getGraphPath(g,_,x){let T=this,E=T.options,k=[],v=[],w,N=E.step,S=(g=g||T.points).reversed;return S&&g.reverse(),(N={right:1,center:2}[N]||N&&3)&&S&&(N=4-N),(g=this.getValidPoints(g,!1,!(E.connectNulls&&!_&&!x))).forEach(function(L,O){let Y,X=L.plotX,H=L.plotY,$=g[O-1],G=L.isNull||typeof H!="number";(L.leftCliff||$&&$.rightCliff)&&!x&&(w=!0),G&&!s(_)&&O>0?w=!E.connectNulls:G&&!_?w=!0:(O===0||w?Y=[["M",L.plotX,L.plotY]]:T.getPointSpline?Y=[T.getPointSpline(g,L,O)]:N?(Y=N===1?[["L",$.plotX,H]]:N===2?[["L",($.plotX+X)/2,$.plotY],["L",($.plotX+X)/2,H]]:[["L",X,$.plotY]]).push(["L",X,H]):Y=[["L",X,H]],v.push(L.x),N&&(v.push(L.x),N===2&&v.push(L.x)),k.push.apply(k,Y),w=!1)}),k.xMap=v,T.graphPath=k,k}}return m.defaultOptions=d(r.defaultOptions,{legendSymbol:"lineMarker"}),a.registerSeriesType("line",m),m}),i(t,"Series/Area/AreaSeriesDefaults.js",[],function(){return{threshold:0,legendSymbol:"areaMarker"}}),i(t,"Series/Area/AreaSeries.js",[t["Series/Area/AreaSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{seriesTypes:{line:s}}=a,{extend:d,merge:p,objectEach:m,pick:y}=o;class g extends s{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:x,options:T}=this;[this,...this.zones].forEach((E,k)=>{let v={},w=E.fillColor||T.fillColor,N=E.area,S=N?"animate":"attr";N?(N.endX=this.preventGraphAnimation?null:x.xMap,N.animate({d:x})):(v.zIndex=0,(N=E.area=this.chart.renderer.path(x).addClass("highcharts-area"+(k?` highcharts-zone-area-${k-1} `:" ")+(k&&E.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(v.fill=w||E.color||this.color,v["fill-opacity"]=w?1:T.fillOpacity??.75,N.css({pointerEvents:this.stickyTracking?"none":"auto"})),N[S](v),N.startX=x.xMap,N.shiftUnit=T.step?2:1})}getGraphPath(x){let T,E,k,v=s.prototype.getGraphPath,w=this.options,N=w.stacking,S=this.yAxis,L=[],O=[],Y=this.index,X=S.stacking.stacks[this.stackKey],H=w.threshold,$=Math.round(S.getThreshold(w.threshold)),G=y(w.connectNulls,N==="percent"),B=function(W,q,ee){let ue=x[W],ie=N&&X[ue.x].points[Y],oe=ue[ee+"Null"]||0,Ee=ue[ee+"Cliff"]||0,me,Te,K=!0;Ee||oe?(me=(oe?ie[0]:ie[1])+Ee,Te=ie[0]+Ee,K=!!oe):!N&&x[q]&&x[q].isNull&&(me=Te=H),me!==void 0&&(O.push({plotX:T,plotY:me===null?$:S.getThreshold(me),isNull:K,isCliff:!0}),L.push({plotX:T,plotY:Te===null?$:S.getThreshold(Te),doCurve:!1}))};x=x||this.points,N&&(x=this.getStackPoints(x));for(let W=0,q=x.length;W<q;++W)N||(x[W].leftCliff=x[W].rightCliff=x[W].leftNull=x[W].rightNull=void 0),E=x[W].isNull,T=y(x[W].rectPlotX,x[W].plotX),k=N?y(x[W].yBottom,$):$,E&&!G||(G||B(W,W-1,"left"),E&&!N&&G||(O.push(x[W]),L.push({x:W,plotX:T,plotY:k})),G||B(W,W+1,"right"));let M=v.call(this,O,!0,!0);L.reversed=!0;let D=v.call(this,L,!0,!0),V=D[0];V&&V[0]==="M"&&(D[0]=["L",V[1],V[2]]);let F=M.concat(D);F.length&&F.push(["Z"]);let z=v.call(this,O,!1,G);return this.chart.series.length>1&&N&&O.some(W=>W.isCliff)&&(F.hasStackedCliffs=z.hasStackedCliffs=!0),F.xMap=M.xMap,this.areaPath=F,z}getStackPoints(x){let T=this,E=[],k=[],v=this.xAxis,w=this.yAxis,N=w.stacking.stacks[this.stackKey],S={},L=w.series,O=L.length,Y=w.options.reversedStacks?1:-1,X=L.indexOf(T);if(x=x||this.points,this.options.stacking){for(let $=0;$<x.length;$++)x[$].leftNull=x[$].rightNull=void 0,S[x[$].x]=x[$];m(N,function($,G){$.total!==null&&k.push(G)}),k.sort(function($,G){return $-G});let H=L.map($=>$.visible);k.forEach(function($,G){let B=0,M,D;if(S[$]&&!S[$].isNull)E.push(S[$]),[-1,1].forEach(function(V){let F=V===1?"rightNull":"leftNull",z=N[k[G+V]],W=0;if(z){let q=X;for(;q>=0&&q<O;){let ee=L[q].index;!(M=z.points[ee])&&(ee===T.index?S[$][F]=!0:H[q]&&(D=N[$].points[ee])&&(W-=D[1]-D[0])),q+=Y}}S[$][V===1?"rightCliff":"leftCliff"]=W});else{let V=X;for(;V>=0&&V<O;){let F=L[V].index;if(M=N[$].points[F]){B=M[1];break}V+=Y}B=y(B,0),B=w.translate(B,0,1,0,1),E.push({isNull:!0,plotX:v.translate($,0,0,0,1),x:$,plotY:B,yBottom:B})}})}return E}}return g.defaultOptions=p(s.defaultOptions,r),d(g.prototype,{singleStacks:!1}),a.registerSeriesType("area",g),g}),i(t,"Series/Spline/SplineSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a){let{line:o}=r.seriesTypes,{merge:s,pick:d}=a;class p extends o{getPointSpline(y,g,_){let x,T,E,k,v=g.plotX||0,w=g.plotY||0,N=y[_-1],S=y[_+1];function L(Y){return Y&&!Y.isNull&&Y.doCurve!==!1&&!g.isCliff}if(L(N)&&L(S)){let Y=N.plotX||0,X=N.plotY||0,H=S.plotX||0,$=S.plotY||0,G=0;x=(1.5*v+Y)/2.5,T=(1.5*w+X)/2.5,E=(1.5*v+H)/2.5,k=(1.5*w+$)/2.5,E!==x&&(G=(k-T)*(E-v)/(E-x)+w-k),T+=G,k+=G,T>X&&T>w?(T=Math.max(X,w),k=2*w-T):T<X&&T<w&&(T=Math.min(X,w),k=2*w-T),k>$&&k>w?(k=Math.max($,w),T=2*w-k):k<$&&k<w&&(k=Math.min($,w),T=2*w-k),g.rightContX=E,g.rightContY=k,g.controlPoints={low:[x,T],high:[E,k]}}let O=["C",d(N.rightContX,N.plotX,0),d(N.rightContY,N.plotY,0),d(x,v,0),d(T,w,0),v,w];return N.rightContX=N.rightContY=void 0,O}}return p.defaultOptions=s(o.defaultOptions),r.registerSeriesType("spline",p),p}),i(t,"Series/AreaSpline/AreaSplineSeries.js",[t["Series/Spline/SplineSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{area:s,area:{prototype:d}}=a.seriesTypes,{extend:p,merge:m}=o;class y extends r{}return y.defaultOptions=m(r.defaultOptions,s.defaultOptions),p(y.prototype,{getGraphPath:d.getGraphPath,getStackPoints:d.getStackPoints,drawGraph:d.drawGraph}),a.registerSeriesType("areaspline",y),y}),i(t,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),i(t,"Series/Column/ColumnSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Color/Color.js"],t["Series/Column/ColumnSeriesDefaults.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s,d,p,m){let{animObject:y}=r,{parse:g}=a,{noop:_}=s,{clamp:x,crisp:T,defined:E,extend:k,fireEvent:v,isArray:w,isNumber:N,merge:S,pick:L,objectEach:O}=m;class Y extends d{animate(H){let $,G,B=this,M=this.yAxis,D=M.pos,V=M.reversed,F=B.options,{clipOffset:z,inverted:W}=this.chart,q={},ee=W?"translateX":"translateY";H&&z?(q.scaleY=.001,G=x(M.toPixels(F.threshold),D,D+M.len),W?(G+=V?-Math.floor(z[0]):Math.ceil(z[2]),q.translateX=G-M.len):(G+=V?Math.ceil(z[0]):-Math.floor(z[2]),q.translateY=G),B.clipBox&&B.setClip(),B.group.attr(q)):($=Number(B.group.attr(ee)),B.group.animate({scaleY:1},k(y(B.options.animation),{step:function(ue,ie){B.group&&(q[ee]=$+ie.pos*(D-$),B.group.attr(q))}})))}init(H,$){super.init.apply(this,arguments);let G=this;(H=G.chart).hasRendered&&H.series.forEach(function(B){B.type===G.type&&(B.isDirty=!0)})}getColumnMetrics(){var oe,Ee;let H=this,$=H.options,G=H.xAxis,B=H.yAxis,M=G.options.reversedStacks,D=G.reversed&&!M||!G.reversed&&M,V={},F,z=0;$.grouping===!1?z=1:H.chart.series.forEach(function(me){let Te,K=me.yAxis,J=me.options;me.type===H.type&&me.reserveSpace()&&B.len===K.len&&B.pos===K.pos&&(J.stacking&&J.stacking!=="group"?(V[F=me.stackKey]===void 0&&(V[F]=z++),Te=V[F]):J.grouping!==!1&&(Te=z++),me.columnIndex=Te)});let W=Math.min(Math.abs(G.transA)*(!((oe=G.brokenAxis)!=null&&oe.hasBreaks)&&((Ee=G.ordinal)==null?void 0:Ee.slope)||$.pointRange||G.closestPointRange||G.tickInterval||1),G.len),q=W*$.groupPadding,ee=(W-2*q)/(z||1),ue=Math.min($.maxPointWidth||G.len,L($.pointWidth,ee*(1-2*$.pointPadding))),ie=(H.columnIndex||0)+(D?1:0);return H.columnMetrics={width:ue,offset:(ee-ue)/2+(q+ie*ee-W/2)*(D?-1:1),paddedWidth:ee,columnCount:z},H.columnMetrics}crispCol(H,$,G,B){let M=this.borderWidth,D=this.chart.inverted;return B=T($+B,M,D)-($=T($,M,D)),this.options.crisp&&(G=T(H+G,M)-(H=T(H,M))),{x:H,y:$,width:G,height:B}}adjustForMissingColumns(H,$,G,B){var M;if(!G.isNull&&B.columnCount>1){let D=this.xAxis.series.filter(W=>W.visible).map(W=>W.index),V=0,F=0;O((M=this.xAxis.stacking)==null?void 0:M.stacks,W=>{if(typeof G.x=="number"){let q=W[G.x.toString()];if(q&&w(q.points[this.index])){let ee=Object.keys(q.points).filter(ue=>!ue.match(",")&&q.points[ue]&&q.points[ue].length>1).map(parseFloat).filter(ue=>D.indexOf(ue)!==-1).sort((ue,ie)=>ie-ue);V=ee.indexOf(this.index),F=ee.length}}}),V=this.xAxis.reversed?F-1-V:V;let z=(F-1)*B.paddedWidth+$;H=(G.plotX||0)+z/2-$-V*B.paddedWidth}return H}translate(){let H=this,$=H.chart,G=H.options,B=H.dense=H.closestPointRange*H.xAxis.transA<2,M=H.borderWidth=L(G.borderWidth,B?0:1),D=H.xAxis,V=H.yAxis,F=G.threshold,z=L(G.minPointLength,5),W=H.getColumnMetrics(),q=W.width,ee=H.pointXOffset=W.offset,ue=H.dataMin,ie=H.dataMax,oe=H.translatedThreshold=V.getThreshold(F),Ee=H.barW=Math.max(q,1+2*M);G.pointPadding&&(Ee=Math.ceil(Ee)),d.prototype.translate.apply(H),H.points.forEach(function(me){let Te=L(me.yBottom,oe),K=999+Math.abs(Te),J=me.plotX||0,se=x(me.plotY,-K,V.len+K),xe,Q=Math.min(se,Te),ae=Math.max(se,Te)-Q,ce=q,ge=J+ee,be=Ee;z&&Math.abs(ae)<z&&(ae=z,xe=!V.reversed&&!me.negative||V.reversed&&me.negative,N(F)&&N(ie)&&me.y===F&&ie<=F&&(V.min||0)<F&&(ue!==ie||(V.max||0)<=F)&&(xe=!xe,me.negative=!me.negative),Q=Math.abs(Q-oe)>z?Te-z:oe-(xe?z:0)),E(me.options.pointWidth)&&(ge-=Math.round(((ce=be=Math.ceil(me.options.pointWidth))-q)/2)),G.centerInCategory&&!G.stacking&&(ge=H.adjustForMissingColumns(ge,ce,me,W)),me.barX=ge,me.pointWidth=ce,me.tooltipPos=$.inverted?[x(V.len+V.pos-$.plotLeft-se,V.pos-$.plotLeft,V.len+V.pos-$.plotLeft),D.len+D.pos-$.plotTop-ge-be/2,ae]:[D.left-$.plotLeft+ge+be/2,x(se+V.pos-$.plotTop,V.pos-$.plotTop,V.len+V.pos-$.plotTop),ae],me.shapeType=H.pointClass.prototype.shapeType||"roundedRect",me.shapeArgs=H.crispCol(ge,me.isNull?oe:Q,be,me.isNull?0:ae)}),v(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(H,$){let G=this.options,B=this.pointAttrToOptions||{},M=B.stroke||"borderColor",D=B["stroke-width"]||"borderWidth",V,F,z,W=H&&H.color||this.color,q=H&&H[M]||G[M]||W,ee=H&&H.options.dashStyle||G.dashStyle,ue=H&&H[D]||G[D]||this[D]||0,ie=L(H&&H.opacity,G.opacity,1);H&&this.zones.length&&(F=H.getZone(),W=H.options.color||F&&(F.color||H.nonZonedColor)||this.color,F&&(q=F.borderColor||q,ee=F.dashStyle||ee,ue=F.borderWidth||ue)),$&&H&&(z=(V=S(G.states[$],H.options.states&&H.options.states[$]||{})).brightness,W=V.color||z!==void 0&&g(W).brighten(V.brightness).get()||W,q=V[M]||q,ue=V[D]||ue,ee=V.dashStyle||ee,ie=L(V.opacity,ie));let oe={fill:W,stroke:q,"stroke-width":ue,opacity:ie};return ee&&(oe.dashstyle=ee),oe}drawPoints(H=this.points){let $,G=this,B=this.chart,M=G.options,D=B.renderer,V=M.animationLimit||250;H.forEach(function(F){let z=F.plotY,W=F.graphic,q=!!W,ee=W&&B.pointCount<V?"animate":"attr";N(z)&&F.y!==null?($=F.shapeArgs,W&&F.hasNewShapeType()&&(W=W.destroy()),G.enabledDataSorting&&(F.startXPos=G.xAxis.reversed?-($&&$.width||0):G.xAxis.width),!W&&(F.graphic=W=D[F.shapeType]($).add(F.group||G.group),W&&G.enabledDataSorting&&B.hasRendered&&B.pointCount<V&&(W.attr({x:F.startXPos}),q=!0,ee="animate")),W&&q&&W[ee](S($)),B.styledMode||W[ee](G.pointAttribs(F,F.selected&&"select")).shadow(F.allowShadow!==!1&&M.shadow),W&&(W.addClass(F.getClassName(),!0),W.attr({visibility:F.visible?"inherit":"hidden"}))):W&&(F.graphic=W.destroy())})}drawTracker(H=this.points){let $,G=this,B=G.chart,M=B.pointer,D=function(V){let F=M==null?void 0:M.getPointFromEvent(V);M&&F&&G.options.enableMouseTracking&&(M.isDirectTouch=!0,F.onMouseOver(V))};H.forEach(function(V){$=w(V.dataLabels)?V.dataLabels:V.dataLabel?[V.dataLabel]:[],V.graphic&&(V.graphic.element.point=V),$.forEach(function(F){(F.div||F.element).point=V})}),G._hasTracking||(G.trackerGroups.forEach(function(V){G[V]&&(G[V].addClass("highcharts-tracker").on("mouseover",D).on("mouseout",function(F){M==null||M.onTrackerMouseOut(F)}).on("touchstart",D),!B.styledMode&&G.options.cursor&&G[V].css({cursor:G.options.cursor}))}),G._hasTracking=!0),v(this,"afterDrawTracker")}remove(){let H=this,$=H.chart;$.hasRendered&&$.series.forEach(function(G){G.type===H.type&&(G.isDirty=!0)}),d.prototype.remove.apply(H,arguments)}}return Y.defaultOptions=S(d.defaultOptions,o),k(Y.prototype,{directTouch:!0,getSymbol:_,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),p.registerSeriesType("column",Y),Y}),i(t,"Core/Series/DataLabel.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Templating.js"],t["Core/Utilities.js"]],function(r,a,o){var s;let{getDeferredAnimation:d}=r,{format:p}=a,{defined:m,extend:y,fireEvent:g,isArray:_,isString:x,merge:T,objectEach:E,pick:k,pInt:v,splat:w}=o;return function(N){function S(){return G(this).some(M=>M==null?void 0:M.enabled)}function L(M,D,V,F,z){var se;let{chart:W,enabledDataSorting:q}=this,ee=this.isCartesian&&W.inverted,ue=M.plotX,ie=M.plotY,oe=V.rotation||0,Ee=m(ue)&&m(ie)&&W.isInsidePlot(ue,Math.round(ie),{inverted:ee,paneCoordinates:!0,series:this}),me=oe===0&&k(V.overflow,q?"none":"justify")==="justify",Te=this.visible&&M.visible!==!1&&m(ue)&&(M.series.forceDL||q&&!me||Ee||k(V.inside,!!this.options.stacking)&&F&&W.isInsidePlot(ue,ee?F.x+1:F.y+F.height-1,{inverted:ee,paneCoordinates:!0,series:this})),K=M.pos();if(Te&&K){var J;let xe=D.getBBox(),Q=D.getBBox(void 0,0),ae={right:1,center:.5}[V.align||0]||0,ce={bottom:1,middle:.5}[V.verticalAlign||0]||0;if(F=y({x:K[0],y:Math.round(K[1]),width:0,height:0},F||{}),V.alignTo==="plotEdges"&&this.isCartesian&&(F[ee?"x":"y"]=0,F[ee?"width":"height"]=((se=this.yAxis)==null?void 0:se.len)||0),y(V,{width:xe.width,height:xe.height}),J=F,q&&this.xAxis&&!me&&this.setDataLabelStartPos(M,D,z,Ee,J),D.align(T(V,{width:Q.width,height:Q.height}),!1,F,!1),D.alignAttr.x+=ae*(Q.width-xe.width),D.alignAttr.y+=ce*(Q.height-xe.height),D[D.placed?"animate":"attr"]({x:D.alignAttr.x+(xe.width-Q.width)/2,y:D.alignAttr.y+(xe.height-Q.height)/2,rotationOriginX:(D.width||0)/2,rotationOriginY:(D.height||0)/2}),me&&F.height>=0)this.justifyDataLabel(D,V,D.alignAttr,xe,F,z);else if(k(V.crop,!0)){let{x:ge,y:be}=D.alignAttr;Te=W.isInsidePlot(ge,be,{paneCoordinates:!0,series:this})&&W.isInsidePlot(ge+xe.width-1,be+xe.height-1,{paneCoordinates:!0,series:this})}V.shape&&!oe&&D[z?"attr":"animate"]({anchorX:K[0],anchorY:K[1]})}z&&q&&(D.placed=!1),Te||q&&!me?(D.show(),D.placed=!0):(D.hide(),D.placed=!1)}function O(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function Y(M){let D=this.hasRendered||0,V=this.initDataLabelsGroup().attr({opacity:+D});return!D&&V&&(this.visible&&V.show(),this.options.animation?V.animate({opacity:1},M):V.attr({opacity:1})),V}function X(M){var Te;let D;M=M||this.points;let V=this,F=V.chart,z=V.options,W=F.renderer,{backgroundColor:q,plotBackgroundColor:ee}=F.options.chart,ue=W.getContrast(x(ee)&&ee||x(q)&&q||"#000000"),ie=G(V),{animation:oe,defer:Ee}=ie[0],me=Ee?d(F,oe,V):{defer:0,duration:0};g(this,"drawDataLabels"),(Te=V.hasDataLabels)!=null&&Te.call(V)&&(D=this.initDataLabels(me),M.forEach(K=>{var xe,Q;let J=K.dataLabels||[];w($(ie,K.dlOptions||((xe=K.options)==null?void 0:xe.dataLabels))).forEach((ae,ce)=>{let ge=ae.enabled&&(K.visible||K.dataLabelOnHidden)&&(!K.isNull||K.dataLabelOnNull)&&function(je,Ke){let nt=Ke.filter;if(nt){let ot=nt.operator,ht=je[nt.property],gt=nt.value;return ot===">"&&ht>gt||ot==="<"&&ht<gt||ot===">="&&ht>=gt||ot==="<="&&ht<=gt||ot==="=="&&ht==gt||ot==="==="&&ht===gt||ot==="!="&&ht!=gt||ot==="!=="&&ht!==gt}return!0}(K,ae),{backgroundColor:be,borderColor:Le,distance:_e,style:Ne={}}=ae,$e,Ye,Xe,De,we={},ke=J[ce],ze=!ke,Me;ge&&(Ye=k(ae[K.formatPrefix+"Format"],ae.format),$e=K.getLabelConfig(),Xe=m(Ye)?p(Ye,$e,F):(ae[K.formatPrefix+"Formatter"]||ae.formatter).call($e,ae),De=ae.rotation,!F.styledMode&&(Ne.color=k(ae.color,Ne.color,x(V.color)?V.color:void 0,"#000000"),Ne.color==="contrast"?(be!=="none"&&(Me=be),K.contrastColor=W.getContrast(Me!=="auto"&&Me||K.color||V.color),Ne.color=Me||!m(_e)&&ae.inside||0>v(_e||0)||z.stacking?K.contrastColor:ue):delete K.contrastColor,z.cursor&&(Ne.cursor=z.cursor)),we={r:ae.borderRadius||0,rotation:De,padding:ae.padding,zIndex:1},F.styledMode||(we.fill=be==="auto"?K.color:be,we.stroke=Le==="auto"?K.color:Le,we["stroke-width"]=ae.borderWidth),E(we,(je,Ke)=>{je===void 0&&delete we[Ke]})),!ke||ge&&m(Xe)&&!!ke.div==!!ae.useHTML&&(ke.rotation&&ae.rotation||ke.rotation===ae.rotation)||(ke=void 0,ze=!0),ge&&m(Xe)&&(ke?we.text=Xe:(ke=W.label(Xe,0,0,ae.shape,void 0,void 0,ae.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+K.colorIndex+" "+(ae.className||"")+(ae.useHTML?" highcharts-tracker":"")),ke&&(ke.options=ae,ke.attr(we),F.styledMode?Ne.width&&ke.css({width:Ne.width,textOverflow:Ne.textOverflow}):ke.css(Ne).shadow(ae.shadow),g(ke,"beforeAddingDataLabel",{labelOptions:ae,point:K}),ke.added||ke.add(D),V.alignDataLabel(K,ke,ae,void 0,ze),ke.isActive=!0,J[ce]&&J[ce]!==ke&&J[ce].destroy(),J[ce]=ke))});let se=J.length;for(;se--;)J[se]&&J[se].isActive?J[se].isActive=!1:((Q=J[se])==null||Q.destroy(),J.splice(se,1));K.dataLabel=J[0],K.dataLabels=J})),g(this,"afterDrawDataLabels")}function H(M,D,V,F,z,W){let q=this.chart,ee=D.align,ue=D.verticalAlign,ie=M.box?0:M.padding||0,oe=q.inverted?this.yAxis:this.xAxis,Ee=oe?oe.left-q.plotLeft:0,me=q.inverted?this.xAxis:this.yAxis,Te=me?me.top-q.plotTop:0,{x:K=0,y:J=0}=D,se,xe;return(se=(V.x||0)+ie+Ee)<0&&(ee==="right"&&K>=0?(D.align="left",D.inside=!0):K-=se,xe=!0),(se=(V.x||0)+F.width-ie+Ee)>q.plotWidth&&(ee==="left"&&K<=0?(D.align="right",D.inside=!0):K+=q.plotWidth-se,xe=!0),(se=V.y+ie+Te)<0&&(ue==="bottom"&&J>=0?(D.verticalAlign="top",D.inside=!0):J-=se,xe=!0),(se=(V.y||0)+F.height-ie+Te)>q.plotHeight&&(ue==="top"&&J<=0?(D.verticalAlign="bottom",D.inside=!0):J+=q.plotHeight-se,xe=!0),xe&&(D.x=K,D.y=J,M.placed=!W,M.align(D,void 0,z)),xe}function $(M,D){let V=[],F;if(_(M)&&!_(D))V=M.map(function(z){return T(z,D)});else if(_(D)&&!_(M))V=D.map(function(z){return T(M,z)});else if(_(M)||_(D)){if(_(M)&&_(D))for(F=Math.max(M.length,D.length);F--;)V[F]=T(M[F],D[F])}else V=T(M,D);return V}function G(M){var V,F;let D=M.chart.options.plotOptions;return w($($((V=D==null?void 0:D.series)==null?void 0:V.dataLabels,(F=D==null?void 0:D[M.type])==null?void 0:F.dataLabels),M.options.dataLabels))}function B(M,D,V,F,z){let W=this.chart,q=W.inverted,ee=this.xAxis,ue=ee.reversed,ie=((q?D.height:D.width)||0)/2,oe=M.pointWidth,Ee=oe?oe/2:0;D.startXPos=q?z.x:ue?-ie-Ee:ee.width-ie+Ee,D.startYPos=q?ue?this.yAxis.height-ie+Ee:-ie-Ee:z.y,F?D.visibility==="hidden"&&(D.show(),D.attr({opacity:0}).animate({opacity:1})):D.attr({opacity:1}).animate({opacity:0},void 0,D.hide),W.hasRendered&&(V&&D.attr({x:D.startXPos,y:D.startYPos}),D.placed=!0)}N.compose=function(M){let D=M.prototype;D.initDataLabels||(D.initDataLabels=Y,D.initDataLabelsGroup=O,D.alignDataLabel=L,D.drawDataLabels=X,D.justifyDataLabel=H,D.setDataLabelStartPos=B,D.hasDataLabels=S)}}(s||(s={})),s}),i(t,"Series/Column/ColumnDataLabel.js",[t["Core/Series/DataLabel.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s){var d;let{composed:p}=a,{series:m}=o,{merge:y,pick:g,pushUnique:_}=s;return function(x){function T(E,k,v,w,N){let S=this.chart.inverted,L=E.series,O=(L.xAxis?L.xAxis.len:this.chart.plotSizeX)||0,Y=(L.yAxis?L.yAxis.len:this.chart.plotSizeY)||0,X=E.dlBox||E.shapeArgs,H=g(E.below,E.plotY>g(this.translatedThreshold,Y)),$=g(v.inside,!!this.options.stacking);if(X){if(w=y(X),!(v.overflow==="allow"&&v.crop===!1)){w.y<0&&(w.height+=w.y,w.y=0);let G=w.y+w.height-Y;G>0&&G<w.height-1&&(w.height-=G)}S&&(w={x:Y-w.y-w.height,y:O-w.x-w.width,width:w.height,height:w.width}),$||(S?(w.x+=H?0:w.width,w.width=0):(w.y+=H?w.height:0,w.height=0))}v.align=g(v.align,!S||$?"center":H?"right":"left"),v.verticalAlign=g(v.verticalAlign,S||$?"middle":H?"top":"bottom"),m.prototype.alignDataLabel.call(this,E,k,v,w,N),v.inside&&E.contrastColor&&k.css({color:E.contrastColor})}x.compose=function(E){r.compose(m),_(p,"ColumnDataLabel")&&(E.prototype.alignDataLabel=T)}}(d||(d={})),d}),i(t,"Series/Bar/BarSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{extend:s,merge:d}=o;class p extends r{}return p.defaultOptions=d(r.defaultOptions,{}),s(p.prototype,{inverted:!0}),a.registerSeriesType("bar",p),p}),i(t,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),i(t,"Series/Scatter/ScatterSeries.js",[t["Series/Scatter/ScatterSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{column:s,line:d}=a.seriesTypes,{addEvent:p,extend:m,merge:y}=o;class g extends d{applyJitter(){let x=this,T=this.options.jitter,E=this.points.length;T&&this.points.forEach(function(k,v){["x","y"].forEach(function(w,N){if(T[w]&&!k.isNull){let S=`plot${w.toUpperCase()}`,L=x[`${w}Axis`],O=T[w]*L.transA;if(L&&!L.logarithmic){let Y=Math.max(0,(k[S]||0)-O),X=Math.min(L.len,(k[S]||0)+O);k[S]=Y+(X-Y)*function(H){let $=1e4*Math.sin(H);return $-Math.floor($)}(v+N*E),w==="x"&&(k.clientX=k.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return g.defaultOptions=y(d.defaultOptions,r),m(g.prototype,{drawTracker:s.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),p(g,"afterTranslate",function(){this.applyJitter()}),a.registerSeriesType("scatter",g),g}),i(t,"Series/CenteredUtilities.js",[t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,a,o){var s,d;let{deg2rad:p}=r,{fireEvent:m,isNumber:y,pick:g,relativeLength:_}=o;return(d=s||(s={})).getCenter=function(){let x=this.options,T=this.chart,E=2*(x.slicedOffset||0),k=T.plotWidth-2*E,v=T.plotHeight-2*E,w=x.center,N=Math.min(k,v),S=x.thickness,L,O=x.size,Y=x.innerSize||0,X,H;typeof O=="string"&&(O=parseFloat(O)),typeof Y=="string"&&(Y=parseFloat(Y));let $=[g(w[0],"50%"),g(w[1],"50%"),g(O&&O<0?void 0:x.size,"100%"),g(Y&&Y<0?void 0:x.innerSize||0,"0%")];for(!T.angular||this instanceof a||($[3]=0),X=0;X<4;++X)H=$[X],L=X<2||X===2&&/%$/.test(H),$[X]=_(H,[k,v,N,$[2]][X])+(L?E:0);return $[3]>$[2]&&($[3]=$[2]),y(S)&&2*S<$[2]&&S>0&&($[3]=$[2]-2*S),m(this,"afterGetCenter",{positions:$}),$},d.getStartAndEndRadians=function(x,T){let E=y(x)?x:0,k=y(T)&&T>E&&T-E<360?T:E+360;return{start:p*(E+-90),end:p*(k+-90)}},s}),i(t,"Series/Pie/PiePoint.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(r,a,o){let{setAnimation:s}=r,{addEvent:d,defined:p,extend:m,isNumber:y,pick:g,relativeLength:_}=o;class x extends a{getConnectorPath(E){let k=E.dataLabelPosition,v=E.options||{},w=v.connectorShape,N=this.connectorShapes[w]||w;return k&&N.call(this,{...k.computed,alignment:k.alignment},k.connectorPosition,v)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(E){let k=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(k.x,k.y,k.r+E,k.r+E,{innerR:k.r-1,start:k.start,end:k.end,borderRadius:k.borderRadius})}constructor(E,k,v){super(E,k,v),this.half=0,this.name??(this.name="Slice");let w=N=>{this.slice(N.type==="select")};d(this,"select",w),d(this,"unselect",w)}isValid(){return y(this.y)&&this.y>=0}setVisible(E,k=!0){E!==this.visible&&this.update({visible:E??!this.visible},k,void 0,!1)}slice(E,k,v){let w=this.series;s(v,w.chart),k=g(k,!0),this.sliced=this.options.sliced=E=p(E)?E:!this.sliced,w.options.data[w.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return m(x.prototype,{connectorShapes:{fixedOffset:function(T,E,k){let v=E.breakAt,w=E.touchingSliceAt,N=k.softConnector?["C",T.x+(T.alignment==="left"?-5:5),T.y,2*v.x-w.x,2*v.y-w.y,v.x,v.y]:["L",v.x,v.y];return[["M",T.x,T.y],N,["L",w.x,w.y]]},straight:function(T,E){let k=E.touchingSliceAt;return[["M",T.x,T.y],["L",k.x,k.y]]},crookedLine:function(T,E,k){let{breakAt:v,touchingSliceAt:w}=E,{series:N}=this,[S,L,O]=N.center,Y=O/2,{plotLeft:X,plotWidth:H}=N.chart,$=T.alignment==="left",{x:G,y:B}=T,M=v.x;if(k.crookDistance){let V=_(k.crookDistance,1);M=$?S+Y+(H+X-S-Y)*(1-V):X+(S-Y)*V}else M=S+(L-B)*Math.tan((this.angle||0)-Math.PI/2);let D=[["M",G,B]];return($?M<=G&&M>=v.x:M>=G&&M<=v.x)&&D.push(["L",M,B]),D.push(["L",v.x,v.y],["L",w.x,w.y]),D}}}),x}),i(t,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),i(t,"Series/Pie/PieSeries.js",[t["Series/CenteredUtilities.js"],t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Series/Pie/PiePoint.js"],t["Series/Pie/PieSeriesDefaults.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/Symbols.js"],t["Core/Utilities.js"]],function(r,a,o,s,d,p,m,y,g){let{getStartAndEndRadians:_}=r,{noop:x}=o,{clamp:T,extend:E,fireEvent:k,merge:v,pick:w}=g;class N extends p{animate(L){let O=this,Y=O.points,X=O.startAngleRad;L||Y.forEach(function(H){let $=H.graphic,G=H.shapeArgs;$&&G&&($.attr({r:w(H.startR,O.center&&O.center[3]/2),start:X,end:X}),$.animate({r:G.r,start:G.start,end:G.end},O.options.animation))})}drawEmpty(){let L,O,Y=this.startAngleRad,X=this.endAngleRad,H=this.options;this.total===0&&this.center?(L=this.center[0],O=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(L,O,this.center[1]/2,0,Y,X).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:y.arc(L,O,this.center[2]/2,0,{start:Y,end:X,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":H.borderWidth,fill:H.fillColor||"none",stroke:H.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let L=this.chart.renderer;this.points.forEach(function(O){O.graphic&&O.hasNewShapeType()&&(O.graphic=O.graphic.destroy()),O.graphic||(O.graphic=L[O.shapeType](O.shapeArgs).add(O.series.group),O.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(L,O,Y,X){let H=this.center,$=this.radii?this.radii[Y.index]||0:H[2]/2,G=X.dataLabelPosition,B=(G==null?void 0:G.distance)||0,M=Math.asin(T((L-H[1])/($+B),-1,1));return H[0]+Math.cos(M)*($+B)*(O?-1:1)+(B>0?(O?-1:1)*(X.padding||0):0)}hasData(){return!!this.processedXData.length}redrawPoints(){let L,O,Y,X,H=this,$=H.chart;this.drawEmpty(),H.group&&!$.styledMode&&H.group.shadow(H.options.shadow),H.points.forEach(function(G){let B={};O=G.graphic,!G.isNull&&O?(X=G.shapeArgs,L=G.getTranslate(),$.styledMode||(Y=H.pointAttribs(G,G.selected&&"select")),G.delayedRendering?(O.setRadialReference(H.center).attr(X).attr(L),$.styledMode||O.attr(Y).attr({"stroke-linejoin":"round"}),G.delayedRendering=!1):(O.setRadialReference(H.center),$.styledMode||v(!0,B,Y),v(!0,B,X,L),O.animate(B)),O.attr({visibility:G.visible?"inherit":"hidden"}),O.addClass(G.getClassName(),!0)):O&&(G.graphic=O.destroy())})}sortByAngle(L,O){L.sort(function(Y,X){return Y.angle!==void 0&&(X.angle-Y.angle)*O})}translate(L){k(this,"translate"),this.generatePoints();let O=this.options,Y=O.slicedOffset,X=_(O.startAngle,O.endAngle),H=this.startAngleRad=X.start,$=(this.endAngleRad=X.end)-H,G=this.points,B=O.ignoreHiddenPoint,M=G.length,D,V,F,z,W,q,ee,ue=0;for(L||(this.center=L=this.getCenter()),q=0;q<M;q++){ee=G[q],D=H+ue*$,ee.isValid()&&(!B||ee.visible)&&(ue+=ee.percentage/100),V=H+ue*$;let ie={x:L[0],y:L[1],r:L[2]/2,innerR:L[3]/2,start:Math.round(1e3*D)/1e3,end:Math.round(1e3*V)/1e3};ee.shapeType="arc",ee.shapeArgs=ie,(F=(V+D)/2)>1.5*Math.PI?F-=2*Math.PI:F<-Math.PI/2&&(F+=2*Math.PI),ee.slicedTranslation={translateX:Math.round(Math.cos(F)*Y),translateY:Math.round(Math.sin(F)*Y)},z=Math.cos(F)*L[2]/2,W=Math.sin(F)*L[2]/2,ee.tooltipPos=[L[0]+.7*z,L[1]+.7*W],ee.half=F<-Math.PI/2||F>Math.PI/2?1:0,ee.angle=F}k(this,"afterTranslate")}updateTotals(){let L=this.points,O=L.length,Y=this.options.ignoreHiddenPoint,X,H,$=0;for(X=0;X<O;X++)(H=L[X]).isValid()&&(!Y||H.visible)&&($+=H.y);for(X=0,this.total=$;X<O;X++)(H=L[X]).percentage=$>0&&(H.visible||!Y)?H.y/$*100:0,H.total=$}}return N.defaultOptions=v(p.defaultOptions,d),E(N.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:a.prototype.drawTracker,getCenter:r.getCenter,getSymbol:x,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:a.prototype.pointAttribs,pointClass:s,requireSorting:!1,searchPoint:x,trackerGroups:["group","dataLabelsGroup"]}),m.registerSeriesType("pie",N),N}),i(t,"Series/Pie/PieDataLabel.js",[t["Core/Series/DataLabel.js"],t["Core/Globals.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s,d){var p;let{composed:m,noop:y}=a,{distribute:g}=o,{series:_}=s,{arrayMax:x,clamp:T,defined:E,pick:k,pushUnique:v,relativeLength:w}=d;return function(N){let S={radialDistributionY:function(H,$){var G;return(((G=$.dataLabelPosition)==null?void 0:G.top)||0)+H.distributeBox.pos},radialDistributionX:function(H,$,G,B,M){let D=M.dataLabelPosition;return H.getX(G<((D==null?void 0:D.top)||0)+2||G>((D==null?void 0:D.bottom)||0)-2?B:G,$.half,$,M)},justify:function(H,$,G,B){var M;return B[0]+(H.half?-1:1)*(G+(((M=$.dataLabelPosition)==null?void 0:M.distance)||0))},alignToPlotEdges:function(H,$,G,B){let M=H.getBBox().width;return $?M+B:G-M-B},alignToConnectors:function(H,$,G,B){let M=0,D;return H.forEach(function(V){(D=V.dataLabel.getBBox().width)>M&&(M=D)}),$?M+B:G-M-B}};function L(H,$){let{center:G,options:B}=this,M=G[2]/2,D=H.angle||0,V=Math.cos(D),F=Math.sin(D),z=G[0]+V*M,W=G[1]+F*M,q=Math.min((B.slicedOffset||0)+(B.borderWidth||0),$/5);return{natural:{x:z+V*$,y:W+F*$},computed:{},alignment:$<0?"center":H.half?"right":"left",connectorPosition:{breakAt:{x:z+V*q,y:W+F*q},touchingSliceAt:{x:z,y:W}},distance:$}}function O(){var Te;let H=this,$=H.points,G=H.chart,B=G.plotWidth,M=G.plotHeight,D=G.plotLeft,V=Math.round(G.chartWidth/3),F=H.center,z=F[2]/2,W=F[1],q=[[],[]],ee=[0,0,0,0],ue=H.dataLabelPositioners,ie,oe,Ee,me=0;H.visible&&((Te=H.hasDataLabels)!=null&&Te.call(H))&&($.forEach(K=>{(K.dataLabels||[]).forEach(J=>{J.shortened&&(J.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),J.shortened=!1)})}),_.prototype.drawDataLabels.apply(H),$.forEach(K=>{(K.dataLabels||[]).forEach((J,se)=>{var ce;let xe=F[2]/2,Q=J.options,ae=w((Q==null?void 0:Q.distance)||0,xe);se===0&&q[K.half].push(K),!E((ce=Q==null?void 0:Q.style)==null?void 0:ce.width)&&J.getBBox().width>V&&(J.css({width:Math.round(.7*V)+"px"}),J.shortened=!0),J.dataLabelPosition=this.getDataLabelPosition(K,ae),me=Math.max(me,ae)})}),q.forEach((K,J)=>{let se=K.length,xe=[],Q,ae,ce=0,ge;se&&(H.sortByAngle(K,J-.5),me>0&&(Q=Math.max(0,W-z-me),ae=Math.min(W+z+me,G.plotHeight),K.forEach(be=>{(be.dataLabels||[]).forEach(Le=>{var Ne;let _e=Le.dataLabelPosition;_e&&_e.distance>0&&(_e.top=Math.max(0,W-z-_e.distance),_e.bottom=Math.min(W+z+_e.distance,G.plotHeight),ce=Le.getBBox().height||21,Le.lineHeight=G.renderer.fontMetrics(Le.text||Le).h+2*Le.padding,be.distributeBox={target:(((Ne=Le.dataLabelPosition)==null?void 0:Ne.natural.y)||0)-_e.top+Le.lineHeight/2,size:ce,rank:be.y},xe.push(be.distributeBox))})}),g(xe,ge=ae+ce-Q,ge/5)),K.forEach(be=>{(be.dataLabels||[]).forEach(Le=>{let _e=Le.options||{},Ne=be.distributeBox,$e=Le.dataLabelPosition,Ye=($e==null?void 0:$e.natural.y)||0,Xe=_e.connectorPadding||0,De=Le.lineHeight||21,we=(De-Le.getBBox().height)/2,ke=0,ze=Ye,Me="inherit";if($e){if(E(Ne)&&$e.distance>0&&(Ne.pos===void 0?Me="hidden":(Ee=Ne.size,ze=ue.radialDistributionY(be,Le))),_e.justify)ke=ue.justify(be,Le,z,F);else switch(_e.alignTo){case"connectors":ke=ue.alignToConnectors(K,J,B,D);break;case"plotEdges":ke=ue.alignToPlotEdges(Le,J,B,D);break;default:ke=ue.radialDistributionX(H,be,ze-we,Ye,Le)}if($e.attribs={visibility:Me,align:$e.alignment},$e.posAttribs={x:ke+(_e.x||0)+({left:Xe,right:-Xe}[$e.alignment]||0),y:ze+(_e.y||0)-De/2},$e.computed.x=ke,$e.computed.y=ze-we,k(_e.crop,!0)){let je;ke-(oe=Le.getBBox().width)<Xe&&J===1?(je=Math.round(oe-ke+Xe),ee[3]=Math.max(je,ee[3])):ke+oe>B-Xe&&J===0&&(je=Math.round(ke+oe-B+Xe),ee[1]=Math.max(je,ee[1])),ze-Ee/2<0?ee[0]=Math.max(Math.round(-ze+Ee/2),ee[0]):ze+Ee/2>M&&(ee[2]=Math.max(Math.round(ze+Ee/2-M),ee[2])),$e.sideOverflow=je}}})}))}),(x(ee)===0||this.verifyDataLabelOverflow(ee))&&(this.placeDataLabels(),this.points.forEach(K=>{(K.dataLabels||[]).forEach(J=>{var ae;let{connectorColor:se,connectorWidth:xe=1}=J.options||{},Q=J.dataLabelPosition;if(xe){let ce;ie=J.connector,Q&&Q.distance>0?(ce=!ie,ie||(J.connector=ie=G.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+K.colorIndex+(K.className?" "+K.className:"")).add(H.dataLabelsGroup)),G.styledMode||ie.attr({"stroke-width":xe,stroke:se||K.color||"#666666"}),ie[ce?"attr":"animate"]({d:K.getConnectorPath(J)}),ie.attr({visibility:(ae=Q.attribs)==null?void 0:ae.visibility})):ie&&(J.connector=ie.destroy())}})})))}function Y(){this.points.forEach(H=>{(H.dataLabels||[]).forEach($=>{var B;let G=$.dataLabelPosition;G?(G.sideOverflow&&($.css({width:Math.max($.getBBox().width-G.sideOverflow,0)+"px",textOverflow:(((B=$.options)==null?void 0:B.style)||{}).textOverflow||"ellipsis"}),$.shortened=!0),$.attr(G.attribs),$[$.moved?"animate":"attr"](G.posAttribs),$.moved=!0):$&&$.attr({y:-9999})}),delete H.distributeBox},this)}function X(H){let $=this.center,G=this.options,B=G.center,M=G.minSize||80,D=M,V=G.size!==null;return!V&&(B[0]!==null?D=Math.max($[2]-Math.max(H[1],H[3]),M):(D=Math.max($[2]-H[1]-H[3],M),$[0]+=(H[3]-H[1])/2),B[1]!==null?D=T(D,M,$[2]-Math.max(H[0],H[2])):(D=T(D,M,$[2]-H[0]-H[2]),$[1]+=(H[0]-H[2])/2),D<$[2]?($[2]=D,$[3]=Math.min(G.thickness?Math.max(0,D-2*G.thickness):Math.max(0,w(G.innerSize||0,D)),D),this.translate($),this.drawDataLabels&&this.drawDataLabels()):V=!0),V}N.compose=function(H){if(r.compose(_),v(m,"PieDataLabel")){let $=H.prototype;$.dataLabelPositioners=S,$.alignDataLabel=y,$.drawDataLabels=O,$.getDataLabelPosition=L,$.placeDataLabels=Y,$.verifyDataLabelOverflow=X}}}(p||(p={})),p}),i(t,"Core/Geometry/GeometryUtilities.js",[],function(){var r,a;return(a=r||(r={})).getCenterOfPoints=function(o){let s=o.reduce((d,p)=>(d.x+=p.x,d.y+=p.y,d),{x:0,y:0});return{x:s.x/o.length,y:s.y/o.length}},a.getDistanceBetweenPoints=function(o,s){return Math.sqrt(Math.pow(s.x-o.x,2)+Math.pow(s.y-o.y,2))},a.getAngleBetweenPoints=function(o,s){return Math.atan2(s.x-o.x,s.y-o.y)},a.pointInPolygon=function({x:o,y:s},d){let p=d.length,m,y,g=!1;for(m=0,y=p-1;m<p;y=m++){let[_,x]=d[m],[T,E]=d[y];x>s!=E>s&&o<(T-_)*(s-x)/(E-x)+_&&(g=!g)}return g},r}),i(t,"Extensions/OverlappingDataLabels.js",[t["Core/Geometry/GeometryUtilities.js"],t["Core/Utilities.js"]],function(r,a){let{pointInPolygon:o}=r,{addEvent:s,fireEvent:d,objectEach:p,pick:m}=a;function y(x){let T=x.length,E=(Y,X)=>!(X.x>=Y.x+Y.width||X.x+X.width<=Y.x||X.y>=Y.y+Y.height||X.y+X.height<=Y.y),k=(Y,X)=>{for(let H of Y)if(o({x:H[0],y:H[1]},X))return!0;return!1},v,w,N,S,L,O=!1;for(let Y=0;Y<T;Y++)(v=x[Y])&&(v.oldOpacity=v.opacity,v.newOpacity=1,v.absoluteBox=function(X){var H,$;if(X&&(!X.alignAttr||X.placed)){let G=X.box?0:X.padding||0,B=X.alignAttr||{x:X.attr("x"),y:X.attr("y")},M=X.getBBox();return X.width=M.width,X.height=M.height,{x:B.x+(((H=X.parentGroup)==null?void 0:H.translateX)||0)+G,y:B.y+((($=X.parentGroup)==null?void 0:$.translateY)||0)+G,width:(X.width||0)-2*G,height:(X.height||0)-2*G,polygon:M==null?void 0:M.polygon}}}(v));x.sort((Y,X)=>(X.labelrank||0)-(Y.labelrank||0));for(let Y=0;Y<T;++Y){S=(w=x[Y])&&w.absoluteBox;let X=S==null?void 0:S.polygon;for(let H=Y+1;H<T;++H){L=(N=x[H])&&N.absoluteBox;let $=!1;if(S&&L&&w!==N&&w.newOpacity!==0&&N.newOpacity!==0&&w.visibility!=="hidden"&&N.visibility!=="hidden"){let G=L.polygon;if(X&&G&&X!==G?k(X,G)&&($=!0):E(S,L)&&($=!0),$){let B=w.labelrank<N.labelrank?w:N,M=B.text;B.newOpacity=0,M!=null&&M.element.querySelector("textPath")&&M.hide()}}}}for(let Y of x)g(Y,this)&&(O=!0);O&&d(this,"afterHideAllOverlappingLabels")}function g(x,T){let E,k,v=!1;return x&&(k=x.newOpacity,x.oldOpacity!==k&&(x.hasClass("highcharts-data-label")?(x[k?"removeClass":"addClass"]("highcharts-data-label-hidden"),E=function(){T.styledMode||x.css({pointerEvents:k?"auto":"none"})},v=!0,x[x.isOld?"animate":"attr"]({opacity:k},void 0,E),d(T,"afterHideOverlappingLabel")):x.attr({opacity:k})),x.isOld=!0),v}function _(){var E;let x=this,T=[];for(let k of x.labelCollectors||[])T=T.concat(k());for(let k of x.yAxis||[])k.stacking&&k.options.stackLabels&&!k.options.stackLabels.allowOverlap&&p(k.stacking.stacks,v=>{p(v,w=>{w.label&&T.push(w.label)})});for(let k of x.series||[])if(k.visible&&((E=k.hasDataLabels)!=null&&E.call(k))){let v=w=>{for(let N of w)N.visible&&(N.dataLabels||[]).forEach(S=>{var O;let L=S.options||{};S.labelrank=m(L.labelrank,N.labelrank,(O=N.shapeArgs)==null?void 0:O.height),L.allowOverlap??Number(L.distance)>0?(S.oldOpacity=S.opacity,S.newOpacity=1,g(S,x)):T.push(S)})};v(k.nodes||[]),v(k.points)}this.hideOverlappingLabels(T)}return{compose:function(x){let T=x.prototype;T.hideOverlappingLabels||(T.hideOverlappingLabels=y,s(x,"render",_))}}}),i(t,"Extensions/BorderRadius.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){let{defaultOptions:s}=r,{noop:d}=a,{addEvent:p,extend:m,isObject:y,merge:g,relativeLength:_}=o,x={radius:0,scope:"stack",where:void 0},T=d,E=d;function k(L,O,Y,X,H={}){let $=T(L,O,Y,X,H),{innerR:G=0,r:B=Y,start:M=0,end:D=0}=H;if(H.open||!H.borderRadius)return $;let V=D-M,F=Math.sin(V/2),z=Math.max(Math.min(_(H.borderRadius||0,B-G),(B-G)/2,B*F/(1+F)),0),W=Math.min(z,V/Math.PI*2*G),q=$.length-1;for(;q--;)(function(ee,ue,ie){let oe,Ee,me,Te=ee[ue],K=ee[ue+1];if(K[0]==="Z"&&(K=ee[0]),(Te[0]==="M"||Te[0]==="L")&&K[0]==="A"?(oe=Te,Ee=K,me=!0):Te[0]==="A"&&(K[0]==="M"||K[0]==="L")&&(oe=K,Ee=Te),oe&&Ee&&Ee.params){let J=Ee[1],se=Ee[5],xe=Ee.params,{start:Q,end:ae,cx:ce,cy:ge}=xe,be=se?J-ie:J+ie,Le=be?Math.asin(ie/be):0,_e=se?Le:-Le,Ne=Math.cos(Le)*be;me?(xe.start=Q+_e,oe[1]=ce+Ne*Math.cos(Q),oe[2]=ge+Ne*Math.sin(Q),ee.splice(ue+1,0,["A",ie,ie,0,0,1,ce+J*Math.cos(xe.start),ge+J*Math.sin(xe.start)])):(xe.end=ae-_e,Ee[6]=ce+J*Math.cos(xe.end),Ee[7]=ge+J*Math.sin(xe.end),ee.splice(ue+1,0,["A",ie,ie,0,0,1,ce+Ne*Math.cos(ae),ge+Ne*Math.sin(ae)])),Ee[4]=Math.abs(xe.end-xe.start)<Math.PI?0:1}})($,q,q>1?W:z);return $}function v(){var L,O;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:Y,yAxis:X}=this,H=Y.stacking==="percent",$=(O=(L=s.plotOptions)==null?void 0:L[this.type])==null?void 0:O.borderRadius,G=w(Y.borderRadius,y($)?$:{}),B=X.options.reversed;for(let M of this.points){let{shapeArgs:D}=M;if(M.shapeType==="roundedRect"&&D){let{width:V=0,height:F=0,y:z=0}=D,W=z,q=F;if(G.scope==="stack"&&M.stackTotal){let oe=X.translate(H?100:M.stackTotal,!1,!0,!1,!0),Ee=X.translate(Y.threshold||0,!1,!0,!1,!0),me=this.crispCol(0,Math.min(oe,Ee),0,Math.abs(oe-Ee));W=me.y,q=me.height}let ee=(M.negative?-1:1)*(B?-1:1)==-1,ue=G.where;!ue&&this.is("waterfall")&&Math.abs((M.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(ue="all"),ue||(ue="end");let ie=Math.min(_(G.radius,V),V/2,ue==="all"?F/2:1/0)||0;ue==="end"&&(ee&&(W-=ie),q+=ie),m(D,{brBoxHeight:q,brBoxY:W,r:ie})}}}}function w(L,O){return y(L)||(L={radius:L||0}),g(x,O,L)}function N(){let L=w(this.options.borderRadius);for(let O of this.points){let Y=O.shapeArgs;Y&&(Y.borderRadius=_(L.radius,(Y.r||0)-(Y.innerR||0)))}}function S(L,O,Y,X,H={}){let $=E(L,O,Y,X,H),{r:G=0,brBoxHeight:B=X,brBoxY:M=O}=H,D=O-M,V=M+B-(O+X),F=D-G>-.1?0:G,z=V-G>-.1?0:G,W=Math.max(F&&D,0),q=Math.max(z&&V,0),ee=[L+F,O],ue=[L+Y-F,O],ie=[L+Y,O+F],oe=[L+Y,O+X-z],Ee=[L+Y-z,O+X],me=[L+z,O+X],Te=[L,O+X-z],K=[L,O+F],J=(se,xe)=>Math.sqrt(Math.pow(se,2)-Math.pow(xe,2));if(W){let se=J(F,F-W);ee[0]-=se,ue[0]+=se,ie[1]=K[1]=O+F-W}if(X<F-W){let se=J(F,F-W-X);ie[0]=oe[0]=L+Y-F+se,Ee[0]=Math.min(ie[0],Ee[0]),me[0]=Math.max(oe[0],me[0]),Te[0]=K[0]=L+F-se,ie[1]=K[1]=O+X}if(q){let se=J(z,z-q);Ee[0]+=se,me[0]-=se,oe[1]=Te[1]=O+X-z+q}if(X<z-q){let se=J(z,z-q-X);ie[0]=oe[0]=L+Y-z+se,ue[0]=Math.min(ie[0],ue[0]),ee[0]=Math.max(oe[0],ee[0]),Te[0]=K[0]=L+z-se,oe[1]=Te[1]=O}return $.length=0,$.push(["M",...ee],["L",...ue],["A",F,F,0,0,1,...ie],["L",...oe],["A",z,z,0,0,1,...Ee],["L",...me],["A",z,z,0,0,1,...Te],["L",...K],["A",F,F,0,0,1,...ee],["Z"]),$}return{compose:function(L,O,Y){let X=L.types.pie;if(!O.symbolCustomAttribs.includes("borderRadius")){let H=Y.prototype.symbols;p(L,"afterColumnTranslate",v,{order:9}),p(X,"afterTranslate",N),O.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),T=H.arc,E=H.roundedRect,H.arc=k,H.roundedRect=S}},optionsToObject:w}}),i(t,"Core/Responsive.js",[t["Core/Utilities.js"]],function(r){var a;let{diffObjects:o,extend:s,find:d,merge:p,pick:m,uniqueKey:y}=r;return function(g){function _(T,E){let k=T.condition;(k.callback||function(){return this.chartWidth<=m(k.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=m(k.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=m(k.minWidth,0)&&this.chartHeight>=m(k.minHeight,0)}).call(this)&&E.push(T._id)}function x(T,E){let k=this.options.responsive,v=this.currentResponsive,w=[],N;!E&&k&&k.rules&&k.rules.forEach(O=>{O._id===void 0&&(O._id=y()),this.matchResponsiveRule(O,w)},this);let S=p(...w.map(O=>d((k||{}).rules||[],Y=>Y._id===O)).map(O=>O&&O.chartOptions));S.isResponsiveOptions=!0,w=w.toString()||void 0;let L=v&&v.ruleIds;w===L||(v&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(v.undoOptions,T,!0),this.updatingResponsive=!1),w?((N=o(S,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:w,mergedOptions:S,undoOptions:N},this.updatingResponsive||this.update(S,T,!0)):this.currentResponsive=void 0)}g.compose=function(T){let E=T.prototype;return E.matchResponsiveRule||s(E,{matchResponsiveRule:_,setResponsive:x}),T}}(a||(a={})),a}),i(t,"masters/highcharts.src.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Core/Defaults.js"],t["Core/Animation/Fx.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Renderer/HTML/AST.js"],t["Core/Templating.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Renderer/HTML/HTMLElement.js"],t["Core/Axis/Axis.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Axis/LogarithmicAxis.js"],t["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],t["Core/Axis/Tick.js"],t["Core/Tooltip.js"],t["Core/Series/Point.js"],t["Core/Pointer.js"],t["Core/Legend/Legend.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Chart/Chart.js"],t["Extensions/ScrollablePlotArea.js"],t["Core/Axis/Stacking/StackingAxis.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Column/ColumnDataLabel.js"],t["Series/Pie/PieDataLabel.js"],t["Core/Series/DataLabel.js"],t["Extensions/OverlappingDataLabels.js"],t["Extensions/BorderRadius.js"],t["Core/Responsive.js"],t["Core/Color/Color.js"],t["Core/Time.js"]],function(r,a,o,s,d,p,m,y,g,_,x,T,E,k,v,w,N,S,L,O,Y,X,H,$,G,B,M,D,V,F,z,W,q,ee,ue,ie){return r.AST=p,r.Axis=E,r.Chart=H,r.Color=ue,r.DataLabel=z,r.Fx=s,r.HTMLElement=T,r.Legend=Y,r.LegendSymbol=X,r.OverlappingDataLabels=r.OverlappingDataLabels||W,r.PlotLineOrBand=w,r.Point=L,r.Pointer=O,r.RendererRegistry=y,r.Series=M,r.SeriesRegistry=D,r.StackItem=B,r.SVGElement=_,r.SVGRenderer=x,r.Templating=m,r.Tick=N,r.Time=ie,r.Tooltip=S,r.animate=d.animate,r.animObject=d.animObject,r.chart=H.chart,r.color=ue.parse,r.dateFormat=m.dateFormat,r.defaultOptions=o.defaultOptions,r.distribute=g.distribute,r.format=m.format,r.getDeferredAnimation=d.getDeferredAnimation,r.getOptions=o.getOptions,r.numberFormat=m.numberFormat,r.seriesType=D.seriesType,r.setAnimation=d.setAnimation,r.setOptions=o.setOptions,r.stop=d.stop,r.time=o.defaultTime,r.timers=s.timers,q.compose(r.Series,r.SVGElement,r.SVGRenderer),V.compose(r.Series.types.column),z.compose(r.Series),k.compose(r.Axis),T.compose(r.SVGRenderer),Y.compose(r.Chart),v.compose(r.Axis),W.compose(r.Chart),F.compose(r.Series.types.pie),w.compose(r.Chart,r.Axis),O.compose(r.Chart),ee.compose(r.Chart),$.compose(r.Axis,r.Chart,r.Series),G.compose(r.Axis,r.Chart,r.Series),S.compose(r.Pointer),a.extend(r,a),r}),t["masters/highcharts.src.js"]._modules=t,t["masters/highcharts.src.js"]})})(GA);var e5=GA.exports;const zp=rc(e5);var YA={exports:{}};(function(n){(function(e){n.exports?(e.default=e,n.exports=e):e(typeof Highcharts<"u"?Highcharts:void 0)})(function(e){var t=e?e._modules:{};function i(r,a,o,s){r.hasOwnProperty(a)||(r[a]=s.apply(null,o),typeof CustomEvent=="function"&&e.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:a,module:r[a]}})))}i(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{doc:o,win:s}=r,{css:d}=a,p=s.EventTarget&&new s.EventTarget||"none";function m(g){if(typeof s.MouseEvent=="function")return new s.MouseEvent(g.type,g);if(o.createEvent){let _=o.createEvent("MouseEvent");if(_.initMouseEvent)return _.initMouseEvent(g.type,g.bubbles,g.cancelable,g.view||s,g.detail,g.screenX,g.screenY,g.clientX,g.clientY,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.button,g.relatedTarget),_}return y(g.type)}function y(g,_,x){let T=_||{x:0,y:0};if(typeof s.MouseEvent=="function")return new s.MouseEvent(g,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:x||p,view:s,detail:g==="click"?1:0,screenX:T.x,screenY:T.y,clientX:T.x,clientY:T.y});if(o.createEvent){let E=o.createEvent("MouseEvent");if(E.initMouseEvent)return E.initMouseEvent(g,!0,!0,s,g==="click"?1:0,T.x,T.y,T.x,T.y,!1,!1,!1,!1,0,null),E}return{type:g}}return{addClass:function(g,_){g.classList?g.classList.add(_):0>g.className.indexOf(_)&&(g.className+=" "+_)},cloneMouseEvent:m,cloneTouchEvent:function(g){let _=T=>{let E=[];for(let k=0;k<T.length;++k){let v=T.item(k);v&&E.push(v)}return E};if(typeof s.TouchEvent=="function"){let T=new s.TouchEvent(g.type,{touches:_(g.touches),targetTouches:_(g.targetTouches),changedTouches:_(g.changedTouches),ctrlKey:g.ctrlKey,shiftKey:g.shiftKey,altKey:g.altKey,metaKey:g.metaKey,bubbles:g.bubbles,cancelable:g.cancelable,composed:g.composed,detail:g.detail,view:g.view});return g.defaultPrevented&&T.preventDefault(),T}let x=m(g);return x.touches=g.touches,x.changedTouches=g.changedTouches,x.targetTouches=g.targetTouches,x},escapeStringForHTML:function(g){return g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(g){return o.getElementById(g)},getFakeMouseEvent:y,getHeadingTagNameForElement:function(g){let _=k=>"h"+Math.min(6,parseInt(k.slice(1),10)+1),x=k=>/^H[1-6]$/i.test(k),T=k=>{let v=k;for(;v=v.previousSibling;){let w=v.tagName||"";if(x(w))return w}return""},E=k=>{let v=T(k);if(v)return _(v);let w=k.parentElement;if(!w)return"p";let N=w.tagName;return x(N)?_(N):E(w)};return E(g)},removeChildNodes:function(g){for(;g.lastChild;)g.removeChild(g.lastChild)},removeClass:function(g,_){g.classList?g.classList.remove(_):g.className=g.className.replace(RegExp(_,"g"),"")},removeElement:function(g){g&&g.parentNode&&g.parentNode.removeChild(g)},reverseChildNodes:function(g){let _=g.childNodes.length;for(;_--;)g.appendChild(g.childNodes[_])},simulatedEventTarget:p,stripHTMLTagsFromString:function(g,_=!1){return typeof g=="string"?_?g.replace(/<\/?[^>]+(>|$)/g,""):g.replace(/<\/?(?!\s)[^>]+(>|$)/g,""):g},visuallyHideElement:function(g){d(g,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),i(t,"Accessibility/A11yI18n.js",[t["Core/Templating.js"],t["Core/Utilities.js"]],function(r,a){var o;let{format:s}=r,{getNestedProperty:d,pick:p}=a;return function(m){function y(_,x,T){let E=(S,L)=>{let O=S.slice(L||0),Y=O.indexOf("{"),X=O.indexOf("}");if(Y>-1&&X>Y)return{statement:O.substring(Y+1,X),begin:L+Y+1,end:L+X}},k=[],v,w,N=0;do v=E(_,N),(w=_.substring(N,v&&v.begin-1)).length&&k.push({value:w,type:"constant"}),v&&k.push({value:v.statement,type:"statement"}),N=v?v.end+1:N+1;while(v);return k.forEach(S=>{S.type==="statement"&&(S.value=function(L,O){let Y,X,H=L.indexOf("#each("),$=L.indexOf("#plural("),G=L.indexOf("["),B=L.indexOf("]");if(H>-1){let D=L.slice(H).indexOf(")")+H,V=L.substring(0,H),F=L.substring(D+1),z=L.substring(H+6,D).split(","),W=Number(z[1]),q;if(X="",Y=d(z[0],O)){q=(W=isNaN(W)?Y.length:W)<0?Y.length+W:Math.min(W,Y.length);for(let ee=0;ee<q;++ee)X+=V+Y[ee]+F}return X.length?X:""}if($>-1){var M;let D=L.slice($).indexOf(")")+$,V=L.substring($+8,D).split(",");switch(Number(d(V[0],O))){case 0:X=p(V[4],V[1]);break;case 1:X=p(V[2],V[1]);break;case 2:X=p(V[3],V[1]);break;default:X=V[1]}return X?(M=X).trim&&M.trim()||M.replace(/^\s+|\s+$/g,""):""}if(G>-1){let D,V=L.substring(0,G),F=Number(L.substring(G+1,B));return Y=d(V,O),!isNaN(F)&&Y&&(F<0?(D=Y[Y.length+F])===void 0&&(D=Y[0]):(D=Y[F])===void 0&&(D=Y[Y.length-1])),D!==void 0?D:""}return"{"+L+"}"}(S.value,x))}),s(k.reduce((S,L)=>S+L.value,""),x,T)}function g(_,x){let T=_.split("."),E=this.options.lang,k=0;for(;k<T.length;++k)E=E&&E[T[k]];return typeof E=="string"?y(E,x,this):""}m.compose=function(_){let x=_.prototype;x.langFormat||(x.langFormat=g)},m.i18nFormat=y}(o||(o={})),o}),i(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,a,o){let{doc:s}=r,{stripHTMLTagsFromString:d}=a,{defined:p,find:m,fireEvent:y}=o;function g(x){if(x.points&&x.points.length){let T=m(x.points,E=>!!E.graphic);return T&&T.graphic&&T.graphic.element}}function _(x){let T=g(x);return T&&T.parentNode||x.graph&&x.graph.element||x.group&&x.group.element}return{fireEventOnWrappedOrUnwrappedElement:function x(T,E){let k=E.type,v=T.hcEvents;s.createEvent&&(T.dispatchEvent||T.fireEvent)?T.dispatchEvent?T.dispatchEvent(E):T.fireEvent(k,E):v&&v[k]?y(T,k,E):T.element&&x(T.element,E)},getChartTitle:function(x){return d(x.options.title.text||x.langFormat("accessibility.defaultChartTitle",{chart:x}),x.renderer.forExport)},getAxisDescription:function(x){var T,E;return x&&(((T=x.options.accessibility)==null?void 0:T.description)||((E=x.axisTitle)==null?void 0:E.textStr)||x.options.id||x.categories&&"categories"||x.dateTime&&"Time"||"values")},getAxisRangeDescription:function(x){let T=x.options||{};return T.accessibility&&T.accessibility.rangeDescription!==void 0?T.accessibility.rangeDescription:x.categories?function(E){let k=E.chart;return E.dataMax&&E.dataMin?k.langFormat("accessibility.axis.rangeCategories",{chart:k,axis:E,numCategories:E.dataMax-E.dataMin+1}):""}(x):x.dateTime&&(x.min===0||x.dataMin===0)?function(E){let k=E.chart,v={},w=E.dataMin||E.min||0,N=E.dataMax||E.max||0,S="Seconds";v.Seconds=(N-w)/1e3,v.Minutes=v.Seconds/60,v.Hours=v.Minutes/60,v.Days=v.Hours/24,["Minutes","Hours","Days"].forEach(function(O){v[O]>2&&(S=O)});let L=v[S].toFixed(S!=="Seconds"&&S!=="Minutes"?1:0);return k.langFormat("accessibility.axis.timeRange"+S,{chart:k,axis:E,range:L.replace(".0","")})}(x):function(E){let k=E.chart,v=k.options,w=v&&v.accessibility&&v.accessibility.screenReaderSection.axisRangeDateFormat||"",N={min:E.dataMin||E.min||0,max:E.dataMax||E.max||0},S=function(L){return E.dateTime?k.time.dateFormat(w,N[L]):N[L].toString()};return k.langFormat("accessibility.axis.rangeFromTo",{chart:k,axis:E,rangeFrom:S("min"),rangeTo:S("max")})}(x)},getPointFromXY:function(x,T,E){let k=x.length,v;for(;k--;)if(v=m(x[k].points||[],function(w){return w.x===T&&w.y===E}))return v},getSeriesFirstPointElement:g,getSeriesFromName:function(x,T){return T?(x.series||[]).filter(function(E){return E.name===T}):x.series},getSeriesA11yElement:_,unhideChartElementFromAT:function x(T,E){E.setAttribute("aria-hidden",!1),E!==T.renderTo&&E.parentNode&&E.parentNode!==s.body&&(Array.prototype.forEach.call(E.parentNode.childNodes,function(k){k.hasAttribute("aria-hidden")||k.setAttribute("aria-hidden",!0)}),x(T,E.parentNode))},hideSeriesFromAT:function(x){let T=_(x);T&&T.setAttribute("aria-hidden",!0)},scrollAxisToPoint:function(x){let T=x.series.xAxis,E=x.series.yAxis,k=T&&T.scrollbar?T:E,v=k&&k.scrollbar;if(v&&p(v.to)&&p(v.from)){let w=v.to-v.from,N=function(S,L){if(!p(S.dataMin)||!p(S.dataMax))return 0;let O=S.toPixels(S.dataMin),Y=S.toPixels(S.dataMax),X=S.coll==="xAxis"?"x":"y";return(S.toPixels(L[X]||0)-O)/(Y-O)}(k,x);v.updatePosition(N-w/2,N+w/2),y(v,"changed",{from:v.from,to:v.to,trigger:"scrollbar",DOMEvent:null})}}}}),i(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a){let{doc:o}=r,{removeElement:s}=a;return class{constructor(){this.elements=[]}createElement(){let d=o.createElement.apply(o,arguments);return this.elements.push(d),d}removeElement(d){s(d),this.elements.splice(this.elements.indexOf(d),1)}destroyCreatedElements(){this.elements.forEach(function(d){s(d)}),this.elements=[]}}}),i(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{addEvent:o}=a;return class{constructor(){this.eventRemovers=[]}addEvent(){let s=o.apply(r,arguments);return this.eventRemovers.push({element:arguments[0],remover:s}),s}removeEvent(s){let d=this.eventRemovers.map(p=>p.remover).indexOf(s);this.eventRemovers[d].remover(),this.eventRemovers.splice(d,1)}removeAddedEvents(){this.eventRemovers.map(s=>s.remover).forEach(s=>s()),this.eventRemovers=[]}}}),i(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a,o,s){let{fireEventOnWrappedOrUnwrappedElement:d}=r,{getFakeMouseEvent:p}=s;return class{destroy(){}getKeyboardNavigation(){return[]}init(){}onChartRender(){}onChartUpdate(){}initBase(m,y){this.chart=m,this.eventProvider=new o,this.domElementProvider=new a,this.proxyProvider=y,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(m,y,g,_){return this.eventProvider.addEvent(m,y,g,_)}createElement(m,y){return this.domElementProvider.createElement(m,y)}fakeClickEvent(m){d(m,p("click"))}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}}),i(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(r){let{find:a}=r;return class{constructor(o,s){this.chart=o,this.keyCodeMap=s.keyCodeMap||[],this.validate=s.validate,this.init=s.init,this.terminate=s.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(o){let s=o.which||o.keyCode,d=this.response.noHandler,p=a(this.keyCodeMap,function(m){return m[0].indexOf(s)>-1});return p?d=p[1].call(this,s,o):s===9&&(d=this.response[o.shiftKey?"prev":"next"]),d}}}),i(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a,o,s,d){let{unhideChartElementFromAT:p,getChartTitle:m}=o,{doc:y}=s,{stripHTMLTagsFromString:g}=d;return class extends r{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){let _=this.chart,x="highcharts-title-"+_.index,T=g(_.langFormat("accessibility.svgContainerTitle",{chartTitle:m(_)}));if(T.length){let E=this.svgTitleElement=this.svgTitleElement||y.createElementNS("http://www.w3.org/2000/svg","title");E.textContent=T,E.id=x,_.renderTo.insertBefore(E,_.renderTo.firstChild)}}setSVGContainerLabel(){let _=this.chart,x=_.langFormat("accessibility.svgContainerLabel",{chartTitle:m(_)});_.renderer.box&&x.length&&_.renderer.box.setAttribute("aria-label",x)}setGraphicContainerAttrs(){let _=this.chart,x=_.langFormat("accessibility.graphicContainerLabel",{chartTitle:m(_)});x.length&&_.container.setAttribute("aria-label",x)}setRenderToAttrs(){let _=this.chart,x=_.options.accessibility.landmarkVerbosity!=="disabled",T=_.langFormat("accessibility.chartContainerLabel",{title:m(_),chart:_});T&&(_.renderTo.setAttribute("role",x?"region":"group"),_.renderTo.setAttribute("aria-label",T))}makeCreditsAccessible(){let _=this.chart,x=_.credits;x&&(x.textStr&&x.element.setAttribute("aria-label",_.langFormat("accessibility.credits",{creditsStr:g(x.textStr,_.renderer.forExport)})),p(_,x.element))}getKeyboardNavigation(){let _=this.chart;return new a(_,{keyCodeMap:[],validate:function(){return!0},init:function(){let x=_.accessibility;x&&x.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}}),i(t,"Accessibility/FocusBorder.js",[t["Core/Utilities.js"]],function(r){var a;let{addEvent:o,pick:s}=r;return function(d){let p=["x","y","transform","width","height","r","d","stroke-width"];function m(){let x=this.focusElement,T=this.options.accessibility.keyboardNavigation.focusBorder;x&&(x.removeFocusBorder(),T.enabled&&x.addFocusBorder(T.margin,{stroke:T.style.color,strokeWidth:T.style.lineWidth,r:T.style.borderRadius}))}function y(x,T){let E=this.options.accessibility.keyboardNavigation.focusBorder,k=T||x.element;k&&k.focus&&(k.hcEvents&&k.hcEvents.focusin||o(k,"focusin",function(){}),k.focus(),E.hideBrowserFocusOutline&&(k.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=x,this.renderFocusBorder()}function g(x,T){this.focusBorder&&this.removeFocusBorder();let E=this.getBBox(),k=s(x,3),v=this.parentGroup,w=this.scaleX||v&&v.scaleX,N=this.scaleY||v&&v.scaleY,S=(w?!N:N)?Math.abs(w||N||1):(Math.abs(w||1)+Math.abs(N||1))/2;E.x+=this.translateX?this.translateX:0,E.y+=this.translateY?this.translateY:0;let L=E.x-k,O=E.y-k,Y=E.width+2*k,X=E.height+2*k,H=!!this.text;if(this.element.nodeName==="text"||H){let $,G,B=!!this.rotation,M=H?{x:B?1:0,y:0}:($=0,G=0,this.attr("text-anchor")==="middle"?$=G=.5:this.rotation?$=.25:G=.75,{x:$,y:G}),D=+this.attr("x"),V=+this.attr("y");if(isNaN(D)||(L=D-E.width*M.x-k),isNaN(V)||(O=V-E.height*M.y-k),H&&B){let F=Y;Y=X,X=F,isNaN(D)||(L=D-E.height*M.x-k),isNaN(V)||(O=V-E.width*M.y-k)}}this.focusBorder=this.renderer.rect(L,O,Y,X,parseInt((T&&T.r||0).toString(),10)/S).addClass("highcharts-focus-border").attr({zIndex:99}).add(v),this.renderer.styledMode||this.focusBorder.attr({stroke:T&&T.stroke,"stroke-width":(T&&T.strokeWidth||0)/S}),function($,...G){$.focusBorderUpdateHooks||($.focusBorderUpdateHooks={},p.forEach(B=>{let M=B+"Setter",D=$[M]||$._defaultSetter;$.focusBorderUpdateHooks[M]=D,$[M]=function(){let V=D.apply($,arguments);return $.addFocusBorder.apply($,G),V}}))}(this,x,T),function($){if($.focusBorderDestroyHook)return;let G=$.destroy;$.destroy=function(){return $.focusBorder&&$.focusBorder.destroy&&$.focusBorder.destroy(),G.apply($,arguments)},$.focusBorderDestroyHook=G}(this)}function _(){var x;x=this,x.focusBorderUpdateHooks&&(Object.keys(x.focusBorderUpdateHooks).forEach(T=>{let E=x.focusBorderUpdateHooks[T];E===x._defaultSetter?delete x[T]:x[T]=E}),delete x.focusBorderUpdateHooks),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}d.compose=function(x,T){let E=x.prototype,k=T.prototype;E.renderFocusBorder||(E.renderFocusBorder=m,E.setFocusToElement=y),k.addFocusBorder||(k.addFocusBorder=g,k.removeFocusBorder=_)}}(a||(a={})),a}),i(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,a,o,s,d){let{doc:p}=o,{addClass:m,visuallyHideElement:y}=s,{attr:g}=d;return class{constructor(_,x){this.chart=_,this.domElementProvider=new a,this.announceRegion=this.addAnnounceRegion(x)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(_){r.setElementHTML(this.announceRegion,_),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=r.emptyHTML,delete this.clearAnnouncementRegionTimer},3e3)}addAnnounceRegion(_){let x=this.chart.announcerContainer||this.createAnnouncerContainer(),T=this.domElementProvider.createElement("div");return g(T,{"aria-hidden":!1,"aria-live":_,"aria-atomic":!0}),this.chart.styledMode?m(T,"highcharts-visually-hidden"):y(T),x.appendChild(T),T}createAnnouncerContainer(){let _=this.chart,x=p.createElement("div");return g(x,{"aria-hidden":!1,class:"highcharts-announcer-container"}),x.style.position="relative",_.renderTo.insertBefore(x,_.renderTo.firstChild),_.announcerContainer=x,x}}}),i(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(r){let{escapeStringForHTML:a,stripHTMLTagsFromString:o}=r;function s(y){return(y.annotations||[]).reduce((g,_)=>(_.options&&_.options.visible!==!1&&(g=g.concat(_.labels)),g),[])}function d(y){return y.options&&y.options.accessibility&&y.options.accessibility.description||y.graphic&&y.graphic.text&&y.graphic.text.textStr||""}function p(y){let g=y.options&&y.options.accessibility&&y.options.accessibility.description;if(g)return g;let _=y.chart,x=d(y),T=y.points,E=S=>S.graphic&&S.graphic.element&&S.graphic.element.getAttribute("aria-label")||"",k=T.filter(S=>!!S.graphic).map(S=>{let L=S.accessibility&&S.accessibility.valueDescription||E(S),O=S&&S.series.name||"";return(O?O+", ":"")+"data point "+L}).filter(S=>!!S),v=k.length,w=v>1?"MultiplePoints":v?"SinglePoint":"NoPoints",N={annotationText:x,annotation:y,numPoints:v,annotationPoint:k[0],additionalAnnotationPoints:k.slice(1)};return _.langFormat("accessibility.screenReaderSection.annotations.description"+w,N)}function m(y){return s(y).map(g=>{let _=a(o(p(g),y.renderer.forExport));return _?`<li>${_}</li>`:""})}return{getAnnotationsInfoHTML:function(y){let g=y.annotations;return g&&g.length?`<ul style="list-style-type: none">${m(y).join(" ")}</ul>`:""},getAnnotationLabelDescription:p,getAnnotationListItems:m,getPointAnnotationTexts:function(y){let g=s(y.series.chart).filter(_=>_.points.indexOf(y)>-1);return g.length?g.map(_=>`${d(_)}`):[]}}}),i(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,a,o,s,d,p,m,y,g,_){let{getAnnotationsInfoHTML:x}=s,{getAxisDescription:T,getAxisRangeDescription:E,getChartTitle:k,unhideChartElementFromAT:v}=p,{format:w}=m,{doc:N}=y,{addClass:S,getElement:L,getHeadingTagNameForElement:O,stripHTMLTagsFromString:Y,visuallyHideElement:X}=g,{attr:H,pick:$,replaceNested:G}=_;function B(M){return G(M,[/<([\w\-.:!]+)\b[^<>]*>\s*<\/\1>/g,""])}return class extends a{constructor(){super(...arguments),this.screenReaderSections={}}init(){let M=this.chart,D=this;this.initRegionsDefinitions(),this.addEvent(M,"aftergetTableAST",function(V){D.onDataTableCreated(V)}),this.addEvent(M,"afterViewData",function(V){V.wasHidden&&(D.dataTableDiv=V.element,setTimeout(function(){D.focusDataTable()},300))}),this.addEvent(M,"afterHideData",function(){D.viewDataTableButton&&D.viewDataTableButton.setAttribute("aria-expanded","false")}),M.exporting&&this.addEvent(M,"afterPrint",function(){D.updateAllScreenReaderSections()}),this.announcer=new o(M,"assertive")}initRegionsDefinitions(){let M=this,D=this.chart.options.accessibility;this.screenReaderSections={before:{element:null,buildContent:function(V){let F=D.screenReaderSection.beforeChartFormatter;return F?F(V):M.defaultBeforeChartFormatter(V)},insertIntoDOM:function(V,F){F.renderTo.insertBefore(V,F.renderTo.firstChild)},afterInserted:function(){M.sonifyButtonId!==void 0&&M.initSonifyButton(M.sonifyButtonId),M.dataTableButtonId!==void 0&&M.initDataTableButton(M.dataTableButtonId)}},after:{element:null,buildContent:function(V){let F=D.screenReaderSection.afterChartFormatter;return F?F(V):M.defaultAfterChartFormatter()},insertIntoDOM:function(V,F){F.renderTo.insertBefore(V,F.container.nextSibling)},afterInserted:function(){M.chart.accessibility&&D.keyboardNavigation.enabled&&M.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),this.updateAllScreenReaderSections()}updateAllScreenReaderSections(){let M=this;Object.keys(this.screenReaderSections).forEach(function(D){M.updateScreenReaderSection(D)})}getLinkedDescriptionElement(){let M=this.chart.options.accessibility.linkedDescription;if(!M)return;if(typeof M!="string")return M;let D=w(M,this.chart),V=N.querySelectorAll(D);if(V.length===1)return V[0]}setLinkedDescriptionAttrs(){let M=this.linkedDescriptionElement;M&&(M.setAttribute("aria-hidden","true"),S(M,"highcharts-linked-description"))}updateScreenReaderSection(M){let D=this.chart,V=this.screenReaderSections[M],F=V.buildContent(D),z=V.element=V.element||this.createElement("div"),W=z.firstChild||this.createElement("div");F?(this.setScreenReaderSectionAttribs(z,M),d.setElementHTML(W,F),z.appendChild(W),V.insertIntoDOM(z,D),D.styledMode?S(W,"highcharts-visually-hidden"):X(W),v(D,W),V.afterInserted&&V.afterInserted()):(z.parentNode&&z.parentNode.removeChild(z),V.element=null)}setScreenReaderSectionAttribs(M,D){let V=this.chart,F=V.langFormat("accessibility.screenReaderSection."+D+"RegionLabel",{chart:V,chartTitle:k(V)});H(M,{id:`highcharts-screen-reader-region-${D}-${V.index}`,"aria-label":F||void 0}),M.style.position="relative",F&&M.setAttribute("role",V.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){let M=this.chart,D=M.options.accessibility.screenReaderSection.beforeChartFormat;if(!D)return"";let V=this.getAxesDescription(),F=M.sonify&&M.options.sonification&&M.options.sonification.enabled,z="highcharts-a11y-sonify-data-btn-"+M.index,W="hc-linkto-highcharts-data-table-"+M.index,q=x(M),ee=M.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:M}),ue={headingTagName:O(M.renderTo),chartTitle:k(M),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:V.xAxis,yAxisDescription:V.yAxis,playAsSoundButton:F?this.getSonifyButtonText(z):"",viewTableButton:M.getCSV?this.getDataTableButtonText(W):"",annotationsTitle:q?ee:"",annotationsList:q},ie=r.i18nFormat(D,ue,M);return this.dataTableButtonId=W,this.sonifyButtonId=z,B(ie)}defaultAfterChartFormatter(){let M=this.chart,D=M.options.accessibility.screenReaderSection.afterChartFormat;if(!D)return"";let V={endOfChartMarker:this.getEndOfChartMarkerText()};return B(r.i18nFormat(D,V,M))}getLinkedDescription(){let M=this.linkedDescriptionElement;return Y(M&&M.innerHTML||"",this.chart.renderer.forExport)}getLongdescText(){let M=this.chart.options,D=M.caption,V=D&&D.text,F=this.getLinkedDescription();return M.accessibility.description||F||V||""}getTypeDescriptionText(){let M=this.chart;return M.types?M.options.accessibility.typeDescription||function(D,V){let F=V[0],z=D.series&&D.series[0]||{},W=D.mapView&&D.mapView.geoMap&&D.mapView.geoMap.title,q={numSeries:D.series.length,numPoints:z.points&&z.points.length,chart:D,mapTitle:W};return F?F==="map"||F==="tiledwebmap"?q.mapTitle?D.langFormat("accessibility.chartTypes.mapTypeDescription",q):D.langFormat("accessibility.chartTypes.unknownMap",q):D.types.length>1?D.langFormat("accessibility.chartTypes.combinationChart",q):function(ee,ue,ie){let oe=ue[0],Ee=ee.langFormat("accessibility.seriesTypeDescriptions."+oe,ie),me=ee.series&&ee.series.length<2?"Single":"Multiple";return(ee.langFormat("accessibility.chartTypes."+oe+me,ie)||ee.langFormat("accessibility.chartTypes.default"+me,ie))+(Ee?" "+Ee:"")}(D,V,q):D.langFormat("accessibility.chartTypes.emptyChart",q)}(M,M.types):""}getDataTableButtonText(M){let D=this.chart;return'<button id="'+M+'">'+D.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:D,chartTitle:k(D)})+"</button>"}getSonifyButtonText(M){let D=this.chart;return D.options.sonification&&D.options.sonification.enabled===!1?"":'<button id="'+M+'">'+D.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:D,chartTitle:k(D)})+"</button>"}getSubtitleText(){let M=this.chart.options.subtitle;return Y(M&&M.text||"",this.chart.renderer.forExport)}getEndOfChartMarkerText(){let M=L(`highcharts-end-of-chart-marker-${this.chart.index}`);if(M)return M.outerHTML;let D=this.chart,V=D.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:D});return'<div id="highcharts-end-of-chart-marker-'+D.index+'">'+V+"</div>"}onDataTableCreated(M){let D=this.chart;if(D.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");let V=M.tree.attributes||{};V.tabindex=-1,V.summary=D.langFormat("accessibility.table.tableSummary",{chart:D}),M.tree.attributes=V}}focusDataTable(){let M=this.dataTableDiv,D=M&&M.getElementsByTagName("table")[0];D&&D.focus&&D.focus()}initSonifyButton(M){let D=this.sonifyButton=L(M),V=this.chart,F=z=>{D&&(D.setAttribute("aria-hidden","true"),D.setAttribute("aria-label","")),z.preventDefault(),z.stopPropagation();let W=V.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:V});this.announcer.announce(W),setTimeout(()=>{D&&(D.removeAttribute("aria-hidden"),D.removeAttribute("aria-label")),V.sonify&&V.sonify()},1e3)};D&&V&&(D.setAttribute("tabindex",-1),D.onclick=function(z){(V.options.accessibility&&V.options.accessibility.screenReaderSection.onPlayAsSoundClick||F).call(this,z,V)})}initDataTableButton(M){let D=this.viewDataTableButton=L(M),V=this.chart,F=M.replace("hc-linkto-","");D&&(H(D,{tabindex:-1,"aria-expanded":!!L(F)}),D.onclick=V.options.accessibility.screenReaderSection.onViewDataTableClick||function(){V.viewData()})}getAxesDescription(){let M=this.chart,D=function(ee,ue){let ie=M[ee];return ie.length>1||ie[0]&&$(ie[0].options.accessibility&&ie[0].options.accessibility.enabled,ue)},V=!!M.types&&0>M.types.indexOf("map")&&0>M.types.indexOf("treemap")&&0>M.types.indexOf("tilemap"),F=!!M.hasCartesianSeries,z=D("xAxis",!M.angular&&F&&V),W=D("yAxis",F&&V),q={};return z&&(q.xAxis=this.getAxisDescriptionText("xAxis")),W&&(q.yAxis=this.getAxisDescriptionText("yAxis")),q}getAxisDescriptionText(M){let D=this.chart,V=D[M];return D.langFormat("accessibility.axis."+M+"Description"+(V.length>1?"Plural":"Singular"),{chart:D,names:V.map(function(F){return T(F)}),ranges:V.map(function(F){return E(F)}),numAxes:V.length})}destroy(){this.announcer&&this.announcer.destroy()}}}),i(t,"Accessibility/Components/MenuComponent.js",[t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a,o,s,d){let{attr:p}=r,{getChartTitle:m,unhideChartElementFromAT:y}=s,{getFakeMouseEvent:g}=d;function _(T){return T.exportSVGElements&&T.exportSVGElements[0]}class x extends a{init(){let E=this.chart,k=this;this.addEvent(E,"exportMenuShown",function(){k.onMenuShown()}),this.addEvent(E,"exportMenuHidden",function(){k.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){let E=this.chart.exportContextMenu;E&&E.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){let E=this.chart,k=E.exportContextMenu;k&&(this.addAccessibleContextMenuAttribs(),y(E,k)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(E){this.exportButtonProxy&&this.exportButtonProxy.innerElement.setAttribute("aria-expanded",E)}onChartRender(){let E=this.chart,k=E.focusElement,v=E.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&k&&k===E.exportingGroup&&(k.focusBorder?E.setFocusToElement(k,this.exportButtonProxy.innerElement):v&&v.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){let E=this.chart,k=this.proxyProvider,v=_(E);(function(w){let N=w.options.exporting,S=_(w);return!!(N&&N.enabled!==!1&&N.accessibility&&N.accessibility.enabled&&S&&S.element)})(E)&&v&&(this.exportButtonProxy=k.addProxyElement("chartMenu",{click:v},"button",{"aria-label":E.langFormat("accessibility.exporting.menuButtonLabel",{chart:E,chartTitle:m(E)}),"aria-expanded":!1,title:E.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu")}addAccessibleContextMenuAttribs(){let E=this.chart,k=E.exportDivElements;if(k&&k.length){k.forEach(w=>{w&&(w.tagName!=="LI"||w.children&&w.children.length?w.setAttribute("aria-hidden","true"):w.setAttribute("tabindex",-1))});let v=k[0]&&k[0].parentNode;v&&p(v,{"aria-hidden":void 0,"aria-label":E.langFormat("accessibility.exporting.chartMenuLabel",{chart:E}),role:"list"})}}getKeyboardNavigation(){let E=this.keyCodes,k=this.chart,v=this;return new o(k,{keyCodeMap:[[[E.left,E.up],function(){return v.onKbdPrevious(this)}],[[E.right,E.down],function(){return v.onKbdNext(this)}],[[E.enter,E.space],function(){return v.onKbdClick(this)}]],validate:function(){return!!k.exporting&&k.options.exporting.enabled!==!1&&k.options.exporting.accessibility.enabled!==!1},init:function(){let w=v.exportButtonProxy,N=v.chart.exportingGroup;w&&N&&k.setFocusToElement(N,w.innerElement)},terminate:function(){k.hideExportMenu()}})}onKbdPrevious(E){let k=this.chart,v=k.options.accessibility,w=E.response,N=k.highlightedExportItemIx||0;for(;N--;)if(k.highlightExportItem(N))return w.success;return v.keyboardNavigation.wrapAround?(k.highlightLastExportItem(),w.success):w.prev}onKbdNext(E){let k=this.chart,v=k.options.accessibility,w=E.response;for(let N=(k.highlightedExportItemIx||0)+1;N<k.exportDivElements.length;++N)if(k.highlightExportItem(N))return w.success;return v.keyboardNavigation.wrapAround?(k.highlightExportItem(0),w.success):w.next}onKbdClick(E){let k=this.chart,v=k.exportDivElements[k.highlightedExportItemIx],w=_(k).element;return k.openMenu?this.fakeClickEvent(v):(this.fakeClickEvent(w),k.highlightExportItem(0)),E.response.success}}return function(T){function E(){let N=_(this);if(N){let S=N.element;S.onclick&&S.onclick(g("click"))}}function k(){let N=this.exportDivElements;N&&this.exportContextMenu&&this.openMenu&&(N.forEach(S=>{S&&S.className==="highcharts-menu-item"&&S.onmouseout&&S.onmouseout(g("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function v(N){let S=this.exportDivElements&&this.exportDivElements[N],L=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(S&&S.tagName==="LI"&&!(S.children&&S.children.length)){let O=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return S.focus&&O&&S.focus(),L&&L.onmouseout&&L.onmouseout(g("mouseout")),S.onmouseover&&S.onmouseover(g("mouseover")),this.highlightedExportItemIx=N,!0}return!1}function w(){if(this.exportDivElements){let N=this.exportDivElements.length;for(;N--;)if(this.highlightExportItem(N))return!0}return!1}T.compose=function(N){let S=N.prototype;S.hideExportMenu||(S.hideExportMenu=k,S.highlightExportItem=v,S.highlightLastExportItem=w,S.showExportMenu=E)}}(x),x}),i(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a,o,s,d){let{doc:p,win:m}=r,{addEvent:y,defined:g,fireEvent:_}=o,{getElement:x,simulatedEventTarget:T}=d;class E{constructor(v,w){this.currentModuleIx=NaN,this.modules=[],this.init(v,w)}init(v,w){let N=this.eventProvider=new s;this.chart=v,this.components=w,this.modules=[],this.currentModuleIx=0,this.update(),N.addEvent(this.tabindexContainer,"keydown",S=>this.onKeydown(S)),N.addEvent(this.tabindexContainer,"focus",S=>this.onFocus(S)),["mouseup","touchend"].forEach(S=>N.addEvent(p,S,L=>this.onMouseUp(L))),["mousedown","touchstart"].forEach(S=>N.addEvent(v.renderTo,S,()=>{this.isClickingChart=!0}))}update(v){let w=this.chart.options.accessibility,N=w&&w.keyboardNavigation,S=this.components;this.updateContainerTabindex(),N&&N.enabled&&v&&v.length?(this.modules=v.reduce(function(L,O){let Y=S[O].getKeyboardNavigation();return L.concat(Y)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){let v=x(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),v?(this.makeElementAnExitAnchor(v),this.exitAnchor=v):this.createExitAnchor()}move(v){let w=this.modules&&this.modules[this.currentModuleIx];w&&w.terminate&&w.terminate(v),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=v;let N=this.modules&&this.modules[this.currentModuleIx];if(N){if(N.validate&&!N.validate())return this.move(v);if(N.init)return N.init(v),!0}return this.currentModuleIx=0,this.exiting=!0,v>0?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(v){let w=this.chart,N=v.relatedTarget&&w.container.contains(v.relatedTarget),S=w.options.accessibility,L=S&&S.keyboardNavigation;if(L&&L.enabled&&!this.exiting&&!this.tabbingInBackwards&&!this.isClickingChart&&!N){let O=this.getFirstValidModuleIx();O!==null&&(this.currentModuleIx=O,this.modules[O].init(1))}this.keyboardReset=!1,this.exiting=!1}onMouseUp(v){if(delete this.isClickingChart,!this.keyboardReset&&v.relatedTarget!==T){let w=this.chart;if(!v.target||!w.container.contains(v.target)){let N=this.modules&&this.modules[this.currentModuleIx||0];N&&N.terminate&&N.terminate(),this.currentModuleIx=0}w.focusElement&&(w.focusElement.removeFocusBorder(),delete w.focusElement),this.keyboardReset=!0}}onKeydown(v){let w,N=v||m.event,S=this.modules&&this.modules.length&&this.modules[this.currentModuleIx],L=N.target;if((!L||L.nodeName!=="INPUT"||L.classList.contains("highcharts-a11y-proxy-element"))&&(this.keyboardReset=!1,this.exiting=!1,S)){let O=S.run(N);O===S.response.success?w=!0:O===S.response.prev?w=this.move(-1):O===S.response.next&&(w=this.move(1)),w&&(N.preventDefault(),N.stopPropagation())}}updateContainerTabindex(){let v,w=this.chart.options.accessibility,N=w&&w.keyboardNavigation,S=!(N&&N.enabled===!1),L=this.chart,O=L.container;L.renderTo.hasAttribute("tabindex")?(O.removeAttribute("tabindex"),v=L.renderTo):v=O,this.tabindexContainer=v;let Y=v.getAttribute("tabindex");S&&!Y?v.setAttribute("tabindex","0"):S||L.container.removeAttribute("tabindex")}createExitAnchor(){let v=this.chart,w=this.exitAnchor=p.createElement("div");v.renderTo.appendChild(w),this.makeElementAnExitAnchor(w)}makeElementAnExitAnchor(v){let w=this.tabindexContainer.getAttribute("tabindex")||0;v.setAttribute("class","highcharts-exit-anchor"),v.setAttribute("tabindex",w),v.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(v)}removeExitAnchor(){if(this.exitAnchor){let v=this.eventProvider.eventRemovers.find(w=>w.element===this.exitAnchor);v&&g(v.remover)&&this.eventProvider.removeEvent(v.remover),this.exitAnchor.parentNode&&this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor}}addExitAnchorEventsToEl(v){let w=this.chart,N=this;this.eventProvider.addEvent(v,"focus",function(S){let L=S||m.event,O=!(L.relatedTarget&&w.container.contains(L.relatedTarget)||N.exiting);if(w.focusElement&&delete w.focusElement,O){if(N.tabbingInBackwards=!0,N.tabindexContainer.focus(),delete N.tabbingInBackwards,L.preventDefault(),N.modules&&N.modules.length){N.currentModuleIx=N.modules.length-1;let Y=N.modules[N.currentModuleIx];Y&&Y.validate&&!Y.validate()?N.move(-1):Y&&Y.init(-1)}}else N.exiting=!1})}getFirstValidModuleIx(){let v=this.modules.length;for(let w=0;w<v;++w){let N=this.modules[w];if(!N.validate||N.validate())return w}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(k){function v(){let N=this;_(this,"dismissPopupContent",{},function(){N.tooltip&&N.tooltip.hide(0),N.hideExportMenu()})}function w(N){(N.which||N.keyCode)===27&&r.charts&&r.charts.forEach(S=>{S&&S.dismissPopupContent&&S.dismissPopupContent()})}k.compose=function(N){a.compose(N);let S=N.prototype;return S.dismissPopupContent||(S.dismissPopupContent=v,y(p,"keydown",w)),N}}(E),E}),i(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a,o,s,d,p,m,y){let{animObject:g}=r,{doc:_}=a,{addEvent:x,fireEvent:T,isNumber:E,pick:k,syncTimeout:v}=s,{getChartTitle:w}=m,{stripHTMLTagsFromString:N,addClass:S,removeClass:L}=y;function O(H){let $=H.legend&&H.legend.allItems,G=H.options.legend.accessibility||{},B=H.colorAxis&&H.colorAxis.some(M=>!M.dataClasses||!M.dataClasses.length);return!!($&&$.length&&!B&&G.enabled!==!1)}function Y(H,$){let G=$.legendItem||{};for(let B of($.setState(H?"hover":"",!0),["group","label","symbol"])){let M=G[B],D=M&&M.element||M;D&&T(D,H?"mouseover":"mouseout")}}class X extends d{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){let $=this;this.recreateProxies(),this.addEvent(o,"afterScroll",function(){this.chart===$.chart&&($.proxyProvider.updateGroupProxyElementPositions("legend"),$.updateLegendItemProxyVisibility(),$.highlightedLegendItemIx>-1&&this.chart.highlightLegendItem($.highlightedLegendItemIx))}),this.addEvent(o,"afterPositionItem",function(G){this.chart===$.chart&&this.chart.renderer&&$.updateProxyPositionForItem(G.item)}),this.addEvent(o,"afterRender",function(){this.chart===$.chart&&this.chart.renderer&&$.recreateProxies()&&v(()=>$.proxyProvider.updateGroupProxyElementPositions("legend"),g(k(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){let $,G=this.chart,B=G.legend,M=B.allItems||[],D=B.currentPage||1,V=B.clipHeight||0;M.forEach(F=>{if(F.a11yProxyElement){let z=B.pages&&B.pages.length,W=F.a11yProxyElement.element,q=!1;if($=F.legendItem||{},z){let ee=$.pageIx||0;q=($.y||0)+($.label?Math.round($.label.getBBox().height):0)-B.pages[ee]>V||ee!==D-1}q?G.styledMode?S(W,"highcharts-a11y-invisible"):W.style.visibility="hidden":(L(W,"highcharts-a11y-invisible"),W.style.visibility="")}})}onChartRender(){O(this.chart)||this.removeProxies()}highlightAdjacentLegendPage($){let G=this.chart,B=G.legend,M=(B.currentPage||1)+$,D=B.pages||[];if(M>0&&M<=D.length){let V=0;for(let F of B.allItems)((F.legendItem||{}).pageIx||0)+1===M&&G.highlightLegendItem(V)&&(this.highlightedLegendItemIx=V),++V}}updateProxyPositionForItem($){$.a11yProxyElement&&$.a11yProxyElement.refreshPosition()}recreateProxies(){let $=_.activeElement,G=this.proxyGroup,B=$&&G&&G.contains($);return this.removeProxies(),!!O(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),B&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){let $=this.chart,G=N(($.legend&&$.legend.options.title&&$.legend.options.title.text||"").replace(/<br ?\/?>/g," "),$.renderer.forExport),B=$.langFormat("accessibility.legend.legendLabel"+(G?"":"NoTitle"),{chart:$,legendTitle:G,chartTitle:w($)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":B})}addLegendProxyGroup(){let $=this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null;this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:$})}proxyLegendItems(){let $,G=this;((this.chart.legend||{}).allItems||[]).forEach(B=>{($=B.legendItem||{}).label&&$.label.element&&G.proxyLegendItem(B)})}proxyLegendItem($){let G=$.legendItem||{};if(!G.label||!G.group)return;let B=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:N($.name,this.chart.renderer.forExport),item:$}),M={tabindex:-1,"aria-pressed":$.visible,"aria-label":B},D=G.group.div?G.label:G.group;$.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:G.label,visual:D.element},"button",M)}getKeyboardNavigation(){let $=this.keyCodes,G=this,B=this.chart;return new p(B,{keyCodeMap:[[[$.left,$.right,$.up,$.down],function(M){return G.onKbdArrowKey(this,M)}],[[$.enter,$.space],function(){return G.onKbdClick(this)}],[[$.pageDown,$.pageUp],function(M){let D=M===$.pageDown?1:-1;return G.highlightAdjacentLegendPage(D),this.response.success}]],validate:function(){return G.shouldHaveLegendNavigation()},init:function(){B.highlightLegendItem(0),G.highlightedLegendItemIx=0},terminate:function(){G.highlightedLegendItemIx=-1,B.legend.allItems.forEach(M=>Y(!1,M))}})}onKbdArrowKey($,G){let{keyCodes:{left:B,up:M},highlightedLegendItemIx:D,chart:V}=this,F=V.legend.allItems.length,z=V.options.accessibility.keyboardNavigation.wrapAround,W=G===B||G===M?-1:1;return V.highlightLegendItem(D+W)?this.highlightedLegendItemIx+=W:z&&F>1&&(this.highlightedLegendItemIx=W>0?0:F-1,V.highlightLegendItem(this.highlightedLegendItemIx)),$.response.success}onKbdClick($){let G=this.chart.legend.allItems[this.highlightedLegendItemIx];return G&&G.a11yProxyElement&&G.a11yProxyElement.click(),$.response.success}shouldHaveLegendNavigation(){if(!O(this.chart))return!1;let $=this.chart,G=($.options.legend||{}).accessibility||{};return!!($.legend.display&&G.keyboardNavigation&&G.keyboardNavigation.enabled)}destroy(){this.removeProxies()}}return function(H){function $(B){let M=this.legend.allItems,D=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,V=M[B],F=(V==null?void 0:V.legendItem)||{};if(V){E(D)&&M[D]&&Y(!1,M[D]),function(q,ee){let ue=(q.allItems[ee].legendItem||{}).pageIx,ie=q.currentPage;ue!==void 0&&ue+1!==ie&&q.scroll(1+ue-ie)}(this.legend,B);let z=F.label,W=V.a11yProxyElement&&V.a11yProxyElement.innerElement;return z&&z.element&&W&&this.setFocusToElement(z,W),Y(!0,V),!0}return!1}function G(B){let M=this.chart.options.accessibility,D=B.item;M.enabled&&D&&D.a11yProxyElement&&D.a11yProxyElement.innerElement.setAttribute("aria-pressed",B.visible?"true":"false")}H.compose=function(B,M){let D=B.prototype;D.highlightLegendItem||(D.highlightLegendItem=$,x(M,"afterColorizeItem",G))}}(X),X}),i(t,"Stock/Navigator/ChartNavigatorComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let o,{isTouchDevice:s}=r,{addEvent:d,merge:p,pick:m}=a,y=[];function g(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function _(){var Y;let w,N,S,L=this.legend,O=this.navigator;if(O){w=L&&L.options,N=O.xAxis,S=O.yAxis;let{scrollbarHeight:X,scrollButtonSize:H}=O;this.inverted?(O.left=O.opposite?this.chartWidth-X-O.height:this.spacing[3]+X,O.top=this.plotTop+H):(O.left=m(N.left,this.plotLeft+H),O.top=O.navigatorOptions.top||this.chartHeight-O.height-X-(((Y=this.scrollbar)==null?void 0:Y.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(w&&w.verticalAlign==="bottom"&&w.layout!=="proximate"&&w.enabled&&!w.floating?L.legendHeight+m(w.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),N&&S&&(this.inverted?N.options.left=S.options.left=O.left:N.options.top=S.options.top=O.top,N.setAxisSize(),S.setAxisSize())}}function x(w){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new o(this),m(w.redraw,!0)&&this.redraw(w.animation))}function T(){let w=this.options;(w.navigator.enabled||w.scrollbar.enabled)&&(this.scroller=this.navigator=new o(this))}function E(){let w=this.options,N=w.navigator,S=w.rangeSelector;if((N&&N.enabled||S&&S.enabled)&&(!s&&this.zooming.type==="x"||s&&this.zooming.pinchType==="x"))return!1}function k(w){let N=w.navigator;if(N&&w.xAxis[0]){let S=w.xAxis[0].getExtremes();N.render(S.min,S.max)}}function v(w){let N=w.options.navigator||{},S=w.options.scrollbar||{};!this.navigator&&!this.scroller&&(N.enabled||S.enabled)&&(p(!0,this.options.navigator,N),p(!0,this.options.scrollbar,S),delete w.options.navigator,delete w.options.scrollbar)}return{compose:function(w,N){if(a.pushUnique(y,w)){let S=w.prototype;o=N,S.callbacks.push(k),d(w,"afterAddSeries",g),d(w,"afterSetChartSize",_),d(w,"afterUpdate",x),d(w,"beforeRender",T),d(w,"beforeShowResetZoom",E),d(w,"update",v)}}}}),i(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{isTouchDevice:o}=r,{addEvent:s,correctFloat:d,defined:p,isNumber:m,pick:y}=a;function g(){this.navigatorAxis||(this.navigatorAxis=new x(this))}function _(T){let E,k=this.chart,v=k.options,w=v.navigator,N=this.navigatorAxis,S=k.zooming.pinchType,L=v.rangeSelector,O=k.zooming.type;if(this.isXAxis&&(w!=null&&w.enabled||L!=null&&L.enabled)){if(O==="y"&&T.trigger==="zoom")E=!1;else if((T.trigger==="zoom"&&O==="xy"||o&&S==="xy")&&this.options.range){let Y=N.previousZoom;p(T.min)?N.previousZoom=[this.min,this.max]:Y&&(T.min=Y[0],T.max=Y[1],N.previousZoom=void 0)}}E!==void 0&&T.preventDefault()}class x{static compose(E){E.keepProps.includes("navigatorAxis")||(E.keepProps.push("navigatorAxis"),s(E,"init",g),s(E,"setExtremes",_))}constructor(E){this.axis=E}destroy(){this.axis=void 0}toFixedRange(E,k,v,w){let N=this.axis,S=(N.pointRange||0)/2,L=y(v,N.translate(E,!0,!N.horiz)),O=y(w,N.translate(k,!0,!N.horiz));return p(v)||(L=d(L+S)),p(w)||(O=d(O-S)),m(L)&&m(O)||(L=O=void 0),{min:L,max:O}}}return x}),i(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(r,a){let{parse:o}=r,{seriesTypes:s}=a;return{height:40,margin:25,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:o("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:s.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),i(t,"Stock/Navigator/NavigatorSymbols.js",[t["Core/Renderer/SVG/Symbols.js"],t["Core/Utilities.js"]],function(r,a){let{relativeLength:o}=a;return{"navigator-handle":function(s,d,p,m,y={}){let g=y.width?y.width/2:p,_=o(y.borderRadius||0,Math.min(2*g,m));return[["M",-1.5,(m=y.height||m)/2-3.5],["L",-1.5,m/2+4.5],["M",.5,m/2-3.5],["L",.5,m/2+4.5],...r.rect(-g-1,.5,2*g+1,m,{r:_})]}}}),i(t,"Stock/Utilities/StockUtilities.js",[t["Core/Utilities.js"]],function(r){let{defined:a}=r;return{setFixedRange:function(o){let s=this.xAxis[0];a(s.dataMax)&&a(s.dataMin)&&o?this.fixedRange=Math.min(o,s.dataMax-s.dataMin):this.fixedRange=o}}}),i(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Stock/Utilities/StockUtilities.js"],t["Core/Utilities.js"]],function(r,a,o,s,d,p,m,y){let{setOptions:g}=r,{composed:_}=a,{getRendererType:x}=p,{setFixedRange:T}=m,{addEvent:E,extend:k,pushUnique:v}=y;function w(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function(N,S,L){o.compose(S),v(_,"Navigator")&&(N.prototype.setFixedRange=T,k(x().prototype.symbols,d),E(L,"afterUpdate",w),g({navigator:s}))}}}),i(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){var o;let{composed:s}=r,{addEvent:d,defined:p,pick:m,pushUnique:y}=a;return function(g){let _;function x(v){let w=m(v.options&&v.options.min,v.min),N=m(v.options&&v.options.max,v.max);return{axisMin:w,axisMax:N,scrollMin:p(v.dataMin)?Math.min(w,v.min,v.dataMin,m(v.threshold,1/0)):w,scrollMax:p(v.dataMax)?Math.max(N,v.max,v.dataMax,m(v.threshold,-1/0)):N}}function T(){let v=this.scrollbar,w=v&&!v.options.opposite,N=this.horiz?2:w?3:1;v&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[N]+=v.size+(v.options.margin||0))}function E(){let v=this;v.options&&v.options.scrollbar&&v.options.scrollbar.enabled&&(v.options.scrollbar.vertical=!v.horiz,v.options.startOnTick=v.options.endOnTick=!1,v.scrollbar=new _(v.chart.renderer,v.options.scrollbar,v.chart),d(v.scrollbar,"changed",function(w){let N,S,{axisMin:L,axisMax:O,scrollMin:Y,scrollMax:X}=x(v),H=X-Y;if(p(L)&&p(O))if(v.horiz&&!v.reversed||!v.horiz&&v.reversed?(N=Y+H*this.to,S=Y+H*this.from):(N=Y+H*(1-this.from),S=Y+H*(1-this.to)),this.shouldUpdateExtremes(w.DOMType)){let $=w.DOMType!=="mousemove"&&w.DOMType!=="touchmove"&&void 0;v.setExtremes(S,N,!0,$,w)}else this.setRange(this.from,this.to)}))}function k(){let v,w,N,{scrollMin:S,scrollMax:L}=x(this),O=this.scrollbar,Y=this.axisTitleMargin+(this.titleOffset||0),X=this.chart.scrollbarsOffsets,H=this.options.margin||0;if(O&&X){if(this.horiz)this.opposite||(X[1]+=Y),O.position(this.left,this.top+this.height+2+X[1]-(this.opposite?H:0),this.width,this.height),this.opposite||(X[1]+=H),v=1;else{let $;this.opposite&&(X[0]+=Y),$=O.options.opposite?this.left+this.width+2+X[0]-(this.opposite?0:H):this.opposite?0:H,O.position($,this.top,this.width,this.height),this.opposite&&(X[0]+=H),v=0}if(X[v]+=O.size+(O.options.margin||0),isNaN(S)||isNaN(L)||!p(this.min)||!p(this.max)||this.dataMin===this.dataMax)O.setRange(0,1);else if(this.min===this.max){let $=this.pointRange/(this.dataMax+1);w=$*this.min,N=$*(this.max+1),O.setRange(w,N)}else w=(this.min-S)/(L-S),N=(this.max-S)/(L-S),this.horiz&&!this.reversed||!this.horiz&&this.reversed?O.setRange(w,N):O.setRange(1-N,1-w)}}g.compose=function(v,w){y(s,"Axis.Scrollbar")&&(_=w,d(v,"afterGetOffset",T),d(v,"afterInit",E),d(v,"afterRender",k))}}(o||(o={})),o}),i(t,"Stock/Scrollbar/ScrollbarDefaults.js",[],function(){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),i(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(r,a,o,s,d){let{defaultOptions:p}=r,{addEvent:m,correctFloat:y,crisp:g,defined:_,destroyObjectProperties:x,fireEvent:T,merge:E,pick:k,removeEvent:v}=d;class w{static compose(S){o.compose(S,w)}static swapXY(S,L){return L&&S.forEach(O=>{let Y,X=O.length;for(let H=0;H<X;H+=2)typeof(Y=O[H+1])=="number"&&(O[H+1]=O[H+2],O[H+2]=Y)}),S}constructor(S,L,O){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(S,L,O)}addEvents(){let S=this.options.inverted?[1,0]:[0,1],L=this.scrollbarButtons,O=this.scrollbarGroup.element,Y=this.track.element,X=this.mouseDownHandler.bind(this),H=this.mouseMoveHandler.bind(this),$=this.mouseUpHandler.bind(this),G=[[L[S[0]].element,"click",this.buttonToMinClick.bind(this)],[L[S[1]].element,"click",this.buttonToMaxClick.bind(this)],[Y,"click",this.trackClick.bind(this)],[O,"mousedown",X],[O.ownerDocument,"mousemove",H],[O.ownerDocument,"mouseup",$],[O,"touchstart",X],[O.ownerDocument,"touchmove",H],[O.ownerDocument,"touchend",$]];G.forEach(function(B){m.apply(null,B)}),this._events=G}buttonToMaxClick(S){let L=(this.to-this.from)*k(this.options.step,.2);this.updatePosition(this.from+L,this.to+L),T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:S})}buttonToMinClick(S){let L=y(this.to-this.from)*k(this.options.step,.2);this.updatePosition(y(this.from-L),y(this.to-L)),T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:S})}cursorToScrollbarPosition(S){let L=this.options,O=L.minWidth>this.calculatedWidth?L.minWidth:0;return{chartX:(S.chartX-this.x-this.xOffset)/(this.barWidth-O),chartY:(S.chartY-this.y-this.yOffset)/(this.barWidth-O)}}destroy(){let S=this,L=S.chart.scroller;S.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(O){S[O]&&S[O].destroy&&(S[O]=S[O].destroy())}),L&&S===L.scrollbar&&(L.scrollbar=null,x(L.scrollbarButtons))}drawScrollbarButton(S){let L=this.renderer,O=this.scrollbarButtons,Y=this.options,X=this.size,H=L.g().add(this.group);if(O.push(H),Y.buttonsEnabled){let $=L.rect().addClass("highcharts-scrollbar-button").add(H);this.chart.styledMode||$.attr({stroke:Y.buttonBorderColor,"stroke-width":Y.buttonBorderWidth,fill:Y.buttonBackgroundColor}),$.attr($.crisp({x:-.5,y:-.5,width:X,height:X,r:Y.buttonBorderRadius},$.strokeWidth()));let G=L.path(w.swapXY([["M",X/2+(S?-1:1),X/2-3],["L",X/2+(S?-1:1),X/2+3],["L",X/2+(S?2:-2),X/2]],Y.vertical)).addClass("highcharts-scrollbar-arrow").add(O[S]);this.chart.styledMode||G.attr({fill:Y.buttonArrowColor})}}init(S,L,O){this.scrollbarButtons=[],this.renderer=S,this.userOptions=L,this.options=E(s,p.scrollbar,L),this.options.margin=k(this.options.margin,10),this.chart=O,this.size=k(this.options.size,this.options.height),L.enabled&&(this.render(),this.addEvents())}mouseDownHandler(S){var Y;let L=((Y=this.chart.pointer)==null?void 0:Y.normalize(S))||S,O=this.cursorToScrollbarPosition(L);this.chartX=O.chartX,this.chartY=O.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(S){var H;let L,O=((H=this.chart.pointer)==null?void 0:H.normalize(S))||S,Y=this.options.vertical?"chartY":"chartX",X=this.initPositions||[];this.grabbedCenter&&(!S.touches||S.touches[0][Y]!==0)&&(L=this.cursorToScrollbarPosition(O)[Y]-this[Y],this.hasDragged=!0,this.updatePosition(X[0]+L,X[1]+L),this.hasDragged&&T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:S.type,DOMEvent:S}))}mouseUpHandler(S){this.hasDragged&&T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:S.type,DOMEvent:S}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(S,L,O,Y){let{buttonsEnabled:X,margin:H=0,vertical:$}=this.options,G=this.rendered?"animate":"attr",B=Y,M=0;this.group.show(),this.x=S,this.y=L+this.trackBorderWidth,this.width=O,this.height=Y,this.xOffset=B,this.yOffset=M,$?(this.width=this.yOffset=O=M=this.size,this.xOffset=B=0,this.yOffset=M=X?this.size:0,this.barWidth=Y-(X?2*O:0),this.x=S+=H):(this.height=Y=this.size,this.xOffset=B=X?this.size:0,this.barWidth=O-(X?2*Y:0),this.y=this.y+H),this.group[G]({translateX:S,translateY:this.y}),this.track[G]({width:O,height:Y}),this.scrollbarButtons[1][G]({translateX:$?0:O-B,translateY:$?Y-M:0})}removeEvents(){this._events.forEach(function(S){v.apply(null,S)}),this._events.length=0}render(){let S=this.renderer,L=this.options,O=this.size,Y=this.chart.styledMode,X=S.g("scrollbar").attr({zIndex:L.zIndex}).hide().add();this.group=X,this.track=S.rect().addClass("highcharts-scrollbar-track").attr({r:L.trackBorderRadius||0,height:O,width:O}).add(X),Y||this.track.attr({fill:L.trackBackgroundColor,stroke:L.trackBorderColor,"stroke-width":L.trackBorderWidth});let H=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-g(0,H),y:-g(0,H)}),this.scrollbarGroup=S.g().add(X),this.scrollbar=S.rect().addClass("highcharts-scrollbar-thumb").attr({height:O-H,width:O-H,r:L.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=S.path(w.swapXY([["M",-3,O/4],["L",-3,2*O/3],["M",0,O/4],["L",0,2*O/3],["M",3,O/4],["L",3,2*O/3]],L.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),Y||(this.scrollbar.attr({fill:L.barBackgroundColor,stroke:L.barBorderColor,"stroke-width":L.barBorderWidth}),this.scrollbarRifles.attr({stroke:L.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-g(0,this.scrollbarStrokeWidth),-g(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(S,L){let O,Y,X=this.options,H=X.vertical,$=X.minWidth,G=this.barWidth,B=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!_(G))return;let M=G*Math.min(L,1);O=Math.ceil(G*(S=Math.max(S,0))),this.calculatedWidth=Y=y(M-O),Y<$&&(O=(G-$+Y)*S,Y=$);let D=Math.floor(O+this.xOffset+this.yOffset),V=Y/2-.5;this.from=S,this.to=L,H?(this.scrollbarGroup[B]({translateY:D}),this.scrollbar[B]({height:Y}),this.scrollbarRifles[B]({translateY:V}),this.scrollbarTop=D,this.scrollbarLeft=0):(this.scrollbarGroup[B]({translateX:D}),this.scrollbar[B]({width:Y}),this.scrollbarRifles[B]({translateX:V}),this.scrollbarLeft=D,this.scrollbarTop=0),Y<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),X.showFull===!1&&(S<=0&&L>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(S){return k(this.options.liveRedraw,a.svg&&!a.isTouchDevice&&!this.chart.boosted)||S==="mouseup"||S==="touchend"||!_(S)}trackClick(S){var H;let L=((H=this.chart.pointer)==null?void 0:H.normalize(S))||S,O=this.to-this.from,Y=this.y+this.scrollbarTop,X=this.x+this.scrollbarLeft;this.options.vertical&&L.chartY>Y||!this.options.vertical&&L.chartX>X?this.updatePosition(this.from+O,this.to+O):this.updatePosition(this.from-O,this.to-O),T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:S})}update(S){this.destroy(),this.init(this.chart.renderer,E(!0,this.options,S),this.chart)}updatePosition(S,L){L>1&&(S=y(1-y(L-S)),L=1),S<0&&(L=y(L-S),S=0),this.from=S,this.to=L}}return w.defaultOptions=s,p.scrollbar=E(!0,w.defaultOptions,p.scrollbar),w}),i(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Stock/Navigator/ChartNavigatorComposition.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(r,a,o,s,d,p,m,y,g){let{defaultOptions:_}=o,{isTouchDevice:x}=s,{prototype:{symbols:T}}=y,{addEvent:E,clamp:k,correctFloat:v,defined:w,destroyObjectProperties:N,erase:S,extend:L,find:O,fireEvent:Y,isArray:X,isNumber:H,merge:$,pick:G,removeEvent:B,splat:M}=g;function D(F,...z){let W=[].filter.call(z,H);if(W.length)return Math[F].apply(0,W)}class V{static compose(z,W,q){a.compose(z,V),p.compose(z,W,q)}constructor(z){this.isDirty=!1,this.scrollbarHeight=0,this.init(z)}drawHandle(z,W,q,ee){let ue=this.navigatorOptions.handles.height;this.handles[W][ee](q?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(z,10)+.5-ue)}:{translateX:Math.round(this.left+parseInt(z,10)),translateY:Math.round(this.top+this.height/2-ue/2-1)})}drawOutline(z,W,q,ee){let ue=this.navigatorOptions.maskInside,ie=this.outline.strokeWidth(),oe=ie/2,Ee=ie%2/2,me=this.scrollButtonSize,Te=this.size,K=this.top,J=this.height,se=K-oe,xe=K+J,Q=this.left,ae,ce;q?(ae=K+W+Ee,W=K+z+Ee,ce=[["M",Q+J,K-me-Ee],["L",Q+J,ae],["L",Q,ae],["M",Q,W],["L",Q+J,W],["L",Q+J,K+Te+me]],ue&&ce.push(["M",Q+J,ae-oe],["L",Q+J,W+oe])):(Q-=me,z+=Q+me-Ee,W+=Q+me-Ee,ce=[["M",Q,se],["L",z,se],["L",z,xe],["M",W,xe],["L",W,se],["L",Q+Te+2*me,se]],ue&&ce.push(["M",z-oe,se],["L",W+oe,se])),this.outline[ee]({d:ce})}drawMasks(z,W,q,ee){let ue,ie,oe,Ee,me=this.left,Te=this.top,K=this.height;q?(oe=[me,me,me],Ee=[Te,Te+z,Te+W],ie=[K,K,K],ue=[z,W-z,this.size-W]):(oe=[me,me+z,me+W],Ee=[Te,Te,Te],ie=[z,W-z,this.size-W],ue=[K,K,K]),this.shades.forEach((J,se)=>{J[ee]({x:oe[se],y:Ee[se],width:ie[se],height:ue[se]})})}renderElements(){var me;let z=this,W=z.navigatorOptions,q=W.maskInside,ee=z.chart,ue=ee.inverted,ie=ee.renderer,oe={cursor:ue?"ns-resize":"ew-resize"},Ee=z.navigatorGroup??(z.navigatorGroup=ie.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!q,q,!q].forEach((Te,K)=>{let J=z.shades[K]??(z.shades[K]=ie.rect().addClass("highcharts-navigator-mask"+(K===1?"-inside":"-outside")).add(Ee));ee.styledMode||(J.attr({fill:Te?W.maskFill:"rgba(0,0,0,0)"}),K===1&&J.css(oe))}),z.outline||(z.outline=ie.path().addClass("highcharts-navigator-outline").add(Ee)),ee.styledMode||z.outline.attr({"stroke-width":W.outlineWidth,stroke:W.outlineColor}),(me=W.handles)==null?void 0:me.enabled){let Te=W.handles,{height:K,width:J}=Te;[0,1].forEach(se=>{var Q;let xe=Te.symbols[se];if(z.handles[se]&&z.handles[se].symbolUrl===xe){if(!z.handles[se].isImg&&z.handles[se].symbolName!==xe){let ae=T[xe].call(T,-J/2-1,0,J,K);z.handles[se].attr({d:ae}),z.handles[se].symbolName=xe}}else(Q=z.handles[se])==null||Q.destroy(),z.handles[se]=ie.symbol(xe,-J/2-1,0,J,K,Te),z.handles[se].attr({zIndex:7-se}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][se]).add(Ee),z.addMouseEvents();ee.inverted&&z.handles[se].attr({rotation:90,rotationOriginX:Math.floor(-J/2),rotationOriginY:(K+J)/2}),ee.styledMode||z.handles[se].attr({fill:Te.backgroundColor,stroke:Te.borderColor,"stroke-width":Te.lineWidth,width:Te.width,height:Te.height,x:-J/2-1,y:0}).css(oe)})}}update(z,W=!1){var ue;let q=this.chart,ee=q.options.chart.inverted!==((ue=q.scrollbar)==null?void 0:ue.options.vertical);if($(!0,q.options.navigator,z),this.navigatorOptions=q.options.navigator||{},this.setOpposite(),w(z.enabled)||ee)return this.destroy(),this.navigatorEnabled=z.enabled||this.navigatorEnabled,this.init(q);if(this.navigatorEnabled&&(this.isDirty=!0,z.adaptToUpdatedData===!1&&this.baseSeries.forEach(ie=>{B(ie,"updatedData",this.updatedDataHandler)},this),z.adaptToUpdatedData&&this.baseSeries.forEach(ie=>{ie.eventsToUnbind.push(E(ie,"updatedData",this.updatedDataHandler))},this),(z.series||z.baseSeries)&&this.setBaseSeries(void 0,!1),z.height||z.xAxis||z.yAxis)){this.height=z.height??this.height;let ie=this.getXAxisOffsets();this.xAxis.update({...z.xAxis,offsets:ie,[q.inverted?"width":"height"]:this.height,[q.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...z.yAxis,[q.inverted?"width":"height"]:this.height},!1)}W&&q.redraw()}render(z,W,q,ee){let ue=this.chart,ie=this.xAxis,oe=ie.pointRange||0,Ee=ie.navigatorAxis.fake?ue.xAxis[0]:ie,me=this.navigatorEnabled,Te=this.rendered,K=ue.inverted,J=ue.xAxis[0].minRange,se=ue.xAxis[0].options.maxRange,xe=this.scrollButtonSize,Q,ae,ce,ge=this.scrollbarHeight,be,Le;if(this.hasDragged&&!w(q))return;if(this.isDirty&&this.renderElements(),z=v(z-oe/2),W=v(W+oe/2),!H(z)||!H(W)){if(!Te)return;q=0,ee=G(ie.width,Ee.width)}this.left=G(ie.left,ue.plotLeft+xe+(K?ue.plotWidth:0));let _e=this.size=be=G(ie.len,(K?ue.plotHeight:ue.plotWidth)-2*xe);Q=K?ge:be+2*xe,q=G(q,ie.toPixels(z,!0)),ee=G(ee,ie.toPixels(W,!0)),H(q)&&Math.abs(q)!==1/0||(q=0,ee=Q);let Ne=ie.toValue(q,!0),$e=ie.toValue(ee,!0),Ye=Math.abs(v($e-Ne));Ye<J?this.grabbedLeft?q=ie.toPixels($e-J-oe,!0):this.grabbedRight&&(ee=ie.toPixels(Ne+J+oe,!0)):w(se)&&v(Ye-oe)>se&&(this.grabbedLeft?q=ie.toPixels($e-se-oe,!0):this.grabbedRight&&(ee=ie.toPixels(Ne+se+oe,!0))),this.zoomedMax=k(Math.max(q,ee),0,_e),this.zoomedMin=k(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(q,ee),0,_e),this.range=this.zoomedMax-this.zoomedMin,_e=Math.round(this.zoomedMax);let Xe=Math.round(this.zoomedMin);me&&(this.navigatorGroup.attr({visibility:"inherit"}),Le=Te&&!this.hasDragged?"animate":"attr",this.drawMasks(Xe,_e,K,Le),this.drawOutline(Xe,_e,K,Le),this.navigatorOptions.handles.enabled&&(this.drawHandle(Xe,0,K,Le),this.drawHandle(_e,1,K,Le))),this.scrollbar&&(K?(ce=this.top-xe,ae=this.left-ge+(me||!Ee.opposite?0:(Ee.titleOffset||0)+Ee.axisTitleMargin),ge=be+2*xe):(ce=this.top+(me?this.height:-ge),ae=this.left-xe),this.scrollbar.position(ae,ce,Q,ge),this.scrollbar.setRange(this.zoomedMin/(be||1),this.zoomedMax/(be||1))),this.rendered=!0,this.isDirty=!1,Y(this,"afterRender")}addMouseEvents(){let z=this,W=z.chart,q=W.container,ee=[],ue,ie;z.mouseMoveHandler=ue=function(oe){z.onMouseMove(oe)},z.mouseUpHandler=ie=function(oe){z.onMouseUp(oe)},(ee=z.getPartsEvents("mousedown")).push(E(W.renderTo,"mousemove",ue),E(q.ownerDocument,"mouseup",ie),E(W.renderTo,"touchmove",ue),E(q.ownerDocument,"touchend",ie)),ee.concat(z.getPartsEvents("touchstart")),z.eventsToUnbind=ee,z.series&&z.series[0]&&ee.push(E(z.series[0].xAxis,"foundExtremes",function(){W.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(z){let W=this,q=[];return["shades","handles"].forEach(function(ee){W[ee].forEach(function(ue,ie){q.push(E(ue.element,z,function(oe){W[ee+"Mousedown"](oe,ie)}))})}),q}shadesMousedown(z,W){var xe;z=((xe=this.chart.pointer)==null?void 0:xe.normalize(z))||z;let q=this.chart,ee=this.xAxis,ue=this.zoomedMin,ie=this.size,oe=this.range,Ee=this.left,me=z.chartX,Te,K,J,se;q.inverted&&(me=z.chartY,Ee=this.top),W===1?(this.grabbedCenter=me,this.fixedWidth=oe,this.dragOffset=me-ue):(se=me-Ee-oe/2,W===0?se=Math.max(0,se):W===2&&se+oe>=ie&&(se=ie-oe,this.reversedExtremes?(se-=oe,K=this.getUnionExtremes().dataMin):Te=this.getUnionExtremes().dataMax),se!==ue&&(this.fixedWidth=oe,w((J=ee.navigatorAxis.toFixedRange(se,se+oe,K,Te)).min)&&Y(this,"setRange",{min:Math.min(J.min,J.max),max:Math.max(J.min,J.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(z,W){var ie;z=((ie=this.chart.pointer)==null?void 0:ie.normalize(z))||z;let q=this.chart,ee=q.xAxis[0],ue=this.reversedExtremes;W===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=ue?ee.min:ee.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=ue?ee.max:ee.min),q.setFixedRange(void 0)}onMouseMove(z){var Te;let W=this,q=W.chart,ee=W.navigatorSize,ue=W.range,ie=W.dragOffset,oe=q.inverted,Ee=W.left,me;(!z.touches||z.touches[0].pageX!==0)&&(me=(z=((Te=q.pointer)==null?void 0:Te.normalize(z))||z).chartX,oe&&(Ee=W.top,me=z.chartY),W.grabbedLeft?(W.hasDragged=!0,W.render(0,0,me-Ee,W.otherHandlePos)):W.grabbedRight?(W.hasDragged=!0,W.render(0,0,W.otherHandlePos,me-Ee)):W.grabbedCenter&&(W.hasDragged=!0,me<ie?me=ie:me>ee+ie-ue&&(me=ee+ie-ue),W.render(0,0,me-ie,me-ie+ue)),W.hasDragged&&W.scrollbar&&G(W.scrollbar.options.liveRedraw,!x&&!this.chart.boosted)&&(z.DOMType=z.type,setTimeout(function(){W.onMouseUp(z)},0)))}onMouseUp(z){let W,q,ee,ue,ie,oe,Ee=this.chart,me=this.xAxis,Te=this.scrollbar,K=z.DOMEvent||z,J=Ee.inverted,se=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!Te||!Te.hasDragged)||z.trigger==="scrollbar")&&(ee=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?ue=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(ie=this.fixedExtreme),this.zoomedMax===this.size&&(ie=this.reversedExtremes?ee.dataMin:ee.dataMax),this.zoomedMin===0&&(ue=this.reversedExtremes?ee.dataMax:ee.dataMin),w((oe=me.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,ue,ie)).min)&&Y(this,"setRange",{min:Math.min(oe.min,oe.max),max:Math.max(oe.min,oe.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:K}})),z.DOMType!=="mousemove"&&z.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&H(this.zoomedMin)&&H(this.zoomedMax)&&(q=Math.round(this.zoomedMin),W=Math.round(this.zoomedMax),this.shades&&this.drawMasks(q,W,J,se),this.outline&&this.drawOutline(q,W,J,se),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(q,0,J,se),this.drawHandle(W,1,J,se)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(z){z()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let z=this.baseSeries||[];this.navigatorEnabled&&z[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&z.forEach(function(W){B(W,"updatedData",this.updatedDataHandler)},this),z[0].xAxis&&B(z[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(z){var Q;let W=z.options,q=W.navigator||{},ee=q.enabled,ue=W.scrollbar||{},ie=ue.enabled,oe=ee&&q.height||0,Ee=ie&&ue.height||0,me=ue.buttonsEnabled&&Ee||0;this.handles=[],this.shades=[],this.chart=z,this.setBaseSeries(),this.height=oe,this.scrollbarHeight=Ee,this.scrollButtonSize=me,this.scrollbarEnabled=ie,this.navigatorEnabled=ee,this.navigatorOptions=q,this.scrollbarOptions=ue,this.setOpposite();let Te=this,K=Te.baseSeries,J=z.xAxis.length,se=z.yAxis.length,xe=K&&K[0]&&K[0].xAxis||z.xAxis[0]||{options:{}};if(z.isDirtyBox=!0,Te.navigatorEnabled){let ae=this.getXAxisOffsets();Te.xAxis=new r(z,$({breaks:xe.options.breaks,ordinal:xe.options.ordinal,overscroll:xe.options.overscroll},q.xAxis,{type:"datetime",yAxis:(Q=q.yAxis)==null?void 0:Q.id,index:J,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:xe.options.ordinal?0:xe.options.minPadding,maxPadding:xe.options.ordinal?0:xe.options.maxPadding,zoomEnabled:!1},z.inverted?{offsets:ae,width:oe}:{offsets:ae,height:oe}),"xAxis"),Te.yAxis=new r(z,$(q.yAxis,{alignTicks:!1,offset:0,index:se,isInternal:!0,reversed:G(q.yAxis&&q.yAxis.reversed,z.yAxis[0]&&z.yAxis[0].reversed,!1),zoomEnabled:!1},z.inverted?{width:oe}:{height:oe}),"yAxis"),K||q.series.data?Te.updateNavigatorSeries(!1):z.series.length===0&&(Te.unbindRedraw=E(z,"beforeRedraw",function(){z.series.length>0&&!Te.series&&(Te.setBaseSeries(),Te.unbindRedraw())})),Te.reversedExtremes=z.inverted&&!Te.xAxis.reversed||!z.inverted&&Te.xAxis.reversed,Te.renderElements(),Te.addMouseEvents()}else Te.xAxis={chart:z,navigatorAxis:{fake:!0},translate:function(ae,ce){let ge=z.xAxis[0],be=ge.getExtremes(),Le=ge.len-2*me,_e=D("min",ge.options.min,be.dataMin),Ne=D("max",ge.options.max,be.dataMax)-_e;return ce?ae*Ne/Le+_e:Le*(ae-_e)/Ne},toPixels:function(ae){return this.translate(ae)},toValue:function(ae){return this.translate(ae,!0)}},Te.xAxis.navigatorAxis.axis=Te.xAxis,Te.xAxis.navigatorAxis.toFixedRange=d.prototype.toFixedRange.bind(Te.xAxis.navigatorAxis);if(z.options.scrollbar.enabled){let ae=$(z.options.scrollbar,{vertical:z.inverted});!H(ae.margin)&&Te.navigatorEnabled&&(ae.margin=z.inverted?-3:3),z.scrollbar=Te.scrollbar=new m(z.renderer,ae,z),E(Te.scrollbar,"changed",function(ce){let ge=Te.size,be=ge*this.to,Le=ge*this.from;Te.hasDragged=Te.scrollbar.hasDragged,Te.render(0,0,Le,be),this.shouldUpdateExtremes(ce.DOMType)&&setTimeout(function(){Te.onMouseUp(ce)})})}Te.addBaseSeriesEvents(),Te.addChartEvents()}setOpposite(){let z=this.navigatorOptions,W=this.navigatorEnabled,q=this.chart;this.opposite=G(z.opposite,!!(!W&&q.inverted))}getUnionExtremes(z){let W,q=this.chart.xAxis[0],ee=this.xAxis,ue=ee.options,ie=q.options;return z&&q.dataMin===null||(W={dataMin:G(ue&&ue.min,D("min",ie.min,q.dataMin,ee.dataMin,ee.min)),dataMax:G(ue&&ue.max,D("max",ie.max,q.dataMax,ee.dataMax,ee.max))}),W}setBaseSeries(z,W){let q=this.chart,ee=this.baseSeries=[];z=z||q.options&&q.options.navigator.baseSeries||(q.series.length?O(q.series,ue=>!ue.options.isInternal).index:0),(q.series||[]).forEach((ue,ie)=>{!ue.options.isInternal&&(ue.options.showInNavigator||(ie===z||ue.options.id===z)&&ue.options.showInNavigator!==!1)&&ee.push(ue)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,W)}updateNavigatorSeries(z,W){var J,se;let q=this,ee=q.chart,ue=q.baseSeries,ie={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:(J=this.navigatorOptions.xAxis)==null?void 0:J.id,yAxis:(se=this.navigatorOptions.yAxis)==null?void 0:se.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},oe=q.series=(q.series||[]).filter(xe=>{let Q=xe.baseSeries;return!(0>ue.indexOf(Q))||(Q&&(B(Q,"updatedData",q.updatedDataHandler),delete Q.navigatorSeries),xe.chart&&xe.destroy(),!1)}),Ee,me,Te=q.navigatorOptions.series,K;ue&&ue.length&&ue.forEach(xe=>{let Q=xe.navigatorSeries,ae=L({color:xe.color,visible:xe.visible},X(Te)?_.navigator.series:Te);if(Q&&q.navigatorOptions.adaptToUpdatedData===!1)return;ie.name="Navigator "+ue.length,K=(Ee=xe.options||{}).navigatorOptions||{},ae.dataLabels=M(ae.dataLabels),(me=$(Ee,ie,ae,K)).pointRange=G(ae.pointRange,K.pointRange,_.plotOptions[me.type||"line"].pointRange);let ce=K.data||ae.data;q.hasNavigatorData=q.hasNavigatorData||!!ce,me.data=ce||Ee.data&&Ee.data.slice(0),Q&&Q.options?Q.update(me,W):(xe.navigatorSeries=ee.initSeries(me),ee.setSortedData(),xe.navigatorSeries.baseSeries=xe,oe.push(xe.navigatorSeries))}),(Te.data&&!(ue&&ue.length)||X(Te))&&(q.hasNavigatorData=!1,(Te=M(Te)).forEach((xe,Q)=>{ie.name="Navigator "+(oe.length+1),(me=$(_.navigator.series,{color:ee.series[Q]&&!ee.series[Q].options.isInternal&&ee.series[Q].color||ee.options.colors[Q]||ee.options.colors[0]},ie,xe)).data=xe.data,me.data&&(q.hasNavigatorData=!0,oe.push(ee.initSeries(me)))})),z&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let z=this,W=z.baseSeries||[];W[0]&&W[0].xAxis&&W[0].eventsToUnbind.push(E(W[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),W.forEach(q=>{q.eventsToUnbind.push(E(q,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),q.eventsToUnbind.push(E(q,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&q.xAxis&&q.eventsToUnbind.push(E(q,"updatedData",this.updatedDataHandler)),q.eventsToUnbind.push(E(q,"remove",function(){S(W,q),this.navigatorSeries&&(S(z.series,this.navigatorSeries),w(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(z){return this.baseSeries.reduce(function(W,q){return Math.min(W,q.xData&&q.xData.length?q.xData[0]:W)},z)}modifyNavigatorAxisExtremes(){let z=this.xAxis;if(z.getExtremes!==void 0){let W=this.getUnionExtremes(!0);W&&(W.dataMin!==z.min||W.dataMax!==z.max)&&(z.min=W.dataMin,z.max=W.dataMax)}}modifyBaseAxisExtremes(){var Q;let z,W,q=this.chart.navigator,ee=this.getExtremes(),ue=ee.min,ie=ee.max,oe=ee.dataMin,Ee=ee.dataMax,me=ie-ue,Te=q.stickToMin,K=q.stickToMax,J=G((Q=this.ordinal)==null?void 0:Q.convertOverscroll(this.options.overscroll),0),se=q.series&&q.series[0],xe=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(Te&&(z=(W=oe)+me),K&&(z=Ee+J,Te||(W=Math.max(oe,z-me,q.getBaseSeriesMin(se&&se.xData?se.xData[0]:-Number.MAX_VALUE)))),xe&&(Te||K)&&H(W)&&(this.min=this.userMin=W,this.max=this.userMax=z)),q.stickToMin=q.stickToMax=null}updatedDataHandler(){let z=this.chart.navigator,W=this.navigatorSeries,q=z.reversedExtremes?Math.round(z.zoomedMin)===0:Math.round(z.zoomedMax)>=Math.round(z.size);z.stickToMax=G(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,q),z.stickToMin=z.shouldStickToMin(this,z),W&&!z.hasNavigatorData&&(W.options.pointStart=this.xData[0],W.setData(this.options.data,!1,null,!1))}shouldStickToMin(z,W){let q=W.getBaseSeriesMin(z.xData[0]),ee=z.xAxis,ue=ee.max,ie=ee.min,oe=ee.options.range;return!!(H(ue)&&H(ie))&&(oe&&ue-q>0?ue-q<oe:ie<=q)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(E(this.chart,"redraw",function(){let z=this.navigator,W=z&&(z.baseSeries&&z.baseSeries[0]&&z.baseSeries[0].xAxis||this.xAxis[0]);W&&z.render(W.min,W.max)}),E(this.chart,"getMargins",function(){let z=this.navigator,W=z.opposite?"plotTop":"marginBottom";this.inverted&&(W=z.opposite?"marginRight":"plotLeft"),this[W]=(this[W]||0)+(z.navigatorEnabled||!this.inverted?z.height+z.scrollbarHeight:0)+z.navigatorOptions.margin}),E(V,"setRange",function(z){this.chart.xAxis[0].setExtremes(z.min,z.max,z.redraw,z.animation,z.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(S(this.chart.xAxis,this.xAxis),S(this.chart.axes,this.xAxis)),this.yAxis&&(S(this.chart.yAxis,this.yAxis),S(this.chart.axes,this.yAxis)),(this.series||[]).forEach(z=>{z.destroy&&z.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(z=>{this[z]&&this[z].destroy&&this[z].destroy(),this[z]=null}),[this.handles].forEach(z=>{N(z)}),this.navigatorEnabled=!1}}return V}),i(t,"Accessibility/Components/NavigatorComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Stock/Navigator/Navigator.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Templating.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(r,a,o,s,d,p,m,y,g){let{animObject:_}=d,{format:x}=p,{clamp:T,pick:E,syncTimeout:k}=m,{getFakeMouseEvent:v}=y,{getAxisRangeDescription:w,fireEventOnWrappedOrUnwrappedElement:N}=g;return class extends r{init(){let S=this.chart,L=this;this.announcer=new a(S,"polite"),this.addEvent(s,"afterRender",function(){this.chart===L.chart&&this.chart.renderer&&k(()=>{L.proxyProvider.updateGroupProxyElementPositions("navigator"),L.updateHandleValues()},_(E(this.chart.renderer.globalAnimation,!0)).duration)})}onChartUpdate(){var Y,X,H;let S=this.chart,L=S.options,O=L.navigator;if(O.enabled&&((Y=O.accessibility)!=null&&Y.enabled)){let $=L.accessibility.landmarkVerbosity,G=(X=L.lang.accessibility)==null?void 0:X.navigator.groupLabel;this.proxyProvider.removeGroup("navigator"),this.proxyProvider.addGroup("navigator","div",{role:$==="all"?"region":"group","aria-label":x(G,{chart:S},S)});let B=(H=L.lang.accessibility)==null?void 0:H.navigator.handleLabel;[0,1].forEach(M=>{let D=this.getHandleByIx(M);if(D){let V=this.proxyProvider.addProxyElement("navigator",{click:D},"input",{type:"range","aria-label":x(B,{handleIx:M,chart:S},S)});this[M?"maxHandleProxy":"minHandleProxy"]=V.innerElement,V.innerElement.style.pointerEvents="none",V.innerElement.oninput=()=>this.updateNavigator()}}),this.updateHandleValues()}else this.proxyProvider.removeGroup("navigator")}getNavigatorHandleNavigation(S){let L=this,O=this.chart,Y=S?this.maxHandleProxy:this.minHandleProxy,X=this.keyCodes;return new o(O,{keyCodeMap:[[[X.left,X.right,X.up,X.down],function(H){if(Y){let $=H===X.left||H===X.up?-1:1;Y.value=""+T(parseFloat(Y.value)+$,0,100),L.updateNavigator(()=>{let G=L.getHandleByIx(S);G&&O.setFocusToElement(G,Y)})}return this.response.success}]],init:()=>{O.setFocusToElement(this.getHandleByIx(S),Y)},validate:()=>{var H;return!!(this.getHandleByIx(S)&&Y&&((H=O.options.navigator.accessibility)!=null&&H.enabled))}})}getKeyboardNavigation(){return[this.getNavigatorHandleNavigation(0),this.getNavigatorHandleNavigation(1)]}destroy(){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.proxyProvider.removeGroup("navigator"),this.announcer&&this.announcer.destroy()}updateHandleValues(){let S=this.chart.navigator;if(S&&this.minHandleProxy&&this.maxHandleProxy){let L=S.size;this.minHandleProxy.value=""+Math.round(S.zoomedMin/L*100),this.maxHandleProxy.value=""+Math.round(S.zoomedMax/L*100)}}getHandleByIx(S){let L=this.chart.navigator;return L&&L.handles&&L.handles[S]}updateNavigator(S){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.updateNavigatorThrottleTimer=setTimeout((L=>{var H;let O=this.chart,{navigator:Y,pointer:X}=O;if(Y&&X&&this.minHandleProxy&&this.maxHandleProxy){let $=X.getChartPosition(),G=parseFloat(this.minHandleProxy.value)/100*Y.size,B=parseFloat(this.maxHandleProxy.value)/100*Y.size;[[0,"mousedown",Y.zoomedMin],[0,"mousemove",G],[0,"mouseup",G],[1,"mousedown",Y.zoomedMax],[1,"mousemove",B],[1,"mouseup",B]].forEach(([V,F,z])=>{var q;let W=(q=this.getHandleByIx(V))==null?void 0:q.element;W&&N(W,v(F,{x:$.left+Y.left+z,y:$.top+Y.top},W))}),L&&L();let M=(H=O.options.lang.accessibility)==null?void 0:H.navigator.changeAnnouncement,D=w(O.xAxis[0]);this.announcer.announce(x(M,{axisRangeDescription:D,chart:O},O))}}).bind(this,S),20)}}}),i(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Templating.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,a,o,s,d){let{getPointAnnotationTexts:p}=r,{getAxisDescription:m,getSeriesFirstPointElement:y,getSeriesA11yElement:g,unhideChartElementFromAT:_}=a,{format:x,numberFormat:T}=o,{reverseChildNodes:E,stripHTMLTagsFromString:k}=s,{find:v,isNumber:w,isString:N,pick:S,defined:L}=d;function O(G){let B=G.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(B!==!1&&G.points&&G.points.length>=+B)}function Y(G,B){let M=G.series,D=M.chart,V=D.options.accessibility.point||{},F=M.options.accessibility&&M.options.accessibility.point||{},z=M.tooltipOptions||{},W=D.options.lang;return w(B)?T(B,F.valueDecimals||V.valueDecimals||z.valueDecimals||-1,W.decimalPoint,W.accessibility.thousandsSep||W.thousandsSep):B}function X(G,B){let M=G[B];return G.chart.langFormat("accessibility.series."+B+"Description",{name:m(M),series:G})}function H(G){let B=G.series,M=B.chart.series.length>1||B.options.name,D=function(W){let q=W.series,ee=q.chart,ue=q.options.accessibility,ie=ue&&ue.point&&ue.point.valueDescriptionFormat||ee.options.accessibility.point.valueDescriptionFormat,oe=S(q.xAxis&&q.xAxis.options.accessibility&&q.xAxis.options.accessibility.enabled,!ee.angular&&q.type!=="flowmap"),Ee=oe?function(me){let Te=function(xe){let Q=xe.series,ae=Q.chart,ce=Q.options.accessibility&&Q.options.accessibility.point||{},ge=ae.options.accessibility.point||{},be=Q.xAxis&&Q.xAxis.dateTime;if(be){let Le=be.getXDateFormat(xe.x||0,ae.options.tooltip.dateTimeLabelFormats),_e=ce.dateFormatter&&ce.dateFormatter(xe)||ge.dateFormatter&&ge.dateFormatter(xe)||ce.dateFormat||ge.dateFormat||Le;return ae.time.dateFormat(_e,xe.x||0,void 0)}}(me),K=(me.series.xAxis||{}).categories&&L(me.category)&&(""+me.category).replace("<br/>"," "),J=L(me.id)&&0>(""+me.id).indexOf("highcharts-"),se="x, "+me.x;return me.name||Te||K||(J?me.id:se)}(W):"";return x(ie,{point:W,index:L(W.index)?W.index+1:"",xDescription:Ee,value:function(me){let Te=me.series,K=Te.chart.options.accessibility.point||{},J=Te.chart.options.accessibility&&Te.chart.options.accessibility.point||{},se=Te.tooltipOptions||{},xe=J.valuePrefix||K.valuePrefix||se.valuePrefix||"",Q=J.valueSuffix||K.valueSuffix||se.valueSuffix||"",ae=me.value!==void 0?"value":"y",ce=Y(me,me[ae]);return me.isNull?Te.chart.langFormat("accessibility.series.nullPointValue",{point:me}):Te.pointArrayMap?function(ge,be,Le){let _e=be||"",Ne=Le||"",$e=function(Ye){let Xe=Y(ge,S(ge[Ye],ge.options[Ye]));return Xe!==void 0?Ye+": "+_e+Xe+Ne:Xe};return ge.series.pointArrayMap.reduce(function(Ye,Xe){let De=$e(Xe);return De?Ye+(Ye.length?", ":"")+De:Ye},"")}(me,xe,Q):xe+ce+Q}(W),separator:oe?", ":""},ee)}(G),V=G.options&&G.options.accessibility&&G.options.accessibility.description,F=M?" "+B.name+".":"",z=function(W){let q=W.series.chart,ee=p(W);return ee.length?q.langFormat("accessibility.series.pointAnnotationsDescription",{point:W,annotations:ee}):""}(G);return G.accessibility=G.accessibility||{},G.accessibility.valueDescription=D,D+(V?" "+V:"")+F+(z?" "+z:"")}function $(G){let B=G.chart,M=B.types||[],D=function(oe){let Ee=(oe.options.accessibility||{}).description;return Ee&&oe.chart.langFormat("accessibility.series.description",{description:Ee,series:oe})||""}(G),V=function(oe){return B[oe]&&B[oe].length>1&&G[oe]},F=G.index+1,z=X(G,"xAxis"),W=X(G,"yAxis"),q={seriesNumber:F,series:G,chart:B},ee=M.length>1?"Combination":"",ue=B.langFormat("accessibility.series.summary."+G.type+ee,q)||B.langFormat("accessibility.series.summary.default"+ee,q),ie=(V("yAxis")?" "+W+".":"")+(V("xAxis")?" "+z+".":"");return x(S(G.options.accessibility&&G.options.accessibility.descriptionFormat,B.options.accessibility.series.descriptionFormat,""),{seriesDescription:ue,authorDescription:D?" "+D:"",axisDescription:ie,series:G,chart:B,seriesNumber:F},void 0)}return{defaultPointDescriptionFormatter:H,defaultSeriesDescriptionFormatter:$,describeSeries:function(G){let B=G.chart,M=y(G),D=g(G),V=B.is3d&&B.is3d();D&&(D.lastChild!==M||V||E(D),function(F){let z=function(ee){let ue=ee.options.accessibility||{};return!O(ee)&&!ue.exposeAsGroupOnly}(F),W=function(ee){let ue=ee.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!!(ee.points&&(ee.points.length<+ue.pointNavigationEnabledThreshold||ue.pointNavigationEnabledThreshold===!1))}(F),q=F.chart.options.accessibility.point.describeNull;(z||W)&&F.points.forEach(ee=>{let ue=ee.graphic&&ee.graphic.element||function(oe){let Ee=oe.series,me=Ee&&Ee.chart,Te=Ee&&Ee.is("sunburst"),K=oe.isNull,J=me&&me.options.accessibility.point.describeNull;return K&&!Te&&J}(ee)&&function(oe){let Ee=oe.series,me=function(xe){let Q=xe.index;return xe.series&&xe.series.data&&L(Q)&&v(xe.series.data,function(ae){return!!(ae&&ae.index!==void 0&&ae.index>Q&&ae.graphic&&ae.graphic.element)})||null}(oe),Te=me&&me.graphic,K=Te?Te.parentGroup:Ee.graph||Ee.group,J=me?{x:S(oe.plotX,me.plotX,0),y:S(oe.plotY,me.plotY,0)}:{x:S(oe.plotX,0),y:S(oe.plotY,0)},se=function(xe,Q){let ae=xe.series.chart.renderer.rect(Q.x,Q.y,1,1);return ae.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),ae}(oe,J);if(K&&K.element)return oe.graphic=se,oe.hasMockGraphic=!0,se.add(K),K.element.insertBefore(se.element,Te?Te.element:null),se.element}(ee),ie=ee.options&&ee.options.accessibility&&ee.options.accessibility.enabled===!1;if(ue){if(ee.isNull&&!q){ue.setAttribute("aria-hidden",!0);return}ue.setAttribute("tabindex","-1"),F.chart.styledMode||(ue.style.outline="none"),z&&!ie?function(oe,Ee){var se,xe,Q;let me=oe.series,Te=((se=me.options.accessibility)==null?void 0:se.point)||{},K=me.chart.options.accessibility.point||{},J=k(N(Te.descriptionFormat)&&x(Te.descriptionFormat,oe,me.chart)||((xe=Te.descriptionFormatter)==null?void 0:xe.call(Te,oe))||N(K.descriptionFormat)&&x(K.descriptionFormat,oe,me.chart)||((Q=K.descriptionFormatter)==null?void 0:Q.call(K,oe))||H(oe),me.chart.renderer.forExport);Ee.setAttribute("role","img"),Ee.setAttribute("aria-label",J)}(ee,ue):ue.setAttribute("aria-hidden",!0)}})}(G),_(B,D),function(F){let z=F.chart,W=z.options.chart,q=W.options3d&&W.options3d.enabled,ee=z.series.length>1,ue=z.options.accessibility.series.describeSingleSeries,ie=(F.options.accessibility||{}).exposeAsGroupOnly;return!(q&&ee)&&(ee||ue||ie||O(F))}(G)?function(F,z){let W=F.options.accessibility||{},q=F.chart.options.accessibility,ee=q.landmarkVerbosity;W.exposeAsGroupOnly?z.setAttribute("role","img"):ee==="all"?z.setAttribute("role","region"):z.setAttribute("role","group"),z.setAttribute("tabindex","-1"),F.chart.styledMode||(z.style.outline="none"),z.setAttribute("aria-label",k(q.series.descriptionFormatter&&q.series.descriptionFormatter(F)||$(F),F.chart.renderer.forExport))}(G,D):D.removeAttribute("aria-label"))}}}),i(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,a,o,s,d,p){let{composed:m}=r,{addEvent:y,defined:g,pushUnique:_}=a,{getChartTitle:x}=s,{defaultPointDescriptionFormatter:T,defaultSeriesDescriptionFormatter:E}=p;function k(w){return!!w.options.accessibility.announceNewData.enabled}class v{constructor(N){this.dirty={allSeries:{}},this.lastAnnouncementTime=0,this.chart=N}init(){let N=this.chart,S=N.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new d,this.announcer=new o(N,S),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){let N=this,S=this.chart,L=this.eventProvider;L.addEvent(S,"afterApplyDrilldown",function(){N.lastAnnouncementTime=0}),L.addEvent(S,"afterAddSeries",function(O){N.onSeriesAdded(O.series)}),L.addEvent(S,"redraw",function(){N.announceDirtyData()})}onSeriesAdded(N){k(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[N.name+N.index]=N,this.dirty.newSeries=g(this.dirty.newSeries)?void 0:N)}announceDirtyData(){let N=this.chart,S=this;if(N.options.accessibility.announceNewData&&this.dirty.hasDirty){let L=this.dirty.newPoint;L&&(L=function(O){let Y=O.series.data.filter(X=>O.x===X.x&&O.y===X.y);return Y.length===1?Y[0]:O}(L)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(O=>S.dirty.allSeries[O]),this.dirty.newSeries,L),this.dirty={allSeries:{}}}}queueAnnouncement(N,S,L){let O=this.chart.options.accessibility.announceNewData;if(O.enabled){let Y=+new Date,X=Y-this.lastAnnouncementTime,H=Math.max(0,O.minAnnounceInterval-X),$=function(B,M){let D=(B||[]).concat(M||[]).reduce((V,F)=>(V[F.name+F.index]=F,V),{});return Object.keys(D).map(V=>D[V])}(this.queuedAnnouncement&&this.queuedAnnouncement.series,N),G=this.buildAnnouncementMessage($,S,L);G&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:Y,message:G,series:$},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},H))}}buildAnnouncementMessage(N,S,L){let O=this.chart,Y=O.options.accessibility.announceNewData;if(Y.announcementFormatter){let G=Y.announcementFormatter(N,S,L);if(G!==!1)return G.length?G:null}let X=r.charts&&r.charts.length>1?"Multiple":"Single",H=S?"newSeriesAnnounce"+X:L?"newPointAnnounce"+X:"newDataAnnounce",$=x(O);return O.langFormat("accessibility.announceNewData."+H,{chartTitle:$,seriesDesc:S?E(S):null,pointDesc:L?T(L):null,point:L,series:S})}}return function(w){function N(L){var X;let O=this.chart,Y=(X=O.accessibility)==null?void 0:X.components.series.newDataAnnouncer;Y&&Y.chart===O&&k(O)&&(Y.dirty.newPoint=g(Y.dirty.newPoint)?void 0:L.point)}function S(){var Y;let L=this.chart,O=(Y=L.accessibility)==null?void 0:Y.components.series.newDataAnnouncer;O&&O.chart===L&&k(L)&&(O.dirty.hasDirty=!0,O.dirty.allSeries[this.name+this.index]=this)}w.compose=function(L){_(m,"A11y.NDA")&&(y(L,"addPoint",N),y(L,"updatedData",S))}}(v),v}),i(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a,o,s,d){let{doc:p}=r,{attr:m,css:y,merge:g}=a,{fireEventOnWrappedOrUnwrappedElement:_}=s,{cloneMouseEvent:x,cloneTouchEvent:T,getFakeMouseEvent:E,removeElement:k}=d;return class{constructor(v,w,N="button",S,L){this.chart=v,this.target=w,this.eventProvider=new o;let O=this.innerElement=p.createElement(N),Y=this.element=S?p.createElement(S):O;v.styledMode||this.hideElementVisually(O),S&&(S!=="li"||v.styledMode||(Y.style.listStyle="none"),Y.appendChild(O),this.element=Y),this.updateTarget(w,L)}click(){let v=this.getTargetPosition();v.x+=v.width/2,v.y+=v.height/2;let w=E("click",v);_(this.target.click,w)}updateTarget(v,w){this.target=v,this.updateCSSClassName();let N=w||{};Object.keys(N).forEach(L=>{N[L]===null&&delete N[L]});let S=this.getTargetAttr(v.click,"aria-label");m(this.innerElement,g(S?{"aria-label":S}:{},N)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToElement(this.innerElement,v.click),this.refreshPosition()}refreshPosition(){let v=this.getTargetPosition();y(this.innerElement,{width:(v.width||1)+"px",height:(v.height||1)+"px",left:(Math.round(v.x)||0)+"px",top:(Math.round(v.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),k(this.element)}updateCSSClassName(){let v=O=>O.indexOf("highcharts-no-tooltip")>-1,w=this.chart.legend,N=w.group&&w.group.div,S=v(N&&N.className||""),L=v(this.getTargetAttr(this.target.click,"class")||"");this.innerElement.className=S||L?"highcharts-a11y-proxy-element highcharts-no-tooltip":"highcharts-a11y-proxy-element"}addProxyEventsToElement(v,w){["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(N=>{let S=N.indexOf("touch")===0;this.eventProvider.addEvent(v,N,L=>{let O=S?T(L):x(L);w&&_(w,O),L.stopPropagation(),S||L.preventDefault()},{passive:!1})})}hideElementVisually(v){y(v,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){let v=this.target.click,w=v.element?v.element:v,N=this.target.visual||w,S=this.chart.renderTo,L=this.chart.pointer;if(S&&(N!=null&&N.getBoundingClientRect)&&L){let O=N.getBoundingClientRect(),Y=L.getChartPosition();return{x:(O.left-Y.left)/Y.scaleX,y:(O.top-Y.top)/Y.scaleY,width:O.right/Y.scaleX-O.left/Y.scaleX,height:O.bottom/Y.scaleY-O.top/Y.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(v,w){return v.element?v.element.getAttribute(w):v.getAttribute(w)}}}),i(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(r,a,o,s,d,p){let{doc:m}=r,{attr:y,css:g}=a,{unhideChartElementFromAT:_}=o,{removeChildNodes:x}=d;return class{constructor(T){this.chart=T,this.domElementProvider=new s,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(T,E,k="button",v){let w=this.groups[T];if(!w)throw Error("ProxyProvider.addProxyElement: Invalid group key "+T);let N=w.type==="ul"||w.type==="ol"?"li":void 0,S=new p(this.chart,E,k,N,v);return w.proxyContainerElement.appendChild(S.element),w.proxyElements.push(S),S}addGroup(T,E="div",k){let v,w=this.groups[T];if(w)return w.groupElement;let N=this.domElementProvider.createElement(E);return k&&k.role&&E!=="div"?(v=this.domElementProvider.createElement("div")).appendChild(N):v=N,v.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+T.replace(/\W/g,"-"),this.groups[T]={proxyContainerElement:N,groupElement:v,type:E,proxyElements:[]},y(v,k||{}),E==="ul"&&N.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(v),this.updateGroupOrder(this.groupOrder),v}updateGroupAttrs(T,E){let k=this.groups[T];if(!k)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+T);y(k.groupElement,E)}updateGroupOrder(T){if(this.groupOrder=T.slice(),this.isDOMOrderGroupOrder())return;let E=T.indexOf("series"),k=E>-1?T.slice(0,E):T,v=E>-1?T.slice(E+1):[],w=m.activeElement;["before","after"].forEach(N=>{let S=this[N==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];x(S),(N==="before"?k:v).forEach(L=>{let O=this.groups[L];O&&S.appendChild(O.groupElement)})}),(this.beforeChartProxyPosContainer.contains(w)||this.afterChartProxyPosContainer.contains(w))&&w&&w.focus&&w.focus()}clearGroup(T){let E=this.groups[T];if(!E)throw Error("ProxyProvider.clearGroup: Invalid group key "+T);x(E.proxyContainerElement)}removeGroup(T){let E=this.groups[T];E&&(this.domElementProvider.removeElement(E.groupElement),E.groupElement!==E.proxyContainerElement&&this.domElementProvider.removeElement(E.proxyContainerElement),delete this.groups[T])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(T){let E=this.groups[T];E&&E.proxyElements.forEach(k=>k.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(T){let E=this.domElementProvider.createElement("div");return E.setAttribute("aria-hidden","false"),E.className="highcharts-a11y-proxy-container"+(T?"-"+T:""),g(E,{top:"0",left:"0"}),this.chart.styledMode||(E.style.whiteSpace="nowrap",E.style.position="absolute"),E}getCurrentGroupOrderInDOM(){let T=w=>{let N=Object.keys(this.groups),S=N.length;for(;S--;){let L=N[S],O=this.groups[L];if(O&&w===O.groupElement)return L}},E=w=>{let N=[],S=w.children;for(let L=0;L<S.length;++L){let O=T(S[L]);O&&N.push(O)}return N},k=E(this.beforeChartProxyPosContainer),v=E(this.afterChartProxyPosContainer);return k.push("series"),k.concat(v)}isDOMOrderGroupOrder(){let T=this.getCurrentGroupOrderInDOM(),E=this.groupOrder.filter(v=>v==="series"||!!this.groups[v]),k=T.length;if(k!==E.length)return!1;for(;k--;)if(T[k]!==E[k])return!1;return!0}updatePosContainerPositions(){let T=this.chart;if(T.renderer.forExport)return;let E=T.renderer.box;T.container.insertBefore(this.afterChartProxyPosContainer,E.nextSibling),T.container.insertBefore(this.beforeChartProxyPosContainer,E),_(this.chart,this.afterChartProxyPosContainer),_(this.chart,this.beforeChartProxyPosContainer)}}}),i(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(r,a,o,s,d){let{unhideChartElementFromAT:p,getAxisRangeDescription:m}=o,{addEvent:y,attr:g}=d;class _ extends r{init(){let T=this.chart;this.announcer=new a(T,"polite")}onChartUpdate(){let T=this.chart,E=this,k=T.rangeSelector;k&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),k.buttons&&k.buttons.length&&k.buttons.forEach(v=>{E.setRangeButtonAttrs(v)}),k.maxInput&&k.minInput&&["minInput","maxInput"].forEach(function(v,w){let N=k[v];N&&(p(T,N),E.setRangeInputAttrs(N,"accessibility.rangeSelector."+(w?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){let T=this.chart,E=T.rangeSelector,k=E&&E.dropdown,v=E&&E.buttons||[],w=N=>N.setAttribute("aria-hidden",!0);E&&E.hasVisibleDropdown&&k?(p(T,k),v.forEach(N=>w(N.element))):(k&&w(k),v.forEach(N=>p(T,N.element)))}setDropdownAttrs(){let T=this.chart,E=T.rangeSelector&&T.rangeSelector.dropdown;if(E){let k=T.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:T.options.lang.rangeSelectorZoom});E.setAttribute("aria-label",k),E.setAttribute("tabindex",-1)}}setRangeButtonAttrs(T){g(T.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(T,E){let k=this.chart;g(T,{tabindex:-1,"aria-label":k.langFormat(E,{chart:k})})}onButtonNavKbdArrowKey(T,E){let k=T.response,v=this.keyCodes,w=this.chart,N=w.options.accessibility.keyboardNavigation.wrapAround,S=E===v.left||E===v.up?-1:1;return w.highlightRangeSelectorButton(w.highlightedRangeSelectorItemIx+S)?k.success:N?(T.init(S),k.success):k[S>0?"next":"prev"]}onButtonNavKbdClick(T){let E=T.response,k=this.chart;return k.oldRangeSelectorItemState!==3&&this.fakeClickEvent(k.rangeSelector.buttons[k.highlightedRangeSelectorItemIx].element),E.success}onAfterBtnClick(){let T=this.chart,E=m(T.xAxis[0]),k=T.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:T,axisRangeDescription:E});k&&this.announcer.announce(k)}onInputKbdMove(T){let E=this.chart,k=E.rangeSelector,v=E.highlightedInputRangeIx=(E.highlightedInputRangeIx||0)+T;if(v>1||v<0){if(E.accessibility)return E.accessibility.keyboardNavigation.exiting=!0,E.accessibility.keyboardNavigation.tabindexContainer.focus(),E.accessibility.keyboardNavigation.move(T)}else if(k){let w=k[v?"maxDateBox":"minDateBox"],N=k[v?"maxInput":"minInput"];w&&N&&E.setFocusToElement(w,N)}return!0}onInputNavInit(T){let E=this,k=this.chart,v=T>0?0:1,w=k.rangeSelector,N=w&&w[v?"maxDateBox":"minDateBox"],S=w&&w.minInput,L=w&&w.maxInput;if(k.highlightedInputRangeIx=v,N&&S&&L){k.setFocusToElement(N,v?L:S),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();let O=H=>{(H.which||H.keyCode)===this.keyCodes.tab&&E.onInputKbdMove(H.shiftKey?-1:1)&&(H.preventDefault(),H.stopPropagation())},Y=y(S,"keydown",O),X=y(L,"keydown",O);this.removeInputKeydownHandler=()=>{Y(),X()}}}onInputNavTerminate(){let T=this.chart.rangeSelector||{};T.maxInput&&T.hideInput("max"),T.minInput&&T.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){let T=this.chart,E=T.rangeSelector,k=E&&E.dropdown;E&&k&&(T.setFocusToElement(E.buttonGroup,k),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=y(k,"keydown",v=>{let w=(v.which||v.keyCode)===this.keyCodes.tab,N=T.accessibility;w&&(v.preventDefault(),v.stopPropagation(),N&&(N.keyboardNavigation.tabindexContainer.focus(),N.keyboardNavigation.move(v.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){let T=this.chart,E=this.keyCodes,k=this;return new s(T,{keyCodeMap:[[[E.left,E.right,E.up,E.down],function(v){return k.onButtonNavKbdArrowKey(this,v)}],[[E.enter,E.space],function(){return k.onButtonNavKbdClick(this)}]],validate:function(){return!!(T.rangeSelector&&T.rangeSelector.buttons&&T.rangeSelector.buttons.length)},init:function(v){let w=T.rangeSelector;if(w&&w.hasVisibleDropdown)k.initDropdownNav();else if(w){let N=w.buttons.length-1;T.highlightRangeSelectorButton(v>0?0:N)}},terminate:function(){k.removeDropdownKeydownHandler&&(k.removeDropdownKeydownHandler(),delete k.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){let T=this.chart,E=this;return new s(T,{keyCodeMap:[],validate:function(){return!!(T.rangeSelector&&T.rangeSelector.inputGroup&&T.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&T.options.rangeSelector.inputEnabled!==!1&&T.rangeSelector.minInput&&T.rangeSelector.maxInput)},init:function(k){E.onInputNavInit(k)},terminate:function(){E.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(x){function T(k){let v=this.rangeSelector&&this.rangeSelector.buttons||[],w=this.highlightedRangeSelectorItemIx,N=this.rangeSelector&&this.rangeSelector.selected;return w!==void 0&&v[w]&&w!==N&&v[w].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=k,!!v[k]&&(this.setFocusToElement(v[k].box,v[k].element),k!==N&&(this.oldRangeSelectorItemState=v[k].state,v[k].setState(1)),!0)}function E(){let k=this.chart.accessibility;if(k&&k.components.rangeSelector)return k.components.rangeSelector.onAfterBtnClick()}x.compose=function(k,v){let w=k.prototype;w.highlightRangeSelectorButton||(w.highlightRangeSelectorButton=T,y(v,"afterBtnClick",E))}}(_),_}),i(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){var o;let{composed:s}=r,{addEvent:d,merge:p,pushUnique:m}=a;return function(y){function g(w){p(!0,w,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function _(w){return w.marker.states&&w.marker.states.normal&&w.marker.states.normal.opacity}function x(w){return!!(w._hasPointMarkers&&w.points&&w.points.length)}function T(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),x(this)&&this.points.forEach(w=>{w.graphic&&(w.graphic[w.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),w.graphic[w.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function E(w){this.resetA11yMarkerOptions=p(w.options.marker||{},this.userOptions.marker||{})}function k(){let w=this.options;(function(N){let S=N.chart.options.accessibility.enabled,L=(N.options.accessibility&&N.options.accessibility.enabled)!==!1;return S&&L&&function(O){let Y=O.chart.options.accessibility;return O.points.length<Y.series.pointDescriptionEnabledThreshold||Y.series.pointDescriptionEnabledThreshold===!1}(N)})(this)?(w.marker&&w.marker.enabled===!1&&(this.a11yMarkersForced=!0,g(this.options)),x(this)&&function(N){let S=N.points.length;for(;S--;){let L=N.points[S],O=L.options,Y=L.hasForcedA11yMarker;if(delete L.hasForcedA11yMarker,O.marker){let X=Y&&_(O)===0;O.marker.enabled&&!X?(p(!0,O.marker,{states:{normal:{opacity:_(O)||1}}}),L.hasForcedA11yMarker=!1):O.marker.enabled===!1&&(g(O),L.hasForcedA11yMarker=!0)}}}(this)):this.a11yMarkersForced&&(delete this.a11yMarkersForced,function(N){let S=N.resetA11yMarkerOptions;if(S){let L=S.states&&S.states.normal&&S.states.normal.opacity;N.userOptions&&N.userOptions.marker&&(N.userOptions.marker.enabled=!0),N.update({marker:{enabled:S.enabled,states:{normal:{opacity:L}}}})}}(this),delete this.resetA11yMarkerOptions)}function v(){this.boosted&&this.a11yMarkersForced&&(p(!0,this.options,{marker:{enabled:!1}}),delete this.a11yMarkersForced)}y.compose=function(w){m(s,"A11y.FM")&&(d(w,"afterSetOptions",E),d(w,"render",k),d(w,"afterRender",T),d(w,"renderCanvas",v))}}(o||(o={})),o}),i(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(r,a,o,s,d,p,m,y){let{seriesTypes:g}=o,{doc:_}=s,{defined:x,fireEvent:T}=d,{getPointFromXY:E,getSeriesFromName:k,scrollAxisToPoint:v}=y;function w(H){let $=H.index,G=H.series.points,B=G.length;if(G[$]===H)return $;for(;B--;)if(G[B]===H)return B}function N(H){let $=H.chart.options.accessibility.keyboardNavigation.seriesNavigation,G=H.options.accessibility||{},B=G.keyboardNavigation;return B&&B.enabled===!1||G.enabled===!1||H.options.enableMouseTracking===!1||!H.visible||$.pointNavigationEnabledThreshold&&+$.pointNavigationEnabledThreshold<=H.points.length}function S(H){let $=H.series.chart.options.accessibility,G=H.options.accessibility&&H.options.accessibility.enabled===!1;return H.isNull&&$.keyboardNavigation.seriesNavigation.skipNullPoints||H.visible===!1||H.isInside===!1||G||N(H.series)}function L(H){let $=H.series||[],G=$.length;for(let B=0;B<G;++B)if(!N($[B])){let M=function(D){let V=D.points||[],F=V.length;for(let z=0;z<F;++z)if(!S(V[z]))return V[z];return null}($[B]);if(M)return M}return null}function O(H){let $=H.series.length,G=!1;for(;$--&&(H.highlightedPoint=H.series[$].points[H.series[$].points.length-1],!(G=H.series[$].highlightNextValidPoint())););return G}function Y(H){delete H.highlightedPoint;let $=L(H);return!!$&&$.highlight()}class X{constructor($,G){this.keyCodes=G,this.chart=$}init(){let $=this,G=this.chart,B=this.eventProvider=new m;B.addEvent(a,"destroy",function(){return $.onSeriesDestroy(this)}),B.addEvent(G,"afterApplyDrilldown",function(){(function(M){let D=L(M);D&&D.highlight(!1)})(this)}),B.addEvent(G,"drilldown",function(M){let D=M.point,V=D.series;$.lastDrilledDownPoint={x:D.x,y:D.y,seriesName:V?V.name:""}}),B.addEvent(G,"drillupall",function(){setTimeout(function(){$.onDrillupAll()},10)}),B.addEvent(r,"afterSetState",function(){let M=this.graphic&&this.graphic.element,D=_.activeElement,V=D&&D.getAttribute("class"),F=V&&V.indexOf("highcharts-a11y-proxy-element")>-1;G.highlightedPoint===this&&D!==M&&!F&&M&&M.focus&&M.focus()})}onDrillupAll(){let $,G=this.lastDrilledDownPoint,B=this.chart,M=G&&k(B,G.seriesName);G&&M&&x(G.x)&&x(G.y)&&($=E(M,G.x,G.y)),$=$||L(B),B.container&&B.container.focus(),$&&$.highlight&&$.highlight(!1)}getKeyboardNavigationHandler(){let $=this,G=this.keyCodes,B=this.chart,M=B.inverted;return new p(B,{keyCodeMap:[[M?[G.up,G.down]:[G.left,G.right],function(D){return $.onKbdSideways(this,D)}],[M?[G.left,G.right]:[G.up,G.down],function(D){return $.onKbdVertical(this,D)}],[[G.enter,G.space],function(D,V){var z;let F=B.highlightedPoint;if(F){let{plotLeft:W,plotTop:q}=this.chart,{plotX:ee=0,plotY:ue=0}=F;V={...V,chartX:W+ee,chartY:q+ue,point:F,target:((z=F.graphic)==null?void 0:z.element)||V.target},T(F.series,"click",V),F.firePointEvent("click",V)}return this.response.success}],[[G.home],function(){return Y(B),this.response.success}],[[G.end],function(){return O(B),this.response.success}],[[G.pageDown,G.pageUp],function(D){return B.highlightAdjacentSeries(D===G.pageDown),this.response.success}]],init:function(){return $.onHandlerInit(this)},validate:function(){return!!L(B)},terminate:function(){return $.onHandlerTerminate()}})}onKbdSideways($,G){let B=this.keyCodes,M=G===B.right||G===B.down;return this.attemptHighlightAdjacentPoint($,M)}onHandlerInit($){let G=this.chart;return G.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&G.highlightedPoint?G.highlightedPoint.highlight():Y(G),$.response.success}onKbdVertical($,G){let B=this.chart,M=this.keyCodes,D=G===M.down||G===M.right,V=B.options.accessibility.keyboardNavigation.seriesNavigation;if(V.mode&&V.mode==="serialize")return this.attemptHighlightAdjacentPoint($,D);let F=B.highlightedPoint&&B.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries";return B[F](D),$.response.success}onHandlerTerminate(){let $=this.chart,G=$.options.accessibility.keyboardNavigation;$.tooltip&&$.tooltip.hide(0);let B=$.highlightedPoint&&$.highlightedPoint.series;B&&B.onMouseOut&&B.onMouseOut(),$.highlightedPoint&&$.highlightedPoint.onMouseOut&&$.highlightedPoint.onMouseOut(),G.seriesNavigation.rememberPointFocus||delete $.highlightedPoint}attemptHighlightAdjacentPoint($,G){let B=this.chart,M=B.options.accessibility.keyboardNavigation.wrapAround;return B.highlightAdjacentPoint(G)||M&&(G?Y(B):O(B))?$.response.success:$.response[G?"next":"prev"]}onSeriesDestroy($){let G=this.chart;G.highlightedPoint&&G.highlightedPoint.series===$&&(delete G.highlightedPoint,G.focusElement&&G.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function(H){function $(V){let F,z,W=this.series,q=this.highlightedPoint,ee=q&&w(q)||0,ue=q&&q.series.points||[],ie=this.series&&this.series[this.series.length-1],oe=ie&&ie.points&&ie.points[ie.points.length-1];if(!W[0]||!W[0].points)return!1;if(q){if(F=W[q.series.index+(V?1:-1)],(z=ue[ee+(V?1:-1)])||!F||(z=F.points[V?0:F.points.length-1]),!z)return!1}else z=V?W[0].points[0]:oe;return S(z)?(N(F=z.series)?this.highlightedPoint=V?F.points[F.points.length-1]:F.points[0]:this.highlightedPoint=z,this.highlightAdjacentPoint(V)):z.highlight()}function G(V){let F=this.highlightedPoint,z=1/0,W;return!!(x(F.plotX)&&x(F.plotY))&&(this.series.forEach(q=>{N(q)||q.points.forEach(ee=>{if(!x(ee.plotY)||!x(ee.plotX)||ee===F)return;let ue=ee.plotY-F.plotY,ie=Math.abs(ee.plotX-F.plotX),oe=Math.abs(ue)*Math.abs(ue)+ie*ie*4;q.yAxis&&q.yAxis.reversed&&(ue*=-1),!(ue<=0&&V||ue>=0&&!V||oe<5||S(ee))&&oe<z&&(z=oe,W=ee)})}),!!W&&W.highlight())}function B(V){let F,z,W,q=this.highlightedPoint,ee=this.series&&this.series[this.series.length-1],ue=ee&&ee.points&&ee.points[ee.points.length-1];return this.highlightedPoint?!!((F=this.series[q.series.index+(V?-1:1)])&&(z=function(ie,oe,Ee,me){let Te=1/0,K,J,se,xe=oe.points.length,Q=ae=>!(x(ae.plotX)&&x(ae.plotY));if(!Q(ie)){for(;xe--;)!Q(K=oe.points[xe])&&(se=(ie.plotX-K.plotX)*(ie.plotX-K.plotX)*4+(ie.plotY-K.plotY)*(ie.plotY-K.plotY)*1)<Te&&(Te=se,J=xe);return x(J)?oe.points[J]:void 0}}(q,F)))&&(N(F)?(z.highlight(),(W=this.highlightAdjacentSeries(V))?W:(q.highlight(),!1)):(z.highlight(),z.series.highlightNextValidPoint())):(F=V?this.series&&this.series[0]:ee,!!(z=V?F&&F.points&&F.points[0]:ue)&&z.highlight())}function M(V=!0){var q,ee;let F=this.series.chart,z=(ee=(q=F.tooltip)==null?void 0:q.label)==null?void 0:ee.element;!this.isNull&&V?this.onMouseOver():F.tooltip&&F.tooltip.hide(0),v(this),this.graphic&&(F.setFocusToElement(this.graphic),!V&&F.focusElement&&F.focusElement.removeFocusBorder()),F.highlightedPoint=this;let W=z==null?void 0:z.getBoundingClientRect().top;if(z&&W&&W<0){let ue=window.scrollY;window.scrollTo({behavior:"smooth",top:ue+W})}return this}function D(){let V=this.chart.highlightedPoint,F=(V&&V.series)===this?w(V):0,z=this.points,W=z.length;if(z&&W){for(let q=F;q<W;++q)if(!S(z[q]))return z[q].highlight();for(let q=F;q>=0;--q)if(!S(z[q]))return z[q].highlight()}return!1}H.compose=function(V,F,z){let W=V.prototype,q=F.prototype,ee=z.prototype;W.highlightAdjacentPoint||(W.highlightAdjacentPoint=$,W.highlightAdjacentPointVertical=G,W.highlightAdjacentSeries=B,q.highlight=M,ee.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(ue=>{g[ue]&&(g[ue].prototype.keyboardMoveVertical=!1)}),ee.highlightNextValidPoint=D)}}(X),X}),i(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(r,a,o,s,d,p){let{hideSeriesFromAT:m}=a,{describeSeries:y}=d;return class extends r{static compose(g,_,x){s.compose(x),o.compose(x),p.compose(g,_,x)}init(){this.newDataAnnouncer=new s(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new p(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){let g=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===g.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(g){g.labelBySeries&&g.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(g){(g.options.accessibility&&g.options.accessibility.enabled)!==!1&&g.visible&&g.getPointsCollection().length!==0?y(g):m(g)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}}),i(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(r,a,o,s,d){let{unhideChartElementFromAT:p}=a,{getFakeMouseEvent:m}=o,{attr:y,pick:g}=d;return class extends r{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){let _=this,x=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(T=>{_.addEvent(x,T,function(){_.updateProxyOverlays()})})}onChartUpdate(){let _=this.chart,x=this;_.mapNavigation&&_.mapNavigation.navButtons.forEach((T,E)=>{p(_,T.element),x.setMapNavButtonAttrs(T.element,"accessibility.zoom.mapZoom"+(E?"Out":"In"))})}setMapNavButtonAttrs(_,x){let T=this.chart;y(_,{tabindex:-1,role:"button","aria-label":T.langFormat(x,{chart:T})})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){let _=this.chart;if(this.proxyProvider.clearGroup("zoom"),_.resetZoomButton&&this.createZoomProxyButton(_.resetZoomButton,"resetZoomProxyButton",_.langFormat("accessibility.zoom.resetZoomButton",{chart:_})),_.drillUpButton&&_.breadcrumbs&&_.breadcrumbs.list){let x=_.breadcrumbs.list[_.breadcrumbs.list.length-1];this.createZoomProxyButton(_.drillUpButton,"drillUpProxyButton",_.langFormat("accessibility.drillUpButton",{chart:_,buttonText:_.breadcrumbs.getButtonText(x)}))}}createZoomProxyButton(_,x,T){this[x]=this.proxyProvider.addProxyElement("zoom",{click:_},"button",{"aria-label":T,tabindex:-1})}getMapZoomNavigation(){let _=this.keyCodes,x=this.chart,T=this;return new s(x,{keyCodeMap:[[[_.up,_.down,_.left,_.right],function(E){return T.onMapKbdArrow(this,E)}],[[_.tab],function(E,k){return T.onMapKbdTab(this,k)}],[[_.space,_.enter],function(){return T.onMapKbdClick(this)}]],validate:function(){return!!(x.mapView&&x.mapNavigation&&x.mapNavigation.navButtons.length)},init:function(E){return T.onMapNavInit(E)}})}onMapKbdArrow(_,x){let T=this.chart,E=this.keyCodes,k=T.container,v=x===E.up||x===E.down,w=x===E.left||x===E.up?1:-1,N=(v?T.plotHeight:T.plotWidth)/10*w,S=10*Math.random(),L={x:k.offsetLeft+T.plotLeft+T.plotWidth/2+S,y:k.offsetTop+T.plotTop+T.plotHeight/2+S},O=v?{x:L.x,y:L.y+N}:{x:L.x+N,y:L.y};return[m("mousedown",L),m("mousemove",O),m("mouseup",O)].forEach(Y=>k.dispatchEvent(Y)),_.response.success}onMapKbdTab(_,x){let T=this.chart,E=_.response,k=x.shiftKey,v=k&&!this.focusedMapNavButtonIx||!k&&this.focusedMapNavButtonIx;if(T.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),v)return T.mapView&&T.mapView.zoomBy(),E[k?"prev":"next"];this.focusedMapNavButtonIx+=k?-1:1;let w=T.mapNavigation.navButtons[this.focusedMapNavButtonIx];return T.setFocusToElement(w.box,w.element),w.setState(2),E.success}onMapKbdClick(_){let x=this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element;return this.fakeClickEvent(x),_.response.success}onMapNavInit(_){let x=this.chart,T=x.mapNavigation.navButtons[0],E=x.mapNavigation.navButtons[1],k=_>0?T:E;x.setFocusToElement(k.box,k.element),k.setState(2),this.focusedMapNavButtonIx=_>0?0:1}simpleButtonNavigation(_,x,T){let E=this.keyCodes,k=this,v=this.chart;return new s(v,{keyCodeMap:[[[E.tab,E.up,E.down,E.left,E.right],function(w,N){let S=w===E.tab&&N.shiftKey||w===E.left||w===E.up;return this.response[S?"prev":"next"]}],[[E.space,E.enter],function(){return g(T(this,v),this.response.success)}]],validate:function(){return v[_]&&v[_].box&&k[x].innerElement},init:function(){v.setFocusToElement(v[_].box,k[x].innerElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(_,x){x.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(_,x){return x.drillUp(),_.response.prev}),this.getMapZoomNavigation()]}}}),i(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(r){let{doc:a,isMS:o,win:s}=r;return{isHighContrastModeActive:function(){let d=/(Edg)/.test(s.navigator.userAgent);if(s.matchMedia&&d)return s.matchMedia("(-ms-high-contrast: active)").matches;if(o&&s.getComputedStyle){let p=a.createElement("div");p.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",a.body.appendChild(p);let m=(p.currentStyle||s.getComputedStyle(p)).backgroundImage;return a.body.removeChild(p),m==="none"}return s.matchMedia&&s.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(d){var y;d.highContrastModeActive=!0;let p=d.options.accessibility.highContrastTheme;d.update(p,!1);let m=((y=p.colors)==null?void 0:y.length)>1;d.series.forEach(function(g){let _=p.plotOptions[g.type]||{},x=m&&g.colorIndex!==void 0?p.colors[g.colorIndex]:_.color||"window",T={color:_.color||"windowText",colors:m?p.colors:[_.color||"windowText"],borderColor:_.borderColor||"window",fillColor:x};g.update(T,!1),g.points&&g.points.forEach(function(E){E.options&&E.options.color&&E.update({color:_.color||"windowText",borderColor:_.borderColor||"window"},!1)})}),d.redraw()}}}),i(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[],dataClasses:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),i(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',highContrastMode:"auto",keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","navigator","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}},navigator:{accessibility:{enabled:!0}}}}),i(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{#each additionalAnnotationPoints}, also related to {this}{/each}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},navigator:{handleLabel:"{#eq handleIx 0}Start, percent{else}End, percent{/eq}",groupLabel:"Axis zoom",changeAnnouncement:"{axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#eq numPoints 1}slice{else}slices{/eq}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#eq numPoints 1}point{else}points{/eq}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#eq numPoints 1}box{else}boxes{/eq}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#eq numPoints 1}bubbles{else}bubble{/eq}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{#each annotations}Annotation: {this}{/each}"}}}}),i(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(r){let{error:a,pick:o}=r;function s(p,m,y){let g=p,_,x=0;for(;x<m.length-1;++x)g=g[_=m[x]]=o(g[_],{});g[m[m.length-1]]=y}function d(p,m,y,g){function _(E,k){return k.reduce(function(v,w){return v[w]},E)}let x=_(p.options,m),T=_(p.options,y);Object.keys(g).forEach(function(E){let k=x[E];k!==void 0&&(s(T,g[E],k),a(32,!1,p,{[m.join(".")+"."+E]:y.join(".")+"."+g[E].join(".")}))})}return function(p){(function(m){let y=m.options.chart,g=m.options.accessibility||{};["description","typeDescription"].forEach(function(_){y[_]&&(g[_]=y[_],a(32,!1,m,{[`chart.${_}`]:`use accessibility.${_}`}))})})(p),function(m){m.axes.forEach(function(y){let g=y.options;g&&g.description&&(g.accessibility=g.accessibility||{},g.accessibility.description=g.description,a(32,!1,m,{"axis.description":"use axis.accessibility.description"}))})}(p),p.series&&function(m){let y={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};m.series.forEach(function(g){Object.keys(y).forEach(function(_){let x=g.options[_];_==="accessibility.pointDescriptionFormatter"&&(x=g.options.accessibility&&g.options.accessibility.pointDescriptionFormatter),x!==void 0&&(s(g.options,y[_],_==="skipKeyboardNavigation"?!x:x),a(32,!1,m,{[`series.${_}`]:"series."+y[_].join(".")}))})})}(p),d(p,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),d(p,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),d(p,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),i(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/NavigatorComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(r,a,o,s,d,p,m,y,g,_,x,T,E,k,v,w,N,S,L,O,Y,X){let{defaultOptions:H}=r,{doc:$}=a,{addEvent:G,extend:B,fireEvent:M,merge:D}=o,{removeElement:V}=s;class F{constructor(W){this.init(W)}init(W){if(this.chart=W,!$.addEventListener){this.zombie=!0,this.components={},W.renderTo.setAttribute("aria-hidden",!0);return}X(W),this.proxyProvider=new k(this.chart),this.initComponents(),this.keyboardNavigation=new g(W,this.components)}initComponents(){let W=this.chart,q=this.proxyProvider,ee=W.options.accessibility;this.components={container:new p,infoRegions:new y,legend:new _,chartMenu:new x,rangeSelector:new v,series:new w,zoom:new N,navigator:new T},ee.customComponents&&B(this.components,ee.customComponents);let ue=this.components;this.getComponentOrder().forEach(function(ie){ue[ie].initBase(W,q),ue[ie].init()})}getComponentOrder(){return this.components?this.components.series?["series"].concat(Object.keys(this.components).filter(W=>W!=="series")):Object.keys(this.components):[]}update(){let W=this.components,q=this.chart,ee=q.options.accessibility;M(q,"beforeA11yUpdate"),q.types=this.getChartTypes();let ue=ee.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(ue),this.getComponentOrder().forEach(function(ie){W[ie].onChartUpdate(),M(q,"afterA11yComponentUpdate",{name:ie,component:W[ie]})}),this.keyboardNavigation.update(ue),!q.highContrastModeActive&&ee.highContrastMode!==!1&&(S.isHighContrastModeActive()||ee.highContrastMode===!0)&&S.setHighContrastTheme(q),M(q,"afterA11yUpdate",{accessibility:this})}destroy(){let W=this.chart||{},q=this.components;Object.keys(q).forEach(function(ee){q[ee].destroy(),q[ee].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),W.announcerContainer&&V(W.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),W.renderTo&&W.renderTo.setAttribute("aria-hidden",!0),W.focusElement&&W.focusElement.removeFocusBorder()}getChartTypes(){let W={};return this.chart.series.forEach(function(q){W[q.type]=1}),Object.keys(W)}}return function(z){function W(){this.accessibility&&this.accessibility.destroy()}function q(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());let oe=this.accessibility;oe&&!oe.zombie&&(oe.proxyProvider.updateProxyElementPositions(),oe.getComponentOrder().forEach(function(Ee){oe.components[Ee].onChartRender()}))}function ee(oe){let Ee=oe.options.accessibility;Ee&&(Ee.customComponents&&(this.options.accessibility.customComponents=Ee.customComponents,delete Ee.customComponents),D(!0,this.options.accessibility,Ee),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function ue(){let oe=this.accessibility,Ee=this.options.accessibility,me=this.renderer.boxWrapper.element,Te=this.title;if(Ee&&Ee.enabled)oe&&!oe.zombie?oe.update():(this.accessibility=oe=new z(this),oe&&!oe.zombie&&oe.update(),me.getAttribute("role")==="img"&&me.removeAttribute("role"));else if(oe)oe.destroy&&oe.destroy(),delete this.accessibility;else{this.renderTo.setAttribute("role","img"),this.renderTo.setAttribute("aria-hidden",!1),this.renderTo.setAttribute("aria-label",(Te&&Te.element.textContent||"").replace(/</g,"&lt;")),me.setAttribute("aria-hidden",!0);let K=document.getElementsByClassName("highcharts-description")[0];K&&(K.setAttribute("aria-hidden",!1),K.classList.remove("highcharts-linked-description"))}}function ie(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}z.i18nFormat=d.i18nFormat,z.compose=function(oe,Ee,me,Te,K,J){g.compose(oe),E.compose(Te),_.compose(oe,Ee),x.compose(oe),w.compose(oe,me,Te),d.compose(oe),m.compose(oe,K),J&&v.compose(oe,J);let se=oe.prototype;se.updateA11yEnabled||(se.updateA11yEnabled=ue,G(oe,"destroy",W),G(oe,"render",q),G(oe,"update",ee),["addSeries","init"].forEach(xe=>{G(oe,xe,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(xe=>{G(oe,xe,function(){let Q=this.accessibility;Q&&!Q.zombie&&Q.update()})}),G(me,"update",ie),["update","updatedData","remove"].forEach(xe=>{G(Te,xe,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})}))}}(F),D(!0,H,O,{accessibility:{highContrastTheme:L},lang:Y}),F}),i(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,a,o,s,d,p,m){return r.i18nFormat=a.i18nFormat,r.A11yChartUtilities=s,r.A11yHTMLUtilities=d,r.AccessibilityComponent=o,r.KeyboardNavigationHandler=p,r.SeriesAccessibilityDescriber=m,a.compose(r.Chart,r.Legend,r.Point,r.Series,r.SVGElement,r.RangeSelector),r})})})(YA);var t5=YA.exports;const n5=rc(t5);var VA={exports:{}};(function(n){(function(e){n.exports?(e.default=e,n.exports=e):e(typeof Highcharts<"u"?Highcharts:void 0)})(function(e){var t=e?e._modules:{};function i(r,a,o,s){r.hasOwnProperty(a)||(r[a]=s.apply(null,o),typeof CustomEvent=="function"&&e.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:a,module:r[a]}})))}i(t,"Extensions/Pane/PaneComposition.js",[t["Core/Utilities.js"]],function(r){let{addEvent:a,correctFloat:o,defined:s,pick:d}=r;function p(x){let T,E=this;return x&&E.pane.forEach(k=>{m(x.chartX-E.plotLeft,x.chartY-E.plotTop,k.center)&&(T=k)}),T}function m(x,T,E,k,v){let w=!0,N=E[0],S=E[1],L=Math.sqrt(Math.pow(x-N,2)+Math.pow(T-S,2));if(s(k)&&s(v)){let O=Math.atan2(o(T-S,8),o(x-N,8));v!==k&&(w=k>v?O>=k&&O<=Math.PI||O<=v&&O>=-Math.PI:O>=k&&O<=o(v,8))}return L<=Math.ceil(E[2]/2)&&w}function y(x){this.polar&&(x.options.inverted&&([x.x,x.y]=[x.y,x.x]),x.isInsidePlot=this.pane.some(T=>m(x.x,x.y,T.center,T.axis&&T.axis.normalizedStartAngleRad,T.axis&&T.axis.normalizedEndAngleRad)))}function g(x){let T=this.chart;x.hoverPoint&&x.hoverPoint.plotX&&x.hoverPoint.plotY&&T.hoverPane&&!m(x.hoverPoint.plotX,x.hoverPoint.plotY,T.hoverPane.center)&&(x.hoverPoint=void 0)}function _(x){let T=this.chart;T.polar?(T.hoverPane=T.getHoverPane(x),x.filter=function(E){return E.visible&&!(!x.shared&&E.directTouch)&&d(E.options.enableMouseTracking,!0)&&(!T.hoverPane||E.xAxis.pane===T.hoverPane)}):T.hoverPane=void 0}return{compose:function(x,T){let E=x.prototype;E.getHoverPane||(E.collectionsWithUpdate.push("pane"),E.getHoverPane=p,a(x,"afterIsInsidePlot",y),a(T,"afterGetHoverData",g),a(T,"beforeGetHoverData",_))}}}),i(t,"Extensions/Pane/PaneDefaults.js",[],function(){return{pane:{center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},background:{shape:"circle",borderRadius:0,borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}}}),i(t,"Extensions/Pane/Pane.js",[t["Series/CenteredUtilities.js"],t["Extensions/Pane/PaneComposition.js"],t["Extensions/Pane/PaneDefaults.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{extend:d,merge:p,splat:m}=s;class y{constructor(_,x){this.coll="pane",this.init(_,x)}init(_,x){this.chart=x,this.background=[],x.pane.push(this),this.setOptions(_)}setOptions(_){this.options=_=p(o.pane,this.chart.angular?{background:{}}:void 0,_)}render(){let _=this.options,x=this.chart.renderer;this.group||(this.group=x.g("pane-group").attr({zIndex:_.zIndex||0}).add()),this.updateCenter();let T=this.options.background;if(T){let E=Math.max((T=m(T)).length,this.background.length||0);for(let k=0;k<E;k++)T[k]&&this.axis?this.renderBackground(p(o.background,T[k]),k):this.background[k]&&(this.background[k]=this.background[k].destroy(),this.background.splice(k,1))}}renderBackground(_,x){let T={class:"highcharts-pane "+(_.className||"")},E="animate";this.chart.styledMode||d(T,{fill:_.backgroundColor,stroke:_.borderColor,"stroke-width":_.borderWidth}),this.background[x]||(this.background[x]=this.chart.renderer.path().add(this.group),E="attr"),this.background[x][E]({d:this.axis.getPlotBandPath(_.from,_.to,_)}).attr(T)}updateCenter(_){this.center=(_||this.axis||{}).center=r.getCenter.call(this)}update(_,x){p(!0,this.options,_),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(T){T.pane===this&&(T.pane=null,T.update({},x))},this)}}return y.compose=a.compose,y}),i(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a){let{area:{prototype:{pointClass:o,pointClass:{prototype:s}}}}=r.seriesTypes,{defined:d,isNumber:p}=a;return class extends o{setState(){let m=this.state,y=this.series,g=y.chart.polar;d(this.plotHigh)||(this.plotHigh=y.yAxis.toPixels(this.high,!0)),d(this.plotLow)||(this.plotLow=this.plotY=y.yAxis.toPixels(this.low,!0)),y.lowerStateMarkerGraphic=y.stateMarkerGraphic,y.stateMarkerGraphic=y.upperStateMarkerGraphic,this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,g&&p(this.plotHighX)&&(this.plotX=this.plotHighX),s.setState.apply(this,arguments),this.state=m,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],g&&p(this.plotLowX)&&(this.plotX=this.plotLowX),y.upperStateMarkerGraphic=y.stateMarkerGraphic,y.stateMarkerGraphic=y.lowerStateMarkerGraphic,y.lowerStateMarkerGraphic=void 0;let _=y.modifyMarkerSettings();s.setState.apply(this,arguments),y.restoreMarkerSettings(_)}haloPath(){let m=this.series.chart.polar,y=[];return this.plotY=this.plotLow,m&&p(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(y=s.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,m&&p(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(y=y.concat(s.haloPath.apply(this,arguments))),y}isValid(){return p(this.low)&&p(this.high)}}}),i(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{noop:d}=a,{area:p,area:{prototype:m},column:{prototype:y}}=o.seriesTypes,{addEvent:g,defined:_,extend:x,isArray:T,isNumber:E,pick:k,merge:v}=s;class w extends p{toYData(S){return[S.low,S.high]}highToXY(S){let L=this.chart,O=this.xAxis.postTranslate(S.rectPlotX||0,this.yAxis.len-(S.plotHigh||0));S.plotHighX=O.x-L.plotLeft,S.plotHigh=O.y-L.plotTop,S.plotLowX=S.plotX}getGraphPath(S){let L=[],O=[],Y=m.getGraphPath,X=this.options,H=this.chart.polar,$=H&&X.connectEnds!==!1,G=X.connectNulls,B,M,D,V=X.step;for(B=(S=S||this.points).length;B--;){M=S[B];let ee=H?{plotX:M.rectPlotX,plotY:M.yBottom,doCurve:!1}:{plotX:M.plotX,plotY:M.plotY,doCurve:!1};M.isNull||$||G||S[B+1]&&!S[B+1].isNull||O.push(ee),D={polarPlotY:M.polarPlotY,rectPlotX:M.rectPlotX,yBottom:M.yBottom,plotX:k(M.plotHighX,M.plotX),plotY:M.plotHigh,isNull:M.isNull},O.push(D),L.push(D),M.isNull||$||G||S[B-1]&&!S[B-1].isNull||O.push(ee)}let F=Y.call(this,S);V&&(V===!0&&(V="left"),X.step={left:"right",center:"center",right:"left"}[V]);let z=Y.call(this,L),W=Y.call(this,O);X.step=V;let q=[].concat(F,z);return!this.chart.polar&&W[0]&&W[0][0]==="M"&&(W[0]=["L",W[0][1],W[0][2]]),this.graphPath=q,this.areaPath=F.concat(W),q.isArea=!0,q.xMap=F.xMap,this.areaPath.xMap=F.xMap,q}drawDataLabels(){var D,V;let S,L,O,Y,X,H=this.points,$=H.length,G=[],B=this.options.dataLabels,M=this.chart.inverted;if(B){if(T(B)?(Y=B[0]||{enabled:!1},X=B[1]||{enabled:!1}):((Y=x({},B)).x=B.xHigh,Y.y=B.yHigh,(X=x({},B)).x=B.xLow,X.y=B.yLow),Y.enabled||((D=this.hasDataLabels)==null?void 0:D.call(this))){for(S=$;S--;)if(L=H[S]){let{plotHigh:F=0,plotLow:z=0}=L;O=Y.inside?F<z:F>z,L.y=L.high,L._plotY=L.plotY,L.plotY=F,G[S]=L.dataLabel,L.dataLabel=L.dataLabelUpper,L.below=O,M?Y.align||(Y.align=O?"right":"left"):Y.verticalAlign||(Y.verticalAlign=O?"top":"bottom")}for(this.options.dataLabels=Y,m.drawDataLabels&&m.drawDataLabels.apply(this,arguments),S=$;S--;)(L=H[S])&&(L.dataLabelUpper=L.dataLabel,L.dataLabel=G[S],delete L.dataLabels,L.y=L.low,L.plotY=L._plotY)}if(X.enabled||(V=this.hasDataLabels)!=null&&V.call(this)){for(S=$;S--;)if(L=H[S]){let{plotHigh:F=0,plotLow:z=0}=L;O=X.inside?F<z:F>z,L.below=!O,M?X.align||(X.align=O?"left":"right"):X.verticalAlign||(X.verticalAlign=O?"bottom":"top")}this.options.dataLabels=X,m.drawDataLabels&&m.drawDataLabels.apply(this,arguments)}if(Y.enabled)for(S=$;S--;)(L=H[S])&&(L.dataLabels=[L.dataLabelUpper,L.dataLabel].filter(function(F){return!!F}));this.options.dataLabels=B}}alignDataLabel(){y.alignDataLabel.apply(this,arguments)}modifyMarkerSettings(){let S={marker:this.options.marker,symbol:this.symbol};if(this.options.lowMarker){let{options:{marker:L,lowMarker:O}}=this;this.options.marker=v(L,O),O.symbol&&(this.symbol=O.symbol)}return S}restoreMarkerSettings(S){this.options.marker=S.marker,this.symbol=S.symbol}drawPoints(){let S,L,O=this.points.length,Y=this.modifyMarkerSettings();for(m.drawPoints.apply(this,arguments),this.restoreMarkerSettings(Y),S=0;S<O;)(L=this.points[S]).graphics=L.graphics||[],L.origProps={plotY:L.plotY,plotX:L.plotX,isInside:L.isInside,negative:L.negative,zone:L.zone,y:L.y},(L.graphic||L.graphics[0])&&(L.graphics[0]=L.graphic),L.graphic=L.graphics[1],L.plotY=L.plotHigh,_(L.plotHighX)&&(L.plotX=L.plotHighX),L.y=k(L.high,L.origProps.y),L.negative=L.y<(this.options.threshold||0),this.zones.length&&(L.zone=L.getZone()),this.chart.polar||(L.isInside=L.isTopInside=L.plotY!==void 0&&L.plotY>=0&&L.plotY<=this.yAxis.len&&L.plotX>=0&&L.plotX<=this.xAxis.len),S++;for(m.drawPoints.apply(this,arguments),S=0;S<O;)(L=this.points[S]).graphics=L.graphics||[],(L.graphic||L.graphics[1])&&(L.graphics[1]=L.graphic),L.graphic=L.graphics[0],L.origProps&&(x(L,L.origProps),delete L.origProps),S++}hasMarkerChanged(S,L){let O=S.lowMarker,Y=L.lowMarker||{};return O&&(O.enabled===!1||Y.symbol!==O.symbol||Y.height!==O.height||Y.width!==O.width)||super.hasMarkerChanged(S,L)}}return w.defaultOptions=v(p.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),g(w,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(N=>{let S=N.high,L=N.plotY;N.isNull?N.plotY=void 0:(N.plotLow=L,N.plotHigh=E(S)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(S):S,!1,!0,void 0,!0):void 0,this.dataModify&&(N.yBottom=N.plotHigh))})},{order:0}),g(w,"afterTranslate",function(){this.points.forEach(N=>{if(this.chart.polar)this.highToXY(N),N.plotLow=N.plotY,N.tooltipPos=[((N.plotHighX||0)+(N.plotLowX||0))/2,((N.plotHigh||0)+(N.plotLow||0))/2];else{let S=N.pos(!1,N.plotLow),L=N.pos(!1,N.plotHigh);S&&L&&(S[0]=(S[0]+L[0])/2,S[1]=(S[1]+L[1])/2),N.tooltipPos=S}})},{order:3}),x(w.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:r,pointValKey:"low",setStackedPoints:d}),o.registerSeriesType("arearange",w),w}),i(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{spline:{prototype:s}}=a.seriesTypes,{merge:d,extend:p}=o;class m extends r{}return m.defaultOptions=d(r.defaultOptions),p(m.prototype,{getPointSpline:s.getPointSpline}),a.registerSeriesType("areasplinerange",m),m}),i(t,"Series/BoxPlot/BoxPlotSeriesDefaults.js",[],function(){return{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}}),i(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/BoxPlot/BoxPlotSeriesDefaults.js"],t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s,d){let{noop:p}=o,{crisp:m,extend:y,merge:g,pick:_}=d;class x extends a{pointAttribs(){return{}}translate(){let E=this.yAxis,k=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(v){k.forEach(function(w){v[w]!==null&&(v[w+"Plot"]=E.translate(v[w],0,1,0,1))}),v.plotHigh=v.highPlot})}drawPoints(){let E,k,v,w,N,S,L,O,Y,X,H,$,G,B=this.points,M=this.options,D=this.chart,V=D.renderer,F=this.doQuartiles!==!1,z=this.options.whiskerLength;for(let W of B){let q=(O=W.graphic)?"animate":"attr",ee=W.shapeArgs,ue={},ie={},oe={},Ee={},me=W.color||this.color;if(W.plotY!==void 0){let Te;Y=ee.width,H=(X=ee.x)+Y,$=Y/2,E=F?W.q1Plot:W.lowPlot,k=F?W.q3Plot:W.lowPlot,v=W.highPlot,w=W.lowPlot,O||(W.graphic=O=V.g("point").add(this.group),W.stem=V.path().addClass("highcharts-boxplot-stem").add(O),z&&(W.whiskers=V.path().addClass("highcharts-boxplot-whisker").add(O)),F&&(W.box=V.path(L).addClass("highcharts-boxplot-box").add(O)),W.medianShape=V.path(S).addClass("highcharts-boxplot-median").add(O)),D.styledMode||(ie.stroke=W.stemColor||M.stemColor||me,ie["stroke-width"]=_(W.stemWidth,M.stemWidth,M.lineWidth),ie.dashstyle=W.stemDashStyle||M.stemDashStyle||M.dashStyle,W.stem.attr(ie),z&&(oe.stroke=W.whiskerColor||M.whiskerColor||me,oe["stroke-width"]=_(W.whiskerWidth,M.whiskerWidth,M.lineWidth),oe.dashstyle=W.whiskerDashStyle||M.whiskerDashStyle||M.dashStyle,W.whiskers.attr(oe)),F&&(ue.fill=W.fillColor||M.fillColor||me,ue.stroke=M.lineColor||me,ue["stroke-width"]=M.lineWidth||0,ue.dashstyle=W.boxDashStyle||M.boxDashStyle||M.dashStyle,W.box.attr(ue)),Ee.stroke=W.medianColor||M.medianColor||me,Ee["stroke-width"]=_(W.medianWidth,M.medianWidth,M.lineWidth),Ee.dashstyle=W.medianDashStyle||M.medianDashStyle||M.dashStyle,W.medianShape.attr(Ee));let K=m((W.plotX||0)+(this.pointXOffset||0)+(this.barW||0)/2,W.stem.strokeWidth());if(Te=[["M",K,k],["L",K,v],["M",K,E],["L",K,w]],W.stem[q]({d:Te}),F){let J=W.box.strokeWidth();E=m(E,J),k=m(k,J),Te=[["M",X=m(X,J),k],["L",X,E],["L",H=m(H,J),E],["L",H,k],["L",X,k],["Z"]],W.box[q]({d:Te})}if(z){let J=W.whiskers.strokeWidth();v=m(W.highPlot,J),w=m(W.lowPlot,J),Te=[["M",m(K-(G=typeof z=="string"&&/%$/.test(z)?$*parseFloat(z)/100:Number(z)/2)),v],["L",m(K+G),v],["M",m(K-G),w],["L",m(K+G),w]],W.whiskers[q]({d:Te})}Te=[["M",X,N=m(W.medianPlot,W.medianShape.strokeWidth())],["L",H,N]],W.medianShape[q]({d:Te})}}}toYData(E){return[E.low,E.q1,E.median,E.q3,E.high]}}return x.defaultOptions=g(a.defaultOptions,r),y(x.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:p,setStackedPoints:p}),s.registerSeriesType("boxplot",x),x}),i(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),i(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{parse:d}=r,{noop:p}=o,{arrayMax:m,arrayMin:y,isNumber:g,merge:_,pick:x,stableSort:T}=s;return class{constructor(E,k){this.setState=p,this.init(E,k)}init(E,k){this.options=E,this.visible=!0,this.chart=k.chart,this.legend=k}addToLegend(E){E.splice(this.options.legendIndex,0,this)}drawLegendSymbol(E){let k,v=x(E.options.itemDistance,20),w=this.legendItem||{},N=this.options,S=N.ranges,L=N.connectorDistance;if(!S||!S.length||!g(S[0].value)){E.options.bubbleLegend.autoRanges=!0;return}T(S,function(H,$){return $.value-H.value}),this.ranges=S,this.setOptions(),this.render();let O=this.getMaxLabelSize(),Y=this.ranges[0].radius,X=2*Y;k=(k=L-Y+O.width)>0?k:0,this.maxLabel=O,this.movementX=N.labels.align==="left"?k:0,w.labelWidth=X+k+v,w.labelHeight=X+O.height/2}setOptions(){let E=this.ranges,k=this.options,v=this.chart.series[k.seriesIndex],w=this.legend.baseline,N={zIndex:k.zIndex,"stroke-width":k.borderWidth},S={zIndex:k.zIndex,"stroke-width":k.connectorWidth},L={align:this.legend.options.rtl||k.labels.align==="left"?"right":"left",zIndex:k.zIndex},O=v.options.marker.fillOpacity,Y=this.chart.styledMode;E.forEach(function(X,H){Y||(N.stroke=x(X.borderColor,k.borderColor,v.color),N.fill=x(X.color,k.color,O!==1?d(v.color).setOpacity(O).get("rgba"):v.color),S.stroke=x(X.connectorColor,k.connectorColor,v.color)),E[H].radius=this.getRangeRadius(X.value),E[H]=_(E[H],{center:E[0].radius-E[H].radius+w}),Y||_(!0,E[H],{bubbleAttribs:_(N),connectorAttribs:_(S),labelAttribs:L})},this)}getRangeRadius(E){let k=this.options,v=this.options.seriesIndex,w=this.chart.series[v],N=k.ranges[0].value,S=k.ranges[k.ranges.length-1].value,L=k.minSize,O=k.maxSize;return w.getRadius.call(this,S,N,L,O,E)}render(){let E=this.legendItem||{},k=this.chart.renderer,v=this.options.zThreshold;for(let w of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),E.symbol=k.g("bubble-legend"),E.label=k.g("bubble-legend-item").css(this.legend.itemStyle||{}),E.symbol.translateX=0,E.symbol.translateY=0,E.symbol.add(E.label),E.label.add(E.group),this.ranges))w.value>=v&&this.renderRange(w);this.hideOverlappingLabels()}renderRange(E){let k=this.ranges[0],v=this.legend,w=this.options,N=w.labels,S=this.chart,L=S.series[w.seriesIndex],O=S.renderer,Y=this.symbols,X=Y.labels,H=E.center,$=Math.abs(E.radius),G=w.connectorDistance||0,B=N.align,M=v.options.rtl,D=w.borderWidth,V=w.connectorWidth,F=k.radius||0,z=H-$-D/2+V/2,W=(z%1?1:.5)-(V%2?0:.5),q=O.styledMode,ee=M||B==="left"?-G:G;B==="center"&&(ee=0,w.connectorDistance=0,E.labelAttribs.align="center"),Y.bubbleItems.push(O.circle(F,H+W,$).attr(q?{}:E.bubbleAttribs).addClass((q?"highcharts-color-"+L.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(w.className||"")).add(this.legendItem.symbol)),Y.connectors.push(O.path(O.crispLine([["M",F,z],["L",F+ee,z]],w.connectorWidth)).attr(q?{}:E.connectorAttribs).addClass((q?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(w.connectorClassName||"")).add(this.legendItem.symbol));let ue=O.text(this.formatLabel(E)).attr(q?{}:E.labelAttribs).css(q?{}:N.style).addClass("highcharts-bubble-legend-labels "+(w.labels.className||"")).add(this.legendItem.symbol),ie={x:F+ee+w.labels.x,y:z+w.labels.y+.4*ue.getBBox().height};ue.attr(ie),X.push(ue),ue.placed=!0,ue.alignAttr=ie}getMaxLabelSize(){let E,k;return this.symbols.labels.forEach(function(v){k=v.getBBox(!0),E=E?k.width>E.width?k:E:k}),E||{}}formatLabel(E){let k=this.options,v=k.labels.formatter,w=k.labels.format,{numberFormatter:N}=this.chart;return w?a.format(w,E):v?v.call(E):N(E.value,1)}hideOverlappingLabels(){let E=this.chart,k=this.options.labels.allowOverlap,v=this.symbols;!k&&v&&(E.hideOverlappingLabels(v.labels),v.labels.forEach(function(w,N){w.newOpacity?w.newOpacity!==w.oldOpacity&&v.connectors[N].show():v.connectors[N].hide()}))}getRanges(){let E=this.legend.bubbleLegend,k=E.chart.series,v=E.options.ranges,w,N,S=Number.MAX_VALUE,L=-Number.MAX_VALUE;return k.forEach(function(O){O.isBubble&&!O.ignoreSeries&&(N=O.zData.filter(g)).length&&(S=x(O.options.zMin,Math.min(S,Math.max(y(N),O.options.displayNegative===!1?O.options.zThreshold:-Number.MAX_VALUE))),L=x(O.options.zMax,Math.max(L,m(N))))}),w=S===L?[{value:L}]:[{value:S},{value:(S+L)/2},{value:L,autoRanges:!0}],v.length&&v[0].radius&&w.reverse(),w.forEach(function(O,Y){v&&v[Y]&&(w[Y]=_(v[Y],O))}),w}predictBubbleSizes(){let E=this.chart,k=E.legend.options,v=k.floating,w=k.layout==="horizontal",N=w?E.legend.lastLineHeight:0,S=E.plotSizeX,L=E.plotSizeY,O=E.series[this.options.seriesIndex],Y=O.getPxExtremes(),X=Math.ceil(Y.minPxSize),H=Math.ceil(Y.maxPxSize),$=Math.min(L,S),G,B=O.options.maxSize;return v||!/%$/.test(B)?G=H:(G=($+N)*(B=parseFloat(B))/100/(B/100+1),(w&&L-G>=S||!w&&S-G>=L)&&(G=H)),[X,Math.ceil(G)]}updateRanges(E,k){let v=this.legend.options.bubbleLegend;v.minSize=E,v.maxSize=k,v.ranges=this.getRanges()}correctSizes(){let E=this.legend,k=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(k.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,k.maxPxSize),E.render())}}}),i(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o,s,d){let{setOptions:p}=o,{composed:m}=s,{addEvent:y,objectEach:g,pushUnique:_,wrap:x}=d;function T(S,L,O){let Y,X,H,$=this.legend,G=E(this)>=0;$&&$.options.enabled&&$.bubbleLegend&&$.options.bubbleLegend.autoRanges&&G?(Y=$.bubbleLegend.options,X=$.bubbleLegend.predictBubbleSizes(),$.bubbleLegend.updateRanges(X[0],X[1]),Y.placed||($.group.placed=!1,$.allItems.forEach(B=>{(H=B.legendItem||{}).group&&(H.group.translateY=void 0)})),$.render(),Y.placed||(this.getMargins(),this.axes.forEach(function(B){B.visible&&B.render(),Y.placed||(B.setScale(),B.updateNames(),g(B.ticks,function(M){M.isNew=!0,M.isNewLabel=!0}))}),this.getMargins()),Y.placed=!0,S.call(this,L,O),$.bubbleLegend.correctSizes(),N($,k($))):(S.call(this,L,O),$&&$.options.enabled&&$.bubbleLegend&&($.render(),N($,k($))))}function E(S){let L=S.series,O=0;for(;O<L.length;){if(L[O]&&L[O].isBubble&&L[O].visible&&L[O].zData.length)return O;O++}return-1}function k(S){let L=S.allItems,O=[],Y=L.length,X,H,$,G=0,B=0;for(G=0;G<Y;G++)if(H=L[G].legendItem||{},$=(L[G+1]||{}).legendItem||{},H.labelHeight&&(L[G].itemHeight=H.labelHeight),L[G]===L[Y-1]||H.y!==$.y){for(O.push({height:0}),X=O[O.length-1];B<=G;B++)L[B].itemHeight>X.height&&(X.height=L[B].itemHeight);X.step=G}return O}function v(S){let L=this.bubbleLegend,O=this.options,Y=O.bubbleLegend,X=E(this.chart);L&&L.ranges&&L.ranges.length&&(Y.ranges.length&&(Y.autoRanges=!!Y.ranges[0].autoRanges),this.destroyItem(L)),X>=0&&O.enabled&&Y.enabled&&(Y.seriesIndex=X,this.bubbleLegend=new a(Y,this),this.bubbleLegend.addToLegend(S.allItems))}function w(S){let L;if(S.defaultPrevented)return!1;let O=S.legendItem,Y=this.chart,X=O.visible;this&&this.bubbleLegend&&(O.visible=!X,O.ignoreSeries=X,L=E(Y)>=0,this.bubbleLegend.visible!==L&&(this.update({bubbleLegend:{enabled:L}}),this.bubbleLegend.visible=L),O.visible=X)}function N(S,L){let O=S.allItems,Y=S.options.rtl,X,H,$,G,B=0;O.forEach((M,D)=>{(G=M.legendItem||{}).group&&(X=G.group.translateX||0,H=G.y||0,(($=M.movementX)||Y&&M.ranges)&&($=Y?X-M.options.maxSize/2:X+$,G.group.attr({translateX:$})),D>L[B].step&&B++,G.group.attr({translateY:Math.round(H+L[B].height/2)}),G.y=H+L[B].height/2)})}return{compose:function(S,L){_(m,"Series.BubbleLegend")&&(p({legend:{bubbleLegend:r}}),x(S.prototype,"drawChartBox",T),y(L,"afterGetAllItems",v),y(L,"itemClick",w))}}}),i(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{seriesTypes:{scatter:{prototype:{pointClass:s}}}}=a,{extend:d}=o;class p extends s{haloPath(y){let g=(y&&this.marker&&this.marker.radius||0)+y;if(this.series.chart.inverted){let _=this.pos()||[0,0],{xAxis:x,yAxis:T,chart:E}=this.series;return E.renderer.symbols.circle(x.len-_[1]-g,T.len-_[0]-g,2*g,2*g)}return r.prototype.haloPath.call(this,g)}}return d(p.prototype,{ttBelow:!1}),p}),i(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s,d,p){let{parse:m}=o,{composed:y,noop:g}=s,{series:_,seriesTypes:{column:{prototype:x},scatter:T}}=d,{addEvent:E,arrayMax:k,arrayMin:v,clamp:w,extend:N,isNumber:S,merge:L,pick:O,pushUnique:Y}=p;function X(){let $=this.len,{coll:G,isXAxis:B,min:M}=this,D=B?"xData":"yData",V=(this.max||0)-(M||0),F=0,z=$,W=$/V,q;(G==="xAxis"||G==="yAxis")&&(this.series.forEach(ee=>{if(ee.bubblePadding&&ee.reserveSpace()){this.allowZoomOutside=!0,q=!0;let ue=ee[D];if(B&&((ee.onPoint||ee).getRadii(0,0,ee),ee.onPoint&&(ee.radii=ee.onPoint.radii)),V>0){let ie=ue.length;for(;ie--;)if(S(ue[ie])&&this.dataMin<=ue[ie]&&ue[ie]<=this.max){let oe=ee.radii&&ee.radii[ie]||0;F=Math.min((ue[ie]-M)*W-oe,F),z=Math.max((ue[ie]-M)*W+oe,z)}}}}),q&&V>0&&!this.logarithmic&&(z-=$,W*=($+Math.max(0,F)-Math.min(z,$))/$,[["min","userMin",F],["max","userMax",z]].forEach(ee=>{O(this.options[ee[0]],this[ee[1]])===void 0&&(this[ee[0]]+=ee[2]/W)})))}class H extends T{static compose(G,B,M){r.compose(B,M),Y(y,"Series.Bubble")&&E(G,"foundExtremes",X)}animate(G){!G&&this.points.length<this.options.animationLimit&&this.points.forEach(function(B){let{graphic:M,plotX:D=0,plotY:V=0}=B;M&&M.width&&(this.hasRendered||M.attr({x:D,y:V,width:1,height:1}),M.animate(this.markerAttribs(B),this.options.animation))},this)}getRadii(){let G=this.zData,B=this.yData,M=[],D,V,F,z=this.chart.bubbleZExtremes,{minPxSize:W,maxPxSize:q}=this.getPxExtremes();if(!z){let ee,ue=Number.MAX_VALUE,ie=-Number.MAX_VALUE;this.chart.series.forEach(oe=>{if(oe.bubblePadding&&oe.reserveSpace()){let Ee=(oe.onPoint||oe).getZExtremes();Ee&&(ue=Math.min(O(ue,Ee.zMin),Ee.zMin),ie=Math.max(O(ie,Ee.zMax),Ee.zMax),ee=!0)}}),ee?(z={zMin:ue,zMax:ie},this.chart.bubbleZExtremes=z):z={zMin:0,zMax:0}}for(V=0,D=G.length;V<D;V++)F=G[V],M.push(this.getRadius(z.zMin,z.zMax,W,q,F,B&&B[V]));this.radii=M}getRadius(G,B,M,D,V,F){let z=this.options,W=z.sizeBy!=="width",q=z.zThreshold,ee=B-G,ue=.5;if(F===null||V===null)return null;if(S(V)){if(z.sizeByAbsoluteValue&&(V=Math.abs(V-q),B=ee=Math.max(B-q,Math.abs(G-q)),G=0),V<G)return M/2-1;ee>0&&(ue=(V-G)/ee)}return W&&ue>=0&&(ue=Math.sqrt(ue)),Math.ceil(M+ue*(D-M))/2}hasData(){return!!this.processedXData.length}markerAttribs(G,B){let M=super.markerAttribs(G,B),{height:D=0,width:V=0}=M;return this.chart.inverted?N(M,{x:(G.plotX||0)-V/2,y:(G.plotY||0)-D/2}):M}pointAttribs(G,B){let M=this.options.marker.fillOpacity,D=_.prototype.pointAttribs.call(this,G,B);return M!==1&&(D.fill=m(D.fill).setOpacity(M).get("rgba")),D}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:G,options:B,radii:M}=this,{minPxSize:D}=this.getPxExtremes(),V=G.length;for(;V--;){let F=G[V],z=M?M[V]:0;this.zoneAxis==="z"&&(F.negative=(F.z||0)<(B.zThreshold||0)),S(z)&&z>=D/2?(F.marker=N(F.marker,{radius:z,width:2*z,height:2*z}),F.dlBox={x:F.plotX-z,y:F.plotY-z,width:2*z,height:2*z}):(F.shapeArgs=F.plotY=F.dlBox=void 0,F.isInside=!1)}}getPxExtremes(){let G=Math.min(this.chart.plotWidth,this.chart.plotHeight),B=V=>{let F;return typeof V=="string"&&(F=/%$/.test(V),V=parseInt(V,10)),F?G*V/100:V},M=B(O(this.options.minSize,8)),D=Math.max(B(O(this.options.maxSize,"20%")),M);return{minPxSize:M,maxPxSize:D}}getZExtremes(){let G=this.options,B=(this.zData||[]).filter(S);if(B.length){let M=O(G.zMin,w(v(B),G.displayNegative===!1?G.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),D=O(G.zMax,k(B));if(S(M)&&S(D))return{zMin:M,zMax:D}}}}return H.defaultOptions=L(T.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:$}=this.series.chart,{z:G}=this.point;return S(G)?$(G,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),N(H.prototype,{alignDataLabel:x.alignDataLabel,applyZones:g,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:a,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),E(H,"updatedData",$=>{delete $.target.chart.bubbleZExtremes}),E(H,"remove",$=>{delete $.target.chart.bubbleZExtremes}),d.registerSeriesType("bubble",H),H}),i(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a){let{seriesTypes:{column:{prototype:{pointClass:{prototype:o}}},arearange:{prototype:{pointClass:s}}}}=r,{extend:d,isNumber:p}=a;class m extends s{isValid(){return p(this.low)}}return d(m.prototype,{setState:o.setState}),m}),i(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{noop:d}=a,{seriesTypes:{arearange:p,column:m,column:{prototype:y}}}=o,{addEvent:g,clamp:_,extend:x,isNumber:T,merge:E,pick:k}=s;class v extends p{setOptions(){return E(!0,arguments[0],{stacking:void 0}),p.prototype.setOptions.apply(this,arguments)}translate(){return y.translate.apply(this)}pointAttribs(){return y.pointAttribs.apply(this,arguments)}translate3dPoints(){return y.translate3dPoints.apply(this,arguments)}translate3dShapes(){return y.translate3dShapes.apply(this,arguments)}afterColumnTranslate(){let N,S,L,O,Y=this.yAxis,X=this.xAxis,H=X.startAngleRad,$=this.chart,G=this.xAxis.isRadial,B=Math.max($.chartWidth,$.chartHeight)+999;this.points.forEach(M=>{let D=M.shapeArgs||{},V=this.options.minPointLength,F=M.plotY,z=Y.translate(M.high,0,1,0,1);if(T(z)&&T(F))if(M.plotHigh=_(z,-B,B),M.plotLow=_(F,-B,B),O=M.plotHigh,Math.abs(N=k(M.rectPlotY,M.plotY)-M.plotHigh)<V?(S=V-N,N+=S,O-=S/2):N<0&&(N*=-1,O-=N),G&&this.polar)L=M.barX+H,M.shapeType="arc",M.shapeArgs=this.polar.arc(O+N,O,L,L+M.pointWidth);else{D.height=N,D.y=O;let{x:W=0,width:q=0}=D;M.shapeArgs=E(M.shapeArgs,this.crispCol(W,O,q,N)),M.tooltipPos=$.inverted?[Y.len+Y.pos-$.plotLeft-O-N/2,X.len+X.pos-$.plotTop-W-q/2,N]:[X.left-$.plotLeft+W+q/2,Y.pos-$.plotTop+O+N/2,N]}})}}return v.defaultOptions=E(m.defaultOptions,p.defaultOptions,{borderRadius:{where:"all"},pointRange:null,legendSymbol:"rectangle",marker:null,states:{hover:{halo:!1}}}),g(v,"afterColumnTranslate",function(){v.prototype.afterColumnTranslate.apply(this)},{order:5}),x(v.prototype,{directTouch:!0,pointClass:r,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:y.adjustForMissingColumns,animate:y.animate,crispCol:y.crispCol,drawGraph:d,drawPoints:y.drawPoints,getSymbol:d,drawTracker:y.drawTracker,getColumnMetrics:y.getColumnMetrics}),o.registerSeriesType("columnrange",v),v}),i(t,"Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js",[],function(){return{}}),i(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{column:s}=a.seriesTypes,{clamp:d,merge:p,pick:m}=o;class y extends s{translate(){let _=this.chart,x=this.options,T=this.dense=this.closestPointRange*this.xAxis.transA<2,E=this.borderWidth=m(x.borderWidth,T?0:1),k=this.yAxis,v=x.threshold,w=m(x.minPointLength,5),N=this.getColumnMetrics(),S=N.width,L=this.pointXOffset=N.offset,O=this.translatedThreshold=k.getThreshold(v),Y=this.barW=Math.max(S,1+2*E);for(let X of(_.inverted&&(O-=.5),x.pointPadding&&(Y=Math.ceil(Y)),super.translate(),this.points)){let H=m(X.yBottom,O),$=999+Math.abs(H),G=d(X.plotY,-$,k.len+$),B=Y/2,M=Math.min(G,H),D=Math.max(G,H)-M,V=X.plotX+L,F,z,W,q,ee,ue,ie,oe,Ee,me,Te;x.centerInCategory&&(V=this.adjustForMissingColumns(V,S,X,N)),X.barX=V,X.pointWidth=S,X.tooltipPos=_.inverted?[k.len+k.pos-_.plotLeft-G,this.xAxis.len-V-B,D]:[V+B,G+k.pos-_.plotTop,D],F=v+(X.total||X.y),x.stacking==="percent"&&(F=v+(X.y<0)?-100:100);let K=k.toPixels(F,!0);W=(z=_.plotHeight-K-(_.plotHeight-O))?B*(M-K)/z:0,q=z?B*(M+D-K)/z:0,ue=V-W+B,ie=V+W+B,oe=V+q+B,Ee=V-q+B,me=M-w,Te=M+D,X.y<0&&(me=M,Te=M+D+w),_.inverted&&(ee=k.width-M,z=K-(k.width-O),W=B*(K-ee)/z,q=B*(K-(ee-D))/z,ie=(ue=V+B+W)-2*W,oe=V-q+B,Ee=V+q+B,me=M,Te=M+D-w,X.y<0&&(Te=M+D+w)),X.shapeType="path",X.shapeArgs={x:ue,y:me,width:ie-ue,height:D,d:[["M",ue,me],["L",ie,me],["L",oe,Te],["L",Ee,Te],["Z"]]}}}}return y.defaultOptions=p(s.defaultOptions,r),a.registerSeriesType("columnpyramid",y),y}),i(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),i(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s,d){let{arearange:p}=s.seriesTypes,{addEvent:m,merge:y,extend:g}=d;class _ extends r{getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||a.prototype.getColumnMetrics.call(this)}drawDataLabels(){let T=this.pointValKey;if(p)for(let E of(p.prototype.drawDataLabels.call(this),this.points))E.y=E[T]}toYData(T){return[T.low,T.high]}}return _.defaultOptions=y(r.defaultOptions,o),m(_,"afterTranslate",function(){for(let x of this.points)x.plotLow=x.plotY},{order:0}),g(_.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),s.registerSeriesType("errorbar",_),_}),i(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){let{series:{prototype:{pointClass:a}}}=r;return class extends a{setState(o){this.state=o}}}),i(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{noop:d}=a,{series:p,seriesTypes:{column:m}}=o,{clamp:y,isNumber:g,extend:_,merge:x,pick:T,pInt:E,defined:k}=s;class v extends p{translate(){let N=this.yAxis,S=this.options,L=N.center;this.generatePoints(),this.points.forEach(O=>{let Y=x(S.dial,O.dial),X=E(Y.radius)*L[2]/200,H=E(Y.baseLength)*X/100,$=E(Y.rearLength)*X/100,G=Y.baseWidth,B=Y.topWidth,M=S.overshoot,D=N.startAngleRad+N.translate(O.y,void 0,void 0,void 0,!0);(g(M)||S.wrap===!1)&&(M=g(M)?M/180*Math.PI:0,D=y(D,N.startAngleRad-M,N.endAngleRad+M)),D=180*D/Math.PI,O.shapeType="path";let V=Y.path||[["M",-$,-G/2],["L",H,-G/2],["L",X,-B/2],["L",X,B/2],["L",H,G/2],["L",-$,G/2],["Z"]];O.shapeArgs={d:V,translateX:L[0],translateY:L[1],rotation:D},O.plotX=L[0],O.plotY=L[1],k(O.y)&&N.max-N.min&&(O.percentage=(O.y-N.min)/(N.max-N.min)*100)})}drawPoints(){let N=this,S=N.chart,L=N.yAxis.center,O=N.pivot,Y=N.options,X=Y.pivot,H=S.renderer;N.points.forEach($=>{let G=$.graphic,B=$.shapeArgs,M=B.d,D=x(Y.dial,$.dial);G?(G.animate(B),B.d=M):$.graphic=H[$.shapeType](B).addClass("highcharts-dial").add(N.group),S.styledMode||$.graphic[G?"animate":"attr"]({stroke:D.borderColor,"stroke-width":D.borderWidth,fill:D.backgroundColor})}),O?O.animate({translateX:L[0],translateY:L[1]}):X&&(N.pivot=H.circle(0,0,X.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(L[0],L[1]).add(N.group),S.styledMode||N.pivot.attr({fill:X.backgroundColor,stroke:X.borderColor,"stroke-width":X.borderWidth}))}animate(N){let S=this;N||S.points.forEach(L=>{let O=L.graphic;O&&(O.attr({rotation:180*S.yAxis.startAngleRad/Math.PI}),O.animate({rotation:L.shapeArgs.rotation},S.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),p.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(N,S){p.prototype.setData.call(this,N,!1),this.processData(),this.generatePoints(),T(S,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return v.defaultOptions=x(p.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),_(v.prototype,{angular:!0,directTouch:!0,drawGraph:d,drawTracker:m.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:r,trackerGroups:["group","dataLabelsGroup"]}),o.registerSeriesType("gauge",v),v}),i(t,"Series/DragNodesComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{composed:o}=r,{addEvent:s,pushUnique:d}=a;function p(){let m,y,g,_=this;_.container&&(m=s(_.container,"mousedown",x=>{let T=_.hoverPoint;T&&T.series&&T.series.hasDraggableNodes&&T.series.options.draggable&&(T.series.onMouseDown(T,x),y=s(_.container,"mousemove",E=>T&&T.series&&T.series.onMouseMove(T,E)),g=s(_.container.ownerDocument,"mouseup",E=>(y(),g(),T&&T.series&&T.series.onMouseUp(T,E))))})),s(_,"destroy",function(){m()})}return{compose:function(m){d(o,"DragNodes")&&s(m,"load",p)},onMouseDown:function(m,y){var _;let g=((_=this.chart.pointer)==null?void 0:_.normalize(y))||y;m.fixedPosition={chartX:g.chartX,chartY:g.chartY,plotX:m.plotX,plotY:m.plotY},m.inDragMode=!0},onMouseMove:function(m,y){var g;if(m.fixedPosition&&m.inDragMode){let _,x,T=this.chart,E=((g=T.pointer)==null?void 0:g.normalize(y))||y,k=m.fixedPosition.chartX-E.chartX,v=m.fixedPosition.chartY-E.chartY,w=T.graphLayoutsLookup;(Math.abs(k)>5||Math.abs(v)>5)&&(_=m.fixedPosition.plotX-k,x=m.fixedPosition.plotY-v,T.isInsidePlot(_,x)&&(m.plotX=_,m.plotY=x,m.hasDragged=!0,this.redrawHalo(m),w.forEach(N=>{N.restartSimulation()})))}},onMouseUp:function(m){m.fixedPosition&&(m.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),m.inDragMode=m.hasDragged=!1,this.options.fixedDraggable||delete m.fixedPosition)},redrawHalo:function(m){m&&this.halo&&this.halo.attr({d:m.haloPath(this.options.states.hover.halo.size)})}}}),i(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){let{setAnimation:s}=r,{composed:d}=a,{addEvent:p,pushUnique:m}=o;function y(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(T=>{T.updateSimulation()}),this.redraw())}function g(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(T=>{T.updateSimulation(!1)}),this.redraw())}function _(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(T=>{T.stop()})}function x(){let T,E=!1,k=v=>{v.maxIterations--&&isFinite(v.temperature)&&!v.isStable()&&!v.enableSimulation&&(v.beforeStep&&v.beforeStep(),v.step(),T=!1,E=!0)};if(this.graphLayoutsLookup){for(s(!1,this),this.graphLayoutsLookup.forEach(v=>v.start());!T;)T=!0,this.graphLayoutsLookup.forEach(k);E&&this.series.forEach(v=>{v&&v.layout&&v.render()})}}return{compose:function(T){m(d,"GraphLayout")&&(p(T,"afterPrint",y),p(T,"beforePrint",g),p(T,"predraw",_),p(T,"render",x))},integrations:{},layouts:{}}}),i(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],function(r,a,o){let{seriesTypes:{bubble:{prototype:{pointClass:s}}}}=o;return class extends s{destroy(){var d;return(d=this.series)!=null&&d.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),a.prototype.destroy.apply(this,arguments)}firePointEvent(){let d=this.series.options;if(this.isParentNode&&d.parentNode){let p=d.allowPointSelect;d.allowPointSelect=d.parentNode.allowPointSelect,a.prototype.firePointEvent.apply(this,arguments),d.allowPointSelect=p}else a.prototype.firePointEvent.apply(this,arguments)}select(){let d=this.series.chart;this.isParentNode?(d.getSelectedPoints=d.getSelectedParentNodes,a.prototype.select.apply(this,arguments),d.getSelectedPoints=r.prototype.getSelectedPoints):a.prototype.select.apply(this,arguments)}}}),i(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],function(r){let{isNumber:a}=r;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){let{numberFormatter:o}=this.series.chart,{value:s}=this.point;return a(s)?o(s,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),i(t,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(r,a,o){let s=r.getMass(),d=-o.x*a*this.diffTemperature,p=-o.y*a*this.diffTemperature;r.fromNode.fixedPosition||(r.fromNode.plotX-=d*s.fromNode/r.fromNode.degree,r.fromNode.plotY-=p*s.fromNode/r.fromNode.degree),r.toNode.fixedPosition||(r.toNode.plotX+=d*s.toNode/r.toNode.degree,r.toNode.plotY+=p*s.toNode/r.toNode.degree)},attractiveForceFunction:function(r,a){return(a-r)/r},barycenter:function(){let r=this.options.gravitationalConstant||0,a=(this.barycenter.xFactor-(this.box.left+this.box.width)/2)*r,o=(this.barycenter.yFactor-(this.box.top+this.box.height)/2)*r;this.nodes.forEach(function(s){s.fixedPosition||(s.plotX-=a/s.mass/s.degree,s.plotY-=o/s.mass/s.degree)})},getK:function(r){return Math.pow(r.box.width*r.box.height/r.nodes.length,.5)},integrate:function(r,a){let o=-r.options.friction,s=r.options.maxSpeed,d=a.prevX,p=a.prevY,m=(a.plotX+a.dispX-d)*o,y=(a.plotY+a.dispY-p)*o,g=Math.abs,_=g(m)/(m||1),x=g(y)/(y||1),T=_*Math.min(s,Math.abs(m)),E=x*Math.min(s,Math.abs(y));a.prevX=a.plotX+a.dispX,a.prevY=a.plotY+a.dispY,a.plotX+=T,a.plotY+=E,a.temperature=r.vectorLength({x:T,y:E})},repulsive:function(r,a,o){let s=a*this.diffTemperature/r.mass/r.degree;r.fixedPosition||(r.plotX+=o.x*s,r.plotY+=o.y*s)},repulsiveForceFunction:function(r,a){return(a-r)/r*(a>r?1:0)}}}),i(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(r,a){let{noop:o}=r;return{barycenter:function(){let s,d,p=this.options.gravitationalConstant,m=this.box,y=this.nodes;for(let g of y)this.options.splitSeries&&!g.isParentNode?(s=g.series.parentNode.plotX,d=g.series.parentNode.plotY):(s=m.width/2,d=m.height/2),g.fixedPosition||(g.plotX-=(g.plotX-s)*p/(g.mass*Math.sqrt(y.length)),g.plotY-=(g.plotY-d)*p/(g.mass*Math.sqrt(y.length)))},getK:o,integrate:a.integrate,repulsive:function(s,d,p,m){let y=d*this.diffTemperature/s.mass/s.degree,g=p.x*y,_=p.y*y;s.fixedPosition||(s.plotX+=g,s.plotY+=_),m.fixedPosition||(m.plotX-=g,m.plotY-=_)},repulsiveForceFunction:function(s,d,p,m){return Math.min(s,(p.marker.radius+m.marker.radius)/2)}}}),i(t,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(r,a,o,s){let d=r.getMass(),p=o.x/s*a,m=o.y/s*a;r.fromNode.fixedPosition||(r.fromNode.dispX-=p*d.fromNode/r.fromNode.degree,r.fromNode.dispY-=m*d.fromNode/r.fromNode.degree),r.toNode.fixedPosition||(r.toNode.dispX+=p*d.toNode/r.toNode.degree,r.toNode.dispY+=m*d.toNode/r.toNode.degree)},attractiveForceFunction:function(r,a){return r*r/a},barycenter:function(){let r=this.options.gravitationalConstant,a=this.barycenter.xFactor,o=this.barycenter.yFactor;this.nodes.forEach(function(s){if(!s.fixedPosition){let d=s.getDegree(),p=d*(1+d/2);s.dispX+=(a-s.plotX)*r*p/s.degree,s.dispY+=(o-s.plotY)*r*p/s.degree}})},getK:function(r){return Math.pow(r.box.width*r.box.height/r.nodes.length,.3)},integrate:function(r,a){a.dispX+=a.dispX*r.options.friction,a.dispY+=a.dispY*r.options.friction;let o=a.temperature=r.vectorLength({x:a.dispX,y:a.dispY});o!==0&&(a.plotX+=a.dispX/o*Math.min(Math.abs(a.dispX),r.temperature),a.plotY+=a.dispY/o*Math.min(Math.abs(a.dispY),r.temperature))},repulsive:function(r,a,o,s){r.dispX+=o.x/s*a/r.degree,r.dispY+=o.y/s*a/r.degree},repulsiveForceFunction:function(r,a){return a*a/r}}}),i(t,"Series/Networkgraph/QuadTreeNode.js",[],function(){class r{constructor(o){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=o,this.boxSize=Math.min(o.width,o.height)}divideBox(){let o=this.box.width/2,s=this.box.height/2;this.nodes[0]=new r({left:this.box.left,top:this.box.top,width:o,height:s}),this.nodes[1]=new r({left:this.box.left+o,top:this.box.top,width:o,height:s}),this.nodes[2]=new r({left:this.box.left+o,top:this.box.top+s,width:o,height:s}),this.nodes[3]=new r({left:this.box.left,top:this.box.top+s,width:o,height:s})}getBoxPosition(o){let s=o.plotX<this.box.left+this.box.width/2,d=o.plotY<this.box.top+this.box.height/2;return s?d?0:3:d?1:2}insert(o,s){let d;this.isInternal?this.nodes[this.getBoxPosition(o)].insert(o,s-1):(this.isEmpty=!1,this.body?s?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,s-1),this.body=!0),this.nodes[this.getBoxPosition(o)].insert(o,s-1)):((d=new r({top:o.plotX||NaN,left:o.plotY||NaN,width:.1,height:.1})).body=o,d.isInternal=!1,this.nodes.push(d)):(this.isInternal=!1,this.body=o))}updateMassAndCenter(){let o=0,s=0,d=0;if(this.isInternal){for(let p of this.nodes)p.isEmpty||(o+=p.mass,s+=p.plotX*p.mass,d+=p.plotY*p.mass);s/=o,d/=o}else this.body&&(o=this.body.mass,s=this.body.plotX,d=this.body.plotY);this.mass=o,this.plotX=s,this.plotY=d}}return r}),i(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],function(r){return class{constructor(a,o,s,d){this.box={left:a,top:o,width:s,height:d},this.maxDepth=25,this.root=new r(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(a){a.updateMassAndCenter()})}insertNodes(a){for(let o of a)this.root.insert(o,this.maxDepth)}visitNodeRecursive(a,o,s){let d;if(a||(a=this.root),a===this.root&&o&&(d=o(a)),d!==!1){for(let p of a.nodes){if(p.isInternal){if(o&&(d=o(p)),d===!1)continue;this.visitNodeRecursive(p,o,s)}else p.body&&o&&o(p.body);s&&s(p)}a===this.root&&s&&s(a)}}}}),i(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(r,a,o,s,d,p){let{win:m}=a,{clamp:y,defined:g,isFunction:_,fireEvent:x,pick:T}=d;class E{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(v){o.compose(v),o.integrations.euler=r,o.integrations.verlet=p,o.layouts["reingold-fruchterman"]=E}init(v){this.options=v,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=o.integrations[v.integration],this.enableSimulation=v.enableSimulation,this.attractiveForce=T(v.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=T(v.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=v.approximation}updateSimulation(v){this.enableSimulation=T(v,this.options.enableSimulation)}start(){let v=this.series,w=this.options;this.currentStep=0,this.forces=v[0]&&v[0].forces||[],this.chart=v[0]&&v[0].chart,this.initialRendering&&(this.initPositions(),v.forEach(function(N){N.finishedAnimating=!0,N.render()})),this.setK(),this.resetSimulation(w),this.enableSimulation&&this.step()}step(){let v=this.series;for(let w of(this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter()),this.forces||[]))this[w+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(let w of v)w.chart&&w.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&m.cancelAnimationFrame(this.simulation),this.simulation=m.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(w=>{x(w,"afterSimulation")}))}}stop(){this.simulation&&m.cancelAnimationFrame(this.simulation)}setArea(v,w,N,S){this.box={left:v,top:w,width:N,height:S}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(v,w){for(let N of v)w.indexOf(N)===-1&&w.push(N)}removeElementFromCollection(v,w){let N=w.indexOf(v);N!==-1&&w.splice(N,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(v){this.maxIterations=T(v,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(v){this.initialRendering=v}createQuadTree(){this.quadTree=new s(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){let v=this.options.initialPositions;if(_(v))for(let w of(v.call(this),this.nodes))g(w.prevX)||(w.prevX=w.plotX),g(w.prevY)||(w.prevY=w.plotY),w.dispX=0,w.dispY=0;else v==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){let v,w=this.box,N=this.nodes,S=2*Math.PI/(N.length+1),L=N.filter(function($){return $.linksTo.length===0}),O={},Y=this.options.initialPositionRadius,X=$=>{for(let G of $.linksFrom||[])O[G.toNode.id]||(O[G.toNode.id]=!0,H.push(G.toNode),X(G.toNode))},H=[];for(let $ of L)H.push($),X($);if(H.length)for(let $ of N)H.indexOf($)===-1&&H.push($);else H=N;for(let $=0,G=H.length;$<G;++$)(v=H[$]).plotX=v.prevX=T(v.plotX,w.width/2+Y*Math.cos($*S)),v.plotY=v.prevY=T(v.plotY,w.height/2+Y*Math.sin($*S)),v.dispX=0,v.dispY=0}setRandomPositions(){let v,w=this.box,N=this.nodes,S=N.length+1,L=O=>{let Y=O*O/Math.PI;return Y-Math.floor(Y)};for(let O=0,Y=N.length;O<Y;++O)(v=N[O]).plotX=v.prevX=T(v.plotX,w.width*L(O)),v.plotY=v.prevY=T(v.plotY,w.height*L(S+O)),v.dispX=0,v.dispY=0}force(v,...w){this.integration[v].apply(this,w)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let v=0,w=0,N=0;for(let S of this.nodes)w+=S.plotX*S.mass,N+=S.plotY*S.mass,v+=S.mass;return this.barycenter={x:w,y:N,xFactor:w/v,yFactor:N/v},this.barycenter}barnesHutApproximation(v,w){let N,S,L=this.getDistXY(v,w),O=this.vectorLength(L);return v!==w&&O!==0&&(w.isInternal?w.boxSize/O<this.options.theta&&O!==0?(S=this.repulsiveForce(O,this.k),this.force("repulsive",v,S*w.mass,L,O),N=!1):N=!0:(S=this.repulsiveForce(O,this.k),this.force("repulsive",v,S*w.mass,L,O))),N}repulsiveForces(){if(this.approximation==="barnes-hut")for(let v of this.nodes)this.quadTree.visitNodeRecursive(null,w=>this.barnesHutApproximation(v,w));else{let v,w,N;for(let S of this.nodes)for(let L of this.nodes)S===L||S.fixedPosition||(N=this.getDistXY(S,L),(w=this.vectorLength(N))!==0&&(v=this.repulsiveForce(w,this.k),this.force("repulsive",S,v*L.mass,N,w)))}}attractiveForces(){let v,w,N;for(let S of this.links)S.fromNode&&S.toNode&&(v=this.getDistXY(S.fromNode,S.toNode),(w=this.vectorLength(v))!==0&&(N=this.attractiveForce(w,this.k),this.force("attractive",S,N,v,w)))}applyLimits(){for(let v of this.nodes)v.fixedPosition||(this.integration.integrate(this,v),this.applyLimitBox(v,this.box),v.dispX=0,v.dispY=0)}applyLimitBox(v,w){let N=v.radius;v.plotX=y(v.plotX,w.left+N,w.width-N),v.plotY=y(v.plotY,w.top+N,w.height-N)}coolDown(v,w,N){return v-w*N}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||this.temperature<=0}getSystemTemperature(){let v=0;for(let w of this.nodes)v+=w.temperature;return v}vectorLength(v){return Math.sqrt(v.x*v.x+v.y*v.y)}getDistR(v,w){let N=this.getDistXY(v,w);return this.vectorLength(N)}getDistXY(v,w){let N=v.plotX-w.plotX,S=v.plotY-w.plotY;return{x:N,y:S,absX:Math.abs(N),absY:Math.abs(S)}}}return E}),i(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{addEvent:d,pick:p}=s;function m(){let _=this.series,x=[];return _.forEach(T=>{T.parentNode&&T.parentNode.selected&&x.push(T.parentNode)}),x}function y(){this.allDataPoints&&delete this.allDataPoints}class g extends o{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.series=[]}static compose(x){o.compose(x),r.integrations.packedbubble=a,r.layouts.packedbubble=g;let T=x.prototype;T.getSelectedParentNodes||(d(x,"beforeRedraw",y),T.getSelectedParentNodes=m)}beforeStep(){this.options.marker&&this.series.forEach(x=>{x&&x.calculateParentRadius()})}isStable(){let x=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&x<1e-5||this.temperature<=0}setCircularPositions(){let x=this.box,T=this.nodes,E=2*Math.PI/(T.length+1),k=this.options.initialPositionRadius,v,w,N=0;for(let S of T)this.options.splitSeries&&!S.isParentNode?(v=S.series.parentNode.plotX,w=S.series.parentNode.plotY):(v=x.width/2,w=x.height/2),S.plotX=S.prevX=p(S.plotX,v+k*Math.cos(S.index||N*E)),S.plotY=S.prevY=p(S.plotY,w+k*Math.sin(S.index||N*E)),S.dispX=0,S.dispY=0,N++}repulsiveForces(){let x,T,E,k=this,v=k.options.bubblePadding,w=k.nodes;w.forEach(N=>{N.degree=N.mass,N.neighbours=0,w.forEach(S=>{x=0,N!==S&&!N.fixedPosition&&(k.options.seriesInteraction||N.series===S.series)&&(E=k.getDistXY(N,S),(T=k.vectorLength(E)-(N.marker.radius+S.marker.radius+v))<0&&(N.degree+=.01,N.neighbours++,x=k.repulsiveForce(-T/Math.sqrt(N.neighbours),k.k,N,S)),k.force("repulsive",N,x*S.mass,E,S,T))})})}applyLimitBox(x,T){let E,k;this.options.splitSeries&&!x.isParentNode&&this.options.parentNodeLimit&&(E=this.getDistXY(x,x.series.parentNode),(k=x.series.parentNodeRadius-x.marker.radius-this.vectorLength(E))<0&&k>-2*x.marker.radius&&(x.plotX-=.01*E.x,x.plotY-=.01*E.y)),super.applyLimitBox(x,T)}}return r.layouts.packedbubble=g,g}),i(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(r,a){let{merge:o,syncTimeout:s}=r,{animObject:d}=a;return{initDataLabels:function(){let p=this.options.dataLabels;if(!this.dataLabelsGroup){let m=this.initDataLabelsGroup();return!this.chart.styledMode&&(p!=null&&p.style)&&m.css(p.style),m.attr({opacity:0}),this.visible&&m.show(),m}return this.dataLabelsGroup.attr(o({opacity:1},this.getPlotBox("data-labels"))),this.dataLabelsGroup},initDataLabelsDefer:function(){var m;let p=this.options.dataLabels;p!=null&&p.defer&&((m=this.options.layoutAlgorithm)!=null&&m.enableSimulation)?s(()=>{this.deferDataLabels=!1},p?d(p.animation).defer:0):this.deferDataLabels=!1}}}),i(t,"Extensions/TextPath.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{deg2rad:o}=r,{addEvent:s,merge:d,uniqueKey:p,defined:m,extend:y}=a;function g(T,E){E=d(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},E);let k=this.renderer.url,v=this.text||this,w=v.textPath,{attributes:N,enabled:S}=E;if(T=T||w&&w.path,w&&w.undo(),T&&S){let L=s(v,"afterModifyTree",O=>{if(T&&S){let Y=T.attr("id");Y||T.attr("id",Y=p());let X={x:0,y:0};m(N.dx)&&(X.dx=N.dx,delete N.dx),m(N.dy)&&(X.dy=N.dy,delete N.dy),v.attr(X),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());let H=O.nodes.slice(0);O.nodes.length=0,O.nodes[0]={tagName:"textPath",attributes:y(N,{"text-anchor":N.textAnchor,href:`${k}#${Y}`}),children:H}}});v.textPath={path:T,undo:L}}else v.attr({dx:0,dy:0}),delete v.textPath;return this.added&&(v.textCache="",this.renderer.buildText(v)),this}function _(T){var v;let E=T.bBox,k=(v=this.element)==null?void 0:v.querySelector("textPath");if(k){let w=[],{b:N,h:S}=this.renderer.fontMetrics(this.element),L=S-N,O=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),Y=k.innerHTML.replace(O,"").split(/<tspan class="highcharts-br"[^>]*>/),X=Y.length,H=($,G)=>{let{x:B,y:M}=G,D=(k.getRotationOfChar($)-90)*o,V=Math.cos(D),F=Math.sin(D);return[[B-L*V,M-L*F],[B+N*V,M+N*F]]};for(let $=0,G=0;G<X;G++){let B=Y[G].length;for(let M=0;M<B;M+=5)try{let D=$+M+G,[V,F]=H(D,k.getStartPositionOfChar(D));M===0?(w.push(F),w.push(V)):(G===0&&w.unshift(F),G===X-1&&w.push(V))}catch{break}$+=B-1;try{let M=$+G,D=k.getEndPositionOfChar(M),[V,F]=H(M,D);w.unshift(F),w.unshift(V)}catch{break}}w.length&&w.push(w[0].slice()),E.polygon=w}return E}function x(T){var w;let E=T.labelOptions,k=T.point,v=E[k.formatPrefix+"TextPath"]||E.textPath;v&&!E.useHTML&&(this.setTextPath(((w=k.getDataLabelPath)==null?void 0:w.call(k,this))||k.graphic,v),k.dataLabelPath&&!v.enabled&&(k.dataLabelPath=k.dataLabelPath.destroy()))}return{compose:function(T){s(T,"afterGetBBox",_),s(T,"beforeAddingDataLabel",x);let E=T.prototype;E.setTextPath||(E.setTextPath=g)}}}),i(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Extensions/TextPath.js"]],function(r,a,o,s,d,p,m,y,g,_,x,T){let{parse:E}=r,{noop:k}=s,{series:{prototype:v},seriesTypes:{bubble:w}}=y,{initDataLabels:N,initDataLabelsDefer:S}=g,{addEvent:L,clamp:O,defined:Y,extend:X,fireEvent:H,isArray:$,isNumber:G,merge:B,pick:M}=_;T.compose(x);class D extends w{constructor(){super(...arguments),this.parentNodeMass=0,this.deferDataLabels=!0}static compose(F,z,W){w.compose(F,z,W),a.compose(z),m.compose(z)}accumulateAllPoints(){let F,z=this.chart,W=[];for(let q of z.series)if(q.is("packedbubble")&&q.reserveSpace()){F=q.yData||[];for(let ee=0;ee<F.length;ee++)W.push([null,null,F[ee],q.index,ee,{id:ee,marker:{radius:0}}])}return W}addLayout(){let F=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},z=F.type||"packedbubble",W=this.chart.options.chart,q=this.chart.graphLayoutsStorage,ee=this.chart.graphLayoutsLookup,ue;q||(this.chart.graphLayoutsStorage=q={},this.chart.graphLayoutsLookup=ee=[]),(ue=q[z])||(F.enableSimulation=Y(W.forExport)?!W.forExport:F.enableSimulation,q[z]=ue=new o.layouts[z],ue.init(F),ee.splice(ue.index,0,ue)),this.layout=ue,this.points.forEach(ie=>{ie.mass=2,ie.degree=1,ie.collisionNmb=1}),ue.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),ue.addElementsToCollection([this],ue.series),ue.addElementsToCollection(this.points,ue.nodes)}addSeriesLayout(){let F=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},z=F.type||"packedbubble",W=this.chart.graphLayoutsStorage,q=this.chart.graphLayoutsLookup,ee=B(F,F.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),ue=W[z+"-series"];ue||(W[z+"-series"]=ue=new o.layouts[z],ue.init(ee),q.splice(ue.index,0,ue)),this.parentNodeLayout=ue,this.createParentNodes()}calculateParentRadius(){let F=this.seriesBox();this.parentNodeRadius=O(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,F?Math.max(Math.sqrt(Math.pow(F.width,2)+Math.pow(F.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let F=this.chart.series,z=this.options.zMin,W=this.options.zMax,q=1/0,ee=-1/0;return z&&W?[z,W]:(F.forEach(ue=>{ue.yData.forEach(ie=>{Y(ie)&&(ie>ee&&(ee=ie),ie<q&&(q=ie))})}),[z=M(z,q),W=M(W,ee)])}checkOverlap(F,z){let W=F[0]-z[0],q=F[1]-z[1];return Math.sqrt(W*W+q*q)-Math.abs(F[2]+z[2])<-.001}createParentNodes(){let F=this.pointClass,z=this.chart,W=this.parentNodeLayout,q=this.layout.options,ee,ue=this.parentNode,ie={radius:this.parentNodeRadius,lineColor:this.color,fillColor:E(this.color).brighten(.4).get()};q.parentNodeOptions&&(ie=B(q.parentNodeOptions.marker||{},ie)),this.parentNodeMass=0,this.points.forEach(oe=>{this.parentNodeMass+=Math.PI*Math.pow(oe.marker.radius,2)}),this.calculateParentRadius(),W.nodes.forEach(oe=>{oe.seriesIndex===this.index&&(ee=!0)}),W.setArea(0,0,z.plotWidth,z.plotHeight),ee||(ue||(ue=new F(this,{mass:this.parentNodeRadius/2,marker:ie,dataLabels:{inside:!1},states:{normal:{marker:ie},hover:{marker:ie}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(ue.plotX=this.parentNode.plotX,ue.plotY=this.parentNode.plotY),this.parentNode=ue,W.addElementsToCollection([this],W.series),W.addElementsToCollection([ue],W.nodes))}deferLayout(){let F=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),F.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(F=>{F.removeElementFromCollection(this,F.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),v.destroy.apply(this,arguments)}drawDataLabels(){!this.deferDataLabels&&(v.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",v.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){var ee;if(!this.layout||!this.layout.options.splitSeries)return;let F=this.chart,z=this.layout.options.parentNodeOptions.marker,W={fill:z.fillColor||E(this.color).brighten(.4).get(),opacity:z.fillOpacity,stroke:z.lineColor||this.color,"stroke-width":M(z.lineWidth,this.options.lineWidth)},q={};this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,F.seriesGroup),(ee=this.group)==null||ee.attr({zIndex:2}),this.calculateParentRadius(),this.parentNode&&Y(this.parentNode.plotX)&&Y(this.parentNode.plotY)&&Y(this.parentNodeRadius)&&(q=B({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},W),this.parentNode.graphic||(this.graph=this.parentNode.graphic=F.renderer.symbol(W.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(q))}drawTracker(){let F,z=this.parentNode;super.drawTracker(),z&&(F=$(z.dataLabels)?z.dataLabels:z.dataLabel?[z.dataLabel]:[],z.graphic&&(z.graphic.element.point=z),F.forEach(W=>{(W.div||W.element).point=z}))}getPointRadius(){let F,z,W,q,ee=this.chart,ue=ee.plotWidth,ie=ee.plotHeight,oe=this.options,Ee=oe.useSimulation,me=Math.min(ue,ie),Te={},K=[],J=ee.allDataPoints||[],se=J.length;["minSize","maxSize"].forEach(Q=>{let ae=parseInt(oe[Q],10),ce=/%$/.test(oe[Q]);Te[Q]=ce?me*ae/100:ae*Math.sqrt(se)}),ee.minRadius=F=Te.minSize/Math.sqrt(se),ee.maxRadius=z=Te.maxSize/Math.sqrt(se);let xe=Ee?this.calculateZExtremes():[F,z];J.forEach((Q,ae)=>{W=Ee?O(Q[2],xe[0],xe[1]):Q[2],(q=this.getRadius(xe[0],xe[1],F,z,W))===0&&(q=null),J[ae][2]=q,K.push(q)}),this.radii=K}init(){return v.init.apply(this,arguments),S.call(this),this.eventsToUnbind.push(L(this,"updatedData",function(){this.chart.series.forEach(F=>{F.type===this.type&&(F.isDirty=!0)},this)})),this}onMouseUp(F){if(F.fixedPosition&&!F.removed){let z,W=this.layout,q=this.parentNodeLayout;q&&W.options.dragBetweenSeries&&q.nodes.forEach(ee=>{F&&F.marker&&ee!==F.series.parentNode&&(z=W.getDistXY(F,ee),W.vectorLength(z)-ee.marker.radius-F.marker.radius<0&&(ee.series.addPoint(B(F.options,{plotX:F.plotX,plotY:F.plotY}),!1),W.removeElementFromCollection(F,W.nodes),F.remove()))}),a.onMouseUp.apply(this,arguments)}}placeBubbles(F){let z=this.checkOverlap,W=this.positionBubble,q=[],ee=1,ue=0,ie=0,oe,Ee=[],me,Te=F.sort((K,J)=>J[2]-K[2]);if(Te.length){if(q.push([[0,0,Te[0][2],Te[0][3],Te[0][4]]]),Te.length>1)for(q.push([[0,0-Te[1][2]-Te[0][2],Te[1][2],Te[1][3],Te[1][4]]]),me=2;me<Te.length;me++)Te[me][2]=Te[me][2]||1,z(oe=W(q[ee][ue],q[ee-1][ie],Te[me]),q[ee][0])?(q.push([]),ie=0,q[ee+1].push(W(q[ee][ue],q[ee][0],Te[me])),ee++,ue=0):ee>1&&q[ee-1][ie+1]&&z(oe,q[ee-1][ie+1])?(ie++,q[ee].push(W(q[ee][ue],q[ee-1][ie],Te[me])),ue++):(ue++,q[ee].push(oe));this.chart.stages=q,this.chart.rawPositions=[].concat.apply([],q),this.resizeRadius(),Ee=this.chart.rawPositions}return Ee}pointAttribs(F,z){let W=this.options,q=F&&F.isParentNode,ee=W.marker;q&&W.layoutAlgorithm&&W.layoutAlgorithm.parentNodeOptions&&(ee=W.layoutAlgorithm.parentNodeOptions.marker);let ue=ee.fillOpacity,ie=v.pointAttribs.call(this,F,z);return ue!==1&&(ie["fill-opacity"]=ue),ie}positionBubble(F,z,W){let q=Math.asin,ee=Math.acos,ue=Math.pow,ie=Math.abs,oe=(0,Math.sqrt)(ue(F[0]-z[0],2)+ue(F[1]-z[1],2)),Ee=ee((ue(oe,2)+ue(W[2]+z[2],2)-ue(W[2]+F[2],2))/(2*(W[2]+z[2])*oe)),me=q(ie(F[0]-z[0])/oe),Te=(F[1]-z[1]<0?0:Math.PI)+Ee+me*((F[0]-z[0])*(F[1]-z[1])<0?1:-1),K=Math.cos(Te),J=Math.sin(Te);return[z[0]+(z[2]+W[2])*J,z[1]-(z[2]+W[2])*K,W[2],W[3],W[4]]}render(){let F=[];v.render.apply(this,arguments),!this.options.dataLabels.allowOverlap&&(this.data.forEach(z=>{$(z.dataLabels)&&z.dataLabels.forEach(W=>{F.push(W)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(F))}resizeRadius(){let F,z,W,q,ee,ue=this.chart,ie=ue.rawPositions,oe=Math.min,Ee=Math.max,me=ue.plotLeft,Te=ue.plotTop,K=ue.plotHeight,J=ue.plotWidth;for(let ae of(F=W=Number.POSITIVE_INFINITY,z=q=Number.NEGATIVE_INFINITY,ie))ee=ae[2],F=oe(F,ae[0]-ee),z=Ee(z,ae[0]+ee),W=oe(W,ae[1]-ee),q=Ee(q,ae[1]+ee);let se=[z-F,q-W],xe=[(J-me)/se[0],(K-Te)/se[1]],Q=oe.apply([],xe);if(Math.abs(Q-1)>1e-10){for(let ae of ie)ae[2]*=Q;this.placeBubbles(ie)}else ue.diffY=K/2+Te-W-(q-W)/2,ue.diffX=J/2+me-F-(z-F)/2}seriesBox(){let F,z=this.chart,W=this.data,q=Math.max,ee=Math.min,ue=[z.plotLeft,z.plotLeft+z.plotWidth,z.plotTop,z.plotTop+z.plotHeight];return W.forEach(ie=>{Y(ie.plotX)&&Y(ie.plotY)&&ie.marker.radius&&(F=ie.marker.radius,ue[0]=ee(ue[0],ie.plotX-F),ue[1]=q(ue[1],ie.plotX+F),ue[2]=ee(ue[2],ie.plotY-F),ue[3]=q(ue[3],ie.plotY+F))}),G(ue.width/ue.height)?ue:null}setVisible(){let F=this;v.setVisible.apply(F,arguments),F.parentNodeLayout&&F.graph?F.visible?(F.graph.show(),F.parentNode.dataLabel&&F.parentNode.dataLabel.show()):(F.graph.hide(),F.parentNodeLayout.removeElementFromCollection(F.parentNode,F.parentNodeLayout.nodes),F.parentNode.dataLabel&&F.parentNode.dataLabel.hide()):F.layout&&(F.visible?F.layout.addElementsToCollection(F.points,F.layout.nodes):F.points.forEach(z=>{F.layout.removeElementFromCollection(z,F.layout.nodes)}))}translate(){let F,z,W,q=this.chart,ee=this.data,ue=this.index,ie=this.options.useSimulation;for(let oe of(this.processedXData=this.xData,this.generatePoints(),Y(q.allDataPoints)||(q.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),ie?W=q.allDataPoints:(W=this.placeBubbles(q.allDataPoints),this.options.draggable=!1),W))oe[3]===ue&&(F=ee[oe[4]],z=M(oe[2],void 0),ie||(F.plotX=oe[0]-q.plotLeft+q.diffX,F.plotY=oe[1]-q.plotTop+q.diffY),G(z)&&(F.marker=X(F.marker,{radius:z,width:2*z,height:2*z}),F.radius=z));ie&&this.deferLayout(),H(this,"afterTranslate")}}return D.defaultOptions=B(w.defaultOptions,p),X(D.prototype,{pointClass:d,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:N,alignDataLabel:v.alignDataLabel,indexateNodes:k,onMouseDown:a.onMouseDown,onMouseMove:a.onMouseMove,redrawHalo:a.redrawHalo,searchPoint:k}),y.registerSeriesType("packedbubble",D),D}),i(t,"Series/Polygon/PolygonSeriesDefaults.js",[],function(){return{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}}),i(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Series/Polygon/PolygonSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{noop:d}=r,{area:p,line:m,scatter:y}=o.seriesTypes,{extend:g,merge:_}=s;class x extends y{getGraphPath(){let E=m.prototype.getGraphPath.call(this),k=E.length+1;for(;k--;)(k===E.length||E[k][0]==="M")&&k>0&&E.splice(k,0,["Z"]);return this.areaPath=E,E}drawGraph(){this.options.fillColor=this.color,p.prototype.drawGraph.call(this)}}return x.defaultOptions=_(y.defaultOptions,a),g(x.prototype,{type:"polygon",drawTracker:m.prototype.drawTracker,setStackedPoints:d}),o.registerSeriesType("polygon",x),x}),i(t,"Core/Axis/RadialAxisDefaults.js",[],function(){return{circular:{gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},radial:{gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",padding:5,x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},radialGauge:{endOnTick:!1,gridLineWidth:0,labels:{align:"center",distance:-25,x:0,y:void 0},lineWidth:1,minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickPosition:"inside",tickWidth:2,title:{rotation:0,text:""},zIndex:2}}}),i(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/RadialAxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o,s){var d;let{defaultOptions:p}=a,{composed:m,noop:y}=o,{addEvent:g,correctFloat:_,defined:x,extend:T,fireEvent:E,isObject:k,merge:v,pick:w,pushUnique:N,relativeLength:S,wrap:L}=s;return function(O){function Y(){this.autoConnect=this.isCircular&&w(this.userMax,this.options.max)===void 0&&_(this.endAngleRad-this.startAngleRad)===_(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function X(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(ae=>this.ticks[ae]&&this.ticks[ae].label).filter(ae=>!!ae)}}function H(){return y}function $(ae,ce,ge){let be=this.pane.center,Le=ae.value,_e,Ne,$e;return this.isCircular?(x(Le)?ae.point&&(ae.point.shapeArgs||{}).start&&(Le=this.chart.inverted?this.translate(ae.point.rectPlotY,!0):ae.point.x):(Ne=ae.chartX||0,$e=ae.chartY||0,Le=this.translate(Math.atan2($e-ge,Ne-ce)-this.startAngleRad,!0)),Ne=(_e=this.getPosition(Le)).x,$e=_e.y):(x(Le)||(Ne=ae.chartX,$e=ae.chartY),x(Ne)&&x($e)&&(ge=be[1]+this.chart.plotTop,Le=this.translate(Math.min(Math.sqrt(Math.pow(Ne-ce,2)+Math.pow($e-ge,2)),be[2]/2)-be[3]/2,!0))),[Le,Ne||0,$e||0]}function G(ae,ce,ge){let be=this.pane.center,Le=this.chart,_e=this.left||0,Ne=this.top||0,$e,Ye=w(ce,be[2]/2-this.offset),Xe;return ge===void 0&&(ge=this.horiz?0:this.center&&-this.center[3]/2),ge&&(Ye+=ge),this.isCircular||ce!==void 0?((Xe=this.chart.renderer.symbols.arc(_e+be[0],Ne+be[1],Ye,Ye,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[_e+be[0]],Xe.yBounds=[Ne+be[1]-Ye]):($e=this.postTranslate(this.angleRad,Ye),Xe=[["M",this.center[0]+Le.plotLeft,this.center[1]+Le.plotTop],["L",$e.x,$e.y]]),Xe}function B(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function M(ae,ce,ge){let be=this.chart,Le=$t=>{if(typeof $t=="string"){let mt=parseInt($t,10);return we.test($t)&&(mt=mt*$e/100),mt}return $t},_e=this.center,Ne=this.startAngleRad,$e=_e[2]/2,Ye=Math.min(this.offset,0),Xe=this.left||0,De=this.top||0,we=/%$/,ke=this.isCircular,ze,Me,je,Ke,nt,ot,ht=w(Le(ge.outerRadius),$e),gt=Le(ge.innerRadius),Tt=w(Le(ge.thickness),10);if(this.options.gridLineInterpolation==="polygon")ot=this.getPlotLinePath({value:ae}).concat(this.getPlotLinePath({value:ce,reverse:!0}));else{ae=Math.max(ae,this.min),ce=Math.min(ce,this.max);let $t=this.translate(ae),mt=this.translate(ce);ke||(ht=$t||0,gt=mt||0),ge.shape!=="circle"&&ke?(ze=Ne+($t||0),Me=Ne+(mt||0)):(ze=-Math.PI/2,Me=1.5*Math.PI,nt=!0),ht-=Ye,Tt-=Ye,ot=be.renderer.symbols.arc(Xe+_e[0],De+_e[1],ht,ht,{start:Math.min(ze,Me),end:Math.max(ze,Me),innerR:w(gt,ht-Tt),open:nt,borderRadius:ge.borderRadius}),ke&&(je=(Me+ze)/2,Ke=Xe+_e[0]+_e[2]/2*Math.cos(je),ot.xBounds=je>-Math.PI/2&&je<Math.PI/2?[Ke,be.plotWidth]:[0,Ke],ot.yBounds=[De+_e[1]+_e[2]/2*Math.sin(je)],ot.yBounds[0]+=je>-Math.PI&&je<0||je>Math.PI?-10:10)}return ot}function D(ae){let ce=this.pane.center,ge=this.chart,be=ge.inverted,Le=ae.reverse,_e=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},Ne=_e.innerRadius||"0%",$e=_e.outerRadius||"100%",Ye=ce[0]+ge.plotLeft,Xe=ce[1]+ge.plotTop,De=this.height,we=ae.isCrosshair,ke=ce[3]/2,ze=ae.value,Me,je,Ke,nt,ot,ht,gt,Tt,$t,mt=this.getPosition(ze),Ct=mt.x,St=mt.y;if(we&&(ze=(Tt=this.getCrosshairPosition(ae,Ye,Xe))[0],Ct=Tt[1],St=Tt[2]),this.isCircular)je=Math.sqrt(Math.pow(Ct-Ye,2)+Math.pow(St-Xe,2)),Ke=typeof Ne=="string"?S(Ne,1):Ne/je,nt=typeof $e=="string"?S($e,1):$e/je,ce&&ke&&(Ke<(Me=ke/je)&&(Ke=Me),nt<Me&&(nt=Me)),$t=[["M",Ye+Ke*(Ct-Ye),Xe-Ke*(Xe-St)],["L",Ct-(1-nt)*(Ct-Ye),St+(1-nt)*(Xe-St)]];else if((ze=this.translate(ze))&&(ze<0||ze>De)&&(ze=0),this.options.gridLineInterpolation==="circle")$t=this.getLinePath(0,ze,ke);else if($t=[],ge[be?"yAxis":"xAxis"].forEach(sn=>{sn.pane===this.pane&&(ot=sn)}),ot){gt=ot.tickPositions,ot.autoConnect&&(gt=gt.concat([gt[0]])),Le&&(gt=gt.slice().reverse()),ze&&(ze+=ke);for(let sn=0;sn<gt.length;sn++)ht=ot.getPosition(gt[sn],ze),$t.push(sn?["L",ht.x,ht.y]:["M",ht.x,ht.y])}return $t}function V(ae,ce){let ge=this.translate(ae);return this.postTranslate(this.isCircular?ge:this.angleRad,w(this.isCircular?ce:ge<0?0:ge,this.center[2]/2)-this.offset)}function F(){let ae=this.center,ce=this.chart,ge=this.options.title;return{x:ce.plotLeft+ae[0]+(ge.x||0),y:ce.plotTop+ae[1]-{high:.5,middle:.25,low:0}[ge.align]*ae[2]+(ge.y||0)}}function z(ae){ae.beforeSetTickPositions=Y,ae.createLabelCollector=X,ae.getCrosshairPosition=$,ae.getLinePath=G,ae.getOffset=B,ae.getPlotBandPath=M,ae.getPlotLinePath=D,ae.getPosition=V,ae.getTitlePosition=F,ae.postTranslate=Te,ae.setAxisSize=J,ae.setAxisTranslation=se,ae.setOptions=xe}function W(){let ae=this.chart,ce=this.options,ge=ae.angular&&this.isXAxis,be=this.pane,Le=be&&be.options;if(!ge&&be&&(ae.angular||ae.polar)){let _e=2*Math.PI,Ne=(w(Le.startAngle,0)-90)*Math.PI/180,$e=(w(Le.endAngle,w(Le.startAngle,0)+360)-90)*Math.PI/180;this.angleRad=(ce.angle||0)*Math.PI/180,this.startAngleRad=Ne,this.endAngleRad=$e,this.offset=ce.offset||0;let Ye=(Ne%_e+_e)%_e,Xe=($e%_e+_e)%_e;Ye>Math.PI&&(Ye-=_e),Xe>Math.PI&&(Xe-=_e),this.normalizedStartAngleRad=Ye,this.normalizedEndAngleRad=Xe}}function q(ae){this.isRadial&&(ae.align=void 0,ae.preventDefault())}function ee(){if(this.chart&&this.chart.labelCollectors){let ae=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;ae>=0&&this.chart.labelCollectors.splice(ae,1)}}function ue(ae){let ce,ge=this.chart,be=ge.angular,Le=ge.polar,_e=this.isXAxis,Ne=this.coll,$e=ae.userOptions.pane||0,Ye=this.pane=ge.pane&&ge.pane[$e];if(Ne==="colorAxis"){this.isRadial=!1;return}be?(be&&_e?(this.isHidden=!0,this.createLabelCollector=H,this.getOffset=y,this.redraw=K,this.render=K,this.setScale=y,this.setCategories=y,this.setTitle=y):z(this),ce=!_e):Le&&(z(this),ce=this.horiz),be||Le?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&ge.labelCollectors.push(this.labelCollector)):this.isRadial=!1,Ye&&ce&&(Ye.axis=this),this.isCircular=ce}function ie(){this.isRadial&&this.beforeSetTickPositions()}function oe(ae){let ce=this.label;if(!ce)return;let ge=this.axis,be=ce.getBBox(),Le=ge.options.labels,_e=(ge.translate(this.pos)+ge.startAngleRad+Math.PI/2)/Math.PI*180%360,Ne=Math.round(_e),$e=x(Le.y)?0:-(.3*be.height),Ye=Le.y,Xe,De=20,we=Le.align,ke="end",ze=Ne<0?Ne+360:Ne,Me=ze,je=0,Ke=0;ge.isRadial&&(Xe=ge.getPosition(this.pos,ge.center[2]/2+S(w(Le.distance,-25),ge.center[2]/2,-ge.center[2]/2)),Le.rotation==="auto"?ce.attr({rotation:_e}):x(Ye)||(Ye=ge.chart.renderer.fontMetrics(ce).b-be.height/2),x(we)||(ge.isCircular?(be.width>ge.len*ge.tickInterval/(ge.max-ge.min)&&(De=0),we=_e>De&&_e<180-De?"left":_e>180+De&&_e<360-De?"right":"center"):we="center",ce.attr({align:we})),we==="auto"&&ge.tickPositions.length===2&&ge.isCircular&&(ze>90&&ze<180?ze=180-ze:ze>270&&ze<=360&&(ze=540-ze),Me>180&&Me<=360&&(Me=360-Me),(ge.pane.options.startAngle===Ne||ge.pane.options.startAngle===Ne+360||ge.pane.options.startAngle===Ne-360)&&(ke="start"),we=Ne>=-90&&Ne<=90||Ne>=-360&&Ne<=-270||Ne>=270&&Ne<=360?ke==="start"?"right":"left":ke==="start"?"left":"right",Me>70&&Me<110&&(we="center"),ze<15||ze>=180&&ze<195?je=.3*be.height:ze>=15&&ze<=35?je=ke==="start"?0:.75*be.height:ze>=195&&ze<=215?je=ke==="start"?.75*be.height:0:ze>35&&ze<=90?je=ke==="start"?-(.25*be.height):be.height:ze>215&&ze<=270&&(je=ke==="start"?be.height:-(.25*be.height)),Me<15?Ke=ke==="start"?-(.15*be.height):.15*be.height:Me>165&&Me<=180&&(Ke=ke==="start"?.15*be.height:-(.15*be.height)),ce.attr({align:we}),ce.translate(Ke,je+$e)),ae.pos.x=Xe.x+(Le.x||0),ae.pos.y=Xe.y+(Ye||0))}function Ee(ae){this.axis.getPosition&&T(ae.pos,this.axis.getPosition(this.pos))}function me({options:ae}){ae.xAxis&&v(!0,O.radialDefaultOptions.circular,ae.xAxis),ae.yAxis&&v(!0,O.radialDefaultOptions.radialGauge,ae.yAxis)}function Te(ae,ce){let ge=this.chart,be=this.center;return ae=this.startAngleRad+ae,{x:ge.plotLeft+be[0]+Math.cos(ae)*ce,y:ge.plotTop+be[1]+Math.sin(ae)*ce}}function K(){this.isDirty=!1}function J(){let ae,ce;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),ae=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(ce=this.postTranslate(this.angleRad,ae[3]/2),ae[0]=ce.x-this.chart.plotLeft,ae[1]=ce.y-this.chart.plotTop),this.len=this.width=this.height=(ae[2]-ae[3])*w(this.sector,1)/2)}function se(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)}function xe(ae){let{coll:ce}=this,{angular:ge,inverted:be,polar:Le}=this.chart,_e={};ge?this.isXAxis||(_e=v(p.yAxis,O.radialDefaultOptions.radialGauge)):Le&&(_e=this.horiz?v(p.xAxis,O.radialDefaultOptions.circular):v(ce==="xAxis"?p.xAxis:p.yAxis,O.radialDefaultOptions.radial)),be&&ce==="yAxis"&&(_e.stackLabels=k(p.yAxis,!0)?p.yAxis.stackLabels:{},_e.reversedStacks=!0);let Ne=this.options=v(_e,ae);Ne.plotBands||(Ne.plotBands=[]),E(this,"afterSetOptions")}function Q(ae,ce,ge,be,Le,_e,Ne){let $e,Ye=this.axis;return Ye.isRadial?["M",ce,ge,"L",($e=Ye.getPosition(this.pos,Ye.center[2]/2+be)).x,$e.y]:ae.call(this,ce,ge,be,Le,_e,Ne)}O.radialDefaultOptions=v(r),O.compose=function(ae,ce){return N(m,"Axis.Radial")&&(g(ae,"afterInit",W),g(ae,"autoLabelAlign",q),g(ae,"destroy",ee),g(ae,"init",ue),g(ae,"initialAxisTranslation",ie),g(ce,"afterGetLabelPosition",oe),g(ce,"afterGetPosition",Ee),g(o,"setOptions",me),L(ce.prototype,"getMarkPath",Q)),ae}}(d||(d={})),d}),i(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],function(r,a,o,s,d,p){let{animObject:m}=r,{composed:y}=a,{addEvent:g,defined:_,find:x,isNumber:T,merge:E,pick:k,pushUnique:v,relativeLength:w,splat:N,uniqueKey:S,wrap:L}=p;function O(){(this.pane||[]).forEach(me=>{me.render()})}function Y(me){let Te=me.args[0].xAxis,K=me.args[0].yAxis,J=me.args[0].chart;Te&&K&&(K.gridLineInterpolation==="polygon"?(Te.startOnTick=!0,Te.endOnTick=!0):Te.gridLineInterpolation==="polygon"&&J.inverted&&(K.startOnTick=!0,K.endOnTick=!0))}function X(){this.pane||(this.pane=[]),this.options.pane=N(this.options.pane),this.options.pane.forEach(me=>{new s(me,this)},this)}function H(me){let Te=me.args.marker,K=this.chart.xAxis[0],J=this.chart.yAxis[0],se=this.chart.inverted,xe=se?J:K,Q=se?K:J;if(this.chart.polar){me.preventDefault();let ae=(Te.attr?Te.attr("start"):Te.start)-xe.startAngleRad,ce=Te.attr?Te.attr("r"):Te.r,ge=(Te.attr?Te.attr("end"):Te.end)-xe.startAngleRad,be=Te.attr?Te.attr("innerR"):Te.innerR;me.result.x=ae+xe.pos,me.result.width=ge-ae,me.result.y=Q.len+Q.pos-ce,me.result.height=ce-be}}function $(me){let Te=this.chart;if(Te.polar&&Te.hoverPane&&Te.hoverPane.axis){me.preventDefault();let K=Te.hoverPane.center,J=Te.mouseDownX||0,se=Te.mouseDownY||0,xe=me.args.chartY,Q=me.args.chartX,ae=2*Math.PI,ce=Te.hoverPane.axis.startAngleRad,ge=Te.hoverPane.axis.endAngleRad,be=Te.inverted?Te.xAxis[0]:Te.yAxis[0],Le={},_e="arc";if(Le.x=K[0]+Te.plotLeft,Le.y=K[1]+Te.plotTop,this.zoomHor){let Ne=ce>0?ge-ce:Math.abs(ce)+Math.abs(ge),$e=Math.atan2(se-Te.plotTop-K[1],J-Te.plotLeft-K[0])-ce,Ye=Math.atan2(xe-Te.plotTop-K[1],Q-Te.plotLeft-K[0])-ce;Le.r=K[2]/2,Le.innerR=K[3]/2,$e<=0&&($e+=ae),Ye<=0&&(Ye+=ae),Ye<$e&&(Ye=[$e,$e=Ye][0]),Ne<ae&&ce+Ye>ge+(ae-Ne)/2&&(Ye=$e,$e=ce<=0?ce:0);let Xe=Le.start=Math.max($e+ce,ce),De=Le.end=Math.min(Ye+ce,ge);if(be.options.gridLineInterpolation==="polygon"){let we=Te.hoverPane.axis,ke=Xe-we.startAngleRad+we.pos,ze=be.getPlotLinePath({value:be.max}),Me=we.toValue(ke),je=we.toValue(ke+(De-Xe));if(Me<we.getExtremes().min){let{min:Ke,max:nt}=we.getExtremes();Me=nt-(Ke-Me)}if(je<we.getExtremes().min){let{min:Ke,max:nt}=we.getExtremes();je=nt-(Ke-je)}je<Me&&(je=[Me,Me=je][0]),(ze=D(ze,Me,je,we)).push(["L",K[0]+Te.plotLeft,Te.plotTop+K[1]]),Le.d=ze,_e="path"}}if(this.zoomVert){let Ne=Te.inverted?Te.xAxis[0]:Te.yAxis[0],$e=Math.sqrt(Math.pow(J-Te.plotLeft-K[0],2)+Math.pow(se-Te.plotTop-K[1],2)),Ye=Math.sqrt(Math.pow(Q-Te.plotLeft-K[0],2)+Math.pow(xe-Te.plotTop-K[1],2));if(Ye<$e&&($e=[Ye,Ye=$e][0]),Ye>K[2]/2&&(Ye=K[2]/2),$e<K[3]/2&&($e=K[3]/2),this.zoomHor||(Le.start=ce,Le.end=ge),Le.r=Ye,Le.innerR=$e,Ne.options.gridLineInterpolation==="polygon"){let Xe=Ne.toValue(Ne.len+Ne.pos-$e),De=Ne.toValue(Ne.len+Ne.pos-Ye),we=Ne.getPlotLinePath({value:De}).concat(Ne.getPlotLinePath({value:Xe,reverse:!0}));Le.d=we,_e="path"}}if(this.zoomHor&&this.zoomVert&&be.options.gridLineInterpolation==="polygon"){let Ne=Te.hoverPane.axis,$e=Le.start||0,Ye=Le.end||0,Xe=$e-Ne.startAngleRad+Ne.pos,De=Ne.toValue(Xe),we=Ne.toValue(Xe+(Ye-$e));if(Le.d instanceof Array){let ke=Le.d.slice(0,Le.d.length/2),ze=Le.d.slice(Le.d.length/2,Le.d.length);ze=[...ze].reverse();let Me=Te.hoverPane.axis;ke=D(ke,De,we,Me),(ze=D(ze,De,we,Me))&&(ze[0][0]="L"),ze=[...ze].reverse(),Le.d=ke.concat(ze),_e="path"}}me.attrs=Le,me.shapeType=_e}}function G(){let me=this.chart;me.polar&&(this.polar=new Ee(this),me.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function B(){if(this.chart.polar&&this.xAxis){let{xAxis:me,yAxis:Te}=this,K=this.chart;this.kdByAngle=K.tooltip&&K.tooltip.shared,this.kdByAngle||K.inverted?this.searchPoint=M:this.options.findNearestPointBy="xy";let J=this.points,se=J.length;for(;se--;)this.is("column")||this.is("columnrange")||this.polar.toXY(J[se]),K.hasParallelCoordinates||this.yAxis.reversed||(k(J[se].y,Number.MIN_VALUE)<Te.min||J[se].x<me.min||J[se].x>me.max?(J[se].isNull=!0,J[se].plotY=NaN):J[se].isNull=J[se].isValid&&!J[se].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(g(this,"afterRender",function(){let xe;K.polar&&this.options.clip!==!1&&(xe=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:xe[0],y:xe[1],r:xe[2]/2,innerR:xe[3]/2}):this.clipCircle=function(Q,ae,ce,ge,be){let Le=S(),_e=Q.createElement("clipPath").attr({id:Le}).add(Q.defs),Ne=be?Q.arc(ae,ce,ge,be,0,2*Math.PI).add(_e):Q.circle(ae,ce,ge).add(_e);return Ne.id=Le,Ne.clipPath=_e,Ne}(K.renderer,xe[0],xe[1],xe[2]/2,xe[3]/2),this.group.clip(this.clipCircle),this.setClip=a.noop)})))}}function M(me){let Te=this.chart,K=this.xAxis,J=this.yAxis,se=K.pane&&K.pane.center,xe=me.chartX-(se&&se[0]||0)-Te.plotLeft,Q=me.chartY-(se&&se[1]||0)-Te.plotTop,ae=Te.inverted?{clientX:me.chartX-J.pos,plotY:me.chartY-K.pos}:{clientX:180+-180/Math.PI*Math.atan2(xe,Q)};return this.searchKDTree(ae)}function D(me,Te,K,J){let se=J.tickInterval,xe=J.tickPositions,Q=x(xe,ce=>ce>=K),ae=x([...xe].reverse(),ce=>ce<=Te);return _(Q)||(Q=xe[xe.length-1]),_(ae)||(ae=xe[0],Q+=se,me[0][0]="L",me.unshift(me[me.length-3])),(me=me.slice(xe.indexOf(ae),xe.indexOf(Q)+1))[0][0]="M",me}function V(me,Te){return x(this.pane||[],K=>K.options.id===Te)||me.call(this,Te)}function F(me,Te,K,J,se,xe){let Q,ae,ce,ge=this.chart,be=k(J.inside,!!this.options.stacking);if(ge.polar){if(Q=Te.rectPlotX/Math.PI*180,ge.inverted)this.forceDL=ge.isInsidePlot(Te.plotX,Te.plotY),be&&Te.shapeArgs?(ae=Te.shapeArgs,se=E(se,{x:(ce=this.yAxis.postTranslate(((ae.start||0)+(ae.end||0))/2-this.xAxis.startAngleRad,Te.barX+Te.pointWidth/2)).x-ge.plotLeft,y:ce.y-ge.plotTop})):Te.tooltipPos&&(se=E(se,{x:Te.tooltipPos[0],y:Te.tooltipPos[1]})),J.align=k(J.align,"center"),J.verticalAlign=k(J.verticalAlign,"middle");else{var Le;let _e,Ne;(Le=J).align===null&&(_e=Q>20&&Q<160?"left":Q>200&&Q<340?"right":"center",Le.align=_e),Le.verticalAlign===null&&(Ne=Q<45||Q>315?"bottom":Q>135&&Q<225?"top":"middle",Le.verticalAlign=Ne),J=Le}o.prototype.alignDataLabel.call(this,Te,K,J,se,xe),this.isRadialBar&&Te.shapeArgs&&Te.shapeArgs.start===Te.shapeArgs.end?K.hide():K.show()}else me.call(this,Te,K,J,se,xe)}function z(){let me=this.options,Te=me.stacking,K=this.chart,J=this.xAxis,se=this.yAxis,xe=se.reversed,Q=se.center,ae=J.startAngleRad,ce=J.endAngleRad-ae,ge=me.threshold,be=0,Le,_e,Ne,$e,Ye,Xe=0,De=0,we,ke,ze,Me,je,Ke,nt,ot;if(J.isRadial)for(Ne=(Le=this.points).length,$e=se.translate(se.min),Ye=se.translate(se.max),ge=me.threshold||0,K.inverted&&T(ge)&&_(be=se.translate(ge))&&(be<0?be=0:be>ce&&(be=ce),this.translatedThreshold=be+ae);Ne--;){if(Ke=(_e=Le[Ne]).barX,ke=_e.x,ze=_e.y,_e.shapeType="arc",K.inverted){_e.plotY=se.translate(ze),Te&&se.stacking?(je=se.stacking.stacks[(ze<0?"-":"")+this.stackKey],this.visible&&je&&je[ke]&&!_e.isNull&&(Me=je[ke].points[this.getStackIndicator(void 0,ke,this.index).key],Xe=se.translate(Me[0]),De=se.translate(Me[1]),_(Xe)&&(Xe=p.clamp(Xe,0,ce)))):(Xe=be,De=_e.plotY),Xe>De&&(De=[Xe,Xe=De][0]),xe?De>$e?De=$e:Xe<Ye?Xe=Ye:(Xe>$e||De<Ye)&&(Xe=De=ce):Xe<$e?Xe=$e:De>Ye?De=Ye:(De<$e||Xe>Ye)&&(Xe=De=0),se.min>se.max&&(Xe=De=xe?ce:0),Xe+=ae,De+=ae,Q&&(_e.barX=Ke+=Q[3]/2),nt=Math.max(Ke,0),ot=Math.max(Ke+_e.pointWidth,0);let ht=me.borderRadius,gt=w((typeof ht=="object"?ht.radius:ht)||0,ot-nt);_e.shapeArgs={x:Q[0],y:Q[1],r:ot,innerR:nt,start:Xe,end:De,borderRadius:gt},_e.opacity=Xe===De?0:void 0,_e.plotY=(_(this.translatedThreshold)&&(Xe<this.translatedThreshold?Xe:De))-ae}else Xe=Ke+ae,_e.shapeArgs=this.polar.arc(_e.yBottom,_e.plotY,Xe,Xe+_e.pointWidth),_e.shapeArgs.borderRadius=0;this.polar.toXY(_e),K.inverted?(we=se.postTranslate(_e.rectPlotY,Ke+_e.pointWidth/2),_e.tooltipPos=[we.x-K.plotLeft,we.y-K.plotTop]):_e.tooltipPos=[_e.plotX,_e.plotY],Q&&(_e.ttBelow=_e.plotY>Q[1])}}function W(me,Te){let K,J,se=this;if(this.chart.polar){Te=Te||this.points;for(let Q=0;Q<Te.length;Q++)if(!Te[Q].isNull){K=Q;break}this.options.connectEnds!==!1&&K!==void 0&&(this.connectEnds=!0,Te.splice(Te.length,0,Te[K]),J=!0),Te.forEach(Q=>{Q.polarPlotY===void 0&&se.polar.toXY(Q)})}let xe=me.apply(this,[].slice.call(arguments,1));return J&&Te.pop(),xe}function q(me,Te){let K=this.chart,J={xAxis:[],yAxis:[]};return K.polar?K.axes.forEach(se=>{if(se.coll==="colorAxis")return;let xe=se.isXAxis,Q=se.center,ae=Te.chartX-Q[0]-K.plotLeft,ce=Te.chartY-Q[1]-K.plotTop;J[xe?"xAxis":"yAxis"].push({axis:se,value:se.translate(xe?Math.PI-Math.atan2(ae,ce):Math.sqrt(Math.pow(ae,2)+Math.pow(ce,2)),!0)})}):J=me.call(this,Te),J}function ee(me,Te){this.chart.polar||me.call(this,Te)}function ue(me,Te){let K=this,J=this.chart,se=this.group,xe=this.markerGroup,Q=this.xAxis&&this.xAxis.center,ae=J.plotLeft,ce=J.plotTop,ge=this.options.animation,be,Le,_e,Ne,$e,Ye;J.polar?K.isRadialBar?Te||(K.startAngleRad=k(K.translatedThreshold,K.xAxis.startAngleRad),a.seriesTypes.pie.prototype.animate.call(K,Te)):(ge=m(ge),K.is("column")?Te||(Le=Q[3]/2,K.points.forEach(Xe=>{_e=Xe.graphic,$e=(Ne=Xe.shapeArgs)&&Ne.r,Ye=Ne&&Ne.innerR,_e&&Ne&&(_e.attr({r:Le,innerR:Le}),_e.animate({r:$e,innerR:Ye},K.options.animation))})):Te?(be={translateX:Q[0]+ae,translateY:Q[1]+ce,scaleX:.001,scaleY:.001},se.attr(be),xe&&xe.attr(be)):(be={translateX:ae,translateY:ce,scaleX:1,scaleY:1},se.animate(be,ge),xe&&xe.animate(be,ge))):me.call(this,Te)}function ie(me,Te,K,J){let se,xe;if(this.chart.polar)if(J){let Q=(xe=function ce(ge,be,Le,_e){let Ne,$e,Ye,Xe,De,we,ke=_e?1:0,ze=(Ne=be>=0&&be<=ge.length-1?be:be<0?ge.length-1+be:0)-1<0?ge.length-(1+ke):Ne-1,Me=Ne+1>ge.length-1?ke:Ne+1,je=ge[ze],Ke=ge[Me],nt=je.plotX,ot=je.plotY,ht=Ke.plotX,gt=Ke.plotY,Tt=ge[Ne].plotX,$t=ge[Ne].plotY;$e=(1.5*Tt+nt)/2.5,Ye=(1.5*$t+ot)/2.5,Xe=(1.5*Tt+ht)/2.5,De=(1.5*$t+gt)/2.5;let mt=Math.sqrt(Math.pow($e-Tt,2)+Math.pow(Ye-$t,2)),Ct=Math.sqrt(Math.pow(Xe-Tt,2)+Math.pow(De-$t,2)),St=Math.atan2(Ye-$t,$e-Tt);we=Math.PI/2+(St+Math.atan2(De-$t,Xe-Tt))/2,Math.abs(St-we)>Math.PI/2&&(we-=Math.PI),$e=Tt+Math.cos(we)*mt,Ye=$t+Math.sin(we)*mt;let sn={rightContX:Xe=Tt+Math.cos(Math.PI+we)*Ct,rightContY:De=$t+Math.sin(Math.PI+we)*Ct,leftContX:$e,leftContY:Ye,plotX:Tt,plotY:$t};return Le&&(sn.prevPointCont=ce(ge,ze,!1,_e)),sn}(Te,J,!0,this.connectEnds)).prevPointCont&&xe.prevPointCont.rightContX,ae=xe.prevPointCont&&xe.prevPointCont.rightContY;se=["C",T(Q)?Q:xe.plotX,T(ae)?ae:xe.plotY,T(xe.leftContX)?xe.leftContX:xe.plotX,T(xe.leftContY)?xe.leftContY:xe.plotY,xe.plotX,xe.plotY]}else se=["M",K.plotX,K.plotY];else se=me.call(this,Te,K,J);return se}function oe(me,Te,K=this.plotY){if(!this.destroyed){let{plotX:J,series:se}=this,{chart:xe}=se;return xe.polar&&T(J)&&T(K)?[J+(Te?xe.plotLeft:0),K+(Te?xe.plotTop:0)]:me.call(this,Te,K)}}class Ee{static compose(Te,K,J,se,xe,Q,ae,ce,ge,be){if(s.compose(K,J),d.compose(Te,xe),v(y,"Polar")){let Le=K.prototype,_e=Q.prototype,Ne=J.prototype,$e=se.prototype;if(g(K,"afterDrawChartBox",O),g(K,"getAxes",X),g(K,"init",Y),L(Le,"get",V),L(Ne,"getCoordinates",q),L(Ne,"pinch",ee),g(J,"getSelectionMarkerAttrs",$),g(J,"getSelectionBox",H),g(se,"afterInit",G),g(se,"afterTranslate",B,{order:2}),g(se,"afterColumnTranslate",z,{order:4}),L($e,"animate",ue),L(_e,"pos",oe),ce){let Ye=ce.prototype;L(Ye,"alignDataLabel",F),L(Ye,"animate",ue)}if(ge&&L(ge.prototype,"getGraphPath",W),be){let Ye=be.prototype;L(Ye,"getPointSpline",ie),ae&&(ae.prototype.getPointSpline=Ye.getPointSpline)}}}constructor(Te){this.series=Te}arc(Te,K,J,se){let xe=this.series,Q=xe.xAxis.center,ae=xe.yAxis.len,ce=Q[3]/2,ge=ae-K+ce,be=ae-k(Te,ae)+ce;return xe.yAxis.reversed&&(ge<0&&(ge=ce),be<0&&(be=ce)),{x:Q[0],y:Q[1],r:ge,innerR:be,start:J,end:se}}toXY(Te){let K=this.series,J=K.chart,se=K.xAxis,xe=K.yAxis,Q=Te.plotX,ae=J.inverted,ce=Te.y,ge=Te.plotY,be=ae?Q:xe.len-ge,Le;if(ae&&K&&!K.isRadialBar&&(Te.plotY=ge=T(ce)?xe.translate(ce):0),Te.rectPlotX=Q,Te.rectPlotY=ge,xe.center&&(be+=xe.center[3]/2),T(ge)){let _e=ae?xe.postTranslate(ge,be):se.postTranslate(Q,be);Te.plotX=Te.polarPlotX=_e.x-J.plotLeft,Te.plotY=Te.polarPlotY=_e.y-J.plotTop}K.kdByAngle?((Le=(Q/Math.PI*180+se.pane.options.startAngle)%360)<0&&(Le+=360),Te.clientX=Le):Te.clientX=Te.plotX}}return Ee}),i(t,"Core/Axis/WaterfallAxis.js",[t["Core/Globals.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(r,a,o){var s;let{composed:d}=r,{addEvent:p,objectEach:m,pushUnique:y}=o;return function(g){function _(){let v=this.waterfall.stacks;v&&(v.changed=!1,delete v.alreadyChanged)}function x(){let v=this.options.stackLabels;v&&v.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function T(){this.waterfall||(this.waterfall=new k(this))}function E(){let v=this.axes;for(let w of this.series)if(w.options.stacking){for(let N of v)N.isXAxis||(N.waterfall.stacks.changed=!0);break}}g.compose=function(v,w){y(d,"Axis.Waterfall")&&(p(v,"init",T),p(v,"afterBuildStacks",_),p(v,"afterRender",x),p(w,"beforeRedraw",E))};class k{constructor(w){this.axis=w,this.stacks={changed:!1}}renderStackTotals(){let w=this.axis,N=w.waterfall.stacks,S=w.stacking&&w.stacking.stackTotalGroup,L=new a(w,w.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=L,S&&m(N,O=>{m(O,(Y,X)=>{L.total=Y.stackTotal,L.x=+X,Y.label&&(L.label=Y.label),a.prototype.render.call(L,S),Y.label=L.label,delete L.label})}),L.total=null}}g.Composition=k}(s||(s={})),s}),i(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(r,a,o){let{isNumber:s}=o;class d extends r.prototype.pointClass{getClassName(){let m=a.prototype.getClassName.call(this);return this.isSum?m+=" highcharts-sum":this.isIntermediateSum&&(m+=" highcharts-intermediate-sum"),m}isValid(){return s(this.y)||this.isSum||!!this.isIntermediateSum}}return d}),i(t,"Series/Waterfall/WaterfallSeriesDefaults.js",[],function(){return{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}}),i(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"],t["Series/Waterfall/WaterfallSeriesDefaults.js"]],function(r,a,o,s,d){let{column:p,line:m}=r.seriesTypes,{addEvent:y,arrayMax:g,arrayMin:_,correctFloat:x,crisp:T,extend:E,isNumber:k,merge:v,objectEach:w,pick:N}=a;function S(O,Y){return Object.hasOwnProperty.call(O,Y)}class L extends p{generatePoints(){p.prototype.generatePoints.apply(this);for(let Y=0,X=this.points.length;Y<X;Y++){let H=this.points[Y],$=this.processedYData[Y];k($)&&(H.isIntermediateSum||H.isSum)&&(H.y=x($))}}processData(Y){let X,H,$,G,B,M,D=this.options,V=this.yData,F=D.data,z=V.length,W=D.threshold||0;$=H=G=B=0;for(let q=0;q<z;q++)M=V[q],X=F&&F[q]?F[q]:{},M==="sum"||X.isSum?V[q]=x($):M==="intermediateSum"||X.isIntermediateSum?(V[q]=x(H),H=0):($+=M,H+=M),G=Math.min($,G),B=Math.max($,B);super.processData.call(this,Y),D.stacking||(this.dataMin=G+W,this.dataMax=B)}toYData(Y){return Y.isSum?"sum":Y.isIntermediateSum?"intermediateSum":Y.y}updateParallelArrays(Y,X){super.updateParallelArrays.call(this,Y,X),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(Y,X){let H=this.options.upColor;H&&!Y.options.color&&k(Y.y)&&(Y.color=Y.y>0?H:void 0);let $=p.prototype.pointAttribs.call(this,Y,X);return delete $.dashstyle,$}getGraphPath(){return[["M",0,0]]}getCrispPath(){var V;let Y=this.data.filter(F=>k(F.y)),X=this.yAxis,H=Y.length,$=((V=this.graph)==null?void 0:V.strokeWidth())||0,G=this.xAxis.reversed,B=this.yAxis.reversed,M=this.options.stacking,D=[];for(let F=1;F<H;F++){if(!(this.options.connectNulls||k(this.data[Y[F].index-1].y)))continue;let z=Y[F].box,W=Y[F-1],q=W.y||0,ee=Y[F-1].box;if(!z||!ee)continue;let ue=X.waterfall.stacks[this.stackKey],ie=q>0?-ee.height:0;if(ue&&ee&&z){let oe,Ee=ue[F-1];if(M){let me=Ee.connectorThreshold;oe=T(X.translate(me,!1,!0,!1,!0)+(B?ie:0),$)}else oe=T(ee.y+(W.minPointLengthOffset||0),$);D.push(["M",(ee.x||0)+(G?0:ee.width||0),oe],["L",(z.x||0)+(G&&z.width||0),oe])}if(ee&&D.length&&(!M&&q<0&&!B||q>0&&B)){let oe=D[D.length-2];oe&&typeof oe[2]=="number"&&(oe[2]+=ee.height||0);let Ee=D[D.length-1];Ee&&typeof Ee[2]=="number"&&(Ee[2]+=ee.height||0)}}return D}drawGraph(){m.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(Y){var se;let X=this.options,H=(se=Y.waterfall)==null?void 0:se.stacks,$=X.threshold||0,G=this.stackKey,B=this.xData,M=B.length,D=$,V=D,F,z=0,W=0,q=0,ee,ue,ie,oe,Ee,me,Te,K,J=(xe,Q,ae,ce)=>{if(F){if(ee)for(;ae<ee;ae++)F.stackState[ae]+=ce;else F.stackState[0]=xe,ee=F.stackState.length;F.stackState.push(F.stackState[ee-1]+Q)}};if(Y.stacking&&H&&this.reserveSpace()){K=H.changed,(Te=H.alreadyChanged)&&0>Te.indexOf(G)&&(K=!0),H[G]||(H[G]={});let xe=H[G];if(xe)for(let Q=0;Q<M;Q++)(!xe[me=B[Q]]||K)&&(xe[me]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:K&&xe[me]?xe[me].label:void 0}),F=xe[me],(Ee=this.yData[Q])>=0?F.posTotal+=Ee:F.negTotal+=Ee,oe=X.data[Q],ue=F.absolutePos=F.posTotal,ie=F.absoluteNeg=F.negTotal,F.stackTotal=ue+ie,ee=F.stackState.length,oe&&oe.isIntermediateSum?(J(q,W,0,q),q=W,W=$,D^=V,V^=D,D^=V):oe&&oe.isSum?(J($,z,ee,0),D=$):(J(D,Ee,0,z),oe&&(z+=Ee,W+=Ee)),F.stateIndex++,F.threshold=D,D+=F.stackTotal;H.changed=!1,H.alreadyChanged||(H.alreadyChanged=[]),H.alreadyChanged.push(G)}}getExtremes(){let Y,X,H,$=this.options.stacking;return $?(Y=this.yAxis.waterfall.stacks,X=this.stackedYNeg=[],H=this.stackedYPos=[],$==="overlap"?w(Y[this.stackKey],function(G){X.push(_(G.stackState)),H.push(g(G.stackState))}):w(Y[this.stackKey],function(G){X.push(G.negTotal+G.threshold),H.push(G.posTotal+G.threshold)}),{dataMin:_(X),dataMax:g(H)}):{dataMin:this.dataMin,dataMax:this.dataMax}}}return L.defaultOptions=v(p.defaultOptions,d),L.compose=o.compose,E(L.prototype,{pointValKey:"y",showLine:!0,pointClass:s}),y(L,"afterColumnTranslate",function(){let{options:O,points:Y,yAxis:X}=this,H=N(O.minPointLength,5),$=H/2,G=O.threshold||0,B=O.stacking,M=X.waterfall.stacks[this.stackKey],D=G,V=G,F,z,W,q;for(let ee=0;ee<Y.length;ee++){let ue=Y[ee],ie=this.processedYData[ee],oe=E({x:0,y:0,width:0,height:0},ue.shapeArgs||{});ue.box=oe;let Ee=[0,ie],me=ue.y||0;if(B){if(M){let J=M[ee];B==="overlap"?(z=J.stackState[J.stateIndex--],F=me>=0?z:z-me,S(J,"absolutePos")&&delete J.absolutePos,S(J,"absoluteNeg")&&delete J.absoluteNeg):(me>=0?(z=J.threshold+J.posTotal,J.posTotal-=me,F=z):(z=J.threshold+J.negTotal,J.negTotal-=me,F=z-me),!J.posTotal&&k(J.absolutePos)&&S(J,"absolutePos")&&(J.posTotal=J.absolutePos,delete J.absolutePos),!J.negTotal&&k(J.absoluteNeg)&&S(J,"absoluteNeg")&&(J.negTotal=J.absoluteNeg,delete J.absoluteNeg)),ue.isSum||(J.connectorThreshold=J.threshold+J.stackTotal),X.reversed?(W=me>=0?F-me:F+me,q=F):(W=F,q=F-me),ue.below=W<=G,oe.y=X.translate(W,!1,!0,!1,!0),oe.height=Math.abs(oe.y-X.translate(q,!1,!0,!1,!0));let se=X.waterfall.dummyStackItem;se&&(se.x=ee,se.label=M[ee].label,se.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[ee],this.stackedYPos[ee],void 0,this.xAxis))}}else F=Math.max(V,V+me)+Ee[0],oe.y=X.translate(F,!1,!0,!1,!0),ue.isSum?(oe.y=X.translate(Ee[1],!1,!0,!1,!0),oe.height=Math.min(X.translate(Ee[0],!1,!0,!1,!0),X.len)-oe.y,ue.below=Ee[1]<=G):ue.isIntermediateSum?(me>=0?(W=Ee[1]+D,q=D):(W=D,q=Ee[1]+D),X.reversed&&(W^=q,q^=W,W^=q),oe.y=X.translate(W,!1,!0,!1,!0),oe.height=Math.abs(oe.y-Math.min(X.translate(q,!1,!0,!1,!0),X.len)),D+=Ee[1],ue.below=W<=G):(oe.height=ie>0?X.translate(V,!1,!0,!1,!0)-oe.y:X.translate(V,!1,!0,!1,!0)-X.translate(V-ie,!1,!0,!1,!0),V+=ie,ue.below=V<G),oe.height<0&&(oe.y+=oe.height,oe.height*=-1);ue.plotY=oe.y,ue.yBottom=oe.y+oe.height,oe.height<=H&&!ue.isNull?(oe.height=H,oe.y-=$,ue.yBottom=oe.y+oe.height,ue.plotY=oe.y,me<0?ue.minPointLengthOffset=-$:ue.minPointLengthOffset=$):(ue.isNull&&(oe.width=0),ue.minPointLengthOffset=0);let Te=ue.plotY+(ue.negative?oe.height:0);ue.below&&(ue.plotY+=oe.height),ue.tooltipPos&&(this.chart.inverted?ue.tooltipPos[0]=X.len-Te:ue.tooltipPos[1]=Te),ue.isInside=this.isPointInside(ue);let K=T(ue.yBottom,this.borderWidth);oe.y=T(oe.y,this.borderWidth),oe.height=K-oe.y,v(!0,ue.shapeArgs,oe)}},{order:2}),r.registerSeriesType("waterfall",L),L}),i(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Extensions/Pane/Pane.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"],t["Core/Axis/RadialAxis.js"],t["Series/Waterfall/WaterfallSeries.js"]],function(r,a,o,s,d,p,m,y){return r.RadialAxis=m,s.compose(r.Axis,r.Chart,r.Legend),d.compose(r.Axis,r.Chart,r.Legend),o.compose(r.Chart,r.Pointer),p.compose(r.Axis,r.Chart,r.Pointer,r.Series,r.Tick,r.Point,a.seriesTypes.areasplinerange,a.seriesTypes.column,a.seriesTypes.line,a.seriesTypes.spline),y.compose(r.Axis,r.Chart),r})})})(VA);var i5=VA.exports;const r5=rc(i5);var WA={exports:{}};(function(n){(function(e){n.exports?(e.default=e,n.exports=e):e(typeof Highcharts<"u"?Highcharts:void 0)})(function(e){var t=e?e._modules:{};function i(r,a,o,s){r.hasOwnProperty(a)||(r[a]=s.apply(null,o),typeof CustomEvent=="function"&&e.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:a,module:r[a]}})))}i(t,"Core/Chart/ChartNavigationComposition.js",[],function(){var r;return function(a){a.compose=function(s){return s.navigation||(s.navigation=new o(s)),s};class o{constructor(d){this.updates=[],this.chart=d}addUpdate(d){this.chart.navigation.updates.push(d)}update(d,p){this.updates.forEach(m=>{m.call(this.chart,d,p)})}}a.Additions=o}(r||(r={})),r}),i(t,"Extensions/Exporting/ExportingDefaults.js",[t["Core/Globals.js"]],function(r){let{isTouchDevice:a}=r;return{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG"]}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",padding:5,stroke:"none","stroke-linecap":"round"}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:a?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}}),i(t,"Extensions/Exporting/ExportingSymbols.js",[],function(){var r;return function(a){let o=[];function s(p,m,y,g){return[["M",p,m+2.5],["L",p+y,m+2.5],["M",p,m+g/2+.5],["L",p+y,m+g/2+.5],["M",p,m+g-1.5],["L",p+y,m+g-1.5]]}function d(p,m,y,g){let _=g/3-2;return[].concat(this.circle(y-_,m,_,_),this.circle(y-_,m+_+4,_,_),this.circle(y-_,m+2*(_+4),_,_))}a.compose=function(p){if(o.indexOf(p)===-1){o.push(p);let m=p.prototype.symbols;m.menu=s,m.menuball=d.bind(m)}}}(r||(r={})),r}),i(t,"Extensions/Exporting/Fullscreen.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){let{composed:s}=a,{addEvent:d,fireEvent:p,pushUnique:m}=o;function y(){this.fullscreen=new g(this)}class g{static compose(x){m(s,"Fullscreen")&&d(x,"beforeRender",y)}constructor(x){this.chart=x,this.isOpen=!1;let T=x.renderTo;!this.browserProps&&(typeof T.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:T.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:T.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:T.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){let x=this,T=x.chart,E=T.options.chart;p(T,"fullscreenClose",null,function(){x.isOpen&&x.browserProps&&T.container.ownerDocument instanceof Document&&T.container.ownerDocument[x.browserProps.exitFullscreen](),x.unbindFullscreenEvent&&(x.unbindFullscreenEvent=x.unbindFullscreenEvent()),T.setSize(x.origWidth,x.origHeight,!1),x.origWidth=void 0,x.origHeight=void 0,E.width=x.origWidthOption,E.height=x.origHeightOption,x.origWidthOption=void 0,x.origHeightOption=void 0,x.isOpen=!1,x.setButtonText()})}open(){let x=this,T=x.chart,E=T.options.chart;p(T,"fullscreenOpen",null,function(){if(E&&(x.origWidthOption=E.width,x.origHeightOption=E.height),x.origWidth=T.chartWidth,x.origHeight=T.chartHeight,x.browserProps){let k=d(T.container.ownerDocument,x.browserProps.fullscreenChange,function(){x.isOpen?(x.isOpen=!1,x.close()):(T.setSize(null,null,!1),x.isOpen=!0,x.setButtonText())}),v=d(T,"destroy",k);x.unbindFullscreenEvent=()=>{k(),v()};let w=T.renderTo[x.browserProps.requestFullscreen]();w&&w.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){let x=this.chart,T=x.exportDivElements,E=x.options.exporting,k=E&&E.buttons&&E.buttons.contextButton.menuItems,v=x.options.lang;if(E&&E.menuItemDefinitions&&v&&v.exitFullscreen&&v.viewFullscreen&&k&&T){let w=T[k.indexOf("viewFullscreen")];w&&r.setElementHTML(w,this.isOpen?v.exitFullscreen:E.menuItemDefinitions.viewFullscreen.text||v.viewFullscreen)}}toggle(){this.isOpen?this.close():this.open()}}return g}),i(t,"Core/HttpUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{win:o}=r,{discardElement:s,objectEach:d}=a,p={ajax:function(m){let y={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},g=new XMLHttpRequest;function _(x,T){m.error&&m.error(x,T)}if(!m.url)return!1;g.open((m.type||"get").toUpperCase(),m.url,!0),m.headers&&m.headers["Content-Type"]||g.setRequestHeader("Content-Type",y[m.dataType||"json"]||y.text),d(m.headers,function(x,T){g.setRequestHeader(T,x)}),m.responseType&&(g.responseType=m.responseType),g.onreadystatechange=function(){let x;if(g.readyState===4){if(g.status===200){if(m.responseType!=="blob"&&(x=g.responseText,m.dataType==="json"))try{x=JSON.parse(x)}catch(T){if(T instanceof Error)return _(g,T)}return m.success&&m.success(x,g)}_(g,g.responseText)}},m.data&&typeof m.data!="string"&&(m.data=JSON.stringify(m.data)),g.send(m.data)},getJSON:function(m,y){p.ajax({url:m,success:y,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(m,y,g){let _=new o.FormData;d(y,function(E,k){_.append(k,E)}),_.append("b64","true");let{filename:x,type:T}=y;return o.fetch(m,{method:"POST",body:_,...g}).then(E=>{E.ok&&E.text().then(k=>{let v=document.createElement("a");v.href=`data:${T};base64,${k}`,v.download=x,v.click(),s(v)})})}};return p}),i(t,"Extensions/Exporting/Exporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Extensions/Exporting/ExportingDefaults.js"],t["Extensions/Exporting/ExportingSymbols.js"],t["Extensions/Exporting/Fullscreen.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Core/Utilities.js"]],function(r,a,o,s,d,p,m,y,g,_){var x;let{defaultOptions:T}=s,{doc:E,SVG_NS:k,win:v}=y,{addEvent:w,css:N,createElement:S,discardElement:L,extend:O,find:Y,fireEvent:X,isObject:H,merge:$,objectEach:G,pick:B,removeEvent:M,uniqueKey:D}=_;return function(V){let F,z=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/^(cssRules|ownerRules)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^\d+$/],W=["fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","textAnchor","x","y"];V.inlineAllowlist=[];let q=["clipPath","defs","desc"];function ee(_e){let Ne,$e,Ye=this,Xe=Ye.renderer,De=$(Ye.options.navigation.buttonOptions,_e),we=De.onclick,ke=De.menuItems,ze=De.symbolSize||12;if(Ye.btnCount||(Ye.btnCount=0),Ye.exportDivElements||(Ye.exportDivElements=[],Ye.exportSVGElements=[]),De.enabled===!1||!De.theme)return;let Me=Ye.styledMode?{}:De.theme;we?$e=function(Ke){Ke&&Ke.stopPropagation(),we.call(Ye,Ke)}:ke&&($e=function(Ke){Ke&&Ke.stopPropagation(),Ye.contextMenu(je.menuClassName,ke,je.translateX||0,je.translateY||0,je.width||0,je.height||0,je),je.setState(2)}),De.text&&De.symbol?Me.paddingLeft=B(Me.paddingLeft,30):De.text||O(Me,{width:De.width,height:De.height,padding:0});let je=Xe.button(De.text,0,0,$e,Me,void 0,void 0,void 0,void 0,De.useHTML).addClass(_e.className).attr({title:B(Ye.options.lang[De._titleKey||De.titleKey],"")});je.menuClassName=_e.menuClassName||"highcharts-menu-"+Ye.btnCount++,De.symbol&&(Ne=Xe.symbol(De.symbol,Math.round((De.symbolX||0)-ze/2),Math.round((De.symbolY||0)-ze/2),ze,ze,{width:ze,height:ze}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(je),Ye.styledMode||Ne.attr({stroke:De.symbolStroke,fill:De.symbolFill,"stroke-width":De.symbolStrokeWidth||1})),je.add(Ye.exportingGroup).align(O(De,{width:je.width,x:B(De.x,Ye.buttonOffset)}),!0,"spacingBox"),Ye.buttonOffset+=((je.width||0)+De.buttonSpacing)*(De.align==="right"?-1:1),Ye.exportSVGElements.push(je,Ne)}function ue(){if(!this.printReverseInfo)return;let{childNodes:_e,origDisplay:Ne,resetParams:$e}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(_e,function(Ye,Xe){Ye.nodeType===1&&(Ye.style.display=Ne[Xe]||"")}),this.isPrinting=!1,$e&&this.setSize.apply(this,$e),delete this.printReverseInfo,F=void 0,X(this,"afterPrint")}function ie(){var Ye;let _e=E.body,Ne=this.options.exporting.printMaxWidth,$e={childNodes:_e.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,(Ye=this.pointer)==null||Ye.reset(void 0,0),X(this,"beforePrint"),Ne&&this.chartWidth>Ne&&($e.resetParams=[this.options.chart.width,void 0,!1],this.setSize(Ne,void 0,!1)),[].forEach.call($e.childNodes,function(Xe,De){Xe.nodeType===1&&($e.origDisplay[De]=Xe.style.display,Xe.style.display="none")}),this.moveContainers(_e),this.printReverseInfo=$e}function oe(_e){_e.renderExporting(),w(_e,"redraw",_e.renderExporting),w(_e,"destroy",_e.destroyExport)}function Ee(_e,Ne,$e,Ye,Xe,De,we){var Tt,$t;let ke=this,ze=ke.options.navigation,Me=ke.chartWidth,je=ke.chartHeight,Ke="cache-"+_e,nt=Math.max(Xe,De),ot,ht=ke[Ke];ht||(ke.exportContextMenu=ke[Ke]=ht=S("div",{className:_e},{position:"absolute",zIndex:1e3,padding:nt+"px",pointerEvents:"auto",...ke.renderer.style},((Tt=ke.scrollablePlotArea)==null?void 0:Tt.fixedDiv)||ke.container),ot=S("ul",{className:"highcharts-menu"},ke.styledMode?{}:{listStyle:"none",margin:0,padding:0},ht),ke.styledMode||N(ot,O({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},ze.menuStyle)),ht.hideMenu=function(){N(ht,{display:"none"}),we&&we.setState(0),ke.openMenu=!1,N(ke.renderTo,{overflow:"hidden"}),N(ke.container,{overflow:"hidden"}),_.clearTimeout(ht.hideTimer),X(ke,"exportMenuHidden")},ke.exportEvents.push(w(ht,"mouseleave",function(){ht.hideTimer=v.setTimeout(ht.hideMenu,500)}),w(ht,"mouseenter",function(){_.clearTimeout(ht.hideTimer)}),w(E,"mouseup",function(mt){var Ct;(Ct=ke.pointer)!=null&&Ct.inClass(mt.target,_e)||ht.hideMenu()}),w(ht,"click",function(){ke.openMenu&&ht.hideMenu()})),Ne.forEach(function(mt){if(typeof mt=="string"&&(mt=ke.options.exporting.menuItemDefinitions[mt]),H(mt,!0)){let Ct;mt.separator?Ct=S("hr",void 0,void 0,ot):(mt.textKey==="viewData"&&ke.isDataTableVisible&&(mt.textKey="hideData"),Ct=S("li",{className:"highcharts-menu-item",onclick:function(St){St&&St.stopPropagation(),ht.hideMenu(),typeof mt!="string"&&mt.onclick&&mt.onclick.apply(ke,arguments)}},void 0,ot),r.setElementHTML(Ct,mt.text||ke.options.lang[mt.textKey]),ke.styledMode||(Ct.onmouseover=function(){N(this,ze.menuItemHoverStyle)},Ct.onmouseout=function(){N(this,ze.menuItemStyle)},N(Ct,O({cursor:"pointer"},ze.menuItemStyle||{})))),ke.exportDivElements.push(Ct)}}),ke.exportDivElements.push(ot,ht),ke.exportMenuWidth=ht.offsetWidth,ke.exportMenuHeight=ht.offsetHeight);let gt={display:"block"};$e+(ke.exportMenuWidth||0)>Me?gt.right=Me-$e-Xe-nt+"px":gt.left=$e-nt+"px",Ye+De+(ke.exportMenuHeight||0)>je&&(($t=we.alignOptions)==null?void 0:$t.verticalAlign)!=="top"?gt.bottom=je-Ye-nt+"px":gt.top=Ye+De-nt+"px",N(ht,gt),N(ke.renderTo,{overflow:""}),N(ke.container,{overflow:""}),ke.openMenu=!0,X(ke,"exportMenuShown")}function me(_e){let Ne,$e=_e?_e.target:this,Ye=$e.exportSVGElements,Xe=$e.exportDivElements,De=$e.exportEvents;Ye&&(Ye.forEach((we,ke)=>{we&&(we.onclick=we.ontouchstart=null,$e[Ne="cache-"+we.menuClassName]&&delete $e[Ne],Ye[ke]=we.destroy())}),Ye.length=0),$e.exportingGroup&&($e.exportingGroup.destroy(),delete $e.exportingGroup),Xe&&(Xe.forEach(function(we,ke){we&&(_.clearTimeout(we.hideTimer),M(we,"mouseleave"),Xe[ke]=we.onmouseout=we.onmouseover=we.ontouchstart=we.onclick=null,L(we))}),Xe.length=0),De&&(De.forEach(function(we){we()}),De.length=0)}function Te(_e,Ne){let $e=this.getSVGForExport(_e,Ne);_e=$(this.options.exporting,_e),g.post(_e.url,{filename:_e.filename?_e.filename.replace(/\//g,"-"):this.getFilename(),type:_e.type,width:_e.width,scale:_e.scale,svg:$e},_e.fetchOptions)}function K(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function J(){let _e=this.userOptions.title&&this.userOptions.title.text,Ne=this.options.exporting.filename;return Ne?Ne.replace(/\//g,"-"):(typeof _e=="string"&&(Ne=_e.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z\d\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!Ne||Ne.length<5)&&(Ne="chart"),Ne)}function se(_e){let Ne,$e,Ye=$(this.options,_e);Ye.plotOptions=$(this.userOptions.plotOptions,_e&&_e.plotOptions),Ye.time=$(this.userOptions.time,_e&&_e.time);let Xe=S("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},E.body),De=this.renderTo.style.width,we=this.renderTo.style.height,ke=Ye.exporting.sourceWidth||Ye.chart.width||/px$/.test(De)&&parseInt(De,10)||(Ye.isGantt?800:600),ze=Ye.exporting.sourceHeight||Ye.chart.height||/px$/.test(we)&&parseInt(we,10)||400;O(Ye.chart,{animation:!1,renderTo:Xe,forExport:!0,renderer:"SVGRenderer",width:ke,height:ze}),Ye.exporting.enabled=!1,delete Ye.data,Ye.series=[],this.series.forEach(function(Ke){($e=$(Ke.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:Ke.visible})).isInternal||Ye.series.push($e)});let Me={};this.axes.forEach(function(Ke){Ke.userOptions.internalKey||(Ke.userOptions.internalKey=D()),Ke.options.isInternal||(Me[Ke.coll]||(Me[Ke.coll]=!0,Ye[Ke.coll]=[]),Ye[Ke.coll].push($(Ke.userOptions,{visible:Ke.visible,type:Ke.type,uniqueNames:Ke.uniqueNames})))}),Ye.colorAxis=this.userOptions.colorAxis;let je=new this.constructor(Ye,this.callback);return _e&&["xAxis","yAxis","series"].forEach(function(Ke){let nt={};_e[Ke]&&(nt[Ke]=_e[Ke],je.update(nt))}),this.axes.forEach(function(Ke){let nt=Y(je.axes,function(Tt){return Tt.options.internalKey===Ke.userOptions.internalKey}),ot=Ke.getExtremes(),ht=ot.userMin,gt=ot.userMax;nt&&(ht!==void 0&&ht!==nt.min||gt!==void 0&&gt!==nt.max)&&nt.setExtremes(ht,gt,!0,!1)}),Ne=je.getChartHTML(),X(this,"getSVG",{chartCopy:je}),Ne=this.sanitizeSVG(Ne,Ye),Ye=null,je.destroy(),L(Xe),Ne}function xe(_e,Ne){let $e=this.options.exporting;return this.getSVG($({chart:{borderRadius:0}},$e.chartOptions,Ne,{exporting:{sourceWidth:_e&&_e.sourceWidth||$e.sourceWidth,sourceHeight:_e&&_e.sourceHeight||$e.sourceHeight}}))}function Q(){let _e,Ne=V.inlineAllowlist,$e={},Ye=E.createElement("iframe");N(Ye,{width:"1px",height:"1px",visibility:"hidden"}),E.body.appendChild(Ye);let Xe=Ye.contentWindow&&Ye.contentWindow.document;Xe&&Xe.body.appendChild(Xe.createElementNS(k,"svg")),function De(we){let ke,ze,Me,je,Ke,nt,ot={};if(Xe&&we.nodeType===1&&q.indexOf(we.nodeName)===-1){if(ke=v.getComputedStyle(we,null),ze=we.nodeName==="svg"?{}:v.getComputedStyle(we.parentNode,null),!$e[we.nodeName]){_e=Xe.getElementsByTagName("svg")[0],Me=Xe.createElementNS(we.namespaceURI,we.nodeName),_e.appendChild(Me);let ht=v.getComputedStyle(Me,null),gt={};for(let Tt in ht)Tt.length<1e3&&typeof ht[Tt]=="string"&&!/^\d+$/.test(Tt)&&(gt[Tt]=ht[Tt]);$e[we.nodeName]=gt,we.nodeName==="text"&&delete $e.text.fill,_e.removeChild(Me)}for(let ht in ke)(y.isFirefox||y.isMS||y.isSafari||Object.hasOwnProperty.call(ke,ht))&&function(gt,Tt){if(je=Ke=!1,Ne.length){for(nt=Ne.length;nt--&&!Ke;)Ke=Ne[nt].test(Tt);je=!Ke}for(Tt==="transform"&&gt==="none"&&(je=!0),nt=z.length;nt--&&!je;){if(Tt.length>1e3)throw Error("Input too long");je=z[nt].test(Tt)||typeof gt=="function"}!je&&(ze[Tt]!==gt||we.nodeName==="svg")&&$e[we.nodeName][Tt]!==gt&&(W.indexOf(Tt)===-1?ot[Tt]=gt:gt&&we.setAttribute(Tt.replace(/[A-Z]/g,function($t){return"-"+$t.toLowerCase()}),gt))}(ke[ht],ht);if(N(we,ot),we.nodeName==="svg"&&we.setAttribute("stroke-width","1px"),we.nodeName==="text")return;[].forEach.call(we.children||we.childNodes,De)}}(this.container.querySelector("svg")),_e.parentNode.removeChild(_e),Ye.parentNode.removeChild(Ye)}function ae(_e){let{scrollablePlotArea:Ne}=this;(Ne?[Ne.fixedDiv,Ne.scrollingContainer]:[this.container]).forEach(function($e){_e.appendChild($e)})}function ce(){let _e=this,Ne=($e,Ye,Xe)=>{_e.isDirtyExporting=!0,$(!0,_e.options[$e],Ye),B(Xe,!0)&&_e.redraw()};_e.exporting={update:function($e,Ye){Ne("exporting",$e,Ye)}},o.compose(_e).navigation.addUpdate(($e,Ye)=>{Ne("navigation",$e,Ye)})}function ge(){let _e=this;_e.isPrinting||(F=_e,y.isSafari||_e.beforePrint(),setTimeout(()=>{v.focus(),v.print(),y.isSafari||setTimeout(()=>{_e.afterPrint()},1e3)},1))}function be(){let _e=this,Ne=_e.options.exporting,$e=Ne.buttons,Ye=_e.isDirtyExporting||!_e.exportSVGElements;_e.buttonOffset=0,_e.isDirtyExporting&&_e.destroyExport(),Ye&&Ne.enabled!==!1&&(_e.exportEvents=[],_e.exportingGroup=_e.exportingGroup||_e.renderer.g("exporting-group").attr({zIndex:3}).add(),G($e,function(Xe){_e.addButton(Xe)}),_e.isDirtyExporting=!1)}function Le(_e,Ne){let $e=_e.indexOf("</svg>")+6,Ye=_e.substr($e);return _e=_e.substr(0,$e),Ne&&Ne.exporting&&Ne.exporting.allowHTML&&Ye&&(Ye='<foreignObject x="0" y="0" width="'+Ne.chart.width+'" height="'+Ne.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+Ye.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />")+"</body></foreignObject>",_e=_e.replace("</svg>",Ye+"</svg>")),_e=_e.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery\d+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;)\;?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS\d+\:)?href=/g," xlink:href=").replace(/\n+/g," ").replace(/(fill|stroke)="rgba\(([ \d]+,[ \d]+,[ \d]+),([ \d\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}V.compose=function(_e,Ne){p.compose(Ne),m.compose(_e);let $e=_e.prototype;$e.exportChart||($e.afterPrint=ue,$e.exportChart=Te,$e.inlineStyles=Q,$e.print=ge,$e.sanitizeSVG=Le,$e.getChartHTML=K,$e.getSVG=se,$e.getSVGForExport=xe,$e.getFilename=J,$e.moveContainers=ae,$e.beforePrint=ie,$e.contextMenu=Ee,$e.addButton=ee,$e.destroyExport=me,$e.renderExporting=be,$e.callbacks.push(oe),w(_e,"init",ce),y.isSafari&&v.matchMedia("print").addListener(function(Ye){F&&(Ye.matches?F.beforePrint():F.afterPrint())}),T.exporting=$(d.exporting,T.exporting),T.lang=$(d.lang,T.lang),T.navigation=$(d.navigation,T.navigation))}}(x||(x={})),x}),i(t,"masters/modules/exporting.src.js",[t["Core/Globals.js"],t["Extensions/Exporting/Exporting.js"],t["Core/HttpUtilities.js"]],function(r,a,o){return r.HttpUtilities=r.HttpUtilities||o,r.ajax=r.HttpUtilities.ajax,r.getJSON=r.HttpUtilities.getJSON,r.post=r.HttpUtilities.post,a.compose(r.Chart,r.Renderer),r})})})(WA);var a5=WA.exports;const s5=rc(a5);var qA={exports:{}};(function(n,e){(function(t,i){n.exports=i(Oe)})(typeof self<"u"?self:Eo,function(t){return function(i){function r(o){if(a[o])return a[o].exports;var s=a[o]={i:o,l:!1,exports:{}};return i[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var a={};return r.m=i,r.c=a,r.d=function(o,s,d){r.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:d})},r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,"a",s),s},r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},r.p="",r(r.s=0)}([function(i,r,a){function o(){return o=Object.assign?Object.assign.bind():function(v){for(var w=1;w<arguments.length;w++){var N=arguments[w];for(var S in N)Object.prototype.hasOwnProperty.call(N,S)&&(v[S]=N[S])}return v},o.apply(this,arguments)}function s(v){return y(v)||m(v)||p(v)||d()}function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(v,w){{if(typeof v=="string")return g(v,w);var N=Object.prototype.toString.call(v).slice(8,-1);return N==="Object"&&v.constructor&&(N=v.constructor.name),N==="Map"||N==="Set"?Array.from(v):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?g(v,w):void 0}}function m(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function y(v){if(Array.isArray(v))return g(v)}function g(v,w){(w==null||w>v.length)&&(w=v.length);for(var N=0,S=new Array(w);N<w;N++)S[N]=v[N];return S}function _(v){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}Object.defineProperty(r,"__esModule",{value:!0}),a.d(r,"HighchartsReact",function(){return k});var x=a(1),T=a.n(x),E=typeof window<"u"?x.useLayoutEffect:x.useEffect,k=Object(x.memo)(Object(x.forwardRef)(function(v,w){var N=Object(x.useRef)(),S=Object(x.useRef)(),L=Object(x.useRef)(v.constructorType),O=Object(x.useRef)(v.highcharts);return E(function(){function Y(){var H=v.highcharts||(typeof window>"u"?"undefined":_(window))==="object"&&window.Highcharts,$=v.constructorType||"chart";H?H[$]?v.options?S.current=H[$](N.current,v.options,v.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(S.current){if(v.allowChartUpdate!==!1)if(v.constructorType!==L.current||v.highcharts!==O.current)L.current=v.constructorType,O.current=v.highcharts,Y();else if(!v.immutable&&S.current){var X;(X=S.current).update.apply(X,[v.options].concat(s(v.updateArgs||[!0,!0])))}else Y()}else Y()},[v.options,v.allowChartUpdate,v.updateArgs,v.containerProps,v.highcharts,v.constructorType]),E(function(){return function(){S.current&&(S.current.destroy(),S.current=null)}},[]),Object(x.useImperativeHandle)(w,function(){return{get chart(){return S.current},container:N}},[]),T.a.createElement("div",o({},v.containerProps,{ref:N}))}));r.default=k},function(i,r){i.exports=t}])})})(qA);var o5=qA.exports;const HA=rc(o5),l5="_chartContainer_1sr1q_1",c5="_chart_1sr1q_1",u5="_menu_1sr1q_10",gw={chartContainer:l5,chart:c5,menu:u5},L1=n=>[...new Set(n.map(e=>e.period))],XA=n=>[...new Set(n.map(e=>e.orgUnit))],d5=n=>[...new Set(n.map(e=>e.dataElement))],h5=(n,e)=>{var t;return(t=e.find(i=>i.orgUnit===n))==null?void 0:t.displayName},aS=n=>{const e=n.toString().slice(0,4),t=n.toString().slice(4,6),r=["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(t)-1];return r===void 0?String(n):`${r} ${e}`};n5(zp);s5(zp);r5(zp);const Ak=(n,e)=>{zp.getOptions().colors;const t=n.filter(r=>r.dataElement==="median").map(r=>[r.period,r.value]),i=n.filter(r=>r.dataElement==="quantile_low").map(r=>[r.period,r.value,n.filter(a=>a.dataElement==="quantile_high"&&a.period===r.period)[0].value]);return{title:{text:tt.t(`Prediction for ${e} for ${n[0].displayName}`)},tooltip:{shared:!0},xAxis:{type:"category",labels:{enabled:!0,formatter:function(){return aS(this.value)},style:{fontSize:"0.9rem"}}},yAxis:{title:{text:"Number of cases"}},credits:{text:"CHAP"},chart:{height:490,marginBottom:125},plotOptions:{series:{lineWidth:5}},series:[{type:"line",data:t,name:tt.t("Quantile median"),color:"#004bbd",zIndex:2},{type:"arearange",name:tt.t("Range"),data:i,zIndex:1,lineWidth:0,color:"#004bbd",fillOpacity:.4}]}};function p5(n){return[...new Set(n.map(t=>t.orgUnit))].map(t=>n.filter(i=>i.orgUnit===t))}const ZA=({data:n,predictionTargetName:e})=>{const t=p5(n.dataValues),[i,r]=Oe.useState(Ak(t[0],e)),[a,o]=Oe.useState(0),s=d=>{o(d),r(Ak(t[d],e))};return Se.createElement(Se.Fragment,null,Se.createElement("div",{className:gw.chartContainer},Se.createElement("div",null,Se.createElement(JL,{dense:!0},t.map((d,p)=>Se.createElement(fy,{className:gw.menu,active:a==p,key:p,label:d[0].displayName,onClick:()=>s(p)})))),Se.createElement("div",{className:gw.chart},Se.createElement(HA,{highcharts:zp,constructorType:"chart",options:i}))))};class Pk extends Error{constructor(e,t,i){super(i),this.name="ApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body,this.request=e}}var $c=function(n,e,t,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(n,t):r?r.value=t:e.set(n,t),t},cr=function(n,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(n):i?i.value:e.get(n)},Mu,Ou,zc,Yh,Om,iy,Vh;class m5 extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}}class f5{constructor(e){Mu.set(this,void 0),Ou.set(this,void 0),zc.set(this,void 0),Yh.set(this,void 0),Om.set(this,void 0),iy.set(this,void 0),Vh.set(this,void 0),$c(this,Mu,!1,"f"),$c(this,Ou,!1,"f"),$c(this,zc,!1,"f"),$c(this,Yh,[],"f"),$c(this,Om,new Promise((t,i)=>{$c(this,iy,t,"f"),$c(this,Vh,i,"f");const r=s=>{cr(this,Mu,"f")||cr(this,Ou,"f")||cr(this,zc,"f")||($c(this,Mu,!0,"f"),cr(this,iy,"f")&&cr(this,iy,"f").call(this,s))},a=s=>{cr(this,Mu,"f")||cr(this,Ou,"f")||cr(this,zc,"f")||($c(this,Ou,!0,"f"),cr(this,Vh,"f")&&cr(this,Vh,"f").call(this,s))},o=s=>{cr(this,Mu,"f")||cr(this,Ou,"f")||cr(this,zc,"f")||cr(this,Yh,"f").push(s)};return Object.defineProperty(o,"isResolved",{get:()=>cr(this,Mu,"f")}),Object.defineProperty(o,"isRejected",{get:()=>cr(this,Ou,"f")}),Object.defineProperty(o,"isCancelled",{get:()=>cr(this,zc,"f")}),e(r,a,o)}),"f")}get[(Mu=new WeakMap,Ou=new WeakMap,zc=new WeakMap,Yh=new WeakMap,Om=new WeakMap,iy=new WeakMap,Vh=new WeakMap,Symbol.toStringTag)](){return"Cancellable Promise"}then(e,t){return cr(this,Om,"f").then(e,t)}catch(e){return cr(this,Om,"f").catch(e)}finally(e){return cr(this,Om,"f").finally(e)}cancel(){if(!(cr(this,Mu,"f")||cr(this,Ou,"f")||cr(this,zc,"f"))){if($c(this,zc,!0,"f"),cr(this,Yh,"f").length)try{for(const e of cr(this,Yh,"f"))e()}catch(e){console.warn("Cancellation threw an error",e);return}cr(this,Yh,"f").length=0,cr(this,Vh,"f")&&cr(this,Vh,"f").call(this,new m5("Request aborted"))}}get isCancelled(){return cr(this,zc,"f")}}const Vn={BASE:"/v1",VERSION:"0.1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};var Dk;(function(n){n.WEEK="week",n.MONTH="month",n.ANY="any",n.YEAR="year"})(Dk||(Dk={}));var Mk;(function(n){(function(e){e.STRING="string",e.INTEGER="integer",e.FLOAT="float",e.BOOLEAN="boolean"})(n.type||(n.type={}))})(Mk||(Mk={}));const sS=n=>n!=null,fv=n=>typeof n=="string",yw=n=>fv(n)&&n!=="",oS=n=>typeof n=="object"&&typeof n.type=="string"&&typeof n.stream=="function"&&typeof n.arrayBuffer=="function"&&typeof n.constructor=="function"&&typeof n.constructor.name=="string"&&/^(Blob|File)$/.test(n.constructor.name)&&/^(Blob|File)$/.test(n[Symbol.toStringTag]),KA=n=>n instanceof FormData,g5=n=>{try{return btoa(n)}catch{return Buffer.from(n).toString("base64")}},y5=n=>{const e=[],t=(r,a)=>{e.push(`${encodeURIComponent(r)}=${encodeURIComponent(String(a))}`)},i=(r,a)=>{sS(a)&&(Array.isArray(a)?a.forEach(o=>{i(r,o)}):typeof a=="object"?Object.entries(a).forEach(([o,s])=>{i(`${r}[${o}]`,s)}):t(r,a))};return Object.entries(n).forEach(([r,a])=>{i(r,a)}),e.length>0?`?${e.join("&")}`:""},v5=(n,e)=>{const t=encodeURI,i=e.url.replace("{api-version}",n.VERSION).replace(/{(.*?)}/g,(a,o)=>{var s;return(s=e.path)!=null&&s.hasOwnProperty(o)?t(String(e.path[o])):a}),r=`${n.BASE}${i}`;return e.query?`${r}${y5(e.query)}`:r},x5=n=>{if(n.formData){const e=new FormData,t=(i,r)=>{fv(r)||oS(r)?e.append(i,r):e.append(i,JSON.stringify(r))};return Object.entries(n.formData).filter(([i,r])=>sS(r)).forEach(([i,r])=>{Array.isArray(r)?r.forEach(a=>t(i,a)):t(i,r)}),e}},Mx=async(n,e)=>e,b5=async(n,e)=>{const[t,i,r,a]=await Promise.all([Mx(e,n.TOKEN),Mx(e,n.USERNAME),Mx(e,n.PASSWORD),Mx(e,n.HEADERS)]),o=Object.entries({Accept:"application/json",...a,...e.headers}).filter(([s,d])=>sS(d)).reduce((s,[d,p])=>({...s,[d]:String(p)}),{});if(yw(t)&&(o.Authorization=`Bearer ${t}`),yw(i)&&yw(r)){const s=g5(`${i}:${r}`);o.Authorization=`Basic ${s}`}return e.body!==void 0&&(e.mediaType?o["Content-Type"]=e.mediaType:oS(e.body)?o["Content-Type"]=e.body.type||"application/octet-stream":fv(e.body)?o["Content-Type"]="text/plain":KA(e.body)||(o["Content-Type"]="application/json")),new Headers(o)},_5=n=>{var e;if(n.body!==void 0)return(e=n.mediaType)!=null&&e.includes("/json")?JSON.stringify(n.body):fv(n.body)||oS(n.body)||KA(n.body)?n.body:JSON.stringify(n.body)},w5=async(n,e,t,i,r,a,o)=>{const s=new AbortController,d={headers:a,body:i??r,method:e.method,signal:s.signal};return n.WITH_CREDENTIALS&&(d.credentials=n.CREDENTIALS),o(()=>s.abort()),await fetch(t,d)},T5=(n,e)=>{if(e){const t=n.headers.get(e);if(fv(t))return t}},S5=async n=>{if(n.status!==204)try{const e=n.headers.get("Content-Type");if(e)return["application/json","application/problem+json"].some(r=>e.toLowerCase().startsWith(r))?await n.json():await n.text()}catch(e){console.error(e)}},C5=(n,e)=>{const i={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...n.errors}[e.status];if(i)throw new Pk(n,e,i);if(!e.ok){const r=e.status??"unknown",a=e.statusText??"unknown",o=(()=>{try{return JSON.stringify(e.body,null,2)}catch{return}})();throw new Pk(n,e,`Generic Error: status: ${r}; status text: ${a}; body: ${o}`)}},_i=(n,e)=>new f5(async(t,i,r)=>{try{const a=v5(n,e),o=x5(e),s=_5(e),d=await b5(n,e);if(!r.isCancelled){const p=await w5(n,e,a,s,o,d,r),m=await S5(p),y=T5(p,e.responseHeader),g={url:a,ok:p.ok,status:p.status,statusText:p.statusText,body:y??m};C5(e,g),t(g.body)}}catch(a){i(a)}});class Iy{static makeDatasetAnalyticsMakeDatasetPost(e){return _i(Vn,{method:"POST",url:"/analytics/make-dataset",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static getEvaluationEntriesAnalyticsEvaluationEntryGet(e,t){return _i(Vn,{method:"GET",url:"/analytics/evaluation-entry",query:{backtestId:e,quantiles:t},errors:{422:"Validation Error"}})}static createBacktestAnalyticsCreateBacktestsPost(e){return _i(Vn,{method:"POST",url:"/analytics/create_backtests",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static makePredictionAnalyticsPredictionPost(e){return _i(Vn,{method:"POST",url:"/analytics/prediction",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static getPredictionEntriesAnalyticsPredictionEntryPredictionIdGet(e,t){return _i(Vn,{method:"GET",url:"/analytics/prediction-entry/{predictionId}",path:{predictionId:e},query:{quantiles:t},errors:{422:"Validation Error"}})}static getActualCasesAnalyticsActualCasesBacktestIdGet(e){return _i(Vn,{method:"GET",url:"/analytics/actualCases/{backtestId}",path:{backtestId:e},errors:{422:"Validation Error"}})}static getDataSourcesAnalyticsDataSourcesGet(){return _i(Vn,{method:"GET",url:"/analytics/data-sources"})}}class Gu{static getBacktestCrudBacktestsBacktestIdGet(e){return _i(Vn,{method:"GET",url:"/crud/backtests/{backtestId}",path:{backtestId:e},errors:{422:"Validation Error"}})}static getBacktestsCrudBacktestsGet(){return _i(Vn,{method:"GET",url:"/crud/backtests"})}static createBacktestCrudBacktestsPost(e){return _i(Vn,{method:"POST",url:"/crud/backtests",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static getPredictionsCrudPredictionsGet(){return _i(Vn,{method:"GET",url:"/crud/predictions"})}static createPredictionCrudPredictionsPost(e){return _i(Vn,{method:"POST",url:"/crud/predictions",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static getPredictionCrudPredictionsPredictionIdGet(e){return _i(Vn,{method:"GET",url:"/crud/predictions/{predictionId}",path:{predictionId:e},errors:{422:"Validation Error"}})}static getDatasetCrudDatasetsDatasetIdGet(e){return _i(Vn,{method:"GET",url:"/crud/datasets/{datasetId}",path:{datasetId:e},errors:{422:"Validation Error"}})}static getDatasetsCrudDatasetsGet(){return _i(Vn,{method:"GET",url:"/crud/datasets"})}static createDatasetCrudDatasetsPost(e){return _i(Vn,{method:"POST",url:"/crud/datasets",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static createDatasetCsvCrudDatasetsCsvFilePost(e){return _i(Vn,{method:"POST",url:"/crud/datasets/csvFile",formData:e,mediaType:"multipart/form-data",errors:{422:"Validation Error"}})}static debugEntryCrudDebugPost(){return _i(Vn,{method:"POST",url:"/crud/debug"})}static getDebugEntryCrudDebugDebugIdGet(e){return _i(Vn,{method:"GET",url:"/crud/debug/{debugId}",path:{debugId:e},errors:{422:"Validation Error"}})}static listFeatureTypesCrudFeatureSourcesGet(){return _i(Vn,{method:"GET",url:"/crud/feature-sources"})}static getFailedJobsCrudFailedJobsGet(){return _i(Vn,{method:"GET",url:"/crud/failedJobs"})}static deleteFailedJobCrudFailedJobsFailedJobIdDelete(e){return _i(Vn,{method:"DELETE",url:"/crud/failedJobs/{failedJobId}",path:{failedJobId:e},errors:{422:"Validation Error"}})}static listModelsCrudModelsGet(){return _i(Vn,{method:"GET",url:"/crud/models"})}static listModelsFromModelTemplatesCrudModelsFromModelTemplatesGet(){return _i(Vn,{method:"GET",url:"/crud/models-from-model-templates"})}static listModelTemplatesCrudModelTemplatesGet(){return _i(Vn,{method:"GET",url:"/crud/modelTemplates"})}}class Ku{static faviconfaviconIcoGet(){return _i(Vn,{method:"GET",url:"favicon.ico"})}static predictPredictPost(e){return _i(Vn,{method:"POST",url:"/predict",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static evaluateEvaluatePost(e,t,i=1){return _i(Vn,{method:"POST",url:"/evaluate",query:{n_splits:t,stride:i},body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static listModelsListModelsGet(){return _i(Vn,{method:"GET",url:"/list-models"})}static listModelTemplatesListModelTemplatesGet(){return _i(Vn,{method:"GET",url:"/list-model-templates"})}static getLogsJobsJobIdLogsGet(e,t){return _i(Vn,{method:"GET",url:"/jobs/{job_id}/logs",path:{job_id:e},query:{n_lines:t},errors:{422:"Validation Error"}})}static listFeaturesListFeaturesGet(){return _i(Vn,{method:"GET",url:"/list-features"})}static getResultsGetResultsGet(){return _i(Vn,{method:"GET",url:"/get-results"})}static getEvaluationResultsGetEvaluationResultsGet(){return _i(Vn,{method:"GET",url:"/get-evaluation-results"})}static getExceptionGetExceptionGet(){return _i(Vn,{method:"GET",url:"/get-exception"})}static cancelCancelPost(){return _i(Vn,{method:"POST",url:"/cancel"})}static getStatusStatusGet(){return _i(Vn,{method:"GET",url:"/status"})}static healthHealthGet(){return _i(Vn,{method:"GET",url:"/health"})}}class E5{static listJobsJobsGet(){return _i(Vn,{method:"GET",url:"/jobs"})}static getJobStatusJobsJobIdGet(e){return _i(Vn,{method:"GET",url:"/jobs/{job_id}",path:{job_id:e},errors:{422:"Validation Error"}})}static getPredictionResultJobsJobIdPredictionResultGet(e){return _i(Vn,{method:"GET",url:"/jobs/{job_id}/prediction_result",path:{job_id:e},errors:{422:"Validation Error"}})}static getEvaluationResultJobsJobIdEvaluationResultGet(e){return _i(Vn,{method:"GET",url:"/jobs/{job_id}/evaluation_result",path:{job_id:e},errors:{422:"Validation Error"}})}static getDatabaseResultJobsJobIdDatabaseResultGet(e){return _i(Vn,{method:"GET",url:"/jobs/{job_id}/database_result",path:{job_id:e},errors:{422:"Validation Error"}})}}function QA(n,e){const t=i=>{if(i.includes("W")){const[r,a]=i.split("W").map(Number),o=new Date(r,0,1),s=(a-1)*7;return new Date(o.setDate(o.getDate()+s))}else{const r=Number(i.slice(0,4)),a=Number(i.slice(4,6))-1;return new Date(r,a)}};return t(n).getTime()-t(e).getTime()}function k5(n,e){const t=n.periods[n.periods.length-1],i=e.map(y=>y.pe).filter(y=>y<=t).sort(QA).slice(-156),r=i.map(y=>{var g;return((g=e.find(_=>_.pe===y))==null?void 0:g.value)??null}),a=r.length-n.averages.length,o=r[a-1],s=Array(a-1).fill(null).concat([[o]]).concat(n.averages),d=Array(a-1).fill(null).concat([[o,o]]).concat(n.ranges),p=Array(a-1).fill(null).concat([[o,o]]).concat(n.midranges);return{periods:i.concat(n.periods),ranges:d,averages:s,realValues:r,midranges:p}}const JA=(n,e,t)=>{const i=Array.from(new Set(n.map(m=>m.quantile))).sort(),r=i[0],a=i[1],o=i[i.length-2],s=i[i.length-1],d=m=>m.quantile===r?"quantile_low":m.quantile===s?"quantile_high":m.quantile===.5?"median":m.quantile===a?"quantile_mid_low":m.quantile===o?"quantile_mid_high":"unknown",p=Array.from(new Set(n.map(m=>m.modelName||t)));return Array.from(new Set(n.map(m=>m.splitPeriod))).map(m=>({splitPoint:m,evaluation:Array.from(new Set(n.map(y=>y.orgUnit))).map(y=>({orgUnitName:y,orgUnitId:y,models:p.map(g=>{const _=N5(n.filter(T=>T.orgUnit===y&&T.splitPeriod===m&&((T==null?void 0:T.modelName)||t)===g),d),x=k5(_,e.filter(T=>T.ou===y));return{modelName:g,data:x}})}))}))};function N5(n,e){const t=Array.from(new Set(n.map(s=>s.period))).sort(QA),i=[],r=[],a=[];return t.forEach(s=>{var _,x,T,E,k;const d=((_=n.find(v=>v.period===s&&e(v)==="quantile_low"))==null?void 0:_.value)||0,p=((x=n.find(v=>v.period===s&&e(v)==="quantile_high"))==null?void 0:x.value)||0,m=((T=n.find(v=>v.period===s&&e(v)==="median"))==null?void 0:T.value)||0,y=((E=n.find(v=>v.period===s&&e(v)==="quantile_mid_high"))==null?void 0:E.value)||0,g=((k=n.find(v=>v.period===s&&e(v)==="quantile_mid_low"))==null?void 0:k.value)||0;i.push([d,p]),r.push([m]),a.push([g,y])}),{periods:t,ranges:i,averages:r,midranges:a}}function eP(n){return Array.from(new Set(n.map(e=>e.splitPeriod)))}const tP=n=>{if(!n)return"NA";if(n.length==4)return n;if(n.length==6){const e=n.slice(0,4),t=n.slice(4,6);return`${["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(t)-1]} ${e}`}if(n.length==5){const e=n.slice(0,4);return`Week ${n.slice(5,6)} ${e}`}};function L5(n){zp.charts.forEach(e=>{console.log(e),e&&e.xAxis[0].setExtremes(n.min,n.max)})}const I5=n=>[{name:"Real Cases",data:n.realValues,zIndex:4,lineWidth:2.5,type:"spline",color:"#f68000",marker:{enabled:!1,lineWidth:2}},{name:"Predicted Cases",type:"line",color:"#004bbd",data:n.averages,zIndex:3,opacity:1,lineWidth:2.5,marker:{enabled:!1}},{name:"Quantiles",data:n.ranges,type:"arearange",lineWidth:0,color:"#c4dcf2",fillOpacity:1,zIndex:0,marker:{enabled:!1}},{name:"QuantilesMid",data:n.midranges,type:"arearange",lineWidth:1,color:"#9bbdff",fillOpacity:1,zIndex:1,marker:{enabled:!1}}],A5=(n,e,t)=>({title:{text:""},subtitle:{text:e?"Model: "+e:"",align:"left"},chart:{zoomType:"x"},xAxis:{categories:n.periods,labels:{enabled:!0,formatter:function(){return tP(this.value)},style:{fontSize:"0.9rem"}},events:t&&{afterSetExtremes:L5},title:{text:"Period"}},yAxis:{title:{text:null},min:0},tooltip:{crosshairs:!0,shared:!0,valueSuffix:" cases"},plotOptions:{series:{animation:{duration:0}}},series:I5(n)}),P5=({data:n,modelName:e,syncZoom:t})=>{const[i,r]=Oe.useState(!1);return Oe.useEffect(()=>{console.log(n),r(!0)},[n]),Oe.useEffect(()=>{i&&r(!1)},[i]),Se.createElement(Se.Fragment,null,!i&&Se.createElement(HA,{highcharts:zp,options:A5(n,e,t)}))},D5="_title_4ki8g_1",M5="_comparionBox_4ki8g_7",O5="_comparionBoxSideBySide_4ki8g_15",R5="_comparionBoxSideBySideItem_4ki8g_22",Ox={title:D5,comparionBox:M5,comparionBoxSideBySide:O5,comparionBoxSideBySideItem:R5},Ok=({orgUnitsData:n})=>(console.log("comparison plot data",n),Se.createElement("div",{className:Ox.comparionBox},Se.createElement("div",{className:Ox.title},n.orgUnitName),Se.createElement("div",{className:Ox.comparionBoxSideBySide},n.models.map((e,t)=>Se.createElement("div",{key:t,className:Ox.comparionBoxSideBySideItem},Se.createElement(P5,{syncZoom:n.models.length>1,data:e.data,modelName:e.modelName})))))),D0=0,ch=1,jf=2,nP=4;function iP(n,e){return t=>n(e(t))}function $5(n,e){return e(n)}function rP(n,e){return t=>n(e,t)}function Rk(n,e){return()=>n(e)}function M0(n,e){return e(n),n}function na(...n){return n}function z5(n){n()}function $k(n){return()=>n}function F5(...n){return()=>{n.map(z5)}}function lS(n){return n!==void 0}function Bf(){}function ur(n,e){return n(ch,e)}function Ni(n,e){n(D0,e)}function cS(n){n(jf)}function no(n){return n(nP)}function Un(n,e){return ur(n,rP(e,D0))}function nu(n,e){const t=n(ch,i=>{t(),e(i)});return t}function qi(){const n=[];return(e,t)=>{switch(e){case jf:n.splice(0,n.length);return;case ch:return n.push(t),()=>{const i=n.indexOf(t);i>-1&&n.splice(i,1)};case D0:n.slice().forEach(i=>{i(t)});return;default:throw new Error(`unrecognized action ${e}`)}}}function fn(n){let e=n;const t=qi();return(i,r)=>{switch(i){case ch:r(e);break;case D0:e=r;break;case nP:return e}return t(i,r)}}function j5(n){let e,t;const i=()=>e&&e();return function(r,a){switch(r){case ch:return a?t===a?void 0:(i(),t=a,e=ur(n,a),e):(i(),Bf);case jf:i(),t=null;return;default:throw new Error(`unrecognized action ${r}`)}}}function gl(n){return M0(qi(),e=>Un(n,e))}function No(n,e){return M0(fn(e),t=>Un(n,t))}function B5(...n){return e=>n.reduceRight($5,e)}function Kt(n,...e){const t=B5(...e);return(i,r)=>{switch(i){case ch:return ur(n,t(r));case jf:cS(n);return}}}function aP(n,e){return n===e}function Zr(n=aP){let e;return t=>i=>{n(e,i)||(e=i,t(i))}}function ui(n){return e=>t=>{n(t)&&e(t)}}function Dn(n){return e=>iP(e,n)}function qc(n){return e=>()=>e(n)}function Xc(n,e){return t=>i=>t(e=n(e,i))}function lf(n){return e=>t=>{n>0?n--:e(t)}}function jd(n){let e=null,t;return i=>r=>{e=r,!t&&(t=setTimeout(()=>{t=void 0,i(e)},n))}}function zk(n){let e,t;return i=>r=>{e=r,t&&clearTimeout(t),t=setTimeout(()=>{i(e)},n)}}function Ai(...n){const e=new Array(n.length);let t=0,i=null;const r=Math.pow(2,n.length)-1;return n.forEach((a,o)=>{const s=Math.pow(2,o);ur(a,d=>{const p=t;t=t|s,e[o]=d,p!==r&&t===r&&i&&(i(),i=null)})}),a=>o=>{const s=()=>a([o].concat(e));t===r?s():i=s}}function Fk(...n){return function(e,t){switch(e){case ch:return F5(...n.map(i=>ur(i,t)));case jf:return;default:throw new Error(`unrecognized action ${e}`)}}}function fi(n,e=aP){return Kt(n,Zr(e))}function Qa(...n){const e=qi(),t=new Array(n.length);let i=0;const r=Math.pow(2,n.length)-1;return n.forEach((a,o)=>{const s=Math.pow(2,o);ur(a,d=>{t[o]=d,i=i|s,i===r&&Ni(e,t)})}),function(a,o){switch(a){case ch:return i===r&&o(t),ur(e,o);case jf:return cS(e);default:throw new Error(`unrecognized action ${a}`)}}}function hr(n,e=[],{singleton:t}={singleton:!0}){return{id:U5(),constructor:n,dependencies:e,singleton:t}}const U5=()=>Symbol();function G5(n){const e=new Map,t=({id:i,constructor:r,dependencies:a,singleton:o})=>{if(o&&e.has(i))return e.get(i);const s=r(a.map(d=>t(d)));return o&&e.set(i,s),s};return t(n)}function Y5(n,e){const t={},i={};let r=0;const a=n.length;for(;r<a;)i[n[r]]=1,r+=1;for(const o in e)i.hasOwnProperty(o)||(t[o]=e[o]);return t}const Rx=typeof document<"u"?Se.useLayoutEffect:Se.useEffect;function sP(n,e,t){const i=Object.keys(e.required||{}),r=Object.keys(e.optional||{}),a=Object.keys(e.methods||{}),o=Object.keys(e.events||{}),s=Se.createContext({});function d(k,v){k.propsReady&&Ni(k.propsReady,!1);for(const w of i){const N=k[e.required[w]];Ni(N,v[w])}for(const w of r)if(w in v){const N=k[e.optional[w]];Ni(N,v[w])}k.propsReady&&Ni(k.propsReady,!0)}function p(k){return a.reduce((v,w)=>(v[w]=N=>{const S=k[e.methods[w]];Ni(S,N)},v),{})}function m(k){return o.reduce((v,w)=>(v[w]=j5(k[e.events[w]]),v),{})}const y=Se.forwardRef((k,v)=>{const{children:w,...N}=k,[S]=Se.useState(()=>M0(G5(n),Y=>d(Y,N))),[L]=Se.useState(Rk(m,S));Rx(()=>{for(const Y of o)Y in N&&ur(L[Y],N[Y]);return()=>{Object.values(L).map(cS)}},[N,L,S]),Rx(()=>{d(S,N)}),Se.useImperativeHandle(v,$k(p(S)));const O=t;return re.jsx(s.Provider,{value:S,children:t?re.jsx(O,{...Y5([...i,...r,...o],N),children:w}):w})}),g=k=>Se.useCallback(rP(Ni,Se.useContext(s)[k]),[k]),_=k=>{const w=Se.useContext(s)[k],N=Se.useCallback(S=>ur(w,S),[w]);return Se.useSyncExternalStore(N,()=>no(w),()=>no(w))},x=k=>{const w=Se.useContext(s)[k],[N,S]=Se.useState(Rk(no,w));return Rx(()=>ur(w,L=>{L!==N&&S($k(L))}),[w,N]),N},T=Se.version.startsWith("18")?_:x;return{Component:y,usePublisher:g,useEmitterValue:T,useEmitter:(k,v)=>{const N=Se.useContext(s)[k];Rx(()=>ur(N,v),[v,N])}}}const oP=typeof document<"u"?Se.useLayoutEffect:Se.useEffect;var yl=(n=>(n[n.DEBUG=0]="DEBUG",n[n.INFO=1]="INFO",n[n.WARN=2]="WARN",n[n.ERROR=3]="ERROR",n))(yl||{});const V5={0:"debug",1:"log",2:"warn",3:"error"},W5=()=>typeof globalThis>"u"?window:globalThis,uh=hr(()=>{const n=fn(3);return{log:fn((t,i,r=1)=>{var a;const o=(a=W5().VIRTUOSO_LOG_LEVEL)!=null?a:no(n);r>=o&&console[V5[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,i)}),logLevel:n}},[],{singleton:!0});function uS(n,e,t){const i=Se.useRef(null);let r=a=>{};if(typeof ResizeObserver<"u"){const a=Se.useMemo(()=>new ResizeObserver(o=>{const s=()=>{const d=o[0].target;d.offsetParent!==null&&n(d)};t?s():requestAnimationFrame(s)}),[n]);r=o=>{o&&e?(a.observe(o),i.current=o):(i.current&&a.unobserve(i.current),i.current=null)}}return{ref:i,callbackRef:r}}function Fp(n,e,t){return uS(n,e,t).callbackRef}function q5(n,e,t,i,r,a,o,s,d){const p=Se.useCallback(m=>{const y=H5(m.children,e,s?"offsetWidth":"offsetHeight",r);let g=m.parentElement;for(;!g.dataset.virtuosoScroller;)g=g.parentElement;const _=g.lastElementChild.dataset.viewportType==="window",x=o?s?o.scrollLeft:o.scrollTop:_?s?window.pageXOffset||document.documentElement.scrollLeft:window.pageYOffset||document.documentElement.scrollTop:s?g.scrollLeft:g.scrollTop,T=o?s?o.scrollWidth:o.scrollHeight:_?s?document.documentElement.scrollWidth:document.documentElement.scrollHeight:s?g.scrollWidth:g.scrollHeight,E=o?s?o.offsetWidth:o.offsetHeight:_?s?window.innerWidth:window.innerHeight:s?g.offsetWidth:g.offsetHeight;i({scrollTop:Math.max(x,0),scrollHeight:T,viewportHeight:E}),a==null||a(s?jk("column-gap",getComputedStyle(m).columnGap,r):jk("row-gap",getComputedStyle(m).rowGap,r)),y!==null&&n(y)},[n,e,r,a,o,i]);return uS(p,t,d)}function H5(n,e,t,i){const r=n.length;if(r===0)return null;const a=[];for(let o=0;o<r;o++){const s=n.item(o);if(!s||s.dataset.index===void 0)continue;const d=parseInt(s.dataset.index),p=parseFloat(s.dataset.knownSize),m=e(s,t);if(m===0&&i("Zero-sized element, this should not happen",{child:s},yl.ERROR),m===p)continue;const y=a[a.length-1];a.length===0||y.size!==m||y.endIndex!==d-1?a.push({startIndex:d,endIndex:d,size:m}):a[a.length-1].endIndex++}return a}function jk(n,e,t){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&t(`${n} was not resolved to pixel value correctly`,e,yl.WARN),e==="normal"?0:parseInt(e??"0",10)}function Qd(n,e){return Math.round(n.getBoundingClientRect()[e])}function lP(n,e){return Math.abs(n-e)<1.01}function cP(n,e,t,i=Bf,r,a){const o=Se.useRef(null),s=Se.useRef(null),d=Se.useRef(null),p=Se.useCallback(g=>{const _=g.target,x=_===window||_===document,T=a?x?window.pageXOffset||document.documentElement.scrollLeft:_.scrollLeft:x?window.pageYOffset||document.documentElement.scrollTop:_.scrollTop,E=a?x?document.documentElement.scrollWidth:_.scrollWidth:x?document.documentElement.scrollHeight:_.scrollHeight,k=a?x?window.innerWidth:_.offsetWidth:x?window.innerHeight:_.offsetHeight,v=()=>{n({scrollTop:Math.max(T,0),scrollHeight:E,viewportHeight:k})};g.suppressFlushSync?v():s3.flushSync(v),s.current!==null&&(T===s.current||T<=0||T===E-k)&&(s.current=null,e(!0),d.current&&(clearTimeout(d.current),d.current=null))},[n,e]);Se.useEffect(()=>{const g=r||o.current;return i(r||o.current),p({target:g,suppressFlushSync:!0}),g.addEventListener("scroll",p,{passive:!0}),()=>{i(null),g.removeEventListener("scroll",p)}},[o,p,t,i,r]);function m(g){const _=o.current;if(!_||(a?"offsetWidth"in _&&_.offsetWidth===0:"offsetHeight"in _&&_.offsetHeight===0))return;const x=g.behavior==="smooth";let T,E,k;_===window?(E=Math.max(Qd(document.documentElement,a?"width":"height"),a?document.documentElement.scrollWidth:document.documentElement.scrollHeight),T=a?window.innerWidth:window.innerHeight,k=a?document.documentElement.scrollLeft:document.documentElement.scrollTop):(E=_[a?"scrollWidth":"scrollHeight"],T=Qd(_,a?"width":"height"),k=_[a?"scrollLeft":"scrollTop"]);const v=E-T;if(g.top=Math.ceil(Math.max(Math.min(v,g.top),0)),lP(T,E)||g.top===k){n({scrollTop:k,scrollHeight:E,viewportHeight:T}),x&&e(!0);return}x?(s.current=g.top,d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{d.current=null,s.current=null,e(!0)},1e3)):s.current=null,a&&(g={left:g.top,behavior:g.behavior}),_.scrollTo(g)}function y(g){a&&(g={left:g.top,behavior:g.behavior}),o.current.scrollBy(g)}return{scrollerRef:o,scrollByCallback:y,scrollToCallback:m}}const $o=hr(()=>{const n=qi(),e=qi(),t=fn(0),i=qi(),r=fn(0),a=qi(),o=qi(),s=fn(0),d=fn(0),p=fn(0),m=fn(0),y=qi(),g=qi(),_=fn(!1),x=fn(!1),T=fn(!1);return Un(Kt(n,Dn(({scrollTop:E})=>E)),e),Un(Kt(n,Dn(({scrollHeight:E})=>E)),o),Un(e,r),{scrollContainerState:n,scrollTop:e,viewportHeight:a,headerHeight:s,fixedHeaderHeight:d,fixedFooterHeight:p,footerHeight:m,scrollHeight:o,smoothScrollTargetReached:i,horizontalDirection:x,skipAnimationFrameInResizeObserver:T,scrollTo:y,scrollBy:g,statefulScrollTop:r,deviation:t,scrollingInProgress:_}},[],{singleton:!0}),Ay={lvl:0};function uP(n,e,t,i=Ay,r=Ay){return{k:n,v:e,lvl:t,l:i,r}}function Tr(n){return n===Ay}function ef(){return Ay}function I1(n,e){if(Tr(n))return Ay;const{k:t,l:i,r}=n;if(e===t){if(Tr(i))return r;if(Tr(r))return i;{const[a,o]=dP(i);return ub(Za(n,{k:a,v:o,l:hP(i)}))}}else return e<t?ub(Za(n,{l:I1(i,e)})):ub(Za(n,{r:I1(r,e)}))}function Py(n,e){if(!Tr(n))return e===n.k?n.v:e<n.k?Py(n.l,e):Py(n.r,e)}function vc(n,e,t="k"){if(Tr(n))return[-1/0,void 0];if(Number(n[t])===e)return[n.k,n.v];if(Number(n[t])<e){const i=vc(n.r,e,t);return i[0]===-1/0?[n.k,n.v]:i}return vc(n.l,e,t)}function pl(n,e,t){return Tr(n)?uP(e,t,1):e===n.k?Za(n,{k:e,v:t}):e<n.k?Bk(Za(n,{l:pl(n.l,e,t)})):Bk(Za(n,{r:pl(n.r,e,t)}))}function A1(n,e,t){if(Tr(n))return[];const{k:i,v:r,l:a,r:o}=n;let s=[];return i>e&&(s=s.concat(A1(a,e,t))),i>=e&&i<=t&&s.push({k:i,v:r}),i<=t&&(s=s.concat(A1(o,e,t))),s}function ap(n){return Tr(n)?[]:[...ap(n.l),{k:n.k,v:n.v},...ap(n.r)]}function dP(n){return Tr(n.r)?[n.k,n.v]:dP(n.r)}function hP(n){return Tr(n.r)?n.l:ub(Za(n,{r:hP(n.r)}))}function Za(n,e){return uP(e.k!==void 0?e.k:n.k,e.v!==void 0?e.v:n.v,e.lvl!==void 0?e.lvl:n.lvl,e.l!==void 0?e.l:n.l,e.r!==void 0?e.r:n.r)}function vw(n){return Tr(n)||n.lvl>n.r.lvl}function Bk(n){return P1(mP(n))}function ub(n){const{l:e,r:t,lvl:i}=n;if(t.lvl>=i-1&&e.lvl>=i-1)return n;if(i>t.lvl+1){if(vw(e))return mP(Za(n,{lvl:i-1}));if(!Tr(e)&&!Tr(e.r))return Za(e.r,{l:Za(e,{r:e.r.l}),r:Za(n,{l:e.r.r,lvl:i-1}),lvl:i});throw new Error("Unexpected empty nodes")}else{if(vw(n))return P1(Za(n,{lvl:i-1}));if(!Tr(t)&&!Tr(t.l)){const r=t.l,a=vw(r)?t.lvl-1:t.lvl;return Za(r,{l:Za(n,{r:r.l,lvl:i-1}),r:P1(Za(t,{l:r.r,lvl:a})),lvl:r.lvl+1})}else throw new Error("Unexpected empty nodes")}}function O0(n,e,t){if(Tr(n))return[];const i=vc(n,e)[0];return X5(A1(n,i,t))}function pP(n,e){const t=n.length;if(t===0)return[];let{index:i,value:r}=e(n[0]);const a=[];for(let o=1;o<t;o++){const{index:s,value:d}=e(n[o]);a.push({start:i,end:s-1,value:r}),i=s,r=d}return a.push({start:i,end:1/0,value:r}),a}function X5(n){return pP(n,({k:e,v:t})=>({index:e,value:t}))}function P1(n){const{r:e,lvl:t}=n;return!Tr(e)&&!Tr(e.r)&&e.lvl===t&&e.r.lvl===t?Za(e,{l:Za(n,{r:e.l}),lvl:t+1}):n}function mP(n){const{l:e}=n;return!Tr(e)&&e.lvl===n.lvl?Za(e,{r:Za(n,{l:e.r})}):n}function Mb(n,e,t,i=0){let r=n.length-1;for(;i<=r;){const a=Math.floor((i+r)/2),o=n[a],s=t(o,e);if(s===0)return a;if(s===-1){if(r-i<2)return a-1;r=a-1}else{if(r===i)return a;i=a+1}}throw new Error(`Failed binary finding record in array - ${n.join(",")}, searched for ${e}`)}function fP(n,e,t){return n[Mb(n,e,t)]}function Z5(n,e,t,i){const r=Mb(n,e,i),a=Mb(n,t,i,r);return n.slice(r,a+1)}const dS=hr(()=>({recalcInProgress:fn(!1)}),[],{singleton:!0});function K5(n){const{size:e,startIndex:t,endIndex:i}=n;return r=>r.start===t&&(r.end===i||r.end===1/0)&&r.value===e}function Uk(n,e){let t=0,i=0;for(;t<n;)t+=e[i+1]-e[i]-1,i++;return i-(t===n?0:1)}function Q5(n,e){let t=Tr(n)?0:1/0;for(const i of e){const{size:r,startIndex:a,endIndex:o}=i;if(t=Math.min(t,a),Tr(n)){n=pl(n,0,r);continue}const s=O0(n,a-1,o+1);if(s.some(K5(i)))continue;let d=!1,p=!1;for(const{start:m,end:y,value:g}of s)d?(o>=m||r===g)&&(n=I1(n,m)):(p=g!==r,d=!0),y>o&&o>=m&&g!==r&&(n=pl(n,o+1,g));p&&(n=pl(n,a,r))}return[n,t]}function J5(){return{offsetTree:[],sizeTree:ef(),groupOffsetTree:ef(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function hS({index:n},e){return e===n?0:e<n?-1:1}function e6({offset:n},e){return e===n?0:e<n?-1:1}function t6(n){return{index:n.index,value:n}}function n6(n,e,t,i=0){return i>0&&(e=Math.max(e,fP(n,i,hS).offset)),pP(Z5(n,e,t,e6),t6)}function D1(n,e,t,i){let r=n,a=0,o=0,s=0,d=0;if(e!==0){d=Mb(r,e-1,hS),s=r[d].offset;const m=vc(t,e-1);a=m[0],o=m[1],r.length&&r[d].size===vc(t,e)[1]&&(d-=1),r=r.slice(0,d+1)}else r=[];for(const{start:p,value:m}of O0(t,e,1/0)){const y=p-a,g=y*o+s+y*i;r.push({offset:g,size:m,index:p}),a=p,s=g,o=m}return{offsetTree:r,lastIndex:a,lastOffset:s,lastSize:o}}function i6(n,[e,t,i,r]){e.length>0&&i("received item sizes",e,yl.DEBUG);const a=n.sizeTree;let o=a,s=0;if(t.length>0&&Tr(a)&&e.length===2){const g=e[0].size,_=e[1].size;o=t.reduce((x,T)=>pl(pl(x,T,g),T+1,_),o)}else[o,s]=Q5(o,e);if(o===a)return n;const{offsetTree:d,lastIndex:p,lastSize:m,lastOffset:y}=D1(n.offsetTree,s,o,r);return{sizeTree:o,offsetTree:d,lastIndex:p,lastOffset:y,lastSize:m,groupOffsetTree:t.reduce((g,_)=>pl(g,_,Dy(_,d,r)),ef()),groupIndices:t}}function Dy(n,e,t){if(e.length===0)return 0;const{offset:i,index:r,size:a}=fP(e,n,hS),o=n-r,s=a*o+(o-1)*t+i;return s>0?s+t:s}function r6(n){return typeof n.groupIndex<"u"}function gP(n,e,t){if(r6(n))return e.groupIndices[n.groupIndex]+1;{const i=n.index==="LAST"?t:n.index;let r=yP(i,e);return r=Math.max(0,r,Math.min(t,r)),r}}function yP(n,e){if(!R0(e))return n;let t=0;for(;e.groupIndices[t]<=n+t;)t++;return n+t}function R0(n){return!Tr(n.groupOffsetTree)}function a6(n){return ap(n).map(({k:e,v:t},i,r)=>{const a=r[i+1],o=a?a.k-1:1/0;return{startIndex:e,endIndex:o,size:t}})}const s6={offsetHeight:"height",offsetWidth:"width"},mu=hr(([{log:n},{recalcInProgress:e}])=>{const t=qi(),i=qi(),r=No(i,0),a=qi(),o=qi(),s=fn(0),d=fn([]),p=fn(void 0),m=fn(void 0),y=fn((S,L)=>Qd(S,s6[L])),g=fn(void 0),_=fn(0),x=J5(),T=No(Kt(t,Ai(d,n,_),Xc(i6,x),Zr()),x),E=No(Kt(d,Zr(),Xc((S,L)=>({prev:S.current,current:L}),{prev:[],current:[]}),Dn(({prev:S})=>S)),[]);Un(Kt(d,ui(S=>S.length>0),Ai(T,_),Dn(([S,L,O])=>{const Y=S.reduce((X,H,$)=>pl(X,H,Dy(H,L.offsetTree,O)||$),ef());return{...L,groupIndices:S,groupOffsetTree:Y}})),T),Un(Kt(i,Ai(T),ui(([S,{lastIndex:L}])=>S<L),Dn(([S,{lastIndex:L,lastSize:O}])=>[{startIndex:S,endIndex:L,size:O}])),t),Un(p,m);const k=No(Kt(p,Dn(S=>S===void 0)),!0);Un(Kt(m,ui(S=>S!==void 0&&Tr(no(T).sizeTree)),Dn(S=>[{startIndex:0,endIndex:0,size:S}])),t);const v=gl(Kt(t,Ai(T),Xc(({sizes:S},[L,O])=>({changed:O!==S,sizes:O}),{changed:!1,sizes:x}),Dn(S=>S.changed)));ur(Kt(s,Xc((S,L)=>({diff:S.prev-L,prev:L}),{diff:0,prev:0}),Dn(S=>S.diff)),S=>{const{groupIndices:L}=no(T);if(S>0)Ni(e,!0),Ni(a,S+Uk(S,L));else if(S<0){const O=no(E);O.length>0&&(S-=Uk(-S,O)),Ni(o,S)}}),ur(Kt(s,Ai(n)),([S,L])=>{S<0&&L("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},yl.ERROR)});const w=gl(a);Un(Kt(a,Ai(T),Dn(([S,L])=>{const O=L.groupIndices.length>0,Y=[],X=L.lastSize;if(O){const H=Py(L.sizeTree,0);let $=0,G=0;for(;$<S;){const D=L.groupIndices[G],V=L.groupIndices.length===G+1?1/0:L.groupIndices[G+1]-D-1;Y.push({startIndex:D,endIndex:D,size:H}),Y.push({startIndex:D+1,endIndex:D+1+V-1,size:X}),G++,$+=V+1}const B=ap(L.sizeTree);return $!==S&&B.shift(),B.reduce((D,{k:V,v:F})=>{let z=D.ranges;return D.prevSize!==0&&(z=[...D.ranges,{startIndex:D.prevIndex,endIndex:V+S-1,size:D.prevSize}]),{ranges:z,prevIndex:V+S,prevSize:F}},{ranges:Y,prevIndex:S,prevSize:0}).ranges}return ap(L.sizeTree).reduce((H,{k:$,v:G})=>({ranges:[...H.ranges,{startIndex:H.prevIndex,endIndex:$+S-1,size:H.prevSize}],prevIndex:$+S,prevSize:G}),{ranges:[],prevIndex:0,prevSize:X}).ranges})),t);const N=gl(Kt(o,Ai(T,_),Dn(([S,{offsetTree:L},O])=>{const Y=-S;return Dy(Y,L,O)})));return Un(Kt(o,Ai(T,_),Dn(([S,L,O])=>{if(L.groupIndices.length>0){if(Tr(L.sizeTree))return L;let X=ef();const H=no(E);let $=0,G=0,B=0;for(;$<-S;){B=H[G];const D=H[G+1]-B-1;G++,$+=D+1}if(X=ap(L.sizeTree).reduce((D,{k:V,v:F})=>pl(D,Math.max(0,V+S),F),X),$!==-S){const D=Py(L.sizeTree,B);X=pl(X,0,D);const V=vc(L.sizeTree,-S+1)[1];X=pl(X,1,V)}return{...L,sizeTree:X,...D1(L.offsetTree,0,X,O)}}else{const X=ap(L.sizeTree).reduce((H,{k:$,v:G})=>pl(H,Math.max(0,$+S),G),ef());return{...L,sizeTree:X,...D1(L.offsetTree,0,X,O)}}})),T),{data:g,totalCount:i,sizeRanges:t,groupIndices:d,defaultItemSize:m,fixedItemSize:p,unshiftWith:a,shiftWith:o,shiftWithOffset:N,beforeUnshiftWith:w,firstItemIndex:s,gap:_,sizes:T,listRefresh:v,statefulTotalCount:r,trackItemSizes:k,itemSize:y}},na(uh,dS),{singleton:!0}),o6=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function vP(n){const e=typeof n=="number"?{index:n}:n;return e.align||(e.align="start"),(!e.behavior||!o6)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const gv=hr(([{sizes:n,totalCount:e,listRefresh:t,gap:i},{scrollingInProgress:r,viewportHeight:a,scrollTo:o,smoothScrollTargetReached:s,headerHeight:d,footerHeight:p,fixedHeaderHeight:m,fixedFooterHeight:y},{log:g}])=>{const _=qi(),x=qi(),T=fn(0);let E=null,k=null,v=null;function w(){E&&(E(),E=null),v&&(v(),v=null),k&&(clearTimeout(k),k=null),Ni(r,!1)}return Un(Kt(_,Ai(n,a,e,T,d,p,g),Ai(i,m,y),Dn(([[N,S,L,O,Y,X,H,$],G,B,M])=>{const D=vP(N),{align:V,behavior:F,offset:z}=D,W=O-1,q=gP(D,S,W);let ee=Dy(q,S.offsetTree,G)+X;V==="end"?(ee+=B+vc(S.sizeTree,q)[1]-L+M,q===W&&(ee+=H)):V==="center"?ee+=(B+vc(S.sizeTree,q)[1]-L+M)/2:ee-=Y,z&&(ee+=z);const ue=ie=>{w(),ie?($("retrying to scroll to",{location:N},yl.DEBUG),Ni(_,N)):(Ni(x,!0),$("list did not change, scroll successful",{},yl.DEBUG))};if(w(),F==="smooth"){let ie=!1;v=ur(t,oe=>{ie=ie||oe}),E=nu(s,()=>{ue(ie)})}else E=nu(Kt(t,l6(150)),ue);return k=setTimeout(()=>{w()},1200),Ni(r,!0),$("scrolling from index to",{index:q,top:ee,behavior:F},yl.DEBUG),{top:ee,behavior:F}})),o),{scrollToIndex:_,scrollTargetReached:x,topListHeight:T}},na(mu,$o,uh),{singleton:!0});function l6(n){return e=>{const t=setTimeout(()=>{e(!1)},n);return i=>{i&&(e(!0),clearTimeout(t))}}}const My="up",vy="down",c6="none",u6={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},d6=0,yv=hr(([{scrollContainerState:n,scrollTop:e,viewportHeight:t,headerHeight:i,footerHeight:r,scrollBy:a}])=>{const o=fn(!1),s=fn(!0),d=qi(),p=qi(),m=fn(4),y=fn(d6),g=No(Kt(Fk(Kt(fi(e),lf(1),qc(!0)),Kt(fi(e),lf(1),qc(!1),zk(100))),Zr()),!1),_=No(Kt(Fk(Kt(a,qc(!0)),Kt(a,qc(!1),zk(200))),Zr()),!1);Un(Kt(Qa(fi(e),fi(y)),Dn(([v,w])=>v<=w),Zr()),s),Un(Kt(s,jd(50)),p);const x=gl(Kt(Qa(n,fi(t),fi(i),fi(r),fi(m)),Xc((v,[{scrollTop:w,scrollHeight:N},S,L,O,Y])=>{const X=w+S-N>-Y,H={viewportHeight:S,scrollTop:w,scrollHeight:N};if(X){let G,B;return w>v.state.scrollTop?(G="SCROLLED_DOWN",B=v.state.scrollTop-w):(G="SIZE_DECREASED",B=v.state.scrollTop-w||v.scrollTopDelta),{atBottom:!0,state:H,atBottomBecause:G,scrollTopDelta:B}}let $;return H.scrollHeight>v.state.scrollHeight?$="SIZE_INCREASED":S<v.state.viewportHeight?$="VIEWPORT_HEIGHT_DECREASING":w<v.state.scrollTop?$="SCROLLING_UPWARDS":$="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:$,state:H}},u6),Zr((v,w)=>v&&v.atBottom===w.atBottom))),T=No(Kt(n,Xc((v,{scrollTop:w,scrollHeight:N,viewportHeight:S})=>{if(lP(v.scrollHeight,N))return{scrollTop:w,scrollHeight:N,jump:0,changed:!1};{const L=N-(w+S)<1;return v.scrollTop!==w&&L?{scrollHeight:N,scrollTop:w,jump:v.scrollTop-w,changed:!0}:{scrollHeight:N,scrollTop:w,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),ui(v=>v.changed),Dn(v=>v.jump)),0);Un(Kt(x,Dn(v=>v.atBottom)),o),Un(Kt(o,jd(50)),d);const E=fn(vy);Un(Kt(n,Dn(({scrollTop:v})=>v),Zr(),Xc((v,w)=>no(_)?{direction:v.direction,prevScrollTop:w}:{direction:w<v.prevScrollTop?My:vy,prevScrollTop:w},{direction:vy,prevScrollTop:0}),Dn(v=>v.direction)),E),Un(Kt(n,jd(50),qc(c6)),E);const k=fn(0);return Un(Kt(g,ui(v=>!v),qc(0)),k),Un(Kt(e,jd(100),Ai(g),ui(([v,w])=>!!w),Xc(([v,w],[N])=>[w,N],[0,0]),Dn(([v,w])=>w-v)),k),{isScrolling:g,isAtTop:s,isAtBottom:o,atBottomState:x,atTopStateChange:p,atBottomStateChange:d,scrollDirection:E,atBottomThreshold:m,atTopThreshold:y,scrollVelocity:k,lastJumpDueToItemResize:T}},na($o)),dh=hr(([{log:n}])=>{const e=fn(!1),t=gl(Kt(e,ui(i=>i),Zr()));return ur(e,i=>{i&&no(n)("props updated",{},yl.DEBUG)}),{propsReady:e,didMount:t}},na(uh),{singleton:!0});function pS(n,e){n==0?e():requestAnimationFrame(()=>pS(n-1,e))}function mS(n,e){const t=e-1;return typeof n=="number"?n:n.index==="LAST"?t:n.index}const vv=hr(([{sizes:n,listRefresh:e,defaultItemSize:t},{scrollTop:i},{scrollToIndex:r,scrollTargetReached:a},{didMount:o}])=>{const s=fn(!0),d=fn(0),p=fn(!0);return Un(Kt(o,Ai(d),ui(([m,y])=>!!y),qc(!1)),s),Un(Kt(o,Ai(d),ui(([m,y])=>!!y),qc(!1)),p),ur(Kt(Qa(e,o),Ai(s,n,t,p),ui(([[,m],y,{sizeTree:g},_,x])=>m&&(!Tr(g)||lS(_))&&!y&&!x),Ai(d)),([,m])=>{nu(a,()=>{Ni(p,!0)}),pS(4,()=>{nu(i,()=>{Ni(s,!0)}),Ni(r,m)})}),{scrolledToInitialItem:s,initialTopMostItemIndex:d,initialItemFinalLocationReached:p}},na(mu,$o,gv,dh),{singleton:!0});function Gk(n){return n?n==="smooth"?"smooth":"auto":!1}const h6=(n,e)=>typeof n=="function"?Gk(n(e)):e&&Gk(n),p6=hr(([{totalCount:n,listRefresh:e},{isAtBottom:t,atBottomState:i},{scrollToIndex:r},{scrolledToInitialItem:a},{propsReady:o,didMount:s},{log:d},{scrollingInProgress:p}])=>{const m=fn(!1),y=qi();let g=null;function _(T){Ni(r,{index:"LAST",align:"end",behavior:T})}ur(Kt(Qa(Kt(fi(n),lf(1)),s),Ai(fi(m),t,a,p),Dn(([[T,E],k,v,w,N])=>{let S=E&&w,L="auto";return S&&(L=h6(k,v||N),S=S&&!!L),{totalCount:T,shouldFollow:S,followOutputBehavior:L}}),ui(({shouldFollow:T})=>T)),({totalCount:T,followOutputBehavior:E})=>{g&&(g(),g=null),g=nu(e,()=>{no(d)("following output to ",{totalCount:T},yl.DEBUG),_(E),g=null})});function x(T){const E=nu(i,k=>{T&&!k.atBottom&&k.notAtBottomBecause==="SIZE_INCREASED"&&!g&&(no(d)("scrolling to bottom due to increased size",{},yl.DEBUG),_("auto"))});setTimeout(E,100)}return ur(Kt(Qa(fi(m),n,o),ui(([T,,E])=>T&&E),Xc(({value:T},[,E])=>({refreshed:T===E,value:E}),{refreshed:!1,value:0}),ui(({refreshed:T})=>T),Ai(m,n)),([,T])=>{no(a)&&x(T!==!1)}),ur(y,()=>{x(no(m)!==!1)}),ur(Qa(fi(m),i),([T,E])=>{T&&!E.atBottom&&E.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&_("auto")}),{followOutput:m,autoscrollToBottom:y}},na(mu,yv,gv,vv,dh,uh,$o));function m6(n){return n.reduce((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e),{totalCount:0,groupIndices:[]})}const xP=hr(([{totalCount:n,groupIndices:e,sizes:t},{scrollTop:i,headerHeight:r}])=>{const a=qi(),o=qi(),s=gl(Kt(a,Dn(m6)));return Un(Kt(s,Dn(d=>d.totalCount)),n),Un(Kt(s,Dn(d=>d.groupIndices)),e),Un(Kt(Qa(i,t,r),ui(([d,p])=>R0(p)),Dn(([d,p,m])=>vc(p.groupOffsetTree,Math.max(d-m,0),"v")[0]),Zr(),Dn(d=>[d])),o),{groupCounts:a,topItemsIndexes:o}},na(mu,$o));function Oy(n,e){return!!(n&&n[0]===e[0]&&n[1]===e[1])}function bP(n,e){return!!(n&&n.startIndex===e.startIndex&&n.endIndex===e.endIndex)}const Ob="top",Rb="bottom",Yk="none";function Vk(n,e,t){return typeof n=="number"?t===My&&e===Ob||t===vy&&e===Rb?n:0:t===My?e===Ob?n.main:n.reverse:e===Rb?n.main:n.reverse}function Wk(n,e){return typeof n=="number"?n:n[e]||0}const fS=hr(([{scrollTop:n,viewportHeight:e,deviation:t,headerHeight:i,fixedHeaderHeight:r}])=>{const a=qi(),o=fn(0),s=fn(0),d=fn(0),p=No(Kt(Qa(fi(n),fi(e),fi(i),fi(a,Oy),fi(d),fi(o),fi(r),fi(t),fi(s)),Dn(([m,y,g,[_,x],T,E,k,v,w])=>{const N=m-v,S=E+k,L=Math.max(g-N,0);let O=Yk;const Y=Wk(w,Ob),X=Wk(w,Rb);return _-=v,_+=g+k,x+=g+k,x-=v,_>m+S-Y&&(O=My),x<m-L+y+X&&(O=vy),O!==Yk?[Math.max(N-g-Vk(T,Ob,O)-Y,0),N-L-k+y+Vk(T,Rb,O)+X]:null}),ui(m=>m!=null),Zr(Oy)),[0,0]);return{listBoundary:a,overscan:d,topListHeight:o,increaseViewportBy:s,visibleRange:p}},na($o),{singleton:!0});function f6(n,e,t){if(R0(e)){const i=yP(n,e);return[{index:vc(e.groupOffsetTree,i)[0],size:0,offset:0},{index:i,size:0,offset:0,data:t&&t[0]}]}return[{index:n,size:0,offset:0,data:t&&t[0]}]}const xw={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function qk(n,e,t){if(n.length===0)return[];if(!R0(e))return n.map(p=>({...p,index:p.index+t,originalIndex:p.index}));const i=n[0].index,r=n[n.length-1].index,a=[],o=O0(e.groupOffsetTree,i,r);let s,d=0;for(const p of n){(!s||s.end<p.index)&&(s=o.shift(),d=e.groupIndices.indexOf(s.start));let m;p.index===s.start?m={type:"group",index:d}:m={index:p.index-(d+1)+t,groupIndex:d},a.push({...m,size:p.size,offset:p.offset,originalIndex:p.index,data:p.data})}return a}function db(n,e,t,i,r,a){const{lastSize:o,lastOffset:s,lastIndex:d}=r;let p=0,m=0;if(n.length>0){p=n[0].offset;const T=n[n.length-1];m=T.offset+T.size}const y=t-d,g=s+y*o+(y-1)*i,_=p,x=g-m;return{items:qk(n,r,a),topItems:qk(e,r,a),topListHeight:e.reduce((T,E)=>E.size+T,0),offsetTop:p,offsetBottom:x,top:_,bottom:m,totalCount:t,firstItemIndex:a}}function _P(n,e,t,i,r,a){let o=0;if(t.groupIndices.length>0)for(const m of t.groupIndices){if(m-o>=n)break;o++}const s=n+o,d=mS(e,s),p=Array.from({length:s}).map((m,y)=>({index:y+d,size:0,offset:0,data:a[y+d]}));return db(p,[],s,r,t,i)}const jp=hr(([{sizes:n,totalCount:e,data:t,firstItemIndex:i,gap:r},a,{visibleRange:o,listBoundary:s,topListHeight:d},{scrolledToInitialItem:p,initialTopMostItemIndex:m},{topListHeight:y},g,{didMount:_},{recalcInProgress:x}])=>{const T=fn([]),E=fn(0),k=qi();Un(a.topItemsIndexes,T);const v=No(Kt(Qa(_,x,fi(o,Oy),fi(e),fi(n),fi(m),p,fi(T),fi(i),fi(r),t),ui(([L,O,,Y,,,,,,,X])=>{const H=X&&X.length!==Y;return L&&!O&&!H}),Dn(([,,[L,O],Y,X,H,$,G,B,M,D])=>{const V=X,{sizeTree:F,offsetTree:z}=V,W=no(E);if(Y===0)return{...xw,totalCount:Y};if(L===0&&O===0)return W===0?{...xw,totalCount:Y}:_P(W,H,X,B,M,D||[]);if(Tr(F))return W>0?null:db(f6(mS(H,Y),V,D),[],Y,M,V,B);const q=[];if(G.length>0){const Ee=G[0],me=G[G.length-1];let Te=0;for(const K of O0(F,Ee,me)){const J=K.value,se=Math.max(K.start,Ee),xe=Math.min(K.end,me);for(let Q=se;Q<=xe;Q++)q.push({index:Q,size:J,offset:Te,data:D&&D[Q]}),Te+=J}}if(!$)return db([],q,Y,M,V,B);const ee=G.length>0?G[G.length-1]+1:0,ue=n6(z,L,O,ee);if(ue.length===0)return null;const ie=Y-1,oe=M0([],Ee=>{for(const me of ue){const Te=me.value;let K=Te.offset,J=me.start;const se=Te.size;if(Te.offset<L){J+=Math.floor((L-Te.offset+M)/(se+M));const Q=J-me.start;K+=Q*se+Q*M}J<ee&&(K+=(ee-J)*se,J=ee);const xe=Math.min(me.end,ie);for(let Q=J;Q<=xe&&!(K>=O);Q++)Ee.push({index:Q,size:se,offset:K,data:D&&D[Q]}),K+=se+M}});return db(oe,q,Y,M,V,B)}),ui(L=>L!==null),Zr()),xw);Un(Kt(t,ui(lS),Dn(L=>L==null?void 0:L.length)),e),Un(Kt(v,Dn(L=>L.topListHeight)),y),Un(y,d),Un(Kt(v,Dn(L=>[L.top,L.bottom])),s),Un(Kt(v,Dn(L=>L.items)),k);const w=gl(Kt(v,ui(({items:L})=>L.length>0),Ai(e,t),ui(([{items:L},O])=>L[L.length-1].originalIndex===O-1),Dn(([,L,O])=>[L-1,O]),Zr(Oy),Dn(([L])=>L))),N=gl(Kt(v,jd(200),ui(({items:L,topItems:O})=>L.length>0&&L[0].originalIndex===O.length),Dn(({items:L})=>L[0].index),Zr())),S=gl(Kt(v,ui(({items:L})=>L.length>0),Dn(({items:L})=>{let O=0,Y=L.length-1;for(;L[O].type==="group"&&O<Y;)O++;for(;L[Y].type==="group"&&Y>O;)Y--;return{startIndex:L[O].index,endIndex:L[Y].index}}),Zr(bP)));return{listState:v,topItemsIndexes:T,endReached:w,startReached:N,rangeChanged:S,itemsRendered:k,initialItemCount:E,...g}},na(mu,xP,fS,vv,gv,yv,dh,dS),{singleton:!0}),g6=hr(([{sizes:n,firstItemIndex:e,data:t,gap:i},{initialTopMostItemIndex:r},{initialItemCount:a,listState:o},{didMount:s}])=>(Un(Kt(s,Ai(a),ui(([,d])=>d!==0),Ai(r,n,e,i,t),Dn(([[,d],p,m,y,g,_=[]])=>_P(d,p,m,y,g,_))),o),{}),na(mu,vv,jp,dh),{singleton:!0}),wP=hr(([{scrollVelocity:n}])=>{const e=fn(!1),t=qi(),i=fn(!1);return Un(Kt(n,Ai(i,e,t),ui(([r,a])=>!!a),Dn(([r,a,o,s])=>{const{exit:d,enter:p}=a;if(o){if(d(r,s))return!1}else if(p(r,s))return!0;return o}),Zr()),e),ur(Kt(Qa(e,n,t),Ai(i)),([[r,a,o],s])=>r&&s&&s.change&&s.change(a,o)),{isSeeking:e,scrollSeekConfiguration:i,scrollVelocity:n,scrollSeekRangeChanged:t}},na(yv),{singleton:!0}),y6=hr(([{topItemsIndexes:n}])=>{const e=fn(0);return Un(Kt(e,ui(t=>t>=0),Dn(t=>Array.from({length:t}).map((i,r)=>r))),n),{topItemCount:e}},na(jp)),TP=hr(([{footerHeight:n,headerHeight:e,fixedHeaderHeight:t,fixedFooterHeight:i},{listState:r}])=>{const a=qi(),o=No(Kt(Qa(n,i,e,t,r),Dn(([s,d,p,m,y])=>s+d+p+m+y.offsetBottom+y.bottom)),0);return Un(fi(o),a),{totalListHeight:o,totalListHeightChanged:a}},na($o,jp),{singleton:!0});function SP(n){let e=!1,t;return()=>(e||(e=!0,t=n()),t)}const v6=SP(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),x6=hr(([{scrollBy:n,scrollTop:e,deviation:t,scrollingInProgress:i},{isScrolling:r,isAtBottom:a,scrollDirection:o,lastJumpDueToItemResize:s},{listState:d},{beforeUnshiftWith:p,shiftWithOffset:m,sizes:y,gap:g},{log:_},{recalcInProgress:x}])=>{const T=gl(Kt(d,Ai(s),Xc(([,k,v,w],[{items:N,totalCount:S,bottom:L,offsetBottom:O},Y])=>{const X=L+O;let H=0;return v===S&&k.length>0&&N.length>0&&(N[0].originalIndex===0&&k[0].originalIndex===0||(H=X-w,H!==0&&(H+=Y))),[H,N,S,X]},[0,[],0,0]),ui(([k])=>k!==0),Ai(e,o,i,a,_,x),ui(([,k,v,w,,,N])=>!N&&!w&&k!==0&&v===My),Dn(([[k],,,,,v])=>(v("Upward scrolling compensation",{amount:k},yl.DEBUG),k))));function E(k){k>0?(Ni(n,{top:-k,behavior:"auto"}),Ni(t,0)):(Ni(t,0),Ni(n,{top:-k,behavior:"auto"}))}return ur(Kt(T,Ai(t,r)),([k,v,w])=>{w&&v6()?Ni(t,v-k):E(-k)}),ur(Kt(Qa(No(r,!1),t,x),ui(([k,v,w])=>!k&&!w&&v!==0),Dn(([k,v])=>v),jd(1)),E),Un(Kt(m,Dn(k=>({top:-k}))),n),ur(Kt(p,Ai(y,g),Dn(([k,{lastSize:v,groupIndices:w,sizeTree:N},S])=>{function L(O){return O*(v+S)}if(w.length===0)return L(k);{let O=0;const Y=Py(N,0);let X=0,H=0;for(;X<k;){X++,O+=Y;let $=w.length===H+1?1/0:w[H+1]-w[H]-1;X+$>k&&(O-=Y,$=k-X+1),X+=$,O+=L($),H++}return O}})),k=>{Ni(t,k),requestAnimationFrame(()=>{Ni(n,{top:k}),requestAnimationFrame(()=>{Ni(t,0),Ni(x,!1)})})}),{deviation:t}},na($o,yv,jp,mu,uh,dS)),b6=hr(([{didMount:n},{scrollTo:e},{listState:t}])=>{const i=fn(0);return ur(Kt(n,Ai(i),ui(([,r])=>r!==0),Dn(([,r])=>({top:r}))),r=>{nu(Kt(t,lf(1),ui(a=>a.items.length>1)),()=>{requestAnimationFrame(()=>{Ni(e,r)})})}),{initialScrollTop:i}},na(dh,$o,jp),{singleton:!0}),_6=hr(([{viewportHeight:n},{totalListHeight:e}])=>{const t=fn(!1),i=No(Kt(Qa(t,n,e),ui(([r])=>r),Dn(([,r,a])=>Math.max(0,r-a)),jd(0),Zr()),0);return{alignToBottom:t,paddingTopAddition:i}},na($o,TP),{singleton:!0}),gS=hr(([{scrollTo:n,scrollContainerState:e}])=>{const t=qi(),i=qi(),r=qi(),a=fn(!1),o=fn(void 0);return Un(Kt(Qa(t,i),Dn(([{viewportHeight:s,scrollTop:d,scrollHeight:p},{offsetTop:m}])=>({scrollTop:Math.max(0,d-m),scrollHeight:p,viewportHeight:s}))),e),Un(Kt(n,Ai(i),Dn(([s,{offsetTop:d}])=>({...s,top:s.top+d}))),r),{useWindowScroll:a,customScrollParent:o,windowScrollContainerState:t,windowViewportRect:i,windowScrollTo:r}},na($o)),w6=({itemTop:n,itemBottom:e,viewportTop:t,viewportBottom:i,locationParams:{behavior:r,align:a,...o}})=>n<t?{...o,behavior:r,align:a??"start"}:e>i?{...o,behavior:r,align:a??"end"}:null,T6=hr(([{sizes:n,totalCount:e,gap:t},{scrollTop:i,viewportHeight:r,headerHeight:a,fixedHeaderHeight:o,fixedFooterHeight:s,scrollingInProgress:d},{scrollToIndex:p}])=>{const m=qi();return Un(Kt(m,Ai(n,r,e,a,o,s,i),Ai(t),Dn(([[y,g,_,x,T,E,k,v],w])=>{const{done:N,behavior:S,align:L,calculateViewLocation:O=w6,...Y}=y,X=gP(y,g,x-1),H=Dy(X,g.offsetTree,w)+T+E,$=H+vc(g.sizeTree,X)[1],G=v+E,B=v+_-k,M=O({itemTop:H,itemBottom:$,viewportTop:G,viewportBottom:B,locationParams:{behavior:S,align:L,...Y}});return M?N&&nu(Kt(d,ui(D=>D===!1),lf(no(d)?1:2)),N):N&&N(),M}),ui(y=>y!==null)),p),{scrollIntoView:m}},na(mu,$o,gv,jp,uh),{singleton:!0}),S6=hr(([{sizes:n,sizeRanges:e},{scrollTop:t,headerHeight:i},{initialTopMostItemIndex:r},{didMount:a},{useWindowScroll:o,windowScrollContainerState:s,windowViewportRect:d}])=>{const p=qi(),m=fn(void 0),y=fn(null),g=fn(null);return Un(s,y),Un(d,g),ur(Kt(p,Ai(n,t,o,y,g,i)),([_,x,T,E,k,v,w])=>{const N=a6(x.sizeTree);E&&k!==null&&v!==null&&(T=k.scrollTop-v.offsetTop),T-=w,_({ranges:N,scrollTop:T})}),Un(Kt(m,ui(lS),Dn(C6)),r),Un(Kt(a,Ai(m),ui(([,_])=>_!==void 0),Zr(),Dn(([,_])=>_.ranges)),e),{getState:p,restoreStateFrom:m}},na(mu,$o,vv,dh,gS));function C6(n){return{offset:n.scrollTop,index:0,align:"start"}}const E6=hr(([n,e,t,i,r,a,o,s,d,p])=>({...n,...e,...t,...i,...r,...a,...o,...s,...d,...p}),na(fS,g6,dh,wP,TP,b6,_6,gS,T6,uh)),k6=hr(([{totalCount:n,sizeRanges:e,fixedItemSize:t,defaultItemSize:i,trackItemSizes:r,itemSize:a,data:o,firstItemIndex:s,groupIndices:d,statefulTotalCount:p,gap:m,sizes:y},{initialTopMostItemIndex:g,scrolledToInitialItem:_,initialItemFinalLocationReached:x},T,E,k,{listState:v,topItemsIndexes:w,...N},{scrollToIndex:S},L,{topItemCount:O},{groupCounts:Y},X])=>(Un(N.rangeChanged,X.scrollSeekRangeChanged),Un(Kt(X.windowViewportRect,Dn(H=>H.visibleHeight)),T.viewportHeight),{totalCount:n,data:o,firstItemIndex:s,sizeRanges:e,initialTopMostItemIndex:g,scrolledToInitialItem:_,initialItemFinalLocationReached:x,topItemsIndexes:w,topItemCount:O,groupCounts:Y,fixedItemHeight:t,defaultItemHeight:i,gap:m,...k,statefulTotalCount:p,listState:v,scrollToIndex:S,trackItemSizes:r,itemSize:a,groupIndices:d,...N,...X,...T,sizes:y,...E}),na(mu,vv,$o,S6,p6,jp,gv,x6,y6,xP,E6)),bw="-webkit-sticky",Hk="sticky",CP=SP(()=>{if(typeof document>"u")return Hk;const n=document.createElement("div");return n.style.position=bw,n.style.position===bw?bw:Hk});function EP(n,e,t){const i=Se.useRef(null),r=Se.useCallback(d=>{if(d===null||!d.offsetParent)return;const p=d.getBoundingClientRect(),m=p.width;let y,g;if(e){const _=e.getBoundingClientRect(),x=p.top-_.top;y=_.height-Math.max(0,x),g=x+e.scrollTop}else y=window.innerHeight-Math.max(0,p.top),g=p.top+window.pageYOffset;i.current={offsetTop:g,visibleHeight:y,visibleWidth:m},n(i.current)},[n,e]),{callbackRef:a,ref:o}=uS(r,!0,t),s=Se.useCallback(()=>{r(o.current)},[r,o]);return Se.useEffect(()=>{if(e){e.addEventListener("scroll",s);const d=new ResizeObserver(()=>{requestAnimationFrame(s)});return d.observe(e),()=>{e.removeEventListener("scroll",s),d.unobserve(e)}}else return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[s,e]),a}const kP=Se.createContext(void 0),NP=Se.createContext(void 0);function LP(n){return n}const N6=hr(()=>{const n=fn(d=>`Item ${d}`),e=fn(null),t=fn(d=>`Group ${d}`),i=fn({}),r=fn(LP),a=fn("div"),o=fn(Bf),s=(d,p=null)=>No(Kt(i,Dn(m=>m[d]),Zr()),p);return{context:e,itemContent:n,groupContent:t,components:i,computeItemKey:r,HeaderFooterTag:a,scrollerRef:o,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}}),L6=hr(([n,e])=>({...n,...e}),na(k6,N6)),I6=({height:n})=>re.jsx("div",{style:{height:n}}),A6={position:CP(),zIndex:1,overflowAnchor:"none"},IP={overflowAnchor:"none"},P6={...IP,display:"inline-block",height:"100%"},Xk=Se.memo(function({showTopList:e=!1}){const t=bi("listState"),i=Bl("sizeRanges"),r=bi("useWindowScroll"),a=bi("customScrollParent"),o=Bl("windowScrollContainerState"),s=Bl("scrollContainerState"),d=a||r?o:s,p=bi("itemContent"),m=bi("context"),y=bi("groupContent"),g=bi("trackItemSizes"),_=bi("itemSize"),x=bi("log"),T=Bl("gap"),E=bi("horizontalDirection"),{callbackRef:k}=q5(i,_,g,e?Bf:d,x,T,a,E,bi("skipAnimationFrameInResizeObserver")),[v,w]=Se.useState(0);yS("deviation",D=>{v!==D&&w(D)});const N=bi("EmptyPlaceholder"),S=bi("ScrollSeekPlaceholder")||I6,L=bi("ListComponent"),O=bi("ItemComponent"),Y=bi("GroupComponent"),X=bi("computeItemKey"),H=bi("isSeeking"),$=bi("groupIndices").length>0,G=bi("alignToBottom"),B=bi("initialItemFinalLocationReached"),M=e?{}:{boxSizing:"border-box",...E?{whiteSpace:"nowrap",display:"inline-block",height:"100%",paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,marginLeft:v!==0?v:G?"auto":0}:{marginTop:v!==0?v:G?"auto":0,paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},...B?{}:{visibility:"hidden"}};return!e&&t.totalCount===0&&N?re.jsx(N,{...ko(N,m)}):re.jsx(L,{...ko(L,m),ref:k,style:M,"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",children:(e?t.topItems:t.items).map(D=>{const V=D.originalIndex,F=X(V+t.firstItemIndex,D.data,m);return H?Oe.createElement(S,{...ko(S,m),key:F,index:D.index,height:D.size,type:D.type||"item",...D.type==="group"?{}:{groupIndex:D.groupIndex}}):D.type==="group"?Oe.createElement(Y,{...ko(Y,m),key:F,"data-index":V,"data-known-size":D.size,"data-item-index":D.index,style:A6},y(D.index,m)):Oe.createElement(O,{...ko(O,m),...R6(O,D.data),key:F,"data-index":V,"data-known-size":D.size,"data-item-index":D.index,"data-item-group-index":D.groupIndex,style:E?P6:IP},$?p(D.index,D.groupIndex,D.data,m):p(D.index,D.data,m))})})}),D6={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},M6={outline:"none",overflowX:"auto",position:"relative"},$0=n=>({width:"100%",height:"100%",position:"absolute",top:0,...n?{display:"flex",flexDirection:"column"}:{}}),O6={width:"100%",position:CP(),top:0,zIndex:1};function ko(n,e){if(typeof n!="string")return{context:e}}function R6(n,e){return{item:typeof n=="string"?void 0:e}}const $6=Se.memo(function(){const e=bi("HeaderComponent"),t=Bl("headerHeight"),i=bi("HeaderFooterTag"),r=Fp(Se.useMemo(()=>o=>t(Qd(o,"height")),[t]),!0,bi("skipAnimationFrameInResizeObserver")),a=bi("context");return e?re.jsx(i,{ref:r,children:re.jsx(e,{...ko(e,a)})}):null}),z6=Se.memo(function(){const e=bi("FooterComponent"),t=Bl("footerHeight"),i=bi("HeaderFooterTag"),r=Fp(Se.useMemo(()=>o=>t(Qd(o,"height")),[t]),!0,bi("skipAnimationFrameInResizeObserver")),a=bi("context");return e?re.jsx(i,{ref:r,children:re.jsx(e,{...ko(e,a)})}):null});function AP({usePublisher:n,useEmitter:e,useEmitterValue:t}){return Se.memo(function({style:a,children:o,...s}){const d=n("scrollContainerState"),p=t("ScrollerComponent"),m=n("smoothScrollTargetReached"),y=t("scrollerRef"),g=t("context"),_=t("horizontalDirection")||!1,{scrollerRef:x,scrollByCallback:T,scrollToCallback:E}=cP(d,m,p,y,void 0,_);e("scrollTo",E),e("scrollBy",T);const k=_?M6:D6;return re.jsx(p,{ref:x,style:{...k,...a},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...s,...ko(p,g),children:o})})}function PP({usePublisher:n,useEmitter:e,useEmitterValue:t}){return Se.memo(function({style:a,children:o,...s}){const d=n("windowScrollContainerState"),p=t("ScrollerComponent"),m=n("smoothScrollTargetReached"),y=t("totalListHeight"),g=t("deviation"),_=t("customScrollParent"),x=t("context"),{scrollerRef:T,scrollByCallback:E,scrollToCallback:k}=cP(d,m,p,Bf,_);return oP(()=>(T.current=_||window,()=>{T.current=null}),[T,_]),e("windowScrollTo",k),e("scrollBy",E),re.jsx(p,{style:{position:"relative",...a,...y!==0?{height:y+g}:{}},"data-virtuoso-scroller":!0,...s,...ko(p,x),children:o})})}const F6=({children:n})=>{const e=Se.useContext(kP),t=Bl("viewportHeight"),i=Bl("fixedItemHeight"),r=bi("alignToBottom"),a=bi("horizontalDirection"),o=Se.useMemo(()=>iP(t,d=>Qd(d,a?"width":"height")),[t,a]),s=Fp(o,!0,bi("skipAnimationFrameInResizeObserver"));return Se.useEffect(()=>{e&&(t(e.viewportHeight),i(e.itemHeight))},[e,t,i]),re.jsx("div",{style:$0(r),ref:s,"data-viewport-type":"element",children:n})},j6=({children:n})=>{const e=Se.useContext(kP),t=Bl("windowViewportRect"),i=Bl("fixedItemHeight"),r=bi("customScrollParent"),a=EP(t,r,bi("skipAnimationFrameInResizeObserver")),o=bi("alignToBottom");return Se.useEffect(()=>{e&&(i(e.itemHeight),t({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,t,i]),re.jsx("div",{ref:a,style:$0(o),"data-viewport-type":"window",children:n})},B6=({children:n})=>{const e=bi("TopItemListComponent")||"div",t=bi("headerHeight"),i={...O6,marginTop:`${t}px`},r=bi("context");return re.jsx(e,{style:i,...ko(e,r),children:n})},U6=Se.memo(function(e){const t=bi("useWindowScroll"),i=bi("topItemsIndexes").length>0,r=bi("customScrollParent"),a=r||t?V6:Y6,o=r||t?j6:F6;return re.jsxs(a,{...e,children:[i&&re.jsx(B6,{children:re.jsx(Xk,{showTopList:!0})}),re.jsxs(o,{children:[re.jsx($6,{}),re.jsx(Xk,{}),re.jsx(z6,{})]})]})}),{Component:G6,usePublisher:Bl,useEmitterValue:bi,useEmitter:yS}=sP(L6,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},U6),Y6=AP({usePublisher:Bl,useEmitterValue:bi,useEmitter:yS}),V6=PP({usePublisher:Bl,useEmitterValue:bi,useEmitter:yS}),W6=G6,Zk={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},q6={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:Kk,ceil:Qk,floor:$b,min:_w,max:xy}=Math;function H6(n){return{...q6,items:n}}function Jk(n,e,t){return Array.from({length:e-n+1}).map((i,r)=>{const a=t===null?null:t[r+n];return{index:r+n,data:a}})}function X6(n,e){return n&&n.column===e.column&&n.row===e.row}function $x(n,e){return n&&n.width===e.width&&n.height===e.height}const Z6=hr(([{overscan:n,visibleRange:e,listBoundary:t,increaseViewportBy:i},{scrollTop:r,viewportHeight:a,scrollBy:o,scrollTo:s,smoothScrollTargetReached:d,scrollContainerState:p,footerHeight:m,headerHeight:y},g,_,{propsReady:x,didMount:T},{windowViewportRect:E,useWindowScroll:k,customScrollParent:v,windowScrollContainerState:w,windowScrollTo:N},S])=>{const L=fn(0),O=fn(0),Y=fn(Zk),X=fn({height:0,width:0}),H=fn({height:0,width:0}),$=qi(),G=qi(),B=fn(0),M=fn(null),D=fn({row:0,column:0}),V=qi(),F=qi(),z=fn(!1),W=fn(0),q=fn(!0),ee=fn(!1),ue=fn(!1);ur(Kt(T,Ai(W),ui(([K,J])=>!!J)),()=>{Ni(q,!1)}),ur(Kt(Qa(T,q,H,X,W,ee),ui(([K,J,se,xe,,Q])=>K&&!J&&se.height!==0&&xe.height!==0&&!Q)),([,,,,K])=>{Ni(ee,!0),pS(1,()=>{Ni($,K)}),nu(Kt(r),()=>{Ni(t,[0,0]),Ni(q,!0)})}),Un(Kt(F,ui(K=>K!=null&&K.scrollTop>0),qc(0)),O),ur(Kt(T,Ai(F),ui(([,K])=>K!=null)),([,K])=>{K&&(Ni(X,K.viewport),Ni(H,K==null?void 0:K.item),Ni(D,K.gap),K.scrollTop>0&&(Ni(z,!0),nu(Kt(r,lf(1)),J=>{Ni(z,!1)}),Ni(s,{top:K.scrollTop})))}),Un(Kt(X,Dn(({height:K})=>K)),a),Un(Kt(Qa(fi(X,$x),fi(H,$x),fi(D,(K,J)=>K&&K.column===J.column&&K.row===J.row),fi(r)),Dn(([K,J,se,xe])=>({viewport:K,item:J,gap:se,scrollTop:xe}))),V),Un(Kt(Qa(fi(L),e,fi(D,X6),fi(H,$x),fi(X,$x),fi(M),fi(O),fi(z),fi(q),fi(W)),ui(([,,,,,,,K])=>!K),Dn(([K,[J,se],xe,Q,ae,ce,ge,,be,Le])=>{const{row:_e,column:Ne}=xe,{height:$e,width:Ye}=Q,{width:Xe}=ae;if(ge===0&&(K===0||Xe===0))return Zk;if(Ye===0){const ht=mS(Le,K),gt=ht+Math.max(ge-1,0);return H6(Jk(ht,gt,ce))}const De=DP(Xe,Ye,Ne);let we,ke;be?J===0&&se===0&&ge>0?(we=0,ke=ge-1):(we=De*$b((J+_e)/($e+_e)),ke=De*Qk((se+_e)/($e+_e))-1,ke=_w(K-1,xy(ke,De-1)),we=_w(ke,xy(0,we))):(we=0,ke=-1);const ze=Jk(we,ke,ce),{top:Me,bottom:je}=eN(ae,xe,Q,ze),Ke=Qk(K/De),ot=Ke*$e+(Ke-1)*_e-je;return{items:ze,offsetTop:Me,offsetBottom:ot,top:Me,bottom:je,itemHeight:$e,itemWidth:Ye}})),Y),Un(Kt(M,ui(K=>K!==null),Dn(K=>K.length)),L),Un(Kt(Qa(X,H,Y,D),ui(([K,J,{items:se}])=>se.length>0&&J.height!==0&&K.height!==0),Dn(([K,J,{items:se},xe])=>{const{top:Q,bottom:ae}=eN(K,xe,J,se);return[Q,ae]}),Zr(Oy)),t);const ie=fn(!1);Un(Kt(r,Ai(ie),Dn(([K,J])=>J||K!==0)),ie);const oe=gl(Kt(Qa(Y,L),ui(([{items:K}])=>K.length>0),Ai(ie),ui(([[K,J],se])=>{const Q=K.items[K.items.length-1].index===J-1;return(se||K.bottom>0&&K.itemHeight>0&&K.offsetBottom===0&&K.items.length===J)&&Q}),Dn(([[,K]])=>K-1),Zr())),Ee=gl(Kt(fi(Y),ui(({items:K})=>K.length>0&&K[0].index===0),qc(0),Zr())),me=gl(Kt(fi(Y),Ai(z),ui(([{items:K},J])=>K.length>0&&!J),Dn(([{items:K}])=>({startIndex:K[0].index,endIndex:K[K.length-1].index})),Zr(bP),jd(0)));Un(me,_.scrollSeekRangeChanged),Un(Kt($,Ai(X,H,L,D),Dn(([K,J,se,xe,Q])=>{const ae=vP(K),{align:ce,behavior:ge,offset:be}=ae;let Le=ae.index;Le==="LAST"&&(Le=xe-1),Le=xy(0,Le,_w(xe-1,Le));let _e=M1(J,Q,se,Le);return ce==="end"?_e=Kk(_e-J.height+se.height):ce==="center"&&(_e=Kk(_e-J.height/2+se.height/2)),be&&(_e+=be),{top:_e,behavior:ge}})),s);const Te=No(Kt(Y,Dn(K=>K.offsetBottom+K.bottom)),0);return Un(Kt(E,Dn(K=>({width:K.visibleWidth,height:K.visibleHeight}))),X),{data:M,totalCount:L,viewportDimensions:X,itemDimensions:H,scrollTop:r,scrollHeight:G,overscan:n,increaseViewportBy:i,scrollBy:o,scrollTo:s,scrollToIndex:$,smoothScrollTargetReached:d,windowViewportRect:E,windowScrollTo:N,useWindowScroll:k,customScrollParent:v,windowScrollContainerState:w,deviation:B,scrollContainerState:p,footerHeight:m,headerHeight:y,initialItemCount:O,gap:D,restoreStateFrom:F,..._,initialTopMostItemIndex:W,horizontalDirection:ue,gridState:Y,totalListHeight:Te,...g,startReached:Ee,endReached:oe,rangeChanged:me,stateChanged:V,propsReady:x,stateRestoreInProgress:z,...S}},na(fS,$o,yv,wP,dh,gS,uh));function eN(n,e,t,i){const{height:r}=t;if(r===void 0||i.length===0)return{top:0,bottom:0};const a=M1(n,e,t,i[0].index),o=M1(n,e,t,i[i.length-1].index)+r;return{top:a,bottom:o}}function M1(n,e,t,i){const r=DP(n.width,t.width,e.column),a=$b(i/r),o=a*t.height+xy(0,a-1)*e.row;return o>0?o+e.row:o}function DP(n,e,t){return xy(1,$b((n+t)/($b(e)+t)))}const K6=hr(()=>{const n=fn(y=>`Item ${y}`),e=fn({}),t=fn(null),i=fn("virtuoso-grid-item"),r=fn("virtuoso-grid-list"),a=fn(LP),o=fn("div"),s=fn(Bf),d=(y,g=null)=>No(Kt(e,Dn(_=>_[y]),Zr()),g),p=fn(!1),m=fn(!1);return Un(fi(m),p),{readyStateChanged:p,reportReadyState:m,context:t,itemContent:n,components:e,computeItemKey:a,itemClassName:i,listClassName:r,headerFooterTag:o,scrollerRef:s,FooterComponent:d("Footer"),HeaderComponent:d("Header"),ListComponent:d("List","div"),ItemComponent:d("Item","div"),ScrollerComponent:d("Scroller","div"),ScrollSeekPlaceholder:d("ScrollSeekPlaceholder","div")}}),Q6=hr(([n,e])=>({...n,...e}),na(Z6,K6)),J6=Se.memo(function(){const e=aa("gridState"),t=aa("listClassName"),i=aa("itemClassName"),r=aa("itemContent"),a=aa("computeItemKey"),o=aa("isSeeking"),s=Ul("scrollHeight"),d=aa("ItemComponent"),p=aa("ListComponent"),m=aa("ScrollSeekPlaceholder"),y=aa("context"),g=Ul("itemDimensions"),_=Ul("gap"),x=aa("log"),T=aa("stateRestoreInProgress"),E=Ul("reportReadyState"),k=Fp(Se.useMemo(()=>v=>{const w=v.parentElement.parentElement.scrollHeight;s(w);const N=v.firstChild;if(N){const{width:S,height:L}=N.getBoundingClientRect();g({width:S,height:L})}_({row:tN("row-gap",getComputedStyle(v).rowGap,x),column:tN("column-gap",getComputedStyle(v).columnGap,x)})},[s,g,_,x]),!0,!1);return oP(()=>{e.itemHeight>0&&e.itemWidth>0&&E(!0)},[e]),T?null:re.jsx(p,{ref:k,className:t,...ko(p,y),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-testid":"virtuoso-item-list",children:e.items.map(v=>{const w=a(v.index,v.data,y);return o?re.jsx(m,{...ko(m,y),index:v.index,height:e.itemHeight,width:e.itemWidth},w):Oe.createElement(d,{...ko(d,y),className:i,"data-index":v.index,key:w},r(v.index,v.data,y))})})}),eU=Se.memo(function(){const e=aa("HeaderComponent"),t=Ul("headerHeight"),i=aa("headerFooterTag"),r=Fp(Se.useMemo(()=>o=>t(Qd(o,"height")),[t]),!0,!1),a=aa("context");return e?re.jsx(i,{ref:r,children:re.jsx(e,{...ko(e,a)})}):null}),tU=Se.memo(function(){const e=aa("FooterComponent"),t=Ul("footerHeight"),i=aa("headerFooterTag"),r=Fp(Se.useMemo(()=>o=>t(Qd(o,"height")),[t]),!0,!1),a=aa("context");return e?re.jsx(i,{ref:r,children:re.jsx(e,{...ko(e,a)})}):null}),nU=({children:n})=>{const e=Se.useContext(NP),t=Ul("itemDimensions"),i=Ul("viewportDimensions"),r=Fp(Se.useMemo(()=>a=>{i(a.getBoundingClientRect())},[i]),!0,!1);return Se.useEffect(()=>{e&&(i({height:e.viewportHeight,width:e.viewportWidth}),t({height:e.itemHeight,width:e.itemWidth}))},[e,i,t]),re.jsx("div",{style:$0(!1),ref:r,children:n})},iU=({children:n})=>{const e=Se.useContext(NP),t=Ul("windowViewportRect"),i=Ul("itemDimensions"),r=aa("customScrollParent"),a=EP(t,r,!1);return Se.useEffect(()=>{e&&(i({height:e.itemHeight,width:e.itemWidth}),t({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,t,i]),re.jsx("div",{ref:a,style:$0(!1),children:n})},rU=Se.memo(function({...e}){const t=aa("useWindowScroll"),i=aa("customScrollParent"),r=i||t?sU:aU,a=i||t?iU:nU;return re.jsx(r,{...e,children:re.jsxs(a,{children:[re.jsx(eU,{}),re.jsx(J6,{}),re.jsx(tU,{})]})})}),{Component:cXe,usePublisher:Ul,useEmitterValue:aa,useEmitter:MP}=sP(Q6,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},rU),aU=AP({usePublisher:Ul,useEmitterValue:aa,useEmitter:MP}),sU=PP({usePublisher:Ul,useEmitterValue:aa,useEmitter:MP});function tN(n,e,t){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&t(`${n} was not resolved to pixel value correctly`,e,yl.WARN),e==="normal"?0:parseInt(e??"0",10)}const oU=({evaluationPerOrgUnits:n,useVirtuoso:e=!0,useVirtuosoWindowScroll:t=!1})=>{function i(){return r=>{const a=n[r];return a&&Se.createElement("div",{key:a.orgUnitId},Se.createElement(Ok,{orgUnitsData:a}))}}return e?Se.createElement("div",null,Se.createElement(W6,{style:{height:"520px"},useWindowScroll:t,totalCount:n.length,itemContent:i()})):Se.createElement(Se.Fragment,null,n.map((r,a)=>Se.createElement(Ok,{orgUnitsData:r})))},lU=({splitPeriods:n,setSelectedSplitPeriod:e,selectedSplitPeriod:t})=>n.includes(t)?Se.createElement("div",null,Se.createElement("div",null,Se.createElement(va,{selected:t,onChange:i=>e(i.selected)},n.map((i,r)=>Se.createElement(to,{key:r,label:tP(i),value:i}))))):Se.createElement(Se.Fragment,null),cU="_orgUnitsSelction_1ms0w_1",uU="_wrapper_1ms0w_7",dU="_filter_1ms0w_14",hU="_plots_1ms0w_20",pU="_searchInput_1ms0w_24",mU="_filterTitle_1ms0w_29",Rm={orgUnitsSelction:cU,wrapper:uU,filter:dU,plots:hU,searchInput:pU,filterTitle:mU},OP=({evaluations:n,splitPeriods:e})=>{var _;const[t,i]=Oe.useState([]),[r,a]=Oe.useState(),[o,s]=Oe.useState([]),[d,p]=Oe.useState([]),[m,y]=Oe.useState(e[0]);Oe.useEffect(()=>{const x=n[0];s(x.evaluation.map(T=>T.orgUnitId)),p(x.evaluation.map(T=>({name:T.orgUnitName,id:T.orgUnitId}))),y(x.splitPoint),i(x.evaluation)},[n,e]),Oe.useEffect(()=>{const x=n.find(E=>E.splitPoint===m),T=o==null?void 0:o.map(E=>x.evaluation.find(k=>k.orgUnitId===E&&k.orgUnitName.toLocaleLowerCase().includes(r?r.toLocaleLowerCase():"")));i(T)},[m,o,r]);const g=x=>{const T=x.checked?[...o,x.value]:o.filter(E=>E!==x.value);s(T)};return Se.createElement(Se.Fragment,null,Se.createElement("div",{className:Rm.wrapper},Se.createElement("div",{className:Rm.filter},Se.createElement("div",null,Se.createElement("div",{className:Rm.filterTitle},"Split period:"),Se.createElement(lU,{splitPeriods:e,setSelectedSplitPeriod:y,selectedSplitPeriod:m})),Se.createElement("div",null,Se.createElement("div",{className:Rm.filterTitle},"Organization units:"),d.map((x,T)=>Se.createElement(l0,{checked:o.filter(E=>E==x.id).length>0,onChange:g,label:x.name,key:x.id,value:x.id})))),Se.createElement("div",{className:Rm.plots},Se.createElement("div",{className:Rm.searchInput},Se.createElement(Pp,{label:"Search for organization units:",placeholder:((_=d[0])==null?void 0:_.name)+"..",onChange:x=>a(x.value),value:r})),Se.createElement(oU,{evaluationPerOrgUnits:t,useVirtuoso:!0}))))},fU="_table_11vie_1",gU="_quantile_low_11vie_22",yU="_quantile_high_11vie_26",vU={table:fU,quantile_low:gU,quantile_high:yU},RP=({data:n})=>{const e=n.dataValues;return Se.createElement(Se.Fragment,null,XA(e).map(t=>Se.createElement("div",{key:t},Se.createElement("h3",null,tt.t(`Prediction for ${h5(t,e)}`)),Se.createElement("table",{className:vU.table},Se.createElement("thead",null,Se.createElement("tr",null,Se.createElement("th",null,"Quantiles"),L1(e).map(i=>Se.createElement("th",{key:i},tt.t(aS(i)))))),Se.createElement("tbody",null,d5(e).map(i=>Se.createElement("tr",{key:i},Se.createElement("td",null,i.replaceAll("_"," ")),L1(e).map(r=>Se.createElement("td",{key:r},e.filter(a=>a.dataElement===i&&a.orgUnit===t&&a.period===r)[0].value)))))))))};var $P={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Eo,function(){var t,i,r;function a(s,d){if(!t)t=d;else if(!i)i=d;else{var p="var sharedChunk = {}; ("+t+")(sharedChunk); ("+i+")(sharedChunk);",m={};t(m),r=d(m),typeof window<"u"&&(r.workerUrl=window.URL.createObjectURL(new Blob([p],{type:"text/javascript"})))}}a(["exports"],function(s){var d=p;function p(u,l,h,b){this.cx=3*u,this.bx=3*(h-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(b-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=h,this.p2y=b}function m(u,l,h,b){const A=new d(u,l,h,b);return function(R){return A.solve(R)}}p.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var h=u,b=0;b<8;b++){var A=this.sampleCurveX(h)-u;if(Math.abs(A)<l)return h;var R=this.sampleCurveDerivativeX(h);if(Math.abs(R)<1e-6)break;h-=A/R}var U=0,ne=1;for(h=u,b=0;b<20&&(A=this.sampleCurveX(h),!(Math.abs(A-u)<l));b++)u>A?U=h:ne=h,h=.5*(ne-U)+U;return h},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};const y=m(.25,.1,.25,1);function g(u,l,h){return Math.min(h,Math.max(l,u))}function _(u,l,h){const b=h-l,A=((u-l)%b+b)%b+l;return A===l?h:A}function x(u,...l){for(const h of l)for(const b in h)u[b]=h[b];return u}let T=1;function E(u,l){u.forEach(h=>{l[h]&&(l[h]=l[h].bind(l))})}function k(u,l,h){const b={};for(const A in u)b[A]=l.call(h||this,u[A],A,u);return b}function v(u,l,h){const b={};for(const A in u)l.call(h||this,u[A],A,u)&&(b[A]=u[A]);return b}function w(u){return Array.isArray(u)?u.map(w):typeof u=="object"&&u?k(u,w):u}const N={};function S(u){N[u]||(typeof console<"u"&&console.warn(u),N[u]=!0)}function L(u,l,h){return(h.y-u.y)*(l.x-u.x)>(l.y-u.y)*(h.x-u.x)}function O(u){let l=0;for(let h,b,A=0,R=u.length,U=R-1;A<R;U=A++)h=u[A],b=u[U],l+=(b.x-h.x)*(h.y+b.y);return l}function Y(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function X(u){const l={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(h,b,A,R)=>{const U=A||R;return l[b]=!U||U.toLowerCase(),""}),l["max-age"]){const h=parseInt(l["max-age"],10);isNaN(h)?delete l["max-age"]:l["max-age"]=h}return l}let H,$,G=null;function B(u){if(G==null){const l=u.navigator?u.navigator.userAgent:null;G=!!u.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return G}function M(u){return typeof ImageBitmap<"u"&&u instanceof ImageBitmap}const D={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(u){const l=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(l)}},getImageData(u,l=0){const h=window.document.createElement("canvas"),b=h.getContext("2d");if(!b)throw new Error("failed to create canvas 2d context");return h.width=u.width,h.height=u.height,b.drawImage(u,0,0,u.width,u.height),b.getImageData(-l,-l,u.width+2*l,u.height+2*l)},resolveURL:u=>(H||(H=document.createElement("a")),H.href=u,H.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&($==null&&($=matchMedia("(prefers-reduced-motion: reduce)")),$.matches)}};var V=F;function F(u,l){this.x=u,this.y=l}F.prototype={clone:function(){return new F(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,l){return this.clone()._rotateAround(u,l)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var l=u.x-this.x,h=u.y-this.y;return l*l+h*h},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,l){return Math.atan2(this.x*l-this.y*u,this.x*u+this.y*l)},_matMult:function(u){var l=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=l,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var l=Math.cos(u),h=Math.sin(u),b=h*this.x+l*this.y;return this.x=l*this.x-h*this.y,this.y=b,this},_rotateAround:function(u,l){var h=Math.cos(u),b=Math.sin(u),A=l.y+b*(this.x-l.x)+h*(this.y-l.y);return this.x=l.x+h*(this.x-l.x)-b*(this.y-l.y),this.y=A,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},F.convert=function(u){return u instanceof F?u:Array.isArray(u)?new F(u[0],u[1]):u};const z={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},W="mapbox-tiles";let q,ee=500,ue=50;function ie(){typeof caches>"u"||q||(q=caches.open(W))}let oe=1/0;const Ee={supported:!1,testSupport:function(u){!K&&Te&&(J?se(u):me=u)}};let me,Te,K=!1,J=!1;function se(u){const l=u.createTexture();u.bindTexture(u.TEXTURE_2D,l);try{if(u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,Te),u.isContextLost())return;Ee.supported=!0}catch{}u.deleteTexture(l),K=!0}typeof document<"u"&&(Te=document.createElement("img"),Te.onload=function(){me&&se(me),me=null,J=!0},Te.onerror=function(){K=!0,me=null},Te.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const xe={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(xe);class Q extends Error{constructor(l,h,b,A){super(`AJAXError: ${h} (${l}): ${b}`),this.status=l,this.statusText=h,this.url=b,this.body=A}}const ae=Y()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href;function ce(u,l){const h=new AbortController,b=new Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,referrer:ae(),signal:h.signal});let A=!1,R=!1;return u.type==="json"&&b.headers.set("Accept","application/json"),((U,ne,le)=>{R||fetch(b).then(ve=>ve.ok?((Ie,Re,Ue)=>{(u.type==="arrayBuffer"?Ie.arrayBuffer():u.type==="json"?Ie.json():Ie.text()).then(qe=>{R||(A=!0,l(null,qe,Ie.headers.get("Cache-Control"),Ie.headers.get("Expires")))}).catch(qe=>{R||l(new Error(qe.message))})})(ve):ve.blob().then(Ie=>l(new Q(ve.status,ve.statusText,u.url,Ie)))).catch(ve=>{ve.code!==20&&l(new Error(ve.message))})})(),{cancel:()=>{R=!0,A||h.abort()}}}const ge=function(u,l){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){if(Y()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l);if(!Y()){const b=u.url.substring(0,u.url.indexOf("://"));return(z.REGISTERED_PROTOCOLS[b]||ce)(u,l)}}if(!(/^file:/.test(h=u.url)||/^file:/.test(ae())&&!/^\w+:/.test(h))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return ce(u,l);if(Y()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l,void 0,!0)}var h;return function(b,A){const R=new XMLHttpRequest;R.open(b.method||"GET",b.url,!0),b.type==="arrayBuffer"&&(R.responseType="arraybuffer");for(const U in b.headers)R.setRequestHeader(U,b.headers[U]);return b.type==="json"&&(R.responseType="text",R.setRequestHeader("Accept","application/json")),R.withCredentials=b.credentials==="include",R.onerror=()=>{A(new Error(R.statusText))},R.onload=()=>{if((R.status>=200&&R.status<300||R.status===0)&&R.response!==null){let U=R.response;if(b.type==="json")try{U=JSON.parse(R.response)}catch(ne){return A(ne)}A(null,U,R.getResponseHeader("Cache-Control"),R.getResponseHeader("Expires"))}else{const U=new Blob([R.response],{type:R.getResponseHeader("Content-Type")});A(new Q(R.status,R.statusText,b.url,U))}},R.send(b.body),{cancel:()=>R.abort()}}(u,l)},be=function(u,l){return ge(x(u,{type:"arrayBuffer"}),l)};function Le(u){const l=window.document.createElement("a");return l.href=u,l.protocol===window.document.location.protocol&&l.host===window.document.location.host}const _e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Ne,$e;Ne=[],$e=0;const Ye=function(u,l){if(Ee.supported&&(u.headers||(u.headers={}),u.headers.accept="image/webp,*/*"),$e>=z.MAX_PARALLEL_IMAGE_REQUESTS){const R={requestParameters:u,callback:l,cancelled:!1,cancel(){this.cancelled=!0}};return Ne.push(R),R}$e++;let h=!1;const b=()=>{if(!h)for(h=!0,$e--;Ne.length&&$e<z.MAX_PARALLEL_IMAGE_REQUESTS;){const R=Ne.shift(),{requestParameters:U,callback:ne,cancelled:le}=R;le||(R.cancel=Ye(U,ne).cancel)}},A=be(u,(R,U,ne,le)=>{b(),R?l(R):U&&function(ve,Ie){typeof createImageBitmap=="function"?function(Re,Ue){const qe=new Blob([new Uint8Array(Re)],{type:"image/png"});createImageBitmap(qe).then(He=>{Ue(null,He)}).catch(He=>{Ue(new Error(`Could not load image because of ${He.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(ve,Ie):function(Re,Ue){const qe=new Image;qe.onload=()=>{Ue(null,qe),URL.revokeObjectURL(qe.src),qe.onload=null,window.requestAnimationFrame(()=>{qe.src=_e})},qe.onerror=()=>Ue(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const He=new Blob([new Uint8Array(Re)],{type:"image/png"});qe.src=Re.byteLength?URL.createObjectURL(He):_e}(ve,Ie)}(U,(ve,Ie)=>{ve!=null?l(ve):Ie!=null&&l(null,Ie,{cacheControl:ne,expires:le})})});return{cancel:()=>{A.cancel(),b()}}};function Xe(u,l,h){h[u]&&h[u].indexOf(l)!==-1||(h[u]=h[u]||[],h[u].push(l))}function De(u,l,h){if(h&&h[u]){const b=h[u].indexOf(l);b!==-1&&h[u].splice(b,1)}}class we{constructor(l,h={}){x(this,h),this.type=l}}class ke extends we{constructor(l,h={}){super("error",x({error:l},h))}}class ze{on(l,h){return this._listeners=this._listeners||{},Xe(l,h,this._listeners),this}off(l,h){return De(l,h,this._listeners),De(l,h,this._oneTimeListeners),this}once(l,h){return this._oneTimeListeners=this._oneTimeListeners||{},Xe(l,h,this._oneTimeListeners),this}fire(l,h){typeof l=="string"&&(l=new we(l,h||{}));const b=l.type;if(this.listens(b)){l.target=this;const A=this._listeners&&this._listeners[b]?this._listeners[b].slice():[];for(const ne of A)ne.call(this,l);const R=this._oneTimeListeners&&this._oneTimeListeners[b]?this._oneTimeListeners[b].slice():[];for(const ne of R)De(b,ne,this._oneTimeListeners),ne.call(this,l);const U=this._eventedParent;U&&(x(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),U.fire(l))}else l instanceof ke&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,h){return this._eventedParent=l,this._eventedParentData=h,this}}var Me={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1},elevationOffset:{type:"number",default:450}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class je{constructor(l,h,b,A){this.message=(l?`${l}: `:"")+b,A&&(this.identifier=A),h!=null&&h.__line__&&(this.line=h.__line__)}}function Ke(u){const l=u.value;return l?[new je(u.key,l,"constants have been deprecated as of v8")]:[]}function nt(u,...l){for(const h of l)for(const b in h)u[b]=h[b];return u}function ot(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function ht(u){if(Array.isArray(u))return u.map(ht);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const l={};for(const h in u)l[h]=ht(u[h]);return l}return ot(u)}class gt extends Error{constructor(l,h){super(h),this.message=h,this.key=l}}class Tt{constructor(l,h=[]){this.parent=l,this.bindings={};for(const[b,A]of h)this.bindings[b]=A}concat(l){return new Tt(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const $t={kind:"null"},mt={kind:"number"},Ct={kind:"string"},St={kind:"boolean"},sn={kind:"color"},yn={kind:"object"},Zt={kind:"value"},hi={kind:"collator"},ii={kind:"formatted"},Si={kind:"padding"},Hi={kind:"resolvedImage"};function li(u,l){return{kind:"array",itemType:u,N:l}}function dt(u){if(u.kind==="array"){const l=dt(u.itemType);return typeof u.N=="number"?`array<${l}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${l}>`}return u.kind}const xt=[$t,mt,Ct,St,sn,ii,yn,li(Zt),Si,Hi];function Dt(u,l){if(l.kind==="error")return null;if(u.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!Dt(u.itemType,l.itemType))&&(typeof u.N!="number"||u.N===l.N))return null}else{if(u.kind===l.kind)return null;if(u.kind==="value"){for(const h of xt)if(!Dt(h,l))return null}}return`Expected ${dt(u)} but found ${dt(l)} instead.`}function Gt(u,l){return l.some(h=>h.kind===u.kind)}function Qt(u,l){return l.some(h=>h==="null"?u===null:h==="array"?Array.isArray(u):h==="object"?u&&!Array.isArray(u)&&typeof u=="object":h===typeof u)}var Tn,Gn={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function vn(u){return(u=Math.round(u))<0?0:u>255?255:u}function Ve(u){return vn(u[u.length-1]==="%"?parseFloat(u)/100*255:parseInt(u))}function ye(u){return(l=u[u.length-1]==="%"?parseFloat(u)/100:parseFloat(u))<0?0:l>1?1:l;var l}function Ae(u,l,h){return h<0?h+=1:h>1&&(h-=1),6*h<1?u+(l-u)*h*6:2*h<1?l:3*h<2?u+(l-u)*(2/3-h)*6:u}try{Tn={}.parseCSSColor=function(u){var l,h=u.replace(/ /g,"").toLowerCase();if(h in Gn)return Gn[h].slice();if(h[0]==="#")return h.length===4?(l=parseInt(h.substr(1),16))>=0&&l<=4095?[(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,1]:null:h.length===7&&(l=parseInt(h.substr(1),16))>=0&&l<=16777215?[(16711680&l)>>16,(65280&l)>>8,255&l,1]:null;var b=h.indexOf("("),A=h.indexOf(")");if(b!==-1&&A+1===h.length){var R=h.substr(0,b),U=h.substr(b+1,A-(b+1)).split(","),ne=1;switch(R){case"rgba":if(U.length!==4)return null;ne=ye(U.pop());case"rgb":return U.length!==3?null:[Ve(U[0]),Ve(U[1]),Ve(U[2]),ne];case"hsla":if(U.length!==4)return null;ne=ye(U.pop());case"hsl":if(U.length!==3)return null;var le=(parseFloat(U[0])%360+360)%360/360,ve=ye(U[1]),Ie=ye(U[2]),Re=Ie<=.5?Ie*(ve+1):Ie+ve-Ie*ve,Ue=2*Ie-Re;return[vn(255*Ae(Ue,Re,le+1/3)),vn(255*Ae(Ue,Re,le)),vn(255*Ae(Ue,Re,le-1/3)),ne];default:return null}}return null}}catch{}class Be{constructor(l,h,b,A=1){this.r=l,this.g=h,this.b=b,this.a=A}static parse(l){if(!l)return;if(l instanceof Be)return l;if(typeof l!="string")return;const h=Tn(l);return h?new Be(h[0]/255*h[3],h[1]/255*h[3],h[2]/255*h[3],h[3]):void 0}toString(){const[l,h,b,A]=this.toArray();return`rgba(${Math.round(l)},${Math.round(h)},${Math.round(b)},${A})`}toArray(){const{r:l,g:h,b,a:A}=this;return A===0?[0,0,0,0]:[255*l/A,255*h/A,255*b/A,A]}}Be.black=new Be(0,0,0,1),Be.white=new Be(1,1,1,1),Be.transparent=new Be(0,0,0,0),Be.red=new Be(1,0,0,1);class Ze{constructor(l,h,b){this.sensitivity=l?h?"variant":"case":h?"accent":"base",this.locale=b,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,h){return this.collator.compare(l,h)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class rt{constructor(l,h,b,A,R){this.text=l,this.image=h,this.scale=b,this.fontStack=A,this.textColor=R}}class ct{constructor(l){this.sections=l}static fromString(l){return new ct([new rt(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof ct?l:ct.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class st{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof st)return l;if(typeof l=="number")return new st([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const h of l)if(typeof h!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new st(l)}}toString(){return JSON.stringify(this.values)}}class it{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new it({name:l,available:!1}):null}}function ft(u,l,h,b){return typeof u=="number"&&u>=0&&u<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof h=="number"&&h>=0&&h<=255?b===void 0||typeof b=="number"&&b>=0&&b<=1?null:`Invalid rgba value [${[u,l,h,b].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof b=="number"?[u,l,h,b]:[u,l,h]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Lt(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof Be||u instanceof Ze||u instanceof ct||u instanceof st||u instanceof it)return!0;if(Array.isArray(u)){for(const l of u)if(!Lt(l))return!1;return!0}if(typeof u=="object"){for(const l in u)if(!Lt(u[l]))return!1;return!0}return!1}function Ft(u){if(u===null)return $t;if(typeof u=="string")return Ct;if(typeof u=="boolean")return St;if(typeof u=="number")return mt;if(u instanceof Be)return sn;if(u instanceof Ze)return hi;if(u instanceof ct)return ii;if(u instanceof st)return Si;if(u instanceof it)return Hi;if(Array.isArray(u)){const l=u.length;let h;for(const b of u){const A=Ft(b);if(h){if(h===A)continue;h=Zt;break}h=A}return li(h||Zt,l)}return yn}function Rt(u){const l=typeof u;return u===null?"":l==="string"||l==="number"||l==="boolean"?String(u):u instanceof Be||u instanceof ct||u instanceof st||u instanceof it?u.toString():JSON.stringify(u)}class pn{constructor(l,h){this.type=l,this.value=h}static parse(l,h){if(l.length!==2)return h.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Lt(l[1]))return h.error("invalid value");const b=l[1];let A=Ft(b);const R=h.expectedType;return A.kind!=="array"||A.N!==0||!R||R.kind!=="array"||typeof R.N=="number"&&R.N!==0||(A=R),new pn(A,b)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class rn{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const xn={string:Ct,number:mt,boolean:St,object:yn};class Sn{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");let b,A=1;const R=l[0];if(R==="array"){let ne,le;if(l.length>2){const ve=l[1];if(typeof ve!="string"||!(ve in xn)||ve==="object")return h.error('The item type argument of "array" must be one of string, number, boolean',1);ne=xn[ve],A++}else ne=Zt;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return h.error('The length argument to "array" must be a positive integer literal',2);le=l[2],A++}b=li(ne,le)}else{if(!xn[R])throw new Error(`Types doesn't contain name = ${R}`);b=xn[R]}const U=[];for(;A<l.length;A++){const ne=h.parse(l[A],A,Zt);if(!ne)return null;U.push(ne)}return new Sn(b,U)}evaluate(l){for(let h=0;h<this.args.length;h++){const b=this.args[h].evaluate(l);if(!Dt(this.type,Ft(b)))return b;if(h===this.args.length-1)throw new rn(`Expected value to be of type ${dt(this.type)}, but found ${dt(Ft(b))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Hn={"to-boolean":St,"to-color":sn,"to-number":mt,"to-string":Ct};class Cn{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");const b=l[0];if(!Hn[b])throw new Error(`Can't parse ${b} as it is not part of the known types`);if((b==="to-boolean"||b==="to-string")&&l.length!==2)return h.error("Expected one argument.");const A=Hn[b],R=[];for(let U=1;U<l.length;U++){const ne=h.parse(l[U],U,Zt);if(!ne)return null;R.push(ne)}return new Cn(A,R)}evaluate(l){if(this.type.kind==="boolean")return!!this.args[0].evaluate(l);if(this.type.kind==="color"){let h,b;for(const A of this.args){if(h=A.evaluate(l),b=null,h instanceof Be)return h;if(typeof h=="string"){const R=l.parseColor(h);if(R)return R}else if(Array.isArray(h)&&(b=h.length<3||h.length>4?`Invalid rbga value ${JSON.stringify(h)}: expected an array containing either three or four numeric values.`:ft(h[0],h[1],h[2],h[3]),!b))return new Be(h[0]/255,h[1]/255,h[2]/255,h[3])}throw new rn(b||`Could not parse color from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}if(this.type.kind==="padding"){let h;for(const b of this.args){h=b.evaluate(l);const A=st.parse(h);if(A)return A}throw new rn(`Could not parse padding from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}if(this.type.kind==="number"){let h=null;for(const b of this.args){if(h=b.evaluate(l),h===null)return 0;const A=Number(h);if(!isNaN(A))return A}throw new rn(`Could not convert ${JSON.stringify(h)} to number.`)}return this.type.kind==="formatted"?ct.fromString(Rt(this.args[0].evaluate(l))):this.type.kind==="resolvedImage"?it.fromString(Rt(this.args[0].evaluate(l))):Rt(this.args[0].evaluate(l))}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const On=["Unknown","Point","LineString","Polygon"];class Xn{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?On[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let h=this._parseColorCache[l];return h||(h=this._parseColorCache[l]=Be.parse(l)),h}}class Yn{constructor(l,h,b,A){this.name=l,this.type=h,this._evaluate=b,this.args=A}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,h){const b=l[0],A=Yn.definitions[b];if(!A)return h.error(`Unknown expression "${b}". If you wanted a literal array, use ["literal", [...]].`,0);const R=Array.isArray(A)?A[0]:A.type,U=Array.isArray(A)?[[A[1],A[2]]]:A.overloads,ne=U.filter(([ve])=>!Array.isArray(ve)||ve.length===l.length-1);let le=null;for(const[ve,Ie]of ne){le=new Zp(h.registry,h.path,null,h.scope);const Re=[];let Ue=!1;for(let qe=1;qe<l.length;qe++){const He=l[qe],ut=Array.isArray(ve)?ve[qe-1]:ve.type,lt=le.parse(He,1+Re.length,ut);if(!lt){Ue=!0;break}Re.push(lt)}if(!Ue)if(Array.isArray(ve)&&ve.length!==Re.length)le.error(`Expected ${ve.length} arguments, but found ${Re.length} instead.`);else{for(let qe=0;qe<Re.length;qe++){const He=Array.isArray(ve)?ve[qe]:ve.type,ut=Re[qe];le.concat(qe+1).checkSubtype(He,ut.type)}if(le.errors.length===0)return new Yn(b,R,Ie,Re)}}if(ne.length===1)h.errors.push(...le.errors);else{const ve=(ne.length?ne:U).map(([Re])=>{return Ue=Re,Array.isArray(Ue)?`(${Ue.map(dt).join(", ")})`:`(${dt(Ue.type)}...)`;var Ue}).join(" | "),Ie=[];for(let Re=1;Re<l.length;Re++){const Ue=h.parse(l[Re],1+Ie.length);if(!Ue)return null;Ie.push(dt(Ue.type))}h.error(`Expected arguments of type ${ve}, but found (${Ie.join(", ")}) instead.`)}return null}static register(l,h){Yn.definitions=h;for(const b in h)l[b]=Yn}}class gi{constructor(l,h,b){this.type=hi,this.locale=b,this.caseSensitive=l,this.diacriticSensitive=h}static parse(l,h){if(l.length!==2)return h.error("Expected one argument.");const b=l[1];if(typeof b!="object"||Array.isArray(b))return h.error("Collator options argument must be an object.");const A=h.parse(b["case-sensitive"]!==void 0&&b["case-sensitive"],1,St);if(!A)return null;const R=h.parse(b["diacritic-sensitive"]!==void 0&&b["diacritic-sensitive"],1,St);if(!R)return null;let U=null;return b.locale&&(U=h.parse(b.locale,1,Ct),!U)?null:new gi(A,R,U)}evaluate(l){return new Ze(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const nr=8192;function Rr(u,l){u[0]=Math.min(u[0],l[0]),u[1]=Math.min(u[1],l[1]),u[2]=Math.max(u[2],l[0]),u[3]=Math.max(u[3],l[1])}function xa(u,l){return!(u[0]<=l[0]||u[2]>=l[2]||u[1]<=l[1]||u[3]>=l[3])}function Qf(u,l){const h=(180+u[0])/360,b=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,A=Math.pow(2,l.z);return[Math.round(h*A*nr),Math.round(b*A*nr)]}function mh(u,l,h){const b=u[0]-l[0],A=u[1]-l[1],R=u[0]-h[0],U=u[1]-h[1];return b*U-R*A==0&&b*R<=0&&A*U<=0}function Xi(u,l){let h=!1;for(let U=0,ne=l.length;U<ne;U++){const le=l[U];for(let ve=0,Ie=le.length;ve<Ie-1;ve++){if(mh(u,le[ve],le[ve+1]))return!1;(A=le[ve])[1]>(b=u)[1]!=(R=le[ve+1])[1]>b[1]&&b[0]<(R[0]-A[0])*(b[1]-A[1])/(R[1]-A[1])+A[0]&&(h=!h)}}var b,A,R;return h}function t_(u,l){for(let h=0;h<l.length;h++)if(Xi(u,l[h]))return!0;return!1}function qp(u,l,h,b){const A=b[0]-h[0],R=b[1]-h[1],U=(u[0]-h[0])*R-A*(u[1]-h[1]),ne=(l[0]-h[0])*R-A*(l[1]-h[1]);return U>0&&ne<0||U<0&&ne>0}function n_(u,l,h){for(const ve of h)for(let Ie=0;Ie<ve.length-1;++Ie)if((ne=[(U=ve[Ie+1])[0]-(R=ve[Ie])[0],U[1]-R[1]])[0]*(le=[(A=l)[0]-(b=u)[0],A[1]-b[1]])[1]-ne[1]*le[0]!=0&&qp(b,A,R,U)&&qp(R,U,b,A))return!0;var b,A,R,U,ne,le;return!1}function Jf(u,l){for(let h=0;h<u.length;++h)if(!Xi(u[h],l))return!1;for(let h=0;h<u.length-1;++h)if(n_(u[h],u[h+1],l))return!1;return!0}function Nv(u,l){for(let h=0;h<l.length;h++)if(Jf(u,l[h]))return!0;return!1}function eg(u,l,h){const b=[];for(let A=0;A<u.length;A++){const R=[];for(let U=0;U<u[A].length;U++){const ne=Qf(u[A][U],h);Rr(l,ne),R.push(ne)}b.push(R)}return b}function tg(u,l,h){const b=[];for(let A=0;A<u.length;A++){const R=eg(u[A],l,h);b.push(R)}return b}function ng(u,l,h,b){if(u[0]<h[0]||u[0]>h[2]){const A=.5*b;let R=u[0]-h[0]>A?-b:h[0]-u[0]>A?b:0;R===0&&(R=u[0]-h[2]>A?-b:h[2]-u[0]>A?b:0),u[0]+=R}Rr(l,u)}function Lv(u,l,h,b){const A=Math.pow(2,b.z)*nr,R=[b.x*nr,b.y*nr],U=[];for(const ne of u)for(const le of ne){const ve=[le.x+R[0],le.y+R[1]];ng(ve,l,h,A),U.push(ve)}return U}function Iv(u,l,h,b){const A=Math.pow(2,b.z)*nr,R=[b.x*nr,b.y*nr],U=[];for(const le of u){const ve=[];for(const Ie of le){const Re=[Ie.x+R[0],Ie.y+R[1]];Rr(l,Re),ve.push(Re)}U.push(ve)}if(l[2]-l[0]<=A/2){(ne=l)[0]=ne[1]=1/0,ne[2]=ne[3]=-1/0;for(const le of U)for(const ve of le)ng(ve,l,h,A)}var ne;return U}class vu{constructor(l,h){this.type=St,this.geojson=l,this.geometries=h}static parse(l,h){if(l.length!==2)return h.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Lt(l[1])){const b=l[1];if(b.type==="FeatureCollection")for(let A=0;A<b.features.length;++A){const R=b.features[A].geometry.type;if(R==="Polygon"||R==="MultiPolygon")return new vu(b,b.features[A].geometry)}else if(b.type==="Feature"){const A=b.geometry.type;if(A==="Polygon"||A==="MultiPolygon")return new vu(b,b.geometry)}else if(b.type==="Polygon"||b.type==="MultiPolygon")return new vu(b,b)}return h.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(h,b){const A=[1/0,1/0,-1/0,-1/0],R=[1/0,1/0,-1/0,-1/0],U=h.canonicalID();if(b.type==="Polygon"){const ne=eg(b.coordinates,R,U),le=Lv(h.geometry(),A,R,U);if(!xa(A,R))return!1;for(const ve of le)if(!Xi(ve,ne))return!1}if(b.type==="MultiPolygon"){const ne=tg(b.coordinates,R,U),le=Lv(h.geometry(),A,R,U);if(!xa(A,R))return!1;for(const ve of le)if(!t_(ve,ne))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(h,b){const A=[1/0,1/0,-1/0,-1/0],R=[1/0,1/0,-1/0,-1/0],U=h.canonicalID();if(b.type==="Polygon"){const ne=eg(b.coordinates,R,U),le=Iv(h.geometry(),A,R,U);if(!xa(A,R))return!1;for(const ve of le)if(!Jf(ve,ne))return!1}if(b.type==="MultiPolygon"){const ne=tg(b.coordinates,R,U),le=Iv(h.geometry(),A,R,U);if(!xa(A,R))return!1;for(const ve of le)if(!Nv(ve,ne))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}function Hp(u){if(u instanceof Yn&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof vu)return!1;let l=!0;return u.eachChild(h=>{l&&!Hp(h)&&(l=!1)}),l}function ud(u){if(u instanceof Yn&&u.name==="feature-state")return!1;let l=!0;return u.eachChild(h=>{l&&!ud(h)&&(l=!1)}),l}function fh(u,l){if(u instanceof Yn&&l.indexOf(u.name)>=0)return!1;let h=!0;return u.eachChild(b=>{h&&!fh(b,l)&&(h=!1)}),h}class Xp{constructor(l,h){this.type=h.type,this.name=l,this.boundExpression=h}static parse(l,h){if(l.length!==2||typeof l[1]!="string")return h.error("'var' expression requires exactly one string literal argument.");const b=l[1];return h.scope.has(b)?new Xp(b,h.scope.get(b)):h.error(`Unknown variable "${b}". Make sure "${b}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Zp{constructor(l,h=[],b,A=new Tt,R=[]){this.registry=l,this.path=h,this.key=h.map(U=>`[${U}]`).join(""),this.scope=A,this.errors=R,this.expectedType=b}parse(l,h,b,A,R={}){return h?this.concat(h,b,A)._parse(l,R):this._parse(l,R)}_parse(l,h){function b(A,R,U){return U==="assert"?new Sn(R,[A]):U==="coerce"?new Cn(R,[A]):A}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const A=l[0];if(typeof A!="string")return this.error(`Expression name must be a string, but found ${typeof A} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const R=this.registry[A];if(R){let U=R.parse(l,this);if(!U)return null;if(this.expectedType){const ne=this.expectedType,le=U.type;if(ne.kind!=="string"&&ne.kind!=="number"&&ne.kind!=="boolean"&&ne.kind!=="object"&&ne.kind!=="array"||le.kind!=="value")if(ne.kind!=="color"&&ne.kind!=="formatted"&&ne.kind!=="resolvedImage"||le.kind!=="value"&&le.kind!=="string")if(ne.kind!=="padding"||le.kind!=="value"&&le.kind!=="number"&&le.kind!=="array"){if(this.checkSubtype(ne,le))return null}else U=b(U,ne,h.typeAnnotation||"coerce");else U=b(U,ne,h.typeAnnotation||"coerce");else U=b(U,ne,h.typeAnnotation||"assert")}if(!(U instanceof pn)&&U.type.kind!=="resolvedImage"&&gh(U)){const ne=new Xn;try{U=new pn(U.type,U.evaluate(ne))}catch(le){return this.error(le.message),null}}return U}return this.error(`Unknown expression "${A}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,h,b){const A=typeof l=="number"?this.path.concat(l):this.path,R=b?this.scope.concat(b):this.scope;return new Zp(this.registry,A,h||null,R,this.errors)}error(l,...h){const b=`${this.key}${h.map(A=>`[${A}]`).join("")}`;this.errors.push(new gt(b,l))}checkSubtype(l,h){const b=Dt(l,h);return b&&this.error(b),b}}function gh(u){if(u instanceof Xp)return gh(u.boundExpression);if(u instanceof Yn&&u.name==="error"||u instanceof gi||u instanceof vu)return!1;const l=u instanceof Cn||u instanceof Sn;let h=!0;return u.eachChild(b=>{h=l?h&&gh(b):h&&b instanceof pn}),!!h&&Hp(u)&&fh(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Kp(u,l){const h=u.length-1;let b,A,R=0,U=h,ne=0;for(;R<=U;)if(ne=Math.floor((R+U)/2),b=u[ne],A=u[ne+1],b<=l){if(ne===h||l<A)return ne;R=ne+1}else{if(!(b>l))throw new rn("Input is not a number.");U=ne-1}return 0}class yh{constructor(l,h,b){this.type=l,this.input=h,this.labels=[],this.outputs=[];for(const[A,R]of b)this.labels.push(A),this.outputs.push(R)}static parse(l,h){if(l.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return h.error("Expected an even number of arguments.");const b=h.parse(l[1],1,mt);if(!b)return null;const A=[];let R=null;h.expectedType&&h.expectedType.kind!=="value"&&(R=h.expectedType);for(let U=1;U<l.length;U+=2){const ne=U===1?-1/0:l[U],le=l[U+1],ve=U,Ie=U+1;if(typeof ne!="number")return h.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ve);if(A.length&&A[A.length-1][0]>=ne)return h.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ve);const Re=h.parse(le,Ie,R);if(!Re)return null;R=R||Re.type,A.push([ne,Re])}return new yh(R,b,A)}evaluate(l){const h=this.labels,b=this.outputs;if(h.length===1)return b[0].evaluate(l);const A=this.input.evaluate(l);if(A<=h[0])return b[0].evaluate(l);const R=h.length;return A>=h[R-1]?b[R-1].evaluate(l):b[Kp(h,A)].evaluate(l)}eachChild(l){l(this.input);for(const h of this.outputs)l(h)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function Er(u,l,h){return u*(1-h)+l*h}var vh=Object.freeze({__proto__:null,number:Er,color:function(u,l,h){return new Be(Er(u.r,l.r,h),Er(u.g,l.g,h),Er(u.b,l.b,h),Er(u.a,l.a,h))},array:function(u,l,h){return u.map((b,A)=>Er(b,l[A],h))},padding:function(u,l,h){const b=u.values,A=l.values;return new st([Er(b[0],A[0],h),Er(b[1],A[1],h),Er(b[2],A[2],h),Er(b[3],A[3],h)])}});const ig=.95047,Av=1.08883,Pv=4/29,Qp=6/29,rg=3*Qp*Qp,i_=Math.PI/180,r_=180/Math.PI;function ag(u){return u>.008856451679035631?Math.pow(u,1/3):u/rg+Pv}function sg(u){return u>Qp?u*u*u:rg*(u-Pv)}function og(u){return 255*(u<=.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055)}function lg(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function Dv(u){const l=lg(u.r),h=lg(u.g),b=lg(u.b),A=ag((.4124564*l+.3575761*h+.1804375*b)/ig),R=ag((.2126729*l+.7151522*h+.072175*b)/1);return{l:116*R-16,a:500*(A-R),b:200*(R-ag((.0193339*l+.119192*h+.9503041*b)/Av)),alpha:u.a}}function Ui(u){let l=(u.l+16)/116,h=isNaN(u.a)?l:l+u.a/500,b=isNaN(u.b)?l:l-u.b/200;return l=1*sg(l),h=ig*sg(h),b=Av*sg(b),new Be(og(3.2404542*h-1.5371385*l-.4985314*b),og(-.969266*h+1.8760108*l+.041556*b),og(.0556434*h-.2040259*l+1.0572252*b),u.alpha)}function a_(u,l,h){const b=l-u;return u+h*(b>180||b<-180?b-360*Math.round(b/360):b)}const xh={forward:Dv,reverse:Ui,interpolate:function(u,l,h){return{l:Er(u.l,l.l,h),a:Er(u.a,l.a,h),b:Er(u.b,l.b,h),alpha:Er(u.alpha,l.alpha,h)}}},bh={forward:function(u){const{l,a:h,b}=Dv(u),A=Math.atan2(b,h)*r_;return{h:A<0?A+360:A,c:Math.sqrt(h*h+b*b),l,alpha:u.a}},reverse:function(u){const l=u.h*i_,h=u.c;return Ui({l:u.l,a:Math.cos(l)*h,b:Math.sin(l)*h,alpha:u.alpha})},interpolate:function(u,l,h){return{h:a_(u.h,l.h,h),c:Er(u.c,l.c,h),l:Er(u.l,l.l,h),alpha:Er(u.alpha,l.alpha,h)}}};var Mv=Object.freeze({__proto__:null,lab:xh,hcl:bh});class ho{constructor(l,h,b,A,R){this.type=l,this.operator=h,this.interpolation=b,this.input=A,this.labels=[],this.outputs=[];for(const[U,ne]of R)this.labels.push(U),this.outputs.push(ne)}static interpolationFactor(l,h,b,A){let R=0;if(l.name==="exponential")R=cg(h,l.base,b,A);else if(l.name==="linear")R=cg(h,1,b,A);else if(l.name==="cubic-bezier"){const U=l.controlPoints;R=new d(U[0],U[1],U[2],U[3]).solve(cg(h,1,b,A))}return R}static parse(l,h){let[b,A,R,...U]=l;if(!Array.isArray(A)||A.length===0)return h.error("Expected an interpolation type expression.",1);if(A[0]==="linear")A={name:"linear"};else if(A[0]==="exponential"){const ve=A[1];if(typeof ve!="number")return h.error("Exponential interpolation requires a numeric base.",1,1);A={name:"exponential",base:ve}}else{if(A[0]!=="cubic-bezier")return h.error(`Unknown interpolation type ${String(A[0])}`,1,0);{const ve=A.slice(1);if(ve.length!==4||ve.some(Ie=>typeof Ie!="number"||Ie<0||Ie>1))return h.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);A={name:"cubic-bezier",controlPoints:ve}}}if(l.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return h.error("Expected an even number of arguments.");if(R=h.parse(R,2,mt),!R)return null;const ne=[];let le=null;b==="interpolate-hcl"||b==="interpolate-lab"?le=sn:h.expectedType&&h.expectedType.kind!=="value"&&(le=h.expectedType);for(let ve=0;ve<U.length;ve+=2){const Ie=U[ve],Re=U[ve+1],Ue=ve+3,qe=ve+4;if(typeof Ie!="number")return h.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ue);if(ne.length&&ne[ne.length-1][0]>=Ie)return h.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ue);const He=h.parse(Re,qe,le);if(!He)return null;le=le||He.type,ne.push([Ie,He])}return le.kind==="number"||le.kind==="color"||le.kind==="padding"||le.kind==="array"&&le.itemType.kind==="number"&&typeof le.N=="number"?new ho(le,b,A,R,ne):h.error(`Type ${dt(le)} is not interpolatable.`)}evaluate(l){const h=this.labels,b=this.outputs;if(h.length===1)return b[0].evaluate(l);const A=this.input.evaluate(l);if(A<=h[0])return b[0].evaluate(l);const R=h.length;if(A>=h[R-1])return b[R-1].evaluate(l);const U=Kp(h,A),ne=ho.interpolationFactor(this.interpolation,A,h[U],h[U+1]),le=b[U].evaluate(l),ve=b[U+1].evaluate(l);return this.operator==="interpolate"?vh[this.type.kind.toLowerCase()](le,ve,ne):this.operator==="interpolate-hcl"?bh.reverse(bh.interpolate(bh.forward(le),bh.forward(ve),ne)):xh.reverse(xh.interpolate(xh.forward(le),xh.forward(ve),ne))}eachChild(l){l(this.input);for(const h of this.outputs)l(h)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function cg(u,l,h,b){const A=b-h,R=u-h;return A===0?0:l===1?R/A:(Math.pow(l,R)-1)/(Math.pow(l,A)-1)}class Jp{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expectected at least one argument.");let b=null;const A=h.expectedType;A&&A.kind!=="value"&&(b=A);const R=[];for(const ne of l.slice(1)){const le=h.parse(ne,1+R.length,b,void 0,{typeAnnotation:"omit"});if(!le)return null;b=b||le.type,R.push(le)}if(!b)throw new Error("No output type");const U=A&&R.some(ne=>Dt(A,ne.type));return new Jp(U?Zt:b,R)}evaluate(l){let h,b=null,A=0;for(const R of this.args)if(A++,b=R.evaluate(l),b&&b instanceof it&&!b.available&&(h||(h=b.name),b=null,A===this.args.length&&(b=h)),b!==null)break;return b}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class em{constructor(l,h){this.type=h.type,this.bindings=[].concat(l),this.result=h}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const h of this.bindings)l(h[1]);l(this.result)}static parse(l,h){if(l.length<4)return h.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const b=[];for(let R=1;R<l.length-1;R+=2){const U=l[R];if(typeof U!="string")return h.error(`Expected string, but found ${typeof U} instead.`,R);if(/[^a-zA-Z0-9_]/.test(U))return h.error("Variable names must contain only alphanumeric characters or '_'.",R);const ne=h.parse(l[R+1],R+1);if(!ne)return null;b.push([U,ne])}const A=h.parse(l[l.length-1],l.length-1,h.expectedType,b);return A?new em(b,A):null}outputDefined(){return this.result.outputDefined()}}class ug{constructor(l,h,b){this.type=l,this.index=h,this.input=b}static parse(l,h){if(l.length!==3)return h.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const b=h.parse(l[1],1,mt),A=h.parse(l[2],2,li(h.expectedType||Zt));return b&&A?new ug(A.type.itemType,b,A):null}evaluate(l){const h=this.index.evaluate(l),b=this.input.evaluate(l);if(h<0)throw new rn(`Array index out of bounds: ${h} < 0.`);if(h>=b.length)throw new rn(`Array index out of bounds: ${h} > ${b.length-1}.`);if(h!==Math.floor(h))throw new rn(`Array index must be an integer, but found ${h} instead.`);return b[h]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class dg{constructor(l,h){this.type=St,this.needle=l,this.haystack=h}static parse(l,h){if(l.length!==3)return h.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const b=h.parse(l[1],1,Zt),A=h.parse(l[2],2,Zt);return b&&A?Gt(b.type,[St,Ct,mt,$t,Zt])?new dg(b,A):h.error(`Expected first argument to be of type boolean, string, number or null, but found ${dt(b.type)} instead`):null}evaluate(l){const h=this.needle.evaluate(l),b=this.haystack.evaluate(l);if(!b)return!1;if(!Qt(h,["boolean","string","number","null"]))throw new rn(`Expected first argument to be of type boolean, string, number or null, but found ${dt(Ft(h))} instead.`);if(!Qt(b,["string","array"]))throw new rn(`Expected second argument to be of type array or string, but found ${dt(Ft(b))} instead.`);return b.indexOf(h)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class tm{constructor(l,h,b){this.type=mt,this.needle=l,this.haystack=h,this.fromIndex=b}static parse(l,h){if(l.length<=2||l.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const b=h.parse(l[1],1,Zt),A=h.parse(l[2],2,Zt);if(!b||!A)return null;if(!Gt(b.type,[St,Ct,mt,$t,Zt]))return h.error(`Expected first argument to be of type boolean, string, number or null, but found ${dt(b.type)} instead`);if(l.length===4){const R=h.parse(l[3],3,mt);return R?new tm(b,A,R):null}return new tm(b,A)}evaluate(l){const h=this.needle.evaluate(l),b=this.haystack.evaluate(l);if(!Qt(h,["boolean","string","number","null"]))throw new rn(`Expected first argument to be of type boolean, string, number or null, but found ${dt(Ft(h))} instead.`);if(!Qt(b,["string","array"]))throw new rn(`Expected second argument to be of type array or string, but found ${dt(Ft(b))} instead.`);if(this.fromIndex){const A=this.fromIndex.evaluate(l);return b.indexOf(h,A)}return b.indexOf(h)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class hg{constructor(l,h,b,A,R,U){this.inputType=l,this.type=h,this.input=b,this.cases=A,this.outputs=R,this.otherwise=U}static parse(l,h){if(l.length<5)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return h.error("Expected an even number of arguments.");let b,A;h.expectedType&&h.expectedType.kind!=="value"&&(A=h.expectedType);const R={},U=[];for(let ve=2;ve<l.length-1;ve+=2){let Ie=l[ve];const Re=l[ve+1];Array.isArray(Ie)||(Ie=[Ie]);const Ue=h.concat(ve);if(Ie.length===0)return Ue.error("Expected at least one branch label.");for(const He of Ie){if(typeof He!="number"&&typeof He!="string")return Ue.error("Branch labels must be numbers or strings.");if(typeof He=="number"&&Math.abs(He)>Number.MAX_SAFE_INTEGER)return Ue.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof He=="number"&&Math.floor(He)!==He)return Ue.error("Numeric branch labels must be integer values.");if(b){if(Ue.checkSubtype(b,Ft(He)))return null}else b=Ft(He);if(R[String(He)]!==void 0)return Ue.error("Branch labels must be unique.");R[String(He)]=U.length}const qe=h.parse(Re,ve,A);if(!qe)return null;A=A||qe.type,U.push(qe)}const ne=h.parse(l[1],1,Zt);if(!ne)return null;const le=h.parse(l[l.length-1],l.length-1,A);return le?ne.type.kind!=="value"&&h.concat(1).checkSubtype(b,ne.type)?null:new hg(b,A,ne,R,U,le):null}evaluate(l){const h=this.input.evaluate(l);return(Ft(h)===this.inputType&&this.outputs[this.cases[h]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class pg{constructor(l,h,b){this.type=l,this.branches=h,this.otherwise=b}static parse(l,h){if(l.length<4)return h.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return h.error("Expected an odd number of arguments.");let b;h.expectedType&&h.expectedType.kind!=="value"&&(b=h.expectedType);const A=[];for(let U=1;U<l.length-1;U+=2){const ne=h.parse(l[U],U,St);if(!ne)return null;const le=h.parse(l[U+1],U+1,b);if(!le)return null;A.push([ne,le]),b=b||le.type}const R=h.parse(l[l.length-1],l.length-1,b);if(!R)return null;if(!b)throw new Error("Can't infer output type");return new pg(b,A,R)}evaluate(l){for(const[h,b]of this.branches)if(h.evaluate(l))return b.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[h,b]of this.branches)l(h),l(b);l(this.otherwise)}outputDefined(){return this.branches.every(([l,h])=>h.outputDefined())&&this.otherwise.outputDefined()}}class nm{constructor(l,h,b,A){this.type=l,this.input=h,this.beginIndex=b,this.endIndex=A}static parse(l,h){if(l.length<=2||l.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const b=h.parse(l[1],1,Zt),A=h.parse(l[2],2,mt);if(!b||!A)return null;if(!Gt(b.type,[li(Zt),Ct,Zt]))return h.error(`Expected first argument to be of type array or string, but found ${dt(b.type)} instead`);if(l.length===4){const R=h.parse(l[3],3,mt);return R?new nm(b.type,b,A,R):null}return new nm(b.type,b,A)}evaluate(l){const h=this.input.evaluate(l),b=this.beginIndex.evaluate(l);if(!Qt(h,["string","array"]))throw new rn(`Expected first argument to be of type array or string, but found ${dt(Ft(h))} instead.`);if(this.endIndex){const A=this.endIndex.evaluate(l);return h.slice(b,A)}return h.slice(b)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function Ov(u,l){return u==="=="||u==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Rv(u,l,h,b){return b.compare(l,h)===0}function dd(u,l,h){const b=u!=="=="&&u!=="!=";return class zP{constructor(R,U,ne){this.type=St,this.lhs=R,this.rhs=U,this.collator=ne,this.hasUntypedArgument=R.type.kind==="value"||U.type.kind==="value"}static parse(R,U){if(R.length!==3&&R.length!==4)return U.error("Expected two or three arguments.");const ne=R[0];let le=U.parse(R[1],1,Zt);if(!le)return null;if(!Ov(ne,le.type))return U.concat(1).error(`"${ne}" comparisons are not supported for type '${dt(le.type)}'.`);let ve=U.parse(R[2],2,Zt);if(!ve)return null;if(!Ov(ne,ve.type))return U.concat(2).error(`"${ne}" comparisons are not supported for type '${dt(ve.type)}'.`);if(le.type.kind!==ve.type.kind&&le.type.kind!=="value"&&ve.type.kind!=="value")return U.error(`Cannot compare types '${dt(le.type)}' and '${dt(ve.type)}'.`);b&&(le.type.kind==="value"&&ve.type.kind!=="value"?le=new Sn(ve.type,[le]):le.type.kind!=="value"&&ve.type.kind==="value"&&(ve=new Sn(le.type,[ve])));let Ie=null;if(R.length===4){if(le.type.kind!=="string"&&ve.type.kind!=="string"&&le.type.kind!=="value"&&ve.type.kind!=="value")return U.error("Cannot use collator to compare non-string types.");if(Ie=U.parse(R[3],3,hi),!Ie)return null}return new zP(le,ve,Ie)}evaluate(R){const U=this.lhs.evaluate(R),ne=this.rhs.evaluate(R);if(b&&this.hasUntypedArgument){const le=Ft(U),ve=Ft(ne);if(le.kind!==ve.kind||le.kind!=="string"&&le.kind!=="number")throw new rn(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${le.kind}, ${ve.kind}) instead.`)}if(this.collator&&!b&&this.hasUntypedArgument){const le=Ft(U),ve=Ft(ne);if(le.kind!=="string"||ve.kind!=="string")return l(R,U,ne)}return this.collator?h(R,U,ne,this.collator.evaluate(R)):l(R,U,ne)}eachChild(R){R(this.lhs),R(this.rhs),this.collator&&R(this.collator)}outputDefined(){return!0}}}const s_=dd("==",function(u,l,h){return l===h},Rv),o_=dd("!=",function(u,l,h){return l!==h},function(u,l,h,b){return!Rv(0,l,h,b)}),l_=dd("<",function(u,l,h){return l<h},function(u,l,h,b){return b.compare(l,h)<0}),c_=dd(">",function(u,l,h){return l>h},function(u,l,h,b){return b.compare(l,h)>0}),u_=dd("<=",function(u,l,h){return l<=h},function(u,l,h,b){return b.compare(l,h)<=0}),d_=dd(">=",function(u,l,h){return l>=h},function(u,l,h,b){return b.compare(l,h)>=0});class mg{constructor(l,h,b,A,R){this.type=Ct,this.number=l,this.locale=h,this.currency=b,this.minFractionDigits=A,this.maxFractionDigits=R}static parse(l,h){if(l.length!==3)return h.error("Expected two arguments.");const b=h.parse(l[1],1,mt);if(!b)return null;const A=l[2];if(typeof A!="object"||Array.isArray(A))return h.error("NumberFormat options argument must be an object.");let R=null;if(A.locale&&(R=h.parse(A.locale,1,Ct),!R))return null;let U=null;if(A.currency&&(U=h.parse(A.currency,1,Ct),!U))return null;let ne=null;if(A["min-fraction-digits"]&&(ne=h.parse(A["min-fraction-digits"],1,mt),!ne))return null;let le=null;return A["max-fraction-digits"]&&(le=h.parse(A["max-fraction-digits"],1,mt),!le)?null:new mg(b,R,U,ne,le)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class im{constructor(l){this.type=ii,this.sections=l}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");const b=l[1];if(!Array.isArray(b)&&typeof b=="object")return h.error("First argument must be an image or text section.");const A=[];let R=!1;for(let U=1;U<=l.length-1;++U){const ne=l[U];if(R&&typeof ne=="object"&&!Array.isArray(ne)){R=!1;let le=null;if(ne["font-scale"]&&(le=h.parse(ne["font-scale"],1,mt),!le))return null;let ve=null;if(ne["text-font"]&&(ve=h.parse(ne["text-font"],1,li(Ct)),!ve))return null;let Ie=null;if(ne["text-color"]&&(Ie=h.parse(ne["text-color"],1,sn),!Ie))return null;const Re=A[A.length-1];Re.scale=le,Re.font=ve,Re.textColor=Ie}else{const le=h.parse(l[U],1,Zt);if(!le)return null;const ve=le.type.kind;if(ve!=="string"&&ve!=="value"&&ve!=="null"&&ve!=="resolvedImage")return h.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");R=!0,A.push({content:le,scale:null,font:null,textColor:null})}}return new im(A)}evaluate(l){return new ct(this.sections.map(h=>{const b=h.content.evaluate(l);return Ft(b)===Hi?new rt("",b,null,null,null):new rt(Rt(b),null,h.scale?h.scale.evaluate(l):null,h.font?h.font.evaluate(l).join(","):null,h.textColor?h.textColor.evaluate(l):null)}))}eachChild(l){for(const h of this.sections)l(h.content),h.scale&&l(h.scale),h.font&&l(h.font),h.textColor&&l(h.textColor)}outputDefined(){return!1}}class fg{constructor(l){this.type=Hi,this.input=l}static parse(l,h){if(l.length!==2)return h.error("Expected two arguments.");const b=h.parse(l[1],1,Ct);return b?new fg(b):h.error("No image name provided.")}evaluate(l){const h=this.input.evaluate(l),b=it.fromString(h);return b&&l.availableImages&&(b.available=l.availableImages.indexOf(h)>-1),b}eachChild(l){l(this.input)}outputDefined(){return!1}}class gg{constructor(l){this.type=mt,this.input=l}static parse(l,h){if(l.length!==2)return h.error(`Expected 1 argument, but found ${l.length-1} instead.`);const b=h.parse(l[1],1);return b?b.type.kind!=="array"&&b.type.kind!=="string"&&b.type.kind!=="value"?h.error(`Expected argument of type string or array, but found ${dt(b.type)} instead.`):new gg(b):null}evaluate(l){const h=this.input.evaluate(l);if(typeof h=="string"||Array.isArray(h))return h.length;throw new rn(`Expected value to be of type string or array, but found ${dt(Ft(h))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const hd={"==":s_,"!=":o_,">":c_,"<":l_,">=":d_,"<=":u_,array:Sn,at:ug,boolean:Sn,case:pg,coalesce:Jp,collator:gi,format:im,image:fg,in:dg,"index-of":tm,interpolate:ho,"interpolate-hcl":ho,"interpolate-lab":ho,length:gg,let:em,literal:pn,match:hg,number:Sn,"number-format":mg,object:Sn,slice:nm,step:yh,string:Sn,"to-boolean":Cn,"to-color":Cn,"to-number":Cn,"to-string":Cn,var:Xp,within:vu};function $v(u,[l,h,b,A]){l=l.evaluate(u),h=h.evaluate(u),b=b.evaluate(u);const R=A?A.evaluate(u):1,U=ft(l,h,b,R);if(U)throw new rn(U);return new Be(l/255*R,h/255*R,b/255*R,R)}function zv(u,l){return u in l}function yg(u,l){const h=l[u];return h===void 0?null:h}function Ac(u){return{type:u}}function Fv(u){return{result:"success",value:u}}function pd(u){return{result:"error",value:u}}function md(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function Yr(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function vg(u){return!!u.expression&&u.expression.interpolated}function kn(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function fd(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function kr(u){return u}function pr(u,l){const h=l.type==="color",b=u.stops&&typeof u.stops[0][0]=="object",A=b||!(b||u.property!==void 0),R=u.type||(vg(l)?"exponential":"interval");if(h||l.type==="padding"){const ve=h?Be.parse:st.parse;(u=nt({},u)).stops&&(u.stops=u.stops.map(Ie=>[Ie[0],ve(Ie[1])])),u.default=ve(u.default?u.default:l.default)}if(u.colorSpace&&u.colorSpace!=="rgb"&&!Mv[u.colorSpace])throw new Error(`Unknown color space: ${u.colorSpace}`);let U,ne,le;if(R==="exponential")U=Bv;else if(R==="interval")U=h_;else if(R==="categorical"){U=jv,ne=Object.create(null);for(const ve of u.stops)ne[ve[0]]=ve[1];le=typeof u.stops[0][0]}else{if(R!=="identity")throw new Error(`Unknown function type "${R}"`);U=p_}if(b){const ve={},Ie=[];for(let qe=0;qe<u.stops.length;qe++){const He=u.stops[qe],ut=He[0].zoom;ve[ut]===void 0&&(ve[ut]={zoom:ut,type:u.type,property:u.property,default:u.default,stops:[]},Ie.push(ut)),ve[ut].stops.push([He[0].value,He[1]])}const Re=[];for(const qe of Ie)Re.push([ve[qe].zoom,pr(ve[qe],l)]);const Ue={name:"linear"};return{kind:"composite",interpolationType:Ue,interpolationFactor:ho.interpolationFactor.bind(void 0,Ue),zoomStops:Re.map(qe=>qe[0]),evaluate:({zoom:qe},He)=>Bv({stops:Re,base:u.base},l,qe).evaluate(qe,He)}}if(A){const ve=R==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:ve,interpolationFactor:ho.interpolationFactor.bind(void 0,ve),zoomStops:u.stops.map(Ie=>Ie[0]),evaluate:({zoom:Ie})=>U(u,l,Ie,ne,le)}}return{kind:"source",evaluate(ve,Ie){const Re=Ie&&Ie.properties?Ie.properties[u.property]:void 0;return Re===void 0?Pc(u.default,l.default):U(u,l,Re,ne,le)}}}function Pc(u,l,h){return u!==void 0?u:l!==void 0?l:h!==void 0?h:void 0}function jv(u,l,h,b,A){return Pc(typeof h===A?b[h]:void 0,u.default,l.default)}function h_(u,l,h){if(kn(h)!=="number")return Pc(u.default,l.default);const b=u.stops.length;if(b===1||h<=u.stops[0][0])return u.stops[0][1];if(h>=u.stops[b-1][0])return u.stops[b-1][1];const A=Kp(u.stops.map(R=>R[0]),h);return u.stops[A][1]}function Bv(u,l,h){const b=u.base!==void 0?u.base:1;if(kn(h)!=="number")return Pc(u.default,l.default);const A=u.stops.length;if(A===1||h<=u.stops[0][0])return u.stops[0][1];if(h>=u.stops[A-1][0])return u.stops[A-1][1];const R=Kp(u.stops.map(Ie=>Ie[0]),h),U=function(Ie,Re,Ue,qe){const He=qe-Ue,ut=Ie-Ue;return He===0?0:Re===1?ut/He:(Math.pow(Re,ut)-1)/(Math.pow(Re,He)-1)}(h,b,u.stops[R][0],u.stops[R+1][0]),ne=u.stops[R][1],le=u.stops[R+1][1];let ve=vh[l.type]||kr;if(u.colorSpace&&u.colorSpace!=="rgb"){const Ie=Mv[u.colorSpace];ve=(Re,Ue)=>Ie.reverse(Ie.interpolate(Ie.forward(Re),Ie.forward(Ue),U))}return typeof ne.evaluate=="function"?{evaluate(...Ie){const Re=ne.evaluate.apply(void 0,Ie),Ue=le.evaluate.apply(void 0,Ie);if(Re!==void 0&&Ue!==void 0)return ve(Re,Ue,U)}}:ve(ne,le,U)}function p_(u,l,h){switch(l.type){case"color":h=Be.parse(h);break;case"formatted":h=ct.fromString(h.toString());break;case"resolvedImage":h=it.fromString(h.toString());break;case"padding":h=st.parse(h);break;default:kn(h)===l.type||l.type==="enum"&&l.values[h]||(h=void 0)}return Pc(h,u.default,l.default)}Yn.register(hd,{error:[{kind:"error"},[Ct],(u,[l])=>{throw new rn(l.evaluate(u))}],typeof:[Ct,[Zt],(u,[l])=>dt(Ft(l.evaluate(u)))],"to-rgba":[li(mt,4),[sn],(u,[l])=>l.evaluate(u).toArray()],rgb:[sn,[mt,mt,mt],$v],rgba:[sn,[mt,mt,mt,mt],$v],has:{type:St,overloads:[[[Ct],(u,[l])=>zv(l.evaluate(u),u.properties())],[[Ct,yn],(u,[l,h])=>zv(l.evaluate(u),h.evaluate(u))]]},get:{type:Zt,overloads:[[[Ct],(u,[l])=>yg(l.evaluate(u),u.properties())],[[Ct,yn],(u,[l,h])=>yg(l.evaluate(u),h.evaluate(u))]]},"feature-state":[Zt,[Ct],(u,[l])=>yg(l.evaluate(u),u.featureState||{})],properties:[yn,[],u=>u.properties()],"geometry-type":[Ct,[],u=>u.geometryType()],id:[Zt,[],u=>u.id()],zoom:[mt,[],u=>u.globals.zoom],"heatmap-density":[mt,[],u=>u.globals.heatmapDensity||0],"line-progress":[mt,[],u=>u.globals.lineProgress||0],accumulated:[Zt,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[mt,Ac(mt),(u,l)=>{let h=0;for(const b of l)h+=b.evaluate(u);return h}],"*":[mt,Ac(mt),(u,l)=>{let h=1;for(const b of l)h*=b.evaluate(u);return h}],"-":{type:mt,overloads:[[[mt,mt],(u,[l,h])=>l.evaluate(u)-h.evaluate(u)],[[mt],(u,[l])=>-l.evaluate(u)]]},"/":[mt,[mt,mt],(u,[l,h])=>l.evaluate(u)/h.evaluate(u)],"%":[mt,[mt,mt],(u,[l,h])=>l.evaluate(u)%h.evaluate(u)],ln2:[mt,[],()=>Math.LN2],pi:[mt,[],()=>Math.PI],e:[mt,[],()=>Math.E],"^":[mt,[mt,mt],(u,[l,h])=>Math.pow(l.evaluate(u),h.evaluate(u))],sqrt:[mt,[mt],(u,[l])=>Math.sqrt(l.evaluate(u))],log10:[mt,[mt],(u,[l])=>Math.log(l.evaluate(u))/Math.LN10],ln:[mt,[mt],(u,[l])=>Math.log(l.evaluate(u))],log2:[mt,[mt],(u,[l])=>Math.log(l.evaluate(u))/Math.LN2],sin:[mt,[mt],(u,[l])=>Math.sin(l.evaluate(u))],cos:[mt,[mt],(u,[l])=>Math.cos(l.evaluate(u))],tan:[mt,[mt],(u,[l])=>Math.tan(l.evaluate(u))],asin:[mt,[mt],(u,[l])=>Math.asin(l.evaluate(u))],acos:[mt,[mt],(u,[l])=>Math.acos(l.evaluate(u))],atan:[mt,[mt],(u,[l])=>Math.atan(l.evaluate(u))],min:[mt,Ac(mt),(u,l)=>Math.min(...l.map(h=>h.evaluate(u)))],max:[mt,Ac(mt),(u,l)=>Math.max(...l.map(h=>h.evaluate(u)))],abs:[mt,[mt],(u,[l])=>Math.abs(l.evaluate(u))],round:[mt,[mt],(u,[l])=>{const h=l.evaluate(u);return h<0?-Math.round(-h):Math.round(h)}],floor:[mt,[mt],(u,[l])=>Math.floor(l.evaluate(u))],ceil:[mt,[mt],(u,[l])=>Math.ceil(l.evaluate(u))],"filter-==":[St,[Ct,Zt],(u,[l,h])=>u.properties()[l.value]===h.value],"filter-id-==":[St,[Zt],(u,[l])=>u.id()===l.value],"filter-type-==":[St,[Ct],(u,[l])=>u.geometryType()===l.value],"filter-<":[St,[Ct,Zt],(u,[l,h])=>{const b=u.properties()[l.value],A=h.value;return typeof b==typeof A&&b<A}],"filter-id-<":[St,[Zt],(u,[l])=>{const h=u.id(),b=l.value;return typeof h==typeof b&&h<b}],"filter->":[St,[Ct,Zt],(u,[l,h])=>{const b=u.properties()[l.value],A=h.value;return typeof b==typeof A&&b>A}],"filter-id->":[St,[Zt],(u,[l])=>{const h=u.id(),b=l.value;return typeof h==typeof b&&h>b}],"filter-<=":[St,[Ct,Zt],(u,[l,h])=>{const b=u.properties()[l.value],A=h.value;return typeof b==typeof A&&b<=A}],"filter-id-<=":[St,[Zt],(u,[l])=>{const h=u.id(),b=l.value;return typeof h==typeof b&&h<=b}],"filter->=":[St,[Ct,Zt],(u,[l,h])=>{const b=u.properties()[l.value],A=h.value;return typeof b==typeof A&&b>=A}],"filter-id->=":[St,[Zt],(u,[l])=>{const h=u.id(),b=l.value;return typeof h==typeof b&&h>=b}],"filter-has":[St,[Zt],(u,[l])=>l.value in u.properties()],"filter-has-id":[St,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[St,[li(Ct)],(u,[l])=>l.value.indexOf(u.geometryType())>=0],"filter-id-in":[St,[li(Zt)],(u,[l])=>l.value.indexOf(u.id())>=0],"filter-in-small":[St,[Ct,li(Zt)],(u,[l,h])=>h.value.indexOf(u.properties()[l.value])>=0],"filter-in-large":[St,[Ct,li(Zt)],(u,[l,h])=>function(b,A,R,U){for(;R<=U;){const ne=R+U>>1;if(A[ne]===b)return!0;A[ne]>b?U=ne-1:R=ne+1}return!1}(u.properties()[l.value],h.value,0,h.value.length-1)],all:{type:St,overloads:[[[St,St],(u,[l,h])=>l.evaluate(u)&&h.evaluate(u)],[Ac(St),(u,l)=>{for(const h of l)if(!h.evaluate(u))return!1;return!0}]]},any:{type:St,overloads:[[[St,St],(u,[l,h])=>l.evaluate(u)||h.evaluate(u)],[Ac(St),(u,l)=>{for(const h of l)if(h.evaluate(u))return!0;return!1}]]},"!":[St,[St],(u,[l])=>!l.evaluate(u)],"is-supported-script":[St,[Ct],(u,[l])=>{const h=u.globals&&u.globals.isSupportedScript;return!h||h(l.evaluate(u))}],upcase:[Ct,[Ct],(u,[l])=>l.evaluate(u).toUpperCase()],downcase:[Ct,[Ct],(u,[l])=>l.evaluate(u).toLowerCase()],concat:[Ct,Ac(Zt),(u,l)=>l.map(h=>Rt(h.evaluate(u))).join("")],"resolved-locale":[Ct,[hi],(u,[l])=>l.evaluate(u).resolvedLocale()]});class xg{constructor(l,h){this.expression=l,this._warningHistory={},this._evaluator=new Xn,this._defaultValue=h?function(b){return b.type==="color"&&fd(b.default)?new Be(0,0,0,0):b.type==="color"?Be.parse(b.default)||null:b.type==="padding"?st.parse(b.default)||null:b.default===void 0?null:b.default}(h):null,this._enumValues=h&&h.type==="enum"?h.values:null}evaluateWithoutErrorHandling(l,h,b,A,R,U){return this._evaluator.globals=l,this._evaluator.feature=h,this._evaluator.featureState=b,this._evaluator.canonical=A,this._evaluator.availableImages=R||null,this._evaluator.formattedSection=U,this.expression.evaluate(this._evaluator)}evaluate(l,h,b,A,R,U){this._evaluator.globals=l,this._evaluator.feature=h||null,this._evaluator.featureState=b||null,this._evaluator.canonical=A,this._evaluator.availableImages=R||null,this._evaluator.formattedSection=U||null;try{const ne=this.expression.evaluate(this._evaluator);if(ne==null||typeof ne=="number"&&ne!=ne)return this._defaultValue;if(this._enumValues&&!(ne in this._enumValues))throw new rn(`Expected value to be one of ${Object.keys(this._enumValues).map(le=>JSON.stringify(le)).join(", ")}, but found ${JSON.stringify(ne)} instead.`);return ne}catch(ne){return this._warningHistory[ne.message]||(this._warningHistory[ne.message]=!0,typeof console<"u"&&console.warn(ne.message)),this._defaultValue}}}function _h(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in hd}function wh(u,l){const h=new Zp(hd,[],l?function(A){const R={color:sn,string:Ct,number:mt,enum:Ct,boolean:St,formatted:ii,padding:Si,resolvedImage:Hi};return A.type==="array"?li(R[A.value]||Zt,A.length):R[A.type]}(l):void 0),b=h.parse(u,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return b?Fv(new xg(b,l)):pd(h.errors)}class rm{constructor(l,h){this.kind=l,this._styleExpression=h,this.isStateDependent=l!=="constant"&&!ud(h.expression)}evaluateWithoutErrorHandling(l,h,b,A,R,U){return this._styleExpression.evaluateWithoutErrorHandling(l,h,b,A,R,U)}evaluate(l,h,b,A,R,U){return this._styleExpression.evaluate(l,h,b,A,R,U)}}class Th{constructor(l,h,b,A){this.kind=l,this.zoomStops=b,this._styleExpression=h,this.isStateDependent=l!=="camera"&&!ud(h.expression),this.interpolationType=A}evaluateWithoutErrorHandling(l,h,b,A,R,U){return this._styleExpression.evaluateWithoutErrorHandling(l,h,b,A,R,U)}evaluate(l,h,b,A,R,U){return this._styleExpression.evaluate(l,h,b,A,R,U)}interpolationFactor(l,h,b){return this.interpolationType?ho.interpolationFactor(this.interpolationType,l,h,b):0}}function Uv(u,l){const h=wh(u,l);if(h.result==="error")return h;const b=h.value.expression,A=Hp(b);if(!A&&!md(l))return pd([new gt("","data expressions not supported")]);const R=fh(b,["zoom"]);if(!R&&!Yr(l))return pd([new gt("","zoom expressions not supported")]);const U=sm(b);return U||R?U instanceof gt?pd([U]):U instanceof ho&&!vg(l)?pd([new gt("",'"interpolate" expressions cannot be used with this property')]):Fv(U?new Th(A?"camera":"composite",h.value,U.labels,U instanceof ho?U.interpolation:void 0):new rm(A?"constant":"source",h.value)):pd([new gt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class am{constructor(l,h){this._parameters=l,this._specification=h,nt(this,pr(this._parameters,this._specification))}static deserialize(l){return new am(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function sm(u){let l=null;if(u instanceof em)l=sm(u.result);else if(u instanceof Jp){for(const h of u.args)if(l=sm(h),l)break}else(u instanceof yh||u instanceof ho)&&u.input instanceof Yn&&u.input.name==="zoom"&&(l=u);return l instanceof gt||u.eachChild(h=>{const b=sm(h);b instanceof gt?l=b:!l&&b?l=new gt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&b&&l!==b&&(l=new gt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function el(u){const l=u.key,h=u.value,b=u.valueSpec||{},A=u.objectElementValidators||{},R=u.style,U=u.styleSpec;let ne=[];const le=kn(h);if(le!=="object")return[new je(l,h,`object expected, ${le} found`)];for(const ve in h){const Ie=ve.split(".")[0],Re=b[Ie]||b["*"];let Ue;if(A[Ie])Ue=A[Ie];else if(b[Ie])Ue=os;else if(A["*"])Ue=A["*"];else{if(!b["*"]){ne.push(new je(l,h[ve],`unknown property "${ve}"`));continue}Ue=os}ne=ne.concat(Ue({key:(l&&`${l}.`)+ve,value:h[ve],valueSpec:Re,style:R,styleSpec:U,object:h,objectKey:ve},h))}for(const ve in b)A[ve]||b[ve].required&&b[ve].default===void 0&&h[ve]===void 0&&ne.push(new je(l,h,`missing required property "${ve}"`));return ne}function Gv(u){const l=u.value,h=u.valueSpec,b=u.style,A=u.styleSpec,R=u.key,U=u.arrayElementValidator||os;if(kn(l)!=="array")return[new je(R,l,`array expected, ${kn(l)} found`)];if(h.length&&l.length!==h.length)return[new je(R,l,`array length ${h.length} expected, length ${l.length} found`)];if(h["min-length"]&&l.length<h["min-length"])return[new je(R,l,`array length at least ${h["min-length"]} expected, length ${l.length} found`)];let ne={type:h.value,values:h.values};A.$version<7&&(ne.function=h.function),kn(h.value)==="object"&&(ne=h.value);let le=[];for(let ve=0;ve<l.length;ve++)le=le.concat(U({array:l,arrayIndex:ve,value:l[ve],valueSpec:ne,style:b,styleSpec:A,key:`${R}[${ve}]`}));return le}function bg(u){const l=u.key,h=u.value,b=u.valueSpec;let A=kn(h);return A==="number"&&h!=h&&(A="NaN"),A!=="number"?[new je(l,h,`number expected, ${A} found`)]:"minimum"in b&&h<b.minimum?[new je(l,h,`${h} is less than the minimum value ${b.minimum}`)]:"maximum"in b&&h>b.maximum?[new je(l,h,`${h} is greater than the maximum value ${b.maximum}`)]:[]}function Yv(u){const l=u.valueSpec,h=ot(u.value.type);let b,A,R,U={};const ne=h!=="categorical"&&u.value.property===void 0,le=!ne,ve=kn(u.value.stops)==="array"&&kn(u.value.stops[0])==="array"&&kn(u.value.stops[0][0])==="object",Ie=el({key:u.key,value:u.value,valueSpec:u.styleSpec.function,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(qe){if(h==="identity")return[new je(qe.key,qe.value,'identity function may not have a "stops" property')];let He=[];const ut=qe.value;return He=He.concat(Gv({key:qe.key,value:ut,valueSpec:qe.valueSpec,style:qe.style,styleSpec:qe.styleSpec,arrayElementValidator:Re})),kn(ut)==="array"&&ut.length===0&&He.push(new je(qe.key,ut,"array must have at least one stop")),He},default:function(qe){return os({key:qe.key,value:qe.value,valueSpec:l,style:qe.style,styleSpec:qe.styleSpec})}}});return h==="identity"&&ne&&Ie.push(new je(u.key,u.value,'missing required property "property"')),h==="identity"||u.value.stops||Ie.push(new je(u.key,u.value,'missing required property "stops"')),h==="exponential"&&u.valueSpec.expression&&!vg(u.valueSpec)&&Ie.push(new je(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(le&&!md(u.valueSpec)?Ie.push(new je(u.key,u.value,"property functions not supported")):ne&&!Yr(u.valueSpec)&&Ie.push(new je(u.key,u.value,"zoom functions not supported"))),h!=="categorical"&&!ve||u.value.property!==void 0||Ie.push(new je(u.key,u.value,'"property" property is required')),Ie;function Re(qe){let He=[];const ut=qe.value,lt=qe.key;if(kn(ut)!=="array")return[new je(lt,ut,`array expected, ${kn(ut)} found`)];if(ut.length!==2)return[new je(lt,ut,`array length 2 expected, length ${ut.length} found`)];if(ve){if(kn(ut[0])!=="object")return[new je(lt,ut,`object expected, ${kn(ut[0])} found`)];if(ut[0].zoom===void 0)return[new je(lt,ut,"object stop key must have zoom")];if(ut[0].value===void 0)return[new je(lt,ut,"object stop key must have value")];if(R&&R>ot(ut[0].zoom))return[new je(lt,ut[0].zoom,"stop zoom values must appear in ascending order")];ot(ut[0].zoom)!==R&&(R=ot(ut[0].zoom),A=void 0,U={}),He=He.concat(el({key:`${lt}[0]`,value:ut[0],valueSpec:{zoom:{}},style:qe.style,styleSpec:qe.styleSpec,objectElementValidators:{zoom:bg,value:Ue}}))}else He=He.concat(Ue({key:`${lt}[0]`,value:ut[0],valueSpec:{},style:qe.style,styleSpec:qe.styleSpec},ut));return _h(ht(ut[1]))?He.concat([new je(`${lt}[1]`,ut[1],"expressions are not allowed in function stops.")]):He.concat(os({key:`${lt}[1]`,value:ut[1],valueSpec:l,style:qe.style,styleSpec:qe.styleSpec}))}function Ue(qe,He){const ut=kn(qe.value),lt=ot(qe.value),_t=qe.value!==null?qe.value:He;if(b){if(ut!==b)return[new je(qe.key,_t,`${ut} stop domain type must match previous stop domain type ${b}`)]}else b=ut;if(ut!=="number"&&ut!=="string"&&ut!=="boolean")return[new je(qe.key,_t,"stop domain value must be a number, string, or boolean")];if(ut!=="number"&&h!=="categorical"){let Mt=`number expected, ${ut} found`;return md(l)&&h===void 0&&(Mt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new je(qe.key,_t,Mt)]}return h!=="categorical"||ut!=="number"||isFinite(lt)&&Math.floor(lt)===lt?h!=="categorical"&&ut==="number"&&A!==void 0&&lt<A?[new je(qe.key,_t,"stop domain values must appear in ascending order")]:(A=lt,h==="categorical"&&lt in U?[new je(qe.key,_t,"stop domain values must be unique")]:(U[lt]=!0,[])):[new je(qe.key,_t,`integer expected, found ${lt}`)]}}function gd(u){const l=(u.expressionContext==="property"?Uv:wh)(ht(u.value),u.valueSpec);if(l.result==="error")return l.value.map(b=>new je(`${u.key}${b.key}`,u.value,b.message));const h=l.value.expression||l.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!h.outputDefined())return[new je(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!ud(h))return[new je(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter"&&!ud(h))return[new je(u.key,u.value,'"feature-state" data expressions are not supported with filters.')];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!fh(h,["zoom","feature-state"]))return[new je(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!Hp(h))return[new je(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Sh(u){const l=u.key,h=u.value,b=u.valueSpec,A=[];return Array.isArray(b.values)?b.values.indexOf(ot(h))===-1&&A.push(new je(l,h,`expected one of [${b.values.join(", ")}], ${JSON.stringify(h)} found`)):Object.keys(b.values).indexOf(ot(h))===-1&&A.push(new je(l,h,`expected one of [${Object.keys(b.values).join(", ")}], ${JSON.stringify(h)} found`)),A}function om(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const l of u.slice(1))if(!om(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const lm={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function _g(u){if(u==null)return{filter:()=>!0,needGeometry:!1};om(u)||(u=cm(u));const l=wh(u,lm);if(l.result==="error")throw new Error(l.value.map(h=>`${h.key}: ${h.message}`).join(", "));return{filter:(h,b,A)=>l.value.evaluate(h,b,{},A),needGeometry:wg(u)}}function Vv(u,l){return u<l?-1:u>l?1:0}function wg(u){if(!Array.isArray(u))return!1;if(u[0]==="within")return!0;for(let l=1;l<u.length;l++)if(wg(u[l]))return!0;return!1}function cm(u){if(!u)return!0;const l=u[0];return u.length<=1?l!=="any":l==="=="?um(u[1],u[2],"=="):l==="!="?xu(um(u[1],u[2],"==")):l==="<"||l===">"||l==="<="||l===">="?um(u[1],u[2],l):l==="any"?(h=u.slice(1),["any"].concat(h.map(cm))):l==="all"?["all"].concat(u.slice(1).map(cm)):l==="none"?["all"].concat(u.slice(1).map(cm).map(xu)):l==="in"?Wv(u[1],u.slice(2)):l==="!in"?xu(Wv(u[1],u.slice(2))):l==="has"?dm(u[1]):l==="!has"?xu(dm(u[1])):l!=="within"||u;var h}function um(u,l,h){switch(u){case"$type":return[`filter-type-${h}`,l];case"$id":return[`filter-id-${h}`,l];default:return[`filter-${h}`,u,l]}}function Wv(u,l){if(l.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(h=>typeof h!=typeof l[0])?["filter-in-large",u,["literal",l.sort(Vv)]]:["filter-in-small",u,["literal",l]]}}function dm(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function xu(u){return["!",u]}function Ch(u){return om(ht(u.value))?gd(nt({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):hm(u)}function hm(u){const l=u.value,h=u.key;if(kn(l)!=="array")return[new je(h,l,`array expected, ${kn(l)} found`)];const b=u.styleSpec;let A,R=[];if(l.length<1)return[new je(h,l,"filter array must have at least 1 element")];switch(R=R.concat(Sh({key:`${h}[0]`,value:l[0],valueSpec:b.filter_operator,style:u.style,styleSpec:u.styleSpec})),ot(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&ot(l[1])==="$type"&&R.push(new je(h,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&R.push(new je(h,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(A=kn(l[1]),A!=="string"&&R.push(new je(`${h}[1]`,l[1],`string expected, ${A} found`)));for(let U=2;U<l.length;U++)A=kn(l[U]),ot(l[1])==="$type"?R=R.concat(Sh({key:`${h}[${U}]`,value:l[U],valueSpec:b.geometry_type,style:u.style,styleSpec:u.styleSpec})):A!=="string"&&A!=="number"&&A!=="boolean"&&R.push(new je(`${h}[${U}]`,l[U],`string, number, or boolean expected, ${A} found`));break;case"any":case"all":case"none":for(let U=1;U<l.length;U++)R=R.concat(hm({key:`${h}[${U}]`,value:l[U],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":A=kn(l[1]),l.length!==2?R.push(new je(h,l,`filter array for "${l[0]}" operator must have 2 elements`)):A!=="string"&&R.push(new je(`${h}[1]`,l[1],`string expected, ${A} found`));break;case"within":A=kn(l[1]),l.length!==2?R.push(new je(h,l,`filter array for "${l[0]}" operator must have 2 elements`)):A!=="object"&&R.push(new je(`${h}[1]`,l[1],`object expected, ${A} found`))}return R}function qv(u,l){const h=u.key,b=u.style,A=u.styleSpec,R=u.value,U=u.objectKey,ne=A[`${l}_${u.layerType}`];if(!ne)return[];const le=U.match(/^(.*)-transition$/);if(l==="paint"&&le&&ne[le[1]]&&ne[le[1]].transition)return os({key:h,value:R,valueSpec:A.transition,style:b,styleSpec:A});const ve=u.valueSpec||ne[U];if(!ve)return[new je(h,R,`unknown property "${U}"`)];let Ie;if(kn(R)==="string"&&md(ve)&&!ve.tokens&&(Ie=/^{([^}]+)}$/.exec(R)))return[new je(h,R,`"${U}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Ie[1])} }\`.`)];const Re=[];return u.layerType==="symbol"&&(U==="text-field"&&b&&!b.glyphs&&Re.push(new je(h,R,'use of "text-field" requires a style "glyphs" property')),U==="text-font"&&fd(ht(R))&&ot(R.type)==="identity"&&Re.push(new je(h,R,'"text-font" does not support identity functions'))),Re.concat(os({key:u.key,value:R,valueSpec:ve,style:b,styleSpec:A,expressionContext:"property",propertyType:l,propertyKey:U}))}function Eh(u){return qv(u,"paint")}function Hv(u){return qv(u,"layout")}function Xv(u){let l=[];const h=u.value,b=u.key,A=u.style,R=u.styleSpec;h.type||h.ref||l.push(new je(b,h,'either "type" or "ref" is required'));let U=ot(h.type);const ne=ot(h.ref);if(h.id){const le=ot(h.id);for(let ve=0;ve<u.arrayIndex;ve++){const Ie=A.layers[ve];ot(Ie.id)===le&&l.push(new je(b,h.id,`duplicate layer id "${h.id}", previously used at line ${Ie.id.__line__}`))}}if("ref"in h){let le;["type","source","source-layer","filter","layout"].forEach(ve=>{ve in h&&l.push(new je(b,h[ve],`"${ve}" is prohibited for ref layers`))}),A.layers.forEach(ve=>{ot(ve.id)===ne&&(le=ve)}),le?le.ref?l.push(new je(b,h.ref,"ref cannot reference another ref layer")):U=ot(le.type):l.push(new je(b,h.ref,`ref layer "${ne}" not found`))}else if(U!=="background")if(h.source){const le=A.sources&&A.sources[h.source],ve=le&&ot(le.type);le?ve==="vector"&&U==="raster"?l.push(new je(b,h.source,`layer "${h.id}" requires a raster source`)):ve==="raster"&&U!=="raster"?l.push(new je(b,h.source,`layer "${h.id}" requires a vector source`)):ve!=="vector"||h["source-layer"]?ve==="raster-dem"&&U!=="hillshade"?l.push(new je(b,h.source,"raster-dem source can only be used with layer type 'hillshade'.")):U!=="line"||!h.paint||!h.paint["line-gradient"]||ve==="geojson"&&le.lineMetrics||l.push(new je(b,h,`layer "${h.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new je(b,h,`layer "${h.id}" must specify a "source-layer"`)):l.push(new je(b,h.source,`source "${h.source}" not found`))}else l.push(new je(b,h,'missing required property "source"'));return l=l.concat(el({key:b,value:h,valueSpec:R.layer,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{"*":()=>[],type:()=>os({key:`${b}.type`,value:h.type,valueSpec:R.layer.type,style:u.style,styleSpec:u.styleSpec,object:h,objectKey:"type"}),filter:Ch,layout:le=>el({layer:h,key:le.key,value:le.value,style:le.style,styleSpec:le.styleSpec,objectElementValidators:{"*":ve=>Hv(nt({layerType:U},ve))}}),paint:le=>el({layer:h,key:le.key,value:le.value,style:le.style,styleSpec:le.styleSpec,objectElementValidators:{"*":ve=>Eh(nt({layerType:U},ve))}})}})),l}function yd(u){const l=u.value,h=u.key,b=kn(l);return b!=="string"?[new je(h,l,`string expected, ${b} found`)]:[]}const Zv={promoteId:function({key:u,value:l}){if(kn(l)==="string")return yd({key:u,value:l});{const h=[];for(const b in l)h.push(...yd({key:`${u}.${b}`,value:l[b]}));return h}}};function Kv(u){const l=u.value,h=u.key,b=u.styleSpec,A=u.style;if(!l.type)return[new je(h,l,'"type" is required')];const R=ot(l.type);let U;switch(R){case"vector":case"raster":case"raster-dem":return U=el({key:h,value:l,valueSpec:b[`source_${R.replace("-","_")}`],style:u.style,styleSpec:b,objectElementValidators:Zv}),U;case"geojson":if(U=el({key:h,value:l,valueSpec:b.source_geojson,style:A,styleSpec:b,objectElementValidators:Zv}),l.cluster)for(const ne in l.clusterProperties){const[le,ve]=l.clusterProperties[ne],Ie=typeof le=="string"?[le,["accumulated"],["get",ne]]:le;U.push(...gd({key:`${h}.${ne}.map`,value:ve,expressionContext:"cluster-map"})),U.push(...gd({key:`${h}.${ne}.reduce`,value:Ie,expressionContext:"cluster-reduce"}))}return U;case"video":return el({key:h,value:l,valueSpec:b.source_video,style:A,styleSpec:b});case"image":return el({key:h,value:l,valueSpec:b.source_image,style:A,styleSpec:b});case"canvas":return[new je(h,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Sh({key:`${h}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:A,styleSpec:b})}}function kh(u){const l=u.value,h=u.styleSpec,b=h.light,A=u.style;let R=[];const U=kn(l);if(l===void 0)return R;if(U!=="object")return R=R.concat([new je("light",l,`object expected, ${U} found`)]),R;for(const ne in l){const le=ne.match(/^(.*)-transition$/);R=R.concat(le&&b[le[1]]&&b[le[1]].transition?os({key:ne,value:l[ne],valueSpec:h.transition,style:A,styleSpec:h}):b[ne]?os({key:ne,value:l[ne],valueSpec:b[ne],style:A,styleSpec:h}):[new je(ne,l[ne],`unknown property "${ne}"`)])}return R}function Nh(u){const l=u.value,h=u.styleSpec,b=h.terrain,A=u.style;let R=[];const U=kn(l);if(l===void 0)return R;if(U!=="object")return R=R.concat([new je("terrain",l,`object expected, ${U} found`)]),R;for(const ne in l)R=R.concat(b[ne]?os({key:ne,value:l[ne],valueSpec:b[ne],style:A,styleSpec:h}):[new je(ne,l[ne],`unknown property "${ne}"`)]);return R}const po={"*":()=>[],array:Gv,boolean:function(u){const l=u.value,h=u.key,b=kn(l);return b!=="boolean"?[new je(h,l,`boolean expected, ${b} found`)]:[]},number:bg,color:function(u){const l=u.key,h=u.value,b=kn(h);return b!=="string"?[new je(l,h,`color expected, ${b} found`)]:Tn(h)===null?[new je(l,h,`color expected, "${h}" found`)]:[]},constants:Ke,enum:Sh,filter:Ch,function:Yv,layer:Xv,object:el,source:Kv,light:kh,terrain:Nh,string:yd,formatted:function(u){return yd(u).length===0?[]:gd(u)},resolvedImage:function(u){return yd(u).length===0?[]:gd(u)},padding:function(u){const l=u.key,h=u.value;if(kn(h)==="array"){if(h.length<1||h.length>4)return[new je(l,h,`padding requires 1 to 4 values; ${h.length} values found`)];const b={type:"number"};let A=[];for(let R=0;R<h.length;R++)A=A.concat(os({key:`${l}[${R}]`,value:h[R],valueSpec:b}));return A}return bg({key:l,value:h,valueSpec:{}})}};function os(u){const l=u.value,h=u.valueSpec,b=u.styleSpec;return h.expression&&fd(ot(l))?Yv(u):h.expression&&_h(ht(l))?gd(u):h.type&&po[h.type]?po[h.type](u):el(nt({},u,{valueSpec:h.type?b[h.type]:h}))}function m_(u){const l=u.value,h=u.key,b=yd(u);return b.length||(l.indexOf("{fontstack}")===-1&&b.push(new je(h,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&b.push(new je(h,l,'"glyphs" url must include a "{range}" token'))),b}function Dc(u,l=Me){let h=[];return h=h.concat(os({key:"",value:u,valueSpec:l.$root,styleSpec:l,style:u,objectElementValidators:{glyphs:m_,"*":()=>[]}})),u.constants&&(h=h.concat(Ke({key:"constants",value:u.constants,style:u,styleSpec:l}))),Qv(h)}function Qv(u){return[].concat(u).sort((l,h)=>l.line-h.line)}function bu(u){return function(...l){return Qv(u.apply(this,l))}}Dc.source=bu(Kv),Dc.light=bu(kh),Dc.terrain=bu(Nh),Dc.layer=bu(Xv),Dc.filter=bu(Ch),Dc.paintProperty=bu(Eh),Dc.layoutProperty=bu(Hv);const _u=Dc,f_=_u.light,Tg=_u.paintProperty,g_=_u.layoutProperty;function Jv(u,l){let h=!1;if(l&&l.length)for(const b of l)u.fire(new ke(new Error(b.message))),h=!0;return h}class wu{constructor(l,h,b){const A=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const U=new Int32Array(this.arrayBuffer);l=U[0],this.d=(h=U[1])+2*(b=U[2]);for(let le=0;le<this.d*this.d;le++){const ve=U[3+le],Ie=U[3+le+1];A.push(ve===Ie?null:U.subarray(ve,Ie))}const ne=U[3+A.length+1];this.keys=U.subarray(U[3+A.length],ne),this.bboxes=U.subarray(ne),this.insert=this._insertReadonly}else{this.d=h+2*b;for(let U=0;U<this.d*this.d;U++)A.push([]);this.keys=[],this.bboxes=[]}this.n=h,this.extent=l,this.padding=b,this.scale=h/l,this.uid=0;const R=b/h*l;this.min=-R,this.max=l+R}insert(l,h,b,A,R){this._forEachCell(h,b,A,R,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(h),this.bboxes.push(b),this.bboxes.push(A),this.bboxes.push(R)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,h,b,A,R,U){this.cells[R].push(U)}query(l,h,b,A,R){const U=this.min,ne=this.max;if(l<=U&&h<=U&&ne<=b&&ne<=A&&!R)return Array.prototype.slice.call(this.keys);{const le=[];return this._forEachCell(l,h,b,A,this._queryCell,le,{},R),le}}_queryCell(l,h,b,A,R,U,ne,le){const ve=this.cells[R];if(ve!==null){const Ie=this.keys,Re=this.bboxes;for(let Ue=0;Ue<ve.length;Ue++){const qe=ve[Ue];if(ne[qe]===void 0){const He=4*qe;(le?le(Re[He+0],Re[He+1],Re[He+2],Re[He+3]):l<=Re[He+2]&&h<=Re[He+3]&&b>=Re[He+0]&&A>=Re[He+1])?(ne[qe]=!0,U.push(Ie[qe])):ne[qe]=!1}}}}_forEachCell(l,h,b,A,R,U,ne,le){const ve=this._convertToCellCoord(l),Ie=this._convertToCellCoord(h),Re=this._convertToCellCoord(b),Ue=this._convertToCellCoord(A);for(let qe=ve;qe<=Re;qe++)for(let He=Ie;He<=Ue;He++){const ut=this.d*He+qe;if((!le||le(this._convertFromCellCoord(qe),this._convertFromCellCoord(He),this._convertFromCellCoord(qe+1),this._convertFromCellCoord(He+1)))&&R.call(this,l,h,b,A,ut,U,ne,le))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,h=3+this.cells.length+1+1;let b=0;for(let U=0;U<this.cells.length;U++)b+=this.cells[U].length;const A=new Int32Array(h+b+this.keys.length+this.bboxes.length);A[0]=this.extent,A[1]=this.n,A[2]=this.padding;let R=h;for(let U=0;U<l.length;U++){const ne=l[U];A[3+U]=R,A.set(ne,R),R+=ne.length}return A[3+l.length]=R,A.set(this.keys,R),R+=this.keys.length,A[3+l.length+1]=R,A.set(this.bboxes,R),R+=this.bboxes.length,A.buffer}static serialize(l,h){const b=l.toArrayBuffer();return h&&h.push(b),{buffer:b}}static deserialize(l){return new wu(l.buffer)}}const Mc={};function bn(u,l,h={}){if(Mc[u])throw new Error(`${u} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:u,writeable:!1}),Mc[u]={klass:l,omit:h.omit||[],shallow:h.shallow||[]}}bn("Object",Object),bn("TransferableGridIndex",wu),bn("Color",Be),bn("Error",Error),bn("AJAXError",Q),bn("ResolvedImage",it),bn("StylePropertyFunction",am),bn("StyleExpression",xg,{omit:["_evaluator"]}),bn("ZoomDependentExpression",Th),bn("ZoomConstantExpression",rm),bn("CompoundExpression",Yn,{omit:["_evaluate"]});for(const u in hd)hd[u]._classRegistryKey||bn(`Expression_${u}`,hd[u]);function Sg(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function Lh(u,l){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob)return u;if(Sg(u)||M(u))return l&&l.push(u),u;if(ArrayBuffer.isView(u)){const h=u;return l&&l.push(h.buffer),h}if(u instanceof ImageData)return l&&l.push(u.data.buffer),u;if(Array.isArray(u)){const h=[];for(const b of u)h.push(Lh(b,l));return h}if(typeof u=="object"){const h=u.constructor,b=h._classRegistryKey;if(!b)throw new Error("can't serialize object of unregistered class");if(!Mc[b])throw new Error(`${b} is not registered.`);const A=h.serialize?h.serialize(u,l):{};if(h.serialize){if(l&&A===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const R in u){if(!u.hasOwnProperty(R)||Mc[b].omit.indexOf(R)>=0)continue;const U=u[R];A[R]=Mc[b].shallow.indexOf(R)>=0?U:Lh(U,l)}u instanceof Error&&(A.message=u.message)}if(A.$name)throw new Error("$name property is reserved for worker serialization logic.");return b!=="Object"&&(A.$name=b),A}throw new Error("can't serialize object of type "+typeof u)}function Tu(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||Sg(u)||M(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(Tu);if(typeof u=="object"){const l=u.$name||"Object";if(!Mc[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:h}=Mc[l];if(!h)throw new Error(`can't deserialize unregistered class ${l}`);if(h.deserialize)return h.deserialize(u);const b=Object.create(h.prototype);for(const A of Object.keys(u)){if(A==="$name")continue;const R=u[A];b[A]=Mc[l].shallow.indexOf(A)>=0?R:Tu(R)}return b}throw new Error("can't deserialize object of type "+typeof u)}class Ih{constructor(){this.first=!0}update(l,h){const b=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=b,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=b,!0):(this.lastFloorZoom>b?(this.lastIntegerZoom=b+1,this.lastIntegerZoomTime=h):this.lastFloorZoom<b&&(this.lastIntegerZoom=b,this.lastIntegerZoomTime=h),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=b,!0))}}const on={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function Cg(u){for(const l of u)if(Ah(l.charCodeAt(0)))return!0;return!1}function ex(u){for(const l of u)if(!y_(l.charCodeAt(0)))return!1;return!0}function y_(u){return!(on.Arabic(u)||on["Arabic Supplement"](u)||on["Arabic Extended-A"](u)||on["Arabic Presentation Forms-A"](u)||on["Arabic Presentation Forms-B"](u))}function Ah(u){return!(u!==746&&u!==747&&(u<4352||!(on["Bopomofo Extended"](u)||on.Bopomofo(u)||on["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||on["CJK Compatibility Ideographs"](u)||on["CJK Compatibility"](u)||on["CJK Radicals Supplement"](u)||on["CJK Strokes"](u)||!(!on["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||on["CJK Unified Ideographs Extension A"](u)||on["CJK Unified Ideographs"](u)||on["Enclosed CJK Letters and Months"](u)||on["Hangul Compatibility Jamo"](u)||on["Hangul Jamo Extended-A"](u)||on["Hangul Jamo Extended-B"](u)||on["Hangul Jamo"](u)||on["Hangul Syllables"](u)||on.Hiragana(u)||on["Ideographic Description Characters"](u)||on.Kanbun(u)||on["Kangxi Radicals"](u)||on["Katakana Phonetic Extensions"](u)||on.Katakana(u)&&u!==12540||!(!on["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!on["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||on["Unified Canadian Aboriginal Syllabics"](u)||on["Unified Canadian Aboriginal Syllabics Extended"](u)||on["Vertical Forms"](u)||on["Yijing Hexagram Symbols"](u)||on["Yi Syllables"](u)||on["Yi Radicals"](u))))}function tx(u){return!(Ah(u)||function(l){return!!(on["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||on["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||on["Letterlike Symbols"](l)||on["Number Forms"](l)||on["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||on["Control Pictures"](l)&&l!==9251||on["Optical Character Recognition"](l)||on["Enclosed Alphanumerics"](l)||on["Geometric Shapes"](l)||on["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||on["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||on["CJK Symbols and Punctuation"](l)||on.Katakana(l)||on["Private Use Area"](l)||on["CJK Compatibility Forms"](l)||on["Small Form Variants"](l)||on["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(u))}function nx(u){return u>=1424&&u<=2303||on["Arabic Presentation Forms-A"](u)||on["Arabic Presentation Forms-B"](u)}function v_(u,l){return!(!l&&nx(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||on.Khmer(u))}function x_(u){for(const l of u)if(nx(l.charCodeAt(0)))return!0;return!1}const pm="deferred",Eg="loading",kg="loaded";let Ng=null,Hs="unavailable",Oc=null;const ix=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(Hs="error"),Ng&&Ng(u)};function Lg(){vd.fire(new we("pluginStateChange",{pluginStatus:Hs,pluginURL:Oc}))}const vd=new ze,Ig=function(){return Hs},mm=function(){if(Hs!==pm||!Oc)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Hs=Eg,Lg(),Oc&&be({url:Oc},u=>{u?ix(u):(Hs=kg,Lg())})},zo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Hs===kg||zo.applyArabicShaping!=null,isLoading:()=>Hs===Eg,setState(u){if(!Y())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Hs=u.pluginStatus,Oc=u.pluginURL},isParsed(){if(!Y())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return zo.applyArabicShaping!=null&&zo.processBidirectionalText!=null&&zo.processStyledBidirectionalText!=null},getPluginURL(){if(!Y())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Oc}};class xr{constructor(l,h){this.zoom=l,h?(this.now=h.now,this.fadeDuration=h.fadeDuration,this.zoomHistory=h.zoomHistory,this.transition=h.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ih,this.transition={})}isSupportedScript(l){return function(h,b){for(const A of h)if(!v_(A.charCodeAt(0),b))return!1;return!0}(l,zo.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,h=l-Math.floor(l),b=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:h+(1-h)*b}:{fromScale:.5,toScale:1,t:1-(1-b)*h}}}class fm{constructor(l,h){this.property=l,this.value=h,this.expression=function(b,A){if(fd(b))return new am(b,A);if(_h(b)){const R=Uv(b,A);if(R.result==="error")throw new Error(R.value.map(U=>`${U.key}: ${U.message}`).join(", "));return R.value}{let R=b;return A.type==="color"&&typeof b=="string"?R=Be.parse(b):A.type!=="padding"||typeof b!="number"&&!Array.isArray(b)||(R=st.parse(b)),{kind:"constant",evaluate:()=>R}}}(h===void 0?l.specification.default:h,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,h,b){return this.property.possiblyEvaluate(this,l,h,b)}}class gm{constructor(l){this.property=l,this.value=new fm(l,void 0)}transitioned(l,h){return new rx(this.property,this.value,h,x({},l.transition,this.transition),l.now)}untransitioned(){return new rx(this.property,this.value,null,{},0)}}class Ag{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return w(this._values[l].value.value)}setValue(l,h){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new gm(this._values[l].property)),this._values[l].value=new fm(this._values[l].property,h===null?void 0:w(h))}getTransition(l){return w(this._values[l].transition)}setTransition(l,h){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new gm(this._values[l].property)),this._values[l].transition=w(h)||void 0}serialize(){const l={};for(const h of Object.keys(this._values)){const b=this.getValue(h);b!==void 0&&(l[h]=b);const A=this.getTransition(h);A!==void 0&&(l[`${h}-transition`]=A)}return l}transitioned(l,h){const b=new ax(this._properties);for(const A of Object.keys(this._values))b._values[A]=this._values[A].transitioned(l,h._values[A]);return b}untransitioned(){const l=new ax(this._properties);for(const h of Object.keys(this._values))l._values[h]=this._values[h].untransitioned();return l}}class rx{constructor(l,h,b,A,R){this.property=l,this.value=h,this.begin=R+A.delay||0,this.end=this.begin+A.duration||0,l.specification.transition&&(A.delay||A.duration)&&(this.prior=b)}possiblyEvaluate(l,h,b){const A=l.now||0,R=this.value.possiblyEvaluate(l,h,b),U=this.prior;if(U){if(A>this.end)return this.prior=null,R;if(this.value.isDataDriven())return this.prior=null,R;if(A<this.begin)return U.possiblyEvaluate(l,h,b);{const ne=(A-this.begin)/(this.end-this.begin);return this.property.interpolate(U.possiblyEvaluate(l,h,b),R,function(le){if(le<=0)return 0;if(le>=1)return 1;const ve=le*le,Ie=ve*le;return 4*(le<.5?Ie:3*(le-ve)+Ie-.75)}(ne))}}return R}}class ax{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,h,b){const A=new ym(this._properties);for(const R of Object.keys(this._values))A._values[R]=this._values[R].possiblyEvaluate(l,h,b);return A}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class b_{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}getValue(l){return w(this._values[l].value)}setValue(l,h){this._values[l]=new fm(this._values[l].property,h===null?void 0:w(h))}serialize(){const l={};for(const h of Object.keys(this._values)){const b=this.getValue(h);b!==void 0&&(l[h]=b)}return l}possiblyEvaluate(l,h,b){const A=new ym(this._properties);for(const R of Object.keys(this._values))A._values[R]=this._values[R].possiblyEvaluate(l,h,b);return A}}class Il{constructor(l,h,b){this.property=l,this.value=h,this.parameters=b}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,h,b,A){return this.property.evaluate(this.value,this.parameters,l,h,b,A)}}class ym{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class Ln{constructor(l){this.specification=l}possiblyEvaluate(l,h){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(h)}interpolate(l,h,b){const A=vh[this.specification.type];return A?A(l,h,b):l}}class $n{constructor(l,h){this.specification=l,this.overrides=h}possiblyEvaluate(l,h,b,A){return new Il(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(h,null,{},b,A)}:l.expression,h)}interpolate(l,h,b){if(l.value.kind!=="constant"||h.value.kind!=="constant")return l;if(l.value.value===void 0||h.value.value===void 0)return new Il(this,{kind:"constant",value:void 0},l.parameters);const A=vh[this.specification.type];return A?new Il(this,{kind:"constant",value:A(l.value.value,h.value.value,b)},l.parameters):l}evaluate(l,h,b,A,R,U){return l.kind==="constant"?l.value:l.evaluate(h,b,A,R,U)}}class Ph extends $n{possiblyEvaluate(l,h,b,A){if(l.value===void 0)return new Il(this,{kind:"constant",value:void 0},h);if(l.expression.kind==="constant"){const R=l.expression.evaluate(h,null,{},b,A),U=l.property.specification.type==="resolvedImage"&&typeof R!="string"?R.name:R,ne=this._calculate(U,U,U,h);return new Il(this,{kind:"constant",value:ne},h)}if(l.expression.kind==="camera"){const R=this._calculate(l.expression.evaluate({zoom:h.zoom-1}),l.expression.evaluate({zoom:h.zoom}),l.expression.evaluate({zoom:h.zoom+1}),h);return new Il(this,{kind:"constant",value:R},h)}return new Il(this,l.expression,h)}evaluate(l,h,b,A,R,U){if(l.kind==="source"){const ne=l.evaluate(h,b,A,R,U);return this._calculate(ne,ne,ne,h)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(h.zoom)-1},b,A),l.evaluate({zoom:Math.floor(h.zoom)},b,A),l.evaluate({zoom:Math.floor(h.zoom)+1},b,A),h):l.value}_calculate(l,h,b,A){return A.zoom>A.zoomHistory.lastIntegerZoom?{from:l,to:h}:{from:b,to:h}}interpolate(l){return l}}class Dh{constructor(l){this.specification=l}possiblyEvaluate(l,h,b,A){if(l.value!==void 0){if(l.expression.kind==="constant"){const R=l.expression.evaluate(h,null,{},b,A);return this._calculate(R,R,R,h)}return this._calculate(l.expression.evaluate(new xr(Math.floor(h.zoom-1),h)),l.expression.evaluate(new xr(Math.floor(h.zoom),h)),l.expression.evaluate(new xr(Math.floor(h.zoom+1),h)),h)}}_calculate(l,h,b,A){return A.zoom>A.zoomHistory.lastIntegerZoom?{from:l,to:h}:{from:b,to:h}}interpolate(l){return l}}class Pg{constructor(l){this.specification=l}possiblyEvaluate(l,h,b,A){return!!l.expression.evaluate(h,null,{},b,A)}interpolate(){return!1}}class ba{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const h in l){const b=l[h];b.specification.overridable&&this.overridableProperties.push(h);const A=this.defaultPropertyValues[h]=new fm(b,void 0),R=this.defaultTransitionablePropertyValues[h]=new gm(b);this.defaultTransitioningPropertyValues[h]=R.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=A.possiblyEvaluate({})}}}bn("DataDrivenProperty",$n),bn("DataConstantProperty",Ln),bn("CrossFadedDataDrivenProperty",Ph),bn("CrossFadedProperty",Dh),bn("ColorRampProperty",Pg);const Su="-transition";class Xs extends ze{constructor(l,h){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),h.layout&&(this._unevaluatedLayout=new b_(h.layout)),h.paint)){this._transitionablePaint=new Ag(h.paint);for(const b in l.paint)this.setPaintProperty(b,l.paint[b],{validate:!1});for(const b in l.layout)this.setLayoutProperty(b,l.layout[b],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ym(h.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,h,b={}){h!=null&&this._validate(g_,`layers.${this.id}.layout.${l}`,l,h,b)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,h):this.visibility=h)}getPaintProperty(l){return l.endsWith(Su)?this._transitionablePaint.getTransition(l.slice(0,-Su.length)):this._transitionablePaint.getValue(l)}setPaintProperty(l,h,b={}){if(h!=null&&this._validate(Tg,`layers.${this.id}.paint.${l}`,l,h,b))return!1;if(l.endsWith(Su))return this._transitionablePaint.setTransition(l.slice(0,-Su.length),h||void 0),!1;{const A=this._transitionablePaint._values[l],R=A.property.specification["property-type"]==="cross-faded-data-driven",U=A.value.isDataDriven(),ne=A.value;this._transitionablePaint.setValue(l,h),this._handleSpecialPaintPropertyUpdate(l);const le=this._transitionablePaint._values[l].value;return le.isDataDriven()||U||R||this._handleOverridablePaintPropertyUpdate(l,ne,le)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,h,b){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,h){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,h)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,h)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),v(l,(h,b)=>!(h===void 0||b==="layout"&&!Object.keys(h).length||b==="paint"&&!Object.keys(h).length))}_validate(l,h,b,A,R={}){return(!R||R.validate!==!1)&&Jv(this,l.call(_u,{key:h,layerType:this.type,objectKey:b,value:A,styleSpec:Me,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const h=this.paint.get(l);if(h instanceof Il&&md(h.property.specification)&&(h.value.kind==="source"||h.value.kind==="composite")&&h.value.isStateDependent)return!0}return!1}}const __={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Mh{constructor(l,h){this._structArray=l,this._pos1=h*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class mr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,h){return l._trim(),h&&(l.isTransferred=!0,h.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const h=Object.create(this.prototype);return h.arrayBuffer=l.arrayBuffer,h.length=l.length,h.capacity=l.arrayBuffer.byteLength/h.bytesPerElement,h._refreshViews(),h}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const h=this.uint8;this._refreshViews(),h&&this.uint8.set(h)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function pa(u,l=1){let h=0,b=0;return{members:u.map(A=>{const R=__[A.type].BYTES_PER_ELEMENT,U=h=sx(h,Math.max(l,R)),ne=A.components||1;return b=Math.max(b,R),h+=R*ne,{name:A.name,type:A.type,components:ne,offset:U}}),size:sx(h,Math.max(b,l)),alignment:l}}function sx(u,l){return Math.ceil(u/l)*l}class xd extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h){const b=this.length;return this.resize(b+1),this.emplace(b,l,h)}emplace(l,h,b){const A=2*l;return this.int16[A+0]=h,this.int16[A+1]=b,l}}xd.prototype.bytesPerElement=4,bn("StructArrayLayout2i4",xd);class Oh extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,A){const R=this.length;return this.resize(R+1),this.emplace(R,l,h,b,A)}emplace(l,h,b,A,R){const U=4*l;return this.int16[U+0]=h,this.int16[U+1]=b,this.int16[U+2]=A,this.int16[U+3]=R,l}}Oh.prototype.bytesPerElement=8,bn("StructArrayLayout4i8",Oh);class I extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,A,R,U){const ne=this.length;return this.resize(ne+1),this.emplace(ne,l,h,b,A,R,U)}emplace(l,h,b,A,R,U,ne){const le=6*l;return this.int16[le+0]=h,this.int16[le+1]=b,this.int16[le+2]=A,this.int16[le+3]=R,this.int16[le+4]=U,this.int16[le+5]=ne,l}}I.prototype.bytesPerElement=12,bn("StructArrayLayout2i4i12",I);class c extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,A,R,U){const ne=this.length;return this.resize(ne+1),this.emplace(ne,l,h,b,A,R,U)}emplace(l,h,b,A,R,U,ne){const le=4*l,ve=8*l;return this.int16[le+0]=h,this.int16[le+1]=b,this.uint8[ve+4]=A,this.uint8[ve+5]=R,this.uint8[ve+6]=U,this.uint8[ve+7]=ne,l}}c.prototype.bytesPerElement=8,bn("StructArrayLayout2i4ub8",c);class f extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h){const b=this.length;return this.resize(b+1),this.emplace(b,l,h)}emplace(l,h,b){const A=2*l;return this.float32[A+0]=h,this.float32[A+1]=b,l}}f.prototype.bytesPerElement=8,bn("StructArrayLayout2f8",f);class C extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b,A,R,U,ne,le,ve,Ie){const Re=this.length;return this.resize(Re+1),this.emplace(Re,l,h,b,A,R,U,ne,le,ve,Ie)}emplace(l,h,b,A,R,U,ne,le,ve,Ie,Re){const Ue=10*l;return this.uint16[Ue+0]=h,this.uint16[Ue+1]=b,this.uint16[Ue+2]=A,this.uint16[Ue+3]=R,this.uint16[Ue+4]=U,this.uint16[Ue+5]=ne,this.uint16[Ue+6]=le,this.uint16[Ue+7]=ve,this.uint16[Ue+8]=Ie,this.uint16[Ue+9]=Re,l}}C.prototype.bytesPerElement=20,bn("StructArrayLayout10ui20",C);class P extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b,A,R,U,ne,le,ve,Ie,Re,Ue){const qe=this.length;return this.resize(qe+1),this.emplace(qe,l,h,b,A,R,U,ne,le,ve,Ie,Re,Ue)}emplace(l,h,b,A,R,U,ne,le,ve,Ie,Re,Ue,qe){const He=12*l;return this.int16[He+0]=h,this.int16[He+1]=b,this.int16[He+2]=A,this.int16[He+3]=R,this.uint16[He+4]=U,this.uint16[He+5]=ne,this.uint16[He+6]=le,this.uint16[He+7]=ve,this.int16[He+8]=Ie,this.int16[He+9]=Re,this.int16[He+10]=Ue,this.int16[He+11]=qe,l}}P.prototype.bytesPerElement=24,bn("StructArrayLayout4i4ui4i24",P);class j extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b){const A=this.length;return this.resize(A+1),this.emplace(A,l,h,b)}emplace(l,h,b,A){const R=3*l;return this.float32[R+0]=h,this.float32[R+1]=b,this.float32[R+2]=A,l}}j.prototype.bytesPerElement=12,bn("StructArrayLayout3f12",j);class te extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.uint32[1*l+0]=h,l}}te.prototype.bytesPerElement=4,bn("StructArrayLayout1ul4",te);class de extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b,A,R,U,ne,le,ve){const Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,l,h,b,A,R,U,ne,le,ve)}emplace(l,h,b,A,R,U,ne,le,ve,Ie){const Re=10*l,Ue=5*l;return this.int16[Re+0]=h,this.int16[Re+1]=b,this.int16[Re+2]=A,this.int16[Re+3]=R,this.int16[Re+4]=U,this.int16[Re+5]=ne,this.uint32[Ue+3]=le,this.uint16[Re+8]=ve,this.uint16[Re+9]=Ie,l}}de.prototype.bytesPerElement=20,bn("StructArrayLayout6i1ul2ui20",de);class fe extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,A,R,U){const ne=this.length;return this.resize(ne+1),this.emplace(ne,l,h,b,A,R,U)}emplace(l,h,b,A,R,U,ne){const le=6*l;return this.int16[le+0]=h,this.int16[le+1]=b,this.int16[le+2]=A,this.int16[le+3]=R,this.int16[le+4]=U,this.int16[le+5]=ne,l}}fe.prototype.bytesPerElement=12,bn("StructArrayLayout2i2i2i12",fe);class Ce extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,A,R){const U=this.length;return this.resize(U+1),this.emplace(U,l,h,b,A,R)}emplace(l,h,b,A,R,U){const ne=4*l,le=8*l;return this.float32[ne+0]=h,this.float32[ne+1]=b,this.float32[ne+2]=A,this.int16[le+6]=R,this.int16[le+7]=U,l}}Ce.prototype.bytesPerElement=16,bn("StructArrayLayout2f1f2i16",Ce);class Pe extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b,A){const R=this.length;return this.resize(R+1),this.emplace(R,l,h,b,A)}emplace(l,h,b,A,R){const U=12*l,ne=3*l;return this.uint8[U+0]=h,this.uint8[U+1]=b,this.float32[ne+1]=A,this.float32[ne+2]=R,l}}Pe.prototype.bytesPerElement=12,bn("StructArrayLayout2ub2f12",Pe);class Fe extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b){const A=this.length;return this.resize(A+1),this.emplace(A,l,h,b)}emplace(l,h,b,A){const R=3*l;return this.uint16[R+0]=h,this.uint16[R+1]=b,this.uint16[R+2]=A,l}}Fe.prototype.bytesPerElement=6,bn("StructArrayLayout3ui6",Fe);class We extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b,A,R,U,ne,le,ve,Ie,Re,Ue,qe,He,ut,lt,_t){const Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,l,h,b,A,R,U,ne,le,ve,Ie,Re,Ue,qe,He,ut,lt,_t)}emplace(l,h,b,A,R,U,ne,le,ve,Ie,Re,Ue,qe,He,ut,lt,_t,Mt){const vt=24*l,At=12*l,Vt=48*l;return this.int16[vt+0]=h,this.int16[vt+1]=b,this.uint16[vt+2]=A,this.uint16[vt+3]=R,this.uint32[At+2]=U,this.uint32[At+3]=ne,this.uint32[At+4]=le,this.uint16[vt+10]=ve,this.uint16[vt+11]=Ie,this.uint16[vt+12]=Re,this.float32[At+7]=Ue,this.float32[At+8]=qe,this.uint8[Vt+36]=He,this.uint8[Vt+37]=ut,this.uint8[Vt+38]=lt,this.uint32[At+10]=_t,this.int16[vt+22]=Mt,l}}We.prototype.bytesPerElement=48,bn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",We);class et extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b,A,R,U,ne,le,ve,Ie,Re,Ue,qe,He,ut,lt,_t,Mt,vt,At,Vt,Yt,wn,Nn,cn,nn,Jt,un){const an=this.length;return this.resize(an+1),this.emplace(an,l,h,b,A,R,U,ne,le,ve,Ie,Re,Ue,qe,He,ut,lt,_t,Mt,vt,At,Vt,Yt,wn,Nn,cn,nn,Jt,un)}emplace(l,h,b,A,R,U,ne,le,ve,Ie,Re,Ue,qe,He,ut,lt,_t,Mt,vt,At,Vt,Yt,wn,Nn,cn,nn,Jt,un,an){const Ht=34*l,Mn=17*l;return this.int16[Ht+0]=h,this.int16[Ht+1]=b,this.int16[Ht+2]=A,this.int16[Ht+3]=R,this.int16[Ht+4]=U,this.int16[Ht+5]=ne,this.int16[Ht+6]=le,this.int16[Ht+7]=ve,this.uint16[Ht+8]=Ie,this.uint16[Ht+9]=Re,this.uint16[Ht+10]=Ue,this.uint16[Ht+11]=qe,this.uint16[Ht+12]=He,this.uint16[Ht+13]=ut,this.uint16[Ht+14]=lt,this.uint16[Ht+15]=_t,this.uint16[Ht+16]=Mt,this.uint16[Ht+17]=vt,this.uint16[Ht+18]=At,this.uint16[Ht+19]=Vt,this.uint16[Ht+20]=Yt,this.uint16[Ht+21]=wn,this.uint16[Ht+22]=Nn,this.uint32[Mn+12]=cn,this.float32[Mn+13]=nn,this.float32[Mn+14]=Jt,this.float32[Mn+15]=un,this.float32[Mn+16]=an,l}}et.prototype.bytesPerElement=68,bn("StructArrayLayout8i15ui1ul4f68",et);class Qe extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.float32[1*l+0]=h,l}}Qe.prototype.bytesPerElement=4,bn("StructArrayLayout1f4",Qe);class Je extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b){const A=this.length;return this.resize(A+1),this.emplace(A,l,h,b)}emplace(l,h,b,A){const R=3*l;return this.int16[R+0]=h,this.int16[R+1]=b,this.int16[R+2]=A,l}}Je.prototype.bytesPerElement=6,bn("StructArrayLayout3i6",Je);class pt extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b){const A=this.length;return this.resize(A+1),this.emplace(A,l,h,b)}emplace(l,h,b,A){const R=4*l;return this.uint32[2*l+0]=h,this.uint16[R+2]=b,this.uint16[R+3]=A,l}}pt.prototype.bytesPerElement=8,bn("StructArrayLayout1ul2ui8",pt);class yt extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h){const b=this.length;return this.resize(b+1),this.emplace(b,l,h)}emplace(l,h,b){const A=2*l;return this.uint16[A+0]=h,this.uint16[A+1]=b,l}}yt.prototype.bytesPerElement=4,bn("StructArrayLayout2ui4",yt);class wt extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.uint16[1*l+0]=h,l}}wt.prototype.bytesPerElement=2,bn("StructArrayLayout1ui2",wt);class at extends mr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b,A){const R=this.length;return this.resize(R+1),this.emplace(R,l,h,b,A)}emplace(l,h,b,A,R){const U=4*l;return this.float32[U+0]=h,this.float32[U+1]=b,this.float32[U+2]=A,this.float32[U+3]=R,l}}at.prototype.bytesPerElement=16,bn("StructArrayLayout4f16",at);class It extends Mh{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new V(this.anchorPointX,this.anchorPointY)}}It.prototype.size=20;class Et extends de{get(l){return new It(this,l)}}bn("CollisionBoxArray",Et);class Bt extends Mh{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Bt.prototype.size=48;class Ut extends We{get(l){return new Bt(this,l)}}bn("PlacedSymbolArray",Ut);class Wt extends Mh{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Wt.prototype.size=68;class zt extends et{get(l){return new Wt(this,l)}}bn("SymbolInstanceArray",zt);class hn extends Qe{getoffsetX(l){return this.float32[1*l+0]}}bn("GlyphOffsetArray",hn);class tn extends Je{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}bn("SymbolLineVertexArray",tn);class mn extends Mh{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}mn.prototype.size=8;class ri extends pt{get(l){return new mn(this,l)}}bn("FeatureIndexArray",ri);class pi extends xd{}class Rn extends xd{}class Zi extends xd{}class Ki extends I{}class ki extends c{}class Li extends f{}class Di extends C{}class mo extends P{}class Al extends j{}class tl extends te{}class nl extends fe{}class Cu extends Pe{}class qa extends Fe{}class il extends yt{}const Eu=pa([{name:"a_pos",components:2,type:"Int16"}],4),{members:vm}=Eu;class Mi{constructor(l=[]){this.segments=l}prepareSegment(l,h,b,A){let R=this.segments[this.segments.length-1];return l>Mi.MAX_VERTEX_ARRAY_LENGTH&&S(`Max vertices per segment is ${Mi.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!R||R.vertexLength+l>Mi.MAX_VERTEX_ARRAY_LENGTH||R.sortKey!==A)&&(R={vertexOffset:h.length,primitiveOffset:b.length,vertexLength:0,primitiveLength:0},A!==void 0&&(R.sortKey=A),this.segments.push(R)),R}get(){return this.segments}destroy(){for(const l of this.segments)for(const h in l.vaos)l.vaos[h].destroy()}static simpleSegment(l,h,b,A){return new Mi([{vertexOffset:l,primitiveOffset:h,vertexLength:b,primitiveLength:A,vaos:{},sortKey:0}])}}function fr(u,l){return 256*(u=g(Math.floor(u),0,255))+g(Math.floor(l),0,255)}Mi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,bn("SegmentVector",Mi);const ji=pa([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ma={exports:{}},Zs={exports:{}};Zs.exports=function(u,l){var h,b,A,R,U,ne,le,ve;for(b=u.length-(h=3&u.length),A=l,U=3432918353,ne=461845907,ve=0;ve<b;)le=255&u.charCodeAt(ve)|(255&u.charCodeAt(++ve))<<8|(255&u.charCodeAt(++ve))<<16|(255&u.charCodeAt(++ve))<<24,++ve,A=27492+(65535&(R=5*(65535&(A=(A^=le=(65535&(le=(le=(65535&le)*U+(((le>>>16)*U&65535)<<16)&4294967295)<<15|le>>>17))*ne+(((le>>>16)*ne&65535)<<16)&4294967295)<<13|A>>>19))+((5*(A>>>16)&65535)<<16)&4294967295))+((58964+(R>>>16)&65535)<<16);switch(le=0,h){case 3:le^=(255&u.charCodeAt(ve+2))<<16;case 2:le^=(255&u.charCodeAt(ve+1))<<8;case 1:A^=le=(65535&(le=(le=(65535&(le^=255&u.charCodeAt(ve)))*U+(((le>>>16)*U&65535)<<16)&4294967295)<<15|le>>>17))*ne+(((le>>>16)*ne&65535)<<16)&4294967295}return A^=u.length,A=2246822507*(65535&(A^=A>>>16))+((2246822507*(A>>>16)&65535)<<16)&4294967295,A=3266489909*(65535&(A^=A>>>13))+((3266489909*(A>>>16)&65535)<<16)&4294967295,(A^=A>>>16)>>>0};var br={exports:{}};br.exports=function(u,l){for(var h,b=u.length,A=l^b,R=0;b>=4;)h=1540483477*(65535&(h=255&u.charCodeAt(R)|(255&u.charCodeAt(++R))<<8|(255&u.charCodeAt(++R))<<16|(255&u.charCodeAt(++R))<<24))+((1540483477*(h>>>16)&65535)<<16),A=1540483477*(65535&A)+((1540483477*(A>>>16)&65535)<<16)^(h=1540483477*(65535&(h^=h>>>24))+((1540483477*(h>>>16)&65535)<<16)),b-=4,++R;switch(b){case 3:A^=(255&u.charCodeAt(R+2))<<16;case 2:A^=(255&u.charCodeAt(R+1))<<8;case 1:A=1540483477*(65535&(A^=255&u.charCodeAt(R)))+((1540483477*(A>>>16)&65535)<<16)}return A=1540483477*(65535&(A^=A>>>13))+((1540483477*(A>>>16)&65535)<<16),(A^=A>>>15)>>>0};var Fo=Zs.exports,bd=br.exports;ma.exports=Fo,ma.exports.murmur3=Fo,ma.exports.murmur2=bd;class _d{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,h,b,A){this.ids.push(xm(l)),this.positions.push(h,b,A)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const h=xm(l);let b=0,A=this.ids.length-1;for(;b<A;){const U=b+A>>1;this.ids[U]>=h?A=U:b=U+1}const R=[];for(;this.ids[b]===h;)R.push({index:this.positions[3*b],start:this.positions[3*b+1],end:this.positions[3*b+2]}),b++;return R}static serialize(l,h){const b=new Float64Array(l.ids),A=new Uint32Array(l.positions);return Dg(b,A,0,b.length-1),h&&h.push(b.buffer,A.buffer),{ids:b,positions:A}}static deserialize(l){const h=new _d;return h.ids=l.ids,h.positions=l.positions,h.indexed=!0,h}}function xm(u){const l=+u;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:ma.exports(String(u))}function Dg(u,l,h,b){for(;h<b;){const A=u[h+b>>1];let R=h-1,U=b+1;for(;;){do R++;while(u[R]<A);do U--;while(u[U]>A);if(R>=U)break;bm(u,R,U),bm(l,3*R,3*U),bm(l,3*R+1,3*U+1),bm(l,3*R+2,3*U+2)}U-h<b-U?(Dg(u,l,h,U),h=U+1):(Dg(u,l,U+1,b),b=U)}}function bm(u,l,h){const b=u[l];u[l]=u[h],u[h]=b}bn("FeaturePositionMap",_d);class rl{constructor(l,h){this.gl=l.gl,this.location=h}}class _m extends rl{constructor(l,h){super(l,h),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class Rh extends rl{constructor(l,h){super(l,h),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class wm extends rl{constructor(l,h){super(l,h),this.current=Be.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const oO=new Float32Array(16);function w_(u){return[fr(255*u.r,255*u.g),fr(255*u.b,255*u.a)]}class Mg{constructor(l,h,b){this.value=l,this.uniformNames=h.map(A=>`u_${A}`),this.type=b}setUniform(l,h,b){l.set(b.constantOr(this.value))}getBinding(l,h,b){return this.type==="color"?new wm(l,h):new _m(l,h)}}class Tm{constructor(l,h){this.uniformNames=h.map(b=>`u_${b}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,h){this.pixelRatioFrom=h.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=h.tlbr,this.patternTo=l.tlbr}setUniform(l,h,b,A){const R=A==="u_pattern_to"?this.patternTo:A==="u_pattern_from"?this.patternFrom:A==="u_pixel_ratio_to"?this.pixelRatioTo:A==="u_pixel_ratio_from"?this.pixelRatioFrom:null;R&&l.set(R)}getBinding(l,h,b){return b.substr(0,9)==="u_pattern"?new Rh(l,h):new _m(l,h)}}class ku{constructor(l,h,b,A){this.expression=l,this.type=b,this.maxValue=0,this.paintVertexAttributes=h.map(R=>({name:`a_${R}`,type:"Float32",components:b==="color"?2:1,offset:0})),this.paintVertexArray=new A}populatePaintArray(l,h,b,A,R){const U=this.paintVertexArray.length,ne=this.expression.evaluate(new xr(0),h,{},A,[],R);this.paintVertexArray.resize(l),this._setPaintValue(U,l,ne)}updatePaintArray(l,h,b,A){const R=this.expression.evaluate({zoom:0},b,A);this._setPaintValue(l,h,R)}_setPaintValue(l,h,b){if(this.type==="color"){const A=w_(b);for(let R=l;R<h;R++)this.paintVertexArray.emplace(R,A[0],A[1])}else{for(let A=l;A<h;A++)this.paintVertexArray.emplace(A,b);this.maxValue=Math.max(this.maxValue,Math.abs(b))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class oc{constructor(l,h,b,A,R,U){this.expression=l,this.uniformNames=h.map(ne=>`u_${ne}_t`),this.type=b,this.useIntegerZoom=A,this.zoom=R,this.maxValue=0,this.paintVertexAttributes=h.map(ne=>({name:`a_${ne}`,type:"Float32",components:b==="color"?4:2,offset:0})),this.paintVertexArray=new U}populatePaintArray(l,h,b,A,R){const U=this.expression.evaluate(new xr(this.zoom),h,{},A,[],R),ne=this.expression.evaluate(new xr(this.zoom+1),h,{},A,[],R),le=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(le,l,U,ne)}updatePaintArray(l,h,b,A){const R=this.expression.evaluate({zoom:this.zoom},b,A),U=this.expression.evaluate({zoom:this.zoom+1},b,A);this._setPaintValue(l,h,R,U)}_setPaintValue(l,h,b,A){if(this.type==="color"){const R=w_(b),U=w_(A);for(let ne=l;ne<h;ne++)this.paintVertexArray.emplace(ne,R[0],R[1],U[0],U[1])}else{for(let R=l;R<h;R++)this.paintVertexArray.emplace(R,b,A);this.maxValue=Math.max(this.maxValue,Math.abs(b),Math.abs(A))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,h){const b=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,A=g(this.expression.interpolationFactor(b,this.zoom,this.zoom+1),0,1);l.set(A)}getBinding(l,h,b){return new _m(l,h)}}class wd{constructor(l,h,b,A,R,U){this.expression=l,this.type=h,this.useIntegerZoom=b,this.zoom=A,this.layerId=U,this.zoomInPaintVertexArray=new R,this.zoomOutPaintVertexArray=new R}populatePaintArray(l,h,b){const A=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(A,l,h.patterns&&h.patterns[this.layerId],b)}updatePaintArray(l,h,b,A,R){this._setPaintValues(l,h,b.patterns&&b.patterns[this.layerId],R)}_setPaintValues(l,h,b,A){if(!A||!b)return;const{min:R,mid:U,max:ne}=b,le=A[R],ve=A[U],Ie=A[ne];if(le&&ve&&Ie)for(let Re=l;Re<h;Re++)this.zoomInPaintVertexArray.emplace(Re,ve.tl[0],ve.tl[1],ve.br[0],ve.br[1],le.tl[0],le.tl[1],le.br[0],le.br[1],ve.pixelRatio,le.pixelRatio),this.zoomOutPaintVertexArray.emplace(Re,ve.tl[0],ve.tl[1],ve.br[0],ve.br[1],Ie.tl[0],Ie.tl[1],Ie.br[0],Ie.br[1],ve.pixelRatio,Ie.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,ji.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,ji.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class QS{constructor(l,h,b){this.binders={},this._buffers=[];const A=[];for(const R in l.paint._values){if(!b(R))continue;const U=l.paint.get(R);if(!(U instanceof Il&&md(U.property.specification)))continue;const ne=lO(R,l.type),le=U.value,ve=U.property.specification.type,Ie=U.property.useIntegerZoom,Re=U.property.specification["property-type"],Ue=Re==="cross-faded"||Re==="cross-faded-data-driven";if(le.kind==="constant")this.binders[R]=Ue?new Tm(le.value,ne):new Mg(le.value,ne,ve),A.push(`/u_${R}`);else if(le.kind==="source"||Ue){const qe=JS(R,ve,"source");this.binders[R]=Ue?new wd(le,ve,Ie,h,qe,l.id):new ku(le,ne,ve,qe),A.push(`/a_${R}`)}else{const qe=JS(R,ve,"composite");this.binders[R]=new oc(le,ne,ve,Ie,h,qe),A.push(`/z_${R}`)}}this.cacheKey=A.sort().join("")}getMaxValue(l){const h=this.binders[l];return h instanceof ku||h instanceof oc?h.maxValue:0}populatePaintArrays(l,h,b,A,R){for(const U in this.binders){const ne=this.binders[U];(ne instanceof ku||ne instanceof oc||ne instanceof wd)&&ne.populatePaintArray(l,h,b,A,R)}}setConstantPatternPositions(l,h){for(const b in this.binders){const A=this.binders[b];A instanceof Tm&&A.setConstantPatternPositions(l,h)}}updatePaintArrays(l,h,b,A,R){let U=!1;for(const ne in l){const le=h.getPositions(ne);for(const ve of le){const Ie=b.feature(ve.index);for(const Re in this.binders){const Ue=this.binders[Re];if((Ue instanceof ku||Ue instanceof oc||Ue instanceof wd)&&Ue.expression.isStateDependent===!0){const qe=A.paint.get(Re);Ue.expression=qe.value,Ue.updatePaintArray(ve.start,ve.end,Ie,l[ne],R),U=!0}}}}return U}defines(){const l=[];for(const h in this.binders){const b=this.binders[h];(b instanceof Mg||b instanceof Tm)&&l.push(...b.uniformNames.map(A=>`#define HAS_UNIFORM_${A}`))}return l}getBinderAttributes(){const l=[];for(const h in this.binders){const b=this.binders[h];if(b instanceof ku||b instanceof oc)for(let A=0;A<b.paintVertexAttributes.length;A++)l.push(b.paintVertexAttributes[A].name);else if(b instanceof wd)for(let A=0;A<ji.members.length;A++)l.push(ji.members[A].name)}return l}getBinderUniforms(){const l=[];for(const h in this.binders){const b=this.binders[h];if(b instanceof Mg||b instanceof Tm||b instanceof oc)for(const A of b.uniformNames)l.push(A)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,h){const b=[];for(const A in this.binders){const R=this.binders[A];if(R instanceof Mg||R instanceof Tm||R instanceof oc){for(const U of R.uniformNames)if(h[U]){const ne=R.getBinding(l,h[U],U);b.push({name:U,property:A,binding:ne})}}}return b}setUniforms(l,h,b,A){for(const{name:R,property:U,binding:ne}of h)this.binders[U].setUniform(ne,A,b.get(U),R)}updatePaintBuffers(l){this._buffers=[];for(const h in this.binders){const b=this.binders[h];if(l&&b instanceof wd){const A=l.fromScale===2?b.zoomInPaintVertexBuffer:b.zoomOutPaintVertexBuffer;A&&this._buffers.push(A)}else(b instanceof ku||b instanceof oc)&&b.paintVertexBuffer&&this._buffers.push(b.paintVertexBuffer)}}upload(l){for(const h in this.binders){const b=this.binders[h];(b instanceof ku||b instanceof oc||b instanceof wd)&&b.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const h=this.binders[l];(h instanceof ku||h instanceof oc||h instanceof wd)&&h.destroy()}}}class $h{constructor(l,h,b=()=>!0){this.programConfigurations={};for(const A of l)this.programConfigurations[A.id]=new QS(A,h,b);this.needsUpload=!1,this._featureMap=new _d,this._bufferOffset=0}populatePaintArrays(l,h,b,A,R,U){for(const ne in this.programConfigurations)this.programConfigurations[ne].populatePaintArrays(l,h,A,R,U);h.id!==void 0&&this._featureMap.add(h.id,b,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,h,b,A){for(const R of b)this.needsUpload=this.programConfigurations[R.id].updatePaintArrays(l,this._featureMap,h,R,A)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const h in this.programConfigurations)this.programConfigurations[h].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function lO(u,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${l}-`,"").replace(/-/g,"_")]}function JS(u,l,h){const b={color:{source:f,composite:at},number:{source:Qe,composite:f}},A=function(R){return{"line-pattern":{source:Di,composite:Di},"fill-pattern":{source:Di,composite:Di},"fill-extrusion-pattern":{source:Di,composite:Di}}[R]}(u);return A&&A[h]||b[l][h]}bn("ConstantBinder",Mg),bn("CrossFadedConstantBinder",Tm),bn("SourceExpressionBinder",ku),bn("CrossFadedCompositeBinder",wd),bn("CompositeExpressionBinder",oc),bn("ProgramConfiguration",QS,{omit:["_buffers"]}),bn("ProgramConfigurationSet",$h);var _a=8192;const T_=Math.pow(2,14)-1,eC=-T_-1;function zh(u){const l=_a/u.extent,h=u.loadGeometry();for(let b=0;b<h.length;b++){const A=h[b];for(let R=0;R<A.length;R++){const U=A[R],ne=Math.round(U.x*l),le=Math.round(U.y*l);U.x=g(ne,eC,T_),U.y=g(le,eC,T_),(ne<U.x||ne>U.x+1||le<U.y||le>U.y+1)&&S("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return h}function Fh(u,l){return{type:u.type,id:u.id,properties:u.properties,geometry:l?zh(u):[]}}function ox(u,l,h,b,A){u.emplaceBack(2*l+(b+1)/2,2*h+(A+1)/2)}class S_{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(h=>h.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Rn,this.indexArray=new qa,this.segments=new Mi,this.programConfigurations=new $h(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(l,h,b){const A=this.layers[0],R=[];let U=null,ne=!1;A.type==="circle"&&(U=A.layout.get("circle-sort-key"),ne=!U.isConstant());for(const{feature:le,id:ve,index:Ie,sourceLayerIndex:Re}of l){const Ue=this.layers[0]._featureFilter.needGeometry,qe=Fh(le,Ue);if(!this.layers[0]._featureFilter.filter(new xr(this.zoom),qe,b))continue;const He=ne?U.evaluate(qe,{},b):void 0,ut={id:ve,properties:le.properties,type:le.type,sourceLayerIndex:Re,index:Ie,geometry:Ue?qe.geometry:zh(le),patterns:{},sortKey:He};R.push(ut)}ne&&R.sort((le,ve)=>le.sortKey-ve.sortKey);for(const le of R){const{geometry:ve,index:Ie,sourceLayerIndex:Re}=le,Ue=l[Ie].feature;this.addFeature(le,ve,Ie,b),h.featureIndex.insert(Ue,ve,Ie,Re,this.index)}}update(l,h,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,vm),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,h,b,A){for(const R of h)for(const U of R){const ne=U.x,le=U.y;if(ne<0||ne>=_a||le<0||le>=_a)continue;const ve=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),Ie=ve.vertexLength;ox(this.layoutVertexArray,ne,le,-1,-1),ox(this.layoutVertexArray,ne,le,1,-1),ox(this.layoutVertexArray,ne,le,1,1),ox(this.layoutVertexArray,ne,le,-1,1),this.indexArray.emplaceBack(Ie,Ie+1,Ie+2),this.indexArray.emplaceBack(Ie,Ie+3,Ie+2),ve.vertexLength+=4,ve.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,b,{},A)}}function tC(u,l){for(let h=0;h<u.length;h++)if(Sm(l,u[h]))return!0;for(let h=0;h<l.length;h++)if(Sm(u,l[h]))return!0;return!!C_(u,l)}function cO(u,l,h){return!!Sm(u,l)||!!E_(l,u,h)}function nC(u,l){if(u.length===1)return rC(l,u[0]);for(let h=0;h<l.length;h++){const b=l[h];for(let A=0;A<b.length;A++)if(Sm(u,b[A]))return!0}for(let h=0;h<u.length;h++)if(rC(l,u[h]))return!0;for(let h=0;h<l.length;h++)if(C_(u,l[h]))return!0;return!1}function uO(u,l,h){if(u.length>1){if(C_(u,l))return!0;for(let b=0;b<l.length;b++)if(E_(l[b],u,h))return!0}for(let b=0;b<u.length;b++)if(E_(u[b],l,h))return!0;return!1}function C_(u,l){if(u.length===0||l.length===0)return!1;for(let h=0;h<u.length-1;h++){const b=u[h],A=u[h+1];for(let R=0;R<l.length-1;R++)if(dO(b,A,l[R],l[R+1]))return!0}return!1}function dO(u,l,h,b){return L(u,h,b)!==L(l,h,b)&&L(u,l,h)!==L(u,l,b)}function E_(u,l,h){const b=h*h;if(l.length===1)return u.distSqr(l[0])<b;for(let A=1;A<l.length;A++)if(iC(u,l[A-1],l[A])<b)return!0;return!1}function iC(u,l,h){const b=l.distSqr(h);if(b===0)return u.distSqr(l);const A=((u.x-l.x)*(h.x-l.x)+(u.y-l.y)*(h.y-l.y))/b;return u.distSqr(A<0?l:A>1?h:h.sub(l)._mult(A)._add(l))}function rC(u,l){let h,b,A,R=!1;for(let U=0;U<u.length;U++){h=u[U];for(let ne=0,le=h.length-1;ne<h.length;le=ne++)b=h[ne],A=h[le],b.y>l.y!=A.y>l.y&&l.x<(A.x-b.x)*(l.y-b.y)/(A.y-b.y)+b.x&&(R=!R)}return R}function Sm(u,l){let h=!1;for(let b=0,A=u.length-1;b<u.length;A=b++){const R=u[b],U=u[A];R.y>l.y!=U.y>l.y&&l.x<(U.x-R.x)*(l.y-R.y)/(U.y-R.y)+R.x&&(h=!h)}return h}function hO(u,l,h){const b=h[0],A=h[2];if(u.x<b.x&&l.x<b.x||u.x>A.x&&l.x>A.x||u.y<b.y&&l.y<b.y||u.y>A.y&&l.y>A.y)return!1;const R=L(u,l,h[0]);return R!==L(u,l,h[1])||R!==L(u,l,h[2])||R!==L(u,l,h[3])}function Og(u,l,h){const b=l.paint.get(u).value;return b.kind==="constant"?b.value:h.programConfigurations.get(l.id).getMaxValue(u)}function lx(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function cx(u,l,h,b,A){if(!l[0]&&!l[1])return u;const R=V.convert(l)._mult(A);h==="viewport"&&R._rotate(-b);const U=[];for(let ne=0;ne<u.length;ne++)U.push(u[ne].sub(R));return U}bn("CircleBucket",S_,{omit:["layers"]});const pO=new ba({"circle-sort-key":new $n(Me.layout_circle["circle-sort-key"])});var mO={paint:new ba({"circle-radius":new $n(Me.paint_circle["circle-radius"]),"circle-color":new $n(Me.paint_circle["circle-color"]),"circle-blur":new $n(Me.paint_circle["circle-blur"]),"circle-opacity":new $n(Me.paint_circle["circle-opacity"]),"circle-translate":new Ln(Me.paint_circle["circle-translate"]),"circle-translate-anchor":new Ln(Me.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ln(Me.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ln(Me.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new $n(Me.paint_circle["circle-stroke-width"]),"circle-stroke-color":new $n(Me.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new $n(Me.paint_circle["circle-stroke-opacity"])}),layout:pO},Ks=1e-6,Qs=typeof Float32Array<"u"?Float32Array:Array;function aC(){var u=new Qs(9);return Qs!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[5]=0,u[6]=0,u[7]=0),u[0]=1,u[4]=1,u[8]=1,u}function k_(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function sC(u,l,h){var b=l[0],A=l[1],R=l[2],U=l[3],ne=l[4],le=l[5],ve=l[6],Ie=l[7],Re=l[8],Ue=l[9],qe=l[10],He=l[11],ut=l[12],lt=l[13],_t=l[14],Mt=l[15],vt=h[0],At=h[1],Vt=h[2],Yt=h[3];return u[0]=vt*b+At*ne+Vt*Re+Yt*ut,u[1]=vt*A+At*le+Vt*Ue+Yt*lt,u[2]=vt*R+At*ve+Vt*qe+Yt*_t,u[3]=vt*U+At*Ie+Vt*He+Yt*Mt,u[4]=(vt=h[4])*b+(At=h[5])*ne+(Vt=h[6])*Re+(Yt=h[7])*ut,u[5]=vt*A+At*le+Vt*Ue+Yt*lt,u[6]=vt*R+At*ve+Vt*qe+Yt*_t,u[7]=vt*U+At*Ie+Vt*He+Yt*Mt,u[8]=(vt=h[8])*b+(At=h[9])*ne+(Vt=h[10])*Re+(Yt=h[11])*ut,u[9]=vt*A+At*le+Vt*Ue+Yt*lt,u[10]=vt*R+At*ve+Vt*qe+Yt*_t,u[11]=vt*U+At*Ie+Vt*He+Yt*Mt,u[12]=(vt=h[12])*b+(At=h[13])*ne+(Vt=h[14])*Re+(Yt=h[15])*ut,u[13]=vt*A+At*le+Vt*Ue+Yt*lt,u[14]=vt*R+At*ve+Vt*qe+Yt*_t,u[15]=vt*U+At*Ie+Vt*He+Yt*Mt,u}Math.hypot||(Math.hypot=function(){for(var u=0,l=arguments.length;l--;)u+=arguments[l]*arguments[l];return Math.sqrt(u)});var Rg,fO=sC;function oC(){var u=new Qs(3);return Qs!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u}function lC(u,l,h){var b=new Qs(3);return b[0]=u,b[1]=l,b[2]=h,b}function ux(u,l,h){var b=l[0],A=l[1],R=l[2],U=l[3];return u[0]=h[0]*b+h[4]*A+h[8]*R+h[12]*U,u[1]=h[1]*b+h[5]*A+h[9]*R+h[13]*U,u[2]=h[2]*b+h[6]*A+h[10]*R+h[14]*U,u[3]=h[3]*b+h[7]*A+h[11]*R+h[15]*U,u}function cC(){var u=new Qs(4);return Qs!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u[3]=1,u}function uC(u,l){const h=ux([],[u.x,u.y,0,1],l);return new V(h[0]/h[3],h[1]/h[3])}oC(),Rg=new Qs(4),Qs!=Float32Array&&(Rg[0]=0,Rg[1]=0,Rg[2]=0,Rg[3]=0),oC(),lC(1,0,0),lC(0,1,0),cC(),cC(),aC(),function(){var u;u=new Qs(2),Qs!=Float32Array&&(u[0]=0,u[1]=0)}();class dC extends S_{}bn("HeatmapBucket",dC,{omit:["layers"]});var gO={paint:new ba({"heatmap-radius":new $n(Me.paint_heatmap["heatmap-radius"]),"heatmap-weight":new $n(Me.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ln(Me.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Pg(Me.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ln(Me.paint_heatmap["heatmap-opacity"])})};function N_(u,{width:l,height:h},b,A){if(A){if(A instanceof Uint8ClampedArray)A=new Uint8Array(A.buffer);else if(A.length!==l*h*b)throw new RangeError(`mismatched image size. expected: ${A.length} but got: ${l*h*b}`)}else A=new Uint8Array(l*h*b);return u.width=l,u.height=h,u.data=A,u}function hC(u,{width:l,height:h},b){if(l===u.width&&h===u.height)return;const A=N_({},{width:l,height:h},b);L_(u,A,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,l),height:Math.min(u.height,h)},b),u.width=l,u.height=h,u.data=A.data}function L_(u,l,h,b,A,R){if(A.width===0||A.height===0)return l;if(A.width>u.width||A.height>u.height||h.x>u.width-A.width||h.y>u.height-A.height)throw new RangeError("out of range source coordinates for image copy");if(A.width>l.width||A.height>l.height||b.x>l.width-A.width||b.y>l.height-A.height)throw new RangeError("out of range destination coordinates for image copy");const U=u.data,ne=l.data;if(U===ne)throw new Error("srcData equals dstData, so image is already copied");for(let le=0;le<A.height;le++){const ve=((h.y+le)*u.width+h.x)*R,Ie=((b.y+le)*l.width+b.x)*R;for(let Re=0;Re<A.width*R;Re++)ne[Ie+Re]=U[ve+Re]}return l}class $g{constructor(l,h){N_(this,l,1,h)}resize(l){hC(this,l,1)}clone(){return new $g({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,h,b,A,R){L_(l,h,b,A,R,1)}}class al{constructor(l,h){N_(this,l,4,h)}resize(l){hC(this,l,4)}replace(l,h){h?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new al({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,h,b,A,R){L_(l,h,b,A,R,4)}}function pC(u){const l={},h=u.resolution||256,b=u.clips?u.clips.length:1,A=u.image||new al({width:h,height:b});if(Math.log(h)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${h}`);const R=(U,ne,le)=>{l[u.evaluationKey]=le;const ve=u.expression.evaluate(l);A.data[U+ne+0]=Math.floor(255*ve.r/ve.a),A.data[U+ne+1]=Math.floor(255*ve.g/ve.a),A.data[U+ne+2]=Math.floor(255*ve.b/ve.a),A.data[U+ne+3]=Math.floor(255*ve.a)};if(u.clips)for(let U=0,ne=0;U<b;++U,ne+=4*h)for(let le=0,ve=0;le<h;le++,ve+=4){const Ie=le/(h-1),{start:Re,end:Ue}=u.clips[U];R(ne,ve,Re*(1-Ie)+Ue*Ie)}else for(let U=0,ne=0;U<h;U++,ne+=4)R(0,ne,U/(h-1));return A}bn("AlphaImage",$g),bn("RGBAImage",al);var yO={paint:new ba({"hillshade-illumination-direction":new Ln(Me.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ln(Me.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ln(Me.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ln(Me.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ln(Me.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ln(Me.paint_hillshade["hillshade-accent-color"])})};const vO=pa([{name:"a_pos",components:2,type:"Int16"}],4),{members:xO}=vO;var dx={exports:{}};function hx(u,l,h){h=h||2;var b,A,R,U,ne,le,ve,Ie=l&&l.length,Re=Ie?l[0]*h:u.length,Ue=mC(u,0,Re,h,!0),qe=[];if(!Ue||Ue.next===Ue.prev)return qe;if(Ie&&(Ue=function(ut,lt,_t,Mt){var vt,At,Vt,Yt=[];for(vt=0,At=lt.length;vt<At;vt++)(Vt=mC(ut,lt[vt]*Mt,vt<At-1?lt[vt+1]*Mt:ut.length,Mt,!1))===Vt.next&&(Vt.steiner=!0),Yt.push(kO(Vt));for(Yt.sort(SO),vt=0;vt<Yt.length;vt++)_t=CO(Yt[vt],_t);return _t}(u,l,Ue,h)),u.length>80*h){b=R=u[0],A=U=u[1];for(var He=h;He<Re;He+=h)(ne=u[He])<b&&(b=ne),(le=u[He+1])<A&&(A=le),ne>R&&(R=ne),le>U&&(U=le);ve=(ve=Math.max(R-b,U-A))!==0?32767/ve:0}return zg(Ue,qe,h,b,A,ve,0),qe}function mC(u,l,h,b,A){var R,U;if(A===P_(u,l,h,b)>0)for(R=l;R<h;R+=b)U=yC(R,u[R],u[R+1],U);else for(R=h-b;R>=l;R-=b)U=yC(R,u[R],u[R+1],U);return U&&px(U,U.next)&&(jg(U),U=U.next),U}function jh(u,l){if(!u)return u;l||(l=u);var h,b=u;do if(h=!1,b.steiner||!px(b,b.next)&&ia(b.prev,b,b.next)!==0)b=b.next;else{if(jg(b),(b=l=b.prev)===b.next)break;h=!0}while(h||b!==l);return l}function zg(u,l,h,b,A,R,U){if(u){!U&&R&&function(Ie,Re,Ue,qe){var He=Ie;do He.z===0&&(He.z=I_(He.x,He.y,Re,Ue,qe)),He.prevZ=He.prev,He.nextZ=He.next,He=He.next;while(He!==Ie);He.prevZ.nextZ=null,He.prevZ=null,function(ut){var lt,_t,Mt,vt,At,Vt,Yt,wn,Nn=1;do{for(_t=ut,ut=null,At=null,Vt=0;_t;){for(Vt++,Mt=_t,Yt=0,lt=0;lt<Nn&&(Yt++,Mt=Mt.nextZ);lt++);for(wn=Nn;Yt>0||wn>0&&Mt;)Yt!==0&&(wn===0||!Mt||_t.z<=Mt.z)?(vt=_t,_t=_t.nextZ,Yt--):(vt=Mt,Mt=Mt.nextZ,wn--),At?At.nextZ=vt:ut=vt,vt.prevZ=At,At=vt;_t=Mt}At.nextZ=null,Nn*=2}while(Vt>1)}(He)}(u,b,A,R);for(var ne,le,ve=u;u.prev!==u.next;)if(ne=u.prev,le=u.next,R?_O(u,b,A,R):bO(u))l.push(ne.i/h|0),l.push(u.i/h|0),l.push(le.i/h|0),jg(u),u=le.next,ve=le.next;else if((u=le)===ve){U?U===1?zg(u=wO(jh(u),l,h),l,h,b,A,R,2):U===2&&TO(u,l,h,b,A,R):zg(jh(u),l,h,b,A,R,1);break}}}function bO(u){var l=u.prev,h=u,b=u.next;if(ia(l,h,b)>=0)return!1;for(var A=l.x,R=h.x,U=b.x,ne=l.y,le=h.y,ve=b.y,Ie=A<R?A<U?A:U:R<U?R:U,Re=ne<le?ne<ve?ne:ve:le<ve?le:ve,Ue=A>R?A>U?A:U:R>U?R:U,qe=ne>le?ne>ve?ne:ve:le>ve?le:ve,He=b.next;He!==l;){if(He.x>=Ie&&He.x<=Ue&&He.y>=Re&&He.y<=qe&&Cm(A,ne,R,le,U,ve,He.x,He.y)&&ia(He.prev,He,He.next)>=0)return!1;He=He.next}return!0}function _O(u,l,h,b){var A=u.prev,R=u,U=u.next;if(ia(A,R,U)>=0)return!1;for(var ne=A.x,le=R.x,ve=U.x,Ie=A.y,Re=R.y,Ue=U.y,qe=ne<le?ne<ve?ne:ve:le<ve?le:ve,He=Ie<Re?Ie<Ue?Ie:Ue:Re<Ue?Re:Ue,ut=ne>le?ne>ve?ne:ve:le>ve?le:ve,lt=Ie>Re?Ie>Ue?Ie:Ue:Re>Ue?Re:Ue,_t=I_(qe,He,l,h,b),Mt=I_(ut,lt,l,h,b),vt=u.prevZ,At=u.nextZ;vt&&vt.z>=_t&&At&&At.z<=Mt;){if(vt.x>=qe&&vt.x<=ut&&vt.y>=He&&vt.y<=lt&&vt!==A&&vt!==U&&Cm(ne,Ie,le,Re,ve,Ue,vt.x,vt.y)&&ia(vt.prev,vt,vt.next)>=0||(vt=vt.prevZ,At.x>=qe&&At.x<=ut&&At.y>=He&&At.y<=lt&&At!==A&&At!==U&&Cm(ne,Ie,le,Re,ve,Ue,At.x,At.y)&&ia(At.prev,At,At.next)>=0))return!1;At=At.nextZ}for(;vt&&vt.z>=_t;){if(vt.x>=qe&&vt.x<=ut&&vt.y>=He&&vt.y<=lt&&vt!==A&&vt!==U&&Cm(ne,Ie,le,Re,ve,Ue,vt.x,vt.y)&&ia(vt.prev,vt,vt.next)>=0)return!1;vt=vt.prevZ}for(;At&&At.z<=Mt;){if(At.x>=qe&&At.x<=ut&&At.y>=He&&At.y<=lt&&At!==A&&At!==U&&Cm(ne,Ie,le,Re,ve,Ue,At.x,At.y)&&ia(At.prev,At,At.next)>=0)return!1;At=At.nextZ}return!0}function wO(u,l,h){var b=u;do{var A=b.prev,R=b.next.next;!px(A,R)&&fC(A,b,b.next,R)&&Fg(A,R)&&Fg(R,A)&&(l.push(A.i/h|0),l.push(b.i/h|0),l.push(R.i/h|0),jg(b),jg(b.next),b=u=R),b=b.next}while(b!==u);return jh(b)}function TO(u,l,h,b,A,R){var U=u;do{for(var ne=U.next.next;ne!==U.prev;){if(U.i!==ne.i&&NO(U,ne)){var le=gC(U,ne);return U=jh(U,U.next),le=jh(le,le.next),zg(U,l,h,b,A,R,0),void zg(le,l,h,b,A,R,0)}ne=ne.next}U=U.next}while(U!==u)}function SO(u,l){return u.x-l.x}function CO(u,l){var h=function(A,R){var U,ne=R,le=A.x,ve=A.y,Ie=-1/0;do{if(ve<=ne.y&&ve>=ne.next.y&&ne.next.y!==ne.y){var Re=ne.x+(ve-ne.y)*(ne.next.x-ne.x)/(ne.next.y-ne.y);if(Re<=le&&Re>Ie&&(Ie=Re,U=ne.x<ne.next.x?ne:ne.next,Re===le))return U}ne=ne.next}while(ne!==R);if(!U)return null;var Ue,qe=U,He=U.x,ut=U.y,lt=1/0;ne=U;do le>=ne.x&&ne.x>=He&&le!==ne.x&&Cm(ve<ut?le:Ie,ve,He,ut,ve<ut?Ie:le,ve,ne.x,ne.y)&&(Ue=Math.abs(ve-ne.y)/(le-ne.x),Fg(ne,A)&&(Ue<lt||Ue===lt&&(ne.x>U.x||ne.x===U.x&&EO(U,ne)))&&(U=ne,lt=Ue)),ne=ne.next;while(ne!==qe);return U}(u,l);if(!h)return l;var b=gC(h,u);return jh(b,b.next),jh(h,h.next)}function EO(u,l){return ia(u.prev,u,l.prev)<0&&ia(l.next,u,u.next)<0}function I_(u,l,h,b,A){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-h)*A|0)|u<<8))|u<<4))|u<<2))|u<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-b)*A|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function kO(u){var l=u,h=u;do(l.x<h.x||l.x===h.x&&l.y<h.y)&&(h=l),l=l.next;while(l!==u);return h}function Cm(u,l,h,b,A,R,U,ne){return(A-U)*(l-ne)>=(u-U)*(R-ne)&&(u-U)*(b-ne)>=(h-U)*(l-ne)&&(h-U)*(R-ne)>=(A-U)*(b-ne)}function NO(u,l){return u.next.i!==l.i&&u.prev.i!==l.i&&!function(h,b){var A=h;do{if(A.i!==h.i&&A.next.i!==h.i&&A.i!==b.i&&A.next.i!==b.i&&fC(A,A.next,h,b))return!0;A=A.next}while(A!==h);return!1}(u,l)&&(Fg(u,l)&&Fg(l,u)&&function(h,b){var A=h,R=!1,U=(h.x+b.x)/2,ne=(h.y+b.y)/2;do A.y>ne!=A.next.y>ne&&A.next.y!==A.y&&U<(A.next.x-A.x)*(ne-A.y)/(A.next.y-A.y)+A.x&&(R=!R),A=A.next;while(A!==h);return R}(u,l)&&(ia(u.prev,u,l.prev)||ia(u,l.prev,l))||px(u,l)&&ia(u.prev,u,u.next)>0&&ia(l.prev,l,l.next)>0)}function ia(u,l,h){return(l.y-u.y)*(h.x-l.x)-(l.x-u.x)*(h.y-l.y)}function px(u,l){return u.x===l.x&&u.y===l.y}function fC(u,l,h,b){var A=fx(ia(u,l,h)),R=fx(ia(u,l,b)),U=fx(ia(h,b,u)),ne=fx(ia(h,b,l));return A!==R&&U!==ne||!(A!==0||!mx(u,h,l))||!(R!==0||!mx(u,b,l))||!(U!==0||!mx(h,u,b))||!(ne!==0||!mx(h,l,b))}function mx(u,l,h){return l.x<=Math.max(u.x,h.x)&&l.x>=Math.min(u.x,h.x)&&l.y<=Math.max(u.y,h.y)&&l.y>=Math.min(u.y,h.y)}function fx(u){return u>0?1:u<0?-1:0}function Fg(u,l){return ia(u.prev,u,u.next)<0?ia(u,l,u.next)>=0&&ia(u,u.prev,l)>=0:ia(u,l,u.prev)<0||ia(u,u.next,l)<0}function gC(u,l){var h=new A_(u.i,u.x,u.y),b=new A_(l.i,l.x,l.y),A=u.next,R=l.prev;return u.next=l,l.prev=u,h.next=A,A.prev=h,b.next=h,h.prev=b,R.next=b,b.prev=R,b}function yC(u,l,h,b){var A=new A_(u,l,h);return b?(A.next=b.next,A.prev=b,b.next.prev=A,b.next=A):(A.prev=A,A.next=A),A}function jg(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function A_(u,l,h){this.i=u,this.x=l,this.y=h,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P_(u,l,h,b){for(var A=0,R=l,U=h-b;R<h;R+=b)A+=(u[U]-u[R])*(u[R+1]+u[U+1]),U=R;return A}function LO(u,l,h,b,A){vC(u,l,h,b||u.length-1,A)}function vC(u,l,h,b,A){for(;b>h;){if(b-h>600){var R=b-h+1,U=l-h+1,ne=Math.log(R),le=.5*Math.exp(2*ne/3),ve=.5*Math.sqrt(ne*le*(R-le)/R)*(U-R/2<0?-1:1);vC(u,l,Math.max(h,Math.floor(l-U*le/R+ve)),Math.min(b,Math.floor(l+(R-U)*le/R+ve)),A)}var Ie=u[l],Re=h,Ue=b;for(Bg(u,h,l),A(u[b],Ie)>0&&Bg(u,h,b);Re<Ue;){for(Bg(u,Re,Ue),Re++,Ue--;A(u[Re],Ie)<0;)Re++;for(;A(u[Ue],Ie)>0;)Ue--}A(u[h],Ie)===0?Bg(u,h,Ue):Bg(u,++Ue,b),Ue<=l&&(h=Ue+1),l<=Ue&&(b=Ue-1)}}function Bg(u,l,h){var b=u[l];u[l]=u[h],u[h]=b}function D_(u,l){const h=u.length;if(h<=1)return[u];const b=[];let A,R;for(let U=0;U<h;U++){const ne=O(u[U]);ne!==0&&(u[U].area=Math.abs(ne),R===void 0&&(R=ne<0),R===ne<0?(A&&b.push(A),A=[u[U]]):A.push(u[U]))}if(A&&b.push(A),l>1)for(let U=0;U<b.length;U++)b[U].length<=l||(LO(b[U],l,1,b[U].length-1,IO),b[U]=b[U].slice(0,l));return b}function IO(u,l){return l.area-u.area}function M_(u,l,h){const b=h.patternDependencies;let A=!1;for(const R of l){const U=R.paint.get(`${u}-pattern`);U.isConstant()||(A=!0);const ne=U.constantOr(null);ne&&(A=!0,b[ne.to]=!0,b[ne.from]=!0)}return A}function O_(u,l,h,b,A){const R=A.patternDependencies;for(const U of l){const ne=U.paint.get(`${u}-pattern`).value;if(ne.kind!=="constant"){let le=ne.evaluate({zoom:b-1},h,{},A.availableImages),ve=ne.evaluate({zoom:b},h,{},A.availableImages),Ie=ne.evaluate({zoom:b+1},h,{},A.availableImages);le=le&&le.name?le.name:le,ve=ve&&ve.name?ve.name:ve,Ie=Ie&&Ie.name?Ie.name:Ie,R[le]=!0,R[ve]=!0,R[Ie]=!0,h.patterns[U.id]={min:le,mid:ve,max:Ie}}}return h}dx.exports=hx,dx.exports.default=hx,hx.deviation=function(u,l,h,b){var A=l&&l.length,R=Math.abs(P_(u,0,A?l[0]*h:u.length,h));if(A)for(var U=0,ne=l.length;U<ne;U++)R-=Math.abs(P_(u,l[U]*h,U<ne-1?l[U+1]*h:u.length,h));var le=0;for(U=0;U<b.length;U+=3){var ve=b[U]*h,Ie=b[U+1]*h,Re=b[U+2]*h;le+=Math.abs((u[ve]-u[Re])*(u[Ie+1]-u[ve+1])-(u[ve]-u[Ie])*(u[Re+1]-u[ve+1]))}return R===0&&le===0?0:Math.abs((le-R)/R)},hx.flatten=function(u){for(var l=u[0][0].length,h={vertices:[],holes:[],dimensions:l},b=0,A=0;A<u.length;A++){for(var R=0;R<u[A].length;R++)for(var U=0;U<l;U++)h.vertices.push(u[A][R][U]);A>0&&h.holes.push(b+=u[A-1].length)}return h};class R_{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(h=>h.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Zi,this.indexArray=new qa,this.indexArray2=new il,this.programConfigurations=new $h(l.layers,l.zoom),this.segments=new Mi,this.segments2=new Mi,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(l,h,b){this.hasPattern=M_("fill",this.layers,h);const A=this.layers[0].layout.get("fill-sort-key"),R=!A.isConstant(),U=[];for(const{feature:ne,id:le,index:ve,sourceLayerIndex:Ie}of l){const Re=this.layers[0]._featureFilter.needGeometry,Ue=Fh(ne,Re);if(!this.layers[0]._featureFilter.filter(new xr(this.zoom),Ue,b))continue;const qe=R?A.evaluate(Ue,{},b,h.availableImages):void 0,He={id:le,properties:ne.properties,type:ne.type,sourceLayerIndex:Ie,index:ve,geometry:Re?Ue.geometry:zh(ne),patterns:{},sortKey:qe};U.push(He)}R&&U.sort((ne,le)=>ne.sortKey-le.sortKey);for(const ne of U){const{geometry:le,index:ve,sourceLayerIndex:Ie}=ne;if(this.hasPattern){const Re=O_("fill",this.layers,ne,this.zoom,h);this.patternFeatures.push(Re)}else this.addFeature(ne,le,ve,b,{});h.featureIndex.insert(l[ve].feature,le,ve,Ie,this.index)}}update(l,h,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,b)}addFeatures(l,h,b){for(const A of this.patternFeatures)this.addFeature(A,A.geometry,A.index,h,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,xO),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,h,b,A,R){for(const U of D_(h,500)){let ne=0;for(const qe of U)ne+=qe.length;const le=this.segments.prepareSegment(ne,this.layoutVertexArray,this.indexArray),ve=le.vertexLength,Ie=[],Re=[];for(const qe of U){if(qe.length===0)continue;qe!==U[0]&&Re.push(Ie.length/2);const He=this.segments2.prepareSegment(qe.length,this.layoutVertexArray,this.indexArray2),ut=He.vertexLength;this.layoutVertexArray.emplaceBack(qe[0].x,qe[0].y),this.indexArray2.emplaceBack(ut+qe.length-1,ut),Ie.push(qe[0].x),Ie.push(qe[0].y);for(let lt=1;lt<qe.length;lt++)this.layoutVertexArray.emplaceBack(qe[lt].x,qe[lt].y),this.indexArray2.emplaceBack(ut+lt-1,ut+lt),Ie.push(qe[lt].x),Ie.push(qe[lt].y);He.vertexLength+=qe.length,He.primitiveLength+=qe.length}const Ue=dx.exports(Ie,Re);for(let qe=0;qe<Ue.length;qe+=3)this.indexArray.emplaceBack(ve+Ue[qe],ve+Ue[qe+1],ve+Ue[qe+2]);le.vertexLength+=ne,le.primitiveLength+=Ue.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,b,R,A)}}bn("FillBucket",R_,{omit:["layers","patternFeatures"]});const AO=new ba({"fill-sort-key":new $n(Me.layout_fill["fill-sort-key"])});var PO={paint:new ba({"fill-antialias":new Ln(Me.paint_fill["fill-antialias"]),"fill-opacity":new $n(Me.paint_fill["fill-opacity"]),"fill-color":new $n(Me.paint_fill["fill-color"]),"fill-outline-color":new $n(Me.paint_fill["fill-outline-color"]),"fill-translate":new Ln(Me.paint_fill["fill-translate"]),"fill-translate-anchor":new Ln(Me.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ph(Me.paint_fill["fill-pattern"])}),layout:AO};const DO=pa([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),MO=pa([{name:"a_centroid",components:2,type:"Int16"}],4),{members:OO}=DO;var Td={},RO=V,xC=Em;function Em(u,l,h,b,A){this.properties={},this.extent=h,this.type=0,this._pbf=u,this._geometry=-1,this._keys=b,this._values=A,u.readFields($O,this,l)}function $O(u,l,h){u==1?l.id=h.readVarint():u==2?function(b,A){for(var R=b.readVarint()+b.pos;b.pos<R;){var U=A._keys[b.readVarint()],ne=A._values[b.readVarint()];A.properties[U]=ne}}(h,l):u==3?l.type=h.readVarint():u==4&&(l._geometry=h.pos)}function zO(u){for(var l,h,b=0,A=0,R=u.length,U=R-1;A<R;U=A++)b+=((h=u[U]).x-(l=u[A]).x)*(l.y+h.y);return b}Em.types=["Unknown","Point","LineString","Polygon"],Em.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var l,h=u.readVarint()+u.pos,b=1,A=0,R=0,U=0,ne=[];u.pos<h;){if(A<=0){var le=u.readVarint();b=7&le,A=le>>3}if(A--,b===1||b===2)R+=u.readSVarint(),U+=u.readSVarint(),b===1&&(l&&ne.push(l),l=[]),l.push(new RO(R,U));else{if(b!==7)throw new Error("unknown command "+b);l&&l.push(l[0].clone())}}return l&&ne.push(l),ne},Em.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var l=u.readVarint()+u.pos,h=1,b=0,A=0,R=0,U=1/0,ne=-1/0,le=1/0,ve=-1/0;u.pos<l;){if(b<=0){var Ie=u.readVarint();h=7&Ie,b=Ie>>3}if(b--,h===1||h===2)(A+=u.readSVarint())<U&&(U=A),A>ne&&(ne=A),(R+=u.readSVarint())<le&&(le=R),R>ve&&(ve=R);else if(h!==7)throw new Error("unknown command "+h)}return[U,le,ne,ve]},Em.prototype.toGeoJSON=function(u,l,h){var b,A,R=this.extent*Math.pow(2,h),U=this.extent*u,ne=this.extent*l,le=this.loadGeometry(),ve=Em.types[this.type];function Ie(qe){for(var He=0;He<qe.length;He++){var ut=qe[He];qe[He]=[360*(ut.x+U)/R-180,360/Math.PI*Math.atan(Math.exp((180-360*(ut.y+ne)/R)*Math.PI/180))-90]}}switch(this.type){case 1:var Re=[];for(b=0;b<le.length;b++)Re[b]=le[b][0];Ie(le=Re);break;case 2:for(b=0;b<le.length;b++)Ie(le[b]);break;case 3:for(le=function(qe){var He=qe.length;if(He<=1)return[qe];for(var ut,lt,_t=[],Mt=0;Mt<He;Mt++){var vt=zO(qe[Mt]);vt!==0&&(lt===void 0&&(lt=vt<0),lt===vt<0?(ut&&_t.push(ut),ut=[qe[Mt]]):ut.push(qe[Mt]))}return ut&&_t.push(ut),_t}(le),b=0;b<le.length;b++)for(A=0;A<le[b].length;A++)Ie(le[b][A])}le.length===1?le=le[0]:ve="Multi"+ve;var Ue={type:"Feature",geometry:{type:ve,coordinates:le},properties:this.properties};return"id"in this&&(Ue.id=this.id),Ue};var FO=xC,bC=_C;function _C(u,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(jO,this,l),this.length=this._features.length}function jO(u,l,h){u===15?l.version=h.readVarint():u===1?l.name=h.readString():u===5?l.extent=h.readVarint():u===2?l._features.push(h.pos):u===3?l._keys.push(h.readString()):u===4&&l._values.push(function(b){for(var A=null,R=b.readVarint()+b.pos;b.pos<R;){var U=b.readVarint()>>3;A=U===1?b.readString():U===2?b.readFloat():U===3?b.readDouble():U===4?b.readVarint64():U===5?b.readVarint():U===6?b.readSVarint():U===7?b.readBoolean():null}return A}(h))}_C.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var l=this._pbf.readVarint()+this._pbf.pos;return new FO(this._pbf,l,this.extent,this._keys,this._values)};var BO=bC;function UO(u,l,h){if(u===3){var b=new BO(h,h.readVarint()+h.pos);b.length&&(l[b.name]=b)}}Td.VectorTile=function(u,l){this.layers=u.readFields(UO,{},l)},Td.VectorTileFeature=xC,Td.VectorTileLayer=bC;const GO=Td.VectorTileFeature.types,$_=Math.pow(2,13);function Ug(u,l,h,b,A,R,U,ne){u.emplaceBack(l,h,2*Math.floor(b*$_)+U,A*$_*2,R*$_*2,Math.round(ne))}class z_{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(h=>h.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Ki,this.centroidVertexArray=new pi,this.indexArray=new qa,this.programConfigurations=new $h(l.layers,l.zoom),this.segments=new Mi,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(l,h,b){this.features=[],this.hasPattern=M_("fill-extrusion",this.layers,h);for(const{feature:A,id:R,index:U,sourceLayerIndex:ne}of l){const le=this.layers[0]._featureFilter.needGeometry,ve=Fh(A,le);if(!this.layers[0]._featureFilter.filter(new xr(this.zoom),ve,b))continue;const Ie={id:R,sourceLayerIndex:ne,index:U,geometry:le?ve.geometry:zh(A),properties:A.properties,type:A.type,patterns:{}};this.hasPattern?this.features.push(O_("fill-extrusion",this.layers,Ie,this.zoom,h)):this.addFeature(Ie,Ie.geometry,U,b,{}),h.featureIndex.insert(A,Ie.geometry,U,ne,this.index,!0)}}addFeatures(l,h,b){for(const A of this.features){const{geometry:R}=A;this.addFeature(A,R,A.index,h,b)}}update(l,h,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,b)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,OO),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,MO.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,h,b,A,R){const U={x:0,y:0,vertexCount:0};for(const ne of D_(h,500)){let le=0;for(const He of ne)le+=He.length;let ve=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const He of ne){if(He.length===0||VO(He))continue;let ut=0;for(let lt=0;lt<He.length;lt++){const _t=He[lt];if(lt>=1){const Mt=He[lt-1];if(!YO(_t,Mt)){ve.vertexLength+4>Mi.MAX_VERTEX_ARRAY_LENGTH&&(ve=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const vt=_t.sub(Mt)._perp()._unit(),At=Mt.dist(_t);ut+At>32768&&(ut=0),Ug(this.layoutVertexArray,_t.x,_t.y,vt.x,vt.y,0,0,ut),Ug(this.layoutVertexArray,_t.x,_t.y,vt.x,vt.y,0,1,ut),U.x+=2*_t.x,U.y+=2*_t.y,U.vertexCount+=2,ut+=At,Ug(this.layoutVertexArray,Mt.x,Mt.y,vt.x,vt.y,0,0,ut),Ug(this.layoutVertexArray,Mt.x,Mt.y,vt.x,vt.y,0,1,ut),U.x+=2*Mt.x,U.y+=2*Mt.y,U.vertexCount+=2;const Vt=ve.vertexLength;this.indexArray.emplaceBack(Vt,Vt+2,Vt+1),this.indexArray.emplaceBack(Vt+1,Vt+2,Vt+3),ve.vertexLength+=4,ve.primitiveLength+=2}}}}if(ve.vertexLength+le>Mi.MAX_VERTEX_ARRAY_LENGTH&&(ve=this.segments.prepareSegment(le,this.layoutVertexArray,this.indexArray)),GO[l.type]!=="Polygon")continue;const Ie=[],Re=[],Ue=ve.vertexLength;for(const He of ne)if(He.length!==0){He!==ne[0]&&Re.push(Ie.length/2);for(let ut=0;ut<He.length;ut++){const lt=He[ut];Ug(this.layoutVertexArray,lt.x,lt.y,0,0,1,1,0),U.x+=lt.x,U.y+=lt.y,U.vertexCount+=1,Ie.push(lt.x),Ie.push(lt.y)}}const qe=dx.exports(Ie,Re);for(let He=0;He<qe.length;He+=3)this.indexArray.emplaceBack(Ue+qe[He],Ue+qe[He+2],Ue+qe[He+1]);ve.primitiveLength+=qe.length/3,ve.vertexLength+=le}for(let ne=0;ne<U.vertexCount;ne++)this.centroidVertexArray.emplaceBack(Math.floor(U.x/U.vertexCount),Math.floor(U.y/U.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,b,R,A)}}function YO(u,l){return u.x===l.x&&(u.x<0||u.x>_a)||u.y===l.y&&(u.y<0||u.y>_a)}function VO(u){return u.every(l=>l.x<0)||u.every(l=>l.x>_a)||u.every(l=>l.y<0)||u.every(l=>l.y>_a)}bn("FillExtrusionBucket",z_,{omit:["layers","features"]});var WO={paint:new ba({"fill-extrusion-opacity":new Ln(Me["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new $n(Me["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ln(Me["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ln(Me["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ph(Me["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new $n(Me["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new $n(Me["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ln(Me["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Gg(u,l){return u.x*l.x+u.y*l.y}function wC(u,l){if(u.length===1){let h=0;const b=l[h++];let A;for(;!A||b.equals(A);)if(A=l[h++],!A)return 1/0;for(;h<l.length;h++){const R=l[h],U=u[0],ne=A.sub(b),le=R.sub(b),ve=U.sub(b),Ie=Gg(ne,ne),Re=Gg(ne,le),Ue=Gg(le,le),qe=Gg(ve,ne),He=Gg(ve,le),ut=Ie*Ue-Re*Re,lt=(Ue*qe-Re*He)/ut,_t=(Ie*He-Re*qe)/ut,Mt=b.z*(1-lt-_t)+A.z*lt+R.z*_t;if(isFinite(Mt))return Mt}return 1/0}{let h=1/0;for(const b of l)h=Math.min(h,b.z);return h}}const qO=pa([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:HO}=qO,XO=pa([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:ZO}=XO,KO=Td.VectorTileFeature.types,QO=Math.cos(Math.PI/180*37.5),TC=Math.pow(2,14)/.5;class F_{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(h=>h.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(h=>{this.gradients[h.id]={}}),this.layoutVertexArray=new ki,this.layoutVertexArray2=new Li,this.indexArray=new qa,this.programConfigurations=new $h(l.layers,l.zoom),this.segments=new Mi,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(l,h,b){this.hasPattern=M_("line",this.layers,h);const A=this.layers[0].layout.get("line-sort-key"),R=!A.isConstant(),U=[];for(const{feature:ne,id:le,index:ve,sourceLayerIndex:Ie}of l){const Re=this.layers[0]._featureFilter.needGeometry,Ue=Fh(ne,Re);if(!this.layers[0]._featureFilter.filter(new xr(this.zoom),Ue,b))continue;const qe=R?A.evaluate(Ue,{},b):void 0,He={id:le,properties:ne.properties,type:ne.type,sourceLayerIndex:Ie,index:ve,geometry:Re?Ue.geometry:zh(ne),patterns:{},sortKey:qe};U.push(He)}R&&U.sort((ne,le)=>ne.sortKey-le.sortKey);for(const ne of U){const{geometry:le,index:ve,sourceLayerIndex:Ie}=ne;if(this.hasPattern){const Re=O_("line",this.layers,ne,this.zoom,h);this.patternFeatures.push(Re)}else this.addFeature(ne,le,ve,b,{});h.featureIndex.insert(l[ve].feature,le,ve,Ie,this.index)}}update(l,h,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,b)}addFeatures(l,h,b){for(const A of this.patternFeatures)this.addFeature(A,A.geometry,A.index,h,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,ZO)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,HO),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,h,b,A,R){const U=this.layers[0].layout,ne=U.get("line-join").evaluate(l,{}),le=U.get("line-cap"),ve=U.get("line-miter-limit"),Ie=U.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const Re of h)this.addLine(Re,l,ne,le,ve,Ie);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,b,R,A)}addLine(l,h,b,A,R,U){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let _t=0;_t<l.length-1;_t++)this.totalDistance+=l[_t].dist(l[_t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const ne=KO[h.type]==="Polygon";let le=l.length;for(;le>=2&&l[le-1].equals(l[le-2]);)le--;let ve=0;for(;ve<le-1&&l[ve].equals(l[ve+1]);)ve++;if(le<(ne?3:2))return;b==="bevel"&&(R=1.05);const Ie=this.overscaling<=16?122880/(512*this.overscaling):0,Re=this.segments.prepareSegment(10*le,this.layoutVertexArray,this.indexArray);let Ue,qe,He,ut,lt;this.e1=this.e2=-1,ne&&(Ue=l[le-2],lt=l[ve].sub(Ue)._unit()._perp());for(let _t=ve;_t<le;_t++){if(He=_t===le-1?ne?l[ve+1]:void 0:l[_t+1],He&&l[_t].equals(He))continue;lt&&(ut=lt),Ue&&(qe=Ue),Ue=l[_t],lt=He?He.sub(Ue)._unit()._perp():ut,ut=ut||lt;let Mt=ut.add(lt);Mt.x===0&&Mt.y===0||Mt._unit();const vt=ut.x*lt.x+ut.y*lt.y,At=Mt.x*lt.x+Mt.y*lt.y,Vt=At!==0?1/At:1/0,Yt=2*Math.sqrt(2-2*At),wn=At<QO&&qe&&He,Nn=ut.x*lt.y-ut.y*lt.x>0;if(wn&&_t>ve){const Jt=Ue.dist(qe);if(Jt>2*Ie){const un=Ue.sub(Ue.sub(qe)._mult(Ie/Jt)._round());this.updateDistance(qe,un),this.addCurrentVertex(un,ut,0,0,Re),qe=un}}const cn=qe&&He;let nn=cn?b:ne?"butt":A;if(cn&&nn==="round"&&(Vt<U?nn="miter":Vt<=2&&(nn="fakeround")),nn==="miter"&&Vt>R&&(nn="bevel"),nn==="bevel"&&(Vt>2&&(nn="flipbevel"),Vt<R&&(nn="miter")),qe&&this.updateDistance(qe,Ue),nn==="miter")Mt._mult(Vt),this.addCurrentVertex(Ue,Mt,0,0,Re);else if(nn==="flipbevel"){if(Vt>100)Mt=lt.mult(-1);else{const Jt=Vt*ut.add(lt).mag()/ut.sub(lt).mag();Mt._perp()._mult(Jt*(Nn?-1:1))}this.addCurrentVertex(Ue,Mt,0,0,Re),this.addCurrentVertex(Ue,Mt.mult(-1),0,0,Re)}else if(nn==="bevel"||nn==="fakeround"){const Jt=-Math.sqrt(Vt*Vt-1),un=Nn?Jt:0,an=Nn?0:Jt;if(qe&&this.addCurrentVertex(Ue,ut,un,an,Re),nn==="fakeround"){const Ht=Math.round(180*Yt/Math.PI/20);for(let Mn=1;Mn<Ht;Mn++){let In=Mn/Ht;if(In!==.5){const gr=In-.5;In+=In*gr*(In-1)*((1.0904+vt*(vt*(3.55645-1.43519*vt)-3.2452))*gr*gr+(.848013+vt*(.215638*vt-1.06021)))}const mi=lt.sub(ut)._mult(In)._add(ut)._unit()._mult(Nn?-1:1);this.addHalfVertex(Ue,mi.x,mi.y,!1,Nn,0,Re)}}He&&this.addCurrentVertex(Ue,lt,-un,-an,Re)}else if(nn==="butt")this.addCurrentVertex(Ue,Mt,0,0,Re);else if(nn==="square"){const Jt=qe?1:-1;this.addCurrentVertex(Ue,Mt,Jt,Jt,Re)}else nn==="round"&&(qe&&(this.addCurrentVertex(Ue,ut,0,0,Re),this.addCurrentVertex(Ue,ut,1,1,Re,!0)),He&&(this.addCurrentVertex(Ue,lt,-1,-1,Re,!0),this.addCurrentVertex(Ue,lt,0,0,Re)));if(wn&&_t<le-1){const Jt=Ue.dist(He);if(Jt>2*Ie){const un=Ue.add(He.sub(Ue)._mult(Ie/Jt)._round());this.updateDistance(Ue,un),this.addCurrentVertex(un,lt,0,0,Re),Ue=un}}}}addCurrentVertex(l,h,b,A,R,U=!1){const ne=h.y*A-h.x,le=-h.y-h.x*A;this.addHalfVertex(l,h.x+h.y*b,h.y-h.x*b,U,!1,b,R),this.addHalfVertex(l,ne,le,U,!0,-A,R),this.distance>TC/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(l,h,b,A,R,U))}addHalfVertex({x:l,y:h},b,A,R,U,ne,le){const ve=.5*(this.lineClips?this.scaledDistance*(TC-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(R?1:0),(h<<1)+(U?1:0),Math.round(63*b)+128,Math.round(63*A)+128,1+(ne===0?0:ne<0?-1:1)|(63&ve)<<2,ve>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const Ie=le.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Ie),le.primitiveLength++),U?this.e2=Ie:this.e1=Ie}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,h){this.distance+=l.dist(h),this.updateScaledDistance()}}bn("LineBucket",F_,{omit:["layers","patternFeatures"]});const JO=new ba({"line-cap":new Ln(Me.layout_line["line-cap"]),"line-join":new $n(Me.layout_line["line-join"]),"line-miter-limit":new Ln(Me.layout_line["line-miter-limit"]),"line-round-limit":new Ln(Me.layout_line["line-round-limit"]),"line-sort-key":new $n(Me.layout_line["line-sort-key"])});var SC={paint:new ba({"line-opacity":new $n(Me.paint_line["line-opacity"]),"line-color":new $n(Me.paint_line["line-color"]),"line-translate":new Ln(Me.paint_line["line-translate"]),"line-translate-anchor":new Ln(Me.paint_line["line-translate-anchor"]),"line-width":new $n(Me.paint_line["line-width"]),"line-gap-width":new $n(Me.paint_line["line-gap-width"]),"line-offset":new $n(Me.paint_line["line-offset"]),"line-blur":new $n(Me.paint_line["line-blur"]),"line-dasharray":new Dh(Me.paint_line["line-dasharray"]),"line-pattern":new Ph(Me.paint_line["line-pattern"]),"line-gradient":new Pg(Me.paint_line["line-gradient"])}),layout:JO};const CC=new class extends $n{possiblyEvaluate(u,l){return l=new xr(Math.floor(l.zoom),{now:l.now,fadeDuration:l.fadeDuration,zoomHistory:l.zoomHistory,transition:l.transition}),super.possiblyEvaluate(u,l)}evaluate(u,l,h,b){return l=x({},l,{zoom:Math.floor(l.zoom)}),super.evaluate(u,l,h,b)}}(SC.paint.properties["line-width"].specification);function EC(u,l){return l>0?l+2*u:u}CC.useIntegerZoom=!0;const eR=pa([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),tR=pa([{name:"a_projected_pos",components:3,type:"Float32"}],4);pa([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const nR=pa([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);pa([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const kC=pa([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),iR=pa([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function rR(u,l,h){return u.sections.forEach(b=>{b.text=function(A,R,U){const ne=R.layout.get("text-transform").evaluate(U,{});return ne==="uppercase"?A=A.toLocaleUpperCase():ne==="lowercase"&&(A=A.toLocaleLowerCase()),zo.applyArabicShaping&&(A=zo.applyArabicShaping(A)),A}(b.text,l,h)}),u}pa([{name:"triangle",components:3,type:"Uint16"}]),pa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),pa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),pa([{type:"Float32",name:"offsetX"}]),pa([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const Yg={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var Ha=24,j_=ir,NC=function(u,l,h,b,A){var R,U,ne=8*A-b-1,le=(1<<ne)-1,ve=le>>1,Ie=-7,Re=A-1,Ue=-1,qe=u[l+Re];for(Re+=Ue,R=qe&(1<<-Ie)-1,qe>>=-Ie,Ie+=ne;Ie>0;R=256*R+u[l+Re],Re+=Ue,Ie-=8);for(U=R&(1<<-Ie)-1,R>>=-Ie,Ie+=b;Ie>0;U=256*U+u[l+Re],Re+=Ue,Ie-=8);if(R===0)R=1-ve;else{if(R===le)return U?NaN:1/0*(qe?-1:1);U+=Math.pow(2,b),R-=ve}return(qe?-1:1)*U*Math.pow(2,R-b)},LC=function(u,l,h,b,A,R){var U,ne,le,ve=8*R-A-1,Ie=(1<<ve)-1,Re=Ie>>1,Ue=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,qe=0,He=1,ut=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(ne=isNaN(l)?1:0,U=Ie):(U=Math.floor(Math.log(l)/Math.LN2),l*(le=Math.pow(2,-U))<1&&(U--,le*=2),(l+=U+Re>=1?Ue/le:Ue*Math.pow(2,1-Re))*le>=2&&(U++,le/=2),U+Re>=Ie?(ne=0,U=Ie):U+Re>=1?(ne=(l*le-1)*Math.pow(2,A),U+=Re):(ne=l*Math.pow(2,Re-1)*Math.pow(2,A),U=0));A>=8;u[h+qe]=255&ne,qe+=He,ne/=256,A-=8);for(U=U<<A|ne,ve+=A;ve>0;u[h+qe]=255&U,qe+=He,U/=256,ve-=8);u[h+qe-He]|=128*ut};function ir(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}ir.Varint=0,ir.Fixed64=1,ir.Bytes=2,ir.Fixed32=5;var Sd,B_=4294967296,IC=1/B_,AC=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Nu(u){return u.type===ir.Bytes?u.readVarint()+u.pos:u.pos+1}function km(u,l,h){return h?4294967296*l+(u>>>0):4294967296*(l>>>0)+(u>>>0)}function PC(u,l,h){var b=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));h.realloc(b);for(var A=h.pos-1;A>=u;A--)h.buf[A+b]=h.buf[A]}function aR(u,l){for(var h=0;h<u.length;h++)l.writeVarint(u[h])}function sR(u,l){for(var h=0;h<u.length;h++)l.writeSVarint(u[h])}function oR(u,l){for(var h=0;h<u.length;h++)l.writeFloat(u[h])}function lR(u,l){for(var h=0;h<u.length;h++)l.writeDouble(u[h])}function cR(u,l){for(var h=0;h<u.length;h++)l.writeBoolean(u[h])}function uR(u,l){for(var h=0;h<u.length;h++)l.writeFixed32(u[h])}function dR(u,l){for(var h=0;h<u.length;h++)l.writeSFixed32(u[h])}function hR(u,l){for(var h=0;h<u.length;h++)l.writeFixed64(u[h])}function pR(u,l){for(var h=0;h<u.length;h++)l.writeSFixed64(u[h])}function gx(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+16777216*u[l+3]}function Nm(u,l,h){u[h]=l,u[h+1]=l>>>8,u[h+2]=l>>>16,u[h+3]=l>>>24}function DC(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+(u[l+3]<<24)}function mR(u,l,h){u===1&&h.readMessage(fR,l)}function fR(u,l,h){if(u===3){const{id:b,bitmap:A,width:R,height:U,left:ne,top:le,advance:ve}=h.readMessage(gR,{});l.push({id:b,bitmap:new $g({width:R+6,height:U+6},A),metrics:{width:R,height:U,left:ne,top:le,advance:ve}})}}function gR(u,l,h){u===1?l.id=h.readVarint():u===2?l.bitmap=h.readBytes():u===3?l.width=h.readVarint():u===4?l.height=h.readVarint():u===5?l.left=h.readSVarint():u===6?l.top=h.readSVarint():u===7&&(l.advance=h.readVarint())}function MC(u){let l=0,h=0;for(const U of u)l+=U.w*U.h,h=Math.max(h,U.w);u.sort((U,ne)=>ne.h-U.h);const b=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),h),h:1/0}];let A=0,R=0;for(const U of u)for(let ne=b.length-1;ne>=0;ne--){const le=b[ne];if(!(U.w>le.w||U.h>le.h)){if(U.x=le.x,U.y=le.y,R=Math.max(R,U.y+U.h),A=Math.max(A,U.x+U.w),U.w===le.w&&U.h===le.h){const ve=b.pop();ne<b.length&&(b[ne]=ve)}else U.h===le.h?(le.x+=U.w,le.w-=U.w):U.w===le.w?(le.y+=U.h,le.h-=U.h):(b.push({x:le.x+U.w,y:le.y,w:le.w-U.w,h:U.h}),le.y+=U.h,le.h-=U.h);break}}return{w:A,h:R,fill:l/(A*R)||0}}ir.prototype={destroy:function(){this.buf=null},readFields:function(u,l,h){for(h=h||this.length;this.pos<h;){var b=this.readVarint(),A=b>>3,R=this.pos;this.type=7&b,u(A,l,this),this.pos===R&&this.skip(b)}return l},readMessage:function(u,l){return this.readFields(u,l,this.readVarint()+this.pos)},readFixed32:function(){var u=gx(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=DC(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=gx(this.buf,this.pos)+gx(this.buf,this.pos+4)*B_;return this.pos+=8,u},readSFixed64:function(){var u=gx(this.buf,this.pos)+DC(this.buf,this.pos+4)*B_;return this.pos+=8,u},readFloat:function(){var u=NC(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=NC(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var l,h,b=this.buf;return l=127&(h=b[this.pos++]),h<128?l:(l|=(127&(h=b[this.pos++]))<<7,h<128?l:(l|=(127&(h=b[this.pos++]))<<14,h<128?l:(l|=(127&(h=b[this.pos++]))<<21,h<128?l:function(A,R,U){var ne,le,ve=U.buf;if(ne=(112&(le=ve[U.pos++]))>>4,le<128||(ne|=(127&(le=ve[U.pos++]))<<3,le<128)||(ne|=(127&(le=ve[U.pos++]))<<10,le<128)||(ne|=(127&(le=ve[U.pos++]))<<17,le<128)||(ne|=(127&(le=ve[U.pos++]))<<24,le<128)||(ne|=(1&(le=ve[U.pos++]))<<31,le<128))return km(A,ne,R);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(h=b[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,l=this.pos;return this.pos=u,u-l>=12&&AC?function(h,b,A){return AC.decode(h.subarray(b,A))}(this.buf,l,u):function(h,b,A){for(var R="",U=b;U<A;){var ne,le,ve,Ie=h[U],Re=null,Ue=Ie>239?4:Ie>223?3:Ie>191?2:1;if(U+Ue>A)break;Ue===1?Ie<128&&(Re=Ie):Ue===2?(192&(ne=h[U+1]))==128&&(Re=(31&Ie)<<6|63&ne)<=127&&(Re=null):Ue===3?(le=h[U+2],(192&(ne=h[U+1]))==128&&(192&le)==128&&((Re=(15&Ie)<<12|(63&ne)<<6|63&le)<=2047||Re>=55296&&Re<=57343)&&(Re=null)):Ue===4&&(le=h[U+2],ve=h[U+3],(192&(ne=h[U+1]))==128&&(192&le)==128&&(192&ve)==128&&((Re=(15&Ie)<<18|(63&ne)<<12|(63&le)<<6|63&ve)<=65535||Re>=1114112)&&(Re=null)),Re===null?(Re=65533,Ue=1):Re>65535&&(Re-=65536,R+=String.fromCharCode(Re>>>10&1023|55296),Re=56320|1023&Re),R+=String.fromCharCode(Re),U+=Ue}return R}(this.buf,l,u)},readBytes:function(){var u=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,u);return this.pos=u,l},readPackedVarint:function(u,l){if(this.type!==ir.Bytes)return u.push(this.readVarint(l));var h=Nu(this);for(u=u||[];this.pos<h;)u.push(this.readVarint(l));return u},readPackedSVarint:function(u){if(this.type!==ir.Bytes)return u.push(this.readSVarint());var l=Nu(this);for(u=u||[];this.pos<l;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==ir.Bytes)return u.push(this.readBoolean());var l=Nu(this);for(u=u||[];this.pos<l;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==ir.Bytes)return u.push(this.readFloat());var l=Nu(this);for(u=u||[];this.pos<l;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==ir.Bytes)return u.push(this.readDouble());var l=Nu(this);for(u=u||[];this.pos<l;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==ir.Bytes)return u.push(this.readFixed32());var l=Nu(this);for(u=u||[];this.pos<l;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==ir.Bytes)return u.push(this.readSFixed32());var l=Nu(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==ir.Bytes)return u.push(this.readFixed64());var l=Nu(this);for(u=u||[];this.pos<l;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==ir.Bytes)return u.push(this.readSFixed64());var l=Nu(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed64());return u},skip:function(u){var l=7&u;if(l===ir.Varint)for(;this.buf[this.pos++]>127;);else if(l===ir.Bytes)this.pos=this.readVarint()+this.pos;else if(l===ir.Fixed32)this.pos+=4;else{if(l!==ir.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(u,l){this.writeVarint(u<<3|l)},realloc:function(u){for(var l=this.length||16;l<this.pos+u;)l*=2;if(l!==this.length){var h=new Uint8Array(l);h.set(this.buf),this.buf=h,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),Nm(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),Nm(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),Nm(this.buf,-1&u,this.pos),Nm(this.buf,Math.floor(u*IC),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),Nm(this.buf,-1&u,this.pos),Nm(this.buf,Math.floor(u*IC),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(l,h){var b,A;if(l>=0?(b=l%4294967296|0,A=l/4294967296|0):(A=~(-l/4294967296),4294967295^(b=~(-l%4294967296))?b=b+1|0:(b=0,A=A+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");h.realloc(10),function(R,U,ne){ne.buf[ne.pos++]=127&R|128,R>>>=7,ne.buf[ne.pos++]=127&R|128,R>>>=7,ne.buf[ne.pos++]=127&R|128,R>>>=7,ne.buf[ne.pos++]=127&R|128,ne.buf[ne.pos]=127&(R>>>=7)}(b,0,h),function(R,U){var ne=(7&R)<<4;U.buf[U.pos++]|=ne|((R>>>=3)?128:0),R&&(U.buf[U.pos++]=127&R|((R>>>=7)?128:0),R&&(U.buf[U.pos++]=127&R|((R>>>=7)?128:0),R&&(U.buf[U.pos++]=127&R|((R>>>=7)?128:0),R&&(U.buf[U.pos++]=127&R|((R>>>=7)?128:0),R&&(U.buf[U.pos++]=127&R)))))}(A,h)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var l=this.pos;this.pos=function(b,A,R){for(var U,ne,le=0;le<A.length;le++){if((U=A.charCodeAt(le))>55295&&U<57344){if(!ne){U>56319||le+1===A.length?(b[R++]=239,b[R++]=191,b[R++]=189):ne=U;continue}if(U<56320){b[R++]=239,b[R++]=191,b[R++]=189,ne=U;continue}U=ne-55296<<10|U-56320|65536,ne=null}else ne&&(b[R++]=239,b[R++]=191,b[R++]=189,ne=null);U<128?b[R++]=U:(U<2048?b[R++]=U>>6|192:(U<65536?b[R++]=U>>12|224:(b[R++]=U>>18|240,b[R++]=U>>12&63|128),b[R++]=U>>6&63|128),b[R++]=63&U|128)}return R}(this.buf,u,this.pos);var h=this.pos-l;h>=128&&PC(l,h,this),this.pos=l-1,this.writeVarint(h),this.pos+=h},writeFloat:function(u){this.realloc(4),LC(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),LC(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var l=u.length;this.writeVarint(l),this.realloc(l);for(var h=0;h<l;h++)this.buf[this.pos++]=u[h]},writeRawMessage:function(u,l){this.pos++;var h=this.pos;u(l,this);var b=this.pos-h;b>=128&&PC(h,b,this),this.pos=h-1,this.writeVarint(b),this.pos+=b},writeMessage:function(u,l,h){this.writeTag(u,ir.Bytes),this.writeRawMessage(l,h)},writePackedVarint:function(u,l){l.length&&this.writeMessage(u,aR,l)},writePackedSVarint:function(u,l){l.length&&this.writeMessage(u,sR,l)},writePackedBoolean:function(u,l){l.length&&this.writeMessage(u,cR,l)},writePackedFloat:function(u,l){l.length&&this.writeMessage(u,oR,l)},writePackedDouble:function(u,l){l.length&&this.writeMessage(u,lR,l)},writePackedFixed32:function(u,l){l.length&&this.writeMessage(u,uR,l)},writePackedSFixed32:function(u,l){l.length&&this.writeMessage(u,dR,l)},writePackedFixed64:function(u,l){l.length&&this.writeMessage(u,hR,l)},writePackedSFixed64:function(u,l){l.length&&this.writeMessage(u,pR,l)},writeBytesField:function(u,l){this.writeTag(u,ir.Bytes),this.writeBytes(l)},writeFixed32Field:function(u,l){this.writeTag(u,ir.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(u,l){this.writeTag(u,ir.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(u,l){this.writeTag(u,ir.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(u,l){this.writeTag(u,ir.Fixed64),this.writeSFixed64(l)},writeVarintField:function(u,l){this.writeTag(u,ir.Varint),this.writeVarint(l)},writeSVarintField:function(u,l){this.writeTag(u,ir.Varint),this.writeSVarint(l)},writeStringField:function(u,l){this.writeTag(u,ir.Bytes),this.writeString(l)},writeFloatField:function(u,l){this.writeTag(u,ir.Fixed32),this.writeFloat(l)},writeDoubleField:function(u,l){this.writeTag(u,ir.Fixed64),this.writeDouble(l)},writeBooleanField:function(u,l){this.writeVarintField(u,!!l)}};class U_{constructor(l,{pixelRatio:h,version:b,stretchX:A,stretchY:R,content:U}){this.paddedRect=l,this.pixelRatio=h,this.stretchX=A,this.stretchY=R,this.content=U,this.version=b}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class OC{constructor(l,h){const b={},A={};this.haveRenderCallbacks=[];const R=[];this.addImages(l,b,R),this.addImages(h,A,R);const{w:U,h:ne}=MC(R),le=new al({width:U||1,height:ne||1});for(const ve in l){const Ie=l[ve],Re=b[ve].paddedRect;al.copy(Ie.data,le,{x:0,y:0},{x:Re.x+1,y:Re.y+1},Ie.data)}for(const ve in h){const Ie=h[ve],Re=A[ve].paddedRect,Ue=Re.x+1,qe=Re.y+1,He=Ie.data.width,ut=Ie.data.height;al.copy(Ie.data,le,{x:0,y:0},{x:Ue,y:qe},Ie.data),al.copy(Ie.data,le,{x:0,y:ut-1},{x:Ue,y:qe-1},{width:He,height:1}),al.copy(Ie.data,le,{x:0,y:0},{x:Ue,y:qe+ut},{width:He,height:1}),al.copy(Ie.data,le,{x:He-1,y:0},{x:Ue-1,y:qe},{width:1,height:ut}),al.copy(Ie.data,le,{x:0,y:0},{x:Ue+He,y:qe},{width:1,height:ut})}this.image=le,this.iconPositions=b,this.patternPositions=A}addImages(l,h,b){for(const A in l){const R=l[A],U={x:0,y:0,w:R.data.width+2,h:R.data.height+2};b.push(U),h[A]=new U_(U,R),R.hasRenderCallback&&this.haveRenderCallbacks.push(A)}}patchUpdatedImages(l,h){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const b in l.updatedImages)this.patchUpdatedImage(this.iconPositions[b],l.getImage(b),h),this.patchUpdatedImage(this.patternPositions[b],l.getImage(b),h)}patchUpdatedImage(l,h,b){if(!l||!h||l.version===h.version)return;l.version=h.version;const[A,R]=l.tl;b.update(h.data,void 0,{x:A,y:R})}}bn("ImagePosition",U_),bn("ImageAtlas",OC),s.WritingMode=void 0,(Sd=s.WritingMode||(s.WritingMode={}))[Sd.none=0]="none",Sd[Sd.horizontal=1]="horizontal",Sd[Sd.vertical=2]="vertical",Sd[Sd.horizontalOnly=3]="horizontalOnly";const yx=-17;class Vg{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,h){const b=new Vg;return b.scale=l||1,b.fontStack=h,b}static forImage(l){const h=new Vg;return h.imageName=l,h}}class Lm{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,h){const b=new Lm;for(let A=0;A<l.sections.length;A++){const R=l.sections[A];R.image?b.addImageSection(R):b.addTextSection(R,h)}return b}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let h="";for(let b=0;b<l.length;b++){const A=l.charCodeAt(b+1)||null,R=l.charCodeAt(b-1)||null;h+=A&&tx(A)&&!Yg[l[b+1]]||R&&tx(R)&&!Yg[l[b-1]]||!Yg[l[b]]?l[b]:Yg[l[b]]}return h}(this.text)}trim(){let l=0;for(let b=0;b<this.text.length&&xx[this.text.charCodeAt(b)];b++)l++;let h=this.text.length;for(let b=this.text.length-1;b>=0&&b>=l&&xx[this.text.charCodeAt(b)];b--)h--;this.text=this.text.substring(l,h),this.sectionIndex=this.sectionIndex.slice(l,h)}substring(l,h){const b=new Lm;return b.text=this.text.substring(l,h),b.sectionIndex=this.sectionIndex.slice(l,h),b.sections=this.sections,b}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,h)=>Math.max(l,this.sections[h].scale),0)}addTextSection(l,h){this.text+=l.text,this.sections.push(Vg.forText(l.scale,l.fontStack||h));const b=this.sections.length-1;for(let A=0;A<l.text.length;++A)this.sectionIndex.push(b)}addImageSection(l){const h=l.image?l.image.name:"";if(h.length===0)return void S("Can't add FormattedSection with an empty image.");const b=this.getNextImageSectionCharCode();b?(this.text+=String.fromCharCode(b),this.sections.push(Vg.forImage(h)),this.sectionIndex.push(this.sections.length-1)):S("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function vx(u,l,h,b,A,R,U,ne,le,ve,Ie,Re,Ue,qe,He,ut){const lt=Lm.fromFeature(u,A);let _t;Re===s.WritingMode.vertical&&lt.verticalizePunctuation();const{processBidirectionalText:Mt,processStyledBidirectionalText:vt}=zo;if(Mt&&lt.sections.length===1){_t=[];const Yt=Mt(lt.toString(),G_(lt,ve,R,l,b,qe,He));for(const wn of Yt){const Nn=new Lm;Nn.text=wn,Nn.sections=lt.sections;for(let cn=0;cn<wn.length;cn++)Nn.sectionIndex.push(0);_t.push(Nn)}}else if(vt){_t=[];const Yt=vt(lt.text,lt.sectionIndex,G_(lt,ve,R,l,b,qe,He));for(const wn of Yt){const Nn=new Lm;Nn.text=wn[0],Nn.sectionIndex=wn[1],Nn.sections=lt.sections,_t.push(Nn)}}else _t=function(Yt,wn){const Nn=[],cn=Yt.text;let nn=0;for(const Jt of wn)Nn.push(Yt.substring(nn,Jt)),nn=Jt;return nn<cn.length&&Nn.push(Yt.substring(nn,cn.length)),Nn}(lt,G_(lt,ve,R,l,b,qe,He));const At=[],Vt={positionedLines:At,text:lt.toString(),top:Ie[1],bottom:Ie[1],left:Ie[0],right:Ie[0],writingMode:Re,iconsInText:!1,verticalizable:!1};return function(Yt,wn,Nn,cn,nn,Jt,un,an,Ht,Mn,In,mi){let gr=0,_r=yx,wa=0,ol=0;const ls=an==="right"?1:an==="left"?0:.5;let fa=0;for(const ga of nn){ga.trim();const us=ga.getMaxScale(),ks=(us-1)*Ha,Js={positionedGlyphs:[],lineOffset:0};Yt.positionedLines[fa]=Js;const go=Js.positionedGlyphs;let yo=0;if(!ga.length()){_r+=Jt,++fa;continue}for(let Da=0;Da<ga.length();Da++){const wi=ga.getSection(Da),jo=ga.getSectionIndex(Da),ds=ga.getCharCode(Da);let Ns=0,Pl=null,lc=null,cc=null,Iu=Ha;const Dl=!(Ht===s.WritingMode.horizontal||!In&&!Ah(ds)||In&&(xx[ds]||(Pa=ds,on.Arabic(Pa)||on["Arabic Supplement"](Pa)||on["Arabic Extended-A"](Pa)||on["Arabic Presentation Forms-A"](Pa)||on["Arabic Presentation Forms-B"](Pa))));if(wi.imageName){const ll=cn[wi.imageName];if(!ll)continue;cc=wi.imageName,Yt.iconsInText=Yt.iconsInText||!0,lc=ll.paddedRect;const vo=ll.displaySize;wi.scale=wi.scale*Ha/mi,Pl={width:vo[0],height:vo[1],left:1,top:-3,advance:Dl?vo[1]:vo[0]},Ns=ks+(Ha-vo[1]*wi.scale),Iu=Pl.advance;const Au=Dl?vo[0]*wi.scale-Ha*us:vo[1]*wi.scale-Ha*us;Au>0&&Au>yo&&(yo=Au)}else{const ll=Nn[wi.fontStack],vo=ll&&ll[ds];if(vo&&vo.rect)lc=vo.rect,Pl=vo.metrics;else{const Au=wn[wi.fontStack],Hg=Au&&Au[ds];if(!Hg)continue;Pl=Hg.metrics}Ns=(us-wi.scale)*Ha}Dl?(Yt.verticalizable=!0,go.push({glyph:ds,imageName:cc,x:gr,y:_r+Ns,vertical:Dl,scale:wi.scale,fontStack:wi.fontStack,sectionIndex:jo,metrics:Pl,rect:lc}),gr+=Iu*wi.scale+Mn):(go.push({glyph:ds,imageName:cc,x:gr,y:_r+Ns,vertical:Dl,scale:wi.scale,fontStack:wi.fontStack,sectionIndex:jo,metrics:Pl,rect:lc}),gr+=Pl.advance*wi.scale+Mn)}go.length!==0&&(wa=Math.max(gr-Mn,wa),xR(go,0,go.length-1,ls,yo)),gr=0;const Nr=Jt*us+yo;Js.lineOffset=Math.max(yo,ks),_r+=Nr,ol=Math.max(Nr,ol),++fa}var Pa;const cs=_r-yx,{horizontalAlign:Es,verticalAlign:fo}=Y_(un);(function(ga,us,ks,Js,go,yo,Nr,Da,wi){const jo=(us-ks)*go;let ds=0;ds=yo!==Nr?-Da*Js-yx:(-Js*wi+.5)*Nr;for(const Ns of ga)for(const Pl of Ns.positionedGlyphs)Pl.x+=jo,Pl.y+=ds})(Yt.positionedLines,ls,Es,fo,wa,ol,Jt,cs,nn.length),Yt.top+=-fo*cs,Yt.bottom=Yt.top+cs,Yt.left+=-Es*wa,Yt.right=Yt.left+wa}(Vt,l,h,b,_t,U,ne,le,Re,ve,Ue,ut),!function(Yt){for(const wn of Yt)if(wn.positionedGlyphs.length!==0)return!1;return!0}(At)&&Vt}const xx={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},yR={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function RC(u,l,h,b,A,R){if(l.imageName){const U=b[l.imageName];return U?U.displaySize[0]*l.scale*Ha/R+A:0}{const U=h[l.fontStack],ne=U&&U[u];return ne?ne.metrics.advance*l.scale+A:0}}function $C(u,l,h,b){const A=Math.pow(u-l,2);return b?u<l?A/2:2*A:A+Math.abs(h)*h}function vR(u,l,h){let b=0;return u===10&&(b-=1e4),h&&(b+=150),u!==40&&u!==65288||(b+=50),l!==41&&l!==65289||(b+=50),b}function zC(u,l,h,b,A,R){let U=null,ne=$C(l,h,A,R);for(const le of b){const ve=$C(l-le.x,h,A,R)+le.badness;ve<=ne&&(U=le,ne=ve)}return{index:u,x:l,priorBreak:U,badness:ne}}function FC(u){return u?FC(u.priorBreak).concat(u.index):[]}function G_(u,l,h,b,A,R,U){if(R!=="point")return[];if(!u)return[];const ne=[],le=function(Ue,qe,He,ut,lt,_t){let Mt=0;for(let vt=0;vt<Ue.length();vt++){const At=Ue.getSection(vt);Mt+=RC(Ue.getCharCode(vt),At,ut,lt,qe,_t)}return Mt/Math.max(1,Math.ceil(Mt/He))}(u,l,h,b,A,U),ve=u.text.indexOf("​")>=0;let Ie=0;for(let Ue=0;Ue<u.length();Ue++){const qe=u.getSection(Ue),He=u.getCharCode(Ue);if(xx[He]||(Ie+=RC(He,qe,b,A,l,U)),Ue<u.length()-1){const ut=!((Re=He)<11904||!(on["Bopomofo Extended"](Re)||on.Bopomofo(Re)||on["CJK Compatibility Forms"](Re)||on["CJK Compatibility Ideographs"](Re)||on["CJK Compatibility"](Re)||on["CJK Radicals Supplement"](Re)||on["CJK Strokes"](Re)||on["CJK Symbols and Punctuation"](Re)||on["CJK Unified Ideographs Extension A"](Re)||on["CJK Unified Ideographs"](Re)||on["Enclosed CJK Letters and Months"](Re)||on["Halfwidth and Fullwidth Forms"](Re)||on.Hiragana(Re)||on["Ideographic Description Characters"](Re)||on["Kangxi Radicals"](Re)||on["Katakana Phonetic Extensions"](Re)||on.Katakana(Re)||on["Vertical Forms"](Re)||on["Yi Radicals"](Re)||on["Yi Syllables"](Re)));(yR[He]||ut||qe.imageName)&&ne.push(zC(Ue+1,Ie,le,ne,vR(He,u.getCharCode(Ue+1),ut&&ve),!1))}}var Re;return FC(zC(u.length(),Ie,le,ne,0,!0))}function Y_(u){let l=.5,h=.5;switch(u){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":h=1;break;case"top":case"top-right":case"top-left":h=0}return{horizontalAlign:l,verticalAlign:h}}function xR(u,l,h,b,A){if(!b&&!A)return;const R=u[h],U=(u[h].x+R.metrics.advance*R.scale)*b;for(let ne=l;ne<=h;ne++)u[ne].x-=U,u[ne].y+=A}function bR(u,l,h){const{horizontalAlign:b,verticalAlign:A}=Y_(h),R=l[0]-u.displaySize[0]*b,U=l[1]-u.displaySize[1]*A;return{image:u,top:U,bottom:U+u.displaySize[1],left:R,right:R+u.displaySize[0]}}function jC(u,l,h,b,A,R){const U=u.image;let ne;if(U.content){const lt=U.content,_t=U.pixelRatio||1;ne=[lt[0]/_t,lt[1]/_t,U.displaySize[0]-lt[2]/_t,U.displaySize[1]-lt[3]/_t]}const le=l.left*R,ve=l.right*R;let Ie,Re,Ue,qe;h==="width"||h==="both"?(qe=A[0]+le-b[3],Re=A[0]+ve+b[1]):(qe=A[0]+(le+ve-U.displaySize[0])/2,Re=qe+U.displaySize[0]);const He=l.top*R,ut=l.bottom*R;return h==="height"||h==="both"?(Ie=A[1]+He-b[0],Ue=A[1]+ut+b[2]):(Ie=A[1]+(He+ut-U.displaySize[1])/2,Ue=Ie+U.displaySize[1]),{image:U,top:Ie,right:Re,bottom:Ue,left:qe,collisionPadding:ne}}const Lu=128;function BC(u,l){const{expression:h}=l;if(h.kind==="constant")return{kind:"constant",layoutSize:h.evaluate(new xr(u+1))};if(h.kind==="source")return{kind:"source"};{const{zoomStops:b,interpolationType:A}=h;let R=0;for(;R<b.length&&b[R]<=u;)R++;R=Math.max(0,R-1);let U=R;for(;U<b.length&&b[U]<u+1;)U++;U=Math.min(b.length-1,U);const ne=b[R],le=b[U];return h.kind==="composite"?{kind:"composite",minZoom:ne,maxZoom:le,interpolationType:A}:{kind:"camera",minZoom:ne,maxZoom:le,minSize:h.evaluate(new xr(ne)),maxSize:h.evaluate(new xr(le)),interpolationType:A}}}class Cd extends V{constructor(l,h,b,A){super(l,h),this.angle=b,A!==void 0&&(this.segment=A)}clone(){return new Cd(this.x,this.y,this.angle,this.segment)}}function UC(u,l,h,b,A){if(l.segment===void 0)return!0;let R=l,U=l.segment+1,ne=0;for(;ne>-h/2;){if(U--,U<0)return!1;ne-=u[U].dist(R),R=u[U]}ne+=u[U].dist(u[U+1]),U++;const le=[];let ve=0;for(;ne<h/2;){const Ie=u[U],Re=u[U+1];if(!Re)return!1;let Ue=u[U-1].angleTo(Ie)-Ie.angleTo(Re);for(Ue=Math.abs((Ue+3*Math.PI)%(2*Math.PI)-Math.PI),le.push({distance:ne,angleDelta:Ue}),ve+=Ue;ne-le[0].distance>b;)ve-=le.shift().angleDelta;if(ve>A)return!1;U++,ne+=Ie.dist(Re)}return!0}function GC(u){let l=0;for(let h=0;h<u.length-1;h++)l+=u[h].dist(u[h+1]);return l}function YC(u,l,h){return u?.6*l*h:0}function VC(u,l){return Math.max(u?u.right-u.left:0,l?l.right-l.left:0)}function _R(u,l,h,b,A,R){const U=YC(h,A,R),ne=VC(h,b)*R;let le=0;const ve=GC(u)/2;for(let Ie=0;Ie<u.length-1;Ie++){const Re=u[Ie],Ue=u[Ie+1],qe=Re.dist(Ue);if(le+qe>ve){const He=(ve-le)/qe,ut=Er(Re.x,Ue.x,He),lt=Er(Re.y,Ue.y,He),_t=new Cd(ut,lt,Ue.angleTo(Re),Ie);return _t._round(),!U||UC(u,_t,ne,U,l)?_t:void 0}le+=qe}}function wR(u,l,h,b,A,R,U,ne,le){const ve=YC(b,R,U),Ie=VC(b,A),Re=Ie*U,Ue=u[0].x===0||u[0].x===le||u[0].y===0||u[0].y===le;return l-Re<l/4&&(l=Re+l/4),WC(u,Ue?l/2*ne%l:(Ie/2+2*R)*U*ne%l,l,ve,h,Re,Ue,!1,le)}function WC(u,l,h,b,A,R,U,ne,le){const ve=R/2,Ie=GC(u);let Re=0,Ue=l-h,qe=[];for(let He=0;He<u.length-1;He++){const ut=u[He],lt=u[He+1],_t=ut.dist(lt),Mt=lt.angleTo(ut);for(;Ue+h<Re+_t;){Ue+=h;const vt=(Ue-Re)/_t,At=Er(ut.x,lt.x,vt),Vt=Er(ut.y,lt.y,vt);if(At>=0&&At<le&&Vt>=0&&Vt<le&&Ue-ve>=0&&Ue+ve<=Ie){const Yt=new Cd(At,Vt,Mt,He);Yt._round(),b&&!UC(u,Yt,R,b,A)||qe.push(Yt)}}Re+=_t}return ne||qe.length||U||(qe=WC(u,Re/2,h,b,A,R,U,!0,le)),qe}function qC(u,l,h,b,A){const R=[];for(let U=0;U<u.length;U++){const ne=u[U];let le;for(let ve=0;ve<ne.length-1;ve++){let Ie=ne[ve],Re=ne[ve+1];Ie.x<l&&Re.x<l||(Ie.x<l?Ie=new V(l,Ie.y+(l-Ie.x)/(Re.x-Ie.x)*(Re.y-Ie.y))._round():Re.x<l&&(Re=new V(l,Ie.y+(l-Ie.x)/(Re.x-Ie.x)*(Re.y-Ie.y))._round()),Ie.y<h&&Re.y<h||(Ie.y<h?Ie=new V(Ie.x+(h-Ie.y)/(Re.y-Ie.y)*(Re.x-Ie.x),h)._round():Re.y<h&&(Re=new V(Ie.x+(h-Ie.y)/(Re.y-Ie.y)*(Re.x-Ie.x),h)._round()),Ie.x>=b&&Re.x>=b||(Ie.x>=b?Ie=new V(b,Ie.y+(b-Ie.x)/(Re.x-Ie.x)*(Re.y-Ie.y))._round():Re.x>=b&&(Re=new V(b,Ie.y+(b-Ie.x)/(Re.x-Ie.x)*(Re.y-Ie.y))._round()),Ie.y>=A&&Re.y>=A||(Ie.y>=A?Ie=new V(Ie.x+(A-Ie.y)/(Re.y-Ie.y)*(Re.x-Ie.x),A)._round():Re.y>=A&&(Re=new V(Ie.x+(A-Ie.y)/(Re.y-Ie.y)*(Re.x-Ie.x),A)._round()),le&&Ie.equals(le[le.length-1])||(le=[Ie],R.push(le)),le.push(Re)))))}}return R}function HC(u,l,h,b){const A=[],R=u.image,U=R.pixelRatio,ne=R.paddedRect.w-2,le=R.paddedRect.h-2,ve=u.right-u.left,Ie=u.bottom-u.top,Re=R.stretchX||[[0,ne]],Ue=R.stretchY||[[0,le]],qe=(Jt,un)=>Jt+un[1]-un[0],He=Re.reduce(qe,0),ut=Ue.reduce(qe,0),lt=ne-He,_t=le-ut;let Mt=0,vt=He,At=0,Vt=ut,Yt=0,wn=lt,Nn=0,cn=_t;if(R.content&&b){const Jt=R.content;Mt=bx(Re,0,Jt[0]),At=bx(Ue,0,Jt[1]),vt=bx(Re,Jt[0],Jt[2]),Vt=bx(Ue,Jt[1],Jt[3]),Yt=Jt[0]-Mt,Nn=Jt[1]-At,wn=Jt[2]-Jt[0]-vt,cn=Jt[3]-Jt[1]-Vt}const nn=(Jt,un,an,Ht)=>{const Mn=_x(Jt.stretch-Mt,vt,ve,u.left),In=wx(Jt.fixed-Yt,wn,Jt.stretch,He),mi=_x(un.stretch-At,Vt,Ie,u.top),gr=wx(un.fixed-Nn,cn,un.stretch,ut),_r=_x(an.stretch-Mt,vt,ve,u.left),wa=wx(an.fixed-Yt,wn,an.stretch,He),ol=_x(Ht.stretch-At,Vt,Ie,u.top),ls=wx(Ht.fixed-Nn,cn,Ht.stretch,ut),fa=new V(Mn,mi),Pa=new V(_r,mi),cs=new V(_r,ol),Es=new V(Mn,ol),fo=new V(In/U,gr/U),ga=new V(wa/U,ls/U),us=l*Math.PI/180;if(us){const go=Math.sin(us),yo=Math.cos(us),Nr=[yo,-go,go,yo];fa._matMult(Nr),Pa._matMult(Nr),Es._matMult(Nr),cs._matMult(Nr)}const ks=Jt.stretch+Jt.fixed,Js=un.stretch+un.fixed;return{tl:fa,tr:Pa,bl:Es,br:cs,tex:{x:R.paddedRect.x+1+ks,y:R.paddedRect.y+1+Js,w:an.stretch+an.fixed-ks,h:Ht.stretch+Ht.fixed-Js},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:fo,pixelOffsetBR:ga,minFontScaleX:wn/U/ve,minFontScaleY:cn/U/Ie,isSDF:h}};if(b&&(R.stretchX||R.stretchY)){const Jt=XC(Re,lt,He),un=XC(Ue,_t,ut);for(let an=0;an<Jt.length-1;an++){const Ht=Jt[an],Mn=Jt[an+1];for(let In=0;In<un.length-1;In++)A.push(nn(Ht,un[In],Mn,un[In+1]))}}else A.push(nn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:ne+1},{fixed:0,stretch:le+1}));return A}function bx(u,l,h){let b=0;for(const A of u)b+=Math.max(l,Math.min(h,A[1]))-Math.max(l,Math.min(h,A[0]));return b}function XC(u,l,h){const b=[{fixed:-1,stretch:0}];for(const[A,R]of u){const U=b[b.length-1];b.push({fixed:A-U.stretch,stretch:U.stretch}),b.push({fixed:A-U.stretch,stretch:U.stretch+(R-A)})}return b.push({fixed:l+1,stretch:h}),b}function _x(u,l,h,b){return u/l*h+b}function wx(u,l,h,b){return u-l*h/b}bn("Anchor",Cd);class Tx{constructor(l,h,b,A,R,U,ne,le,ve,Ie){if(this.boxStartIndex=l.length,ve){let Re=U.top,Ue=U.bottom;const qe=U.collisionPadding;qe&&(Re-=qe[1],Ue+=qe[3]);let He=Ue-Re;He>0&&(He=Math.max(10,He),this.circleDiameter=He)}else{let Re=U.top*ne-le[0],Ue=U.bottom*ne+le[2],qe=U.left*ne-le[3],He=U.right*ne+le[1];const ut=U.collisionPadding;if(ut&&(qe-=ut[0]*ne,Re-=ut[1]*ne,He+=ut[2]*ne,Ue+=ut[3]*ne),Ie){const lt=new V(qe,Re),_t=new V(He,Re),Mt=new V(qe,Ue),vt=new V(He,Ue),At=Ie*Math.PI/180;lt._rotate(At),_t._rotate(At),Mt._rotate(At),vt._rotate(At),qe=Math.min(lt.x,_t.x,Mt.x,vt.x),He=Math.max(lt.x,_t.x,Mt.x,vt.x),Re=Math.min(lt.y,_t.y,Mt.y,vt.y),Ue=Math.max(lt.y,_t.y,Mt.y,vt.y)}l.emplaceBack(h.x,h.y,qe,Re,He,Ue,b,A,R)}this.boxEndIndex=l.length}}class TR{constructor(l=[],h=SR){if(this.data=l,this.length=this.data.length,this.compare=h,this.length>0)for(let b=(this.length>>1)-1;b>=0;b--)this._down(b)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],h=this.data.pop();return this.length--,this.length>0&&(this.data[0]=h,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:h,compare:b}=this,A=h[l];for(;l>0;){const R=l-1>>1,U=h[R];if(b(A,U)>=0)break;h[l]=U,l=R}h[l]=A}_down(l){const{data:h,compare:b}=this,A=this.length>>1,R=h[l];for(;l<A;){let U=1+(l<<1),ne=h[U];const le=U+1;if(le<this.length&&b(h[le],ne)<0&&(U=le,ne=h[le]),b(ne,R)>=0)break;h[l]=ne,l=U}h[l]=R}}function SR(u,l){return u<l?-1:u>l?1:0}function CR(u,l=1,h=!1){let b=1/0,A=1/0,R=-1/0,U=-1/0;const ne=u[0];for(let qe=0;qe<ne.length;qe++){const He=ne[qe];(!qe||He.x<b)&&(b=He.x),(!qe||He.y<A)&&(A=He.y),(!qe||He.x>R)&&(R=He.x),(!qe||He.y>U)&&(U=He.y)}const le=Math.min(R-b,U-A);let ve=le/2;const Ie=new TR([],ER);if(le===0)return new V(b,A);for(let qe=b;qe<R;qe+=le)for(let He=A;He<U;He+=le)Ie.push(new Im(qe+ve,He+ve,ve,u));let Re=function(qe){let He=0,ut=0,lt=0;const _t=qe[0];for(let Mt=0,vt=_t.length,At=vt-1;Mt<vt;At=Mt++){const Vt=_t[Mt],Yt=_t[At],wn=Vt.x*Yt.y-Yt.x*Vt.y;ut+=(Vt.x+Yt.x)*wn,lt+=(Vt.y+Yt.y)*wn,He+=3*wn}return new Im(ut/He,lt/He,0,qe)}(u),Ue=Ie.length;for(;Ie.length;){const qe=Ie.pop();(qe.d>Re.d||!Re.d)&&(Re=qe,h&&console.log("found best %d after %d probes",Math.round(1e4*qe.d)/1e4,Ue)),qe.max-Re.d<=l||(ve=qe.h/2,Ie.push(new Im(qe.p.x-ve,qe.p.y-ve,ve,u)),Ie.push(new Im(qe.p.x+ve,qe.p.y-ve,ve,u)),Ie.push(new Im(qe.p.x-ve,qe.p.y+ve,ve,u)),Ie.push(new Im(qe.p.x+ve,qe.p.y+ve,ve,u)),Ue+=4)}return h&&(console.log(`num probes: ${Ue}`),console.log(`best distance: ${Re.d}`)),Re.p}function ER(u,l){return l.max-u.max}function Im(u,l,h,b){this.p=new V(u,l),this.h=h,this.d=function(A,R){let U=!1,ne=1/0;for(let le=0;le<R.length;le++){const ve=R[le];for(let Ie=0,Re=ve.length,Ue=Re-1;Ie<Re;Ue=Ie++){const qe=ve[Ie],He=ve[Ue];qe.y>A.y!=He.y>A.y&&A.x<(He.x-qe.x)*(A.y-qe.y)/(He.y-qe.y)+qe.x&&(U=!U),ne=Math.min(ne,iC(A,qe,He))}}return(U?1:-1)*Math.sqrt(ne)}(this.p,b),this.max=this.d+this.h*Math.SQRT2}const V_=Number.POSITIVE_INFINITY;function ZC(u,l){return l[1]!==V_?function(h,b,A){let R=0,U=0;switch(b=Math.abs(b),A=Math.abs(A),h){case"top-right":case"top-left":case"top":U=A-7;break;case"bottom-right":case"bottom-left":case"bottom":U=7-A}switch(h){case"top-right":case"bottom-right":case"right":R=-b;break;case"top-left":case"bottom-left":case"left":R=b}return[R,U]}(u,l[0],l[1]):function(h,b){let A=0,R=0;b<0&&(b=0);const U=b/Math.sqrt(2);switch(h){case"top-right":case"top-left":R=U-7;break;case"bottom-right":case"bottom-left":R=7-U;break;case"bottom":R=7-b;break;case"top":R=b-7}switch(h){case"top-right":case"bottom-right":A=-U;break;case"top-left":case"bottom-left":A=U;break;case"left":A=b;break;case"right":A=-b}return[A,R]}(u,l[0])}function W_(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function kR(u,l,h,b,A,R,U,ne,le,ve,Ie){let Re=R.textMaxSize.evaluate(l,{});Re===void 0&&(Re=U);const Ue=u.layers[0].layout,qe=Ue.get("icon-offset").evaluate(l,{},Ie),He=QC(h.horizontal),ut=U/24,lt=u.tilePixelRatio*ut,_t=u.tilePixelRatio*Re/24,Mt=u.tilePixelRatio*ne,vt=u.tilePixelRatio*Ue.get("symbol-spacing"),At=Ue.get("text-padding")*u.tilePixelRatio,Vt=function(Ht,Mn,In,mi=1){const gr=Ht.get("icon-padding").evaluate(Mn,{},In),_r=gr&&gr.values;return[_r[0]*mi,_r[1]*mi,_r[2]*mi,_r[3]*mi]}(Ue,l,Ie,u.tilePixelRatio),Yt=Ue.get("text-max-angle")/180*Math.PI,wn=Ue.get("text-rotation-alignment")!=="viewport"&&Ue.get("symbol-placement")!=="point",Nn=Ue.get("icon-rotation-alignment")==="map"&&Ue.get("symbol-placement")!=="point",cn=Ue.get("symbol-placement"),nn=vt/2,Jt=Ue.get("icon-text-fit");let un;b&&Jt!=="none"&&(u.allowVerticalPlacement&&h.vertical&&(un=jC(b,h.vertical,Jt,Ue.get("icon-text-fit-padding"),qe,ut)),He&&(b=jC(b,He,Jt,Ue.get("icon-text-fit-padding"),qe,ut)));const an=(Ht,Mn)=>{Mn.x<0||Mn.x>=_a||Mn.y<0||Mn.y>=_a||function(In,mi,gr,_r,wa,ol,ls,fa,Pa,cs,Es,fo,ga,us,ks,Js,go,yo,Nr,Da,wi,jo,ds,Ns,Pl){const lc=In.addToLineVertexArray(mi,gr);let cc,Iu,Dl,ll,vo=0,Au=0,Hg=0,mE=0,nw=-1,iw=-1;const Pu={};let fE=ma.exports(""),rw=0,aw=0;if(fa._unevaluatedLayout.getValue("text-radial-offset")===void 0?[rw,aw]=fa.layout.get("text-offset").evaluate(wi,{},Ns).map(xo=>xo*Ha):(rw=fa.layout.get("text-radial-offset").evaluate(wi,{},Ns)*Ha,aw=V_),In.allowVerticalPlacement&&_r.vertical){const xo=fa.layout.get("text-rotate").evaluate(wi,{},Ns)+90;Dl=new Tx(Pa,mi,cs,Es,fo,_r.vertical,ga,us,ks,xo),ls&&(ll=new Tx(Pa,mi,cs,Es,fo,ls,go,yo,ks,xo))}if(wa){const xo=fa.layout.get("icon-rotate").evaluate(wi,{}),Rc=fa.layout.get("icon-text-fit")!=="none",Xg=HC(wa,xo,ds,Rc),Zg=ls?HC(ls,xo,ds,Rc):void 0;Iu=new Tx(Pa,mi,cs,Es,fo,wa,go,yo,!1,xo),vo=4*Xg.length;const vE=In.iconSizeData;let Uh=null;vE.kind==="source"?(Uh=[Lu*fa.layout.get("icon-size").evaluate(wi,{})],Uh[0]>Ed&&S(`${In.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):vE.kind==="composite"&&(Uh=[Lu*jo.compositeIconSizes[0].evaluate(wi,{},Ns),Lu*jo.compositeIconSizes[1].evaluate(wi,{},Ns)],(Uh[0]>Ed||Uh[1]>Ed)&&S(`${In.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),In.addSymbols(In.icon,Xg,Uh,Da,Nr,wi,s.WritingMode.none,mi,lc.lineStartIndex,lc.lineLength,-1,Ns),nw=In.icon.placedSymbolArray.length-1,Zg&&(Au=4*Zg.length,In.addSymbols(In.icon,Zg,Uh,Da,Nr,wi,s.WritingMode.vertical,mi,lc.lineStartIndex,lc.lineLength,-1,Ns),iw=In.icon.placedSymbolArray.length-1)}const gE=Object.keys(_r.horizontal);for(const xo of gE){const Rc=_r.horizontal[xo];if(!cc){fE=ma.exports(Rc.text);const Zg=fa.layout.get("text-rotate").evaluate(wi,{},Ns);cc=new Tx(Pa,mi,cs,Es,fo,Rc,ga,us,ks,Zg)}const Xg=Rc.positionedLines.length===1;if(Hg+=KC(In,mi,Rc,ol,fa,ks,wi,Js,lc,_r.vertical?s.WritingMode.horizontal:s.WritingMode.horizontalOnly,Xg?gE:[xo],Pu,nw,jo,Ns),Xg)break}_r.vertical&&(mE+=KC(In,mi,_r.vertical,ol,fa,ks,wi,Js,lc,s.WritingMode.vertical,["vertical"],Pu,iw,jo,Ns));const jR=cc?cc.boxStartIndex:In.collisionBoxArray.length,BR=cc?cc.boxEndIndex:In.collisionBoxArray.length,UR=Dl?Dl.boxStartIndex:In.collisionBoxArray.length,GR=Dl?Dl.boxEndIndex:In.collisionBoxArray.length,YR=Iu?Iu.boxStartIndex:In.collisionBoxArray.length,VR=Iu?Iu.boxEndIndex:In.collisionBoxArray.length,WR=ll?ll.boxStartIndex:In.collisionBoxArray.length,qR=ll?ll.boxEndIndex:In.collisionBoxArray.length;let uc=-1;const Nx=(xo,Rc)=>xo&&xo.circleDiameter?Math.max(xo.circleDiameter,Rc):Rc;uc=Nx(cc,uc),uc=Nx(Dl,uc),uc=Nx(Iu,uc),uc=Nx(ll,uc);const yE=uc>-1?1:0;yE&&(uc*=Pl/Ha),In.glyphOffsetArray.length>=Am.MAX_GLYPHS&&S("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),wi.sortKey!==void 0&&In.addToSortKeyRanges(In.symbolInstances.length,wi.sortKey),In.symbolInstances.emplaceBack(mi.x,mi.y,Pu.right>=0?Pu.right:-1,Pu.center>=0?Pu.center:-1,Pu.left>=0?Pu.left:-1,Pu.vertical||-1,nw,iw,fE,jR,BR,UR,GR,YR,VR,WR,qR,cs,Hg,mE,vo,Au,yE,0,ga,rw,aw,uc)}(u,Mn,Ht,h,b,A,un,u.layers[0],u.collisionBoxArray,l.index,l.sourceLayerIndex,u.index,lt,[At,At,At,At],wn,le,Mt,Vt,Nn,qe,l,R,ve,Ie,U)};if(cn==="line")for(const Ht of qC(l.geometry,0,0,_a,_a)){const Mn=wR(Ht,vt,Yt,h.vertical||He,b,24,_t,u.overscaling,_a);for(const In of Mn){const mi=He;mi&&NR(u,mi.text,nn,In)||an(Ht,In)}}else if(cn==="line-center"){for(const Ht of l.geometry)if(Ht.length>1){const Mn=_R(Ht,Yt,h.vertical||He,b,24,_t);Mn&&an(Ht,Mn)}}else if(l.type==="Polygon")for(const Ht of D_(l.geometry,0)){const Mn=CR(Ht,16);an(Ht[0],new Cd(Mn.x,Mn.y,0))}else if(l.type==="LineString")for(const Ht of l.geometry)an(Ht,new Cd(Ht[0].x,Ht[0].y,0));else if(l.type==="Point")for(const Ht of l.geometry)for(const Mn of Ht)an([Mn],new Cd(Mn.x,Mn.y,0))}const Ed=32640;function KC(u,l,h,b,A,R,U,ne,le,ve,Ie,Re,Ue,qe,He){const ut=function(Mt,vt,At,Vt,Yt,wn,Nn,cn){const nn=Vt.layout.get("text-rotate").evaluate(wn,{})*Math.PI/180,Jt=[];for(const un of vt.positionedLines)for(const an of un.positionedGlyphs){if(!an.rect)continue;const Ht=an.rect||{};let Mn=4,In=!0,mi=1,gr=0;const _r=(Yt||cn)&&an.vertical,wa=an.metrics.advance*an.scale/2;if(cn&&vt.verticalizable){const Nr=(an.scale-1)*Ha,Da=(Ha-an.metrics.width*an.scale)/2;gr=un.lineOffset/2-(an.imageName?-Da:Nr)}if(an.imageName){const Nr=Nn[an.imageName];In=Nr.sdf,mi=Nr.pixelRatio,Mn=1/mi}const ol=Yt?[an.x+wa,an.y]:[0,0];let ls=Yt?[0,0]:[an.x+wa+At[0],an.y+At[1]-gr],fa=[0,0];_r&&(fa=ls,ls=[0,0]);const Pa=(an.metrics.left-Mn)*an.scale-wa+ls[0],cs=(-an.metrics.top-Mn)*an.scale+ls[1],Es=Pa+Ht.w*an.scale/mi,fo=cs+Ht.h*an.scale/mi,ga=new V(Pa,cs),us=new V(Es,cs),ks=new V(Pa,fo),Js=new V(Es,fo);if(_r){const Nr=new V(-wa,wa-yx),Da=-Math.PI/2,wi=12-wa,jo=new V(22-wi,-(an.imageName?wi:0)),ds=new V(...fa);ga._rotateAround(Da,Nr)._add(jo)._add(ds),us._rotateAround(Da,Nr)._add(jo)._add(ds),ks._rotateAround(Da,Nr)._add(jo)._add(ds),Js._rotateAround(Da,Nr)._add(jo)._add(ds)}if(nn){const Nr=Math.sin(nn),Da=Math.cos(nn),wi=[Da,-Nr,Nr,Da];ga._matMult(wi),us._matMult(wi),ks._matMult(wi),Js._matMult(wi)}const go=new V(0,0),yo=new V(0,0);Jt.push({tl:ga,tr:us,bl:ks,br:Js,tex:Ht,writingMode:vt.writingMode,glyphOffset:ol,sectionIndex:an.sectionIndex,isSDF:In,pixelOffsetTL:go,pixelOffsetBR:yo,minFontScaleX:0,minFontScaleY:0})}return Jt}(0,h,ne,A,R,U,b,u.allowVerticalPlacement),lt=u.textSizeData;let _t=null;lt.kind==="source"?(_t=[Lu*A.layout.get("text-size").evaluate(U,{})],_t[0]>Ed&&S(`${u.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):lt.kind==="composite"&&(_t=[Lu*qe.compositeTextSizes[0].evaluate(U,{},He),Lu*qe.compositeTextSizes[1].evaluate(U,{},He)],(_t[0]>Ed||_t[1]>Ed)&&S(`${u.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),u.addSymbols(u.text,ut,_t,ne,R,U,ve,l,le.lineStartIndex,le.lineLength,Ue,He);for(const Mt of Ie)Re[Mt]=u.text.placedSymbolArray.length-1;return 4*ut.length}function QC(u){for(const l in u)return u[l];return null}function NR(u,l,h,b){const A=u.compareText;if(l in A){const R=A[l];for(let U=R.length-1;U>=0;U--)if(b.dist(R[U])<h)return!0}else A[l]=[];return A[l].push(b),!1}const LR=Td.VectorTileFeature.types,IR=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Sx(u,l,h,b,A,R,U,ne,le,ve,Ie,Re,Ue){const qe=ne?Math.min(Ed,Math.round(ne[0])):0,He=ne?Math.min(Ed,Math.round(ne[1])):0;u.emplaceBack(l,h,Math.round(32*b),Math.round(32*A),R,U,(qe<<1)+(le?1:0),He,16*ve,16*Ie,256*Re,256*Ue)}function q_(u,l,h){u.emplaceBack(l.x,l.y,h),u.emplaceBack(l.x,l.y,h),u.emplaceBack(l.x,l.y,h),u.emplaceBack(l.x,l.y,h)}function AR(u){for(const l of u.sections)if(x_(l.text))return!0;return!1}class H_{constructor(l){this.layoutVertexArray=new mo,this.indexArray=new qa,this.programConfigurations=l,this.segments=new Mi,this.dynamicLayoutVertexArray=new Al,this.opacityVertexArray=new tl,this.placedSymbolArray=new Ut}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,h,b,A){this.isEmpty()||(b&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,eR.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,h),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,tR.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,IR,!0),this.opacityVertexBuffer.itemSize=1),(b||A)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}bn("SymbolBuffers",H_);class X_{constructor(l,h,b){this.layoutVertexArray=new l,this.layoutAttributes=h,this.indexArray=new b,this.segments=new Mi,this.collisionVertexArray=new Cu}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,nR.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}bn("CollisionBuffers",X_);class Am{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(U=>U.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=k_([]),this.placementViewportMatrix=k_([]);const h=this.layers[0]._unevaluatedLayout._values;this.textSizeData=BC(this.zoom,h["text-size"]),this.iconSizeData=BC(this.zoom,h["icon-size"]);const b=this.layers[0].layout,A=b.get("symbol-sort-key"),R=b.get("symbol-z-order");this.canOverlap=K_(b,"text-overlap","text-allow-overlap")!=="never"||K_(b,"icon-overlap","icon-allow-overlap")!=="never"||b.get("text-ignore-placement")||b.get("icon-ignore-placement"),this.sortFeaturesByKey=R!=="viewport-y"&&!A.isConstant(),this.sortFeaturesByY=(R==="viewport-y"||R==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,b.get("symbol-placement")==="point"&&(this.writingModes=b.get("text-writing-mode").map(U=>s.WritingMode[U])),this.stateDependentLayerIds=this.layers.filter(U=>U.isStateDependent()).map(U=>U.id),this.sourceID=l.sourceID}createArrays(){this.text=new H_(new $h(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new H_(new $h(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new hn,this.lineVertexArray=new tn,this.symbolInstances=new zt}calculateGlyphDependencies(l,h,b,A,R){for(let U=0;U<l.length;U++)if(h[l.charCodeAt(U)]=!0,(b||A)&&R){const ne=Yg[l.charAt(U)];ne&&(h[ne.charCodeAt(0)]=!0)}}populate(l,h,b){const A=this.layers[0],R=A.layout,U=R.get("text-font"),ne=R.get("text-field"),le=R.get("icon-image"),ve=(ne.value.kind!=="constant"||ne.value.value instanceof ct&&!ne.value.value.isEmpty()||ne.value.value.toString().length>0)&&(U.value.kind!=="constant"||U.value.value.length>0),Ie=le.value.kind!=="constant"||!!le.value.value||Object.keys(le.parameters).length>0,Re=R.get("symbol-sort-key");if(this.features=[],!ve&&!Ie)return;const Ue=h.iconDependencies,qe=h.glyphDependencies,He=h.availableImages,ut=new xr(this.zoom);for(const{feature:lt,id:_t,index:Mt,sourceLayerIndex:vt}of l){const At=A._featureFilter.needGeometry,Vt=Fh(lt,At);if(!A._featureFilter.filter(ut,Vt,b))continue;let Yt,wn;if(At||(Vt.geometry=zh(lt)),ve){const cn=A.getValueAndResolveTokens("text-field",Vt,b,He),nn=ct.factory(cn);AR(nn)&&(this.hasRTLText=!0),(!this.hasRTLText||Ig()==="unavailable"||this.hasRTLText&&zo.isParsed())&&(Yt=rR(nn,A,Vt))}if(Ie){const cn=A.getValueAndResolveTokens("icon-image",Vt,b,He);wn=cn instanceof it?cn:it.fromString(cn)}if(!Yt&&!wn)continue;const Nn=this.sortFeaturesByKey?Re.evaluate(Vt,{},b):void 0;if(this.features.push({id:_t,text:Yt,icon:wn,index:Mt,sourceLayerIndex:vt,geometry:Vt.geometry,properties:lt.properties,type:LR[lt.type],sortKey:Nn}),wn&&(Ue[wn.name]=!0),Yt){const cn=U.evaluate(Vt,{},b).join(","),nn=R.get("text-rotation-alignment")!=="viewport"&&R.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(s.WritingMode.vertical)>=0;for(const Jt of Yt.sections)if(Jt.image)Ue[Jt.image.name]=!0;else{const un=Cg(Yt.toString()),an=Jt.fontStack||cn,Ht=qe[an]=qe[an]||{};this.calculateGlyphDependencies(Jt.text,Ht,nn,this.allowVerticalPlacement,un)}}}R.get("symbol-placement")==="line"&&(this.features=function(lt){const _t={},Mt={},vt=[];let At=0;function Vt(cn){vt.push(lt[cn]),At++}function Yt(cn,nn,Jt){const un=Mt[cn];return delete Mt[cn],Mt[nn]=un,vt[un].geometry[0].pop(),vt[un].geometry[0]=vt[un].geometry[0].concat(Jt[0]),un}function wn(cn,nn,Jt){const un=_t[nn];return delete _t[nn],_t[cn]=un,vt[un].geometry[0].shift(),vt[un].geometry[0]=Jt[0].concat(vt[un].geometry[0]),un}function Nn(cn,nn,Jt){const un=Jt?nn[0][nn[0].length-1]:nn[0][0];return`${cn}:${un.x}:${un.y}`}for(let cn=0;cn<lt.length;cn++){const nn=lt[cn],Jt=nn.geometry,un=nn.text?nn.text.toString():null;if(!un){Vt(cn);continue}const an=Nn(un,Jt),Ht=Nn(un,Jt,!0);if(an in Mt&&Ht in _t&&Mt[an]!==_t[Ht]){const Mn=wn(an,Ht,Jt),In=Yt(an,Ht,vt[Mn].geometry);delete _t[an],delete Mt[Ht],Mt[Nn(un,vt[In].geometry,!0)]=In,vt[Mn].geometry=null}else an in Mt?Yt(an,Ht,Jt):Ht in _t?wn(an,Ht,Jt):(Vt(cn),_t[an]=At-1,Mt[Ht]=At-1)}return vt.filter(cn=>cn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((lt,_t)=>lt.sortKey-_t.sortKey)}update(l,h,b){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,h,this.layers,b),this.icon.programConfigurations.updatePaintArrays(l,h,this.layers,b))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,h){const b=this.lineVertexArray.length;if(l.segment!==void 0){let A=l.dist(h[l.segment+1]),R=l.dist(h[l.segment]);const U={};for(let ne=l.segment+1;ne<h.length;ne++)U[ne]={x:h[ne].x,y:h[ne].y,tileUnitDistanceFromAnchor:A},ne<h.length-1&&(A+=h[ne+1].dist(h[ne]));for(let ne=l.segment||0;ne>=0;ne--)U[ne]={x:h[ne].x,y:h[ne].y,tileUnitDistanceFromAnchor:R},ne>0&&(R+=h[ne-1].dist(h[ne]));for(let ne=0;ne<h.length;ne++){const le=U[ne];this.lineVertexArray.emplaceBack(le.x,le.y,le.tileUnitDistanceFromAnchor)}}return{lineStartIndex:b,lineLength:this.lineVertexArray.length-b}}addSymbols(l,h,b,A,R,U,ne,le,ve,Ie,Re,Ue){const qe=l.indexArray,He=l.layoutVertexArray,ut=l.segments.prepareSegment(4*h.length,He,qe,this.canOverlap?U.sortKey:void 0),lt=this.glyphOffsetArray.length,_t=ut.vertexLength,Mt=this.allowVerticalPlacement&&ne===s.WritingMode.vertical?Math.PI/2:0,vt=U.text&&U.text.sections;for(let At=0;At<h.length;At++){const{tl:Vt,tr:Yt,bl:wn,br:Nn,tex:cn,pixelOffsetTL:nn,pixelOffsetBR:Jt,minFontScaleX:un,minFontScaleY:an,glyphOffset:Ht,isSDF:Mn,sectionIndex:In}=h[At],mi=ut.vertexLength,gr=Ht[1];Sx(He,le.x,le.y,Vt.x,gr+Vt.y,cn.x,cn.y,b,Mn,nn.x,nn.y,un,an),Sx(He,le.x,le.y,Yt.x,gr+Yt.y,cn.x+cn.w,cn.y,b,Mn,Jt.x,nn.y,un,an),Sx(He,le.x,le.y,wn.x,gr+wn.y,cn.x,cn.y+cn.h,b,Mn,nn.x,Jt.y,un,an),Sx(He,le.x,le.y,Nn.x,gr+Nn.y,cn.x+cn.w,cn.y+cn.h,b,Mn,Jt.x,Jt.y,un,an),q_(l.dynamicLayoutVertexArray,le,Mt),qe.emplaceBack(mi,mi+1,mi+2),qe.emplaceBack(mi+1,mi+2,mi+3),ut.vertexLength+=4,ut.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ht[0]),At!==h.length-1&&In===h[At+1].sectionIndex||l.programConfigurations.populatePaintArrays(He.length,U,U.index,{},Ue,vt&&vt[In])}l.placedSymbolArray.emplaceBack(le.x,le.y,lt,this.glyphOffsetArray.length-lt,_t,ve,Ie,le.segment,b?b[0]:0,b?b[1]:0,A[0],A[1],ne,0,!1,0,Re)}_addCollisionDebugVertex(l,h,b,A,R,U){return h.emplaceBack(0,0),l.emplaceBack(b.x,b.y,A,R,Math.round(U.x),Math.round(U.y))}addCollisionDebugVertices(l,h,b,A,R,U,ne){const le=R.segments.prepareSegment(4,R.layoutVertexArray,R.indexArray),ve=le.vertexLength,Ie=R.layoutVertexArray,Re=R.collisionVertexArray,Ue=ne.anchorX,qe=ne.anchorY;this._addCollisionDebugVertex(Ie,Re,U,Ue,qe,new V(l,h)),this._addCollisionDebugVertex(Ie,Re,U,Ue,qe,new V(b,h)),this._addCollisionDebugVertex(Ie,Re,U,Ue,qe,new V(b,A)),this._addCollisionDebugVertex(Ie,Re,U,Ue,qe,new V(l,A)),le.vertexLength+=4;const He=R.indexArray;He.emplaceBack(ve,ve+1),He.emplaceBack(ve+1,ve+2),He.emplaceBack(ve+2,ve+3),He.emplaceBack(ve+3,ve),le.primitiveLength+=4}addDebugCollisionBoxes(l,h,b,A){for(let R=l;R<h;R++){const U=this.collisionBoxArray.get(R);this.addCollisionDebugVertices(U.x1,U.y1,U.x2,U.y2,A?this.textCollisionBox:this.iconCollisionBox,U.anchorPoint,b)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new X_(nl,kC.members,il),this.iconCollisionBox=new X_(nl,kC.members,il);for(let l=0;l<this.symbolInstances.length;l++){const h=this.symbolInstances.get(l);this.addDebugCollisionBoxes(h.textBoxStartIndex,h.textBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.iconBoxStartIndex,h.iconBoxEndIndex,h,!1),this.addDebugCollisionBoxes(h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex,h,!1)}}_deserializeCollisionBoxesForSymbol(l,h,b,A,R,U,ne,le,ve){const Ie={};for(let Re=h;Re<b;Re++){const Ue=l.get(Re);Ie.textBox={x1:Ue.x1,y1:Ue.y1,x2:Ue.x2,y2:Ue.y2,anchorPointX:Ue.anchorPointX,anchorPointY:Ue.anchorPointY},Ie.textFeatureIndex=Ue.featureIndex;break}for(let Re=A;Re<R;Re++){const Ue=l.get(Re);Ie.verticalTextBox={x1:Ue.x1,y1:Ue.y1,x2:Ue.x2,y2:Ue.y2,anchorPointX:Ue.anchorPointX,anchorPointY:Ue.anchorPointY},Ie.verticalTextFeatureIndex=Ue.featureIndex;break}for(let Re=U;Re<ne;Re++){const Ue=l.get(Re);Ie.iconBox={x1:Ue.x1,y1:Ue.y1,x2:Ue.x2,y2:Ue.y2,anchorPointX:Ue.anchorPointX,anchorPointY:Ue.anchorPointY},Ie.iconFeatureIndex=Ue.featureIndex;break}for(let Re=le;Re<ve;Re++){const Ue=l.get(Re);Ie.verticalIconBox={x1:Ue.x1,y1:Ue.y1,x2:Ue.x2,y2:Ue.y2,anchorPointX:Ue.anchorPointX,anchorPointY:Ue.anchorPointY},Ie.verticalIconFeatureIndex=Ue.featureIndex;break}return Ie}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let h=0;h<this.symbolInstances.length;h++){const b=this.symbolInstances.get(h);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,b.textBoxStartIndex,b.textBoxEndIndex,b.verticalTextBoxStartIndex,b.verticalTextBoxEndIndex,b.iconBoxStartIndex,b.iconBoxEndIndex,b.verticalIconBoxStartIndex,b.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,h){const b=l.placedSymbolArray.get(h),A=b.vertexStartIndex+4*b.numGlyphs;for(let R=b.vertexStartIndex;R<A;R+=4)l.indexArray.emplaceBack(R,R+1,R+2),l.indexArray.emplaceBack(R+1,R+2,R+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const h=Math.sin(l),b=Math.cos(l),A=[],R=[],U=[];for(let ne=0;ne<this.symbolInstances.length;++ne){U.push(ne);const le=this.symbolInstances.get(ne);A.push(0|Math.round(h*le.anchorX+b*le.anchorY)),R.push(le.featureIndex)}return U.sort((ne,le)=>A[ne]-A[le]||R[le]-R[ne]),U}addToSortKeyRanges(l,h){const b=this.sortKeyRanges[this.sortKeyRanges.length-1];b&&b.sortKey===h?b.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:h,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const h of this.symbolInstanceIndexes){const b=this.symbolInstances.get(h);this.featureSortOrder.push(b.featureIndex),[b.rightJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.leftJustifiedTextSymbolIndex].forEach((A,R,U)=>{A>=0&&U.indexOf(A)===R&&this.addIndicesForPlacedSymbol(this.text,A)}),b.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,b.verticalPlacedTextSymbolIndex),b.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.placedIconSymbolIndex),b.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}bn("SymbolBucket",Am,{omit:["layers","collisionBoxArray","features","compareText"]}),Am.MAX_GLYPHS=65535,Am.addDynamicAttributes=q_;const PR=new ba({"symbol-placement":new Ln(Me.layout_symbol["symbol-placement"]),"symbol-spacing":new Ln(Me.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ln(Me.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new $n(Me.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ln(Me.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ln(Me.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Ln(Me.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Ln(Me.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ln(Me.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ln(Me.layout_symbol["icon-rotation-alignment"]),"icon-size":new $n(Me.layout_symbol["icon-size"]),"icon-text-fit":new Ln(Me.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ln(Me.layout_symbol["icon-text-fit-padding"]),"icon-image":new $n(Me.layout_symbol["icon-image"]),"icon-rotate":new $n(Me.layout_symbol["icon-rotate"]),"icon-padding":new $n(Me.layout_symbol["icon-padding"]),"icon-keep-upright":new Ln(Me.layout_symbol["icon-keep-upright"]),"icon-offset":new $n(Me.layout_symbol["icon-offset"]),"icon-anchor":new $n(Me.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ln(Me.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ln(Me.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ln(Me.layout_symbol["text-rotation-alignment"]),"text-field":new $n(Me.layout_symbol["text-field"]),"text-font":new $n(Me.layout_symbol["text-font"]),"text-size":new $n(Me.layout_symbol["text-size"]),"text-max-width":new $n(Me.layout_symbol["text-max-width"]),"text-line-height":new Ln(Me.layout_symbol["text-line-height"]),"text-letter-spacing":new $n(Me.layout_symbol["text-letter-spacing"]),"text-justify":new $n(Me.layout_symbol["text-justify"]),"text-radial-offset":new $n(Me.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ln(Me.layout_symbol["text-variable-anchor"]),"text-anchor":new $n(Me.layout_symbol["text-anchor"]),"text-max-angle":new Ln(Me.layout_symbol["text-max-angle"]),"text-writing-mode":new Ln(Me.layout_symbol["text-writing-mode"]),"text-rotate":new $n(Me.layout_symbol["text-rotate"]),"text-padding":new Ln(Me.layout_symbol["text-padding"]),"text-keep-upright":new Ln(Me.layout_symbol["text-keep-upright"]),"text-transform":new $n(Me.layout_symbol["text-transform"]),"text-offset":new $n(Me.layout_symbol["text-offset"]),"text-allow-overlap":new Ln(Me.layout_symbol["text-allow-overlap"]),"text-overlap":new Ln(Me.layout_symbol["text-overlap"]),"text-ignore-placement":new Ln(Me.layout_symbol["text-ignore-placement"]),"text-optional":new Ln(Me.layout_symbol["text-optional"])});var Z_={paint:new ba({"icon-opacity":new $n(Me.paint_symbol["icon-opacity"]),"icon-color":new $n(Me.paint_symbol["icon-color"]),"icon-halo-color":new $n(Me.paint_symbol["icon-halo-color"]),"icon-halo-width":new $n(Me.paint_symbol["icon-halo-width"]),"icon-halo-blur":new $n(Me.paint_symbol["icon-halo-blur"]),"icon-translate":new Ln(Me.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ln(Me.paint_symbol["icon-translate-anchor"]),"text-opacity":new $n(Me.paint_symbol["text-opacity"]),"text-color":new $n(Me.paint_symbol["text-color"],{runtimeType:sn,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new $n(Me.paint_symbol["text-halo-color"]),"text-halo-width":new $n(Me.paint_symbol["text-halo-width"]),"text-halo-blur":new $n(Me.paint_symbol["text-halo-blur"]),"text-translate":new Ln(Me.paint_symbol["text-translate"]),"text-translate-anchor":new Ln(Me.paint_symbol["text-translate-anchor"])}),layout:PR};class JC{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:$t,this.defaultValue=l}evaluate(l){if(l.formattedSection){const h=this.defaultValue.property.overrides;if(h&&h.hasOverride(l.formattedSection))return h.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}bn("FormatSectionOverride",JC,{omit:["defaultValue"]});class Cx extends Xs{constructor(l){super(l,Z_)}recalculate(l,h){if(super.recalculate(l,h),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const b=this.layout.get("text-writing-mode");if(b){const A=[];for(const R of b)A.indexOf(R)<0&&A.push(R);this.layout._values["text-writing-mode"]=A}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,h,b,A){const R=this.layout.get(l).evaluate(h,{},b,A),U=this._unevaluatedLayout._values[l];return U.isDataDriven()||_h(U.value)||!R?R:function(ne,le){return le.replace(/{([^{}]+)}/g,(ve,Ie)=>Ie in ne?String(ne[Ie]):"")}(h.properties,R)}createBucket(l){return new Am(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of Z_.paint.overridableProperties){if(!Cx.hasPaintOverride(this.layout,l))continue;const h=this.paint.get(l),b=new JC(h),A=new xg(b,h.property.specification);let R=null;R=h.value.kind==="constant"||h.value.kind==="source"?new rm("source",A):new Th("composite",A,h.value.zoomStops),this.paint._values[l]=new Il(h.property,R,h.parameters)}}_handleOverridablePaintPropertyUpdate(l,h,b){return!(!this.layout||h.isDataDriven()||b.isDataDriven())&&Cx.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,h){const b=l.get("text-field"),A=Z_.paint.properties[h];let R=!1;const U=ne=>{for(const le of ne)if(A.overrides&&A.overrides.hasOverride(le))return void(R=!0)};if(b.value.kind==="constant"&&b.value.value instanceof ct)U(b.value.value.sections);else if(b.value.kind==="source"){const ne=ve=>{R||(ve instanceof pn&&Ft(ve.value)===ii?U(ve.value.sections):ve instanceof im?U(ve.sections):ve.eachChild(ne))},le=b.value;le._styleExpression&&ne(le._styleExpression.expression)}return R}}function K_(u,l,h){let b="never";const A=u.get(l);return A?b=A:u.get(h)&&(b="always"),b}var DR={paint:new ba({"background-color":new Ln(Me.paint_background["background-color"]),"background-pattern":new Dh(Me.paint_background["background-pattern"]),"background-opacity":new Ln(Me.paint_background["background-opacity"])})},MR={paint:new ba({"raster-opacity":new Ln(Me.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ln(Me.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ln(Me.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ln(Me.paint_raster["raster-brightness-max"]),"raster-saturation":new Ln(Me.paint_raster["raster-saturation"]),"raster-contrast":new Ln(Me.paint_raster["raster-contrast"]),"raster-resampling":new Ln(Me.paint_raster["raster-resampling"]),"raster-fade-duration":new Ln(Me.paint_raster["raster-fade-duration"])})};class OR extends Xs{constructor(l){super(l,{}),this.onAdd=h=>{this.implementation.onAdd&&this.implementation.onAdd(h,h.painter.context.gl)},this.onRemove=h=>{this.implementation.onRemove&&this.implementation.onRemove(h,h.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const RR={circle:class extends Xs{constructor(u){super(u,mO)}createBucket(u){return new S_(u)}queryRadius(u){const l=u;return Og("circle-radius",this,l)+Og("circle-stroke-width",this,l)+lx(this.paint.get("circle-translate"))}queryIntersectsFeature(u,l,h,b,A,R,U,ne){const le=cx(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),R.angle,U),ve=this.paint.get("circle-radius").evaluate(l,h)+this.paint.get("circle-stroke-width").evaluate(l,h),Ie=this.paint.get("circle-pitch-alignment")==="map",Re=Ie?le:function(qe,He){return qe.map(ut=>uC(ut,He))}(le,ne),Ue=Ie?ve*U:ve;for(const qe of b)for(const He of qe){const ut=Ie?He:uC(He,ne);let lt=Ue;const _t=ux([],[He.x,He.y,0,1],ne);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?lt*=_t[3]/R.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(lt*=R.cameraToCenterDistance/_t[3]),cO(Re,ut,lt))return!0}return!1}},heatmap:class extends Xs{constructor(u){super(u,gO),this._updateColorRamp()}createBucket(u){return new dC(u)}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=pC({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}},hillshade:class extends Xs{constructor(u){super(u,yO)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}},fill:class extends Xs{constructor(u){super(u,PO)}recalculate(u,l){super.recalculate(u,l);const h=this.paint._values["fill-outline-color"];h.value.kind==="constant"&&h.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new R_(u)}queryRadius(){return lx(this.paint.get("fill-translate"))}queryIntersectsFeature(u,l,h,b,A,R,U){return nC(cx(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),R.angle,U),b)}isTileClipped(){return!0}},"fill-extrusion":class extends Xs{constructor(u){super(u,WO)}createBucket(u){return new z_(u)}queryRadius(){return lx(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(u,l,h,b,A,R,U,ne){const le=cx(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),R.angle,U),ve=this.paint.get("fill-extrusion-height").evaluate(l,h),Ie=this.paint.get("fill-extrusion-base").evaluate(l,h),Re=function(qe,He,ut,lt){const _t=[];for(const Mt of qe){const vt=[Mt.x,Mt.y,0,1];ux(vt,vt,He),_t.push(new V(vt[0]/vt[3],vt[1]/vt[3]))}return _t}(le,ne),Ue=function(qe,He,ut,lt){const _t=[],Mt=[],vt=lt[8]*He,At=lt[9]*He,Vt=lt[10]*He,Yt=lt[11]*He,wn=lt[8]*ut,Nn=lt[9]*ut,cn=lt[10]*ut,nn=lt[11]*ut;for(const Jt of qe){const un=[],an=[];for(const Ht of Jt){const Mn=Ht.x,In=Ht.y,mi=lt[0]*Mn+lt[4]*In+lt[12],gr=lt[1]*Mn+lt[5]*In+lt[13],_r=lt[2]*Mn+lt[6]*In+lt[14],wa=lt[3]*Mn+lt[7]*In+lt[15],ol=_r+Vt,ls=wa+Yt,fa=mi+wn,Pa=gr+Nn,cs=_r+cn,Es=wa+nn,fo=new V((mi+vt)/ls,(gr+At)/ls);fo.z=ol/ls,un.push(fo);const ga=new V(fa/Es,Pa/Es);ga.z=cs/Es,an.push(ga)}_t.push(un),Mt.push(an)}return[_t,Mt]}(b,Ie,ve,ne);return function(qe,He,ut){let lt=1/0;nC(ut,He)&&(lt=wC(ut,He[0]));for(let _t=0;_t<He.length;_t++){const Mt=He[_t],vt=qe[_t];for(let At=0;At<Mt.length-1;At++){const Vt=Mt[At],Yt=[Vt,Mt[At+1],vt[At+1],vt[At],Vt];tC(ut,Yt)&&(lt=Math.min(lt,wC(ut,Yt)))}}return lt!==1/0&&lt}(Ue[0],Ue[1],Re)}},line:class extends Xs{constructor(u){super(u,SC),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(u){u==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof yh,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(u,l){super.recalculate(u,l),this.paint._values["line-floorwidth"]=CC.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new F_(u)}queryRadius(u){const l=u,h=EC(Og("line-width",this,l),Og("line-gap-width",this,l)),b=Og("line-offset",this,l);return h/2+Math.abs(b)+lx(this.paint.get("line-translate"))}queryIntersectsFeature(u,l,h,b,A,R,U){const ne=cx(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),R.angle,U),le=U/2*EC(this.paint.get("line-width").evaluate(l,h),this.paint.get("line-gap-width").evaluate(l,h)),ve=this.paint.get("line-offset").evaluate(l,h);return ve&&(b=function(Ie,Re){const Ue=[];for(let qe=0;qe<Ie.length;qe++){const He=Ie[qe],ut=[];for(let lt=0;lt<He.length;lt++){const _t=He[lt-1],Mt=He[lt],vt=He[lt+1],At=lt===0?new V(0,0):Mt.sub(_t)._unit()._perp(),Vt=lt===He.length-1?new V(0,0):vt.sub(Mt)._unit()._perp(),Yt=At._add(Vt)._unit(),wn=Yt.x*Vt.x+Yt.y*Vt.y;wn!==0&&Yt._mult(1/wn),ut.push(Yt._mult(Re)._add(Mt))}Ue.push(ut)}return Ue}(b,ve*U)),function(Ie,Re,Ue){for(let qe=0;qe<Re.length;qe++){const He=Re[qe];if(Ie.length>=3){for(let ut=0;ut<He.length;ut++)if(Sm(Ie,He[ut]))return!0}if(uO(Ie,He,Ue))return!0}return!1}(ne,b,le)}isTileClipped(){return!0}},symbol:Cx,background:class extends Xs{constructor(u){super(u,DR)}},raster:class extends Xs{constructor(u){super(u,MR)}}};class $R{constructor(l){this._callback=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const eE=63710088e-1;class Vr{constructor(l,h){if(isNaN(l)||isNaN(h))throw new Error(`Invalid LngLat object: (${l}, ${h})`);if(this.lng=+l,this.lat=+h,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Vr(_(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const h=Math.PI/180,b=this.lat*h,A=l.lat*h,R=Math.sin(b)*Math.sin(A)+Math.cos(b)*Math.cos(A)*Math.cos((l.lng-this.lng)*h);return eE*Math.acos(Math.min(R,1))}toBounds(l=0){const h=360*l/40075017,b=h/Math.cos(Math.PI/180*this.lat);return new Bh(new Vr(this.lng-b,this.lat-h),new Vr(this.lng+b,this.lat+h))}static convert(l){if(l instanceof Vr)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Vr(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Vr(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Bh{constructor(l,h){l&&(h?this.setSouthWest(l).setNorthEast(h):l.length===4?this.setSouthWest([l[0],l[1]]).setNorthEast([l[2],l[3]]):this.setSouthWest(l[0]).setNorthEast(l[1]))}setNorthEast(l){return this._ne=l instanceof Vr?new Vr(l.lng,l.lat):Vr.convert(l),this}setSouthWest(l){return this._sw=l instanceof Vr?new Vr(l.lng,l.lat):Vr.convert(l),this}extend(l){const h=this._sw,b=this._ne;let A,R;if(l instanceof Vr)A=l,R=l;else{if(!(l instanceof Bh))return Array.isArray(l)?l.length===4||l.every(Array.isArray)?this.extend(Bh.convert(l)):this.extend(Vr.convert(l)):this;if(A=l._sw,R=l._ne,!A||!R)return this}return h||b?(h.lng=Math.min(A.lng,h.lng),h.lat=Math.min(A.lat,h.lat),b.lng=Math.max(R.lng,b.lng),b.lat=Math.max(R.lat,b.lat)):(this._sw=new Vr(A.lng,A.lat),this._ne=new Vr(R.lng,R.lat)),this}getCenter(){return new Vr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Vr(this.getWest(),this.getNorth())}getSouthEast(){return new Vr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(l){const{lng:h,lat:b}=Vr.convert(l);let A=this._sw.lng<=h&&h<=this._ne.lng;return this._sw.lng>this._ne.lng&&(A=this._sw.lng>=h&&h>=this._ne.lng),this._sw.lat<=b&&b<=this._ne.lat&&A}static convert(l){return l instanceof Bh?l:l&&new Bh(l)}}const tE=2*Math.PI*eE;function nE(u){return tE*Math.cos(u*Math.PI/180)}function iE(u){return(180+u)/360}function rE(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function aE(u,l){return u/nE(l)}function Q_(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class Ex{constructor(l,h,b=0){this.x=+l,this.y=+h,this.z=+b}static fromLngLat(l,h=0){const b=Vr.convert(l);return new Ex(iE(b.lng),rE(b.lat),aE(h,b.lat))}toLngLat(){return new Vr(360*this.x-180,Q_(this.y))}toAltitude(){return this.z*nE(Q_(this.y))}meterInMercatorCoordinateUnits(){return 1/tE*(l=Q_(this.y),1/Math.cos(l*Math.PI/180));var l}}function sE(u,l,h){var b=2*Math.PI*6378137/256/Math.pow(2,h);return[u*b-2*Math.PI*6378137/2,l*b-2*Math.PI*6378137/2]}class J_{constructor(l,h,b){if(l<0||l>25||b<0||b>=Math.pow(2,l)||h<0||h>=Math.pow(2,l))throw new Error(`x=${h}, y=${b}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=h,this.y=b,this.key=Wg(0,l,l,h,b)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,h,b){const A=(U=this.y,ne=this.z,le=sE(256*(R=this.x),256*(U=Math.pow(2,ne)-U-1),ne),ve=sE(256*(R+1),256*(U+1),ne),le[0]+","+le[1]+","+ve[0]+","+ve[1]);var R,U,ne,le,ve;const Ie=function(Re,Ue,qe){let He,ut="";for(let lt=Re;lt>0;lt--)He=1<<lt-1,ut+=(Ue&He?1:0)+(qe&He?2:0);return ut}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(b==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,h>1?"@2x":"").replace(/{quadkey}/g,Ie).replace(/{bbox-epsg-3857}/g,A)}isChildOf(l){const h=this.z-l.z;return h>0&&l.x===this.x>>h&&l.y===this.y>>h}getTilePoint(l){const h=Math.pow(2,this.z);return new V((l.x*h-this.x)*_a,(l.y*h-this.y)*_a)}toString(){return`${this.z}/${this.x}/${this.y}`}}class oE{constructor(l,h){this.wrap=l,this.canonical=h,this.key=Wg(l,h.z,h.z,h.x,h.y)}}class sl{constructor(l,h,b,A,R){if(l<b)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${b}`);this.overscaledZ=l,this.wrap=h,this.canonical=new J_(b,+A,+R),this.key=Wg(h,l,b,A,R)}clone(){return new sl(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const h=this.canonical.z-l;return l>this.canonical.z?new sl(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new sl(l,this.wrap,l,this.canonical.x>>h,this.canonical.y>>h)}calculateScaledKey(l,h){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const b=this.canonical.z-l;return l>this.canonical.z?Wg(this.wrap*+h,l,this.canonical.z,this.canonical.x,this.canonical.y):Wg(this.wrap*+h,l,l,this.canonical.x>>b,this.canonical.y>>b)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const h=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>h&&l.canonical.y===this.canonical.y>>h}children(l){if(this.overscaledZ>=l)return[new sl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const h=this.canonical.z+1,b=2*this.canonical.x,A=2*this.canonical.y;return[new sl(h,this.wrap,h,b,A),new sl(h,this.wrap,h,b+1,A),new sl(h,this.wrap,h,b,A+1),new sl(h,this.wrap,h,b+1,A+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new sl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new sl(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new oE(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new Ex(l.x-this.wrap,l.y))}}function Wg(u,l,h,b,A){(u*=2)<0&&(u=-1*u-1);const R=1<<h;return(R*R*u+R*A+b).toString(36)+h.toString(36)+l.toString(36)}bn("CanonicalTileID",J_),bn("OverscaledTileID",sl,{omit:["posMatrix"]});class lE{constructor(l,h,b){if(this.uid=l,h.height!==h.width)throw new RangeError("DEM tiles must be square");if(b&&b!=="mapbox"&&b!=="terrarium")return void S(`"${b}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=h.height;const A=this.dim=h.height-2;this.data=new Uint32Array(h.data.buffer),this.encoding=b||"mapbox";for(let R=0;R<A;R++)this.data[this._idx(-1,R)]=this.data[this._idx(0,R)],this.data[this._idx(A,R)]=this.data[this._idx(A-1,R)],this.data[this._idx(R,-1)]=this.data[this._idx(R,0)],this.data[this._idx(R,A)]=this.data[this._idx(R,A-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(A,-1)]=this.data[this._idx(A-1,0)],this.data[this._idx(-1,A)]=this.data[this._idx(0,A-1)],this.data[this._idx(A,A)]=this.data[this._idx(A-1,A-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let R=0;R<A;R++)for(let U=0;U<A;U++){const ne=this.get(R,U);ne>this.max&&(this.max=ne),ne<this.min&&(this.min=ne)}}get(l,h){const b=new Uint8Array(this.data.buffer),A=4*this._idx(l,h);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(b[A],b[A+1],b[A+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(l,h){if(l<-1||l>=this.dim+1||h<-1||h>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(h+1)*this.stride+(l+1)}_unpackMapbox(l,h,b){return(256*l*256+256*h+b)/10-1e4}_unpackTerrarium(l,h,b){return 256*l+h+b/256-32768}getPixels(){return new al({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,h,b){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let A=h*this.dim,R=h*this.dim+this.dim,U=b*this.dim,ne=b*this.dim+this.dim;switch(h){case-1:A=R-1;break;case 1:R=A+1}switch(b){case-1:U=ne-1;break;case 1:ne=U+1}const le=-h*this.dim,ve=-b*this.dim;for(let Ie=U;Ie<ne;Ie++)for(let Re=A;Re<R;Re++)this.data[this._idx(Re,Ie)]=l.data[this._idx(Re+le,Ie+ve)]}}bn("DEMData",lE);class cE{constructor(l){this._stringToNumber={},this._numberToString=[];for(let h=0;h<l.length;h++){const b=l[h];this._stringToNumber[b]=h,this._numberToString[h]=b}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class uE{constructor(l,h,b,A,R){this.type="Feature",this._vectorTileFeature=l,l._z=h,l._x=b,l._y=A,this.properties=l.properties,this.id=R}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const h in this)h!=="_geometry"&&h!=="_vectorTileFeature"&&(l[h]=this[h]);return l}}class dE{constructor(l,h){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new wu(_a,16,0),this.grid3D=new wu(_a,16,0),this.featureIndexArray=new ri,this.promoteId=h}insert(l,h,b,A,R,U){const ne=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(b,A,R);const le=U?this.grid3D:this.grid;for(let ve=0;ve<h.length;ve++){const Ie=h[ve],Re=[1/0,1/0,-1/0,-1/0];for(let Ue=0;Ue<Ie.length;Ue++){const qe=Ie[Ue];Re[0]=Math.min(Re[0],qe.x),Re[1]=Math.min(Re[1],qe.y),Re[2]=Math.max(Re[2],qe.x),Re[3]=Math.max(Re[3],qe.y)}Re[0]<_a&&Re[1]<_a&&Re[2]>=0&&Re[3]>=0&&le.insert(ne,Re[0],Re[1],Re[2],Re[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Td.VectorTile(new j_(this.rawTileData)).layers,this.sourceLayerCoder=new cE(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,h,b,A){this.loadVTLayers();const R=l.params||{},U=_a/l.tileSize/l.scale,ne=_g(R.filter),le=l.queryGeometry,ve=l.queryPadding*U,Ie=pE(le),Re=this.grid.query(Ie.minX-ve,Ie.minY-ve,Ie.maxX+ve,Ie.maxY+ve),Ue=pE(l.cameraQueryGeometry),qe=this.grid3D.query(Ue.minX-ve,Ue.minY-ve,Ue.maxX+ve,Ue.maxY+ve,(lt,_t,Mt,vt)=>function(At,Vt,Yt,wn,Nn){for(const nn of At)if(Vt<=nn.x&&Yt<=nn.y&&wn>=nn.x&&Nn>=nn.y)return!0;const cn=[new V(Vt,Yt),new V(Vt,Nn),new V(wn,Nn),new V(wn,Yt)];if(At.length>2){for(const nn of cn)if(Sm(At,nn))return!0}for(let nn=0;nn<At.length-1;nn++)if(hO(At[nn],At[nn+1],cn))return!0;return!1}(l.cameraQueryGeometry,lt-ve,_t-ve,Mt+ve,vt+ve));for(const lt of qe)Re.push(lt);Re.sort(zR);const He={};let ut;for(let lt=0;lt<Re.length;lt++){const _t=Re[lt];if(_t===ut)continue;ut=_t;const Mt=this.featureIndexArray.get(_t);let vt=null;this.loadMatchingFeature(He,Mt.bucketIndex,Mt.sourceLayerIndex,Mt.featureIndex,ne,R.layers,R.availableImages,h,b,A,(At,Vt,Yt)=>(vt||(vt=zh(At)),Vt.queryIntersectsFeature(le,At,Yt,vt,this.z,l.transform,U,l.pixelPosMatrix)))}return He}loadMatchingFeature(l,h,b,A,R,U,ne,le,ve,Ie,Re){const Ue=this.bucketLayerIDs[h];if(U&&!function(lt,_t){for(let Mt=0;Mt<lt.length;Mt++)if(_t.indexOf(lt[Mt])>=0)return!0;return!1}(U,Ue))return;const qe=this.sourceLayerCoder.decode(b),He=this.vtLayers[qe].feature(A);if(R.needGeometry){const lt=Fh(He,!0);if(!R.filter(new xr(this.tileID.overscaledZ),lt,this.tileID.canonical))return}else if(!R.filter(new xr(this.tileID.overscaledZ),He))return;const ut=this.getId(He,qe);for(let lt=0;lt<Ue.length;lt++){const _t=Ue[lt];if(U&&U.indexOf(_t)<0)continue;const Mt=le[_t];if(!Mt)continue;let vt={};ut&&Ie&&(vt=Ie.getState(Mt.sourceLayer||"_geojsonTileLayer",ut));const At=x({},ve[_t]);At.paint=hE(At.paint,Mt.paint,He,vt,ne),At.layout=hE(At.layout,Mt.layout,He,vt,ne);const Vt=!Re||Re(He,Mt,vt);if(!Vt)continue;const Yt=new uE(He,this.z,this.x,this.y,ut);Yt.layer=At;let wn=l[_t];wn===void 0&&(wn=l[_t]=[]),wn.push({featureIndex:A,feature:Yt,intersectionZ:Vt})}}lookupSymbolFeatures(l,h,b,A,R,U,ne,le){const ve={};this.loadVTLayers();const Ie=_g(R);for(const Re of l)this.loadMatchingFeature(ve,b,A,Re,Ie,U,ne,le,h);return ve}hasLayer(l){for(const h of this.bucketLayerIDs)for(const b of h)if(l===b)return!0;return!1}getId(l,h){let b=l.id;return this.promoteId&&(b=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[h]],typeof b=="boolean"&&(b=Number(b))),b}}function hE(u,l,h,b,A){return k(u,(R,U)=>{const ne=l instanceof ym?l.get(U):null;return ne&&ne.evaluate?ne.evaluate(h,b,A):ne})}function pE(u){let l=1/0,h=1/0,b=-1/0,A=-1/0;for(const R of u)l=Math.min(l,R.x),h=Math.min(h,R.y),b=Math.max(b,R.x),A=Math.max(A,R.y);return{minX:l,minY:h,maxX:b,maxY:A}}function zR(u,l){return l-u}var ew;bn("FeatureIndex",dE,{omit:["rawTileData","sourceLayerCoder"]}),s.PerformanceMarkers=void 0,(ew=s.PerformanceMarkers||(s.PerformanceMarkers={})).create="create",ew.load="load",ew.fullLoad="fullLoad";let kx=null,qg=[];const tw=1e3/30,FR={mark(u){performance.mark(u)},frame(u){const l=u;kx!=null&&qg.push(l-kx),kx=l},clearMetrics(){kx=null,qg=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const u in s.PerformanceMarkers)performance.clearMarks(s.PerformanceMarkers[u])},getPerformanceMetrics(){performance.measure("loadTime",s.PerformanceMarkers.create,s.PerformanceMarkers.load),performance.measure("fullLoadTime",s.PerformanceMarkers.create,s.PerformanceMarkers.fullLoad);const u=performance.getEntriesByName("loadTime")[0].duration,l=performance.getEntriesByName("fullLoadTime")[0].duration,h=qg.length,b=1/(qg.reduce((R,U)=>R+U,0)/h/1e3),A=qg.filter(R=>R>tw).reduce((R,U)=>R+(U-tw)/tw,0);return{loadTime:u,fullLoadTime:l,fps:b,percentDroppedFrames:A/(h+A)*100}}};s.AJAXError=Q,s.ARRAY_TYPE=Qs,s.Actor=class{constructor(u,l,h){this.target=u,this.parent=l,this.mapId=h,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new $R(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Y()?u:window}send(u,l,h,b,A=!1){const R=Math.round(1e18*Math.random()).toString(36).substring(0,10);h&&(this.callbacks[R]=h);const U=B(this.globalScope)?void 0:[];return this.target.postMessage({id:R,type:u,hasCallback:!!h,targetMapId:b,mustQueue:A,sourceMapId:this.mapId,data:Lh(l,U)},U),{cancel:()=>{h&&delete this.callbacks[R],this.target.postMessage({id:R,type:"<cancel>",targetMapId:b,sourceMapId:this.mapId})}}}receive(u){const l=u.data,h=l.id;if(h&&(!l.targetMapId||this.mapId===l.targetMapId))if(l.type==="<cancel>"){delete this.tasks[h];const b=this.cancelCallbacks[h];delete this.cancelCallbacks[h],b&&b()}else Y()||l.mustQueue?(this.tasks[h]=l,this.taskQueue.push(h),this.invoker.trigger()):this.processTask(h,l)}process(){if(!this.taskQueue.length)return;const u=this.taskQueue.shift(),l=this.tasks[u];delete this.tasks[u],this.taskQueue.length&&this.invoker.trigger(),l&&this.processTask(u,l)}processTask(u,l){if(l.type==="<response>"){const h=this.callbacks[u];delete this.callbacks[u],h&&(l.error?h(Tu(l.error)):h(null,Tu(l.data)))}else{let h=!1;const b=B(this.globalScope)?void 0:[],A=l.hasCallback?(ne,le)=>{h=!0,delete this.cancelCallbacks[u],this.target.postMessage({id:u,type:"<response>",sourceMapId:this.mapId,error:ne?Lh(ne):null,data:Lh(le,b)},b)}:ne=>{h=!0};let R=null;const U=Tu(l.data);if(this.parent[l.type])R=this.parent[l.type](l.sourceMapId,U,A);else if(this.parent.getWorkerSource){const ne=l.type.split(".");R=this.parent.getWorkerSource(l.sourceMapId,ne[0],U.source)[ne[1]](U,A)}else A(new Error(`Could not find function ${l.type}`));!h&&R&&R.cancel&&(this.cancelCallbacks[u]=R.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},s.AlphaImage=$g,s.CanonicalTileID=J_,s.CollisionBoxArray=Et,s.CollisionCircleLayoutArray=class extends Ce{},s.Color=Be,s.DEMData=lE,s.DataConstantProperty=Ln,s.DictionaryCoder=cE,s.EXTENT=_a,s.ErrorEvent=ke,s.EvaluationParameters=xr,s.Event=we,s.Evented=ze,s.FeatureIndex=dE,s.FillBucket=R_,s.FillExtrusionBucket=z_,s.GeoJSONFeature=uE,s.ImageAtlas=OC,s.ImagePosition=U_,s.LineBucket=F_,s.LineStripIndexArray=class extends wt{},s.LngLat=Vr,s.LngLatBounds=Bh,s.MercatorCoordinate=Ex,s.ONE_EM=Ha,s.OverscaledTileID=sl,s.PerformanceUtils=FR,s.PosArray=pi,s.Properties=ba,s.QuadTriangleArray=class extends Fe{},s.RGBAImage=al,s.RasterBoundsArray=class extends Oh{},s.RequestPerformance=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},s.ResourceType=xe,s.SegmentVector=Mi,s.SymbolBucket=Am,s.Transitionable=Ag,s.TriangleIndexArray=qa,s.Uniform1f=_m,s.Uniform1i=class extends rl{constructor(u,l){super(u,l),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},s.Uniform2f=class extends rl{constructor(u,l){super(u,l),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},s.Uniform3f=class extends rl{constructor(u,l){super(u,l),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},s.Uniform4f=Rh,s.UniformColor=wm,s.UniformMatrix4f=class extends rl{constructor(u,l){super(u,l),this.current=oO}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let l=1;l<16;l++)if(u[l]!==this.current[l]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},s.UnwrappedTileID=oE,s.ValidationError=je,s.ZoomHistory=Ih,s.add=function(u,l,h){return u[0]=l[0]+h[0],u[1]=l[1]+h[1],u[2]=l[2]+h[2],u},s.addDynamicAttributes=q_,s.asyncAll=function(u,l,h){if(!u.length)return h(null,[]);let b=u.length;const A=new Array(u.length);let R=null;u.forEach((U,ne)=>{l(U,(le,ve)=>{le&&(R=le),A[ne]=ve,--b==0&&h(R,A)})})},s.bezier=m,s.bindAll=E,s.cacheEntryPossiblyAdded=function(u){oe++,oe>ue&&(u.getActor().send("enforceCacheSizeLimit",ee),oe=0)},s.clamp=g,s.clearTileCache=function(u){const l=caches.delete(W);u&&l.catch(u).then(()=>u())},s.clipLine=qC,s.clone=function(u){var l=new Qs(16);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=u[6],l[7]=u[7],l[8]=u[8],l[9]=u[9],l[10]=u[10],l[11]=u[11],l[12]=u[12],l[13]=u[13],l[14]=u[14],l[15]=u[15],l},s.clone$1=w,s.clone$2=function(u){var l=new Qs(3);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l},s.collisionCircleLayout=iR,s.config=z,s.copy=function(u,l){return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},s.create=function(){var u=new Qs(16);return Qs!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},s.create$1=aC,s.createExpression=wh,s.createFilter=_g,s.createLayout=pa,s.createStyleLayer=function(u){return u.type==="custom"?new OR(u):new RR[u.type](u)},s.cross=function(u,l,h){var b=l[0],A=l[1],R=l[2],U=h[0],ne=h[1],le=h[2];return u[0]=A*le-R*ne,u[1]=R*U-b*le,u[2]=b*ne-A*U,u},s.dot=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]},s.dot$1=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3]},s.ease=y,s.emitValidationErrors=Jv,s.enforceCacheSizeLimit=function(u){ie(),q&&q.then(l=>{l.keys().then(h=>{for(let b=0;b<h.length-u;b++)l.delete(h[b])})})},s.equals=function(u,l){var h=u[0],b=u[1],A=u[2],R=u[3],U=u[4],ne=u[5],le=u[6],ve=u[7],Ie=u[8],Re=u[9],Ue=u[10],qe=u[11],He=u[12],ut=u[13],lt=u[14],_t=u[15],Mt=l[0],vt=l[1],At=l[2],Vt=l[3],Yt=l[4],wn=l[5],Nn=l[6],cn=l[7],nn=l[8],Jt=l[9],un=l[10],an=l[11],Ht=l[12],Mn=l[13],In=l[14],mi=l[15];return Math.abs(h-Mt)<=Ks*Math.max(1,Math.abs(h),Math.abs(Mt))&&Math.abs(b-vt)<=Ks*Math.max(1,Math.abs(b),Math.abs(vt))&&Math.abs(A-At)<=Ks*Math.max(1,Math.abs(A),Math.abs(At))&&Math.abs(R-Vt)<=Ks*Math.max(1,Math.abs(R),Math.abs(Vt))&&Math.abs(U-Yt)<=Ks*Math.max(1,Math.abs(U),Math.abs(Yt))&&Math.abs(ne-wn)<=Ks*Math.max(1,Math.abs(ne),Math.abs(wn))&&Math.abs(le-Nn)<=Ks*Math.max(1,Math.abs(le),Math.abs(Nn))&&Math.abs(ve-cn)<=Ks*Math.max(1,Math.abs(ve),Math.abs(cn))&&Math.abs(Ie-nn)<=Ks*Math.max(1,Math.abs(Ie),Math.abs(nn))&&Math.abs(Re-Jt)<=Ks*Math.max(1,Math.abs(Re),Math.abs(Jt))&&Math.abs(Ue-un)<=Ks*Math.max(1,Math.abs(Ue),Math.abs(un))&&Math.abs(qe-an)<=Ks*Math.max(1,Math.abs(qe),Math.abs(an))&&Math.abs(He-Ht)<=Ks*Math.max(1,Math.abs(He),Math.abs(Ht))&&Math.abs(ut-Mn)<=Ks*Math.max(1,Math.abs(ut),Math.abs(Mn))&&Math.abs(lt-In)<=Ks*Math.max(1,Math.abs(lt),Math.abs(In))&&Math.abs(_t-mi)<=Ks*Math.max(1,Math.abs(_t),Math.abs(mi))},s.evaluateSizeForFeature=function(u,{uSize:l,uSizeT:h},{lowerSize:b,upperSize:A}){return u.kind==="source"?b/Lu:u.kind==="composite"?Er(b/Lu,A/Lu,h):l},s.evaluateSizeForZoom=function(u,l){let h=0,b=0;if(u.kind==="constant")b=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:A,minZoom:R,maxZoom:U}=u,ne=A?g(ho.interpolationFactor(A,l,R,U),0,1):0;u.kind==="camera"?b=Er(u.minSize,u.maxSize,ne):h=ne}return{uSizeT:h,uSize:b}},s.evaluateVariableOffset=ZC,s.evented=vd,s.exported=D,s.exported$1=Ee,s.extend=x,s.filterObject=v,s.fromRotation=function(u,l){var h=Math.sin(l),b=Math.cos(l);return u[0]=b,u[1]=h,u[2]=0,u[3]=-h,u[4]=b,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u},s.fromScaling=function(u,l){return u[0]=l[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=l[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},s.getAnchorAlignment=Y_,s.getAnchorJustification=W_,s.getArrayBuffer=be,s.getImage=Ye,s.getJSON=function(u,l){return ge(x(u,{type:"json"}),l)},s.getOverlapMode=K_,s.getRTLTextPluginStatus=Ig,s.getReferrer=ae,s.getVideo=function(u,l){const h=window.document.createElement("video");h.muted=!0,h.onloadstart=function(){l(null,h)};for(let b=0;b<u.length;b++){const A=window.document.createElement("source");Le(u[b])||(h.crossOrigin="Anonymous"),A.src=u[b],h.appendChild(A)}return{cancel:()=>{}}},s.identity=k_,s.invert=function(u,l){var h=l[0],b=l[1],A=l[2],R=l[3],U=l[4],ne=l[5],le=l[6],ve=l[7],Ie=l[8],Re=l[9],Ue=l[10],qe=l[11],He=l[12],ut=l[13],lt=l[14],_t=l[15],Mt=h*ne-b*U,vt=h*le-A*U,At=h*ve-R*U,Vt=b*le-A*ne,Yt=b*ve-R*ne,wn=A*ve-R*le,Nn=Ie*ut-Re*He,cn=Ie*lt-Ue*He,nn=Ie*_t-qe*He,Jt=Re*lt-Ue*ut,un=Re*_t-qe*ut,an=Ue*_t-qe*lt,Ht=Mt*an-vt*un+At*Jt+Vt*nn-Yt*cn+wn*Nn;return Ht?(u[0]=(ne*an-le*un+ve*Jt)*(Ht=1/Ht),u[1]=(A*un-b*an-R*Jt)*Ht,u[2]=(ut*wn-lt*Yt+_t*Vt)*Ht,u[3]=(Ue*Yt-Re*wn-qe*Vt)*Ht,u[4]=(le*nn-U*an-ve*cn)*Ht,u[5]=(h*an-A*nn+R*cn)*Ht,u[6]=(lt*At-He*wn-_t*vt)*Ht,u[7]=(Ie*wn-Ue*At+qe*vt)*Ht,u[8]=(U*un-ne*nn+ve*Nn)*Ht,u[9]=(b*nn-h*un-R*Nn)*Ht,u[10]=(He*Yt-ut*At+_t*Mt)*Ht,u[11]=(Re*At-Ie*Yt-qe*Mt)*Ht,u[12]=(ne*cn-U*Jt-le*Nn)*Ht,u[13]=(h*Jt-b*cn+A*Nn)*Ht,u[14]=(ut*vt-He*Vt-lt*Mt)*Ht,u[15]=(Ie*Vt-Re*vt+Ue*Mt)*Ht,u):null},s.isImageBitmap=M,s.isSafari=B,s.isWorker=Y,s.keysDifference=function(u,l){const h=[];for(const b in u)b in l||h.push(b);return h},s.lazyLoadRTLTextPlugin=function(){zo.isLoading()||zo.isLoaded()||Ig()!=="deferred"||mm()},s.makeRequest=ge,s.mapObject=k,s.mercatorXfromLng=iE,s.mercatorYfromLat=rE,s.mercatorZfromAltitude=aE,s.mul=fO,s.mul$1=function(u,l,h){return u[0]=l[0]*h[0],u[1]=l[1]*h[1],u[2]=l[2]*h[2],u[3]=l[3]*h[3],u},s.multiply=sC,s.nextPowerOfTwo=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},s.normalize=function(u,l){var h=l[0],b=l[1],A=l[2],R=h*h+b*b+A*A;return R>0&&(R=1/Math.sqrt(R)),u[0]=l[0]*R,u[1]=l[1]*R,u[2]=l[2]*R,u},s.number=Er,s.ortho=function(u,l,h,b,A,R,U){var ne=1/(l-h),le=1/(b-A),ve=1/(R-U);return u[0]=-2*ne,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*le,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*ve,u[11]=0,u[12]=(l+h)*ne,u[13]=(A+b)*le,u[14]=(U+R)*ve,u[15]=1,u},s.parseCacheControl=X,s.parseGlyphPbf=function(u){return new j_(u).readFields(mR,[])},s.pbf=j_,s.performSymbolLayout=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=_a/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;const l=u.bucket.layers[0].layout,h=u.bucket.layers[0]._unevaluatedLayout._values,b={layoutIconSize:h["icon-size"].possiblyEvaluate(new xr(u.bucket.zoom+1),u.canonical),layoutTextSize:h["text-size"].possiblyEvaluate(new xr(u.bucket.zoom+1),u.canonical),textMaxSize:h["text-size"].possiblyEvaluate(new xr(18))};if(u.bucket.textSizeData.kind==="composite"){const{minZoom:le,maxZoom:ve}=u.bucket.textSizeData;b.compositeTextSizes=[h["text-size"].possiblyEvaluate(new xr(le),u.canonical),h["text-size"].possiblyEvaluate(new xr(ve),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){const{minZoom:le,maxZoom:ve}=u.bucket.iconSizeData;b.compositeIconSizes=[h["icon-size"].possiblyEvaluate(new xr(le),u.canonical),h["icon-size"].possiblyEvaluate(new xr(ve),u.canonical)]}const A=l.get("text-line-height")*Ha,R=l.get("text-rotation-alignment")!=="viewport"&&l.get("symbol-placement")!=="point",U=l.get("text-keep-upright"),ne=l.get("text-size");for(const le of u.bucket.features){const ve=l.get("text-font").evaluate(le,{},u.canonical).join(","),Ie=ne.evaluate(le,{},u.canonical),Re=b.layoutTextSize.evaluate(le,{},u.canonical),Ue=b.layoutIconSize.evaluate(le,{},u.canonical),qe={horizontal:{},vertical:void 0},He=le.text;let ut,lt=[0,0];if(He){const vt=He.toString(),At=l.get("text-letter-spacing").evaluate(le,{},u.canonical)*Ha,Vt=ex(vt)?At:0,Yt=l.get("text-anchor").evaluate(le,{},u.canonical),wn=l.get("text-variable-anchor");if(!wn){const un=l.get("text-radial-offset").evaluate(le,{},u.canonical);lt=un?ZC(Yt,[un*Ha,V_]):l.get("text-offset").evaluate(le,{},u.canonical).map(an=>an*Ha)}let Nn=R?"center":l.get("text-justify").evaluate(le,{},u.canonical);const cn=l.get("symbol-placement"),nn=cn==="point"?l.get("text-max-width").evaluate(le,{},u.canonical)*Ha:0,Jt=()=>{u.bucket.allowVerticalPlacement&&Cg(vt)&&(qe.vertical=vx(He,u.glyphMap,u.glyphPositions,u.imagePositions,ve,nn,A,Yt,"left",Vt,lt,s.WritingMode.vertical,!0,cn,Re,Ie))};if(!R&&wn){const un=Nn==="auto"?wn.map(Ht=>W_(Ht)):[Nn];let an=!1;for(let Ht=0;Ht<un.length;Ht++){const Mn=un[Ht];if(!qe.horizontal[Mn])if(an)qe.horizontal[Mn]=qe.horizontal[0];else{const In=vx(He,u.glyphMap,u.glyphPositions,u.imagePositions,ve,nn,A,"center",Mn,Vt,lt,s.WritingMode.horizontal,!1,cn,Re,Ie);In&&(qe.horizontal[Mn]=In,an=In.positionedLines.length===1)}}Jt()}else{Nn==="auto"&&(Nn=W_(Yt));const un=vx(He,u.glyphMap,u.glyphPositions,u.imagePositions,ve,nn,A,Yt,Nn,Vt,lt,s.WritingMode.horizontal,!1,cn,Re,Ie);un&&(qe.horizontal[Nn]=un),Jt(),Cg(vt)&&R&&U&&(qe.vertical=vx(He,u.glyphMap,u.glyphPositions,u.imagePositions,ve,nn,A,Yt,Nn,Vt,lt,s.WritingMode.vertical,!1,cn,Re,Ie))}}let _t=!1;if(le.icon&&le.icon.name){const vt=u.imageMap[le.icon.name];vt&&(ut=bR(u.imagePositions[le.icon.name],l.get("icon-offset").evaluate(le,{},u.canonical),l.get("icon-anchor").evaluate(le,{},u.canonical)),_t=!!vt.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=_t:u.bucket.sdfIcons!==_t&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(vt.pixelRatio!==u.bucket.pixelRatio||l.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}const Mt=QC(qe.horizontal)||qe.vertical;u.bucket.iconsInText=!!Mt&&Mt.iconsInText,(Mt||ut)&&kR(u.bucket,le,qe,ut,u.imageMap,b,Re,Ue,lt,_t,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},s.perspective=function(u,l,h,b,A){var R,U=1/Math.tan(l/2);return u[0]=U/h,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=U,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,A!=null&&A!==1/0?(u[10]=(A+b)*(R=1/(b-A)),u[14]=2*A*b*R):(u[10]=-1,u[14]=-2*b),u},s.pick=function(u,l){const h={};for(let b=0;b<l.length;b++){const A=l[b];A in u&&(h[A]=u[A])}return h},s.plugin=zo,s.pointGeometry=V,s.polygonIntersectsPolygon=tC,s.potpack=MC,s.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.register=bn,s.registerForPluginStateChange=function(u){return u({pluginStatus:Hs,pluginURL:Oc}),vd.on("pluginStateChange",u),u},s.renderColorRamp=pC,s.rotateX=function(u,l,h){var b=Math.sin(h),A=Math.cos(h),R=l[4],U=l[5],ne=l[6],le=l[7],ve=l[8],Ie=l[9],Re=l[10],Ue=l[11];return l!==u&&(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[4]=R*A+ve*b,u[5]=U*A+Ie*b,u[6]=ne*A+Re*b,u[7]=le*A+Ue*b,u[8]=ve*A-R*b,u[9]=Ie*A-U*b,u[10]=Re*A-ne*b,u[11]=Ue*A-le*b,u},s.rotateZ=function(u,l,h){var b=Math.sin(h),A=Math.cos(h),R=l[0],U=l[1],ne=l[2],le=l[3],ve=l[4],Ie=l[5],Re=l[6],Ue=l[7];return l!==u&&(u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[0]=R*A+ve*b,u[1]=U*A+Ie*b,u[2]=ne*A+Re*b,u[3]=le*A+Ue*b,u[4]=ve*A-R*b,u[5]=Ie*A-U*b,u[6]=Re*A-ne*b,u[7]=Ue*A-le*b,u},s.scale=function(u,l,h){var b=h[0],A=h[1],R=h[2];return u[0]=l[0]*b,u[1]=l[1]*b,u[2]=l[2]*b,u[3]=l[3]*b,u[4]=l[4]*A,u[5]=l[5]*A,u[6]=l[6]*A,u[7]=l[7]*A,u[8]=l[8]*R,u[9]=l[9]*R,u[10]=l[10]*R,u[11]=l[11]*R,u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},s.scale$1=function(u,l,h){return u[0]=l[0]*h,u[1]=l[1]*h,u[2]=l[2]*h,u},s.setCacheLimits=function(u,l){ee=u,ue=l},s.setRTLTextPlugin=function(u,l,h=!1){if(Hs===pm||Hs===Eg||Hs===kg)throw new Error("setRTLTextPlugin cannot be called multiple times.");Oc=D.resolveURL(u),Hs=pm,Ng=l,Lg(),h||mm()},s.spec=Me,s.sphericalToCartesian=function([u,l,h]){return l+=90,l*=Math.PI/180,h*=Math.PI/180,{x:u*Math.cos(l)*Math.sin(h),y:u*Math.sin(l)*Math.sin(h),z:u*Math.cos(h)}},s.sqrLen=function(u){var l=u[0],h=u[1];return l*l+h*h},s.sub=function(u,l,h){return u[0]=l[0]-h[0],u[1]=l[1]-h[1],u[2]=l[2]-h[2],u},s.toEvaluationFeature=Fh,s.transformMat3=function(u,l,h){var b=l[0],A=l[1],R=l[2];return u[0]=b*h[0]+A*h[3]+R*h[6],u[1]=b*h[1]+A*h[4]+R*h[7],u[2]=b*h[2]+A*h[5]+R*h[8],u},s.transformMat4=ux,s.transformMat4$1=function(u,l,h){var b=l[0],A=l[1];return u[0]=h[0]*b+h[4]*A+h[12],u[1]=h[1]*b+h[5]*A+h[13],u},s.translate=function(u,l,h){var b,A,R,U,ne,le,ve,Ie,Re,Ue,qe,He,ut=h[0],lt=h[1],_t=h[2];return l===u?(u[12]=l[0]*ut+l[4]*lt+l[8]*_t+l[12],u[13]=l[1]*ut+l[5]*lt+l[9]*_t+l[13],u[14]=l[2]*ut+l[6]*lt+l[10]*_t+l[14],u[15]=l[3]*ut+l[7]*lt+l[11]*_t+l[15]):(A=l[1],R=l[2],U=l[3],ne=l[4],le=l[5],ve=l[6],Ie=l[7],Re=l[8],Ue=l[9],qe=l[10],He=l[11],u[0]=b=l[0],u[1]=A,u[2]=R,u[3]=U,u[4]=ne,u[5]=le,u[6]=ve,u[7]=Ie,u[8]=Re,u[9]=Ue,u[10]=qe,u[11]=He,u[12]=b*ut+ne*lt+Re*_t+l[12],u[13]=A*ut+le*lt+Ue*_t+l[13],u[14]=R*ut+ve*lt+qe*_t+l[14],u[15]=U*ut+Ie*lt+He*_t+l[15]),u},s.triggerPluginCompletionEvent=ix,s.unicodeBlockLookup=on,s.uniqueId=function(){return T++},s.validateCustomStyleLayer=function(u){const l=[],h=u.id;return h===void 0&&l.push({message:`layers.${h}: missing required property "id"`}),u.render===void 0&&l.push({message:`layers.${h}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&l.push({message:`layers.${h}: property "renderingMode" must be either "2d" or "3d"`}),l},s.validateLight=f_,s.validateStyle=_u,s.vectorTile=Td,s.warnOnce=S,s.wrap=_}),a(["./shared"],function(s){function d(Ve){const ye=typeof Ve;if(ye==="number"||ye==="boolean"||ye==="string"||Ve==null)return JSON.stringify(Ve);if(Array.isArray(Ve)){let Ze="[";for(const rt of Ve)Ze+=`${d(rt)},`;return`${Ze}]`}const Ae=Object.keys(Ve).sort();let Be="{";for(let Ze=0;Ze<Ae.length;Ze++)Be+=`${JSON.stringify(Ae[Ze])}:${d(Ve[Ae[Ze]])},`;return`${Be}}`}function p(Ve){let ye="";for(const Ae of s.refProperties)ye+=`/${d(Ve[Ae])}`;return ye}class m{constructor(ye){this.keyCache={},ye&&this.replace(ye)}replace(ye){this._layerConfigs={},this._layers={},this.update(ye,[])}update(ye,Ae){for(const Ze of ye){this._layerConfigs[Ze.id]=Ze;const rt=this._layers[Ze.id]=s.createStyleLayer(Ze);rt._featureFilter=s.createFilter(rt.filter),this.keyCache[Ze.id]&&delete this.keyCache[Ze.id]}for(const Ze of Ae)delete this.keyCache[Ze],delete this._layerConfigs[Ze],delete this._layers[Ze];this.familiesBySource={};const Be=function(Ze,rt){const ct={};for(let it=0;it<Ze.length;it++){const ft=rt&&rt[Ze[it].id]||p(Ze[it]);rt&&(rt[Ze[it].id]=ft);let Lt=ct[ft];Lt||(Lt=ct[ft]=[]),Lt.push(Ze[it])}const st=[];for(const it in ct)st.push(ct[it]);return st}(Object.values(this._layerConfigs),this.keyCache);for(const Ze of Be){const rt=Ze.map(Ft=>this._layers[Ft.id]),ct=rt[0];if(ct.visibility==="none")continue;const st=ct.source||"";let it=this.familiesBySource[st];it||(it=this.familiesBySource[st]={});const ft=ct.sourceLayer||"_geojsonTileLayer";let Lt=it[ft];Lt||(Lt=it[ft]=[]),Lt.push(rt)}}}class y{constructor(ye){const Ae={},Be=[];for(const st in ye){const it=ye[st],ft=Ae[st]={};for(const Lt in it){const Ft=it[+Lt];if(!Ft||Ft.bitmap.width===0||Ft.bitmap.height===0)continue;const Rt={x:0,y:0,w:Ft.bitmap.width+2,h:Ft.bitmap.height+2};Be.push(Rt),ft[Lt]={rect:Rt,metrics:Ft.metrics}}}const{w:Ze,h:rt}=s.potpack(Be),ct=new s.AlphaImage({width:Ze||1,height:rt||1});for(const st in ye){const it=ye[st];for(const ft in it){const Lt=it[+ft];if(!Lt||Lt.bitmap.width===0||Lt.bitmap.height===0)continue;const Ft=Ae[st][ft].rect;s.AlphaImage.copy(Lt.bitmap,ct,{x:0,y:0},{x:Ft.x+1,y:Ft.y+1},Lt.bitmap)}}this.image=ct,this.positions=Ae}}s.register("GlyphAtlas",y);class g{constructor(ye){this.tileID=new s.OverscaledTileID(ye.tileID.overscaledZ,ye.tileID.wrap,ye.tileID.canonical.z,ye.tileID.canonical.x,ye.tileID.canonical.y),this.uid=ye.uid,this.zoom=ye.zoom,this.pixelRatio=ye.pixelRatio,this.tileSize=ye.tileSize,this.source=ye.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ye.showCollisionBoxes,this.collectResourceTiming=!!ye.collectResourceTiming,this.returnDependencies=!!ye.returnDependencies,this.promoteId=ye.promoteId}parse(ye,Ae,Be,Ze,rt){this.status="parsing",this.data=ye,this.collisionBoxArray=new s.CollisionBoxArray;const ct=new s.DictionaryCoder(Object.keys(ye.layers).sort()),st=new s.FeatureIndex(this.tileID,this.promoteId);st.bucketLayerIDs=[];const it={},ft={featureIndex:st,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Be},Lt=Ae.familiesBySource[this.source];for(const On in Lt){const Xn=ye.layers[On];if(!Xn)continue;Xn.version===1&&s.warnOnce(`Vector tile source "${this.source}" layer "${On}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Yn=ct.encode(On),gi=[];for(let nr=0;nr<Xn.length;nr++){const Rr=Xn.feature(nr),xa=st.getId(Rr,On);gi.push({feature:Rr,id:xa,index:nr,sourceLayerIndex:Yn})}for(const nr of Lt[On]){const Rr=nr[0];Rr.source!==this.source&&s.warnOnce(`layer.source = ${Rr.source} does not equal this.source = ${this.source}`),Rr.minzoom&&this.zoom<Math.floor(Rr.minzoom)||Rr.maxzoom&&this.zoom>=Rr.maxzoom||Rr.visibility!=="none"&&(_(nr,this.zoom,Be),(it[Rr.id]=Rr.createBucket({index:st.bucketLayerIDs.length,layers:nr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Yn,sourceID:this.source})).populate(gi,ft,this.tileID.canonical),st.bucketLayerIDs.push(nr.map(xa=>xa.id)))}}let Ft,Rt,pn,rn;const xn=s.mapObject(ft.glyphDependencies,On=>Object.keys(On).map(Number));Object.keys(xn).length?Ze.send("getGlyphs",{uid:this.uid,stacks:xn},(On,Xn)=>{Ft||(Ft=On,Rt=Xn,Cn.call(this))}):Rt={};const Sn=Object.keys(ft.iconDependencies);Sn.length?Ze.send("getImages",{icons:Sn,source:this.source,tileID:this.tileID,type:"icons"},(On,Xn)=>{Ft||(Ft=On,pn=Xn,Cn.call(this))}):pn={};const Hn=Object.keys(ft.patternDependencies);function Cn(){if(Ft)return rt(Ft);if(Rt&&pn&&rn){const On=new y(Rt),Xn=new s.ImageAtlas(pn,rn);for(const Yn in it){const gi=it[Yn];gi instanceof s.SymbolBucket?(_(gi.layers,this.zoom,Be),s.performSymbolLayout({bucket:gi,glyphMap:Rt,glyphPositions:On.positions,imageMap:pn,imagePositions:Xn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):gi.hasPattern&&(gi instanceof s.LineBucket||gi instanceof s.FillBucket||gi instanceof s.FillExtrusionBucket)&&(_(gi.layers,this.zoom,Be),gi.addFeatures(ft,this.tileID.canonical,Xn.patternPositions))}this.status="done",rt(null,{buckets:Object.values(it).filter(Yn=>!Yn.isEmpty()),featureIndex:st,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:On.image,imageAtlas:Xn,glyphMap:this.returnDependencies?Rt:null,iconMap:this.returnDependencies?pn:null,glyphPositions:this.returnDependencies?On.positions:null})}}Hn.length?Ze.send("getImages",{icons:Hn,source:this.source,tileID:this.tileID,type:"patterns"},(On,Xn)=>{Ft||(Ft=On,rn=Xn,Cn.call(this))}):rn={},Cn.call(this)}}function _(Ve,ye,Ae){const Be=new s.EvaluationParameters(ye);for(const Ze of Ve)Ze.recalculate(Be,Ae)}function x(Ve,ye){const Ae=s.getArrayBuffer(Ve.request,(Be,Ze,rt,ct)=>{Be?ye(Be):Ze&&ye(null,{vectorTile:new s.vectorTile.VectorTile(new s.pbf(Ze)),rawData:Ze,cacheControl:rt,expires:ct})});return()=>{Ae.cancel(),ye()}}class T{constructor(ye,Ae,Be,Ze){this.actor=ye,this.layerIndex=Ae,this.availableImages=Be,this.loadVectorData=Ze||x,this.loading={},this.loaded={}}loadTile(ye,Ae){const Be=ye.uid;this.loading||(this.loading={});const Ze=!!(ye&&ye.request&&ye.request.collectResourceTiming)&&new s.RequestPerformance(ye.request),rt=this.loading[Be]=new g(ye);rt.abort=this.loadVectorData(ye,(ct,st)=>{if(delete this.loading[Be],ct||!st)return rt.status="done",this.loaded[Be]=rt,Ae(ct);const it=st.rawData,ft={};st.expires&&(ft.expires=st.expires),st.cacheControl&&(ft.cacheControl=st.cacheControl);const Lt={};if(Ze){const Ft=Ze.finish();Ft&&(Lt.resourceTiming=JSON.parse(JSON.stringify(Ft)))}rt.vectorTile=st.vectorTile,rt.parse(st.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ft,Rt)=>{if(Ft||!Rt)return Ae(Ft);Ae(null,s.extend({rawTileData:it.slice(0)},Rt,ft,Lt))}),this.loaded=this.loaded||{},this.loaded[Be]=rt})}reloadTile(ye,Ae){const Be=this.loaded,Ze=ye.uid,rt=this;if(Be&&Be[Ze]){const ct=Be[Ze];ct.showCollisionBoxes=ye.showCollisionBoxes;const st=(it,ft)=>{const Lt=ct.reloadCallback;Lt&&(delete ct.reloadCallback,ct.parse(ct.vectorTile,rt.layerIndex,this.availableImages,rt.actor,Lt)),Ae(it,ft)};ct.status==="parsing"?ct.reloadCallback=st:ct.status==="done"&&(ct.vectorTile?ct.parse(ct.vectorTile,this.layerIndex,this.availableImages,this.actor,st):st())}}abortTile(ye,Ae){const Be=this.loading,Ze=ye.uid;Be&&Be[Ze]&&Be[Ze].abort&&(Be[Ze].abort(),delete Be[Ze]),Ae()}removeTile(ye,Ae){const Be=this.loaded,Ze=ye.uid;Be&&Be[Ze]&&delete Be[Ze],Ae()}}class E{constructor(){this.loaded={}}loadTile(ye,Ae){const{uid:Be,encoding:Ze,rawImageData:rt}=ye,ct=s.isImageBitmap(rt)?this.getImageData(rt):rt,st=new s.DEMData(Be,ct,Ze);this.loaded=this.loaded||{},this.loaded[Be]=st,Ae(null,st)}getImageData(ye){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(ye.width,ye.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ye.width,this.offscreenCanvas.height=ye.height,this.offscreenCanvasContext.drawImage(ye,0,0,ye.width,ye.height);const Ae=this.offscreenCanvasContext.getImageData(-1,-1,ye.width+2,ye.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new s.RGBAImage({width:Ae.width,height:Ae.height},Ae.data)}removeTile(ye){const Ae=this.loaded,Be=ye.uid;Ae&&Ae[Be]&&delete Ae[Be]}}var k=function Ve(ye,Ae){var Be,Ze=ye&&ye.type;if(Ze==="FeatureCollection")for(Be=0;Be<ye.features.length;Be++)Ve(ye.features[Be],Ae);else if(Ze==="GeometryCollection")for(Be=0;Be<ye.geometries.length;Be++)Ve(ye.geometries[Be],Ae);else if(Ze==="Feature")Ve(ye.geometry,Ae);else if(Ze==="Polygon")v(ye.coordinates,Ae);else if(Ze==="MultiPolygon")for(Be=0;Be<ye.coordinates.length;Be++)v(ye.coordinates[Be],Ae);return ye};function v(Ve,ye){if(Ve.length!==0){w(Ve[0],ye);for(var Ae=1;Ae<Ve.length;Ae++)w(Ve[Ae],!1)}}function w(Ve,ye){for(var Ae=0,Be=0,Ze=0,rt=Ve.length,ct=rt-1;Ze<rt;ct=Ze++){var st=(Ve[Ze][0]-Ve[ct][0])*(Ve[ct][1]+Ve[Ze][1]),it=Ae+st;Be+=Math.abs(Ae)>=Math.abs(st)?Ae-it+st:st-it+Ae,Ae=it}Ae+Be>=0!=!!ye&&Ve.reverse()}const N=s.vectorTile.VectorTileFeature.prototype.toGeoJSON;class S{constructor(ye){this._feature=ye,this.extent=s.EXTENT,this.type=ye.type,this.properties=ye.tags,"id"in ye&&!isNaN(ye.id)&&(this.id=parseInt(ye.id,10))}loadGeometry(){if(this._feature.type===1){const ye=[];for(const Ae of this._feature.geometry)ye.push([new s.pointGeometry(Ae[0],Ae[1])]);return ye}{const ye=[];for(const Ae of this._feature.geometry){const Be=[];for(const Ze of Ae)Be.push(new s.pointGeometry(Ze[0],Ze[1]));ye.push(Be)}return ye}}toGeoJSON(ye,Ae,Be){return N.call(this,ye,Ae,Be)}}class L{constructor(ye){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=ye.length,this._features=ye}feature(ye){return new S(this._features[ye])}}var O={exports:{}},Y=s.pointGeometry,X=s.vectorTile.VectorTileFeature,H=$;function $(Ve,ye){this.options=ye||{},this.features=Ve,this.length=Ve.length}function G(Ve,ye){this.id=typeof Ve.id=="number"?Ve.id:void 0,this.type=Ve.type,this.rawGeometry=Ve.type===1?[Ve.geometry]:Ve.geometry,this.properties=Ve.tags,this.extent=ye||4096}$.prototype.feature=function(Ve){return new G(this.features[Ve],this.options.extent)},G.prototype.loadGeometry=function(){var Ve=this.rawGeometry;this.geometry=[];for(var ye=0;ye<Ve.length;ye++){for(var Ae=Ve[ye],Be=[],Ze=0;Ze<Ae.length;Ze++)Be.push(new Y(Ae[Ze][0],Ae[Ze][1]));this.geometry.push(Be)}return this.geometry},G.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ve=this.geometry,ye=1/0,Ae=-1/0,Be=1/0,Ze=-1/0,rt=0;rt<Ve.length;rt++)for(var ct=Ve[rt],st=0;st<ct.length;st++){var it=ct[st];ye=Math.min(ye,it.x),Ae=Math.max(Ae,it.x),Be=Math.min(Be,it.y),Ze=Math.max(Ze,it.y)}return[ye,Be,Ae,Ze]},G.prototype.toGeoJSON=X.prototype.toGeoJSON;var B=s.pbf,M=H;function D(Ve){var ye=new B;return function(Ae,Be){for(var Ze in Ae.layers)Be.writeMessage(3,V,Ae.layers[Ze])}(Ve,ye),ye.finish()}function V(Ve,ye){var Ae;ye.writeVarintField(15,Ve.version||1),ye.writeStringField(1,Ve.name||""),ye.writeVarintField(5,Ve.extent||4096);var Be={keys:[],values:[],keycache:{},valuecache:{}};for(Ae=0;Ae<Ve.length;Ae++)Be.feature=Ve.feature(Ae),ye.writeMessage(2,F,Be);var Ze=Be.keys;for(Ae=0;Ae<Ze.length;Ae++)ye.writeStringField(3,Ze[Ae]);var rt=Be.values;for(Ae=0;Ae<rt.length;Ae++)ye.writeMessage(4,ue,rt[Ae])}function F(Ve,ye){var Ae=Ve.feature;Ae.id!==void 0&&ye.writeVarintField(1,Ae.id),ye.writeMessage(2,z,Ve),ye.writeVarintField(3,Ae.type),ye.writeMessage(4,ee,Ae)}function z(Ve,ye){var Ae=Ve.feature,Be=Ve.keys,Ze=Ve.values,rt=Ve.keycache,ct=Ve.valuecache;for(var st in Ae.properties){var it=Ae.properties[st],ft=rt[st];if(it!==null){ft===void 0&&(Be.push(st),rt[st]=ft=Be.length-1),ye.writeVarint(ft);var Lt=typeof it;Lt!=="string"&&Lt!=="boolean"&&Lt!=="number"&&(it=JSON.stringify(it));var Ft=Lt+":"+it,Rt=ct[Ft];Rt===void 0&&(Ze.push(it),ct[Ft]=Rt=Ze.length-1),ye.writeVarint(Rt)}}}function W(Ve,ye){return(ye<<3)+(7&Ve)}function q(Ve){return Ve<<1^Ve>>31}function ee(Ve,ye){for(var Ae=Ve.loadGeometry(),Be=Ve.type,Ze=0,rt=0,ct=Ae.length,st=0;st<ct;st++){var it=Ae[st],ft=1;Be===1&&(ft=it.length),ye.writeVarint(W(1,ft));for(var Lt=Be===3?it.length-1:it.length,Ft=0;Ft<Lt;Ft++){Ft===1&&Be!==1&&ye.writeVarint(W(2,Lt-1));var Rt=it[Ft].x-Ze,pn=it[Ft].y-rt;ye.writeVarint(q(Rt)),ye.writeVarint(q(pn)),Ze+=Rt,rt+=pn}Be===3&&ye.writeVarint(W(7,1))}}function ue(Ve,ye){var Ae=typeof Ve;Ae==="string"?ye.writeStringField(1,Ve):Ae==="boolean"?ye.writeBooleanField(7,Ve):Ae==="number"&&(Ve%1!=0?ye.writeDoubleField(3,Ve):Ve<0?ye.writeSVarintField(6,Ve):ye.writeVarintField(5,Ve))}function ie(Ve,ye,Ae,Be,Ze,rt){if(Ze-Be<=Ae)return;const ct=Be+Ze>>1;oe(Ve,ye,ct,Be,Ze,rt%2),ie(Ve,ye,Ae,Be,ct-1,rt+1),ie(Ve,ye,Ae,ct+1,Ze,rt+1)}function oe(Ve,ye,Ae,Be,Ze,rt){for(;Ze>Be;){if(Ze-Be>600){const ft=Ze-Be+1,Lt=Ae-Be+1,Ft=Math.log(ft),Rt=.5*Math.exp(2*Ft/3),pn=.5*Math.sqrt(Ft*Rt*(ft-Rt)/ft)*(Lt-ft/2<0?-1:1);oe(Ve,ye,Ae,Math.max(Be,Math.floor(Ae-Lt*Rt/ft+pn)),Math.min(Ze,Math.floor(Ae+(ft-Lt)*Rt/ft+pn)),rt)}const ct=ye[2*Ae+rt];let st=Be,it=Ze;for(Ee(Ve,ye,Be,Ae),ye[2*Ze+rt]>ct&&Ee(Ve,ye,Be,Ze);st<it;){for(Ee(Ve,ye,st,it),st++,it--;ye[2*st+rt]<ct;)st++;for(;ye[2*it+rt]>ct;)it--}ye[2*Be+rt]===ct?Ee(Ve,ye,Be,it):(it++,Ee(Ve,ye,it,Ze)),it<=Ae&&(Be=it+1),Ae<=it&&(Ze=it-1)}}function Ee(Ve,ye,Ae,Be){me(Ve,Ae,Be),me(ye,2*Ae,2*Be),me(ye,2*Ae+1,2*Be+1)}function me(Ve,ye,Ae){const Be=Ve[ye];Ve[ye]=Ve[Ae],Ve[Ae]=Be}function Te(Ve,ye,Ae,Be){const Ze=Ve-Ae,rt=ye-Be;return Ze*Ze+rt*rt}O.exports=D,O.exports.fromVectorTileJs=D,O.exports.fromGeojsonVt=function(Ve,ye){ye=ye||{};var Ae={};for(var Be in Ve)Ae[Be]=new M(Ve[Be].features,ye),Ae[Be].name=Be,Ae[Be].version=ye.version,Ae[Be].extent=ye.extent;return D({layers:Ae})},O.exports.GeoJSONWrapper=M;const K=Ve=>Ve[0],J=Ve=>Ve[1];class se{constructor(ye,Ae=K,Be=J,Ze=64,rt=Float64Array){this.nodeSize=Ze,this.points=ye;const ct=ye.length<65536?Uint16Array:Uint32Array,st=this.ids=new ct(ye.length),it=this.coords=new rt(2*ye.length);for(let ft=0;ft<ye.length;ft++)st[ft]=ft,it[2*ft]=Ae(ye[ft]),it[2*ft+1]=Be(ye[ft]);ie(st,it,Ze,0,st.length-1,0)}range(ye,Ae,Be,Ze){return function(rt,ct,st,it,ft,Lt,Ft){const Rt=[0,rt.length-1,0],pn=[];let rn,xn;for(;Rt.length;){const Sn=Rt.pop(),Hn=Rt.pop(),Cn=Rt.pop();if(Hn-Cn<=Ft){for(let Yn=Cn;Yn<=Hn;Yn++)rn=ct[2*Yn],xn=ct[2*Yn+1],rn>=st&&rn<=ft&&xn>=it&&xn<=Lt&&pn.push(rt[Yn]);continue}const On=Math.floor((Cn+Hn)/2);rn=ct[2*On],xn=ct[2*On+1],rn>=st&&rn<=ft&&xn>=it&&xn<=Lt&&pn.push(rt[On]);const Xn=(Sn+1)%2;(Sn===0?st<=rn:it<=xn)&&(Rt.push(Cn),Rt.push(On-1),Rt.push(Xn)),(Sn===0?ft>=rn:Lt>=xn)&&(Rt.push(On+1),Rt.push(Hn),Rt.push(Xn))}return pn}(this.ids,this.coords,ye,Ae,Be,Ze,this.nodeSize)}within(ye,Ae,Be){return function(Ze,rt,ct,st,it,ft){const Lt=[0,Ze.length-1,0],Ft=[],Rt=it*it;for(;Lt.length;){const pn=Lt.pop(),rn=Lt.pop(),xn=Lt.pop();if(rn-xn<=ft){for(let Xn=xn;Xn<=rn;Xn++)Te(rt[2*Xn],rt[2*Xn+1],ct,st)<=Rt&&Ft.push(Ze[Xn]);continue}const Sn=Math.floor((xn+rn)/2),Hn=rt[2*Sn],Cn=rt[2*Sn+1];Te(Hn,Cn,ct,st)<=Rt&&Ft.push(Ze[Sn]);const On=(pn+1)%2;(pn===0?ct-it<=Hn:st-it<=Cn)&&(Lt.push(xn),Lt.push(Sn-1),Lt.push(On)),(pn===0?ct+it>=Hn:st+it>=Cn)&&(Lt.push(Sn+1),Lt.push(rn),Lt.push(On))}return Ft}(this.ids,this.coords,ye,Ae,Be,this.nodeSize)}}const xe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ve=>Ve},Q=Math.fround||(ae=new Float32Array(1),Ve=>(ae[0]=+Ve,ae[0]));var ae;class ce{constructor(ye){this.options=Xe(Object.create(xe),ye),this.trees=new Array(this.options.maxZoom+1)}load(ye){const{log:Ae,minZoom:Be,maxZoom:Ze,nodeSize:rt}=this.options;Ae&&console.time("total time");const ct=`prepare ${ye.length} points`;Ae&&console.time(ct),this.points=ye;let st=[];for(let it=0;it<ye.length;it++)ye[it].geometry&&st.push(be(ye[it],it));this.trees[Ze+1]=new se(st,De,we,rt,Float32Array),Ae&&console.timeEnd(ct);for(let it=Ze;it>=Be;it--){const ft=+Date.now();st=this._cluster(st,it),this.trees[it]=new se(st,De,we,rt,Float32Array),Ae&&console.log("z%d: %d clusters in %dms",it,st.length,+Date.now()-ft)}return Ae&&console.timeEnd("total time"),this}getClusters(ye,Ae){let Be=((ye[0]+180)%360+360)%360-180;const Ze=Math.max(-90,Math.min(90,ye[1]));let rt=ye[2]===180?180:((ye[2]+180)%360+360)%360-180;const ct=Math.max(-90,Math.min(90,ye[3]));if(ye[2]-ye[0]>=360)Be=-180,rt=180;else if(Be>rt){const Lt=this.getClusters([Be,Ze,180,ct],Ae),Ft=this.getClusters([-180,Ze,rt,ct],Ae);return Lt.concat(Ft)}const st=this.trees[this._limitZoom(Ae)],it=st.range(Ne(Be),$e(ct),Ne(rt),$e(Ze)),ft=[];for(const Lt of it){const Ft=st.points[Lt];ft.push(Ft.numPoints?Le(Ft):this.points[Ft.index])}return ft}getChildren(ye){const Ae=this._getOriginId(ye),Be=this._getOriginZoom(ye),Ze="No cluster with the specified id.",rt=this.trees[Be];if(!rt)throw new Error(Ze);const ct=rt.points[Ae];if(!ct)throw new Error(Ze);const st=this.options.radius/(this.options.extent*Math.pow(2,Be-1)),it=rt.within(ct.x,ct.y,st),ft=[];for(const Lt of it){const Ft=rt.points[Lt];Ft.parentId===ye&&ft.push(Ft.numPoints?Le(Ft):this.points[Ft.index])}if(ft.length===0)throw new Error(Ze);return ft}getLeaves(ye,Ae,Be){const Ze=[];return this._appendLeaves(Ze,ye,Ae=Ae||10,Be=Be||0,0),Ze}getTile(ye,Ae,Be){const Ze=this.trees[this._limitZoom(ye)],rt=Math.pow(2,ye),{extent:ct,radius:st}=this.options,it=st/ct,ft=(Be-it)/rt,Lt=(Be+1+it)/rt,Ft={features:[]};return this._addTileFeatures(Ze.range((Ae-it)/rt,ft,(Ae+1+it)/rt,Lt),Ze.points,Ae,Be,rt,Ft),Ae===0&&this._addTileFeatures(Ze.range(1-it/rt,ft,1,Lt),Ze.points,rt,Be,rt,Ft),Ae===rt-1&&this._addTileFeatures(Ze.range(0,ft,it/rt,Lt),Ze.points,-1,Be,rt,Ft),Ft.features.length?Ft:null}getClusterExpansionZoom(ye){let Ae=this._getOriginZoom(ye)-1;for(;Ae<=this.options.maxZoom;){const Be=this.getChildren(ye);if(Ae++,Be.length!==1)break;ye=Be[0].properties.cluster_id}return Ae}_appendLeaves(ye,Ae,Be,Ze,rt){const ct=this.getChildren(Ae);for(const st of ct){const it=st.properties;if(it&&it.cluster?rt+it.point_count<=Ze?rt+=it.point_count:rt=this._appendLeaves(ye,it.cluster_id,Be,Ze,rt):rt<Ze?rt++:ye.push(st),ye.length===Be)break}return rt}_addTileFeatures(ye,Ae,Be,Ze,rt,ct){for(const st of ye){const it=Ae[st],ft=it.numPoints;let Lt,Ft,Rt;if(ft)Lt=_e(it),Ft=it.x,Rt=it.y;else{const xn=this.points[it.index];Lt=xn.properties,Ft=Ne(xn.geometry.coordinates[0]),Rt=$e(xn.geometry.coordinates[1])}const pn={type:1,geometry:[[Math.round(this.options.extent*(Ft*rt-Be)),Math.round(this.options.extent*(Rt*rt-Ze))]],tags:Lt};let rn;ft?rn=it.id:this.options.generateId?rn=it.index:this.points[it.index].id&&(rn=this.points[it.index].id),rn!==void 0&&(pn.id=rn),ct.features.push(pn)}}_limitZoom(ye){return Math.max(this.options.minZoom,Math.min(Math.floor(+ye),this.options.maxZoom+1))}_cluster(ye,Ae){const Be=[],{radius:Ze,extent:rt,reduce:ct,minPoints:st}=this.options,it=Ze/(rt*Math.pow(2,Ae));for(let ft=0;ft<ye.length;ft++){const Lt=ye[ft];if(Lt.zoom<=Ae)continue;Lt.zoom=Ae;const Ft=this.trees[Ae+1],Rt=Ft.within(Lt.x,Lt.y,it),pn=Lt.numPoints||1;let rn=pn;for(const xn of Rt){const Sn=Ft.points[xn];Sn.zoom>Ae&&(rn+=Sn.numPoints||1)}if(rn>pn&&rn>=st){let xn=Lt.x*pn,Sn=Lt.y*pn,Hn=ct&&pn>1?this._map(Lt,!0):null;const Cn=(ft<<5)+(Ae+1)+this.points.length;for(const On of Rt){const Xn=Ft.points[On];if(Xn.zoom<=Ae)continue;Xn.zoom=Ae;const Yn=Xn.numPoints||1;xn+=Xn.x*Yn,Sn+=Xn.y*Yn,Xn.parentId=Cn,ct&&(Hn||(Hn=this._map(Lt,!0)),ct(Hn,this._map(Xn)))}Lt.parentId=Cn,Be.push(ge(xn/rn,Sn/rn,Cn,rn,Hn))}else if(Be.push(Lt),rn>1)for(const xn of Rt){const Sn=Ft.points[xn];Sn.zoom<=Ae||(Sn.zoom=Ae,Be.push(Sn))}}return Be}_getOriginId(ye){return ye-this.points.length>>5}_getOriginZoom(ye){return(ye-this.points.length)%32}_map(ye,Ae){if(ye.numPoints)return Ae?Xe({},ye.properties):ye.properties;const Be=this.points[ye.index].properties,Ze=this.options.map(Be);return Ae&&Ze===Be?Xe({},Ze):Ze}}function ge(Ve,ye,Ae,Be,Ze){return{x:Q(Ve),y:Q(ye),zoom:1/0,id:Ae,parentId:-1,numPoints:Be,properties:Ze}}function be(Ve,ye){const[Ae,Be]=Ve.geometry.coordinates;return{x:Q(Ne(Ae)),y:Q($e(Be)),zoom:1/0,index:ye,parentId:-1}}function Le(Ve){return{type:"Feature",id:Ve.id,properties:_e(Ve),geometry:{type:"Point",coordinates:[(ye=Ve.x,360*(ye-.5)),Ye(Ve.y)]}};var ye}function _e(Ve){const ye=Ve.numPoints,Ae=ye>=1e4?`${Math.round(ye/1e3)}k`:ye>=1e3?Math.round(ye/100)/10+"k":ye;return Xe(Xe({},Ve.properties),{cluster:!0,cluster_id:Ve.id,point_count:ye,point_count_abbreviated:Ae})}function Ne(Ve){return Ve/360+.5}function $e(Ve){const ye=Math.sin(Ve*Math.PI/180),Ae=.5-.25*Math.log((1+ye)/(1-ye))/Math.PI;return Ae<0?0:Ae>1?1:Ae}function Ye(Ve){const ye=(180-360*Ve)*Math.PI/180;return 360*Math.atan(Math.exp(ye))/Math.PI-90}function Xe(Ve,ye){for(const Ae in ye)Ve[Ae]=ye[Ae];return Ve}function De(Ve){return Ve.x}function we(Ve){return Ve.y}function ke(Ve,ye,Ae,Be){for(var Ze,rt=Be,ct=Ae-ye>>1,st=Ae-ye,it=Ve[ye],ft=Ve[ye+1],Lt=Ve[Ae],Ft=Ve[Ae+1],Rt=ye+3;Rt<Ae;Rt+=3){var pn=ze(Ve[Rt],Ve[Rt+1],it,ft,Lt,Ft);if(pn>rt)Ze=Rt,rt=pn;else if(pn===rt){var rn=Math.abs(Rt-ct);rn<st&&(Ze=Rt,st=rn)}}rt>Be&&(Ze-ye>3&&ke(Ve,ye,Ze,Be),Ve[Ze+2]=rt,Ae-Ze>3&&ke(Ve,Ze,Ae,Be))}function ze(Ve,ye,Ae,Be,Ze,rt){var ct=Ze-Ae,st=rt-Be;if(ct!==0||st!==0){var it=((Ve-Ae)*ct+(ye-Be)*st)/(ct*ct+st*st);it>1?(Ae=Ze,Be=rt):it>0&&(Ae+=ct*it,Be+=st*it)}return(ct=Ve-Ae)*ct+(st=ye-Be)*st}function Me(Ve,ye,Ae,Be){var Ze={id:Ve===void 0?null:Ve,type:ye,geometry:Ae,tags:Be,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(rt){var ct=rt.geometry,st=rt.type;if(st==="Point"||st==="MultiPoint"||st==="LineString")je(rt,ct);else if(st==="Polygon"||st==="MultiLineString")for(var it=0;it<ct.length;it++)je(rt,ct[it]);else if(st==="MultiPolygon")for(it=0;it<ct.length;it++)for(var ft=0;ft<ct[it].length;ft++)je(rt,ct[it][ft])}(Ze),Ze}function je(Ve,ye){for(var Ae=0;Ae<ye.length;Ae+=3)Ve.minX=Math.min(Ve.minX,ye[Ae]),Ve.minY=Math.min(Ve.minY,ye[Ae+1]),Ve.maxX=Math.max(Ve.maxX,ye[Ae]),Ve.maxY=Math.max(Ve.maxY,ye[Ae+1])}function Ke(Ve,ye,Ae,Be){if(ye.geometry){var Ze=ye.geometry.coordinates,rt=ye.geometry.type,ct=Math.pow(Ae.tolerance/((1<<Ae.maxZoom)*Ae.extent),2),st=[],it=ye.id;if(Ae.promoteId?it=ye.properties[Ae.promoteId]:Ae.generateId&&(it=Be||0),rt==="Point")nt(Ze,st);else if(rt==="MultiPoint")for(var ft=0;ft<Ze.length;ft++)nt(Ze[ft],st);else if(rt==="LineString")ot(Ze,st,ct,!1);else if(rt==="MultiLineString"){if(Ae.lineMetrics){for(ft=0;ft<Ze.length;ft++)ot(Ze[ft],st=[],ct,!1),Ve.push(Me(it,"LineString",st,ye.properties));return}ht(Ze,st,ct,!1)}else if(rt==="Polygon")ht(Ze,st,ct,!0);else{if(rt!=="MultiPolygon"){if(rt==="GeometryCollection"){for(ft=0;ft<ye.geometry.geometries.length;ft++)Ke(Ve,{id:it,geometry:ye.geometry.geometries[ft],properties:ye.properties},Ae,Be);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ft=0;ft<Ze.length;ft++){var Lt=[];ht(Ze[ft],Lt,ct,!0),st.push(Lt)}}Ve.push(Me(it,rt,st,ye.properties))}}function nt(Ve,ye){ye.push(gt(Ve[0])),ye.push(Tt(Ve[1])),ye.push(0)}function ot(Ve,ye,Ae,Be){for(var Ze,rt,ct=0,st=0;st<Ve.length;st++){var it=gt(Ve[st][0]),ft=Tt(Ve[st][1]);ye.push(it),ye.push(ft),ye.push(0),st>0&&(ct+=Be?(Ze*ft-it*rt)/2:Math.sqrt(Math.pow(it-Ze,2)+Math.pow(ft-rt,2))),Ze=it,rt=ft}var Lt=ye.length-3;ye[2]=1,ke(ye,0,Lt,Ae),ye[Lt+2]=1,ye.size=Math.abs(ct),ye.start=0,ye.end=ye.size}function ht(Ve,ye,Ae,Be){for(var Ze=0;Ze<Ve.length;Ze++){var rt=[];ot(Ve[Ze],rt,Ae,Be),ye.push(rt)}}function gt(Ve){return Ve/360+.5}function Tt(Ve){var ye=Math.sin(Ve*Math.PI/180),Ae=.5-.25*Math.log((1+ye)/(1-ye))/Math.PI;return Ae<0?0:Ae>1?1:Ae}function $t(Ve,ye,Ae,Be,Ze,rt,ct,st){if(Be/=ye,rt>=(Ae/=ye)&&ct<Be)return Ve;if(ct<Ae||rt>=Be)return null;for(var it=[],ft=0;ft<Ve.length;ft++){var Lt=Ve[ft],Ft=Lt.geometry,Rt=Lt.type,pn=Ze===0?Lt.minX:Lt.minY,rn=Ze===0?Lt.maxX:Lt.maxY;if(pn>=Ae&&rn<Be)it.push(Lt);else if(!(rn<Ae||pn>=Be)){var xn=[];if(Rt==="Point"||Rt==="MultiPoint")mt(Ft,xn,Ae,Be,Ze);else if(Rt==="LineString")Ct(Ft,xn,Ae,Be,Ze,!1,st.lineMetrics);else if(Rt==="MultiLineString")sn(Ft,xn,Ae,Be,Ze,!1);else if(Rt==="Polygon")sn(Ft,xn,Ae,Be,Ze,!0);else if(Rt==="MultiPolygon")for(var Sn=0;Sn<Ft.length;Sn++){var Hn=[];sn(Ft[Sn],Hn,Ae,Be,Ze,!0),Hn.length&&xn.push(Hn)}if(xn.length){if(st.lineMetrics&&Rt==="LineString"){for(Sn=0;Sn<xn.length;Sn++)it.push(Me(Lt.id,Rt,xn[Sn],Lt.tags));continue}Rt!=="LineString"&&Rt!=="MultiLineString"||(xn.length===1?(Rt="LineString",xn=xn[0]):Rt="MultiLineString"),Rt!=="Point"&&Rt!=="MultiPoint"||(Rt=xn.length===3?"Point":"MultiPoint"),it.push(Me(Lt.id,Rt,xn,Lt.tags))}}}return it.length?it:null}function mt(Ve,ye,Ae,Be,Ze){for(var rt=0;rt<Ve.length;rt+=3){var ct=Ve[rt+Ze];ct>=Ae&&ct<=Be&&(ye.push(Ve[rt]),ye.push(Ve[rt+1]),ye.push(Ve[rt+2]))}}function Ct(Ve,ye,Ae,Be,Ze,rt,ct){for(var st,it,ft=St(Ve),Lt=Ze===0?Zt:hi,Ft=Ve.start,Rt=0;Rt<Ve.length-3;Rt+=3){var pn=Ve[Rt],rn=Ve[Rt+1],xn=Ve[Rt+2],Sn=Ve[Rt+3],Hn=Ve[Rt+4],Cn=Ze===0?pn:rn,On=Ze===0?Sn:Hn,Xn=!1;ct&&(st=Math.sqrt(Math.pow(pn-Sn,2)+Math.pow(rn-Hn,2))),Cn<Ae?On>Ae&&(it=Lt(ft,pn,rn,Sn,Hn,Ae),ct&&(ft.start=Ft+st*it)):Cn>Be?On<Be&&(it=Lt(ft,pn,rn,Sn,Hn,Be),ct&&(ft.start=Ft+st*it)):yn(ft,pn,rn,xn),On<Ae&&Cn>=Ae&&(it=Lt(ft,pn,rn,Sn,Hn,Ae),Xn=!0),On>Be&&Cn<=Be&&(it=Lt(ft,pn,rn,Sn,Hn,Be),Xn=!0),!rt&&Xn&&(ct&&(ft.end=Ft+st*it),ye.push(ft),ft=St(Ve)),ct&&(Ft+=st)}var Yn=Ve.length-3;pn=Ve[Yn],rn=Ve[Yn+1],xn=Ve[Yn+2],(Cn=Ze===0?pn:rn)>=Ae&&Cn<=Be&&yn(ft,pn,rn,xn),Yn=ft.length-3,rt&&Yn>=3&&(ft[Yn]!==ft[0]||ft[Yn+1]!==ft[1])&&yn(ft,ft[0],ft[1],ft[2]),ft.length&&ye.push(ft)}function St(Ve){var ye=[];return ye.size=Ve.size,ye.start=Ve.start,ye.end=Ve.end,ye}function sn(Ve,ye,Ae,Be,Ze,rt){for(var ct=0;ct<Ve.length;ct++)Ct(Ve[ct],ye,Ae,Be,Ze,rt,!1)}function yn(Ve,ye,Ae,Be){Ve.push(ye),Ve.push(Ae),Ve.push(Be)}function Zt(Ve,ye,Ae,Be,Ze,rt){var ct=(rt-ye)/(Be-ye);return Ve.push(rt),Ve.push(Ae+(Ze-Ae)*ct),Ve.push(1),ct}function hi(Ve,ye,Ae,Be,Ze,rt){var ct=(rt-Ae)/(Ze-Ae);return Ve.push(ye+(Be-ye)*ct),Ve.push(rt),Ve.push(1),ct}function ii(Ve,ye){for(var Ae=[],Be=0;Be<Ve.length;Be++){var Ze,rt=Ve[Be],ct=rt.type;if(ct==="Point"||ct==="MultiPoint"||ct==="LineString")Ze=Si(rt.geometry,ye);else if(ct==="MultiLineString"||ct==="Polygon"){Ze=[];for(var st=0;st<rt.geometry.length;st++)Ze.push(Si(rt.geometry[st],ye))}else if(ct==="MultiPolygon")for(Ze=[],st=0;st<rt.geometry.length;st++){for(var it=[],ft=0;ft<rt.geometry[st].length;ft++)it.push(Si(rt.geometry[st][ft],ye));Ze.push(it)}Ae.push(Me(rt.id,ct,Ze,rt.tags))}return Ae}function Si(Ve,ye){var Ae=[];Ae.size=Ve.size,Ve.start!==void 0&&(Ae.start=Ve.start,Ae.end=Ve.end);for(var Be=0;Be<Ve.length;Be+=3)Ae.push(Ve[Be]+ye,Ve[Be+1],Ve[Be+2]);return Ae}function Hi(Ve,ye){if(Ve.transformed)return Ve;var Ae,Be,Ze,rt=1<<Ve.z,ct=Ve.x,st=Ve.y;for(Ae=0;Ae<Ve.features.length;Ae++){var it=Ve.features[Ae],ft=it.geometry,Lt=it.type;if(it.geometry=[],Lt===1)for(Be=0;Be<ft.length;Be+=2)it.geometry.push(li(ft[Be],ft[Be+1],ye,rt,ct,st));else for(Be=0;Be<ft.length;Be++){var Ft=[];for(Ze=0;Ze<ft[Be].length;Ze+=2)Ft.push(li(ft[Be][Ze],ft[Be][Ze+1],ye,rt,ct,st));it.geometry.push(Ft)}}return Ve.transformed=!0,Ve}function li(Ve,ye,Ae,Be,Ze,rt){return[Math.round(Ae*(Ve*Be-Ze)),Math.round(Ae*(ye*Be-rt))]}function dt(Ve,ye,Ae,Be,Ze){for(var rt=ye===Ze.maxZoom?0:Ze.tolerance/((1<<ye)*Ze.extent),ct={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ae,y:Be,z:ye,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},st=0;st<Ve.length;st++){ct.numFeatures++,xt(ct,Ve[st],rt,Ze);var it=Ve[st].minX,ft=Ve[st].minY,Lt=Ve[st].maxX,Ft=Ve[st].maxY;it<ct.minX&&(ct.minX=it),ft<ct.minY&&(ct.minY=ft),Lt>ct.maxX&&(ct.maxX=Lt),Ft>ct.maxY&&(ct.maxY=Ft)}return ct}function xt(Ve,ye,Ae,Be){var Ze=ye.geometry,rt=ye.type,ct=[];if(rt==="Point"||rt==="MultiPoint")for(var st=0;st<Ze.length;st+=3)ct.push(Ze[st]),ct.push(Ze[st+1]),Ve.numPoints++,Ve.numSimplified++;else if(rt==="LineString")Dt(ct,Ze,Ve,Ae,!1,!1);else if(rt==="MultiLineString"||rt==="Polygon")for(st=0;st<Ze.length;st++)Dt(ct,Ze[st],Ve,Ae,rt==="Polygon",st===0);else if(rt==="MultiPolygon")for(var it=0;it<Ze.length;it++){var ft=Ze[it];for(st=0;st<ft.length;st++)Dt(ct,ft[st],Ve,Ae,!0,st===0)}if(ct.length){var Lt=ye.tags||null;if(rt==="LineString"&&Be.lineMetrics){for(var Ft in Lt={},ye.tags)Lt[Ft]=ye.tags[Ft];Lt.mapbox_clip_start=Ze.start/Ze.size,Lt.mapbox_clip_end=Ze.end/Ze.size}var Rt={geometry:ct,type:rt==="Polygon"||rt==="MultiPolygon"?3:rt==="LineString"||rt==="MultiLineString"?2:1,tags:Lt};ye.id!==null&&(Rt.id=ye.id),Ve.features.push(Rt)}}function Dt(Ve,ye,Ae,Be,Ze,rt){var ct=Be*Be;if(Be>0&&ye.size<(Ze?ct:Be))Ae.numPoints+=ye.length/3;else{for(var st=[],it=0;it<ye.length;it+=3)(Be===0||ye[it+2]>ct)&&(Ae.numSimplified++,st.push(ye[it]),st.push(ye[it+1])),Ae.numPoints++;Ze&&function(ft,Lt){for(var Ft=0,Rt=0,pn=ft.length,rn=pn-2;Rt<pn;rn=Rt,Rt+=2)Ft+=(ft[Rt]-ft[rn])*(ft[Rt+1]+ft[rn+1]);if(Ft>0===Lt)for(Rt=0,pn=ft.length;Rt<pn/2;Rt+=2){var xn=ft[Rt],Sn=ft[Rt+1];ft[Rt]=ft[pn-2-Rt],ft[Rt+1]=ft[pn-1-Rt],ft[pn-2-Rt]=xn,ft[pn-1-Rt]=Sn}}(st,rt),Ve.push(st)}}function Gt(Ve,ye){var Ae=(ye=this.options=function(Ze,rt){for(var ct in rt)Ze[ct]=rt[ct];return Ze}(Object.create(this.options),ye)).debug;if(Ae&&console.time("preprocess data"),ye.maxZoom<0||ye.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ye.promoteId&&ye.generateId)throw new Error("promoteId and generateId cannot be used together.");var Be=function(Ze,rt){var ct=[];if(Ze.type==="FeatureCollection")for(var st=0;st<Ze.features.length;st++)Ke(ct,Ze.features[st],rt,st);else Ke(ct,Ze.type==="Feature"?Ze:{geometry:Ze},rt);return ct}(Ve,ye);this.tiles={},this.tileCoords=[],Ae&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ye.indexMaxZoom,ye.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Be=function(Ze,rt){var ct=rt.buffer/rt.extent,st=Ze,it=$t(Ze,1,-1-ct,ct,0,-1,2,rt),ft=$t(Ze,1,1-ct,2+ct,0,-1,2,rt);return(it||ft)&&(st=$t(Ze,1,-ct,1+ct,0,-1,2,rt)||[],it&&(st=ii(it,1).concat(st)),ft&&(st=st.concat(ii(ft,-1)))),st}(Be,ye),Be.length&&this.splitTile(Be,0,0,0),Ae&&(Be.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Qt(Ve,ye,Ae){return 32*((1<<Ve)*Ae+ye)+Ve}function Tn(Ve,ye){const Ae=Ve.tileID.canonical;if(!this._geoJSONIndex)return ye(null,null);const Be=this._geoJSONIndex.getTile(Ae.z,Ae.x,Ae.y);if(!Be)return ye(null,null);const Ze=new L(Be.features);let rt=O.exports(Ze);rt.byteOffset===0&&rt.byteLength===rt.buffer.byteLength||(rt=new Uint8Array(rt)),ye(null,{vectorTile:Ze,rawData:rt.buffer})}Gt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Gt.prototype.splitTile=function(Ve,ye,Ae,Be,Ze,rt,ct){for(var st=[Ve,ye,Ae,Be],it=this.options,ft=it.debug;st.length;){Be=st.pop(),Ae=st.pop(),ye=st.pop(),Ve=st.pop();var Lt=1<<ye,Ft=Qt(ye,Ae,Be),Rt=this.tiles[Ft];if(!Rt&&(ft>1&&console.time("creation"),Rt=this.tiles[Ft]=dt(Ve,ye,Ae,Be,it),this.tileCoords.push({z:ye,x:Ae,y:Be}),ft)){ft>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ye,Ae,Be,Rt.numFeatures,Rt.numPoints,Rt.numSimplified),console.timeEnd("creation"));var pn="z"+ye;this.stats[pn]=(this.stats[pn]||0)+1,this.total++}if(Rt.source=Ve,Ze){if(ye===it.maxZoom||ye===Ze)continue;var rn=1<<Ze-ye;if(Ae!==Math.floor(rt/rn)||Be!==Math.floor(ct/rn))continue}else if(ye===it.indexMaxZoom||Rt.numPoints<=it.indexMaxPoints)continue;if(Rt.source=null,Ve.length!==0){ft>1&&console.time("clipping");var xn,Sn,Hn,Cn,On,Xn,Yn=.5*it.buffer/it.extent,gi=.5-Yn,nr=.5+Yn,Rr=1+Yn;xn=Sn=Hn=Cn=null,On=$t(Ve,Lt,Ae-Yn,Ae+nr,0,Rt.minX,Rt.maxX,it),Xn=$t(Ve,Lt,Ae+gi,Ae+Rr,0,Rt.minX,Rt.maxX,it),Ve=null,On&&(xn=$t(On,Lt,Be-Yn,Be+nr,1,Rt.minY,Rt.maxY,it),Sn=$t(On,Lt,Be+gi,Be+Rr,1,Rt.minY,Rt.maxY,it),On=null),Xn&&(Hn=$t(Xn,Lt,Be-Yn,Be+nr,1,Rt.minY,Rt.maxY,it),Cn=$t(Xn,Lt,Be+gi,Be+Rr,1,Rt.minY,Rt.maxY,it),Xn=null),ft>1&&console.timeEnd("clipping"),st.push(xn||[],ye+1,2*Ae,2*Be),st.push(Sn||[],ye+1,2*Ae,2*Be+1),st.push(Hn||[],ye+1,2*Ae+1,2*Be),st.push(Cn||[],ye+1,2*Ae+1,2*Be+1)}}},Gt.prototype.getTile=function(Ve,ye,Ae){var Be=this.options,Ze=Be.extent,rt=Be.debug;if(Ve<0||Ve>24)return null;var ct=1<<Ve,st=Qt(Ve,ye=(ye%ct+ct)%ct,Ae);if(this.tiles[st])return Hi(this.tiles[st],Ze);rt>1&&console.log("drilling down to z%d-%d-%d",Ve,ye,Ae);for(var it,ft=Ve,Lt=ye,Ft=Ae;!it&&ft>0;)ft--,Lt=Math.floor(Lt/2),Ft=Math.floor(Ft/2),it=this.tiles[Qt(ft,Lt,Ft)];return it&&it.source?(rt>1&&console.log("found parent tile z%d-%d-%d",ft,Lt,Ft),rt>1&&console.time("drilling down"),this.splitTile(it.source,ft,Lt,Ft,Ve,ye,Ae),rt>1&&console.timeEnd("drilling down"),this.tiles[st]?Hi(this.tiles[st],Ze):null):null};class Gn extends T{constructor(ye,Ae,Be,Ze){super(ye,Ae,Be,Tn),Ze&&(this.loadGeoJSON=Ze)}loadData(ye,Ae){var Be;(Be=this._pendingRequest)===null||Be===void 0||Be.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const Ze=!!(ye&&ye.request&&ye.request.collectResourceTiming)&&new s.RequestPerformance(ye.request);this._pendingCallback=Ae,this._pendingRequest=this.loadGeoJSON(ye,(rt,ct)=>{if(delete this._pendingCallback,delete this._pendingRequest,rt||!ct)return Ae(rt);if(typeof ct!="object")return Ae(new Error(`Input data given to '${ye.source}' is not a valid GeoJSON object.`));{k(ct,!0);try{if(ye.filter){const it=s.createExpression(ye.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(it.result==="error")throw new Error(it.value.map(Lt=>`${Lt.key}: ${Lt.message}`).join(", "));ct={type:"FeatureCollection",features:ct.features.filter(Lt=>it.value.evaluate({zoom:0},Lt))}}this._geoJSONIndex=ye.cluster?new ce(function({superclusterOptions:it,clusterProperties:ft}){if(!ft||!it)return it;const Lt={},Ft={},Rt={accumulated:null,zoom:0},pn={properties:null},rn=Object.keys(ft);for(const xn of rn){const[Sn,Hn]=ft[xn],Cn=s.createExpression(Hn),On=s.createExpression(typeof Sn=="string"?[Sn,["accumulated"],["get",xn]]:Sn);Lt[xn]=Cn.value,Ft[xn]=On.value}return it.map=xn=>{pn.properties=xn;const Sn={};for(const Hn of rn)Sn[Hn]=Lt[Hn].evaluate(Rt,pn);return Sn},it.reduce=(xn,Sn)=>{pn.properties=Sn;for(const Hn of rn)Rt.accumulated=xn[Hn],xn[Hn]=Ft[Hn].evaluate(Rt,pn)},it}(ye)).load(ct.features):function(it,ft){return new Gt(it,ft)}(ct,ye.geojsonVtOptions)}catch(it){return Ae(it)}this.loaded={};const st={};if(Ze){const it=Ze.finish();it&&(st.resourceTiming={},st.resourceTiming[ye.source]=JSON.parse(JSON.stringify(it)))}Ae(null,st)}})}reloadTile(ye,Ae){const Be=this.loaded;return Be&&Be[ye.uid]?super.reloadTile(ye,Ae):this.loadTile(ye,Ae)}loadGeoJSON(ye,Ae){if(ye.request)return s.getJSON(ye.request,Ae);if(typeof ye.data=="string")try{Ae(null,JSON.parse(ye.data))}catch{Ae(new Error(`Input data given to '${ye.source}' is not a valid GeoJSON object.`))}else Ae(new Error(`Input data given to '${ye.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}}removeSource(ye,Ae){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ae()}getClusterExpansionZoom(ye,Ae){try{Ae(null,this._geoJSONIndex.getClusterExpansionZoom(ye.clusterId))}catch(Be){Ae(Be)}}getClusterChildren(ye,Ae){try{Ae(null,this._geoJSONIndex.getChildren(ye.clusterId))}catch(Be){Ae(Be)}}getClusterLeaves(ye,Ae){try{Ae(null,this._geoJSONIndex.getLeaves(ye.clusterId,ye.limit,ye.offset))}catch(Be){Ae(Be)}}}class vn{constructor(ye){this.self=ye,this.actor=new s.Actor(ye,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:T,geojson:Gn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Ae,Be)=>{if(this.workerSourceTypes[Ae])throw new Error(`Worker source with name "${Ae}" already registered.`);this.workerSourceTypes[Ae]=Be},this.self.registerRTLTextPlugin=Ae=>{if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=Ae.applyArabicShaping,s.plugin.processBidirectionalText=Ae.processBidirectionalText,s.plugin.processStyledBidirectionalText=Ae.processStyledBidirectionalText}}setReferrer(ye,Ae){this.referrer=Ae}setImages(ye,Ae,Be){this.availableImages[ye]=Ae;for(const Ze in this.workerSources[ye]){const rt=this.workerSources[ye][Ze];for(const ct in rt)rt[ct].availableImages=Ae}Be()}setLayers(ye,Ae,Be){this.getLayerIndex(ye).replace(Ae),Be()}updateLayers(ye,Ae,Be){this.getLayerIndex(ye).update(Ae.layers,Ae.removedIds),Be()}loadTile(ye,Ae,Be){this.getWorkerSource(ye,Ae.type,Ae.source).loadTile(Ae,Be)}loadDEMTile(ye,Ae,Be){this.getDEMWorkerSource(ye,Ae.source).loadTile(Ae,Be)}reloadTile(ye,Ae,Be){this.getWorkerSource(ye,Ae.type,Ae.source).reloadTile(Ae,Be)}abortTile(ye,Ae,Be){this.getWorkerSource(ye,Ae.type,Ae.source).abortTile(Ae,Be)}removeTile(ye,Ae,Be){this.getWorkerSource(ye,Ae.type,Ae.source).removeTile(Ae,Be)}removeDEMTile(ye,Ae){this.getDEMWorkerSource(ye,Ae.source).removeTile(Ae)}removeSource(ye,Ae,Be){if(!this.workerSources[ye]||!this.workerSources[ye][Ae.type]||!this.workerSources[ye][Ae.type][Ae.source])return;const Ze=this.workerSources[ye][Ae.type][Ae.source];delete this.workerSources[ye][Ae.type][Ae.source],Ze.removeSource!==void 0?Ze.removeSource(Ae,Be):Be()}loadWorkerSource(ye,Ae,Be){try{this.self.importScripts(Ae.url),Be()}catch(Ze){Be(Ze.toString())}}syncRTLPluginState(ye,Ae,Be){try{s.plugin.setState(Ae);const Ze=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&Ze!=null){this.self.importScripts(Ze);const rt=s.plugin.isParsed();Be(rt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Ze}`),rt)}}catch(Ze){Be(Ze.toString())}}getAvailableImages(ye){let Ae=this.availableImages[ye];return Ae||(Ae=[]),Ae}getLayerIndex(ye){let Ae=this.layerIndexes[ye];return Ae||(Ae=this.layerIndexes[ye]=new m),Ae}getWorkerSource(ye,Ae,Be){if(this.workerSources[ye]||(this.workerSources[ye]={}),this.workerSources[ye][Ae]||(this.workerSources[ye][Ae]={}),!this.workerSources[ye][Ae][Be]){const Ze={send:(rt,ct,st)=>{this.actor.send(rt,ct,st,ye)}};this.workerSources[ye][Ae][Be]=new this.workerSourceTypes[Ae](Ze,this.getLayerIndex(ye),this.getAvailableImages(ye))}return this.workerSources[ye][Ae][Be]}getDEMWorkerSource(ye,Ae){return this.demWorkerSources[ye]||(this.demWorkerSources[ye]={}),this.demWorkerSources[ye][Ae]||(this.demWorkerSources[ye][Ae]=new E),this.demWorkerSources[ye][Ae]}enforceCacheSizeLimit(ye,Ae){s.enforceCacheSizeLimit(Ae)}}return s.isWorker()&&(self.worker=new vn(self)),vn}),a(["./shared"],function(s){var d=p;function p(I){return!function(c){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var C,P,j=new Blob([""],{type:"text/javascript"}),te=URL.createObjectURL(j);try{P=new Worker(te),C=!0}catch{C=!1}return P&&P.terminate(),URL.revokeObjectURL(te),C}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var C=document.createElement("canvas");C.width=C.height=1;var P=C.getContext("2d");if(!P)return!1;var j=P.getImageData(0,0,1,1);return j&&j.width===C.width}()?(m[f=c&&c.failIfMajorPerformanceCaveat]===void 0&&(m[f]=function(C){var P,j=function(te){var de=document.createElement("canvas"),fe=Object.create(p.webGLContextAttributes);return fe.failIfMajorPerformanceCaveat=te,de.getContext("webgl",fe)||de.getContext("experimental-webgl",fe)}(C);if(!j)return!1;try{P=j.createShader(j.VERTEX_SHADER)}catch{return!1}return!(!P||j.isContextLost())&&(j.shaderSource(P,"void main() {}"),j.compileShader(P),j.getShaderParameter(P,j.COMPILE_STATUS)===!0)}(f)),m[f]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var f}(I)}var m={};function y(I,c){if(Array.isArray(I)){if(!Array.isArray(c)||I.length!==c.length)return!1;for(let f=0;f<I.length;f++)if(!y(I[f],c[f]))return!1;return!0}if(typeof I=="object"&&I!==null&&c!==null){if(typeof c!="object"||Object.keys(I).length!==Object.keys(c).length)return!1;for(const f in I)if(!y(I[f],c[f]))return!1;return!0}return I===c}p.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class g{static testProp(c){if(!g.docStyle)return c[0];for(let f=0;f<c.length;f++)if(c[f]in g.docStyle)return c[f];return c[0]}static create(c,f,C){const P=window.document.createElement(c);return f!==void 0&&(P.className=f),C&&C.appendChild(P),P}static createNS(c,f){return window.document.createElementNS(c,f)}static disableDrag(){g.docStyle&&g.selectProp&&(g.userSelect=g.docStyle[g.selectProp],g.docStyle[g.selectProp]="none")}static enableDrag(){g.docStyle&&g.selectProp&&(g.docStyle[g.selectProp]=g.userSelect)}static setTransform(c,f){c.style[g.transformProp]=f}static addEventListener(c,f,C,P={}){c.addEventListener(f,C,"passive"in P?P:P.capture)}static removeEventListener(c,f,C,P={}){c.removeEventListener(f,C,"passive"in P?P:P.capture)}static suppressClickInternal(c){c.preventDefault(),c.stopPropagation(),window.removeEventListener("click",g.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",g.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",g.suppressClickInternal,!0)},0)}static mousePos(c,f){const C=c.getBoundingClientRect();return new s.pointGeometry(f.clientX-C.left-c.clientLeft,f.clientY-C.top-c.clientTop)}static touchPos(c,f){const C=c.getBoundingClientRect(),P=[];for(let j=0;j<f.length;j++)P.push(new s.pointGeometry(f[j].clientX-C.left-c.clientLeft,f[j].clientY-C.top-c.clientTop));return P}static mouseButton(c){return c.button}static remove(c){c.parentNode&&c.parentNode.removeChild(c)}}g.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,g.selectProp=g.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),g.transformProp=g.testProp(["transform","WebkitTransform"]);class _{constructor(c){this._transformRequestFn=c}transformRequest(c,f){return this._transformRequestFn&&this._transformRequestFn(c,f)||{url:c}}normalizeSpriteURL(c,f,C){const P=function(j){const te=j.match(x);if(!te)throw new Error(`Unable to parse URL "${j}"`);return{protocol:te[1],authority:te[2],path:te[3]||"/",params:te[4]?te[4].split("&"):[]}}(c);return P.path+=`${f}${C}`,function(j){const te=j.params.length?`?${j.params.join("&")}`:"";return`${j.protocol}://${j.authority}${j.path}${te}`}(P)}setTransformRequest(c){this._transformRequestFn=c}}const x=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;class T{constructor(c,f,C,P){this.context=c,this.format=C,this.texture=c.gl.createTexture(),this.update(f,P)}update(c,f,C){const{width:P,height:j}=c,te=!(this.size&&this.size[0]===P&&this.size[1]===j||C),{context:de}=this,{gl:fe}=de;if(this.useMipmap=!!(f&&f.useMipmap),fe.bindTexture(fe.TEXTURE_2D,this.texture),de.pixelStoreUnpackFlipY.set(!1),de.pixelStoreUnpack.set(1),de.pixelStoreUnpackPremultiplyAlpha.set(this.format===fe.RGBA&&(!f||f.premultiply!==!1)),te)this.size=[P,j],c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||s.isImageBitmap(c)?fe.texImage2D(fe.TEXTURE_2D,0,this.format,this.format,fe.UNSIGNED_BYTE,c):fe.texImage2D(fe.TEXTURE_2D,0,this.format,P,j,0,this.format,fe.UNSIGNED_BYTE,c.data);else{const{x:Ce,y:Pe}=C||{x:0,y:0};c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||s.isImageBitmap(c)?fe.texSubImage2D(fe.TEXTURE_2D,0,Ce,Pe,fe.RGBA,fe.UNSIGNED_BYTE,c):fe.texSubImage2D(fe.TEXTURE_2D,0,Ce,Pe,P,j,fe.RGBA,fe.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&fe.generateMipmap(fe.TEXTURE_2D)}bind(c,f,C){const{context:P}=this,{gl:j}=P;j.bindTexture(j.TEXTURE_2D,this.texture),C!==j.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(C=j.LINEAR),c!==this.filter&&(j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,c),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,C||c),this.filter=c),f!==this.wrap&&(j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_S,f),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_T,f),this.wrap=f)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}function E(I){const{userImage:c}=I;return!!(c&&c.render&&c.render())&&(I.data.replace(new Uint8Array(c.data.buffer)),!0)}class k extends s.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:f,callback:C}of this.requestors)this._notify(f,C);this.requestors=[]}}getImage(c){return this.images[c]}addImage(c,f){if(this.images[c])throw new Error(`Image id ${c} already exist, use updateImage instead`);this._validate(c,f)&&(this.images[c]=f)}_validate(c,f){let C=!0;return this._validateStretch(f.stretchX,f.data&&f.data.width)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),C=!1),this._validateStretch(f.stretchY,f.data&&f.data.height)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),C=!1),this._validateContent(f.content,f)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),C=!1),C}_validateStretch(c,f){if(!c)return!0;let C=0;for(const P of c){if(P[0]<C||P[1]<P[0]||f<P[1])return!1;C=P[1]}return!0}_validateContent(c,f){return!(c&&(c.length!==4||c[0]<0||f.data.width<c[0]||c[1]<0||f.data.height<c[1]||c[2]<0||f.data.width<c[2]||c[3]<0||f.data.height<c[3]||c[2]<c[0]||c[3]<c[1]))}updateImage(c,f){const C=this.images[c];if(C.data.width!==f.data.width||C.data.height!==f.data.height)throw new Error(`size mismatch between old image (${C.data.width}x${C.data.height}) and new image (${f.data.width}x${f.data.height}).`);f.version=C.version+1,this.images[c]=f,this.updatedImages[c]=!0}removeImage(c){const f=this.images[c];delete this.images[c],delete this.patterns[c],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,f){let C=!0;if(!this.isLoaded())for(const P of c)this.images[P]||(C=!1);this.isLoaded()||C?this._notify(c,f):this.requestors.push({ids:c,callback:f})}_notify(c,f){const C={};for(const P of c){this.images[P]||this.fire(new s.Event("styleimagemissing",{id:P}));const j=this.images[P];j?C[P]={data:j.data.clone(),pixelRatio:j.pixelRatio,sdf:j.sdf,version:j.version,stretchX:j.stretchX,stretchY:j.stretchY,content:j.content,hasRenderCallback:!!(j.userImage&&j.userImage.render)}:s.warnOnce(`Image "${P}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}f(null,C)}getPixelSize(){const{width:c,height:f}=this.atlasImage;return{width:c,height:f}}getPattern(c){const f=this.patterns[c],C=this.getImage(c);if(!C)return null;if(f&&f.position.version===C.version)return f.position;if(f)f.position.version=C.version;else{const P={w:C.data.width+2,h:C.data.height+2,x:0,y:0},j=new s.ImagePosition(P,C);this.patterns[c]={bin:P,position:j}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const f=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new T(c,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const j in this.patterns)c.push(this.patterns[j].bin);const{w:f,h:C}=s.potpack(c),P=this.atlasImage;P.resize({width:f||1,height:C||1});for(const j in this.patterns){const{bin:te}=this.patterns[j],de=te.x+1,fe=te.y+1,Ce=this.images[j].data,Pe=Ce.width,Fe=Ce.height;s.RGBAImage.copy(Ce,P,{x:0,y:0},{x:de,y:fe},{width:Pe,height:Fe}),s.RGBAImage.copy(Ce,P,{x:0,y:Fe-1},{x:de,y:fe-1},{width:Pe,height:1}),s.RGBAImage.copy(Ce,P,{x:0,y:0},{x:de,y:fe+Fe},{width:Pe,height:1}),s.RGBAImage.copy(Ce,P,{x:Pe-1,y:0},{x:de-1,y:fe},{width:1,height:Fe}),s.RGBAImage.copy(Ce,P,{x:0,y:0},{x:de+Pe,y:fe},{width:1,height:Fe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const f of c){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;const C=this.images[f];C||s.warnOnce(`Image with ID: "${f}" was not found`),E(C)&&this.updateImage(f,C)}}}const v=1e20;function w(I,c,f,C,P,j,te,de,fe){for(let Ce=c;Ce<c+C;Ce++)N(I,f*j+Ce,j,P,te,de,fe);for(let Ce=f;Ce<f+P;Ce++)N(I,Ce*j+c,1,C,te,de,fe)}function N(I,c,f,C,P,j,te){j[0]=0,te[0]=-1e20,te[1]=v,P[0]=I[c];for(let de=1,fe=0,Ce=0;de<C;de++){P[de]=I[c+de*f];const Pe=de*de;do{const Fe=j[fe];Ce=(P[de]-P[Fe]+Pe-Fe*Fe)/(de-Fe)/2}while(Ce<=te[fe]&&--fe>-1);fe++,j[fe]=de,te[fe]=Ce,te[fe+1]=v}for(let de=0,fe=0;de<C;de++){for(;te[fe+1]<de;)fe++;const Ce=j[fe],Pe=de-Ce;I[c+de*f]=P[Ce]+Pe*Pe}}class S{constructor(c,f){this.requestManager=c,this.localIdeographFontFamily=f,this.entries={}}setURL(c){this.url=c}getGlyphs(c,f){const C=[];for(const P in c)for(const j of c[P])C.push({stack:P,id:j});s.asyncAll(C,({stack:P,id:j},te)=>{let de=this.entries[P];de||(de=this.entries[P]={glyphs:{},requests:{},ranges:{}});let fe=de.glyphs[j];if(fe!==void 0)return void te(null,{stack:P,id:j,glyph:fe});if(fe=this._tinySDF(de,P,j),fe)return de.glyphs[j]=fe,void te(null,{stack:P,id:j,glyph:fe});const Ce=Math.floor(j/256);if(256*Ce>65535)return void te(new Error("glyphs > 65535 not supported"));if(de.ranges[Ce])return void te(null,{stack:P,id:j,glyph:fe});let Pe=de.requests[Ce];Pe||(Pe=de.requests[Ce]=[],S.loadGlyphRange(P,Ce,this.url,this.requestManager,(Fe,We)=>{if(We){for(const et in We)this._doesCharSupportLocalGlyph(+et)||(de.glyphs[+et]=We[+et]);de.ranges[Ce]=!0}for(const et of Pe)et(Fe,We);delete de.requests[Ce]})),Pe.push((Fe,We)=>{Fe?te(Fe):We&&te(null,{stack:P,id:j,glyph:We[j]||null})})},(P,j)=>{if(P)f(P);else if(j){const te={};for(const{stack:de,id:fe,glyph:Ce}of j)(te[de]||(te[de]={}))[fe]=Ce&&{id:Ce.id,bitmap:Ce.bitmap.clone(),metrics:Ce.metrics};f(null,te)}})}_doesCharSupportLocalGlyph(c){return!!this.localIdeographFontFamily&&(s.unicodeBlockLookup["CJK Unified Ideographs"](c)||s.unicodeBlockLookup["Hangul Syllables"](c)||s.unicodeBlockLookup.Hiragana(c)||s.unicodeBlockLookup.Katakana(c))}_tinySDF(c,f,C){const P=this.localIdeographFontFamily;if(!P||!this._doesCharSupportLocalGlyph(C))return;let j=c.tinySDF;if(!j){let de="400";/bold/i.test(f)?de="900":/medium/i.test(f)?de="500":/light/i.test(f)&&(de="200"),j=c.tinySDF=new S.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:P,fontWeight:de})}const te=j.draw(String.fromCharCode(C));return{id:C,bitmap:new s.AlphaImage({width:te.width||30,height:te.height||30},te.data),metrics:{width:te.glyphWidth||24,height:te.glyphHeight||24,left:te.glyphLeft||0,top:te.glyphTop-27||-8,advance:te.glyphAdvance||24}}}}S.loadGlyphRange=function(I,c,f,C,P){const j=256*c,te=j+255,de=C.transformRequest(f.replace("{fontstack}",I).replace("{range}",`${j}-${te}`),s.ResourceType.Glyphs);s.getArrayBuffer(de,(fe,Ce)=>{if(fe)P(fe);else if(Ce){const Pe={};for(const Fe of s.parseGlyphPbf(Ce))Pe[Fe.id]=Fe;P(null,Pe)}})},S.TinySDF=class{constructor({fontSize:I=24,buffer:c=3,radius:f=8,cutoff:C=.25,fontFamily:P="sans-serif",fontWeight:j="normal",fontStyle:te="normal"}={}){this.buffer=c,this.cutoff=C,this.radius=f;const de=this.size=I+4*c,fe=this._createCanvas(de),Ce=this.ctx=fe.getContext("2d",{willReadFrequently:!0});Ce.font=`${te} ${j} ${I}px ${P}`,Ce.textBaseline="alphabetic",Ce.textAlign="left",Ce.fillStyle="black",this.gridOuter=new Float64Array(de*de),this.gridInner=new Float64Array(de*de),this.f=new Float64Array(de),this.z=new Float64Array(de+1),this.v=new Uint16Array(de)}_createCanvas(I){const c=document.createElement("canvas");return c.width=c.height=I,c}draw(I){const{width:c,actualBoundingBoxAscent:f,actualBoundingBoxDescent:C,actualBoundingBoxLeft:P,actualBoundingBoxRight:j}=this.ctx.measureText(I),te=Math.ceil(f),de=Math.min(this.size-this.buffer,Math.ceil(j-P)),fe=Math.min(this.size-this.buffer,te+Math.ceil(C)),Ce=de+2*this.buffer,Pe=fe+2*this.buffer,Fe=Math.max(Ce*Pe,0),We=new Uint8ClampedArray(Fe),et={data:We,width:Ce,height:Pe,glyphWidth:de,glyphHeight:fe,glyphTop:te,glyphLeft:0,glyphAdvance:c};if(de===0||fe===0)return et;const{ctx:Qe,buffer:Je,gridInner:pt,gridOuter:yt}=this;Qe.clearRect(Je,Je,de,fe),Qe.fillText(I,Je,Je+te);const wt=Qe.getImageData(Je,Je,de,fe);yt.fill(v,0,Fe),pt.fill(0,0,Fe);for(let at=0;at<fe;at++)for(let It=0;It<de;It++){const Et=wt.data[4*(at*de+It)+3]/255;if(Et===0)continue;const Bt=(at+Je)*Ce+It+Je;if(Et===1)yt[Bt]=0,pt[Bt]=v;else{const Ut=.5-Et;yt[Bt]=Ut>0?Ut*Ut:0,pt[Bt]=Ut<0?Ut*Ut:0}}w(yt,0,0,Ce,Pe,Ce,this.f,this.v,this.z),w(pt,Je,Je,de,fe,Ce,this.f,this.v,this.z);for(let at=0;at<Fe;at++){const It=Math.sqrt(yt[at])-Math.sqrt(pt[at]);We[at]=Math.round(255-255*(It/this.radius+this.cutoff))}return et}};const L=new s.Properties({anchor:new s.DataConstantProperty(s.spec.light.anchor),position:new class{constructor(){this.specification=s.spec.light.position}possiblyEvaluate(I,c){return s.sphericalToCartesian(I.expression.evaluate(c))}interpolate(I,c,f){return{x:s.number(I.x,c.x,f),y:s.number(I.y,c.y,f),z:s.number(I.z,c.z,f)}}},color:new s.DataConstantProperty(s.spec.light.color),intensity:new s.DataConstantProperty(s.spec.light.intensity)}),O="-transition";class Y extends s.Evented{constructor(c){super(),this._transitionable=new s.Transitionable(L),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,f={}){if(!this._validate(s.validateLight,c,f))for(const C in c){const P=c[C];C.endsWith(O)?this._transitionable.setTransition(C.slice(0,-O.length),P):this._transitionable.setValue(C,P)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,f,C){return(!C||C.validate!==!1)&&s.emitValidationErrors(this,c.call(s.validateStyle,s.extend({value:f,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}class X{constructor(c,f){this.width=c,this.height=f,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(c,f){const C=c.join(",")+String(f);return this.dashEntry[C]||(this.dashEntry[C]=this.addDash(c,f)),this.dashEntry[C]}getDashRanges(c,f,C){const P=[];let j=c.length%2==1?-c[c.length-1]*C:0,te=c[0]*C,de=!0;P.push({left:j,right:te,isDash:de,zeroLength:c[0]===0});let fe=c[0];for(let Ce=1;Ce<c.length;Ce++){de=!de;const Pe=c[Ce];j=fe*C,fe+=Pe,te=fe*C,P.push({left:j,right:te,isDash:de,zeroLength:Pe===0})}return P}addRoundDash(c,f,C){const P=f/2;for(let j=-C;j<=C;j++){const te=this.width*(this.nextRow+C+j);let de=0,fe=c[de];for(let Ce=0;Ce<this.width;Ce++){Ce/fe.right>1&&(fe=c[++de]);const Pe=Math.abs(Ce-fe.left),Fe=Math.abs(Ce-fe.right),We=Math.min(Pe,Fe);let et;const Qe=j/C*(P+1);if(fe.isDash){const Je=P-Math.abs(Qe);et=Math.sqrt(We*We+Je*Je)}else et=P-Math.sqrt(We*We+Qe*Qe);this.data[te+Ce]=Math.max(0,Math.min(255,et+128))}}}addRegularDash(c){for(let de=c.length-1;de>=0;--de){const fe=c[de],Ce=c[de+1];fe.zeroLength?c.splice(de,1):Ce&&Ce.isDash===fe.isDash&&(Ce.left=fe.left,c.splice(de,1))}const f=c[0],C=c[c.length-1];f.isDash===C.isDash&&(f.left=C.left-this.width,C.right=f.right+this.width);const P=this.width*this.nextRow;let j=0,te=c[j];for(let de=0;de<this.width;de++){de/te.right>1&&(te=c[++j]);const fe=Math.abs(de-te.left),Ce=Math.abs(de-te.right),Pe=Math.min(fe,Ce);this.data[P+de]=Math.max(0,Math.min(255,(te.isDash?Pe:-Pe)+128))}}addDash(c,f){const C=f?7:0,P=2*C+1;if(this.nextRow+P>this.height)return s.warnOnce("LineAtlas out of space"),null;let j=0;for(let de=0;de<c.length;de++)j+=c[de];if(j!==0){const de=this.width/j,fe=this.getDashRanges(c,this.width,de);f?this.addRoundDash(fe,de,C):this.addRegularDash(fe)}const te={y:(this.nextRow+C+.5)/this.height,height:2*C/this.height,width:j};return this.nextRow+=P,this.dirty=!0,te}bind(c){const f=c.gl;this.texture?(f.bindTexture(f.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,f.texSubImage2D(f.TEXTURE_2D,0,0,0,this.width,this.height,f.ALPHA,f.UNSIGNED_BYTE,this.data))):(this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.ALPHA,this.width,this.height,0,f.ALPHA,f.UNSIGNED_BYTE,this.data))}}class H{constructor(c,f){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=s.uniqueId();const C=this.workerPool.acquire(this.id);for(let P=0;P<C.length;P++){const j=new H.Actor(C[P],f,this.id);j.name=`Worker ${P}`,this.actors.push(j)}if(!this.actors.length)throw new Error("No actors found")}broadcast(c,f,C){s.asyncAll(this.actors,(P,j)=>{P.send(c,f,j)},C=C||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(c=>{c.remove()}),this.actors=[],this.workerPool.release(this.id)}}function $(I,c,f){const C=function(P,j){if(P)return f(P);if(j){const te=s.pick(s.extend(j,I),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);j.vector_layers&&(te.vectorLayers=j.vector_layers,te.vectorLayerIds=te.vectorLayers.map(de=>de.id)),f(null,te)}};return I.url?s.getJSON(c.transformRequest(I.url,s.ResourceType.Source),C):s.exported.frame(()=>C(null,I))}H.Actor=s.Actor;class G{constructor(c,f,C){this.bounds=s.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=f||0,this.maxzoom=C||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const f=Math.pow(2,c.z),C=Math.floor(s.mercatorXfromLng(this.bounds.getWest())*f),P=Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*f),j=Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*f),te=Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*f);return c.x>=C&&c.x<j&&c.y>=P&&c.y<te}}class B extends s.Evented{constructor(c,f,C,P){if(super(),this.id=c,this.dispatcher=C,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(f,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(P)}load(){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=$(this._options,this.map._requestManager,(c,f)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),c?this.fire(new s.ErrorEvent(c)):f&&(s.extend(this,f),f.bounds&&(this.tileBounds=new G(f.bounds,this.minzoom,this.maxzoom)),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}setUrl(c){return this.setSourceProperty(()=>{this.url=c,this._options.url=c}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return s.extend({},this._options)}loadTile(c,f){const C=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),P={request:this.map._requestManager.transformRequest(C,s.ResourceType.Tile),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function j(te,de){return delete c.request,c.aborted?f(null):te&&te.status!==404?f(te):(de&&de.resourceTiming&&(c.resourceTiming=de.resourceTiming),this.map._refreshExpiredTiles&&de&&c.setExpiryData(de),c.loadVectorData(de,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),f(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}P.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired"?c.state==="loading"?c.reloadCallback=f:c.request=c.actor.send("reloadTile",P,j.bind(this)):(c.actor=this.dispatcher.getActor(),c.request=c.actor.send("loadTile",P,j.bind(this)))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id},void 0)}unloadTile(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class M extends s.Evented{constructor(c,f,C,P){super(),this.id=c,this.dispatcher=C,this.setEventedParent(P),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},f),s.extend(this,s.pick(f,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=$(this._options,this.map._requestManager,(c,f)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new s.ErrorEvent(c)):f&&(s.extend(this,f),f.bounds&&(this.tileBounds=new G(f.bounds,this.minzoom,this.maxzoom)),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return s.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,f){const C=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);c.request=s.getImage(this.map._requestManager.transformRequest(C,s.ResourceType.Tile),(P,j,te)=>{if(delete c.request,c.aborted)c.state="unloaded",f(null);else if(P)c.state="errored",f(P);else if(j){this.map._refreshExpiredTiles&&c.setExpiryData(te);const de=this.map.painter.context,fe=de.gl;c.texture=this.map.painter.getTileTexture(j.width),c.texture?c.texture.update(j,{useMipmap:!0}):(c.texture=new T(de,j,fe.RGBA,{useMipmap:!0}),c.texture.bind(fe.LINEAR,fe.CLAMP_TO_EDGE,fe.LINEAR_MIPMAP_NEAREST),de.extTextureFilterAnisotropic&&fe.texParameterf(fe.TEXTURE_2D,de.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,de.extTextureFilterAnisotropicMax)),c.state="loaded",s.cacheEntryPossiblyAdded(this.dispatcher),f(null)}})}abortTile(c,f){c.request&&(c.request.cancel(),delete c.request),f()}unloadTile(c,f){c.texture&&this.map.painter.saveTileTexture(c.texture),f()}hasTransition(){return!1}}let D;class V extends M{constructor(c,f,C,P){super(c,f,C,P),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(c,f){const C=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function P(j,te){j&&(c.state="errored",f(j)),te&&(c.dem=te,c.needsHillshadePrepare=!0,c.needsTerrainPrepare=!0,c.state="loaded",f(null))}c.request=s.getImage(this.map._requestManager.transformRequest(C,s.ResourceType.Tile),(function(j,te){if(delete c.request,c.aborted)c.state="unloaded",f(null);else if(j)c.state="errored",f(j);else if(te){this.map._refreshExpiredTiles&&c.setExpiryData(te),delete te.cacheControl,delete te.expires;const de=s.isImageBitmap(te)&&(D==null&&(D=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),D)?te:s.exported.getImageData(te,1),fe={uid:c.uid,coord:c.tileID,source:this.id,rawImageData:de,encoding:this.encoding};c.actor&&c.state!=="expired"||(c.actor=this.dispatcher.getActor(),c.actor.send("loadDEMTile",fe,P.bind(this)))}}).bind(this)),c.neighboringTiles=this._getNeighboringTiles(c.tileID)}_getNeighboringTiles(c){const f=c.canonical,C=Math.pow(2,f.z),P=(f.x-1+C)%C,j=f.x===0?c.wrap-1:c.wrap,te=(f.x+1+C)%C,de=f.x+1===C?c.wrap+1:c.wrap,fe={};return fe[new s.OverscaledTileID(c.overscaledZ,j,f.z,P,f.y).key]={backfilled:!1},fe[new s.OverscaledTileID(c.overscaledZ,de,f.z,te,f.y).key]={backfilled:!1},f.y>0&&(fe[new s.OverscaledTileID(c.overscaledZ,j,f.z,P,f.y-1).key]={backfilled:!1},fe[new s.OverscaledTileID(c.overscaledZ,c.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},fe[new s.OverscaledTileID(c.overscaledZ,de,f.z,te,f.y-1).key]={backfilled:!1}),f.y+1<C&&(fe[new s.OverscaledTileID(c.overscaledZ,j,f.z,P,f.y+1).key]={backfilled:!1},fe[new s.OverscaledTileID(c.overscaledZ,c.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},fe[new s.OverscaledTileID(c.overscaledZ,de,f.z,te,f.y+1).key]={backfilled:!1}),fe}unloadTile(c){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&c.actor.send("removeDEMTile",{uid:c.uid,source:this.id})}}class F extends s.Evented{constructor(c,f,C,P){super(),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=C.getActor(),this.setEventedParent(P),this._data=f.data,this._options=s.extend({},f),this._collectResourceTiming=f.collectResourceTiming,f.maxzoom!==void 0&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId;const j=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:(f.buffer!==void 0?f.buffer:128)*j,tolerance:(f.tolerance!==void 0?f.tolerance:.375)*j,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:f.clusterMaxZoom!==void 0?f.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,f.clusterMinPoints||2),extent:s.EXTENT,radius:(f.clusterRadius||50)*j,log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(c){this.map=c,this.load()}setData(c){return this._data=c,this._updateWorkerData("content"),this}getClusterExpansionZoom(c,f){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:c,source:this.id},f),this}getClusterChildren(c,f){return this.actor.send("geojson.getClusterChildren",{clusterId:c,source:this.id},f),this}getClusterLeaves(c,f,C,P){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:c,limit:f,offset:C},P),this}_updateWorkerData(c){const f=s.extend({},this.workerOptions),C=this._data;typeof C=="string"?(f.request=this.map._requestManager.transformRequest(s.exported.resolveURL(C),s.ResourceType.Source),f.request.collectResourceTiming=this._collectResourceTiming):f.data=JSON.stringify(C),this._pendingLoads++,this.fire(new s.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,f,(P,j)=>{if(this._pendingLoads--,this._removed||j&&j.abandoned)return void this.fire(new s.Event("dataabort",{dataType:"source",sourceDataType:c}));let te=null;if(j&&j.resourceTiming&&j.resourceTiming[this.id]&&(te=j.resourceTiming[this.id].slice(0)),P)return void this.fire(new s.ErrorEvent(P));const de={dataType:"source",sourceDataType:c};this._collectResourceTiming&&te&&te.length>0&&s.extend(de,{resourceTiming:te}),this.fire(new s.Event("data",de))})}loaded(){return this._pendingLoads===0}loadTile(c,f){const C=c.actor?"reloadTile":"loadTile";c.actor=this.actor;const P={type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};c.request=this.actor.send(C,P,(j,te)=>(delete c.request,c.unloadVectorData(),c.aborted?f(null):j?f(j):(c.loadVectorData(te,this.map.painter,C==="reloadTile"),f(null))))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.aborted=!0}unloadTile(c){c.unloadVectorData(),this.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return s.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var z=s.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class W extends s.Evented{constructor(c,f,C,P){super(),this.id=c,this.dispatcher=C,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(P),this.options=f}load(c,f){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),(C,P)=>{this._loaded=!0,C?this.fire(new s.ErrorEvent(C)):P&&(this.image=P,c&&(this.coordinates=c),f&&f(),this._finishLoading())})}loaded(){return this._loaded}updateImage(c){return this.image&&c.url?(this.options.url=c.url,this.load(c.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}setCoordinates(c){this.coordinates=c;const f=c.map(s.MercatorCoordinate.fromLngLat);this.tileID=function(P){let j=1/0,te=1/0,de=-1/0,fe=-1/0;for(const We of P)j=Math.min(j,We.x),te=Math.min(te,We.y),de=Math.max(de,We.x),fe=Math.max(fe,We.y);const Ce=Math.max(de-j,fe-te),Pe=Math.max(0,Math.floor(-Math.log(Ce)/Math.LN2)),Fe=Math.pow(2,Pe);return new s.CanonicalTileID(Pe,Math.floor((j+de)/2*Fe),Math.floor((te+fe)/2*Fe))}(f),this.minzoom=this.maxzoom=this.tileID.z;const C=f.map(P=>this.tileID.getTilePoint(P)._round());return this._boundsArray=new s.RasterBoundsArray,this._boundsArray.emplaceBack(C[0].x,C[0].y,0,0),this._boundsArray.emplaceBack(C[1].x,C[1].y,s.EXTENT,0),this._boundsArray.emplaceBack(C[3].x,C[3].y,0,s.EXTENT),this._boundsArray.emplaceBack(C[2].x,C[2].y,s.EXTENT,s.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const c=this.map.painter.context,f=c.gl;this.boundsBuffer||(this.boundsBuffer=c.createVertexBuffer(this._boundsArray,z.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new T(c,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));for(const C in this.tiles){const P=this.tiles[C];P.state!=="loaded"&&(P.state="loaded",P.texture=this.texture)}}loadTile(c,f){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},f(null)):(c.state="errored",f(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class q extends W{constructor(c,f,C,P){super(c,f,C,P),this.roundZoom=!0,this.type="video",this.options=f}load(){this._loaded=!1;const c=this.options;this.urls=[];for(const f of c.urls)this.urls.push(this.map._requestManager.transformRequest(f,s.ResourceType.Source).url);s.getVideo(this.urls,(f,C)=>{this._loaded=!0,f?this.fire(new s.ErrorEvent(f)):C&&(this.video=C,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const f=this.video.seekable;c<f.start(0)||c>f.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${f.start(0)} and ${f.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const c=this.map.painter.context,f=c.gl;this.boundsBuffer||(this.boundsBuffer=c.createVertexBuffer(this._boundsArray,z.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new T(c,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));for(const C in this.tiles){const P=this.tiles[C];P.state!=="loaded"&&(P.state="loaded",P.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class ee extends W{constructor(c,f,C,P){super(c,f,C,P),f.coordinates?Array.isArray(f.coordinates)&&f.coordinates.length===4&&!f.coordinates.some(j=>!Array.isArray(j)||j.length!==2||j.some(te=>typeof te!="number"))||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${c}`,null,'missing required property "coordinates"'))),f.animate&&typeof f.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),f.canvas?typeof f.canvas=="string"||f.canvas instanceof HTMLCanvasElement||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${c}`,null,'missing required property "canvas"'))),this.options=f,this.animate=f.animate===void 0||f.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let c=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,c=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,c=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const f=this.map.painter.context,C=f.gl;this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,z.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(c||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new T(f,this.canvas,C.RGBA,{premultiply:!0});for(const P in this.tiles){const j=this.tiles[P];j.state!=="loaded"&&(j.state="loaded",j.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}const ue={vector:B,raster:M,"raster-dem":V,geojson:F,video:q,image:W,canvas:ee};function ie(I,c){const f=s.create();return s.translate(f,f,[1,1,0]),s.scale(f,f,[.5*I.width,.5*I.height,1]),s.multiply(f,f,I.calculatePosMatrix(c.toUnwrapped()))}function oe(I,c,f,C,P,j){const te=function(Fe,We,et){if(Fe)for(const Qe of Fe){const Je=We[Qe];if(Je&&Je.source===et&&Je.type==="fill-extrusion")return!0}else for(const Qe in We){const Je=We[Qe];if(Je.source===et&&Je.type==="fill-extrusion")return!0}return!1}(P&&P.layers,c,I.id),de=j.maxPitchScaleFactor(),fe=I.tilesIn(C,de,te);fe.sort(Ee);const Ce=[];for(const Fe of fe)Ce.push({wrappedTileID:Fe.tileID.wrapped().key,queryResults:Fe.tile.queryRenderedFeatures(c,f,I._state,Fe.queryGeometry,Fe.cameraQueryGeometry,Fe.scale,P,j,de,ie(I.transform,Fe.tileID))});const Pe=function(Fe){const We={},et={};for(const Qe of Fe){const Je=Qe.queryResults,pt=Qe.wrappedTileID,yt=et[pt]=et[pt]||{};for(const wt in Je){const at=Je[wt],It=yt[wt]=yt[wt]||{},Et=We[wt]=We[wt]||[];for(const Bt of at)It[Bt.featureIndex]||(It[Bt.featureIndex]=!0,Et.push(Bt))}}return We}(Ce);for(const Fe in Pe)Pe[Fe].forEach(We=>{const et=We.feature,Qe=I.getFeatureState(et.layer["source-layer"],et.id);et.source=et.layer.source,et.layer["source-layer"]&&(et.sourceLayer=et.layer["source-layer"]),et.state=Qe});return Pe}function Ee(I,c){const f=I.tileID,C=c.tileID;return f.overscaledZ-C.overscaledZ||f.canonical.y-C.canonical.y||f.wrap-C.wrap||f.canonical.x-C.canonical.x}class me{constructor(c,f){this.tileID=c,this.uid=s.uniqueId(),this.uses=0,this.tileSize=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.textures=[],this.textureCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const f=c+this.timeAdded;f<s.exported.now()||this.fadeEndTime&&f<this.fadeEndTime||(this.fadeEndTime=f)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(c){this.demTexture&&c.saveTileTexture(this.demTexture),this.textures.forEach(f=>c.saveTileTexture(f)),this.demTexture=null,this.textures=[],this.textureCoords={}}loadVectorData(c,f,C){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(P,j){const te={};if(!j)return te;for(const de of P){const fe=de.layerIds.map(Ce=>j.getLayer(Ce)).filter(Boolean);if(fe.length!==0){de.layers=fe,de.stateDependentLayerIds&&(de.stateDependentLayers=de.stateDependentLayerIds.map(Ce=>fe.filter(Pe=>Pe.id===Ce)[0]));for(const Ce of fe)te[Ce.id]=de}}return te}(c.buckets,f.style),this.hasSymbolBuckets=!1;for(const P in this.buckets){const j=this.buckets[P];if(j instanceof s.SymbolBucket){if(this.hasSymbolBuckets=!0,!C)break;j.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const P in this.buckets){const j=this.buckets[P];if(j instanceof s.SymbolBucket&&j.hasRTLText){this.hasRTLText=!0,s.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const P in this.buckets){const j=this.buckets[P];this.queryPadding=Math.max(this.queryPadding,f.style.getLayer(P).queryRadius(j))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage)}else this.collisionBoxArray=new s.CollisionBoxArray}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const C in this.buckets){const P=this.buckets[C];P.uploadPending()&&P.upload(c)}const f=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new T(c,this.imageAtlas.image,f.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new T(c,this.glyphAtlasImage,f.ALPHA),this.glyphAtlasImage=null)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,f,C,P,j,te,de,fe,Ce,Pe){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:P,cameraQueryGeometry:j,scale:te,tileSize:this.tileSize,pixelPosMatrix:Pe,transform:fe,params:de,queryPadding:this.queryPadding*Ce},c,f,C):{}}querySourceFeatures(c,f){const C=this.latestFeatureIndex;if(!C||!C.rawTileData)return;const P=C.loadVTLayers(),j=f?f.sourceLayer:"",te=P._geojsonTileLayer||P[j];if(!te)return;const de=s.createFilter(f&&f.filter),{z:fe,x:Ce,y:Pe}=this.tileID.canonical,Fe={z:fe,x:Ce,y:Pe};for(let We=0;We<te.length;We++){const et=te.feature(We);if(de.needGeometry){const pt=s.toEvaluationFeature(et,!0);if(!de.filter(new s.EvaluationParameters(this.tileID.overscaledZ),pt,this.tileID.canonical))continue}else if(!de.filter(new s.EvaluationParameters(this.tileID.overscaledZ),et))continue;const Qe=C.getId(et,j),Je=new s.GeoJSONFeature(et,fe,Ce,Pe,Qe);Je.tile=Fe,c.push(Je)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const f=this.expirationTime;if(c.cacheControl){const C=s.parseCacheControl(c.cacheControl);C["max-age"]&&(this.expirationTime=Date.now()+1e3*C["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const C=Date.now();let P=!1;if(this.expirationTime>C)P=!1;else if(f)if(this.expirationTime<f)P=!0;else{const j=this.expirationTime-f;j?this.expirationTime=C+Math.max(j,3e4):P=!0}else P=!0;P?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,f){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(c).length===0)return;const C=this.latestFeatureIndex.loadVTLayers();for(const P in this.buckets){if(!f.style.hasLayer(P))continue;const j=this.buckets[P],te=j.layers[0].sourceLayer||"_geojsonTileLayer",de=C[te],fe=c[te];if(!de||!fe||Object.keys(fe).length===0)continue;j.update(fe,de,this.imageAtlas&&this.imageAtlas.patternPositions||{});const Ce=f&&f.style&&f.style.getLayer(P);Ce&&(this.queryPadding=Math.max(this.queryPadding,Ce.queryRadius(j)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<s.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=s.exported.now()+c}setDependencies(c,f){const C={};for(const P of f)C[P]=!0;this.dependencies[c]=C}hasDependency(c,f){for(const C of c){const P=this.dependencies[C];if(P){for(const j of f)if(P[j])return!0}}return!1}}class Te{constructor(c,f){this.max=c,this.onRemove=f,this.reset()}reset(){for(const c in this.data)for(const f of this.data[c])f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value);return this.data={},this.order=[],this}add(c,f,C){const P=c.wrapped().key;this.data[P]===void 0&&(this.data[P]=[]);const j={value:f,timeout:void 0};if(C!==void 0&&(j.timeout=setTimeout(()=>{this.remove(c,j)},C)),this.data[P].push(j),this.order.push(P),this.order.length>this.max){const te=this._getAndRemoveByKey(this.order[0]);te&&this.onRemove(te)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const f=this.data[c].shift();return f.timeout&&clearTimeout(f.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),f.value}getByKey(c){const f=this.data[c];return f?f[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,f){if(!this.has(c))return this;const C=c.wrapped().key,P=f===void 0?0:this.data[C].indexOf(f),j=this.data[C][P];return this.data[C].splice(P,1),j.timeout&&clearTimeout(j.timeout),this.data[C].length===0&&delete this.data[C],this.onRemove(j.value),this.order.splice(this.order.indexOf(C),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}filter(c){const f=[];for(const C in this.data)for(const P of this.data[C])c(P.value)||f.push(P);for(const C of f)this.remove(C.value.tileID,C)}}class K{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,f,C){const P=String(f);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][P]=this.stateChanges[c][P]||{},s.extend(this.stateChanges[c][P],C),this.deletedStates[c]===null){this.deletedStates[c]={};for(const j in this.state[c])j!==P&&(this.deletedStates[c][j]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][P]===null){this.deletedStates[c][P]={};for(const j in this.state[c][P])C[j]||(this.deletedStates[c][P][j]=null)}else for(const j in C)this.deletedStates[c]&&this.deletedStates[c][P]&&this.deletedStates[c][P][j]===null&&delete this.deletedStates[c][P][j]}removeFeatureState(c,f,C){if(this.deletedStates[c]===null)return;const P=String(f);if(this.deletedStates[c]=this.deletedStates[c]||{},C&&f!==void 0)this.deletedStates[c][P]!==null&&(this.deletedStates[c][P]=this.deletedStates[c][P]||{},this.deletedStates[c][P][C]=null);else if(f!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][P])for(C in this.deletedStates[c][P]={},this.stateChanges[c][P])this.deletedStates[c][P][C]=null;else this.deletedStates[c][P]=null;else this.deletedStates[c]=null}getState(c,f){const C=String(f),P=s.extend({},(this.state[c]||{})[C],(this.stateChanges[c]||{})[C]);if(this.deletedStates[c]===null)return{};if(this.deletedStates[c]){const j=this.deletedStates[c][f];if(j===null)return{};for(const te in j)delete P[te]}return P}initializeTileState(c,f){c.setFeatureState(this.state,f)}coalesceChanges(c,f){const C={};for(const P in this.stateChanges){this.state[P]=this.state[P]||{};const j={};for(const te in this.stateChanges[P])this.state[P][te]||(this.state[P][te]={}),s.extend(this.state[P][te],this.stateChanges[P][te]),j[te]=this.state[P][te];C[P]=j}for(const P in this.deletedStates){this.state[P]=this.state[P]||{};const j={};if(this.deletedStates[P]===null)for(const te in this.state[P])j[te]={},this.state[P][te]={};else for(const te in this.deletedStates[P]){if(this.deletedStates[P][te]===null)this.state[P][te]={};else for(const de of Object.keys(this.deletedStates[P][te]))delete this.state[P][te][de];j[te]=this.state[P][te]}C[P]=C[P]||{},s.extend(C[P],j)}if(this.stateChanges={},this.deletedStates={},Object.keys(C).length!==0)for(const P in c)c[P].setFeatureState(C,f)}}class J extends s.Evented{constructor(c,f,C){super(),this.id=c,this.dispatcher=C,this.on("data",P=>{P.dataType==="source"&&P.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&P.dataType==="source"&&P.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain))}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function(P,j,te,de){const fe=new ue[j.type](P,j,te,de);if(fe.id!==P)throw new Error(`Expected Source id to be ${P} instead of ${fe.id}`);return s.bindAll(["load","abort","unload","serialize","prepare"],fe),fe}(c,f,C,this),this._tiles={},this._cache=new Te(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new K}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(c)}onRemove(c){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(c)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const c in this._tiles){const f=this._tiles[c];if(f.state!=="loaded"&&f.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(c,f){return this._source.loadTile(c,f)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c,()=>{})}_abortTile(c){this._source.abortTile&&this._source.abortTile(c,()=>{}),this._source.fire(new s.Event("dataabort",{tile:c,coord:c.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const f in this._tiles){const C=this._tiles[f];C.upload(c),C.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(c=>c.tileID).sort(se).map(c=>c.key)}getRenderableIds(c){const f=[];for(const C in this._tiles)this._isIdRenderable(C,c)&&f.push(this._tiles[C]);return c?f.sort((C,P)=>{const j=C.tileID,te=P.tileID,de=new s.pointGeometry(j.canonical.x,j.canonical.y)._rotate(this.transform.angle),fe=new s.pointGeometry(te.canonical.x,te.canonical.y)._rotate(this.transform.angle);return j.overscaledZ-te.overscaledZ||fe.y-de.y||fe.x-de.x}).map(C=>C.tileID.key):f.map(C=>C.tileID).sort(se).map(C=>C.key)}hasRenderableParent(c){const f=this.findLoadedParent(c,0);return!!f&&this._isIdRenderable(f.tileID.key)}_isIdRenderable(c,f){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(f||!this._tiles[c].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)this._tiles[c].state!=="errored"&&this._reloadTile(c,"reloading")}}_reloadTile(c,f){const C=this._tiles[c];C&&(C.state!=="loading"&&(C.state=f),this._loadTile(C,this._tileLoaded.bind(this,C,c,f)))}_tileLoaded(c,f,C,P){if(P)return c.state="errored",void(P.status!==404?this._source.fire(new s.ErrorEvent(P,{tile:c})):this.update(this.transform,this.terrain));c.timeAdded=s.exported.now(),C==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(f,c),this.getSource().type==="raster-dem"&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),c.aborted||this._source.fire(new s.Event("data",{dataType:"source",tile:c,coord:c.tileID}))}_backfillDEM(c){const f=this.getRenderableIds();for(let P=0;P<f.length;P++){const j=f[P];if(c.neighboringTiles&&c.neighboringTiles[j]){const te=this.getTileByID(j);C(c,te),C(te,c)}}function C(P,j){P.needsHillshadePrepare=!0,P.needsTerrainPrepare=!0;let te=j.tileID.canonical.x-P.tileID.canonical.x;const de=j.tileID.canonical.y-P.tileID.canonical.y,fe=Math.pow(2,P.tileID.canonical.z),Ce=j.tileID.key;te===0&&de===0||Math.abs(de)>1||(Math.abs(te)>1&&(Math.abs(te+fe)===1?te+=fe:Math.abs(te-fe)===1&&(te-=fe)),j.dem&&P.dem&&(P.dem.backfillBorder(j.dem,te,de),P.neighboringTiles&&P.neighboringTiles[Ce]&&(P.neighboringTiles[Ce].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,f,C,P){for(const j in this._tiles){let te=this._tiles[j];if(P[j]||!te.hasData()||te.tileID.overscaledZ<=f||te.tileID.overscaledZ>C)continue;let de=te.tileID;for(;te&&te.tileID.overscaledZ>f+1;){const Ce=te.tileID.scaledTo(te.tileID.overscaledZ-1);te=this._tiles[Ce.key],te&&te.hasData()&&(de=Ce)}let fe=de;for(;fe.overscaledZ>f;)if(fe=fe.scaledTo(fe.overscaledZ-1),c[fe.key]){P[de.key]=de;break}}}findLoadedParent(c,f){if(c.key in this._loadedParentTiles){const C=this._loadedParentTiles[c.key];return C&&C.tileID.overscaledZ>=f?C:null}for(let C=c.overscaledZ-1;C>=f;C--){const P=c.scaledTo(C),j=this._getLoadedTile(P);if(j)return j}}_getLoadedTile(c){const f=this._tiles[c.key];return f&&f.hasData()?f:this._cache.getByKey(c.wrapped().key)}updateCacheSize(c){const f=Math.ceil(c.width/this._source.tileSize)+1,C=Math.ceil(c.height/this._source.tileSize)+1,P=Math.floor(f*C*5),j=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,P):P;this._cache.setMaxSize(j)}handleWrapJump(c){const f=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);if(this._prevLng=c,f){const C={};for(const P in this._tiles){const j=this._tiles[P];j.tileID=j.tileID.unwrapTo(j.tileID.wrap+f),C[j.tileID.key]=j}this._tiles=C;for(const P in this._timers)clearTimeout(this._timers[P]),delete this._timers[P];for(const P in this._tiles)this._setTileReloadTimer(P,this._tiles[P])}}update(c,f){if(this.transform=c,this.terrain=f,!this._sourceLoaded||this._paused)return;let C;this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?C=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(Ce=>new s.OverscaledTileID(Ce.canonical.z,Ce.wrap,Ce.canonical.z,Ce.canonical.x,Ce.canonical.y)):(C=c.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:f}),this._source.hasTile&&(C=C.filter(Ce=>this._source.hasTile(Ce)))):C=[];const P=c.coveringZoomLevel(this._source),j=Math.max(P-J.maxOverzooming,this._source.minzoom),te=Math.max(P+J.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const Ce={};for(const Pe of C)if(Pe.canonical.z>this._source.minzoom){const Fe=Pe.scaledTo(Pe.canonical.z-1);Ce[Fe.key]=Fe;const We=Pe.scaledTo(Math.max(this._source.minzoom,Math.min(Pe.canonical.z,5)));Ce[We.key]=We}C=C.concat(Object.values(Ce))}const de=this._updateRetainedTiles(C,P);if(xe(this._source.type)){const Ce={},Pe={},Fe=Object.keys(de);for(const We of Fe){const et=de[We],Qe=this._tiles[We];if(!Qe||Qe.fadeEndTime&&Qe.fadeEndTime<=s.exported.now())continue;const Je=this.findLoadedParent(et,j);Je&&(this._addTile(Je.tileID),Ce[Je.tileID.key]=Je.tileID),Pe[We]=et}this._retainLoadedChildren(Pe,P,te,de);for(const We in Ce)de[We]||(this._coveredTiles[We]=!0,de[We]=Ce[We]);if(f){const We={},et={};for(const Qe of C)this._tiles[Qe.key].hasData()?We[Qe.key]=Qe:et[Qe.key]=Qe;for(const Qe in et){const Je=et[Qe].children(this._source.maxzoom);this._tiles[Je[0].key]&&this._tiles[Je[1].key]&&this._tiles[Je[2].key]&&this._tiles[Je[3].key]&&(We[Je[0].key]=de[Je[0].key]=Je[0],We[Je[1].key]=de[Je[1].key]=Je[1],We[Je[2].key]=de[Je[2].key]=Je[2],We[Je[3].key]=de[Je[3].key]=Je[3],delete et[Qe])}for(const Qe in et){const Je=this.findLoadedParent(et[Qe],this._source.minzoom);if(Je){We[Je.tileID.key]=de[Je.tileID.key]=Je.tileID;for(const pt in We)We[pt].isChildOf(Je.tileID)&&delete We[pt]}}for(const Qe in this._tiles)We[Qe]||(this._coveredTiles[Qe]=!0)}}for(const Ce in de)this._tiles[Ce].clearFadeHold();const fe=s.keysDifference(this._tiles,de);for(const Ce of fe){const Pe=this._tiles[Ce];Pe.hasSymbolBuckets&&!Pe.holdingForFade()?Pe.setHoldDuration(this.map._fadeDuration):Pe.hasSymbolBuckets&&!Pe.symbolFadeFinished()||this._removeTile(Ce)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(c)}_updateRetainedTiles(c,f){const C={},P={},j=Math.max(f-J.maxOverzooming,this._source.minzoom),te=Math.max(f+J.maxUnderzooming,this._source.minzoom),de={};for(const fe of c){const Ce=this._addTile(fe);C[fe.key]=fe,Ce.hasData()||f<this._source.maxzoom&&(de[fe.key]=fe)}this._retainLoadedChildren(de,f,te,C);for(const fe of c){let Ce=this._tiles[fe.key];if(Ce.hasData())continue;if(f+1>this._source.maxzoom){const Fe=fe.children(this._source.maxzoom)[0],We=this.getTile(Fe);if(We&&We.hasData()){C[Fe.key]=Fe;continue}}else{const Fe=fe.children(this._source.maxzoom);if(C[Fe[0].key]&&C[Fe[1].key]&&C[Fe[2].key]&&C[Fe[3].key])continue}let Pe=Ce.wasRequested();for(let Fe=fe.overscaledZ-1;Fe>=j;--Fe){const We=fe.scaledTo(Fe);if(P[We.key]||(P[We.key]=!0,Ce=this.getTile(We),!Ce&&Pe&&(Ce=this._addTile(We)),Ce&&(C[We.key]=We,Pe=Ce.wasRequested(),Ce.hasData())))break}}return C}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const f=[];let C,P=this._tiles[c].tileID;for(;P.overscaledZ>0;){if(P.key in this._loadedParentTiles){C=this._loadedParentTiles[P.key];break}f.push(P.key);const j=P.scaledTo(P.overscaledZ-1);if(C=this._getLoadedTile(j),C)break;P=j}for(const j of f)this._loadedParentTiles[j]=C}}_addTile(c){let f=this._tiles[c.key];if(f)return f;f=this._cache.getAndRemove(c),f&&(this._setTileReloadTimer(c.key,f),f.tileID=c,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,f)));const C=f;return f||(f=new me(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(f,this._tileLoaded.bind(this,f,c.key,f.state))),f.uses++,this._tiles[c.key]=f,C||this._source.fire(new s.Event("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f}_setTileReloadTimer(c,f){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const C=f.getExpiryTimeout();C&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},C))}_removeTile(c){const f=this._tiles[c];f&&(f.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),f.uses>0||(f.hasData()&&f.state!=="reloading"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(c);this._cache.reset()}tilesIn(c,f,C){const P=[],j=this.transform;if(!j)return P;const te=C?j.getCameraQueryGeometry(c):c,de=c.map(Qe=>j.pointCoordinate(Qe,this.terrain)),fe=te.map(Qe=>j.pointCoordinate(Qe,this.terrain)),Ce=this.getIds();let Pe=1/0,Fe=1/0,We=-1/0,et=-1/0;for(const Qe of fe)Pe=Math.min(Pe,Qe.x),Fe=Math.min(Fe,Qe.y),We=Math.max(We,Qe.x),et=Math.max(et,Qe.y);for(let Qe=0;Qe<Ce.length;Qe++){const Je=this._tiles[Ce[Qe]];if(Je.holdingForFade())continue;const pt=Je.tileID,yt=Math.pow(2,j.zoom-Je.tileID.overscaledZ),wt=f*Je.queryPadding*s.EXTENT/Je.tileSize/yt,at=[pt.getTilePoint(new s.MercatorCoordinate(Pe,Fe)),pt.getTilePoint(new s.MercatorCoordinate(We,et))];if(at[0].x-wt<s.EXTENT&&at[0].y-wt<s.EXTENT&&at[1].x+wt>=0&&at[1].y+wt>=0){const It=de.map(Bt=>pt.getTilePoint(Bt)),Et=fe.map(Bt=>pt.getTilePoint(Bt));P.push({tile:Je,tileID:pt,queryGeometry:It,cameraQueryGeometry:Et,scale:yt})}}return P}getVisibleCoordinates(c){const f=this.getRenderableIds(c).map(C=>this._tiles[C].tileID);for(const C of f)C.posMatrix=this.transform.calculatePosMatrix(C.toUnwrapped());return f}hasTransition(){if(this._source.hasTransition())return!0;if(xe(this._source.type))for(const c in this._tiles){const f=this._tiles[c];if(f.fadeEndTime!==void 0&&f.fadeEndTime>=s.exported.now())return!0}return!1}setFeatureState(c,f,C){this._state.updateState(c=c||"_geojsonTileLayer",f,C)}removeFeatureState(c,f,C){this._state.removeFeatureState(c=c||"_geojsonTileLayer",f,C)}getFeatureState(c,f){return this._state.getState(c=c||"_geojsonTileLayer",f)}setDependencies(c,f,C){const P=this._tiles[c];P&&P.setDependencies(f,C)}reloadTilesForDependencies(c,f){for(const C in this._tiles)this._tiles[C].hasDependency(c,f)&&this._reloadTile(C,"reloading");this._cache.filter(C=>!C.hasDependency(c,f))}}function se(I,c){const f=Math.abs(2*I.wrap)-+(I.wrap<0),C=Math.abs(2*c.wrap)-+(c.wrap<0);return I.overscaledZ-c.overscaledZ||C-f||c.canonical.y-I.canonical.y||c.canonical.x-I.canonical.x}function xe(I){return I==="raster"||I==="image"||I==="video"}J.maxOverzooming=10,J.maxUnderzooming=3;const Q="mapboxgl_preloaded_worker_pool";class ae{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<ae.workerCount;)this.workers.push(new Worker(Oh.workerUrl));return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(f=>{f.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Q]}numActive(){return Object.keys(this.active).length}}const ce=Math.floor(s.exported.hardwareConcurrency/2);let ge;function be(){return ge||(ge=new ae),ge}function Le(I,c){const f={};for(const C in I)C!=="ref"&&(f[C]=I[C]);return s.refProperties.forEach(C=>{C in c&&(f[C]=c[C])}),f}function _e(I){I=I.slice();const c=Object.create(null);for(let f=0;f<I.length;f++)c[I[f].id]=I[f];for(let f=0;f<I.length;f++)"ref"in I[f]&&(I[f]=Le(I[f],c[I[f].ref]));return I}ae.workerCount=Math.max(Math.min(ce,6),1);const Ne={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function $e(I,c,f){f.push({command:Ne.addSource,args:[I,c[I]]})}function Ye(I,c,f){c.push({command:Ne.removeSource,args:[I]}),f[I]=!0}function Xe(I,c,f,C){Ye(I,f,C),$e(I,c,f)}function De(I,c,f){let C;for(C in I[f])if(Object.prototype.hasOwnProperty.call(I[f],C)&&C!=="data"&&!y(I[f][C],c[f][C]))return!1;for(C in c[f])if(Object.prototype.hasOwnProperty.call(c[f],C)&&C!=="data"&&!y(I[f][C],c[f][C]))return!1;return!0}function we(I,c,f,C,P,j){let te;for(te in c=c||{},I=I||{})Object.prototype.hasOwnProperty.call(I,te)&&(y(I[te],c[te])||f.push({command:j,args:[C,te,c[te],P]}));for(te in c)Object.prototype.hasOwnProperty.call(c,te)&&!Object.prototype.hasOwnProperty.call(I,te)&&(y(I[te],c[te])||f.push({command:j,args:[C,te,c[te],P]}))}function ke(I){return I.id}function ze(I,c){return I[c.id]=c,I}class Me{constructor(c,f){this.reset(c,f)}reset(c,f){this.points=c||[],this._distances=[0];for(let C=1;C<this.points.length;C++)this._distances[C]=this._distances[C-1]+this.points[C].dist(this.points[C-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=s.clamp(c,0,1);let f=1,C=this._distances[f];const P=c*this.paddedLength+this.padding;for(;C<P&&f<this._distances.length;)C=this._distances[++f];const j=f-1,te=this._distances[j],de=C-te,fe=de>0?(P-te)/de:0;return this.points[j].mult(1-fe).add(this.points[f].mult(fe))}}function je(I,c){let f=!0;return I==="always"||I!=="never"&&c!=="never"||(f=!1),f}class Ke{constructor(c,f,C){const P=this.boxCells=[],j=this.circleCells=[];this.xCellCount=Math.ceil(c/C),this.yCellCount=Math.ceil(f/C);for(let te=0;te<this.xCellCount*this.yCellCount;te++)P.push([]),j.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=f,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,f,C,P,j){this._forEachCell(f,C,P,j,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(f),this.bboxes.push(C),this.bboxes.push(P),this.bboxes.push(j)}insertCircle(c,f,C,P){this._forEachCell(f-P,C-P,f+P,C+P,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(f),this.circles.push(C),this.circles.push(P)}_insertBoxCell(c,f,C,P,j,te){this.boxCells[j].push(te)}_insertCircleCell(c,f,C,P,j,te){this.circleCells[j].push(te)}_query(c,f,C,P,j,te,de){if(C<0||c>this.width||P<0||f>this.height)return[];const fe=[];if(c<=0&&f<=0&&this.width<=C&&this.height<=P){if(j)return[{key:null,x1:c,y1:f,x2:C,y2:P}];for(let Ce=0;Ce<this.boxKeys.length;Ce++)fe.push({key:this.boxKeys[Ce],x1:this.bboxes[4*Ce],y1:this.bboxes[4*Ce+1],x2:this.bboxes[4*Ce+2],y2:this.bboxes[4*Ce+3]});for(let Ce=0;Ce<this.circleKeys.length;Ce++){const Pe=this.circles[3*Ce],Fe=this.circles[3*Ce+1],We=this.circles[3*Ce+2];fe.push({key:this.circleKeys[Ce],x1:Pe-We,y1:Fe-We,x2:Pe+We,y2:Fe+We})}}else this._forEachCell(c,f,C,P,this._queryCell,fe,{hitTest:j,overlapMode:te,seenUids:{box:{},circle:{}}},de);return fe}query(c,f,C,P){return this._query(c,f,C,P,!1,null)}hitTest(c,f,C,P,j,te){return this._query(c,f,C,P,!0,j,te).length>0}hitTestCircle(c,f,C,P,j){const te=c-C,de=c+C,fe=f-C,Ce=f+C;if(de<0||te>this.width||Ce<0||fe>this.height)return!1;const Pe=[];return this._forEachCell(te,fe,de,Ce,this._queryCellCircle,Pe,{hitTest:!0,overlapMode:P,circle:{x:c,y:f,radius:C},seenUids:{box:{},circle:{}}},j),Pe.length>0}_queryCell(c,f,C,P,j,te,de,fe){const{seenUids:Ce,hitTest:Pe,overlapMode:Fe}=de,We=this.boxCells[j];if(We!==null){const Qe=this.bboxes;for(const Je of We)if(!Ce.box[Je]){Ce.box[Je]=!0;const pt=4*Je,yt=this.boxKeys[Je];if(c<=Qe[pt+2]&&f<=Qe[pt+3]&&C>=Qe[pt+0]&&P>=Qe[pt+1]&&(!fe||fe(yt))&&(!Pe||!je(Fe,yt.overlapMode))&&(te.push({key:yt,x1:Qe[pt],y1:Qe[pt+1],x2:Qe[pt+2],y2:Qe[pt+3]}),Pe))return!0}}const et=this.circleCells[j];if(et!==null){const Qe=this.circles;for(const Je of et)if(!Ce.circle[Je]){Ce.circle[Je]=!0;const pt=3*Je,yt=this.circleKeys[Je];if(this._circleAndRectCollide(Qe[pt],Qe[pt+1],Qe[pt+2],c,f,C,P)&&(!fe||fe(yt))&&(!Pe||!je(Fe,yt.overlapMode))){const wt=Qe[pt],at=Qe[pt+1],It=Qe[pt+2];if(te.push({key:yt,x1:wt-It,y1:at-It,x2:wt+It,y2:at+It}),Pe)return!0}}}return!1}_queryCellCircle(c,f,C,P,j,te,de,fe){const{circle:Ce,seenUids:Pe,overlapMode:Fe}=de,We=this.boxCells[j];if(We!==null){const Qe=this.bboxes;for(const Je of We)if(!Pe.box[Je]){Pe.box[Je]=!0;const pt=4*Je,yt=this.boxKeys[Je];if(this._circleAndRectCollide(Ce.x,Ce.y,Ce.radius,Qe[pt+0],Qe[pt+1],Qe[pt+2],Qe[pt+3])&&(!fe||fe(yt))&&!je(Fe,yt.overlapMode))return te.push(!0),!0}}const et=this.circleCells[j];if(et!==null){const Qe=this.circles;for(const Je of et)if(!Pe.circle[Je]){Pe.circle[Je]=!0;const pt=3*Je,yt=this.circleKeys[Je];if(this._circlesCollide(Qe[pt],Qe[pt+1],Qe[pt+2],Ce.x,Ce.y,Ce.radius)&&(!fe||fe(yt))&&!je(Fe,yt.overlapMode))return te.push(!0),!0}}}_forEachCell(c,f,C,P,j,te,de,fe){const Ce=this._convertToXCellCoord(c),Pe=this._convertToYCellCoord(f),Fe=this._convertToXCellCoord(C),We=this._convertToYCellCoord(P);for(let et=Ce;et<=Fe;et++)for(let Qe=Pe;Qe<=We;Qe++)if(j.call(this,c,f,C,P,this.xCellCount*Qe+et,te,de,fe))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,f,C,P,j,te){const de=P-c,fe=j-f,Ce=C+te;return Ce*Ce>de*de+fe*fe}_circleAndRectCollide(c,f,C,P,j,te,de){const fe=(te-P)/2,Ce=Math.abs(c-(P+fe));if(Ce>fe+C)return!1;const Pe=(de-j)/2,Fe=Math.abs(f-(j+Pe));if(Fe>Pe+C)return!1;if(Ce<=fe||Fe<=Pe)return!0;const We=Ce-fe,et=Fe-Pe;return We*We+et*et<=C*C}}function nt(I,c,f,C,P){const j=s.create();return c?(s.scale(j,j,[1/P,1/P,1]),f||s.rotateZ(j,j,C.angle)):s.multiply(j,C.labelPlaneMatrix,I),j}function ot(I,c,f,C,P){if(c){const j=s.clone(I);return s.scale(j,j,[P,P,1]),f||s.rotateZ(j,j,-C.angle),j}return C.glCoordMatrix}function ht(I,c,f){let C;f?(C=[I.x,I.y,f(I.x,I.y),1],s.transformMat4(C,C,c)):(C=[I.x,I.y,0,1],ii(C,C,c));const P=C[3];return{point:new s.pointGeometry(C[0]/P,C[1]/P),signedDistanceFromCamera:P}}function gt(I,c){return .5+I/c*.5}function Tt(I,c){const f=I[0]/I[3],C=I[1]/I[3];return f>=-c[0]&&f<=c[0]&&C>=-c[1]&&C<=c[1]}function $t(I,c,f,C,P,j,te,de,fe,Ce){const Pe=C?I.textSizeData:I.iconSizeData,Fe=s.evaluateSizeForZoom(Pe,f.transform.zoom),We=[256/f.width*2+1,256/f.height*2+1],et=C?I.text.dynamicLayoutVertexArray:I.icon.dynamicLayoutVertexArray;et.clear();const Qe=I.lineVertexArray,Je=C?I.text.placedSymbolArray:I.icon.placedSymbolArray,pt=f.transform.width/f.transform.height;let yt=!1;for(let wt=0;wt<Je.length;wt++){const at=Je.get(wt);if(at.hidden||at.writingMode===s.WritingMode.vertical&&!yt){hi(at.numGlyphs,et);continue}let It;if(yt=!1,Ce?(It=[at.anchorX,at.anchorY,Ce(at.anchorX,at.anchorY),1],s.transformMat4(It,It,c)):(It=[at.anchorX,at.anchorY,0,1],ii(It,It,c)),!Tt(It,We)){hi(at.numGlyphs,et);continue}const Et=gt(f.transform.cameraToCenterDistance,It[3]),Bt=s.evaluateSizeForFeature(Pe,Fe,at),Ut=te?Bt/Et:Bt*Et,Wt=new s.pointGeometry(at.anchorX,at.anchorY),zt=ht(Wt,P,Ce).point,hn={},tn=St(at,Ut,!1,de,c,P,j,I.glyphOffsetArray,Qe,et,zt,Wt,hn,pt,fe,Ce);yt=tn.useVertical,(tn.notEnoughRoom||yt||tn.needsFlipping&&St(at,Ut,!0,de,c,P,j,I.glyphOffsetArray,Qe,et,zt,Wt,hn,pt,fe,Ce).notEnoughRoom)&&hi(at.numGlyphs,et)}C?I.text.dynamicLayoutVertexBuffer.updateData(et):I.icon.dynamicLayoutVertexBuffer.updateData(et)}function mt(I,c,f,C,P,j,te,de,fe,Ce,Pe,Fe,We){const et=de.glyphStartIndex+de.numGlyphs,Qe=de.lineStartIndex,Je=de.lineStartIndex+de.lineLength,pt=c.getoffsetX(de.glyphStartIndex),yt=c.getoffsetX(et-1),wt=yn(I*pt,f,C,P,j,te,de.segment,Qe,Je,fe,Ce,Pe,Fe,We);if(!wt)return null;const at=yn(I*yt,f,C,P,j,te,de.segment,Qe,Je,fe,Ce,Pe,Fe,We);return at?{first:wt,last:at}:null}function Ct(I,c,f,C){return I===s.WritingMode.horizontal&&Math.abs(f.y-c.y)>Math.abs(f.x-c.x)*C?{useVertical:!0}:(I===s.WritingMode.vertical?c.y<f.y:c.x>f.x)?{needsFlipping:!0}:null}function St(I,c,f,C,P,j,te,de,fe,Ce,Pe,Fe,We,et,Qe,Je){const pt=c/24,yt=I.lineOffsetX*pt,wt=I.lineOffsetY*pt;let at;if(I.numGlyphs>1){const It=I.glyphStartIndex+I.numGlyphs,Et=I.lineStartIndex,Bt=I.lineStartIndex+I.lineLength,Ut=mt(pt,de,yt,wt,f,Pe,Fe,I,fe,j,We,Qe,Je);if(!Ut)return{notEnoughRoom:!0};const Wt=ht(Ut.first.point,te,Je).point,zt=ht(Ut.last.point,te,Je).point;if(C&&!f){const hn=Ct(I.writingMode,Wt,zt,et);if(hn)return hn}at=[Ut.first];for(let hn=I.glyphStartIndex+1;hn<It-1;hn++)at.push(yn(pt*de.getoffsetX(hn),yt,wt,f,Pe,Fe,I.segment,Et,Bt,fe,j,We,Qe,Je));at.push(Ut.last)}else{if(C&&!f){const Et=ht(Fe,P,Je).point,Bt=I.lineStartIndex+I.segment+1,Ut=new s.pointGeometry(fe.getx(Bt),fe.gety(Bt)),Wt=ht(Ut,P,Je),zt=Wt.signedDistanceFromCamera>0?Wt.point:sn(Fe,Ut,Et,1,P,Je),hn=Ct(I.writingMode,Et,zt,et);if(hn)return hn}const It=yn(pt*de.getoffsetX(I.glyphStartIndex),yt,wt,f,Pe,Fe,I.segment,I.lineStartIndex,I.lineStartIndex+I.lineLength,fe,j,We,Qe,Je);if(!It)return{notEnoughRoom:!0};at=[It]}for(const It of at)s.addDynamicAttributes(Ce,It.point,It.angle);return{}}function sn(I,c,f,C,P,j){const te=ht(I.add(I.sub(c)._unit()),P,j).point,de=f.sub(te);return f.add(de._mult(C/de.mag()))}function yn(I,c,f,C,P,j,te,de,fe,Ce,Pe,Fe,We,et){const Qe=C?I-c:I+c;let Je=Qe>0?1:-1,pt=0;C&&(Je*=-1,pt=Math.PI),Je<0&&(pt+=Math.PI);let yt=Je>0?de+te:de+te+1,wt=P,at=P,It=0,Et=0;const Bt=Math.abs(Qe),Ut=[];for(;It+Et<=Bt;){if(yt+=Je,yt<de||yt>=fe)return null;if(at=wt,Ut.push(wt),wt=Fe[yt],wt===void 0){const mn=new s.pointGeometry(Ce.getx(yt),Ce.gety(yt)),ri=ht(mn,Pe,et);if(ri.signedDistanceFromCamera>0)wt=Fe[yt]=ri.point;else{const pi=yt-Je;wt=sn(It===0?j:new s.pointGeometry(Ce.getx(pi),Ce.gety(pi)),mn,at,Bt-It+1,Pe,et)}}It+=Et,Et=at.dist(wt)}const Wt=(Bt-It)/Et,zt=wt.sub(at),hn=zt.mult(Wt)._add(at);hn._add(zt._unit()._perp()._mult(f*Je));const tn=pt+Math.atan2(wt.y-at.y,wt.x-at.x);return Ut.push(hn),{point:hn,angle:We?tn:0,path:Ut}}const Zt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function hi(I,c){for(let f=0;f<I;f++){const C=c.length;c.resize(C+4),c.float32.set(Zt,3*C)}}function ii(I,c,f){const C=c[0],P=c[1];return I[0]=f[0]*C+f[4]*P+f[12],I[1]=f[1]*C+f[5]*P+f[13],I[3]=f[3]*C+f[7]*P+f[15],I}const Si=100;class Hi{constructor(c,f=new Ke(c.width+200,c.height+200,25),C=new Ke(c.width+200,c.height+200,25)){this.transform=c,this.grid=f,this.ignoredGrid=C,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+Si,this.screenBottomBoundary=c.height+Si,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(c,f,C,P,j,te){const de=this.projectAndGetPerspectiveRatio(P,c.anchorPointX,c.anchorPointY,te),fe=C*de.perspectiveRatio,Ce=c.x1*fe+de.point.x,Pe=c.y1*fe+de.point.y,Fe=c.x2*fe+de.point.x,We=c.y2*fe+de.point.y;return!this.isInsideGrid(Ce,Pe,Fe,We)||f!=="always"&&this.grid.hitTest(Ce,Pe,Fe,We,f,j)||de.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[Ce,Pe,Fe,We],offscreen:this.isOffscreen(Ce,Pe,Fe,We)}}placeCollisionCircles(c,f,C,P,j,te,de,fe,Ce,Pe,Fe,We,et,Qe){const Je=[],pt=new s.pointGeometry(f.anchorX,f.anchorY),yt=ht(pt,te,Qe),wt=gt(this.transform.cameraToCenterDistance,yt.signedDistanceFromCamera),at=(Pe?j/wt:j*wt)/s.ONE_EM,It=ht(pt,de,Qe).point,Et=mt(at,P,f.lineOffsetX*at,f.lineOffsetY*at,!1,It,pt,f,C,de,{},!1,Qe);let Bt=!1,Ut=!1,Wt=!0;if(Et){const zt=.5*We*wt+et,hn=new s.pointGeometry(-100,-100),tn=new s.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),mn=new Me,ri=Et.first,pi=Et.last;let Rn=[];for(let ki=ri.path.length-1;ki>=1;ki--)Rn.push(ri.path[ki]);for(let ki=1;ki<pi.path.length;ki++)Rn.push(pi.path[ki]);const Zi=2.5*zt;if(fe){const ki=Rn.map(Li=>ht(Li,fe,Qe));Rn=ki.some(Li=>Li.signedDistanceFromCamera<=0)?[]:ki.map(Li=>Li.point)}let Ki=[];if(Rn.length>0){const ki=Rn[0].clone(),Li=Rn[0].clone();for(let Di=1;Di<Rn.length;Di++)ki.x=Math.min(ki.x,Rn[Di].x),ki.y=Math.min(ki.y,Rn[Di].y),Li.x=Math.max(Li.x,Rn[Di].x),Li.y=Math.max(Li.y,Rn[Di].y);Ki=ki.x>=hn.x&&Li.x<=tn.x&&ki.y>=hn.y&&Li.y<=tn.y?[Rn]:Li.x<hn.x||ki.x>tn.x||Li.y<hn.y||ki.y>tn.y?[]:s.clipLine([Rn],hn.x,hn.y,tn.x,tn.y)}for(const ki of Ki){mn.reset(ki,.25*zt);let Li=0;Li=mn.length<=.5*zt?1:Math.ceil(mn.paddedLength/Zi)+1;for(let Di=0;Di<Li;Di++){const mo=Di/Math.max(Li-1,1),Al=mn.lerp(mo),tl=Al.x+Si,nl=Al.y+Si;Je.push(tl,nl,zt,0);const Cu=tl-zt,qa=nl-zt,il=tl+zt,Eu=nl+zt;if(Wt=Wt&&this.isOffscreen(Cu,qa,il,Eu),Ut=Ut||this.isInsideGrid(Cu,qa,il,Eu),c!=="always"&&this.grid.hitTestCircle(tl,nl,zt,c,Fe)&&(Bt=!0,!Ce))return{circles:[],offscreen:!1,collisionDetected:Bt}}}}return{circles:!Ce&&Bt||!Ut||wt<this.perspectiveRatioCutoff?[]:Je,offscreen:Wt,collisionDetected:Bt}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const f=[];let C=1/0,P=1/0,j=-1/0,te=-1/0;for(const Pe of c){const Fe=new s.pointGeometry(Pe.x+Si,Pe.y+Si);C=Math.min(C,Fe.x),P=Math.min(P,Fe.y),j=Math.max(j,Fe.x),te=Math.max(te,Fe.y),f.push(Fe)}const de=this.grid.query(C,P,j,te).concat(this.ignoredGrid.query(C,P,j,te)),fe={},Ce={};for(const Pe of de){const Fe=Pe.key;if(fe[Fe.bucketInstanceId]===void 0&&(fe[Fe.bucketInstanceId]={}),fe[Fe.bucketInstanceId][Fe.featureIndex])continue;const We=[new s.pointGeometry(Pe.x1,Pe.y1),new s.pointGeometry(Pe.x2,Pe.y1),new s.pointGeometry(Pe.x2,Pe.y2),new s.pointGeometry(Pe.x1,Pe.y2)];s.polygonIntersectsPolygon(f,We)&&(fe[Fe.bucketInstanceId][Fe.featureIndex]=!0,Ce[Fe.bucketInstanceId]===void 0&&(Ce[Fe.bucketInstanceId]=[]),Ce[Fe.bucketInstanceId].push(Fe.featureIndex))}return Ce}insertCollisionBox(c,f,C,P,j,te){(C?this.ignoredGrid:this.grid).insert({bucketInstanceId:P,featureIndex:j,collisionGroupID:te,overlapMode:f},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,f,C,P,j,te){const de=C?this.ignoredGrid:this.grid,fe={bucketInstanceId:P,featureIndex:j,collisionGroupID:te,overlapMode:f};for(let Ce=0;Ce<c.length;Ce+=4)de.insertCircle(fe,c[Ce],c[Ce+1],c[Ce+2])}projectAndGetPerspectiveRatio(c,f,C,P){let j;return P?(j=[f,C,P(f,C),1],s.transformMat4(j,j,c)):(j=[f,C,0,1],ii(j,j,c)),{point:new s.pointGeometry((j[0]/j[3]+1)/2*this.transform.width+Si,(-j[1]/j[3]+1)/2*this.transform.height+Si),perspectiveRatio:.5+this.transform.cameraToCenterDistance/j[3]*.5}}isOffscreen(c,f,C,P){return C<Si||c>=this.screenRightBoundary||P<Si||f>this.screenBottomBoundary}isInsideGrid(c,f,C,P){return C>=0&&c<this.gridRightBoundary&&P>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const c=s.identity([]);return s.translate(c,c,[-100,-100,0]),c}}function li(I,c,f){return c*(s.EXTENT/(I.tileSize*Math.pow(2,f-I.tileID.overscaledZ)))}class dt{constructor(c,f,C,P){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?f:-f))):P&&C?1:0,this.placed=C}isHidden(){return this.opacity===0&&!this.placed}}class xt{constructor(c,f,C,P,j){this.text=new dt(c?c.text:null,f,C,j),this.icon=new dt(c?c.icon:null,f,P,j)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Dt{constructor(c,f,C){this.text=c,this.icon=f,this.skipFade=C}}class Gt{constructor(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]}}class Qt{constructor(c,f,C,P,j){this.bucketInstanceId=c,this.featureIndex=f,this.sourceLayerIndex=C,this.bucketIndex=P,this.tileID=j}}class Tn{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const f=++this.maxGroupID;this.collisionGroups[c]={ID:f,predicate:C=>C.collisionGroupID===f}}return this.collisionGroups[c]}}function Gn(I,c,f,C,P){const{horizontalAlign:j,verticalAlign:te}=s.getAnchorAlignment(I),de=-(j-.5)*c,fe=-(te-.5)*f,Ce=s.evaluateVariableOffset(I,C);return new s.pointGeometry(de+Ce[0]*P,fe+Ce[1]*P)}function vn(I,c,f,C,P,j){const{x1:te,x2:de,y1:fe,y2:Ce,anchorPointX:Pe,anchorPointY:Fe}=I,We=new s.pointGeometry(c,f);return C&&We._rotate(P?j:-j),{x1:te+We.x,y1:fe+We.y,x2:de+We.x,y2:Ce+We.y,anchorPointX:Pe,anchorPointY:Fe}}class Ve{constructor(c,f,C,P,j){this.transform=c.clone(),this.terrain=f,this.collisionIndex=new Hi(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=C,this.retainedQueryData={},this.collisionGroups=new Tn(P),this.collisionCircleArrays={},this.prevPlacement=j,j&&(j.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,f,C,P){const j=C.getBucket(f),te=C.latestFeatureIndex;if(!j||!te||f.id!==j.layerIds[0])return;const de=C.collisionBoxArray,fe=j.layers[0].layout,Ce=Math.pow(2,this.transform.zoom-C.tileID.overscaledZ),Pe=C.tileSize/s.EXTENT,Fe=this.transform.calculatePosMatrix(C.tileID.toUnwrapped()),We=fe.get("text-pitch-alignment")==="map",et=fe.get("text-rotation-alignment")==="map",Qe=li(C,1,this.transform.zoom),Je=nt(Fe,We,et,this.transform,Qe);let pt=null;if(We){const wt=ot(Fe,We,et,this.transform,Qe);pt=s.multiply([],this.transform.labelPlaneMatrix,wt)}this.retainedQueryData[j.bucketInstanceId]=new Qt(j.bucketInstanceId,te,j.sourceLayerIndex,j.index,C.tileID);const yt={bucket:j,layout:fe,posMatrix:Fe,textLabelPlaneMatrix:Je,labelToScreenMatrix:pt,scale:Ce,textPixelRatio:Pe,holdingForFade:C.holdingForFade(),collisionBoxArray:de,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(j.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(j.sourceID)};if(P)for(const wt of j.sortKeyRanges){const{sortKey:at,symbolInstanceStart:It,symbolInstanceEnd:Et}=wt;c.push({sortKey:at,symbolInstanceStart:It,symbolInstanceEnd:Et,parameters:yt})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:j.symbolInstances.length,parameters:yt})}attemptAnchorPlacement(c,f,C,P,j,te,de,fe,Ce,Pe,Fe,We,et,Qe,Je,pt){const yt=[We.textOffset0,We.textOffset1],wt=Gn(c,C,P,yt,j),at=this.collisionIndex.placeCollisionBox(vn(f,wt.x,wt.y,te,de,this.transform.angle),Fe,fe,Ce,Pe.predicate,pt);if((!Je||this.collisionIndex.placeCollisionBox(vn(Je,wt.x,wt.y,te,de,this.transform.angle),Fe,fe,Ce,Pe.predicate,pt).box.length!==0)&&at.box.length>0){let It;if(this.prevPlacement&&this.prevPlacement.variableOffsets[We.crossTileID]&&this.prevPlacement.placements[We.crossTileID]&&this.prevPlacement.placements[We.crossTileID].text&&(It=this.prevPlacement.variableOffsets[We.crossTileID].anchor),We.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[We.crossTileID]={textOffset:yt,width:C,height:P,anchor:c,textBoxScale:j,prevAnchor:It},this.markUsedJustification(et,c,We,Qe),et.allowVerticalPlacement&&(this.markUsedOrientation(et,Qe,We),this.placedOrientations[We.crossTileID]=Qe),{shift:wt,placedGlyphBoxes:at}}}placeLayerBucketPart(c,f,C){const{bucket:P,layout:j,posMatrix:te,textLabelPlaneMatrix:de,labelToScreenMatrix:fe,textPixelRatio:Ce,holdingForFade:Pe,collisionBoxArray:Fe,partiallyEvaluatedTextSize:We,collisionGroup:et}=c.parameters,Qe=j.get("text-optional"),Je=j.get("icon-optional"),pt=s.getOverlapMode(j,"text-overlap","text-allow-overlap"),yt=pt==="always",wt=s.getOverlapMode(j,"icon-overlap","icon-allow-overlap"),at=wt==="always",It=j.get("text-rotation-alignment")==="map",Et=j.get("text-pitch-alignment")==="map",Bt=j.get("icon-text-fit")!=="none",Ut=j.get("symbol-z-order")==="viewport-y",Wt=yt&&(at||!P.hasIconData()||Je),zt=at&&(yt||!P.hasTextData()||Qe);!P.collisionArrays&&Fe&&P.deserializeCollisionBoxes(Fe);const hn=(tn,mn)=>{if(f[tn.crossTileID])return;if(Pe)return void(this.placements[tn.crossTileID]=new Dt(!1,!1,!1));let ri=!1,pi=!1,Rn=!0,Zi=null,Ki={box:null,offscreen:null},ki={box:null,offscreen:null},Li=null,Di=null,mo=null,Al=0,tl=0,nl=0;mn.textFeatureIndex?Al=mn.textFeatureIndex:tn.useRuntimeCollisionCircles&&(Al=tn.featureIndex),mn.verticalTextFeatureIndex&&(tl=mn.verticalTextFeatureIndex);const Cu=this.retainedQueryData[P.bucketInstanceId].tileID,qa=this.terrain?(Mi,fr)=>this.terrain.getElevation(Cu,Mi,fr):null;for(const Mi of["textBox","verticalTextBox","iconBox","verticalIconBox"]){const fr=mn[Mi];fr&&(fr.elevation=qa?qa(fr.anchorPointX,fr.anchorPointY):0)}const il=mn.textBox;if(il){const Mi=ji=>{let ma=s.WritingMode.horizontal;if(P.allowVerticalPlacement&&!ji&&this.prevPlacement){const Zs=this.prevPlacement.placedOrientations[tn.crossTileID];Zs&&(this.placedOrientations[tn.crossTileID]=Zs,ma=Zs,this.markUsedOrientation(P,ma,tn))}return ma},fr=(ji,ma)=>{if(P.allowVerticalPlacement&&tn.numVerticalGlyphVertices>0&&mn.verticalTextBox){for(const Zs of P.writingModes)if(Zs===s.WritingMode.vertical?(Ki=ma(),ki=Ki):Ki=ji(),Ki&&Ki.box&&Ki.box.length)break}else Ki=ji()};if(j.get("text-variable-anchor")){let ji=j.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[tn.crossTileID]){const br=this.prevPlacement.variableOffsets[tn.crossTileID];ji.indexOf(br.anchor)>0&&(ji=ji.filter(Fo=>Fo!==br.anchor),ji.unshift(br.anchor))}const ma=(br,Fo,bd)=>{const _d=br.x2-br.x1,xm=br.y2-br.y1,Dg=tn.textBoxScale,bm=Bt&&wt==="never"?Fo:null;let rl={box:[],offscreen:!1};const _m=pt!=="never"?2*ji.length:ji.length;for(let Rh=0;Rh<_m;++Rh){const wm=this.attemptAnchorPlacement(ji[Rh%ji.length],br,_d,xm,Dg,It,Et,Ce,te,et,Rh>=ji.length?pt:"never",tn,P,bd,bm,qa);if(wm&&(rl=wm.placedGlyphBoxes,rl&&rl.box&&rl.box.length)){ri=!0,Zi=wm.shift;break}}return rl};fr(()=>ma(il,mn.iconBox,s.WritingMode.horizontal),()=>{const br=mn.verticalTextBox;return P.allowVerticalPlacement&&!(Ki&&Ki.box&&Ki.box.length)&&tn.numVerticalGlyphVertices>0&&br?ma(br,mn.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null}}),Ki&&(ri=Ki.box,Rn=Ki.offscreen);const Zs=Mi(Ki&&Ki.box);if(!ri&&this.prevPlacement){const br=this.prevPlacement.variableOffsets[tn.crossTileID];br&&(this.variableOffsets[tn.crossTileID]=br,this.markUsedJustification(P,br.anchor,tn,Zs))}}else{const ji=(ma,Zs)=>{const br=this.collisionIndex.placeCollisionBox(ma,pt,Ce,te,et.predicate,qa);return br&&br.box&&br.box.length&&(this.markUsedOrientation(P,Zs,tn),this.placedOrientations[tn.crossTileID]=Zs),br};fr(()=>ji(il,s.WritingMode.horizontal),()=>{const ma=mn.verticalTextBox;return P.allowVerticalPlacement&&tn.numVerticalGlyphVertices>0&&ma?ji(ma,s.WritingMode.vertical):{box:null,offscreen:null}}),Mi(Ki&&Ki.box&&Ki.box.length)}}if(Li=Ki,ri=Li&&Li.box&&Li.box.length>0,Rn=Li&&Li.offscreen,tn.useRuntimeCollisionCircles){const Mi=P.text.placedSymbolArray.get(tn.centerJustifiedTextSymbolIndex),fr=s.evaluateSizeForFeature(P.textSizeData,We,Mi),ji=j.get("text-padding");Di=this.collisionIndex.placeCollisionCircles(pt,Mi,P.lineVertexArray,P.glyphOffsetArray,fr,te,de,fe,C,Et,et.predicate,tn.collisionCircleDiameter,ji,qa),Di.circles.length&&Di.collisionDetected&&!C&&s.warnOnce("Collisions detected, but collision boxes are not shown"),ri=yt||Di.circles.length>0&&!Di.collisionDetected,Rn=Rn&&Di.offscreen}if(mn.iconFeatureIndex&&(nl=mn.iconFeatureIndex),mn.iconBox){const Mi=fr=>{const ji=Bt&&Zi?vn(fr,Zi.x,Zi.y,It,Et,this.transform.angle):fr;return this.collisionIndex.placeCollisionBox(ji,wt,Ce,te,et.predicate,qa)};ki&&ki.box&&ki.box.length&&mn.verticalIconBox?(mo=Mi(mn.verticalIconBox),pi=mo.box.length>0):(mo=Mi(mn.iconBox),pi=mo.box.length>0),Rn=Rn&&mo.offscreen}const Eu=Qe||tn.numHorizontalGlyphVertices===0&&tn.numVerticalGlyphVertices===0,vm=Je||tn.numIconVertices===0;if(Eu||vm?vm?Eu||(pi=pi&&ri):ri=pi&&ri:pi=ri=pi&&ri,ri&&Li&&Li.box&&this.collisionIndex.insertCollisionBox(Li.box,pt,j.get("text-ignore-placement"),P.bucketInstanceId,ki&&ki.box&&tl?tl:Al,et.ID),pi&&mo&&this.collisionIndex.insertCollisionBox(mo.box,wt,j.get("icon-ignore-placement"),P.bucketInstanceId,nl,et.ID),Di&&(ri&&this.collisionIndex.insertCollisionCircles(Di.circles,pt,j.get("text-ignore-placement"),P.bucketInstanceId,Al,et.ID),C)){const Mi=P.bucketInstanceId;let fr=this.collisionCircleArrays[Mi];fr===void 0&&(fr=this.collisionCircleArrays[Mi]=new Gt);for(let ji=0;ji<Di.circles.length;ji+=4)fr.circles.push(Di.circles[ji+0]),fr.circles.push(Di.circles[ji+1]),fr.circles.push(Di.circles[ji+2]),fr.circles.push(Di.collisionDetected?1:0)}if(tn.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(P.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[tn.crossTileID]=new Dt(ri||Wt,pi||zt,Rn||P.justReloaded),f[tn.crossTileID]=!0};if(Ut){if(c.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const tn=P.getSortedSymbolIndexes(this.transform.angle);for(let mn=tn.length-1;mn>=0;--mn){const ri=tn[mn];hn(P.symbolInstances.get(ri),P.collisionArrays[ri])}}else for(let tn=c.symbolInstanceStart;tn<c.symbolInstanceEnd;tn++)hn(P.symbolInstances.get(tn),P.collisionArrays[tn]);if(C&&P.bucketInstanceId in this.collisionCircleArrays){const tn=this.collisionCircleArrays[P.bucketInstanceId];s.invert(tn.invProjMatrix,te),tn.viewportMatrix=this.collisionIndex.getViewportMatrix()}P.justReloaded=!1}markUsedJustification(c,f,C,P){let j;j=P===s.WritingMode.vertical?C.verticalPlacedTextSymbolIndex:{left:C.leftJustifiedTextSymbolIndex,center:C.centerJustifiedTextSymbolIndex,right:C.rightJustifiedTextSymbolIndex}[s.getAnchorJustification(f)];const te=[C.leftJustifiedTextSymbolIndex,C.centerJustifiedTextSymbolIndex,C.rightJustifiedTextSymbolIndex,C.verticalPlacedTextSymbolIndex];for(const de of te)de>=0&&(c.text.placedSymbolArray.get(de).crossTileID=j>=0&&de!==j?0:C.crossTileID)}markUsedOrientation(c,f,C){const P=f===s.WritingMode.horizontal||f===s.WritingMode.horizontalOnly?f:0,j=f===s.WritingMode.vertical?f:0,te=[C.leftJustifiedTextSymbolIndex,C.centerJustifiedTextSymbolIndex,C.rightJustifiedTextSymbolIndex];for(const de of te)c.text.placedSymbolArray.get(de).placedOrientation=P;C.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(C.verticalPlacedTextSymbolIndex).placedOrientation=j)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let C=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const P=f?f.symbolFadeChange(c):1,j=f?f.opacities:{},te=f?f.variableOffsets:{},de=f?f.placedOrientations:{};for(const fe in this.placements){const Ce=this.placements[fe],Pe=j[fe];Pe?(this.opacities[fe]=new xt(Pe,P,Ce.text,Ce.icon),C=C||Ce.text!==Pe.text.placed||Ce.icon!==Pe.icon.placed):(this.opacities[fe]=new xt(null,P,Ce.text,Ce.icon,Ce.skipFade),C=C||Ce.text||Ce.icon)}for(const fe in j){const Ce=j[fe];if(!this.opacities[fe]){const Pe=new xt(Ce,P,!1,!1);Pe.isHidden()||(this.opacities[fe]=Pe,C=C||Ce.text.placed||Ce.icon.placed)}}for(const fe in te)this.variableOffsets[fe]||!this.opacities[fe]||this.opacities[fe].isHidden()||(this.variableOffsets[fe]=te[fe]);for(const fe in de)this.placedOrientations[fe]||!this.opacities[fe]||this.opacities[fe].isHidden()||(this.placedOrientations[fe]=de[fe]);if(f&&f.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");C?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:c)}updateLayerOpacities(c,f){const C={};for(const P of f){const j=P.getBucket(c);j&&P.latestFeatureIndex&&c.id===j.layerIds[0]&&this.updateBucketOpacities(j,C,P.collisionBoxArray)}}updateBucketOpacities(c,f,C){c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const P=c.layers[0].layout,j=new xt(null,0,!1,!1,!0),te=P.get("text-allow-overlap"),de=P.get("icon-allow-overlap"),fe=P.get("text-variable-anchor"),Ce=P.get("text-rotation-alignment")==="map",Pe=P.get("text-pitch-alignment")==="map",Fe=P.get("icon-text-fit")!=="none",We=new xt(null,0,te&&(de||!c.hasIconData()||P.get("icon-optional")),de&&(te||!c.hasTextData()||P.get("text-optional")),!0);!c.collisionArrays&&C&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(C);const et=(Qe,Je,pt)=>{for(let yt=0;yt<Je/4;yt++)Qe.opacityVertexArray.emplaceBack(pt)};for(let Qe=0;Qe<c.symbolInstances.length;Qe++){const Je=c.symbolInstances.get(Qe),{numHorizontalGlyphVertices:pt,numVerticalGlyphVertices:yt,crossTileID:wt}=Je;let at=this.opacities[wt];f[wt]?at=j:at||(at=We,this.opacities[wt]=at),f[wt]=!0;const It=Je.numIconVertices>0,Et=this.placedOrientations[Je.crossTileID],Bt=Et===s.WritingMode.vertical,Ut=Et===s.WritingMode.horizontal||Et===s.WritingMode.horizontalOnly;if(pt>0||yt>0){const Wt=ft(at.text);et(c.text,pt,Bt?Lt:Wt),et(c.text,yt,Ut?Lt:Wt);const zt=at.text.isHidden();[Je.rightJustifiedTextSymbolIndex,Je.centerJustifiedTextSymbolIndex,Je.leftJustifiedTextSymbolIndex].forEach(mn=>{mn>=0&&(c.text.placedSymbolArray.get(mn).hidden=zt||Bt?1:0)}),Je.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(Je.verticalPlacedTextSymbolIndex).hidden=zt||Ut?1:0);const hn=this.variableOffsets[Je.crossTileID];hn&&this.markUsedJustification(c,hn.anchor,Je,Et);const tn=this.placedOrientations[Je.crossTileID];tn&&(this.markUsedJustification(c,"left",Je,tn),this.markUsedOrientation(c,tn,Je))}if(It){const Wt=ft(at.icon),zt=!(Fe&&Je.verticalPlacedIconSymbolIndex&&Bt);Je.placedIconSymbolIndex>=0&&(et(c.icon,Je.numIconVertices,zt?Wt:Lt),c.icon.placedSymbolArray.get(Je.placedIconSymbolIndex).hidden=at.icon.isHidden()),Je.verticalPlacedIconSymbolIndex>=0&&(et(c.icon,Je.numVerticalIconVertices,zt?Lt:Wt),c.icon.placedSymbolArray.get(Je.verticalPlacedIconSymbolIndex).hidden=at.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const Wt=c.collisionArrays[Qe];if(Wt){let zt=new s.pointGeometry(0,0);if(Wt.textBox||Wt.verticalTextBox){let tn=!0;if(fe){const mn=this.variableOffsets[wt];mn?(zt=Gn(mn.anchor,mn.width,mn.height,mn.textOffset,mn.textBoxScale),Ce&&zt._rotate(Pe?this.transform.angle:-this.transform.angle)):tn=!1}Wt.textBox&&ye(c.textCollisionBox.collisionVertexArray,at.text.placed,!tn||Bt,zt.x,zt.y),Wt.verticalTextBox&&ye(c.textCollisionBox.collisionVertexArray,at.text.placed,!tn||Ut,zt.x,zt.y)}const hn=!!(!Ut&&Wt.verticalIconBox);Wt.iconBox&&ye(c.iconCollisionBox.collisionVertexArray,at.icon.placed,hn,Fe?zt.x:0,Fe?zt.y:0),Wt.verticalIconBox&&ye(c.iconCollisionBox.collisionVertexArray,at.icon.placed,!hn,Fe?zt.x:0,Fe?zt.y:0)}}}if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.text.opacityVertexArray.length!==c.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${c.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${c.text.layoutVertexArray.length}) / 4`);if(c.icon.opacityVertexArray.length!==c.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${c.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${c.icon.layoutVertexArray.length}) / 4`);if(c.bucketInstanceId in this.collisionCircleArrays){const Qe=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=Qe.invProjMatrix,c.placementViewportMatrix=Qe.viewportMatrix,c.collisionCircleArray=Qe.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,f){const C=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*C>c}setStale(){this.stale=!0}}function ye(I,c,f,C,P){I.emplaceBack(c?1:0,f?1:0,C||0,P||0),I.emplaceBack(c?1:0,f?1:0,C||0,P||0),I.emplaceBack(c?1:0,f?1:0,C||0,P||0),I.emplaceBack(c?1:0,f?1:0,C||0,P||0)}const Ae=Math.pow(2,25),Be=Math.pow(2,24),Ze=Math.pow(2,17),rt=Math.pow(2,16),ct=Math.pow(2,9),st=Math.pow(2,8),it=Math.pow(2,1);function ft(I){if(I.opacity===0&&!I.placed)return 0;if(I.opacity===1&&I.placed)return 4294967295;const c=I.placed?1:0,f=Math.floor(127*I.opacity);return f*Ae+c*Be+f*Ze+c*rt+f*ct+c*st+f*it+c}const Lt=0;class Ft{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,f,C,P,j){const te=this._bucketParts;for(;this._currentTileIndex<c.length;)if(f.getBucketParts(te,P,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,j())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,te.sort((de,fe)=>de.sortKey-fe.sortKey));this._currentPartIndex<te.length;)if(f.placeLayerBucketPart(te[this._currentPartIndex],this._seenCrossTileIDs,C),this._currentPartIndex++,j())return!0;return!1}}class Rt{constructor(c,f,C,P,j,te,de,fe){this.placement=new Ve(c,f,te,de,fe),this._currentPlacementIndex=C.length-1,this._forceFullPlacement=P,this._showCollisionBoxes=j,this._done=!1}isDone(){return this._done}continuePlacement(c,f,C){const P=s.exported.now(),j=()=>{const te=s.exported.now()-P;return!this._forceFullPlacement&&te>2};for(;this._currentPlacementIndex>=0;){const te=f[c[this._currentPlacementIndex]],de=this.placement.collisionIndex.transform.zoom;if(te.type==="symbol"&&(!te.minzoom||te.minzoom<=de)&&(!te.maxzoom||te.maxzoom>de)){if(this._inProgressLayer||(this._inProgressLayer=new Ft(te)),this._inProgressLayer.continuePlacement(C[te.source],this.placement,this._showCollisionBoxes,te,j))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const pn=512/s.EXTENT/2;class rn{constructor(c,f,C){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=C;for(let P=0;P<f.length;P++){const j=f.get(P),te=j.key;this.indexedSymbolInstances[te]||(this.indexedSymbolInstances[te]=[]),this.indexedSymbolInstances[te].push({crossTileID:j.crossTileID,coord:this.getScaledCoordinates(j,c)})}}getScaledCoordinates(c,f){const C=pn/Math.pow(2,f.canonical.z-this.tileID.canonical.z);return{x:Math.floor((f.canonical.x*s.EXTENT+c.anchorX)*C),y:Math.floor((f.canonical.y*s.EXTENT+c.anchorY)*C)}}findMatches(c,f,C){const P=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z);for(let j=0;j<c.length;j++){const te=c.get(j);if(te.crossTileID)continue;const de=this.indexedSymbolInstances[te.key];if(!de)continue;const fe=this.getScaledCoordinates(te,f);for(const Ce of de)if(Math.abs(Ce.coord.x-fe.x)<=P&&Math.abs(Ce.coord.y-fe.y)<=P&&!C[Ce.crossTileID]){C[Ce.crossTileID]=!0,te.crossTileID=Ce.crossTileID;break}}}}class xn{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Sn{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const f=Math.round((c-this.lng)/360);if(f!==0)for(const C in this.indexes){const P=this.indexes[C],j={};for(const te in P){const de=P[te];de.tileID=de.tileID.unwrapTo(de.tileID.wrap+f),j[de.tileID.key]=de}this.indexes[C]=j}this.lng=c}addBucket(c,f,C){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let j=0;j<f.symbolInstances.length;j++)f.symbolInstances.get(j).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const P=this.usedCrossTileIDs[c.overscaledZ];for(const j in this.indexes){const te=this.indexes[j];if(Number(j)>c.overscaledZ)for(const de in te){const fe=te[de];fe.tileID.isChildOf(c)&&fe.findMatches(f.symbolInstances,c,P)}else{const de=te[c.scaledTo(Number(j)).key];de&&de.findMatches(f.symbolInstances,c,P)}}for(let j=0;j<f.symbolInstances.length;j++){const te=f.symbolInstances.get(j);te.crossTileID||(te.crossTileID=C.generate(),P[te.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new rn(c,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(c,f){for(const C in f.indexedSymbolInstances)for(const P of f.indexedSymbolInstances[C])delete this.usedCrossTileIDs[c][P.crossTileID]}removeStaleBuckets(c){let f=!1;for(const C in this.indexes){const P=this.indexes[C];for(const j in P)c[P[j].bucketInstanceId]||(this.removeBucketCrossTileIDs(C,P[j]),delete P[j],f=!0)}return f}}class Hn{constructor(){this.layerIndexes={},this.crossTileIDs=new xn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,f,C){let P=this.layerIndexes[c.id];P===void 0&&(P=this.layerIndexes[c.id]=new Sn);let j=!1;const te={};P.handleWrapJump(C);for(const de of f){const fe=de.getBucket(c);fe&&c.id===fe.layerIds[0]&&(fe.bucketInstanceId||(fe.bucketInstanceId=++this.maxBucketInstanceId),P.addBucket(de.tileID,fe,this.crossTileIDs)&&(j=!0),te[fe.bucketInstanceId]=!0)}return P.removeStaleBuckets(te)&&(j=!0),j}pruneUnusedLayers(c){const f={};c.forEach(C=>{f[C]=!0});for(const C in this.layerIndexes)f[C]||delete this.layerIndexes[C]}}var Cn=s.createLayout([{name:"a_pos",type:"Int16",components:2}]);class On extends s.Evented{constructor(c){super(),this.sourceCache=c,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.renderHistory=[],this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,this.renderHistorySize=c._cache.max,c.usedForTerrain=!0,c.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null;for(const c in this._tiles){const f=this._tiles[c];f.textures.forEach(C=>C.destroy()),f.textures=[]}}update(c,f){this.sourceCache.update(c,f),this._renderableTilesKeys=[];for(const C of c.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:f}))this._renderableTilesKeys.push(C.key),this._tiles[C.key]||(C.posMatrix=new Float64Array(16),s.ortho(C.posMatrix,0,s.EXTENT,0,s.EXTENT,0,1),this._tiles[C.key]=new me(C,this.tileSize))}removeOutdated(c){const f={};this.renderHistory=this.renderHistory.filter((C,P)=>this.renderHistory.indexOf(C)===P).slice(0,this.renderHistorySize);for(const C of this._renderableTilesKeys)f[C]=!0;for(const C of this.renderHistory)f[C]=!0;for(const C in this._tiles)f[C]||(this._tiles[C].clearTextures(c),delete this._tiles[C])}getRenderableTiles(){return this._renderableTilesKeys.map(c=>this.getTileByID(c))}getTileByID(c){return this._tiles[c]}getTerrainCoords(c){const f={};for(const C of this._renderableTilesKeys){const P=this._tiles[C].tileID;if(P.canonical.equals(c.canonical)){const j=c.clone();j.posMatrix=new Float64Array(16),s.ortho(j.posMatrix,0,s.EXTENT,0,s.EXTENT,0,1),f[C]=j}else if(P.canonical.isChildOf(c.canonical)){const j=c.clone();j.posMatrix=new Float64Array(16);const te=P.canonical.z-c.canonical.z,de=P.canonical.x-(P.canonical.x>>te<<te),fe=P.canonical.y-(P.canonical.y>>te<<te),Ce=s.EXTENT>>te;s.ortho(j.posMatrix,0,Ce,0,Ce,0,1),s.translate(j.posMatrix,j.posMatrix,[-de*Ce,-fe*Ce,0]),f[C]=j}else if(c.canonical.isChildOf(P.canonical)){const j=c.clone();j.posMatrix=new Float64Array(16);const te=c.canonical.z-P.canonical.z,de=c.canonical.x-(c.canonical.x>>te<<te),fe=c.canonical.y-(c.canonical.y>>te<<te),Ce=s.EXTENT>>te;s.ortho(j.posMatrix,0,s.EXTENT,0,s.EXTENT,0,1),s.translate(j.posMatrix,j.posMatrix,[de*Ce,fe*Ce,0]),s.scale(j.posMatrix,j.posMatrix,[1/2**te,1/2**te,0]),f[C]=j}}return f}getSourceTile(c,f){const C=this.sourceCache._source;let P=c.overscaledZ-this.deltaZoom;if(P>C.maxzoom&&(P=C.maxzoom),P<C.minzoom)return null;this._sourceTileCache[c.key]||(this._sourceTileCache[c.key]=c.scaledTo(P).key);let j=this.sourceCache.getTileByID(this._sourceTileCache[c.key]);if((!j||!j.dem)&&f)for(;P>=C.minzoom&&(!j||!j.dem);)j=this.sourceCache.getTileByID(c.scaledTo(P--).key);return j}tilesAfterTime(c=Date.now()){return Object.values(this._tiles).filter(f=>f.timeLoaded>=c)}}class Xn{constructor(c,f,C){this.style=c,this.sourceCache=new On(f),this.options=C,this.exaggeration=typeof C.exaggeration=="number"?C.exaggeration:1,this.elevationOffset=typeof C.elevationOffset=="number"?C.elevationOffset:450,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024,this.clearRerenderCache()}getDEMElevation(c,f,C,P=s.EXTENT){if(!(f>=0&&f<P&&C>=0&&C<P))return this.elevationOffset;let j=0;const te=this.getTerrainData(c);if(te.tile&&te.tile.dem){const de=s.transformMat4$1([],[f/P*s.EXTENT,C/P*s.EXTENT],te.u_terrain_matrix),fe=[de[0]*te.tile.dem.dim,de[1]*te.tile.dem.dim],Ce=[Math.floor(fe[0]),Math.floor(fe[1])],Pe=te.tile.dem.get(Ce[0],Ce[1]),Fe=te.tile.dem.get(Ce[0],Ce[1]+1),We=te.tile.dem.get(Ce[0]+1,Ce[1]),et=te.tile.dem.get(Ce[0]+1,Ce[1]+1);j=s.number(s.number(Pe,Fe,fe[0]-Ce[0]),s.number(We,et,fe[0]-Ce[0]),fe[1]-Ce[1])}return j}rememberForRerender(c,f){for(const C in this.sourceCache._tiles){const P=this.sourceCache._tiles[C];(P.tileID.equals(f)||P.tileID.isChildOf(f))&&(c===this.sourceCache.sourceCache.id&&(P.timeLoaded=Date.now()),this._rerender[c]=this._rerender[c]||{},this._rerender[c][P.tileID.key]=!0)}}needsRerender(c,f){return this._rerender[c]&&this._rerender[c][f.key]}clearRerenderCache(){this._rerender={}}getElevation(c,f,C,P=s.EXTENT){return(this.getDEMElevation(c,f,C,P)+this.elevationOffset)*this.exaggeration}getTerrainData(c){if(!this._emptyDemTexture){const P=this.style.map.painter.context,j=new s.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new T(P,j,P.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new T(P,new s.RGBAImage({width:1,height:1}),P.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(P.gl.NEAREST,P.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=s.identity([])}const f=this.sourceCache.getSourceTile(c,!0);if(f&&f.dem&&(!f.demTexture||f.needsTerrainPrepare)){const P=this.style.map.painter.context;f.demTexture=this.style.map.painter.getTileTexture(f.dem.stride),f.demTexture?f.demTexture.update(f.dem.getPixels(),{premultiply:!1}):f.demTexture=new T(P,f.dem.getPixels(),P.gl.RGBA,{premultiply:!1}),f.demTexture.bind(P.gl.NEAREST,P.gl.CLAMP_TO_EDGE),f.needsTerrainPrepare=!1}const C=f&&f+f.tileID.key+c.key;if(C&&!this._demMatrixCache[C]){const P=this.sourceCache.sourceCache._source.maxzoom;let j=c.canonical.z-f.tileID.canonical.z;c.overscaledZ>c.canonical.z&&(c.canonical.z>=P?j=c.canonical.z-P:s.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const te=c.canonical.x-(c.canonical.x>>j<<j),de=c.canonical.y-(c.canonical.y>>j<<j),fe=s.fromScaling(new Float64Array(16),[1/(s.EXTENT<<j),1/(s.EXTENT<<j),0]);s.translate(fe,fe,[te*s.EXTENT,de*s.EXTENT,0]),this._demMatrixCache[c.key]={matrix:fe,coord:c}}return{u_depth:2,u_terrain:3,u_terrain_dim:f&&f.dem&&f.dem.dim||1,u_terrain_matrix:C?this._demMatrixCache[c.key].matrix:this._emptyDemMatrix,u_terrain_unpack:f&&f.dem&&f.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_offset:this.elevationOffset,u_terrain_exaggeration:this.exaggeration,texture:(f&&f.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:f}}getRTTFramebuffer(){const c=this.style.map.painter;if(!this._rttFramebuffer){const f=this.sourceCache.tileSize*this.qualityFactor;this._rttFramebuffer=c.context.createFramebuffer(f,f,!0),this._rttFramebuffer.depthAttachment.set(c.context.createRenderbuffer(c.context.gl.DEPTH_COMPONENT16,f,f))}return this._rttFramebuffer}getFramebuffer(c){const f=this.style.map.painter,C=f.width/devicePixelRatio,P=f.height/devicePixelRatio;return!this._fbo||this._fbo.width===C&&this._fbo.height===P||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new T(f.context,{width:C,height:P,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new T(f.context,{width:C,height:P,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=f.context.createFramebuffer(C,P,!0),this._fbo.depthAttachment.set(f.context.createRenderbuffer(f.context.gl.DEPTH_COMPONENT16,C,P))),this._fbo.colorAttachment.set(c==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const c=this.style.map.painter.context;if(this._coordsTexture)return this._coordsTexture;const f=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let j=0,te=0;j<this._coordsTextureSize;j++)for(let de=0;de<this._coordsTextureSize;de++,te+=4)f[te+0]=255&de,f[te+1]=255&j,f[te+2]=de>>8<<4|j>>8,f[te+3]=0;const C=new s.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(f.buffer)),P=new T(c,C,c.gl.RGBA,{premultiply:!1});return P.bind(c.gl.NEAREST,c.gl.CLAMP_TO_EDGE),this._coordsTexture=P,P}pointCoordinate(c){const f=new Uint8Array(4),C=this.style.map.painter,P=C.context,j=P.gl;P.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),j.readPixels(c.x,C.height/devicePixelRatio-c.y-1,1,1,j.RGBA,j.UNSIGNED_BYTE,f),P.bindFramebuffer.set(null);const te=f[0]+(f[2]>>4<<8),de=f[1]+((15&f[2])<<8),fe=this.coordsIndex[255-f[3]],Ce=fe&&this.sourceCache.getTileByID(fe);if(!Ce)return null;const Pe=this._coordsTextureSize,Fe=(1<<Ce.tileID.canonical.z)*Pe;return new s.MercatorCoordinate((Ce.tileID.canonical.x*Pe+te)/Fe,(Ce.tileID.canonical.y*Pe+de)/Fe,this.getElevation(Ce.tileID,te,de,Pe))}getTerrainMesh(){if(this._mesh)return this._mesh;const c=this.style.map.painter.context,f=new s.PosArray,C=new s.TriangleIndexArray,P=this.meshSize,j=s.EXTENT/P,te=P*P;for(let de=0;de<=P;de++)for(let fe=0;fe<=P;fe++)f.emplaceBack(fe*j,de*j);for(let de=0;de<te;de+=P+1)for(let fe=0;fe<P;fe++)C.emplaceBack(fe+de,P+fe+de+1,P+fe+de+2),C.emplaceBack(fe+de,P+fe+de+2,fe+de+1);return this._mesh={indexBuffer:c.createIndexBuffer(C),vertexBuffer:c.createVertexBuffer(f,Cn.members),segments:s.SegmentVector.simpleSegment(0,0,f.length,C.length)},this._mesh}getMinMaxElevation(c){const f=this.getTerrainData(c).tile,C={minElevation:null,maxElevation:null};return f&&f.dem&&(C.minElevation=(f.dem.min+this.elevationOffset)*this.exaggeration,C.maxElevation=(f.dem.max+this.elevationOffset)*this.exaggeration),C}}const Yn=(I,c)=>s.emitValidationErrors(I,c&&c.filter(f=>f.identifier!=="source.canvas")),gi=s.pick(Ne,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),nr=s.pick(Ne,["setCenter","setZoom","setBearing","setPitch"]),Rr=function(){const I={},c=s.spec.$version;for(const f in s.spec.$root){const C=s.spec.$root[f];if(C.required){let P=null;P=f==="version"?c:C.type==="array"?[]:{},P!=null&&(I[f]=P)}}return I}();class xa extends s.Evented{constructor(c,f={}){super(),this.map=c,this.dispatcher=new H(be(),this),this.imageManager=new k,this.imageManager.setEventedParent(this),this.glyphManager=new S(c._requestManager,f.localIdeographFontFamily),this.lineAtlas=new X(256,512),this.crossTileSymbolIndex=new Hn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());const C=this;this._rtlTextPluginCallback=xa.registerForPluginStateChange(P=>{C.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:P.pluginStatus,pluginURL:P.pluginURL},(j,te)=>{if(s.triggerPluginCompletionEvent(j),te&&te.every(de=>de))for(const de in C.sourceCaches)C.sourceCaches[de].reload()})}),this.on("data",P=>{if(P.dataType!=="source"||P.sourceDataType!=="metadata")return;const j=this.sourceCaches[P.sourceId];if(!j)return;const te=j.getSource();if(te&&te.vectorLayerIds)for(const de in this._layers){const fe=this._layers[de];fe.source===te.id&&this._validateLayer(fe)}})}loadURL(c,f={}){this.fire(new s.Event("dataloading",{dataType:"style"}));const C=typeof f.validate!="boolean"||f.validate,P=this.map._requestManager.transformRequest(c,s.ResourceType.Style);this._request=s.getJSON(P,(j,te)=>{this._request=null,j?this.fire(new s.ErrorEvent(j)):te&&this._load(te,C)})}loadJSON(c,f={}){this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.exported.frame(()=>{this._request=null,this._load(c,f.validate!==!1)})}loadEmpty(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(Rr,!1)}_load(c,f){if(f&&Yn(this,s.validateStyle(c)))return;this._loaded=!0,this.stylesheet=c;for(const P in c.sources)this.addSource(P,c.sources[P],{validate:!1});c.sprite?this._loadSprite(c.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(c.glyphs);const C=_e(this.stylesheet.layers);this._order=C.map(P=>P.id),this._layers={},this._serializedLayers={};for(let P of C)P=s.createStyleLayer(P),P.setEventedParent(this,{layer:{id:P.id}}),this._layers[P.id]=P,this._serializedLayers[P.id]=P.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Y(this.stylesheet.light),this.setTerrain(this.stylesheet.terrain),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}_loadSprite(c){this._spriteRequest=function(f,C,P,j){let te,de,fe;const Ce=P>1?"@2x":"";let Pe=s.getJSON(C.transformRequest(C.normalizeSpriteURL(f,Ce,".json"),s.ResourceType.SpriteJSON),(et,Qe)=>{Pe=null,fe||(fe=et,te=Qe,We())}),Fe=s.getImage(C.transformRequest(C.normalizeSpriteURL(f,Ce,".png"),s.ResourceType.SpriteImage),(et,Qe)=>{Fe=null,fe||(fe=et,de=Qe,We())});function We(){if(fe)j(fe);else if(te&&de){const et=s.exported.getImageData(de),Qe={};for(const Je in te){const{width:pt,height:yt,x:wt,y:at,sdf:It,pixelRatio:Et,stretchX:Bt,stretchY:Ut,content:Wt}=te[Je],zt=new s.RGBAImage({width:pt,height:yt});s.RGBAImage.copy(et,zt,{x:wt,y:at},{x:0,y:0},{width:pt,height:yt}),Qe[Je]={data:zt,pixelRatio:Et,sdf:It,stretchX:Bt,stretchY:Ut,content:Wt}}j(null,Qe)}}return{cancel(){Pe&&(Pe.cancel(),Pe=null),Fe&&(Fe.cancel(),Fe=null)}}}(c,this.map._requestManager,this.map.getPixelRatio(),(f,C)=>{if(this._spriteRequest=null,f)this.fire(new s.ErrorEvent(f));else if(C)for(const P in C)this.imageManager.addImage(P,C[P]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))})}_validateLayer(c){const f=this.sourceCaches[c.source];if(!f)return;const C=c.sourceLayer;if(!C)return;const P=f.getSource();(P.type==="geojson"||P.vectorLayerIds&&P.vectorLayerIds.indexOf(C)===-1)&&this.fire(new s.ErrorEvent(new Error(`Source layer "${C}" does not exist on source "${P.id}" as specified by style layer "${c.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this.sourceCaches)if(!this.sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(c){const f=[];for(const C of c){const P=this._layers[C];P.type!=="custom"&&f.push(P.serialize())}return f}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const c in this.sourceCaches)if(this.sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(c){if(!this._loaded)return;const f=this._changed;if(this._changed){const P=Object.keys(this._updatedLayers),j=Object.keys(this._removedLayers);(P.length||j.length)&&this._updateWorkerLayers(P,j);for(const te in this._updatedSources){const de=this._updatedSources[te];if(de==="reload")this._reloadSource(te);else{if(de!=="clear")throw new Error(`Invalid action ${de}`);this._clearSource(te)}}this._updateTilesForChangedImages();for(const te in this._updatedPaintProps)this._layers[te].updateTransitions(c);this.light.updateTransitions(c),this._resetUpdates()}const C={};for(const P in this.sourceCaches){const j=this.sourceCaches[P];C[P]=j.used,j.used=!1}for(const P of this._order){const j=this._layers[P];j.recalculate(c,this._availableImages),!j.isHidden(c.zoom)&&j.source&&(this.sourceCaches[j.source].used=!0)}for(const P in C){const j=this.sourceCaches[P];C[P]!==j.used&&j.fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:P}))}this.light.recalculate(c),this.z=c.zoom,f&&this.fire(new s.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateWorkerLayers(c,f){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(c),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setTerrain(c){if(this._checkLoaded(),this._terrainDataCallback&&this.off("data",this._terrainDataCallback),this._terrainfreezeElevationCallback&&this.map.off("freezeElevation",this._terrainfreezeElevationCallback),c){const f=this.sourceCaches[c.source];if(!f)throw new Error(`cannot load terrain, because there exists no source with ID: ${c.source}`);this.terrain=new Xn(this,f,c),this.map.transform.updateElevation(this.terrain),this._terrainfreezeElevationCallback=C=>{C.freeze?this.map.transform.freezeElevation=!0:(this.map.transform.freezeElevation=!1,this.map.transform.recalculateZoom(this.terrain))},this._terrainDataCallback=C=>{C.tile&&(C.sourceId===c.source?(this.map.transform.updateElevation(this.terrain),this.terrain.rememberForRerender(C.sourceId,C.tile.tileID)):C.source.type==="geojson"&&this.terrain.rememberForRerender(C.sourceId,C.tile.tileID))},this.on("data",this._terrainDataCallback),this.map.on("freezeElevation",this._terrainfreezeElevationCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.map.transform.updateElevation(this.terrain);this.map.fire(new s.Event("terrain",{terrain:c}))}setState(c){if(this._checkLoaded(),Yn(this,s.validateStyle(c)))return!1;(c=s.clone$1(c)).layers=_e(c.layers);const f=function(P,j){if(!P)return[{command:Ne.setStyle,args:[j]}];let te=[];try{if(!y(P.version,j.version))return[{command:Ne.setStyle,args:[j]}];y(P.center,j.center)||te.push({command:Ne.setCenter,args:[j.center]}),y(P.zoom,j.zoom)||te.push({command:Ne.setZoom,args:[j.zoom]}),y(P.bearing,j.bearing)||te.push({command:Ne.setBearing,args:[j.bearing]}),y(P.pitch,j.pitch)||te.push({command:Ne.setPitch,args:[j.pitch]}),y(P.sprite,j.sprite)||te.push({command:Ne.setSprite,args:[j.sprite]}),y(P.glyphs,j.glyphs)||te.push({command:Ne.setGlyphs,args:[j.glyphs]}),y(P.transition,j.transition)||te.push({command:Ne.setTransition,args:[j.transition]}),y(P.light,j.light)||te.push({command:Ne.setLight,args:[j.light]});const de={},fe=[];(function(Pe,Fe,We,et){let Qe;for(Qe in Fe=Fe||{},Pe=Pe||{})Object.prototype.hasOwnProperty.call(Pe,Qe)&&(Object.prototype.hasOwnProperty.call(Fe,Qe)||Ye(Qe,We,et));for(Qe in Fe)Object.prototype.hasOwnProperty.call(Fe,Qe)&&(Object.prototype.hasOwnProperty.call(Pe,Qe)?y(Pe[Qe],Fe[Qe])||(Pe[Qe].type==="geojson"&&Fe[Qe].type==="geojson"&&De(Pe,Fe,Qe)?We.push({command:Ne.setGeoJSONSourceData,args:[Qe,Fe[Qe].data]}):Xe(Qe,Fe,We,et)):$e(Qe,Fe,We))})(P.sources,j.sources,fe,de);const Ce=[];P.layers&&P.layers.forEach(Pe=>{de[Pe.source]?te.push({command:Ne.removeLayer,args:[Pe.id]}):Ce.push(Pe)}),te=te.concat(fe),function(Pe,Fe,We){Fe=Fe||[];const et=(Pe=Pe||[]).map(ke),Qe=Fe.map(ke),Je=Pe.reduce(ze,{}),pt=Fe.reduce(ze,{}),yt=et.slice(),wt=Object.create(null);let at,It,Et,Bt,Ut,Wt,zt;for(at=0,It=0;at<et.length;at++)Et=et[at],Object.prototype.hasOwnProperty.call(pt,Et)?It++:(We.push({command:Ne.removeLayer,args:[Et]}),yt.splice(yt.indexOf(Et,It),1));for(at=0,It=0;at<Qe.length;at++)Et=Qe[Qe.length-1-at],yt[yt.length-1-at]!==Et&&(Object.prototype.hasOwnProperty.call(Je,Et)?(We.push({command:Ne.removeLayer,args:[Et]}),yt.splice(yt.lastIndexOf(Et,yt.length-It),1)):It++,Wt=yt[yt.length-at],We.push({command:Ne.addLayer,args:[pt[Et],Wt]}),yt.splice(yt.length-at,0,Et),wt[Et]=!0);for(at=0;at<Qe.length;at++)if(Et=Qe[at],Bt=Je[Et],Ut=pt[Et],!wt[Et]&&!y(Bt,Ut))if(y(Bt.source,Ut.source)&&y(Bt["source-layer"],Ut["source-layer"])&&y(Bt.type,Ut.type)){for(zt in we(Bt.layout,Ut.layout,We,Et,null,Ne.setLayoutProperty),we(Bt.paint,Ut.paint,We,Et,null,Ne.setPaintProperty),y(Bt.filter,Ut.filter)||We.push({command:Ne.setFilter,args:[Et,Ut.filter]}),y(Bt.minzoom,Ut.minzoom)&&y(Bt.maxzoom,Ut.maxzoom)||We.push({command:Ne.setLayerZoomRange,args:[Et,Ut.minzoom,Ut.maxzoom]}),Bt)Object.prototype.hasOwnProperty.call(Bt,zt)&&zt!=="layout"&&zt!=="paint"&&zt!=="filter"&&zt!=="metadata"&&zt!=="minzoom"&&zt!=="maxzoom"&&(zt.indexOf("paint.")===0?we(Bt[zt],Ut[zt],We,Et,zt.slice(6),Ne.setPaintProperty):y(Bt[zt],Ut[zt])||We.push({command:Ne.setLayerProperty,args:[Et,zt,Ut[zt]]}));for(zt in Ut)Object.prototype.hasOwnProperty.call(Ut,zt)&&!Object.prototype.hasOwnProperty.call(Bt,zt)&&zt!=="layout"&&zt!=="paint"&&zt!=="filter"&&zt!=="metadata"&&zt!=="minzoom"&&zt!=="maxzoom"&&(zt.indexOf("paint.")===0?we(Bt[zt],Ut[zt],We,Et,zt.slice(6),Ne.setPaintProperty):y(Bt[zt],Ut[zt])||We.push({command:Ne.setLayerProperty,args:[Et,zt,Ut[zt]]}))}else We.push({command:Ne.removeLayer,args:[Et]}),Wt=yt[yt.lastIndexOf(Et)+1],We.push({command:Ne.addLayer,args:[Ut,Wt]})}(Ce,j.layers,te)}catch(de){console.warn("Unable to compute style diff:",de),te=[{command:Ne.setStyle,args:[j]}]}return te}(this.serialize(),c).filter(P=>!(P.command in nr));if(f.length===0)return!1;const C=f.filter(P=>!(P.command in gi));if(C.length>0)throw new Error(`Unimplemented: ${C.map(P=>P.command).join(", ")}.`);return f.forEach(P=>{P.command!=="setTransition"&&this[P.command].apply(this,P.args)}),this.stylesheet=c,!0}addImage(c,f){if(this.getImage(c))return this.fire(new s.ErrorEvent(new Error(`An image named "${c}" already exists.`)));this.imageManager.addImage(c,f),this._afterImageUpdated(c)}updateImage(c,f){this.imageManager.updateImage(c,f)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){if(!this.getImage(c))return this.fire(new s.ErrorEvent(new Error(`An image named "${c}" does not exist.`)));this.imageManager.removeImage(c),this._afterImageUpdated(c)}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(c,f,C={}){if(this._checkLoaded(),this.sourceCaches[c]!==void 0)throw new Error(`Source "${c}" already exists.`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(s.validateStyle.source,`sources.${c}`,f,null,C))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const P=this.sourceCaches[c]=new J(c,f,this.dispatcher);P.style=this,P.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:P.serialize(),sourceId:c})),P.onAdd(this.map),this._changed=!0}removeSource(c){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error("There is no source with this ID");for(const C in this._layers)if(this._layers[C].source===c)return this.fire(new s.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${C}" is using it.`)));const f=this.sourceCaches[c];delete this.sourceCaches[c],delete this._updatedSources[c],f.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),f.setEventedParent(null),f.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(c,f){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error(`There is no source with this ID=${c}`);const C=this.sourceCaches[c].getSource();if(C.type!=="geojson")throw new Error(`geojsonSource.type is ${C.type}, which is !== 'geojson`);C.setData(f),this._changed=!0}getSource(c){return this.sourceCaches[c]&&this.sourceCaches[c].getSource()}addLayer(c,f,C={}){this._checkLoaded();const P=c.id;if(this.getLayer(P))return void this.fire(new s.ErrorEvent(new Error(`Layer "${P}" already exists on this map.`)));let j;if(c.type==="custom"){if(Yn(this,s.validateCustomStyleLayer(c)))return;j=s.createStyleLayer(c)}else{if(typeof c.source=="object"&&(this.addSource(P,c.source),c=s.clone$1(c),c=s.extend(c,{source:P})),this._validate(s.validateStyle.layer,`layers.${P}`,c,{arrayIndex:-1},C))return;j=s.createStyleLayer(c),this._validateLayer(j),j.setEventedParent(this,{layer:{id:P}}),this._serializedLayers[j.id]=j.serialize()}const te=f?this._order.indexOf(f):this._order.length;if(f&&te===-1)this.fire(new s.ErrorEvent(new Error(`Cannot add layer "${P}" before non-existing layer "${f}".`)));else{if(this._order.splice(te,0,P),this._layerOrderChanged=!0,this._layers[P]=j,this._removedLayers[P]&&j.source&&j.type!=="custom"){const de=this._removedLayers[P];delete this._removedLayers[P],de.type!==j.type?this._updatedSources[j.source]="clear":(this._updatedSources[j.source]="reload",this.sourceCaches[j.source].pause())}this._updateLayer(j),j.onAdd&&j.onAdd(this.map)}}moveLayer(c,f){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===f)return;const C=this._order.indexOf(c);this._order.splice(C,1);const P=f?this._order.indexOf(f):this._order.length;f&&P===-1?this.fire(new s.ErrorEvent(new Error(`Cannot move layer "${c}" before non-existing layer "${f}".`))):(this._order.splice(P,0,c),this._layerOrderChanged=!0)}removeLayer(c){this._checkLoaded();const f=this._layers[c];if(!f)return void this.fire(new s.ErrorEvent(new Error(`Cannot remove non-existing layer "${c}".`)));f.setEventedParent(null);const C=this._order.indexOf(c);this._order.splice(C,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=f,delete this._layers[c],delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],f.onRemove&&f.onRemove(this.map)}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}setLayerZoomRange(c,f,C){this._checkLoaded();const P=this.getLayer(c);P?P.minzoom===f&&P.maxzoom===C||(f!=null&&(P.minzoom=f),C!=null&&(P.maxzoom=C),this._updateLayer(P)):this.fire(new s.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${c}".`)))}setFilter(c,f,C={}){this._checkLoaded();const P=this.getLayer(c);if(P){if(!y(P.filter,f))return f==null?(P.filter=void 0,void this._updateLayer(P)):void(this._validate(s.validateStyle.filter,`layers.${P.id}.filter`,f,null,C)||(P.filter=s.clone$1(f),this._updateLayer(P)))}else this.fire(new s.ErrorEvent(new Error(`Cannot filter non-existing layer "${c}".`)))}getFilter(c){return s.clone$1(this.getLayer(c).filter)}setLayoutProperty(c,f,C,P={}){this._checkLoaded();const j=this.getLayer(c);j?y(j.getLayoutProperty(f),C)||(j.setLayoutProperty(f,C,P),this._updateLayer(j)):this.fire(new s.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getLayoutProperty(c,f){const C=this.getLayer(c);if(C)return C.getLayoutProperty(f);this.fire(new s.ErrorEvent(new Error(`Cannot get style of non-existing layer "${c}".`)))}setPaintProperty(c,f,C,P={}){this._checkLoaded();const j=this.getLayer(c);j?y(j.getPaintProperty(f),C)||(j.setPaintProperty(f,C,P)&&this._updateLayer(j),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new s.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getPaintProperty(c,f){return this.getLayer(c).getPaintProperty(f)}setFeatureState(c,f){this._checkLoaded();const C=c.source,P=c.sourceLayer,j=this.sourceCaches[C];if(j===void 0)return void this.fire(new s.ErrorEvent(new Error(`The source '${C}' does not exist in the map's style.`)));const te=j.getSource().type;te==="geojson"&&P?this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):te!=="vector"||P?(c.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),j.setFeatureState(P,c.id,f)):this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(c,f){this._checkLoaded();const C=c.source,P=this.sourceCaches[C];if(P===void 0)return void this.fire(new s.ErrorEvent(new Error(`The source '${C}' does not exist in the map's style.`)));const j=P.getSource().type,te=j==="vector"?c.sourceLayer:void 0;j!=="vector"||te?f&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):P.removeFeatureState(te,c.id,f):this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(c){this._checkLoaded();const f=c.source,C=c.sourceLayer,P=this.sourceCaches[f];if(P!==void 0)return P.getSource().type!=="vector"||C?(c.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),P.getFeatureState(C,c.id)):void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new s.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:s.mapObject(this.sourceCaches,c=>c.serialize()),layers:this._serializeLayers(this._order)},c=>c!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.sourceCaches[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.sourceCaches[c.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(c){const f=te=>this._layers[te].type==="fill-extrusion",C={},P=[];for(let te=this._order.length-1;te>=0;te--){const de=this._order[te];if(f(de)){C[de]=te;for(const fe of c){const Ce=fe[de];if(Ce)for(const Pe of Ce)P.push(Pe)}}}P.sort((te,de)=>de.intersectionZ-te.intersectionZ);const j=[];for(let te=this._order.length-1;te>=0;te--){const de=this._order[te];if(f(de))for(let fe=P.length-1;fe>=0;fe--){const Ce=P[fe].feature;if(C[Ce.layer.id]<te)break;j.push(Ce),P.pop()}else for(const fe of c){const Ce=fe[de];if(Ce)for(const Pe of Ce)j.push(Pe.feature)}}return j}queryRenderedFeatures(c,f,C){f&&f.filter&&this._validate(s.validateStyle.filter,"queryRenderedFeatures.filter",f.filter,null,f);const P={};if(f&&f.layers){if(!Array.isArray(f.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const te of f.layers){const de=this._layers[te];if(!de)return this.fire(new s.ErrorEvent(new Error(`The layer '${te}' does not exist in the map's style and cannot be queried for features.`))),[];P[de.source]=!0}}const j=[];f.availableImages=this._availableImages;for(const te in this.sourceCaches)f.layers&&!P[te]||j.push(oe(this.sourceCaches[te],this._layers,this._serializedLayers,c,f,C));return this.placement&&j.push(function(te,de,fe,Ce,Pe,Fe,We){const et={},Qe=Fe.queryRenderedSymbols(Ce),Je=[];for(const pt of Object.keys(Qe).map(Number))Je.push(We[pt]);Je.sort(Ee);for(const pt of Je){const yt=pt.featureIndex.lookupSymbolFeatures(Qe[pt.bucketInstanceId],de,pt.bucketIndex,pt.sourceLayerIndex,Pe.filter,Pe.layers,Pe.availableImages,te);for(const wt in yt){const at=et[wt]=et[wt]||[],It=yt[wt];It.sort((Et,Bt)=>{const Ut=pt.featureSortOrder;if(Ut){const Wt=Ut.indexOf(Et.featureIndex);return Ut.indexOf(Bt.featureIndex)-Wt}return Bt.featureIndex-Et.featureIndex});for(const Et of It)at.push(Et)}}for(const pt in et)et[pt].forEach(yt=>{const wt=yt.feature,at=fe[te[pt].source].getFeatureState(wt.layer["source-layer"],wt.id);wt.source=wt.layer.source,wt.layer["source-layer"]&&(wt.sourceLayer=wt.layer["source-layer"]),wt.state=at});return et}(this._layers,this._serializedLayers,this.sourceCaches,c,f,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(j)}querySourceFeatures(c,f){f&&f.filter&&this._validate(s.validateStyle.filter,"querySourceFeatures.filter",f.filter,null,f);const C=this.sourceCaches[c];return C?function(P,j){const te=P.getRenderableIds().map(Ce=>P.getTileByID(Ce)),de=[],fe={};for(let Ce=0;Ce<te.length;Ce++){const Pe=te[Ce],Fe=Pe.tileID.canonical.key;fe[Fe]||(fe[Fe]=!0,Pe.querySourceFeatures(de,j))}return de}(C,f):[]}addSourceType(c,f,C){return xa.getSourceType(c)?C(new Error(`A source type called "${c}" already exists.`)):(xa.setSourceType(c,f),f.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:f.workerSourceURL},C):C(null,null))}getLight(){return this.light.getLight()}setLight(c,f={}){this._checkLoaded();const C=this.light.getLight();let P=!1;for(const te in c)if(!y(c[te],C[te])){P=!0;break}if(!P)return;const j={now:s.exported.now(),transition:s.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,f),this.light.updateTransitions(j)}_validate(c,f,C,P,j={}){return(!j||j.validate!==!1)&&Yn(this,c.call(s.validateStyle,s.extend({key:f,style:this.serialize(),value:C,styleSpec:s.spec},P)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this.sourceCaches){const f=this.sourceCaches[c];f.setEventedParent(null),f.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(c){this.sourceCaches[c].clearTiles()}_reloadSource(c){this.sourceCaches[c].resume(),this.sourceCaches[c].reload()}_updateSources(c){for(const f in this.sourceCaches)this.sourceCaches[f].update(c,this.terrain)}_generateCollisionBoxes(){for(const c in this.sourceCaches)this._reloadSource(c)}_updatePlacement(c,f,C,P,j=!1){let te=!1,de=!1;const fe={};for(const Ce of this._order){const Pe=this._layers[Ce];if(Pe.type!=="symbol")continue;if(!fe[Pe.source]){const We=this.sourceCaches[Pe.source];fe[Pe.source]=We.getRenderableIds(!0).map(et=>We.getTileByID(et)).sort((et,Qe)=>Qe.tileID.overscaledZ-et.tileID.overscaledZ||(et.tileID.isLessThan(Qe.tileID)?-1:1))}const Fe=this.crossTileSymbolIndex.addLayer(Pe,fe[Pe.source],c.center.lng);te=te||Fe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((j=j||this._layerOrderChanged||C===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.exported.now(),c.zoom))&&(this.pauseablePlacement=new Rt(c,this.terrain,this._order,j,f,C,P,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,fe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.exported.now()),de=!0),te&&this.pauseablePlacement.placement.setStale()),de||te)for(const Ce of this._order){const Pe=this._layers[Ce];Pe.type==="symbol"&&this.placement.updateLayerOpacities(Pe,fe[Pe.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.exported.now())}_releaseSymbolFadeTiles(){for(const c in this.sourceCaches)this.sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,f,C){this.imageManager.getImages(f.icons,C),this._updateTilesForChangedImages();const P=this.sourceCaches[f.source];P&&P.setDependencies(f.tileID.key,f.type,f.icons)}getGlyphs(c,f,C){this.glyphManager.getGlyphs(f.stacks,C)}getResource(c,f,C){return s.makeRequest(f,C)}}xa.getSourceType=function(I){return ue[I]},xa.setSourceType=function(I,c){ue[I]=c},xa.registerForPluginStateChange=s.registerForPluginStateChange;var Qf="attribute vec2 a_pos;uniform mat4 u_matrix;varying vec2 v_texture_pos;varying float v_depth;void main() {v_texture_pos=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);v_depth=gl_Position.z/gl_Position.w;}";const mh={prelude:Xi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_offset;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return (elevation+u_terrain_offset)*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Xi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Xi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Xi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Xi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Xi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Xi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Xi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Xi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Xi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Xi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Xi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Xi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Xi(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Xi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Xi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Xi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Xi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Xi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Xi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Xi(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Xi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Xi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Xi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Xi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Xi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Xi("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Qf),terrainDepth:Xi("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Qf),terrainCoords:Xi("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Qf)};function Xi(I,c){const f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,C=c.match(/attribute ([\w]+) ([\w]+)/g),P=I.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),j=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),te=j?j.concat(P):P,de={};return{fragmentSource:I=I.replace(f,(fe,Ce,Pe,Fe,We)=>(de[We]=!0,Ce==="define"?`
#ifndef HAS_UNIFORM_u_${We}
varying ${Pe} ${Fe} ${We};
#else
uniform ${Pe} ${Fe} u_${We};
#endif
`:`
#ifdef HAS_UNIFORM_u_${We}
    ${Pe} ${Fe} ${We} = u_${We};
#endif
`)),vertexSource:c=c.replace(f,(fe,Ce,Pe,Fe,We)=>{const et=Fe==="float"?"vec2":"vec4",Qe=We.match(/color/)?"color":et;return de[We]?Ce==="define"?`
#ifndef HAS_UNIFORM_u_${We}
uniform lowp float u_${We}_t;
attribute ${Pe} ${et} a_${We};
varying ${Pe} ${Fe} ${We};
#else
uniform ${Pe} ${Fe} u_${We};
#endif
`:Qe==="vec4"?`
#ifndef HAS_UNIFORM_u_${We}
    ${We} = a_${We};
#else
    ${Pe} ${Fe} ${We} = u_${We};
#endif
`:`
#ifndef HAS_UNIFORM_u_${We}
    ${We} = unpack_mix_${Qe}(a_${We}, u_${We}_t);
#else
    ${Pe} ${Fe} ${We} = u_${We};
#endif
`:Ce==="define"?`
#ifndef HAS_UNIFORM_u_${We}
uniform lowp float u_${We}_t;
attribute ${Pe} ${et} a_${We};
#else
uniform ${Pe} ${Fe} u_${We};
#endif
`:Qe==="vec4"?`
#ifndef HAS_UNIFORM_u_${We}
    ${Pe} ${Fe} ${We} = a_${We};
#else
    ${Pe} ${Fe} ${We} = u_${We};
#endif
`:`
#ifndef HAS_UNIFORM_u_${We}
    ${Pe} ${Fe} ${We} = unpack_mix_${Qe}(a_${We}, u_${We}_t);
#else
    ${Pe} ${Fe} ${We} = u_${We};
#endif
`}),staticAttributes:C,staticUniforms:te}}class t_{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(c,f,C,P,j,te,de,fe,Ce){this.context=c;let Pe=this.boundPaintVertexBuffers.length!==P.length;for(let Fe=0;!Pe&&Fe<P.length;Fe++)this.boundPaintVertexBuffers[Fe]!==P[Fe]&&(Pe=!0);c.extVertexArrayObject&&this.vao&&this.boundProgram===f&&this.boundLayoutVertexBuffer===C&&!Pe&&this.boundIndexBuffer===j&&this.boundVertexOffset===te&&this.boundDynamicVertexBuffer===de&&this.boundDynamicVertexBuffer2===fe&&this.boundDynamicVertexBuffer3===Ce?(c.bindVertexArrayOES.set(this.vao),de&&de.bind(),j&&j.dynamicDraw&&j.bind(),fe&&fe.bind(),Ce&&Ce.bind()):this.freshBind(f,C,P,j,te,de,fe,Ce)}freshBind(c,f,C,P,j,te,de,fe){let Ce;const Pe=c.numAttributes,Fe=this.context,We=Fe.gl;if(Fe.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Fe.extVertexArrayObject.createVertexArrayOES(),Fe.bindVertexArrayOES.set(this.vao),Ce=0,this.boundProgram=c,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=C,this.boundIndexBuffer=P,this.boundVertexOffset=j,this.boundDynamicVertexBuffer=te,this.boundDynamicVertexBuffer2=de,this.boundDynamicVertexBuffer3=fe;else{Ce=Fe.currentNumAttributes||0;for(let et=Pe;et<Ce;et++)We.disableVertexAttribArray(et)}f.enableAttributes(We,c);for(const et of C)et.enableAttributes(We,c);te&&te.enableAttributes(We,c),de&&de.enableAttributes(We,c),fe&&fe.enableAttributes(We,c),f.bind(),f.setVertexAttribPointers(We,c,j);for(const et of C)et.bind(),et.setVertexAttribPointers(We,c,j);te&&(te.bind(),te.setVertexAttribPointers(We,c,j)),P&&P.bind(),de&&(de.bind(),de.setVertexAttribPointers(We,c,j)),fe&&(fe.bind(),fe.setVertexAttribPointers(We,c,j)),Fe.currentNumAttributes=Pe}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function qp(I){const c=[];for(let f=0;f<I.length;f++){if(I[f]===null)continue;const C=I[f].split(" ");c.push(C.pop())}return c}class n_{constructor(c,f,C,P,j,te,de){const fe=c.gl;this.program=fe.createProgram();const Ce=qp(C.staticAttributes),Pe=P?P.getBinderAttributes():[],Fe=Ce.concat(Pe),We=mh.prelude.staticUniforms?qp(mh.prelude.staticUniforms):[],et=C.staticUniforms?qp(C.staticUniforms):[],Qe=P?P.getBinderUniforms():[],Je=We.concat(et).concat(Qe),pt=[];for(const Ut of Je)pt.indexOf(Ut)<0&&pt.push(Ut);const yt=P?P.defines():[];te&&yt.push("#define OVERDRAW_INSPECTOR;"),de&&yt.push("#define TERRAIN3D;");const wt=yt.concat(mh.prelude.fragmentSource,C.fragmentSource).join(`
`),at=yt.concat(mh.prelude.vertexSource,C.vertexSource).join(`
`),It=fe.createShader(fe.FRAGMENT_SHADER);if(fe.isContextLost())return void(this.failedToCreate=!0);fe.shaderSource(It,wt),fe.compileShader(It),fe.attachShader(this.program,It);const Et=fe.createShader(fe.VERTEX_SHADER);if(fe.isContextLost())return void(this.failedToCreate=!0);fe.shaderSource(Et,at),fe.compileShader(Et),fe.attachShader(this.program,Et),this.attributes={};const Bt={};this.numAttributes=Fe.length;for(let Ut=0;Ut<this.numAttributes;Ut++)Fe[Ut]&&(fe.bindAttribLocation(this.program,Ut,Fe[Ut]),this.attributes[Fe[Ut]]=Ut);fe.linkProgram(this.program),fe.deleteShader(Et),fe.deleteShader(It);for(let Ut=0;Ut<pt.length;Ut++){const Wt=pt[Ut];if(Wt&&!Bt[Wt]){const zt=fe.getUniformLocation(this.program,Wt);zt&&(Bt[Wt]=zt)}}this.fixedUniforms=j(c,Bt),this.terrainUniforms=((Ut,Wt)=>({u_depth:new s.Uniform1i(Ut,Wt.u_depth),u_terrain:new s.Uniform1i(Ut,Wt.u_terrain),u_terrain_dim:new s.Uniform1f(Ut,Wt.u_terrain_dim),u_terrain_matrix:new s.UniformMatrix4f(Ut,Wt.u_terrain_matrix),u_terrain_unpack:new s.Uniform4f(Ut,Wt.u_terrain_unpack),u_terrain_offset:new s.Uniform1f(Ut,Wt.u_terrain_offset),u_terrain_exaggeration:new s.Uniform1f(Ut,Wt.u_terrain_exaggeration)}))(c,Bt),this.binderUniforms=P?P.getUniforms(c,Bt):[]}draw(c,f,C,P,j,te,de,fe,Ce,Pe,Fe,We,et,Qe,Je,pt,yt,wt){const at=c.gl;if(this.failedToCreate)return;if(c.program.set(this.program),c.setDepthMode(C),c.setStencilMode(P),c.setColorMode(j),c.setCullFace(te),fe){c.activeTexture.set(at.TEXTURE2),at.bindTexture(at.TEXTURE_2D,fe.depthTexture),c.activeTexture.set(at.TEXTURE3),at.bindTexture(at.TEXTURE_2D,fe.texture);for(const Et in this.terrainUniforms)this.terrainUniforms[Et].set(fe[Et])}for(const Et in this.fixedUniforms)this.fixedUniforms[Et].set(de[Et]);Je&&Je.setUniforms(c,this.binderUniforms,et,{zoom:Qe});let It=0;switch(f){case at.LINES:It=2;break;case at.TRIANGLES:It=3;break;case at.LINE_STRIP:It=1}for(const Et of We.get()){const Bt=Et.vaos||(Et.vaos={});(Bt[Ce]||(Bt[Ce]=new t_)).bind(c,this,Pe,Je?Je.getPaintVertexBuffers():[],Fe,Et.vertexOffset,pt,yt,wt),at.drawElements(f,Et.primitiveLength*It,at.UNSIGNED_SHORT,Et.primitiveOffset*It*2)}}}function Jf(I,c,f){const C=1/li(f,1,c.transform.tileZoom),P=Math.pow(2,f.tileID.overscaledZ),j=f.tileSize*Math.pow(2,c.transform.tileZoom)/P,te=j*(f.tileID.canonical.x+f.tileID.wrap*P),de=j*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[C,I.fromScale,I.toScale],u_fade:I.t,u_pixel_coord_upper:[te>>16,de>>16],u_pixel_coord_lower:[65535&te,65535&de]}}const Nv=(I,c,f,C)=>{const P=c.style.light,j=P.properties.get("position"),te=[j.x,j.y,j.z],de=s.create$1();P.properties.get("anchor")==="viewport"&&s.fromRotation(de,-c.transform.angle),s.transformMat3(te,te,de);const fe=P.properties.get("color");return{u_matrix:I,u_lightpos:te,u_lightintensity:P.properties.get("intensity"),u_lightcolor:[fe.r,fe.g,fe.b],u_vertical_gradient:+f,u_opacity:C}},eg=(I,c,f,C,P,j,te)=>s.extend(Nv(I,c,f,C),Jf(j,c,te),{u_height_factor:-Math.pow(2,P.overscaledZ)/te.tileSize/8}),tg=I=>({u_matrix:I}),ng=(I,c,f,C)=>s.extend(tg(I),Jf(f,c,C)),Lv=(I,c)=>({u_matrix:I,u_world:c}),Iv=(I,c,f,C,P)=>s.extend(ng(I,c,f,C),{u_world:P}),vu=(I,c,f,C)=>{const P=I.transform;let j,te;if(C.paint.get("circle-pitch-alignment")==="map"){const de=li(f,1,P.zoom);j=!0,te=[de,de]}else j=!1,te=P.pixelsToGLUnits;return{u_camera_to_center_distance:P.cameraToCenterDistance,u_scale_with_map:+(C.paint.get("circle-pitch-scale")==="map"),u_matrix:I.translatePosMatrix(c.posMatrix,f,C.paint.get("circle-translate"),C.paint.get("circle-translate-anchor")),u_pitch_with_map:+j,u_device_pixel_ratio:I.pixelRatio,u_extrude_scale:te}},Hp=(I,c,f)=>{const C=li(f,1,c.zoom),P=Math.pow(2,c.zoom-f.tileID.overscaledZ),j=f.tileID.overscaleFactor();return{u_matrix:I,u_camera_to_center_distance:c.cameraToCenterDistance,u_pixels_to_tile_units:C,u_extrude_scale:[c.pixelsToGLUnits[0]/(C*P),c.pixelsToGLUnits[1]/(C*P)],u_overscale_factor:j}},ud=(I,c,f=1)=>({u_matrix:I,u_color:c,u_overlay:0,u_overlay_scale:f}),fh=I=>({u_matrix:I}),Xp=(I,c,f,C)=>({u_matrix:I,u_extrude_scale:li(c,1,f),u_intensity:C});function Zp(I,c){const f=Math.pow(2,c.canonical.z),C=c.canonical.y;return[new s.MercatorCoordinate(0,C/f).toLngLat().lat,new s.MercatorCoordinate(0,(C+1)/f).toLngLat().lat]}const gh=(I,c,f,C)=>{const P=I.transform;return{u_matrix:ig(I,c,f,C),u_ratio:1/li(c,1,P.zoom),u_device_pixel_ratio:I.pixelRatio,u_units_to_pixels:[1/P.pixelsToGLUnits[0],1/P.pixelsToGLUnits[1]]}},Kp=(I,c,f,C,P)=>s.extend(gh(I,c,f,P),{u_image:0,u_image_height:C}),yh=(I,c,f,C,P)=>{const j=I.transform,te=vh(c,j);return{u_matrix:ig(I,c,f,P),u_texsize:c.imageAtlasTexture.size,u_ratio:1/li(c,1,j.zoom),u_device_pixel_ratio:I.pixelRatio,u_image:0,u_scale:[te,C.fromScale,C.toScale],u_fade:C.t,u_units_to_pixels:[1/j.pixelsToGLUnits[0],1/j.pixelsToGLUnits[1]]}},Er=(I,c,f,C,P,j)=>{const te=I.lineAtlas,de=vh(c,I.transform),fe=f.layout.get("line-cap")==="round",Ce=te.getDash(C.from,fe),Pe=te.getDash(C.to,fe),Fe=Ce.width*P.fromScale,We=Pe.width*P.toScale;return s.extend(gh(I,c,f,j),{u_patternscale_a:[de/Fe,-Ce.height/2],u_patternscale_b:[de/We,-Pe.height/2],u_sdfgamma:te.width/(256*Math.min(Fe,We)*I.pixelRatio)/2,u_image:0,u_tex_y_a:Ce.y,u_tex_y_b:Pe.y,u_mix:P.t})};function vh(I,c){return 1/li(I,1,c.tileZoom)}function ig(I,c,f,C){return I.translatePosMatrix(C?C.posMatrix:c.tileID.posMatrix,c,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}const Av=(I,c,f,C,P)=>{return{u_matrix:I,u_tl_parent:c,u_scale_parent:f,u_buffer_scale:1,u_fade_t:C.mix,u_opacity:C.opacity*P.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:P.paint.get("raster-brightness-min"),u_brightness_high:P.paint.get("raster-brightness-max"),u_saturation_factor:(te=P.paint.get("raster-saturation"),te>0?1-1/(1.001-te):-te),u_contrast_factor:(j=P.paint.get("raster-contrast"),j>0?1/(1-j):1+j),u_spin_weights:Pv(P.paint.get("raster-hue-rotate"))};var j,te};function Pv(I){I*=Math.PI/180;const c=Math.sin(I),f=Math.cos(I);return[(2*f+1)/3,(-Math.sqrt(3)*c-f+1)/3,(Math.sqrt(3)*c-f+1)/3]}const Qp=(I,c,f,C,P,j,te,de,fe,Ce)=>{const Pe=P.transform;return{u_is_size_zoom_constant:+(I==="constant"||I==="source"),u_is_size_feature_constant:+(I==="constant"||I==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:Pe.cameraToCenterDistance,u_pitch:Pe.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:Pe.width/Pe.height,u_fade_change:P.options.fadeDuration?P.symbolFadeChange:1,u_matrix:j,u_label_plane_matrix:te,u_coord_matrix:de,u_is_text:+fe,u_pitch_with_map:+C,u_texsize:Ce,u_texture:0}},rg=(I,c,f,C,P,j,te,de,fe,Ce,Pe)=>{const Fe=P.transform;return s.extend(Qp(I,c,f,C,P,j,te,de,fe,Ce),{u_gamma_scale:C?Math.cos(Fe._pitch)*Fe.cameraToCenterDistance:1,u_device_pixel_ratio:P.pixelRatio,u_is_halo:1})},i_=(I,c,f,C,P,j,te,de,fe,Ce)=>s.extend(rg(I,c,f,C,P,j,te,de,!0,fe),{u_texsize_icon:Ce,u_texture_icon:1}),r_=(I,c,f)=>({u_matrix:I,u_opacity:c,u_color:f}),ag=(I,c,f,C,P,j)=>s.extend(function(te,de,fe,Ce){const Pe=fe.imageManager.getPattern(te.from.toString()),Fe=fe.imageManager.getPattern(te.to.toString()),{width:We,height:et}=fe.imageManager.getPixelSize(),Qe=Math.pow(2,Ce.tileID.overscaledZ),Je=Ce.tileSize*Math.pow(2,fe.transform.tileZoom)/Qe,pt=Je*(Ce.tileID.canonical.x+Ce.tileID.wrap*Qe),yt=Je*Ce.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Pe.tl,u_pattern_br_a:Pe.br,u_pattern_tl_b:Fe.tl,u_pattern_br_b:Fe.br,u_texsize:[We,et],u_mix:de.t,u_pattern_size_a:Pe.displaySize,u_pattern_size_b:Fe.displaySize,u_scale_a:de.fromScale,u_scale_b:de.toScale,u_tile_units_to_pixels:1/li(Ce,1,fe.transform.tileZoom),u_pixel_coord_upper:[pt>>16,yt>>16],u_pixel_coord_lower:[65535&pt,65535&yt]}}(C,j,f,P),{u_matrix:I,u_opacity:c}),sg={fillExtrusion:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_lightpos:new s.Uniform3f(I,c.u_lightpos),u_lightintensity:new s.Uniform1f(I,c.u_lightintensity),u_lightcolor:new s.Uniform3f(I,c.u_lightcolor),u_vertical_gradient:new s.Uniform1f(I,c.u_vertical_gradient),u_opacity:new s.Uniform1f(I,c.u_opacity)}),fillExtrusionPattern:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_lightpos:new s.Uniform3f(I,c.u_lightpos),u_lightintensity:new s.Uniform1f(I,c.u_lightintensity),u_lightcolor:new s.Uniform3f(I,c.u_lightcolor),u_vertical_gradient:new s.Uniform1f(I,c.u_vertical_gradient),u_height_factor:new s.Uniform1f(I,c.u_height_factor),u_image:new s.Uniform1i(I,c.u_image),u_texsize:new s.Uniform2f(I,c.u_texsize),u_pixel_coord_upper:new s.Uniform2f(I,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(I,c.u_pixel_coord_lower),u_scale:new s.Uniform3f(I,c.u_scale),u_fade:new s.Uniform1f(I,c.u_fade),u_opacity:new s.Uniform1f(I,c.u_opacity)}),fill:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix)}),fillPattern:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_image:new s.Uniform1i(I,c.u_image),u_texsize:new s.Uniform2f(I,c.u_texsize),u_pixel_coord_upper:new s.Uniform2f(I,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(I,c.u_pixel_coord_lower),u_scale:new s.Uniform3f(I,c.u_scale),u_fade:new s.Uniform1f(I,c.u_fade)}),fillOutline:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_world:new s.Uniform2f(I,c.u_world)}),fillOutlinePattern:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_world:new s.Uniform2f(I,c.u_world),u_image:new s.Uniform1i(I,c.u_image),u_texsize:new s.Uniform2f(I,c.u_texsize),u_pixel_coord_upper:new s.Uniform2f(I,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(I,c.u_pixel_coord_lower),u_scale:new s.Uniform3f(I,c.u_scale),u_fade:new s.Uniform1f(I,c.u_fade)}),circle:(I,c)=>({u_camera_to_center_distance:new s.Uniform1f(I,c.u_camera_to_center_distance),u_scale_with_map:new s.Uniform1i(I,c.u_scale_with_map),u_pitch_with_map:new s.Uniform1i(I,c.u_pitch_with_map),u_extrude_scale:new s.Uniform2f(I,c.u_extrude_scale),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_matrix:new s.UniformMatrix4f(I,c.u_matrix)}),collisionBox:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_camera_to_center_distance:new s.Uniform1f(I,c.u_camera_to_center_distance),u_pixels_to_tile_units:new s.Uniform1f(I,c.u_pixels_to_tile_units),u_extrude_scale:new s.Uniform2f(I,c.u_extrude_scale),u_overscale_factor:new s.Uniform1f(I,c.u_overscale_factor)}),collisionCircle:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_inv_matrix:new s.UniformMatrix4f(I,c.u_inv_matrix),u_camera_to_center_distance:new s.Uniform1f(I,c.u_camera_to_center_distance),u_viewport_size:new s.Uniform2f(I,c.u_viewport_size)}),debug:(I,c)=>({u_color:new s.UniformColor(I,c.u_color),u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_overlay:new s.Uniform1i(I,c.u_overlay),u_overlay_scale:new s.Uniform1f(I,c.u_overlay_scale)}),clippingMask:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix)}),heatmap:(I,c)=>({u_extrude_scale:new s.Uniform1f(I,c.u_extrude_scale),u_intensity:new s.Uniform1f(I,c.u_intensity),u_matrix:new s.UniformMatrix4f(I,c.u_matrix)}),heatmapTexture:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_world:new s.Uniform2f(I,c.u_world),u_image:new s.Uniform1i(I,c.u_image),u_color_ramp:new s.Uniform1i(I,c.u_color_ramp),u_opacity:new s.Uniform1f(I,c.u_opacity)}),hillshade:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_image:new s.Uniform1i(I,c.u_image),u_latrange:new s.Uniform2f(I,c.u_latrange),u_light:new s.Uniform2f(I,c.u_light),u_shadow:new s.UniformColor(I,c.u_shadow),u_highlight:new s.UniformColor(I,c.u_highlight),u_accent:new s.UniformColor(I,c.u_accent)}),hillshadePrepare:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_image:new s.Uniform1i(I,c.u_image),u_dimension:new s.Uniform2f(I,c.u_dimension),u_zoom:new s.Uniform1f(I,c.u_zoom),u_unpack:new s.Uniform4f(I,c.u_unpack)}),line:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_ratio:new s.Uniform1f(I,c.u_ratio),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(I,c.u_units_to_pixels)}),lineGradient:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_ratio:new s.Uniform1f(I,c.u_ratio),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(I,c.u_units_to_pixels),u_image:new s.Uniform1i(I,c.u_image),u_image_height:new s.Uniform1f(I,c.u_image_height)}),linePattern:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_texsize:new s.Uniform2f(I,c.u_texsize),u_ratio:new s.Uniform1f(I,c.u_ratio),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_image:new s.Uniform1i(I,c.u_image),u_units_to_pixels:new s.Uniform2f(I,c.u_units_to_pixels),u_scale:new s.Uniform3f(I,c.u_scale),u_fade:new s.Uniform1f(I,c.u_fade)}),lineSDF:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_ratio:new s.Uniform1f(I,c.u_ratio),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(I,c.u_units_to_pixels),u_patternscale_a:new s.Uniform2f(I,c.u_patternscale_a),u_patternscale_b:new s.Uniform2f(I,c.u_patternscale_b),u_sdfgamma:new s.Uniform1f(I,c.u_sdfgamma),u_image:new s.Uniform1i(I,c.u_image),u_tex_y_a:new s.Uniform1f(I,c.u_tex_y_a),u_tex_y_b:new s.Uniform1f(I,c.u_tex_y_b),u_mix:new s.Uniform1f(I,c.u_mix)}),raster:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_tl_parent:new s.Uniform2f(I,c.u_tl_parent),u_scale_parent:new s.Uniform1f(I,c.u_scale_parent),u_buffer_scale:new s.Uniform1f(I,c.u_buffer_scale),u_fade_t:new s.Uniform1f(I,c.u_fade_t),u_opacity:new s.Uniform1f(I,c.u_opacity),u_image0:new s.Uniform1i(I,c.u_image0),u_image1:new s.Uniform1i(I,c.u_image1),u_brightness_low:new s.Uniform1f(I,c.u_brightness_low),u_brightness_high:new s.Uniform1f(I,c.u_brightness_high),u_saturation_factor:new s.Uniform1f(I,c.u_saturation_factor),u_contrast_factor:new s.Uniform1f(I,c.u_contrast_factor),u_spin_weights:new s.Uniform3f(I,c.u_spin_weights)}),symbolIcon:(I,c)=>({u_is_size_zoom_constant:new s.Uniform1i(I,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(I,c.u_is_size_feature_constant),u_size_t:new s.Uniform1f(I,c.u_size_t),u_size:new s.Uniform1f(I,c.u_size),u_camera_to_center_distance:new s.Uniform1f(I,c.u_camera_to_center_distance),u_pitch:new s.Uniform1f(I,c.u_pitch),u_rotate_symbol:new s.Uniform1i(I,c.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(I,c.u_aspect_ratio),u_fade_change:new s.Uniform1f(I,c.u_fade_change),u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(I,c.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(I,c.u_coord_matrix),u_is_text:new s.Uniform1i(I,c.u_is_text),u_pitch_with_map:new s.Uniform1i(I,c.u_pitch_with_map),u_texsize:new s.Uniform2f(I,c.u_texsize),u_texture:new s.Uniform1i(I,c.u_texture)}),symbolSDF:(I,c)=>({u_is_size_zoom_constant:new s.Uniform1i(I,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(I,c.u_is_size_feature_constant),u_size_t:new s.Uniform1f(I,c.u_size_t),u_size:new s.Uniform1f(I,c.u_size),u_camera_to_center_distance:new s.Uniform1f(I,c.u_camera_to_center_distance),u_pitch:new s.Uniform1f(I,c.u_pitch),u_rotate_symbol:new s.Uniform1i(I,c.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(I,c.u_aspect_ratio),u_fade_change:new s.Uniform1f(I,c.u_fade_change),u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(I,c.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(I,c.u_coord_matrix),u_is_text:new s.Uniform1i(I,c.u_is_text),u_pitch_with_map:new s.Uniform1i(I,c.u_pitch_with_map),u_texsize:new s.Uniform2f(I,c.u_texsize),u_texture:new s.Uniform1i(I,c.u_texture),u_gamma_scale:new s.Uniform1f(I,c.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(I,c.u_is_halo)}),symbolTextAndIcon:(I,c)=>({u_is_size_zoom_constant:new s.Uniform1i(I,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(I,c.u_is_size_feature_constant),u_size_t:new s.Uniform1f(I,c.u_size_t),u_size:new s.Uniform1f(I,c.u_size),u_camera_to_center_distance:new s.Uniform1f(I,c.u_camera_to_center_distance),u_pitch:new s.Uniform1f(I,c.u_pitch),u_rotate_symbol:new s.Uniform1i(I,c.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(I,c.u_aspect_ratio),u_fade_change:new s.Uniform1f(I,c.u_fade_change),u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(I,c.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(I,c.u_coord_matrix),u_is_text:new s.Uniform1i(I,c.u_is_text),u_pitch_with_map:new s.Uniform1i(I,c.u_pitch_with_map),u_texsize:new s.Uniform2f(I,c.u_texsize),u_texsize_icon:new s.Uniform2f(I,c.u_texsize_icon),u_texture:new s.Uniform1i(I,c.u_texture),u_texture_icon:new s.Uniform1i(I,c.u_texture_icon),u_gamma_scale:new s.Uniform1f(I,c.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(I,c.u_is_halo)}),background:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_opacity:new s.Uniform1f(I,c.u_opacity),u_color:new s.UniformColor(I,c.u_color)}),backgroundPattern:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_opacity:new s.Uniform1f(I,c.u_opacity),u_image:new s.Uniform1i(I,c.u_image),u_pattern_tl_a:new s.Uniform2f(I,c.u_pattern_tl_a),u_pattern_br_a:new s.Uniform2f(I,c.u_pattern_br_a),u_pattern_tl_b:new s.Uniform2f(I,c.u_pattern_tl_b),u_pattern_br_b:new s.Uniform2f(I,c.u_pattern_br_b),u_texsize:new s.Uniform2f(I,c.u_texsize),u_mix:new s.Uniform1f(I,c.u_mix),u_pattern_size_a:new s.Uniform2f(I,c.u_pattern_size_a),u_pattern_size_b:new s.Uniform2f(I,c.u_pattern_size_b),u_scale_a:new s.Uniform1f(I,c.u_scale_a),u_scale_b:new s.Uniform1f(I,c.u_scale_b),u_pixel_coord_upper:new s.Uniform2f(I,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(I,c.u_pixel_coord_lower),u_tile_units_to_pixels:new s.Uniform1f(I,c.u_tile_units_to_pixels)}),terrain:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_texture:new s.Uniform1i(I,c.u_texture)}),terrainDepth:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix)}),terrainCoords:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_texture:new s.Uniform1i(I,c.u_texture),u_terrain_coords_id:new s.Uniform1f(I,c.u_terrain_coords_id)})};class og{constructor(c,f,C){this.context=c;const P=c.gl;this.buffer=P.createBuffer(),this.dynamicDraw=!!C,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),P.bufferData(P.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?P.DYNAMIC_DRAW:P.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const f=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const lg={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Dv{constructor(c,f,C,P){this.length=f.length,this.attributes=C,this.itemSize=f.bytesPerElement,this.dynamicDraw=P,this.context=c;const j=c.gl;this.buffer=j.createBuffer(),c.bindVertexBuffer.set(this.buffer),j.bufferData(j.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?j.DYNAMIC_DRAW:j.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){if(c.length!==this.length)throw new Error(`Length of new data is ${c.length}, which doesn't match current length of ${this.length}`);const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,f){for(let C=0;C<this.attributes.length;C++){const P=f.attributes[this.attributes[C].name];P!==void 0&&c.enableVertexAttribArray(P)}}setVertexAttribPointers(c,f,C){for(let P=0;P<this.attributes.length;P++){const j=this.attributes[P],te=f.attributes[j.name];te!==void 0&&c.vertexAttribPointer(te,j.components,c[lg[j.type]],!1,this.itemSize,j.offset+this.itemSize*(C||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ui{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class a_ extends Ui{getDefault(){return s.Color.transparent}set(c){const f=this.current;(c.r!==f.r||c.g!==f.g||c.b!==f.b||c.a!==f.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class xh extends Ui{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class bh extends Ui{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class Mv extends Ui{getDefault(){return[!0,!0,!0,!0]}set(c){const f=this.current;(c[0]!==f[0]||c[1]!==f[1]||c[2]!==f[2]||c[3]!==f[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class ho extends Ui{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class cg extends Ui{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class Jp extends Ui{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const f=this.current;(c.func!==f.func||c.ref!==f.ref||c.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class em extends Ui{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const f=this.current;(c[0]!==f[0]||c[1]!==f[1]||c[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class ug extends Ui{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;c?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=c,this.dirty=!1}}class dg extends Ui{getDefault(){return[0,1]}set(c){const f=this.current;(c[0]!==f[0]||c[1]!==f[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class tm extends Ui{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;c?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=c,this.dirty=!1}}class hg extends Ui{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class pg extends Ui{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;c?f.enable(f.BLEND):f.disable(f.BLEND),this.current=c,this.dirty=!1}}class nm extends Ui{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const f=this.current;(c[0]!==f[0]||c[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class Ov extends Ui{getDefault(){return s.Color.transparent}set(c){const f=this.current;(c.r!==f.r||c.g!==f.g||c.b!==f.b||c.a!==f.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Rv extends Ui{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class dd extends Ui{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;c?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=c,this.dirty=!1}}class s_ extends Ui{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class o_ extends Ui{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class l_ extends Ui{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class c_ extends Ui{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class u_ extends Ui{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const f=this.current;(c[0]!==f[0]||c[1]!==f[1]||c[2]!==f[2]||c[3]!==f[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class d_ extends Ui{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class mg extends Ui{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class im extends Ui{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class fg extends Ui{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class gg extends Ui{getDefault(){return null}set(c){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class hd extends Ui{constructor(c){super(c),this.vao=c.extVertexArrayObject}getDefault(){return null}set(c){this.vao&&(c!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(c),this.current=c,this.dirty=!1)}}class $v extends Ui{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class zv extends Ui{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class yg extends Ui{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class Ac extends Ui{constructor(c,f){super(c),this.context=c,this.parent=f}getDefault(){return null}}class Fv extends Ac{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class pd extends Ac{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class md{constructor(c,f,C,P){this.context=c,this.width=f,this.height=C;const j=c.gl,te=this.framebuffer=j.createFramebuffer();if(this.colorAttachment=new Fv(c,te),P&&(this.depthAttachment=new pd(c,te)),j.checkFramebufferStatus(j.FRAMEBUFFER)!==j.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const c=this.context.gl,f=this.colorAttachment.get();if(f&&c.deleteTexture(f),this.depthAttachment){const C=this.depthAttachment.get();C&&c.deleteRenderbuffer(C)}c.deleteFramebuffer(this.framebuffer)}}class Yr{constructor(c,f,C){this.blendFunction=c,this.blendColor=f,this.mask=C}}Yr.Replace=[1,0],Yr.disabled=new Yr(Yr.Replace,s.Color.transparent,[!1,!1,!1,!1]),Yr.unblended=new Yr(Yr.Replace,s.Color.transparent,[!0,!0,!0,!0]),Yr.alphaBlended=new Yr([1,771],s.Color.transparent,[!0,!0,!0,!0]);class vg{constructor(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new a_(this),this.clearDepth=new xh(this),this.clearStencil=new bh(this),this.colorMask=new Mv(this),this.depthMask=new ho(this),this.stencilMask=new cg(this),this.stencilFunc=new Jp(this),this.stencilOp=new em(this),this.stencilTest=new ug(this),this.depthRange=new dg(this),this.depthTest=new tm(this),this.depthFunc=new hg(this),this.blend=new pg(this),this.blendFunc=new nm(this),this.blendColor=new Ov(this),this.blendEquation=new Rv(this),this.cullFace=new dd(this),this.cullFaceSide=new s_(this),this.frontFace=new o_(this),this.program=new l_(this),this.activeTexture=new c_(this),this.viewport=new u_(this),this.bindFramebuffer=new d_(this),this.bindRenderbuffer=new mg(this),this.bindTexture=new im(this),this.bindVertexBuffer=new fg(this),this.bindElementBuffer=new gg(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new hd(this),this.pixelStoreUnpack=new $v(this),this.pixelStoreUnpackPremultiplyAlpha=new zv(this),this.pixelStoreUnpackFlipY=new yg(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,f){return new og(this,c,f)}createVertexBuffer(c,f,C){return new Dv(this,c,f,C)}createRenderbuffer(c,f,C){const P=this.gl,j=P.createRenderbuffer();return this.bindRenderbuffer.set(j),P.renderbufferStorage(P.RENDERBUFFER,c,f,C),this.bindRenderbuffer.set(null),j}createFramebuffer(c,f,C){return new md(this,c,f,C)}clear({color:c,depth:f}){const C=this.gl;let P=0;c&&(P|=C.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(P|=C.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),C.clear(P)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){y(c.blendFunction,Yr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class kn{constructor(c,f,C){this.func=c,this.mask=f,this.range=C}}kn.ReadOnly=!1,kn.ReadWrite=!0,kn.disabled=new kn(519,kn.ReadOnly,[0,1]);const fd=7680;class kr{constructor(c,f,C,P,j,te){this.test=c,this.ref=f,this.mask=C,this.fail=P,this.depthFail=j,this.pass=te}}kr.disabled=new kr({func:519,mask:0},0,0,fd,fd,fd);class pr{constructor(c,f,C){this.enable=c,this.mode=f,this.frontFace=C}}let Pc;function jv(I,c,f,C,P,j,te){const de=I.context,fe=de.gl,Ce=I.useProgram("collisionBox"),Pe=[];let Fe=0,We=0;for(let at=0;at<C.length;at++){const It=C[at],Et=c.getTile(It),Bt=Et.getBucket(f);if(!Bt)continue;let Ut=It.posMatrix;P[0]===0&&P[1]===0||(Ut=I.translatePosMatrix(It.posMatrix,Et,P,j));const Wt=te?Bt.textCollisionBox:Bt.iconCollisionBox,zt=Bt.collisionCircleArray;if(zt.length>0){const hn=s.create(),tn=Ut;s.mul(hn,Bt.placementInvProjMatrix,I.transform.glCoordMatrix),s.mul(hn,hn,Bt.placementViewportMatrix),Pe.push({circleArray:zt,circleOffset:We,transform:tn,invTransform:hn,coord:It}),Fe+=zt.length/4,We=Fe}Wt&&Ce.draw(de,fe.LINES,kn.disabled,kr.disabled,I.colorModeForRenderPass(),pr.disabled,Hp(Ut,I.transform,Et),I.style.terrain&&I.style.terrain.getTerrainData(It),f.id,Wt.layoutVertexBuffer,Wt.indexBuffer,Wt.segments,null,I.transform.zoom,null,null,Wt.collisionVertexBuffer)}if(!te||!Pe.length)return;const et=I.useProgram("collisionCircle"),Qe=new s.CollisionCircleLayoutArray;Qe.resize(4*Fe),Qe._trim();let Je=0;for(const at of Pe)for(let It=0;It<at.circleArray.length/4;It++){const Et=4*It,Bt=at.circleArray[Et+0],Ut=at.circleArray[Et+1],Wt=at.circleArray[Et+2],zt=at.circleArray[Et+3];Qe.emplace(Je++,Bt,Ut,Wt,zt,0),Qe.emplace(Je++,Bt,Ut,Wt,zt,1),Qe.emplace(Je++,Bt,Ut,Wt,zt,2),Qe.emplace(Je++,Bt,Ut,Wt,zt,3)}(!Pc||Pc.length<2*Fe)&&(Pc=function(at){const It=2*at,Et=new s.QuadTriangleArray;Et.resize(It),Et._trim();for(let Bt=0;Bt<It;Bt++){const Ut=6*Bt;Et.uint16[Ut+0]=4*Bt+0,Et.uint16[Ut+1]=4*Bt+1,Et.uint16[Ut+2]=4*Bt+2,Et.uint16[Ut+3]=4*Bt+2,Et.uint16[Ut+4]=4*Bt+3,Et.uint16[Ut+5]=4*Bt+0}return Et}(Fe));const pt=de.createIndexBuffer(Pc,!0),yt=de.createVertexBuffer(Qe,s.collisionCircleLayout.members,!0);for(const at of Pe){const It={u_matrix:at.transform,u_inv_matrix:at.invTransform,u_camera_to_center_distance:(wt=I.transform).cameraToCenterDistance,u_viewport_size:[wt.width,wt.height]};et.draw(de,fe.TRIANGLES,kn.disabled,kr.disabled,I.colorModeForRenderPass(),pr.disabled,It,I.style.terrain&&I.style.terrain.getTerrainData(at.coord),f.id,yt,pt,s.SegmentVector.simpleSegment(0,2*at.circleOffset,at.circleArray.length,at.circleArray.length/2),null,I.transform.zoom,null,null,null)}var wt;yt.destroy(),pt.destroy()}pr.disabled=new pr(!1,1029,2305),pr.backCCW=new pr(!0,1029,2305);const h_=s.identity(new Float32Array(16));function Bv(I,c,f,C,P,j){const{horizontalAlign:te,verticalAlign:de}=s.getAnchorAlignment(I),fe=-(te-.5)*c,Ce=-(de-.5)*f,Pe=s.evaluateVariableOffset(I,C);return new s.pointGeometry((fe/P+Pe[0])*j,(Ce/P+Pe[1])*j)}function p_(I,c,f,C,P,j,te,de,fe,Ce,Pe){const Fe=I.text.placedSymbolArray,We=I.text.dynamicLayoutVertexArray,et=I.icon.dynamicLayoutVertexArray,Qe={};We.clear();for(let Je=0;Je<Fe.length;Je++){const pt=Fe.get(Je),yt=I.allowVerticalPlacement&&!pt.placedOrientation,wt=pt.hidden||!pt.crossTileID||yt?null:C[pt.crossTileID];if(wt){const at=new s.pointGeometry(pt.anchorX,pt.anchorY),It=ht(at,f?te:j,Pe),Et=gt(P.cameraToCenterDistance,It.signedDistanceFromCamera);let Bt=s.evaluateSizeForFeature(I.textSizeData,fe,pt)*Et/s.ONE_EM;f&&(Bt*=I.tilePixelRatio/de);const{width:Ut,height:Wt,anchor:zt,textOffset:hn,textBoxScale:tn}=wt,mn=Bv(zt,Ut,Wt,hn,tn,Bt),ri=f?ht(at.add(mn),j,Pe).point:It.point.add(c?mn.rotate(-P.angle):mn),pi=I.allowVerticalPlacement&&pt.placedOrientation===s.WritingMode.vertical?Math.PI/2:0;for(let Rn=0;Rn<pt.numGlyphs;Rn++)s.addDynamicAttributes(We,ri,pi);Ce&&pt.associatedIconIndex>=0&&(Qe[pt.associatedIconIndex]={shiftedAnchor:ri,angle:pi})}else hi(pt.numGlyphs,We)}if(Ce){et.clear();const Je=I.icon.placedSymbolArray;for(let pt=0;pt<Je.length;pt++){const yt=Je.get(pt);if(yt.hidden)hi(yt.numGlyphs,et);else{const wt=Qe[pt];if(wt)for(let at=0;at<yt.numGlyphs;at++)s.addDynamicAttributes(et,wt.shiftedAnchor,wt.angle);else hi(yt.numGlyphs,et)}}I.icon.dynamicLayoutVertexBuffer.updateData(et)}I.text.dynamicLayoutVertexBuffer.updateData(We)}function xg(I,c,f){return f.iconsInText&&c?"symbolTextAndIcon":I?"symbolSDF":"symbolIcon"}function _h(I,c,f,C,P,j,te,de,fe,Ce,Pe,Fe){const We=I.context,et=We.gl,Qe=I.transform,Je=de==="map",pt=fe==="map",yt=de!=="viewport"&&f.layout.get("symbol-placement")!=="point",wt=Je&&!pt&&!yt,at=!f.layout.get("symbol-sort-key").isConstant();let It=!1;const Et=I.depthModeForSublayer(0,kn.ReadOnly),Bt=f.layout.get("text-variable-anchor"),Ut=[];for(const Wt of C){const zt=c.getTile(Wt),hn=zt.getBucket(f);if(!hn)continue;const tn=P?hn.text:hn.icon;if(!tn||!tn.segments.get().length)continue;const mn=tn.programConfigurations.get(f.id),ri=P||hn.sdfIcons,pi=P?hn.textSizeData:hn.iconSizeData,Rn=pt||Qe.pitch!==0,Zi=I.useProgram(xg(ri,P,hn),mn),Ki=s.evaluateSizeForZoom(pi,Qe.zoom),ki=I.style.terrain&&I.style.terrain.getTerrainData(Wt);let Li,Di,mo,Al,tl=[0,0],nl=null;if(P){if(Di=zt.glyphAtlasTexture,mo=et.LINEAR,Li=zt.glyphAtlasTexture.size,hn.iconsInText){tl=zt.imageAtlasTexture.size,nl=zt.imageAtlasTexture;const Fo=pi.kind==="composite"||pi.kind==="camera";Al=Rn||I.options.rotating||I.options.zooming||Fo?et.LINEAR:et.NEAREST}}else{const Fo=f.layout.get("icon-size").constantOr(0)!==1||hn.iconsNeedLinear;Di=zt.imageAtlasTexture,mo=ri||I.options.rotating||I.options.zooming||Fo||Rn?et.LINEAR:et.NEAREST,Li=zt.imageAtlasTexture.size}const Cu=li(zt,1,I.transform.zoom),qa=nt(Wt.posMatrix,pt,Je,I.transform,Cu),il=ot(Wt.posMatrix,pt,Je,I.transform,Cu),Eu=Bt&&hn.hasTextData(),vm=f.layout.get("icon-text-fit")!=="none"&&Eu&&hn.hasIconData();if(yt){const Fo=I.style.terrain?(_d,xm)=>I.style.terrain.getElevation(Wt,_d,xm):null,bd=f.layout.get("text-rotation-alignment")==="map";$t(hn,Wt.posMatrix,I,P,qa,il,pt,Ce,bd,Fo)}const Mi=I.translatePosMatrix(Wt.posMatrix,zt,j,te),fr=yt||P&&Bt||vm?h_:qa,ji=I.translatePosMatrix(il,zt,j,te,!0),ma=ri&&f.paint.get(P?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Zs;Zs=ri?hn.iconsInText?i_(pi.kind,Ki,wt,pt,I,Mi,fr,ji,Li,tl):rg(pi.kind,Ki,wt,pt,I,Mi,fr,ji,P,Li):Qp(pi.kind,Ki,wt,pt,I,Mi,fr,ji,P,Li);const br={program:Zi,buffers:tn,uniformValues:Zs,atlasTexture:Di,atlasTextureIcon:nl,atlasInterpolation:mo,atlasInterpolationIcon:Al,isSDF:ri,hasHalo:ma};if(at&&hn.canOverlap){It=!0;const Fo=tn.segments.get();for(const bd of Fo)Ut.push({segments:new s.SegmentVector([bd]),sortKey:bd.sortKey,state:br,terrainData:ki})}else Ut.push({segments:tn.segments,sortKey:0,state:br,terrainData:ki})}It&&Ut.sort((Wt,zt)=>Wt.sortKey-zt.sortKey);for(const Wt of Ut){const zt=Wt.state;if(We.activeTexture.set(et.TEXTURE0),zt.atlasTexture.bind(zt.atlasInterpolation,et.CLAMP_TO_EDGE),zt.atlasTextureIcon&&(We.activeTexture.set(et.TEXTURE1),zt.atlasTextureIcon&&zt.atlasTextureIcon.bind(zt.atlasInterpolationIcon,et.CLAMP_TO_EDGE)),zt.isSDF){const hn=zt.uniformValues;zt.hasHalo&&(hn.u_is_halo=1,wh(zt.buffers,Wt.segments,f,I,zt.program,Et,Pe,Fe,hn,Wt.terrainData)),hn.u_is_halo=0}wh(zt.buffers,Wt.segments,f,I,zt.program,Et,Pe,Fe,zt.uniformValues,Wt.terrainData)}}function wh(I,c,f,C,P,j,te,de,fe,Ce){const Pe=C.context;P.draw(Pe,Pe.gl.TRIANGLES,j,te,de,pr.disabled,fe,Ce,f.id,I.layoutVertexBuffer,I.indexBuffer,c,f.paint,C.transform.zoom,I.programConfigurations.get(f.id),I.dynamicLayoutVertexBuffer,I.opacityVertexBuffer)}function rm(I,c,f,C,P,j,te){const de=I.context.gl,fe=f.paint.get("fill-pattern"),Ce=fe&&fe.constantOr(1),Pe=f.getCrossfadeParameters();let Fe,We,et,Qe,Je;te?(We=Ce&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Fe=de.LINES):(We=Ce?"fillPattern":"fill",Fe=de.TRIANGLES);for(const pt of C){const yt=c.getTile(pt);if(Ce&&!yt.patternsLoaded())continue;const wt=yt.getBucket(f);if(!wt)continue;const at=wt.programConfigurations.get(f.id),It=I.useProgram(We,at),Et=I.style.terrain&&I.style.terrain.getTerrainData(pt);Ce&&(I.context.activeTexture.set(de.TEXTURE0),yt.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),at.updatePaintBuffers(Pe));const Bt=fe.constantOr(null);if(Bt&&yt.imageAtlas){const zt=yt.imageAtlas,hn=zt.patternPositions[Bt.to.toString()],tn=zt.patternPositions[Bt.from.toString()];hn&&tn&&at.setConstantPatternPositions(hn,tn)}const Ut=Et?pt:null,Wt=I.translatePosMatrix(Ut?Ut.posMatrix:pt.posMatrix,yt,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor"));if(te){Qe=wt.indexBuffer2,Je=wt.segments2;const zt=[de.drawingBufferWidth,de.drawingBufferHeight];et=We==="fillOutlinePattern"&&Ce?Iv(Wt,I,Pe,yt,zt):Lv(Wt,zt)}else Qe=wt.indexBuffer,Je=wt.segments,et=Ce?ng(Wt,I,Pe,yt):tg(Wt);It.draw(I.context,Fe,P,I.stencilModeForClipping(pt),j,pr.disabled,et,Et,f.id,wt.layoutVertexBuffer,Qe,Je,f.paint,I.transform.zoom,at)}}function Th(I,c,f,C,P,j,te){const de=I.context,fe=de.gl,Ce=f.paint.get("fill-extrusion-pattern"),Pe=Ce.constantOr(1),Fe=f.getCrossfadeParameters(),We=f.paint.get("fill-extrusion-opacity");for(const et of C){const Qe=c.getTile(et),Je=Qe.getBucket(f);if(!Je)continue;const pt=I.style.terrain&&I.style.terrain.getTerrainData(et),yt=Je.programConfigurations.get(f.id),wt=I.useProgram(Pe?"fillExtrusionPattern":"fillExtrusion",yt);Pe&&(I.context.activeTexture.set(fe.TEXTURE0),Qe.imageAtlasTexture.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),yt.updatePaintBuffers(Fe));const at=Ce.constantOr(null);if(at&&Qe.imageAtlas){const Ut=Qe.imageAtlas,Wt=Ut.patternPositions[at.to.toString()],zt=Ut.patternPositions[at.from.toString()];Wt&&zt&&yt.setConstantPatternPositions(Wt,zt)}const It=I.translatePosMatrix(et.posMatrix,Qe,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),Et=f.paint.get("fill-extrusion-vertical-gradient"),Bt=Pe?eg(It,I,Et,We,et,Fe,Qe):Nv(It,I,Et,We);wt.draw(de,de.gl.TRIANGLES,P,j,te,pr.backCCW,Bt,pt,f.id,Je.layoutVertexBuffer,Je.indexBuffer,Je.segments,f.paint,I.transform.zoom,yt,I.style.terrain&&Je.centroidVertexBuffer)}}function Uv(I,c,f,C,P,j,te){const de=I.context,fe=de.gl,Ce=f.fbo;if(!Ce)return;const Pe=I.useProgram("hillshade"),Fe=I.style.terrain&&I.style.terrain.getTerrainData(c);de.activeTexture.set(fe.TEXTURE0),fe.bindTexture(fe.TEXTURE_2D,Ce.colorAttachment.get()),Pe.draw(de,fe.TRIANGLES,P,j,te,pr.disabled,((We,et,Qe,Je)=>{const pt=Qe.paint.get("hillshade-shadow-color"),yt=Qe.paint.get("hillshade-highlight-color"),wt=Qe.paint.get("hillshade-accent-color");let at=Qe.paint.get("hillshade-illumination-direction")*(Math.PI/180);Qe.paint.get("hillshade-illumination-anchor")==="viewport"&&(at-=We.transform.angle);const It=!We.options.moving;return{u_matrix:Je?Je.posMatrix:We.transform.calculatePosMatrix(et.tileID.toUnwrapped(),It),u_image:0,u_latrange:Zp(0,et.tileID),u_light:[Qe.paint.get("hillshade-exaggeration"),at],u_shadow:pt,u_highlight:yt,u_accent:wt}})(I,f,C,Fe?c:null),Fe,C.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments)}function am(I,c,f,C,P,j){const te=I.context,de=te.gl,fe=c.dem;if(fe&&fe.data){const Ce=fe.dim,Pe=fe.stride,Fe=fe.getPixels();if(te.activeTexture.set(de.TEXTURE1),te.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||I.getTileTexture(Pe),c.demTexture){const et=c.demTexture;et.update(Fe,{premultiply:!1}),et.bind(de.NEAREST,de.CLAMP_TO_EDGE)}else c.demTexture=new T(te,Fe,de.RGBA,{premultiply:!1}),c.demTexture.bind(de.NEAREST,de.CLAMP_TO_EDGE);te.activeTexture.set(de.TEXTURE0);let We=c.fbo;if(!We){const et=new T(te,{width:Ce,height:Ce,data:null},de.RGBA);et.bind(de.LINEAR,de.CLAMP_TO_EDGE),We=c.fbo=te.createFramebuffer(Ce,Ce,!0),We.colorAttachment.set(et.texture)}te.bindFramebuffer.set(We.framebuffer),te.viewport.set([0,0,Ce,Ce]),I.useProgram("hillshadePrepare").draw(te,de.TRIANGLES,C,P,j,pr.disabled,((et,Qe)=>{const Je=Qe.stride,pt=s.create();return s.ortho(pt,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(pt,pt,[0,-s.EXTENT,0]),{u_matrix:pt,u_image:1,u_dimension:[Je,Je],u_zoom:et.overscaledZ,u_unpack:Qe.getUnpackVector()}})(c.tileID,fe),null,f.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function sm(I,c,f,C,P,j){const te=C.paint.get("raster-fade-duration");if(!j&&te>0){const de=s.exported.now(),fe=(de-I.timeAdded)/te,Ce=c?(de-c.timeAdded)/te:-1,Pe=f.getSource(),Fe=P.coveringZoomLevel({tileSize:Pe.tileSize,roundZoom:Pe.roundZoom}),We=!c||Math.abs(c.tileID.overscaledZ-Fe)>Math.abs(I.tileID.overscaledZ-Fe),et=We&&I.refreshedUponExpiration?1:s.clamp(We?fe:1-Ce,0,1);return I.refreshedUponExpiration&&fe>=1&&(I.refreshedUponExpiration=!1),c?{opacity:1,mix:1-et}:{opacity:et,mix:0}}return{opacity:1,mix:0}}const el=new s.Color(1,0,0,1),Gv=new s.Color(0,1,0,1),bg=new s.Color(0,0,1,1),Yv=new s.Color(1,0,1,1),gd=new s.Color(0,1,1,1);function Sh(I,c,f,C){lm(I,0,c+f/2,I.transform.width,f,C)}function om(I,c,f,C){lm(I,c-f/2,0,f,I.transform.height,C)}function lm(I,c,f,C,P,j){const te=I.context,de=te.gl;de.enable(de.SCISSOR_TEST),de.scissor(c*I.pixelRatio,f*I.pixelRatio,C*I.pixelRatio,P*I.pixelRatio),te.clear({color:j}),de.disable(de.SCISSOR_TEST)}function _g(I,c,f){const C=I.context,P=C.gl,j=f.posMatrix,te=I.useProgram("debug"),de=kn.disabled,fe=kr.disabled,Ce=I.colorModeForRenderPass(),Pe="$debug",Fe=I.style.terrain&&I.style.terrain.getTerrainData(f);C.activeTexture.set(P.TEXTURE0),I.emptyTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE);const We=c.getTileByID(f.key).latestRawTileData,et=Math.floor((We&&We.byteLength||0)/1024),Qe=c.getTile(f).tileSize,Je=512/Math.min(Qe,512)*(f.overscaledZ/I.transform.zoom)*.5;let pt=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(pt+=` => ${f.overscaledZ}`),function(yt,wt){yt.initDebugOverlayCanvas();const at=yt.debugOverlayCanvas,It=yt.context.gl,Et=yt.debugOverlayCanvas.getContext("2d");Et.clearRect(0,0,at.width,at.height),Et.shadowColor="white",Et.shadowBlur=2,Et.lineWidth=1.5,Et.strokeStyle="white",Et.textBaseline="top",Et.font="bold 36px Open Sans, sans-serif",Et.fillText(wt,5,5),Et.strokeText(wt,5,5),yt.debugOverlayTexture.update(at),yt.debugOverlayTexture.bind(It.LINEAR,It.CLAMP_TO_EDGE)}(I,`${pt} ${et}kB`),te.draw(C,P.TRIANGLES,de,fe,Yr.alphaBlended,pr.disabled,ud(j,s.Color.transparent,Je),null,Pe,I.debugBuffer,I.quadTriangleIndexBuffer,I.debugSegments),te.draw(C,P.LINE_STRIP,de,fe,Ce,pr.disabled,ud(j,s.Color.red),Fe,Pe,I.debugBuffer,I.tileBorderIndexBuffer,I.debugSegments)}function Vv(I,c,f){const C=I.context,P=C.gl,j=I.colorModeForRenderPass(),te=new kn(P.LEQUAL,kn.ReadWrite,I.depthRangeFor3D),de=I.useProgram("terrain"),fe=c.getTerrainMesh(),Ce=c.getTerrainData(f.tileID);C.bindFramebuffer.set(null),C.viewport.set([0,0,I.width,I.height]),C.activeTexture.set(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,c.getRTTFramebuffer().colorAttachment.get());const Pe=I.transform.calculatePosMatrix(f.tileID.toUnwrapped());de.draw(C,P.TRIANGLES,te,kr.disabled,j,pr.backCCW,{u_matrix:Pe,u_texture:0},Ce,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments)}function wg(I,c,f,C){const P=I.context,j=f.tileSize*c.qualityFactor;f.textures[C]||(f.textures[C]=I.getTileTexture(j)||new T(P,{width:j,height:j,data:null},P.gl.RGBA),f.textures[C].bind(P.gl.LINEAR,P.gl.CLAMP_TO_EDGE),C===0&&c.sourceCache.renderHistory.unshift(f.tileID.key));const te=c.getRTTFramebuffer();te.colorAttachment.set(f.textures[C].texture),P.bindFramebuffer.set(te.framebuffer),P.viewport.set([0,0,j,j])}class cm{constructor(c){this._coordsDescendingInv={},this._coordsDescendingInvStr={},this.painter=c,this._renderToTexture={background:!0,fill:!0,line:!0,raster:!0},this._coordsDescendingInv={},this._coordsDescendingInvStr={},this._stacks=[],this._prevType=null,this._rerender={},this._renderableTiles=c.style.terrain.sourceCache.getRenderableTiles(),this._init()}_init(){const c=this.painter.style,f=c.terrain;for(const C in c.sourceCaches){this._coordsDescendingInv[C]={};const P=c.sourceCaches[C].getVisibleCoordinates();for(const j of P){const te=f.sourceCache.getTerrainCoords(j);for(const de in te)this._coordsDescendingInv[C][de]||(this._coordsDescendingInv[C][de]=[]),this._coordsDescendingInv[C][de].push(te[de])}}for(const C of c._order){const P=c._layers[C],j=P.source;if(this._renderToTexture[P.type]&&!this._coordsDescendingInvStr[j]){this._coordsDescendingInvStr[j]={};for(const te in this._coordsDescendingInv[j])this._coordsDescendingInvStr[j][te]=this._coordsDescendingInv[j][te].map(de=>de.key).sort().join()}}return this._renderableTiles.forEach(C=>{for(const P in this._coordsDescendingInvStr){const j=this._coordsDescendingInvStr[P][C.tileID.key];j&&j!==C.textureCoords[P]&&C.clearTextures(this.painter),f.needsRerender(P,C.tileID)&&C.clearTextures(this.painter)}this._rerender[C.tileID.key]=!C.textures.length}),f.clearRerenderCache(),f.sourceCache.removeOutdated(this.painter),this}renderLayer(c){const f=c.type,C=this.painter,P=C.style._order,j=C.currentLayer,te=j+1===P.length;if(this._renderToTexture[f]&&(this._prevType&&this._renderToTexture[this._prevType]||this._stacks.push([]),this._prevType=f,this._stacks[this._stacks.length-1].push(P[j]),!te))return!0;if(this._renderToTexture[this._prevType]||f==="hillshade"||this._renderToTexture[f]&&te){this._prevType=f;const de=this._stacks.length-1,fe=this._stacks[de]||[];for(const Ce of this._renderableTiles){if(wg(C,C.style.terrain,Ce,de),this._rerender[Ce.tileID.key]){C.context.clear({color:s.Color.transparent});for(let Pe=0;Pe<fe.length;Pe++){const Fe=C.style._layers[fe[Pe]],We=Fe.source?this._coordsDescendingInv[Fe.source][Ce.tileID.key]:[Ce.tileID];C._renderTileClippingMasks(Fe,We),C.renderLayer(C,C.style.sourceCaches[Fe.source],Fe,We),Fe.source&&(Ce.textureCoords[Fe.source]=this._coordsDescendingInvStr[Fe.source][Ce.tileID.key])}}Vv(C,C.style.terrain,Ce)}if(f==="hillshade"){this._stacks.push([P[j]]);for(const Ce of this._renderableTiles){const Pe=this._coordsDescendingInv[c.source][Ce.tileID.key];wg(C,C.style.terrain,Ce,this._stacks.length-1),C.context.clear({color:s.Color.transparent}),C._renderTileClippingMasks(c,Pe),C.renderLayer(C,C.style.sourceCaches[c.source],c,Pe),Vv(C,C.style.terrain,Ce)}return!0}return this._renderToTexture[f]}return!1}}const um={symbol:function(I,c,f,C,P){if(I.renderPass!=="translucent")return;const j=kr.disabled,te=I.colorModeForRenderPass();f.layout.get("text-variable-anchor")&&function(de,fe,Ce,Pe,Fe,We,et){const Qe=fe.transform,Je=Fe==="map",pt=We==="map";for(const yt of de){const wt=Pe.getTile(yt),at=wt.getBucket(Ce);if(!at||!at.text||!at.text.segments.get().length)continue;const It=s.evaluateSizeForZoom(at.textSizeData,Qe.zoom),Et=li(wt,1,fe.transform.zoom),Bt=nt(yt.posMatrix,pt,Je,fe.transform,Et),Ut=Ce.layout.get("icon-text-fit")!=="none"&&at.hasIconData();if(It){const Wt=Math.pow(2,Qe.zoom-wt.tileID.overscaledZ);p_(at,Je,pt,et,Qe,Bt,yt.posMatrix,Wt,It,Ut,fe.style.terrain?(zt,hn)=>fe.style.terrain.getElevation(yt,zt,hn):null)}}}(C,I,f,c,f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),P),f.paint.get("icon-opacity").constantOr(1)!==0&&_h(I,c,f,C,!1,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),f.layout.get("icon-rotation-alignment"),f.layout.get("icon-pitch-alignment"),f.layout.get("icon-keep-upright"),j,te),f.paint.get("text-opacity").constantOr(1)!==0&&_h(I,c,f,C,!0,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),f.layout.get("text-keep-upright"),j,te),c.map.showCollisionBoxes&&(jv(I,c,f,C,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),!0),jv(I,c,f,C,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),!1))},circle:function(I,c,f,C){if(I.renderPass!=="translucent")return;const P=f.paint.get("circle-opacity"),j=f.paint.get("circle-stroke-width"),te=f.paint.get("circle-stroke-opacity"),de=!f.layout.get("circle-sort-key").isConstant();if(P.constantOr(1)===0&&(j.constantOr(1)===0||te.constantOr(1)===0))return;const fe=I.context,Ce=fe.gl,Pe=I.depthModeForSublayer(0,kn.ReadOnly),Fe=kr.disabled,We=I.colorModeForRenderPass(),et=[];for(let Qe=0;Qe<C.length;Qe++){const Je=C[Qe],pt=c.getTile(Je),yt=pt.getBucket(f);if(!yt)continue;const wt=yt.programConfigurations.get(f.id),at=I.useProgram("circle",wt),It=yt.layoutVertexBuffer,Et=yt.indexBuffer,Bt=I.style.terrain&&I.style.terrain.getTerrainData(Je),Ut={programConfiguration:wt,program:at,layoutVertexBuffer:It,indexBuffer:Et,uniformValues:vu(I,Je,pt,f),terrainData:Bt};if(de){const Wt=yt.segments.get();for(const zt of Wt)et.push({segments:new s.SegmentVector([zt]),sortKey:zt.sortKey,state:Ut})}else et.push({segments:yt.segments,sortKey:0,state:Ut})}de&&et.sort((Qe,Je)=>Qe.sortKey-Je.sortKey);for(const Qe of et){const{programConfiguration:Je,program:pt,layoutVertexBuffer:yt,indexBuffer:wt,uniformValues:at,terrainData:It}=Qe.state;pt.draw(fe,Ce.TRIANGLES,Pe,Fe,We,pr.disabled,at,It,f.id,yt,wt,Qe.segments,f.paint,I.transform.zoom,Je)}},heatmap:function(I,c,f,C){if(f.paint.get("heatmap-opacity")!==0)if(I.renderPass==="offscreen"){const P=I.context,j=P.gl,te=kr.disabled,de=new Yr([j.ONE,j.ONE],s.Color.transparent,[!0,!0,!0,!0]);(function(fe,Ce,Pe){const Fe=fe.gl;fe.activeTexture.set(Fe.TEXTURE1),fe.viewport.set([0,0,Ce.width/4,Ce.height/4]);let We=Pe.heatmapFbo;if(We)Fe.bindTexture(Fe.TEXTURE_2D,We.colorAttachment.get()),fe.bindFramebuffer.set(We.framebuffer);else{const et=Fe.createTexture();Fe.bindTexture(Fe.TEXTURE_2D,et),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_S,Fe.CLAMP_TO_EDGE),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_T,Fe.CLAMP_TO_EDGE),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MIN_FILTER,Fe.LINEAR),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MAG_FILTER,Fe.LINEAR),We=Pe.heatmapFbo=fe.createFramebuffer(Ce.width/4,Ce.height/4,!1),function(Qe,Je,pt,yt){const wt=Qe.gl;wt.texImage2D(wt.TEXTURE_2D,0,wt.RGBA,Je.width/4,Je.height/4,0,wt.RGBA,Qe.extRenderToTextureHalfFloat?Qe.extTextureHalfFloat.HALF_FLOAT_OES:wt.UNSIGNED_BYTE,null),yt.colorAttachment.set(pt)}(fe,Ce,et,We)}})(P,I,f),P.clear({color:s.Color.transparent});for(let fe=0;fe<C.length;fe++){const Ce=C[fe];if(c.hasRenderableParent(Ce))continue;const Pe=c.getTile(Ce),Fe=Pe.getBucket(f);if(!Fe)continue;const We=Fe.programConfigurations.get(f.id),et=I.useProgram("heatmap",We),{zoom:Qe}=I.transform;et.draw(P,j.TRIANGLES,kn.disabled,te,de,pr.disabled,Xp(Ce.posMatrix,Pe,Qe,f.paint.get("heatmap-intensity")),null,f.id,Fe.layoutVertexBuffer,Fe.indexBuffer,Fe.segments,f.paint,I.transform.zoom,We)}P.viewport.set([0,0,I.width,I.height])}else I.renderPass==="translucent"&&(I.context.setColorMode(I.colorModeForRenderPass()),function(P,j){const te=P.context,de=te.gl,fe=j.heatmapFbo;if(!fe)return;te.activeTexture.set(de.TEXTURE0),de.bindTexture(de.TEXTURE_2D,fe.colorAttachment.get()),te.activeTexture.set(de.TEXTURE1);let Ce=j.colorRampTexture;Ce||(Ce=j.colorRampTexture=new T(te,j.colorRamp,de.RGBA)),Ce.bind(de.LINEAR,de.CLAMP_TO_EDGE),P.useProgram("heatmapTexture").draw(te,de.TRIANGLES,kn.disabled,kr.disabled,P.colorModeForRenderPass(),pr.disabled,((Pe,Fe,We,et)=>{const Qe=s.create();s.ortho(Qe,0,Pe.width,Pe.height,0,0,1);const Je=Pe.context.gl;return{u_matrix:Qe,u_world:[Je.drawingBufferWidth,Je.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Fe.paint.get("heatmap-opacity")}})(P,j),null,j.id,P.viewportBuffer,P.quadTriangleIndexBuffer,P.viewportSegments,j.paint,P.transform.zoom)}(I,f))},line:function(I,c,f,C){if(I.renderPass!=="translucent")return;const P=f.paint.get("line-opacity"),j=f.paint.get("line-width");if(P.constantOr(1)===0||j.constantOr(1)===0)return;const te=I.depthModeForSublayer(0,kn.ReadOnly),de=I.colorModeForRenderPass(),fe=f.paint.get("line-dasharray"),Ce=f.paint.get("line-pattern"),Pe=Ce.constantOr(1),Fe=f.paint.get("line-gradient"),We=f.getCrossfadeParameters(),et=Pe?"linePattern":fe?"lineSDF":Fe?"lineGradient":"line",Qe=I.context,Je=Qe.gl;let pt=!0;for(const yt of C){const wt=c.getTile(yt);if(Pe&&!wt.patternsLoaded())continue;const at=wt.getBucket(f);if(!at)continue;const It=at.programConfigurations.get(f.id),Et=I.context.program.get(),Bt=I.useProgram(et,It),Ut=pt||Bt.program!==Et,Wt=I.style.terrain&&I.style.terrain.getTerrainData(yt),zt=Ce.constantOr(null);if(zt&&wt.imageAtlas){const mn=wt.imageAtlas,ri=mn.patternPositions[zt.to.toString()],pi=mn.patternPositions[zt.from.toString()];ri&&pi&&It.setConstantPatternPositions(ri,pi)}const hn=Wt?yt:null,tn=Pe?yh(I,wt,f,We,hn):fe?Er(I,wt,f,fe,We,hn):Fe?Kp(I,wt,f,at.lineClipsArray.length,hn):gh(I,wt,f,hn);if(Pe)Qe.activeTexture.set(Je.TEXTURE0),wt.imageAtlasTexture.bind(Je.LINEAR,Je.CLAMP_TO_EDGE),It.updatePaintBuffers(We);else if(fe&&(Ut||I.lineAtlas.dirty))Qe.activeTexture.set(Je.TEXTURE0),I.lineAtlas.bind(Qe);else if(Fe){const mn=at.gradients[f.id];let ri=mn.texture;if(f.gradientVersion!==mn.version){let pi=256;if(f.stepInterpolant){const Rn=c.getSource().maxzoom,Zi=yt.canonical.z===Rn?Math.ceil(1<<I.transform.maxZoom-yt.canonical.z):1;pi=s.clamp(s.nextPowerOfTwo(at.maxLineLength/s.EXTENT*1024*Zi),256,Qe.maxTextureSize)}mn.gradient=s.renderColorRamp({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:pi,image:mn.gradient||void 0,clips:at.lineClipsArray}),mn.texture?mn.texture.update(mn.gradient):mn.texture=new T(Qe,mn.gradient,Je.RGBA),mn.version=f.gradientVersion,ri=mn.texture}Qe.activeTexture.set(Je.TEXTURE0),ri.bind(f.stepInterpolant?Je.NEAREST:Je.LINEAR,Je.CLAMP_TO_EDGE)}Bt.draw(Qe,Je.TRIANGLES,te,I.stencilModeForClipping(yt),de,pr.disabled,tn,Wt,f.id,at.layoutVertexBuffer,at.indexBuffer,at.segments,f.paint,I.transform.zoom,It,at.layoutVertexBuffer2),pt=!1}},fill:function(I,c,f,C){const P=f.paint.get("fill-color"),j=f.paint.get("fill-opacity");if(j.constantOr(1)===0)return;const te=I.colorModeForRenderPass(),de=f.paint.get("fill-pattern"),fe=I.opaquePassEnabledForLayer()&&!de.constantOr(1)&&P.constantOr(s.Color.transparent).a===1&&j.constantOr(0)===1?"opaque":"translucent";if(I.renderPass===fe){const Ce=I.depthModeForSublayer(1,I.renderPass==="opaque"?kn.ReadWrite:kn.ReadOnly);rm(I,c,f,C,Ce,te,!1)}if(I.renderPass==="translucent"&&f.paint.get("fill-antialias")){const Ce=I.depthModeForSublayer(f.getPaintProperty("fill-outline-color")?2:0,kn.ReadOnly);rm(I,c,f,C,Ce,te,!0)}},"fill-extrusion":function(I,c,f,C){const P=f.paint.get("fill-extrusion-opacity");if(P!==0&&I.renderPass==="translucent"){const j=new kn(I.context.gl.LEQUAL,kn.ReadWrite,I.depthRangeFor3D);if(P!==1||f.paint.get("fill-extrusion-pattern").constantOr(1))Th(I,c,f,C,j,kr.disabled,Yr.disabled),Th(I,c,f,C,j,I.stencilModeFor3D(),I.colorModeForRenderPass());else{const te=I.colorModeForRenderPass();Th(I,c,f,C,j,kr.disabled,te)}}},hillshade:function(I,c,f,C){if(I.renderPass!=="offscreen"&&I.renderPass!=="translucent")return;const P=I.context,j=I.depthModeForSublayer(0,kn.ReadOnly),te=I.colorModeForRenderPass(),[de,fe]=I.renderPass==="translucent"?I.stencilConfigForOverlap(C):[{},C];for(const Ce of fe){const Pe=c.getTile(Ce);Pe.needsHillshadePrepare!==void 0&&Pe.needsHillshadePrepare&&I.renderPass==="offscreen"?am(I,Pe,f,j,kr.disabled,te):I.renderPass==="translucent"&&Uv(I,Ce,Pe,f,j,de[Ce.overscaledZ],te)}P.viewport.set([0,0,I.width,I.height])},raster:function(I,c,f,C){if(I.renderPass!=="translucent"||f.paint.get("raster-opacity")===0||!C.length)return;const P=I.context,j=P.gl,te=c.getSource(),de=I.useProgram("raster"),fe=I.colorModeForRenderPass(),[Ce,Pe]=te instanceof W?[{},C]:I.stencilConfigForOverlap(C),Fe=Pe[Pe.length-1].overscaledZ,We=!I.options.moving;for(const et of Pe){const Qe=I.depthModeForSublayer(et.overscaledZ-Fe,f.paint.get("raster-opacity")===1?kn.ReadWrite:kn.ReadOnly,j.LESS),Je=c.getTile(et);Je.registerFadeDuration(f.paint.get("raster-fade-duration"));const pt=c.findLoadedParent(et,0),yt=sm(Je,pt,c,f,I.transform,I.style.terrain);let wt,at;const It=f.paint.get("raster-resampling")==="nearest"?j.NEAREST:j.LINEAR;P.activeTexture.set(j.TEXTURE0),Je.texture.bind(It,j.CLAMP_TO_EDGE,j.LINEAR_MIPMAP_NEAREST),P.activeTexture.set(j.TEXTURE1),pt?(pt.texture.bind(It,j.CLAMP_TO_EDGE,j.LINEAR_MIPMAP_NEAREST),wt=Math.pow(2,pt.tileID.overscaledZ-Je.tileID.overscaledZ),at=[Je.tileID.canonical.x*wt%1,Je.tileID.canonical.y*wt%1]):Je.texture.bind(It,j.CLAMP_TO_EDGE,j.LINEAR_MIPMAP_NEAREST);const Et=I.style.terrain&&I.style.terrain.getTerrainData(et),Bt=Et?et:null,Ut=Bt?Bt.posMatrix:I.transform.calculatePosMatrix(et.toUnwrapped(),We),Wt=Av(Ut,at||[0,0],wt||1,yt,f);te instanceof W?de.draw(P,j.TRIANGLES,Qe,kr.disabled,fe,pr.disabled,Wt,Et,f.id,te.boundsBuffer,I.quadTriangleIndexBuffer,te.boundsSegments):de.draw(P,j.TRIANGLES,Qe,Ce[et.overscaledZ],fe,pr.disabled,Wt,Et,f.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments)}},background:function(I,c,f,C){const P=f.paint.get("background-color"),j=f.paint.get("background-opacity");if(j===0)return;const te=I.context,de=te.gl,fe=I.transform,Ce=fe.tileSize,Pe=f.paint.get("background-pattern");if(I.isPatternMissing(Pe))return;const Fe=!Pe&&P.a===1&&j===1&&I.opaquePassEnabledForLayer()?"opaque":"translucent";if(I.renderPass!==Fe)return;const We=kr.disabled,et=I.depthModeForSublayer(0,Fe==="opaque"?kn.ReadWrite:kn.ReadOnly),Qe=I.colorModeForRenderPass(),Je=I.useProgram(Pe?"backgroundPattern":"background"),pt=C||fe.coveringTiles({tileSize:Ce,terrain:I.style.terrain});Pe&&(te.activeTexture.set(de.TEXTURE0),I.imageManager.bind(I.context));const yt=f.getCrossfadeParameters();for(const wt of pt){const at=C?wt.posMatrix:I.transform.calculatePosMatrix(wt.toUnwrapped()),It=Pe?ag(at,j,I,Pe,{tileID:wt,tileSize:Ce},yt):r_(at,j,P),Et=I.style.terrain&&I.style.terrain.getTerrainData(wt);Je.draw(te,de.TRIANGLES,et,We,Qe,pr.disabled,It,Et,f.id,I.tileExtentBuffer,I.quadTriangleIndexBuffer,I.tileExtentSegments)}},debug:function(I,c,f){for(let C=0;C<f.length;C++)_g(I,c,f[C])},custom:function(I,c,f){const C=I.context,P=f.implementation;if(I.renderPass==="offscreen"){const j=P.prerender;j&&(I.setCustomLayerDefaults(),C.setColorMode(I.colorModeForRenderPass()),j.call(P,C.gl,I.transform.customLayerMatrix()),C.setDirty(),I.setBaseState())}else if(I.renderPass==="translucent"){I.setCustomLayerDefaults(),C.setColorMode(I.colorModeForRenderPass()),C.setStencilMode(kr.disabled);const j=P.renderingMode==="3d"?new kn(I.context.gl.LEQUAL,kn.ReadWrite,I.depthRangeFor3D):I.depthModeForSublayer(0,kn.ReadOnly);C.setDepthMode(j),P.render(C.gl,I.transform.customLayerMatrix()),C.setDirty(),I.setBaseState(),C.bindFramebuffer.set(null)}}};class Wv{constructor(c,f){this.context=new vg(c),this.transform=f,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:s.create(),renderTime:0},this.setup(),this.numSublayers=J.maxUnderzooming+J.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Hn,this.gpuTimers={}}resize(c,f,C){if(this.width=c*C,this.height=f*C,this.pixelRatio=C,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const P of this.style._order)this.style._layers[P].resize()}setup(){const c=this.context,f=new s.PosArray;f.emplaceBack(0,0),f.emplaceBack(s.EXTENT,0),f.emplaceBack(0,s.EXTENT),f.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(f,Cn.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);const C=new s.PosArray;C.emplaceBack(0,0),C.emplaceBack(s.EXTENT,0),C.emplaceBack(0,s.EXTENT),C.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=c.createVertexBuffer(C,Cn.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);const P=new s.RasterBoundsArray;P.emplaceBack(0,0,0,0),P.emplaceBack(s.EXTENT,0,s.EXTENT,0),P.emplaceBack(0,s.EXTENT,0,s.EXTENT),P.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(P,z.members),this.rasterBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);const j=new s.PosArray;j.emplaceBack(0,0),j.emplaceBack(1,0),j.emplaceBack(0,1),j.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(j,Cn.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);const te=new s.LineStripIndexArray;te.emplaceBack(0),te.emplaceBack(1),te.emplaceBack(3),te.emplaceBack(2),te.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(te);const de=new s.TriangleIndexArray;de.emplaceBack(0,1,2),de.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(de),this.emptyTexture=new T(c,{width:1,height:1,data:new Uint8Array([0,0,0,0])},c.gl.RGBA);const fe=this.context.gl;this.stencilClearMode=new kr({func:fe.ALWAYS,mask:0},0,255,fe.ZERO,fe.ZERO,fe.ZERO)}clearStencil(){const c=this.context,f=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const C=s.create();s.ortho(C,0,this.width,this.height,0,0,1),s.scale(C,C,[f.drawingBufferWidth,f.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,f.TRIANGLES,kn.disabled,this.stencilClearMode,Yr.disabled,pr.disabled,fh(C),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(c,f){if(this.currentStencilSource===c.source||!c.isTileClipped()||!f||!f.length)return;this.currentStencilSource=c.source;const C=this.context,P=C.gl;this.nextStencilID+f.length>256&&this.clearStencil(),C.setColorMode(Yr.disabled),C.setDepthMode(kn.disabled);const j=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const te of f){const de=this._tileClippingMaskIDs[te.key]=this.nextStencilID++,fe=this.style.terrain&&this.style.terrain.getTerrainData(te);j.draw(C,P.TRIANGLES,kn.disabled,new kr({func:P.ALWAYS,mask:0},de,255,P.KEEP,P.KEEP,P.REPLACE),Yr.disabled,pr.disabled,fh(te.posMatrix),fe,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,f=this.context.gl;return new kr({func:f.NOTEQUAL,mask:255},c,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(c){const f=this.context.gl;return new kr({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,f.KEEP,f.KEEP,f.REPLACE)}stencilConfigForOverlap(c){const f=this.context.gl,C=c.sort((te,de)=>de.overscaledZ-te.overscaledZ),P=C[C.length-1].overscaledZ,j=C[0].overscaledZ-P+1;if(j>1){this.currentStencilSource=void 0,this.nextStencilID+j>256&&this.clearStencil();const te={};for(let de=0;de<j;de++)te[de+P]=new kr({func:f.GEQUAL,mask:255},de+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=j,[te,C]}return[{[P]:kr.disabled},C]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new Yr([c.CONSTANT_COLOR,c.ONE],new s.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Yr.unblended:Yr.alphaBlended}depthModeForSublayer(c,f,C){if(!this.opaquePassEnabledForLayer())return kn.disabled;const P=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new kn(C||this.context.gl.LEQUAL,f,[P,P])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,f){this.style=c,this.options=f,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(s.exported.now()),this.imageManager.beginFrame();const C=this.style._order,P=this.style.sourceCaches,j=this.style.terrain&&new cm(this);for(const Ce in P){const Pe=P[Ce];Pe.used&&Pe.prepare(this.context)}const te={},de={},fe={};for(const Ce in P){const Pe=P[Ce];te[Ce]=Pe.getVisibleCoordinates(),de[Ce]=te[Ce].slice().reverse(),fe[Ce]=Pe.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Ce=0;Ce<C.length;Ce++)if(this.style._layers[C[Ce]].is3D()){this.opaquePassCutoff=Ce;break}if(j){this.opaquePassCutoff=0;const Ce=this.style.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!s.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||Ce.length)&&(s.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(Pe,Fe){const We=Pe.context,et=We.gl,Qe=Yr.unblended,Je=new kn(et.LEQUAL,kn.ReadWrite,[0,1]),pt=Fe.getTerrainMesh(),yt=Fe.sourceCache.getRenderableTiles(),wt=Pe.useProgram("terrainDepth");We.bindFramebuffer.set(Fe.getFramebuffer("depth").framebuffer),We.viewport.set([0,0,Pe.width/devicePixelRatio,Pe.height/devicePixelRatio]),We.clear({color:s.Color.transparent,depth:1});for(const at of yt){const It=Fe.getTerrainData(at.tileID),Et=Pe.transform.calculatePosMatrix(at.tileID.toUnwrapped());wt.draw(We,et.TRIANGLES,Je,kr.disabled,Qe,pr.backCCW,{u_matrix:Et},It,"terrain",pt.vertexBuffer,pt.indexBuffer,pt.segments)}We.bindFramebuffer.set(null),We.viewport.set([0,0,Pe.width,Pe.height])}(this,this.style.terrain),function(Pe,Fe){const We=Pe.context,et=We.gl,Qe=Yr.unblended,Je=new kn(et.LEQUAL,kn.ReadWrite,[0,1]),pt=Fe.getTerrainMesh(),yt=Fe.getCoordsTexture(),wt=Fe.sourceCache.getRenderableTiles(),at=Pe.useProgram("terrainCoords");We.bindFramebuffer.set(Fe.getFramebuffer("coords").framebuffer),We.viewport.set([0,0,Pe.width/devicePixelRatio,Pe.height/devicePixelRatio]),We.clear({color:s.Color.transparent,depth:1}),Fe.coordsIndex=[];for(const It of wt){const Et=Fe.getTerrainData(It.tileID);We.activeTexture.set(et.TEXTURE0),et.bindTexture(et.TEXTURE_2D,yt.texture);const Bt=Pe.transform.calculatePosMatrix(It.tileID.toUnwrapped());at.draw(We,et.TRIANGLES,Je,kr.disabled,Qe,pr.backCCW,{u_matrix:Bt,u_terrain_coords_id:(255-Fe.coordsIndex.length)/255,u_texture:0},Et,"terrain",pt.vertexBuffer,pt.indexBuffer,pt.segments),Fe.coordsIndex.push(It.tileID.key)}We.bindFramebuffer.set(null),We.viewport.set([0,0,Pe.width,Pe.height])}(this,this.style.terrain))}this.renderPass="offscreen";for(const Ce of C){const Pe=this.style._layers[Ce];if(!Pe.hasOffscreenPass()||Pe.isHidden(this.transform.zoom))continue;const Fe=de[Pe.source];(Pe.type==="custom"||Fe.length)&&this.renderLayer(this,P[Pe.source],Pe,Fe)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:f.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=f.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],!j)for(this.renderPass="opaque",this.currentLayer=C.length-1;this.currentLayer>=0;this.currentLayer--){const Ce=this.style._layers[C[this.currentLayer]],Pe=P[Ce.source],Fe=te[Ce.source];this._renderTileClippingMasks(Ce,Fe),this.renderLayer(this,Pe,Ce,Fe)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<C.length;this.currentLayer++){const Ce=this.style._layers[C[this.currentLayer]],Pe=P[Ce.source];if(j&&j.renderLayer(Ce))continue;const Fe=(Ce.type==="symbol"?fe:de)[Ce.source];this._renderTileClippingMasks(Ce,te[Ce.source]),this.renderLayer(this,Pe,Ce,Fe)}if(this.options.showTileBoundaries){let Ce,Pe;Object.values(this.style._layers).forEach(Fe=>{Fe.source&&!Fe.isHidden(this.transform.zoom)&&(Fe.source!==(Pe&&Pe.id)&&(Pe=this.style.sourceCaches[Fe.source]),(!Ce||Ce.getSource().maxzoom<Pe.getSource().maxzoom)&&(Ce=Pe))}),Ce&&um.debug(this,Ce,Ce.getVisibleCoordinates())}this.options.showPadding&&function(Ce){const Pe=Ce.transform.padding;Sh(Ce,Ce.transform.height-(Pe.top||0),3,el),Sh(Ce,Pe.bottom||0,3,Gv),om(Ce,Pe.left||0,3,bg),om(Ce,Ce.transform.width-(Pe.right||0),3,Yv);const Fe=Ce.transform.centerPoint;(function(We,et,Qe,Je){lm(We,et-1,Qe-10,2,20,Je),lm(We,et-10,Qe-1,20,2,Je)})(Ce,Fe.x,Ce.transform.height-Fe.y,gd)}(this),this.context.setDefault()}renderLayer(c,f,C,P){C.isHidden(this.transform.zoom)||(C.type==="background"||C.type==="custom"||(P||[]).length)&&(this.id=C.id,this.gpuTimingStart(C),um[C.type](c,f,C,P,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(c){if(!this.options.gpuTiming)return;const f=this.context.extTimerQuery;let C=this.gpuTimers[c.id];C||(C=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:f.createQueryEXT()}),C.calls++,f.beginQueryEXT(f.TIME_ELAPSED_EXT,C.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}collectGpuTimers(){const c=this.gpuTimers;return this.gpuTimers={},c}queryGpuTimers(c){const f={};for(const C in c){const P=c[C],j=this.context.extTimerQuery,te=j.getQueryObjectEXT(P.query,j.QUERY_RESULT_EXT)/1e6;j.deleteQueryEXT(P.query),f[C]=te}return f}translatePosMatrix(c,f,C,P,j){if(!C[0]&&!C[1])return c;const te=j?P==="map"?this.transform.angle:0:P==="viewport"?-this.transform.angle:0;if(te){const Ce=Math.sin(te),Pe=Math.cos(te);C=[C[0]*Pe-C[1]*Ce,C[0]*Ce+C[1]*Pe]}const de=[j?C[0]:li(f,C[0],this.transform.zoom),j?C[1]:li(f,C[1],this.transform.zoom),0],fe=new Float32Array(16);return s.translate(fe,c,de),fe}saveTileTexture(c){const f=this._tileTextures[c.size[0]];f?f.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const f=this._tileTextures[c];return f&&f.length>0?f.pop():null}isPatternMissing(c){if(!c)return!1;if(!c.from||!c.to)return!0;const f=this.imageManager.getPattern(c.from.toString()),C=this.imageManager.getPattern(c.to.toString());return!f||!C}useProgram(c,f){this.cache=this.cache||{};const C=c+(f?f.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.terrain?"/terrain":"");return this.cache[C]||(this.cache[C]=new n_(this.context,c,mh[c],f,sg[c],this._showOverdrawInspector,this.style.terrain)),this.cache[C]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class dm{constructor(c,f){this.points=c,this.planes=f}static fromInvProjectionMatrix(c,f,C){const P=Math.pow(2,C),j=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(de=>{const fe=1/(de=s.transformMat4([],de,c))[3]/f*P;return s.mul$1(de,de,[fe,fe,1/de[3],fe])}),te=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(de=>{const fe=s.sub([],j[de[0]],j[de[1]]),Ce=s.sub([],j[de[2]],j[de[1]]),Pe=s.normalize([],s.cross([],fe,Ce)),Fe=-s.dot(Pe,j[de[1]]);return Pe.concat(Fe)});return new dm(j,te)}}class xu{constructor(c,f){this.min=c,this.max=f,this.center=s.scale$1([],s.add([],this.min,this.max),.5)}quadrant(c){const f=[c%2==0,c<2],C=s.clone$2(this.min),P=s.clone$2(this.max);for(let j=0;j<f.length;j++)C[j]=f[j]?this.min[j]:this.center[j],P[j]=f[j]?this.center[j]:this.max[j];return P[2]=this.max[2],new xu(C,P)}distanceX(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]}distanceY(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]}intersects(c){const f=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let C=!0;for(let P=0;P<c.planes.length;P++){const j=c.planes[P];let te=0;for(let de=0;de<f.length;de++)s.dot$1(j,f[de])>=0&&te++;if(te===0)return 0;te!==f.length&&(C=!1)}if(C)return 2;for(let P=0;P<3;P++){let j=Number.MAX_VALUE,te=-Number.MAX_VALUE;for(let de=0;de<c.points.length;de++){const fe=c.points[de][P]-this.min[P];j=Math.min(j,fe),te=Math.max(te,fe)}if(te<0||j>this.max[P]-this.min[P])return 0}return 1}}class Ch{constructor(c=0,f=0,C=0,P=0){if(isNaN(c)||c<0||isNaN(f)||f<0||isNaN(C)||C<0||isNaN(P)||P<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=f,this.left=C,this.right=P}interpolate(c,f,C){return f.top!=null&&c.top!=null&&(this.top=s.number(c.top,f.top,C)),f.bottom!=null&&c.bottom!=null&&(this.bottom=s.number(c.bottom,f.bottom,C)),f.left!=null&&c.left!=null&&(this.left=s.number(c.left,f.left,C)),f.right!=null&&c.right!=null&&(this.right=s.number(c.right,f.right,C)),this}getCenter(c,f){const C=s.clamp((this.left+c-this.right)/2,0,c),P=s.clamp((this.top+f-this.bottom)/2,0,f);return new s.pointGeometry(C,P)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new Ch(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class hm{constructor(c,f,C,P,j){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=j===void 0||!!j,this._minZoom=c||0,this._maxZoom=f||22,this._minPitch=C??0,this._maxPitch=P??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Ch,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const c=new hm(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.tileSize=this.tileSize,c.latRange=this.latRange,c.width=this.width,c.height=this.height,c._center=this._center,c._elevation=this._elevation,c.zoom=this.zoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._calcMatrices(),c}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(c){const f=-s.wrap(c,-180,180)*Math.PI/180;var C;this.angle!==f&&(this._unmodified=!1,this.angle=f,this._calcMatrices(),this.rotationMatrix=(C=new s.ARRAY_TYPE(4),s.ARRAY_TYPE!=Float32Array&&(C[1]=0,C[2]=0),C[0]=1,C[3]=1,C),function(P,j,te){var de=j[0],fe=j[1],Ce=j[2],Pe=j[3],Fe=Math.sin(te),We=Math.cos(te);P[0]=de*We+Ce*Fe,P[1]=fe*We+Pe*Fe,P[2]=de*-Fe+Ce*We,P[3]=fe*-Fe+Pe*We}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const f=s.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==f&&(this._unmodified=!1,this._pitch=f,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(c){const f=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==f&&(this._unmodified=!1,this._zoom=f,this.scale=this.zoomScale(f),this.tileZoom=Math.floor(f),this.zoomFraction=f-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(c){c!==this._elevation&&(this._elevation=c,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,f,C){this._unmodified=!1,this._edgeInsets.interpolate(c,f,C),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const f=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,f)}getVisibleUnwrappedCoordinates(c){const f=[new s.UnwrappedTileID(0,c)];if(this._renderWorldCopies){const C=this.pointCoordinate(new s.pointGeometry(0,0)),P=this.pointCoordinate(new s.pointGeometry(this.width,0)),j=this.pointCoordinate(new s.pointGeometry(this.width,this.height)),te=this.pointCoordinate(new s.pointGeometry(0,this.height)),de=Math.floor(Math.min(C.x,P.x,j.x,te.x)),fe=Math.floor(Math.max(C.x,P.x,j.x,te.x)),Ce=1;for(let Pe=de-Ce;Pe<=fe+Ce;Pe++)Pe!==0&&f.push(new s.UnwrappedTileID(Pe,c))}return f}coveringTiles(c){var f,C;let P=this.coveringZoomLevel(c);const j=P;if(c.minzoom!==void 0&&P<c.minzoom)return[];c.maxzoom!==void 0&&P>c.maxzoom&&(P=c.maxzoom);const te=this.pointCoordinate(this.getCameraPoint()),de=s.MercatorCoordinate.fromLngLat(this.center),fe=Math.pow(2,P),Ce=[fe*te.x,fe*te.y,0],Pe=[fe*de.x,fe*de.y,0],Fe=dm.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,P);let We=c.minzoom||0;!c.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(We=P);const et=c.terrain?2/Math.min(this.tileSize,c.tileSize)*this.tileSize:3,Qe=at=>({aabb:new xu([at*fe,0,0],[(at+1)*fe,fe,0]),zoom:0,x:0,y:0,wrap:at,fullyVisible:!1}),Je=[],pt=[],yt=P,wt=c.reparseOverscaled?j:P;if(this._renderWorldCopies)for(let at=1;at<=3;at++)Je.push(Qe(-at)),Je.push(Qe(at));for(Je.push(Qe(0));Je.length>0;){const at=Je.pop(),It=at.x,Et=at.y;let Bt=at.fullyVisible;if(!Bt){const mn=at.aabb.intersects(Fe);if(mn===0)continue;Bt=mn===2}const Ut=c.terrain?Ce:Pe,Wt=at.aabb.distanceX(Ut),zt=at.aabb.distanceY(Ut),hn=Math.max(Math.abs(Wt),Math.abs(zt)),tn=et+(1<<yt-at.zoom)-2;if(at.zoom===yt||hn>tn&&at.zoom>=We){const mn=yt-at.zoom,ri=Ce[0]-.5-(It<<mn),pi=Ce[1]-.5-(Et<<mn);pt.push({tileID:new s.OverscaledTileID(at.zoom===yt?wt:at.zoom,at.wrap,at.zoom,It,Et),distanceSq:s.sqrLen([Pe[0]-.5-It,Pe[1]-.5-Et]),tileDistanceToCamera:Math.sqrt(ri*ri+pi*pi)})}else for(let mn=0;mn<4;mn++){const ri=(It<<1)+mn%2,pi=(Et<<1)+(mn>>1),Rn=at.zoom+1;let Zi=at.aabb.quadrant(mn);if(c.terrain){const Ki=new s.OverscaledTileID(Rn,at.wrap,Rn,ri,pi),ki=c.terrain.getMinMaxElevation(Ki),Li=(f=ki.minElevation)!==null&&f!==void 0?f:this.elevation,Di=(C=ki.maxElevation)!==null&&C!==void 0?C:this.elevation;Zi=new xu([Zi.min[0],Zi.min[1],Li],[Zi.max[0],Zi.max[1],Di])}Je.push({aabb:Zi,zoom:Rn,x:ri,y:pi,wrap:at.wrap,fullyVisible:Bt})}}return pt.sort((at,It)=>at.distanceSq-It.distanceSq).map(at=>at.tileID)}resize(c,f){this.width=c,this.height=f,this.pixelsToGLUnits=[2/c,-2/f],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const f=s.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new s.pointGeometry(s.mercatorXfromLng(c.lng)*this.worldSize,s.mercatorYfromLat(f)*this.worldSize)}unproject(c){return new s.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(c){this.freezeElevation||(this.elevation=c?this.getElevation(this._center,c):0)}getElevation(c,f){const C=s.MercatorCoordinate.fromLngLat(c),P=(1<<this.tileZoom)*s.EXTENT,j=C.x*P,te=C.y*P,de=Math.floor(j/s.EXTENT),fe=Math.floor(te/s.EXTENT),Ce=new s.OverscaledTileID(this.tileZoom,0,this.tileZoom,de,fe);return f.getElevation(Ce,j%s.EXTENT,te%s.EXTENT,s.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(c){const f=this.pointLocation(this.centerPoint,c),C=this.getElevation(f,c);if(!(this.elevation-C))return;const P=this.getCameraPosition(),j=s.MercatorCoordinate.fromLngLat(P.lngLat,P.altitude),te=s.MercatorCoordinate.fromLngLat(f,C),de=j.x-te.x,fe=j.y-te.y,Ce=j.z-te.z,Pe=Math.sqrt(de*de+fe*fe+Ce*Ce),Fe=this.scaleZoom(this.cameraToCenterDistance/Pe/this.tileSize);this._elevation=C,this._center=f,this.zoom=Fe}setLocationAtPoint(c,f){const C=this.pointCoordinate(f),P=this.pointCoordinate(this.centerPoint),j=this.locationCoordinate(c),te=new s.MercatorCoordinate(j.x-(C.x-P.x),j.y-(C.y-P.y));this.center=this.coordinateLocation(te),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(c,f){return f?this.coordinatePoint(this.locationCoordinate(c),this.getElevation(c,f),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(c))}pointLocation(c,f){return this.coordinateLocation(this.pointCoordinate(c,f))}locationCoordinate(c){return s.MercatorCoordinate.fromLngLat(c)}coordinateLocation(c){return c&&c.toLngLat()}pointCoordinate(c,f){if(f){const We=f.pointCoordinate(c);if(We!=null)return We}const C=[c.x,c.y,0,1],P=[c.x,c.y,1,1];s.transformMat4(C,C,this.pixelMatrixInverse),s.transformMat4(P,P,this.pixelMatrixInverse);const j=C[3],te=P[3],de=C[1]/j,fe=P[1]/te,Ce=C[2]/j,Pe=P[2]/te,Fe=Ce===Pe?0:(0-Ce)/(Pe-Ce);return new s.MercatorCoordinate(s.number(C[0]/j,P[0]/te,Fe)/this.worldSize,s.number(de,fe,Fe)/this.worldSize)}coordinatePoint(c,f=0,C=this.pixelMatrix){const P=[c.x*this.worldSize,c.y*this.worldSize,f,1];return s.transformMat4(P,P,C),new s.pointGeometry(P[0]/P[3],P[1]/P[3])}getBounds(){const c=Math.max(0,this.height/2-this.getHorizon());return new s.LngLatBounds().extend(this.pointLocation(new s.pointGeometry(0,c))).extend(this.pointLocation(new s.pointGeometry(this.width,c))).extend(this.pointLocation(new s.pointGeometry(this.width,this.height))).extend(this.pointLocation(new s.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new s.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(c,f=!1){const C=c.key,P=f?this._alignedPosMatrixCache:this._posMatrixCache;if(P[C])return P[C];const j=c.canonical,te=this.worldSize/this.zoomScale(j.z),de=j.x+Math.pow(2,j.z)*c.wrap,fe=s.identity(new Float64Array(16));return s.translate(fe,fe,[de*te,j.y*te,0]),s.scale(fe,fe,[te/s.EXTENT,te/s.EXTENT,1]),s.multiply(fe,f?this.alignedProjMatrix:this.projMatrix,fe),P[C]=new Float32Array(fe),P[C]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let c,f,C,P,j=-90,te=90,de=-180,fe=180;const Ce=this.size,Pe=this._unmodified;if(this.latRange){const et=this.latRange;j=s.mercatorYfromLat(et[1])*this.worldSize,te=s.mercatorYfromLat(et[0])*this.worldSize,c=te-j<Ce.y?Ce.y/(te-j):0}if(this.lngRange){const et=this.lngRange;de=s.wrap(s.mercatorXfromLng(et[0])*this.worldSize,0,this.worldSize),fe=s.wrap(s.mercatorXfromLng(et[1])*this.worldSize,0,this.worldSize),fe<de&&(fe+=this.worldSize),f=fe-de<Ce.x?Ce.x/(fe-de):0}const Fe=this.point,We=Math.max(f||0,c||0);if(We)return this.center=this.unproject(new s.pointGeometry(f?(fe+de)/2:Fe.x,c?(te+j)/2:Fe.y)),this.zoom+=this.scaleZoom(We),this._unmodified=Pe,void(this._constraining=!1);if(this.latRange){const et=Fe.y,Qe=Ce.y/2;et-Qe<j&&(P=j+Qe),et+Qe>te&&(P=te-Qe)}if(this.lngRange){const et=(de+fe)/2,Qe=s.wrap(Fe.x,et-this.worldSize/2,et+this.worldSize/2),Je=Ce.x/2;Qe-Je<de&&(C=de+Je),Qe+Je>fe&&(C=fe-Je)}C===void 0&&P===void 0||(this.center=this.unproject(new s.pointGeometry(C!==void 0?C:Fe.x,P!==void 0?P:Fe.y)).wrap()),this._unmodified=Pe,this._constraining=!1}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,f=this.point.x,C=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=s.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let P=s.identity(new Float64Array(16));s.scale(P,P,[this.width/2,-this.height/2,1]),s.translate(P,P,[1,-1,0]),this.labelPlaneMatrix=P,P=s.identity(new Float64Array(16)),s.scale(P,P,[1,-1,1]),s.translate(P,P,[-1,-1,0]),s.scale(P,P,[2/this.width,2/this.height,1]),this.glCoordMatrix=P,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const j=Math.PI/2+this._pitch,te=this._fov*(.5+c.y/this.height),de=Math.sin(te)*this.cameraToSeaLevelDistance/Math.sin(s.clamp(Math.PI-j-te,.01,Math.PI-.01)),fe=this.getHorizon(),Ce=2*Math.atan(fe/this.cameraToCenterDistance)*(.5+c.y/(2*fe)),Pe=Math.sin(Ce)*this.cameraToSeaLevelDistance/Math.sin(s.clamp(Math.PI-j-Ce,.01,Math.PI-.01)),Fe=Math.cos(Math.PI/2-this._pitch)*de+this.cameraToSeaLevelDistance,We=Math.cos(Math.PI/2-this._pitch)*Pe+this.cameraToSeaLevelDistance,et=1.01*Math.min(Fe,We),Qe=this.height/50;P=new Float64Array(16),s.perspective(P,this._fov,this.width/this.height,Qe,et),P[8]=2*-c.x/this.width,P[9]=2*c.y/this.height,s.scale(P,P,[1,-1,1]),s.translate(P,P,[0,0,-this.cameraToCenterDistance]),s.rotateX(P,P,this._pitch),s.rotateZ(P,P,this.angle),s.translate(P,P,[-f,-C,0]),this.mercatorMatrix=s.scale([],P,[this.worldSize,this.worldSize,this.worldSize]),s.scale(P,P,[1,1,this._pixelPerMeter]),this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,P),s.translate(P,P,[0,0,-this.elevation]),this.projMatrix=P,this.invProjMatrix=s.invert([],P),this.pixelMatrix3D=s.multiply(new Float64Array(16),this.labelPlaneMatrix,P);const Je=this.width%2/2,pt=this.height%2/2,yt=Math.cos(this.angle),wt=Math.sin(this.angle),at=f-Math.round(f)+yt*Je+wt*pt,It=C-Math.round(C)+yt*pt+wt*Je,Et=new Float64Array(P);if(s.translate(Et,Et,[at>.5?at-1:at,It>.5?It-1:It,0]),this.alignedProjMatrix=Et,P=s.invert(new Float64Array(16),this.pixelMatrix),!P)throw new Error("failed to invert matrix");this.pixelMatrixInverse=P,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const c=this.pointCoordinate(new s.pointGeometry(0,0)),f=[c.x*this.worldSize,c.y*this.worldSize,0,1];return s.transformMat4(f,f,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.pointGeometry(0,c))}getCameraQueryGeometry(c){const f=this.getCameraPoint();if(c.length===1)return[c[0],f];{let C=f.x,P=f.y,j=f.x,te=f.y;for(const de of c)C=Math.min(C,de.x),P=Math.min(P,de.y),j=Math.max(j,de.x),te=Math.max(te,de.y);return[new s.pointGeometry(C,P),new s.pointGeometry(j,P),new s.pointGeometry(j,te),new s.pointGeometry(C,te),new s.pointGeometry(C,P)]}}}class qv{constructor(c){this._hashName=c&&encodeURIComponent(c),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(f,C){let P=!1,j=null;const te=()=>{j=null,P&&(f(),j=setTimeout(te,300),P=!1)};return()=>(P=!0,j||te(),j)}(this._updateHashUnthrottled.bind(this))}addTo(c){return this._map=c,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(c){const f=this._map.getCenter(),C=Math.round(100*this._map.getZoom())/100,P=Math.ceil((C*Math.LN2+Math.log(512/360/.5))/Math.LN10),j=Math.pow(10,P),te=Math.round(f.lng*j)/j,de=Math.round(f.lat*j)/j,fe=this._map.getBearing(),Ce=this._map.getPitch();let Pe="";if(Pe+=c?`/${te}/${de}/${C}`:`${C}/${de}/${te}`,(fe||Ce)&&(Pe+="/"+Math.round(10*fe)/10),Ce&&(Pe+=`/${Math.round(Ce)}`),this._hashName){const Fe=this._hashName;let We=!1;const et=window.location.hash.slice(1).split("&").map(Qe=>{const Je=Qe.split("=")[0];return Je===Fe?(We=!0,`${Je}=${Pe}`):Qe}).filter(Qe=>Qe);return We||et.push(`${Fe}=${Pe}`),`#${et.join("&")}`}return`#${Pe}`}_getCurrentHash(){const c=window.location.hash.replace("#","");if(this._hashName){let f;return c.split("&").map(C=>C.split("=")).forEach(C=>{C[0]===this._hashName&&(f=C)}),(f&&f[1]||"").split("/")}return c.split("/")}_onHashChange(){const c=this._getCurrentHash();if(c.length>=3&&!c.some(f=>isNaN(f))){const f=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:f,pitch:+(c[4]||0)}),!0}return!1}_updateHashUnthrottled(){const c=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,c)}catch{}}}const Eh={linearity:.3,easing:s.bezier(0,0,.3,1)},Hv=s.extend({deceleration:2500,maxSpeed:1400},Eh),Xv=s.extend({deceleration:20,maxSpeed:1400},Eh),yd=s.extend({deceleration:1e3,maxSpeed:360},Eh),Zv=s.extend({deceleration:1e3,maxSpeed:90},Eh);class Kv{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.exported.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,f=s.exported.now();for(;c.length>0&&f-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const f={zoom:0,bearing:0,pitch:0,pan:new s.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:j}of this._inertiaBuffer)f.zoom+=j.zoomDelta||0,f.bearing+=j.bearingDelta||0,f.pitch+=j.pitchDelta||0,j.panDelta&&f.pan._add(j.panDelta),j.around&&(f.around=j.around),j.pinchAround&&(f.pinchAround=j.pinchAround);const C=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,P={};if(f.pan.mag()){const j=Nh(f.pan.mag(),C,s.extend({},Hv,c||{}));P.offset=f.pan.mult(j.amount/f.pan.mag()),P.center=this._map.transform.center,kh(P,j)}if(f.zoom){const j=Nh(f.zoom,C,Xv);P.zoom=this._map.transform.zoom+j.amount,kh(P,j)}if(f.bearing){const j=Nh(f.bearing,C,yd);P.bearing=this._map.transform.bearing+s.clamp(j.amount,-179,179),kh(P,j)}if(f.pitch){const j=Nh(f.pitch,C,Zv);P.pitch=this._map.transform.pitch+j.amount,kh(P,j)}if(P.zoom||P.bearing){const j=f.pinchAround===void 0?f.around:f.pinchAround;P.around=j?this._map.unproject(j):this._map.getCenter()}return this.clear(),s.extend(P,{noMoveStart:!0})}}function kh(I,c){(!I.duration||I.duration<c.duration)&&(I.duration=c.duration,I.easing=c.easing)}function Nh(I,c,f){const{maxSpeed:C,linearity:P,deceleration:j}=f,te=s.clamp(I*P/(c/1e3),-C,C),de=Math.abs(te)/(j*P);return{easing:f.easing,duration:1e3*de,amount:te*(de/2)}}class po extends s.Event{constructor(c,f,C,P={}){const j=g.mousePos(f.getCanvasContainer(),C),te=f.unproject(j);super(c,s.extend({point:j,lngLat:te,originalEvent:C},P)),this._defaultPrevented=!1,this.target=f}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class os extends s.Event{constructor(c,f,C){const P=c==="touchend"?C.changedTouches:C.touches,j=g.touchPos(f.getCanvasContainer(),P),te=j.map(fe=>f.unproject(fe)),de=j.reduce((fe,Ce,Pe,Fe)=>fe.add(Ce.div(Fe.length)),new s.pointGeometry(0,0));super(c,{points:j,point:de,lngLats:te,lngLat:f.unproject(de),originalEvent:C}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class m_ extends s.Event{constructor(c,f,C){super(c,{originalEvent:C}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class Dc{constructor(c,f){this._map=c,this._clickTolerance=f.clickTolerance}reset(){delete this._mousedownPos}wheel(c){return this._firePreventable(new m_(c.type,this._map,c))}mousedown(c,f){return this._mousedownPos=f,this._firePreventable(new po(c.type,this._map,c))}mouseup(c){this._map.fire(new po(c.type,this._map,c))}click(c,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||this._map.fire(new po(c.type,this._map,c))}dblclick(c){return this._firePreventable(new po(c.type,this._map,c))}mouseover(c){this._map.fire(new po(c.type,this._map,c))}mouseout(c){this._map.fire(new po(c.type,this._map,c))}touchstart(c){return this._firePreventable(new os(c.type,this._map,c))}touchmove(c){this._map.fire(new os(c.type,this._map,c))}touchend(c){this._map.fire(new os(c.type,this._map,c))}touchcancel(c){this._map.fire(new os(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Qv{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(c){this._map.fire(new po(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new po("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._ignoreContextMenu||this._map.fire(new po(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class bu{constructor(c,f){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,f){this.isEnabled()&&c.shiftKey&&c.button===0&&(g.disableDrag(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(c,f){if(!this._active)return;const C=f;if(this._lastPos.equals(C)||!this._box&&C.dist(this._startPos)<this._clickTolerance)return;const P=this._startPos;this._lastPos=C,this._box||(this._box=g.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));const j=Math.min(P.x,C.x),te=Math.max(P.x,C.x),de=Math.min(P.y,C.y),fe=Math.max(P.y,C.y);g.setTransform(this._box,`translate(${j}px,${de}px)`),this._box.style.width=te-j+"px",this._box.style.height=fe-de+"px"}mouseupWindow(c,f){if(!this._active||c.button!==0)return;const C=this._startPos,P=f;if(this.reset(),g.suppressClick(),C.x!==P.x||C.y!==P.y)return this._map.fire(new s.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:j=>j.fitScreenCoordinates(C,P,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",c)}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(g.remove(this._box),this._box=null),g.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(c,f){return this._map.fire(new s.Event(c,{originalEvent:f}))}}function _u(I,c){if(I.length!==c.length)throw new Error(`The number of touches and points are not equal - touches ${I.length}, points ${c.length}`);const f={};for(let C=0;C<I.length;C++)f[I[C].identifier]=c[C];return f}class f_{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(c,f,C){(this.centroid||C.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),C.length===this.numTouches&&(this.centroid=function(P){const j=new s.pointGeometry(0,0);for(const te of P)j._add(te);return j.div(P.length)}(f),this.touches=_u(C,f)))}touchmove(c,f,C){if(this.aborted||!this.centroid)return;const P=_u(C,f);for(const j in this.touches){const te=this.touches[j],de=P[j];(!de||de.dist(te)>30)&&(this.aborted=!0)}}touchend(c,f,C){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),C.length===0){const P=!this.aborted&&this.centroid;if(this.reset(),P)return P}}}class Tg{constructor(c){this.singleTap=new f_(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(c,f,C){this.singleTap.touchstart(c,f,C)}touchmove(c,f,C){this.singleTap.touchmove(c,f,C)}touchend(c,f,C){const P=this.singleTap.touchend(c,f,C);if(P){const j=c.timeStamp-this.lastTime<500,te=!this.lastTap||this.lastTap.dist(P)<30;if(j&&te||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=P,this.count===this.numTaps)return this.reset(),P}}}class g_{constructor(){this._zoomIn=new Tg({numTouches:1,numTaps:2}),this._zoomOut=new Tg({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,f,C){this._zoomIn.touchstart(c,f,C),this._zoomOut.touchstart(c,f,C)}touchmove(c,f,C){this._zoomIn.touchmove(c,f,C),this._zoomOut.touchmove(c,f,C)}touchend(c,f,C){const P=this._zoomIn.touchend(c,f,C),j=this._zoomOut.touchend(c,f,C);return P?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:te=>te.easeTo({duration:300,zoom:te.getZoom()+1,around:te.unproject(P)},{originalEvent:c})}):j?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:te=>te.easeTo({duration:300,zoom:te.getZoom()-1,around:te.unproject(j)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Jv={0:1,2:2};class wu{constructor(c){this.reset(),this._clickTolerance=c.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(c,f){return!1}_move(c,f){return{}}mousedown(c,f){if(this._lastPoint)return;const C=g.mouseButton(c);this._correctButton(c,C)&&(this._lastPoint=f,this._eventButton=C)}mousemoveWindow(c,f){const C=this._lastPoint;if(C){if(c.preventDefault(),function(P,j){const te=Jv[j];return P.buttons===void 0||(P.buttons&te)!==te}(c,this._eventButton))this.reset();else if(this._moved||!(f.dist(C)<this._clickTolerance))return this._moved=!0,this._lastPoint=f,this._move(C,f)}}mouseupWindow(c){this._lastPoint&&g.mouseButton(c)===this._eventButton&&(this._moved&&g.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Mc extends wu{mousedown(c,f){super.mousedown(c,f),this._lastPoint&&(this._active=!0)}_correctButton(c,f){return f===0&&!c.ctrlKey}_move(c,f){return{around:f,panDelta:f.sub(c)}}}class bn extends wu{_correctButton(c,f){return f===0&&c.ctrlKey||f===2}_move(c,f){const C=.8*(f.x-c.x);if(C)return this._active=!0,{bearingDelta:C}}contextmenu(c){c.preventDefault()}}class Sg extends wu{_correctButton(c,f){return f===0&&c.ctrlKey||f===2}_move(c,f){const C=-.5*(f.y-c.y);if(C)return this._active=!0,{pitchDelta:C}}contextmenu(c){c.preventDefault()}}class Lh{constructor(c,f){this._minTouches=c.cooperativeGestures?2:1,this._clickTolerance=c.clickTolerance||1,this._map=f,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s.pointGeometry(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(c,f,C){return this._calculateTransform(c,f,C)}touchmove(c,f,C){if(this._map._cooperativeGestures&&(this._minTouches===2&&C.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(c,!1,C.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(C.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,f,C)}touchend(c,f,C){this._calculateTransform(c,f,C),this._active&&C.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,f,C){C.length>0&&(this._active=!0);const P=_u(C,f),j=new s.pointGeometry(0,0),te=new s.pointGeometry(0,0);let de=0;for(const Ce in P){const Pe=P[Ce],Fe=this._touches[Ce];Fe&&(j._add(Pe),te._add(Pe.sub(Fe)),de++,P[Ce]=Pe)}if(this._touches=P,de<this._minTouches||!te.mag())return;const fe=te.div(de);return this._sum._add(fe),this._sum.mag()<this._clickTolerance?void 0:{around:j.div(de),panDelta:fe}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Tu{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(c){}_move(c,f,C){return{}}touchstart(c,f,C){this._firstTwoTouches||C.length<2||(this._firstTwoTouches=[C[0].identifier,C[1].identifier],this._start([f[0],f[1]]))}touchmove(c,f,C){if(!this._firstTwoTouches)return;c.preventDefault();const[P,j]=this._firstTwoTouches,te=Ih(C,f,P),de=Ih(C,f,j);if(!te||!de)return;const fe=this._aroundCenter?null:te.add(de).div(2);return this._move([te,de],fe,c)}touchend(c,f,C){if(!this._firstTwoTouches)return;const[P,j]=this._firstTwoTouches,te=Ih(C,f,P),de=Ih(C,f,j);te&&de||(this._active&&g.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Ih(I,c,f){for(let C=0;C<I.length;C++)if(I[C].identifier===f)return c[C]}function on(I,c){return Math.log(I/c)/Math.LN2}class Cg extends Tu{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,f){const C=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(on(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:on(this._distance,C),pinchAround:f}}}function ex(I,c){return 180*I.angleWith(c)/Math.PI}class y_ extends Tu{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,f){const C=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ex(this._vector,C),pinchAround:f}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const f=25/(Math.PI*this._minDiameter)*360,C=ex(c,this._startVector);return Math.abs(C)<f}}function Ah(I){return Math.abs(I.y)>Math.abs(I.x)}class tx extends Tu{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(c,f,C){super.touchstart(c,f,C),this._currentTouchCount=C.length}_start(c){this._lastPoints=c,Ah(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,f,C){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const P=c[0].sub(this._lastPoints[0]),j=c[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(P,j,C.timeStamp),this._valid?(this._lastPoints=c,this._active=!0,{pitchDelta:(P.y+j.y)/2*-.5}):void 0}gestureBeginsVertically(c,f,C){if(this._valid!==void 0)return this._valid;const P=c.mag()>=2,j=f.mag()>=2;if(!P&&!j)return;if(!P||!j)return this._firstMove===void 0&&(this._firstMove=C),C-this._firstMove<100&&void 0;const te=c.y>0==f.y>0;return Ah(c)&&Ah(f)&&te}}const nx={panStep:100,bearingStep:15,pitchStep:10};class v_{constructor(){const c=nx;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let f=0,C=0,P=0,j=0,te=0;switch(c.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:c.shiftKey?C=-1:(c.preventDefault(),j=-1);break;case 39:c.shiftKey?C=1:(c.preventDefault(),j=1);break;case 38:c.shiftKey?P=1:(c.preventDefault(),te=-1);break;case 40:c.shiftKey?P=-1:(c.preventDefault(),te=1);break;default:return}return this._rotationDisabled&&(C=0,P=0),{cameraAnimation:de=>{const fe=de.getZoom();de.easeTo({duration:300,easeId:"keyboardHandler",easing:x_,zoom:f?Math.round(fe)+f*(c.shiftKey?2:1):fe,bearing:de.getBearing()+C*this._bearingStep,pitch:de.getPitch()+P*this._pitchStep,offset:[-j*this._panStep,-te*this._panStep],center:de.getCenter()},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function x_(I){return I*(2-I)}const pm=4.000244140625;class Eg{constructor(c,f){this._map=c,this._el=c.getCanvasContainer(),this._handler=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,s.bindAll(["_onTimeout"],this)}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=c&&c.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!this._map._metaPress)return;c.preventDefault()}let f=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const C=s.exported.now(),P=C-(this._lastWheelEventTime||0);this._lastWheelEventTime=C,f!==0&&f%pm==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":P>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(P*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),c.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=c,this._delta-=f,this._active||this._start(c)),c.preventDefault()}_onTimeout(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=g.mousePos(this._el,c);this._around=s.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(f)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._map.transform;if(this._delta!==0){const de=this._type==="wheel"&&Math.abs(this._delta)>pm?this._wheelZoomRate:this._defaultZoomRate;let fe=2/(1+Math.exp(-Math.abs(this._delta*de)));this._delta<0&&fe!==0&&(fe=1/fe);const Ce=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(Ce*fe))),this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const f=typeof this._targetZoom=="number"?this._targetZoom:c.zoom,C=this._startZoom,P=this._easing;let j,te=!1;if(this._type==="wheel"&&C&&P){const de=Math.min((s.exported.now()-this._lastWheelEventTime)/200,1),fe=P(de);j=s.number(C,f,fe),de<1?this._frameId||(this._frameId=!0):te=!0}else j=f,te=!0;return this._active=!0,te&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!te,zoomDelta:j-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let f=s.ease;if(this._prevEase){const C=this._prevEase,P=(s.exported.now()-C.start)/C.duration,j=C.easing(P+.01)-C.easing(P),te=.27/Math.sqrt(j*j+1e-4)*.01,de=Math.sqrt(.0729-te*te);f=s.bezier(te,de,.25,1)}return this._prevEase={start:s.exported.now(),duration:c,easing:f},f}reset(){this._active=!1}}class kg{constructor(c,f){this._clickZoom=c,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ng{constructor(){this.reset()}reset(){this._active=!1}dblclick(c,f){return c.preventDefault(),{cameraAnimation:C=>{C.easeTo({duration:300,zoom:C.getZoom()+(c.shiftKey?-1:1),around:C.unproject(f)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Hs{constructor(){this._tap=new Tg({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(c,f,C){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?C.length>0&&(this._swipePoint=f[0],this._swipeTouch=C[0].identifier):this._tap.touchstart(c,f,C))}touchmove(c,f,C){if(this._tapTime){if(this._swipePoint){if(C[0].identifier!==this._swipeTouch)return;const P=f[0],j=P.y-this._swipePoint.y;return this._swipePoint=P,c.preventDefault(),this._active=!0,{zoomDelta:j/128}}}else this._tap.touchmove(c,f,C)}touchend(c,f,C){this._tapTime?this._swipePoint&&C.length===0&&this.reset():this._tap.touchend(c,f,C)&&(this._tapTime=c.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Oc{constructor(c,f,C){this._el=c,this._mousePan=f,this._touchPan=C}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ix{constructor(c,f,C){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=f,this._mousePitch=C}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Lg{constructor(c,f,C,P){this._el=c,this._touchZoom=f,this._touchRotate=C,this._tapDragZoom=P,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const vd=I=>I.zoom||I.drag||I.pitch||I.rotate;class Ig extends s.Event{}function mm(I){return I.panDelta&&I.panDelta.mag()||I.zoomDelta||I.bearingDelta||I.pitchDelta}class zo{constructor(c,f){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Kv(c),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(f),s.bindAll(["handleEvent","handleWindowEvent"],this);const C=this._el;this._listeners=[[C,"touchstart",{passive:!0}],[C,"touchmove",{passive:!1}],[C,"touchend",void 0],[C,"touchcancel",void 0],[C,"mousedown",void 0],[C,"mousemove",void 0],[C,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[C,"mouseover",void 0],[C,"mouseout",void 0],[C,"dblclick",void 0],[C,"click",void 0],[C,"keydown",{capture:!1}],[C,"keyup",void 0],[C,"wheel",{passive:!1}],[C,"contextmenu",void 0],[window,"blur",void 0]];for(const[P,j,te]of this._listeners)g.addEventListener(P,j,P===document?this.handleWindowEvent:this.handleEvent,te)}destroy(){for(const[c,f,C]of this._listeners)g.removeEventListener(c,f,c===document?this.handleWindowEvent:this.handleEvent,C)}_addDefaultHandlers(c){const f=this._map,C=f.getCanvasContainer();this._add("mapEvent",new Dc(f,c));const P=f.boxZoom=new bu(f,c);this._add("boxZoom",P);const j=new g_,te=new Ng;f.doubleClickZoom=new kg(te,j),this._add("tapZoom",j),this._add("clickZoom",te);const de=new Hs;this._add("tapDragZoom",de);const fe=f.touchPitch=new tx(f);this._add("touchPitch",fe);const Ce=new bn(c),Pe=new Sg(c);f.dragRotate=new ix(c,Ce,Pe),this._add("mouseRotate",Ce,["mousePitch"]),this._add("mousePitch",Pe,["mouseRotate"]);const Fe=new Mc(c),We=new Lh(c,f);f.dragPan=new Oc(C,Fe,We),this._add("mousePan",Fe),this._add("touchPan",We,["touchZoom","touchRotate"]);const et=new y_,Qe=new Cg;f.touchZoomRotate=new Lg(C,Qe,et,de),this._add("touchRotate",et,["touchPan","touchZoom"]),this._add("touchZoom",Qe,["touchPan","touchRotate"]);const Je=f.scrollZoom=new Eg(f,this);this._add("scrollZoom",Je,["mousePan"]);const pt=f.keyboard=new v_;this._add("keyboard",pt),this._add("blockableMapEvent",new Qv(f));for(const yt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])c.interactive&&c[yt]&&f[yt].enable(c[yt])}_add(c,f,C){this._handlers.push({handlerName:c,handler:f,allowed:C}),this._handlersById[c]=f}stop(c){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!vd(this._eventsInProgress)||this.isZooming()}_blockedByActive(c,f,C){for(const P in c)if(P!==C&&(!f||f.indexOf(P)<0))return!0;return!1}handleWindowEvent(c){this.handleEvent(c,`${c.type}Window`)}_getMapTouches(c){const f=[];for(const C of c)this._el.contains(C.target)&&f.push(C);return f}handleEvent(c,f){if(c.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const C=c.type==="renderFrame"?void 0:c,P={needsRenderFrame:!1},j={},te={},de=c.touches,fe=de?this._getMapTouches(de):void 0,Ce=fe?g.touchPos(this._el,fe):g.mousePos(this._el,c);for(const{handlerName:We,handler:et,allowed:Qe}of this._handlers){if(!et.isEnabled())continue;let Je;this._blockedByActive(te,Qe,We)?et.reset():et[f||c.type]&&(Je=et[f||c.type](c,Ce,fe),this.mergeHandlerResult(P,j,Je,We,C),Je&&Je.needsRenderFrame&&this._triggerRenderFrame()),(Je||et.isActive())&&(te[We]=et)}const Pe={};for(const We in this._previousActiveHandlers)te[We]||(Pe[We]=C);this._previousActiveHandlers=te,(Object.keys(Pe).length||mm(P))&&(this._changes.push([P,j,Pe]),this._triggerRenderFrame()),(Object.keys(te).length||mm(P))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Fe}=P;Fe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Fe(this._map))}mergeHandlerResult(c,f,C,P,j){if(!C)return;s.extend(c,C);const te={handlerName:P,originalEvent:C.originalEvent||j};C.zoomDelta!==void 0&&(f.zoom=te),C.panDelta!==void 0&&(f.drag=te),C.pitchDelta!==void 0&&(f.pitch=te),C.bearingDelta!==void 0&&(f.rotate=te)}_applyChanges(){const c={},f={},C={};for(const[P,j,te]of this._changes)P.panDelta&&(c.panDelta=(c.panDelta||new s.pointGeometry(0,0))._add(P.panDelta)),P.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+P.zoomDelta),P.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+P.bearingDelta),P.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+P.pitchDelta),P.around!==void 0&&(c.around=P.around),P.pinchAround!==void 0&&(c.pinchAround=P.pinchAround),P.noInertia&&(c.noInertia=P.noInertia),s.extend(f,j),s.extend(C,te);this._updateMapTransform(c,f,C),this._changes=[]}_updateMapTransform(c,f,C){const P=this._map,j=P.transform,te=P.style&&P.style.terrain;if(!(mm(c)||te&&this._drag))return this._fireEvents(f,C,!0);let{panDelta:de,zoomDelta:fe,bearingDelta:Ce,pitchDelta:Pe,around:Fe,pinchAround:We}=c;We!==void 0&&(Fe=We),P._stop(!0),Fe=Fe||P.transform.centerPoint;const et=j.pointLocation(de?Fe.sub(de):Fe);Ce&&(j.bearing+=Ce),Pe&&(j.pitch+=Pe),fe&&(j.zoom+=fe),te?f.drag&&!this._drag?(this._drag={center:j.centerPoint,lngLat:j.pointLocation(Fe),point:Fe,handlerName:f.drag.handlerName},P.fire(new s.Event("freezeElevation",{freeze:!0}))):this._drag&&C[this._drag.handlerName]?(P.fire(new s.Event("freezeElevation",{freeze:!1})),this._drag=null):f.drag&&this._drag&&(j.center=j.pointLocation(j.centerPoint.sub(de))):j.setLocationAtPoint(et,Fe),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(f,C,!0)}_fireEvents(c,f,C){const P=vd(this._eventsInProgress),j=vd(c),te={};for(const Pe in c){const{originalEvent:Fe}=c[Pe];this._eventsInProgress[Pe]||(te[`${Pe}start`]=Fe),this._eventsInProgress[Pe]=c[Pe]}!P&&j&&this._fireEvent("movestart",j.originalEvent);for(const Pe in te)this._fireEvent(Pe,te[Pe]);j&&this._fireEvent("move",j.originalEvent);for(const Pe in c){const{originalEvent:Fe}=c[Pe];this._fireEvent(Pe,Fe)}const de={};let fe;for(const Pe in this._eventsInProgress){const{handlerName:Fe,originalEvent:We}=this._eventsInProgress[Pe];this._handlersById[Fe].isActive()||(delete this._eventsInProgress[Pe],fe=f[Fe]||We,de[`${Pe}end`]=fe)}for(const Pe in de)this._fireEvent(Pe,de[Pe]);const Ce=vd(this._eventsInProgress);if(C&&(P||j)&&!Ce){this._updatingCamera=!0;const Pe=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Fe=We=>We!==0&&-this._bearingSnap<We&&We<this._bearingSnap;Pe?(Fe(Pe.bearing||this._map.getBearing())&&(Pe.bearing=0),this._map.easeTo(Pe,{originalEvent:fe})):(this._map.fire(new s.Event("moveend",{originalEvent:fe})),Fe(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,f){this._map.fire(new s.Event(c,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{delete this._frameId,this.handleEvent(new Ig("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const xr={extend:(I,...c)=>s.extend(I,...c),run(I){I()},logToElement(I,c=!1,f="log"){const C=window.document.getElementById(f);C&&(c&&(C.innerHTML=""),C.innerHTML+=`<br>${I}`)}};class fm extends s.Evented{constructor(c,f){super(),this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=f.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}getCenter(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,f){return this.jumpTo({center:c},f)}panBy(c,f,C){return c=s.pointGeometry.convert(c).mult(-1),this.panTo(this.transform.center,s.extend({offset:c},f),C)}panTo(c,f,C){return this.easeTo(s.extend({center:c},f),C)}getZoom(){return this.transform.zoom}setZoom(c,f){return this.jumpTo({zoom:c},f),this}zoomTo(c,f,C){return this.easeTo(s.extend({zoom:c},f),C)}zoomIn(c,f){return this.zoomTo(this.getZoom()+1,c,f),this}zoomOut(c,f){return this.zoomTo(this.getZoom()-1,c,f),this}getBearing(){return this.transform.bearing}setBearing(c,f){return this.jumpTo({bearing:c},f),this}getPadding(){return this.transform.padding}setPadding(c,f){return this.jumpTo({padding:c},f),this}rotateTo(c,f,C){return this.easeTo(s.extend({bearing:c},f),C)}resetNorth(c,f){return this.rotateTo(0,s.extend({duration:1e3},c),f),this}resetNorthPitch(c,f){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},c),f),this}snapToNorth(c,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,f):this}getPitch(){return this.transform.pitch}setPitch(c,f){return this.jumpTo({pitch:c},f),this}cameraForBounds(c,f){c=s.LngLatBounds.convert(c);const C=f&&f.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),C,f)}_cameraForBoxAndBearing(c,f,C,P){const j={top:0,bottom:0,right:0,left:0};if(typeof(P=s.extend({padding:j,offset:[0,0],maxZoom:this.transform.maxZoom},P)).padding=="number"){const Et=P.padding;P.padding={top:Et,bottom:Et,right:Et,left:Et}}P.padding=s.extend(j,P.padding);const te=this.transform,de=te.padding,fe=te.project(s.LngLat.convert(c)),Ce=te.project(s.LngLat.convert(f)),Pe=fe.rotate(-C*Math.PI/180),Fe=Ce.rotate(-C*Math.PI/180),We=new s.pointGeometry(Math.max(Pe.x,Fe.x),Math.max(Pe.y,Fe.y)),et=new s.pointGeometry(Math.min(Pe.x,Fe.x),Math.min(Pe.y,Fe.y)),Qe=We.sub(et),Je=(te.width-(de.left+de.right+P.padding.left+P.padding.right))/Qe.x,pt=(te.height-(de.top+de.bottom+P.padding.top+P.padding.bottom))/Qe.y;if(pt<0||Je<0)return void s.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const yt=Math.min(te.scaleZoom(te.scale*Math.min(Je,pt)),P.maxZoom),wt=s.pointGeometry.convert(P.offset),at=new s.pointGeometry((P.padding.left-P.padding.right)/2,(P.padding.top-P.padding.bottom)/2).rotate(C*Math.PI/180),It=wt.add(at).mult(te.scale/te.zoomScale(yt));return{center:te.unproject(fe.add(Ce).div(2).sub(It)),zoom:yt,bearing:C}}fitBounds(c,f,C){return this._fitInternal(this.cameraForBounds(c,f),f,C)}fitScreenCoordinates(c,f,C,P,j){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.pointGeometry.convert(c)),this.transform.pointLocation(s.pointGeometry.convert(f)),C,P),P,j)}_fitInternal(c,f,C){return c?(delete(f=s.extend(c,f)).padding,f.linear?this.easeTo(f,C):this.flyTo(f,C)):this}jumpTo(c,f){this.stop();const C=this.transform;let P=!1,j=!1,te=!1;return"zoom"in c&&C.zoom!==+c.zoom&&(P=!0,C.zoom=+c.zoom),c.center!==void 0&&(C.center=s.LngLat.convert(c.center)),"bearing"in c&&C.bearing!==+c.bearing&&(j=!0,C.bearing=+c.bearing),"pitch"in c&&C.pitch!==+c.pitch&&(te=!0,C.pitch=+c.pitch),c.padding==null||C.isPaddingEqual(c.padding)||(C.padding=c.padding),this.fire(new s.Event("movestart",f)).fire(new s.Event("move",f)),P&&this.fire(new s.Event("zoomstart",f)).fire(new s.Event("zoom",f)).fire(new s.Event("zoomend",f)),j&&this.fire(new s.Event("rotatestart",f)).fire(new s.Event("rotate",f)).fire(new s.Event("rotateend",f)),te&&this.fire(new s.Event("pitchstart",f)).fire(new s.Event("pitch",f)).fire(new s.Event("pitchend",f)),this.fire(new s.Event("moveend",f))}calculateCameraOptionsFromTo(c,f,C,P=0){const j=s.MercatorCoordinate.fromLngLat(c,f),te=s.MercatorCoordinate.fromLngLat(C,P),de=te.x-j.x,fe=te.y-j.y,Ce=te.z-j.z,Pe=Math.hypot(de,fe,Ce);if(Pe===0)throw new Error("Can't calculate camera options with same From and To");const Fe=Math.hypot(de,fe),We=this.transform.scaleZoom(this.transform.cameraToCenterDistance/Pe/this.transform.tileSize),et=180*Math.atan2(de,-fe)/Math.PI;let Qe=180*Math.acos(Fe/Pe)/Math.PI;return Qe=Ce<0?90-Qe:90+Qe,{center:te.toLngLat(),zoom:We,pitch:Qe,bearing:et}}easeTo(c,f){this._stop(!1,c.easeId),((c=s.extend({offset:[0,0],duration:500,easing:s.ease},c)).animate===!1||!c.essential&&s.exported.prefersReducedMotion)&&(c.duration=0);const C=this.transform,P=this.getZoom(),j=this.getBearing(),te=this.getPitch(),de=this.getPadding(),fe="zoom"in c?+c.zoom:P,Ce="bearing"in c?this._normalizeBearing(c.bearing,j):j,Pe="pitch"in c?+c.pitch:te,Fe="padding"in c?c.padding:C.padding,We=s.pointGeometry.convert(c.offset);let et=C.centerPoint.add(We);const Qe=C.pointLocation(et),Je=s.LngLat.convert(c.center||Qe);this._normalizeCenter(Je);const pt=C.project(Qe),yt=C.project(Je).sub(pt),wt=C.zoomScale(fe-P);let at,It;c.around&&(at=s.LngLat.convert(c.around),It=C.locationPoint(at));const Et={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||fe!==P,this._rotating=this._rotating||j!==Ce,this._pitching=this._pitching||Pe!==te,this._padding=!C.isPaddingEqual(Fe),this._easeId=c.easeId,this._prepareEase(f,c.noMoveStart,Et),this._ease(Bt=>{if(this._zooming&&(C.zoom=s.number(P,fe,Bt)),this._rotating&&(C.bearing=s.number(j,Ce,Bt)),this._pitching&&(C.pitch=s.number(te,Pe,Bt)),this._padding&&(C.interpolatePadding(de,Fe,Bt),et=C.centerPoint.add(We)),at)C.setLocationAtPoint(at,It);else{const Ut=C.zoomScale(C.zoom-P),Wt=fe>P?Math.min(2,wt):Math.max(.5,wt),zt=Math.pow(Wt,1-Bt),hn=C.unproject(pt.add(yt.mult(Bt*zt)).mult(Ut));C.setLocationAtPoint(C.renderWorldCopies?hn.wrap():hn,et)}this._fireMoveEvents(f)},Bt=>{this._afterEase(f,Bt)},c),this}_prepareEase(c,f,C={}){this._moving=!0,this.fire(new s.Event("freezeElevation",{freeze:!0})),f||C.moving||this.fire(new s.Event("movestart",c)),this._zooming&&!C.zooming&&this.fire(new s.Event("zoomstart",c)),this._rotating&&!C.rotating&&this.fire(new s.Event("rotatestart",c)),this._pitching&&!C.pitching&&this.fire(new s.Event("pitchstart",c))}_fireMoveEvents(c){this.fire(new s.Event("move",c)),this._zooming&&this.fire(new s.Event("zoom",c)),this._rotating&&this.fire(new s.Event("rotate",c)),this._pitching&&this.fire(new s.Event("pitch",c))}_afterEase(c,f){if(this._easeId&&f&&this._easeId===f)return;delete this._easeId,this.fire(new s.Event("freezeElevation",{freeze:!1}));const C=this._zooming,P=this._rotating,j=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,C&&this.fire(new s.Event("zoomend",c)),P&&this.fire(new s.Event("rotateend",c)),j&&this.fire(new s.Event("pitchend",c)),this.fire(new s.Event("moveend",c))}flyTo(c,f){if(!c.essential&&s.exported.prefersReducedMotion){const Rn=s.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Rn,f)}this.stop(),c=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},c);const C=this.transform,P=this.getZoom(),j=this.getBearing(),te=this.getPitch(),de=this.getPadding(),fe="zoom"in c?s.clamp(+c.zoom,C.minZoom,C.maxZoom):P,Ce="bearing"in c?this._normalizeBearing(c.bearing,j):j,Pe="pitch"in c?+c.pitch:te,Fe="padding"in c?c.padding:C.padding,We=C.zoomScale(fe-P),et=s.pointGeometry.convert(c.offset);let Qe=C.centerPoint.add(et);const Je=C.pointLocation(Qe),pt=s.LngLat.convert(c.center||Je);this._normalizeCenter(pt);const yt=C.project(Je),wt=C.project(pt).sub(yt);let at=c.curve;const It=Math.max(C.width,C.height),Et=It/We,Bt=wt.mag();if("minZoom"in c){const Rn=s.clamp(Math.min(c.minZoom,P,fe),C.minZoom,C.maxZoom),Zi=It/C.zoomScale(Rn-P);at=Math.sqrt(Zi/Bt*2)}const Ut=at*at;function Wt(Rn){const Zi=(Et*Et-It*It+(Rn?-1:1)*Ut*Ut*Bt*Bt)/(2*(Rn?Et:It)*Ut*Bt);return Math.log(Math.sqrt(Zi*Zi+1)-Zi)}function zt(Rn){return(Math.exp(Rn)-Math.exp(-Rn))/2}function hn(Rn){return(Math.exp(Rn)+Math.exp(-Rn))/2}const tn=Wt(0);let mn=function(Rn){return hn(tn)/hn(tn+at*Rn)},ri=function(Rn){return It*((hn(tn)*(zt(Zi=tn+at*Rn)/hn(Zi))-zt(tn))/Ut)/Bt;var Zi},pi=(Wt(1)-tn)/at;if(Math.abs(Bt)<1e-6||!isFinite(pi)){if(Math.abs(It-Et)<1e-6)return this.easeTo(c,f);const Rn=Et<It?-1:1;pi=Math.abs(Math.log(Et/It))/at,ri=function(){return 0},mn=function(Zi){return Math.exp(Rn*at*Zi)}}return c.duration="duration"in c?+c.duration:1e3*pi/("screenSpeed"in c?+c.screenSpeed/at:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=j!==Ce,this._pitching=Pe!==te,this._padding=!C.isPaddingEqual(Fe),this._prepareEase(f,!1),this._ease(Rn=>{const Zi=Rn*pi,Ki=1/mn(Zi);C.zoom=Rn===1?fe:P+C.scaleZoom(Ki),this._rotating&&(C.bearing=s.number(j,Ce,Rn)),this._pitching&&(C.pitch=s.number(te,Pe,Rn)),this._padding&&(C.interpolatePadding(de,Fe,Rn),Qe=C.centerPoint.add(et));const ki=Rn===1?pt:C.unproject(yt.add(wt.mult(ri(Zi))).mult(Ki));C.setLocationAtPoint(C.renderWorldCopies?ki.wrap():ki,Qe),this._fireMoveEvents(f)},()=>this._afterEase(f),c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,f){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const C=this._onEaseEnd;delete this._onEaseEnd,C.call(this,f)}if(!c){const C=this.handlers;C&&C.stop(!1)}return this}_ease(c,f,C){C.animate===!1||C.duration===0?(c(1),f()):(this._easeStart=s.exported.now(),this._easeOptions=C,this._onEaseFrame=c,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const c=Math.min((s.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(c)),c<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(c,f){c=s.wrap(c,-180,180);const C=Math.abs(c-f);return Math.abs(c-360-f)<C&&(c-=360),Math.abs(c+360-f)<C&&(c+=360),c}_normalizeCenter(c){const f=this.transform;if(!f.renderWorldCopies||f.lngRange)return;const C=c.lng-f.center.lng;c.lng+=C>180?-360:C<-180?360:0}}class gm{constructor(c={}){this.options=c,s.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(c){return this._map=c,this._compact=this.options&&this.options.compact,this._container=g.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=g.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=g.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){g.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(c,f){const C=this._map._getUIString(`AttributionControl.${f}`);c.title=C,c.setAttribute("aria-label",C)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"&&c.type!=="terrain"||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(P=>typeof P!="string"?"":P)):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){const P=this._map.style.stylesheet;this.styleOwner=P.owner,this.styleId=P.id}const f=this._map.style.sourceCaches;for(const P in f){const j=f[P];if(j.used||j.usedForTerrain){const te=j.getSource();te.attribution&&c.indexOf(te.attribution)<0&&c.push(te.attribution)}}c=c.filter(P=>String(P).trim()),c.sort((P,j)=>P.length-j.length),c=c.filter((P,j)=>{for(let te=j+1;te<c.length;te++)if(c[te].indexOf(P)>=0)return!1;return!0});const C=c.join(" | ");C!==this._attribHTML&&(this._attribHTML=C,c.length?(this._innerContainer.innerHTML=C,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class Ag{constructor(c={}){this.options=c,s.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(c){this._map=c,this._compact=this.options&&this.options.compact,this._container=g.create("div","maplibregl-ctrl mapboxgl-ctrl");const f=g.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://maplibre.org/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){g.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const c=this._container.children;if(c.length){const f=c[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&f.classList.add("maplibregl-compact","mapboxgl-compact"):f.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class rx{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const f=++this._id;return this._queue.push({callback:c,id:f,cancelled:!1}),f}remove(c){const f=this._currentlyRunning,C=f?this._queue.concat(f):this._queue;for(const P of C)if(P.id===c)return void(P.cancelled=!0)}run(c=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const f=this._currentlyRunning=this._queue;this._queue=[];for(const C of f)if(!C.cancelled&&(C.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const ax={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"},b_={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Il={showCompass:!0,showZoom:!0,visualizePitch:!1};class ym{constructor(c,f,C=!1){this._clickTolerance=10,this.element=f,this.mouseRotate=new bn({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,C&&(this.mousePitch=new Sg({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),g.addEventListener(f,"mousedown",this.mousedown),g.addEventListener(f,"touchstart",this.touchstart,{passive:!1}),g.addEventListener(f,"touchmove",this.touchmove),g.addEventListener(f,"touchend",this.touchend),g.addEventListener(f,"touchcancel",this.reset)}down(c,f){this.mouseRotate.mousedown(c,f),this.mousePitch&&this.mousePitch.mousedown(c,f),g.disableDrag()}move(c,f){const C=this.map,P=this.mouseRotate.mousemoveWindow(c,f);if(P&&P.bearingDelta&&C.setBearing(C.getBearing()+P.bearingDelta),this.mousePitch){const j=this.mousePitch.mousemoveWindow(c,f);j&&j.pitchDelta&&C.setPitch(C.getPitch()+j.pitchDelta)}}off(){const c=this.element;g.removeEventListener(c,"mousedown",this.mousedown),g.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),g.removeEventListener(c,"touchmove",this.touchmove),g.removeEventListener(c,"touchend",this.touchend),g.removeEventListener(c,"touchcancel",this.reset),this.offTemp()}offTemp(){g.enableDrag(),g.removeEventListener(window,"mousemove",this.mousemove),g.removeEventListener(window,"mouseup",this.mouseup)}mousedown(c){this.down(s.extend({},c,{ctrlKey:!0,preventDefault:()=>c.preventDefault()}),g.mousePos(this.element,c)),g.addEventListener(window,"mousemove",this.mousemove),g.addEventListener(window,"mouseup",this.mouseup)}mousemove(c){this.move(c,g.mousePos(this.element,c))}mouseup(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()}touchstart(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=g.touchPos(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>c.preventDefault()},this._startPos))}touchmove(c){c.targetTouches.length!==1?this.reset():(this._lastPos=g.touchPos(this.element,c.targetTouches)[0],this.move({preventDefault:()=>c.preventDefault()},this._lastPos))}touchend(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function Ln(I,c,f){if(I=new s.LngLat(I.lng,I.lat),c){const C=new s.LngLat(I.lng-360,I.lat),P=new s.LngLat(I.lng+360,I.lat),j=f.locationPoint(I).distSqr(c);f.locationPoint(C).distSqr(c)<j?I=C:f.locationPoint(P).distSqr(c)<j&&(I=P)}for(;Math.abs(I.lng-f.center.lng)>180;){const C=f.locationPoint(I);if(C.x>=0&&C.y>=0&&C.x<=f.width&&C.y<=f.height)break;I.lng>f.center.lng?I.lng-=360:I.lng+=360}return I}const $n={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ph(I,c,f){const C=I.classList;for(const P in $n)C.remove(`maplibregl-${f}-anchor-${P}`,`mapboxgl-${f}-anchor-${P}`);C.add(`maplibregl-${f}-anchor-${c}`,`mapboxgl-${f}-anchor-${c}`)}class Dh extends s.Evented{constructor(c,f){if(super(),(c instanceof HTMLElement||f)&&(c=s.extend({element:c},f)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,c&&c.element)this._element=c.element,this._offset=s.pointGeometry.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=g.create("div"),this._element.setAttribute("aria-label","Map marker");const C=g.createNS("http://www.w3.org/2000/svg","svg"),P=41,j=27;C.setAttributeNS(null,"display","block"),C.setAttributeNS(null,"height",`${P}px`),C.setAttributeNS(null,"width",`${j}px`),C.setAttributeNS(null,"viewBox",`0 0 ${j} ${P}`);const te=g.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"stroke","none"),te.setAttributeNS(null,"stroke-width","1"),te.setAttributeNS(null,"fill","none"),te.setAttributeNS(null,"fill-rule","evenodd");const de=g.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"fill-rule","nonzero");const fe=g.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"transform","translate(3.0, 29.0)"),fe.setAttributeNS(null,"fill","#000000");const Ce=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const wt of Ce){const at=g.createNS("http://www.w3.org/2000/svg","ellipse");at.setAttributeNS(null,"opacity","0.04"),at.setAttributeNS(null,"cx","10.5"),at.setAttributeNS(null,"cy","5.80029008"),at.setAttributeNS(null,"rx",wt.rx),at.setAttributeNS(null,"ry",wt.ry),fe.appendChild(at)}const Pe=g.createNS("http://www.w3.org/2000/svg","g");Pe.setAttributeNS(null,"fill",this._color);const Fe=g.createNS("http://www.w3.org/2000/svg","path");Fe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Pe.appendChild(Fe);const We=g.createNS("http://www.w3.org/2000/svg","g");We.setAttributeNS(null,"opacity","0.25"),We.setAttributeNS(null,"fill","#000000");const et=g.createNS("http://www.w3.org/2000/svg","path");et.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),We.appendChild(et);const Qe=g.createNS("http://www.w3.org/2000/svg","g");Qe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Qe.setAttributeNS(null,"fill","#FFFFFF");const Je=g.createNS("http://www.w3.org/2000/svg","g");Je.setAttributeNS(null,"transform","translate(8.0, 8.0)");const pt=g.createNS("http://www.w3.org/2000/svg","circle");pt.setAttributeNS(null,"fill","#000000"),pt.setAttributeNS(null,"opacity","0.25"),pt.setAttributeNS(null,"cx","5.5"),pt.setAttributeNS(null,"cy","5.5"),pt.setAttributeNS(null,"r","5.4999962");const yt=g.createNS("http://www.w3.org/2000/svg","circle");yt.setAttributeNS(null,"fill","#FFFFFF"),yt.setAttributeNS(null,"cx","5.5"),yt.setAttributeNS(null,"cy","5.5"),yt.setAttributeNS(null,"r","5.4999962"),Je.appendChild(pt),Je.appendChild(yt),de.appendChild(fe),de.appendChild(Pe),de.appendChild(We),de.appendChild(Qe),de.appendChild(Je),C.appendChild(de),C.setAttributeNS(null,"height",P*this._scale+"px"),C.setAttributeNS(null,"width",j*this._scale+"px"),this._element.appendChild(C),this._offset=s.pointGeometry.convert(c&&c.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",C=>{C.preventDefault()}),this._element.addEventListener("mousedown",C=>{C.preventDefault()}),Ph(this._element,this._anchor,"marker"),this._popup=null}addTo(c){return this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),g.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=s.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const P=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[P,-1*(38.1-13.5+P)],"bottom-right":[-P,-1*(38.1-13.5+P)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(c){const f=c.code,C=c.charCode||c.keyCode;f!=="Space"&&f!=="Enter"&&C!==32&&C!==13||this.togglePopup()}_onMapClick(c){const f=c.originalEvent.target,C=this._element;this._popup&&(f===C||C.contains(f))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?c.remove():c.addTo(this._map),this):this}_update(c){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=Ln(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let f="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?f=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(f=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let C="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?C="rotateX(0deg)":this._pitchAlignment==="map"&&(C=`rotateX(${this._map.getPitch()}deg)`),c&&c.type!=="moveend"||(this._pos=this._pos.round()),g.setTransform(this._element,`${$n[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${C} ${f}`),this._map.style&&this._map.style.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const P=this._map.unproject(this._pos),j=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=P.distanceTo(this._lngLat)>20*j?"0.2":"1.0",this._opacityTimeout=null},100))}getOffset(){return this._offset}setOffset(c){return this._offset=s.pointGeometry.convert(c),this._update(),this}_onMove(c){if(!this._isDragging){const f=this._clickTolerance||this._map._clickTolerance;this._isDragging=c.point.dist(this._pointerdownPos)>=f}this._isDragging&&(this._pos=c.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"}_addDragHandler(c){this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(this._pos).add(this._offset),this._pointerdownPos=c.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Pg={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let ba,Su=0,Xs=!1;const __={maxWidth:100,unit:"metric"};function Mh(I,c,f){const C=f&&f.maxWidth||100,P=I._container.clientHeight/2,j=I.unproject([0,P]),te=I.unproject([C,P]),de=j.distanceTo(te);if(f&&f.unit==="imperial"){const fe=3.2808*de;fe>5280?mr(c,C,fe/5280,I._getUIString("ScaleControl.Miles")):mr(c,C,fe,I._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?mr(c,C,de/1852,I._getUIString("ScaleControl.NauticalMiles")):de>=1e3?mr(c,C,de/1e3,I._getUIString("ScaleControl.Kilometers")):mr(c,C,de,I._getUIString("ScaleControl.Meters"))}function mr(I,c,f,C){const P=function(j){const te=Math.pow(10,`${Math.floor(j)}`.length-1);let de=j/te;return de=de>=10?10:de>=5?5:de>=3?3:de>=2?2:de>=1?1:function(fe){const Ce=Math.pow(10,Math.ceil(-Math.log(fe)/Math.LN10));return Math.round(fe*Ce)/Ce}(de),te*de}(f);I.style.width=c*(P/f)+"px",I.innerHTML=`${P}&nbsp;${C}`}const pa={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},sx=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function xd(I){if(I){if(typeof I=="number"){const c=Math.round(Math.sqrt(.5*Math.pow(I,2)));return{center:new s.pointGeometry(0,0),top:new s.pointGeometry(0,I),"top-left":new s.pointGeometry(c,c),"top-right":new s.pointGeometry(-c,c),bottom:new s.pointGeometry(0,-I),"bottom-left":new s.pointGeometry(c,-c),"bottom-right":new s.pointGeometry(-c,-c),left:new s.pointGeometry(I,0),right:new s.pointGeometry(-I,0)}}if(I instanceof s.pointGeometry||Array.isArray(I)){const c=s.pointGeometry.convert(I);return{center:c,top:c,"top-left":c,"top-right":c,bottom:c,"bottom-left":c,"bottom-right":c,left:c,right:c}}return{center:s.pointGeometry.convert(I.center||[0,0]),top:s.pointGeometry.convert(I.top||[0,0]),"top-left":s.pointGeometry.convert(I["top-left"]||[0,0]),"top-right":s.pointGeometry.convert(I["top-right"]||[0,0]),bottom:s.pointGeometry.convert(I.bottom||[0,0]),"bottom-left":s.pointGeometry.convert(I["bottom-left"]||[0,0]),"bottom-right":s.pointGeometry.convert(I["bottom-right"]||[0,0]),left:s.pointGeometry.convert(I.left||[0,0]),right:s.pointGeometry.convert(I.right||[0,0])}}return xd(new s.pointGeometry(0,0))}const Oh={supported:d,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:class extends fm{constructor(I){var c;if(s.PerformanceUtils.mark(s.PerformanceMarkers.create),(I=s.extend({},b_,I)).minZoom!=null&&I.maxZoom!=null&&I.minZoom>I.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(I.minPitch!=null&&I.maxPitch!=null&&I.minPitch>I.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(I.minPitch!=null&&I.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(I.maxPitch!=null&&I.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new hm(I.minZoom,I.maxZoom,I.minPitch,I.maxPitch,I.renderWorldCopies),{bearingSnap:I.bearingSnap}),this._interactive=I.interactive,this._cooperativeGestures=I.cooperativeGestures,this._maxTileCacheSize=I.maxTileCacheSize,this._failIfMajorPerformanceCaveat=I.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=I.preserveDrawingBuffer,this._antialias=I.antialias,this._trackResize=I.trackResize,this._bearingSnap=I.bearingSnap,this._refreshExpiredTiles=I.refreshExpiredTiles,this._fadeDuration=I.fadeDuration,this._crossSourceCollisions=I.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=I.collectResourceTiming,this._renderTaskQueue=new rx,this._controls=[],this._mapId=s.uniqueId(),this._locale=s.extend({},ax,I.locale),this._clickTolerance=I.clickTolerance,this._pixelRatio=(c=I.pixelRatio)!==null&&c!==void 0?c:devicePixelRatio,this._requestManager=new _(I.transformRequest),typeof I.container=="string"){if(this._container=document.getElementById(I.container),!this._container)throw new Error(`Container '${I.container}' not found.`)}else{if(!(I.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=I.container}if(I.maxBounds&&this.setMaxBounds(I.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),typeof window<"u"&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new zo(this,I),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=I.hash&&new qv(typeof I.hash=="string"&&I.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:I.center,zoom:I.zoom,bearing:I.bearing,pitch:I.pitch}),I.bounds&&(this.resize(),this.fitBounds(I.bounds,s.extend({},I.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=I.localIdeographFontFamily,I.style&&this.setStyle(I.style,{localIdeographFontFamily:I.localIdeographFontFamily}),I.attributionControl&&this.addControl(new gm({customAttribution:I.customAttribution})),I.maplibreLogo&&this.addControl(new Ag,I.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",f=>{this._update(f.dataType==="style"),this.fire(new s.Event(`${f.dataType}data`,f))}),this.on("dataloading",f=>{this.fire(new s.Event(`${f.dataType}dataloading`,f))}),this.on("dataabort",f=>{this.fire(new s.Event("sourcedataabort",f))})}_getMapId(){return this._mapId}addControl(I,c){if(c===void 0&&(c=I.getDefaultPosition?I.getDefaultPosition():"top-right"),!I||!I.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=I.onAdd(this);this._controls.push(I);const C=this._controlPositions[c];return c.indexOf("bottom")!==-1?C.insertBefore(f,C.firstChild):C.appendChild(f),this}removeControl(I){if(!I||!I.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(I);return c>-1&&this._controls.splice(c,1),I.onRemove(this),this}hasControl(I){return this._controls.indexOf(I)>-1}calculateCameraOptionsFromTo(I,c,f,C){return C==null&&this.style.terrain&&(C=this.transform.getElevation(f,this.style.terrain)),super.calculateCameraOptionsFromTo(I,c,f,C)}resize(I){const c=this._containerDimensions(),f=c[0],C=c[1];this._resizeCanvas(f,C,this.getPixelRatio()),this.transform.resize(f,C),this.painter.resize(f,C,this.getPixelRatio());const P=!this._moving;return P&&(this.stop(),this.fire(new s.Event("movestart",I)).fire(new s.Event("move",I))),this.fire(new s.Event("resize",I)),P&&this.fire(new s.Event("moveend",I)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(I){const[c,f]=this._containerDimensions();this._pixelRatio=I,this._resizeCanvas(c,f,I),this.painter.resize(c,f,I)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(I){return this.transform.setMaxBounds(s.LngLatBounds.convert(I)),this._update()}setMinZoom(I){if((I=I??-2)>=-2&&I<=this.transform.maxZoom)return this.transform.minZoom=I,this._update(),this.getZoom()<I&&this.setZoom(I),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(I){if((I=I??22)>=this.transform.minZoom)return this.transform.maxZoom=I,this._update(),this.getZoom()>I&&this.setZoom(I),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(I){if((I=I??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(I>=0&&I<=this.transform.maxPitch)return this.transform.minPitch=I,this._update(),this.getPitch()<I&&this.setPitch(I),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(I){if((I=I??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(I>=this.transform.minPitch)return this.transform.maxPitch=I,this._update(),this.getPitch()>I&&this.setPitch(I),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(I){return this.transform.renderWorldCopies=I,this._update()}project(I){return this.transform.locationPoint(s.LngLat.convert(I),this.style&&this.style.terrain)}unproject(I){return this.transform.pointLocation(s.pointGeometry.convert(I),this.style&&this.style.terrain)}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(I,c,f){if(I==="mouseenter"||I==="mouseover"){let C=!1;return{layer:c,listener:f,delegates:{mousemove:j=>{const te=this.getLayer(c)?this.queryRenderedFeatures(j.point,{layers:[c]}):[];te.length?C||(C=!0,f.call(this,new po(I,this,j.originalEvent,{features:te}))):C=!1},mouseout:()=>{C=!1}}}}if(I==="mouseleave"||I==="mouseout"){let C=!1;return{layer:c,listener:f,delegates:{mousemove:te=>{(this.getLayer(c)?this.queryRenderedFeatures(te.point,{layers:[c]}):[]).length?C=!0:C&&(C=!1,f.call(this,new po(I,this,te.originalEvent)))},mouseout:te=>{C&&(C=!1,f.call(this,new po(I,this,te.originalEvent)))}}}}{const C=P=>{const j=this.getLayer(c)?this.queryRenderedFeatures(P.point,{layers:[c]}):[];j.length&&(P.features=j,f.call(this,P),delete P.features)};return{layer:c,listener:f,delegates:{[I]:C}}}}on(I,c,f){if(f===void 0)return super.on(I,c);const C=this._createDelegatedListener(I,c,f);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[I]=this._delegatedListeners[I]||[],this._delegatedListeners[I].push(C);for(const P in C.delegates)this.on(P,C.delegates[P]);return this}once(I,c,f){if(f===void 0)return super.once(I,c);const C=this._createDelegatedListener(I,c,f);for(const P in C.delegates)this.once(P,C.delegates[P]);return this}off(I,c,f){return f===void 0?super.off(I,c):(this._delegatedListeners&&this._delegatedListeners[I]&&(C=>{const P=this._delegatedListeners[I];for(let j=0;j<P.length;j++){const te=P[j];if(te.layer===c&&te.listener===f){for(const de in te.delegates)this.off(de,te.delegates[de]);return P.splice(j,1),this}}})(),this)}queryRenderedFeatures(I,c){if(!this.style)return[];let f;if(c!==void 0||I===void 0||I instanceof s.pointGeometry||Array.isArray(I)||(c=I,I=void 0),c=c||{},(I=I||[[0,0],[this.transform.width,this.transform.height]])instanceof s.pointGeometry||typeof I[0]=="number")f=[s.pointGeometry.convert(I)];else{const C=s.pointGeometry.convert(I[0]),P=s.pointGeometry.convert(I[1]);f=[C,new s.pointGeometry(P.x,C.y),P,new s.pointGeometry(C.x,P.y),C]}return this.style.queryRenderedFeatures(f,c,this.transform)}querySourceFeatures(I,c){return this.style.querySourceFeatures(I,c)}setStyle(I,c){return(c=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&I?(this._diffStyle(I,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(I,c))}setTransformRequest(I){return this._requestManager.setTransformRequest(I),this}_getUIString(I){const c=this._locale[I];if(c==null)throw new Error(`Missing UI string '${I}'`);return c}_updateStyle(I,c){return this.style&&(this.style.setEventedParent(null),this.style._remove()),I?(this.style=new xa(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof I=="string"?this.style.loadURL(I):this.style.loadJSON(I),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new xa(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(I,c){if(typeof I=="string"){const f=this._requestManager.transformRequest(I,s.ResourceType.Style);s.getJSON(f,(C,P)=>{C?this.fire(new s.ErrorEvent(C)):P&&this._updateDiff(P,c)})}else typeof I=="object"&&this._updateDiff(I,c)}_updateDiff(I,c){try{this.style.setState(I)&&this._update(!0)}catch(f){s.warnOnce(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(I,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():s.warnOnce("There is no style added to the map.")}addSource(I,c){return this._lazyInitEmptyStyle(),this.style.addSource(I,c),this._update(!0)}isSourceLoaded(I){const c=this.style&&this.style.sourceCaches[I];if(c!==void 0)return c.loaded();this.fire(new s.ErrorEvent(new Error(`There is no source with ID '${I}'`)))}setTerrain(I){return this.style.setTerrain(I),this}getTerrain(){return this.style.terrain&&this.style.terrain.options}areTilesLoaded(){const I=this.style&&this.style.sourceCaches;for(const c in I){const f=I[c]._tiles;for(const C in f){const P=f[C];if(P.state!=="loaded"&&P.state!=="errored")return!1}}return!0}addSourceType(I,c,f){return this._lazyInitEmptyStyle(),this.style.addSourceType(I,c,f)}removeSource(I){return this.style.removeSource(I),this._update(!0)}getSource(I){return this.style.getSource(I)}addImage(I,c,{pixelRatio:f=1,sdf:C=!1,stretchX:P,stretchY:j,content:te}={}){if(this._lazyInitEmptyStyle(),c instanceof HTMLImageElement||s.isImageBitmap(c)){const{width:de,height:fe,data:Ce}=s.exported.getImageData(c);this.style.addImage(I,{data:new s.RGBAImage({width:de,height:fe},Ce),pixelRatio:f,stretchX:P,stretchY:j,content:te,sdf:C,version:0})}else{if(c.width===void 0||c.height===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:de,height:fe,data:Ce}=c,Pe=c;this.style.addImage(I,{data:new s.RGBAImage({width:de,height:fe},new Uint8Array(Ce)),pixelRatio:f,stretchX:P,stretchY:j,content:te,sdf:C,version:0,userImage:Pe}),Pe.onAdd&&Pe.onAdd(this,I)}}}updateImage(I,c){const f=this.style.getImage(I);if(!f)return this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const C=c instanceof HTMLImageElement||s.isImageBitmap(c)?s.exported.getImageData(c):c,{width:P,height:j,data:te}=C;if(P===void 0||j===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(P!==f.data.width||j!==f.data.height)return this.fire(new s.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const de=!(c instanceof HTMLImageElement||s.isImageBitmap(c));f.data.replace(te,de),this.style.updateImage(I,f)}hasImage(I){return I?!!this.style.getImage(I):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(I){this.style.removeImage(I)}loadImage(I,c){s.getImage(this._requestManager.transformRequest(I,s.ResourceType.Image),c)}listImages(){return this.style.listImages()}addLayer(I,c){return this._lazyInitEmptyStyle(),this.style.addLayer(I,c),this._update(!0)}moveLayer(I,c){return this.style.moveLayer(I,c),this._update(!0)}removeLayer(I){return this.style.removeLayer(I),this._update(!0)}getLayer(I){return this.style.getLayer(I)}setLayerZoomRange(I,c,f){return this.style.setLayerZoomRange(I,c,f),this._update(!0)}setFilter(I,c,f={}){return this.style.setFilter(I,c,f),this._update(!0)}getFilter(I){return this.style.getFilter(I)}setPaintProperty(I,c,f,C={}){return this.style.setPaintProperty(I,c,f,C),this._update(!0)}getPaintProperty(I,c){return this.style.getPaintProperty(I,c)}setLayoutProperty(I,c,f,C={}){return this.style.setLayoutProperty(I,c,f,C),this._update(!0)}getLayoutProperty(I,c){return this.style.getLayoutProperty(I,c)}setLight(I,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(I,c),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(I,c){return this.style.setFeatureState(I,c),this._update()}removeFeatureState(I,c){return this.style.removeFeatureState(I,c),this._update()}getFeatureState(I){return this.style.getFeatureState(I)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let I=0,c=0;return this._container&&(I=this._container.clientWidth||400,c=this._container.clientHeight||300),[I,c]}_setupContainer(){const I=this._container;I.classList.add("maplibregl-map","mapboxgl-map");const c=this._canvasContainer=g.create("div","maplibregl-canvas-container mapboxgl-canvas-container",I);this._interactive&&c.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=g.create("canvas","maplibregl-canvas mapboxgl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const f=this._containerDimensions();this._resizeCanvas(f[0],f[1],this.getPixelRatio());const C=this._controlContainer=g.create("div","maplibregl-control-container mapboxgl-control-container",I),P=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(j=>{P[j]=g.create("div",`maplibregl-ctrl-${j} mapboxgl-ctrl-${j}`,C)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){const I=this._container;this._metaPress=!1,this._cooperativeGesturesScreen=g.create("div","maplibregl-cooperative-gesture-screen",I);let c="Control",f=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(f=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map",c="Meta"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${f}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,document.addEventListener("keydown",C=>{C.key===c&&(this._metaPress=!0)}),document.addEventListener("keyup",C=>{C.key===c&&(this._metaPress=!1)}),this._canvasContainer.addEventListener("wheel",C=>{this._onCooperativeGesture(C,this._metaPress,1)},!1),this._canvasContainer.classList.remove("mapboxgl-touch-drag-pan","maplibregl-touch-drag-pan")}_resizeCanvas(I,c,f){this._canvas.width=f*I,this._canvas.height=f*c,this._canvas.style.width=`${I}px`,this._canvas.style.height=`${c}px`}_setupPainter(){const I=s.extend({},d.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),c=this._canvas.getContext("webgl",I)||this._canvas.getContext("experimental-webgl",I);c?(this.painter=new Wv(c,this.transform),s.exported$1.testSupport(c)):this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(I){I.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:I}))}_contextRestored(I){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:I}))}_onMapScroll(I){if(I.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(I,c,f){return!c&&f<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(I){return this.style?(this._styleDirty=this._styleDirty||I,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(I){return this._update(),this._renderTaskQueue.add(I)}_cancelRenderFrame(I){this._renderTaskQueue.remove(I)}_render(I){let c,f=0;const C=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(c=C.createQueryEXT(),C.beginQueryEXT(C.TIME_ELAPSED_EXT,c),f=s.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(I),this._removed)return;let P=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const te=this.transform.zoom,de=s.exported.now();this.style.zoomHistory.update(te,de);const fe=new s.EvaluationParameters(te,{now:de,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ce=fe.crossFadingFactor();Ce===1&&Ce===this._crossFadingFactor||(P=!0,this._crossFadingFactor=Ce),this.style.update(fe)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.style.terrain&&this.style.terrain.sourceCache.update(this.transform,this.style.terrain),this.transform.updateElevation(this.style.terrain),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,s.PerformanceUtils.mark(s.PerformanceMarkers.load),this.fire(new s.Event("load"))),this.style&&(this.style.hasTransitions()||P)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const te=s.exported.now()-f;C.endQueryEXT(C.TIME_ELAPSED_EXT,c),setTimeout(()=>{const de=C.getQueryObjectEXT(c,C.QUERY_RESULT_EXT)/1e6;C.deleteQueryEXT(c),this.fire(new s.Event("gpu-timing-frame",{cpuTime:te,gpuTime:de}))},50)}if(this.listens("gpu-timing-layer")){const te=this.painter.collectGpuTimers();setTimeout(()=>{const de=this.painter.queryGpuTimers(te);this.fire(new s.Event("gpu-timing-layer",{layerTimes:de}))},50)}const j=this._sourcesDirty||this._styleDirty||this._placementDirty;return j||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.Event("idle")),!this._loaded||this._fullyLoaded||j||(this._fullyLoaded=!0,s.PerformanceUtils.mark(s.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const I=this.painter.context.gl.getExtension("WEBGL_lose_context");I&&I.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),g.remove(this._canvasContainer),g.remove(this._controlContainer),this._cooperativeGestures&&g.remove(this._cooperativeGesturesScreen),this._container.classList.remove("maplibregl-map","mapboxgl-map"),s.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new s.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=s.exported.frame(I=>{s.PerformanceUtils.frame(I),this._frame=null,this._render(I)}))}_onWindowOnline(){this._update()}_onWindowResize(I){this._trackResize&&this.resize({originalEvent:I})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(I){this._showTileBoundaries!==I&&(this._showTileBoundaries=I,this._update())}get showPadding(){return!!this._showPadding}set showPadding(I){this._showPadding!==I&&(this._showPadding=I,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(I){this._showCollisionBoxes!==I&&(this._showCollisionBoxes=I,I?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(I){this._showOverdrawInspector!==I&&(this._showOverdrawInspector=I,this._update())}get repaint(){return!!this._repaint}set repaint(I){this._repaint!==I&&(this._repaint=I,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(I){this._vertices=I,this._update()}_setCacheLimits(I,c){s.setCacheLimits(I,c)}get version(){return"2.4.0"}},NavigationControl:class{constructor(I){this.options=s.extend({},Il,I),this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",c=>this._map.zoomIn({},{originalEvent:c})),g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",c=>this._map.zoomOut({},{originalEvent:c})),g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",c=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:c}):this._map.resetNorth({},{originalEvent:c})}),this._compassIcon=g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const I=this._map.getZoom(),c=I===this._map.getMaxZoom(),f=I===this._map.getMinZoom();this._zoomInButton.disabled=c,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",c.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())}_rotateCompassArrow(){const I=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=I}onAdd(I){return this._map=I,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ym(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){g.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(I,c){const f=g.create("button",I,this._container);return f.type="button",f.addEventListener("click",c),f}_setButtonTitle(I,c){const f=this._map._getUIString(`NavigationControl.${c}`);I.title=f,I.setAttribute("aria-label",f)}},GeolocateControl:class extends s.Evented{constructor(I){super(),this.options=s.extend({},Pg,I),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(I){var c;return this._map=I,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),c=this._setupUI,ba!==void 0?c(ba):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(f=>{ba=f.state!=="denied",c(ba)}):(ba=!!window.navigator.geolocation,c(ba)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),g.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Su=0,Xs=!1}_isOutOfMapMaxBounds(I){const c=this._map.getMaxBounds(),f=I.coords;return c&&(f.longitude<c.getWest()||f.longitude>c.getEast()||f.latitude<c.getSouth()||f.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(I){if(this._map){if(this._isOutOfMapMaxBounds(I))return this._setErrorState(),this.fire(new s.Event("outofmaxbounds",I)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=I,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(I),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(I),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",I)),this._finish()}}_updateCamera(I){const c=new s.LngLat(I.coords.longitude,I.coords.latitude),f=I.coords.accuracy,C=this._map.getBearing(),P=s.extend({bearing:C},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(f),P,{geolocateSource:!0})}_updateMarker(I){if(I){const c=new s.LngLat(I.coords.longitude,I.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=I.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const I=this._map._container.clientHeight/2,c=this._map.unproject([0,I]),f=this._map.unproject([1,I]),C=c.distanceTo(f),P=Math.ceil(2*this._accuracy/C);this._circleElement.style.width=`${P}px`,this._circleElement.style.height=`${P}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(I){if(this._map){if(this.options.trackUserLocation)if(I.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(I.code===3&&Xs)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",I)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(I){if(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=g.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",I===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=g.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new Dh(this._dotElement),this._circleElement=g.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Dh({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new s.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Su--,Xs=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let I;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Su++,Su>1?(I={maximumAge:6e5,timeout:0},Xs=!0):(I=this.options.positionOptions,Xs=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,I)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:gm,LogoControl:Ag,ScaleControl:class{constructor(I){this.options=s.extend({},__,I),s.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Mh(this._map,this._container,this.options)}onAdd(I){return this._map=I,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",I.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){g.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(I){this.options.unit=I,Mh(this._map,this._container,this.options)}},FullscreenControl:class{constructor(I){this._fullscreen=!1,I&&I.container&&(I.container instanceof HTMLElement?this._container=I.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(I){return this._map=I,this._container||(this._container=this._map.getContainer()),this._controlContainer=g.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){g.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const I=this._fullscreenButton=g.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",I).setAttribute("aria-hidden","true"),I.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const I=this._getTitle();this._fullscreenButton.setAttribute("aria-label",I),this._fullscreenButton.title=I}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},TerrainControl:class{constructor(I){this.options=I,s.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(I){return this._map=I,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._terrainButton=g.create("button","maplibregl-ctrl-terrain mapboxgl-ctrl-terrain",this._container),g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){g.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._map.style.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends s.Evented{constructor(I){super(),this.options=s.extend(Object.create(pa),I),s.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(I){return this._map&&this.remove(),this._map=I,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new s.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&g.remove(this._content),this._container&&(g.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new s.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(I){return this._lngLat=s.LngLat.convert(I),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(I){return this.setDOMContent(document.createTextNode(I))}setHTML(I){const c=document.createDocumentFragment(),f=document.createElement("body");let C;for(f.innerHTML=I;C=f.firstChild,C;)c.appendChild(C);return this.setDOMContent(c)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(I){return this.options.maxWidth=I,this._update(),this}setDOMContent(I){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=g.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(I),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(I){this._container&&this._container.classList.add(I)}removeClassName(I){this._container&&this._container.classList.remove(I)}setOffset(I){return this.options.offset=I,this._update(),this}toggleClassName(I){if(this._container)return this._container.classList.toggle(I)}_createCloseButton(){this.options.closeButton&&(this._closeButton=g.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(I){this._update(I.point)}_onMouseMove(I){this._update(I.point)}_onDrag(I){this._update(I.point)}_update(I){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=g.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=g.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(j=>this._container.classList.add(j)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ln(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!I))return;const c=this._pos=this._trackPointer&&I?I:this._map.project(this._lngLat);let f=this.options.anchor;const C=xd(this.options.offset);if(!f){const j=this._container.offsetWidth,te=this._container.offsetHeight;let de;de=c.y+C.bottom.y<te?["top"]:c.y>this._map.transform.height-te?["bottom"]:[],c.x<j/2?de.push("left"):c.x>this._map.transform.width-j/2&&de.push("right"),f=de.length===0?"bottom":de.join("-")}const P=c.add(C[f]).round();g.setTransform(this._container,`${$n[f]} translate(${P.x}px,${P.y}px)`),Ph(this._container,f,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const I=this._container.querySelector(sx);I&&I.focus()}_onClose(){this.remove()}},Marker:Dh,Style:xa,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.pointGeometry,MercatorCoordinate:s.MercatorCoordinate,Evented:s.Evented,AJAXError:s.AJAXError,config:s.config,CanvasSource:ee,GeoJSONSource:F,ImageSource:W,RasterDEMTileSource:V,RasterTileSource:M,VectorTileSource:B,VideoSource:q,prewarm:function(){be().acquire(Q)},clearPrewarmedResources:function(){const I=ge;I&&(I.isPreloaded()&&I.numActive()===1?(I.release(Q),ge=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return"2.4.0"},get workerCount(){return ae.workerCount},set workerCount(I){ae.workerCount=I},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(I){s.config.MAX_PARALLEL_IMAGE_REQUESTS=I},clearStorage(I){s.clearTileCache(I)},workerUrl:"",addProtocol(I,c){s.config.REGISTERED_PROTOCOLS[I]=c},removeProtocol(I){delete s.config.REGISTERED_PROTOCOLS[I]}};return xr.extend(Oh,{isSafari:s.isSafari,getPerformanceMetrics:s.PerformanceUtils.getPerformanceMetrics}),Oh});var o=r;return o})})($P);var ao=$P.exports,bo=63710088e-1,FP={centimeters:bo*100,centimetres:bo*100,degrees:bo/111325,feet:bo*3.28084,inches:bo*39.37,kilometers:bo/1e3,kilometres:bo/1e3,meters:bo,metres:bo,miles:bo/1609.344,millimeters:bo*1e3,millimetres:bo*1e3,nauticalmiles:bo/1852,radians:1,yards:bo*1.0936};function cf(n,e,t){t===void 0&&(t={});var i={type:"Feature"};return(t.id===0||t.id)&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.properties=e||{},i.geometry=n,i}function Ry(n,e,t){if(t===void 0&&(t={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!iN(n[0])||!iN(n[1]))throw new Error("coordinates must contain numbers");var i={type:"Point",coordinates:n};return cf(i,e,t)}function jP(n,e,t){t===void 0&&(t={});for(var i=0,r=n;i<r.length;i++){var a=r[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:n};return cf(s,e,t)}function xU(n,e,t){if(t===void 0&&(t={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");var i={type:"LineString",coordinates:n};return cf(i,e,t)}function O1(n,e){e===void 0&&(e={});var t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=n,t}function BP(n,e){e===void 0&&(e="kilometers");var t=FP[e];if(!t)throw new Error(e+" units is invalid");return n*t}function UP(n,e){e===void 0&&(e="kilometers");var t=FP[e];if(!t)throw new Error(e+" units is invalid");return n/t}function nN(n){var e=n%(2*Math.PI);return e*180/Math.PI}function sp(n){var e=n%360;return e*Math.PI/180}function iN(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function Uf(n,e,t){if(n!==null)for(var i,r,a,o,s,d,p,m=0,y=0,g,_=n.type,x=_==="FeatureCollection",T=_==="Feature",E=x?n.features.length:1,k=0;k<E;k++){p=x?n.features[k].geometry:T?n.geometry:n,g=p?p.type==="GeometryCollection":!1,s=g?p.geometries.length:1;for(var v=0;v<s;v++){var w=0,N=0;if(o=g?p.geometries[v]:p,o!==null){d=o.coordinates;var S=o.type;switch(m=t&&(S==="Polygon"||S==="MultiPolygon")?1:0,S){case null:break;case"Point":if(e(d,y,k,w,N)===!1)return!1;y++,w++;break;case"LineString":case"MultiPoint":for(i=0;i<d.length;i++){if(e(d[i],y,k,w,N)===!1)return!1;y++,S==="MultiPoint"&&w++}S==="LineString"&&w++;break;case"Polygon":case"MultiLineString":for(i=0;i<d.length;i++){for(r=0;r<d[i].length-m;r++){if(e(d[i][r],y,k,w,N)===!1)return!1;y++}S==="MultiLineString"&&w++,S==="Polygon"&&N++}S==="Polygon"&&w++;break;case"MultiPolygon":for(i=0;i<d.length;i++){for(N=0,r=0;r<d[i].length;r++){for(a=0;a<d[i][r].length-m;a++){if(e(d[i][r][a],y,k,w,N)===!1)return!1;y++}N++}w++}break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(Uf(o.geometries[i],e,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function rN(n,e){if(n.type==="Feature")e(n,0);else if(n.type==="FeatureCollection")for(var t=0;t<n.features.length&&e(n.features[t],t)!==!1;t++);}function z0(n,e){var t,i,r,a,o,s,d,p,m,y,g=0,_=n.type==="FeatureCollection",x=n.type==="Feature",T=_?n.features.length:1;for(t=0;t<T;t++){for(s=_?n.features[t].geometry:x?n.geometry:n,p=_?n.features[t].properties:x?n.properties:{},m=_?n.features[t].bbox:x?n.bbox:void 0,y=_?n.features[t].id:x?n.id:void 0,d=s?s.type==="GeometryCollection":!1,o=d?s.geometries.length:1,r=0;r<o;r++){if(a=d?s.geometries[r]:s,a===null){if(e(null,g,p,m,y)===!1)return!1;continue}switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(a,g,p,m,y)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<a.geometries.length;i++)if(e(a.geometries[i],g,p,m,y)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}function bU(n,e,t){var i=t;return z0(n,function(r,a,o,s,d){i=e(i,r,a,o,s,d)}),i}function _U(n,e){z0(n,function(t,i,r,a,o){var s=t===null?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return e(cf(t,r,{bbox:a,id:o}),i,0)===!1?!1:void 0}var d;switch(s){case"MultiPoint":d="Point";break;case"MultiLineString":d="LineString";break;case"MultiPolygon":d="Polygon";break}for(var p=0;p<t.coordinates.length;p++){var m=t.coordinates[p],y={type:d,coordinates:m};if(e(cf(y,r),i,p)===!1)return!1}})}function wU(n,e){_U(n,function(t,i,r){var a=0;if(t.geometry){var o=t.geometry.type;if(!(o==="Point"||o==="MultiPoint")){var s,d=0,p=0,m=0;if(Uf(t,function(y,g,_,x,T){if(s===void 0||i>d||x>p||T>m){s=y,d=i,p=x,m=T,a=0;return}var E=xU([s,y],t.properties);if(e(E,i,r,T,a)===!1)return!1;a++,s=y})===!1)return!1}}})}function TU(n,e,t){var i=t,r=!1;return wU(n,function(a,o,s,d,p){r===!1&&t===void 0?i=a:i=e(i,a,o,s,d,p),r=!0}),i}function $y(n){var e=[1/0,1/0,-1/0,-1/0];return Uf(n,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}$y.default=$y;let zx;const SU=new Uint8Array(16);function CU(){if(!zx&&(zx=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zx))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zx(SU)}const Is=[];for(let n=0;n<256;++n)Is.push((n+256).toString(16).slice(1));function EU(n,e=0){return Is[n[e+0]]+Is[n[e+1]]+Is[n[e+2]]+Is[n[e+3]]+"-"+Is[n[e+4]]+Is[n[e+5]]+"-"+Is[n[e+6]]+Is[n[e+7]]+"-"+Is[n[e+8]]+Is[n[e+9]]+"-"+Is[n[e+10]]+Is[n[e+11]]+Is[n[e+12]]+Is[n[e+13]]+Is[n[e+14]]+Is[n[e+15]]}const kU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),aN={randomUUID:kU};function NU(n,e,t){if(aN.randomUUID&&!n)return aN.randomUUID();n=n||{};const i=n.random||(n.rng||CU)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,EU(i)}function zb(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return n.geometry.coordinates;if(n.type==="Point")return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function LU(n,e){return n.type==="FeatureCollection"?"FeatureCollection":n.type==="GeometryCollection"?"GeometryCollection":n.type==="Feature"&&n.geometry!==null?n.geometry.type:n.type}function IU(n,e,t,i){i===void 0&&(i={});var r=zb(n),a=sp(r[0]),o=sp(r[1]),s=sp(t),d=UP(e,i.units),p=Math.asin(Math.sin(o)*Math.cos(d)+Math.cos(o)*Math.sin(d)*Math.cos(s)),m=a+Math.atan2(Math.sin(s)*Math.sin(d)*Math.cos(o),Math.cos(d)-Math.sin(o)*Math.sin(p)),y=nN(m),g=nN(p);return Ry([y,g],i.properties)}function AU(n,e,t){t===void 0&&(t={});for(var i=t.steps||64,r=t.properties?t.properties:!Array.isArray(n)&&n.type==="Feature"&&n.properties?n.properties:{},a=[],o=0;o<i;o++)a.push(IU(n,e,o*-360/i,t).geometry.coordinates);return a.push(a[0]),jP([a],r)}function PU(n,e){e===void 0&&(e={});var t=$y(n),i=(t[0]+t[2])/2,r=(t[1]+t[3])/2;return Ry([i,r],e.properties,e)}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(this===void 0||this===null)throw new TypeError(this+" is not an object");var t=Object(this),i=Math.max(Math.min(t.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(i+r,0):Math.min(r,i);var a=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:i;for(a=a<0?Math.max(i+arguments[2],0):Math.min(a,i);r<a;)t[r]=e,++r;return t},writable:!0});Number.isFinite=Number.isFinite||function(n){return typeof n=="number"&&isFinite(n)};Number.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};Number.parseFloat=Number.parseFloat||parseFloat;Number.isNaN=Number.isNaN||function(n){return n!==n};Math.trunc=Math.trunc||function(n){return n<0?Math.ceil(n):Math.floor(n)};var vp=function(){};vp.prototype.interfaces_=function(){return[]};vp.prototype.getClass=function(){return vp};vp.prototype.equalsWithTolerance=function(e,t,i){return Math.abs(e-t)<=i};var vr=function(n){function e(t){n.call(this,t),this.name="IllegalArgumentException",this.message=t,this.stack=new n().stack}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),qn=function(){},GP={MAX_VALUE:{configurable:!0}};qn.isNaN=function(e){return Number.isNaN(e)};qn.doubleToLongBits=function(e){return e};qn.longBitsToDouble=function(e){return e};qn.isInfinite=function(e){return!Number.isFinite(e)};GP.MAX_VALUE.get=function(){return Number.MAX_VALUE};Object.defineProperties(qn,GP);var Ko=function(){},F0=function(){},uf=function(){};function Qo(){}var bt=function n(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=n.NULL_ORDINATE;else if(arguments.length===1){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=n.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Bp={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};bt.prototype.setOrdinate=function(e,t){switch(e){case bt.X:this.x=t;break;case bt.Y:this.y=t;break;case bt.Z:this.z=t;break;default:throw new vr("Invalid ordinate index: "+e)}};bt.prototype.equals2D=function(){if(arguments.length===1){var e=arguments[0];return!(this.x!==e.x||this.y!==e.y)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];return!(!vp.equalsWithTolerance(this.x,t.x,i)||!vp.equalsWithTolerance(this.y,t.y,i))}};bt.prototype.getOrdinate=function(e){switch(e){case bt.X:return this.x;case bt.Y:return this.y;case bt.Z:return this.z}throw new vr("Invalid ordinate index: "+e)};bt.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||qn.isNaN(this.z))&&qn.isNaN(e.z)};bt.prototype.equals=function(e){return e instanceof bt?this.equals2D(e):!1};bt.prototype.equalInZ=function(e,t){return vp.equalsWithTolerance(this.z,e.z,t)};bt.prototype.compareTo=function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0};bt.prototype.clone=function(){};bt.prototype.copy=function(){return new bt(this)};bt.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};bt.prototype.distance3D=function(e){var t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return Math.sqrt(t*t+i*i+r*r)};bt.prototype.distance=function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)};bt.prototype.hashCode=function(){var e=17;return e=37*e+bt.hashCode(this.x),e=37*e+bt.hashCode(this.y),e};bt.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z};bt.prototype.interfaces_=function(){return[Ko,F0,Qo]};bt.prototype.getClass=function(){return bt};bt.hashCode=function(){if(arguments.length===1){var e=arguments[0],t=qn.doubleToLongBits(e);return Math.trunc((t^t)>>>32)}};Bp.DimensionalComparator.get=function(){return Yu};Bp.serialVersionUID.get=function(){return 6683108902428367e3};Bp.NULL_ORDINATE.get=function(){return qn.NaN};Bp.X.get=function(){return 0};Bp.Y.get=function(){return 1};Bp.Z.get=function(){return 2};Object.defineProperties(bt,Bp);var Yu=function(e){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var t=arguments[0];if(t!==2&&t!==3)throw new vr("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}}};Yu.prototype.compare=function(e,t){var i=e,r=t,a=Yu.compare(i.x,r.x);if(a!==0)return a;var o=Yu.compare(i.y,r.y);if(o!==0)return o;if(this._dimensionsToTest<=2)return 0;var s=Yu.compare(i.z,r.z);return s};Yu.prototype.interfaces_=function(){return[uf]};Yu.prototype.getClass=function(){return Yu};Yu.compare=function(e,t){return e<t?-1:e>t?1:qn.isNaN(e)?qn.isNaN(t)?0:-1:qn.isNaN(t)?1:0};var df=function(){};df.prototype.create=function(){};df.prototype.interfaces_=function(){return[]};df.prototype.getClass=function(){return df};var kt=function(){},xv={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};kt.prototype.interfaces_=function(){return[]};kt.prototype.getClass=function(){return kt};kt.toLocationSymbol=function(e){switch(e){case kt.EXTERIOR:return"e";case kt.BOUNDARY:return"b";case kt.INTERIOR:return"i";case kt.NONE:return"-"}throw new vr("Unknown location value: "+e)};xv.INTERIOR.get=function(){return 0};xv.BOUNDARY.get=function(){return 1};xv.EXTERIOR.get=function(){return 2};xv.NONE.get=function(){return-1};Object.defineProperties(kt,xv);var Bn=function(n,e){return n.interfaces_&&n.interfaces_().indexOf(e)>-1},Po=function(){},YP={LOG_10:{configurable:!0}};Po.prototype.interfaces_=function(){return[]};Po.prototype.getClass=function(){return Po};Po.log10=function(e){var t=Math.log(e);return qn.isInfinite(t)||qn.isNaN(t)?t:t/Po.LOG_10};Po.min=function(e,t,i,r){var a=e;return t<a&&(a=t),i<a&&(a=i),r<a&&(a=r),a};Po.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],t=arguments[1],i=arguments[2];return e<t?t:e>i?i:e}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],a=arguments[1],o=arguments[2];return r<a?a:r>o?o:r}};Po.wrap=function(e,t){return e<0?t- -e%t:e%t};Po.max=function(){if(arguments.length===3){var e=arguments[0],t=arguments[1],i=arguments[2],r=e;return t>r&&(r=t),i>r&&(r=i),r}else if(arguments.length===4){var a=arguments[0],o=arguments[1],s=arguments[2],d=arguments[3],p=a;return o>p&&(p=o),s>p&&(p=s),d>p&&(p=d),p}};Po.average=function(e,t){return(e+t)/2};YP.LOG_10.get=function(){return Math.log(10)};Object.defineProperties(Po,YP);var ac=function(e){this.str=e};ac.prototype.append=function(e){this.str+=e};ac.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)};ac.prototype.toString=function(e){return this.str};var Hl=function(e){this.value=e};Hl.prototype.intValue=function(){return this.value};Hl.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0};Hl.isNaN=function(e){return Number.isNaN(e)};var zy=function(){};zy.isWhitespace=function(e){return e<=32&&e>=0||e===127};zy.toUpperCase=function(e){return e.toUpperCase()};var Ot=function n(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof n){var t=arguments[0];this.init(t)}else if(typeof arguments[0]=="string"){var i=arguments[0];n.call(this,n.parse(i))}}else if(arguments.length===2){var r=arguments[0],a=arguments[1];this.init(r,a)}},kl={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Ot.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo};Ot.prototype.extractSignificantDigits=function(e,t){var i=this.abs(),r=Ot.magnitude(i._hi),a=Ot.TEN.pow(r);i=i.divide(a),i.gt(Ot.TEN)?(i=i.divide(Ot.TEN),r+=1):i.lt(Ot.ONE)&&(i=i.multiply(Ot.TEN),r-=1);for(var o=r+1,s=new ac,d=Ot.MAX_PRINT_DIGITS-1,p=0;p<=d;p++){e&&p===o&&s.append(".");var m=Math.trunc(i._hi);if(m<0)break;var y=!1,g=0;m>9?(y=!0,g="9"):g="0"+m,s.append(g),i=i.subtract(Ot.valueOf(m)).multiply(Ot.TEN),y&&i.selfAdd(Ot.TEN);var _=!0,x=Ot.magnitude(i._hi);if(x<0&&Math.abs(x)>=d-p&&(_=!1),!_)break}return t[0]=r,s.toString()};Ot.prototype.sqr=function(){return this.multiply(this)};Ot.prototype.doubleValue=function(){return this._hi+this._lo};Ot.prototype.subtract=function(){if(arguments[0]instanceof Ot){var e=arguments[0];return this.add(e.negate())}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.add(-t)}};Ot.prototype.equals=function(){if(arguments.length===1){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}};Ot.prototype.isZero=function(){return this._hi===0&&this._lo===0};Ot.prototype.selfSubtract=function(){if(arguments[0]instanceof Ot){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}};Ot.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null};Ot.prototype.min=function(e){return this.le(e)?this:e};Ot.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof Ot){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.selfDivide(t,0)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1],a=null,o=null,s=null,d=null,p=null,m=null,y=null,g=null;return p=this._hi/i,m=Ot.SPLIT*p,a=m-p,g=Ot.SPLIT*i,a=m-a,o=p-a,s=g-i,y=p*i,s=g-s,d=i-s,g=a*s-y+a*d+o*s+o*d,m=(this._hi-y-g+this._lo-p*r)/i,g=p+m,this._hi=g,this._lo=p-g+m,this}};Ot.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"};Ot.prototype.divide=function(){if(arguments[0]instanceof Ot){var e=arguments[0],t=null,i=null,r=null,a=null,o=null,s=null,d=null,p=null;o=this._hi/e._hi,s=Ot.SPLIT*o,t=s-o,p=Ot.SPLIT*e._hi,t=s-t,i=o-t,r=p-e._hi,d=o*e._hi,r=p-r,a=e._hi-r,p=t*r-d+t*a+i*r+i*a,s=(this._hi-d-p+this._lo-o*e._lo)/e._hi,p=o+s;var m=p,y=o-p+s;return new Ot(m,y)}else if(typeof arguments[0]=="number"){var g=arguments[0];return qn.isNaN(g)?Ot.createNaN():Ot.copy(this).selfDivide(g,0)}};Ot.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo};Ot.prototype.pow=function(e){if(e===0)return Ot.valueOf(1);var t=new Ot(this),i=Ot.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2===1&&i.selfMultiply(t),r/=2,r>0&&(t=t.sqr());else i=t;return e<0?i.reciprocal():i};Ot.prototype.ceil=function(){if(this.isNaN())return Ot.NaN;var e=Math.ceil(this._hi),t=0;return e===this._hi&&(t=Math.ceil(this._lo)),new Ot(e,t)};Ot.prototype.compareTo=function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0};Ot.prototype.rint=function(){if(this.isNaN())return this;var e=this.add(.5);return e.floor()};Ot.prototype.setValue=function(){if(arguments[0]instanceof Ot){var e=arguments[0];return this.init(e),this}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.init(t),this}};Ot.prototype.max=function(e){return this.ge(e)?this:e};Ot.prototype.sqrt=function(){if(this.isZero())return Ot.valueOf(0);if(this.isNegative())return Ot.NaN;var e=1/Math.sqrt(this._hi),t=this._hi*e,i=Ot.valueOf(t),r=this.subtract(i.sqr()),a=r._hi*(e*.5);return i.add(a)};Ot.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof Ot){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}else if(typeof arguments[0]=="number"){var t=arguments[0],i=null,r=null,a=null,o=null,s=null,d=null;return a=this._hi+t,s=a-this._hi,o=a-s,o=t-s+(this._hi-o),d=o+this._lo,i=a+d,r=d+(a-i),this._hi=i+r,this._lo=r+(i-this._hi),this}}else if(arguments.length===2){var p=arguments[0],m=arguments[1],y=null,g=null,_=null,x=null,T=null,E=null,k=null,v=null;T=this._hi+p,_=this._lo+m,k=T-this._hi,v=_-this._lo,E=T-k,x=_-v,E=p-k+(this._hi-E),x=m-v+(this._lo-x),k=E+_,y=T+k,g=k+(T-y),k=x+g;var w=y+k,N=k+(y-w);return this._hi=w,this._lo=N,this}};Ot.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof Ot){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.selfMultiply(t,0)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1],a=null,o=null,s=null,d=null,p=null,m=null;p=Ot.SPLIT*this._hi,a=p-this._hi,m=Ot.SPLIT*i,a=p-a,o=this._hi-a,s=m-i,p=this._hi*i,s=m-s,d=i-s,m=a*s-p+a*d+o*s+o*d+(this._hi*r+this._lo*i);var y=p+m;a=p-y;var g=m+a;return this._hi=y,this._lo=g,this}};Ot.prototype.selfSqr=function(){return this.selfMultiply(this)};Ot.prototype.floor=function(){if(this.isNaN())return Ot.NaN;var e=Math.floor(this._hi),t=0;return e===this._hi&&(t=Math.floor(this._lo)),new Ot(e,t)};Ot.prototype.negate=function(){return this.isNaN()?this:new Ot(-this._hi,-this._lo)};Ot.prototype.clone=function(){};Ot.prototype.multiply=function(){if(arguments[0]instanceof Ot){var e=arguments[0];return e.isNaN()?Ot.createNaN():Ot.copy(this).selfMultiply(e)}else if(typeof arguments[0]=="number"){var t=arguments[0];return qn.isNaN(t)?Ot.createNaN():Ot.copy(this).selfMultiply(t,0)}};Ot.prototype.isNaN=function(){return qn.isNaN(this._hi)};Ot.prototype.intValue=function(){return Math.trunc(this._hi)};Ot.prototype.toString=function(){var e=Ot.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()};Ot.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(e!==null)return e;var t=new Array(1).fill(null),i=this.extractSignificantDigits(!0,t),r=t[0]+1,a=i;if(i.charAt(0)===".")a="0"+i;else if(r<0)a="0."+Ot.stringOfChar("0",-r)+i;else if(i.indexOf(".")===-1){var o=r-i.length,s=Ot.stringOfChar("0",o);a=i+s+".0"}return this.isNegative()?"-"+a:a};Ot.prototype.reciprocal=function(){var e=null,t=null,i=null,r=null,a=null,o=null,s=null,d=null;a=1/this._hi,o=Ot.SPLIT*a,e=o-a,d=Ot.SPLIT*this._hi,e=o-e,t=a-e,i=d-this._hi,s=a*this._hi,i=d-i,r=this._hi-i,d=e*i-s+e*r+t*i+t*r,o=(1-s-d-a*this._lo)/this._hi;var p=a+o,m=a-p+o;return new Ot(p,m)};Ot.prototype.toSciNotation=function(){if(this.isZero())return Ot.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(e!==null)return e;var t=new Array(1).fill(null),i=this.extractSignificantDigits(!1,t),r=Ot.SCI_NOT_EXPONENT_CHAR+t[0];if(i.charAt(0)==="0")throw new Error("Found leading zero: "+i);var a="";i.length>1&&(a=i.substring(1));var o=i.charAt(0)+"."+a;return this.isNegative()?"-"+o+r:o+r};Ot.prototype.abs=function(){return this.isNaN()?Ot.NaN:this.isNegative()?this.negate():new Ot(this)};Ot.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0};Ot.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo};Ot.prototype.add=function(){if(arguments[0]instanceof Ot){var e=arguments[0];return Ot.copy(this).selfAdd(e)}else if(typeof arguments[0]=="number"){var t=arguments[0];return Ot.copy(this).selfAdd(t)}};Ot.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof Ot){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this._hi=i,this._lo=r}};Ot.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo};Ot.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0};Ot.prototype.trunc=function(){return this.isNaN()?Ot.NaN:this.isPositive()?this.floor():this.ceil()};Ot.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0};Ot.prototype.interfaces_=function(){return[Qo,Ko,F0]};Ot.prototype.getClass=function(){return Ot};Ot.sqr=function(e){return Ot.valueOf(e).selfMultiply(e)};Ot.valueOf=function(){if(typeof arguments[0]=="string"){var e=arguments[0];return Ot.parse(e)}else if(typeof arguments[0]=="number"){var t=arguments[0];return new Ot(t)}};Ot.sqrt=function(e){return Ot.valueOf(e).sqrt()};Ot.parse=function(e){for(var t=0,i=e.length;zy.isWhitespace(e.charAt(t));)t++;var r=!1;if(t<i){var a=e.charAt(t);(a==="-"||a==="+")&&(t++,a==="-"&&(r=!0))}for(var o=new Ot,s=0,d=0,p=0;!(t>=i);){var m=e.charAt(t);if(t++,zy.isDigit(m)){var y=m-"0";o.selfMultiply(Ot.TEN),o.selfAdd(y),s++;continue}if(m==="."){d=s;continue}if(m==="e"||m==="E"){var g=e.substring(t);try{p=Hl.parseInt(g)}catch(k){throw k instanceof Error?new Error("Invalid exponent "+g+" in string "+e):k}finally{}break}throw new Error("Unexpected character '"+m+"' at position "+t+" in string "+e)}var _=o,x=s-d-p;if(x===0)_=o;else if(x>0){var T=Ot.TEN.pow(x);_=o.divide(T)}else if(x<0){var E=Ot.TEN.pow(-x);_=o.multiply(E)}return r?_.negate():_};Ot.createNaN=function(){return new Ot(qn.NaN,qn.NaN)};Ot.copy=function(e){return new Ot(e)};Ot.magnitude=function(e){var t=Math.abs(e),i=Math.log(t)/Math.log(10),r=Math.trunc(Math.floor(i)),a=Math.pow(10,r);return a*10<=t&&(r+=1),r};Ot.stringOfChar=function(e,t){for(var i=new ac,r=0;r<t;r++)i.append(e);return i.toString()};kl.PI.get=function(){return new Ot(3.141592653589793,12246467991473532e-32)};kl.TWO_PI.get=function(){return new Ot(6.283185307179586,24492935982947064e-32)};kl.PI_2.get=function(){return new Ot(1.5707963267948966,6123233995736766e-32)};kl.E.get=function(){return new Ot(2.718281828459045,14456468917292502e-32)};kl.NaN.get=function(){return new Ot(qn.NaN,qn.NaN)};kl.EPS.get=function(){return 123259516440783e-46};kl.SPLIT.get=function(){return 134217729};kl.MAX_PRINT_DIGITS.get=function(){return 32};kl.TEN.get=function(){return Ot.valueOf(10)};kl.ONE.get=function(){return Ot.valueOf(1)};kl.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"};kl.SCI_NOT_ZERO.get=function(){return"0.0E0"};Object.defineProperties(Ot,kl);var Gs=function(){},VP={DP_SAFE_EPSILON:{configurable:!0}};Gs.prototype.interfaces_=function(){return[]};Gs.prototype.getClass=function(){return Gs};Gs.orientationIndex=function(e,t,i){var r=Gs.orientationIndexFilter(e,t,i);if(r<=1)return r;var a=Ot.valueOf(t.x).selfAdd(-e.x),o=Ot.valueOf(t.y).selfAdd(-e.y),s=Ot.valueOf(i.x).selfAdd(-t.x),d=Ot.valueOf(i.y).selfAdd(-t.y);return a.selfMultiply(d).selfSubtract(o.selfMultiply(s)).signum()};Gs.signOfDet2x2=function(e,t,i,r){var a=e.multiply(r).selfSubtract(t.multiply(i));return a.signum()};Gs.intersection=function(e,t,i,r){var a=Ot.valueOf(r.y).selfSubtract(i.y).selfMultiply(Ot.valueOf(t.x).selfSubtract(e.x)),o=Ot.valueOf(r.x).selfSubtract(i.x).selfMultiply(Ot.valueOf(t.y).selfSubtract(e.y)),s=a.subtract(o),d=Ot.valueOf(r.x).selfSubtract(i.x).selfMultiply(Ot.valueOf(e.y).selfSubtract(i.y)),p=Ot.valueOf(r.y).selfSubtract(i.y).selfMultiply(Ot.valueOf(e.x).selfSubtract(i.x)),m=d.subtract(p),y=m.selfDivide(s).doubleValue(),g=Ot.valueOf(e.x).selfAdd(Ot.valueOf(t.x).selfSubtract(e.x).selfMultiply(y)).doubleValue(),_=Ot.valueOf(t.x).selfSubtract(e.x).selfMultiply(Ot.valueOf(e.y).selfSubtract(i.y)),x=Ot.valueOf(t.y).selfSubtract(e.y).selfMultiply(Ot.valueOf(e.x).selfSubtract(i.x)),T=_.subtract(x),E=T.selfDivide(s).doubleValue(),k=Ot.valueOf(i.y).selfAdd(Ot.valueOf(r.y).selfSubtract(i.y).selfMultiply(E)).doubleValue();return new bt(g,k)};Gs.orientationIndexFilter=function(e,t,i){var r=null,a=(e.x-i.x)*(t.y-i.y),o=(e.y-i.y)*(t.x-i.x),s=a-o;if(a>0){if(o<=0)return Gs.signum(s);r=a+o}else if(a<0){if(o>=0)return Gs.signum(s);r=-a-o}else return Gs.signum(s);var d=Gs.DP_SAFE_EPSILON*r;return s>=d||-s>=d?Gs.signum(s):2};Gs.signum=function(e){return e>0?1:e<0?-1:0};VP.DP_SAFE_EPSILON.get=function(){return 1e-15};Object.defineProperties(Gs,VP);var Ei=function(){},bv={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};bv.X.get=function(){return 0};bv.Y.get=function(){return 1};bv.Z.get=function(){return 2};bv.M.get=function(){return 3};Ei.prototype.setOrdinate=function(e,t,i){};Ei.prototype.size=function(){};Ei.prototype.getOrdinate=function(e,t){};Ei.prototype.getCoordinate=function(){};Ei.prototype.getCoordinateCopy=function(e){};Ei.prototype.getDimension=function(){};Ei.prototype.getX=function(e){};Ei.prototype.clone=function(){};Ei.prototype.expandEnvelope=function(e){};Ei.prototype.copy=function(){};Ei.prototype.getY=function(e){};Ei.prototype.toCoordinateArray=function(){};Ei.prototype.interfaces_=function(){return[F0]};Ei.prototype.getClass=function(){return Ei};Object.defineProperties(Ei,bv);var WP=function(){},Gf=function(n){function e(){n.call(this,"Projective point not representable on the Cartesian plane.")}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(WP),Ua=function(){};Ua.arraycopy=function(e,t,i,r,a){for(var o=0,s=t;s<t+a;s++)i[r+o]=e[s],o++};Ua.getProperty=function(e){return{"line.separator":`
`}[e]};var vl=function n(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],i=arguments[1];this.x=t,this.y=i,this.w=1}else if(arguments[0]instanceof n&&arguments[1]instanceof n){var r=arguments[0],a=arguments[1];this.x=r.y*a.w-a.y*r.w,this.y=a.x*r.w-r.x*a.w,this.w=r.x*a.y-a.x*r.y}else if(arguments[0]instanceof bt&&arguments[1]instanceof bt){var o=arguments[0],s=arguments[1];this.x=o.y-s.y,this.y=s.x-o.x,this.w=o.x*s.y-s.x*o.y}}else if(arguments.length===3){var d=arguments[0],p=arguments[1],m=arguments[2];this.x=d,this.y=p,this.w=m}else if(arguments.length===4){var y=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3],T=y.y-g.y,E=g.x-y.x,k=y.x*g.y-g.x*y.y,v=_.y-x.y,w=x.x-_.x,N=_.x*x.y-x.x*_.y;this.x=E*N-w*k,this.y=v*k-T*N,this.w=T*w-v*E}};vl.prototype.getY=function(){var e=this.y/this.w;if(qn.isNaN(e)||qn.isInfinite(e))throw new Gf;return e};vl.prototype.getX=function(){var e=this.x/this.w;if(qn.isNaN(e)||qn.isInfinite(e))throw new Gf;return e};vl.prototype.getCoordinate=function(){var e=new bt;return e.x=this.getX(),e.y=this.getY(),e};vl.prototype.interfaces_=function(){return[]};vl.prototype.getClass=function(){return vl};vl.intersection=function(e,t,i,r){var a=e.y-t.y,o=t.x-e.x,s=e.x*t.y-t.x*e.y,d=i.y-r.y,p=r.x-i.x,m=i.x*r.y-r.x*i.y,y=o*m-p*s,g=d*s-a*m,_=a*p-d*o,x=y/_,T=g/_;if(qn.isNaN(x)||qn.isInfinite(x)||qn.isNaN(T)||qn.isInfinite(T))throw new Gf;return new bt(x,T)};var An=function n(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof bt){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof n){var t=arguments[0];this.init(t)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(arguments.length===4){var a=arguments[0],o=arguments[1],s=arguments[2],d=arguments[3];this.init(a,o,s,d)}},qP={serialVersionUID:{configurable:!0}};An.prototype.getArea=function(){return this.getWidth()*this.getHeight()};An.prototype.equals=function(e){if(!(e instanceof An))return!1;var t=e;return this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY()};An.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new An;var t=this._minx>e._minx?this._minx:e._minx,i=this._miny>e._miny?this._miny:e._miny,r=this._maxx<e._maxx?this._maxx:e._maxx,a=this._maxy<e._maxy?this._maxy:e._maxy;return new An(t,r,i,a)};An.prototype.isNull=function(){return this._maxx<this._minx};An.prototype.getMaxX=function(){return this._maxx};An.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof bt){var e=arguments[0];return this.covers(e.x,e.y)}else if(arguments[0]instanceof An){var t=arguments[0];return this.isNull()||t.isNull()?!1:t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.isNull()?!1:i>=this._minx&&i<=this._maxx&&r>=this._miny&&r<=this._maxy}};An.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof An){var e=arguments[0];return this.isNull()||e.isNull()?!1:!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}else if(arguments[0]instanceof bt){var t=arguments[0];return this.intersects(t.x,t.y)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.isNull()?!1:!(i>this._maxx||i<this._minx||r>this._maxy||r<this._miny)}};An.prototype.getMinY=function(){return this._miny};An.prototype.getMinX=function(){return this._minx};An.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof bt){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof An){var t=arguments[0];if(t.isNull())return null;this.isNull()?(this._minx=t.getMinX(),this._maxx=t.getMaxX(),this._miny=t.getMinY(),this._maxy=t.getMaxY()):(t._minx<this._minx&&(this._minx=t._minx),t._maxx>this._maxx&&(this._maxx=t._maxx),t._miny<this._miny&&(this._miny=t._miny),t._maxy>this._maxy&&(this._maxy=t._maxy))}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.isNull()?(this._minx=i,this._maxx=i,this._miny=r,this._maxy=r):(i<this._minx&&(this._minx=i),i>this._maxx&&(this._maxx=i),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}};An.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t};An.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx};An.prototype.compareTo=function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0};An.prototype.translate=function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)};An.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"};An.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1};An.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny};An.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t};An.prototype.expandBy=function(){if(arguments.length===1){var e=arguments[0];this.expandBy(e,e)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=i,this._maxy+=i,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}};An.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof An){var e=arguments[0];return this.covers(e)}else if(arguments[0]instanceof bt){var t=arguments[0];return this.covers(t)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.covers(i,r)}};An.prototype.centre=function(){return this.isNull()?null:new bt((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)};An.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof bt){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof An){var t=arguments[0];this._minx=t._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(arguments.length===4){var a=arguments[0],o=arguments[1],s=arguments[2],d=arguments[3];a<o?(this._minx=a,this._maxx=o):(this._minx=o,this._maxx=a),s<d?(this._miny=s,this._maxy=d):(this._miny=d,this._maxy=s)}};An.prototype.getMaxY=function(){return this._maxy};An.prototype.distance=function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var i=0;return this._maxy<e._miny?i=e._miny-this._maxy:this._miny>e._maxy&&(i=this._miny-e._maxy),t===0?i:i===0?t:Math.sqrt(t*t+i*i)};An.prototype.hashCode=function(){var e=17;return e=37*e+bt.hashCode(this._minx),e=37*e+bt.hashCode(this._maxx),e=37*e+bt.hashCode(this._miny),e=37*e+bt.hashCode(this._maxy),e};An.prototype.interfaces_=function(){return[Ko,Qo]};An.prototype.getClass=function(){return An};An.intersects=function(){if(arguments.length===3){var e=arguments[0],t=arguments[1],i=arguments[2];return i.x>=(e.x<t.x?e.x:t.x)&&i.x<=(e.x>t.x?e.x:t.x)&&i.y>=(e.y<t.y?e.y:t.y)&&i.y<=(e.y>t.y?e.y:t.y)}else if(arguments.length===4){var r=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3],d=Math.min(o.x,s.x),p=Math.max(o.x,s.x),m=Math.min(r.x,a.x),y=Math.max(r.x,a.x);return!(m>p||y<d||(d=Math.min(o.y,s.y),p=Math.max(o.y,s.y),m=Math.min(r.y,a.y),y=Math.max(r.y,a.y),m>p)||y<d)}};qP.serialVersionUID.get=function(){return 5873921885273102e3};Object.defineProperties(An,qP);var Rl={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},j0=function(e){this.geometryFactory=e||new yi};j0.prototype.read=function(e){var t,i,r;e=e.replace(/[\n\r]/g," ");var a=Rl.typeStr.exec(e);if(e.search("EMPTY")!==-1&&(a=Rl.emptyTypeStr.exec(e),a[2]=void 0),a&&(i=a[1].toLowerCase(),r=a[2],Vm[i]&&(t=Vm[i].apply(this,[r]))),t===void 0)throw new Error("Could not parse WKT "+e);return t};j0.prototype.write=function(e){return this.extractGeometry(e)};j0.prototype.extractGeometry=function(e){var t=e.getGeometryType().toLowerCase();if(!Yc[t])return null;var i=t.toUpperCase(),r;return e.isEmpty()?r=i+" EMPTY":r=i+"("+Yc[t].apply(this,[e])+")",r};var Yc={coordinate:function(e){return e.x+" "+e.y},point:function(e){return Yc.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var t=this,i=[],r=0,a=e._geometries.length;r<a;++r)i.push("("+Yc.point.apply(t,[e._geometries[r]])+")");return i.join(",")},linestring:function(e){for(var t=this,i=[],r=0,a=e._points._coordinates.length;r<a;++r)i.push(Yc.coordinate.apply(t,[e._points._coordinates[r]]));return i.join(",")},linearring:function(e){for(var t=this,i=[],r=0,a=e._points._coordinates.length;r<a;++r)i.push(Yc.coordinate.apply(t,[e._points._coordinates[r]]));return i.join(",")},multilinestring:function(e){for(var t=this,i=[],r=0,a=e._geometries.length;r<a;++r)i.push("("+Yc.linestring.apply(t,[e._geometries[r]])+")");return i.join(",")},polygon:function(e){var t=this,i=[];i.push("("+Yc.linestring.apply(this,[e._shell])+")");for(var r=0,a=e._holes.length;r<a;++r)i.push("("+Yc.linestring.apply(t,[e._holes[r]])+")");return i.join(",")},multipolygon:function(e){for(var t=this,i=[],r=0,a=e._geometries.length;r<a;++r)i.push("("+Yc.polygon.apply(t,[e._geometries[r]])+")");return i.join(",")},geometrycollection:function(e){for(var t=this,i=[],r=0,a=e._geometries.length;r<a;++r)i.push(t.extractGeometry(e._geometries[r]));return i.join(",")}},Vm={point:function(e){if(e===void 0)return this.geometryFactory.createPoint();var t=e.trim().split(Rl.spaces);return this.geometryFactory.createPoint(new bt(Number.parseFloat(t[0]),Number.parseFloat(t[1])))},multipoint:function(e){var t=this;if(e===void 0)return this.geometryFactory.createMultiPoint();for(var i,r=e.trim().split(","),a=[],o=0,s=r.length;o<s;++o)i=r[o].replace(Rl.trimParens,"$1"),a.push(Vm.point.apply(t,[i]));return this.geometryFactory.createMultiPoint(a)},linestring:function(e){if(e===void 0)return this.geometryFactory.createLineString();for(var t=e.trim().split(","),i=[],r,a=0,o=t.length;a<o;++a)r=t[a].trim().split(Rl.spaces),i.push(new bt(Number.parseFloat(r[0]),Number.parseFloat(r[1])));return this.geometryFactory.createLineString(i)},linearring:function(e){if(e===void 0)return this.geometryFactory.createLinearRing();for(var t=e.trim().split(","),i=[],r,a=0,o=t.length;a<o;++a)r=t[a].trim().split(Rl.spaces),i.push(new bt(Number.parseFloat(r[0]),Number.parseFloat(r[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(e){var t=this;if(e===void 0)return this.geometryFactory.createMultiLineString();for(var i,r=e.trim().split(Rl.parenComma),a=[],o=0,s=r.length;o<s;++o)i=r[o].replace(Rl.trimParens,"$1"),a.push(Vm.linestring.apply(t,[i]));return this.geometryFactory.createMultiLineString(a)},polygon:function(e){var t=this;if(e===void 0)return this.geometryFactory.createPolygon();for(var i,r,a,o=e.trim().split(Rl.parenComma),s,d=[],p=0,m=o.length;p<m;++p)i=o[p].replace(Rl.trimParens,"$1"),r=Vm.linestring.apply(t,[i]),a=t.geometryFactory.createLinearRing(r._points),p===0?s=a:d.push(a);return this.geometryFactory.createPolygon(s,d)},multipolygon:function(e){var t=this;if(e===void 0)return this.geometryFactory.createMultiPolygon();for(var i,r=e.trim().split(Rl.doubleParenComma),a=[],o=0,s=r.length;o<s;++o)i=r[o].replace(Rl.trimParens,"$1"),a.push(Vm.polygon.apply(t,[i]));return this.geometryFactory.createMultiPolygon(a)},geometrycollection:function(e){var t=this;if(e===void 0)return this.geometryFactory.createGeometryCollection();e=e.replace(/,\s*([A-Za-z])/g,"|$1");for(var i=e.trim().split("|"),r=[],a=0,o=i.length;a<o;++a)r.push(t.read(i[a]));return this.geometryFactory.createGeometryCollection(r)}},bl=function(e){this.parser=new j0(e)};bl.prototype.write=function(e){return this.parser.write(e)};bl.toLineString=function(e,t){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"};var iu=function(n){function e(t){n.call(this,t),this.name="RuntimeException",this.message=t,this.stack=new n().stack}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),Fb=function(n){function e(){if(n.call(this),arguments.length===0)n.call(this);else if(arguments.length===1){var t=arguments[0];n.call(this,t)}}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(iu),oi=function(){};oi.prototype.interfaces_=function(){return[]};oi.prototype.getClass=function(){return oi};oi.shouldNeverReachHere=function(){if(arguments.length===0)oi.shouldNeverReachHere(null);else if(arguments.length===1){var e=arguments[0];throw new Fb("Should never reach here"+(e!==null?": "+e:""))}};oi.isTrue=function(){var e,t;if(arguments.length===1)e=arguments[0],oi.isTrue(e,null);else if(arguments.length===2&&(e=arguments[0],t=arguments[1],!e))throw t===null?new Fb:new Fb(t)};oi.equals=function(){var e,t,i;if(arguments.length===2)e=arguments[0],t=arguments[1],oi.equals(e,t,null);else if(arguments.length===3&&(e=arguments[0],t=arguments[1],i=arguments[2],!t.equals(e)))throw new Fb("Expected "+e+" but encountered "+t+(i!==null?": "+i:""))};var Sr=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new bt,this._intPt[1]=new bt,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Up={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Sr.prototype.getIndexAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]};Sr.prototype.getTopologySummary=function(){var e=new ac;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()};Sr.prototype.computeIntersection=function(e,t,i,r){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=i,this._inputLines[1][1]=r,this._result=this.computeIntersect(e,t,i,r)};Sr.prototype.getIntersectionNum=function(){return this._result};Sr.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var e=arguments[0],t=this.getEdgeDistance(e,0),i=this.getEdgeDistance(e,1);t>i?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}};Sr.prototype.isProper=function(){return this.hasIntersection()&&this._isProper};Sr.prototype.setPrecisionModel=function(e){this._precisionModel=e};Sr.prototype.isInteriorIntersection=function(){var e=this;if(arguments.length===0)return!!(this.isInteriorIntersection(0)||this.isInteriorIntersection(1));if(arguments.length===1){for(var t=arguments[0],i=0;i<this._result;i++)if(!(e._intPt[i].equals2D(e._inputLines[t][0])||e._intPt[i].equals2D(e._inputLines[t][1])))return!0;return!1}};Sr.prototype.getIntersection=function(e){return this._intPt[e]};Sr.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper};Sr.prototype.hasIntersection=function(){return this._result!==Sr.NO_INTERSECTION};Sr.prototype.getEdgeDistance=function(e,t){var i=Sr.computeEdgeDistance(this._intPt[t],this._inputLines[e][0],this._inputLines[e][1]);return i};Sr.prototype.isCollinear=function(){return this._result===Sr.COLLINEAR_INTERSECTION};Sr.prototype.toString=function(){return bl.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+bl.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()};Sr.prototype.getEndpoint=function(e,t){return this._inputLines[e][t]};Sr.prototype.isIntersection=function(e){for(var t=this,i=0;i<this._result;i++)if(t._intPt[i].equals2D(e))return!0;return!1};Sr.prototype.getIntersectionAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]};Sr.prototype.interfaces_=function(){return[]};Sr.prototype.getClass=function(){return Sr};Sr.computeEdgeDistance=function(e,t,i){var r=Math.abs(i.x-t.x),a=Math.abs(i.y-t.y),o=-1;if(e.equals(t))o=0;else if(e.equals(i))r>a?o=r:o=a;else{var s=Math.abs(e.x-t.x),d=Math.abs(e.y-t.y);r>a?o=s:o=d,o===0&&!e.equals(t)&&(o=Math.max(s,d))}return oi.isTrue(!(o===0&&!e.equals(t)),"Bad distance calculation"),o};Sr.nonRobustComputeEdgeDistance=function(e,t,i){var r=e.x-t.x,a=e.y-t.y,o=Math.sqrt(r*r+a*a);return oi.isTrue(!(o===0&&!e.equals(t)),"Invalid distance calculation"),o};Up.DONT_INTERSECT.get=function(){return 0};Up.DO_INTERSECT.get=function(){return 1};Up.COLLINEAR.get=function(){return 2};Up.NO_INTERSECTION.get=function(){return 0};Up.POINT_INTERSECTION.get=function(){return 1};Up.COLLINEAR_INTERSECTION.get=function(){return 2};Object.defineProperties(Sr,Up);var hh=function(n){function e(){n.apply(this,arguments)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(i){var r=new An(this._inputLines[0][0],this._inputLines[0][1]),a=new An(this._inputLines[1][0],this._inputLines[1][1]);return r.contains(i)&&a.contains(i)},e.prototype.computeIntersection=function(){if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];if(this._isProper=!1,An.intersects(r,a,i)&&ln.orientationIndex(r,a,i)===0&&ln.orientationIndex(a,r,i)===0)return this._isProper=!0,(i.equals(r)||i.equals(a))&&(this._isProper=!1),this._result=n.POINT_INTERSECTION,null;this._result=n.NO_INTERSECTION}else return n.prototype.computeIntersection.apply(this,arguments)},e.prototype.normalizeToMinimum=function(i,r,a,o,s){s.x=this.smallestInAbsValue(i.x,r.x,a.x,o.x),s.y=this.smallestInAbsValue(i.y,r.y,a.y,o.y),i.x-=s.x,i.y-=s.y,r.x-=s.x,r.y-=s.y,a.x-=s.x,a.y-=s.y,o.x-=s.x,o.y-=s.y},e.prototype.safeHCoordinateIntersection=function(i,r,a,o){var s=null;try{s=vl.intersection(i,r,a,o)}catch(d){if(d instanceof Gf)s=e.nearestEndpoint(i,r,a,o);else throw d}finally{}return s},e.prototype.intersection=function(i,r,a,o){var s=this.intersectionWithNormalization(i,r,a,o);return this.isInSegmentEnvelopes(s)||(s=new bt(e.nearestEndpoint(i,r,a,o))),this._precisionModel!==null&&this._precisionModel.makePrecise(s),s},e.prototype.smallestInAbsValue=function(i,r,a,o){var s=i,d=Math.abs(s);return Math.abs(r)<d&&(s=r,d=Math.abs(r)),Math.abs(a)<d&&(s=a,d=Math.abs(a)),Math.abs(o)<d&&(s=o),s},e.prototype.checkDD=function(i,r,a,o,s){var d=Gs.intersection(i,r,a,o),p=this.isInSegmentEnvelopes(d);Ua.out.println("DD in env = "+p+"  --------------------- "+d),s.distance(d)>1e-4&&Ua.out.println("Distance = "+s.distance(d))},e.prototype.intersectionWithNormalization=function(i,r,a,o){var s=new bt(i),d=new bt(r),p=new bt(a),m=new bt(o),y=new bt;this.normalizeToEnvCentre(s,d,p,m,y);var g=this.safeHCoordinateIntersection(s,d,p,m);return g.x+=y.x,g.y+=y.y,g},e.prototype.computeCollinearIntersection=function(i,r,a,o){var s=An.intersects(i,r,a),d=An.intersects(i,r,o),p=An.intersects(a,o,i),m=An.intersects(a,o,r);return s&&d?(this._intPt[0]=a,this._intPt[1]=o,n.COLLINEAR_INTERSECTION):p&&m?(this._intPt[0]=i,this._intPt[1]=r,n.COLLINEAR_INTERSECTION):s&&p?(this._intPt[0]=a,this._intPt[1]=i,a.equals(i)&&!d&&!m?n.POINT_INTERSECTION:n.COLLINEAR_INTERSECTION):s&&m?(this._intPt[0]=a,this._intPt[1]=r,a.equals(r)&&!d&&!p?n.POINT_INTERSECTION:n.COLLINEAR_INTERSECTION):d&&p?(this._intPt[0]=o,this._intPt[1]=i,o.equals(i)&&!s&&!m?n.POINT_INTERSECTION:n.COLLINEAR_INTERSECTION):d&&m?(this._intPt[0]=o,this._intPt[1]=r,o.equals(r)&&!s&&!p?n.POINT_INTERSECTION:n.COLLINEAR_INTERSECTION):n.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(i,r,a,o,s){var d=i.x<r.x?i.x:r.x,p=i.y<r.y?i.y:r.y,m=i.x>r.x?i.x:r.x,y=i.y>r.y?i.y:r.y,g=a.x<o.x?a.x:o.x,_=a.y<o.y?a.y:o.y,x=a.x>o.x?a.x:o.x,T=a.y>o.y?a.y:o.y,E=d>g?d:g,k=m<x?m:x,v=p>_?p:_,w=y<T?y:T,N=(E+k)/2,S=(v+w)/2;s.x=N,s.y=S,i.x-=s.x,i.y-=s.y,r.x-=s.x,r.y-=s.y,a.x-=s.x,a.y-=s.y,o.x-=s.x,o.y-=s.y},e.prototype.computeIntersect=function(i,r,a,o){if(this._isProper=!1,!An.intersects(i,r,a,o))return n.NO_INTERSECTION;var s=ln.orientationIndex(i,r,a),d=ln.orientationIndex(i,r,o);if(s>0&&d>0||s<0&&d<0)return n.NO_INTERSECTION;var p=ln.orientationIndex(a,o,i),m=ln.orientationIndex(a,o,r);if(p>0&&m>0||p<0&&m<0)return n.NO_INTERSECTION;var y=s===0&&d===0&&p===0&&m===0;return y?this.computeCollinearIntersection(i,r,a,o):(s===0||d===0||p===0||m===0?(this._isProper=!1,i.equals2D(a)||i.equals2D(o)?this._intPt[0]=i:r.equals2D(a)||r.equals2D(o)?this._intPt[0]=r:s===0?this._intPt[0]=new bt(a):d===0?this._intPt[0]=new bt(o):p===0?this._intPt[0]=new bt(i):m===0&&(this._intPt[0]=new bt(r))):(this._isProper=!0,this._intPt[0]=this.intersection(i,r,a,o)),n.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(i,r,a,o){var s=i,d=ln.distancePointLine(i,a,o),p=ln.distancePointLine(r,a,o);return p<d&&(d=p,s=r),p=ln.distancePointLine(a,i,r),p<d&&(d=p,s=a),p=ln.distancePointLine(o,i,r),p<d&&(d=p,s=o),s},e}(Sr),xp=function(){};xp.prototype.interfaces_=function(){return[]};xp.prototype.getClass=function(){return xp};xp.orientationIndex=function(e,t,i){var r=t.x-e.x,a=t.y-e.y,o=i.x-t.x,s=i.y-t.y;return xp.signOfDet2x2(r,a,o,s)};xp.signOfDet2x2=function(e,t,i,r){var a=null,o=null,s=null;if(a=1,e===0||r===0)return t===0||i===0?0:t>0?i>0?-a:a:i>0?a:-a;if(t===0||i===0)return r>0?e>0?a:-a:e>0?-a:a;if(t>0?r>0?t<=r||(a=-a,o=e,e=i,i=o,o=t,t=r,r=o):t<=-r?(a=-a,i=-i,r=-r):(o=e,e=-i,i=o,o=t,t=-r,r=o):r>0?-t<=r?(a=-a,e=-e,t=-t):(o=-e,e=i,i=o,o=-t,t=r,r=o):t>=r?(e=-e,t=-t,i=-i,r=-r):(a=-a,o=-e,e=-i,i=o,o=-t,t=-r,r=o),e>0)if(i>0){if(!(e<=i))return a}else return a;else{if(i>0)return-a;if(e>=i)a=-a,e=-e,i=-i;else return-a}for(;;){if(s=Math.floor(i/e),i=i-s*e,r=r-s*t,r<0)return-a;if(r>t)return a;if(e>i+i){if(t<r+r)return a}else{if(t>r+r)return-a;i=e-i,r=t-r,a=-a}if(r===0)return i===0?0:-a;if(i===0||(s=Math.floor(e/i),e=e-s*i,t=t-s*r,t<0))return a;if(t>r)return-a;if(i>e+e){if(r<t+t)return-a}else{if(r>t+t)return a;e=i-e,t=r-t,a=-a}if(t===0)return e===0?0:a;if(e===0)return-a}};var Vl=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};Vl.prototype.countSegment=function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var i=e.x,r=t.x;return i>r&&(i=t.x,r=e.x),this._p.x>=i&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var a=e.x-this._p.x,o=e.y-this._p.y,s=t.x-this._p.x,d=t.y-this._p.y,p=xp.signOfDet2x2(a,o,s,d);if(p===0)return this._isPointOnSegment=!0,null;d<o&&(p=-p),p>0&&this._crossingCount++}};Vl.prototype.isPointInPolygon=function(){return this.getLocation()!==kt.EXTERIOR};Vl.prototype.getLocation=function(){return this._isPointOnSegment?kt.BOUNDARY:this._crossingCount%2===1?kt.INTERIOR:kt.EXTERIOR};Vl.prototype.isOnSegment=function(){return this._isPointOnSegment};Vl.prototype.interfaces_=function(){return[]};Vl.prototype.getClass=function(){return Vl};Vl.locatePointInRing=function(){if(arguments[0]instanceof bt&&Bn(arguments[1],Ei)){for(var e=arguments[0],t=arguments[1],i=new Vl(e),r=new bt,a=new bt,o=1;o<t.size();o++)if(t.getCoordinate(o,r),t.getCoordinate(o-1,a),i.countSegment(r,a),i.isOnSegment())return i.getLocation();return i.getLocation()}else if(arguments[0]instanceof bt&&arguments[1]instanceof Array){for(var s=arguments[0],d=arguments[1],p=new Vl(s),m=1;m<d.length;m++){var y=d[m],g=d[m-1];if(p.countSegment(y,g),p.isOnSegment())return p.getLocation()}return p.getLocation()}};var ln=function(){},Gp={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};ln.prototype.interfaces_=function(){return[]};ln.prototype.getClass=function(){return ln};ln.orientationIndex=function(e,t,i){return Gs.orientationIndex(e,t,i)};ln.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,i=e[0].x,r=1;r<e.length-1;r++){var a=e[r].x-i,o=e[r+1].y,s=e[r-1].y;t+=a*(s-o)}return t/2}else if(Bn(arguments[0],Ei)){var d=arguments[0],p=d.size();if(p<3)return 0;var m=new bt,y=new bt,g=new bt;d.getCoordinate(0,y),d.getCoordinate(1,g);var _=y.x;g.x-=_;for(var x=0,T=1;T<p-1;T++)m.y=y.y,y.x=g.x,y.y=g.y,d.getCoordinate(T+1,g),g.x-=_,x+=y.x*(m.y-g.y);return x/2}};ln.distanceLineLine=function(e,t,i,r){if(e.equals(t))return ln.distancePointLine(e,i,r);if(i.equals(r))return ln.distancePointLine(r,e,t);var a=!1;if(!An.intersects(e,t,i,r))a=!0;else{var o=(t.x-e.x)*(r.y-i.y)-(t.y-e.y)*(r.x-i.x);if(o===0)a=!0;else{var s=(e.y-i.y)*(r.x-i.x)-(e.x-i.x)*(r.y-i.y),d=(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y),p=d/o,m=s/o;(m<0||m>1||p<0||p>1)&&(a=!0)}}return a?Po.min(ln.distancePointLine(e,i,r),ln.distancePointLine(t,i,r),ln.distancePointLine(i,e,t),ln.distancePointLine(r,e,t)):0};ln.isPointInRing=function(e,t){return ln.locatePointInRing(e,t)!==kt.EXTERIOR};ln.computeLength=function(e){var t=e.size();if(t<=1)return 0;var i=0,r=new bt;e.getCoordinate(0,r);for(var a=r.x,o=r.y,s=1;s<t;s++){e.getCoordinate(s,r);var d=r.x,p=r.y,m=d-a,y=p-o;i+=Math.sqrt(m*m+y*y),a=d,o=p}return i};ln.isCCW=function(e){var t=e.length-1;if(t<3)throw new vr("Ring has fewer than 4 points, so orientation cannot be determined");for(var i=e[0],r=0,a=1;a<=t;a++){var o=e[a];o.y>i.y&&(i=o,r=a)}var s=r;do s=s-1,s<0&&(s=t);while(e[s].equals2D(i)&&s!==r);var d=r;do d=(d+1)%t;while(e[d].equals2D(i)&&d!==r);var p=e[s],m=e[d];if(p.equals2D(i)||m.equals2D(i)||p.equals2D(m))return!1;var y=ln.computeOrientation(p,i,m),g=!1;return y===0?g=p.x>m.x:g=y>0,g};ln.locatePointInRing=function(e,t){return Vl.locatePointInRing(e,t)};ln.distancePointLinePerpendicular=function(e,t,i){var r=(i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y),a=((t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y))/r;return Math.abs(a)*Math.sqrt(r)};ln.computeOrientation=function(e,t,i){return ln.orientationIndex(e,t,i)};ln.distancePointLine=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1];if(t.length===0)throw new vr("Line array must contain at least one vertex");for(var i=e.distance(t[0]),r=0;r<t.length-1;r++){var a=ln.distancePointLine(e,t[r],t[r+1]);a<i&&(i=a)}return i}else if(arguments.length===3){var o=arguments[0],s=arguments[1],d=arguments[2];if(s.x===d.x&&s.y===d.y)return o.distance(s);var p=(d.x-s.x)*(d.x-s.x)+(d.y-s.y)*(d.y-s.y),m=((o.x-s.x)*(d.x-s.x)+(o.y-s.y)*(d.y-s.y))/p;if(m<=0)return o.distance(s);if(m>=1)return o.distance(d);var y=((s.y-o.y)*(d.x-s.x)-(s.x-o.x)*(d.y-s.y))/p;return Math.abs(y)*Math.sqrt(p)}};ln.isOnLine=function(e,t){for(var i=new hh,r=1;r<t.length;r++){var a=t[r-1],o=t[r];if(i.computeIntersection(e,a,o),i.hasIntersection())return!0}return!1};Gp.CLOCKWISE.get=function(){return-1};Gp.RIGHT.get=function(){return ln.CLOCKWISE};Gp.COUNTERCLOCKWISE.get=function(){return 1};Gp.LEFT.get=function(){return ln.COUNTERCLOCKWISE};Gp.COLLINEAR.get=function(){return 0};Gp.STRAIGHT.get=function(){return ln.COLLINEAR};Object.defineProperties(ln,Gp);var ru=function(){};ru.prototype.filter=function(e){};ru.prototype.interfaces_=function(){return[]};ru.prototype.getClass=function(){return ru};var jn=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},Ic={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};jn.prototype.isGeometryCollection=function(){return this.getSortIndex()===jn.SORTINDEX_GEOMETRYCOLLECTION};jn.prototype.getFactory=function(){return this._factory};jn.prototype.getGeometryN=function(e){return this};jn.prototype.getArea=function(){return 0};jn.prototype.isRectangle=function(){return!1};jn.prototype.equals=function(){if(arguments[0]instanceof jn){var e=arguments[0];return e===null?!1:this.equalsTopo(e)}else if(arguments[0]instanceof Object){var t=arguments[0];if(!(t instanceof jn))return!1;var i=t;return this.equalsExact(i)}};jn.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)};jn.prototype.geometryChanged=function(){this.apply(jn.geometryChangedFilter)};jn.prototype.geometryChangedAction=function(){this._envelope=null};jn.prototype.equalsNorm=function(e){return e===null?!1:this.norm().equalsExact(e.norm())};jn.prototype.getLength=function(){return 0};jn.prototype.getNumGeometries=function(){return 1};jn.prototype.compareTo=function(){if(arguments.length===1){var e=arguments[0],t=e;return this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.getSortIndex()!==i.getSortIndex()?this.getSortIndex()-i.getSortIndex():this.isEmpty()&&i.isEmpty()?0:this.isEmpty()?-1:i.isEmpty()?1:this.compareToSameClass(i,r)}};jn.prototype.getUserData=function(){return this._userData};jn.prototype.getSRID=function(){return this._SRID};jn.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())};jn.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===jn.SORTINDEX_GEOMETRYCOLLECTION)throw new vr("This method does not support GeometryCollection arguments")};jn.prototype.equal=function(e,t,i){return i===0?e.equals(t):e.distance(t)<=i};jn.prototype.norm=function(){var e=this.copy();return e.normalize(),e};jn.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()};jn.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new An(this._envelope)};jn.prototype.setSRID=function(e){this._SRID=e};jn.prototype.setUserData=function(e){this._userData=e};jn.prototype.compare=function(e,t){for(var i=e.iterator(),r=t.iterator();i.hasNext()&&r.hasNext();){var a=i.next(),o=r.next(),s=a.compareTo(o);if(s!==0)return s}return i.hasNext()?1:r.hasNext()?-1:0};jn.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()};jn.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===jn.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===jn.SORTINDEX_MULTIPOINT||this.getSortIndex()===jn.SORTINDEX_MULTILINESTRING||this.getSortIndex()===jn.SORTINDEX_MULTIPOLYGON};jn.prototype.interfaces_=function(){return[F0,Ko,Qo]};jn.prototype.getClass=function(){return jn};jn.hasNonEmptyElements=function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1};jn.hasNullElements=function(e){for(var t=0;t<e.length;t++)if(e[t]===null)return!0;return!1};Ic.serialVersionUID.get=function(){return 8763622679187377e3};Ic.SORTINDEX_POINT.get=function(){return 0};Ic.SORTINDEX_MULTIPOINT.get=function(){return 1};Ic.SORTINDEX_LINESTRING.get=function(){return 2};Ic.SORTINDEX_LINEARRING.get=function(){return 3};Ic.SORTINDEX_MULTILINESTRING.get=function(){return 4};Ic.SORTINDEX_POLYGON.get=function(){return 5};Ic.SORTINDEX_MULTIPOLYGON.get=function(){return 6};Ic.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7};Ic.geometryChangedFilter.get=function(){return vS};Object.defineProperties(jn,Ic);var vS=function(){};vS.interfaces_=function(){return[ru]};vS.filter=function(e){e.geometryChangedAction()};var xc=function(){};xc.prototype.filter=function(e){};xc.prototype.interfaces_=function(){return[]};xc.prototype.getClass=function(){return xc};var Ho=function(){},fu={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Ho.prototype.isInBoundary=function(e){};Ho.prototype.interfaces_=function(){return[]};Ho.prototype.getClass=function(){return Ho};fu.Mod2BoundaryNodeRule.get=function(){return hf};fu.EndPointBoundaryNodeRule.get=function(){return pf};fu.MultiValentEndPointBoundaryNodeRule.get=function(){return mf};fu.MonoValentEndPointBoundaryNodeRule.get=function(){return ff};fu.MOD2_BOUNDARY_RULE.get=function(){return new hf};fu.ENDPOINT_BOUNDARY_RULE.get=function(){return new pf};fu.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new mf};fu.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ff};fu.OGC_SFS_BOUNDARY_RULE.get=function(){return Ho.MOD2_BOUNDARY_RULE};Object.defineProperties(Ho,fu);var hf=function(){};hf.prototype.isInBoundary=function(e){return e%2===1};hf.prototype.interfaces_=function(){return[Ho]};hf.prototype.getClass=function(){return hf};var pf=function(){};pf.prototype.isInBoundary=function(e){return e>0};pf.prototype.interfaces_=function(){return[Ho]};pf.prototype.getClass=function(){return pf};var mf=function(){};mf.prototype.isInBoundary=function(e){return e>1};mf.prototype.interfaces_=function(){return[Ho]};mf.prototype.getClass=function(){return mf};var ff=function(){};ff.prototype.isInBoundary=function(e){return e===1};ff.prototype.interfaces_=function(){return[Ho]};ff.prototype.getClass=function(){return ff};var sa=function(){};sa.prototype.add=function(){};sa.prototype.addAll=function(){};sa.prototype.isEmpty=function(){};sa.prototype.iterator=function(){};sa.prototype.size=function(){};sa.prototype.toArray=function(){};sa.prototype.remove=function(){};function xS(n){this.message=n||""}xS.prototype=new Error;xS.prototype.name="IndexOutOfBoundsException";var Yf=function(){};Yf.prototype.hasNext=function(){};Yf.prototype.next=function(){};Yf.prototype.remove=function(){};var xl=function(n){function e(){n.apply(this,arguments)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(sa);function Vf(n){this.message=n||""}Vf.prototype=new Error;Vf.prototype.name="NoSuchElementException";var en=function(n){function e(){n.call(this),this.array_=[],arguments[0]instanceof sa&&this.addAll(arguments[0])}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[n,sa]},e.prototype.add=function(i){return arguments.length===1?this.array_.push(i):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(i){for(var r=this,a=i.iterator();a.hasNext();)r.add(a.next());return!0},e.prototype.set=function(i,r){var a=this.array_[i];return this.array_[i]=r,a},e.prototype.iterator=function(){return new DU(this)},e.prototype.get=function(i){if(i<0||i>=this.size())throw new xS;return this.array_[i]},e.prototype.isEmpty=function(){return this.array_.length===0},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var i=this,r=[],a=0,o=this.array_.length;a<o;a++)r.push(i.array_[a]);return r},e.prototype.remove=function(i){for(var r=this,a=!1,o=0,s=this.array_.length;o<s;o++)if(r.array_[o]===i){r.array_.splice(o,1),a=!0;break}return a},e}(xl),DU=function(n){function e(t){n.call(this),this.arrayList_=t,this.position_=0}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Vf;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(i){return this.arrayList_.set(this.position_-1,i)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Yf),_v=function(n){function e(){if(n.call(this),arguments.length!==0){if(arguments.length===1){var i=arguments[0];this.ensureCapacity(i.length),this.add(i,!0)}else if(arguments.length===2){var r=arguments[0],a=arguments[1];this.ensureCapacity(r.length),this.add(r,a)}}}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={coordArrayType:{configurable:!0}};return t.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(r){return this.get(r)},e.prototype.addAll=function(){var r=this;if(arguments.length===2){for(var a=arguments[0],o=arguments[1],s=!1,d=a.iterator();d.hasNext();)r.add(d.next(),o),s=!0;return s}else return n.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var r=this,a=n.prototype.clone.call(this),o=0;o<this.size();o++)a.add(o,r.get(o).copy());return a},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){var r=this;if(arguments.length===1){var a=arguments[0];n.prototype.add.call(this,a)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var o=arguments[0],s=arguments[1];return this.add(o,s,!0),!0}else if(arguments[0]instanceof bt&&typeof arguments[1]=="boolean"){var d=arguments[0],p=arguments[1];if(!p&&this.size()>=1){var m=this.get(this.size()-1);if(m.equals2D(d))return null}n.prototype.add.call(this,d)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var y=arguments[0],g=arguments[1];return this.add(y,g),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var _=arguments[0],x=arguments[1],T=arguments[2];if(T)for(var E=0;E<_.length;E++)r.add(_[E],x);else for(var k=_.length-1;k>=0;k--)r.add(_[k],x);return!0}else if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof bt){var v=arguments[0],w=arguments[1],N=arguments[2];if(!N){var S=this.size();if(S>0){if(v>0){var L=this.get(v-1);if(L.equals2D(w))return null}if(v<S){var O=this.get(v);if(O.equals2D(w))return null}}}n.prototype.add.call(this,v,w)}}else if(arguments.length===4){var Y=arguments[0],X=arguments[1],H=arguments[2],$=arguments[3],G=1;H>$&&(G=-1);for(var B=H;B!==$;B+=G)r.add(Y[B],X);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new bt(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,t),e}(en),xi=function(){},B0={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};B0.ForwardComparator.get=function(){return Fy};B0.BidirectionalComparator.get=function(){return gf};B0.coordArrayType.get=function(){return new Array(0).fill(null)};xi.prototype.interfaces_=function(){return[]};xi.prototype.getClass=function(){return xi};xi.isRing=function(e){return!(e.length<4||!e[0].equals2D(e[e.length-1]))};xi.ptNotInList=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(xi.indexOf(r,t)<0)return r}return null};xi.scroll=function(e,t){var i=xi.indexOf(t,e);if(i<0)return null;var r=new Array(e.length).fill(null);Ua.arraycopy(e,i,r,0,e.length-i),Ua.arraycopy(e,0,r,e.length-i,i),Ua.arraycopy(r,0,e,0,e.length)};xi.equals=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(e===null||t===null||e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!e[i].equals(t[i]))return!1;return!0}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2];if(r===a)return!0;if(r===null||a===null||r.length!==a.length)return!1;for(var s=0;s<r.length;s++)if(o.compare(r[s],a[s])!==0)return!1;return!0}};xi.intersection=function(e,t){for(var i=new _v,r=0;r<e.length;r++)t.intersects(e[r])&&i.add(e[r],!0);return i.toCoordinateArray()};xi.hasRepeatedPoints=function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1};xi.removeRepeatedPoints=function(e){if(!xi.hasRepeatedPoints(e))return e;var t=new _v(e,!1);return t.toCoordinateArray()};xi.reverse=function(e){for(var t=e.length-1,i=Math.trunc(t/2),r=0;r<=i;r++){var a=e[r];e[r]=e[t-r],e[t-r]=a}};xi.removeNull=function(e){for(var t=0,i=0;i<e.length;i++)e[i]!==null&&t++;var r=new Array(t).fill(null);if(t===0)return r;for(var a=0,o=0;o<e.length;o++)e[o]!==null&&(r[a++]=e[o]);return r};xi.copyDeep=function(){if(arguments.length===1){for(var e=arguments[0],t=new Array(e.length).fill(null),i=0;i<e.length;i++)t[i]=new bt(e[i]);return t}else if(arguments.length===5)for(var r=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3],d=arguments[4],p=0;p<d;p++)o[s+p]=new bt(r[a+p])};xi.isEqualReversed=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],a=t[e.length-i-1];if(r.compareTo(a)!==0)return!1}return!0};xi.envelope=function(e){for(var t=new An,i=0;i<e.length;i++)t.expandToInclude(e[i]);return t};xi.toCoordinateArray=function(e){return e.toArray(xi.coordArrayType)};xi.atLeastNCoordinatesOrNothing=function(e,t){return t.length>=e?t:[]};xi.indexOf=function(e,t){for(var i=0;i<t.length;i++)if(e.equals(t[i]))return i;return-1};xi.increasingDirection=function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var i=e.length-1-t,r=e[t].compareTo(e[i]);if(r!==0)return r}return 1};xi.compare=function(e,t){for(var i=0;i<e.length&&i<t.length;){var r=e[i].compareTo(t[i]);if(r!==0)return r;i++}return i<t.length?-1:i<e.length?1:0};xi.minCoordinate=function(e){for(var t=null,i=0;i<e.length;i++)(t===null||t.compareTo(e[i])>0)&&(t=e[i]);return t};xi.extract=function(e,t,i){t=Po.clamp(t,0,e.length),i=Po.clamp(i,-1,e.length);var r=i-t+1;i<0&&(r=0),t>=e.length&&(r=0),i<t&&(r=0);var a=new Array(r).fill(null);if(r===0)return a;for(var o=0,s=t;s<=i;s++)a[o++]=e[s];return a};Object.defineProperties(xi,B0);var Fy=function(){};Fy.prototype.compare=function(e,t){var i=e,r=t;return xi.compare(i,r)};Fy.prototype.interfaces_=function(){return[uf]};Fy.prototype.getClass=function(){return Fy};var gf=function(){};gf.prototype.compare=function(e,t){var i=e,r=t;if(i.length<r.length)return-1;if(i.length>r.length)return 1;if(i.length===0)return 0;var a=xi.compare(i,r),o=xi.isEqualReversed(i,r);return o?0:a};gf.prototype.OLDcompare=function(e,t){var i=e,r=t;if(i.length<r.length)return-1;if(i.length>r.length)return 1;if(i.length===0)return 0;for(var a=xi.increasingDirection(i),o=xi.increasingDirection(r),s=a>0?0:i.length-1,d=o>0?0:i.length-1,p=0;p<i.length;p++){var m=i[s].compareTo(r[d]);if(m!==0)return m;s+=a,d+=o}return 0};gf.prototype.interfaces_=function(){return[uf]};gf.prototype.getClass=function(){return gf};var Yp=function(){};Yp.prototype.get=function(){};Yp.prototype.put=function(){};Yp.prototype.size=function(){};Yp.prototype.values=function(){};Yp.prototype.entrySet=function(){};var MU=function(n){function e(){n.apply(this,arguments)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e}(Yp);function wv(n){this.message=n||""}wv.prototype=new Error;wv.prototype.name="OperationNotSupported";function U0(){}U0.prototype=new sa;U0.prototype.contains=function(){};var bS=function(n){function e(){n.call(this),this.array_=[],arguments[0]instanceof sa&&this.addAll(arguments[0])}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.contains=function(i){for(var r=this,a=0,o=this.array_.length;a<o;a++){var s=r.array_[a];if(s===i)return!0}return!1},e.prototype.add=function(i){return this.contains(i)?!1:(this.array_.push(i),!0)},e.prototype.addAll=function(i){for(var r=this,a=i.iterator();a.hasNext();)r.add(a.next());return!0},e.prototype.remove=function(i){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return this.array_.length===0},e.prototype.toArray=function(){for(var i=this,r=[],a=0,o=this.array_.length;a<o;a++)r.push(i.array_[a]);return r},e.prototype.iterator=function(){return new OU(this)},e}(U0),OU=function(n){function e(t){n.call(this),this.hashSet_=t,this.position_=0}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Vf;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new wv},e}(Yf),Wc=0,kd=1;function sN(n){return n===null?Wc:n.color}function rr(n){return n===null?null:n.parent}function Fc(n,e){n!==null&&(n.color=e)}function ww(n){return n===null?null:n.left}function oN(n){return n===null?null:n.right}function ns(){this.root_=null,this.size_=0}ns.prototype=new MU;ns.prototype.get=function(n){for(var e=this.root_;e!==null;){var t=n.compareTo(e.key);if(t<0)e=e.left;else if(t>0)e=e.right;else return e.value}return null};ns.prototype.put=function(n,e){if(this.root_===null)return this.root_={key:n,value:e,left:null,right:null,parent:null,color:Wc,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var t=this.root_,i,r;do if(i=t,r=n.compareTo(t.key),r<0)t=t.left;else if(r>0)t=t.right;else{var a=t.value;return t.value=e,a}while(t!==null);var o={key:n,left:null,right:null,value:e,parent:i,color:Wc,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?i.left=o:i.right=o,this.fixAfterInsertion(o),this.size_++,null};ns.prototype.fixAfterInsertion=function(n){var e=this;for(n.color=kd;n!=null&&n!==this.root_&&n.parent.color===kd;)if(rr(n)===ww(rr(rr(n)))){var t=oN(rr(rr(n)));sN(t)===kd?(Fc(rr(n),Wc),Fc(t,Wc),Fc(rr(rr(n)),kd),n=rr(rr(n))):(n===oN(rr(n))&&(n=rr(n),e.rotateLeft(n)),Fc(rr(n),Wc),Fc(rr(rr(n)),kd),e.rotateRight(rr(rr(n))))}else{var i=ww(rr(rr(n)));sN(i)===kd?(Fc(rr(n),Wc),Fc(i,Wc),Fc(rr(rr(n)),kd),n=rr(rr(n))):(n===ww(rr(n))&&(n=rr(n),e.rotateRight(n)),Fc(rr(n),Wc),Fc(rr(rr(n)),kd),e.rotateLeft(rr(rr(n))))}this.root_.color=Wc};ns.prototype.values=function(){var n=new en,e=this.getFirstEntry();if(e!==null)for(n.add(e.value);(e=ns.successor(e))!==null;)n.add(e.value);return n};ns.prototype.entrySet=function(){var n=new bS,e=this.getFirstEntry();if(e!==null)for(n.add(e);(e=ns.successor(e))!==null;)n.add(e);return n};ns.prototype.rotateLeft=function(n){if(n!=null){var e=n.right;n.right=e.left,e.left!=null&&(e.left.parent=n),e.parent=n.parent,n.parent===null?this.root_=e:n.parent.left===n?n.parent.left=e:n.parent.right=e,e.left=n,n.parent=e}};ns.prototype.rotateRight=function(n){if(n!=null){var e=n.left;n.left=e.right,e.right!=null&&(e.right.parent=n),e.parent=n.parent,n.parent===null?this.root_=e:n.parent.right===n?n.parent.right=e:n.parent.left=e,e.right=n,n.parent=e}};ns.prototype.getFirstEntry=function(){var n=this.root_;if(n!=null)for(;n.left!=null;)n=n.left;return n};ns.successor=function(n){if(n===null)return null;if(n.right!==null){for(var e=n.right;e.left!==null;)e=e.left;return e}else{for(var t=n.parent,i=n;t!==null&&i===t.right;)i=t,t=t.parent;return t}};ns.prototype.size=function(){return this.size_};var jy=function(){};jy.prototype.interfaces_=function(){return[]};jy.prototype.getClass=function(){return jy};function HP(){}HP.prototype=new U0;function Xl(){this.array_=[],arguments[0]instanceof sa&&this.addAll(arguments[0])}Xl.prototype=new HP;Xl.prototype.contains=function(n){for(var e=this,t=0,i=this.array_.length;t<i;t++){var r=e.array_[t];if(r.compareTo(n)===0)return!0}return!1};Xl.prototype.add=function(n){var e=this;if(this.contains(n))return!1;for(var t=0,i=this.array_.length;t<i;t++){var r=e.array_[t];if(r.compareTo(n)===1)return e.array_.splice(t,0,n),!0}return this.array_.push(n),!0};Xl.prototype.addAll=function(n){for(var e=this,t=n.iterator();t.hasNext();)e.add(t.next());return!0};Xl.prototype.remove=function(n){throw new wv};Xl.prototype.size=function(){return this.array_.length};Xl.prototype.isEmpty=function(){return this.array_.length===0};Xl.prototype.toArray=function(){for(var n=this,e=[],t=0,i=this.array_.length;t<i;t++)e.push(n.array_[t]);return e};Xl.prototype.iterator=function(){return new G0(this)};var G0=function(n){this.treeSet_=n,this.position_=0};G0.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Vf;return this.treeSet_.array_[this.position_++]};G0.prototype.hasNext=function(){return this.position_<this.treeSet_.size()};G0.prototype.remove=function(){throw new wv};var Gd=function(){};Gd.sort=function(){var e=arguments[0],t,i,r,a;if(arguments.length===1)a=function(s,d){return s.compareTo(d)},e.sort(a);else if(arguments.length===2)r=arguments[1],a=function(s,d){return r.compare(s,d)},e.sort(a);else if(arguments.length===3){i=e.slice(arguments[1],arguments[2]),i.sort();var o=e.slice(0,arguments[1]).concat(i,e.slice(arguments[2],e.length));for(e.splice(0,e.length),t=0;t<o.length;t++)e.push(o[t])}else if(arguments.length===4)for(i=e.slice(arguments[1],arguments[2]),r=arguments[3],a=function(s,d){return r.compare(s,d)},i.sort(a),o=e.slice(0,arguments[1]).concat(i,e.slice(arguments[2],e.length)),e.splice(0,e.length),t=0;t<o.length;t++)e.push(o[t])};Gd.asList=function(e){for(var t=new en,i=0,r=e.length;i<r;i++)t.add(e[i]);return t};var Ri=function(){},Nl={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Nl.P.get=function(){return 0};Nl.L.get=function(){return 1};Nl.A.get=function(){return 2};Nl.FALSE.get=function(){return-1};Nl.TRUE.get=function(){return-2};Nl.DONTCARE.get=function(){return-3};Nl.SYM_FALSE.get=function(){return"F"};Nl.SYM_TRUE.get=function(){return"T"};Nl.SYM_DONTCARE.get=function(){return"*"};Nl.SYM_P.get=function(){return"0"};Nl.SYM_L.get=function(){return"1"};Nl.SYM_A.get=function(){return"2"};Ri.prototype.interfaces_=function(){return[]};Ri.prototype.getClass=function(){return Ri};Ri.toDimensionSymbol=function(e){switch(e){case Ri.FALSE:return Ri.SYM_FALSE;case Ri.TRUE:return Ri.SYM_TRUE;case Ri.DONTCARE:return Ri.SYM_DONTCARE;case Ri.P:return Ri.SYM_P;case Ri.L:return Ri.SYM_L;case Ri.A:return Ri.SYM_A}throw new vr("Unknown dimension value: "+e)};Ri.toDimensionValue=function(e){switch(zy.toUpperCase(e)){case Ri.SYM_FALSE:return Ri.FALSE;case Ri.SYM_TRUE:return Ri.TRUE;case Ri.SYM_DONTCARE:return Ri.DONTCARE;case Ri.SYM_P:return Ri.P;case Ri.SYM_L:return Ri.L;case Ri.SYM_A:return Ri.A}throw new vr("Unknown dimension symbol: "+e)};Object.defineProperties(Ri,Nl);var Zl=function(){};Zl.prototype.filter=function(e){};Zl.prototype.interfaces_=function(){return[]};Zl.prototype.getClass=function(){return Zl};var _l=function(){};_l.prototype.filter=function(e,t){};_l.prototype.isDone=function(){};_l.prototype.isGeometryChanged=function(){};_l.prototype.interfaces_=function(){return[]};_l.prototype.getClass=function(){return _l};var _s=function(n){function e(i,r){if(n.call(this,r),this._geometries=i||[],n.hasNullElements(this._geometries))throw new vr("geometries must not contain null elements")}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var r=this,a=new An,o=0;o<this._geometries.length;o++)a.expandToInclude(r._geometries[o].getEnvelopeInternal());return a},e.prototype.getGeometryN=function(r){return this._geometries[r]},e.prototype.getSortIndex=function(){return n.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var r=this,a=new Array(this.getNumPoints()).fill(null),o=-1,s=0;s<this._geometries.length;s++)for(var d=r._geometries[s].getCoordinates(),p=0;p<d.length;p++)o++,a[o]=d[p];return a},e.prototype.getArea=function(){for(var r=this,a=0,o=0;o<this._geometries.length;o++)a+=r._geometries[o].getArea();return a},e.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var a=arguments[0],o=arguments[1];if(!this.isEquivalentClass(a))return!1;var s=a;if(this._geometries.length!==s._geometries.length)return!1;for(var d=0;d<this._geometries.length;d++)if(!r._geometries[d].equalsExact(s._geometries[d],o))return!1;return!0}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var r=this,a=0;a<this._geometries.length;a++)r._geometries[a].normalize();Gd.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var r=this,a=Ri.FALSE,o=0;o<this._geometries.length;o++)a=Math.max(a,r._geometries[o].getBoundaryDimension());return a},e.prototype.getDimension=function(){for(var r=this,a=Ri.FALSE,o=0;o<this._geometries.length;o++)a=Math.max(a,r._geometries[o].getDimension());return a},e.prototype.getLength=function(){for(var r=this,a=0,o=0;o<this._geometries.length;o++)a+=r._geometries[o].getLength();return a},e.prototype.getNumPoints=function(){for(var r=this,a=0,o=0;o<this._geometries.length;o++)a+=r._geometries[o].getNumPoints();return a},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var r=this,a=this._geometries.length,o=new Array(a).fill(null),s=0;s<this._geometries.length;s++)o[s]=r._geometries[s].reverse();return this.getFactory().createGeometryCollection(o)},e.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){var a=arguments[0],o=new Xl(Gd.asList(this._geometries)),s=new Xl(Gd.asList(a._geometries));return this.compare(o,s)}else if(arguments.length===2){for(var d=arguments[0],p=arguments[1],m=d,y=this.getNumGeometries(),g=m.getNumGeometries(),_=0;_<y&&_<g;){var x=r.getGeometryN(_),T=m.getGeometryN(_),E=x.compareToSameClass(T,p);if(E!==0)return E;_++}return _<y?1:_<g?-1:0}},e.prototype.apply=function(){var r=this;if(Bn(arguments[0],xc))for(var a=arguments[0],o=0;o<this._geometries.length;o++)r._geometries[o].apply(a);else if(Bn(arguments[0],_l)){var s=arguments[0];if(this._geometries.length===0)return null;for(var d=0;d<this._geometries.length&&(r._geometries[d].apply(s),!s.isDone());d++);s.isGeometryChanged()&&this.geometryChanged()}else if(Bn(arguments[0],Zl)){var p=arguments[0];p.filter(this);for(var m=0;m<this._geometries.length;m++)r._geometries[m].apply(p)}else if(Bn(arguments[0],ru)){var y=arguments[0];y.filter(this);for(var g=0;g<this._geometries.length;g++)r._geometries[g].apply(y)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),oi.shouldNeverReachHere(),null},e.prototype.clone=function(){var r=this,a=n.prototype.clone.call(this);a._geometries=new Array(this._geometries.length).fill(null);for(var o=0;o<this._geometries.length;o++)a._geometries[o]=r._geometries[o].clone();return a},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var r=this,a=new Array(this._geometries.length).fill(null),o=0;o<a.length;o++)a[o]=r._geometries[o].copy();return new e(a,this._factory)},e.prototype.isEmpty=function(){for(var r=this,a=0;a<this._geometries.length;a++)if(!r._geometries[a].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(e,t),e}(jn),Jd=function(n){function e(){n.apply(this,arguments)}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return jn.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],a=arguments[1];return this.isEquivalentClass(r)?n.prototype.equalsExact.call(this,r,a):!1}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Ri.FALSE:0},e.prototype.isClosed=function(){var r=this;if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!r._geometries[a].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var r=this,a=this._geometries.length,o=new Array(a).fill(null),s=0;s<this._geometries.length;s++)o[a-1-s]=r._geometries[s].reverse();return this.getFactory().createMultiLineString(o)},e.prototype.getBoundary=function(){return new Go(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var r=this,a=new Array(this._geometries.length).fill(null),o=0;o<a.length;o++)a[o]=r._geometries[o].copy();return new e(a,this._factory)},e.prototype.interfaces_=function(){return[jy]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(e,t),e}(_s),Go=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var e=arguments[0],t=Ho.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=t}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this._geom=i,this._geomFact=i.getFactory(),this._bnRule=r}};Go.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var t=this.computeBoundaryCoordinates(e);return t.length===1?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)};Go.prototype.getBoundary=function(){return this._geom instanceof Mr?this.boundaryLineString(this._geom):this._geom instanceof Jd?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()};Go.prototype.boundaryLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(e.isClosed()){var t=this._bnRule.isInBoundary(2);return t?e.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])};Go.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()};Go.prototype.computeBoundaryCoordinates=function(e){var t=this,i=new en;this._endpointMap=new ns;for(var r=0;r<e.getNumGeometries();r++){var a=e.getGeometryN(r);a.getNumPoints()!==0&&(t.addEndpoint(a.getCoordinateN(0)),t.addEndpoint(a.getCoordinateN(a.getNumPoints()-1)))}for(var o=this._endpointMap.entrySet().iterator();o.hasNext();){var s=o.next(),d=s.getValue(),p=d.count;t._bnRule.isInBoundary(p)&&i.add(s.getKey())}return xi.toCoordinateArray(i)};Go.prototype.addEndpoint=function(e){var t=this._endpointMap.get(e);t===null&&(t=new jb,this._endpointMap.put(e,t)),t.count++};Go.prototype.interfaces_=function(){return[]};Go.prototype.getClass=function(){return Go};Go.getBoundary=function(){if(arguments.length===1){var e=arguments[0],t=new Go(e);return t.getBoundary()}else if(arguments.length===2){var i=arguments[0],r=arguments[1],a=new Go(i,r);return a.getBoundary()}};var jb=function(){this.count=null};jb.prototype.interfaces_=function(){return[]};jb.prototype.getClass=function(){return jb};function RU(){}function $U(){}var zU=function(){};function FU(){}function jU(){}function BU(){}var Yo=function(){},_S={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Yo.prototype.interfaces_=function(){return[]};Yo.prototype.getClass=function(){return Yo};Yo.chars=function(e,t){for(var i=new Array(t).fill(null),r=0;r<t;r++)i[r]=e;return String(i)};Yo.getStackTrace=function(){if(arguments.length===1){var e=arguments[0],t=new FU,i=new RU;return e.printStackTrace(i),t.toString()}else if(arguments.length===2){var r=arguments[0],a=arguments[1],o="";new $U(Yo.getStackTrace(r));for(var s=new BU,d=0;d<a;d++)try{o+=s.readLine()+Yo.NEWLINE}catch(p){if(p instanceof jU)oi.shouldNeverReachHere();else throw p}finally{}return o}};Yo.split=function(e,t){for(var i=t.length,r=new en,a=""+e,o=a.indexOf(t);o>=0;){var s=a.substring(0,o);r.add(s),a=a.substring(o+i),o=a.indexOf(t)}a.length>0&&r.add(a);for(var d=new Array(r.size()).fill(null),p=0;p<d.length;p++)d[p]=r.get(p);return d};Yo.toString=function(){if(arguments.length===1){var e=arguments[0];return Yo.SIMPLE_ORDINATE_FORMAT.format(e)}};Yo.spaces=function(e){return Yo.chars(" ",e)};_S.NEWLINE.get=function(){return Ua.getProperty("line.separator")};_S.SIMPLE_ORDINATE_FORMAT.get=function(){return new zU};Object.defineProperties(Yo,_S);var Ur=function(){};Ur.prototype.interfaces_=function(){return[]};Ur.prototype.getClass=function(){return Ur};Ur.copyCoord=function(e,t,i,r){for(var a=Math.min(e.getDimension(),i.getDimension()),o=0;o<a;o++)i.setOrdinate(r,o,e.getOrdinate(t,o))};Ur.isRing=function(e){var t=e.size();return t===0?!0:t<=3?!1:e.getOrdinate(0,Ei.X)===e.getOrdinate(t-1,Ei.X)&&e.getOrdinate(0,Ei.Y)===e.getOrdinate(t-1,Ei.Y)};Ur.isEqual=function(e,t){var i=e.size(),r=t.size();if(i!==r)return!1;for(var a=Math.min(e.getDimension(),t.getDimension()),o=0;o<i;o++)for(var s=0;s<a;s++){var d=e.getOrdinate(o,s),p=t.getOrdinate(o,s);if(e.getOrdinate(o,s)!==t.getOrdinate(o,s)&&!(qn.isNaN(d)&&qn.isNaN(p)))return!1}return!0};Ur.extend=function(e,t,i){var r=e.create(i,t.getDimension()),a=t.size();if(Ur.copy(t,0,r,0,a),a>0)for(var o=a;o<i;o++)Ur.copy(t,a-1,r,o,1);return r};Ur.reverse=function(e){for(var t=e.size()-1,i=Math.trunc(t/2),r=0;r<=i;r++)Ur.swap(e,r,t-r)};Ur.swap=function(e,t,i){if(t===i)return null;for(var r=0;r<e.getDimension();r++){var a=e.getOrdinate(t,r);e.setOrdinate(t,r,e.getOrdinate(i,r)),e.setOrdinate(i,r,a)}};Ur.copy=function(e,t,i,r,a){for(var o=0;o<a;o++)Ur.copyCoord(e,t+o,i,r+o)};Ur.toString=function(){if(arguments.length===1){var e=arguments[0],t=e.size();if(t===0)return"()";var i=e.getDimension(),r=new ac;r.append("(");for(var a=0;a<t;a++){a>0&&r.append(" ");for(var o=0;o<i;o++)o>0&&r.append(","),r.append(Yo.toString(e.getOrdinate(a,o)))}return r.append(")"),r.toString()}};Ur.ensureValidRing=function(e,t){var i=t.size();if(i===0)return t;if(i<=3)return Ur.createClosedRing(e,t,4);var r=t.getOrdinate(0,Ei.X)===t.getOrdinate(i-1,Ei.X)&&t.getOrdinate(0,Ei.Y)===t.getOrdinate(i-1,Ei.Y);return r?t:Ur.createClosedRing(e,t,i+1)};Ur.createClosedRing=function(e,t,i){var r=e.create(i,t.getDimension()),a=t.size();Ur.copy(t,0,r,0,a);for(var o=a;o<i;o++)Ur.copy(t,0,r,o,1);return r};var Mr=function(n){function e(i,r){n.call(this,r),this._points=null,this.init(i)}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new An:this._points.expandEnvelope(new An)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return n.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var a=arguments[0],o=arguments[1];if(!this.isEquivalentClass(a))return!1;var s=a;if(this._points.size()!==s._points.size())return!1;for(var d=0;d<this._points.size();d++)if(!r.equal(r._points.getCoordinate(d),s._points.getCoordinate(d),o))return!1;return!0}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var r=this,a=0;a<Math.trunc(this._points.size()/2);a++){var o=r._points.size()-1-a;if(!r._points.getCoordinate(a).equals(r._points.getCoordinate(o)))return r._points.getCoordinate(a).compareTo(r._points.getCoordinate(o))>0&&Ur.reverse(r._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Ri.FALSE:0},e.prototype.isClosed=function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return ln.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var r=this._points.copy();Ur.reverse(r);var a=this.getFactory().createLineString(r);return a},e.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){for(var a=arguments[0],o=a,s=0,d=0;s<this._points.size()&&d<o._points.size();){var p=r._points.getCoordinate(s).compareTo(o._points.getCoordinate(d));if(p!==0)return p;s++,d++}return s<this._points.size()?1:d<o._points.size()?-1:0}else if(arguments.length===2){var m=arguments[0],y=arguments[1],g=m;return y.compare(this._points,g._points)}},e.prototype.apply=function(){var r=this;if(Bn(arguments[0],xc))for(var a=arguments[0],o=0;o<this._points.size();o++)a.filter(r._points.getCoordinate(o));else if(Bn(arguments[0],_l)){var s=arguments[0];if(this._points.size()===0)return null;for(var d=0;d<this._points.size()&&(s.filter(r._points,d),!s.isDone());d++);s.isGeometryChanged()&&this.geometryChanged()}else if(Bn(arguments[0],Zl)){var p=arguments[0];p.filter(this)}else if(Bn(arguments[0],ru)){var m=arguments[0];m.filter(this)}},e.prototype.getBoundary=function(){return new Go(this).getBoundary()},e.prototype.isEquivalentClass=function(r){return r instanceof e},e.prototype.clone=function(){var r=n.prototype.clone.call(this);return r._points=this._points.clone(),r},e.prototype.getCoordinateN=function(r){return this._points.getCoordinate(r)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return this._points.size()===0},e.prototype.init=function(r){if(r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),r.size()===1)throw new vr("Invalid number of points in LineString (found "+r.size()+" - must be 0 or >= 2)");this._points=r},e.prototype.isCoordinate=function(r){for(var a=this,o=0;o<this._points.size();o++)if(a._points.getCoordinate(o).equals(r))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(r){return this.getFactory().createPoint(this._points.getCoordinate(r))},e.prototype.interfaces_=function(){return[jy]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,t),e}(jn),By=function(){};By.prototype.interfaces_=function(){return[]};By.prototype.getClass=function(){return By};var so=function(n){function e(i,r){n.call(this,r),this._coordinates=i||null,this.init(this._coordinates)}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new An;var r=new An;return r.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),r},e.prototype.getSortIndex=function(){return n.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],a=arguments[1];return this.isEquivalentClass(r)?this.isEmpty()&&r.isEmpty()?!0:this.isEmpty()!==r.isEmpty()?!1:this.equal(r.getCoordinate(),this.getCoordinate(),a):!1}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Ri.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(arguments.length===1){var r=arguments[0],a=r;return this.getCoordinate().compareTo(a.getCoordinate())}else if(arguments.length===2){var o=arguments[0],s=arguments[1],d=o;return s.compare(this._coordinates,d._coordinates)}},e.prototype.apply=function(){if(Bn(arguments[0],xc)){var r=arguments[0];if(this.isEmpty())return null;r.filter(this.getCoordinate())}else if(Bn(arguments[0],_l)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this._coordinates,0),a.isGeometryChanged()&&this.geometryChanged()}else if(Bn(arguments[0],Zl)){var o=arguments[0];o.filter(this)}else if(Bn(arguments[0],ru)){var s=arguments[0];s.filter(this)}},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var r=n.prototype.clone.call(this);return r._coordinates=this._coordinates.clone(),r},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return this._coordinates.size()===0},e.prototype.init=function(r){r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),oi.isTrue(r.size()<=1),this._coordinates=r},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[By]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(e,t),e}(jn),Qu=function(){};Qu.prototype.interfaces_=function(){return[]};Qu.prototype.getClass=function(){return Qu};var da=function(n){function e(i,r,a){if(n.call(this,a),this._shell=null,this._holes=null,i===null&&(i=this.getFactory().createLinearRing()),r===null&&(r=[]),n.hasNullElements(r))throw new vr("holes must not contain null elements");if(i.isEmpty()&&n.hasNonEmptyElements(r))throw new vr("shell is empty but holes are not");this._shell=i,this._holes=r}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return n.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){var r=this;if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),o=-1,s=this._shell.getCoordinates(),d=0;d<s.length;d++)o++,a[o]=s[d];for(var p=0;p<this._holes.length;p++)for(var m=r._holes[p].getCoordinates(),y=0;y<m.length;y++)o++,a[o]=m[y];return a},e.prototype.getArea=function(){var r=this,a=0;a+=Math.abs(ln.signedArea(this._shell.getCoordinateSequence()));for(var o=0;o<this._holes.length;o++)a-=Math.abs(ln.signedArea(r._holes[o].getCoordinateSequence()));return a},e.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var r=this._shell.getCoordinateSequence(),a=this.getEnvelopeInternal(),o=0;o<5;o++){var s=r.getX(o);if(!(s===a.getMinX()||s===a.getMaxX()))return!1;var d=r.getY(o);if(!(d===a.getMinY()||d===a.getMaxY()))return!1}for(var p=r.getX(0),m=r.getY(0),y=1;y<=4;y++){var g=r.getX(y),_=r.getY(y),x=g!==p,T=_!==m;if(x===T)return!1;p=g,m=_}return!0},e.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var a=arguments[0],o=arguments[1];if(!this.isEquivalentClass(a))return!1;var s=a,d=this._shell,p=s._shell;if(!d.equalsExact(p,o)||this._holes.length!==s._holes.length)return!1;for(var m=0;m<this._holes.length;m++)if(!r._holes[m].equalsExact(s._holes[m],o))return!1;return!0}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){var r=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var a=0;a<this._holes.length;a++)r.normalize(r._holes[a],!1);Gd.sort(this._holes)}else if(arguments.length===2){var o=arguments[0],s=arguments[1];if(o.isEmpty())return null;var d=new Array(o.getCoordinates().length-1).fill(null);Ua.arraycopy(o.getCoordinates(),0,d,0,d.length);var p=xi.minCoordinate(o.getCoordinates());xi.scroll(d,p),Ua.arraycopy(d,0,o.getCoordinates(),0,d.length),o.getCoordinates()[d.length]=d[0],ln.isCCW(o.getCoordinates())===s&&xi.reverse(o.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var r=this,a=0;a+=this._shell.getLength();for(var o=0;o<this._holes.length;o++)a+=r._holes[o].getLength();return a},e.prototype.getNumPoints=function(){for(var r=this,a=this._shell.getNumPoints(),o=0;o<this._holes.length;o++)a+=r._holes[o].getNumPoints();return a},e.prototype.reverse=function(){var r=this,a=this.copy();a._shell=this._shell.copy().reverse(),a._holes=new Array(this._holes.length).fill(null);for(var o=0;o<this._holes.length;o++)a._holes[o]=r._holes[o].copy().reverse();return a},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){var a=arguments[0],o=this._shell,s=a._shell;return o.compareToSameClass(s)}else if(arguments.length===2){var d=arguments[0],p=arguments[1],m=d,y=this._shell,g=m._shell,_=y.compareToSameClass(g,p);if(_!==0)return _;for(var x=this.getNumInteriorRing(),T=m.getNumInteriorRing(),E=0;E<x&&E<T;){var k=r.getInteriorRingN(E),v=m.getInteriorRingN(E),w=k.compareToSameClass(v,p);if(w!==0)return w;E++}return E<x?1:E<T?-1:0}},e.prototype.apply=function(r){var a=this;if(Bn(r,xc)){this._shell.apply(r);for(var o=0;o<this._holes.length;o++)a._holes[o].apply(r)}else if(Bn(r,_l)){if(this._shell.apply(r),!r.isDone())for(var s=0;s<this._holes.length&&(a._holes[s].apply(r),!r.isDone());s++);r.isGeometryChanged()&&this.geometryChanged()}else if(Bn(r,Zl))r.filter(this);else if(Bn(r,ru)){r.filter(this),this._shell.apply(r);for(var d=0;d<this._holes.length;d++)a._holes[d].apply(r)}},e.prototype.getBoundary=function(){var r=this;if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var o=0;o<this._holes.length;o++)a[o+1]=r._holes[o];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},e.prototype.clone=function(){var r=this,a=n.prototype.clone.call(this);a._shell=this._shell.clone(),a._holes=new Array(this._holes.length).fill(null);for(var o=0;o<this._holes.length;o++)a._holes[o]=r._holes[o].clone();return a},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var r=this,a=this._shell.copy(),o=new Array(this._holes.length).fill(null),s=0;s<o.length;s++)o[s]=r._holes[s].copy();return new e(a,o,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(r){return this._holes[r]},e.prototype.interfaces_=function(){return[Qu]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,t),e}(jn),yf=function(n){function e(){n.apply(this,arguments)}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return jn.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],a=arguments[1];return this.isEquivalentClass(r)?n.prototype.equalsExact.call(this,r,a):!1}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(arguments.length===1){var r=arguments[0];return this._geometries[r].getCoordinate()}else return n.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Ri.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var r=this,a=new Array(this._geometries.length).fill(null),o=0;o<a.length;o++)a[o]=r._geometries[o].copy();return new e(a,this._factory)},e.prototype.interfaces_=function(){return[By]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(e,t),e}(_s),bc=function(n){function e(i,r){i instanceof bt&&r instanceof yi&&(i=r.getCoordinateSequenceFactory().create(i)),n.call(this,i,r),this.validateConstruction()}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return jn.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Ri.FALSE},e.prototype.isClosed=function(){return this.isEmpty()?!0:n.prototype.isClosed.call(this)},e.prototype.reverse=function(){var r=this._points.copy();Ur.reverse(r);var a=this.getFactory().createLinearRing(r);return a},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!n.prototype.isClosed.call(this))throw new vr("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new vr("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},t.MINIMUM_VALID_SIZE.get=function(){return 4},t.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,t),e}(Mr),mc=function(n){function e(){n.apply(this,arguments)}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return jn.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],a=arguments[1];return this.isEquivalentClass(r)?n.prototype.equalsExact.call(this,r,a):!1}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var r=this,a=this._geometries.length,o=new Array(a).fill(null),s=0;s<this._geometries.length;s++)o[s]=r._geometries[s].reverse();return this.getFactory().createMultiPolygon(o)},e.prototype.getBoundary=function(){var r=this;if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new en,o=0;o<this._geometries.length;o++)for(var s=r._geometries[o],d=s.getBoundary(),p=0;p<d.getNumGeometries();p++)a.add(d.getGeometryN(p));var m=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(m))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var r=this,a=new Array(this._geometries.length).fill(null),o=0;o<a.length;o++)a[o]=r._geometries[o].copy();return new e(a,this._factory)},e.prototype.interfaces_=function(){return[Qu]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,t),e}(_s),Xo=function(e){this._factory=e||null,this._isUserDataCopied=!1},Y0={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Xo.prototype.setCopyUserData=function(e){this._isUserDataCopied=e};Xo.prototype.edit=function(e,t){if(e===null)return null;var i=this.editInternal(e,t);return this._isUserDataCopied&&i.setUserData(e.getUserData()),i};Xo.prototype.editInternal=function(e,t){return this._factory===null&&(this._factory=e.getFactory()),e instanceof _s?this.editGeometryCollection(e,t):e instanceof da?this.editPolygon(e,t):e instanceof so?t.edit(e,this._factory):e instanceof Mr?t.edit(e,this._factory):(oi.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)};Xo.prototype.editGeometryCollection=function(e,t){for(var i=this,r=t.edit(e,this._factory),a=new en,o=0;o<r.getNumGeometries();o++){var s=i.edit(r.getGeometryN(o),t);s===null||s.isEmpty()||a.add(s)}return r.getClass()===yf?this._factory.createMultiPoint(a.toArray([])):r.getClass()===Jd?this._factory.createMultiLineString(a.toArray([])):r.getClass()===mc?this._factory.createMultiPolygon(a.toArray([])):this._factory.createGeometryCollection(a.toArray([]))};Xo.prototype.editPolygon=function(e,t){var i=this,r=t.edit(e,this._factory);if(r===null&&(r=this._factory.createPolygon(null)),r.isEmpty())return r;var a=this.edit(r.getExteriorRing(),t);if(a===null||a.isEmpty())return this._factory.createPolygon();for(var o=new en,s=0;s<r.getNumInteriorRing();s++){var d=i.edit(r.getInteriorRingN(s),t);d===null||d.isEmpty()||o.add(d)}return this._factory.createPolygon(a,o.toArray([]))};Xo.prototype.interfaces_=function(){return[]};Xo.prototype.getClass=function(){return Xo};Xo.GeometryEditorOperation=function(){};Y0.NoOpGeometryOperation.get=function(){return Uy};Y0.CoordinateOperation.get=function(){return Gy};Y0.CoordinateSequenceOperation.get=function(){return Yy};Object.defineProperties(Xo,Y0);var Uy=function(){};Uy.prototype.edit=function(e,t){return e};Uy.prototype.interfaces_=function(){return[Xo.GeometryEditorOperation]};Uy.prototype.getClass=function(){return Uy};var Gy=function(){};Gy.prototype.edit=function(e,t){var i=this.editCoordinates(e.getCoordinates(),e);return i===null?e:e instanceof bc?t.createLinearRing(i):e instanceof Mr?t.createLineString(i):e instanceof so?i.length>0?t.createPoint(i[0]):t.createPoint():e};Gy.prototype.interfaces_=function(){return[Xo.GeometryEditorOperation]};Gy.prototype.getClass=function(){return Gy};var Yy=function(){};Yy.prototype.edit=function(e,t){return e instanceof bc?t.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Mr?t.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof so?t.createPoint(this.edit(e.getCoordinateSequence(),e)):e};Yy.prototype.interfaces_=function(){return[Xo.GeometryEditorOperation]};Yy.prototype.getClass=function(){return Yy};var jr=function(){var e=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var i=0;i<t;i++)e._coordinates[i]=new bt}else if(Bn(arguments[0],Ei)){var r=arguments[0];if(r===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._coordinates=new Array(r.size()).fill(null);for(var a=0;a<this._coordinates.length;a++)e._coordinates[a]=r.getCoordinateCopy(a)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],s=arguments[1];this._coordinates=o,this._dimension=s,o===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var d=arguments[0],p=arguments[1];this._coordinates=new Array(d).fill(null),this._dimension=p;for(var m=0;m<d;m++)e._coordinates[m]=new bt}}},XP={serialVersionUID:{configurable:!0}};jr.prototype.setOrdinate=function(e,t,i){switch(t){case Ei.X:this._coordinates[e].x=i;break;case Ei.Y:this._coordinates[e].y=i;break;case Ei.Z:this._coordinates[e].z=i;break;default:throw new vr("invalid ordinateIndex")}};jr.prototype.size=function(){return this._coordinates.length};jr.prototype.getOrdinate=function(e,t){switch(t){case Ei.X:return this._coordinates[e].x;case Ei.Y:return this._coordinates[e].y;case Ei.Z:return this._coordinates[e].z}return qn.NaN};jr.prototype.getCoordinate=function(){if(arguments.length===1){var e=arguments[0];return this._coordinates[e]}else if(arguments.length===2){var t=arguments[0],i=arguments[1];i.x=this._coordinates[t].x,i.y=this._coordinates[t].y,i.z=this._coordinates[t].z}};jr.prototype.getCoordinateCopy=function(e){return new bt(this._coordinates[e])};jr.prototype.getDimension=function(){return this._dimension};jr.prototype.getX=function(e){return this._coordinates[e].x};jr.prototype.clone=function(){for(var e=this,t=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)t[i]=e._coordinates[i].clone();return new jr(t,this._dimension)};jr.prototype.expandEnvelope=function(e){for(var t=this,i=0;i<this._coordinates.length;i++)e.expandToInclude(t._coordinates[i]);return e};jr.prototype.copy=function(){for(var e=this,t=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)t[i]=e._coordinates[i].copy();return new jr(t,this._dimension)};jr.prototype.toString=function(){var e=this;if(this._coordinates.length>0){var t=new ac(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var i=1;i<this._coordinates.length;i++)t.append(", "),t.append(e._coordinates[i]);return t.append(")"),t.toString()}else return"()"};jr.prototype.getY=function(e){return this._coordinates[e].y};jr.prototype.toCoordinateArray=function(){return this._coordinates};jr.prototype.interfaces_=function(){return[Ei,Qo]};jr.prototype.getClass=function(){return jr};XP.serialVersionUID.get=function(){return-0xcb44a778db18e00};Object.defineProperties(jr,XP);var _c=function(){},wS={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};_c.prototype.readResolve=function(){return _c.instance()};_c.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return new jr(e)}else if(Bn(arguments[0],Ei)){var t=arguments[0];return new jr(t)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new jr(i):new jr(i,r)}};_c.prototype.interfaces_=function(){return[df,Qo]};_c.prototype.getClass=function(){return _c};_c.instance=function(){return _c.instanceObject};wS.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00};wS.instanceObject.get=function(){return new _c};Object.defineProperties(_c,wS);var ZP=function(n){function e(){n.call(this),this.map_=new Map}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.get=function(i){return this.map_.get(i)||null},e.prototype.put=function(i,r){return this.map_.set(i,r),r},e.prototype.values=function(){for(var i=new en,r=this.map_.values(),a=r.next();!a.done;)i.add(a.value),a=r.next();return i},e.prototype.entrySet=function(){var i=new bS;return this.map_.entries().forEach(function(r){return i.add(r)}),i},e.prototype.size=function(){return this.map_.size()},e}(Yp),zi=function n(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=n.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Kl){var e=arguments[0];this._modelType=e,e===n.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var t=arguments[0];this._modelType=n.FIXED,this.setScale(t)}else if(arguments[0]instanceof n){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}}},TS={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};zi.prototype.equals=function(e){if(!(e instanceof zi))return!1;var t=e;return this._modelType===t._modelType&&this._scale===t._scale};zi.prototype.compareTo=function(e){var t=e,i=this.getMaximumSignificantDigits(),r=t.getMaximumSignificantDigits();return new Hl(i).compareTo(new Hl(r))};zi.prototype.getScale=function(){return this._scale};zi.prototype.isFloating=function(){return this._modelType===zi.FLOATING||this._modelType===zi.FLOATING_SINGLE};zi.prototype.getType=function(){return this._modelType};zi.prototype.toString=function(){var e="UNKNOWN";return this._modelType===zi.FLOATING?e="Floating":this._modelType===zi.FLOATING_SINGLE?e="Floating-Single":this._modelType===zi.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e};zi.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var e=arguments[0];if(qn.isNaN(e))return e;if(this._modelType===zi.FLOATING_SINGLE){var t=e;return t}return this._modelType===zi.FIXED?Math.round(e*this._scale)/this._scale:e}else if(arguments[0]instanceof bt){var i=arguments[0];if(this._modelType===zi.FLOATING)return null;i.x=this.makePrecise(i.x),i.y=this.makePrecise(i.y)}};zi.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===zi.FLOATING?e=16:this._modelType===zi.FLOATING_SINGLE?e=6:this._modelType===zi.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e};zi.prototype.setScale=function(e){this._scale=Math.abs(e)};zi.prototype.interfaces_=function(){return[Qo,Ko]};zi.prototype.getClass=function(){return zi};zi.mostPrecise=function(e,t){return e.compareTo(t)>=0?e:t};TS.serialVersionUID.get=function(){return 7777263578777804e3};TS.maximumPreciseValue.get=function(){return 9007199254740992};Object.defineProperties(zi,TS);var Kl=function n(e){this._name=e||null,n.nameToTypeMap.put(e,this)},SS={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Kl.prototype.readResolve=function(){return Kl.nameToTypeMap.get(this._name)};Kl.prototype.toString=function(){return this._name};Kl.prototype.interfaces_=function(){return[Qo]};Kl.prototype.getClass=function(){return Kl};SS.serialVersionUID.get=function(){return-552860263173159e4};SS.nameToTypeMap.get=function(){return new ZP};Object.defineProperties(Kl,SS);zi.Type=Kl;zi.FIXED=new Kl("FIXED");zi.FLOATING=new Kl("FLOATING");zi.FLOATING_SINGLE=new Kl("FLOATING SINGLE");var yi=function n(){this._precisionModel=new zi,this._SRID=0,this._coordinateSequenceFactory=n.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?Bn(arguments[0],df)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof zi&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},KP={serialVersionUID:{configurable:!0}};yi.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new bt(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new bt(e.getMinX(),e.getMinY()),new bt(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new bt(e.getMinX(),e.getMinY()),new bt(e.getMinX(),e.getMaxY()),new bt(e.getMaxX(),e.getMaxY()),new bt(e.getMaxX(),e.getMinY()),new bt(e.getMinX(),e.getMinY())]),null)};yi.prototype.createLineString=function(e){if(e){if(e instanceof Array)return new Mr(this.getCoordinateSequenceFactory().create(e),this);if(Bn(e,Ei))return new Mr(e,this)}else return new Mr(this.getCoordinateSequenceFactory().create([]),this)};yi.prototype.createMultiLineString=function(){if(arguments.length===0)return new Jd(null,this);if(arguments.length===1){var e=arguments[0];return new Jd(e,this)}};yi.prototype.buildGeometry=function(e){for(var t=null,i=!1,r=!1,a=e.iterator();a.hasNext();){var o=a.next(),s=o.getClass();t===null&&(t=s),s!==t&&(i=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(t===null)return this.createGeometryCollection();if(i||r)return this.createGeometryCollection(yi.toGeometryArray(e));var d=e.iterator().next(),p=e.size()>1;if(p){if(d instanceof da)return this.createMultiPolygon(yi.toPolygonArray(e));if(d instanceof Mr)return this.createMultiLineString(yi.toLineStringArray(e));if(d instanceof so)return this.createMultiPoint(yi.toPointArray(e));oi.shouldNeverReachHere("Unhandled class: "+d.getClass().getName())}return d};yi.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(e!==null?this.getCoordinateSequenceFactory().create(e):null)};yi.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof bt){var e=arguments[0];return this.createPoint(e!==null?this.getCoordinateSequenceFactory().create([e]):null)}else if(Bn(arguments[0],Ei)){var t=arguments[0];return new so(t,this)}}};yi.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory};yi.prototype.createPolygon=function(){if(arguments.length===0)return new da(null,null,this);if(arguments.length===1){if(Bn(arguments[0],Ei)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}else if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}else if(arguments[0]instanceof bc){var i=arguments[0];return this.createPolygon(i,null)}}else if(arguments.length===2){var r=arguments[0],a=arguments[1];return new da(r,a,this)}};yi.prototype.getSRID=function(){return this._SRID};yi.prototype.createGeometryCollection=function(){if(arguments.length===0)return new _s(null,this);if(arguments.length===1){var e=arguments[0];return new _s(e,this)}};yi.prototype.createGeometry=function(e){var t=new Xo(this);return t.edit(e,{edit:function(){if(arguments.length===2){var i=arguments[0];return this._coordinateSequenceFactory.create(i)}}})};yi.prototype.getPrecisionModel=function(){return this._precisionModel};yi.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(e!==null?this.getCoordinateSequenceFactory().create(e):null)}else if(Bn(arguments[0],Ei)){var t=arguments[0];return new bc(t,this)}}};yi.prototype.createMultiPolygon=function(){if(arguments.length===0)return new mc(null,this);if(arguments.length===1){var e=arguments[0];return new mc(e,this)}};yi.prototype.createMultiPoint=function(){var e=this;if(arguments.length===0)return new yf(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new yf(t,this)}else if(arguments[0]instanceof Array){var i=arguments[0];return this.createMultiPoint(i!==null?this.getCoordinateSequenceFactory().create(i):null)}else if(Bn(arguments[0],Ei)){var r=arguments[0];if(r===null)return this.createMultiPoint(new Array(0).fill(null));for(var a=new Array(r.size()).fill(null),o=0;o<r.size();o++){var s=e.getCoordinateSequenceFactory().create(1,r.getDimension());Ur.copy(r,o,s,0,1),a[o]=e.createPoint(s)}return this.createMultiPoint(a)}}};yi.prototype.interfaces_=function(){return[Qo]};yi.prototype.getClass=function(){return yi};yi.toMultiPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};yi.toGeometryArray=function(e){if(e===null)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)};yi.getDefaultCoordinateSequenceFactory=function(){return _c.instance()};yi.toMultiLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};yi.toLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};yi.toMultiPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};yi.toLinearRingArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};yi.toPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};yi.toPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};yi.createPointFromInternalCoord=function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)};KP.serialVersionUID.get=function(){return-6820524753094096e3};Object.defineProperties(yi,KP);var UU=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],V0=function(e){this.geometryFactory=e||new yi};V0.prototype.read=function(e){var t;typeof e=="string"?t=JSON.parse(e):t=e;var i=t.type;if(!Fl[i])throw new Error("Unknown GeoJSON type: "+t.type);return UU.indexOf(i)!==-1?Fl[i].apply(this,[t.coordinates]):i==="GeometryCollection"?Fl[i].apply(this,[t.geometries]):Fl[i].apply(this,[t])};V0.prototype.write=function(e){var t=e.getGeometryType();if(!Vc[t])throw new Error("Geometry is not supported");return Vc[t].apply(this,[e])};var Fl={Feature:function(n){var e={};for(var t in n)e[t]=n[t];if(n.geometry){var i=n.geometry.type;if(!Fl[i])throw new Error("Unknown GeoJSON type: "+n.type);e.geometry=this.read(n.geometry)}return n.bbox&&(e.bbox=Fl.bbox.apply(this,[n.bbox])),e},FeatureCollection:function(n){var e=this,t={};if(n.features){t.features=[];for(var i=0;i<n.features.length;++i)t.features.push(e.read(n.features[i]))}return n.bbox&&(t.bbox=this.parse.bbox.apply(this,[n.bbox])),t},coordinates:function(n){for(var e=[],t=0;t<n.length;++t){var i=n[t];e.push(new bt(i[0],i[1]))}return e},bbox:function(n){return this.geometryFactory.createLinearRing([new bt(n[0],n[1]),new bt(n[2],n[1]),new bt(n[2],n[3]),new bt(n[0],n[3]),new bt(n[0],n[1])])},Point:function(n){var e=new bt(n[0],n[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(n){for(var e=this,t=[],i=0;i<n.length;++i)t.push(Fl.Point.apply(e,[n[i]]));return this.geometryFactory.createMultiPoint(t)},LineString:function(n){var e=Fl.coordinates.apply(this,[n]);return this.geometryFactory.createLineString(e)},MultiLineString:function(n){for(var e=this,t=[],i=0;i<n.length;++i)t.push(Fl.LineString.apply(e,[n[i]]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(n){for(var e=this,t=Fl.coordinates.apply(this,[n[0]]),i=this.geometryFactory.createLinearRing(t),r=[],a=1;a<n.length;++a){var o=n[a],s=Fl.coordinates.apply(e,[o]),d=e.geometryFactory.createLinearRing(s);r.push(d)}return this.geometryFactory.createPolygon(i,r)},MultiPolygon:function(n){for(var e=this,t=[],i=0;i<n.length;++i){var r=n[i];t.push(Fl.Polygon.apply(e,[r]))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(n){for(var e=this,t=[],i=0;i<n.length;++i){var r=n[i];t.push(e.read(r))}return this.geometryFactory.createGeometryCollection(t)}},Vc={coordinate:function(n){return[n.x,n.y]},Point:function(n){var e=Vc.coordinate.apply(this,[n.getCoordinate()]);return{type:"Point",coordinates:e}},MultiPoint:function(n){for(var e=this,t=[],i=0;i<n._geometries.length;++i){var r=n._geometries[i],a=Vc.Point.apply(e,[r]);t.push(a.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(n){for(var e=this,t=[],i=n.getCoordinates(),r=0;r<i.length;++r){var a=i[r];t.push(Vc.coordinate.apply(e,[a]))}return{type:"LineString",coordinates:t}},MultiLineString:function(n){for(var e=this,t=[],i=0;i<n._geometries.length;++i){var r=n._geometries[i],a=Vc.LineString.apply(e,[r]);t.push(a.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(n){var e=this,t=[],i=Vc.LineString.apply(this,[n._shell]);t.push(i.coordinates);for(var r=0;r<n._holes.length;++r){var a=n._holes[r],o=Vc.LineString.apply(e,[a]);t.push(o.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(n){for(var e=this,t=[],i=0;i<n._geometries.length;++i){var r=n._geometries[i],a=Vc.Polygon.apply(e,[r]);t.push(a.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(n){for(var e=this,t=[],i=0;i<n._geometries.length;++i){var r=n._geometries[i],a=r.getGeometryType();t.push(Vc[a].apply(e,[r]))}return{type:"GeometryCollection",geometries:t}}},CS=function(e){this.geometryFactory=e||new yi,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new V0(this.geometryFactory)};CS.prototype.read=function(e){var t=this.parser.read(e);return this.precisionModel.getType()===zi.FIXED&&this.reducePrecision(t),t};CS.prototype.reducePrecision=function(e){var t=this,i,r;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(i=0,r=e.points.length;i<r;i++)t.precisionModel.makePrecise(e.points[i]);else if(e.geometries)for(i=0,r=e.geometries.length;i<r;i++)t.reducePrecision(e.geometries[i])};var QP=function(){this.parser=new V0(this.geometryFactory)};QP.prototype.write=function(e){return this.parser.write(e)};var Xt=function(){},W0={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Xt.prototype.interfaces_=function(){return[]};Xt.prototype.getClass=function(){return Xt};Xt.opposite=function(e){return e===Xt.LEFT?Xt.RIGHT:e===Xt.RIGHT?Xt.LEFT:e};W0.ON.get=function(){return 0};W0.LEFT.get=function(){return 1};W0.RIGHT.get=function(){return 2};Object.defineProperties(Xt,W0);function q0(n){this.message=n||""}q0.prototype=new Error;q0.prototype.name="EmptyStackException";function sc(){this.array_=[]}sc.prototype=new xl;sc.prototype.add=function(n){return this.array_.push(n),!0};sc.prototype.get=function(n){if(n<0||n>=this.size())throw new Error;return this.array_[n]};sc.prototype.push=function(n){return this.array_.push(n),n};sc.prototype.pop=function(n){if(this.array_.length===0)throw new q0;return this.array_.pop()};sc.prototype.peek=function(){if(this.array_.length===0)throw new q0;return this.array_[this.array_.length-1]};sc.prototype.empty=function(){return this.array_.length===0};sc.prototype.isEmpty=function(){return this.empty()};sc.prototype.search=function(n){return this.array_.indexOf(n)};sc.prototype.size=function(){return this.array_.length};sc.prototype.toArray=function(){for(var n=this,e=[],t=0,i=this.array_.length;t<i;t++)e.push(n.array_[t]);return e};var Ql=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Ql.prototype.getCoordinate=function(){return this._minCoord};Ql.prototype.getRightmostSide=function(e,t){var i=this.getRightmostSideOfSegment(e,t);return i<0&&(i=this.getRightmostSideOfSegment(e,t-1)),i<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),i};Ql.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();oi.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],i=e[this._minIndex+1],r=ln.computeOrientation(this._minCoord,i,t),a=!1;(t.y<this._minCoord.y&&i.y<this._minCoord.y&&r===ln.COUNTERCLOCKWISE||t.y>this._minCoord.y&&i.y>this._minCoord.y&&r===ln.CLOCKWISE)&&(a=!0),a&&(this._minIndex=this._minIndex-1)};Ql.prototype.getRightmostSideOfSegment=function(e,t){var i=e.getEdge(),r=i.getCoordinates();if(t<0||t+1>=r.length||r[t].y===r[t+1].y)return-1;var a=Xt.LEFT;return r[t].y<r[t+1].y&&(a=Xt.RIGHT),a};Ql.prototype.getEdge=function(){return this._orientedDe};Ql.prototype.checkForRightmostCoordinate=function(e){for(var t=this,i=e.getEdge().getCoordinates(),r=0;r<i.length-1;r++)(t._minCoord===null||i[r].x>t._minCoord.x)&&(t._minDe=e,t._minIndex=r,t._minCoord=i[r])};Ql.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode(),t=e.getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)};Ql.prototype.findEdge=function(e){for(var t=this,i=e.iterator();i.hasNext();){var r=i.next();r.isForward()&&t.checkForRightmostCoordinate(r)}oi.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe;var a=this.getRightmostSide(this._minDe,this._minIndex);a===Xt.LEFT&&(this._orientedDe=this._minDe.getSym())};Ql.prototype.interfaces_=function(){return[]};Ql.prototype.getClass=function(){return Ql};var au=function(n){function e(t,i){n.call(this,e.msgWithCoord(t,i)),this.pt=i?new bt(i):null,this.name="TopologyException"}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(i,r){return r?i:i+" [ "+r+" ]"},e}(iu),H0=function(){this.array_=[]};H0.prototype.addLast=function(e){this.array_.push(e)};H0.prototype.removeFirst=function(){return this.array_.shift()};H0.prototype.isEmpty=function(){return this.array_.length===0};var ws=function(){this._finder=null,this._dirEdgeList=new en,this._nodes=new en,this._rightMostCoord=null,this._env=null,this._finder=new Ql};ws.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.setVisited(!1)}};ws.prototype.getRightmostCoordinate=function(){return this._rightMostCoord};ws.prototype.computeNodeDepth=function(e){for(var t=this,i=null,r=e.getEdges().iterator();r.hasNext();){var a=r.next();if(a.isVisited()||a.getSym().isVisited()){i=a;break}}if(i===null)throw new au("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(i);for(var o=e.getEdges().iterator();o.hasNext();){var s=o.next();s.setVisited(!0),t.copySymDepths(s)}};ws.prototype.computeDepth=function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.setEdgeDepths(Xt.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)};ws.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()};ws.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth(Xt.RIGHT)>=1&&t.getDepth(Xt.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}};ws.prototype.computeDepths=function(e){var t=this,i=new bS,r=new H0,a=e.getNode();for(r.addLast(a),i.add(a),e.setVisited(!0);!r.isEmpty();){var o=r.removeFirst();i.add(o),t.computeNodeDepth(o);for(var s=o.getEdges().iterator();s.hasNext();){var d=s.next(),p=d.getSym();if(!p.isVisited()){var m=p.getNode();i.contains(m)||(r.addLast(m),i.add(m))}}}};ws.prototype.compareTo=function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0};ws.prototype.getEnvelope=function(){if(this._env===null){for(var e=new An,t=this._dirEdgeList.iterator();t.hasNext();)for(var i=t.next(),r=i.getEdge().getCoordinates(),a=0;a<r.length-1;a++)e.expandToInclude(r[a]);this._env=e}return this._env};ws.prototype.addReachable=function(e){var t=this,i=new sc;for(i.add(e);!i.empty();){var r=i.pop();t.add(r,i)}};ws.prototype.copySymDepths=function(e){var t=e.getSym();t.setDepth(Xt.LEFT,e.getDepth(Xt.RIGHT)),t.setDepth(Xt.RIGHT,e.getDepth(Xt.LEFT))};ws.prototype.add=function(e,t){var i=this;e.setVisited(!0),this._nodes.add(e);for(var r=e.getEdges().iterator();r.hasNext();){var a=r.next();i._dirEdgeList.add(a);var o=a.getSym(),s=o.getNode();s.isVisited()||t.push(s)}};ws.prototype.getNodes=function(){return this._nodes};ws.prototype.getDirectedEdges=function(){return this._dirEdgeList};ws.prototype.interfaces_=function(){return[Ko]};ws.prototype.getClass=function(){return ws};var ar=function n(){var e=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var i=arguments[0];this.init(1),this.location[Xt.ON]=i}else if(arguments[0]instanceof n){var r=arguments[0];if(this.init(r.location.length),r!==null)for(var a=0;a<this.location.length;a++)e.location[a]=r.location[a]}}else if(arguments.length===3){var o=arguments[0],s=arguments[1],d=arguments[2];this.init(3),this.location[Xt.ON]=o,this.location[Xt.LEFT]=s,this.location[Xt.RIGHT]=d}};ar.prototype.setAllLocations=function(e){for(var t=this,i=0;i<this.location.length;i++)t.location[i]=e};ar.prototype.isNull=function(){for(var e=this,t=0;t<this.location.length;t++)if(e.location[t]!==kt.NONE)return!1;return!0};ar.prototype.setAllLocationsIfNull=function(e){for(var t=this,i=0;i<this.location.length;i++)t.location[i]===kt.NONE&&(t.location[i]=e)};ar.prototype.isLine=function(){return this.location.length===1};ar.prototype.merge=function(e){var t=this;if(e.location.length>this.location.length){var i=new Array(3).fill(null);i[Xt.ON]=this.location[Xt.ON],i[Xt.LEFT]=kt.NONE,i[Xt.RIGHT]=kt.NONE,this.location=i}for(var r=0;r<this.location.length;r++)t.location[r]===kt.NONE&&r<e.location.length&&(t.location[r]=e.location[r])};ar.prototype.getLocations=function(){return this.location};ar.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[Xt.LEFT];this.location[Xt.LEFT]=this.location[Xt.RIGHT],this.location[Xt.RIGHT]=e};ar.prototype.toString=function(){var e=new ac;return this.location.length>1&&e.append(kt.toLocationSymbol(this.location[Xt.LEFT])),e.append(kt.toLocationSymbol(this.location[Xt.ON])),this.location.length>1&&e.append(kt.toLocationSymbol(this.location[Xt.RIGHT])),e.toString()};ar.prototype.setLocations=function(e,t,i){this.location[Xt.ON]=e,this.location[Xt.LEFT]=t,this.location[Xt.RIGHT]=i};ar.prototype.get=function(e){return e<this.location.length?this.location[e]:kt.NONE};ar.prototype.isArea=function(){return this.location.length>1};ar.prototype.isAnyNull=function(){for(var e=this,t=0;t<this.location.length;t++)if(e.location[t]===kt.NONE)return!0;return!1};ar.prototype.setLocation=function(){if(arguments.length===1){var e=arguments[0];this.setLocation(Xt.ON,e)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];this.location[t]=i}};ar.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(kt.NONE)};ar.prototype.isEqualOnSide=function(e,t){return this.location[t]===e.location[t]};ar.prototype.allPositionsEqual=function(e){for(var t=this,i=0;i<this.location.length;i++)if(t.location[i]!==e)return!1;return!0};ar.prototype.interfaces_=function(){return[]};ar.prototype.getClass=function(){return ar};var Wi=function n(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new ar(e),this.elt[1]=new ar(e)}else if(arguments[0]instanceof n){var t=arguments[0];this.elt[0]=new ar(t.elt[0]),this.elt[1]=new ar(t.elt[1])}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.elt[0]=new ar(kt.NONE),this.elt[1]=new ar(kt.NONE),this.elt[i].setLocation(r)}else if(arguments.length===3){var a=arguments[0],o=arguments[1],s=arguments[2];this.elt[0]=new ar(a,o,s),this.elt[1]=new ar(a,o,s)}else if(arguments.length===4){var d=arguments[0],p=arguments[1],m=arguments[2],y=arguments[3];this.elt[0]=new ar(kt.NONE,kt.NONE,kt.NONE),this.elt[1]=new ar(kt.NONE,kt.NONE,kt.NONE),this.elt[d].setLocations(p,m,y)}};Wi.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e};Wi.prototype.setAllLocations=function(e,t){this.elt[e].setAllLocations(t)};Wi.prototype.isNull=function(e){return this.elt[e].isNull()};Wi.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];this.elt[t].setAllLocationsIfNull(i)}};Wi.prototype.isLine=function(e){return this.elt[e].isLine()};Wi.prototype.merge=function(e){for(var t=this,i=0;i<2;i++)t.elt[i]===null&&e.elt[i]!==null?t.elt[i]=new ar(e.elt[i]):t.elt[i].merge(e.elt[i])};Wi.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()};Wi.prototype.getLocation=function(){if(arguments.length===1){var e=arguments[0];return this.elt[e].get(Xt.ON)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];return this.elt[t].get(i)}};Wi.prototype.toString=function(){var e=new ac;return this.elt[0]!==null&&(e.append("A:"),e.append(this.elt[0].toString())),this.elt[1]!==null&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()};Wi.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var e=arguments[0];return this.elt[e].isArea()}};Wi.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()};Wi.prototype.setLocation=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1];this.elt[e].setLocation(Xt.ON,t)}else if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];this.elt[i].setLocation(r,a)}};Wi.prototype.isEqualOnSide=function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)};Wi.prototype.allPositionsEqual=function(e,t){return this.elt[e].allPositionsEqual(t)};Wi.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new ar(this.elt[e].location[0]))};Wi.prototype.interfaces_=function(){return[]};Wi.prototype.getClass=function(){return Wi};Wi.toLineLabel=function(e){for(var t=new Wi(kt.NONE),i=0;i<2;i++)t.setLocation(i,e.getLocation(i));return t};var ta=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new en,this._pts=new en,this._label=new Wi(kt.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new en,this._geometryFactory=null;var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()};ta.prototype.computeRing=function(){var e=this;if(this._ring!==null)return null;for(var t=new Array(this._pts.size()).fill(null),i=0;i<this._pts.size();i++)t[i]=e._pts.get(i);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=ln.isCCW(this._ring.getCoordinates())};ta.prototype.isIsolated=function(){return this._label.getGeometryCount()===1};ta.prototype.computePoints=function(e){var t=this;this._startDe=e;var i=e,r=!0;do{if(i===null)throw new au("Found null DirectedEdge");if(i.getEdgeRing()===t)throw new au("Directed Edge visited twice during ring-building at "+i.getCoordinate());t._edges.add(i);var a=i.getLabel();oi.isTrue(a.isArea()),t.mergeLabel(a),t.addPoints(i.getEdge(),i.isForward(),r),r=!1,t.setEdgeRing(i,t),i=t.getNext(i)}while(i!==this._startDe)};ta.prototype.getLinearRing=function(){return this._ring};ta.prototype.getCoordinate=function(e){return this._pts.get(e)};ta.prototype.computeMaxNodeDegree=function(){var e=this;this._maxNodeDegree=0;var t=this._startDe;do{var i=t.getNode(),r=i.getEdges().getOutgoingDegree(e);r>e._maxNodeDegree&&(e._maxNodeDegree=r),t=e.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2};ta.prototype.addPoints=function(e,t,i){var r=this,a=e.getCoordinates();if(t){var o=1;i&&(o=0);for(var s=o;s<a.length;s++)r._pts.add(a[s])}else{var d=a.length-2;i&&(d=a.length-1);for(var p=d;p>=0;p--)r._pts.add(a[p])}};ta.prototype.isHole=function(){return this._isHole};ta.prototype.setInResult=function(){var e=this._startDe;do e.getEdge().setInResult(!0),e=e.getNext();while(e!==this._startDe)};ta.prototype.containsPoint=function(e){var t=this.getLinearRing(),i=t.getEnvelopeInternal();if(!i.contains(e)||!ln.isPointInRing(e,t.getCoordinates()))return!1;for(var r=this._holes.iterator();r.hasNext();){var a=r.next();if(a.containsPoint(e))return!1}return!0};ta.prototype.addHole=function(e){this._holes.add(e)};ta.prototype.isShell=function(){return this._shell===null};ta.prototype.getLabel=function(){return this._label};ta.prototype.getEdges=function(){return this._edges};ta.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree};ta.prototype.getShell=function(){return this._shell};ta.prototype.mergeLabel=function(){if(arguments.length===1){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(arguments.length===2){var t=arguments[0],i=arguments[1],r=t.getLocation(i,Xt.RIGHT);if(r===kt.NONE)return null;if(this._label.getLocation(i)===kt.NONE)return this._label.setLocation(i,r),null}};ta.prototype.setShell=function(e){this._shell=e,e!==null&&e.addHole(this)};ta.prototype.toPolygon=function(e){for(var t=this,i=new Array(this._holes.size()).fill(null),r=0;r<this._holes.size();r++)i[r]=t._holes.get(r).getLinearRing();var a=e.createPolygon(this.getLinearRing(),i);return a};ta.prototype.interfaces_=function(){return[]};ta.prototype.getClass=function(){return ta};var GU=function(n){function e(){var t=arguments[0],i=arguments[1];n.call(this,t,i)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(i,r){i.setMinEdgeRing(r)},e.prototype.getNext=function(i){return i.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ta),YU=function(n){function e(){var t=arguments[0],i=arguments[1];n.call(this,t,i)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var i=this,r=new en,a=this._startDe;do{if(a.getMinEdgeRing()===null){var o=new GU(a,i._geometryFactory);r.add(o)}a=a.getNext()}while(a!==this._startDe);return r},e.prototype.setEdgeRing=function(i,r){i.setEdgeRing(r)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var i=this,r=this._startDe;do{var a=r.getNode();a.getEdges().linkMinimalDirectedEdges(i),r=r.getNext()}while(r!==this._startDe)},e.prototype.getNext=function(i){return i.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ta),Do=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._label=e}}};Do.prototype.setVisited=function(e){this._isVisited=e};Do.prototype.setInResult=function(e){this._isInResult=e};Do.prototype.isCovered=function(){return this._isCovered};Do.prototype.isCoveredSet=function(){return this._isCoveredSet};Do.prototype.setLabel=function(e){this._label=e};Do.prototype.getLabel=function(){return this._label};Do.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0};Do.prototype.updateIM=function(e){oi.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)};Do.prototype.isInResult=function(){return this._isInResult};Do.prototype.isVisited=function(){return this._isVisited};Do.prototype.interfaces_=function(){return[]};Do.prototype.getClass=function(){return Do};var X0=function(n){function e(){n.call(this),this._coord=null,this._edges=null;var t=arguments[0],i=arguments[1];this._coord=t,this._edges=i,this._label=new Wi(0,kt.NONE)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var i=this.getEdges().getEdges().iterator();i.hasNext();){var r=i.next();if(r.getEdge().isInResult())return!0}return!1},e.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(i){i.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(i){},e.prototype.computeMergedLocation=function(i,r){var a=kt.NONE;if(a=this._label.getLocation(r),!i.isNull(r)){var o=i.getLocation(r);a!==kt.BOUNDARY&&(a=o)}return a},e.prototype.setLabel=function(){if(arguments.length===2){var i=arguments[0],r=arguments[1];this._label===null?this._label=new Wi(i,r):this._label.setLocation(i,r)}else return n.prototype.setLabel.apply(this,arguments)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){var i=this;if(arguments[0]instanceof e){var r=arguments[0];this.mergeLabel(r._label)}else if(arguments[0]instanceof Wi)for(var a=arguments[0],o=0;o<2;o++){var s=i.computeMergedLocation(a,o),d=i._label.getLocation(o);d===kt.NONE&&i._label.setLocation(o,s)}},e.prototype.add=function(i){this._edges.insert(i),i.setNode(this)},e.prototype.setLabelBoundary=function(i){if(this._label===null)return null;var r=kt.NONE;this._label!==null&&(r=this._label.getLocation(i));var a=null;switch(r){case kt.BOUNDARY:a=kt.INTERIOR;break;case kt.INTERIOR:a=kt.BOUNDARY;break;default:a=kt.BOUNDARY;break}this._label.setLocation(i,a)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Do),Jl=function(){this.nodeMap=new ns,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};Jl.prototype.find=function(e){return this.nodeMap.get(e)};Jl.prototype.addNode=function(){if(arguments[0]instanceof bt){var e=arguments[0],t=this.nodeMap.get(e);return t===null&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}else if(arguments[0]instanceof X0){var i=arguments[0],r=this.nodeMap.get(i.getCoordinate());return r===null?(this.nodeMap.put(i.getCoordinate(),i),i):(r.mergeLabel(i),r)}};Jl.prototype.print=function(e){for(var t=this.iterator();t.hasNext();){var i=t.next();i.print(e)}};Jl.prototype.iterator=function(){return this.nodeMap.values().iterator()};Jl.prototype.values=function(){return this.nodeMap.values()};Jl.prototype.getBoundaryNodes=function(e){for(var t=new en,i=this.iterator();i.hasNext();){var r=i.next();r.getLabel().getLocation(e)===kt.BOUNDARY&&t.add(r)}return t};Jl.prototype.add=function(e){var t=e.getCoordinate(),i=this.addNode(t);i.add(e)};Jl.prototype.interfaces_=function(){return[]};Jl.prototype.getClass=function(){return Jl};var er=function(){},Tv={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};er.prototype.interfaces_=function(){return[]};er.prototype.getClass=function(){return er};er.isNorthern=function(e){return e===er.NE||e===er.NW};er.isOpposite=function(e,t){if(e===t)return!1;var i=(e-t+4)%4;return i===2};er.commonHalfPlane=function(e,t){if(e===t)return e;var i=(e-t+4)%4;if(i===2)return-1;var r=e<t?e:t,a=e>t?e:t;return r===0&&a===3?3:r};er.isInHalfPlane=function(e,t){return t===er.SE?e===er.SE||e===er.SW:e===t||e===t+1};er.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],t=arguments[1];if(e===0&&t===0)throw new vr("Cannot compute the quadrant for point ( "+e+", "+t+" )");return e>=0?t>=0?er.NE:er.SE:t>=0?er.NW:er.SW}else if(arguments[0]instanceof bt&&arguments[1]instanceof bt){var i=arguments[0],r=arguments[1];if(r.x===i.x&&r.y===i.y)throw new vr("Cannot compute the quadrant for two identical points "+i);return r.x>=i.x?r.y>=i.y?er.NE:er.SE:r.y>=i.y?er.NW:er.SW}};Tv.NE.get=function(){return 0};Tv.NW.get=function(){return 1};Tv.SW.get=function(){return 2};Tv.SE.get=function(){return 3};Object.defineProperties(er,Tv);var is=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var e=arguments[0];this._edge=e}else if(arguments.length===3){var t=arguments[0],i=arguments[1],r=arguments[2],a=null;this._edge=t,this.init(i,r),this._label=a}else if(arguments.length===4){var o=arguments[0],s=arguments[1],d=arguments[2],p=arguments[3];this._edge=o,this.init(s,d),this._label=p}};is.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:ln.computeOrientation(e._p0,e._p1,this._p1)};is.prototype.getDy=function(){return this._dy};is.prototype.getCoordinate=function(){return this._p0};is.prototype.setNode=function(e){this._node=e};is.prototype.print=function(e){var t=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),r=i.lastIndexOf("."),a=i.substring(r+1);e.print("  "+a+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)};is.prototype.compareTo=function(e){var t=e;return this.compareDirection(t)};is.prototype.getDirectedCoordinate=function(){return this._p1};is.prototype.getDx=function(){return this._dx};is.prototype.getLabel=function(){return this._label};is.prototype.getEdge=function(){return this._edge};is.prototype.getQuadrant=function(){return this._quadrant};is.prototype.getNode=function(){return this._node};is.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),i=t.lastIndexOf("."),r=t.substring(i+1);return"  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label};is.prototype.computeLabel=function(e){};is.prototype.init=function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=er.quadrant(this._dx,this._dy),oi.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")};is.prototype.interfaces_=function(){return[Ko]};is.prototype.getClass=function(){return is};var R1=function(n){function e(){var t=arguments[0],i=arguments[1];if(n.call(this,t),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=i,i)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var r=t.getNumPoints()-1;this.init(t.getCoordinate(r),t.getCoordinate(r-1))}this.computeDirectedLabel()}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(i){return this._depth[i]},e.prototype.setVisited=function(i){this._isVisited=i},e.prototype.computeDirectedLabel=function(){this._label=new Wi(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(i,r){if(this._depth[i]!==-999&&this._depth[i]!==r)throw new au("assigned depths do not match",this.getCoordinate());this._depth[i]=r},e.prototype.isInteriorAreaEdge=function(){for(var i=this,r=!0,a=0;a<2;a++)i._label.isArea(a)&&i._label.getLocation(a,Xt.LEFT)===kt.INTERIOR&&i._label.getLocation(a,Xt.RIGHT)===kt.INTERIOR||(r=!1);return r},e.prototype.setNextMin=function(i){this._nextMin=i},e.prototype.print=function(i){n.prototype.print.call(this,i),i.print(" "+this._depth[Xt.LEFT]+"/"+this._depth[Xt.RIGHT]),i.print(" ("+this.getDepthDelta()+")"),this._isInResult&&i.print(" inResult")},e.prototype.setMinEdgeRing=function(i){this._minEdgeRing=i},e.prototype.isLineEdge=function(){var i=this._label.isLine(0)||this._label.isLine(1),r=!this._label.isArea(0)||this._label.allPositionsEqual(0,kt.EXTERIOR),a=!this._label.isArea(1)||this._label.allPositionsEqual(1,kt.EXTERIOR);return i&&r&&a},e.prototype.setEdgeRing=function(i){this._edgeRing=i},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var i=this._edge.getDepthDelta();return this._isForward||(i=-i),i},e.prototype.setInResult=function(i){this._isInResult=i},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(i){this.print(i),i.print(" "),this._isForward?this._edge.print(i):this._edge.printReverse(i)},e.prototype.setSym=function(i){this._sym=i},e.prototype.setVisitedEdge=function(i){this.setVisited(i),this._sym.setVisited(i)},e.prototype.setEdgeDepths=function(i,r){var a=this.getEdge().getDepthDelta();this._isForward||(a=-a);var o=1;i===Xt.LEFT&&(o=-1);var s=Xt.opposite(i),d=a*o,p=r+d;this.setDepth(i,r),this.setDepth(s,p)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(i){this._next=i},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(i,r){return i===kt.EXTERIOR&&r===kt.INTERIOR?1:i===kt.INTERIOR&&r===kt.EXTERIOR?-1:0},e}(is),vf=function(){};vf.prototype.createNode=function(e){return new X0(e,null)};vf.prototype.interfaces_=function(){return[]};vf.prototype.getClass=function(){return vf};var Cr=function(){if(this._edges=new en,this._nodes=null,this._edgeEndList=new en,arguments.length===0)this._nodes=new Jl(new vf);else if(arguments.length===1){var e=arguments[0];this._nodes=new Jl(e)}};Cr.prototype.printEdges=function(e){var t=this;e.println("Edges:");for(var i=0;i<this._edges.size();i++){e.println("edge "+i+":");var r=t._edges.get(i);r.print(e),r.eiList.print(e)}};Cr.prototype.find=function(e){return this._nodes.find(e)};Cr.prototype.addNode=function(){if(arguments[0]instanceof X0){var e=arguments[0];return this._nodes.addNode(e)}else if(arguments[0]instanceof bt){var t=arguments[0];return this._nodes.addNode(t)}};Cr.prototype.getNodeIterator=function(){return this._nodes.iterator()};Cr.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();){var t=e.next();t.getEdges().linkResultDirectedEdges()}};Cr.prototype.debugPrintln=function(e){Ua.out.println(e)};Cr.prototype.isBoundaryNode=function(e,t){var i=this._nodes.find(t);if(i===null)return!1;var r=i.getLabel();return r!==null&&r.getLocation(e)===kt.BOUNDARY};Cr.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();){var t=e.next();t.getEdges().linkAllDirectedEdges()}};Cr.prototype.matchInSameDirection=function(e,t,i,r){return e.equals(i)?ln.computeOrientation(e,t,r)===ln.COLLINEAR&&er.quadrant(e,t)===er.quadrant(i,r):!1};Cr.prototype.getEdgeEnds=function(){return this._edgeEndList};Cr.prototype.debugPrint=function(e){Ua.out.print(e)};Cr.prototype.getEdgeIterator=function(){return this._edges.iterator()};Cr.prototype.findEdgeInSameDirection=function(e,t){for(var i=this,r=0;r<this._edges.size();r++){var a=i._edges.get(r),o=a.getCoordinates();if(i.matchInSameDirection(e,t,o[0],o[1])||i.matchInSameDirection(e,t,o[o.length-1],o[o.length-2]))return a}return null};Cr.prototype.insertEdge=function(e){this._edges.add(e)};Cr.prototype.findEdgeEnd=function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var i=t.next();if(i.getEdge()===e)return i}return null};Cr.prototype.addEdges=function(e){for(var t=this,i=e.iterator();i.hasNext();){var r=i.next();t._edges.add(r);var a=new R1(r,!0),o=new R1(r,!1);a.setSym(o),o.setSym(a),t.add(a),t.add(o)}};Cr.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)};Cr.prototype.getNodes=function(){return this._nodes.values()};Cr.prototype.findEdge=function(e,t){for(var i=this,r=0;r<this._edges.size();r++){var a=i._edges.get(r),o=a.getCoordinates();if(e.equals(o[0])&&t.equals(o[1]))return a}return null};Cr.prototype.interfaces_=function(){return[]};Cr.prototype.getClass=function(){return Cr};Cr.linkResultDirectedEdges=function(e){for(var t=e.iterator();t.hasNext();){var i=t.next();i.getEdges().linkResultDirectedEdges()}};var oo=function(){this._geometryFactory=null,this._shellList=new en;var e=arguments[0];this._geometryFactory=e};oo.prototype.sortShellsAndHoles=function(e,t,i){for(var r=e.iterator();r.hasNext();){var a=r.next();a.isHole()?i.add(a):t.add(a)}};oo.prototype.computePolygons=function(e){for(var t=this,i=new en,r=e.iterator();r.hasNext();){var a=r.next(),o=a.toPolygon(t._geometryFactory);i.add(o)}return i};oo.prototype.placeFreeHoles=function(e,t){for(var i=this,r=t.iterator();r.hasNext();){var a=r.next();if(a.getShell()===null){var o=i.findEdgeRingContaining(a,e);if(o===null)throw new au("unable to assign hole to a shell",a.getCoordinate(0));a.setShell(o)}}};oo.prototype.buildMinimalEdgeRings=function(e,t,i){for(var r=this,a=new en,o=e.iterator();o.hasNext();){var s=o.next();if(s.getMaxNodeDegree()>2){s.linkDirectedEdgesForMinimalEdgeRings();var d=s.buildMinimalRings(),p=r.findShell(d);p!==null?(r.placePolygonHoles(p,d),t.add(p)):i.addAll(d)}else a.add(s)}return a};oo.prototype.containsPoint=function(e){for(var t=this._shellList.iterator();t.hasNext();){var i=t.next();if(i.containsPoint(e))return!0}return!1};oo.prototype.buildMaximalEdgeRings=function(e){for(var t=this,i=new en,r=e.iterator();r.hasNext();){var a=r.next();if(a.isInResult()&&a.getLabel().isArea()&&a.getEdgeRing()===null){var o=new YU(a,t._geometryFactory);i.add(o),o.setInResult()}}return i};oo.prototype.placePolygonHoles=function(e,t){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()&&r.setShell(e)}};oo.prototype.getPolygons=function(){var e=this.computePolygons(this._shellList);return e};oo.prototype.findEdgeRingContaining=function(e,t){for(var i=e.getLinearRing(),r=i.getEnvelopeInternal(),a=i.getCoordinateN(0),o=null,s=null,d=t.iterator();d.hasNext();){var p=d.next(),m=p.getLinearRing(),y=m.getEnvelopeInternal();o!==null&&(s=o.getLinearRing().getEnvelopeInternal());var g=!1;y.contains(r)&&ln.isPointInRing(a,m.getCoordinates())&&(g=!0),g&&(o===null||s.contains(y))&&(o=p)}return o};oo.prototype.findShell=function(e){for(var t=0,i=null,r=e.iterator();r.hasNext();){var a=r.next();a.isHole()||(i=a,t++)}return oi.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),i};oo.prototype.add=function(){if(arguments.length===1){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(arguments.length===2){var t=arguments[0],i=arguments[1];Cr.linkResultDirectedEdges(i);var r=this.buildMaximalEdgeRings(t),a=new en,o=this.buildMinimalEdgeRings(r,this._shellList,a);this.sortShellsAndHoles(o,this._shellList,a),this.placeFreeHoles(this._shellList,a)}};oo.prototype.interfaces_=function(){return[]};oo.prototype.getClass=function(){return oo};var xf=function(){};xf.prototype.getBounds=function(){};xf.prototype.interfaces_=function(){return[]};xf.prototype.getClass=function(){return xf};var wl=function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t};wl.prototype.getItem=function(){return this._item};wl.prototype.getBounds=function(){return this._bounds};wl.prototype.interfaces_=function(){return[xf,Qo]};wl.prototype.getClass=function(){return wl};var su=function(){this._size=null,this._items=null,this._size=0,this._items=new en,this._items.add(null)};su.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e};su.prototype.size=function(){return this._size};su.prototype.reorder=function(e){for(var t=this,i=null,r=this._items.get(e);e*2<=this._size&&(i=e*2,i!==t._size&&t._items.get(i+1).compareTo(t._items.get(i))<0&&i++,t._items.get(i).compareTo(r)<0);e=i)t._items.set(e,t._items.get(i));this._items.set(e,r)};su.prototype.clear=function(){this._size=0,this._items.clear()};su.prototype.isEmpty=function(){return this._size===0};su.prototype.add=function(e){var t=this;this._items.add(null),this._size+=1;var i=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(i/2)))<0;i/=2)t._items.set(i,t._items.get(Math.trunc(i/2)));this._items.set(i,e)};su.prototype.interfaces_=function(){return[]};su.prototype.getClass=function(){return su};var Ju=function(){};Ju.prototype.visitItem=function(e){};Ju.prototype.interfaces_=function(){return[]};Ju.prototype.getClass=function(){return Ju};var bp=function(){};bp.prototype.insert=function(e,t){};bp.prototype.remove=function(e,t){};bp.prototype.query=function(){};bp.prototype.interfaces_=function(){return[]};bp.prototype.getClass=function(){return bp};var ca=function(){if(this._childBoundables=new en,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._level=e}}},JP={serialVersionUID:{configurable:!0}};ca.prototype.getLevel=function(){return this._level};ca.prototype.size=function(){return this._childBoundables.size()};ca.prototype.getChildBoundables=function(){return this._childBoundables};ca.prototype.addChildBoundable=function(e){oi.isTrue(this._bounds===null),this._childBoundables.add(e)};ca.prototype.isEmpty=function(){return this._childBoundables.isEmpty()};ca.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds};ca.prototype.interfaces_=function(){return[xf,Qo]};ca.prototype.getClass=function(){return ca};JP.serialVersionUID.get=function(){return 6493722185909574e3};Object.defineProperties(ca,JP);var Tl=function(){};Tl.reverseOrder=function(){return{compare:function(t,i){return i.compareTo(t)}}};Tl.min=function(e){return Tl.sort(e),e.get(0)};Tl.sort=function(e,t){var i=e.toArray();t?Gd.sort(i,t):Gd.sort(i);for(var r=e.iterator(),a=0,o=i.length;a<o;a++)r.next(),r.set(i[a])};Tl.singletonList=function(e){var t=new en;return t.add(e),t};var Kr=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],i=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=i,this._distance=this.distance()};Kr.prototype.expandToQueue=function(e,t){var i=Kr.isComposite(this._boundable1),r=Kr.isComposite(this._boundable2);if(i&&r)return Kr.area(this._boundable1)>Kr.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,t),null):(this.expand(this._boundable2,this._boundable1,e,t),null);if(i)return this.expand(this._boundable1,this._boundable2,e,t),null;if(r)return this.expand(this._boundable2,this._boundable1,e,t),null;throw new vr("neither boundable is composite")};Kr.prototype.isLeaves=function(){return!(Kr.isComposite(this._boundable1)||Kr.isComposite(this._boundable2))};Kr.prototype.compareTo=function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0};Kr.prototype.expand=function(e,t,i,r){for(var a=this,o=e.getChildBoundables(),s=o.iterator();s.hasNext();){var d=s.next(),p=new Kr(d,t,a._itemDistance);p.getDistance()<r&&i.add(p)}};Kr.prototype.getBoundable=function(e){return e===0?this._boundable1:this._boundable2};Kr.prototype.getDistance=function(){return this._distance};Kr.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())};Kr.prototype.interfaces_=function(){return[Ko]};Kr.prototype.getClass=function(){return Kr};Kr.area=function(e){return e.getBounds().getArea()};Kr.isComposite=function(e){return e instanceof ca};var La=function n(){if(this._root=null,this._built=!1,this._itemBoundables=new en,this._nodeCapacity=null,arguments.length===0){var e=n.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(arguments.length===1){var t=arguments[0];oi.isTrue(t>1,"Node capacity must be greater than 1"),this._nodeCapacity=t}},Z0={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};La.prototype.getNodeCapacity=function(){return this._nodeCapacity};La.prototype.lastNode=function(e){return e.get(e.size()-1)};La.prototype.size=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var t=arguments[0],i=0,r=t.getChildBoundables().iterator();r.hasNext();){var a=r.next();a instanceof ca?i+=e.size(a):a instanceof wl&&(i+=1)}return i}};La.prototype.removeItem=function(e,t){for(var i=null,r=e.getChildBoundables().iterator();r.hasNext();){var a=r.next();a instanceof wl&&a.getItem()===t&&(i=a)}return i!==null?(e.getChildBoundables().remove(i),!0):!1};La.prototype.itemsTree=function(){var e=this;if(arguments.length===0){this.build();var t=this.itemsTree(this._root);return t===null?new en:t}else if(arguments.length===1){for(var i=arguments[0],r=new en,a=i.getChildBoundables().iterator();a.hasNext();){var o=a.next();if(o instanceof ca){var s=e.itemsTree(o);s!==null&&r.add(s)}else o instanceof wl?r.add(o.getItem()):oi.shouldNeverReachHere()}return r.size()<=0?null:r}};La.prototype.insert=function(e,t){oi.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new wl(e,t))};La.prototype.boundablesAtLevel=function(){var e=this;if(arguments.length===1){var t=arguments[0],i=new en;return this.boundablesAtLevel(t,this._root,i),i}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2];if(oi.isTrue(r>-2),a.getLevel()===r)return o.add(a),null;for(var s=a.getChildBoundables().iterator();s.hasNext();){var d=s.next();d instanceof ca?e.boundablesAtLevel(r,d,o):(oi.isTrue(d instanceof wl),r===-1&&o.add(d))}return null}};La.prototype.query=function(){var e=this;if(arguments.length===1){var t=arguments[0];this.build();var i=new en;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,i),i}else if(arguments.length===2){var r=arguments[0],a=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),r)&&this.query(r,this._root,a)}else if(arguments.length===3){if(Bn(arguments[2],Ju)&&arguments[0]instanceof Object&&arguments[1]instanceof ca)for(var o=arguments[0],s=arguments[1],d=arguments[2],p=s.getChildBoundables(),m=0;m<p.size();m++){var y=p.get(m);e.getIntersectsOp().intersects(y.getBounds(),o)&&(y instanceof ca?e.query(o,y,d):y instanceof wl?d.visitItem(y.getItem()):oi.shouldNeverReachHere())}else if(Bn(arguments[2],xl)&&arguments[0]instanceof Object&&arguments[1]instanceof ca)for(var g=arguments[0],_=arguments[1],x=arguments[2],T=_.getChildBoundables(),E=0;E<T.size();E++){var k=T.get(E);e.getIntersectsOp().intersects(k.getBounds(),g)&&(k instanceof ca?e.query(g,k,x):k instanceof wl?x.add(k.getItem()):oi.shouldNeverReachHere())}}};La.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0};La.prototype.getRoot=function(){return this.build(),this._root};La.prototype.remove=function(){var e=this;if(arguments.length===2){var t=arguments[0],i=arguments[1];return this.build(),this.getIntersectsOp().intersects(this._root.getBounds(),t)?this.remove(t,this._root,i):!1}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2],s=this.removeItem(a,o);if(s)return!0;for(var d=null,p=a.getChildBoundables().iterator();p.hasNext();){var m=p.next();if(e.getIntersectsOp().intersects(m.getBounds(),r)&&m instanceof ca&&(s=e.remove(r,m,o),s)){d=m;break}}return d!==null&&d.getChildBoundables().isEmpty()&&a.getChildBoundables().remove(d),s}};La.prototype.createHigherLevels=function(e,t){oi.isTrue(!e.isEmpty());var i=this.createParentBoundables(e,t+1);return i.size()===1?i.get(0):this.createHigherLevels(i,t+1)};La.prototype.depth=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var t=arguments[0],i=0,r=t.getChildBoundables().iterator();r.hasNext();){var a=r.next();if(a instanceof ca){var o=e.depth(a);o>i&&(i=o)}}return i+1}};La.prototype.createParentBoundables=function(e,t){var i=this;oi.isTrue(!e.isEmpty());var r=new en;r.add(this.createNode(t));var a=new en(e);Tl.sort(a,this.getComparator());for(var o=a.iterator();o.hasNext();){var s=o.next();i.lastNode(r).getChildBoundables().size()===i.getNodeCapacity()&&r.add(i.createNode(t)),i.lastNode(r).addChildBoundable(s)}return r};La.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()};La.prototype.interfaces_=function(){return[Qo]};La.prototype.getClass=function(){return La};La.compareDoubles=function(e,t){return e>t?1:e<t?-1:0};Z0.IntersectsOp.get=function(){return VU};Z0.serialVersionUID.get=function(){return-3886435814360241e3};Z0.DEFAULT_NODE_CAPACITY.get=function(){return 10};Object.defineProperties(La,Z0);var VU=function(){},bf=function(){};bf.prototype.distance=function(e,t){};bf.prototype.interfaces_=function(){return[]};bf.prototype.getClass=function(){return bf};var eD=function(n){function e(i){i=i||e.DEFAULT_NODE_CAPACITY,n.call(this,i)}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(r,a){var o=this;oi.isTrue(r.length>0);for(var s=new en,d=0;d<r.length;d++)s.addAll(o.createParentBoundablesFromVerticalSlice(r[d],a));return s},e.prototype.createNode=function(r){return new lN(r)},e.prototype.size=function(){return arguments.length===0?n.prototype.size.call(this):n.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(arguments.length===2){var r=arguments[0],a=arguments[1];if(r.isNull())return null;n.prototype.insert.call(this,r,a)}else return n.prototype.insert.apply(this,arguments)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(r,a){for(var o=Math.trunc(Math.ceil(r.size()/a)),s=new Array(a).fill(null),d=r.iterator(),p=0;p<a;p++){s[p]=new en;for(var m=0;d.hasNext()&&m<o;){var y=d.next();s[p].add(y),m++}}return s},e.prototype.query=function(){if(arguments.length===1){var r=arguments[0];return n.prototype.query.call(this,r)}else if(arguments.length===2){var a=arguments[0],o=arguments[1];n.prototype.query.call(this,a,o)}else if(arguments.length===3){if(Bn(arguments[2],Ju)&&arguments[0]instanceof Object&&arguments[1]instanceof ca){var s=arguments[0],d=arguments[1],p=arguments[2];n.prototype.query.call(this,s,d,p)}else if(Bn(arguments[2],xl)&&arguments[0]instanceof Object&&arguments[1]instanceof ca){var m=arguments[0],y=arguments[1],g=arguments[2];n.prototype.query.call(this,m,y,g)}}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(r,a){return n.prototype.createParentBoundables.call(this,r,a)},e.prototype.remove=function(){if(arguments.length===2){var r=arguments[0],a=arguments[1];return n.prototype.remove.call(this,r,a)}else return n.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return arguments.length===0?n.prototype.depth.call(this):n.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(r,a){oi.isTrue(!r.isEmpty());var o=Math.trunc(Math.ceil(r.size()/this.getNodeCapacity())),s=new en(r);Tl.sort(s,e.xComparator);var d=this.verticalSlices(s,Math.trunc(Math.ceil(Math.sqrt(o))));return this.createParentBoundablesFromVerticalSlices(d,a)},e.prototype.nearestNeighbour=function(){if(arguments.length===1){if(Bn(arguments[0],bf)){var r=arguments[0],a=new Kr(this.getRoot(),this.getRoot(),r);return this.nearestNeighbour(a)}else if(arguments[0]instanceof Kr){var o=arguments[0];return this.nearestNeighbour(o,qn.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof e&&Bn(arguments[1],bf)){var s=arguments[0],d=arguments[1],p=new Kr(this.getRoot(),s.getRoot(),d);return this.nearestNeighbour(p)}else if(arguments[0]instanceof Kr&&typeof arguments[1]=="number"){var m=arguments[0],y=arguments[1],g=y,_=null,x=new su;for(x.add(m);!x.isEmpty()&&g>0;){var T=x.poll(),E=T.getDistance();if(E>=g)break;T.isLeaves()?(g=E,_=T):T.expandToQueue(x,g)}return[_.getBoundable(0).getItem(),_.getBoundable(1).getItem()]}}else if(arguments.length===3){var k=arguments[0],v=arguments[1],w=arguments[2],N=new wl(k,v),S=new Kr(this.getRoot(),N,w);return this.nearestNeighbour(S)[0]}},e.prototype.interfaces_=function(){return[bp,Qo]},e.prototype.getClass=function(){return e},e.centreX=function(r){return e.avg(r.getMinX(),r.getMaxX())},e.avg=function(r,a){return(r+a)/2},e.centreY=function(r){return e.avg(r.getMinY(),r.getMaxY())},t.STRtreeNode.get=function(){return lN},t.serialVersionUID.get=function(){return 0x39920f7d5f261e0},t.xComparator.get=function(){return{interfaces_:function(){return[uf]},compare:function(i,r){return n.compareDoubles(e.centreX(i.getBounds()),e.centreX(r.getBounds()))}}},t.yComparator.get=function(){return{interfaces_:function(){return[uf]},compare:function(i,r){return n.compareDoubles(e.centreY(i.getBounds()),e.centreY(r.getBounds()))}}},t.intersectsOp.get=function(){return{interfaces_:function(){return[n.IntersectsOp]},intersects:function(i,r){return i.intersects(r)}}},t.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,t),e}(La),lN=function(n){function e(){var t=arguments[0];n.call(this,t)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var i=null,r=this.getChildBoundables().iterator();r.hasNext();){var a=r.next();i===null?i=new An(a.getBounds()):i.expandToInclude(a.getBounds())}return i},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ca),Fs=function(){};Fs.prototype.interfaces_=function(){return[]};Fs.prototype.getClass=function(){return Fs};Fs.relativeSign=function(e,t){return e<t?-1:e>t?1:0};Fs.compare=function(e,t,i){if(t.equals2D(i))return 0;var r=Fs.relativeSign(t.x,i.x),a=Fs.relativeSign(t.y,i.y);switch(e){case 0:return Fs.compareValue(r,a);case 1:return Fs.compareValue(a,r);case 2:return Fs.compareValue(a,-r);case 3:return Fs.compareValue(-r,a);case 4:return Fs.compareValue(-r,-a);case 5:return Fs.compareValue(-a,-r);case 6:return Fs.compareValue(-a,r);case 7:return Fs.compareValue(r,-a)}return oi.shouldNeverReachHere("invalid octant value"),0};Fs.compareValue=function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0};var ed=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],i=arguments[2],r=arguments[3];this._segString=e,this.coord=new bt(t),this.segmentIndex=i,this._segmentOctant=r,this._isInterior=!t.equals2D(e.getCoordinate(i))};ed.prototype.getCoordinate=function(){return this.coord};ed.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)};ed.prototype.compareTo=function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:Fs.compare(this._segmentOctant,this.coord,t.coord)};ed.prototype.isEndPoint=function(e){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===e};ed.prototype.isInterior=function(){return this._isInterior};ed.prototype.interfaces_=function(){return[Ko]};ed.prototype.getClass=function(){return ed};var Ts=function(){this._nodeMap=new ns,this._edge=null;var e=arguments[0];this._edge=e};Ts.prototype.getSplitCoordinates=function(){var e=this,t=new _v;this.addEndpoints();for(var i=this.iterator(),r=i.next();i.hasNext();){var a=i.next();e.addEdgeCoordinates(r,a,t),r=a}return t.toCoordinateArray()};Ts.prototype.addCollapsedNodes=function(){var e=this,t=new en;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var i=t.iterator();i.hasNext();){var r=i.next().intValue();e.add(e._edge.getCoordinate(r),r)}};Ts.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();){var i=t.next();i.print(e)}};Ts.prototype.findCollapsesFromExistingVertices=function(e){for(var t=this,i=0;i<this._edge.size()-2;i++){var r=t._edge.getCoordinate(i),a=t._edge.getCoordinate(i+2);r.equals2D(a)&&e.add(new Hl(i+1))}};Ts.prototype.addEdgeCoordinates=function(e,t,i){var r=this,a=this._edge.getCoordinate(t.segmentIndex),o=t.isInterior()||!t.coord.equals2D(a);i.add(new bt(e.coord),!1);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)i.add(r._edge.getCoordinate(s));o&&i.add(new bt(t.coord))};Ts.prototype.iterator=function(){return this._nodeMap.values().iterator()};Ts.prototype.addSplitEdges=function(e){var t=this;this.addEndpoints(),this.addCollapsedNodes();for(var i=this.iterator(),r=i.next();i.hasNext();){var a=i.next(),o=t.createSplitEdge(r,a);e.add(o),r=a}};Ts.prototype.findCollapseIndex=function(e,t,i){if(!e.coord.equals2D(t.coord))return!1;var r=t.segmentIndex-e.segmentIndex;return t.isInterior()||r--,r===1?(i[0]=e.segmentIndex+1,!0):!1};Ts.prototype.findCollapsesFromInsertedNodes=function(e){for(var t=this,i=new Array(1).fill(null),r=this.iterator(),a=r.next();r.hasNext();){var o=r.next(),s=t.findCollapseIndex(a,o,i);s&&e.add(new Hl(i[0])),a=o}};Ts.prototype.getEdge=function(){return this._edge};Ts.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)};Ts.prototype.createSplitEdge=function(e,t){var i=this,r=t.segmentIndex-e.segmentIndex+2,a=this._edge.getCoordinate(t.segmentIndex),o=t.isInterior()||!t.coord.equals2D(a);o||r--;var s=new Array(r).fill(null),d=0;s[d++]=new bt(e.coord);for(var p=e.segmentIndex+1;p<=t.segmentIndex;p++)s[d++]=i._edge.getCoordinate(p);return o&&(s[d]=new bt(t.coord)),new Gr(s,this._edge.getData())};Ts.prototype.add=function(e,t){var i=new ed(this._edge,e,t,this._edge.getSegmentOctant(t)),r=this._nodeMap.get(i);return r!==null?(oi.isTrue(r.coord.equals2D(e),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(i,i),i)};Ts.prototype.checkSplitEdgesCorrectness=function(e){var t=this._edge.getCoordinates(),i=e.get(0),r=i.getCoordinate(0);if(!r.equals2D(t[0]))throw new iu("bad split edge start point at "+r);var a=e.get(e.size()-1),o=a.getCoordinates(),s=o[o.length-1];if(!s.equals2D(t[t.length-1]))throw new iu("bad split edge end point at "+s)};Ts.prototype.interfaces_=function(){return[]};Ts.prototype.getClass=function(){return Ts};var _p=function(){};_p.prototype.interfaces_=function(){return[]};_p.prototype.getClass=function(){return _p};_p.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],t=arguments[1];if(e===0&&t===0)throw new vr("Cannot compute the octant for point ( "+e+", "+t+" )");var i=Math.abs(e),r=Math.abs(t);return e>=0?t>=0?i>=r?0:1:i>=r?7:6:t>=0?i>=r?3:2:i>=r?4:5}else if(arguments[0]instanceof bt&&arguments[1]instanceof bt){var a=arguments[0],o=arguments[1],s=o.x-a.x,d=o.y-a.y;if(s===0&&d===0)throw new vr("Cannot compute the octant for two identical points "+a);return _p.octant(s,d)}};var wc=function(){};wc.prototype.getCoordinates=function(){};wc.prototype.size=function(){};wc.prototype.getCoordinate=function(e){};wc.prototype.isClosed=function(){};wc.prototype.setData=function(e){};wc.prototype.getData=function(){};wc.prototype.interfaces_=function(){return[]};wc.prototype.getClass=function(){return wc};var Vy=function(){};Vy.prototype.addIntersection=function(e,t){};Vy.prototype.interfaces_=function(){return[wc]};Vy.prototype.getClass=function(){return Vy};var Gr=function(){this._nodeList=new Ts(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};Gr.prototype.getCoordinates=function(){return this._pts};Gr.prototype.size=function(){return this._pts.length};Gr.prototype.getCoordinate=function(e){return this._pts[e]};Gr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};Gr.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))};Gr.prototype.setData=function(e){this._data=e};Gr.prototype.safeOctant=function(e,t){return e.equals2D(t)?0:_p.octant(e,t)};Gr.prototype.getData=function(){return this._data};Gr.prototype.addIntersection=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(arguments.length===4){var i=arguments[0],r=arguments[1],a=arguments[3],o=new bt(i.getIntersection(a));this.addIntersection(o,r)}};Gr.prototype.toString=function(){return bl.toLineString(new jr(this._pts))};Gr.prototype.getNodeList=function(){return this._nodeList};Gr.prototype.addIntersectionNode=function(e,t){var i=t,r=i+1;if(r<this._pts.length){var a=this._pts[r];e.equals2D(a)&&(i=r)}var o=this._nodeList.add(e,i);return o};Gr.prototype.addIntersections=function(e,t,i){for(var r=this,a=0;a<e.getIntersectionNum();a++)r.addIntersection(e,t,i,a)};Gr.prototype.interfaces_=function(){return[Vy]};Gr.prototype.getClass=function(){return Gr};Gr.getNodedSubstrings=function(){if(arguments.length===1){var e=arguments[0],t=new en;return Gr.getNodedSubstrings(e,t),t}else if(arguments.length===2)for(var i=arguments[0],r=arguments[1],a=i.iterator();a.hasNext();){var o=a.next();o.getNodeList().addSplitEdges(r)}};var Pn=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new bt,this.p1=new bt;else if(arguments.length===1){var e=arguments[0];this.p0=new bt(e.p0),this.p1=new bt(e.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var t=arguments[0],i=arguments[1],r=arguments[2],a=arguments[3];this.p0=new bt(t,i),this.p1=new bt(r,a)}},tD={serialVersionUID:{configurable:!0}};Pn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)};Pn.prototype.orientationIndex=function(){if(arguments[0]instanceof Pn){var e=arguments[0],t=ln.orientationIndex(this.p0,this.p1,e.p0),i=ln.orientationIndex(this.p0,this.p1,e.p1);return t>=0&&i>=0||t<=0&&i<=0?Math.max(t,i):0}else if(arguments[0]instanceof bt){var r=arguments[0];return ln.orientationIndex(this.p0,this.p1,r)}};Pn.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])};Pn.prototype.isVertical=function(){return this.p0.x===this.p1.x};Pn.prototype.equals=function(e){if(!(e instanceof Pn))return!1;var t=e;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)};Pn.prototype.intersection=function(e){var t=new hh;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null};Pn.prototype.project=function(){if(arguments[0]instanceof bt){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new bt(e);var t=this.projectionFactor(e),i=new bt;return i.x=this.p0.x+t*(this.p1.x-this.p0.x),i.y=this.p0.y+t*(this.p1.y-this.p0.y),i}else if(arguments[0]instanceof Pn){var r=arguments[0],a=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(a>=1&&o>=1||a<=0&&o<=0)return null;var s=this.project(r.p0);a<0&&(s=this.p0),a>1&&(s=this.p1);var d=this.project(r.p1);return o<0&&(d=this.p0),o>1&&(d=this.p1),new Pn(s,d)}};Pn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()};Pn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)};Pn.prototype.getCoordinate=function(e){return e===0?this.p0:this.p1};Pn.prototype.distancePerpendicular=function(e){return ln.distancePointLinePerpendicular(e,this.p0,this.p1)};Pn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)};Pn.prototype.midPoint=function(){return Pn.midPoint(this.p0,this.p1)};Pn.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,r=t*t+i*i;if(r<=0)return qn.NaN;var a=((e.x-this.p0.x)*t+(e.y-this.p0.y)*i)/r;return a};Pn.prototype.closestPoints=function(e){var t=this.intersection(e);if(t!==null)return[t,t];var i=new Array(2).fill(null),r=qn.MAX_VALUE,a=null,o=this.closestPoint(e.p0);r=o.distance(e.p0),i[0]=o,i[1]=e.p0;var s=this.closestPoint(e.p1);a=s.distance(e.p1),a<r&&(r=a,i[0]=s,i[1]=e.p1);var d=e.closestPoint(this.p0);a=d.distance(this.p0),a<r&&(r=a,i[0]=this.p0,i[1]=d);var p=e.closestPoint(this.p1);return a=p.distance(this.p1),a<r&&(r=a,i[0]=this.p1,i[1]=p),i};Pn.prototype.closestPoint=function(e){var t=this.projectionFactor(e);if(t>0&&t<1)return this.project(e);var i=this.p0.distance(e),r=this.p1.distance(e);return i<r?this.p0:this.p1};Pn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)};Pn.prototype.getLength=function(){return this.p0.distance(this.p1)};Pn.prototype.compareTo=function(e){var t=e,i=this.p0.compareTo(t.p0);return i!==0?i:this.p1.compareTo(t.p1)};Pn.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e};Pn.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)};Pn.prototype.lineIntersection=function(e){try{var t=vl.intersection(this.p0,this.p1,e.p0,e.p1);return t}catch(i){if(!(i instanceof Gf))throw i}finally{}return null};Pn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)};Pn.prototype.pointAlongOffset=function(e,t){var i=this.p0.x+e*(this.p1.x-this.p0.x),r=this.p0.y+e*(this.p1.y-this.p0.y),a=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(a*a+o*o),d=0,p=0;if(t!==0){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");d=t*a/s,p=t*o/s}var m=i-p,y=r+d,g=new bt(m,y);return g};Pn.prototype.setCoordinates=function(){if(arguments.length===1){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=i.x,this.p1.y=i.y}};Pn.prototype.segmentFraction=function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||qn.isNaN(t))&&(t=1),t};Pn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"};Pn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y};Pn.prototype.distance=function(){if(arguments[0]instanceof Pn){var e=arguments[0];return ln.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}else if(arguments[0]instanceof bt){var t=arguments[0];return ln.distancePointLine(t,this.p0,this.p1)}};Pn.prototype.pointAlong=function(e){var t=new bt;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t};Pn.prototype.hashCode=function(){var e=qn.doubleToLongBits(this.p0.x);e^=qn.doubleToLongBits(this.p0.y)*31;var t=Math.trunc(e)^Math.trunc(e>>32),i=qn.doubleToLongBits(this.p1.x);i^=qn.doubleToLongBits(this.p1.y)*31;var r=Math.trunc(i)^Math.trunc(i>>32);return t^r};Pn.prototype.interfaces_=function(){return[Ko,Qo]};Pn.prototype.getClass=function(){return Pn};Pn.midPoint=function(e,t){return new bt((e.x+t.x)/2,(e.y+t.y)/2)};tD.serialVersionUID.get=function(){return 0x2d2172135f411c00};Object.defineProperties(Pn,tD);var Wy=function(){this.tempEnv1=new An,this.tempEnv2=new An,this._overlapSeg1=new Pn,this._overlapSeg2=new Pn};Wy.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var e=arguments[0],t=arguments[1],i=arguments[2],r=arguments[3];e.getLineSegment(t,this._overlapSeg1),i.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}};Wy.prototype.interfaces_=function(){return[]};Wy.prototype.getClass=function(){return Wy};var lo=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],i=arguments[2],r=arguments[3];this._pts=e,this._start=t,this._end=i,this._context=r};lo.prototype.getLineSegment=function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]};lo.prototype.computeSelect=function(e,t,i,r){var a=this._pts[t],o=this._pts[i];if(r.tempEnv1.init(a,o),i-t===1)return r.select(this,t),null;if(!e.intersects(r.tempEnv1))return null;var s=Math.trunc((t+i)/2);t<s&&this.computeSelect(e,t,s,r),s<i&&this.computeSelect(e,s,i,r)};lo.prototype.getCoordinates=function(){for(var e=this,t=new Array(this._end-this._start+1).fill(null),i=0,r=this._start;r<=this._end;r++)t[i++]=e._pts[r];return t};lo.prototype.computeOverlaps=function(e,t){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,t)};lo.prototype.setId=function(e){this._id=e};lo.prototype.select=function(e,t){this.computeSelect(e,this._start,this._end,t)};lo.prototype.getEnvelope=function(){if(this._env===null){var e=this._pts[this._start],t=this._pts[this._end];this._env=new An(e,t)}return this._env};lo.prototype.getEndIndex=function(){return this._end};lo.prototype.getStartIndex=function(){return this._start};lo.prototype.getContext=function(){return this._context};lo.prototype.getId=function(){return this._id};lo.prototype.computeOverlapsInternal=function(e,t,i,r,a,o){var s=this._pts[e],d=this._pts[t],p=i._pts[r],m=i._pts[a];if(t-e===1&&a-r===1)return o.overlap(this,e,i,r),null;if(o.tempEnv1.init(s,d),o.tempEnv2.init(p,m),!o.tempEnv1.intersects(o.tempEnv2))return null;var y=Math.trunc((e+t)/2),g=Math.trunc((r+a)/2);e<y&&(r<g&&this.computeOverlapsInternal(e,y,i,r,g,o),g<a&&this.computeOverlapsInternal(e,y,i,g,a,o)),y<t&&(r<g&&this.computeOverlapsInternal(y,t,i,r,g,o),g<a&&this.computeOverlapsInternal(y,t,i,g,a,o))};lo.prototype.interfaces_=function(){return[]};lo.prototype.getClass=function(){return lo};var Wl=function(){};Wl.prototype.interfaces_=function(){return[]};Wl.prototype.getClass=function(){return Wl};Wl.getChainStartIndices=function(e){var t=0,i=new en;i.add(new Hl(t));do{var r=Wl.findChainEnd(e,t);i.add(new Hl(r)),t=r}while(t<e.length-1);var a=Wl.toIntArray(i);return a};Wl.findChainEnd=function(e,t){for(var i=t;i<e.length-1&&e[i].equals2D(e[i+1]);)i++;if(i>=e.length-1)return e.length-1;for(var r=er.quadrant(e[i],e[i+1]),a=t+1;a<e.length;){if(!e[a-1].equals2D(e[a])){var o=er.quadrant(e[a-1],e[a]);if(o!==r)break}a++}return a-1};Wl.getChains=function(){if(arguments.length===1){var e=arguments[0];return Wl.getChains(e,null)}else if(arguments.length===2){for(var t=arguments[0],i=arguments[1],r=new en,a=Wl.getChainStartIndices(t),o=0;o<a.length-1;o++){var s=new lo(t,a[o],a[o+1],i);r.add(s)}return r}};Wl.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),i=0;i<t.length;i++)t[i]=e.get(i).intValue();return t};var eh=function(){};eh.prototype.computeNodes=function(e){};eh.prototype.getNodedSubstrings=function(){};eh.prototype.interfaces_=function(){return[]};eh.prototype.getClass=function(){return eh};var qy=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this.setSegmentIntersector(e)}}};qy.prototype.setSegmentIntersector=function(e){this._segInt=e};qy.prototype.interfaces_=function(){return[eh]};qy.prototype.getClass=function(){return qy};var ES=function(n){function e(i){i?n.call(this,i):n.call(this),this._monoChains=new en,this._index=new eD,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Gr.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(r){for(var a=this,o=Wl.getChains(r.getCoordinates(),r),s=o.iterator();s.hasNext();){var d=s.next();d.setId(a._idCounter++),a._index.insert(d.getEnvelope(),d),a._monoChains.add(d)}},e.prototype.computeNodes=function(r){var a=this;this._nodedSegStrings=r;for(var o=r.iterator();o.hasNext();)a.add(o.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var r=this,a=new cN(this._segInt),o=this._monoChains.iterator();o.hasNext();)for(var s=o.next(),d=r._index.query(s.getEnvelope()),p=d.iterator();p.hasNext();){var m=p.next();if(m.getId()>s.getId()&&(s.computeOverlaps(m,a),r._nOverlaps++),r._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},t.SegmentOverlapAction.get=function(){return cN},Object.defineProperties(e,t),e}(qy),cN=function(n){function e(){n.call(this),this._si=null;var t=arguments[0];this._si=t}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(arguments.length===4){var i=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3],s=i.getContext(),d=a.getContext();this._si.processIntersections(s,r,d,o)}else return n.prototype.overlap.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Wy),$i=function n(){if(this._quadrantSegments=n.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=n.CAP_ROUND,this._joinStyle=n.JOIN_ROUND,this._mitreLimit=n.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=n.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this.setQuadrantSegments(e)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];this.setQuadrantSegments(t),this.setEndCapStyle(i)}else if(arguments.length===4){var r=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(a),this.setJoinStyle(o),this.setMitreLimit(s)}}},gu={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};$i.prototype.getEndCapStyle=function(){return this._endCapStyle};$i.prototype.isSingleSided=function(){return this._isSingleSided};$i.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,this._quadrantSegments===0&&(this._joinStyle=$i.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=$i.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==$i.JOIN_ROUND&&(this._quadrantSegments=$i.DEFAULT_QUADRANT_SEGMENTS)};$i.prototype.getJoinStyle=function(){return this._joinStyle};$i.prototype.setJoinStyle=function(e){this._joinStyle=e};$i.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e};$i.prototype.getSimplifyFactor=function(){return this._simplifyFactor};$i.prototype.getQuadrantSegments=function(){return this._quadrantSegments};$i.prototype.setEndCapStyle=function(e){this._endCapStyle=e};$i.prototype.getMitreLimit=function(){return this._mitreLimit};$i.prototype.setMitreLimit=function(e){this._mitreLimit=e};$i.prototype.setSingleSided=function(e){this._isSingleSided=e};$i.prototype.interfaces_=function(){return[]};$i.prototype.getClass=function(){return $i};$i.bufferDistanceError=function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)};gu.CAP_ROUND.get=function(){return 1};gu.CAP_FLAT.get=function(){return 2};gu.CAP_SQUARE.get=function(){return 3};gu.JOIN_ROUND.get=function(){return 1};gu.JOIN_MITRE.get=function(){return 2};gu.JOIN_BEVEL.get=function(){return 3};gu.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8};gu.DEFAULT_MITRE_LIMIT.get=function(){return 5};gu.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01};Object.defineProperties($i,gu);var Or=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ln.COUNTERCLOCKWISE,this._inputLine=e||null},Sv={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Or.prototype.isDeletable=function(e,t,i,r){var a=this._inputLine[e],o=this._inputLine[t],s=this._inputLine[i];return!this.isConcave(a,o,s)||!this.isShallow(a,o,s,r)?!1:this.isShallowSampled(a,o,e,i,r)};Or.prototype.deleteShallowConcavities=function(){for(var e=this,t=1,i=this.findNextNonDeletedIndex(t),r=this.findNextNonDeletedIndex(i),a=!1;r<this._inputLine.length;){var o=!1;e.isDeletable(t,i,r,e._distanceTol)&&(e._isDeleted[i]=Or.DELETE,o=!0,a=!0),o?t=r:t=i,i=e.findNextNonDeletedIndex(t),r=e.findNextNonDeletedIndex(i)}return a};Or.prototype.isShallowConcavity=function(e,t,i,r){var a=ln.computeOrientation(e,t,i),o=a===this._angleOrientation;if(!o)return!1;var s=ln.distancePointLine(t,e,i);return s<r};Or.prototype.isShallowSampled=function(e,t,i,r,a){var o=this,s=Math.trunc((r-i)/Or.NUM_PTS_TO_CHECK);s<=0&&(s=1);for(var d=i;d<r;d+=s)if(!o.isShallow(e,t,o._inputLine[d],a))return!1;return!0};Or.prototype.isConcave=function(e,t,i){var r=ln.computeOrientation(e,t,i),a=r===this._angleOrientation;return a};Or.prototype.simplify=function(e){var t=this;this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=ln.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var i=!1;do i=t.deleteShallowConcavities();while(i);return this.collapseLine()};Or.prototype.findNextNonDeletedIndex=function(e){for(var t=e+1;t<this._inputLine.length&&this._isDeleted[t]===Or.DELETE;)t++;return t};Or.prototype.isShallow=function(e,t,i,r){var a=ln.distancePointLine(t,e,i);return a<r};Or.prototype.collapseLine=function(){for(var e=this,t=new _v,i=0;i<this._inputLine.length;i++)e._isDeleted[i]!==Or.DELETE&&t.add(e._inputLine[i]);return t.toCoordinateArray()};Or.prototype.interfaces_=function(){return[]};Or.prototype.getClass=function(){return Or};Or.simplify=function(e,t){var i=new Or(e);return i.simplify(t)};Sv.INIT.get=function(){return 0};Sv.DELETE.get=function(){return 1};Sv.KEEP.get=function(){return 1};Sv.NUM_PTS_TO_CHECK.get=function(){return 10};Object.defineProperties(Or,Sv);var Mo=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new en},nD={COORDINATE_ARRAY_TYPE:{configurable:!0}};Mo.prototype.getCoordinates=function(){var e=this._ptList.toArray(Mo.COORDINATE_ARRAY_TYPE);return e};Mo.prototype.setPrecisionModel=function(e){this._precisionModel=e};Mo.prototype.addPt=function(e){var t=new bt(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)};Mo.prototype.revere=function(){};Mo.prototype.addPts=function(e,t){var i=this;if(t)for(var r=0;r<e.length;r++)i.addPt(e[r]);else for(var a=e.length-1;a>=0;a--)i.addPt(e[a])};Mo.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1),i=e.distance(t);return i<this._minimimVertexDistance};Mo.prototype.toString=function(){var e=new yi,t=e.createLineString(this.getCoordinates());return t.toString()};Mo.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new bt(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)};Mo.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e};Mo.prototype.interfaces_=function(){return[]};Mo.prototype.getClass=function(){return Mo};nD.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)};Object.defineProperties(Mo,nD);var Ci=function(){},Vp={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Ci.prototype.interfaces_=function(){return[]};Ci.prototype.getClass=function(){return Ci};Ci.toDegrees=function(e){return e*180/Math.PI};Ci.normalize=function(e){for(;e>Math.PI;)e-=Ci.PI_TIMES_2;for(;e<=-Math.PI;)e+=Ci.PI_TIMES_2;return e};Ci.angle=function(){if(arguments.length===1){var e=arguments[0];return Math.atan2(e.y,e.x)}else if(arguments.length===2){var t=arguments[0],i=arguments[1],r=i.x-t.x,a=i.y-t.y;return Math.atan2(a,r)}};Ci.isAcute=function(e,t,i){var r=e.x-t.x,a=e.y-t.y,o=i.x-t.x,s=i.y-t.y,d=r*o+a*s;return d>0};Ci.isObtuse=function(e,t,i){var r=e.x-t.x,a=e.y-t.y,o=i.x-t.x,s=i.y-t.y,d=r*o+a*s;return d<0};Ci.interiorAngle=function(e,t,i){var r=Ci.angle(t,e),a=Ci.angle(t,i);return Math.abs(a-r)};Ci.normalizePositive=function(e){if(e<0){for(;e<0;)e+=Ci.PI_TIMES_2;e>=Ci.PI_TIMES_2&&(e=0)}else{for(;e>=Ci.PI_TIMES_2;)e-=Ci.PI_TIMES_2;e<0&&(e=0)}return e};Ci.angleBetween=function(e,t,i){var r=Ci.angle(t,e),a=Ci.angle(t,i);return Ci.diff(r,a)};Ci.diff=function(e,t){var i=null;return e<t?i=t-e:i=e-t,i>Math.PI&&(i=2*Math.PI-i),i};Ci.toRadians=function(e){return e*Math.PI/180};Ci.getTurn=function(e,t){var i=Math.sin(t-e);return i>0?Ci.COUNTERCLOCKWISE:i<0?Ci.CLOCKWISE:Ci.NONE};Ci.angleBetweenOriented=function(e,t,i){var r=Ci.angle(t,e),a=Ci.angle(t,i),o=a-r;return o<=-Math.PI?o+Ci.PI_TIMES_2:o>Math.PI?o-Ci.PI_TIMES_2:o};Vp.PI_TIMES_2.get=function(){return 2*Math.PI};Vp.PI_OVER_2.get=function(){return Math.PI/2};Vp.PI_OVER_4.get=function(){return Math.PI/4};Vp.COUNTERCLOCKWISE.get=function(){return ln.COUNTERCLOCKWISE};Vp.CLOCKWISE.get=function(){return ln.CLOCKWISE};Vp.NONE.get=function(){return ln.COLLINEAR};Object.defineProperties(Ci,Vp);var dr=function n(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Pn,this._seg1=new Pn,this._offset0=new Pn,this._offset1=new Pn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],t=arguments[1],i=arguments[2];this._precisionModel=e,this._bufParams=t,this._li=new hh,this._filletAngleQuantum=Math.PI/2/t.getQuadrantSegments(),t.getQuadrantSegments()>=8&&t.getJoinStyle()===$i.JOIN_ROUND&&(this._closingSegLengthFactor=n.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)},Cv={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};dr.prototype.addNextSegment=function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var i=ln.computeOrientation(this._s0,this._s1,this._s2),r=i===ln.CLOCKWISE&&this._side===Xt.LEFT||i===ln.COUNTERCLOCKWISE&&this._side===Xt.RIGHT;i===0?this.addCollinear(t):r?this.addOutsideTurn(i,t):this.addInsideTurn(i,t)};dr.prototype.addLineEndCap=function(e,t){var i=new Pn(e,t),r=new Pn;this.computeOffsetSegment(i,Xt.LEFT,this._distance,r);var a=new Pn;this.computeOffsetSegment(i,Xt.RIGHT,this._distance,a);var o=t.x-e.x,s=t.y-e.y,d=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case $i.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(t,d+Math.PI/2,d-Math.PI/2,ln.CLOCKWISE,this._distance),this._segList.addPt(a.p1);break;case $i.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(a.p1);break;case $i.CAP_SQUARE:var p=new bt;p.x=Math.abs(this._distance)*Math.cos(d),p.y=Math.abs(this._distance)*Math.sin(d);var m=new bt(r.p1.x+p.x,r.p1.y+p.y),y=new bt(a.p1.x+p.x,a.p1.y+p.y);this._segList.addPt(m),this._segList.addPt(y);break}};dr.prototype.getCoordinates=function(){var e=this._segList.getCoordinates();return e};dr.prototype.addMitreJoin=function(e,t,i,r){var a=!0,o=null;try{o=vl.intersection(t.p0,t.p1,i.p0,i.p1);var s=r<=0?1:o.distance(e)/Math.abs(r);s>this._bufParams.getMitreLimit()&&(a=!1)}catch(d){if(d instanceof Gf)o=new bt(0,0),a=!1;else throw d}finally{}a?this._segList.addPt(o):this.addLimitedMitreJoin(t,i,r,this._bufParams.getMitreLimit())};dr.prototype.addFilletCorner=function(e,t,i,r,a){var o=t.x-e.x,s=t.y-e.y,d=Math.atan2(s,o),p=i.x-e.x,m=i.y-e.y,y=Math.atan2(m,p);r===ln.CLOCKWISE?d<=y&&(d+=2*Math.PI):d>=y&&(d-=2*Math.PI),this._segList.addPt(t),this.addFilletArc(e,d,y,r,a),this._segList.addPt(i)};dr.prototype.addOutsideTurn=function(e,t){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*dr.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===$i.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===$i.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(t&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))};dr.prototype.createSquare=function(e){this._segList.addPt(new bt(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new bt(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new bt(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new bt(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()};dr.prototype.addSegments=function(e,t){this._segList.addPts(e,t)};dr.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)};dr.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)};dr.prototype.initSideSegments=function(e,t,i){this._s1=e,this._s2=t,this._side=i,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,i,this._distance,this._offset1)};dr.prototype.addLimitedMitreJoin=function(e,t,i,r){var a=this._seg0.p1,o=Ci.angle(a,this._seg0.p0),s=Ci.angleBetweenOriented(this._seg0.p0,a,this._seg1.p1),d=s/2,p=Ci.normalize(o+d),m=Ci.normalize(p+Math.PI),y=r*i,g=y*Math.abs(Math.sin(d)),_=i-g,x=a.x+y*Math.cos(m),T=a.y+y*Math.sin(m),E=new bt(x,T),k=new Pn(a,E),v=k.pointAlongOffset(1,_),w=k.pointAlongOffset(1,-_);this._side===Xt.LEFT?(this._segList.addPt(v),this._segList.addPt(w)):(this._segList.addPt(w),this._segList.addPt(v))};dr.prototype.computeOffsetSegment=function(e,t,i,r){var a=t===Xt.LEFT?1:-1,o=e.p1.x-e.p0.x,s=e.p1.y-e.p0.y,d=Math.sqrt(o*o+s*s),p=a*i*o/d,m=a*i*s/d;r.p0.x=e.p0.x-m,r.p0.y=e.p0.y+p,r.p1.x=e.p1.x-m,r.p1.y=e.p1.y+p};dr.prototype.addFilletArc=function(e,t,i,r,a){var o=this,s=r===ln.CLOCKWISE?-1:1,d=Math.abs(t-i),p=Math.trunc(d/this._filletAngleQuantum+.5);if(p<1)return null;for(var m=0,y=d/p,g=m,_=new bt;g<d;){var x=t+s*g;_.x=e.x+a*Math.cos(x),_.y=e.y+a*Math.sin(x),o._segList.addPt(_),g+=y}};dr.prototype.addInsideTurn=function(e,t){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*dr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var i=new bt((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i);var r=new bt((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}};dr.prototype.createCircle=function(e){var t=new bt(e.x+this._distance,e.y);this._segList.addPt(t),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()};dr.prototype.addBevelJoin=function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)};dr.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Mo,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*dr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)};dr.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);var t=this._li.getIntersectionNum();t>=2&&(this._bufParams.getJoinStyle()===$i.JOIN_BEVEL||this._bufParams.getJoinStyle()===$i.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,ln.CLOCKWISE,this._distance))};dr.prototype.closeRing=function(){this._segList.closeRing()};dr.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle};dr.prototype.interfaces_=function(){return[]};dr.prototype.getClass=function(){return dr};Cv.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001};Cv.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001};Cv.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6};Cv.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80};Object.defineProperties(dr,Cv);var Vs=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t};Vs.prototype.getOffsetCurve=function(e,t){if(this._distance=t,t===0)return null;var i=t<0,r=Math.abs(t),a=this.getSegGen(r);e.length<=1?this.computePointCurve(e[0],a):this.computeOffsetCurve(e,i,a);var o=a.getCoordinates();return i&&xi.reverse(o),o};Vs.prototype.computeSingleSidedBufferCurve=function(e,t,i){var r=this.simplifyTolerance(this._distance);if(t){i.addSegments(e,!0);var a=Or.simplify(e,-r),o=a.length-1;i.initSideSegments(a[o],a[o-1],Xt.LEFT),i.addFirstSegment();for(var s=o-2;s>=0;s--)i.addNextSegment(a[s],!0)}else{i.addSegments(e,!1);var d=Or.simplify(e,r),p=d.length-1;i.initSideSegments(d[0],d[1],Xt.LEFT),i.addFirstSegment();for(var m=2;m<=p;m++)i.addNextSegment(d[m],!0)}i.addLastSegment(),i.closeRing()};Vs.prototype.computeRingBufferCurve=function(e,t,i){var r=this.simplifyTolerance(this._distance);t===Xt.RIGHT&&(r=-r);var a=Or.simplify(e,r),o=a.length-1;i.initSideSegments(a[o-1],a[0],t);for(var s=1;s<=o;s++){var d=s!==1;i.addNextSegment(a[s],d)}i.closeRing()};Vs.prototype.computeLineBufferCurve=function(e,t){var i=this.simplifyTolerance(this._distance),r=Or.simplify(e,i),a=r.length-1;t.initSideSegments(r[0],r[1],Xt.LEFT);for(var o=2;o<=a;o++)t.addNextSegment(r[o],!0);t.addLastSegment(),t.addLineEndCap(r[a-1],r[a]);var s=Or.simplify(e,-i),d=s.length-1;t.initSideSegments(s[d],s[d-1],Xt.LEFT);for(var p=d-2;p>=0;p--)t.addNextSegment(s[p],!0);t.addLastSegment(),t.addLineEndCap(s[1],s[0]),t.closeRing()};Vs.prototype.computePointCurve=function(e,t){switch(this._bufParams.getEndCapStyle()){case $i.CAP_ROUND:t.createCircle(e);break;case $i.CAP_SQUARE:t.createSquare(e);break}};Vs.prototype.getLineCurve=function(e,t){if(this._distance=t,t<0&&!this._bufParams.isSingleSided()||t===0)return null;var i=Math.abs(t),r=this.getSegGen(i);if(e.length<=1)this.computePointCurve(e[0],r);else if(this._bufParams.isSingleSided()){var a=t<0;this.computeSingleSidedBufferCurve(e,a,r)}else this.computeLineBufferCurve(e,r);var o=r.getCoordinates();return o};Vs.prototype.getBufferParameters=function(){return this._bufParams};Vs.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()};Vs.prototype.getRingCurve=function(e,t,i){if(this._distance=i,e.length<=2)return this.getLineCurve(e,i);if(i===0)return Vs.copyCoordinates(e);var r=this.getSegGen(i);return this.computeRingBufferCurve(e,t,r),r.getCoordinates()};Vs.prototype.computeOffsetCurve=function(e,t,i){var r=this.simplifyTolerance(this._distance);if(t){var a=Or.simplify(e,-r),o=a.length-1;i.initSideSegments(a[o],a[o-1],Xt.LEFT),i.addFirstSegment();for(var s=o-2;s>=0;s--)i.addNextSegment(a[s],!0)}else{var d=Or.simplify(e,r),p=d.length-1;i.initSideSegments(d[0],d[1],Xt.LEFT),i.addFirstSegment();for(var m=2;m<=p;m++)i.addNextSegment(d[m],!0)}i.addLastSegment()};Vs.prototype.getSegGen=function(e){return new dr(this._precisionModel,this._bufParams,e)};Vs.prototype.interfaces_=function(){return[]};Vs.prototype.getClass=function(){return Vs};Vs.copyCoordinates=function(e){for(var t=new Array(e.length).fill(null),i=0;i<t.length;i++)t[i]=new bt(e[i]);return t};var wp=function(){this._subgraphs=null,this._seg=new Pn,this._cga=new ln;var e=arguments[0];this._subgraphs=e},iD={DepthSegment:{configurable:!0}};wp.prototype.findStabbedSegments=function(){var e=this;if(arguments.length===1){for(var t=arguments[0],i=new en,r=this._subgraphs.iterator();r.hasNext();){var a=r.next(),o=a.getEnvelope();t.y<o.getMinY()||t.y>o.getMaxY()||e.findStabbedSegments(t,a.getDirectedEdges(),i)}return i}else if(arguments.length===3){if(Bn(arguments[2],xl)&&arguments[0]instanceof bt&&arguments[1]instanceof R1)for(var s=arguments[0],d=arguments[1],p=arguments[2],m=d.getEdge().getCoordinates(),y=0;y<m.length-1;y++){e._seg.p0=m[y],e._seg.p1=m[y+1],e._seg.p0.y>e._seg.p1.y&&e._seg.reverse();var g=Math.max(e._seg.p0.x,e._seg.p1.x);if(!(g<s.x)&&!e._seg.isHorizontal()&&!(s.y<e._seg.p0.y||s.y>e._seg.p1.y)&&ln.computeOrientation(e._seg.p0,e._seg.p1,s)!==ln.RIGHT){var _=d.getDepth(Xt.LEFT);e._seg.p0.equals(m[y])||(_=d.getDepth(Xt.RIGHT));var x=new th(e._seg,_);p.add(x)}}else if(Bn(arguments[2],xl)&&arguments[0]instanceof bt&&Bn(arguments[1],xl))for(var T=arguments[0],E=arguments[1],k=arguments[2],v=E.iterator();v.hasNext();){var w=v.next();w.isForward()&&e.findStabbedSegments(T,w,k)}}};wp.prototype.getDepth=function(e){var t=this.findStabbedSegments(e);if(t.size()===0)return 0;var i=Tl.min(t);return i._leftDepth};wp.prototype.interfaces_=function(){return[]};wp.prototype.getClass=function(){return wp};iD.DepthSegment.get=function(){return th};Object.defineProperties(wp,iD);var th=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new Pn(e),this._leftDepth=t};th.prototype.compareTo=function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var i=this._upwardSeg.orientationIndex(t._upwardSeg);return i!==0||(i=-1*t._upwardSeg.orientationIndex(this._upwardSeg),i!==0)?i:this._upwardSeg.compareTo(t._upwardSeg)};th.prototype.compareX=function(e,t){var i=e.p0.compareTo(t.p0);return i!==0?i:e.p1.compareTo(t.p1)};th.prototype.toString=function(){return this._upwardSeg.toString()};th.prototype.interfaces_=function(){return[Ko]};th.prototype.getClass=function(){return th};var Fi=function(e,t,i){this.p0=e||null,this.p1=t||null,this.p2=i||null};Fi.prototype.area=function(){return Fi.area(this.p0,this.p1,this.p2)};Fi.prototype.signedArea=function(){return Fi.signedArea(this.p0,this.p1,this.p2)};Fi.prototype.interpolateZ=function(e){if(e===null)throw new vr("Supplied point is null.");return Fi.interpolateZ(e,this.p0,this.p1,this.p2)};Fi.prototype.longestSideLength=function(){return Fi.longestSideLength(this.p0,this.p1,this.p2)};Fi.prototype.isAcute=function(){return Fi.isAcute(this.p0,this.p1,this.p2)};Fi.prototype.circumcentre=function(){return Fi.circumcentre(this.p0,this.p1,this.p2)};Fi.prototype.area3D=function(){return Fi.area3D(this.p0,this.p1,this.p2)};Fi.prototype.centroid=function(){return Fi.centroid(this.p0,this.p1,this.p2)};Fi.prototype.inCentre=function(){return Fi.inCentre(this.p0,this.p1,this.p2)};Fi.prototype.interfaces_=function(){return[]};Fi.prototype.getClass=function(){return Fi};Fi.area=function(e,t,i){return Math.abs(((i.x-e.x)*(t.y-e.y)-(t.x-e.x)*(i.y-e.y))/2)};Fi.signedArea=function(e,t,i){return((i.x-e.x)*(t.y-e.y)-(t.x-e.x)*(i.y-e.y))/2};Fi.det=function(e,t,i,r){return e*r-t*i};Fi.interpolateZ=function(e,t,i,r){var a=t.x,o=t.y,s=i.x-a,d=r.x-a,p=i.y-o,m=r.y-o,y=s*m-d*p,g=e.x-a,_=e.y-o,x=(m*g-d*_)/y,T=(-p*g+s*_)/y,E=t.z+x*(i.z-t.z)+T*(r.z-t.z);return E};Fi.longestSideLength=function(e,t,i){var r=e.distance(t),a=t.distance(i),o=i.distance(e),s=r;return a>s&&(s=a),o>s&&(s=o),s};Fi.isAcute=function(e,t,i){return!(!Ci.isAcute(e,t,i)||!Ci.isAcute(t,i,e)||!Ci.isAcute(i,e,t))};Fi.circumcentre=function(e,t,i){var r=i.x,a=i.y,o=e.x-r,s=e.y-a,d=t.x-r,p=t.y-a,m=2*Fi.det(o,s,d,p),y=Fi.det(s,o*o+s*s,p,d*d+p*p),g=Fi.det(o,o*o+s*s,d,d*d+p*p),_=r-y/m,x=a+g/m;return new bt(_,x)};Fi.perpendicularBisector=function(e,t){var i=t.x-e.x,r=t.y-e.y,a=new vl(e.x+i/2,e.y+r/2,1),o=new vl(e.x-r+i/2,e.y+i+r/2,1);return new vl(a,o)};Fi.angleBisector=function(e,t,i){var r=t.distance(e),a=t.distance(i),o=r/(r+a),s=i.x-e.x,d=i.y-e.y,p=new bt(e.x+o*s,e.y+o*d);return p};Fi.area3D=function(e,t,i){var r=t.x-e.x,a=t.y-e.y,o=t.z-e.z,s=i.x-e.x,d=i.y-e.y,p=i.z-e.z,m=a*p-o*d,y=o*s-r*p,g=r*d-a*s,_=m*m+y*y+g*g,x=Math.sqrt(_)/2;return x};Fi.centroid=function(e,t,i){var r=(e.x+t.x+i.x)/3,a=(e.y+t.y+i.y)/3;return new bt(r,a)};Fi.inCentre=function(e,t,i){var r=t.distance(i),a=e.distance(i),o=e.distance(t),s=r+a+o,d=(r*e.x+a*t.x+o*i.x)/s,p=(r*e.y+a*t.y+o*i.y)/s;return new bt(d,p)};var Zo=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new en;var e=arguments[0],t=arguments[1],i=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=i};Zo.prototype.addPoint=function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),i=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(i,kt.EXTERIOR,kt.INTERIOR)};Zo.prototype.addPolygon=function(e){var t=this,i=this._distance,r=Xt.LEFT;this._distance<0&&(i=-this._distance,r=Xt.RIGHT);var a=e.getExteriorRing(),o=xi.removeRepeatedPoints(a.getCoordinates());if(this._distance<0&&this.isErodedCompletely(a,this._distance)||this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,i,r,kt.EXTERIOR,kt.INTERIOR);for(var s=0;s<e.getNumInteriorRing();s++){var d=e.getInteriorRingN(s),p=xi.removeRepeatedPoints(d.getCoordinates());t._distance>0&&t.isErodedCompletely(d,-t._distance)||t.addPolygonRing(p,i,Xt.opposite(r),kt.INTERIOR,kt.EXTERIOR)}};Zo.prototype.isTriangleErodedCompletely=function(e,t){var i=new Fi(e[0],e[1],e[2]),r=i.inCentre(),a=ln.distancePointLine(r,i.p0,i.p1);return a<Math.abs(t)};Zo.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var t=xi.removeRepeatedPoints(e.getCoordinates()),i=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(i,kt.EXTERIOR,kt.INTERIOR)};Zo.prototype.addCurve=function(e,t,i){if(e===null||e.length<2)return null;var r=new Gr(e,new Wi(0,kt.BOUNDARY,t,i));this._curveList.add(r)};Zo.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList};Zo.prototype.addPolygonRing=function(e,t,i,r,a){if(t===0&&e.length<bc.MINIMUM_VALID_SIZE)return null;var o=r,s=a;e.length>=bc.MINIMUM_VALID_SIZE&&ln.isCCW(e)&&(o=a,s=r,i=Xt.opposite(i));var d=this._curveBuilder.getRingCurve(e,i,t);this.addCurve(d,o,s)};Zo.prototype.add=function(e){if(e.isEmpty())return null;e instanceof da?this.addPolygon(e):e instanceof Mr?this.addLineString(e):e instanceof so?this.addPoint(e):e instanceof yf?this.addCollection(e):e instanceof Jd?this.addCollection(e):e instanceof mc?this.addCollection(e):e instanceof _s&&this.addCollection(e)};Zo.prototype.isErodedCompletely=function(e,t){var i=e.getCoordinates();if(i.length<4)return t<0;if(i.length===4)return this.isTriangleErodedCompletely(i,t);var r=e.getEnvelopeInternal(),a=Math.min(r.getHeight(),r.getWidth());return t<0&&2*Math.abs(t)>a};Zo.prototype.addCollection=function(e){for(var t=this,i=0;i<e.getNumGeometries();i++){var r=e.getGeometryN(i);t.add(r)}};Zo.prototype.interfaces_=function(){return[]};Zo.prototype.getClass=function(){return Zo};var _f=function(){};_f.prototype.locate=function(e){};_f.prototype.interfaces_=function(){return[]};_f.prototype.getClass=function(){return _f};var fc=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};fc.prototype.next=function(){if(this._atStart)return this._atStart=!1,fc.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Vf;var e=this._parent.getGeometryN(this._index++);return e instanceof _s?(this._subcollectionIterator=new fc(e),this._subcollectionIterator.next()):e};fc.prototype.remove=function(){throw new Error(this.getClass().getName())};fc.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)};fc.prototype.interfaces_=function(){return[Yf]};fc.prototype.getClass=function(){return fc};fc.isAtomic=function(e){return!(e instanceof _s)};var Io=function(){this._geom=null;var e=arguments[0];this._geom=e};Io.prototype.locate=function(e){return Io.locate(e,this._geom)};Io.prototype.interfaces_=function(){return[_f]};Io.prototype.getClass=function(){return Io};Io.isPointInRing=function(e,t){return t.getEnvelopeInternal().intersects(e)?ln.isPointInRing(e,t.getCoordinates()):!1};Io.containsPointInPolygon=function(e,t){if(t.isEmpty())return!1;var i=t.getExteriorRing();if(!Io.isPointInRing(e,i))return!1;for(var r=0;r<t.getNumInteriorRing();r++){var a=t.getInteriorRingN(r);if(Io.isPointInRing(e,a))return!1}return!0};Io.containsPoint=function(e,t){if(t instanceof da)return Io.containsPointInPolygon(e,t);if(t instanceof _s)for(var i=new fc(t);i.hasNext();){var r=i.next();if(r!==t&&Io.containsPoint(e,r))return!0}return!1};Io.locate=function(e,t){return t.isEmpty()?kt.EXTERIOR:Io.containsPoint(e,t)?kt.INTERIOR:kt.EXTERIOR};var rs=function(){this._edgeMap=new ns,this._edgeList=null,this._ptInAreaLocation=[kt.NONE,kt.NONE]};rs.prototype.getNextCW=function(e){this.getEdges();var t=this._edgeList.indexOf(e),i=t-1;return t===0&&(i=this._edgeList.size()-1),this._edgeList.get(i)};rs.prototype.propagateSideLabels=function(e){for(var t=kt.NONE,i=this.iterator();i.hasNext();){var r=i.next(),a=r.getLabel();a.isArea(e)&&a.getLocation(e,Xt.LEFT)!==kt.NONE&&(t=a.getLocation(e,Xt.LEFT))}if(t===kt.NONE)return null;for(var o=t,s=this.iterator();s.hasNext();){var d=s.next(),p=d.getLabel();if(p.getLocation(e,Xt.ON)===kt.NONE&&p.setLocation(e,Xt.ON,o),p.isArea(e)){var m=p.getLocation(e,Xt.LEFT),y=p.getLocation(e,Xt.RIGHT);if(y!==kt.NONE){if(y!==o)throw new au("side location conflict",d.getCoordinate());m===kt.NONE&&oi.shouldNeverReachHere("found single null side (at "+d.getCoordinate()+")"),o=m}else oi.isTrue(p.getLocation(e,Xt.LEFT)===kt.NONE,"found single null side"),p.setLocation(e,Xt.RIGHT,o),p.setLocation(e,Xt.LEFT,o)}}};rs.prototype.getCoordinate=function(){var e=this.iterator();if(!e.hasNext())return null;var t=e.next();return t.getCoordinate()};rs.prototype.print=function(e){Ua.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var i=t.next();i.print(e)}};rs.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)};rs.prototype.checkAreaLabelsConsistent=function(e){var t=this.getEdges();if(t.size()<=0)return!0;var i=t.size()-1,r=t.get(i).getLabel(),a=r.getLocation(e,Xt.LEFT);oi.isTrue(a!==kt.NONE,"Found unlabelled area edge");for(var o=a,s=this.iterator();s.hasNext();){var d=s.next(),p=d.getLabel();oi.isTrue(p.isArea(e),"Found non-area edge");var m=p.getLocation(e,Xt.LEFT),y=p.getLocation(e,Xt.RIGHT);if(m===y||y!==o)return!1;o=m}return!0};rs.prototype.findIndex=function(e){var t=this;this.iterator();for(var i=0;i<this._edgeList.size();i++){var r=t._edgeList.get(i);if(r===e)return i}return-1};rs.prototype.iterator=function(){return this.getEdges().iterator()};rs.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new en(this._edgeMap.values())),this._edgeList};rs.prototype.getLocation=function(e,t,i){return this._ptInAreaLocation[e]===kt.NONE&&(this._ptInAreaLocation[e]=Io.locate(t,i[e].getGeometry())),this._ptInAreaLocation[e]};rs.prototype.toString=function(){var e=new ac;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append(`
`);for(var t=this.iterator();t.hasNext();){var i=t.next();e.append(i),e.append(`
`)}return e.toString()};rs.prototype.computeEdgeEndLabels=function(e){for(var t=this.iterator();t.hasNext();){var i=t.next();i.computeLabel(e)}};rs.prototype.computeLabelling=function(e){var t=this;this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var i=[!1,!1],r=this.iterator();r.hasNext();)for(var a=r.next(),o=a.getLabel(),s=0;s<2;s++)o.isLine(s)&&o.getLocation(s)===kt.BOUNDARY&&(i[s]=!0);for(var d=this.iterator();d.hasNext();)for(var p=d.next(),m=p.getLabel(),y=0;y<2;y++)if(m.isAnyNull(y)){var g=kt.NONE;if(i[y])g=kt.EXTERIOR;else{var _=p.getCoordinate();g=t.getLocation(y,_,e)}m.setAllLocationsIfNull(y,g)}};rs.prototype.getDegree=function(){return this._edgeMap.size()};rs.prototype.insertEdgeEnd=function(e,t){this._edgeMap.put(e,t),this._edgeList=null};rs.prototype.interfaces_=function(){return[]};rs.prototype.getClass=function(){return rs};var WU=function(n){function e(){n.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){var i=this;this.getResultAreaEdges();for(var r=null,a=null,o=this._SCANNING_FOR_INCOMING,s=0;s<this._resultAreaEdgeList.size();s++){var d=i._resultAreaEdgeList.get(s),p=d.getSym();if(d.getLabel().isArea())switch(r===null&&d.isInResult()&&(r=d),o){case i._SCANNING_FOR_INCOMING:if(!p.isInResult())continue;a=p,o=i._LINKING_TO_OUTGOING;break;case i._LINKING_TO_OUTGOING:if(!d.isInResult())continue;a.setNext(d),o=i._SCANNING_FOR_INCOMING;break}}if(o===this._LINKING_TO_OUTGOING){if(r===null)throw new au("no outgoing dirEdge found",this.getCoordinate());oi.isTrue(r.isInResult(),"unable to link last incoming dirEdge"),a.setNext(r)}},e.prototype.insert=function(i){var r=i;this.insertEdgeEnd(r,r)},e.prototype.getRightmostEdge=function(){var i=this.getEdges(),r=i.size();if(r<1)return null;var a=i.get(0);if(r===1)return a;var o=i.get(r-1),s=a.getQuadrant(),d=o.getQuadrant();return er.isNorthern(s)&&er.isNorthern(d)?a:!er.isNorthern(s)&&!er.isNorthern(d)?o:a.getDy()!==0?a:o.getDy()!==0?o:(oi.shouldNeverReachHere("found two horizontal edges incident on node"),null)},e.prototype.print=function(i){Ua.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var r=this.iterator();r.hasNext();){var a=r.next();i.print("out "),a.print(i),i.println(),i.print("in "),a.getSym().print(i),i.println()}},e.prototype.getResultAreaEdges=function(){var i=this;if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new en;for(var r=this.iterator();r.hasNext();){var a=r.next();(a.isInResult()||a.getSym().isInResult())&&i._resultAreaEdgeList.add(a)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(i){for(var r=this.iterator();r.hasNext();){var a=r.next(),o=a.getLabel();o.setAllLocationsIfNull(0,i.getLocation(0)),o.setAllLocationsIfNull(1,i.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){var i=this;this.getEdges();for(var r=null,a=null,o=this._edgeList.size()-1;o>=0;o--){var s=i._edgeList.get(o),d=s.getSym();a===null&&(a=d),r!==null&&d.setNext(r),r=s}a.setNext(r)},e.prototype.computeDepths=function(){var i=this;if(arguments.length===1){var r=arguments[0],a=this.findIndex(r),o=r.getDepth(Xt.LEFT),s=r.getDepth(Xt.RIGHT),d=this.computeDepths(a+1,this._edgeList.size(),o),p=this.computeDepths(0,a,d);if(p!==s)throw new au("depth mismatch at "+r.getCoordinate())}else if(arguments.length===3){for(var m=arguments[0],y=arguments[1],g=arguments[2],_=g,x=m;x<y;x++){var T=i._edgeList.get(x);T.setEdgeDepths(Xt.RIGHT,_),_=T.getDepth(Xt.LEFT)}return _}},e.prototype.mergeSymLabels=function(){for(var i=this.iterator();i.hasNext();){var r=i.next(),a=r.getLabel();a.merge(r.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(i){for(var r=this,a=null,o=null,s=this._SCANNING_FOR_INCOMING,d=this._resultAreaEdgeList.size()-1;d>=0;d--){var p=r._resultAreaEdgeList.get(d),m=p.getSym();switch(a===null&&p.getEdgeRing()===i&&(a=p),s){case r._SCANNING_FOR_INCOMING:if(m.getEdgeRing()!==i)continue;o=m,s=r._LINKING_TO_OUTGOING;break;case r._LINKING_TO_OUTGOING:if(p.getEdgeRing()!==i)continue;o.setNextMin(p),s=r._SCANNING_FOR_INCOMING;break}}s===this._LINKING_TO_OUTGOING&&(oi.isTrue(a!==null,"found null for first outgoing dirEdge"),oi.isTrue(a.getEdgeRing()===i,"unable to link last incoming dirEdge"),o.setNextMin(a))},e.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var i=0,r=this.iterator();r.hasNext();){var a=r.next();a.isInResult()&&i++}return i}else if(arguments.length===1){for(var o=arguments[0],s=0,d=this.iterator();d.hasNext();){var p=d.next();p.getEdgeRing()===o&&s++}return s}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var i=kt.NONE,r=this.iterator();r.hasNext();){var a=r.next(),o=a.getSym();if(!a.isLineEdge()){if(a.isInResult()){i=kt.INTERIOR;break}if(o.isInResult()){i=kt.EXTERIOR;break}}}if(i===kt.NONE)return null;for(var s=i,d=this.iterator();d.hasNext();){var p=d.next(),m=p.getSym();p.isLineEdge()?p.getEdge().setCovered(s===kt.INTERIOR):(p.isInResult()&&(s=kt.EXTERIOR),m.isInResult()&&(s=kt.INTERIOR))}},e.prototype.computeLabelling=function(i){var r=this;n.prototype.computeLabelling.call(this,i),this._label=new Wi(kt.NONE);for(var a=this.iterator();a.hasNext();)for(var o=a.next(),s=o.getEdge(),d=s.getLabel(),p=0;p<2;p++){var m=d.getLocation(p);(m===kt.INTERIOR||m===kt.BOUNDARY)&&r._label.setLocation(p,kt.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(rs),rD=function(n){function e(){n.apply(this,arguments)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.createNode=function(i){return new X0(i,new WU)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(vf),td=function n(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=n.orientation(e)};td.prototype.compareTo=function(e){var t=e,i=td.compareOriented(this._pts,this._orientation,t._pts,t._orientation);return i};td.prototype.interfaces_=function(){return[Ko]};td.prototype.getClass=function(){return td};td.orientation=function(e){return xi.increasingDirection(e)===1};td.compareOriented=function(e,t,i,r){for(var a=t?1:-1,o=r?1:-1,s=t?e.length:-1,d=r?i.length:-1,p=t?0:e.length-1,m=r?0:i.length-1;;){var y=e[p].compareTo(i[m]);if(y!==0)return y;p+=a,m+=o;var g=p===s,_=m===d;if(g&&!_)return-1;if(!g&&_)return 1;if(g&&_)return 0}};var Sl=function(){this._edges=new en,this._ocaMap=new ns};Sl.prototype.print=function(e){var t=this;e.print("MULTILINESTRING ( ");for(var i=0;i<this._edges.size();i++){var r=t._edges.get(i);i>0&&e.print(","),e.print("(");for(var a=r.getCoordinates(),o=0;o<a.length;o++)o>0&&e.print(","),e.print(a[o].x+" "+a[o].y);e.println(")")}e.print(")  ")};Sl.prototype.addAll=function(e){for(var t=this,i=e.iterator();i.hasNext();)t.add(i.next())};Sl.prototype.findEdgeIndex=function(e){for(var t=this,i=0;i<this._edges.size();i++)if(t._edges.get(i).equals(e))return i;return-1};Sl.prototype.iterator=function(){return this._edges.iterator()};Sl.prototype.getEdges=function(){return this._edges};Sl.prototype.get=function(e){return this._edges.get(e)};Sl.prototype.findEqualEdge=function(e){var t=new td(e.getCoordinates()),i=this._ocaMap.get(t);return i};Sl.prototype.add=function(e){this._edges.add(e);var t=new td(e.getCoordinates());this._ocaMap.put(t,e)};Sl.prototype.interfaces_=function(){return[]};Sl.prototype.getClass=function(){return Sl};var nh=function(){};nh.prototype.processIntersections=function(e,t,i,r){};nh.prototype.isDone=function(){};nh.prototype.interfaces_=function(){return[]};nh.prototype.getClass=function(){return nh};var Oo=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};Oo.prototype.isTrivialIntersection=function(e,t,i,r){if(e===i&&this._li.getIntersectionNum()===1){if(Oo.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var a=e.size()-1;if(t===0&&r===a||r===0&&t===a)return!0}}return!1};Oo.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};Oo.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};Oo.prototype.getLineIntersector=function(){return this._li};Oo.prototype.hasProperIntersection=function(){return this._hasProper};Oo.prototype.processIntersections=function(e,t,i,r){if(e===i&&t===r)return null;this.numTests++;var a=e.getCoordinates()[t],o=e.getCoordinates()[t+1],s=i.getCoordinates()[r],d=i.getCoordinates()[r+1];this._li.computeIntersection(a,o,s,d),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,i,r)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),i.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))};Oo.prototype.hasIntersection=function(){return this._hasIntersection};Oo.prototype.isDone=function(){return!1};Oo.prototype.hasInteriorIntersection=function(){return this._hasInterior};Oo.prototype.interfaces_=function(){return[nh]};Oo.prototype.getClass=function(){return Oo};Oo.isAdjacentSegments=function(e,t){return Math.abs(e-t)===1};var ec=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],i=arguments[2];this.coord=new bt(e),this.segmentIndex=t,this.dist=i};ec.prototype.getSegmentIndex=function(){return this.segmentIndex};ec.prototype.getCoordinate=function(){return this.coord};ec.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)};ec.prototype.compareTo=function(e){var t=e;return this.compare(t.segmentIndex,t.dist)};ec.prototype.isEndPoint=function(e){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===e};ec.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist};ec.prototype.getDistance=function(){return this.dist};ec.prototype.compare=function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0};ec.prototype.interfaces_=function(){return[Ko]};ec.prototype.getClass=function(){return ec};var Tc=function(){this._nodeMap=new ns,this.edge=null;var e=arguments[0];this.edge=e};Tc.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();){var i=t.next();i.print(e)}};Tc.prototype.iterator=function(){return this._nodeMap.values().iterator()};Tc.prototype.addSplitEdges=function(e){var t=this;this.addEndpoints();for(var i=this.iterator(),r=i.next();i.hasNext();){var a=i.next(),o=t.createSplitEdge(r,a);e.add(o),r=a}};Tc.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)};Tc.prototype.createSplitEdge=function(e,t){var i=this,r=t.segmentIndex-e.segmentIndex+2,a=this.edge.pts[t.segmentIndex],o=t.dist>0||!t.coord.equals2D(a);o||r--;var s=new Array(r).fill(null),d=0;s[d++]=new bt(e.coord);for(var p=e.segmentIndex+1;p<=t.segmentIndex;p++)s[d++]=i.edge.pts[p];return o&&(s[d]=t.coord),new Bb(s,new Wi(this.edge._label))};Tc.prototype.add=function(e,t,i){var r=new ec(e,t,i),a=this._nodeMap.get(r);return a!==null?a:(this._nodeMap.put(r,r),r)};Tc.prototype.isIntersection=function(e){for(var t=this.iterator();t.hasNext();){var i=t.next();if(i.coord.equals(e))return!0}return!1};Tc.prototype.interfaces_=function(){return[]};Tc.prototype.getClass=function(){return Tc};var ih=function(){};ih.prototype.getChainStartIndices=function(e){var t=this,i=0,r=new en;r.add(new Hl(i));do{var a=t.findChainEnd(e,i);r.add(new Hl(a)),i=a}while(i<e.length-1);var o=ih.toIntArray(r);return o};ih.prototype.findChainEnd=function(e,t){for(var i=er.quadrant(e[t],e[t+1]),r=t+1;r<e.length;){var a=er.quadrant(e[r-1],e[r]);if(a!==i)break;r++}return r-1};ih.prototype.interfaces_=function(){return[]};ih.prototype.getClass=function(){return ih};ih.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),i=0;i<t.length;i++)t[i]=e.get(i).intValue();return t};var ou=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new An,this.env2=new An;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new ih;this.startIndex=t.getChainStartIndices(this.pts)};ou.prototype.getCoordinates=function(){return this.pts};ou.prototype.getMaxX=function(e){var t=this.pts[this.startIndex[e]].x,i=this.pts[this.startIndex[e+1]].x;return t>i?t:i};ou.prototype.getMinX=function(e){var t=this.pts[this.startIndex[e]].x,i=this.pts[this.startIndex[e+1]].x;return t<i?t:i};ou.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var e=arguments[0],t=arguments[1],i=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[i],t.startIndex[i+1],r)}else if(arguments.length===6){var a=arguments[0],o=arguments[1],s=arguments[2],d=arguments[3],p=arguments[4],m=arguments[5],y=this.pts[a],g=this.pts[o],_=s.pts[d],x=s.pts[p];if(o-a===1&&p-d===1)return m.addIntersections(this.e,a,s.e,d),null;if(this.env1.init(y,g),this.env2.init(_,x),!this.env1.intersects(this.env2))return null;var T=Math.trunc((a+o)/2),E=Math.trunc((d+p)/2);a<T&&(d<E&&this.computeIntersectsForChain(a,T,s,d,E,m),E<p&&this.computeIntersectsForChain(a,T,s,E,p,m)),T<o&&(d<E&&this.computeIntersectsForChain(T,o,s,d,E,m),E<p&&this.computeIntersectsForChain(T,o,s,E,p,m))}};ou.prototype.getStartIndexes=function(){return this.startIndex};ou.prototype.computeIntersects=function(e,t){for(var i=this,r=0;r<this.startIndex.length-1;r++)for(var a=0;a<e.startIndex.length-1;a++)i.computeIntersectsForChain(r,e,a,t)};ou.prototype.interfaces_=function(){return[]};ou.prototype.getClass=function(){return ou};var Ba=function n(){var e=this;this._depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;t<2;t++)for(var i=0;i<3;i++)e._depth[t][i]=n.NULL_VALUE},aD={NULL_VALUE:{configurable:!0}};Ba.prototype.getDepth=function(e,t){return this._depth[e][t]};Ba.prototype.setDepth=function(e,t,i){this._depth[e][t]=i};Ba.prototype.isNull=function(){var e=this;if(arguments.length===0){for(var t=0;t<2;t++)for(var i=0;i<3;i++)if(e._depth[t][i]!==Ba.NULL_VALUE)return!1;return!0}else if(arguments.length===1){var r=arguments[0];return this._depth[r][1]===Ba.NULL_VALUE}else if(arguments.length===2){var a=arguments[0],o=arguments[1];return this._depth[a][o]===Ba.NULL_VALUE}};Ba.prototype.normalize=function(){for(var e=this,t=0;t<2;t++)if(!e.isNull(t)){var i=e._depth[t][1];e._depth[t][2]<i&&(i=e._depth[t][2]),i<0&&(i=0);for(var r=1;r<3;r++){var a=0;e._depth[t][r]>i&&(a=1),e._depth[t][r]=a}}};Ba.prototype.getDelta=function(e){return this._depth[e][Xt.RIGHT]-this._depth[e][Xt.LEFT]};Ba.prototype.getLocation=function(e,t){return this._depth[e][t]<=0?kt.EXTERIOR:kt.INTERIOR};Ba.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]};Ba.prototype.add=function(){var e=this;if(arguments.length===1)for(var t=arguments[0],i=0;i<2;i++)for(var r=1;r<3;r++){var a=t.getLocation(i,r);(a===kt.EXTERIOR||a===kt.INTERIOR)&&(e.isNull(i,r)?e._depth[i][r]=Ba.depthAtLocation(a):e._depth[i][r]+=Ba.depthAtLocation(a))}else if(arguments.length===3){var o=arguments[0],s=arguments[1],d=arguments[2];d===kt.INTERIOR&&this._depth[o][s]++}};Ba.prototype.interfaces_=function(){return[]};Ba.prototype.getClass=function(){return Ba};Ba.depthAtLocation=function(e){return e===kt.EXTERIOR?0:e===kt.INTERIOR?1:Ba.NULL_VALUE};aD.NULL_VALUE.get=function(){return-1};Object.defineProperties(Ba,aD);var Bb=function(n){function e(){if(n.call(this),this.pts=null,this._env=null,this.eiList=new Tc(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Ba,this._depthDelta=0,arguments.length===1){var t=arguments[0];e.call(this,t,null)}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.pts=i,this._label=r}}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var i=new Array(2).fill(null);i[0]=this.pts[0],i[1]=this.pts[1];var r=new e(i,Wi.toLineLabel(this._label));return r},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(i){this._isIsolated=i},e.prototype.setName=function(i){this._name=i},e.prototype.equals=function(i){var r=this;if(!(i instanceof e))return!1;var a=i;if(this.pts.length!==a.pts.length)return!1;for(var o=!0,s=!0,d=this.pts.length,p=0;p<this.pts.length;p++)if(r.pts[p].equals2D(a.pts[p])||(o=!1),r.pts[p].equals2D(a.pts[--d])||(s=!1),!o&&!s)return!1;return!0},e.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var i=arguments[0];return this.pts[i]}},e.prototype.print=function(i){var r=this;i.print("edge "+this._name+": "),i.print("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&i.print(","),i.print(r.pts[a].x+" "+r.pts[a].y);i.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(i){e.updateIM(this._label,i)},e.prototype.isCollapsed=function(){return!this._label.isArea()||this.pts.length!==3?!1:!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(i){var r=this;i.print("edge "+this._name+": ");for(var a=this.pts.length-1;a>=0;a--)i.print(r.pts[a]+" ");i.println("")},e.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new ou(this)),this._mce},e.prototype.getEnvelope=function(){var i=this;if(this._env===null){this._env=new An;for(var r=0;r<this.pts.length;r++)i._env.expandToInclude(i.pts[r])}return this._env},e.prototype.addIntersection=function(i,r,a,o){var s=new bt(i.getIntersection(o)),d=r,p=i.getEdgeDistance(a,o),m=d+1;if(m<this.pts.length){var y=this.pts[m];s.equals2D(y)&&(d=m,p=0)}this.eiList.add(s,d,p)},e.prototype.toString=function(){var i=this,r=new ac;r.append("edge "+this._name+": "),r.append("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&r.append(","),r.append(i.pts[a].x+" "+i.pts[a].y);return r.append(")  "+this._label+" "+this._depthDelta),r.toString()},e.prototype.isPointwiseEqual=function(i){var r=this;if(this.pts.length!==i.pts.length)return!1;for(var a=0;a<this.pts.length;a++)if(!r.pts[a].equals2D(i.pts[a]))return!1;return!0},e.prototype.setDepthDelta=function(i){this._depthDelta=i},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(i,r,a){for(var o=this,s=0;s<i.getIntersectionNum();s++)o.addIntersection(i,r,a,s)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(arguments.length===2){var i=arguments[0],r=arguments[1];r.setAtLeastIfValid(i.getLocation(0,Xt.ON),i.getLocation(1,Xt.ON),1),i.isArea()&&(r.setAtLeastIfValid(i.getLocation(0,Xt.LEFT),i.getLocation(1,Xt.LEFT),2),r.setAtLeastIfValid(i.getLocation(0,Xt.RIGHT),i.getLocation(1,Xt.RIGHT),2))}else return n.prototype.updateIM.apply(this,arguments)},e}(Do),bs=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Sl,this._bufParams=e||null};bs.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e};bs.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(t!==null){var i=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new Wi(e.getLabel()),r.flip()),i.merge(r);var a=bs.depthDelta(r),o=t.getDepthDelta(),s=o+a;t.setDepthDelta(s)}else this._edgeList.add(e),e.setDepthDelta(bs.depthDelta(e.getLabel()))};bs.prototype.buildSubgraphs=function(e,t){for(var i=new en,r=e.iterator();r.hasNext();){var a=r.next(),o=a.getRightmostCoordinate(),s=new wp(i),d=s.getDepth(o);a.computeDepth(d),a.findResultEdges(),i.add(a),t.add(a.getDirectedEdges(),a.getNodes())}};bs.prototype.createSubgraphs=function(e){for(var t=new en,i=e.getNodes().iterator();i.hasNext();){var r=i.next();if(!r.isVisited()){var a=new ws;a.create(r),t.add(a)}}return Tl.sort(t,Tl.reverseOrder()),t};bs.prototype.createEmptyResultGeometry=function(){var e=this._geomFact.createPolygon();return e};bs.prototype.getNoder=function(e){if(this._workingNoder!==null)return this._workingNoder;var t=new ES,i=new hh;return i.setPrecisionModel(e),t.setSegmentIntersector(new Oo(i)),t};bs.prototype.buffer=function(e,t){var i=this._workingPrecisionModel;i===null&&(i=e.getPrecisionModel()),this._geomFact=e.getFactory();var r=new Vs(i,this._bufParams),a=new Zo(e,t,r),o=a.getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,i),this._graph=new Cr(new rD),this._graph.addEdges(this._edgeList.getEdges());var s=this.createSubgraphs(this._graph),d=new oo(this._geomFact);this.buildSubgraphs(s,d);var p=d.getPolygons();if(p.size()<=0)return this.createEmptyResultGeometry();var m=this._geomFact.buildGeometry(p);return m};bs.prototype.computeNodedEdges=function(e,t){var i=this,r=this.getNoder(t);r.computeNodes(e);for(var a=r.getNodedSubstrings(),o=a.iterator();o.hasNext();){var s=o.next(),d=s.getCoordinates();if(!(d.length===2&&d[0].equals2D(d[1]))){var p=s.getData(),m=new Bb(s.getCoordinates(),new Wi(p));i.insertUniqueEdge(m)}}};bs.prototype.setNoder=function(e){this._workingNoder=e};bs.prototype.interfaces_=function(){return[]};bs.prototype.getClass=function(){return bs};bs.depthDelta=function(e){var t=e.getLocation(0,Xt.LEFT),i=e.getLocation(0,Xt.RIGHT);return t===kt.INTERIOR&&i===kt.EXTERIOR?1:t===kt.EXTERIOR&&i===kt.INTERIOR?-1:0};bs.convertSegStrings=function(e){for(var t=new yi,i=new en;e.hasNext();){var r=e.next(),a=t.createLineString(r.getCoordinates());i.add(a)}return t.buildGeometry(i)};var nd=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var e=arguments[0],t=arguments[1];this._noder=e,this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var i=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3];this._noder=i,this._scaleFactor=r,this._offsetX=a,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};nd.prototype.rescale=function(){var e=this;if(Bn(arguments[0],sa))for(var t=arguments[0],i=t.iterator();i.hasNext();){var r=i.next();e.rescale(r.getCoordinates())}else if(arguments[0]instanceof Array){for(var a=arguments[0],o=0;o<a.length;o++)a[o].x=a[o].x/e._scaleFactor+e._offsetX,a[o].y=a[o].y/e._scaleFactor+e._offsetY;a.length===2&&a[0].equals2D(a[1])&&Ua.out.println(a)}};nd.prototype.scale=function(){var e=this;if(Bn(arguments[0],sa)){for(var t=arguments[0],i=new en,r=t.iterator();r.hasNext();){var a=r.next();i.add(new Gr(e.scale(a.getCoordinates()),a.getData()))}return i}else if(arguments[0]instanceof Array){for(var o=arguments[0],s=new Array(o.length).fill(null),d=0;d<o.length;d++)s[d]=new bt(Math.round((o[d].x-e._offsetX)*e._scaleFactor),Math.round((o[d].y-e._offsetY)*e._scaleFactor),o[d].z);var p=xi.removeRepeatedPoints(s);return p}};nd.prototype.isIntegerPrecision=function(){return this._scaleFactor===1};nd.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e};nd.prototype.computeNodes=function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)};nd.prototype.interfaces_=function(){return[eh]};nd.prototype.getClass=function(){return nd};var tc=function(){this._li=new hh,this._segStrings=null;var e=arguments[0];this._segStrings=e},sD={fact:{configurable:!0}};tc.prototype.checkEndPtVertexIntersections=function(){var e=this;if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();){var i=t.next(),r=i.getCoordinates();e.checkEndPtVertexIntersections(r[0],e._segStrings),e.checkEndPtVertexIntersections(r[r.length-1],e._segStrings)}else if(arguments.length===2){for(var a=arguments[0],o=arguments[1],s=o.iterator();s.hasNext();)for(var d=s.next(),p=d.getCoordinates(),m=1;m<p.length-1;m++)if(p[m].equals(a))throw new iu("found endpt/interior pt intersection at index "+m+" :pt "+a)}};tc.prototype.checkInteriorIntersections=function(){var e=this;if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();)for(var i=t.next(),r=this._segStrings.iterator();r.hasNext();){var a=r.next();e.checkInteriorIntersections(i,a)}else if(arguments.length===2)for(var o=arguments[0],s=arguments[1],d=o.getCoordinates(),p=s.getCoordinates(),m=0;m<d.length-1;m++)for(var y=0;y<p.length-1;y++)e.checkInteriorIntersections(o,m,s,y);else if(arguments.length===4){var g=arguments[0],_=arguments[1],x=arguments[2],T=arguments[3];if(g===x&&_===T)return null;var E=g.getCoordinates()[_],k=g.getCoordinates()[_+1],v=x.getCoordinates()[T],w=x.getCoordinates()[T+1];if(this._li.computeIntersection(E,k,v,w),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,E,k)||this.hasInteriorIntersection(this._li,v,w)))throw new iu("found non-noded intersection at "+E+"-"+k+" and "+v+"-"+w)}};tc.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()};tc.prototype.checkCollapses=function(){var e=this;if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();){var i=t.next();e.checkCollapses(i)}else if(arguments.length===1)for(var r=arguments[0],a=r.getCoordinates(),o=0;o<a.length-2;o++)e.checkCollapse(a[o],a[o+1],a[o+2])};tc.prototype.hasInteriorIntersection=function(e,t,i){for(var r=0;r<e.getIntersectionNum();r++){var a=e.getIntersection(r);if(!(a.equals(t)||a.equals(i)))return!0}return!1};tc.prototype.checkCollapse=function(e,t,i){if(e.equals(i))throw new iu("found non-noded collapse at "+tc.fact.createLineString([e,t,i]))};tc.prototype.interfaces_=function(){return[]};tc.prototype.getClass=function(){return tc};sD.fact.get=function(){return new yi};Object.defineProperties(tc,sD);var Ws=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],i=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=i,t<=0)throw new vr("Scale factor must be non-zero");t!==1&&(this._pt=new bt(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new bt,this._p1Scaled=new bt),this.initCorners(this._pt)},oD={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Ws.prototype.intersectsScaled=function(e,t){var i=Math.min(e.x,t.x),r=Math.max(e.x,t.x),a=Math.min(e.y,t.y),o=Math.max(e.y,t.y),s=this._maxx<i||this._minx>r||this._maxy<a||this._miny>o;if(s)return!1;var d=this.intersectsToleranceSquare(e,t);return oi.isTrue(!(s&&d),"Found bad envelope test"),d};Ws.prototype.initCorners=function(e){var t=.5;this._minx=e.x-t,this._maxx=e.x+t,this._miny=e.y-t,this._maxy=e.y+t,this._corner[0]=new bt(this._maxx,this._maxy),this._corner[1]=new bt(this._minx,this._maxy),this._corner[2]=new bt(this._minx,this._miny),this._corner[3]=new bt(this._maxx,this._miny)};Ws.prototype.intersects=function(e,t){return this._scaleFactor===1?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))};Ws.prototype.scale=function(e){return Math.round(e*this._scaleFactor)};Ws.prototype.getCoordinate=function(){return this._originalPt};Ws.prototype.copyScaled=function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)};Ws.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var e=Ws.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new An(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv};Ws.prototype.intersectsPixelClosure=function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.hasIntersection())||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.hasIntersection())||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.hasIntersection()))};Ws.prototype.intersectsToleranceSquare=function(e,t){var i=!1,r=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.isProper())||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.isProper())||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.isProper())||i&&r||e.equals(this._pt)||t.equals(this._pt))};Ws.prototype.addSnappedNode=function(e,t){var i=e.getCoordinate(t),r=e.getCoordinate(t+1);return this.intersects(i,r)?(e.addIntersection(this.getCoordinate(),t),!0):!1};Ws.prototype.interfaces_=function(){return[]};Ws.prototype.getClass=function(){return Ws};oD.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75};Object.defineProperties(Ws,oD);var Hy=function(){this.tempEnv1=new An,this.selectedSegment=new Pn};Hy.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var e=arguments[0],t=arguments[1];e.getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}}};Hy.prototype.interfaces_=function(){return[]};Hy.prototype.getClass=function(){return Hy};var wf=function(){this._index=null;var e=arguments[0];this._index=e},lD={HotPixelSnapAction:{configurable:!0}};wf.prototype.snap=function(){if(arguments.length===1){var e=arguments[0];return this.snap(e,null,-1)}else if(arguments.length===3){var t=arguments[0],i=arguments[1],r=arguments[2],a=t.getSafeEnvelope(),o=new cD(t,i,r);return this._index.query(a,{interfaces_:function(){return[Ju]},visitItem:function(s){var d=s;d.select(a,o)}}),o.isNodeAdded()}};wf.prototype.interfaces_=function(){return[]};wf.prototype.getClass=function(){return wf};lD.HotPixelSnapAction.get=function(){return cD};Object.defineProperties(wf,lD);var cD=function(n){function e(){n.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],i=arguments[1],r=arguments[2];this._hotPixel=t,this._parentEdge=i,this._hotPixelVertexIndex=r}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(arguments.length===2){var i=arguments[0],r=arguments[1],a=i.getContext();if(this._parentEdge!==null&&a===this._parentEdge&&r===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(a,r)}else return n.prototype.select.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Hy),Tp=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new en};Tp.prototype.processIntersections=function(e,t,i,r){var a=this;if(e===i&&t===r)return null;var o=e.getCoordinates()[t],s=e.getCoordinates()[t+1],d=i.getCoordinates()[r],p=i.getCoordinates()[r+1];if(this._li.computeIntersection(o,s,d,p),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var m=0;m<this._li.getIntersectionNum();m++)a._interiorIntersections.add(a._li.getIntersection(m));e.addIntersections(this._li,t,0),i.addIntersections(this._li,r,1)}};Tp.prototype.isDone=function(){return!1};Tp.prototype.getInteriorIntersections=function(){return this._interiorIntersections};Tp.prototype.interfaces_=function(){return[nh]};Tp.prototype.getClass=function(){return Tp};var Sc=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new hh,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};Sc.prototype.checkCorrectness=function(e){var t=Gr.getNodedSubstrings(e),i=new tc(t);try{i.checkValid()}catch(r){if(r instanceof WP)r.printStackTrace();else throw r}finally{}};Sc.prototype.getNodedSubstrings=function(){return Gr.getNodedSubstrings(this._nodedSegStrings)};Sc.prototype.snapRound=function(e,t){var i=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(i),this.computeVertexSnaps(e)};Sc.prototype.findInteriorIntersections=function(e,t){var i=new Tp(t);return this._noder.setSegmentIntersector(i),this._noder.computeNodes(e),i.getInteriorIntersections()};Sc.prototype.computeVertexSnaps=function(){var e=this;if(Bn(arguments[0],sa))for(var t=arguments[0],i=t.iterator();i.hasNext();){var r=i.next();e.computeVertexSnaps(r)}else if(arguments[0]instanceof Gr)for(var a=arguments[0],o=a.getCoordinates(),s=0;s<o.length;s++){var d=new Ws(o[s],e._scaleFactor,e._li),p=e._pointSnapper.snap(d,a,s);p&&a.addIntersection(o[s],s)}};Sc.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new ES,this._pointSnapper=new wf(this._noder.getIndex()),this.snapRound(e,this._li)};Sc.prototype.computeIntersectionSnaps=function(e){for(var t=this,i=e.iterator();i.hasNext();){var r=i.next(),a=new Ws(r,t._scaleFactor,t._li);t._pointSnapper.snap(a)}};Sc.prototype.interfaces_=function(){return[eh]};Sc.prototype.getClass=function(){return Sc};var Fa=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new $i,this._resultGeometry=null,this._saveException=null,arguments.length===1){var e=arguments[0];this._argGeom=e}else if(arguments.length===2){var t=arguments[0],i=arguments[1];this._argGeom=t,this._bufParams=i}},Wf={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Fa.prototype.bufferFixedPrecision=function(e){var t=new nd(new Sc(new zi(1)),e.getScale()),i=new bs(this._bufParams);i.setWorkingPrecisionModel(e),i.setNoder(t),this._resultGeometry=i.buffer(this._argGeom,this._distance)};Fa.prototype.bufferReducedPrecision=function(){var e=this;if(arguments.length===0){for(var t=Fa.MAX_PRECISION_DIGITS;t>=0;t--){try{e.bufferReducedPrecision(t)}catch(o){if(o instanceof au)e._saveException=o;else throw o}finally{}if(e._resultGeometry!==null)return null}throw this._saveException}else if(arguments.length===1){var i=arguments[0],r=Fa.precisionScaleFactor(this._argGeom,this._distance,i),a=new zi(r);this.bufferFixedPrecision(a)}};Fa.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===zi.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()};Fa.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)};Fa.prototype.bufferOriginalPrecision=function(){try{var e=new bs(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(t){if(t instanceof iu)this._saveException=t;else throw t}finally{}};Fa.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry};Fa.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)};Fa.prototype.interfaces_=function(){return[]};Fa.prototype.getClass=function(){return Fa};Fa.bufferOp=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],i=new Fa(e),r=i.getResultGeometry(t);return r}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof jn&&typeof arguments[1]=="number"){var a=arguments[0],o=arguments[1],s=arguments[2],d=new Fa(a);d.setQuadrantSegments(s);var p=d.getResultGeometry(o);return p}else if(arguments[2]instanceof $i&&arguments[0]instanceof jn&&typeof arguments[1]=="number"){var m=arguments[0],y=arguments[1],g=arguments[2],_=new Fa(m,g),x=_.getResultGeometry(y);return x}}else if(arguments.length===4){var T=arguments[0],E=arguments[1],k=arguments[2],v=arguments[3],w=new Fa(T);w.setQuadrantSegments(k),w.setEndCapStyle(v);var N=w.getResultGeometry(E);return N}};Fa.precisionScaleFactor=function(e,t,i){var r=e.getEnvelopeInternal(),a=Po.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY())),o=t>0?t:0,s=a+2*o,d=Math.trunc(Math.log(s)/Math.log(10)+1),p=i-d,m=Math.pow(10,p);return m};Wf.CAP_ROUND.get=function(){return $i.CAP_ROUND};Wf.CAP_BUTT.get=function(){return $i.CAP_FLAT};Wf.CAP_FLAT.get=function(){return $i.CAP_FLAT};Wf.CAP_SQUARE.get=function(){return $i.CAP_SQUARE};Wf.MAX_PRECISION_DIGITS.get=function(){return 12};Object.defineProperties(Fa,Wf);var gs=function(){this._pt=[new bt,new bt],this._distance=qn.NaN,this._isNull=!0};gs.prototype.getCoordinates=function(){return this._pt};gs.prototype.getCoordinate=function(e){return this._pt[e]};gs.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var t=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(t,i),null;var r=t.distance(i);r<this._distance&&this.initialize(t,i,r)}};gs.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];this._pt[0].setCoordinate(i),this._pt[1].setCoordinate(r),this._distance=a,this._isNull=!1}};gs.prototype.getDistance=function(){return this._distance};gs.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var t=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(t,i),null;var r=t.distance(i);r>this._distance&&this.initialize(t,i,r)}};gs.prototype.interfaces_=function(){return[]};gs.prototype.getClass=function(){return gs};var pc=function(){};pc.prototype.interfaces_=function(){return[]};pc.prototype.getClass=function(){return pc};pc.computeDistance=function(){if(arguments[2]instanceof gs&&arguments[0]instanceof Mr&&arguments[1]instanceof bt)for(var e=arguments[0],t=arguments[1],i=arguments[2],r=e.getCoordinates(),a=new Pn,o=0;o<r.length-1;o++){a.setCoordinates(r[o],r[o+1]);var s=a.closestPoint(t);i.setMinimum(s,t)}else if(arguments[2]instanceof gs&&arguments[0]instanceof da&&arguments[1]instanceof bt){var d=arguments[0],p=arguments[1],m=arguments[2];pc.computeDistance(d.getExteriorRing(),p,m);for(var y=0;y<d.getNumInteriorRing();y++)pc.computeDistance(d.getInteriorRingN(y),p,m)}else if(arguments[2]instanceof gs&&arguments[0]instanceof jn&&arguments[1]instanceof bt){var g=arguments[0],_=arguments[1],x=arguments[2];if(g instanceof Mr)pc.computeDistance(g,_,x);else if(g instanceof da)pc.computeDistance(g,_,x);else if(g instanceof _s)for(var T=g,E=0;E<T.getNumGeometries();E++){var k=T.getGeometryN(E);pc.computeDistance(k,_,x)}else x.setMinimum(g.getCoordinate(),_)}else if(arguments[2]instanceof gs&&arguments[0]instanceof Pn&&arguments[1]instanceof bt){var v=arguments[0],w=arguments[1],N=arguments[2],S=v.closestPoint(w);N.setMinimum(S,w)}};var rh=function(e){this._maxPtDist=new gs,this._inputGeom=e||null},kS={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};rh.prototype.computeMaxMidpointDistance=function(e){var t=new id(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())};rh.prototype.computeMaxVertexDistance=function(e){var t=new Sp(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())};rh.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()};rh.prototype.getDistancePoints=function(){return this._maxPtDist};rh.prototype.interfaces_=function(){return[]};rh.prototype.getClass=function(){return rh};kS.MaxPointDistanceFilter.get=function(){return Sp};kS.MaxMidpointDistanceFilter.get=function(){return id};Object.defineProperties(rh,kS);var Sp=function(e){this._maxPtDist=new gs,this._minPtDist=new gs,this._geom=e||null};Sp.prototype.filter=function(e){this._minPtDist.initialize(),pc.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};Sp.prototype.getMaxPointDistance=function(){return this._maxPtDist};Sp.prototype.interfaces_=function(){return[xc]};Sp.prototype.getClass=function(){return Sp};var id=function(e){this._maxPtDist=new gs,this._minPtDist=new gs,this._geom=e||null};id.prototype.filter=function(e,t){if(t===0)return null;var i=e.getCoordinate(t-1),r=e.getCoordinate(t),a=new bt((i.x+r.x)/2,(i.y+r.y)/2);this._minPtDist.initialize(),pc.computeDistance(this._geom,a,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};id.prototype.isDone=function(){return!1};id.prototype.isGeometryChanged=function(){return!1};id.prototype.getMaxPointDistance=function(){return this._maxPtDist};id.prototype.interfaces_=function(){return[_l]};id.prototype.getClass=function(){return id};var Jc=function(e){this._comps=e||null};Jc.prototype.filter=function(e){e instanceof da&&this._comps.add(e)};Jc.prototype.interfaces_=function(){return[Zl]};Jc.prototype.getClass=function(){return Jc};Jc.getPolygons=function(){if(arguments.length===1){var e=arguments[0];return Jc.getPolygons(e,new en)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];return t instanceof da?i.add(t):t instanceof _s&&t.apply(new Jc(i)),i}};var $a=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var e=arguments[0];this._lines=e}else if(arguments.length===2){var t=arguments[0],i=arguments[1];this._lines=t,this._isForcedToLineString=i}};$a.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof bc){var t=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(t),null}e instanceof Mr&&this._lines.add(e)};$a.prototype.setForceToLineString=function(e){this._isForcedToLineString=e};$a.prototype.interfaces_=function(){return[ru]};$a.prototype.getClass=function(){return $a};$a.getGeometry=function(){if(arguments.length===1){var e=arguments[0];return e.getFactory().buildGeometry($a.getLines(e))}else if(arguments.length===2){var t=arguments[0],i=arguments[1];return t.getFactory().buildGeometry($a.getLines(t,i))}};$a.getLines=function(){if(arguments.length===1){var e=arguments[0];return $a.getLines(e,!1)}else if(arguments.length===2){if(Bn(arguments[0],sa)&&Bn(arguments[1],sa)){for(var t=arguments[0],i=arguments[1],r=t.iterator();r.hasNext();){var a=r.next();$a.getLines(a,i)}return i}else if(arguments[0]instanceof jn&&typeof arguments[1]=="boolean"){var o=arguments[0],s=arguments[1],d=new en;return o.apply(new $a(d,s)),d}else if(arguments[0]instanceof jn&&Bn(arguments[1],sa)){var p=arguments[0],m=arguments[1];return p instanceof Mr?m.add(p):p.apply(new $a(m)),m}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&Bn(arguments[0],sa)&&Bn(arguments[1],sa)){for(var y=arguments[0],g=arguments[1],_=arguments[2],x=y.iterator();x.hasNext();){var T=x.next();$a.getLines(T,g,_)}return g}else if(typeof arguments[2]=="boolean"&&arguments[0]instanceof jn&&Bn(arguments[1],sa)){var E=arguments[0],k=arguments[1],v=arguments[2];return E.apply(new $a(k,v)),k}}};var Cl=function(){if(this._boundaryRule=Ho.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];if(e===null)throw new vr("Rule must be non-null");this._boundaryRule=e}}};Cl.prototype.locateInternal=function(){var e=this;if(arguments[0]instanceof bt&&arguments[1]instanceof da){var t=arguments[0],i=arguments[1];if(i.isEmpty())return kt.EXTERIOR;var r=i.getExteriorRing(),a=this.locateInPolygonRing(t,r);if(a===kt.EXTERIOR)return kt.EXTERIOR;if(a===kt.BOUNDARY)return kt.BOUNDARY;for(var o=0;o<i.getNumInteriorRing();o++){var s=i.getInteriorRingN(o),d=e.locateInPolygonRing(t,s);if(d===kt.INTERIOR)return kt.EXTERIOR;if(d===kt.BOUNDARY)return kt.BOUNDARY}return kt.INTERIOR}else if(arguments[0]instanceof bt&&arguments[1]instanceof Mr){var p=arguments[0],m=arguments[1];if(!m.getEnvelopeInternal().intersects(p))return kt.EXTERIOR;var y=m.getCoordinates();return!m.isClosed()&&(p.equals(y[0])||p.equals(y[y.length-1]))?kt.BOUNDARY:ln.isOnLine(p,y)?kt.INTERIOR:kt.EXTERIOR}else if(arguments[0]instanceof bt&&arguments[1]instanceof so){var g=arguments[0],_=arguments[1],x=_.getCoordinate();return x.equals2D(g)?kt.INTERIOR:kt.EXTERIOR}};Cl.prototype.locateInPolygonRing=function(e,t){return t.getEnvelopeInternal().intersects(e)?ln.locatePointInRing(e,t.getCoordinates()):kt.EXTERIOR};Cl.prototype.intersects=function(e,t){return this.locate(e,t)!==kt.EXTERIOR};Cl.prototype.updateLocationInfo=function(e){e===kt.INTERIOR&&(this._isIn=!0),e===kt.BOUNDARY&&this._numBoundaries++};Cl.prototype.computeLocation=function(e,t){var i=this;if(t instanceof so&&this.updateLocationInfo(this.locateInternal(e,t)),t instanceof Mr)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof da)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof Jd)for(var r=t,a=0;a<r.getNumGeometries();a++){var o=r.getGeometryN(a);i.updateLocationInfo(i.locateInternal(e,o))}else if(t instanceof mc)for(var s=t,d=0;d<s.getNumGeometries();d++){var p=s.getGeometryN(d);i.updateLocationInfo(i.locateInternal(e,p))}else if(t instanceof _s)for(var m=new fc(t);m.hasNext();){var y=m.next();y!==t&&i.computeLocation(e,y)}};Cl.prototype.locate=function(e,t){return t.isEmpty()?kt.EXTERIOR:t instanceof Mr?this.locateInternal(e,t):t instanceof da?this.locateInternal(e,t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,t),this._boundaryRule.isInBoundary(this._numBoundaries)?kt.BOUNDARY:this._numBoundaries>0||this._isIn?kt.INTERIOR:kt.EXTERIOR)};Cl.prototype.interfaces_=function(){return[]};Cl.prototype.getClass=function(){return Cl};var ys=function n(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var e=arguments[0],t=arguments[1];n.call(this,e,n.INSIDE_AREA,t)}else if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];this._component=i,this._segIndex=r,this._pt=a}},uD={INSIDE_AREA:{configurable:!0}};ys.prototype.isInsideArea=function(){return this._segIndex===ys.INSIDE_AREA};ys.prototype.getCoordinate=function(){return this._pt};ys.prototype.getGeometryComponent=function(){return this._component};ys.prototype.getSegmentIndex=function(){return this._segIndex};ys.prototype.interfaces_=function(){return[]};ys.prototype.getClass=function(){return ys};uD.INSIDE_AREA.get=function(){return-1};Object.defineProperties(ys,uD);var Xu=function(e){this._pts=e||null};Xu.prototype.filter=function(e){e instanceof so&&this._pts.add(e)};Xu.prototype.interfaces_=function(){return[Zl]};Xu.prototype.getClass=function(){return Xu};Xu.getPoints=function(){if(arguments.length===1){var e=arguments[0];return e instanceof so?Tl.singletonList(e):Xu.getPoints(e,new en)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];return t instanceof so?i.add(t):t instanceof _s&&t.apply(new Xu(i)),i}};var Cp=function(){this._locations=null;var e=arguments[0];this._locations=e};Cp.prototype.filter=function(e){(e instanceof so||e instanceof Mr||e instanceof da)&&this._locations.add(new ys(e,0,e.getCoordinate()))};Cp.prototype.interfaces_=function(){return[Zl]};Cp.prototype.getClass=function(){return Cp};Cp.getLocations=function(e){var t=new en;return e.apply(new Cp(t)),t};var Ya=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Cl,this._minDistanceLocation=null,this._minDistance=qn.MAX_VALUE,arguments.length===2){var e=arguments[0],t=arguments[1];this._geom=[e,t],this._terminateDistance=0}else if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=i,this._geom[1]=r,this._terminateDistance=a}};Ya.prototype.computeContainmentDistance=function(){var e=this;if(arguments.length===0){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(arguments.length===2){var i=arguments[0],r=arguments[1],a=1-i,o=Jc.getPolygons(this._geom[i]);if(o.size()>0){var s=Cp.getLocations(this._geom[a]);if(this.computeContainmentDistance(s,o,r),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[a]=r[0],this._minDistanceLocation[i]=r[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&Bn(arguments[0],xl)&&Bn(arguments[1],xl)){for(var d=arguments[0],p=arguments[1],m=arguments[2],y=0;y<d.size();y++)for(var g=d.get(y),_=0;_<p.size();_++)if(e.computeContainmentDistance(g,p.get(_),m),e._minDistance<=e._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof ys&&arguments[1]instanceof da){var x=arguments[0],T=arguments[1],E=arguments[2],k=x.getCoordinate();if(kt.EXTERIOR!==this._ptLocator.locate(k,T))return this._minDistance=0,E[0]=x,E[1]=new ys(T,k),null}}};Ya.prototype.computeMinDistanceLinesPoints=function(e,t,i){for(var r=this,a=0;a<e.size();a++)for(var o=e.get(a),s=0;s<t.size();s++){var d=t.get(s);if(r.computeMinDistance(o,d,i),r._minDistance<=r._terminateDistance)return null}};Ya.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),t=$a.getLines(this._geom[0]),i=$a.getLines(this._geom[1]),r=Xu.getPoints(this._geom[0]),a=Xu.getPoints(this._geom[1]);if(this.computeMinDistanceLines(t,i,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance||(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(t,a,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance)||(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(i,r,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance))return null;e[0]=null,e[1]=null,this.computeMinDistancePoints(r,a,e),this.updateMinDistance(e,!1)};Ya.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation};Ya.prototype.updateMinDistance=function(e,t){if(e[0]===null)return null;t?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])};Ya.prototype.nearestPoints=function(){this.computeMinDistance();var e=[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()];return e};Ya.prototype.computeMinDistance=function(){var e=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof Mr&&arguments[1]instanceof so){var t=arguments[0],i=arguments[1],r=arguments[2];if(t.getEnvelopeInternal().distance(i.getEnvelopeInternal())>this._minDistance)return null;for(var a=t.getCoordinates(),o=i.getCoordinate(),s=0;s<a.length-1;s++){var d=ln.distancePointLine(o,a[s],a[s+1]);if(d<e._minDistance){e._minDistance=d;var p=new Pn(a[s],a[s+1]),m=p.closestPoint(o);r[0]=new ys(t,s,m),r[1]=new ys(i,0,o)}if(e._minDistance<=e._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Mr&&arguments[1]instanceof Mr){var y=arguments[0],g=arguments[1],_=arguments[2];if(y.getEnvelopeInternal().distance(g.getEnvelopeInternal())>this._minDistance)return null;for(var x=y.getCoordinates(),T=g.getCoordinates(),E=0;E<x.length-1;E++)for(var k=0;k<T.length-1;k++){var v=ln.distanceLineLine(x[E],x[E+1],T[k],T[k+1]);if(v<e._minDistance){e._minDistance=v;var w=new Pn(x[E],x[E+1]),N=new Pn(T[k],T[k+1]),S=w.closestPoints(N);_[0]=new ys(y,E,S[0]),_[1]=new ys(g,k,S[1])}if(e._minDistance<=e._terminateDistance)return null}}}};Ya.prototype.computeMinDistancePoints=function(e,t,i){for(var r=this,a=0;a<e.size();a++)for(var o=e.get(a),s=0;s<t.size();s++){var d=t.get(s),p=o.getCoordinate().distance(d.getCoordinate());if(p<r._minDistance&&(r._minDistance=p,i[0]=new ys(o,0,o.getCoordinate()),i[1]=new ys(d,0,d.getCoordinate())),r._minDistance<=r._terminateDistance)return null}};Ya.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new vr("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)};Ya.prototype.computeMinDistanceLines=function(e,t,i){for(var r=this,a=0;a<e.size();a++)for(var o=e.get(a),s=0;s<t.size();s++){var d=t.get(s);if(r.computeMinDistance(o,d,i),r._minDistance<=r._terminateDistance)return null}};Ya.prototype.interfaces_=function(){return[]};Ya.prototype.getClass=function(){return Ya};Ya.distance=function(e,t){var i=new Ya(e,t);return i.distance()};Ya.isWithinDistance=function(e,t,i){var r=new Ya(e,t,i);return r.distance()<=i};Ya.nearestPoints=function(e,t){var i=new Ya(e,t);return i.nearestPoints()};var Ja=function(){this._pt=[new bt,new bt],this._distance=qn.NaN,this._isNull=!0};Ja.prototype.getCoordinates=function(){return this._pt};Ja.prototype.getCoordinate=function(e){return this._pt[e]};Ja.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var t=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(t,i),null;var r=t.distance(i);r<this._distance&&this.initialize(t,i,r)}};Ja.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];this._pt[0].setCoordinate(i),this._pt[1].setCoordinate(r),this._distance=a,this._isNull=!1}};Ja.prototype.toString=function(){return bl.toLineString(this._pt[0],this._pt[1])};Ja.prototype.getDistance=function(){return this._distance};Ja.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var t=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(t,i),null;var r=t.distance(i);r>this._distance&&this.initialize(t,i,r)}};Ja.prototype.interfaces_=function(){return[]};Ja.prototype.getClass=function(){return Ja};var jl=function(){};jl.prototype.interfaces_=function(){return[]};jl.prototype.getClass=function(){return jl};jl.computeDistance=function(){if(arguments[2]instanceof Ja&&arguments[0]instanceof Mr&&arguments[1]instanceof bt)for(var e=arguments[0],t=arguments[1],i=arguments[2],r=new Pn,a=e.getCoordinates(),o=0;o<a.length-1;o++){r.setCoordinates(a[o],a[o+1]);var s=r.closestPoint(t);i.setMinimum(s,t)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof da&&arguments[1]instanceof bt){var d=arguments[0],p=arguments[1],m=arguments[2];jl.computeDistance(d.getExteriorRing(),p,m);for(var y=0;y<d.getNumInteriorRing();y++)jl.computeDistance(d.getInteriorRingN(y),p,m)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof jn&&arguments[1]instanceof bt){var g=arguments[0],_=arguments[1],x=arguments[2];if(g instanceof Mr)jl.computeDistance(g,_,x);else if(g instanceof da)jl.computeDistance(g,_,x);else if(g instanceof _s)for(var T=g,E=0;E<T.getNumGeometries();E++){var k=T.getGeometryN(E);jl.computeDistance(k,_,x)}else x.setMinimum(g.getCoordinate(),_)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof Pn&&arguments[1]instanceof bt){var v=arguments[0],w=arguments[1],N=arguments[2],S=v.closestPoint(w);N.setMinimum(S,w)}};var Vo=function(){this._g0=null,this._g1=null,this._ptDist=new Ja,this._densifyFrac=0;var e=arguments[0],t=arguments[1];this._g0=e,this._g1=t},NS={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Vo.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()};Vo.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new vr("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e};Vo.prototype.compute=function(e,t){this.computeOrientedDistance(e,t,this._ptDist),this.computeOrientedDistance(t,e,this._ptDist)};Vo.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()};Vo.prototype.computeOrientedDistance=function(e,t,i){var r=new Ep(t);if(e.apply(r),i.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var a=new rd(t,this._densifyFrac);e.apply(a),i.setMaximum(a.getMaxPointDistance())}};Vo.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()};Vo.prototype.interfaces_=function(){return[]};Vo.prototype.getClass=function(){return Vo};Vo.distance=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],i=new Vo(e,t);return i.distance()}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2],s=new Vo(r,a);return s.setDensifyFraction(o),s.distance()}};NS.MaxPointDistanceFilter.get=function(){return Ep};NS.MaxDensifiedByFractionDistanceFilter.get=function(){return rd};Object.defineProperties(Vo,NS);var Ep=function(){this._maxPtDist=new Ja,this._minPtDist=new Ja,this._euclideanDist=new jl,this._geom=null;var e=arguments[0];this._geom=e};Ep.prototype.filter=function(e){this._minPtDist.initialize(),jl.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};Ep.prototype.getMaxPointDistance=function(){return this._maxPtDist};Ep.prototype.interfaces_=function(){return[xc]};Ep.prototype.getClass=function(){return Ep};var rd=function(){this._maxPtDist=new Ja,this._minPtDist=new Ja,this._geom=null,this._numSubSegs=0;var e=arguments[0],t=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/t))};rd.prototype.filter=function(e,t){var i=this;if(t===0)return null;for(var r=e.getCoordinate(t-1),a=e.getCoordinate(t),o=(a.x-r.x)/this._numSubSegs,s=(a.y-r.y)/this._numSubSegs,d=0;d<this._numSubSegs;d++){var p=r.x+d*o,m=r.y+d*s,y=new bt(p,m);i._minPtDist.initialize(),jl.computeDistance(i._geom,y,i._minPtDist),i._maxPtDist.setMaximum(i._minPtDist)}};rd.prototype.isDone=function(){return!1};rd.prototype.isGeometryChanged=function(){return!1};rd.prototype.getMaxPointDistance=function(){return this._maxPtDist};rd.prototype.interfaces_=function(){return[_l]};rd.prototype.getClass=function(){return rd};var io=function(e,t,i){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=t||null,this._result=i||null},LS={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};io.prototype.checkMaximumDistance=function(e,t,i){var r=new Vo(t,e);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>i){this._isValid=!1;var a=r.getCoordinates();this._errorLocation=a[1],this._errorIndicator=e.getFactory().createLineString(a),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+bl.toLineString(a[0],a[1])+")"}};io.prototype.isValid=function(){var e=Math.abs(this._bufDistance),t=io.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-t,this._maxValidDistance=e+t,this._input.isEmpty()||this._result.isEmpty()?!0:(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),io.VERBOSE&&Ua.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)};io.prototype.checkNegativeValid=function(){if(!(this._input instanceof da||this._input instanceof mc||this._input instanceof _s))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)};io.prototype.getErrorIndicator=function(){return this._errorIndicator};io.prototype.checkMinimumDistance=function(e,t,i){var r=new Ya(e,t,i);if(this._minDistanceFound=r.distance(),this._minDistanceFound<i){this._isValid=!1;var a=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(a),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+bl.toLineString(a[0],a[1])+" )"}};io.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)};io.prototype.getErrorLocation=function(){return this._errorLocation};io.prototype.getPolygonLines=function(e){for(var t=new en,i=new $a(t),r=Jc.getPolygons(e),a=r.iterator();a.hasNext();){var o=a.next();o.apply(i)}return e.getFactory().buildGeometry(t)};io.prototype.getErrorMessage=function(){return this._errMsg};io.prototype.interfaces_=function(){return[]};io.prototype.getClass=function(){return io};LS.VERBOSE.get=function(){return!1};LS.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012};Object.defineProperties(io,LS);var Va=function(e,t,i){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=t||null,this._result=i||null},IS={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Va.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid};Va.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*Va.MAX_ENV_DIFF_FRAC;e===0&&(e=.001);var t=new An(this._input.getEnvelopeInternal());t.expandBy(this._distance);var i=new An(this._result.getEnvelopeInternal());i.expandBy(e),i.contains(t)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(i)),this.report("Envelope")};Va.prototype.checkDistance=function(){var e=new io(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")};Va.prototype.checkArea=function(){var e=this._input.getArea(),t=this._result.getArea();this._distance>0&&e>t&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<t&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")};Va.prototype.checkPolygonal=function(){this._result instanceof da||this._result instanceof mc||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")};Va.prototype.getErrorIndicator=function(){return this._errorIndicator};Va.prototype.getErrorLocation=function(){return this._errorLocation};Va.prototype.checkExpectedEmpty=function(){if(this._input.getDimension()>=2||this._distance>0)return null;this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),this.report("ExpectedEmpty")};Va.prototype.report=function(e){if(!Va.VERBOSE)return null;Ua.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))};Va.prototype.getErrorMessage=function(){return this._errorMsg};Va.prototype.interfaces_=function(){return[]};Va.prototype.getClass=function(){return Va};Va.isValidMsg=function(e,t,i){var r=new Va(e,t,i);return r.isValid()?null:r.getErrorMessage()};Va.isValid=function(e,t,i){var r=new Va(e,t,i);return!!r.isValid()};IS.VERBOSE.get=function(){return!1};IS.MAX_ENV_DIFF_FRAC.get=function(){return .012};Object.defineProperties(Va,IS);var nc=function(){this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};nc.prototype.getCoordinates=function(){return this._pts};nc.prototype.size=function(){return this._pts.length};nc.prototype.getCoordinate=function(e){return this._pts[e]};nc.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};nc.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:_p.octant(this.getCoordinate(e),this.getCoordinate(e+1))};nc.prototype.setData=function(e){this._data=e};nc.prototype.getData=function(){return this._data};nc.prototype.toString=function(){return bl.toLineString(new jr(this._pts))};nc.prototype.interfaces_=function(){return[wc]};nc.prototype.getClass=function(){return nc};var Ia=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new en,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};Ia.prototype.getInteriorIntersection=function(){return this._interiorIntersection};Ia.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e};Ia.prototype.getIntersectionSegments=function(){return this._intSegments};Ia.prototype.count=function(){return this._intersectionCount};Ia.prototype.getIntersections=function(){return this._intersections};Ia.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e};Ia.prototype.setKeepIntersections=function(e){this._keepIntersections=e};Ia.prototype.processIntersections=function(e,t,i,r){if(!this._findAllIntersections&&this.hasIntersection()||e===i&&t===r)return null;if(this._isCheckEndSegmentsOnly){var a=this.isEndSegment(e,t)||this.isEndSegment(i,r);if(!a)return null}var o=e.getCoordinates()[t],s=e.getCoordinates()[t+1],d=i.getCoordinates()[r],p=i.getCoordinates()[r+1];this._li.computeIntersection(o,s,d,p),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=o,this._intSegments[1]=s,this._intSegments[2]=d,this._intSegments[3]=p,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)};Ia.prototype.isEndSegment=function(e,t){return t===0||t>=e.size()-2};Ia.prototype.hasIntersection=function(){return this._interiorIntersection!==null};Ia.prototype.isDone=function(){return this._findAllIntersections?!1:this._interiorIntersection!==null};Ia.prototype.interfaces_=function(){return[nh]};Ia.prototype.getClass=function(){return Ia};Ia.createAllIntersectionsFinder=function(e){var t=new Ia(e);return t.setFindAllIntersections(!0),t};Ia.createAnyIntersectionFinder=function(e){return new Ia(e)};Ia.createIntersectionCounter=function(e){var t=new Ia(e);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t};var El=function(){this._li=new hh,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};El.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()};El.prototype.getIntersections=function(){return this._segInt.getIntersections()};El.prototype.isValid=function(){return this.execute(),this._isValid};El.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e};El.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Ia(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new ES;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null};El.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new au(this.getErrorMessage(),this._segInt.getInteriorIntersection())};El.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+bl.toLineString(e[0],e[1])+" and "+bl.toLineString(e[2],e[3])};El.prototype.interfaces_=function(){return[]};El.prototype.getClass=function(){return El};El.computeIntersections=function(e){var t=new El(e);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()};var ah=function n(){this._nv=null;var e=arguments[0];this._nv=new El(n.toSegmentStrings(e))};ah.prototype.checkValid=function(){this._nv.checkValid()};ah.prototype.interfaces_=function(){return[]};ah.prototype.getClass=function(){return ah};ah.toSegmentStrings=function(e){for(var t=new en,i=e.iterator();i.hasNext();){var r=i.next();t.add(new nc(r.getCoordinates(),r))}return t};ah.checkValid=function(e){var t=new ah(e);t.checkValid()};var kp=function(e){this._mapOp=e};kp.prototype.map=function(e){for(var t=this,i=new en,r=0;r<e.getNumGeometries();r++){var a=t._mapOp.map(e.getGeometryN(r));a.isEmpty()||i.add(a)}return e.getFactory().createGeometryCollection(yi.toGeometryArray(i))};kp.prototype.interfaces_=function(){return[]};kp.prototype.getClass=function(){return kp};kp.map=function(e,t){var i=new kp(t);return i.map(e)};var ic=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new en,this._resultLineList=new en;var e=arguments[0],t=arguments[1],i=arguments[2];this._op=e,this._geometryFactory=t,this._ptLocator=i};ic.prototype.collectLines=function(e){for(var t=this,i=this._op.getGraph().getEdgeEnds().iterator();i.hasNext();){var r=i.next();t.collectLineEdge(r,e,t._lineEdgesList),t.collectBoundaryTouchEdge(r,e,t._lineEdgesList)}};ic.prototype.labelIsolatedLine=function(e,t){var i=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(t));e.getLabel().setLocation(t,i)};ic.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList};ic.prototype.collectLineEdge=function(e,t,i){var r=e.getLabel(),a=e.getEdge();e.isLineEdge()&&!e.isVisited()&&ni.isResultOfOp(r,t)&&!a.isCovered()&&(i.add(a),e.setVisitedEdge(!0))};ic.prototype.findCoveredLineEdges=function(){for(var e=this,t=this._op.getGraph().getNodes().iterator();t.hasNext();){var i=t.next();i.getEdges().findCoveredLineEdges()}for(var r=this._op.getGraph().getEdgeEnds().iterator();r.hasNext();){var a=r.next(),o=a.getEdge();if(a.isLineEdge()&&!o.isCoveredSet()){var s=e._op.isCoveredByA(a.getCoordinate());o.setCovered(s)}}};ic.prototype.labelIsolatedLines=function(e){for(var t=this,i=e.iterator();i.hasNext();){var r=i.next(),a=r.getLabel();r.isIsolated()&&(a.isNull(0)?t.labelIsolatedLine(r,0):t.labelIsolatedLine(r,1))}};ic.prototype.buildLines=function(e){for(var t=this,i=this._lineEdgesList.iterator();i.hasNext();){var r=i.next(),a=t._geometryFactory.createLineString(r.getCoordinates());t._resultLineList.add(a),r.setInResult(!0)}};ic.prototype.collectBoundaryTouchEdge=function(e,t,i){var r=e.getLabel();if(e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult())return null;oi.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),ni.isResultOfOp(r,t)&&t===ni.INTERSECTION&&(i.add(e.getEdge()),e.setVisitedEdge(!0))};ic.prototype.interfaces_=function(){return[]};ic.prototype.getClass=function(){return ic};var Np=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new en;var e=arguments[0],t=arguments[1];this._op=e,this._geometryFactory=t};Np.prototype.filterCoveredNodeToPoint=function(e){var t=e.getCoordinate();if(!this._op.isCoveredByLA(t)){var i=this._geometryFactory.createPoint(t);this._resultPointList.add(i)}};Np.prototype.extractNonCoveredResultNodes=function(e){for(var t=this,i=this._op.getGraph().getNodes().iterator();i.hasNext();){var r=i.next();if(!r.isInResult()&&!r.isIncidentEdgeInResult()&&(r.getEdges().getDegree()===0||e===ni.INTERSECTION)){var a=r.getLabel();ni.isResultOfOp(a,e)&&t.filterCoveredNodeToPoint(r)}}};Np.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList};Np.prototype.interfaces_=function(){return[]};Np.prototype.getClass=function(){return Np};var qs=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};qs.prototype.transformPoint=function(e,t){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))};qs.prototype.transformPolygon=function(e,t){var i=this,r=!0,a=this.transformLinearRing(e.getExteriorRing(),e);(a===null||!(a instanceof bc)||a.isEmpty())&&(r=!1);for(var o=new en,s=0;s<e.getNumInteriorRing();s++){var d=i.transformLinearRing(e.getInteriorRingN(s),e);d===null||d.isEmpty()||(d instanceof bc||(r=!1),o.add(d))}if(r)return this._factory.createPolygon(a,o.toArray([]));var p=new en;return a!==null&&p.add(a),p.addAll(o),this._factory.buildGeometry(p)};qs.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)};qs.prototype.getInputGeometry=function(){return this._inputGeom};qs.prototype.transformMultiLineString=function(e,t){for(var i=this,r=new en,a=0;a<e.getNumGeometries();a++){var o=i.transformLineString(e.getGeometryN(a),e);o!==null&&(o.isEmpty()||r.add(o))}return this._factory.buildGeometry(r)};qs.prototype.transformCoordinates=function(e,t){return this.copy(e)};qs.prototype.transformLineString=function(e,t){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))};qs.prototype.transformMultiPoint=function(e,t){for(var i=this,r=new en,a=0;a<e.getNumGeometries();a++){var o=i.transformPoint(e.getGeometryN(a),e);o!==null&&(o.isEmpty()||r.add(o))}return this._factory.buildGeometry(r)};qs.prototype.transformMultiPolygon=function(e,t){for(var i=this,r=new en,a=0;a<e.getNumGeometries();a++){var o=i.transformPolygon(e.getGeometryN(a),e);o!==null&&(o.isEmpty()||r.add(o))}return this._factory.buildGeometry(r)};qs.prototype.copy=function(e){return e.copy()};qs.prototype.transformGeometryCollection=function(e,t){for(var i=this,r=new en,a=0;a<e.getNumGeometries();a++){var o=i.transform(e.getGeometryN(a));o!==null&&(i._pruneEmptyGeometry&&o.isEmpty()||r.add(o))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(yi.toGeometryArray(r)):this._factory.buildGeometry(r)};qs.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof so)return this.transformPoint(e,null);if(e instanceof yf)return this.transformMultiPoint(e,null);if(e instanceof bc)return this.transformLinearRing(e,null);if(e instanceof Mr)return this.transformLineString(e,null);if(e instanceof Jd)return this.transformMultiLineString(e,null);if(e instanceof da)return this.transformPolygon(e,null);if(e instanceof mc)return this.transformMultiPolygon(e,null);if(e instanceof _s)return this.transformGeometryCollection(e,null);throw new vr("Unknown Geometry subtype: "+e.getClass().getName())};qs.prototype.transformLinearRing=function(e,t){var i=this.transformCoordinates(e.getCoordinateSequence(),e);if(i===null)return this._factory.createLinearRing(null);var r=i.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(i):this._factory.createLinearRing(i)};qs.prototype.interfaces_=function(){return[]};qs.prototype.getClass=function(){return qs};var Cc=function n(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Pn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Mr&&typeof arguments[1]=="number"){var e=arguments[0],t=arguments[1];n.call(this,e.getCoordinates(),t)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var i=arguments[0],r=arguments[1];this._srcPts=i,this._isClosed=n.isClosed(i),this._snapTolerance=r}};Cc.prototype.snapVertices=function(e,t){for(var i=this,r=this._isClosed?e.size()-1:e.size(),a=0;a<r;a++){var o=e.get(a),s=i.findSnapForVertex(o,t);s!==null&&(e.set(a,new bt(s)),a===0&&i._isClosed&&e.set(e.size()-1,new bt(s)))}};Cc.prototype.findSnapForVertex=function(e,t){for(var i=this,r=0;r<t.length;r++){if(e.equals2D(t[r]))return null;if(e.distance(t[r])<i._snapTolerance)return t[r]}return null};Cc.prototype.snapTo=function(e){var t=new _v(this._srcPts);this.snapVertices(t,e),this.snapSegments(t,e);var i=t.toCoordinateArray();return i};Cc.prototype.snapSegments=function(e,t){var i=this;if(t.length===0)return null;var r=t.length;t[0].equals2D(t[t.length-1])&&(r=t.length-1);for(var a=0;a<r;a++){var o=t[a],s=i.findSegmentIndexToSnap(o,e);s>=0&&e.add(s+1,new bt(o),!1)}};Cc.prototype.findSegmentIndexToSnap=function(e,t){for(var i=this,r=qn.MAX_VALUE,a=-1,o=0;o<t.size()-1;o++){if(i._seg.p0=t.get(o),i._seg.p1=t.get(o+1),i._seg.p0.equals2D(e)||i._seg.p1.equals2D(e)){if(i._allowSnappingToSourceVertices)continue;return-1}var s=i._seg.distance(e);s<i._snapTolerance&&s<r&&(r=s,a=o)}return a};Cc.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e};Cc.prototype.interfaces_=function(){return[]};Cc.prototype.getClass=function(){return Cc};Cc.isClosed=function(e){return e.length<=1?!1:e[0].equals2D(e[e.length-1])};var Br=function(e){this._srcGeom=e||null},dD={SNAP_PRECISION_FACTOR:{configurable:!0}};Br.prototype.snapTo=function(e,t){var i=this.extractTargetCoordinates(e),r=new hD(t,i);return r.transform(this._srcGeom)};Br.prototype.snapToSelf=function(e,t){var i=this.extractTargetCoordinates(this._srcGeom),r=new hD(e,i,!0),a=r.transform(this._srcGeom),o=a;return t&&Bn(o,Qu)&&(o=a.buffer(0)),o};Br.prototype.computeSnapTolerance=function(e){var t=this.computeMinimumSegmentLength(e),i=t/10;return i};Br.prototype.extractTargetCoordinates=function(e){for(var t=new Xl,i=e.getCoordinates(),r=0;r<i.length;r++)t.add(i[r]);return t.toArray(new Array(0).fill(null))};Br.prototype.computeMinimumSegmentLength=function(e){for(var t=qn.MAX_VALUE,i=0;i<e.length-1;i++){var r=e[i].distance(e[i+1]);r<t&&(t=r)}return t};Br.prototype.interfaces_=function(){return[]};Br.prototype.getClass=function(){return Br};Br.snap=function(e,t,i){var r=new Array(2).fill(null),a=new Br(e);r[0]=a.snapTo(t,i);var o=new Br(t);return r[1]=o.snapTo(r[0],i),r};Br.computeOverlaySnapTolerance=function(){if(arguments.length===1){var e=arguments[0],t=Br.computeSizeBasedSnapTolerance(e),i=e.getPrecisionModel();if(i.getType()===zi.FIXED){var r=1/i.getScale()*2/1.415;r>t&&(t=r)}return t}else if(arguments.length===2){var a=arguments[0],o=arguments[1];return Math.min(Br.computeOverlaySnapTolerance(a),Br.computeOverlaySnapTolerance(o))}};Br.computeSizeBasedSnapTolerance=function(e){var t=e.getEnvelopeInternal(),i=Math.min(t.getHeight(),t.getWidth()),r=i*Br.SNAP_PRECISION_FACTOR;return r};Br.snapToSelf=function(e,t,i){var r=new Br(e);return r.snapToSelf(t,i)};dD.SNAP_PRECISION_FACTOR.get=function(){return 1e-9};Object.defineProperties(Br,dD);var hD=function(n){function e(t,i,r){n.call(this),this._snapTolerance=t||null,this._snapPts=i||null,this._isSelfSnap=r!==void 0?r:!1}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(i,r){var a=new Cc(i,this._snapTolerance);return a.setAllowSnappingToSourceVertices(this._isSelfSnap),a.snapTo(r)},e.prototype.transformCoordinates=function(i,r){var a=i.toCoordinateArray(),o=this.snapLine(a,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(o)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(qs),ms=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};ms.prototype.getCommon=function(){return qn.longBitsToDouble(this._commonBits)};ms.prototype.add=function(e){var t=qn.doubleToLongBits(e);if(this._isFirst)return this._commonBits=t,this._commonSignExp=ms.signExpBits(this._commonBits),this._isFirst=!1,null;var i=ms.signExpBits(t);if(i!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=ms.numCommonMostSigMantissaBits(this._commonBits,t),this._commonBits=ms.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))};ms.prototype.toString=function(){if(arguments.length===1){var e=arguments[0],t=qn.longBitsToDouble(e),i=qn.toBinaryString(e),r="0000000000000000000000000000000000000000000000000000000000000000"+i,a=r.substring(r.length-64),o=a.substring(0,1)+"  "+a.substring(1,12)+"(exp) "+a.substring(12)+" [ "+t+" ]";return o}};ms.prototype.interfaces_=function(){return[]};ms.prototype.getClass=function(){return ms};ms.getBit=function(e,t){var i=1<<t;return e&i?1:0};ms.signExpBits=function(e){return e>>52};ms.zeroLowerBits=function(e,t){var i=(1<<t)-1,r=~i,a=e&r;return a};ms.numCommonMostSigMantissaBits=function(e,t){for(var i=0,r=52;r>=0;r--){if(ms.getBit(e,r)!==ms.getBit(t,r))return i;i++}return 52};var ad=function(){this._commonCoord=null,this._ccFilter=new Lp},AS={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ad.prototype.addCommonBits=function(e){var t=new sd(this._commonCoord);e.apply(t),e.geometryChanged()};ad.prototype.removeCommonBits=function(e){if(this._commonCoord.x===0&&this._commonCoord.y===0)return e;var t=new bt(this._commonCoord);t.x=-t.x,t.y=-t.y;var i=new sd(t);return e.apply(i),e.geometryChanged(),e};ad.prototype.getCommonCoordinate=function(){return this._commonCoord};ad.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()};ad.prototype.interfaces_=function(){return[]};ad.prototype.getClass=function(){return ad};AS.CommonCoordinateFilter.get=function(){return Lp};AS.Translater.get=function(){return sd};Object.defineProperties(ad,AS);var Lp=function(){this._commonBitsX=new ms,this._commonBitsY=new ms};Lp.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)};Lp.prototype.getCommonCoordinate=function(){return new bt(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())};Lp.prototype.interfaces_=function(){return[xc]};Lp.prototype.getClass=function(){return Lp};var sd=function(){this.trans=null;var e=arguments[0];this.trans=e};sd.prototype.filter=function(e,t){var i=e.getOrdinate(t,0)+this.trans.x,r=e.getOrdinate(t,1)+this.trans.y;e.setOrdinate(t,0,i),e.setOrdinate(t,1,r)};sd.prototype.isDone=function(){return!1};sd.prototype.isGeometryChanged=function(){return!0};sd.prototype.interfaces_=function(){return[_l]};sd.prototype.getClass=function(){return sd};var Aa=function(e,t){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=t,this.computeSnapTolerance()};Aa.prototype.selfSnap=function(e){var t=new Br(e),i=t.snapTo(e,this._snapTolerance);return i};Aa.prototype.removeCommonBits=function(e){this._cbr=new ad,this._cbr.add(e[0]),this._cbr.add(e[1]);var t=new Array(2).fill(null);return t[0]=this._cbr.removeCommonBits(e[0].copy()),t[1]=this._cbr.removeCommonBits(e[1].copy()),t};Aa.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e};Aa.prototype.getResultGeometry=function(e){var t=this.snap(this._geom),i=ni.overlayOp(t[0],t[1],e);return this.prepareResult(i)};Aa.prototype.checkValid=function(e){e.isValid()||Ua.out.println("Snapped geometry is invalid")};Aa.prototype.computeSnapTolerance=function(){this._snapTolerance=Br.computeOverlaySnapTolerance(this._geom[0],this._geom[1])};Aa.prototype.snap=function(e){var t=this.removeCommonBits(e),i=Br.snap(t[0],t[1],this._snapTolerance);return i};Aa.prototype.interfaces_=function(){return[]};Aa.prototype.getClass=function(){return Aa};Aa.overlayOp=function(e,t,i){var r=new Aa(e,t);return r.getResultGeometry(i)};Aa.union=function(e,t){return Aa.overlayOp(e,t,ni.UNION)};Aa.intersection=function(e,t){return Aa.overlayOp(e,t,ni.INTERSECTION)};Aa.symDifference=function(e,t){return Aa.overlayOp(e,t,ni.SYMDIFFERENCE)};Aa.difference=function(e,t){return Aa.overlayOp(e,t,ni.DIFFERENCE)};var Ss=function(e,t){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=t};Ss.prototype.getResultGeometry=function(e){var t=null,i=!1,r=null;try{t=ni.overlayOp(this._geom[0],this._geom[1],e);var a=!0;a&&(i=!0)}catch(o){if(o instanceof iu)r=o;else throw o}finally{}if(!i)try{t=Aa.overlayOp(this._geom[0],this._geom[1],e)}catch(o){throw o instanceof iu?r:o}finally{}return t};Ss.prototype.interfaces_=function(){return[]};Ss.prototype.getClass=function(){return Ss};Ss.overlayOp=function(e,t,i){var r=new Ss(e,t);return r.getResultGeometry(i)};Ss.union=function(e,t){return Ss.overlayOp(e,t,ni.UNION)};Ss.intersection=function(e,t){return Ss.overlayOp(e,t,ni.INTERSECTION)};Ss.symDifference=function(e,t){return Ss.overlayOp(e,t,ni.SYMDIFFERENCE)};Ss.difference=function(e,t){return Ss.overlayOp(e,t,ni.DIFFERENCE)};var Xy=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],t=arguments[1];this.mce=e,this.chainIndex=t};Xy.prototype.computeIntersections=function(e,t){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,t)};Xy.prototype.interfaces_=function(){return[]};Xy.prototype.getClass=function(){return Xy};var co=function n(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var e=arguments[0],t=arguments[1];this._eventType=n.DELETE,this._xValue=e,this._insertEvent=t}else if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];this._eventType=n.INSERT,this._label=i,this._xValue=r,this._obj=a}},PS={INSERT:{configurable:!0},DELETE:{configurable:!0}};co.prototype.isDelete=function(){return this._eventType===co.DELETE};co.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e};co.prototype.getObject=function(){return this._obj};co.prototype.compareTo=function(e){var t=e;return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0};co.prototype.getInsertEvent=function(){return this._insertEvent};co.prototype.isInsert=function(){return this._eventType===co.INSERT};co.prototype.isSameLabel=function(e){return this._label===null?!1:this._label===e._label};co.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex};co.prototype.interfaces_=function(){return[Ko]};co.prototype.getClass=function(){return co};PS.INSERT.get=function(){return 1};PS.DELETE.get=function(){return 2};Object.defineProperties(co,PS);var Ub=function(){};Ub.prototype.interfaces_=function(){return[]};Ub.prototype.getClass=function(){return Ub};var Wa=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],t=arguments[1],i=arguments[2];this._li=e,this._includeProper=t,this._recordIsolated=i};Wa.prototype.isTrivialIntersection=function(e,t,i,r){if(e===i&&this._li.getIntersectionNum()===1){if(Wa.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var a=e.getNumPoints()-1;if(t===0&&r===a||r===0&&t===a)return!0}}return!1};Wa.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};Wa.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e};Wa.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};Wa.prototype.isBoundaryPointInternal=function(e,t){for(var i=t.iterator();i.hasNext();){var r=i.next(),a=r.getCoordinate();if(e.isIntersection(a))return!0}return!1};Wa.prototype.hasProperIntersection=function(){return this._hasProper};Wa.prototype.hasIntersection=function(){return this._hasIntersection};Wa.prototype.isDone=function(){return this._isDone};Wa.prototype.isBoundaryPoint=function(e,t){return t===null?!1:!!(this.isBoundaryPointInternal(e,t[0])||this.isBoundaryPointInternal(e,t[1]))};Wa.prototype.setBoundaryNodes=function(e,t){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=t};Wa.prototype.addIntersections=function(e,t,i,r){if(e===i&&t===r)return null;this.numTests++;var a=e.getCoordinates()[t],o=e.getCoordinates()[t+1],s=i.getCoordinates()[r],d=i.getCoordinates()[r+1];this._li.computeIntersection(a,o,s,d),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),i.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,t,i,r)||(this._hasIntersection=!0,(this._includeProper||!this._li.isProper())&&(e.addIntersections(this._li,t,0),i.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))};Wa.prototype.interfaces_=function(){return[]};Wa.prototype.getClass=function(){return Wa};Wa.isAdjacentSegments=function(e,t){return Math.abs(e-t)===1};var qU=function(n){function e(){n.call(this),this.events=new en,this.nOverlaps=null}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){var i=this;Tl.sort(this.events);for(var r=0;r<this.events.size();r++){var a=i.events.get(r);a.isDelete()&&a.getInsertEvent().setDeleteEventIndex(r)}},e.prototype.computeIntersections=function(){var i=this;if(arguments.length===1){var r=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var a=0;a<this.events.size();a++){var o=i.events.get(a);if(o.isInsert()&&i.processOverlaps(a,o.getDeleteEventIndex(),o,r),r.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof Wa&&Bn(arguments[0],xl)&&Bn(arguments[1],xl)){var s=arguments[0],d=arguments[1],p=arguments[2];this.addEdges(s,s),this.addEdges(d,d),this.computeIntersections(p)}else if(typeof arguments[2]=="boolean"&&Bn(arguments[0],xl)&&arguments[1]instanceof Wa){var m=arguments[0],y=arguments[1],g=arguments[2];g?this.addEdges(m,null):this.addEdges(m),this.computeIntersections(y)}}},e.prototype.addEdge=function(i,r){for(var a=this,o=i.getMonotoneChainEdge(),s=o.getStartIndexes(),d=0;d<s.length-1;d++){var p=new Xy(o,d),m=new co(r,o.getMinX(d),p);a.events.add(m),a.events.add(new co(o.getMaxX(d),m))}},e.prototype.processOverlaps=function(i,r,a,o){for(var s=this,d=a.getObject(),p=i;p<r;p++){var m=s.events.get(p);if(m.isInsert()){var y=m.getObject();a.isSameLabel(m)||(d.computeIntersections(y,o),s.nOverlaps++)}}},e.prototype.addEdges=function(){var i=this;if(arguments.length===1)for(var r=arguments[0],a=r.iterator();a.hasNext();){var o=a.next();i.addEdge(o,o)}else if(arguments.length===2)for(var s=arguments[0],d=arguments[1],p=s.iterator();p.hasNext();){var m=p.next();i.addEdge(m,d)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ub),Ec=function(){this._min=qn.POSITIVE_INFINITY,this._max=qn.NEGATIVE_INFINITY},pD={NodeComparator:{configurable:!0}};Ec.prototype.getMin=function(){return this._min};Ec.prototype.intersects=function(e,t){return!(this._min>t||this._max<e)};Ec.prototype.getMax=function(){return this._max};Ec.prototype.toString=function(){return bl.toLineString(new bt(this._min,0),new bt(this._max,0))};Ec.prototype.interfaces_=function(){return[]};Ec.prototype.getClass=function(){return Ec};pD.NodeComparator.get=function(){return Zy};Object.defineProperties(Ec,pD);var Zy=function(){};Zy.prototype.compare=function(e,t){var i=e,r=t,a=(i._min+i._max)/2,o=(r._min+r._max)/2;return a<o?-1:a>o?1:0};Zy.prototype.interfaces_=function(){return[uf]};Zy.prototype.getClass=function(){return Zy};var HU=function(n){function e(){n.call(this),this._item=null;var t=arguments[0],i=arguments[1],r=arguments[2];this._min=t,this._max=i,this._item=r}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.query=function(i,r,a){if(!this.intersects(i,r))return null;a.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ec),XU=function(n){function e(){n.call(this),this._node1=null,this._node2=null;var t=arguments[0],i=arguments[1];this._node1=t,this._node2=i,this.buildExtent(this._node1,this._node2)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(i,r){this._min=Math.min(i._min,r._min),this._max=Math.max(i._max,r._max)},e.prototype.query=function(i,r,a){if(!this.intersects(i,r))return null;this._node1!==null&&this._node1.query(i,r,a),this._node2!==null&&this._node2.query(i,r,a)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ec),kc=function(){this._leaves=new en,this._root=null,this._level=0};kc.prototype.buildTree=function(){var e=this;Tl.sort(this._leaves,new Ec.NodeComparator);for(var t=this._leaves,i=null,r=new en;;){if(e.buildLevel(t,r),r.size()===1)return r.get(0);i=t,t=r,r=i}};kc.prototype.insert=function(e,t,i){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new HU(e,t,i))};kc.prototype.query=function(e,t,i){this.init(),this._root.query(e,t,i)};kc.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()};kc.prototype.printNode=function(e){Ua.out.println(bl.toLineString(new bt(e._min,this._level),new bt(e._max,this._level)))};kc.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()};kc.prototype.buildLevel=function(e,t){this._level++,t.clear();for(var i=0;i<e.size();i+=2){var r=e.get(i),a=i+1<e.size()?e.get(i):null;if(a===null)t.add(r);else{var o=new XU(e.get(i),e.get(i+1));t.add(o)}}};kc.prototype.interfaces_=function(){return[]};kc.prototype.getClass=function(){return kc};var Tf=function(){this._items=new en};Tf.prototype.visitItem=function(e){this._items.add(e)};Tf.prototype.getItems=function(){return this._items};Tf.prototype.interfaces_=function(){return[Ju]};Tf.prototype.getClass=function(){return Tf};var Sf=function(){this._index=null;var e=arguments[0];if(!Bn(e,Qu))throw new vr("Argument must be Polygonal");this._index=new sh(e)},DS={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Sf.prototype.locate=function(e){var t=new Vl(e),i=new Cf(t);return this._index.query(e.y,e.y,i),t.getLocation()};Sf.prototype.interfaces_=function(){return[_f]};Sf.prototype.getClass=function(){return Sf};DS.SegmentVisitor.get=function(){return Cf};DS.IntervalIndexedGeometry.get=function(){return sh};Object.defineProperties(Sf,DS);var Cf=function(){this._counter=null;var e=arguments[0];this._counter=e};Cf.prototype.visitItem=function(e){var t=e;this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))};Cf.prototype.interfaces_=function(){return[Ju]};Cf.prototype.getClass=function(){return Cf};var sh=function(){this._index=new kc;var e=arguments[0];this.init(e)};sh.prototype.init=function(e){for(var t=this,i=$a.getLines(e),r=i.iterator();r.hasNext();){var a=r.next(),o=a.getCoordinates();t.addLine(o)}};sh.prototype.addLine=function(e){for(var t=this,i=1;i<e.length;i++){var r=new Pn(e[i-1],e[i]),a=Math.min(r.p0.y,r.p1.y),o=Math.max(r.p0.y,r.p1.y);t._index.insert(a,o,r)}};sh.prototype.query=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],i=new Tf;return this._index.query(e,t,i),i.getItems()}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2];this._index.query(r,a,o)}};sh.prototype.interfaces_=function(){return[]};sh.prototype.getClass=function(){return sh};var ry=function(n){function e(){if(n.call(this),this._parentGeom=null,this._lineEdgeMap=new ZP,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Cl,arguments.length===2){var t=arguments[0],i=arguments[1],r=Ho.OGC_SFS_BOUNDARY_RULE;this._argIndex=t,this._parentGeom=i,this._boundaryNodeRule=r,i!==null&&this.add(i)}else if(arguments.length===3){var a=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=a,this._parentGeom=o,this._boundaryNodeRule=s,o!==null&&this.add(o)}}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(i,r){var a=this._nodes.addNode(r),o=a.getLabel(),s=1,d=kt.NONE;d=o.getLocation(i,Xt.ON),d===kt.BOUNDARY&&s++;var p=e.determineBoundary(this._boundaryNodeRule,s);o.setLocation(i,p)},e.prototype.computeSelfNodes=function(){if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.computeSelfNodes(i,r,!1)}else if(arguments.length===3){var a=arguments[0],o=arguments[1],s=arguments[2],d=new Wa(a,!0,!1);d.setIsDoneIfProperInt(s);var p=this.createEdgeSetIntersector(),m=this._parentGeom instanceof bc||this._parentGeom instanceof da||this._parentGeom instanceof mc,y=o||!m;return p.computeIntersections(this._edges,d,y),this.addSelfIntersectionNodes(this._argIndex),d}},e.prototype.computeSplitEdges=function(i){for(var r=this._edges.iterator();r.hasNext();){var a=r.next();a.eiList.addSplitEdges(i)}},e.prototype.computeEdgeIntersections=function(i,r,a){var o=new Wa(r,a,!0);o.setBoundaryNodes(this.getBoundaryNodes(),i.getBoundaryNodes());var s=this.createEdgeSetIntersector();return s.computeIntersections(this._edges,i._edges,o),o},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof so){var i=arguments[0],r=i.getCoordinate();this.insertPoint(this._argIndex,r,kt.INTERIOR)}else if(arguments[0]instanceof bt){var a=arguments[0];this.insertPoint(this._argIndex,a,kt.INTERIOR)}},e.prototype.addPolygon=function(i){var r=this;this.addPolygonRing(i.getExteriorRing(),kt.EXTERIOR,kt.INTERIOR);for(var a=0;a<i.getNumInteriorRing();a++){var o=i.getInteriorRingN(a);r.addPolygonRing(o,kt.INTERIOR,kt.EXTERIOR)}},e.prototype.addEdge=function(i){this.insertEdge(i);var r=i.getCoordinates();this.insertPoint(this._argIndex,r[0],kt.BOUNDARY),this.insertPoint(this._argIndex,r[r.length-1],kt.BOUNDARY)},e.prototype.addLineString=function(i){var r=xi.removeRepeatedPoints(i.getCoordinates());if(r.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var a=new Bb(r,new Wi(this._argIndex,kt.INTERIOR));this._lineEdgeMap.put(i,a),this.insertEdge(a),oi.isTrue(r.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,r[0]),this.insertBoundaryPoint(this._argIndex,r[r.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var i=this.getBoundaryNodes(),r=new Array(i.size()).fill(null),a=0,o=i.iterator();o.hasNext();){var s=o.next();r[a++]=s.getCoordinate().copy()}return r},e.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(i,r,a){if(this.isBoundaryNode(i,r))return null;a===kt.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(i,r):this.insertPoint(i,r,a)},e.prototype.addPolygonRing=function(i,r,a){if(i.isEmpty())return null;var o=xi.removeRepeatedPoints(i.getCoordinates());if(o.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=o[0],null;var s=r,d=a;ln.isCCW(o)&&(s=a,d=r);var p=new Bb(o,new Wi(this._argIndex,kt.BOUNDARY,s,d));this._lineEdgeMap.put(i,p),this.insertEdge(p),this.insertPoint(this._argIndex,o[0],kt.BOUNDARY)},e.prototype.insertPoint=function(i,r,a){var o=this._nodes.addNode(r),s=o.getLabel();s===null?o._label=new Wi(i,a):s.setLocation(i,a)},e.prototype.createEdgeSetIntersector=function(){return new qU},e.prototype.addSelfIntersectionNodes=function(i){for(var r=this,a=this._edges.iterator();a.hasNext();)for(var o=a.next(),s=o.getLabel().getLocation(i),d=o.eiList.iterator();d.hasNext();){var p=d.next();r.addSelfIntersectionNode(i,p.coord,s)}},e.prototype.add=function(){if(arguments.length===1){var i=arguments[0];if(i.isEmpty())return null;if(i instanceof mc&&(this._useBoundaryDeterminationRule=!1),i instanceof da)this.addPolygon(i);else if(i instanceof Mr)this.addLineString(i);else if(i instanceof so)this.addPoint(i);else if(i instanceof yf)this.addCollection(i);else if(i instanceof Jd)this.addCollection(i);else if(i instanceof mc)this.addCollection(i);else if(i instanceof _s)this.addCollection(i);else throw new Error(i.getClass().getName())}else return n.prototype.add.apply(this,arguments)},e.prototype.addCollection=function(i){for(var r=this,a=0;a<i.getNumGeometries();a++){var o=i.getGeometryN(a);r.add(o)}},e.prototype.locate=function(i){return Bn(this._parentGeom,Qu)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new Sf(this._parentGeom)),this._areaPtLocator.locate(i)):this._ptLocator.locate(i,this._parentGeom)},e.prototype.findEdge=function(){if(arguments.length===1){var i=arguments[0];return this._lineEdgeMap.get(i)}else return n.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(i,r){return i.isInBoundary(r)?kt.BOUNDARY:kt.INTERIOR},e}(Cr),Ef=function(){if(this._li=new hh,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new ry(0,e)}else if(arguments.length===2){var t=arguments[0],i=arguments[1],r=Ho.OGC_SFS_BOUNDARY_RULE;t.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ry(0,t,r),this._arg[1]=new ry(1,i,r)}else if(arguments.length===3){var a=arguments[0],o=arguments[1],s=arguments[2];a.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(a.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ry(0,a,s),this._arg[1]=new ry(1,o,s)}};Ef.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()};Ef.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)};Ef.prototype.interfaces_=function(){return[]};Ef.prototype.getClass=function(){return Ef};var Yd=function(){};Yd.prototype.interfaces_=function(){return[]};Yd.prototype.getClass=function(){return Yd};Yd.map=function(){if(arguments[0]instanceof jn&&Bn(arguments[1],Yd.MapOp)){for(var e=arguments[0],t=arguments[1],i=new en,r=0;r<e.getNumGeometries();r++){var a=t.map(e.getGeometryN(r));a!==null&&i.add(a)}return e.getFactory().buildGeometry(i)}else if(Bn(arguments[0],sa)&&Bn(arguments[1],Yd.MapOp)){for(var o=arguments[0],s=arguments[1],d=new en,p=o.iterator();p.hasNext();){var m=p.next(),y=s.map(m);y!==null&&d.add(y)}return d}};Yd.MapOp=function(){};var ni=function(n){function e(){var t=arguments[0],i=arguments[1];n.call(this,t,i),this._ptLocator=new Cl,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Sl,this._resultPolyList=new en,this._resultLineList=new en,this._resultPointList=new en,this._graph=new Cr(new rD),this._geomFact=t.getFactory()}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(i){var r=this._edgeList.findEqualEdge(i);if(r!==null){var a=r.getLabel(),o=i.getLabel();r.isPointwiseEqual(i)||(o=new Wi(i.getLabel()),o.flip());var s=r.getDepth();s.isNull()&&s.add(a),s.add(o),a.merge(o)}else this._edgeList.add(i)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var i=this._graph.getEdgeEnds().iterator();i.hasNext();){var r=i.next(),a=r.getSym();r.isInResult()&&a.isInResult()&&(r.setInResult(!1),a.setInResult(!1))}},e.prototype.isCoveredByLA=function(i){return!!(this.isCovered(i,this._resultLineList)||this.isCovered(i,this._resultPolyList))},e.prototype.computeGeometry=function(i,r,a,o){var s=new en;return s.addAll(i),s.addAll(r),s.addAll(a),s.isEmpty()?e.createEmptyResult(o,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(s)},e.prototype.mergeSymLabels=function(){for(var i=this._graph.getNodes().iterator();i.hasNext();){var r=i.next();r.getEdges().mergeSymLabels()}},e.prototype.isCovered=function(i,r){for(var a=this,o=r.iterator();o.hasNext();){var s=o.next(),d=a._ptLocator.locate(i,s);if(d!==kt.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var i=new en,r=this._edgeList.iterator();r.hasNext();){var a=r.next();a.isCollapsed()&&(r.remove(),i.add(a.getCollapsedEdge()))}this._edgeList.addAll(i)},e.prototype.updateNodeLabelling=function(){for(var i=this._graph.getNodes().iterator();i.hasNext();){var r=i.next(),a=r.getEdges().getLabel();r.getLabel().merge(a)}},e.prototype.getResultGeometry=function(i){return this.computeOverlay(i),this._resultGeom},e.prototype.insertUniqueEdges=function(i){for(var r=this,a=i.iterator();a.hasNext();){var o=a.next();r.insertUniqueEdge(o)}},e.prototype.computeOverlay=function(i){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var r=new en;this._arg[0].computeSplitEdges(r),this._arg[1].computeSplitEdges(r),this.insertUniqueEdges(r),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),ah.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(i),this.cancelDuplicateResultEdges();var a=new oo(this._geomFact);a.add(this._graph),this._resultPolyList=a.getPolygons();var o=new ic(this,this._geomFact,this._ptLocator);this._resultLineList=o.build(i);var s=new Np(this,this._geomFact,this._ptLocator);this._resultPointList=s.build(i),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,i)},e.prototype.labelIncompleteNode=function(i,r){var a=this._ptLocator.locate(i.getCoordinate(),this._arg[r].getGeometry());i.getLabel().setLocation(r,a)},e.prototype.copyPoints=function(i){for(var r=this,a=this._arg[i].getNodeIterator();a.hasNext();){var o=a.next(),s=r._graph.addNode(o.getCoordinate());s.setLabel(i,o.getLabel().getLocation(i))}},e.prototype.findResultAreaEdges=function(i){for(var r=this._graph.getEdgeEnds().iterator();r.hasNext();){var a=r.next(),o=a.getLabel();o.isArea()&&!a.isInteriorAreaEdge()&&e.isResultOfOp(o.getLocation(0,Xt.RIGHT),o.getLocation(1,Xt.RIGHT),i)&&a.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var i=this._edgeList.iterator();i.hasNext();){var r=i.next(),a=r.getLabel(),o=r.getDepth();if(!o.isNull()){o.normalize();for(var s=0;s<2;s++)!a.isNull(s)&&a.isArea()&&!o.isNull(s)&&(o.getDelta(s)===0?a.toLine(s):(oi.isTrue(!o.isNull(s,Xt.LEFT),"depth of LEFT side has not been initialized"),a.setLocation(s,Xt.LEFT,o.getLocation(s,Xt.LEFT)),oi.isTrue(!o.isNull(s,Xt.RIGHT),"depth of RIGHT side has not been initialized"),a.setLocation(s,Xt.RIGHT,o.getLocation(s,Xt.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var i=this,r=this._graph.getNodes().iterator();r.hasNext();){var a=r.next();a.getEdges().computeLabelling(i._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var i=this,r=this._graph.getNodes().iterator();r.hasNext();){var a=r.next(),o=a.getLabel();a.isIsolated()&&(o.isNull(0)?i.labelIncompleteNode(a,0):i.labelIncompleteNode(a,1)),a.getEdges().updateLabelling(o)}},e.prototype.isCoveredByA=function(i){return!!this.isCovered(i,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ef);ni.overlayOp=function(n,e,t){var i=new ni(n,e),r=i.getResultGeometry(t);return r};ni.intersection=function(n,e){if(n.isEmpty()||e.isEmpty())return ni.createEmptyResult(ni.INTERSECTION,n,e,n.getFactory());if(n.isGeometryCollection()){var t=e;return kp.map(n,{interfaces_:function(){return[Yd.MapOp]},map:function(i){return i.intersection(t)}})}return n.checkNotGeometryCollection(n),n.checkNotGeometryCollection(e),Ss.overlayOp(n,e,ni.INTERSECTION)};ni.symDifference=function(n,e){if(n.isEmpty()||e.isEmpty()){if(n.isEmpty()&&e.isEmpty())return ni.createEmptyResult(ni.SYMDIFFERENCE,n,e,n.getFactory());if(n.isEmpty())return e.copy();if(e.isEmpty())return n.copy()}return n.checkNotGeometryCollection(n),n.checkNotGeometryCollection(e),Ss.overlayOp(n,e,ni.SYMDIFFERENCE)};ni.resultDimension=function(n,e,t){var i=e.getDimension(),r=t.getDimension(),a=-1;switch(n){case ni.INTERSECTION:a=Math.min(i,r);break;case ni.UNION:a=Math.max(i,r);break;case ni.DIFFERENCE:a=i;break;case ni.SYMDIFFERENCE:a=Math.max(i,r);break}return a};ni.createEmptyResult=function(n,e,t,i){var r=null;switch(ni.resultDimension(n,e,t)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon();break}return r};ni.difference=function(n,e){return n.isEmpty()?ni.createEmptyResult(ni.DIFFERENCE,n,e,n.getFactory()):e.isEmpty()?n.copy():(n.checkNotGeometryCollection(n),n.checkNotGeometryCollection(e),Ss.overlayOp(n,e,ni.DIFFERENCE))};ni.isResultOfOp=function(){if(arguments.length===2){var n=arguments[0],e=arguments[1],t=n.getLocation(0),i=n.getLocation(1);return ni.isResultOfOp(t,i,e)}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2];switch(r===kt.BOUNDARY&&(r=kt.INTERIOR),a===kt.BOUNDARY&&(a=kt.INTERIOR),o){case ni.INTERSECTION:return r===kt.INTERIOR&&a===kt.INTERIOR;case ni.UNION:return r===kt.INTERIOR||a===kt.INTERIOR;case ni.DIFFERENCE:return r===kt.INTERIOR&&a!==kt.INTERIOR;case ni.SYMDIFFERENCE:return r===kt.INTERIOR&&a!==kt.INTERIOR||r!==kt.INTERIOR&&a===kt.INTERIOR}return!1}};ni.INTERSECTION=1;ni.UNION=2;ni.DIFFERENCE=3;ni.SYMDIFFERENCE=4;var Zu=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Cl,this._seg=new Pn;var e=arguments[0],t=arguments[1];this._g=e,this._boundaryDistanceTolerance=t,this._linework=this.extractLinework(e)};Zu.prototype.isWithinToleranceOfBoundary=function(e){for(var t=this,i=0;i<this._linework.getNumGeometries();i++)for(var r=t._linework.getGeometryN(i),a=r.getCoordinateSequence(),o=0;o<a.size()-1;o++){a.getCoordinate(o,t._seg.p0),a.getCoordinate(o+1,t._seg.p1);var s=t._seg.distance(e);if(s<=t._boundaryDistanceTolerance)return!0}return!1};Zu.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?kt.BOUNDARY:this._ptLocator.locate(e,this._g)};Zu.prototype.extractLinework=function(e){var t=new kf;e.apply(t);var i=t.getLinework(),r=yi.toLineStringArray(i);return e.getFactory().createMultiLineString(r)};Zu.prototype.interfaces_=function(){return[]};Zu.prototype.getClass=function(){return Zu};var kf=function(){this._linework=null,this._linework=new en};kf.prototype.getLinework=function(){return this._linework};kf.prototype.filter=function(e){var t=this;if(e instanceof da){var i=e;this._linework.add(i.getExteriorRing());for(var r=0;r<i.getNumInteriorRing();r++)t._linework.add(i.getInteriorRingN(r))}};kf.prototype.interfaces_=function(){return[Zl]};kf.prototype.getClass=function(){return kf};var oh=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};oh.prototype.extractPoints=function(e,t,i){for(var r=this,a=e.getCoordinates(),o=0;o<a.length-1;o++)r.computeOffsetPoints(a[o],a[o+1],t,i)};oh.prototype.setSidesToGenerate=function(e,t){this._doLeft=e,this._doRight=t};oh.prototype.getPoints=function(e){for(var t=this,i=new en,r=$a.getLines(this._g),a=r.iterator();a.hasNext();){var o=a.next();t.extractPoints(o,e,i)}return i};oh.prototype.computeOffsetPoints=function(e,t,i,r){var a=t.x-e.x,o=t.y-e.y,s=Math.sqrt(a*a+o*o),d=i*a/s,p=i*o/s,m=(t.x+e.x)/2,y=(t.y+e.y)/2;if(this._doLeft){var g=new bt(m-p,y+d);r.add(g)}if(this._doRight){var _=new bt(m+p,y-d);r.add(_)}};oh.prototype.interfaces_=function(){return[]};oh.prototype.getClass=function(){return oh};var Ro=function n(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=n.TOLERANCE,this._testCoords=new en;var e=arguments[0],t=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=n.computeBoundaryDistanceTolerance(e,t),this._geom=[e,t,i],this._locFinder=[new Zu(this._geom[0],this._boundaryDistanceTolerance),new Zu(this._geom[1],this._boundaryDistanceTolerance),new Zu(this._geom[2],this._boundaryDistanceTolerance)]},mD={TOLERANCE:{configurable:!0}};Ro.prototype.reportResult=function(e,t,i){Ua.out.println("Overlay result invalid - A:"+kt.toLocationSymbol(t[0])+" B:"+kt.toLocationSymbol(t[1])+" expected:"+(i?"i":"e")+" actual:"+kt.toLocationSymbol(t[2]))};Ro.prototype.isValid=function(e){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var t=this.checkValid(e);return t};Ro.prototype.checkValid=function(){var e=this;if(arguments.length===1){for(var t=arguments[0],i=0;i<this._testCoords.size();i++){var r=e._testCoords.get(i);if(!e.checkValid(t,r))return e._invalidLocation=r,!1}return!0}else if(arguments.length===2){var a=arguments[0],o=arguments[1];return this._location[0]=this._locFinder[0].getLocation(o),this._location[1]=this._locFinder[1].getLocation(o),this._location[2]=this._locFinder[2].getLocation(o),Ro.hasLocation(this._location,kt.BOUNDARY)?!0:this.isValidResult(a,this._location)}};Ro.prototype.addTestPts=function(e){var t=new oh(e);this._testCoords.addAll(t.getPoints(5*this._boundaryDistanceTolerance))};Ro.prototype.isValidResult=function(e,t){var i=ni.isResultOfOp(t[0],t[1],e),r=t[2]===kt.INTERIOR,a=!(i^r);return a||this.reportResult(e,t,i),a};Ro.prototype.getInvalidLocation=function(){return this._invalidLocation};Ro.prototype.interfaces_=function(){return[]};Ro.prototype.getClass=function(){return Ro};Ro.hasLocation=function(e,t){for(var i=0;i<3;i++)if(e[i]===t)return!0;return!1};Ro.computeBoundaryDistanceTolerance=function(e,t){return Math.min(Br.computeSizeBasedSnapTolerance(e),Br.computeSizeBasedSnapTolerance(t))};Ro.isValid=function(e,t,i,r){var a=new Ro(e,t,r);return a.isValid(i)};mD.TOLERANCE.get=function(){return 1e-6};Object.defineProperties(Ro,mD);var Co=function n(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=n.extractFactory(e),this._inputGeoms=e};Co.prototype.extractElements=function(e,t){var i=this;if(e===null)return null;for(var r=0;r<e.getNumGeometries();r++){var a=e.getGeometryN(r);i._skipEmpty&&a.isEmpty()||t.add(a)}};Co.prototype.combine=function(){for(var e=this,t=new en,i=this._inputGeoms.iterator();i.hasNext();){var r=i.next();e.extractElements(r,t)}return t.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)};Co.prototype.interfaces_=function(){return[]};Co.prototype.getClass=function(){return Co};Co.combine=function(){if(arguments.length===1){var e=arguments[0],t=new Co(e);return t.combine()}else if(arguments.length===2){var i=arguments[0],r=arguments[1],a=new Co(Co.createList(i,r));return a.combine()}else if(arguments.length===3){var o=arguments[0],s=arguments[1],d=arguments[2],p=new Co(Co.createList(o,s,d));return p.combine()}};Co.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()};Co.createList=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],i=new en;return i.add(e),i.add(t),i}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2],s=new en;return s.add(r),s.add(a),s.add(o),s}};var Qr=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,this._inputPolys===null&&(this._inputPolys=new en)},fD={STRTREE_NODE_CAPACITY:{configurable:!0}};Qr.prototype.reduceToGeometries=function(e){for(var t=this,i=new en,r=e.iterator();r.hasNext();){var a=r.next(),o=null;Bn(a,xl)?o=t.unionTree(a):a instanceof jn&&(o=a),i.add(o)}return i};Qr.prototype.extractByEnvelope=function(e,t,i){for(var r=new en,a=0;a<t.getNumGeometries();a++){var o=t.getGeometryN(a);o.getEnvelopeInternal().intersects(e)?r.add(o):i.add(o)}return this._geomFactory.buildGeometry(r)};Qr.prototype.unionOptimized=function(e,t){var i=e.getEnvelopeInternal(),r=t.getEnvelopeInternal();if(!i.intersects(r)){var a=Co.combine(e,t);return a}if(e.getNumGeometries()<=1&&t.getNumGeometries()<=1)return this.unionActual(e,t);var o=i.intersection(r);return this.unionUsingEnvelopeIntersection(e,t,o)};Qr.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new eD(Qr.STRTREE_NODE_CAPACITY),t=this._inputPolys.iterator();t.hasNext();){var i=t.next();e.insert(i.getEnvelopeInternal(),i)}this._inputPolys=null;var r=e.itemsTree(),a=this.unionTree(r);return a};Qr.prototype.binaryUnion=function(){if(arguments.length===1){var e=arguments[0];return this.binaryUnion(e,0,e.size())}else if(arguments.length===3){var t=arguments[0],i=arguments[1],r=arguments[2];if(r-i<=1){var a=Qr.getGeometry(t,i);return this.unionSafe(a,null)}else{if(r-i===2)return this.unionSafe(Qr.getGeometry(t,i),Qr.getGeometry(t,i+1));var o=Math.trunc((r+i)/2),s=this.binaryUnion(t,i,o),d=this.binaryUnion(t,o,r);return this.unionSafe(s,d)}}};Qr.prototype.repeatedUnion=function(e){for(var t=null,i=e.iterator();i.hasNext();){var r=i.next();t===null?t=r.copy():t=t.union(r)}return t};Qr.prototype.unionSafe=function(e,t){return e===null&&t===null?null:e===null?t.copy():t===null?e.copy():this.unionOptimized(e,t)};Qr.prototype.unionActual=function(e,t){return Qr.restrictToPolygons(e.union(t))};Qr.prototype.unionTree=function(e){var t=this.reduceToGeometries(e),i=this.binaryUnion(t);return i};Qr.prototype.unionUsingEnvelopeIntersection=function(e,t,i){var r=new en,a=this.extractByEnvelope(i,e,r),o=this.extractByEnvelope(i,t,r),s=this.unionActual(a,o);r.add(s);var d=Co.combine(r);return d};Qr.prototype.bufferUnion=function(){if(arguments.length===1){var e=arguments[0],t=e.get(0).getFactory(),i=t.buildGeometry(e),r=i.buffer(0);return r}else if(arguments.length===2){var a=arguments[0],o=arguments[1],s=a.getFactory(),d=s.createGeometryCollection([a,o]),p=d.buffer(0);return p}};Qr.prototype.interfaces_=function(){return[]};Qr.prototype.getClass=function(){return Qr};Qr.restrictToPolygons=function(e){if(Bn(e,Qu))return e;var t=Jc.getPolygons(e);return t.size()===1?t.get(0):e.getFactory().createMultiPolygon(yi.toPolygonArray(t))};Qr.getGeometry=function(e,t){return t>=e.size()?null:e.get(t)};Qr.union=function(e){var t=new Qr(e);return t.union()};fD.STRTREE_NODE_CAPACITY.get=function(){return 4};Object.defineProperties(Qr,fD);var Gb=function(){};Gb.prototype.interfaces_=function(){return[]};Gb.prototype.getClass=function(){return Gb};Gb.union=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return ni.createEmptyResult(ni.UNION,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),Ss.overlayOp(e,t,ni.UNION)};function ph(){return new Yb}function Yb(){this.reset()}Yb.prototype={constructor:Yb,reset:function(){this.s=this.t=0},add:function(n){uN(Fx,n,this.t),uN(this,Fx.s,this.s),this.s?this.t+=Fx.t:this.s=Fx.t},valueOf:function(){return this.s}};var Fx=new Yb;function uN(n,e,t){var i=n.s=e+t,r=i-e,a=i-r;n.t=e-a+(t-r)}var Xr=1e-6,tr=Math.PI,Zc=tr/2,dN=tr/4,lu=tr*2,Nd=180/tr,$l=tr/180,vs=Math.abs,ZU=Math.atan,Nf=Math.atan2,oa=Math.cos,la=Math.sin,qf=Math.sqrt;function gD(n){return n>1?0:n<-1?tr:Math.acos(n)}function Ip(n){return n>1?Zc:n<-1?-Zc:Math.asin(n)}function hy(){}function Vb(n,e){n&&pN.hasOwnProperty(n.type)&&pN[n.type](n,e)}var hN={Feature:function(n,e){Vb(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,i=-1,r=t.length;++i<r;)Vb(t[i].geometry,e)}},pN={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)n=t[i],e.point(n[0],n[1],n[2])},LineString:function(n,e){$1(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)$1(t[i],e,0)},Polygon:function(n,e){mN(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)mN(t[i],e)},GeometryCollection:function(n,e){for(var t=n.geometries,i=-1,r=t.length;++i<r;)Vb(t[i],e)}};function $1(n,e,t){var i=-1,r=n.length-t,a;for(e.lineStart();++i<r;)a=n[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function mN(n,e){var t=-1,i=n.length;for(e.polygonStart();++t<i;)$1(n[t],e,1);e.polygonEnd()}function KU(n,e){n&&hN.hasOwnProperty(n.type)?hN[n.type](n,e):Vb(n,e)}ph();ph();function z1(n){return[Nf(n[1],n[0]),Ip(n[2])]}function Lf(n){var e=n[0],t=n[1],i=oa(t);return[i*oa(e),i*la(e),la(t)]}function jx(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Wb(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function Tw(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function Bx(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function F1(n){var e=qf(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}ph();function yD(n,e){function t(i,r){return i=n(i,r),e(i[0],i[1])}return n.invert&&e.invert&&(t.invert=function(i,r){return i=e.invert(i,r),i&&n.invert(i[0],i[1])}),t}function j1(n,e){return[n>tr?n-lu:n<-tr?n+lu:n,e]}j1.invert=j1;function QU(n,e,t){return(n%=lu)?e||t?yD(gN(n),yN(e,t)):gN(n):e||t?yN(e,t):j1}function fN(n){return function(e,t){return e+=n,[e>tr?e-lu:e<-tr?e+lu:e,t]}}function gN(n){var e=fN(n);return e.invert=fN(-n),e}function yN(n,e){var t=oa(n),i=la(n),r=oa(e),a=la(e);function o(s,d){var p=oa(d),m=oa(s)*p,y=la(s)*p,g=la(d),_=g*t+m*i;return[Nf(y*r-_*a,m*t-g*i),Ip(_*r+y*a)]}return o.invert=function(s,d){var p=oa(d),m=oa(s)*p,y=la(s)*p,g=la(d),_=g*r-y*a;return[Nf(y*r+g*a,m*t+_*i),Ip(_*t-m*i)]},o}function JU(n,e,t,i,r,a){if(t){var o=oa(e),s=la(e),d=i*t;r==null?(r=e+i*lu,a=e-d/2):(r=vN(o,r),a=vN(o,a),(i>0?r<a:r>a)&&(r+=i*lu));for(var p,m=r;i>0?m>a:m<a;m-=d)p=z1([o,-s*oa(m),-s*la(m)]),n.point(p[0],p[1])}}function vN(n,e){e=Lf(e),e[0]-=n,F1(e);var t=gD(-e[1]);return((-e[2]<0?-t:t)+lu-Xr)%lu}function vD(){var n=[],e;return{point:function(t,i){e.push([t,i])},lineStart:function(){n.push(e=[])},lineEnd:hy,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function e9(n,e,t,i,r,a){var o=n[0],s=n[1],d=e[0],p=e[1],m=0,y=1,g=d-o,_=p-s,x;if(x=t-o,!(!g&&x>0)){if(x/=g,g<0){if(x<m)return;x<y&&(y=x)}else if(g>0){if(x>y)return;x>m&&(m=x)}if(x=r-o,!(!g&&x<0)){if(x/=g,g<0){if(x>y)return;x>m&&(m=x)}else if(g>0){if(x<m)return;x<y&&(y=x)}if(x=i-s,!(!_&&x>0)){if(x/=_,_<0){if(x<m)return;x<y&&(y=x)}else if(_>0){if(x>y)return;x>m&&(m=x)}if(x=a-s,!(!_&&x<0)){if(x/=_,_<0){if(x>y)return;x>m&&(m=x)}else if(_>0){if(x<m)return;x<y&&(y=x)}return m>0&&(n[0]=o+m*g,n[1]=s+m*_),y<1&&(e[0]=o+y*g,e[1]=s+y*_),!0}}}}}function hb(n,e){return vs(n[0]-e[0])<Xr&&vs(n[1]-e[1])<Xr}function Ux(n,e,t,i){this.x=n,this.z=e,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function xD(n,e,t,i,r){var a=[],o=[],s,d;if(n.forEach(function(x){if(!((T=x.length-1)<=0)){var T,E=x[0],k=x[T],v;if(hb(E,k)){for(r.lineStart(),s=0;s<T;++s)r.point((E=x[s])[0],E[1]);r.lineEnd();return}a.push(v=new Ux(E,x,null,!0)),o.push(v.o=new Ux(E,null,v,!1)),a.push(v=new Ux(k,x,null,!1)),o.push(v.o=new Ux(k,null,v,!0))}}),!!a.length){for(o.sort(e),xN(a),xN(o),s=0,d=o.length;s<d;++s)o[s].e=t=!t;for(var p=a[0],m,y;;){for(var g=p,_=!0;g.v;)if((g=g.n)===p)return;m=g.z,r.lineStart();do{if(g.v=g.o.v=!0,g.e){if(_)for(s=0,d=m.length;s<d;++s)r.point((y=m[s])[0],y[1]);else i(g.x,g.n.x,1,r);g=g.n}else{if(_)for(m=g.p.z,s=m.length-1;s>=0;--s)r.point((y=m[s])[0],y[1]);else i(g.x,g.p.x,-1,r);g=g.p}g=g.o,m=g.z,_=!_}while(!g.v);r.lineEnd()}}}function xN(n){if(e=n.length){for(var e,t=0,i=n[0],r;++t<e;)i.n=r=n[t],r.p=i,i=r;i.n=r=n[0],r.p=i}}function bD(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function t9(n){return n.length===1&&(n=n9(n)),{left:function(e,t,i,r){for(i==null&&(i=0),r==null&&(r=e.length);i<r;){var a=i+r>>>1;n(e[a],t)<0?i=a+1:r=a}return i},right:function(e,t,i,r){for(i==null&&(i=0),r==null&&(r=e.length);i<r;){var a=i+r>>>1;n(e[a],t)>0?r=a:i=a+1}return i}}}function n9(n){return function(e,t){return bD(n(e),t)}}t9(bD);function _D(n){for(var e=n.length,t,i=-1,r=0,a,o;++i<e;)r+=n[i].length;for(a=new Array(r);--e>=0;)for(o=n[e],t=o.length;--t>=0;)a[--r]=o[t];return a}var Gx=1e9,Yx=-1e9;function i9(n,e,t,i){function r(p,m){return n<=p&&p<=t&&e<=m&&m<=i}function a(p,m,y,g){var _=0,x=0;if(p==null||(_=o(p,y))!==(x=o(m,y))||d(p,m)<0^y>0)do g.point(_===0||_===3?n:t,_>1?i:e);while((_=(_+y+4)%4)!==x);else g.point(m[0],m[1])}function o(p,m){return vs(p[0]-n)<Xr?m>0?0:3:vs(p[0]-t)<Xr?m>0?2:1:vs(p[1]-e)<Xr?m>0?1:0:m>0?3:2}function s(p,m){return d(p.x,m.x)}function d(p,m){var y=o(p,1),g=o(m,1);return y!==g?y-g:y===0?m[1]-p[1]:y===1?p[0]-m[0]:y===2?p[1]-m[1]:m[0]-p[0]}return function(p){var m=p,y=vD(),g,_,x,T,E,k,v,w,N,S,L,O={point:Y,lineStart:G,lineEnd:B,polygonStart:H,polygonEnd:$};function Y(D,V){r(D,V)&&m.point(D,V)}function X(){for(var D=0,V=0,F=_.length;V<F;++V)for(var z=_[V],W=1,q=z.length,ee=z[0],ue,ie,oe=ee[0],Ee=ee[1];W<q;++W)ue=oe,ie=Ee,ee=z[W],oe=ee[0],Ee=ee[1],ie<=i?Ee>i&&(oe-ue)*(i-ie)>(Ee-ie)*(n-ue)&&++D:Ee<=i&&(oe-ue)*(i-ie)<(Ee-ie)*(n-ue)&&--D;return D}function H(){m=y,g=[],_=[],L=!0}function $(){var D=X(),V=L&&D,F=(g=_D(g)).length;(V||F)&&(p.polygonStart(),V&&(p.lineStart(),a(null,null,1,p),p.lineEnd()),F&&xD(g,s,D,a,p),p.polygonEnd()),m=p,g=_=x=null}function G(){O.point=M,_&&_.push(x=[]),S=!0,N=!1,v=w=NaN}function B(){g&&(M(T,E),k&&N&&y.rejoin(),g.push(y.result())),O.point=Y,N&&m.lineEnd()}function M(D,V){var F=r(D,V);if(_&&x.push([D,V]),S)T=D,E=V,k=F,S=!1,F&&(m.lineStart(),m.point(D,V));else if(F&&N)m.point(D,V);else{var z=[v=Math.max(Yx,Math.min(Gx,v)),w=Math.max(Yx,Math.min(Gx,w))],W=[D=Math.max(Yx,Math.min(Gx,D)),V=Math.max(Yx,Math.min(Gx,V))];e9(z,W,n,e,t,i)?(N||(m.lineStart(),m.point(z[0],z[1])),m.point(W[0],W[1]),F||m.lineEnd(),L=!1):F&&(m.lineStart(),m.point(D,V),L=!1)}v=D,w=V,N=F}return O}}var Sw=ph();function r9(n,e){var t=e[0],i=e[1],r=[la(t),-oa(t),0],a=0,o=0;Sw.reset();for(var s=0,d=n.length;s<d;++s)if(m=(p=n[s]).length)for(var p,m,y=p[m-1],g=y[0],_=y[1]/2+dN,x=la(_),T=oa(_),E=0;E<m;++E,g=v,x=N,T=S,y=k){var k=p[E],v=k[0],w=k[1]/2+dN,N=la(w),S=oa(w),L=v-g,O=L>=0?1:-1,Y=O*L,X=Y>tr,H=x*N;if(Sw.add(Nf(H*O*la(Y),T*S+H*oa(Y))),a+=X?L+O*lu:L,X^g>=t^v>=t){var $=Wb(Lf(y),Lf(k));F1($);var G=Wb(r,$);F1(G);var B=(X^L>=0?-1:1)*Ip(G[2]);(i>B||i===B&&($[0]||$[1]))&&(o+=X^L>=0?1:-1)}}return(a<-1e-6||a<Xr&&Sw<-1e-6)^o&1}ph();function bN(n){return n}ph();ph();var If=1/0,qb=If,Ky=-If,Hb=Ky,_N={point:a9,lineStart:hy,lineEnd:hy,polygonStart:hy,polygonEnd:hy,result:function(){var n=[[If,qb],[Ky,Hb]];return Ky=Hb=-(qb=If=1/0),n}};function a9(n,e){n<If&&(If=n),n>Ky&&(Ky=n),e<qb&&(qb=e),e>Hb&&(Hb=e)}ph();function wD(n,e,t,i){return function(r,a){var o=e(a),s=r.invert(i[0],i[1]),d=vD(),p=e(d),m=!1,y,g,_,x={point:T,lineStart:k,lineEnd:v,polygonStart:function(){x.point=w,x.lineStart=N,x.lineEnd=S,g=[],y=[]},polygonEnd:function(){x.point=T,x.lineStart=k,x.lineEnd=v,g=_D(g);var L=r9(y,s);g.length?(m||(a.polygonStart(),m=!0),xD(g,o9,L,t,a)):L&&(m||(a.polygonStart(),m=!0),a.lineStart(),t(null,null,1,a),a.lineEnd()),m&&(a.polygonEnd(),m=!1),g=y=null},sphere:function(){a.polygonStart(),a.lineStart(),t(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function T(L,O){var Y=r(L,O);n(L=Y[0],O=Y[1])&&a.point(L,O)}function E(L,O){var Y=r(L,O);o.point(Y[0],Y[1])}function k(){x.point=E,o.lineStart()}function v(){x.point=T,o.lineEnd()}function w(L,O){_.push([L,O]);var Y=r(L,O);p.point(Y[0],Y[1])}function N(){p.lineStart(),_=[]}function S(){w(_[0][0],_[0][1]),p.lineEnd();var L=p.clean(),O=d.result(),Y,X=O.length,H,$,G;if(_.pop(),y.push(_),_=null,!!X){if(L&1){if($=O[0],(H=$.length-1)>0){for(m||(a.polygonStart(),m=!0),a.lineStart(),Y=0;Y<H;++Y)a.point((G=$[Y])[0],G[1]);a.lineEnd()}return}X>1&&L&2&&O.push(O.pop().concat(O.shift())),g.push(O.filter(s9))}}return x}}function s9(n){return n.length>1}function o9(n,e){return((n=n.x)[0]<0?n[1]-Zc-Xr:Zc-n[1])-((e=e.x)[0]<0?e[1]-Zc-Xr:Zc-e[1])}const wN=wD(function(){return!0},l9,u9,[-tr,-Zc]);function l9(n){var e=NaN,t=NaN,i=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(a,o){var s=a>0?tr:-tr,d=vs(a-e);vs(d-tr)<Xr?(n.point(e,t=(t+o)/2>0?Zc:-Zc),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(s,t),n.point(a,t),r=0):i!==s&&d>=tr&&(vs(e-i)<Xr&&(e-=i*Xr),vs(a-s)<Xr&&(a-=s*Xr),t=c9(e,t,a,o),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(s,t),r=0),n.point(e=a,t=o),i=s},lineEnd:function(){n.lineEnd(),e=t=NaN},clean:function(){return 2-r}}}function c9(n,e,t,i){var r,a,o=la(n-t);return vs(o)>Xr?ZU((la(e)*(a=oa(i))*la(t)-la(i)*(r=oa(e))*la(n))/(r*a*o)):(e+i)/2}function u9(n,e,t,i){var r;if(n==null)r=t*Zc,i.point(-tr,r),i.point(0,r),i.point(tr,r),i.point(tr,0),i.point(tr,-r),i.point(0,-r),i.point(-tr,-r),i.point(-tr,0),i.point(-tr,r);else if(vs(n[0]-e[0])>Xr){var a=n[0]<e[0]?tr:-tr;r=t*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}function d9(n,e){var t=oa(n),i=t>0,r=vs(t)>Xr;function a(m,y,g,_){JU(_,n,e,g,m,y)}function o(m,y){return oa(m)*oa(y)>t}function s(m){var y,g,_,x,T;return{lineStart:function(){x=_=!1,T=1},point:function(E,k){var v=[E,k],w,N=o(E,k),S=i?N?0:p(E,k):N?p(E+(E<0?tr:-tr),k):0;if(!y&&(x=_=N)&&m.lineStart(),N!==_&&(w=d(y,v),(!w||hb(y,w)||hb(v,w))&&(v[0]+=Xr,v[1]+=Xr,N=o(v[0],v[1]))),N!==_)T=0,N?(m.lineStart(),w=d(v,y),m.point(w[0],w[1])):(w=d(y,v),m.point(w[0],w[1]),m.lineEnd()),y=w;else if(r&&y&&i^N){var L;!(S&g)&&(L=d(v,y,!0))&&(T=0,i?(m.lineStart(),m.point(L[0][0],L[0][1]),m.point(L[1][0],L[1][1]),m.lineEnd()):(m.point(L[1][0],L[1][1]),m.lineEnd(),m.lineStart(),m.point(L[0][0],L[0][1])))}N&&(!y||!hb(y,v))&&m.point(v[0],v[1]),y=v,_=N,g=S},lineEnd:function(){_&&m.lineEnd(),y=null},clean:function(){return T|(x&&_)<<1}}}function d(m,y,g){var _=Lf(m),x=Lf(y),T=[1,0,0],E=Wb(_,x),k=jx(E,E),v=E[0],w=k-v*v;if(!w)return!g&&m;var N=t*k/w,S=-t*v/w,L=Wb(T,E),O=Bx(T,N),Y=Bx(E,S);Tw(O,Y);var X=L,H=jx(O,X),$=jx(X,X),G=H*H-$*(jx(O,O)-1);if(!(G<0)){var B=qf(G),M=Bx(X,(-H-B)/$);if(Tw(M,O),M=z1(M),!g)return M;var D=m[0],V=y[0],F=m[1],z=y[1],W;V<D&&(W=D,D=V,V=W);var q=V-D,ee=vs(q-tr)<Xr,ue=ee||q<Xr;if(!ee&&z<F&&(W=F,F=z,z=W),ue?ee?F+z>0^M[1]<(vs(M[0]-D)<Xr?F:z):F<=M[1]&&M[1]<=z:q>tr^(D<=M[0]&&M[0]<=V)){var ie=Bx(X,(-H+B)/$);return Tw(ie,O),[M,z1(ie)]}}}function p(m,y){var g=i?n:tr-n,_=0;return m<-g?_|=1:m>g&&(_|=2),y<-g?_|=4:y>g&&(_|=8),_}return wD(o,s,a,i?[0,-n]:[-tr,n-tr])}function TD(n){return function(e){var t=new B1;for(var i in n)t[i]=n[i];return t.stream=e,t}}function B1(){}B1.prototype={constructor:B1,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function SD(n,e,t){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],a=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),a!=null&&n.clipExtent(null),KU(t,n.stream(_N));var o=_N.result(),s=Math.min(i/(o[1][0]-o[0][0]),r/(o[1][1]-o[0][1])),d=+e[0][0]+(i-s*(o[1][0]+o[0][0]))/2,p=+e[0][1]+(r-s*(o[1][1]+o[0][1]))/2;return a!=null&&n.clipExtent(a),n.scale(s*150).translate([d,p])}function h9(n,e,t){return SD(n,[[0,0],e],t)}var TN=16,p9=oa(30*$l);function SN(n,e){return+e?f9(n,e):m9(n)}function m9(n){return TD({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}function f9(n,e){function t(i,r,a,o,s,d,p,m,y,g,_,x,T,E){var k=p-i,v=m-r,w=k*k+v*v;if(w>4*e&&T--){var N=o+g,S=s+_,L=d+x,O=qf(N*N+S*S+L*L),Y=Ip(L/=O),X=vs(vs(L)-1)<Xr||vs(a-y)<Xr?(a+y)/2:Nf(S,N),H=n(X,Y),$=H[0],G=H[1],B=$-i,M=G-r,D=v*B-k*M;(D*D/w>e||vs((k*B+v*M)/w-.5)>.3||o*g+s*_+d*x<p9)&&(t(i,r,a,o,s,d,$,G,X,N/=O,S/=O,L,T,E),E.point($,G),t($,G,X,N,S,L,p,m,y,g,_,x,T,E))}}return function(i){var r,a,o,s,d,p,m,y,g,_,x,T,E={point:k,lineStart:v,lineEnd:N,polygonStart:function(){i.polygonStart(),E.lineStart=S},polygonEnd:function(){i.polygonEnd(),E.lineStart=v}};function k(Y,X){Y=n(Y,X),i.point(Y[0],Y[1])}function v(){y=NaN,E.point=w,i.lineStart()}function w(Y,X){var H=Lf([Y,X]),$=n(Y,X);t(y,g,m,_,x,T,y=$[0],g=$[1],m=Y,_=H[0],x=H[1],T=H[2],TN,i),i.point(y,g)}function N(){E.point=k,i.lineEnd()}function S(){v(),E.point=L,E.lineEnd=O}function L(Y,X){w(r=Y,X),a=y,o=g,s=_,d=x,p=T,E.point=w}function O(){t(y,g,m,_,x,T,a,o,r,s,d,p,TN,i),E.lineEnd=N,N()}return E}}var g9=TD({point:function(n,e){this.stream.point(n*$l,e*$l)}});function y9(n){return v9(function(){return n})()}function v9(n){var e,t=150,i=480,r=250,a,o,s=0,d=0,p=0,m=0,y=0,g,_,x=null,T=wN,E=null,k,v,w,N=bN,S=.5,L=SN($,S),O,Y;function X(M){return M=_(M[0]*$l,M[1]*$l),[M[0]*t+a,o-M[1]*t]}function H(M){return M=_.invert((M[0]-a)/t,(o-M[1])/t),M&&[M[0]*Nd,M[1]*Nd]}function $(M,D){return M=e(M,D),[M[0]*t+a,o-M[1]*t]}X.stream=function(M){return O&&Y===M?O:O=g9(T(g,L(N(Y=M))))},X.clipAngle=function(M){return arguments.length?(T=+M?d9(x=M*$l,6*$l):(x=null,wN),B()):x*Nd},X.clipExtent=function(M){return arguments.length?(N=M==null?(E=k=v=w=null,bN):i9(E=+M[0][0],k=+M[0][1],v=+M[1][0],w=+M[1][1]),B()):E==null?null:[[E,k],[v,w]]},X.scale=function(M){return arguments.length?(t=+M,G()):t},X.translate=function(M){return arguments.length?(i=+M[0],r=+M[1],G()):[i,r]},X.center=function(M){return arguments.length?(s=M[0]%360*$l,d=M[1]%360*$l,G()):[s*Nd,d*Nd]},X.rotate=function(M){return arguments.length?(p=M[0]%360*$l,m=M[1]%360*$l,y=M.length>2?M[2]%360*$l:0,G()):[p*Nd,m*Nd,y*Nd]},X.precision=function(M){return arguments.length?(L=SN($,S=M*M),B()):qf(S)},X.fitExtent=function(M,D){return SD(X,M,D)},X.fitSize=function(M,D){return h9(X,M,D)};function G(){_=yD(g=QU(p,m,y),e);var M=e(s,d);return a=i-M[0]*t,o=r+M[1]*t,B()}function B(){return O=Y=null,X}return function(){return e=n.apply(this,arguments),X.invert=e.invert&&H,G()}}function CD(n){return function(e,t){var i=oa(e),r=oa(t),a=n(i*r);return[a*r*la(e),a*la(t)]}}function ED(n){return function(e,t){var i=qf(e*e+t*t),r=n(i),a=la(r),o=oa(r);return[Nf(e*a,i*o),Ip(i&&t*a/i)]}}var x9=CD(function(n){return qf(2/(1+n))});x9.invert=ED(function(n){return 2*Ip(n/2)});var kD=CD(function(n){return(n=gD(n))&&n/la(n)});kD.invert=ED(function(n){return n});function b9(){return y9(kD).scale(79.4188).clipAngle(180-.001)}function CN(n,e){return[n,e]}CN.invert=CN;function _9(n,e,t){t=t||{};var i=t.units||"kilometers",r=t.steps||8;if(!n)throw new Error("geojson is required");if(typeof t!="object")throw new Error("options must be an object");if(typeof r!="number")throw new Error("steps must be an number");if(e===void 0)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var a=[];switch(n.type){case"GeometryCollection":return z0(n,function(o){var s=pb(o,e,i,r);s&&a.push(s)}),O1(a);case"FeatureCollection":return rN(n,function(o){var s=pb(o,e,i,r);s&&rN(s,function(d){d&&a.push(d)})}),O1(a)}return pb(n,e,i,r)}function pb(n,e,t,i){var r=n.properties||{},a=n.type==="Feature"?n.geometry:n;if(a.type==="GeometryCollection"){var o=[];return z0(n,function(T){var E=pb(T,e,t,i);E&&o.push(E)}),O1(o)}var s=w9(a),d={type:a.type,coordinates:LD(a.coordinates,s)},p=new CS,m=p.read(d),y=BP(UP(e,t),"meters"),g=Fa.bufferOp(m,y,i),_=new QP;if(g=_.write(g),!ND(g.coordinates)){var x={type:g.type,coordinates:ID(g.coordinates,s)};return cf(x,r)}}function ND(n){return Array.isArray(n[0])?ND(n[0]):isNaN(n[0])}function LD(n,e){return typeof n[0]!="object"?e(n):n.map(function(t){return LD(t,e)})}function ID(n,e){return typeof n[0]!="object"?e.invert(n):n.map(function(t){return ID(t,e)})}function w9(n){var e=PU(n).geometry.coordinates,t=[-e[0],-e[1]];return b9().rotate(t).scale(bo)}const T9=n=>n.geometry.type==="Point",AD=(n=[])=>{const e=n.reduce((t,i)=>{if(i.getBounds){const r=i.getBounds();if(r)return t.extend(r)}return t},new ao.LngLatBounds);return e.isEmpty()?null:e.toArray()},Wo=(n=[])=>({type:"FeatureCollection",features:n}),PD=["get","cluster"],S9=["get","isPolygon"],DD=["has","iconUrl"],MS=["==",["geometry-type"],"Point"],MD=["==",["geometry-type"],"Polygon"],C9=["==",["geometry-type"],"LineString"],E9=["all",MS,DD],k9=["all",MS,["==",DD,!1]],OD=["==",PD,!0],N9=["!=",PD,!0],RD=["all",MS,N9,["!=",S9,!0]],L9=["boolean",["feature-state","hover"],!1],I9=["Open Sans Bold"],A9=16,P9="#FFFFFF",D9=6,M9="#CCCCCC",O9="#333333",OS=1,$D=3,Hf="#333333",RS="#000000",R9=1,$9="https://fonts.openmaptiles.org/{fontstack}/{range}.pbf",zD=({glyphs:n=$9})=>({version:8,sources:{},layers:[],glyphs:n}),ja={textFont:I9,textSize:A9,textColor:P9,opacity:R9,radius:D9,noDataColor:M9,strokeColor:O9,strokeWidth:OS,hoverStrokeMultiplier:$D,eventStrokeColor:Hf,clusterCountColor:RS},K0=n=>["case",["has","color"],["get","color"],n],$S=(n=OS)=>["*",["case",["has","weight"],["get","weight"],n],["case",L9,$D,1]],z9=n=>["case",["has","radius"],["get","radius"],n],F9=["step",["get","point_count"],15,10,20,1e3,25,1e4,30];function EN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function kN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(t),!0).forEach(function(i){j9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function j9(n,e,t){return(e=B9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function B9(n){var e=U9(n,"string");return typeof e=="symbol"?e:e+""}function U9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const U1={color:"#95c8fb",width:1},FD=({geometry:n},e)=>(n.type==="Point"?AU(n,e):_9(n,e)).geometry,G9=(n,e)=>({type:"geojson",data:Wo(n.map(t=>kN(kN({},t),{},{geometry:FD(t,e)})))}),zS=({id:n,color:e})=>({id:`${n}-buffer`,type:"fill",source:`${n}-buffer`,paint:{"fill-color":K0(e||U1.color)}}),FS=({id:n,color:e,width:t})=>({id:`${n}-buffer-outline`,type:"line",source:`${n}-buffer`,paint:{"line-color":K0(e||U1.color),"line-width":t||U1.width}}),Y9=16,V9=16,jD="include",NN=(n,e,t)=>{n.hasImage(e)||n.addImage(e,t)},W9=n=>new Promise((e,t)=>{const i=new Image(Y9,V9);i.onload=()=>e(i),i.onerror=t,i.src=n}),q9=n=>fetch(n,{credentials:jD}).then(e=>e.text()).then(e=>`data:image/svg+xml;charset=utf-8;base64,${window.btoa(e)}`).then(W9),H9=n=>e=>new Promise(t=>{e.endsWith(".svg")?q9(e).then(i=>{NN(n,e,i),t(i)}).catch(()=>{t()}):n.loadImage(e,(i,r)=>{r&&NN(n,e,r),t(r)})}),X9=async(n,e)=>{const i=(await Promise.all(e.map(H9(n)))).indexOf(void 0);if(i!==-1)throw`Symbol not found: ${e[i]}`},Z9=(n,e)=>e==="Image"?{url:n,credentials:jD}:null;var LN=6378137;function BD(n){return bU(n,function(e,t){return e+K9(t)},0)}function K9(n){var e=0,t;switch(n.type){case"Polygon":return IN(n.coordinates);case"MultiPolygon":for(t=0;t<n.coordinates.length;t++)e+=IN(n.coordinates[t]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function IN(n){var e=0;if(n&&n.length>0){e+=Math.abs(AN(n[0]));for(var t=1;t<n.length;t++)e-=Math.abs(AN(n[t]))}return e}function AN(n){var e,t,i,r,a,o,s,d=0,p=n.length;if(p>2){for(s=0;s<p;s++)s===p-2?(r=p-2,a=p-1,o=0):s===p-1?(r=p-1,a=0,o=1):(r=s,a=s+1,o=s+2),e=n[r],t=n[a],i=n[o],d+=(Cw(i[0])-Cw(e[0]))*Math.sin(Cw(t[1]));d=d*LN*LN/2}return d}function Cw(n){return n*Math.PI/180}var jS={exports:{}};class Q9{constructor(e=[],t=J9){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:i}=this,r=t[e];for(;e>0;){const a=e-1>>1,o=t[a];if(i(r,o)>=0)break;t[e]=o,e=a}t[e]=r}_down(e){const{data:t,compare:i}=this,r=this.length>>1,a=t[e];for(;e<r;){let o=(e<<1)+1,s=t[o];const d=o+1;if(d<this.length&&i(t[d],s)<0&&(o=d,s=t[d]),i(s,a)>=0)break;t[e]=s,e=o}t[e]=a}}function J9(n,e){return n<e?-1:n>e?1:0}const e8=Object.freeze(Object.defineProperty({__proto__:null,default:Q9},Symbol.toStringTag,{value:"Module"})),UD=o3(e8);var mb=UD;mb.default&&(mb=mb.default);jS.exports=GD;jS.exports.default=GD;function GD(n,e,t){e=e||1;for(var i,r,a,o,s=0;s<n[0].length;s++){var d=n[0][s];(!s||d[0]<i)&&(i=d[0]),(!s||d[1]<r)&&(r=d[1]),(!s||d[0]>a)&&(a=d[0]),(!s||d[1]>o)&&(o=d[1])}var p=a-i,m=o-r,y=Math.min(p,m),g=y/2;if(y===0){var _=[i,r];return _.distance=0,_}for(var x=new mb(void 0,t8),T=i;T<a;T+=y)for(var E=r;E<o;E+=y)x.push(new Md(T+g,E+g,g,n));var k=i8(n),v=new Md(i+p/2,r+m/2,0,n);v.d>k.d&&(k=v);for(var w=x.length;x.length;){var N=x.pop();N.d>k.d&&(k=N,t&&console.log("found best %d after %d probes",Math.round(1e4*N.d)/1e4,w)),!(N.max-k.d<=e)&&(g=N.h/2,x.push(new Md(N.x-g,N.y-g,g,n)),x.push(new Md(N.x+g,N.y-g,g,n)),x.push(new Md(N.x-g,N.y+g,g,n)),x.push(new Md(N.x+g,N.y+g,g,n)),w+=4)}t&&(console.log("num probes: "+w),console.log("best distance: "+k.d));var S=[k.x,k.y];return S.distance=k.d,S}function t8(n,e){return e.max-n.max}function Md(n,e,t,i){this.x=n,this.y=e,this.h=t,this.d=n8(n,e,i),this.max=this.d+this.h*Math.SQRT2}function n8(n,e,t){for(var i=!1,r=1/0,a=0;a<t.length;a++)for(var o=t[a],s=0,d=o.length,p=d-1;s<d;p=s++){var m=o[s],y=o[p];m[1]>e!=y[1]>e&&n<(y[0]-m[0])*(e-m[1])/(y[1]-m[1])+m[0]&&(i=!i),r=Math.min(r,r8(n,e,m,y))}return r===0?0:(i?1:-1)*Math.sqrt(r)}function i8(n){for(var e=0,t=0,i=0,r=n[0],a=0,o=r.length,s=o-1;a<o;s=a++){var d=r[a],p=r[s],m=d[0]*p[1]-p[0]*d[1];t+=(d[0]+p[0])*m,i+=(d[1]+p[1])*m,e+=m*3}return e===0?new Md(r[0][0],r[0][1],0,n):new Md(t/e,i/e,0,n)}function r8(n,e,t,i){var r=t[0],a=t[1],o=i[0]-r,s=i[1]-a;if(o!==0||s!==0){var d=((n-r)*o+(e-a)*s)/(o*o+s*s);d>1?(r=i[0],a=i[1]):d>0&&(r+=o*d,a+=s*d)}return o=n-r,s=e-a,o*o+s*s}var a8=jS.exports;const s8=rc(a8),o8={"normal-normal":"Open Sans Regular","normal-bold":"Open Sans Bold","italic-normal":"Open Sans Italic","italic-bold":"Open Sans Bold Italic"},l8=(n,e=5,t=11)=>n==="Point"?e/parseInt(t,10)+.4:0,c8=(n,{fontSize:e,labelNoData:t=""},i)=>({type:"geojson",data:Wo(n.map(({geometry:r,properties:a})=>({type:"Feature",geometry:{type:"Point",coordinates:u8(r)},properties:{name:a.name,anchor:r.type==="Point"?"top":"center",offset:[0,l8(r.type,a.radius,e)],color:"#333",value:a.value??t}})))}),Q0=({id:n,label:e,fontSize:t,fontStyle:i,fontWeight:r,color:a,opacity:o})=>{const s=`${i||"normal"}-${r||"normal"}`,d=t?parseInt(t,10):12;return{type:"symbol",id:`${n}-label`,source:`${n}-label`,layout:{"text-field":e||"{name}","text-font":[o8[s]],"text-size":d,"text-anchor":["get","anchor"],"text-offset":["get","offset"]},paint:{"text-color":a||["get","color"],"text-opacity":o??ja.opacity}}},u8=({type:n,coordinates:e})=>{if(n==="Point")return e;let t=e;if(n==="MultiPolygon"){const i=e.map(a=>BD({type:"Polygon",coordinates:a})),r=i.indexOf(Math.max.apply(null,i));t=e[r]}return s8(t,.1)},PN={raster:["raster-opacity"],point:["circle-opacity","circle-stroke-opacity"],polygon:["fill-opacity"],line:["line-opacity"],outline:["line-opacity"],buffer:["fill-opacity"],"buffer-outline":["line-opacity"],label:["text-opacity"],symbol:["icon-opacity","text-opacity"],cluster:["circle-opacity","circle-stroke-opacity"],count:["text-opacity"]},d8={buffer:.2,"buffer-outline":.2},h8=(n,e)=>e*(d8[n]||1),p8=(n,e,t)=>{Object.keys(PN).forEach(i=>{const r=`${e}-${i}`;n.getLayer(r)&&PN[i].forEach(a=>n.setPaintProperty(r,a,h8(i,t)))})};function DN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Vx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(t),!0).forEach(function(i){YD(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function YD(n,e,t){return(e=m8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function m8(n){var e=f8(n,"string");return typeof e=="symbol"?e:e+""}function f8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class yu extends ao.Evented{constructor(e={}){super(),YD(this,"onClick",t=>this.fire("click",t)),this._id=NU(),this._source={},this._layers=[],this._features=[],this._isVisible=!0,this._interactiveIds=[],this.options=e,e.data&&this.setFeatures(e.data)}async addTo(e){const{opacity:t,onClick:i,onRightClick:r}=this.options;this._map=e;const a=e.getMapGL(),o=this.getImages(),s=this.getSource(),d=this.getLayers(),p=e.getBeforeLayerId();if(this.locale=a._getUIString.bind(a),o)try{await X9(a,o)}catch(m){this.onError(m)}Object.keys(s).forEach(m=>{e.styleIsLoaded()&&!a.getSource(m)&&a.addSource(m,s[m])}),d.forEach(m=>{e.styleIsLoaded()&&!a.getLayer(m.id)&&a.addLayer(m,p)}),this.isVisible()||this.setVisibility(!1),t!==void 0&&this.setOpacity(t),i&&this.on("click",i),r&&this.on("contextmenu",r),this.onAdd()}removeFrom(e){const t=e.getMapGL(),i=this.getSource(),r=this.getLayers(),{onClick:a,onRightClick:o}=this.options;this.onRemove(),t&&(r.forEach(s=>{t.getLayer(s.id)&&t.removeLayer(s.id)}),Object.keys(i).forEach(s=>{t.getSource(s)&&t.removeSource(s)})),a&&this.off("click",a),o&&this.off("contextmenu",o),this._map=null}createSource(){const e=this.getId(),t=this.getFeatures(),{buffer:i,label:r,labelStyle:a}=this.options;this.setSource(e,{type:"geojson",data:Wo(t)}),i&&this.setSource(`${e}-buffer`,G9(t,i/1e3)),r&&this.setSource(`${e}-label`,c8(t,a))}setVisibility(e){if(this.isOnMap()){const t=this.getMapGL(),i=e?"visible":"none",r=this.getLayers();t&&r&&r.forEach(a=>t.setLayoutProperty(a.id,"visibility",i))}this._isVisible=e}getId(){return this._id}getMap(){return this._map}getMapGL(){return this._map&&this._map.getMapGL()}isOnMap(){const e=this.getMap(),t=this.getMapGL();return!!(e&&e.styleIsLoaded()&&this._layers.find(i=>t.getLayer(i.id)))}isVisible(){return this._isVisible}isInteractive(){return!!(this._interactiveIds.length&&this.isOnMap()&&this.isVisible())}setSource(e,t){this._source[e]=t}getSource(){return this._source}getInteractiveIds(){return this.isInteractive()?this._interactiveIds:[]}addLayer(e,t={}){const{isInteractive:i,opacityFactor:r}=t;this._layers.push(e),i&&this._interactiveIds.push(e.id),r&&(this._opacityFactor=r)}getLayers(){return this._layers}hasLayerId(e){return this.getLayers().some(t=>t.id===e)}move(){const e=this.getMapGL(),t=this._map.getBeforeLayerId();this.getLayers().forEach(i=>{e.moveLayer(i.id,t)})}getFeatures(){return this._features}getFeaturesById(e){return(typeof e=="string"?this._features.filter(i=>i.properties.id===e):this._features.filter(i=>i.id===e)).map(i=>Vx(Vx({},i),{},{source:this.getId()}))}setFeatures(e=[]){this._features=e.map((t,i)=>Vx(Vx({},t),{},{id:i+1}))}getImages(){return this._images}getType(){return this.options.type}setImages(e){this._images=e||[...new Set(this.getFeatures().filter(t=>t.properties.iconUrl).map(t=>t.properties.iconUrl))]}setIndex(e=0){this.options.index=e;const t=this.getMap();t&&t.orderOverlays()}getIndex(){return this.options.index||0}setOpacity(e){const t=this.getMapGL(),i=this._opacityFactor!==void 0?this._opacityFactor:1;t&&p8(t,this.getId(),e*i),this.options.opacity=e}getBounds(){const e=this.getFeatures();if(e.length){const[t,i,r,a]=$y(Wo(e));return[[t,i],[r,a]]}}isMaxZoom(){const e=this.getMapGL();return e.getZoom()===e.getMaxZoom()}highlight(e){const t=this.getMap();t&&t.setHoverState(e?this.getFeaturesById(e):null)}filter(){}onAdd(){}onRemove(){}onLoad(){this.fire("load"),this.options.onLoad&&this.options.onLoad()}onRightClick(e){}onMouseMove(e,t){const{label:i,hoverLabel:r}=this.options;if(r||i){const{properties:a}=t,o=(r||i).replace(/\{ *([\w_-]+) *\}/g,(s,d)=>a[d]??(d==="value"?this.locale("Label.NoData"):""));this._map.showLabel(o,e.lngLat)}else this._map.hideLabel()}onError(e){const{onError:t}=this.options;t?t(e):console.error(e)}}const MN=0,g8=1,Xf=({id:n,color:e,strokeColor:t,width:i,radius:r,opacity:a,source:o,filter:s})=>({id:`${n}-point`,type:"circle",source:o||n,paint:{"circle-color":K0(e||ja.noDataColor),"circle-radius":z9(r||ja.radius),"circle-opacity":a??ja.opacity,"circle-stroke-width":$S(i),"circle-stroke-color":t||ja.strokeColor,"circle-stroke-opacity":a??ja.opacity},filter:s||k9}),y8=({id:n,color:e,width:t,opacity:i,source:r,filter:a})=>({id:`${n}-line`,type:"line",source:r||n,paint:{"line-color":e||ja.strokeColor,"line-width":$S(t),"line-opacity":i??ja.opacity},layout:{"line-join":"round","line-cap":"round"},filter:a||C9}),Zf=({id:n,color:e,opacity:t,source:i,filter:r})=>({id:`${n}-polygon`,type:"fill",source:i||n,paint:{"fill-color":K0(e||ja.noDataColor),"fill-opacity":t??ja.opacity},filter:r||MD}),Kf=({id:n,color:e,width:t,opacity:i,source:r,filter:a})=>({id:`${n}-outline`,type:"line",source:r||n,paint:{"line-color":e||ja.strokeColor,"line-width":$S(t),"line-opacity":i??ja.opacity},layout:{"line-join":"round","line-cap":"round"},filter:a||MD}),VD=({id:n,opacity:e,source:t,filter:i})=>({id:`${n}-symbol`,type:"symbol",source:t||n,layout:{"icon-image":["get","iconUrl"],"icon-size":1,"icon-allow-overlap":!0},paint:{"icon-opacity":e??ja.opacity},filter:i||E9}),WD=({id:n,color:e,strokeColor:t,opacity:i})=>({id:`${n}-cluster`,type:"circle",source:n,filter:OD,paint:{"circle-color":e,"circle-radius":F9,"circle-opacity":i??ja.opacity,"circle-stroke-color":t,"circle-stroke-width":ja.strokeWidth,"circle-stroke-opacity":i??ja.opacity}}),qD=({id:n,color:e,opacity:t})=>({id:`${n}-count`,type:"symbol",source:n,filter:OD,layout:{"text-field":"{point_count_abbreviated}","text-font":ja.textFont,"text-size":ja.textSize,"text-allow-overlap":!0},paint:{"text-color":e||ja.textColor,"text-opacity":t??ja.opacity}});class Xb extends ao.Evented{constructor(e={}){super(),this.options=e,this._visibleLayers=[],this._isOnMap=!1}async toggleVectorStyle(e,t,i){await this.removeOtherLayers(),this._map.setBeforeLayerId(i),(e||!this.mapHasVectorStyle())&&(this._map._styleIsLoading=!0,await this.setStyle(t),this._map._styleIsLoading=!1,this._visibleLayers=this._map.getMapGL().getStyle().layers.filter(r=>{var a;return((a=r.layout)==null?void 0:a.visibility)!=="none"}).map(r=>r.id)),this._isOnMap=e,await this.addOtherLayers()}async addTo(e){this._map=e;const{url:t,beforeId:i,isVisible:r}=this.options;await this.toggleVectorStyle(!0,t,i),(this.isVisible()===!1||this.isVisible()===void 0&&r===!1)&&this.setVisibility(!1)}async removeFrom(){const e=this._map._glyphs;this._map.getMapGL()&&await this.toggleVectorStyle(!1,zD({glyphs:e}))}setStyle(e){return new Promise((t,i)=>{this._map.getMapGL().once("idle",t).setStyle(e,{diff:!1}).once("error",r=>{let a;r.error.message.includes("missing required property")?a="The vector style is malformed or invalid.":r.error.message.includes("r.blob is not a function")?a="The vector style was not found.":a="An error occured while loading the vector style.",i(a)})})}getOtherLayers(){return this._map.getLayers().filter(e=>!(e instanceof Xb))}async addOtherLayers(){this.getOtherLayers().forEach(async e=>{e.isOnMap()||(await e.addTo(this._map),e.setVisibility(e.isVisible()))})}async removeOtherLayers(){this.getOtherLayers().forEach(async e=>{e.isOnMap()&&await e.removeFrom(this._map,!0)})}mapHasVectorStyle(){return this._map.getLayers().some(e=>e instanceof Xb)}setIndex(e=MN){this.options.index=e}setOpacity(){}setVisibility(e){if(this.isOnMap()){const t=this._map.getMapGL(),i=e?"visible":"none";this._visibleLayers.forEach(r=>t.setLayoutProperty(r,"visibility",i))}this._isVisible=e}isVisible(){return this._isVisible}isInteractive(){return!1}hasLayerId(){return!1}isOnMap(){return this._isOnMap}getIndex(){return MN}}class ON extends yu{constructor(e){super(e),this.createSource(),this.createLayer()}createSource(){const{url:e,layers:t,format:i="image/png",attribution:r=""}=this.options;let a;t?a=[`${e}?bbox={bbox-epsg-3857}&format=${i}&service=WMS&version=1.1.1&request=GetMap&srs=EPSG:3857&transparent=true&width=256&height=256&layers=${t}`]:e.includes("{s}")?a=["a","b","c"].map(o=>e.replace("{s}",o)):a=[e],this.setSource(this.getId(),{type:"raster",tiles:a,tileSize:256,attribution:r})}createLayer(){const e=this.getId();this.addLayer({id:`${e}-raster`,type:"raster",source:e})}}function RN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $N(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(t),!0).forEach(function(i){v8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function v8(n,e,t){return(e=x8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function x8(n){var e=b8(n,"string");return typeof e=="symbol"?e:e+""}function b8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}let _8=class extends yu{constructor(e){super(e),this.createSource(),this.createLayers()}createLayers(){const e=this.getId(),{color:t,opacity:i,label:r,labelStyle:a}=this.options,o=!0;this.addLayer(Zf({id:e,color:t,opacity:i}),{isInteractive:o}),this.addLayer(Kf({id:e,opacity:i})),this.addLayer(Xf({id:e,color:t,opacity:i}),{isInteractive:o}),r&&this.addLayer(Q0($N($N({id:e,label:r},a),{},{opacity:i})))}};function zN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ay(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(t),!0).forEach(function(i){w8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function w8(n,e,t){return(e=T8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function T8(n){var e=S8(n,"string");return typeof e=="symbol"?e:e+""}function S8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class C8 extends yu{constructor(e){super(e),this.createSource(),this.createLayers()}setFeatures(e=[]){const{radius:t=6}=this.options.style;this._features=e.map((i,r)=>ay(ay({},i),{},{id:r+1,properties:ay(ay({},i.properties),{},{color:i.properties.style.color,width:i.properties.style.weight,radius:t})}))}createLayers(){const e=this.getId(),{label:t,labelStyle:i}=this.options,r=!0;this.addLayer({id:`${e}-line`,type:"line",source:e,paint:{"line-color":["get","color"],"line-width":["case",["boolean",["feature-state","hover"],!1],["+",["get","width"],2],["get","width"]]},filter:["==","$type","Polygon"]},{isInteractive:r}),this.addLayer({id:`${e}-point`,type:"circle",source:e,paint:{"circle-color":"transparent","circle-radius":["get","radius"],"circle-stroke-color":["get","color"],"circle-stroke-width":["case",["boolean",["feature-state","hover"],!1],["+",["get","width"],2],["get","width"]]},filter:["==","$type","Point"]},{isInteractive:r}),t&&this.addLayer(Q0(ay({id:e,label:t},i)))}}function FN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ew(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(t),!0).forEach(function(i){E8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function E8(n,e,t){return(e=k8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function k8(n){var e=N8(n,"string");return typeof e=="symbol"?e:e+""}function N8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class L8 extends yu{constructor(e){super(e),this.setImages(),this.createSource(),this.createLayer()}createLayer(){const e=this.getId(),{buffer:t,bufferStyle:i,label:r,labelStyle:a}=this.options,o=!0;t&&(this.addLayer(zS(Ew({id:e},i))),this.addLayer(FS(Ew({id:e},i)))),this.addLayer(VD({id:e}),{isInteractive:o}),r&&this.addLayer(Q0(Ew({id:e,label:r},a)))}}function jN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function BN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(t),!0).forEach(function(i){I8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function I8(n,e,t){return(e=A8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function A8(n){var e=P8(n,"string");return typeof e=="symbol"?e:e+""}function P8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class D8 extends yu{constructor(e){super(e),this.createSource(),this.createLayers()}createLayers(){const e=this.getId(),{fillColor:t,strokeColor:i=Hf,radius:r,buffer:a,bufferStyle:o}=this.options,s=!0;a&&(this.addLayer(zS(BN({id:e},o))),this.addLayer(FS(BN({id:e},o)))),this.addLayer(Xf({id:e,color:t,radius:r,strokeColor:i}),{isInteractive:s}),this.addLayer(Zf({id:e,color:t}),{isInteractive:s}),this.addLayer(Kf({id:e,color:i}))}}var BS={exports:{}},HD={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Eo,function(){function t(v,w,N,S,L){(function O(Y,X,H,$,G){for(;$>H;){if($-H>600){var B=$-H+1,M=X-H+1,D=Math.log(B),V=.5*Math.exp(2*D/3),F=.5*Math.sqrt(D*V*(B-V)/B)*(M-B/2<0?-1:1),z=Math.max(H,Math.floor(X-M*V/B+F)),W=Math.min($,Math.floor(X+(B-M)*V/B+F));O(Y,X,z,W,G)}var q=Y[X],ee=H,ue=$;for(i(Y,H,X),G(Y[$],q)>0&&i(Y,H,$);ee<ue;){for(i(Y,ee,ue),ee++,ue--;G(Y[ee],q)<0;)ee++;for(;G(Y[ue],q)>0;)ue--}G(Y[H],q)===0?i(Y,H,ue):i(Y,++ue,$),ue<=X&&(H=ue+1),X<=ue&&($=ue-1)}})(v,w,N||0,S||v.length-1,L||r)}function i(v,w,N){var S=v[w];v[w]=v[N],v[N]=S}function r(v,w){return v<w?-1:v>w?1:0}var a=function(v){v===void 0&&(v=9),this._maxEntries=Math.max(4,v),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(v,w,N){if(!N)return w.indexOf(v);for(var S=0;S<w.length;S++)if(N(v,w[S]))return S;return-1}function s(v,w){d(v,0,v.children.length,w,v)}function d(v,w,N,S,L){L||(L=E(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var O=w;O<N;O++){var Y=v.children[O];p(L,v.leaf?S(Y):Y)}return L}function p(v,w){return v.minX=Math.min(v.minX,w.minX),v.minY=Math.min(v.minY,w.minY),v.maxX=Math.max(v.maxX,w.maxX),v.maxY=Math.max(v.maxY,w.maxY),v}function m(v,w){return v.minX-w.minX}function y(v,w){return v.minY-w.minY}function g(v){return(v.maxX-v.minX)*(v.maxY-v.minY)}function _(v){return v.maxX-v.minX+(v.maxY-v.minY)}function x(v,w){return v.minX<=w.minX&&v.minY<=w.minY&&w.maxX<=v.maxX&&w.maxY<=v.maxY}function T(v,w){return w.minX<=v.maxX&&w.minY<=v.maxY&&w.maxX>=v.minX&&w.maxY>=v.minY}function E(v){return{children:v,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function k(v,w,N,S,L){for(var O=[w,N];O.length;)if(!((N=O.pop())-(w=O.pop())<=S)){var Y=w+Math.ceil((N-w)/S/2)*S;t(v,Y,w,N,L),O.push(w,Y,Y,N)}}return a.prototype.all=function(){return this._all(this.data,[])},a.prototype.search=function(v){var w=this.data,N=[];if(!T(v,w))return N;for(var S=this.toBBox,L=[];w;){for(var O=0;O<w.children.length;O++){var Y=w.children[O],X=w.leaf?S(Y):Y;T(v,X)&&(w.leaf?N.push(Y):x(v,X)?this._all(Y,N):L.push(Y))}w=L.pop()}return N},a.prototype.collides=function(v){var w=this.data;if(!T(v,w))return!1;for(var N=[];w;){for(var S=0;S<w.children.length;S++){var L=w.children[S],O=w.leaf?this.toBBox(L):L;if(T(v,O)){if(w.leaf||x(v,O))return!0;N.push(L)}}w=N.pop()}return!1},a.prototype.load=function(v){if(!v||!v.length)return this;if(v.length<this._minEntries){for(var w=0;w<v.length;w++)this.insert(v[w]);return this}var N=this._build(v.slice(),0,v.length-1,0);if(this.data.children.length)if(this.data.height===N.height)this._splitRoot(this.data,N);else{if(this.data.height<N.height){var S=this.data;this.data=N,N=S}this._insert(N,this.data.height-N.height-1,!0)}else this.data=N;return this},a.prototype.insert=function(v){return v&&this._insert(v,this.data.height-1),this},a.prototype.clear=function(){return this.data=E([]),this},a.prototype.remove=function(v,w){if(!v)return this;for(var N,S,L,O=this.data,Y=this.toBBox(v),X=[],H=[];O||X.length;){if(O||(O=X.pop(),S=X[X.length-1],N=H.pop(),L=!0),O.leaf){var $=o(v,O.children,w);if($!==-1)return O.children.splice($,1),X.push(O),this._condense(X),this}L||O.leaf||!x(O,Y)?S?(N++,O=S.children[N],L=!1):O=null:(X.push(O),H.push(N),N=0,S=O,O=O.children[0])}return this},a.prototype.toBBox=function(v){return v},a.prototype.compareMinX=function(v,w){return v.minX-w.minX},a.prototype.compareMinY=function(v,w){return v.minY-w.minY},a.prototype.toJSON=function(){return this.data},a.prototype.fromJSON=function(v){return this.data=v,this},a.prototype._all=function(v,w){for(var N=[];v;)v.leaf?w.push.apply(w,v.children):N.push.apply(N,v.children),v=N.pop();return w},a.prototype._build=function(v,w,N,S){var L,O=N-w+1,Y=this._maxEntries;if(O<=Y)return s(L=E(v.slice(w,N+1)),this.toBBox),L;S||(S=Math.ceil(Math.log(O)/Math.log(Y)),Y=Math.ceil(O/Math.pow(Y,S-1))),(L=E([])).leaf=!1,L.height=S;var X=Math.ceil(O/Y),H=X*Math.ceil(Math.sqrt(Y));k(v,w,N,H,this.compareMinX);for(var $=w;$<=N;$+=H){var G=Math.min($+H-1,N);k(v,$,G,X,this.compareMinY);for(var B=$;B<=G;B+=X){var M=Math.min(B+X-1,G);L.children.push(this._build(v,B,M,S-1))}}return s(L,this.toBBox),L},a.prototype._chooseSubtree=function(v,w,N,S){for(;S.push(w),!w.leaf&&S.length-1!==N;){for(var L=1/0,O=1/0,Y=void 0,X=0;X<w.children.length;X++){var H=w.children[X],$=g(H),G=(B=v,M=H,(Math.max(M.maxX,B.maxX)-Math.min(M.minX,B.minX))*(Math.max(M.maxY,B.maxY)-Math.min(M.minY,B.minY))-$);G<O?(O=G,L=$<L?$:L,Y=H):G===O&&$<L&&(L=$,Y=H)}w=Y||w.children[0]}var B,M;return w},a.prototype._insert=function(v,w,N){var S=N?v:this.toBBox(v),L=[],O=this._chooseSubtree(S,this.data,w,L);for(O.children.push(v),p(O,S);w>=0&&L[w].children.length>this._maxEntries;)this._split(L,w),w--;this._adjustParentBBoxes(S,L,w)},a.prototype._split=function(v,w){var N=v[w],S=N.children.length,L=this._minEntries;this._chooseSplitAxis(N,L,S);var O=this._chooseSplitIndex(N,L,S),Y=E(N.children.splice(O,N.children.length-O));Y.height=N.height,Y.leaf=N.leaf,s(N,this.toBBox),s(Y,this.toBBox),w?v[w-1].children.push(Y):this._splitRoot(N,Y)},a.prototype._splitRoot=function(v,w){this.data=E([v,w]),this.data.height=v.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},a.prototype._chooseSplitIndex=function(v,w,N){for(var S,L,O,Y,X,H,$,G=1/0,B=1/0,M=w;M<=N-w;M++){var D=d(v,0,M,this.toBBox),V=d(v,M,N,this.toBBox),F=(L=D,O=V,Y=void 0,X=void 0,H=void 0,$=void 0,Y=Math.max(L.minX,O.minX),X=Math.max(L.minY,O.minY),H=Math.min(L.maxX,O.maxX),$=Math.min(L.maxY,O.maxY),Math.max(0,H-Y)*Math.max(0,$-X)),z=g(D)+g(V);F<G?(G=F,S=M,B=z<B?z:B):F===G&&z<B&&(B=z,S=M)}return S||N-w},a.prototype._chooseSplitAxis=function(v,w,N){var S=v.leaf?this.compareMinX:m,L=v.leaf?this.compareMinY:y;this._allDistMargin(v,w,N,S)<this._allDistMargin(v,w,N,L)&&v.children.sort(S)},a.prototype._allDistMargin=function(v,w,N,S){v.children.sort(S);for(var L=this.toBBox,O=d(v,0,w,L),Y=d(v,N-w,N,L),X=_(O)+_(Y),H=w;H<N-w;H++){var $=v.children[H];p(O,v.leaf?L($):$),X+=_(O)}for(var G=N-w-1;G>=w;G--){var B=v.children[G];p(Y,v.leaf?L(B):B),X+=_(Y)}return X},a.prototype._adjustParentBBoxes=function(v,w,N){for(var S=N;S>=0;S--)p(w[S],v)},a.prototype._condense=function(v){for(var w=v.length-1,N=void 0;w>=0;w--)v[w].children.length===0?w>0?(N=v[w-1].children).splice(N.indexOf(v[w]),1):this.clear():s(v[w],this.toBBox)},a})})(HD);var M8=HD.exports,J0={exports:{}},O8=function(e,t,i,r){var a=e[0],o=e[1],s=!1;i===void 0&&(i=0),r===void 0&&(r=t.length);for(var d=(r-i)/2,p=0,m=d-1;p<d;m=p++){var y=t[i+p*2+0],g=t[i+p*2+1],_=t[i+m*2+0],x=t[i+m*2+1],T=g>o!=x>o&&a<(_-y)*(o-g)/(x-g)+y;T&&(s=!s)}return s},R8=function(e,t,i,r){var a=e[0],o=e[1],s=!1;i===void 0&&(i=0),r===void 0&&(r=t.length);for(var d=r-i,p=0,m=d-1;p<d;m=p++){var y=t[p+i][0],g=t[p+i][1],_=t[m+i][0],x=t[m+i][1],T=g>o!=x>o&&a<(_-y)*(o-g)/(x-g)+y;T&&(s=!s)}return s},XD=O8,ZD=R8;J0.exports=function(e,t,i,r){return t.length>0&&Array.isArray(t[0])?ZD(e,t,i,r):XD(e,t,i,r)};J0.exports.nested=ZD;J0.exports.flat=XD;var $8=J0.exports,G1={exports:{}};(function(n,e){(function(t,i){i(e)})(Eo,function(t){const r=33306690738754706e-32;function a(T,E,k,v,w){let N,S,L,O,Y=E[0],X=v[0],H=0,$=0;X>Y==X>-Y?(N=Y,Y=E[++H]):(N=X,X=v[++$]);let G=0;if(H<T&&$<k)for(X>Y==X>-Y?(L=N-((S=Y+N)-Y),Y=E[++H]):(L=N-((S=X+N)-X),X=v[++$]),N=S,L!==0&&(w[G++]=L);H<T&&$<k;)X>Y==X>-Y?(L=N-((S=N+Y)-(O=S-N))+(Y-O),Y=E[++H]):(L=N-((S=N+X)-(O=S-N))+(X-O),X=v[++$]),N=S,L!==0&&(w[G++]=L);for(;H<T;)L=N-((S=N+Y)-(O=S-N))+(Y-O),Y=E[++H],N=S,L!==0&&(w[G++]=L);for(;$<k;)L=N-((S=N+X)-(O=S-N))+(X-O),X=v[++$],N=S,L!==0&&(w[G++]=L);return N===0&&G!==0||(w[G++]=N),G}function o(T){return new Float64Array(T)}const s=33306690738754716e-32,d=22204460492503146e-32,p=11093356479670487e-47,m=o(4),y=o(8),g=o(12),_=o(16),x=o(4);t.orient2d=function(T,E,k,v,w,N){const S=(E-N)*(k-w),L=(T-w)*(v-N),O=S-L;if(S===0||L===0||S>0!=L>0)return O;const Y=Math.abs(S+L);return Math.abs(O)>=s*Y?O:-function(X,H,$,G,B,M,D){let V,F,z,W,q,ee,ue,ie,oe,Ee,me,Te,K,J,se,xe,Q,ae;const ce=X-B,ge=$-B,be=H-M,Le=G-M;q=(se=(ie=ce-(ue=(ee=134217729*ce)-(ee-ce)))*(Ee=Le-(oe=(ee=134217729*Le)-(ee-Le)))-((J=ce*Le)-ue*oe-ie*oe-ue*Ee))-(me=se-(Q=(ie=be-(ue=(ee=134217729*be)-(ee-be)))*(Ee=ge-(oe=(ee=134217729*ge)-(ee-ge)))-((xe=be*ge)-ue*oe-ie*oe-ue*Ee))),m[0]=se-(me+q)+(q-Q),q=(K=J-((Te=J+me)-(q=Te-J))+(me-q))-(me=K-xe),m[1]=K-(me+q)+(q-xe),q=(ae=Te+me)-Te,m[2]=Te-(ae-q)+(me-q),m[3]=ae;let _e=function(De,we){let ke=we[0];for(let ze=1;ze<De;ze++)ke+=we[ze];return ke}(4,m),Ne=d*D;if(_e>=Ne||-_e>=Ne||(V=X-(ce+(q=X-ce))+(q-B),z=$-(ge+(q=$-ge))+(q-B),F=H-(be+(q=H-be))+(q-M),W=G-(Le+(q=G-Le))+(q-M),V===0&&F===0&&z===0&&W===0)||(Ne=p*D+r*Math.abs(_e),(_e+=ce*W+Le*V-(be*z+ge*F))>=Ne||-_e>=Ne))return _e;q=(se=(ie=V-(ue=(ee=134217729*V)-(ee-V)))*(Ee=Le-(oe=(ee=134217729*Le)-(ee-Le)))-((J=V*Le)-ue*oe-ie*oe-ue*Ee))-(me=se-(Q=(ie=F-(ue=(ee=134217729*F)-(ee-F)))*(Ee=ge-(oe=(ee=134217729*ge)-(ee-ge)))-((xe=F*ge)-ue*oe-ie*oe-ue*Ee))),x[0]=se-(me+q)+(q-Q),q=(K=J-((Te=J+me)-(q=Te-J))+(me-q))-(me=K-xe),x[1]=K-(me+q)+(q-xe),q=(ae=Te+me)-Te,x[2]=Te-(ae-q)+(me-q),x[3]=ae;const $e=a(4,m,4,x,y);q=(se=(ie=ce-(ue=(ee=134217729*ce)-(ee-ce)))*(Ee=W-(oe=(ee=134217729*W)-(ee-W)))-((J=ce*W)-ue*oe-ie*oe-ue*Ee))-(me=se-(Q=(ie=be-(ue=(ee=134217729*be)-(ee-be)))*(Ee=z-(oe=(ee=134217729*z)-(ee-z)))-((xe=be*z)-ue*oe-ie*oe-ue*Ee))),x[0]=se-(me+q)+(q-Q),q=(K=J-((Te=J+me)-(q=Te-J))+(me-q))-(me=K-xe),x[1]=K-(me+q)+(q-xe),q=(ae=Te+me)-Te,x[2]=Te-(ae-q)+(me-q),x[3]=ae;const Ye=a($e,y,4,x,g);q=(se=(ie=V-(ue=(ee=134217729*V)-(ee-V)))*(Ee=W-(oe=(ee=134217729*W)-(ee-W)))-((J=V*W)-ue*oe-ie*oe-ue*Ee))-(me=se-(Q=(ie=F-(ue=(ee=134217729*F)-(ee-F)))*(Ee=z-(oe=(ee=134217729*z)-(ee-z)))-((xe=F*z)-ue*oe-ie*oe-ue*Ee))),x[0]=se-(me+q)+(q-Q),q=(K=J-((Te=J+me)-(q=Te-J))+(me-q))-(me=K-xe),x[1]=K-(me+q)+(q-xe),q=(ae=Te+me)-Te,x[2]=Te-(ae-q)+(me-q),x[3]=ae;const Xe=a(Ye,g,4,x,_);return _[Xe-1]}(T,E,k,v,w,N,Y)},t.orient2dfast=function(T,E,k,v,w,N){return(E-N)*(k-w)-(T-w)*(v-N)},Object.defineProperty(t,"__esModule",{value:!0})})})(G1,G1.exports);var z8=G1.exports,UN=M8,fb=UD,F8=$8,j8=z8.orient2d;fb.default&&(fb=fb.default);BS.exports=KD;BS.exports.default=KD;function KD(n,e,t){e=Math.max(0,e===void 0?2:e),t=t||0;var i=V8(n),r=new UN(16);r.toBBox=function(v){return{minX:v[0],minY:v[1],maxX:v[0],maxY:v[1]}},r.compareMinX=function(v,w){return v[0]-w[0]},r.compareMinY=function(v,w){return v[1]-w[1]},r.load(n);for(var a=[],o=0,s;o<i.length;o++){var d=i[o];r.remove(d),s=VN(d,s),a.push(s)}var p=new UN(16);for(o=0;o<a.length;o++)p.insert(kw(a[o]));for(var m=e*e,y=t*t;a.length;){var g=a.shift(),_=g.p,x=g.next.p,T=Nw(_,x);if(!(T<y)){var E=T/m;d=B8(r,g.prev.p,_,x,g.next.next.p,E,p),d&&Math.min(Nw(d,_),Nw(d,x))<=E&&(a.push(g),a.push(VN(d,g)),r.remove(d),p.remove(g),p.insert(kw(g)),p.insert(kw(g.next)))}}g=s;var k=[];do k.push(g.p),g=g.next;while(g!==s);return k.push(g.p),k}function B8(n,e,t,i,r,a,o){for(var s=new fb([],U8),d=n.data;d;){for(var p=0;p<d.children.length;p++){var m=d.children[p],y=d.leaf?Lw(m,t,i):G8(t,i,m);y>a||s.push({node:m,dist:y})}for(;s.length&&!s.peek().node.children;){var g=s.pop(),_=g.node,x=Lw(_,e,t),T=Lw(_,i,r);if(g.dist<x&&g.dist<T&&YN(t,_,o)&&YN(i,_,o))return _}d=s.pop(),d&&(d=d.node)}return null}function U8(n,e){return n.dist-e.dist}function G8(n,e,t){if(GN(n,t)||GN(e,t))return 0;var i=Wx(n[0],n[1],e[0],e[1],t.minX,t.minY,t.maxX,t.minY);if(i===0)return 0;var r=Wx(n[0],n[1],e[0],e[1],t.minX,t.minY,t.minX,t.maxY);if(r===0)return 0;var a=Wx(n[0],n[1],e[0],e[1],t.maxX,t.minY,t.maxX,t.maxY);if(a===0)return 0;var o=Wx(n[0],n[1],e[0],e[1],t.minX,t.maxY,t.maxX,t.maxY);return o===0?0:Math.min(i,r,a,o)}function GN(n,e){return n[0]>=e.minX&&n[0]<=e.maxX&&n[1]>=e.minY&&n[1]<=e.maxY}function YN(n,e,t){for(var i=Math.min(n[0],e[0]),r=Math.min(n[1],e[1]),a=Math.max(n[0],e[0]),o=Math.max(n[1],e[1]),s=t.search({minX:i,minY:r,maxX:a,maxY:o}),d=0;d<s.length;d++)if(Y8(s[d].p,s[d].next.p,n,e))return!1;return!0}function Wm(n,e,t){return j8(n[0],n[1],e[0],e[1],t[0],t[1])}function Y8(n,e,t,i){return n!==i&&e!==t&&Wm(n,e,t)>0!=Wm(n,e,i)>0&&Wm(t,i,n)>0!=Wm(t,i,e)>0}function kw(n){var e=n.p,t=n.next.p;return n.minX=Math.min(e[0],t[0]),n.minY=Math.min(e[1],t[1]),n.maxX=Math.max(e[0],t[0]),n.maxY=Math.max(e[1],t[1]),n}function V8(n){for(var e=n[0],t=n[0],i=n[0],r=n[0],a=0;a<n.length;a++){var o=n[a];o[0]<e[0]&&(e=o),o[0]>i[0]&&(i=o),o[1]<t[1]&&(t=o),o[1]>r[1]&&(r=o)}var s=[e,t,i,r],d=s.slice();for(a=0;a<n.length;a++)F8(n[a],s)||d.push(n[a]);return q8(d)}function VN(n,e){var t={p:n,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(t.next=e.next,t.prev=e,e.next.prev=t,e.next=t):(t.prev=t,t.next=t),t}function Nw(n,e){var t=n[0]-e[0],i=n[1]-e[1];return t*t+i*i}function Lw(n,e,t){var i=e[0],r=e[1],a=t[0]-i,o=t[1]-r;if(a!==0||o!==0){var s=((n[0]-i)*a+(n[1]-r)*o)/(a*a+o*o);s>1?(i=t[0],r=t[1]):s>0&&(i+=a*s,r+=o*s)}return a=n[0]-i,o=n[1]-r,a*a+o*o}function Wx(n,e,t,i,r,a,o,s){var d=t-n,p=i-e,m=o-r,y=s-a,g=n-r,_=e-a,x=d*d+p*p,T=d*m+p*y,E=m*m+y*y,k=d*g+p*_,v=m*g+y*_,w=x*E-T*T,N,S,L,O,Y=w,X=w;w===0?(S=0,Y=1,O=v,X=E):(S=T*v-E*k,O=x*v-T*k,S<0?(S=0,O=v,X=E):S>Y&&(S=Y,O=v+T,X=E)),O<0?(O=0,-k<0?S=0:-k>x?S=Y:(S=-k,Y=x)):O>X&&(O=X,-k+T<0?S=0:-k+T>x?S=Y:(S=-k+T,Y=x)),N=S===0?0:S/Y,L=O===0?0:O/X;var H=(1-N)*n+N*t,$=(1-N)*e+N*i,G=(1-L)*r+L*o,B=(1-L)*a+L*s,M=G-H,D=B-$;return M*M+D*D}function W8(n,e){return n[0]===e[0]?n[1]-e[1]:n[0]-e[0]}function q8(n){n.sort(W8);for(var e=[],t=0;t<n.length;t++){for(;e.length>=2&&Wm(e[e.length-2],e[e.length-1],n[t])<=0;)e.pop();e.push(n[t])}for(var i=[],r=n.length-1;r>=0;r--){for(;i.length>=2&&Wm(i[i.length-2],i[i.length-1],n[r])<=0;)i.pop();i.push(n[r])}return i.pop(),e.pop(),e.concat(i)}var H8=BS.exports;const X8=rc(H8);function Z8(n,e){e===void 0&&(e={}),e.concavity=e.concavity||1/0;var t=[];if(Uf(n,function(r){t.push([r[0],r[1]])}),!t.length)return null;var i=X8(t,e.concavity);return i.length>3?jP([i]):null}function Y1(n,e){e===void 0&&(e={});var t=0,i=0,r=0;return Uf(n,function(a){t+=a[0],i+=a[1],r++},!0),Ry([t/r,i/r],e.properties)}function QD(n,e){switch(e===void 0&&(e={}),LU(n)){case"Point":return Ry(zb(n),e.properties);case"Polygon":var t=[];Uf(n,function(N){t.push(N)});var i=Y1(n,{properties:e.properties}),r=i.geometry.coordinates,a=0,o=0,s=0,d,p,m,y,g,_,x,T,E=t.map(function(N){return[N[0]-r[0],N[1]-r[1]]});for(d=0;d<t.length-1;d++)p=E[d],y=p[0],_=p[1],m=E[d+1],g=m[0],x=m[1],T=y*x-g*_,s+=T,a+=(y+g)*T,o+=(_+x)*T;if(s===0)return i;var k=s*.5,v=1/(6*k);return Ry([r[0]+v*a,r[1]+v*o],e.properties);default:var w=Z8(n);return w?QD(w,{properties:e.properties}):Y1(n,{properties:e.properties})}}function WN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function K8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(t),!0).forEach(function(i){Q8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Q8(n,e,t){return(e=J8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function J8(n){var e=eG(n,"string");return typeof e=="symbol"?e:e+""}function eG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const Fu={each:(n,e)=>{if(!n||!n.length)return[];for(let t=0;t<n.length;t++)e(n[t],t)},eachTimes:(n,e)=>{if(!n)return[];for(let t=0;t<n;t++)e(t)},map:(n,e)=>{const t=[];return Fu.each(n,(i,r)=>t.push(e(i,r))),t},mapTimes:(n,e)=>{const t=[];return Fu.eachTimes(n,i=>t.push(e(i))),t}},tG=(n,e)=>{const t=K8({animate:!1,animationSpeed:0,customPin:!1,initializeLeg:()=>{},onClick:()=>{},circleSpiralSwitchover:9,circleFootSeparation:25,spiralFootSeparation:28,spiralLengthStart:15,spiralLengthFactor:4},e),i=Math.PI*2;let r=[];const a=()=>{Fu.each(r.reverse(),(y,g)=>{t.animate?(y.elements.container.style.transitionDelay=t.animationSpeed/1e3/r.length*g+"s",y.elements.container.className+=" exit",setTimeout(()=>y.marker.remove(),t.animationSpeed+100)):y.marker.remove()}),r=[]},o=(y,g)=>{const _=s(g.length);a();const x=Fu.map(g,(T,E)=>{const k=_[E],v=m(k),w=new ao.Marker(v.container).setLngLat(y),N={feature:T,elements:v,marker:w,param:k};return t.initializeLeg(N),v.container.onclick=S=>t.onClick(S,N),N});Fu.each(x.reverse(),T=>T.marker.addTo(n)),t.animate&&setTimeout(()=>{Fu.each(x.reverse(),(T,E)=>{T.elements.container.className=(T.elements.container.className||"").replace("initial",""),T.elements.container.style.transitionDelay=t.animationSpeed/1e3/x.length*E+"s"})}),r=x},s=y=>y>=t.circleSpiralSwitchover?d(y):p(y),d=y=>{let g=t.spiralLengthStart,_=0;return Fu.mapTimes(y,x=>{_=_+(t.spiralFootSeparation/g+x*5e-4);const T={x:g*Math.cos(_),y:g*Math.sin(_),angle:_,legLength:g,index:x};return g=g+i*t.spiralLengthFactor/_,T})},p=y=>{const _=t.circleFootSeparation*(2+y)/i,x=i/y;return Fu.mapTimes(y,T=>{const E=T*x,k=_*Math.cos(E),v=_*Math.sin(E);return{x:k,y:v,angle:E,legLength:_,index:T}})},m=y=>{const g=document.createElement("div"),_=document.createElement("div"),x=document.createElement("div");return g.className="spider-leg-container"+(t.animate?" animate initial ":" "),x.className="spider-leg-line",_.className="spider-leg-pin"+(t.customPin?"":" default-spider-pin"),g.appendChild(x),g.appendChild(_),g.style["margin-left"]=y.x+"px",g.style["margin-top"]=y.y+"px",x.style.height=y.legLength+"px",x.style.transform="rotate("+(y.angle-Math.PI/2)+"rad)",{container:g,line:x,pin:_}};return{spiderfy:o,unspiderfy:a,each:y=>Fu.each(r,y)}},nG=function(n,e){let t,i;const r=y=>{const{feature:g,elements:_,param:x}=y,{radius:T,fillColor:E,opacity:k}=e,v=g.properties.color||E,w=document.createElement("div"),{angle:N}=x,S=Math.cos(N)*T,L=Math.sin(N)*T;w.setAttribute("style",`
            width: ${T*2}px;
            height: ${T*2}px;
            margin-left: -${T}px;
            margin-top: -${T}px;
            background-color: ${v};
            border: ${OS}px solid ${Hf};
            border-radius: 50%;
            transform: translate(${S}px, ${L}px);`),_.container.style.opacity=k,_.pin.appendChild(w)},a=y=>{i&&t.each(g=>g.elements.container.style.opacity=y)},o=(y,g,_)=>{y!==i&&(t.spiderfy(g,_),i=y,n.on("click",s))},s=()=>{i&&(t.unspiderfy(),e.onClose&&e.onClose(i),i=null,n.off("click",s))},d=y=>y===i,p=()=>i;return t=tG(n,{animate:!0,animationSpeed:200,customPin:!0,initializeLeg:r,onClick:(y,g)=>{y.stopPropagation();const{feature:_,marker:x,param:T}=g,{angle:E,legLength:k}=T,v=k+e.radius,w=new ao.Point(v*Math.cos(E),v*Math.sin(E)),N=n.project(x.getLngLat()).add(w),{lng:S,lat:L}=n.unproject(N);e.onClick({type:"click",coordinates:[S,L],position:[y.x,y.pageY||y.y],feature:_})}}),{spiderfy:o,unspiderfy:s,setOpacity:a,isExpanded:d,getId:p}};function qN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function sy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(t),!0).forEach(function(i){Zh(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Zh(n,e,t){return(e=iG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iG(n){var e=rG(n,"string");return typeof e=="symbol"?e:e+""}function rG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class US extends yu{constructor(e){super(e),Zh(this,"zoomToCluster",(t,i)=>{if(this.isMaxZoom())this.spiderfy(t,i);else{const r=this.getMapGL();r.getSource(this.getId()).getClusterExpansionZoom(t,(o,s)=>{o||r.easeTo({center:i,zoom:s+1})})}}),Zh(this,"unspiderfy",()=>{if(this.spider){this.spider.unspiderfy();const t=this.getMapGL();t&&t.off("zoom",this.unspiderfy)}}),Zh(this,"getClusterFeatures",t=>new Promise((i,r)=>{this.getMapGL().getSource(this.getId()).getClusterLeaves(t,null,null,(s,d)=>s?r(s):i(this.sortClusterFeatures(d)))})),Zh(this,"sortClusterFeatures",t=>t),Zh(this,"updatePolygons",()=>{const t=this.getSourceFeatures().filter(r=>r.properties.isPolygon);let i=[];if(t.length&&(i=[...new Set(t.map(r=>r.id))].sort()),i.length!==this._polygonsOnMap.length||i.some((r,a)=>r!==this._polygonsOnMap[a])){this._polygonsOnMap=i;const r=i.map(o=>this._polygons[o]);this.getMapGL().getSource(`${this.getId()}-polygons`).setData(Wo(r))}}),Zh(this,"onSpiderClose",t=>{this.setClusterOpacity(t)}),this.createSource(),this.createLayers()}setFeatures(e=[]){super.setFeatures(e),this._hasPolygons=e.some(t=>t.geometry.type==="Polygon"),this._hasPolygons&&(this._polygons={},this._polygonsOnMap=[],this._features=this._features.map(t=>t.geometry.type==="Polygon"?(this._polygons[t.id]=t,sy(sy({},t),{},{geometry:QD(t).geometry,properties:sy(sy({},t.properties),{},{isPolygon:!0})})):t))}createSource(e){const t=this.getId();this.setSource(t,sy({type:"geojson",clusterMaxZoom:19,clusterRadius:50},e)),this.setSource(`${t}-polygons`,{type:"geojson",data:Wo()})}createLayers(){const e=this.getId(),{fillColor:t,strokeColor:i=Hf,radius:r}=this.options,a=!0;this.addLayer(Xf({id:e,color:t,strokeColor:i,radius:r,filter:RD}),{isInteractive:a}),this.addLayer(Zf({id:e,color:t,source:`${e}-polygons`}),{isInteractive:a}),this.addLayer(Kf({id:e,color:i,source:`${e}-polygons`}))}setOpacity(e){super.setOpacity(e),this.spider&&(this.setClusterOpacity(this.spider.getId(),!0),this.spider.setOpacity(e))}async spiderfy(e,t){if(this.spider&&!this.spider.isExpanded(e)){this.spider.unspiderfy();const i=await this.getClusterFeatures(e);this.spider.spiderfy(e,t,i),this.setClusterOpacity(e,!0),this.getMapGL().on("zoom",this.unspiderfy)}}setClusterOpacity(e,t){if(e){const{opacity:i}=this.options;this.getMapGL().setPaintProperty(`${this.getId()}-cluster`,"circle-opacity",t&&i>=.1?["case",["==",["get","cluster_id"],e],.1,i]:i)}}getSourceFeatures(){return this.getMapGL().querySourceFeatures(this.getId())}onAdd(){const e=this.getMapGL(),{radius:t,fillColor:i,opacity:r}=this.options;this.spider=new nG(e,{onClick:this.onClick,radius:t,fillColor:i,opacity:r,onClose:this.onSpiderClose}),this.setOpacity(this.options.opacity)}onRemove(){this.unspiderfy(),this.spider=null}}function Iw(n,e,t){return(e=aG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aG(n){var e=sG(n,"string");return typeof e=="symbol"?e:e+""}function sG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class oG extends US{constructor(...e){super(...e),Iw(this,"onClick",t=>{const{feature:i}=t;if(i.properties.cluster)this.zoomToCluster(i.properties.cluster_id,i.geometry.coordinates);else{if(typeof i.id=="number"&&typeof i.properties.id=="string"){const{type:r,properties:a,geometry:o}=i,{id:s}=a;t.feature={type:r,id:s,properties:a,geometry:o}}this.fire("click",t)}}),Iw(this,"onSourceData",t=>{t.sourceId===this.getId()&&this.getSourceFeatures().length&&(this.getMapGL().off("sourcedata",this.onSourceData),this.updatePolygons())}),Iw(this,"getClusterFeatures",t=>new Promise((i,r)=>{this.getMapGL().getSource(this.getId()).getClusterLeaves(t,null,null,(s,d)=>s?r(s):i(d))}))}createSource(){super.createSource({cluster:!0,data:Wo(this.getFeatures())})}createLayers(){const e=this.getId(),{fillColor:t,strokeColor:i=Hf,countColor:r=RS}=this.options,a=!0;super.createLayers(),this.addLayer(WD({id:e,color:t,strokeColor:i}),{isInteractive:a}),this.addLayer(qD({id:e,color:r}))}onAdd(){if(super.onAdd(),this._hasPolygons){const e=this.getMapGL();e.on("sourcedata",this.onSourceData),e.on("moveend",this.updatePolygons),this.updatePolygons()}}onRemove(){if(super.onRemove(),this._hasPolygons){const e=this.getMapGL();e&&(e.off("sourcedata",this.onSourceData),e.off("moveend",this.updatePolygons))}}}var JD="Expected a function",HN=NaN,lG="[object Symbol]",cG=/^\s+|\s+$/g,uG=/^[-+]0x[0-9a-f]+$/i,dG=/^0b[01]+$/i,hG=/^0o[0-7]+$/i,pG=parseInt,mG=typeof Eo=="object"&&Eo&&Eo.Object===Object&&Eo,fG=typeof self=="object"&&self&&self.Object===Object&&self,gG=mG||fG||Function("return this")(),yG=Object.prototype,vG=yG.toString,xG=Math.max,bG=Math.min,Aw=function(){return gG.Date.now()};function _G(n,e,t){var i,r,a,o,s,d,p=0,m=!1,y=!1,g=!0;if(typeof n!="function")throw new TypeError(JD);e=XN(e)||0,Zb(t)&&(m=!!t.leading,y="maxWait"in t,a=y?xG(XN(t.maxWait)||0,e):a,g="trailing"in t?!!t.trailing:g);function _(L){var O=i,Y=r;return i=r=void 0,p=L,o=n.apply(Y,O),o}function x(L){return p=L,s=setTimeout(k,e),m?_(L):o}function T(L){var O=L-d,Y=L-p,X=e-O;return y?bG(X,a-Y):X}function E(L){var O=L-d,Y=L-p;return d===void 0||O>=e||O<0||y&&Y>=a}function k(){var L=Aw();if(E(L))return v(L);s=setTimeout(k,T(L))}function v(L){return s=void 0,g&&i?_(L):(i=r=void 0,o)}function w(){s!==void 0&&clearTimeout(s),p=0,i=d=r=s=void 0}function N(){return s===void 0?o:v(Aw())}function S(){var L=Aw(),O=E(L);if(i=arguments,r=this,d=L,O){if(s===void 0)return x(d);if(y)return s=setTimeout(k,e),_(d)}return s===void 0&&(s=setTimeout(k,e)),o}return S.cancel=w,S.flush=N,S}function wG(n,e,t){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(JD);return Zb(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),_G(n,e,{leading:i,maxWait:e,trailing:r})}function Zb(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function TG(n){return!!n&&typeof n=="object"}function SG(n){return typeof n=="symbol"||TG(n)&&vG.call(n)==lG}function XN(n){if(typeof n=="number")return n;if(SG(n))return HN;if(Zb(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Zb(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(cG,"");var t=dG.test(n);return t||hG.test(n)?pG(n.slice(2),t?2:8):uG.test(n)?HN:+n}var CG=wG;const EG=rc(CG);function kG(n,e,t){return(e=NG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NG(n){var e=LG(n,"string");return typeof e=="symbol"?e:e+""}function LG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class IG extends ao.Marker{constructor(e,t={}){const i=AG(e);super({element:i}),kG(this,"onClick",r=>{r.stopPropagation(),this.fire("click")}),this.setOpacity(t.opacity),i.addEventListener("click",this.onClick)}setOpacity(e){typeof e=="number"&&(this.getElement().style.opacity=e)}setVisibility(e){this.getElement().style.display=e?"block":"none"}}const AG=n=>{const e=n.reduce((p,m)=>p+m.count,0),t=e>=1e3?22:e>=100?20:e>=10?18:16,i=e>=1e3?50:e>=100?32:e>=10?24:18,r=Math.round(i*.6),a=i*2;let o=0,s=`<svg width="${a}" height="${a}" viewbox="0 0 ${a} ${a}" text-anchor="middle" style="font:${t}px sans-serif;cursor:pointer;filter:drop-shadow(0 0 2px #777);">`;n.forEach(p=>{s+=PG(o/e,(o+p.count)/e,i,r,p.color),o+=p.count}),s+=`<circle cx="${i}" cy="${i}" r="${r}" fill="white" />`,s+=`<text dominant-baseline="central" transform="translate(${i}, ${i})">${e}</text></svg>`;const d=document.createElement("div");return d.innerHTML=s,d.firstChild},PG=(n,e,t,i,r)=>{e-n===1&&(e-=1e-5);const a=2*Math.PI*(n-.25),o=2*Math.PI*(e-.25),s=Math.cos(a),d=Math.sin(a),p=Math.cos(o),m=Math.sin(o),y=e-n>.5?1:0;return['<path d="M',t+i*s,t+i*d,"L",t+t*s,t+t*d,"A",t,t,0,y,1,t+t*p,t+t*m,"L",t+i*p,t+i*m,"A",i,i,0,y,0,t+i*s,t+i*d,'" fill="'+r+'" />'].join(" ")};function ZN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function KN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(t),!0).forEach(function(i){Kh(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Kh(n,e,t){return(e=DG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function DG(n){var e=MG(n,"string");return typeof e=="symbol"?e:e+""}function MG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class OG extends US{constructor(...e){super(...e),Kh(this,"clusters",{}),Kh(this,"clustersOnScreen",{}),Kh(this,"onSourceData",t=>{t.sourceId===this.getId()&&this.getSourceFeatures().length&&this.updateClusters()}),Kh(this,"onClick",t=>{const{feature:i}=t;if(i.properties.cluster)this.zoomToCluster(i.properties.cluster_id,i.geometry.coordinates);else{if(typeof i.id=="number"&&typeof i.properties.id=="string"){const{type:r,properties:a,geometry:o}=i,{id:s}=a;t.feature={type:r,id:s,properties:a,geometry:o}}this.fire("click",t)}}),Kh(this,"sortClusterFeatures",t=>{const i=this.options.groups.map(r=>r.color);return t.sort((r,a)=>{const o=i.indexOf(r.properties.color),s=i.indexOf(a.properties.color);return(o>s)-(o<s)})}),Kh(this,"updateClusters",EG(()=>{const{groups:t,opacity:i}=this.options,r={},a=this.getSourceFeatures();for(let o=0;o<a.length;o++){const{geometry:s,properties:d}=a[o],{coordinates:p}=s,{cluster:m,cluster_id:y}=d;if(!m)continue;let g=this.clusters[y];if(!g){const _=t.map(x=>KN(KN({},x),{},{count:d[x.color]}));g=new IG(_,{opacity:i}),g.setLngLat(p),g.on("click",()=>{this.zoomToCluster(y,p)}),this.clusters[y]=g}r[y]=g,this.clustersOnScreen[y]||g.addTo(this.getMapGL())}for(const o in this.clustersOnScreen)r[o]||this.clustersOnScreen[o].remove();this.clustersOnScreen=r,this._hasPolygons&&this.updatePolygons()},100))}createSource(){super.createSource({cluster:!0,clusterProperties:this.options.groups.reduce((e,{color:t})=>(e[t]=["+",["case",["==",["get","color"],t],1,0]],e),{}),data:Wo(this.getFeatures())})}onAdd(){super.onAdd();const e=this.getMapGL();e.on("sourcedata",this.onSourceData),e.on("move",this.updateClusters),e.on("moveend",this.updateClusters),this.updateClusters()}onRemove(){super.onRemove();const e=this.getMapGL();e&&(e.off("sourcedata",this.onSourceData),e.off("move",this.updateClusters),e.off("moveend",this.updateClusters));for(const t in this.clustersOnScreen)this.clustersOnScreen[t].remove();this.clustersOnScreen={},this.clusters={}}setOpacity(e){if(super.setOpacity(e),this.isOnMap())for(const t in this.clusters)this.clusters[t].setOpacity(e)}setClusterOpacity(e,t){if(e){const i=this.clusters[e],{opacity:r}=this.options;i&&i.setOpacity(t?r<.1?r:.1:r)}}setVisibility(e){if(super.setVisibility(e),this.isOnMap())for(const t in this.clusters)this.clusters[t].setVisibility(e)}}var eM={exports:{}};(function(n,e){var t=function(){var i={},r=Math.PI/180,a=180/Math.PI,o=6378137,s=20037508342789244e-9;function d(m){return Number(m)===m&&m%1!==0}function p(m){if(m=m||{},this.size=m.size||256,this.expansion=m.antimeridian===!0?2:1,!i[this.size]){var y=this.size,g=i[this.size]={};g.Bc=[],g.Cc=[],g.zc=[],g.Ac=[];for(var _=0;_<30;_++)g.Bc.push(y/360),g.Cc.push(y/(2*Math.PI)),g.zc.push(y/2),g.Ac.push(y),y*=2}this.Bc=i[this.size].Bc,this.Cc=i[this.size].Cc,this.zc=i[this.size].zc,this.Ac=i[this.size].Ac}return p.prototype.px=function(m,y){if(d(y)){var g=this.size*Math.pow(2,y),_=g/2,x=g/360,T=g/(2*Math.PI),E=g,k=Math.min(Math.max(Math.sin(r*m[1]),-.9999),.9999),v=_+m[0]*x,w=_+.5*Math.log((1+k)/(1-k))*-T;return v>E*this.expansion&&(v=E*this.expansion),w>E&&(w=E),[v,w]}else{var _=this.zc[y],k=Math.min(Math.max(Math.sin(r*m[1]),-.9999),.9999),v=Math.round(_+m[0]*this.Bc[y]),w=Math.round(_+.5*Math.log((1+k)/(1-k))*-this.Cc[y]);return v>this.Ac[y]*this.expansion&&(v=this.Ac[y]*this.expansion),w>this.Ac[y]&&(w=this.Ac[y]),[v,w]}},p.prototype.ll=function(m,y){if(d(y)){var g=this.size*Math.pow(2,y),_=g/360,x=g/(2*Math.PI),T=g/2,E=(m[1]-T)/-x,k=(m[0]-T)/_,v=a*(2*Math.atan(Math.exp(E))-.5*Math.PI);return[k,v]}else{var E=(m[1]-this.zc[y])/-this.Cc[y],k=(m[0]-this.zc[y])/this.Bc[y],v=a*(2*Math.atan(Math.exp(E))-.5*Math.PI);return[k,v]}},p.prototype.bbox=function(m,y,g,_,x){_&&(y=Math.pow(2,g)-1-y);var T=[m*this.size,(+y+1)*this.size],E=[(+m+1)*this.size,y*this.size],k=this.ll(T,g).concat(this.ll(E,g));return x==="900913"?this.convert(k,"900913"):k},p.prototype.xyz=function(m,y,g,_){_==="900913"&&(m=this.convert(m,"WGS84"));var x=[m[0],m[1]],T=[m[2],m[3]],E=this.px(x,y),k=this.px(T,y),v=[Math.floor(E[0]/this.size),Math.floor((k[0]-1)/this.size)],w=[Math.floor(k[1]/this.size),Math.floor((E[1]-1)/this.size)],N={minX:Math.min.apply(Math,v)<0?0:Math.min.apply(Math,v),minY:Math.min.apply(Math,w)<0?0:Math.min.apply(Math,w),maxX:Math.max.apply(Math,v),maxY:Math.max.apply(Math,w)};if(g){var S={minY:Math.pow(2,y)-1-N.maxY,maxY:Math.pow(2,y)-1-N.minY};N.minY=S.minY,N.maxY=S.maxY}return N},p.prototype.convert=function(m,y){return y==="900913"?this.forward(m.slice(0,2)).concat(this.forward(m.slice(2,4))):this.inverse(m.slice(0,2)).concat(this.inverse(m.slice(2,4)))},p.prototype.forward=function(m){var y=[o*m[0]*r,o*Math.log(Math.tan(Math.PI*.25+.5*m[1]*r))];return y[0]>s&&(y[0]=s),y[0]<-20037508342789244e-9&&(y[0]=-20037508342789244e-9),y[1]>s&&(y[1]=s),y[1]<-20037508342789244e-9&&(y[1]=-20037508342789244e-9),y},p.prototype.inverse=function(m){return[m[0]*a/o,(Math.PI*.5-2*Math.atan(Math.exp(-m[1]/o)))*a]},p}();n.exports=t})(eM);var RG=eM.exports;const $G=rc(RG),zG=6378137,FG=(n,e)=>!(n[0]>e[2]||n[2]<e[0]||n[3]<e[1]||n[1]>e[3]);function QN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(t),!0).forEach(function(i){Ma(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Ma(n,e,t){return(e=BG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BG(n){var e=UG(n,"string");return typeof e=="symbol"?e:e+""}function UG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class GG extends US{constructor(e){super(jG({tileSize:512,clusterSize:110,maxSpiderSize:500,debug:!0},e)),Ma(this,"currentTiles",[]),Ma(this,"currentClusters",[]),Ma(this,"currentClusterIds",""),Ma(this,"currentZoom",0),Ma(this,"tileClusters",{}),Ma(this,"cluserCount",0),Ma(this,"getResolution",i=>Math.PI*zG*2/this.options.tileSize/Math.pow(2,i)),Ma(this,"updateClusters",i=>{const r=i.reduce((o,s)=>{const[d,p,m]=s.split("/"),y=this.isOutsideBounds(this.getTileBounds(p,m,d));return[...o.filter(y),...this.tileClusters[s]]},this.currentClusters),a=this.getClusterIds(r);this.currentClusterIds!==a&&(this.getMapGL().getSource(this.getId()).setData(Wo(r)),this.currentClusterIds=a,this.currentClusters=r)}),Ma(this,"onClick",i=>{const{geometry:r,properties:a}=i.feature,{cluster:o,bounds:s,id:d,cluster_id:p}=a;o?d?this.spiderfy(p,r.coordinates):this.zoomToBounds(s):this.fire("click",i)}),Ma(this,"onSourceData",i=>{if(i.sourceId===this.getId()&&i.tile){const r=this.getTileId(i.tile);this.tileClusters[r]||(this.tileClusters[r]="pending",this._isLoading=!0,this.options.load(this.getTileParams(r),this.onTileLoad))}}),Ma(this,"onMoveEnd",async()=>{const i=await this.getVisibleTiles();if(i.join("-")!==this.currentTiles.join("-")){this.currentTiles=i;const r=i.filter(a=>Array.isArray(this.tileClusters[a]));r.length&&this.updateClusters(r)}}),Ma(this,"onTileLoad",async(i,r)=>{this.tileClusters[i]=r,(await this.getVisibleTiles()).includes(i)&&this.updateClusters([i]),this._isLoading=!1}),Ma(this,"getBounds",()=>this.options.bounds),Ma(this,"areTilesUpdated",()=>{const i=this._map.getMapGL(),r=Math.floor(i.getZoom());return this.getSourceCacheTiles().every(({tileID:a})=>a.canonical.z===r)}),Ma(this,"getSourceCacheTiles",()=>{const r=this._map.getMapGL().style.sourceCaches[this.getId()];return r?Object.values(r._tiles):[]}),Ma(this,"getClusterFeatures",i=>{const r=this.currentClusters.find(a=>a.id===i);if(r)return r.properties.id.split(",").slice(0,this.options.maxSpiderSize).map(a=>({type:"Feature",id:a,geometry:r.geometry,properties:{id:a}}))}),Ma(this,"isOutsideBounds",i=>({geometry:r})=>{const{coordinates:a}=r.type==="Point"?r:Y1(r).geometry,[o,s]=a;return o<=i[0]||o>=i[2]||s<=i[1]||s>=i[3]}),Ma(this,"getVisibleTiles",async()=>{for(;!this.areTilesUpdated();)await new Promise(i=>setTimeout(i,100));return this.getSourceCacheTiles().map(this.getTileId).sort()}),Ma(this,"getClusterIds",i=>i.map(r=>r.id).sort((r,a)=>r-a).join());const t=new $G({size:this.options.tileSize});this.getTileBounds=(i,r,a)=>t.bbox(i,r,a)}createSource(){super.createSource({data:Wo()})}createLayers(){const e=this.getId(),{fillColor:t,strokeColor:i=Hf,countColor:r=RS,radius:a}=this.options,o=!0;this.addLayer(Xf({id:e,color:t,strokeColor:i,radius:a,filter:RD}),{isInteractive:o}),this.addLayer(Zf({id:e,color:t}),{isInteractive:o}),this.addLayer(Kf({id:e,color:i})),this.addLayer(WD({id:e,color:t,strokeColor:i}),{isInteractive:o}),this.addLayer(qD({id:e,color:r}))}getTileId(e){const{x:t,y:i,z:r}=e.tileID.canonical;return`${r}/${t}/${i}`}getTileParams(e){const[t,i,r]=e.split("/"),{clusterSize:a}=this.options,o=this._map.getMapGL();return{tileId:e,bbox:this.getTileBounds(i,r,t).join(","),clusterSize:Math.round(this.getResolution(t)*a),includeClusterPoints:Number(t)===o.getMaxZoom()}}onAdd(){super.onAdd();const e=this._map.getMapGL();e.on("sourcedata",this.onSourceData),e.on("moveend",this.onMoveEnd)}onRemove(){super.onRemove();const e=this._map.getMapGL();e&&(e.off("sourcedata",this.onSourceData),e.off("moveend",this.onMoveEnd))}zoomToBounds(e){if(e){let t;if(Array.isArray(e))t=e;else if(typeof e=="string")try{t=JSON.parse(e)}catch{return}t&&this._map.getMapGL().fitBounds(t,{padding:40})}}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tM=Symbol("Comlink.proxy"),YG=Symbol("Comlink.endpoint"),VG=Symbol("Comlink.releaseProxy"),Pw=Symbol("Comlink.finalizer"),gb=Symbol("Comlink.thrown"),nM=n=>typeof n=="object"&&n!==null||typeof n=="function",WG={canHandle:n=>nM(n)&&n[tM],serialize(n){const{port1:e,port2:t}=new MessageChannel;return rM(n,e),[t,[t]]},deserialize(n){return n.start(),sM(n)}},qG={canHandle:n=>nM(n)&&gb in n,serialize({value:n}){let e;return n instanceof Error?e={isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:e={isError:!1,value:n},[e,[]]},deserialize(n){throw n.isError?Object.assign(new Error(n.value.message),n.value):n.value}},iM=new Map([["proxy",WG],["throw",qG]]);function HG(n,e){for(const t of n)if(e===t||t==="*"||t instanceof RegExp&&t.test(e))return!0;return!1}function rM(n,e=globalThis,t=["*"]){e.addEventListener("message",function i(r){if(!r||!r.data)return;if(!HG(t,r.origin)){console.warn(`Invalid origin '${r.origin}' for comlink proxy`);return}const{id:a,type:o,path:s}=Object.assign({path:[]},r.data),d=(r.data.argumentList||[]).map(tp);let p;try{const m=s.slice(0,-1).reduce((g,_)=>g[_],n),y=s.reduce((g,_)=>g[_],n);switch(o){case"GET":p=y;break;case"SET":m[s.slice(-1)[0]]=tp(r.data.value),p=!0;break;case"APPLY":p=y.apply(m,d);break;case"CONSTRUCT":{const g=new y(...d);p=cM(g)}break;case"ENDPOINT":{const{port1:g,port2:_}=new MessageChannel;rM(n,_),p=JG(g,[g])}break;case"RELEASE":p=void 0;break;default:return}}catch(m){p={value:m,[gb]:0}}Promise.resolve(p).catch(m=>({value:m,[gb]:0})).then(m=>{const[y,g]=Jb(m);e.postMessage(Object.assign(Object.assign({},y),{id:a}),g),o==="RELEASE"&&(e.removeEventListener("message",i),aM(e),Pw in n&&typeof n[Pw]=="function"&&n[Pw]())}).catch(m=>{const[y,g]=Jb({value:new TypeError("Unserializable return value"),[gb]:0});e.postMessage(Object.assign(Object.assign({},y),{id:a}),g)})}),e.start&&e.start()}function XG(n){return n.constructor.name==="MessagePort"}function aM(n){XG(n)&&n.close()}function sM(n,e){const t=new Map;return n.addEventListener("message",function(r){const{data:a}=r;if(!a||!a.id)return;const o=t.get(a.id);if(o)try{o(a)}finally{t.delete(a.id)}}),V1(n,t,[],e)}function qx(n){if(n)throw new Error("Proxy has been released and is not useable")}function oM(n){return Ym(n,new Map,{type:"RELEASE"}).then(()=>{aM(n)})}const Kb=new WeakMap,Qb="FinalizationRegistry"in globalThis&&new FinalizationRegistry(n=>{const e=(Kb.get(n)||0)-1;Kb.set(n,e),e===0&&oM(n)});function ZG(n,e){const t=(Kb.get(e)||0)+1;Kb.set(e,t),Qb&&Qb.register(n,e,n)}function KG(n){Qb&&Qb.unregister(n)}function V1(n,e,t=[],i=function(){}){let r=!1;const a=new Proxy(i,{get(o,s){if(qx(r),s===VG)return()=>{KG(a),oM(n),e.clear(),r=!0};if(s==="then"){if(t.length===0)return{then:()=>a};const d=Ym(n,e,{type:"GET",path:t.map(p=>p.toString())}).then(tp);return d.then.bind(d)}return V1(n,e,[...t,s])},set(o,s,d){qx(r);const[p,m]=Jb(d);return Ym(n,e,{type:"SET",path:[...t,s].map(y=>y.toString()),value:p},m).then(tp)},apply(o,s,d){qx(r);const p=t[t.length-1];if(p===YG)return Ym(n,e,{type:"ENDPOINT"}).then(tp);if(p==="bind")return V1(n,e,t.slice(0,-1));const[m,y]=JN(d);return Ym(n,e,{type:"APPLY",path:t.map(g=>g.toString()),argumentList:m},y).then(tp)},construct(o,s){qx(r);const[d,p]=JN(s);return Ym(n,e,{type:"CONSTRUCT",path:t.map(m=>m.toString()),argumentList:d},p).then(tp)}});return ZG(a,n),a}function QG(n){return Array.prototype.concat.apply([],n)}function JN(n){const e=n.map(Jb);return[e.map(t=>t[0]),QG(e.map(t=>t[1]))]}const lM=new WeakMap;function JG(n,e){return lM.set(n,e),n}function cM(n){return Object.assign(n,{[tM]:!0})}function Jb(n){for(const[e,t]of iM)if(t.canHandle(n)){const[i,r]=t.serialize(n);return[{type:"HANDLER",name:e,value:i},r]}return[{type:"RAW",value:n},lM.get(n)||[]]}function tp(n){switch(n.type){case"HANDLER":return iM.get(n.name).deserialize(n.value);case"RAW":return n.value}}function Ym(n,e,t,i){return new Promise(r=>{const a=e7();e.set(a,r),n.start&&n.start(),n.postMessage(Object.assign({id:a},t),i)})}function e7(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}let Dw;const t7=n=>new Promise((e,t)=>{if(Dw)e(Dw);else{const i=sM(typeof SharedWorker<"u"?new SharedWorker(new URL(""+new URL("ee_worker-D6uBXvUX.js",import.meta.url).href,import.meta.url)).port:new Worker(new URL(""+new URL("ee_worker-D6uBXvUX.js",import.meta.url).href,import.meta.url)));i.setAuthToken(cM(n)).then(()=>{Dw=i,e(i)}).catch(t)}}),eL=(n,e)=>n.replace(/\{ *([\w_-]+) *\}/g,(t,i)=>e[i]),tL=n=>Array.isArray(n)?n.sort((e,t)=>t.id-e.id).map(({id:e,source:t})=>`${e}-${t}`).join("-"):"",n7={bandReducer:"sum",popup:"{name}: {value} {unit}",nullPopup:"{name}: {noValue}",noValue:"no value"},i7=["aggregationType","band","bandReducer","buffer","cloudScore","data","datasetId","filter","format","legend","maskOperator","methods","mosaic","periodReducer","style","tileScale","unmaskAggregation","useCentroid"],r7=n=>{const e=Object.keys(n).filter(t=>i7.includes(t)).reduce((t,i)=>(t[i]=n[i],t),{});return e.data&&!e.buffer&&(e.data=e.data.filter(t=>t.geometry.type!=="Point")),e},uM=n=>{if(n===void 0)return t=>t;const e=Math.pow(10,n);return t=>Math.round(t*e)/e},a7=n=>n<1?3:n<10?2:n<100?1:0,s7=(n,e)=>uM(typeof e=="number"?e:a7(Math.abs(n)))(n),nL=n=>n*.621371192;function iL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $m(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(t),!0).forEach(function(i){py(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function py(n,e,t){return(e=o7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o7(n){var e=l7(n,"string");return typeof e=="symbol"?e:e+""}function l7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class c7 extends yu{constructor(e){super($m($m({},n7),e)),py(this,"addTo",t=>new Promise((i,r)=>{this._map=t,t.styleIsLoaded()?(this._isLoading=!0,this.getWorkerInstance().then(async a=>{if(this.worker=a,this._tileUrl||(this._tileUrl=await a.getTileUrl()),!this._terminated){this.createSource(),this.createLayers(),super.addTo(t),this.onLoad(),this._isLoading=!1;const{preload:o,data:s}=this.options;o&&s&&this.getAggregations()}i()}).catch(a=>{this._isLoading=!1,r(a)})):i()})),py(this,"getValue",async t=>{const{band:i,style:r}=this.options,a=await this.worker.getValue(t),o=a[i]||Object.values(a)[0],s=Array.isArray(r)&&r.find(d=>d.value===o);return s?s.name:o}),py(this,"showValue",(t,i)=>this.getValue(t).then(r=>{const{lng:a,lat:o}=t,s=this.options;let d;r===null?d=eL(s.nullPopup,s):d=eL(s.popup,$m($m({},s),{},{value:typeof r=="number"?s7(r,i):r})),this._map.openPopup(document.createTextNode(d),[a,o])})),py(this,"getAggregations",()=>(this._aggregationsPromise||(this._aggregationsPromise=this.worker.getAggregations()),this._aggregationsPromise))}removeFrom(e,t){this._terminated=!t,super.removeFrom(e)}getWorkerInstance(){return this._workerPromise||(this._workerPromise=new Promise((e,t)=>t7(this.options.getAuthToken).then(i=>{new i(r7(this.options)).then(e)}).catch(t))),this._workerPromise}createSource(){const e=this.getId();this.setSource(`${e}-raster`,{type:"raster",tileSize:256,tiles:[this._tileUrl]}),this.options.data&&this.setSource(e,{type:"geojson",data:Wo(this.getFilteredFeatures())})}createLayers(){const e=this.getId(),t=e,i=!0;this.addLayer({id:`${e}-raster`,type:"raster",source:`${e}-raster`}),this.options.data&&(this.addLayer(Zf({id:e,source:t,opacity:.9}),{isInteractive:i}),this.addLayer(Kf({id:e,source:t})),this.addLayer(Xf({id:e,source:`${e}-points`,radius:2,color:"#333"})))}setFeatures(e=[]){this.setSource(`${this.getId()}-points`,{type:"geojson",data:Wo(e.filter(T9))}),super.setFeatures(e.map(this.createBuffer.bind(this)))}createBuffer(e){const{buffer:t}=this.options;return t&&e.geometry.type==="Point"?$m($m({},e),{},{geometry:FD(e,t/1e3)}):e}setOpacity(e){super.setOpacity(e);const i=`${this.getId()}-polygon`,r=this.getMapGL();r&&r.getLayer(i)&&r.setPaintProperty(i,"fill-opacity",0)}getFilteredFeatures(){const e=this.getFeatures(),t=this._filteredFeatureIds;return Array.isArray(t)?e.filter(i=>t.includes(i.properties.id)):e}filter(e){this._filteredFeatureIds=e;const t=this.getMapGL().getSource(this.getId());t&&t.setData(Wo(this.getFilteredFeatures()))}}var W1={exports:{}};(function(n,e){(function(t,i){i(e,n)})(Eo,function(t,i){var r={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function a(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function o(p){try{delete window[p]}catch{window[p]=void 0}}function s(p){var m=document.getElementById(p);m&&document.getElementsByTagName("head")[0].removeChild(m)}function d(p){var m=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],y=p,g=m.timeout||r.timeout,_=m.jsonpCallback||r.jsonpCallback,x=void 0;return new Promise(function(T,E){var k=m.jsonpCallbackFunction||a(),v=_+"_"+k;window[k]=function(N){T({ok:!0,json:function(){return Promise.resolve(N)}}),x&&clearTimeout(x),s(v),o(k)},y+=y.indexOf("?")===-1?"?":"&";var w=document.createElement("script");w.setAttribute("src",""+y+_+"="+k),m.charset&&w.setAttribute("charset",m.charset),m.nonce&&w.setAttribute("nonce",m.nonce),m.referrerPolicy&&w.setAttribute("referrerPolicy",m.referrerPolicy),m.crossorigin&&w.setAttribute("crossorigin","true"),w.id=v,document.getElementsByTagName("head")[0].appendChild(w),x=setTimeout(function(){E(new Error("JSONP request to "+p+" timed out")),o(k),s(v),window[k]=function(){o(k)}},g),w.onerror=function(){E(new Error("JSONP request to "+p+" failed")),o(k),s(v),x&&clearTimeout(x)}})}i.exports=d})})(W1,W1.exports);var u7=W1.exports;const d7=rc(u7);function Mw(n,e,t){return(e=h7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h7(n){var e=p7(n,"string");return typeof e=="symbol"?e:e+""}function p7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class m7 extends yu{constructor(...e){super(...e),Mw(this,"createLayer",()=>{const t=this.getId();this.addLayer({id:`${t}-raster`,type:"raster",source:t})}),Mw(this,"onMetaDataLoad",t=>{if(t.statusCode!==200)throw new Error(`Bing Imagery Metadata error: 
`+JSON.stringify(t,null,"  "));return t.resourceSets[0].resources[0]}),Mw(this,"updateAttribution",()=>{const t=this.getMapGL().getSource(this.getId());t&&(t.attribution=this.getAttribution(),this.getMap()._updateAttributions())})}async createSource(){const{imageUrl:e,imageUrlSubdomains:t,imageryProviders:i}=await this.loadMetaData();this._imageryProviders=i,this.setSource(this.getId(),{type:"raster",tiles:t.map(r=>e.replace("{subdomain}",r)),tileSize:256})}async addTo(e){this._isLoading=!0,await this.createSource(),this.createLayer(),await super.addTo(e),this._isLoading=!1,e.orderOverlays(),this.getMapGL().on("moveend",this.updateAttribution),this.updateAttribution(),this.addBingMapsLogo(),this.options.opacity!==void 0&&this.setOpacity(this.options.opacity)}onRemove(){const e=this.getMapGL();if(e&&(e.off("moveend",this.updateAttribution),this._brandLogoImg)){const t=e.getContainer();t.removeChild(this._brandLogoImg),t.classList.remove("dhis2-map-bing")}}async loadMetaData(){const{apiKey:e,style:t="Road"}=this.options,r=`https://dev.virtualearth.net/REST/V1/Imagery/Metadata/${t}?output=json&include=ImageryProviders&culture=en-GB&key=${e}&uriScheme=https`;return d7(r,{jsonpCallback:"jsonp"}).then(a=>a.json()).then(this.onMetaDataLoad)}addBingMapsLogo(){const e=this.getMap().getContainer(),t=document.createElement("div");t.className="dhis2-map-bing-logo",e.appendChild(t),e.classList.add("dhis2-map-bing"),this._brandLogoImg=t}getAttribution(){const e=this.getMapGL(),[t,i]=e.getBounds().toArray(),r=[...t.reverse(),...i.reverse()],a=e.getZoom()<1?1:e.getZoom();return this._imageryProviders.filter(({coverageAreas:s})=>s.some(({bbox:d,zoomMin:p,zoomMax:m})=>FG(d,r)&&a>=p&&a<=m)).map(s=>s.attribution).join(", ")}}function rL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ow(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(t),!0).forEach(function(i){f7(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function f7(n,e,t){return(e=g7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g7(n){var e=y7(n,"string");return typeof e=="symbol"?e:e+""}function y7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class v7 extends yu{constructor(e){super(e),this.setImages(),this.createSource(),this.createLayers()}createLayers(){const e=this.getId(),{style:t={},buffer:i,bufferStyle:r,label:a,labelStyle:o}=this.options,{radius:s,color:d,strokeColor:p,weight:m,opacityFactor:y}=t,g=!0;i&&(this.addLayer(zS(Ow({id:e},r))),this.addLayer(FS(Ow({id:e},r)))),this.addLayer(Zf({id:e,color:d}),{isInteractive:g,opacityFactor:y}),this.addLayer(Kf({id:e,color:p,width:m})),this.addLayer(y8({id:e,color:p||d,width:m}),{isInteractive:g}),this.addLayer(Xf({id:e,color:d,strokeColor:p,width:m,radius:s}),{isInteractive:g}),this.addLayer(VD({id:e}),{isInteractive:g}),a&&this.addLayer(Q0(Ow({id:e,label:a},o)))}}function Rw(n,e,t){return(e=x7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function x7(n){var e=b7(n,"string");return typeof e=="symbol"?e:e+""}function b7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class _7 extends ao.Evented{constructor(e){super(),Rw(this,"onClick",t=>{const{feature:i}=t;if(i){const{id:r}=i.layer,a=this._layers.find(o=>o.hasLayerId(r));a&&a.fire("click",t)}}),Rw(this,"onContextMenu",t=>{const{feature:i}=t;if(i){const{id:r}=i.layer,a=this._layers.find(o=>o.hasLayerId(r));a&&a.fire("contextmenu",t)}}),Rw(this,"onMouseMove",(t,i)=>{if(i){const{id:r}=i.layer,a=this._layers.find(o=>o.hasLayerId(r));a&&a.onMouseMove(t,i)}}),this.options=e||{},this._layers=[],this._layerConfigs=[],this._isVisible=!0}createLayer(){this._layerConfigs.forEach(e=>this._layers.push(this._map.createLayer(e))),this.options.opacity&&this.setOpacity(this.options.opacity)}addTo(e){this._map=e,this._layers.length||this.createLayer(),this._layers.forEach(t=>t.addTo(e)),this.on("contextmenu",this.onContextMenu)}removeFrom(e){this._layers.forEach(t=>t.removeFrom(e)),this.off("contextmenu",this.onContextMenu)}addLayer(e){this._layerConfigs.push(e)}isOnMap(){return this._layers.some(e=>e.isOnMap())}isInteractive(){return this._layers.some(e=>e.isInteractive())}setIndex(e=0){this.options.index=e,this._layers.forEach(t=>t.setIndex(e))}getIndex(){return this.options.index||0}getBounds(){return AD(this._layers)}getInteractiveIds(){return[].concat(...this._layers.map(e=>e.getInteractiveIds()))}getFeaturesById(e){return this._layers.map(t=>t.getFeaturesById(e)).flat()}setOpacity(e){this._layers.forEach(t=>t.setOpacity(e))}setVisibility(e){this._layers.forEach(t=>t.setVisibility(e)),this._isVisible=e}isVisible(){return this._isVisible}move(){this._layers.forEach(e=>e.move())}hasLayerId(e){return this._layers.some(t=>t.getLayers().some(i=>i.id===e))}}const $w={vectorStyle:Xb,tileLayer:ON,wmsLayer:ON,choropleth:_8,boundary:C8,markers:L8,events:D8,clientCluster:oG,donutCluster:OG,serverCluster:GG,earthEngine:c7,bingLayer:m7,geoJson:v7,group:_7},w7=130;class T7 extends ao.AttributionControl{_updateAttributions(){super._updateAttributions(),this._isLongAttribution()&&(this._compact===void 0&&(this._compact=!0,this._updateCompact()),this._updateCompactMinimize())}_isLongAttribution(){const e=this._container.clientWidth,t=this._map.getContainer().clientWidth;return e&&t&&e>t-w7}}function aL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function sL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(t),!0).forEach(function(i){S7(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function S7(n,e,t){return(e=C7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function C7(n){var e=E7(n,"string");return typeof e=="symbol"?e:e+""}function E7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const k7={visualizePitch:!0};class N7 extends ao.NavigationControl{constructor(e={}){super(sL(sL({},k7),e))}}var L7=A7,I7=Object.prototype.hasOwnProperty;function A7(){for(var n={},e=0;e<arguments.length;e++){var t=arguments[e];for(var i in t)I7.call(t,i)&&(n[i]=t[i])}return n}var dM={exports:{}};(function(n,e){(function(){var t={};n.exports=t,t.simpleFilter=function(i,r){return r.filter(function(a){return t.test(i,a)})},t.test=function(i,r){return t.match(i,r)!==null},t.match=function(i,r,a){a=a||{};var o=0,s=[],d=r.length,p=0,m=0,y=a.pre||"",g=a.post||"",_=a.caseSensitive&&r||r.toLowerCase(),x;i=a.caseSensitive&&i||i.toLowerCase();for(var T=0;T<d;T++)x=r[T],_[T]===i[o]?(x=y+x+g,o+=1,m+=1+m):m=0,p+=m,s[s.length]=x;return o===i.length?(p=_===i?1/0:p,{rendered:s.join(""),score:p}):null},t.filter=function(i,r,a){return!r||r.length===0?[]:typeof i!="string"?r:(a=a||{},r.reduce(function(o,s,d,p){var m=s;a.extract&&(m=a.extract(s));var y=t.match(i,m,a);return y!=null&&(o[o.length]={string:y.rendered,score:y.score,index:d,original:s}),o},[]).sort(function(o,s){var d=s.score-o.score;return d||o.index-s.index}))}})()})(dM);var P7=dM.exports,Jo=function(n){return this.component=n,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,n.el.parentNode.insertBefore(this.wrapper,n.el.nextSibling),this};Jo.prototype.show=function(){this.element.style.display="block"};Jo.prototype.hide=function(){this.element.style.display="none"};Jo.prototype.add=function(n){this.items.push(n)};Jo.prototype.clear=function(){this.items=[],this.active=0};Jo.prototype.isEmpty=function(){return!this.items.length};Jo.prototype.isVisible=function(){return this.element.style.display==="block"};Jo.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var n=0;n<this.items.length;n++)this.drawItem(this.items[n],this.active===n);this.show()};Jo.prototype.drawItem=function(n,e){var t=document.createElement("li"),i=document.createElement("a");e&&(t.className+=" active"),i.innerHTML=n.string,t.appendChild(i),this.element.appendChild(t),t.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),t.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,n)}).bind(this))};Jo.prototype.handleMouseUp=function(n){this.selectingListItem=!1,this.component.value(n.original),this.clear(),this.draw()};Jo.prototype.move=function(n){this.active=n,this.draw()};Jo.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};Jo.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};Jo.prototype.drawError=function(n){var e=document.createElement("li");e.innerHTML=n,this.element.appendChild(e),this.show()};var D7=Jo,M7=L7,O7=P7,R7=D7,uo=function(n,e,t){return t=t||{},this.options=M7({minLength:2,limit:5,filter:!0,hideOnBlur:!0},t),this.el=n,this.data=e||[],this.list=new R7(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(i){this.handleKeyUp(i.keyCode)}).bind(this),!1),this.el.addEventListener("keydown",(function(i){this.handleKeyDown(i)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(i){this.handlePaste(i)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};uo.prototype.handleKeyUp=function(n){n===40||n===38||n===27||n===13||n===9||this.handleInputChange(this.el.value)};uo.prototype.handleKeyDown=function(n){switch(n.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&n.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};uo.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};uo.prototype.handlePaste=function(n){if(n.clipboardData)this.handleInputChange(n.clipboardData.getData("Text"));else{var e=this;setTimeout(function(){e.handleInputChange(n.target.value)},100)}};uo.prototype.handleInputChange=function(n){if(this.query=this.normalize(n),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(e){for(var t=0;t<e.length&&(this.list.add(e[t]),t!==this.options.limit-1);t++);this.list.draw()}).bind(this))};uo.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};uo.prototype.update=function(n){this.data=n,this.handleKeyUp()};uo.prototype.clear=function(){this.data=[],this.list.clear()};uo.prototype.normalize=function(n){return n=n.toLowerCase(),n};uo.prototype.match=function(n,e){return n.indexOf(e)>-1};uo.prototype.value=function(n){if(this.selected=n,this.el.value=this.getItemValue(n),document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.el.dispatchEvent(e)}else this.el.fireEvent("onchange")};uo.prototype.getCandidates=function(n){var e={pre:"<strong>",post:"</strong>",extract:(function(i){return this.getItemValue(i)}).bind(this)},t;this.options.filter?(t=O7.filter(this.query,this.data,e),t=t.map((function(i){return{original:i.original,string:this.render(i.original,i.string)}}).bind(this))):t=this.data.map((function(i){var r=this.render(i);return{original:i,string:r}}).bind(this)),n(t)};uo.prototype.getItemValue=function(n){return n};uo.prototype.render=function(n,e){if(e)return e;for(var t=n.original?this.getItemValue(n.original):this.getItemValue(n),i=this.normalize(t),r=i.lastIndexOf(this.query);r>-1;){var a=r+this.query.length;t=t.slice(0,r)+"<strong>"+t.slice(r,a)+"</strong>"+t.slice(a),r=i.slice(0,r).lastIndexOf(this.query)}return t};uo.prototype.renderError=function(n){this.list.drawError(n)};var $7=uo,hM=$7,z7=hM;typeof window<"u"&&(window.Suggestions=hM);const F7=rc(z7);function oL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(t),!0).forEach(function(i){Pd(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Pd(n,e,t){return(e=j7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function j7(n){var e=B7(n,"string");return typeof e=="symbol"?e:e+""}function B7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const U7={maxZoom:15,limit:5};class G7{constructor(e){Pd(this,"_onKeyDown",t=>setTimeout(()=>{const{selected:i}=this._typeahead;i&&this._inputEl.value!==i.name&&(this._inputEl.addEventListener("keydown",this._onKeyDown),this._typeahead.selected=null,this._typeahead.clear(),this._popup.remove())},100)),Pd(this,"_onChange",()=>{const{value:t}=this._inputEl,{selected:i}=this._typeahead,{maxZoom:r}=this.options;if(t)if(!i)this._geocode(t);else{const{bounds:a,lng:o,lat:s,name:d}=i;this._map.fitBounds(a,{maxZoom:r}),this._popup.setLngLat([o,s]).setText(d),this._popup.isOpen()||this._popup.addTo(this._map),this._inputEl.addEventListener("keydown",this._onKeyDown)}}),Pd(this,"_clear",t=>{t&&t.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._popup.remove(),this._onChange(),this._inputEl.focus(),this._clearEl.style.display="none"}),Pd(this,"_showSuggestions",()=>{const{list:t,selected:i}=this._typeahead;i&&t.draw()}),Pd(this,"_toggleSearchControl",()=>{this._container.classList.toggle("dhis2-map-ctrl-search-collapsed")}),Pd(this,"_collapseSearchControl",()=>{this._toggleSearchControl(),this._container.addEventListener("click",this._expandSearchControl)}),Pd(this,"_expandSearchControl",()=>{this._toggleSearchControl(),this._container.removeEventListener("click",this._expandSearchControl),this._map.once("click",this._collapseSearchControl),this._inputEl.focus()}),this.options=lL(lL({},U7),e),this._popup=new ao.Popup({closeOnClick:!1}),this._collapsed=!0}geocodeRequest(e,t,i){const r={format:"json",q:e,limit:i.limit},a=new URLSearchParams(Object.entries(r));return fetch(`https://nominatim.openstreetmap.org/search?${a}`).then(o=>o.ok?o.json():[]).then(o=>o.map(s=>{const{display_name:d,lon:p,lat:m,boundingbox:y}=s,[g,_,x,T]=y;return{name:d,lat:m,lng:p,bounds:[[x,g],[T,_]]}}))}onAdd(e){this._map=e;const t=e._getUIString("SearchControl.SearchForPlace"),i=this._container=document.createElement("div");i.className="maplibregl-ctrl dhis2-map-ctrl-search";const r=document.createElement("span");r.className="geocoder-icon geocoder-icon-search",r.title=t,r.setAttribute("aria-label",t),this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.placeholder=t,this._inputEl.addEventListener("change",this._onChange),this._inputEl.addEventListener("click",this._showSuggestions);const a=document.createElement("div");return a.classList.add("geocoder-pin-right"),this._clearEl=document.createElement("button"),this._clearEl.className="geocoder-icon geocoder-icon-close",this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this._clear),this._loadingEl=document.createElement("span"),this._loadingEl.className="geocoder-icon geocoder-icon-loading",a.appendChild(this._clearEl),a.appendChild(this._loadingEl),i.appendChild(r),i.appendChild(this._inputEl),i.appendChild(a),this._typeahead=new F7(this._inputEl,[],{filter:!1,limit:this.options.limit}),this._typeahead.getItemValue=o=>o.name,this._collapseSearchControl(),i}onRemove(){return this._container.parentNode.removeChild(this._container),this._map=null,this}_geocode(e){this._loadingEl.style.display="block",this.geocodeRequest(e,this._map.getBounds(),this.options).then(t=>{let i=t;this._loadingEl.style.display="none",i.length?(i=t.slice(0,this.options.limit),this._clearEl.style.display="block"):(this._clearEl.style.display="none",this._typeahead.selected=null),this._typeahead.update(t),i.length===1&&this._typeahead.value(i[0])}).catch(()=>this._loadingEl.style.display="none")}}function Y7(n,e,t){t===void 0&&(t={});var i=zb(n),r=zb(e),a=sp(r[1]-i[1]),o=sp(r[0]-i[0]),s=sp(i[1]),d=sp(r[1]),p=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(o/2),2)*Math.cos(s)*Math.cos(d);return BP(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)),t.units)}function cL(n,e){return e===void 0&&(e={}),TU(n,function(t,i){var r=i.geometry.coordinates;return t+Y7(r[0],r[1],e)},0)}const Ml=(n,e,t,i)=>{const r=document.createElement(n);return e&&(r.className=e),t&&(r.innerText=t),i&&i.appendChild(r),r};function jc(n,e,t){return(e=V7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function V7(n){var e=W7(n,"string");return typeof e=="symbol"?e:e+""}function W7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class q7{constructor(){jc(this,"_setupMap",()=>{const e=this._map.getMapGL(),t="#ffa500";this._geojson=Wo(),this._linestring={type:"Feature",geometry:{type:"LineString",coordinates:[]}},this._polygon={type:"Feature",geometry:{type:"Polygon",coordinates:[]}},e.addSource("measure",{type:"geojson",data:this._geojson}),e.addLayer({id:"measure-points",type:"circle",source:"measure",paint:{"circle-radius":5,"circle-color":t},filter:["in","$type","Point"]}),e.addLayer({id:"measure-line",type:"line",source:"measure",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":t,"line-width":2.5},filter:["in","$type","LineString"]}),e.addLayer({id:"measure-polygon",type:"fill",source:"measure",paint:{"fill-color":t,"fill-opacity":.1},filter:["in","$type","Polygon"]}),e.on("click",this._onMapClick),e.on("mousemove",this._onMouseMove),this._map.on("layersort",this._onLayerSort)}),jc(this,"_clearMap",()=>{const e=this._map.getMapGL();e.getLayer("measure-points")&&e.removeLayer("measure-points"),e.getLayer("measure-line")&&e.removeLayer("measure-line"),e.getLayer("measure-polygon")&&e.removeLayer("measure-polygon"),e.getSource("measure")&&e.removeSource("measure"),e.off("click",this._onMapClick),e.off("mousemove",this._onMouseMove),e.getCanvas().style.cursor="grab",this._geojson=null,this._linestring=null,this._polygon=null,this._isActive=!1}),jc(this,"_startMeasure",()=>{const e=this._map.getMapGL(),t=this.locale;this._button.classList.add("active"),this._geojson||this._setupMapWhenReady(),this._distanceContainer=Ml("div","dhis2-map-ctrl-measure-result","",e.getContainer()),Ml("div","dhis2-map-ctrl-measure-header",t("MeasureControl.MeasureDistancesAndAreas"),this._distanceContainer),this._distanceText=Ml("p","",t("MeasureControl.ClickStartMeasurement"),this._distanceContainer),this._actionsEl=Ml("div","dhis2-map-ctrl-measure-actions","",this._distanceContainer),this._cancelEl=Ml("span","dhis2-map-ctrl-measure-cancel",t("MeasureControl.Cancel"),this._actionsEl),this._cancelEl.addEventListener("click",this._endMeasure),this._finishEl=Ml("span","dhis2-map-ctrl-measure-finish",t("MeasureControl.FinishMeasurement"),this._actionsEl),this._finishEl.addEventListener("click",this._finishMeasure)}),jc(this,"_finishMeasure",()=>{const e=this._map.getMapGL(),t=this._geojson,i=t.features.filter(o=>o.geometry.type==="Point"),r=this.locale,a=this._numFormat;if(i.length<2)return this._endMeasure();if(i.length>2){const o=t.features.findIndex(m=>m===this._linestring);this._linestring.geometry.coordinates=[...i.map(m=>m.geometry.coordinates),i[0].geometry.coordinates],t.features[o]=this._linestring,e.getSource("measure").setData(t);const s=cL(this._linestring),d=nL(s),p=`${r("MeasureControl.Perimeter")}: ${a(s)} ${r("MeasureControl.Kilometers")} (${a(d)} ${r("MeasureControl.Miles")})`;this._distanceEl.textContent=p}this._actionsEl.innerText="",this._centerEl=Ml("span","dhis2-map-ctrl-measure-center",r(`MeasureControl.CenterMapOn${i.length===2?"Line":"Area"}`),this._actionsEl),this._centerEl.addEventListener("click",this._centerMap),this._deleteEl=Ml("span","dhis2-map-ctrl-measure-delete",r("MeasureControl.Delete"),this._actionsEl),this._deleteEl.addEventListener("click",this._endMeasure),e.off("click",this._onMapClick),e.off("mousemove",this._onMouseMove),e.getCanvas().style.cursor="grab"}),jc(this,"_endMeasure",()=>{this._button.classList.remove("active"),this._clearMap(),this._distanceContainer&&(this._finishEl.removeEventListener("click",this._endMeasure),this._map.getMapGL().getContainer().removeChild(this._distanceContainer),this._distanceContainer=null)}),jc(this,"_centerMap",()=>{const[e,t,i,r]=$y(this._geojson);this._map.getMapGL().fitBounds([[e,t],[i,r]],{padding:100})}),jc(this,"_onButtonClick",()=>{this._isActive=!this._isActive,this._isActive?this._startMeasure():this._endMeasure()}),jc(this,"_onMapClick",e=>{const t=this._map.getMapGL(),i=this._geojson,r=this.locale,a=this._numFormat;let o=i.features.filter(d=>d.geometry.type==="Point");const s=t.queryRenderedFeatures(e.point,{layers:["measure-points"]})[0];if(s){const{id:d}=s.properties;o=o.filter(p=>p.properties.id!==d)}else o=[...o,{type:"Feature",geometry:{type:"Point",coordinates:[e.lngLat.lng,e.lngLat.lat]},properties:{id:String(new Date().getTime())}}];if(i.features=[...o],o.length===1)this._distanceText.innerText=r("MeasureControl.ClickNextPosition");else{this._linestring.geometry.coordinates=o.map(y=>y.geometry.coordinates),i.features.push(this._linestring);const d=cL(this._linestring),p=nL(d),m=`${r("MeasureControl.Distance")}: ${a(d)} ${r("MeasureControl.Kilometers")} (${a(p)} ${r("MeasureControl.Miles")})`;this._distanceText.innerText="",this._distanceEl=Ml("div","dhis2-map-ctrl-measure-distance",m,this._distanceText)}if(o.length>2){this._polygon.geometry.coordinates=[[...o.map(g=>g.geometry.coordinates),o[0].geometry.coordinates]],i.features.push(this._polygon);const p=BD(this._polygon)/1e4,m=p*2.47105381,y=`${r("MeasureControl.Area")}: ${a(p)} ${r("MeasureControl.Hectares")} (${a(m)} ${r("MeasureControl.Acres")})`;Ml("div","dhis2-map-ctrl-measure-area",y,this._distanceText)}t.getSource("measure").setData(i)}),jc(this,"_onMouseMove",e=>{const t=this._map.getMapGL(),i=t.queryRenderedFeatures(e.point,{layers:["measure-points"]});t.getCanvas().style.cursor=i.length?"pointer":"crosshair"}),jc(this,"_onLayerSort",()=>{const e=this._map.getMapGL();["measure-points","measure-line","measure-polygon"].forEach(i=>{e.getLayer(i)&&e.moveLayer(i)})}),this._isActive=!1,this._type="measure",this._numFormat=uM(2)}addTo(e){this._map=e;const t=e.getMapGL();this.locale=t._getUIString.bind(t),t.addControl(this)}onAdd(){return this._container=Ml("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._container}onRemove(){this._clearMap(),this._button.removeEventListener("click",this._onButtonClick),this._container.parentNode.removeChild(this._container),this._map=null}_setupUI(){const e=this.locale("MeasureControl.MeasureDistancesAndAreas");this._button=Ml("button","maplibregl-ctrl-icon dhis2-map-ctrl-measure","",this._container),this._button.type="button",this._button.setAttribute("title",e),this._button.setAttribute("aria-label",e),this._button.addEventListener("click",this._onButtonClick)}_setupMapWhenReady(){const e=this._map.getMapGL();e.isStyleLoaded()?this._setupMap():e.once("styledata",this._setupMap)}}function uL(n,e,t){return(e=H7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function H7(n){var e=X7(n,"string");return typeof e=="symbol"?e:e+""}function X7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class Z7{constructor(e){uL(this,"onClick",()=>{const t=this._map.getLayersBounds();t&&this._map.fitBounds(t)}),uL(this,"onLayerChange",()=>{this._container&&(this._container.style.display=this._map.getLayersBounds()?"block":"none")}),this.options=e}getDefaultPosition(){return"top-right"}addTo(e){this._map=e,e.getMapGL().addControl(this),e.on("layeradd",this.onLayerChange),e.on("layerremove",this.onLayerChange)}onAdd(){const t=this._map.getMapGL()._getUIString("FitBoundsControl.ZoomToContent"),i=document.createElement("div");i.className="maplibregl-ctrl maplibregl-ctrl-group";const r=document.createElement("div");return r.className="dhis2-map-ctrl-fitbounds",r.type="button",r.title=t,r.setAttribute("aria-label",t),i.appendChild(r),i.addEventListener("click",this.onClick),this._container=i,i}onRemove(){this._map.on("layeradd",this.onLayerChange),this._map.on("layerremove",this.onLayerChange),this._container.removeEventListener("click",this.onClick),this._container.parentNode.removeChild(this._container),delete this._container,delete this._button,delete this._map,delete this._mapgl}}class K7 extends ao.FullscreenControl{constructor(e={}){super(e),this.options=e}addTo(e){this._eventMap=e,this._map=e.getMapGL(),this._map.addControl(this)}onAdd(e){const{isSplitView:t}=this.options;return this._container=e.getContainer().parentNode.parentNode,t&&(this._container=this._container.parentNode),super.onAdd(e)}_onClickFullscreen(){this._eventMap.fire("fullscreenchange",{isFullscreen:!this._isFullscreen()}),super._onClickFullscreen()}_changeIcon(){this._map.resize(),super._changeIcon()}}const zw={zoom:N7,attribution:T7,scale:ao.ScaleControl,fullscreen:K7,search:G7,measure:q7,fitBounds:Z7},Q7={"SearchControl.SearchForPlace":"Search for place or address","FitBoundsControl.ZoomToContent":"Zoom to content","Label.NoData":"No data","MeasureControl.MeasureDistancesAndAreas":"Measure distances and areas","MeasureControl.ClickStartMeasurement":"Click where you want to start the measurement","MeasureControl.ClickNextPosition":"Click the next position","MeasureControl.Cancel":"Cancel","MeasureControl.Delete":"Delete","MeasureControl.FinishMeasurement":"Finish measurement","MeasureControl.CenterMapOnLine":"Center map on line","MeasureControl.CenterMapOnArea":"Center map on area","MeasureControl.Distance":"Distance","MeasureControl.Perimeter":"Perimeter","MeasureControl.Area":"Area","MeasureControl.Kilometers":"km","MeasureControl.Miles":"mi","MeasureControl.Hectares":"ha","MeasureControl.Acres":"acres"};class J7{constructor(){this.state={panStart:{x:0,y:0},scale:1},this.touchStart=this.touchStart.bind(this),this.touchMove=this.touchMove.bind(this)}touchStart(e){if(e.touches.length!==2)return;e.stopImmediatePropagation(),e.preventDefault();let t=0,i=0;[].forEach.call(e.touches,r=>{t+=r.screenX,i+=r.screenY}),this.state.panStart.x=t/e.touches.length,this.state.panStart.y=i/e.touches.length}touchMove(e){if(e.touches.length!==2)return;this.state.scale===e.scale&&(e.stopImmediatePropagation(),e.preventDefault()),this.state.scale=e.scale;let t=0,i=0;[].forEach.call(e.touches,o=>{t+=o.screenX,i+=o.screenY});const r=t/e.touches.length-this.state.panStart.x,a=i/e.touches.length-this.state.panStart.y;this.state.panStart.x=t/e.touches.length,this.state.panStart.y=i/e.touches.length,this.map.panBy([r/-1,a/-1],{animate:!1})}onAdd(e){this.map=e,this._container=document.createElement("div");const t=e.getContainer();return t.addEventListener("touchstart",this.touchStart,!1),t.addEventListener("touchmove",this.touchMove,!1),"ontouchstart"in document.documentElement&&e.dragPan.disable(),this._container}onRemove(){const e=this.map.getContainer();e.removeEventListener("touchstart",this.touchStart),e.removeEventListener("touchmove",this.touchMove),"ontouchstart"in document.documentElement&&this.map.dragPan.enable(),this.map=void 0}}const eY=(n,e)=>{const t=n.getCenter(),i=n.getZoom(),r=n.getBearing(),a=n.getPitch();e.forEach(o=>o.jumpTo({center:t,zoom:i,bearing:r,pitch:a}))},dL=(()=>{const n={},e={},t=m=>{const y=n[m],g=e[m]=[];y.forEach((_,x)=>{const T=y.filter((E,k)=>k!==x);g[x]=p.bind(null,m,_,T)})},i=(m,y)=>{n[m]||(n[m]=[]);const g=n[m];g.includes(y)||a(m,[...g,y])},r=(m,y)=>{const g=n[m];g&&g.includes(y)&&a(m,g.filter(_=>_!==y))},a=(m,y)=>{d(m),n[m]=y,t(m),s(m)},o=(m,y)=>{(n[m]||[]).forEach((g,_)=>g[y?"on":"off"]("move",e[m][_]))},s=m=>o(m,!0),d=m=>o(m,!1),p=(m,y,g)=>{d(m),eY(y,g),s(m)};return{add:i,remove:r}})();function hL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function pL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(t),!0).forEach(function(i){pM(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function pM(n,e,t){return(e=tY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tY(n){var e=nY(n,"string");return typeof e=="symbol"?e:e+""}function nY(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const iY={maxWidth:"auto",className:"dhis2-map-popup",closeOnClick:!1};class rY extends ao.Popup{constructor(e){super(pL(pL({},iY),e)),pM(this,"onMapClick",t=>{this._mapInstance.getEventFeature(t)||this.remove()})}addTo(e){const t=e.getMapGL();super.addTo(t),this._mapInstance||(t.on("click",this.onMapClick),this._mapInstance=e)}clear(){return this._onCloseFunc&&(this.off("close",this._onCloseFunc),this._onCloseFunc=null),this}onClose(e){return typeof e=="function"&&(this._onCloseFunc=e,this.on("close",e)),this}}function mL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(t),!0).forEach(function(i){aY(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function aY(n,e,t){return(e=sY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sY(n){var e=oY(n,"string");return typeof e=="symbol"?e:e+""}function oY(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const lY={closeButton:!1,closeOnClick:!1,anchor:"left",offset:[10,0],className:"dhis2-map-label"};class cY extends ao.Popup{constructor(e){super(fL(fL({},lY),e))}_update(e){const t=this._map;if(t){const r=(this._trackPointer&&e?e:t.project(this._lngLat)).x<t.getContainer().offsetWidth/2?"left":"right";this.options.anchor=r,this.options.offset[0]=r==="left"?10:-10}super._update(e)}}const uY=["locale","glyphs"];function gL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function dY(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(t),!0).forEach(function(i){zu(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function hY(n,e){if(n==null)return{};var t,i,r=pY(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)t=a[i],e.indexOf(t)>=0||{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function pY(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function zu(n,e,t){return(e=mY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mY(n){var e=fY(n,"string");return typeof e=="symbol"?e:e+""}function fY(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const yL="dhis2-map-rendered",gY=500;class yY extends ao.Evented{static hasLayerSupport(e){return!!$w[e]}static hasControlSupport(e){return!!zw[e]}constructor(e,t={}){super(),zu(this,"onLoad",()=>{this.fire("ready",this)}),zu(this,"onClick",s=>{const d=this._createClickEvent(s),{feature:p}=d;if(p){const m=this.getLayerFromId(p.layer.id);m&&m.onClick(d)}this.fire("click",d)}),zu(this,"onContextMenu",s=>{const d=this._createClickEvent(s);d.feature?this.getLayerFromId(d.feature.layer.id).fire("contextmenu",d):this.fire("contextmenu",d)}),zu(this,"onMouseMove",s=>{var m;const d=this.getEventFeature(s);let p;d?(p=this.getLayerFromId(d.layer.id),p&&p.onMouseMove(s,d)):this.hideLabel(),this.setHoverState(p&&((m=d==null?void 0:d.properties)!=null&&m.id)?p.getFeaturesById(d.properties.id):null),this.getMapGL().getCanvas().style.cursor=d?"pointer":""}),zu(this,"onRender",()=>{this._removeClass(yL),this._clearRenderTimeout()}),zu(this,"onIdle",()=>{this.getLayers().some(s=>s._isLoading)||this._setRenderTimeout()}),zu(this,"onMouseOut",()=>this.hideLabel()),zu(this,"onError",s=>{if(s&&s.error&&s.error.message&&console&&console.error){const{message:d}=s.error;console.error(d==="Failed to fetch"?"Failed to fetch map data, are you offline?":d)}});const{locale:i,glyphs:r}=t,a=hY(t,uY),o=new ao.Map(dY({container:e,style:zD({glyphs:r}),maxZoom:18,preserveDrawingBuffer:!0,attributionControl:!1,locale:Q7,transformRequest:Z9},a));this._mapgl=o,this._glyphs=r,this._renderTimeout=null,i&&Object.keys(o._locale).forEach(s=>{const d=o._locale[s];i[d]&&(o._locale[s]=i[d])}),o.on("render",this.onRender),o.on("idle",this.onIdle),o.on("load",this.onLoad),o.on("click",this.onClick),o.on("contextmenu",this.onContextMenu),o.on("mousemove",this.onMouseMove),o.on("mouseout",this.onMouseOut),o.on("error",this.onError),o.on("data",this._clearRenderTimeout),o.on("dataloading",this._clearRenderTimeout),this._layers=[],this._controls={},t.attributionControl!==!1&&this.addControl({type:"attribution"})}fitBounds(e,t){e&&this._mapgl.fitBounds(e,t||{padding:10,duration:0})}fitWorld(){this.fitBounds([[-180,-90],[180,90]])}setView(e,t){this._mapgl.setCenter(e),this._mapgl.setZoom(t)}getContainer(){return this._mapgl.getContainer()}getMapGL(){return this._mapgl}async addLayer(e){this._layers.push(e),e.isOnMap()||(await e.addTo(this),this.fire("layeradd",this._layers),this.hasLayer(e)||this.removeLayer(e)),this.orderOverlays()}async removeLayer(e){this._layers=this._layers.filter(t=>t!==e),await e.removeFrom(this),this.fire("layerremove",this._layers)}orderOverlays(){const e=this.getLayers(),t=this.getBeforeLayerId();for(let i=g8;i<e.length;i++){const r=e[i];r.isOnMap()&&r.move(t)}this.fire("layersort")}remove(){const e=this._mapgl;e.off("render",this.onRender),e.off("idle",this.onIdle),e.off("load",this.onLoad),e.off("click",this.onClick),e.off("contextmenu",this.onContextMenu),e.off("mousemove",this.onMouseMove),e.off("mouseout",this.onMouseOut),e.off("error",this.onError),e.off("data",this._clearRenderTimeout),e.off("dataloading",this._clearRenderTimeout),e.remove(),this._mapgl=null}hasLayer(e){return!!this._layers.find(t=>t===e)}addControl(e){const{type:t}=e;if(zw[t]){const i=new zw[t](e);i.addTo?i.addTo(this):this._mapgl.addControl(i),this._controls[t]=i}}removeControl(e){this._mapgl.removeControl(e)}createLayer(e){return $w[e.type]?new $w[e.type](e):(console.log("Unknown layer type",e.type),new yu)}resize(){this._mapgl.resize()}sync(e){dL.add(e,this._mapgl)}unsync(e){dL.remove(e,this._mapgl)}setHoverState(e){tL(e)!==tL(this._hoverFeatures)&&(this._hoverFeatures&&(this._hoverFeatures.forEach(t=>this.setFeatureState(t,{hover:!1})),this._hoverFeatures=null),Array.isArray(e)&&(this._hoverFeatures=e,e.forEach(t=>this.setFeatureState(t,{hover:!0}))))}setFeatureState(e={},t={}){const i=this.getMapGL(),{source:r}=e;r&&i.getSource(r)&&i.setFeatureState(e,t)}getZoom(){return this.getMapGL().getZoom()}getEventFeature(e){const t=this.getLayers().filter(r=>r.isInteractive()).map(r=>r.getInteractiveIds()).reduce((r,a)=>[...r,...a],[]);let i;return t.length&&(i=this._mapgl.queryRenderedFeatures(e.point,{layers:t})[0]),i}getLayerFromId(e){return this._layers.find(t=>t.hasLayerId(e))}getLayerAtIndex(e){return this._layers[e]}getLayers(){return this._layers.sort((e,t)=>e.getIndex()-t.getIndex()),this._layers}getLayersBounds(){return AD(this.getLayers())}getControlContainer(e){const t=this._controls[e];return t?t._controlContainer||t._container:document.createElement("div")}setBeforeLayerId(e){this._beforeId=e}getBeforeLayerId(){return this._beforeId&&this.getMapGL().getStyle().layers.find(e=>e.id===this._beforeId)?this._beforeId:void 0}styleIsLoaded(){return!this._styleIsLoading}openPopup(e,t,i){this._popup||(this._popup=new rY),this._popup.clear(),this._popup.setLngLat(t).setDOMContent(e).addTo(this),this._popup.onClose(i)}closePopup(){this._popup&&this._popup.remove()}showLabel(e,t){this._label||(this._label=new cY),this._label.setText(e).setLngLat(t),this._label.isOpen()||this._label.addTo(this._mapgl)}hideLabel(){this._label&&this._label.remove()}toggleScrollZoom(e){this.getMapGL().scrollZoom[e?"enable":"disable"]()}toggleMultiTouch(e){const t=this.getMapGL();this._multiTouch||(this._multiTouch=new J7);const i=t.hasControl(this._multiTouch);e&&!i?t.addControl(this._multiTouch):!e&&i&&t.removeControl(this._multiTouch)}_updateAttributions(){this._controls.attribution&&this._controls.attribution._updateAttributions()}_createClickEvent(e){const{lngLat:t}=e,i="click",r=[t.lng,t.lat],{x:a,y:o}=this.getMapGL().project(t),s=[a,o],d=this.getEventFeature(e);return{type:i,coordinates:r,position:s,feature:d}}_setRenderTimeout(){this._clearRenderTimeout(),this._renderTimeout=setTimeout(()=>{this._addClass(yL),this._renderTimeout=null},gY)}_clearRenderTimeout(){this._renderTimeout&&(clearTimeout(this._renderTimeout),this._renderTimeout=null)}_addClass(e){if(this._mapgl){const{classList:t}=this._mapgl._container;t.contains(e)||t.add(e)}}_removeClass(e){if(this._mapgl){const{classList:t}=this._mapgl._container;t.contains(e)&&t.remove(e)}}}const vY="_mapItem_1sob4_1",xY={mapItem:vY},GS=Oe.createContext(null),bY=({syncId:n,children:e})=>{const[t,i]=Oe.useState(null),r=Oe.useRef(null);return Oe.useEffect(()=>{const a=new yY(r.current);return a.once("ready",()=>i(a)),a.sync(n),a.resize(),()=>{a.remove()}},[r,n]),Se.createElement(GS.Provider,{value:t},Se.createElement("div",{ref:r,className:xY.mapItem},t&&e))},_Y=({period:n,prediction:e,geojson:t,dataElement:i="median",bins:r,colors:a})=>{const o=Oe.useContext(GS);return Oe.useEffect(()=>{if(t.hasOwnProperty("features")){const d={type:"choropleth",data:t.features.map(p=>{var _;const m=(_=e.dataValues.find(x=>x.period===n&&x.orgUnit===p.id&&x.dataElement===i))==null?void 0:_.value,y=r.findIndex(x=>m>=x.startValue&&m<=x.endValue),g=a[y];return{...p,properties:{...p.properties,value:m||"No value",color:g}}}),opacity:.8,hoverLabel:"{name} ({value})"};o.addLayer(o.createLayer(d)),o.fitBounds(o.getLayersBounds())}},[o,n,e,i,t,r]),null},wY="_legend_1q9mv_1",TY="_legendSymbols_1q9mv_6",SY="_legendTitle_1q9mv_12",CY="_classItem_1q9mv_18",EY="_classSymbol_1q9mv_25",kY="_classLabel_1q9mv_31",zm={legend:wY,legendSymbols:TY,legendTitle:SY,classItem:CY,classSymbol:EY,classLabel:kY},NY=({title:n,bins:e,colors:t})=>(console.log("Legend:",e,t),Se.createElement("div",{className:zm.legend},Se.createElement("br",null),Se.createElement("div",{className:zm.legendTitle},n),Se.createElement("div",{className:zm.legendSymbols},e.map((i,r)=>Se.createElement("div",{className:zm.classItem,key:r},Se.createElement("span",{className:zm.classSymbol,style:{backgroundColor:t[r]}}),Se.createElement("span",{className:zm.classLabel},i.startValue," - ",i.endValue)))))),LY=()=>{const n=Oe.useContext(GS);return Oe.useEffect(()=>{n.addLayer(n.createLayer({type:"tileLayer",url:"//cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'}))},[n]),null},IY=(n,e,t=5)=>{const i=[],r=(e-n)/t;for(let a=0;a<t;a++){const o=n+a*r,s=a<t-1?o+r:e;i.push({startValue:Math.round(o),endValue:Math.round(s)})}return i},AY=n=>({type:"FeatureCollections",features:n.map(e=>{let t="Point";e.ty===2&&(t="Polygon",e.co.substring(0,4)==="[[[["&&(t="MultiPolygon"));const i={type:t,coordinates:JSON.parse(e.co)};return{type:"Feature",id:e.id,properties:{name:e.na},geometry:i}})}),PY={orgUnits:{resource:"geoFeatures.json",params:({orgUnits:n})=>({ou:"ou:"+n.join(";")})}},DY=n=>{const[e,t]=Oe.useState(),{loading:i,error:r}=as(PY,{variables:{orgUnits:n},onComplete:a=>t(AY(a.orgUnits))});return{orgUnits:e,error:r,loading:i}},MY="_predictionMapGroup_19bp5_1",OY="_predictionMapCard_19bp5_8",vL={predictionMapGroup:MY,predictionMapCard:OY},xL=["#FFFFD4","#FED98E","#FE9929","#D95F0E","#993404"],RY=({data:n,predictionTargetName:e})=>{const t=XA(n.dataValues),{orgUnits:i}=DY(t),r=L1(n.dataValues),a=n.dataValues.map(p=>p.value),o=Math.min(...a),s=Math.max(...a),d=IY(o,s);return i?Se.createElement("div",null,Se.createElement("h3",null,"Prediction Maps for ",e),Se.createElement("div",{className:vL.predictionMapGroup},r.map((p,m)=>Se.createElement("div",{className:vL.predictionMapCard,key:m},Se.createElement("h4",null,"🕑 ",tt.t(aS(p))),Se.createElement(bY,{key:p,index:m,count:r.length,syncId:"prediction-map"},Se.createElement(LY,null),Se.createElement(_Y,{period:p,prediction:n,geojson:i,bins:d,colors:xL}))))),Se.createElement(NY,{title:"Median Prediction for "+e,bins:d,colors:xL})):null},$Y=[{path:"/",name:"1 | Train and predict"},{path:"/status",name:"2 | CHAP Core status"},{path:"/results",name:"3 | Results"}],zY=()=>{var d;const{pathname:n}=$p({}),[e,t]=Oe.useState(!1),{error:i,loading:r,url:a,fetching:o}=J4("backend-url"),s=cu();return r?re.jsx(re.Fragment,{}):((!a||((d=URL.parse(a))==null?void 0:d.origin)===s.baseUrl)&&(console.log("Adding credentials to OpenAPI"),Vn.WITH_CREDENTIALS=!0),a?(console.log("Setting OpenAPI url to: ",a),Vn.BASE=a):Vn.BASE=s.baseUrl+"/api/routes/chap/run",re.jsxs(re.Fragment,{children:[re.jsx(l3,{}),re.jsx(DI,{spacers:!0,colors:!0}),re.jsxs("div",{className:ny.container,children:[re.jsx("div",{className:ny.sidebar,children:re.jsxs(JL,{children:[re.jsx("div",{className:ny.menuTitle,children:"Predictions"}),$Y.map(({path:p,name:m})=>re.jsx(Oe.Fragment,{children:re.jsx(fy,{label:m,href:`#${p}`,active:n===p||p!=="/"&&n.startsWith(p)})},p)),re.jsx("div",{className:ny.menuTitle,children:"Settings"}),re.jsx(Oe.Fragment,{children:re.jsx(fy,{onClick:()=>t(!0),label:"Edit CHAP-Core url"})},"settings"),re.jsx(Oe.Fragment,{children:re.jsx(fy,{label:"Routes API settings",href:"#/route-settings",active:n==="route-settings"})},"route-settings"),e&&re.jsx(UA,{existingUrl:a,fetching:o,loading:r,setOpen:t})]})}),re.jsxs("main",{className:ny.content,children:[re.jsx(W4,{}),re.jsx(t4,{})]})]})]}))},FY={roots:{resource:"organisationUnits",params:()=>({fields:["id","displayName~rename(name)","path"],userDataViewFallback:!0})}},jY=()=>{var i;const{loading:n,error:e,data:t}=as(FY);return{roots:(i=t==null?void 0:t.roots)==null?void 0:i.organisationUnits,error:e,loading:n}},mM=({selectedOrgUnits:n,onChange:e})=>{const{roots:t,error:i}=jY();return Oe.useEffect(()=>{if(t&&!n){const[r]=t;e({...r,selected:[r.path]})}},[t]),t?re.jsxs("div",{children:[re.jsx("h3",{children:tt.t("Organisation units")}),re.jsx(WT,{roots:t.map(r=>r.id),selected:n==null?void 0:n.map(r=>r.path),onChange:e,initiallyExpanded:t.map(r=>r.path)})]}):i?re.jsx("div",{children:i.message}):null};mM.propTypes={orgUnit:he.object,onChange:he.func.isRequired};const BY=({orgUnits:n,setOrgUnits:e})=>{const t=i=>{i.checked?e([...n,i]):e(n.filter(r=>r.path!==i.path))};return re.jsx(re.Fragment,{children:re.jsx(mM,{selectedOrgUnits:n,onChange:i=>{t(i)}})})},UY=({dataElements:n=[],periodes:e=[],orgUnit:t={}}={})=>({request:{resource:"analytics",params:{paging:!1,dimension:`dx:${n.join(";")},ou:${t},pe:${e.join(";")}`}}}),GY=(n,e)=>n.filter(t=>t[0]===e).map(t=>({ou:t[1],pe:t[2],value:parseFloat(t[3])})),YY=(n,e,t)=>{const i=Array.from(n),r=i.map(([d,p])=>p.selectedDataElementId),{loading:a,error:o,data:s}=as(UY({dataElements:r,periodes:e,orgUnit:t}));return!a&&s&&!o?{data:i.map(([p,m])=>({featureId:p,dhis2Id:m.selectedDataElementId,data:GY((s==null?void 0:s.request).rows,m.selectedDataElementId)})),error:o,loading:a}:{data:s,error:o,loading:a}},VY={geojson:{resource:"organisationUnits.geojson",params:({level:n})=>({level:n})}},WY=n=>({features:n.geojson.features.map(({type:e,id:t,geometry:i,properties:r})=>({type:e,id:t,properties:r,geometry:i})),...n}),qY=(n,e)=>({type:"FeatureCollection",features:n.features.filter(t=>e.some(i=>i.id===t.id||t.properties.parentGraph.includes(i.id)))}),HY=(n,e)=>{const{data:t,loading:i,error:r}=as(VY,{variables:{level:n}});return{data:t&&qY(WY(t),e),error:r,loading:i}},XY="_text_1dsf0_1",ZY={text:XY},KY=({period:n,setStartDownload:e,orgUnitLevel:t,orgUnits:i,modelSpesificSelectedDataElements:r,setErrorMessages:a,setJsonResult:o})=>{const s="LEVEL-"+t.id+";"+i.map(E=>E.id).join(";"),d=E=>E.map(k=>k.id),{data:p,error:m,loading:y}=YY(r,d(n),s),{data:g,error:_,loading:x}=HY(t.level,i),T=()=>({features:p,orgUnitsGeoJson:g});return Oe.useEffect(()=>{if(!(y||x)&&(p&&g&&(a([]),o(T())),m||_)){const E=[];m&&E.push({description:JSON.stringify(m),title:"Analytics request failed"}),_&&E.push({description:JSON.stringify(_),title:"OrgUnits request failed"}),a(E),e(k=>({...k,startDownload:!1}))}},[y,x]),re.jsx("p",{className:ZY.text,children:"Downloading data.."})},QY="_container_1tzso_1",JY="_errorChap_1tzso_13",eV="_error_1tzso_13",tV="_errorBar_1tzso_30",nV="_errorHeader_1tzso_39",iV="_detailedError_1tzso_46",rV="_buttons_1tzso_52",aV="_pickers_1tzso_58",Ru={container:QY,errorChap:JY,error:eV,errorBar:tV,errorHeader:nV,detailedError:iV,buttons:rV,pickers:aV},sV={levels:{resource:"organisationUnitLevels",params:{fields:["id","displayName~rename(name)","level"],order:"level:asc",paging:!1}}},oV=()=>{var i;const{loading:n,error:e,data:t}=as(sV);return{levels:(i=t==null?void 0:t.levels)==null?void 0:i.organisationUnitLevels,error:e,loading:n}},lV="_selectField_sod8a_1",cV={selectField:lV},uV=({orgUnitLevels:n,onChange:e})=>{const{levels:t,loading:i,error:r}=oV(),a=o=>{const s={id:o.selected,level:t.find(d=>d.id===o.selected).level};e(s)};return Oe.useEffect(()=>{var o;(t==null?void 0:t.length)>2&&!n&&e({id:(o=t[1])==null?void 0:o.id,level:t[1].level})},[t,n,e]),t?re.jsx("div",{className:cV.selectField,children:re.jsx(va,{label:tt.t("Organisation unit level"),helpText:tt.t("Organisation unit level to import data to"),tabIndex:"1",selected:n==null?void 0:n.id,loading:i,error:!!r,onChange:a,children:t.map((o,s)=>re.jsx(to,{value:o.id,label:o.name},o.id))})}):null},dV="الإشعارات",hV="",pV="",mV="إلغاء",fV="جار التحميل",gV="تصنيف",yV="",vV="إزالة",xV="البحث",bV="حذف",_V="ملف",wV="جديد",TV="حفظ",SV="إغلاق",CV="الإسم",EV="الوصف",kV="إعادة التسمية",NV="خريطة",LV="",IV="تعديل",AV="تحديث",PV="التفسيرات",DV="رد",MV="إلغاء الإعجاب",OV="إعجاب",RV="مشاركة",$V="معاينة",zV="أي شخص",FV="أخرى",jV="تم الإنشاء",BV="النوع",UV="مفتوح",GV="الخيارات",YV="إخفاء",VV="سنة",WV="الفترة الزمنية",qV="يومي",HV="أسبوعي",XV="شهري",ZV="ربعي",KV="سنوي",QV="اليوم",JV="الأمس",eW="‏‏الأيام",tW="الأسابيع",nW="الأشهر",iW="أرباع السنة",rW="السنوات",aW="",sW="سلسلة",oW="الفئة",lW="عامل التصفية",cW="الأعمدة",uW="الصفوف",dW="",hW="البرنامج",pW="المؤشرات",mW="المؤشر",fW="",gW="صغير",yW="عادي",vW="كبير",xW="الأيسر",bW="المركز",_W="الأيمن",wW="البدء",TW="الوسط",SW="النهاية",CW="القمة",EW="الأسفل",kW="بيانات",NW="مساحة",LW="مخطط شريطي",IW="العمود",AW="مخطط قياس",PW="مخطط خطي",DW="مخطط دائري",MW="مخطط رادار",OW="",RW="الاتجاه",$W="الهدف",zW="الأساس",FW={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"لا يوجد وصف","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"","Viewed {{count}} times_4":"","Viewed {{count}} times_5":"",Notifications:dV,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:hV,"Subscribe to get updates about new interpretations.":"",Subscribe:pV,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:mV,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:fV,"Data elements":"عناصر البيانات","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"نوع البيانات","All types":"جميع الأنواع",Disaggregation:gV,"No data":"لا توجد بيانات","Search by data item name":"","No items selected":"لم يتم تحديد عناصر","Selected Items":"العناصر المحددة","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:yV,"Metric type":"","All metrics":"جميع المقاييس","Move to {{axisName}}":"تحريك إلى {{axisName}}","Add to {{axisName}}":"إضافة إلى {{axisName}}","Not available for {{visualizationType}}":"غير متوفر لـ {{visualizationType}}","Remove Assigned Categories":"إزالة الفئات المعينة","Add Assigned Categories":"إضافة فئات معينة",Remove:vV,"Filter dimensions":"تصفية الأبعاد","Main dimensions":"الأبعاد الرئيسية","Your dimensions":"الأبعاد الخاصة بك","Dimension recommended with selected data":"البعد موصى به مع البيانات المحددة","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:xV,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:bV,File:_V,New:wV,"Open…":"",Save:TV,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"فتح في هذا التطبيق",Close:SV,"Rename {{fileType}}":"",Name:CV,Description:EV,Rename:kV,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"تقارير عن الأحداث","line list":"",map:NV,visualization:LV,Edit:IV,"Write a reply":"كتابة رد","Post reply":"","Delete failed":"فشل الحذف","Could not update comment":"","Enter comment text":"",Update:AV,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"كتابة تفسير","Post interpretation":"",Interpretations:PV,Reply:DV,"{{count}} replies_0":"{{count}} رد","{{count}} replies_1":"{{count}} رد","{{count}} replies_2":"{{count}} رد","{{count}} replies_3":"{{count}} رد","{{count}} replies_4":"{{count}} رد","{{count}} replies_5":"{{count}} رد","View replies":"",Unlike:MV,Like:OV,Share:RV,"See interpretation":"","Manage sharing":"إدارة المشاركة","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:$V,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"لم يتم العثور على أي نتائج","Not available offline":"غير متوفر في وضع عدم الإتصال","Created by":"تم الإنشاء بواسطة",Anyone:zV,"Only you":"",Others:FV,"Not supported by this app yet":"","Filter by name":"تصفية بواسطة الاسم",Created:jV,"Last updated":"آخر تحديث",Type:BV,"Clear filters":"إلغاء عوامل التصفية","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:UV,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"إنشاء جديد","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:GV,Hide:YV,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} org units_4":"","{{count}} org units_5":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} levels_4":"","{{count}} levels_5":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","{{count}} groups_4":"","{{count}} groups_5":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"وحدة المنظمة للمستخدم","User sub-units":"وحدات المستخدم الفرعية","User sub-x2-units":"وحدات المستخدم الفرعية من المستوى الثاني","Select a level":"حدد مستوى","Select a group":"حدد مجموعة","Deselect all":"إلغاء تحديد الكل","Period type":"نوع الفترة الزمنية",Year:VV,"Select year":"اختر السنة",Period:WV,"Relative periods":"الفترات الزمنية النسبية","Fixed periods":"فترات زمنية ثابتة","Selected Periods":"الفترات المحددة","No periods selected":"لم يتم تحديد أية فترات زمنية",Daily:qV,Weekly:HV,"Weekly (Start Wednesday)":"اسبوعياً (يبدأ الأربعاء)","Weekly (Start Thursday)":"اسبوعياً (يبدأ الخميس)","Weekly (Start Saturday)":"اسبوعياً (يبدأ السبت)","Weekly (Start Sunday)":"اسبوعياً (يبدأ الأحد)","Bi-weekly":"كل اسبوعين",Monthly:XV,"Bi-monthly":"كل شهرين",Quarterly:ZV,"Six-monthly":"كل ستة-أشهر","Six-monthly April":"نصف سنوي، كل ستة أشهر، ابريل",Yearly:KV,"Financial year (Start November)":"السنة المالية (تبدأ في نوفمبر)","Financial year (Start October)":"السنة المالية (تبدأ في اكتوبر)","Financial year (Start July)":"السنة المالية (تبدأ في يوليو)","Financial year (Start April)":"السنة المالية (تبدأ في ابريل)",Today:QV,Yesterday:JV,"Last 3 days":"آخر 3 أيام","Last 7 days":"آخر 7 أيام","Last 14 days":"آخر 14 يوم","Last 30 days":"آخر 30 يوم","Last 60 days":"آخر 60 يومًا","Last 90 days":"آخر 90 يومًا","Last 180 days":"آخر 180 يوم","This week":"هذا الأسبوع","Last week":"الأسبوع الماضي","Last 4 weeks":"آخر 4 أسابيع","Last 12 weeks":"آخر 12 أسبوع","Last 52 weeks":"آخر 52 أسبوع","Weeks this year":"أسابيع السنة الحالية","This bi-week":"الأسبوعين الحاليين","Last bi-week":"آخر اسبوعين","Last 4 bi-weeks":"آخر 4 ثنائي اسابيع","This month":"الشهر الحالي","Last month":"الشهر الماضي","Last 3 months":"آخر 3 أشهر","Last 6 months":"آخر 6 أشهر","Last 12 months":"آخر 12 شهر","Months this year":"أشهر السنة الحالية","This bi-month":"الشهران المزدوجان الحاليان","Last bi-month":"آخر شهرين مزدوجين","Last 6 bi-months":"آخر 6 أشهر مزدوجة","Bi-months this year":"الأشهر المزدوجة في السنة الحالية","This quarter":"ربع السنة الحالي","Last quarter":"ربع السنة الماضي","Last 4 quarters":"آخر 4 أرباع السنة","Quarters this year":"أرباع السنة الحالية","This six-month":"الستة أشهر الحالية","Last six-month":"آخر ستة-أشهر","Last 2 six-month":"آخر نصفي سنة (فترتي ستة-أشهر)","This financial year":"السنة المالية الحالية","Last financial year":"السنة المالية الماضية","Last 5 financial years":"آخر 5 سنوات مالية","This year":"السنة الحالية","Last year":"السنة الماضية","Last 5 years":"آخر 5 سنوات","Last 10 years":"آخر 10 سنوات",Days:eW,Weeks:tW,"Bi-weeks":"كل اسبوعين",Months:nW,"Bi-months":"الأشهر المزدوجة",Quarters:iW,"Six-months":"ستة-أشهر","Financial Years":"السنوات المالية",Years:rW,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:aW,Series:sW,Category:oW,Filter:lW,Columns:cW,Rows:uW,Points:dW,"Reporting rate":"معدل الإبلاغ","Reporting rate on time":"معدل الإبلاغ في الوقت المحدد","Actual reports":"الإبلاغات الفعلية","Actual reports on time":"الإبلاغات الفعلية في الوقت المحدد","Expected reports":"الإبلاغات المتوقعة",Program:hW,"Select a program":"حدد برنامجاً",Indicators:pW,"Indicator group":"مجموعة المؤشرات","All groups":"",Indicator:mW,"No indicator groups found":"","Loading indicator groups":"","Data element group":"مجموعة عناصر البيانات","Data element":"عنصر البيانات","No data element groups found":"","Loading data element groups":"","Data sets":"حزم البيانات","Data set":"حزمة البيانات","All data sets":"","Loading data sets":"تحميل حزم البيانات","Event data items":"عناصر بيانات الحدث","All programs":"","Event data item":"عنصر بيانات حدث","No programs found":"","Loading programs":"","Program indicators":"مؤشرات البرنامج","Program indicator":"مؤشرات البرنامج",Calculations:fW,Number:"العدد","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"صغير جدا",Small:gW,Regular:yW,Large:vW,"Extra Large":"كبير جدا",Left:xW,Center:bW,Right:_W,Start:wW,Middle:TW,End:SW,Top:CW,Bottom:EW,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} و {{lastOuName}}","{{allDynamicOuNames}} levels":"مستويات {{allDynamicOuNames}}","{{allDynamicOuNames}} groups":"مجموعات {{allDynamicOuNames}}","{{allDynamicOuNames}} levels in {{staticOuNames}}":"مستويات {{allDynamicOuNames}} في {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"مجموعات {{allDynamicOuNames}} في {{staticOuNames}}","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:kW,"Organisation unit":"الوحدة التنظيمية","Assigned Categories":"الفئات المعينة","Pivot table":"الجدول المحوري",Area:NW,"Stacked area":"منطقة تراكمية",Bar:LW,"Stacked bar":"شريط تراكمي",Column:IW,"Year over year (column)":"عام بعد عام (عمود)","Stacked column":"عمود تراكمي",Gauge:AW,Line:PW,"Line list":"قائمة سطور","Year over year (line)":"عام بعد عام (خط)",Pie:DW,Radar:MW,Scatter:OW,"Single value":"قيمة مفردة","All charts":"","{{seriesName}} (trend)":"",Trend:RW,"No legend for this series":"لا معلومات مفاتيح إيضاحية لهذه السلسلة","and {{amount}} more...":"","Linear Regression":"",Target:$W,Base:zW,"Axis {{axisId}}":"محور {{axisId}}","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","{{count}} items_4":"","{{count}} items_5":"","Reset zoom":""},jW="",BW="",UW="",GW="",YW="",VW="",WW="",qW="",HW="",XW="",ZW="",KW="",QW="",JW="",eq="",tq="",nq="",iq="",rq="",aq="",sq="",oq="",lq="",cq="",uq="",dq="",hq="",pq="",mq="",fq="",gq="",yq="",vq="",xq="",bq="",_q="يناير",wq="فبراير",Tq="مارس",Sq="ابريل",Cq="مايو",Eq="يونيو",kq="يوليو",Nq="أغسطس",Lq="سبتمبر",Iq="اكتوبر",Aq="نوفمبر",Pq="ديسمبر",Dq="",Mq="",Oq="",Rq="",$q="",zq="",Fq="",jq="",Bq="",Uq="",Gq="",Yq="",Vq="",Wq="",qq="",Hq="",Xq="",Zq="",Kq="",Qq="",Jq="",eH="",tH="",nH="",iH="",rH="",aH="",sH="",oH="",lH="",cH="",uH="",dH="",hH="",pH="",mH="",fH="",gH="",yH="",vH="",xH="",bH="",_H="",wH="",TH="",SH={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"","Viewed {{count}} times_4":"","Viewed {{count}} times_5":"",Notifications:jW,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:BW,"Subscribe to get updates about new interpretations.":"",Subscribe:UW,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"",Disaggregation:GW,"No data":"",Loading:YW,"Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data elements found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:VW,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:WW,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Cancel:qW,Delete:HW,File:XW,New:ZW,"Open…":"",Save:KW,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:QW,"Rename {{fileType}}":"",Name:JW,Description:eq,Rename:tq,"Save {{fileType}} as":"","event report":"","line list":"",map:nq,visualization:iq,Edit:rq,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:aq,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:sq,Unlike:oq,Like:lq,Reply:cq,Share:uq,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:dq,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Created by":"",Anyone:hq,"Only you":"",Others:pq,"Not supported by this app yet":"","Filter by name":"",Created:mq,"Last updated":"",Type:fq,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:gq,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:yq,Hide:vq,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} org units_4":"","{{count}} org units_5":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} levels_4":"","{{count}} levels_5":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","{{count}} groups_4":"","{{count}} groups_5":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:xq,"Select year":"",Period:bq,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",January:_q,February:wq,March:Tq,April:Sq,May:Cq,June:Eq,July:kq,August:Nq,September:Lq,October:Iq,November:Aq,December:Pq,"Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"",Daily:Dq,Weekly:Mq,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:Oq,"Bi-monthly":"",Quarterly:Rq,"Six-monthly":"","Six-monthly April":"",Yearly:$q,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:zq,Yesterday:Fq,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:jq,Weeks:Bq,"Bi-weeks":"",Months:Uq,"Bi-months":"",Quarters:Gq,"Six-months":"","Financial Years":"",Years:Yq,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"",Retry:Vq,Series:Wq,Category:qq,Filter:Hq,Columns:Xq,Rows:Zq,Points:Kq,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:Qq,"Select a program":"",Indicators:Jq,"Indicator group":"","All groups":"",Indicator:eH,"No indicator groups found":"","Loading indicator groups":"","Data elements":"","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"",Small:tH,Regular:nH,Large:iH,"Extra Large":"",Left:rH,Center:aH,Right:sH,Start:oH,Middle:lH,End:cH,Top:uH,Bottom:dH,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:hH,"Organisation unit":"","Assigned Categories":"","Pivot table":"",Area:pH,"Stacked area":"",Bar:mH,"Stacked bar":"",Column:fH,"Year over year (column)":"","Stacked column":"",Gauge:gH,Line:yH,"Line list":"","Year over year (line)":"",Pie:vH,Radar:xH,Scatter:bH,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:_H,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:wH,Base:TH,"Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","{{count}} items_4":"","{{count}} items_5":"","Reset zoom":""},CH="",EH="",kH="",NH="",LH="جار التحميل",IH="إزالة",AH="البحث",PH="إلغاء",DH="حذف",MH="",OH="جديد",RH="حفظ",$H="إغلاق",zH="الاسم",FH="الوصف",jH="إعادة التسمية",BH="",UH="",GH="تعديل",YH="تحديث",VH="التفسيرات",WH="إلغاء الإعجاب",qH="إعجاب",HH="رد",XH="مشاركة",ZH="",KH="أي شخص",QH="",JH="تم الإنشاء",eX="",tX="فتح",nX="الخيارات",iX="إخفاء",rX="",aX="",sX="",oX="",lX="",cX="",uX="",dX="",hX="",pX="",mX="",fX="",gX="",yX="",vX="يومي",xX="أسبوعي",bX="شهري",_X="ربع سنوي",wX="سنوي",TX="اليوم",SX="الأمس",CX="‏‏الأيام",EX="الأسابيع",kX="الأشهر",NX="أرباع السنة",LX="السنوات",IX="",AX="",PX="",DX="",MX="",OX="",RX="",$X="البرنامج",zX="المؤشرات",FX="",jX="صغير",BX="",UX="كبير",GX="",YX="",VX="",WX="",qX="",HX="",XX="القمة",ZX="الأسفل",KX="البيانات",QX="مساحة",JX="",eZ="العمود",tZ="",nZ="",iZ="",rZ="",aZ="",sZ="",oZ="",lZ="",cZ={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"لا يوجد وصف","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"","Viewed {{count}} times_4":"","Viewed {{count}} times_5":"",Notifications:CH,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:EH,"Subscribe to get updates about new interpretations.":"",Subscribe:kH,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"",Disaggregation:NH,"No data":"",Loading:LH,"Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data elements found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:IH,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:AH,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Cancel:PH,Delete:DH,File:MH,New:OH,"Open…":"",Save:RH,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:$H,"Rename {{fileType}}":"",Name:zH,Description:FH,Rename:jH,"Save {{fileType}} as":"","event report":"","line list":"",map:BH,visualization:UH,Edit:GH,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:YH,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:VH,Unlike:WH,Like:qH,Reply:HH,Share:XH,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:ZH,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Created by":"تم الإنشاء بواسطة",Anyone:KH,"Only you":"",Others:QH,"Not supported by this app yet":"","Filter by name":"",Created:JH,"Last updated":"آخر تحديث",Type:eX,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:tX,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:nX,Hide:iX,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} org units_4":"","{{count}} org units_5":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} levels_4":"","{{count}} levels_5":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","{{count}} groups_4":"","{{count}} groups_5":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"وحدات المستخدم الفرعية","User sub-x2-units":"وحدات المستخدم الفرعية من المستوى الثاني","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:rX,"Select year":"",Period:aX,"Relative periods":"الفترات الزمنية النسبية","Fixed periods":"","Selected Periods":"","No periods selected":"",January:sX,February:oX,March:lX,April:cX,May:uX,June:dX,July:hX,August:pX,September:mX,October:fX,November:gX,December:yX,"Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"",Daily:vX,Weekly:xX,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"كل اسبوعين",Monthly:bX,"Bi-monthly":"أشهر مزدوجة",Quarterly:_X,"Six-monthly":"ستة أشهر","Six-monthly April":"ستة أشهر نيسان",Yearly:wX,"Financial year (Start November)":"","Financial year (Start October)":"السنة المالية (بداية تشرين الأول)","Financial year (Start July)":"السنة المالية (بداية تموز)","Financial year (Start April)":"السنة المالية (بداية نيسان)",Today:TX,Yesterday:SX,"Last 3 days":"آخر 3 أيام","Last 7 days":"آخر 7 أيام","Last 14 days":"آخر 14 يوم","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"الأسبوع الحالي","Last week":"الأسبوع الماضي","Last 4 weeks":"آخر 4 أسابيع","Last 12 weeks":"آخر 12 أسبوع","Last 52 weeks":"آخر 52 أسبوع","Weeks this year":"أسابيع السنة الحالية","This bi-week":"الأسبوعين الحاليين","Last bi-week":"آخر اسبوعين","Last 4 bi-weeks":"آخر 4 زوج اسابيع","This month":"الشهر الحالي","Last month":"الشهر الماضي","Last 3 months":"آخر 3 أشهر","Last 6 months":"آخر 6 أشهر","Last 12 months":"آخر 12 شهر","Months this year":"أشهر السنة الحالية","This bi-month":"الشهران المزدوجان الحاليان","Last bi-month":"آخر شهرين مزدوجين","Last 6 bi-months":"آخر 6 أشهر مزدوجة","Bi-months this year":"الأشهر المزدوجة في السنة الحالية","This quarter":"ربع السنة الحالي","Last quarter":"ربع السنة الماضي","Last 4 quarters":"آخر 4 أرباع السنة","Quarters this year":"أرباع السنة الحالية","This six-month":"نصف السنة الحالي (فترة من ستة أشهر)","Last six-month":"آخر ستة أشهر","Last 2 six-month":"","This financial year":"السنة المالية الحالية","Last financial year":"السنة المالية الماضية","Last 5 financial years":"آخر 5 سنوات مالية","This year":"السنة الحالية","Last year":"السنة الماضية","Last 5 years":"آخر 5 سنوات","Last 10 years":"",Days:CX,Weeks:EX,"Bi-weeks":"كل اسبوعين",Months:kX,"Bi-months":"الأشهر المزدوجة",Quarters:NX,"Six-months":"ستة أشهر","Financial Years":"",Years:LX,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"",Retry:IX,Series:AX,Category:PX,Filter:DX,Columns:MX,Rows:OX,Points:RX,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:$X,"Select a program":"",Indicators:zX,"Indicator group":"","All groups":"",Indicator:FX,"No indicator groups found":"","Loading indicator groups":"","Data elements":"عناصر البيانات","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"حزم البيانات","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"",Small:jX,Regular:BX,Large:UX,"Extra Large":"",Left:GX,Center:YX,Right:VX,Start:WX,Middle:qX,End:HX,Top:XX,Bottom:ZX,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:KX,"Organisation unit":"الوحدة التنظيمية","Assigned Categories":"","Pivot table":"الجدول المحوري",Area:QX,"Stacked area":"",Bar:JX,"Stacked bar":"",Column:eZ,"Year over year (column)":"","Stacked column":"",Gauge:tZ,Line:nZ,"Line list":"قائمة السطور","Year over year (line)":"",Pie:iZ,Radar:rZ,Scatter:aZ,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:sZ,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:oZ,Base:lZ,"Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","{{count}} items_4":"","{{count}} items_5":"","Reset zoom":""},uZ="",dZ="",hZ="",pZ="",mZ="",fZ="لابردن",gZ="گەڕان",yZ="لابردن",vZ="سڕینەوە",xZ="",bZ="نوێ",_Z="تۆمارکردن",wZ="داخستن",TZ="",SZ="",CZ="",EZ="",kZ="",NZ="دةستكاري",LZ="نوێ کردنەوە",IZ="",AZ="",PZ="",DZ="",MZ="",OZ="",RZ="هەرکەسێک",$Z="",zZ="",FZ="",jZ="",BZ="",UZ="شاردنەوە",GZ="",YZ="ماوة",VZ="",WZ="",qZ="",HZ="",XZ="",ZZ="",KZ="",QZ="",JZ="",eK="",tK="",nK="",iK="",rK="",aK="",sK="",oK="",lK="ئەمڕۆ",cK="",uK="رۆژەکان",dK="",hK="مانگەکان",pK="",mK="ساڵەکان",fK="",gK="",yK="",vK="",xK="",bK="",_K="",wK="بةرنامة",TK="نیشاندەر",SK="",CK="",EK="",kK="",NK="",LK="",IK="",AK="",PK="",DK="",MK="",OK="",RK="",$K="ناوچە",zK="",FK="ستوون",jK="",BK="",UK="",GK="",YK="",VK="",WK="",qK="",HK={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"",Notifications:uZ,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:dZ,"Subscribe to get updates about new interpretations.":"",Subscribe:hZ,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"",Disaggregation:pZ,"No data":"",Loading:mZ,"Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data elements found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:fZ,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:gZ,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Cancel:yZ,Delete:vZ,File:xZ,New:bZ,"Open…":"",Save:_Z,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:wZ,"Rename {{fileType}}":"",Name:TZ,Description:SZ,Rename:CZ,"Save {{fileType}} as":"","event report":"","line list":"",map:EZ,visualization:kZ,Edit:NZ,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:LZ,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:IZ,Unlike:AZ,Like:PZ,Reply:DZ,Share:MZ,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:OZ,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Created by":"",Anyone:RZ,"Only you":"",Others:$Z,"Not supported by this app yet":"","Filter by name":"",Created:zZ,"Last updated":"",Type:FZ,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:jZ,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:BZ,Hide:UZ,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} groups_0":"","{{count}} groups_1":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:GZ,"Select year":"",Period:YZ,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",January:VZ,February:WZ,March:qZ,April:HZ,May:XZ,June:ZZ,July:KZ,August:QZ,September:JZ,October:eK,November:tK,December:nK,"Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"",Daily:iK,Weekly:rK,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:aK,"Bi-monthly":"",Quarterly:sK,"Six-monthly":"","Six-monthly April":"",Yearly:oK,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:lK,Yesterday:cK,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"ئەم هەفتەیە","Last week":"هەفتەی ڕابردوو","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"ئەم مانگە","Last month":"مانگی ڕابردوو","Last 3 months":"٣ مانگ پێشووتر","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:uK,Weeks:dK,"Bi-weeks":"",Months:hK,"Bi-months":"",Quarters:pK,"Six-months":"","Financial Years":"",Years:mK,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"",Retry:fK,Series:gK,Category:yK,Filter:vK,Columns:xK,Rows:bK,Points:_K,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:wK,"Select a program":"",Indicators:TK,"Indicator group":"","All groups":"",Indicator:SK,"No indicator groups found":"","Loading indicator groups":"","Data elements":"","Data element group":"","Data element":"داتاي سةرةكي","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"",Small:CK,Regular:EK,Large:kK,"Extra Large":"",Left:NK,Center:LK,Right:IK,Start:AK,Middle:PK,End:DK,Top:MK,Bottom:OK,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:RK,"Organisation unit":"يةكةي ريكخراو","Assigned Categories":"","Pivot table":"",Area:$K,"Stacked area":"",Bar:zK,"Stacked bar":"",Column:FK,"Year over year (column)":"","Stacked column":"",Gauge:jK,Line:BK,"Line list":"","Year over year (line)":"",Pie:UK,Radar:GK,Scatter:YK,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:VK,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:WK,Base:qK,"Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","Reset zoom":""},XK="Oznámení",ZK="Odhlásit odběr",KK="Odebírat",QK="Zrušit",JK="Načítání",eQ="Rozčlenění",tQ="Výpočet",nQ="Odebrat",iQ="Hledat",rQ="Smazat",aQ="Soubor",sQ="Nový",oQ="Uložit",lQ="Zavřít",cQ="Název",uQ="Popis",dQ="Přejmenovat",hQ="mapa",pQ="vizualizace",mQ="Upravit",fQ="Aktualizovat",gQ="Interpretace",yQ="Odpovědět",vQ="Na rozdíl od",xQ="Jako",bQ="Sdílet",_Q="Náhled",wQ="Kdokoliv",TQ="Ostatní",SQ="Vytvořeno",CQ="Typ",EQ="Otevřít",kQ="Možnosti",NQ="Skrýt",LQ="Rok",IQ="Období",AQ="Denně",PQ="Týdně",DQ="Měsíčně",MQ="Čtvrtletně",OQ="Ročně",RQ="Dnes",$Q="Včera",zQ="Dnů",FQ="Týdnů",jQ="Měsíce",BQ="Čtvrtletí",UQ="Let",GQ="Opakovat",YQ="Série",VQ="Kategorie",WQ="Filtr",qQ="Sloupce",HQ="Řádky",XQ="Body",ZQ="Program",KQ="Indikátory",QQ="Indikátor",JQ="Výpočty",eJ="Malý",tJ="Pravidelný",nJ="Velký",iJ="Vlevo",rJ="střed",aJ="Vpravo",sJ="Start",oJ="Střední",lJ="Konec",cJ="Nahoře",uJ="Dole",dJ="Data",hJ="Oblast",pJ="LIšta",mJ="Sloupec",fJ="Gauge",gJ="Linie",yJ="Výseč",vJ="Radar",xJ="Rozptyl",bJ="Trend",_J="Cíl",wJ="Základ",TJ={"view only":"pouze zobrazit","view and edit":"zobrazit a upravit","all users ({{accessLevel}})":"všichni uživatelé ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Sdíleno s {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"Nesdíleno s žádnými uživateli ani skupinami","No description":"Bez popisu","Last updated {{time}}":"Poslední aktualizace {{time}}","Created {{time}} by {{author}}":"Vytvořeno {{time}} uživatelem {{author}}","Created {{time}}":"Vytvořeno {{time}}","Viewed {{count}} times_0":"Zobrazeno 1 krát","Viewed {{count}} times_1":"Zobrazeno {{count}}krát","Viewed {{count}} times_2":"Zobrazeno {{count}}krát","Viewed {{count}} times_3":"Zobrazeno {{count}}krát",Notifications:XK,"You're subscribed and getting updates about new interpretations.":"Jste přihlášeni k odběru a dostáváte aktualizace o nových interpretacích.",Unsubscribe:ZK,"Subscribe to get updates about new interpretations.":"Přihlaste se k odběru novinek o nových interpretacích.",Subscribe:KK,"About this map":"O této mapě","About this line list":"O seznamu řádků","About this visualization":"O této vizualizaci","This app could not retrieve required data.":"Tato aplikace nemohla načíst požadovaná data.","Network error":"Chyba sítě","Data / Edit calculation":"Data / Upravit výpočet","Data / New calculation":"Data / Nový výpočet","Remove item":"Odebrat položku","Check formula":"Zkontrolujte vzorec","Calculation name":"Název výpočtu","Shown in table headers and chart axes/legends":"Zobrazeno v záhlaví tabulky a osy/legendy grafu","Delete calculation":"Smazat výpočet",Cancel:QK,"The calculation can only be saved with a valid formula":"Výpočet lze uložit pouze s platným vzorcem","Add a name to save this calculation":"Přidejte název pro uložení tohoto výpočtu","Save calculation":"Uložit výpočet","Are you sure you want to delete this calculation? It may be used by other visualizations.":"Opravdu chcete tento výpočet smazat? Může být použit jinými vizualizacemi.","Yes, delete":"Ano, smazat","Totals only":"Pouze součty","Details only":"Pouze podrobnosti",Loading:JK,"Data elements":"Datové prvky","Search by data element name":"Vyhledávání podle názvu datového prvku",'No data elements found for "{{- searchTerm}}"':"Nebyly nalezeny žádné datové prvky pro „{{- searchTerm}}“","No data elements found":"Nebyly nalezeny žádné datové prvky","Drag items here, or double click in the list, to start building a calculation formula":"Přetáhněte položky sem nebo dvakrát klikněte na seznam a začněte vytvářet vzorec výpočtu","Math operators":"Matematické operátory","Data Type":"Typ dat","Only {{dataType}} can be used in {{visType}}":"","All types":"Všechny typy",Disaggregation:eQ,"No data":"Nejsou data","Search by data item name":"Hledání podle názvu datové položky","No items selected":"Nevybrány žádné položky","Selected Items":"Vybrané položky","No indicators found":"Nebyly nalezeny žádné indikátory","No data sets found":"Nebyly nalezeny žádné datové soubory","No event data items found":"Nebyly nalezeny žádné datové položky události","No program indicators found":"Nebyly nalezeny žádné programové indikátory","No calculations found":"Nenalezeny žádné výpočty",'No indicators found for "{{- searchTerm}}"':"Nebyly nalezeny žádné indikátory pro „{{- searchTerm}}“",'No data sets found for "{{- searchTerm}}"':"Nebyly nalezeny žádné soubory dat pro „{{- searchTerm}}“",'No event data items found for "{{- searchTerm}}"':"Pro „{{- searchTerm}}“ nebyly nalezeny žádné datové položky události",'No program indicators found for "{{- searchTerm}}"':"Nebyly nalezeny žádné programové indikátory pro „{{- searchTerm}}“",'No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"Pro dotaz „{{- searchTerm}}“ nebylo nic nalezeno",Calculation:tQ,"Metric type":"Metrický typ","All metrics":"Všechny metriky","Move to {{axisName}}":"Přesunout na {{axisName}}","Add to {{axisName}}":"Přidat k {{axisName}}","Not available for {{visualizationType}}":"Není k dispozici pro {{visualizationType}}","Remove Assigned Categories":"Odebrat přiřazené kategorie","Add Assigned Categories":"Přidat přiřazené kategorie",Remove:nQ,"Filter dimensions":"Rozsahy filtru","Main dimensions":"Hlavní rozměry","Your dimensions":"Vaše rozměry","Dimension recommended with selected data":"U vybraných dat je doporučen rozsah","All items":"Všechny položky","Automatically include all items":"Automaticky zahrnout všechny položky","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Vyberte všechny položky {{- dimensionTitle}}. Díky této možnosti budou automaticky přidány nové položky přidané v budoucnosti.","Manually select items...":"Ručně vybrat položky ...","Nothing found in {{- dimensionTitle}}":"V {{- dimensionTitle}} nebylo nic nalezeno",Search:iQ,"Nothing found for {{- searchTerm}}":"Pro {{- searchTerm}} nebylo nic nalezeno.","Delete {{fileType}}":"Smazat {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"Tento {{fileType}} a související interpretace budou smazány. Pokračovat?",Delete:rQ,File:aQ,New:sQ,"Open…":"Otevřít…",Save:oQ,"Save…":"Uložit…","Save as…":"Uložit jako…","Rename…":"Přejmenovat…","Translate…":"Přeložit…","Share…":"Sdílet…","Get link…":"Získat odkaz ...","Open in this app":"Otevřít v této aplikaci",Close:lQ,"Rename {{fileType}}":"Přejmenovat {{fileType}}",Name:cQ,Description:uQ,Rename:dQ,"{{- objectName}} (copy)":"{{- objectName}} (kopie)","Save {{fileType}} as":"Uložit {{fileType}} jako","event report":"zpráva o události","line list":"seznam řádků",map:hQ,visualization:pQ,Edit:mQ,"Write a reply":"Napsat odpověď","Post reply":"Odpovědět","Delete failed":"Smazání se nezdařilo","Could not update comment":"Komentář se nepodařilo aktualizovat","Enter comment text":"Zadejte text komentáře",Update:fQ,"Viewing interpretation: {{- visualisationName}}":"Zobrazení interpretace: {{- visualisationName}}","Could not load interpretation":"Interpretaci nelze načíst","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"Interpretaci se nepodařilo zobrazit. Zkuste to znovu nebo se obraťte na správce systému.","Hide interpretation":"Skrýt interpretaci","Write an interpretation":"Napsat interpretaci","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"Vložit interpretaci",Interpretations:gQ,Reply:yQ,"{{count}} replies_0":"{{count}} odpověď","{{count}} replies_1":" {{count}} odpovědi","{{count}} replies_2":"{{count}} odpovědí","{{count}} replies_3":"{{count}} odpovědi","View replies":"",Unlike:vQ,Like:xQ,"See interpretation":"Zobrazit interpretaci","Open in app":"",Share:bQ,"Manage sharing":"Spravovat sdílení","Could not update interpretation":"Interpretaci nelze aktualizovat","Enter interpretation text":"Zadejte text interpretace","Bold text":"Tučné písmo","Italic text":"Text kurzívou","Link to a URL":"Odkaz na URL","Mention a user":"Zmínit uživatele","Add emoji":"Přidat emotikony",Preview:_Q,"Back to write mode":"Zpět do režimu zápisu","Too many results. Try refining the search.":"Příliš mnoho výsledků. Zkuste upřesnit vyhledávání.","Search for a user":"Vyhledat uživatele",'Searching for "{{- searchText}}"':'Hledání "{{- searchText}}"',"No results found":"Nenalezeny žádné výsledky","Not available offline":"Není k dispozici offline","Created by":"Vytvořil",Anyone:wQ,"Only you":"Jen vy",Others:TQ,"Not supported by this app yet":"Tato aplikace zatím nepodporuje","Filter by name":"Filtrovat podle názvu",Created:SQ,"Last updated":"Naposledy aktualizováno",Type:CQ,"Clear filters":"Vymazat filtry","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} z {{totalNumberOfItems}}",Open:EQ,"Couldn't load items":"Položky nelze načíst","There was a problem loading items. Try again or contact your system administrator.":"Při načítání položek došlo k problému. Zkuste to znovu nebo se obraťte na správce systému.","No items found. Create a new to get started.":"Žádné položky nenalezeny. Začněte vytvořením nové.","No items found. Try adjusting your search or filter options to find what you're looking for.":"Žádné položky nenalezeny. Zkuste upravit možnosti vyhledávání nebo filtrování, abyste našli to, co hledáte.","Create new":"Vytvořit nový","Open a visualization":"Otevřít vizualizaci","Loading visualizations":"Načítání vizualizací","Couldn't load visualizations":"Nelze načíst vizualizace","There was a problem loading visualizations. Try again or contact your system administrator.":"Při načítání vizualizací došlo k problému. Zkuste to znovu nebo se obraťte na správce systému.","No visualizations found. Click New visualization to get started.":"Nebyly nalezeny žádné vizualizace. Začněte kliknutím na Nová vizualizace.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"Nenalezeny žádné vizualizace. Zkuste upravit možnosti vyhledávání nebo filtrování, abyste našli to, co hledáte.","New visualization":"Nová vizualizace","Open a map":"Otevřít mapu","Loading maps":"Načítání map","Couldn't load maps":"Mapy se nepodařilo načíst","There was a problem loading maps. Try again or contact your system administrator.":"Při načítání map došlo k problému. Zkuste to znovu nebo se obraťte na správce systému.","No maps found. Click New map to get started.":"Nenalezeny žádné mapy. Začněte kliknutím na Nová mapa.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"Nenalezeny žádné mapy. Zkuste upravit možnosti vyhledávání nebo filtrování, abyste našli to, co hledáte.","New map":"Nová mapa","Open a line list":"Otevřít řádkový seznam","Loading line lists":"Načítání řádkových seznamů","Couldn't load line lists":"Řádkové seznamy se nepodařilo načíst","There was a problem loading line lists. Try again or contact your system administrator.":"Při načítání řádkových seznamů došlo k problému. Zkuste to znovu nebo se obraťte na správce systému.","No line lists found. Click New line list to get started.":"Nebyly nalezeny žádné řádkové seznamy. Začněte kliknutím na Nový řádkový seznam.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"Nebyly nalezeny žádné řádkové seznamy. Zkuste upravit možnosti vyhledávání nebo filtru, abyste našli to, co hledáte.","New line list":"Nový řádkový seznam",Options:kQ,Hide:NQ,"{{count}} org units_0":"{{count}} organizační jednotka","{{count}} org units_1":"{{count}} organizační jednotky","{{count}} org units_2":"{{count}} organizačních jednotek","{{count}} org units_3":"{{count}} organizačních jednotek","{{count}} levels_0":"{{count}} úroveň","{{count}} levels_1":"{{count}} úrovně","{{count}} levels_2":"{{count}} úrovní","{{count}} levels_3":"{{count}} úrovní","{{count}} groups_0":"{{count}} skupina","{{count}} groups_1":"{{count}} skupiny","{{count}} groups_2":"{{count}} skupin","{{count}} groups_3":"{{count}} skupin","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Vybráno: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Není vybráno nic","User organisation unit":"Organizační jednotka uživatele","User sub-units":"Podjednotky uživatele","User sub-x2-units":"Jednotky 2. řádu uživatele","Select a level":"Vybrat úroveň","Select a group":"Vybrat skupinu","Deselect all":"Odznačit vše","Period type":"Typ období",Year:LQ,"Select year":"Vybrat rok",Period:IQ,"Selected Periods":"Vybraná období","Relative periods":"Relativní období","Fixed periods":"Pevné období","No periods selected":"Nejsou vybrána žádná období",Daily:AQ,Weekly:PQ,"Weekly (Start Wednesday)":"Týdně (od středy)","Weekly (Start Thursday)":"Týdně (od čtvrtka)","Weekly (Start Saturday)":"Týdně (od soboty)","Weekly (Start Sunday)":"Týdně (začíná nedělí)","Bi-weekly":"po 14ti dnech",Monthly:DQ,"Bi-monthly":"Dvakrát za měsíc",Quarterly:MQ,"Six-monthly":"Šestiměsíční","Six-monthly April":"Duben šest měsíců",Yearly:OQ,"Financial year (Start November)":"Finanční rok (od listopadu)","Financial year (Start October)":"Finanční rok (od října)","Financial year (Start July)":"Finanční rok (od července)","Financial year (Start April)":"Finanční rok (od dubna)",Today:RQ,Yesterday:$Q,"Last 3 days":"Poslední 3 dny","Last 7 days":"Posledních 7 dní","Last 14 days":"Posledních 14 dní","Last 30 days":"Poledních 30 dní","Last 60 days":"Posledních 60 dní","Last 90 days":"Posledních 90 dní","Last 180 days":"Posledních 180 dní","This week":"Tento týden","Last week":"Minulý týden","Last 4 weeks":"Poslední 4 týdny","Last 12 weeks":"Posledních 12 týdnů","Last 52 weeks":"Posledních 52 týdnů","Weeks this year":"Týdny tohoto roku","This bi-week":"Těchto 14 dní","Last bi-week":"Posledních dní ","Last 4 bi-weeks":"4 poslední dvoutýdny","This month":"Tento měsíc","Last month":"Minulý měsíc","Last 3 months":"Poslední 3 měsíce","Last 6 months":"Posledních 6 měsíců","Last 12 months":"Posledních 12 měsíců","Months this year":"Měsíce tohoto roku","This bi-month":"Těchto 14 dní","Last bi-month":"Poslední dva měsíce","Last 6 bi-months":"Posledních 6 dvou-měsíců","Bi-months this year":"Dvouměsíčně tento rok","This quarter":"Toto čtvrtletí","Last quarter":"Poslední čtvrtletí","Last 4 quarters":"Poslední 4 čtvrtletí ","Quarters this year":"Čtvrtletí tohoto roku","This six-month":"Tento půlrok","Last six-month":"Poslední půlrok","Last 2 six-month":"Poslední 2 půlroky","This financial year":"Tento finanční rok","Last financial year":"Poslední finanční rok","Last 5 financial years":"Posledních 5 finančních roků","This year":"Tento rok","Last year":"Poslední rok","Last 5 years":"Posledních 5 let","Last 10 years":"Posledních 10 let",Days:zQ,Weeks:FQ,"Bi-weeks":"14 dní",Months:jQ,"Bi-months":"Dva měsíce",Quarters:BQ,"Six-months":"Půlrok","Financial Years":"Finanční roky",Years:UQ,"Interpretations and details":"","Translating to":"Překlad do","Choose a locale":"Vyberte národní prostředí","Base locale reference":"Odkaz na základní národní prostředí","Choose a locale to translate from the menu above":"Z nabídky výše vyberte národní prostředí, které chcete přeložit","Translate: {{objectName}}":"Přeložit: {{objectName}}","Save translations":"Uložit překlady","Cannot save while offline":"Nelze ukládat v režimu offline","Could not load translations":"Nelze načíst překlady",Retry:GQ,Series:YQ,Category:VQ,Filter:WQ,Columns:qQ,Rows:HQ,Points:XQ,"Reporting rate":"Míra hlášení","Reporting rate on time":"Četnost hlášení na čas","Actual reports":"Aktuální zprávy","Actual reports on time":"Aktuální zprávy včas","Expected reports":"Očekávané zprávy",Program:ZQ,"Select a program":"Vybrat program",Indicators:KQ,"Indicator group":"Skupina indikátorů","All groups":"Všechny skupiny",Indicator:QQ,"No indicator groups found":"Nebyly nalezeny žádné skupiny indikátorů","Loading indicator groups":"Načítání skupin indikátorů","Data element group":"Skupina datových prvků","Data element":"Datový prvek","No data element groups found":"Nenalezeny žádné skupiny datových prvků","Loading data element groups":"Načítání skupin datových prvků","Data sets":"Datové sady","Data set":"Datová sada","All data sets":"Všechny datové soubory","Loading data sets":"Načítání datových sad","Event data items":"Položky dat události","All programs":"Všechny programy","Event data item":"Datová položka události","No programs found":"Nebyly nalezeny žádné programy","Loading programs":"Načítání programů","Program indicators":"Indikátory programu","Program indicator":"Indikátor programu",Calculations:JQ,Number:"Číslo","Formula is empty. Add items to the formula from the lists on the left.":"Vzorec je prázdný. Přidejte položky do vzorce ze seznamů vlevo.","Consecutive math operators":"Po sobě jdoucí matematické operátory","Consecutive data elements":"Po sobě jdoucí datové prvky","Starts or ends with a math operator":"Začíná nebo končí matematickým operátorem","Empty parentheses":"Prázdné závorky","Missing right parenthesis )":"Chybí pravá závorka )","Missing left parenthesis (":"Chybí levá závorka (","Extra Small":"Velmi malý",Small:eJ,Regular:tJ,Large:nJ,"Extra Large":"Velmi velký",Left:iJ,Center:rJ,Right:aJ,Start:sJ,Middle:oJ,End:lJ,Top:cJ,Bottom:uJ,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} a {{lastOuName}}","{{allDynamicOuNames}} levels":"úrovně {{allDynamicOuNames}}","{{allDynamicOuNames}} groups":"skupiny {{allDynamicOuNames}}","{{allDynamicOuNames}} levels in {{staticOuNames}}":"úrovně {{allDynamicOuNames}} v {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"Skupiny {{allDynamicOuNames}} v {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% z celkových hodnot x","{{percentage}}% of total y values":"{{percentage}}% z celkových hodnot y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Upravené nízké Z-skóre","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Upravené vysoké Z-skóre","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × nízké Z-skóre","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-skóre vysoké",Data:dJ,"Organisation unit":"Organizační jednotka","Assigned Categories":"Přiřazené kategorie","Pivot table":"Kontingenční tabulka",Area:hJ,"Stacked area":"Skládaná plocha",Bar:pJ,"Stacked bar":"Skládaný lištový graf",Column:mJ,"Year over year (column)":"Rok po roce (sloupce)","Stacked column":"Skládaný sloupec",Gauge:fJ,Line:gJ,"Line list":"Seznam řádků","Year over year (line)":"Rok po roce (řádek)",Pie:yJ,Radar:vJ,Scatter:xJ,"Single value":"Jedna hodnota","Outlier table":"","All charts":"Všechny grafy","{{seriesName}} (trend)":"{{seriesName}} (trend)",Trend:bJ,"No legend for this series":"Pro tuto sérii není legenda","and {{amount}} more...":"a {{amount}} další ...","Linear Regression":"Lineární regrese",Target:_J,Base:wJ,"Axis {{axisId}}":"Osa {{axisId}}","{{count}} items_0":"{{count}} položka","{{count}} items_1":" {{count}} položky","{{count}} items_2":" {{count}} položek","{{count}} items_3":"{{count}} položek","Reset zoom":"Obnovit přiblížení"},SJ="",CJ="",EJ="",kJ="Cancel",NJ="",LJ="",IJ="",AJ="Remove",PJ="",DJ="Delete",MJ="File",OJ="New",RJ="Save",$J="Close",zJ="Name",FJ="Description",jJ="",BJ="",UJ="",GJ="",YJ="Update",VJ="Interpretations",WJ="",qJ="",HJ="",XJ="",ZJ="",KJ="",QJ="",JJ="",eee="",tee="Open",nee="",iee="",ree="Year",aee="",see="Daily",oee="Weekly",lee="Monthly",cee="Quarterly",uee="Yearly",dee="",hee="",pee="",mee="",fee="",gee="",yee="",vee="",xee="",bee="Category",_ee="Filter",wee="",Tee="",See="",Cee="",Eee="Indicators",kee="Indicator",Nee="",Lee="",Iee="",Aee="",Pee="",Dee="",Mee="",Oee="",Ree="",$ee="",zee="",Fee="",jee="",Bee="",Uee="",Gee="",Yee="",Vee="",Wee="",qee="",Hee="",Xee="",Zee="",Kee="",Qee={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:SJ,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:CJ,"Subscribe to get updates about new interpretations.":"",Subscribe:EJ,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:kJ,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:NJ,"Data elements":"Data elements","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:LJ,"No data":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:IJ,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:AJ,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:PJ,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:DJ,File:MJ,New:OJ,"Open…":"",Save:RJ,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:$J,"Rename {{fileType}}":"",Name:zJ,Description:FJ,Rename:jJ,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:BJ,visualization:UJ,Edit:GJ,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:YJ,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:VJ,Unlike:WJ,Like:qJ,Reply:HJ,Share:XJ,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:ZJ,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"No results found","Not available offline":"","Created by":"Created by",Anyone:KJ,"Only you":"",Others:QJ,"Not supported by this app yet":"","Filter by name":"Filter by name",Created:JJ,"Last updated":"",Type:eee,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:tee,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:nee,Hide:iee,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:ree,"Select year":"",Period:aee,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",Daily:see,Weekly:oee,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:lee,"Bi-monthly":"Bi-monthly",Quarterly:cee,"Six-monthly":"Six-monthly","Six-monthly April":"",Yearly:uee,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:dee,Yesterday:hee,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Last week","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"Last month","Last 3 months":"Last 3 months","Last 6 months":"Last 6 months","Last 12 months":"Last 12 months","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:pee,Weeks:mee,"Bi-weeks":"",Months:fee,"Bi-months":"",Quarters:gee,"Six-months":"","Financial Years":"",Years:yee,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:vee,Series:xee,Category:bee,Filter:_ee,Columns:wee,Rows:Tee,Points:See,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:Cee,"Select a program":"",Indicators:Eee,"Indicator group":"Indicator group","All groups":"",Indicator:kee,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Data element group","Data element":"Data element","No data element groups found":"","Loading data element groups":"","Data sets":"Data sets","Data set":"Data set","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:Nee,Number:"Number","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:Lee,Regular:Iee,Large:Aee,"Extra Large":"",Left:Pee,Center:Dee,Right:Mee,Start:Oee,Middle:Ree,End:$ee,Top:zee,Bottom:Fee,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:jee,"Organisation unit":"Organisation unit","Assigned Categories":"","Pivot table":"",Area:Bee,"Stacked area":"",Bar:Uee,"Stacked bar":"",Column:Gee,"Year over year (column)":"","Stacked column":"",Gauge:Yee,Line:Vee,"Line list":"","Year over year (line)":"",Pie:Wee,Radar:qee,Scatter:Hee,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:Xee,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:Zee,Base:Kee,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},Jee="Notifications",ete="Unsubscribe",tte="Subscribe",nte="Cancel",ite="Loading",rte="Disaggregation",ate="None",ste="True",ote="False",lte="Indicators",cte="Type",ute="Annualized",dte="Yes",hte="No",pte="Name",mte="Description",fte="Code",gte="ID",yte="Custom",vte="Program",xte="Enrollment",bte="Event",_te="Expression",wte="Filter",Tte="Calculation",Ste="Remove",Cte="Search",Ete="Delete",kte="File",Nte="New",Lte="Save",Ite="Close",Ate="Rename",Pte="map",Dte="visualization",Mte="Edit",Ote="Update",Rte="Interpretations",$te="Reply",zte="Unlike",Fte="Like",jte="Share",Bte="Anyone",Ute="Others",Gte="Created",Yte="Open",Vte="Options",Wte="Hide",qte="Year",Hte="Period",Xte="Daily",Zte="Weekly",Kte="Monthly",Qte="Quarterly",Jte="Yearly",ene="Today",tne="Yesterday",nne="Days",ine="Weeks",rne="Months",ane="Quarters",sne="Years",one="Preview",lne="Retry",cne="Series",une="Category",dne="Columns",hne="Rows",pne="Points",mne="Indicator",fne="Calculations",gne="Small",yne="Regular",vne="Large",xne="Left",bne="Center",_ne="Right",wne="Start",Tne="Middle",Sne="End",Cne="Top",Ene="Bottom",kne="Data",Nne="Text",Lne="Letter",Ine="Email",Ane="Time",Pne="Percentage",Dne="Integer",Mne="Username",One="Coordinate",Rne="Reference",$ne="Age",zne="URL",Fne="Image",jne="GeoJSON",Bne="Area",Une="Bar",Gne="Column",Yne="Gauge",Vne="Line",Wne="Pie",qne="Radar",Hne="Scatter",Xne="Trend",Zne="Target",Kne="Base",Qne={"view only":"view only","view and edit":"view and edit","all users ({{accessLevel}})":"all users ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Shared with {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"Not shared with any users or groups","No description":"No description","Last updated {{time}}":"Last updated {{time}}","Created {{time}} by {{author}}":"Created {{time}} by {{author}}","Created {{time}}":"Created {{time}}","Viewed {{count}} times":"Viewed 1 time","Viewed {{count}} times_plural":"Viewed {{count}} times",Notifications:Jee,"You're subscribed and getting updates about new interpretations.":"You're subscribed and getting updates about new interpretations.",Unsubscribe:ete,"Subscribe to get updates about new interpretations.":"Subscribe to get updates about new interpretations.",Subscribe:tte,"About this map":"About this map","About this line list":"About this line list","About this visualization":"About this visualization","About this event chart":"About this event chart","About this event report":"About this event report","This app could not retrieve required data.":"This app could not retrieve required data.","Network error":"Network error","Data / Edit calculation":"Data / Edit calculation","Data / New calculation":"Data / New calculation","Remove item":"Remove item","Check formula":"Check formula","Calculation name":"Calculation name","Shown in table headers and chart axes/legends":"Shown in table headers and chart axes/legends","Delete calculation":"Delete calculation",Cancel:nte,"The calculation can only be saved with a valid formula":"The calculation can only be saved with a valid formula","Add a name to save this calculation":"Add a name to save this calculation","Save calculation":"Save calculation","Are you sure you want to delete this calculation? It may be used by other visualizations.":"Are you sure you want to delete this calculation? It may be used by other visualizations.","Yes, delete":"Yes, delete","Totals only":"Totals only","Details only":"Details only",Loading:ite,"Data elements":"Data elements","Search by data element name":"Search by data element name",'No data elements found for "{{- searchTerm}}"':'No data elements found for "{{- searchTerm}}"',"No data elements found":"No data elements found","Drag items here, or double click in the list, to start building a calculation formula":"Drag items here, or double click in the list, to start building a calculation formula","Math operators":"Math operators","Data Type":"Data Type","Only {{dataType}} can be used in {{visType}}":"Only {{dataType}} can be used in {{visType}}","All types":"All types",Disaggregation:rte,"No data":"No data","Expression description":"Expression description","Error loading value":"Error loading value",None:ate,"Data set(s)":"Data set(s)","Zero is significant":"Zero is significant",True:ste,False:ote,"Value type":"Value type","Aggregation type":"Aggregation type","Category combo":"Category combo","Option set":"Option set","Group membership":"Group membership","Legend set(s)":"Legend set(s)","Category option name":"Category option name","Category combo name":"Category combo name","Categories name":"Categories name","Period type":"Period type",Indicators:lte,"Expiry days":"Expiry days",Type:cte,"Data element":"Data element","Tracked entity attribute":"Tracked entity attribute","Numerator description":"Numerator description","Numerator expression":"Numerator expression","Denominator description":"Denominator description","Denominator expression":"Denominator expression",Annualized:ute,Yes:dte,No:hte,"Indicator type":"Indicator type","Decimals in output":"Decimals in output","There was a problem loading information for this data item.":"There was a problem loading information for this data item.",Name:pte,Description:mte,Code:fte,ID:gte,"Last updated date":"Last updated date","Created date":"Created date","Created by":"Created by",Custom:yte,Program:vte,"Analytics type":"Analytics type",Enrollment:xte,Event:bte,"Analytics period boundaries":"Analytics period boundaries","{{ offsetPeriodType }} × {{ offsetPeriods }}":"{{ offsetPeriodType }} × {{ offsetPeriods }}",Expression:_te,Filter:wte,"Search by data item name":"Search by data item name","No items selected":"No items selected","Selected Items":"Selected Items","No indicators found":"No indicators found","No data sets found":"No data sets found","No event data items found":"No event data items found","No program indicators found":"No program indicators found","No calculations found":"No calculations found",'No indicators found for "{{- searchTerm}}"':'No indicators found for "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'No data sets found for "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'No event data items found for "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'No program indicators found for "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':'No calculations found for "{{- searchTerm}}"','Nothing found for "{{- searchTerm}}"':'Nothing found for "{{- searchTerm}}"',Calculation:Tte,"Metric type":"Metric type","All metrics":"All metrics","Move to {{axisName}}":"Move to {{axisName}}","Add to {{axisName}}":"Add to {{axisName}}","Not available for {{visualizationType}}":"Not available for {{visualizationType}}","Remove Assigned Categories":"Remove Assigned Categories","Add Assigned Categories":"Add Assigned Categories",Remove:Ste,"Filter dimensions":"Filter dimensions","Main dimensions":"Main dimensions","Your dimensions":"Your dimensions","Dimension recommended with selected data":"Dimension recommended with selected data","All items":"All items","Automatically include all items":"Automatically include all items","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.","Manually select items...":"Manually select items...","Nothing found in {{- dimensionTitle}}":"Nothing found in {{- dimensionTitle}}",Search:Cte,"Nothing found for {{- searchTerm}}":"Nothing found for {{- searchTerm}}","Delete {{fileType}}":"Delete {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"This {{fileType}} and related interpretations will be deleted. Continue?",Delete:Ete,File:kte,New:Nte,"Open…":"Open…",Save:Lte,"Save…":"Save…","Save as…":"Save as…","Rename…":"Rename…","Translate…":"Translate…","Share…":"Share…","Get link…":"Get link…","Open in this app":"Open in this app",Close:Ite,"Rename {{fileType}}":"Rename {{fileType}}",Rename:Ate,"{{- objectName}} (copy)":"{{- objectName}} (copy)","Save {{fileType}} as":"Save {{fileType}} as","event report":"event report","line list":"line list",map:Pte,visualization:Dte,Edit:Mte,"Write a reply":"Write a reply","Post reply":"Post reply","Delete failed":"Delete failed","Could not update comment":"Could not update comment","Enter comment text":"Enter comment text",Update:Ote,"Viewing interpretation: {{- visualisationName}}":"Viewing interpretation: {{- visualisationName}}","Could not load interpretation":"Could not load interpretation","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"The interpretation couldn’t be displayed. Try again or contact your system administrator.","Hide interpretation":"Hide interpretation","Write an interpretation":"Write an interpretation","Other people viewing this interpretation in the future may see more data.":"Other people viewing this interpretation in the future may see more data.","Post interpretation":"Post interpretation",Interpretations:Rte,Reply:$te,"{{count}} replies":"{{count}} reply","{{count}} replies_plural":"{{count}} replies","View replies":"View replies",Unlike:zte,Like:Fte,"See interpretation":"See interpretation","Open in app":"Open in app",Share:jte,"Manage sharing":"Manage sharing","Could not update interpretation":"Could not update interpretation","Enter interpretation text":"Enter interpretation text","Not available offline":"Not available offline",Anyone:Bte,"Only you":"Only you",Others:Ute,"Not supported by this app yet":"Not supported by this app yet","Filter by name":"Filter by name",Created:Gte,"Last updated":"Last updated","Clear filters":"Clear filters","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}",Open:Yte,"Couldn't load items":"Couldn't load items","There was a problem loading items. Try again or contact your system administrator.":"There was a problem loading items. Try again or contact your system administrator.","No items found. Create a new to get started.":"No items found. Create a new to get started.","No items found. Try adjusting your search or filter options to find what you're looking for.":"No items found. Try adjusting your search or filter options to find what you're looking for.","Create new":"Create new","Open a visualization":"Open a visualization","Loading visualizations":"Loading visualizations","Couldn't load visualizations":"Couldn't load visualizations","There was a problem loading visualizations. Try again or contact your system administrator.":"There was a problem loading visualizations. Try again or contact your system administrator.","No visualizations found. Click New visualization to get started.":"No visualizations found. Click New visualization to get started.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"No visualizations found. Try adjusting your search or filter options to find what you're looking for.","New visualization":"New visualization","Open a map":"Open a map","Loading maps":"Loading maps","Couldn't load maps":"Couldn't load maps","There was a problem loading maps. Try again or contact your system administrator.":"There was a problem loading maps. Try again or contact your system administrator.","No maps found. Click New map to get started.":"No maps found. Click New map to get started.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"No maps found. Try adjusting your search or filter options to find what you're looking for.","New map":"New map","Open a line list":"Open a line list","Loading line lists":"Loading line lists","Couldn't load line lists":"Couldn't load line lists","There was a problem loading line lists. Try again or contact your system administrator.":"There was a problem loading line lists. Try again or contact your system administrator.","No line lists found. Click New line list to get started.":"No line lists found. Click New line list to get started.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"No line lists found. Try adjusting your search or filter options to find what you're looking for.","New line list":"New line list",Options:Vte,Hide:Wte,"{{count}} org units":"{{count}} org unit","{{count}} org units_plural":"{{count}} org units","{{count}} levels":"{{count}} level","{{count}} levels_plural":"{{count}} levels","{{count}} groups":"{{count}} group","{{count}} groups_plural":"{{count}} groups","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Selected: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Nothing selected","User organisation unit":"User organisation unit","User sub-units":"User sub-units","User sub-x2-units":"User sub-x2-units","Select a level":"Select a level","Select a group":"Select a group","Deselect all":"Deselect all",Year:qte,"Select year":"Select year",Period:Hte,"Selected Periods":"Selected Periods","Relative periods":"Relative periods","Fixed periods":"Fixed periods","No periods selected":"No periods selected",Daily:Xte,Weekly:Zte,"Weekly (Start Wednesday)":"Weekly (Start Wednesday)","Weekly (Start Thursday)":"Weekly (Start Thursday)","Weekly (Start Saturday)":"Weekly (Start Saturday)","Weekly (Start Sunday)":"Weekly (Start Sunday)","Bi-weekly":"Bi-weekly",Monthly:Kte,"Bi-monthly":"Bi-monthly",Quarterly:Qte,"Six-monthly":"Six-monthly","Six-monthly April":"Six-monthly April",Yearly:Jte,"Financial year (Start November)":"Financial year (Start November)","Financial year (Start October)":"Financial year (Start October)","Financial year (Start July)":"Financial year (Start July)","Financial year (Start April)":"Financial year (Start April)",Today:ene,Yesterday:tne,"Last 3 days":"Last 3 days","Last 7 days":"Last 7 days","Last 14 days":"Last 14 days","Last 30 days":"Last 30 days","Last 60 days":"Last 60 days","Last 90 days":"Last 90 days","Last 180 days":"Last 180 days","This week":"This week","Last week":"Last week","Last 4 weeks":"Last 4 weeks","Last 12 weeks":"Last 12 weeks","Last 52 weeks":"Last 52 weeks","Weeks this year":"Weeks this year","This bi-week":"This bi-week","Last bi-week":"Last bi-week","Last 4 bi-weeks":"Last 4 bi-weeks","This month":"This month","Last month":"Last month","Last 3 months":"Last 3 months","Last 6 months":"Last 6 months","Last 12 months":"Last 12 months","Months this year":"Months this year","This bi-month":"This bi-month","Last bi-month":"Last bi-month","Last 6 bi-months":"Last 6 bi-months","Bi-months this year":"Bi-months this year","This quarter":"This quarter","Last quarter":"Last quarter","Last 4 quarters":"Last 4 quarters","Quarters this year":"Quarters this year","This six-month":"This six-month","Last six-month":"Last six-month","Last 2 six-month":"Last 2 six-month","This financial year":"This financial year","Last financial year":"Last financial year","Last 5 financial years":"Last 5 financial years","This year":"This year","Last year":"Last year","Last 5 years":"Last 5 years","Last 10 years":"Last 10 years",Days:nne,Weeks:ine,"Bi-weeks":"Bi-weeks",Months:rne,"Bi-months":"Bi-months",Quarters:ane,"Six-months":"Six-months","Financial Years":"Financial Years",Years:sne,"Value: {{value}}":"Value: {{value}}","Bold text":"Bold text","Italic text":"Italic text","Link to a URL":"Link to a URL","Mention a user":"Mention a user","Add emoji":"Add emoji",Preview:one,"Back to write mode":"Back to write mode","Interpretations and details":"Interpretations and details","Translating to":"Translating to","Choose a locale":"Choose a locale","Base locale reference":"Base locale reference","Choose a locale to translate from the menu above":"Choose a locale to translate from the menu above","Translate: {{objectName}}":"Translate: {{objectName}}","Save translations":"Save translations","Cannot save while offline":"Cannot save while offline","Could not load translations":"Could not load translations",Retry:lne,"Too many results. Try refining the search.":"Too many results. Try refining the search.","Search for a user":"Search for a user",'Searching for "{{- searchText}}"':'Searching for "{{- searchText}}"',"No results found":"No results found",Series:cne,Category:une,Columns:dne,Rows:hne,Points:pne,"Reporting rate":"Reporting rate","Reporting rate on time":"Reporting rate on time","Actual reports":"Actual reports","Actual reports on time":"Actual reports on time","Expected reports":"Expected reports","Select a program":"Select a program","Indicator group":"Indicator group","All groups":"All groups",Indicator:mne,"No indicator groups found":"No indicator groups found","Loading indicator groups":"Loading indicator groups","Data element group":"Data element group","No data element groups found":"No data element groups found","Loading data element groups":"Loading data element groups","Data sets":"Data sets","Data set":"Data set","All data sets":"All data sets","Loading data sets":"Loading data sets","Event data items":"Event data items","All programs":"All programs","Event data item":"Event data item","No programs found":"No programs found","Loading programs":"Loading programs","Program indicators":"Program indicators","Program indicator":"Program indicator",Calculations:fne,Number:"Number","Formula is empty. Add items to the formula from the lists on the left.":"Formula is empty. Add items to the formula from the lists on the left.","Consecutive math operators":"Consecutive math operators","Consecutive data elements":"Consecutive data elements","Starts or ends with a math operator":"Starts or ends with a math operator","Empty parentheses":"Empty parentheses","Missing right parenthesis )":"Missing right parenthesis )","Missing left parenthesis (":"Missing left parenthesis (","Extra Small":"Extra Small",Small:gne,Regular:yne,Large:vne,"Extra Large":"Extra Large",Left:xne,Center:bne,Right:_ne,Start:wne,Middle:Tne,End:Sne,Top:Cne,Bottom:Ene,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} and {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} levels","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} groups","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} levels in {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} groups in {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% of total x values","{{percentage}}% of total y values":"{{percentage}}% of total y values","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Modified Z-score low","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Modified Z-score high","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Z-score low","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-score high","Not applicable":"Not applicable",Data:kne,"Organisation unit":"Organisation unit","Assigned Categories":"Assigned Categories",Text:Nne,"Long text":"Long text","Multi text":"Multi text",Letter:Lne,"Phone number":"Phone number",Email:Ine,"Yes/No":"Yes/No","Yes Only":"Yes Only",Date:"Date","Date & Time":"Date & Time",Time:Ane,"Unit interval":"Unit interval",Percentage:Pne,Integer:Dne,"Positive Integer":"Positive Integer","Negative Integer":"Negative Integer","Positive or Zero Integer":"Positive or Zero Integer","Tracker Associate":"Tracker Associate",Username:Mne,Coordinate:One,Reference:Rne,Age:$ne,URL:zne,Image:Fne,GeoJSON:jne,"Pivot table":"Pivot table",Area:Bne,"Stacked area":"Stacked area",Bar:Une,"Stacked bar":"Stacked bar",Column:Gne,"Year over year (column)":"Year over year (column)","Stacked column":"Stacked column",Gauge:Yne,Line:Vne,"Line list":"Line list","Year over year (line)":"Year over year (line)",Pie:Wne,Radar:qne,Scatter:Hne,"Single value":"Single value","Outlier table":"Outlier table","All charts":"All charts","{{seriesName}} (trend)":"{{seriesName}} (trend)",Trend:Xne,"No legend for this series":"No legend for this series","and {{amount}} more...":"and {{amount}} more...","Linear Regression":"Linear Regression",Target:Zne,Base:Kne,"Axis {{axisId}}":"Axis {{axisId}}","{{count}} items":"{{count}} item","{{count}} items_plural":"{{count}} items","Reset zoom":"Reset zoom"},Jne="Notificaciones",eie="Cancelar la suscripción",tie="Suscribirse",nie="Cancelar",iie="Cargando",rie="Desagregación",aie="Cálculo",sie="Eliminar",oie="Buscar",lie="Eliminar",cie="Fichero",uie="Nuevo",die="Guardar",hie="Cerrar",pie="Nombre",mie="Descripción",fie="Renombrar",gie="mapa",yie="visualización",vie="Editar",xie="Actualizar",bie="Interpretaciones",_ie="Responder",wie="diferente a",Tie="como",Sie="Compartir",Cie="Todos",Eie="Otros",kie="Creado",Nie="Tipo",Lie="Abierto",Iie="Opciones",Aie="Ocultar",Pie="Año",Die="Periodo",Mie="Diario",Oie="Semanal",Rie="Mensual",$ie="Trimestral",zie="Anual",Fie="Hoy",jie="Ayer",Bie="Días",Uie="Semanas",Gie="Meses",Yie="Trimestral",Vie="Años",Wie="Vista previa",qie="Reintentar",Hie="Series",Xie="Categoría",Zie="filtro",Kie="Columnas",Qie="Filas",Jie="Puntos",ere="Programa",tre="Indicadores",nre="Indicadores",ire="Cálculos",rre="Pequeña",are="Normal",sre="Grande",ore="Izquierdo",lre="Centrar",cre="Derecha",ure="Comienzo",dre="Medio",hre="Fin",pre="Arriba",mre="Abajo",fre="Datos",gre="Área",yre="Barra",vre="Columna",xre="Calibre",bre="Línea",_re="Pastel",wre="Radar",Tre="Dispersión",Sre="Tendencia",Cre="Objetivo",Ere="Base",kre={"view only":"Solo lectura","view and edit":"Ver y editar","all users ({{accessLevel}})":"todos los usuarios ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Compartido con {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"No compartido con ningún usuario o grupo.","No description":"Sin descripción","Last updated {{time}}":"Última actualización {{time}}","Created {{time}} by {{author}}":"Creado {{time}} por {{author}}","Created {{time}}":"Creado {{time}}","Viewed {{count}} times":"Visto 1 vez","Viewed {{count}} times_plural":"Visto {{count}} veces",Notifications:Jne,"You're subscribed and getting updates about new interpretations.":"Está suscrito y recibiendo actualizaciones sobre nuevas interpretaciones.",Unsubscribe:eie,"Subscribe to get updates about new interpretations.":"Suscríbase para recibir actualizaciones sobre nuevas interpretaciones.",Subscribe:tie,"About this map":"Acerca de este mapa","About this line list":"Acerca de este listado","About this visualization":"Acerca de esta visualización","About this event chart":"Acerca de este gráfico de eventos","About this event report":"Acerca de este informe","This app could not retrieve required data.":"Esta aplicación no pudo recuperar los datos requeridos.","Network error":"Error de red","Data / Edit calculation":"Datos / Editar cálculo","Data / New calculation":"Datos / Nuevo cálculo","Remove item":"Quitar elemento","Check formula":"Comprobar fórmula","Calculation name":"Nombre del cálculo","Shown in table headers and chart axes/legends":"Se muestra en los encabezados de las tablas y en los ejes/leyendas de los gráficos","Delete calculation":"Eliminar cálculo",Cancel:nie,"The calculation can only be saved with a valid formula":"El cálculo solo puede guardarse con una fórmula válida","Add a name to save this calculation":"Añadir un nombre para guardar este cálculo","Save calculation":"Guardar cálculo","Are you sure you want to delete this calculation? It may be used by other visualizations.":"¿Está seguro de que desea eliminar este cálculo? Puede ser utilizado por otras visualizaciones.","Yes, delete":"si, eliminar","Totals only":"Solo totales","Details only":"Solo detalles",Loading:iie,"Data elements":"Elementos de datos","Search by data element name":"Búsqueda por nombre de elemento de datos",'No data elements found for "{{- searchTerm}}"':'No se han encontrado elementos de datos para "{{- searchTerm}}"',"No data elements found":"No se han encontrado elementos de datos","Drag items here, or double click in the list, to start building a calculation formula":"Arrastre elementos aquí, o haga doble clic en la lista, para comenzar a crear una fórmula de cálculo","Math operators":"Operadores matemáticos","Data Type":"Tipo de datos","Only {{dataType}} can be used in {{visType}}":"Sólo {{dataType}} se puede utilizar en {{visType}}","All types":"Todos los tipos",Disaggregation:rie,"No data":"No hay datos","Search by data item name":"Búsqueda por nombre de item de datos","No items selected":"No hay elementos seleccionados","Selected Items":"Elementos seleccionados","No indicators found":"No se han encontrado indicadores","No data sets found":"No se han encontrado sets de datos","No event data items found":"No se encontraron elementos para datos de eventos","No program indicators found":"No se han encontrado indicadores de programa","No calculations found":"No se encontraron cálculos",'No indicators found for "{{- searchTerm}}"':'No se han encontrado indicadores para "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'No se han encontrado sets de datos para "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'No se encontraron elementos para datos de eventos para "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'No se han encontrado indicadores de programa para "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':'No se encontraron cálculos para "{{- searchTerm}}"','Nothing found for "{{- searchTerm}}"':'No se encontró nada para "{{- searchTerm}}"',Calculation:aie,"Metric type":"Tipo de métrica","All metrics":"Todas las métricas","Move to {{axisName}}":"Mover a {{axisName}}","Add to {{axisName}}":"Añadir a {{axisName}}","Not available for {{visualizationType}}":"No disponible para {{visualizationType}}","Remove Assigned Categories":"Eliminar categorías asignadas","Add Assigned Categories":"Añadir categorías asignadas",Remove:sie,"Filter dimensions":"Dimensiones del filtro","Main dimensions":"Dimensiones principales","Your dimensions":"Dimensiones propias","Dimension recommended with selected data":"Dimensión recomendada con datos seleccionados","All items":"Todos los elementos","Automatically include all items":"Incluir automáticamente todos los elementos","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Seleccionar todos los elementos {{- dimensionTitle}}. Con esta opción, los nuevos elementos que se añadan en el futuro se incluirán automáticamente.","Manually select items...":"Seleccionar manualmente los elementos...","Nothing found in {{- dimensionTitle}}":"No se encontró nada en {{- dimensionTitle}}",Search:oie,"Nothing found for {{- searchTerm}}":"No se encontró nada para {{- searchTerm}}","Delete {{fileType}}":"Eliminar {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"Este {{fileType}} y las interpretaciones relacionadas se eliminarán. ¿Continuar?",Delete:lie,File:cie,New:uie,"Open…":"Abrir…",Save:die,"Save…":"Guardar…","Save as…":"Guardar como…","Rename…":"Renombrar…","Translate…":"Traducir…","Share…":"Compartir…","Get link…":"Obtener enlace…","Open in this app":"Abierto en esta aplicación",Close:hie,"Rename {{fileType}}":"Renombrar {{fileType}}",Name:pie,Description:mie,Rename:fie,"{{- objectName}} (copy)":"{{- objectName}} (copia)","Save {{fileType}} as":"Guardar {{fileType}} como","event report":"informe de evento","line list":"listados",map:gie,visualization:yie,Edit:vie,"Write a reply":"Escribe una respuesta","Post reply":"Publicar respuesta","Delete failed":"Fallado el proceso de eliminar","Could not update comment":"No se pudo actualizar el comentario","Enter comment text":"Introducir el texto del comentario",Update:xie,"Viewing interpretation: {{- visualisationName}}":"Visualización de la interpretación: {{- visualisationName}}","Could not load interpretation":"No se pudo cargar la interpretación","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"No se ha podido mostrar la interpretación. Vuelva a intentarlo o póngase en contacto con el administrador del sistema.","Hide interpretation":"Ocultar interpretación","Write an interpretation":"Escribir una interpretación","Other people viewing this interpretation in the future may see more data.":"Otras personas que vean esta interpretación en el futuro podrían ver más datos.","Post interpretation":"Interpretación posterior",Interpretations:bie,Reply:_ie,"{{count}} replies":"{{contar}} respuesta","{{count}} replies_plural":"{{count}} respuestas","View replies":"Ver respuestas",Unlike:wie,Like:Tie,"See interpretation":"Ver interpretación","Open in app":"Abrir en la aplicación",Share:Sie,"Manage sharing":"Administrar compartir","Could not update interpretation":"No se pudo actualizar la interpretación","Enter interpretation text":"Introducir el texto de la interpretación","Not available offline":"No disponible sin conexión a internet","Created by":"Creado por",Anyone:Cie,"Only you":"Solo tú",Others:Eie,"Not supported by this app yet":"Todavía no es soportado por esta aplicación","Filter by name":"Filtrar por nombre",Created:kie,"Last updated":"Última actualización",Type:Nie,"Clear filters":"Limpiar filtros","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} de {{totalNumberOfItems}}",Open:Lie,"Couldn't load items":"No se pudieron cargar los elementos","There was a problem loading items. Try again or contact your system administrator.":"Hubo un problema al cargar los elementos. Vuelva a intentarlo o póngase en contacto con el administrador del sistema.","No items found. Create a new to get started.":"No se han encontrado elementos. Cree uno nuevo para comenzar.","No items found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado elementos. Intente ajustar las opciones de búsqueda o filtro para encontrar lo que está buscando.","Create new":"Crear nuevo","Open a visualization":"Abrir una visualización","Loading visualizations":"Cargando visualizaciones","Couldn't load visualizations":"No se pudieron cargar las visualizaciones","There was a problem loading visualizations. Try again or contact your system administrator.":"Hubo un problema al cargar las visualizaciones. Vuelva a intentarlo o póngase en contacto con el administrador del sistema.","No visualizations found. Click New visualization to get started.":"No se han encontrado visualizaciones. Haga clic en Nueva visualización para comenzar.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado visualizaciones. Intente ajustar las opciones de búsqueda o filtro para encontrar lo que está buscando.","New visualization":"Nueva visualización","Open a map":"Abrir un mapa","Loading maps":"Cargando mapas","Couldn't load maps":"No se pudieron cargar los mapas","There was a problem loading maps. Try again or contact your system administrator.":"Hubo un problema al cargar los mapas. Vuelva a intentarlo o póngase en contacto con el administrador del sistema.","No maps found. Click New map to get started.":"No se han encontrado mapas. Haga clic en Nuevo mapa para comenzar.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado mapas. Intente ajustar las opciones de búsqueda o filtro para encontrar lo que está buscando.","New map":"Nuevo mapa","Open a line list":"Abrir un listado","Loading line lists":"Cargar listados","Couldn't load line lists":"No se pudieron cargar los listados","There was a problem loading line lists. Try again or contact your system administrator.":"Hubo un problema al cargar las listas. Vuelva a intentarlo o póngase en contacto con el administrador del sistema.","No line lists found. Click New line list to get started.":"No se encontraron listas. Haga clic en Nueva lista para comenzar.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"No se encontraron listas. Intente ajustar sus opciones de búsqueda o filtro para encontrar lo que está buscando.","New line list":"Nuevo listado",Options:Iie,Hide:Aie,"{{count}} org units":"{{count}} unidad organizativa","{{count}} org units_plural":"{{count}} unidades organizativas","{{count}} levels":"{{count}} nivel","{{count}} levels_plural":"{{count}} niveles","{{count}} groups":"{{count}} grupo","{{count}} groups_plural":"{{count}} grupos","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Seleccionado: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Nada seleccionado","User organisation unit":"Unidad organizativa del usuario","User sub-units":"Subunidades de usuario","User sub-x2-units":"Sub-unidades-x2 de usuario","Select a level":"Selecciona un nivel","Select a group":"Selecciona un grupo","Deselect all":"Deseleccionar todo","Period type":"Tipo de periodo",Year:Pie,"Select year":"Seleccionar año",Period:Die,"Selected Periods":"Periodos seleccionados","Relative periods":"Periodos relativos","Fixed periods":"Periodos fijos","No periods selected":"No se ha seleccionado ningún periodo",Daily:Mie,Weekly:Oie,"Weekly (Start Wednesday)":"Semanal (Inicio miércoles)","Weekly (Start Thursday)":"Semanal (Inicio jueves)","Weekly (Start Saturday)":"Semanal (Inicio sábado)","Weekly (Start Sunday)":"Semanal (Inicio domingo)","Bi-weekly":"Quincenal",Monthly:Rie,"Bi-monthly":"Bimestral",Quarterly:$ie,"Six-monthly":"Semestral","Six-monthly April":"Semestral Abril",Yearly:zie,"Financial year (Start November)":"Año fiscal (Inicio noviembre)","Financial year (Start October)":"Año fiscal (inicio octubre)","Financial year (Start July)":"Año fiscal (inicio Julio)","Financial year (Start April)":"Año fiscal (inicio Abril)",Today:Fie,Yesterday:jie,"Last 3 days":"Últimos 3 días","Last 7 days":"Últimos 7 diass","Last 14 days":"Últimos 14 días","Last 30 days":"Últimos 30 días","Last 60 days":"Últimos 60 días","Last 90 days":"Últimos 90 días","Last 180 days":"Últimos 180 días","This week":"Esta semana","Last week":"Última semana","Last 4 weeks":"Últimas 4 semanas","Last 12 weeks":"Últimas 12 semanas","Last 52 weeks":"Últimas 52 semanas","Weeks this year":"Semanas de este año","This bi-week":"Esta quincena","Last bi-week":"Última quincena","Last 4 bi-weeks":"Últimas 4 quincenas","This month":"Este mes","Last month":"Mes anterior","Last 3 months":"Últimos 3 meses","Last 6 months":"Últimos 6 meses","Last 12 months":"Ultimos 12 meses","Months this year":"Meses este año","This bi-month":"Este bimestre","Last bi-month":"Bimestre anterior","Last 6 bi-months":"Últimos 6 bimestres","Bi-months this year":"Bimestres de este año","This quarter":"Este trimestre","Last quarter":"El trimestre pasado","Last 4 quarters":"Últimos 4 trimestres","Quarters this year":"Trimestres de este año","This six-month":"Este semestre","Last six-month":"Último semestre","Last 2 six-month":"Últimos 2 semestres","This financial year":"Este año fiscal","Last financial year":"Último ejercicio financiero","Last 5 financial years":"Últimos 5 ejercicios financieros","This year":"Este año","Last year":"El año pasado","Last 5 years":"Últimos 5 años","Last 10 years":"Últimos 10 años",Days:Bie,Weeks:Uie,"Bi-weeks":"Quincenales",Months:Gie,"Bi-months":"Bimestres",Quarters:Yie,"Six-months":"Semestres","Financial Years":"Años fiscales",Years:Vie,"Bold text":"Texto en negrita","Italic text":"Texto en cursiva","Link to a URL":"Enlace a una URL","Mention a user":"Mencionar a un usuario","Add emoji":"Añadir emoji",Preview:Wie,"Back to write mode":"Volver al modo de escritura","Interpretations and details":"Interpretaciones y detalles","Translating to":"Traducir a","Choose a locale":"Elegir un idioma","Base locale reference":"Referencia de configuración regional base","Choose a locale to translate from the menu above":"Elegir un idioma para traducir desde el menú de arriba","Translate: {{objectName}}":"Traducir: {{objectName}}","Save translations":"Guardar traducciones","Cannot save while offline":"No se puede guardar sin conexión a internet","Could not load translations":"No se pudieron cargar las traducciones",Retry:qie,"Too many results. Try refining the search.":"Demasiados resultados. Intenta refinar la búsqueda.","Search for a user":"Buscar un usuario",'Searching for "{{- searchText}}"':'Buscando "{{- searchText}}"',"No results found":"No results found",Series:Hie,Category:Xie,Filter:Zie,Columns:Kie,Rows:Qie,Points:Jie,"Reporting rate":"Tasa de informes","Reporting rate on time":"Tasa de informes a tiempo","Actual reports":"Informes reales","Actual reports on time":"Informes reales a tiempo","Expected reports":"Informes esperados",Program:ere,"Select a program":"Seleccionar un programa",Indicators:tre,"Indicator group":"Grupo de indicadores","All groups":"Todos los grupos",Indicator:nre,"No indicator groups found":"No se han encontrado grupos de indicadores","Loading indicator groups":"Cargando grupos de indicadores","Data element group":"Grupo de elemento de datos","Data element":"Elemento de datos","No data element groups found":"No se han encontrado grupos de elementos de datos","Loading data element groups":"Cargando grupos de elementos de datos","Data sets":"Sets de datos","Data set":"Set de Datos\\:","All data sets":"Todos los sets de datos","Loading data sets":"Cargando sets de datos","Event data items":"Datos de eventos","All programs":"Todos los programas","Event data item":"Event data item","No programs found":"No se han encontrado programas","Loading programs":"Cargando programas","Program indicators":"Indicadores de programa","Program indicator":"Indicador de Programa",Calculations:ire,Number:"Número","Formula is empty. Add items to the formula from the lists on the left.":"La fórmula está vacía. Añada elementos a la fórmula desde las listas de la izquierda.","Consecutive math operators":"Operadores matemáticos consecutivos","Consecutive data elements":"Elementos de datos consecutivos","Starts or ends with a math operator":"Comienza o termina con un operador matemático","Empty parentheses":"Paréntesis vacíos","Missing right parenthesis )":"Falta el paréntesis derecho )","Missing left parenthesis (":"Falta el paréntesis izquierdo (","Extra Small":"Extra pequeño",Small:rre,Regular:are,Large:sre,"Extra Large":"Extra grande",Left:ore,Center:lre,Right:cre,Start:ure,Middle:dre,End:hre,Top:pre,Bottom:mre,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} y {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} niveles","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} grupos","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} niveles en {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} grupos en {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% del total de valores x","{{percentage}}% of total y values":"{{percentage}}% del total de valores y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Z-score modificado bajo","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Z-score modificado  alto","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Z-score bajo","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-score alto",Data:fre,"Organisation unit":"Unidad organizativa","Assigned Categories":"Categorías asignadas","Pivot table":"Tabla dinámica",Area:gre,"Stacked area":"Área apilada",Bar:yre,"Stacked bar":"Barra apilada",Column:vre,"Year over year (column)":"Año tras año (columna)","Stacked column":"Columna apilada",Gauge:xre,Line:bre,"Line list":"Listados","Year over year (line)":"Año tras año (línea)",Pie:_re,Radar:wre,Scatter:Tre,"Single value":"Valor único","Outlier table":"tabla de valores atípicos","All charts":"Todos los gráficos","{{seriesName}} (trend)":"{{seriesName}} (tendencia)",Trend:Sre,"No legend for this series":"Ninguna leyenda para esta serie","and {{amount}} more...":"y {{amount}} más...","Linear Regression":"Regresión lineal",Target:Cre,Base:Ere,"Axis {{axisId}}":"Eje {{axisId}}","{{count}} items":"{{count}} elemento","{{count}} items_plural":"{{count}} artículos","Reset zoom":"Restablecer zoom"},Nre="Notificaciones",Lre="Cancelar suscripción",Ire="Suscríbase a",Are="Cancelar",Pre="Cargando",Dre="Desagregación",Mre="Cálculo",Ore="Eliminar",Rre="Buscar",$re="Borrar",zre="Archivo",Fre="Nuevo",jre="Guardar",Bre="Cerrar",Ure="Nombre",Gre="Descripción",Yre="Cambie el nombre de",Vre="mapa",Wre="visualización",qre="Editar",Hre="Actualizar",Xre="Interpretaciones",Zre="Respuesta",Kre="A diferencia de",Qre="Como",Jre="Compartir",eae="Quien sea",tae="Otros",nae="Creado",iae="Tipo",rae="Abierto",aae="Opciones",sae="Ocultar",oae="Año",lae="Periodo",cae="Diario",uae="Semanal",dae="Mensual",hae="Trimestral",pae="Anual",mae="Hoy",fae="Ayer",gae="Días",yae="Semanas",vae="Meses",xae="Cuartos",bae="Años",_ae="Vista previa",wae="Reintentar",Tae="Serie",Sae="Categoría",Cae="Filtro",Eae="Columnas",kae="Filas",Nae="Puntos",Lae="Programa",Iae="Indicadores",Aae="Indicador",Pae="Cálculos",Dae="Pequeña",Mae="Regular",Oae="Grande",Rae="Izquierda",$ae="Centro",zae="Derecha",Fae="Inicio",jae="Medio",Bae="Fin",Uae="Top",Gae="Fondo",Yae="Datos",Vae="Área",Wae="Bar",qae="Columna",Hae="Indicador",Xae="Línea",Zae="Pastel",Kae="Radar",Qae="Dispersión",Jae="Tendencia",ese="Objetivo",tse="Base",nse={"view only":"ver sólo","view and edit":"ver y editar","all users ({{accessLevel}})":"todos los usuarios ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Compartido con {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"No se comparte con ningún usuario o grupo","No description":"Sin descripción","Last updated {{time}}":"Última actualización {{time}}","Created {{time}} by {{author}}":"Creado {{time}} por {{author}}","Created {{time}}":"Creado {{time}}","Viewed {{count}} times":"Visto 1 vez","Viewed {{count}} times_plural":"Visto {{count}} veces",Notifications:Nre,"You're subscribed and getting updates about new interpretations.":"Estás suscrito y recibes actualizaciones sobre nuevas interpretaciones.",Unsubscribe:Lre,"Subscribe to get updates about new interpretations.":"Suscríbase para recibir información actualizada sobre nuevas interpretaciones.",Subscribe:Ire,"About this map":"Acerca de este mapa","About this line list":"Acerca de esta lista","About this visualization":"Acerca de esta visualización","This app could not retrieve required data.":"Esta aplicación no pudo recuperar los datos requeridos.","Network error":"Error de red","Data / Edit calculation":"Datos / Editar cálculo","Data / New calculation":"Datos / Nuevo cálculo","Remove item":"Quitar elemento","Check formula":"Verificar fórmula","Calculation name":"Nombre del cálculo","Shown in table headers and chart axes/legends":"Se muestra en los encabezados de las tablas y en los ejes/leyendas de los gráficos","Delete calculation":"Borrar cálculo",Cancel:Are,"The calculation can only be saved with a valid formula":"El cálculo sólo puede guardarse con una fórmula válida","Add a name to save this calculation":"Añada un nombre para guardar este cálculo","Save calculation":"Guardar cálculo","Are you sure you want to delete this calculation? It may be used by other visualizations.":"¿Está seguro de que desea eliminar este cálculo? Puede ser utilizado por otras visualizaciones.","Yes, delete":"Sí, borrar","Totals only":"Sólo totales","Details only":"Sólo detalles",Loading:Pre,"Data elements":"Elementos de datos","Search by data element name":"Búsqueda por nombre de elemento de datos",'No data elements found for "{{- searchTerm}}"':'No se han encontrado datos para "{{- searchTerm}}"',"No data elements found":"No se han encontrado datos","Drag items here, or double click in the list, to start building a calculation formula":"Arrastre los elementos aquí, o haga doble clic en la lista, para empezar a construir una fórmula de cálculo","Math operators":"Operadores matemáticos","Data Type":"Tipo de datos","Only {{dataType}} can be used in {{visType}}":"Sólo {{dataType}} puede utilizarse en {{visType}}","All types":"Todos los tipos",Disaggregation:Dre,"No data":"No hay datos","Search by data item name":"Búsqueda por nombre de elemento de datos","No items selected":"No hay elementos seleccionados","Selected Items":"Artículos seleccionados","No indicators found":"No se han encontrado indicadores","No data sets found":"No se han encontrado conjuntos de datos","No event data items found":"No se han encontrado datos de eventos","No program indicators found":"No se han encontrado indicadores de programa","No calculations found":"No se han encontrado cálculos",'No indicators found for "{{- searchTerm}}"':'No se han encontrado indicadores para "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'No se han encontrado conjuntos de datos para "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'No se han encontrado datos de eventos para "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'No se han encontrado indicadores de programa para "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':'No se han encontrado cálculos para "{{- searchTerm}}"','Nothing found for "{{- searchTerm}}"':'No se ha encontrado nada para "{{- searchTerm}}"',Calculation:Mre,"Metric type":"Tipo de métrica","All metrics":"Todas las métricas","Move to {{axisName}}":"Mover a {{axisName}}","Add to {{axisName}}":"Añadir a {{axisName}}","Not available for {{visualizationType}}":"No disponible para {{visualizationType}}","Remove Assigned Categories":"Eliminar categorías asignadas","Add Assigned Categories":"Añadir categorías asignadas",Remove:Ore,"Filter dimensions":"Dimensiones del filtro","Main dimensions":"Dimensiones principales","Your dimensions":"Sus dimensiones","Dimension recommended with selected data":"Dimensión recomendada con datos seleccionados","All items":"Todos los artículos","Automatically include all items":"Incluir automáticamente todos los elementos","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Seleccionar todos los elementos {{- dimensionTitle}}. Con esta opción, los nuevos elementos que se añadan en el futuro se incluirán automáticamente.","Manually select items...":"Seleccionar elementos manualmente...","Nothing found in {{- dimensionTitle}}":"No se ha encontrado nada en {{- dimensionTitle}}",Search:Rre,"Nothing found for {{- searchTerm}}":"No se ha encontrado nada para {{- searchTerm}}","Delete {{fileType}}":"Borrar {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"Este {{fileType}} y las interpretaciones relacionadas serán eliminados. ¿Continuar?",Delete:$re,File:zre,New:Fre,"Open…":"Abrir...",Save:jre,"Save…":"Guardar...","Save as…":"Guardar como...","Rename…":"Renombrar...","Translate…":"Traducir...","Share…":"Compartir...","Get link…":"Obtener enlace...","Open in this app":"Abrir en esta aplicación",Close:Bre,"Rename {{fileType}}":"Cambie el nombre de {{fileType}}",Name:Ure,Description:Gre,Rename:Yre,"{{- objectName}} (copy)":"{{- objectName}} (copia)","Save {{fileType}} as":"Guardar {{fileType}} como","event report":"informe del evento","line list":"lista",map:Vre,visualization:Wre,Edit:qre,"Write a reply":"Escribir una respuesta","Post reply":"Respuesta","Delete failed":"Eliminación fallida","Could not update comment":"No se ha podido actualizar el comentario","Enter comment text":"Introduzca el texto del comentario",Update:Hre,"Viewing interpretation: {{- visualisationName}}":"Interpretación de la visualización: {{- visualisationName}}","Could not load interpretation":"No se ha podido cargar la interpretación","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"No se ha podido mostrar la interpretación. Inténtelo de nuevo o póngase en contacto con el administrador del sistema.","Hide interpretation":"Ocultar interpretación","Write an interpretation":"Escribir una interpretación","Other people viewing this interpretation in the future may see more data.":"Otras personas que vean esta interpretación en el futuro podrían ver más datos.","Post interpretation":"Interpretación de puestos",Interpretations:Xre,Reply:Zre,"{{count}} replies":"{{count}} respuesta","{{count}} replies_plural":"{{count}} responde","View replies":"Ver respuestas",Unlike:Kre,Like:Qre,"See interpretation":"Ver interpretación","Open in app":"Abrir en aplicación",Share:Jre,"Manage sharing":"Gestionar el uso compartido","Could not update interpretation":"No se ha podido actualizar la interpretación","Enter interpretation text":"Introducir texto de interpretación","Not available offline":"No disponible sin conexión","Created by":"Creado por",Anyone:eae,"Only you":"Sólo tú",Others:tae,"Not supported by this app yet":"Esta aplicación aún no es compatible","Filter by name":"Filtrar por nombre",Created:nae,"Last updated":"Última actualización",Type:iae,"Clear filters":"Limpiar filtros","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} de {{totalNumberOfItems}}",Open:rae,"Couldn't load items":"No se pueden cargar los artículos","There was a problem loading items. Try again or contact your system administrator.":"Se ha producido un problema al cargar los artículos. Inténtelo de nuevo o póngase en contacto con el administrador del sistema.","No items found. Create a new to get started.":"No se han encontrado artículos. Crea uno nuevo para empezar.","No items found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado artículos. Prueba a ajustar las opciones de búsqueda o filtro para encontrar lo que buscas.","Create new":"Crear nuevo","Open a visualization":"Abrir una visualización","Loading visualizations":"Cargando visualizaciones","Couldn't load visualizations":"No se pueden cargar las visualizaciones","There was a problem loading visualizations. Try again or contact your system administrator.":"Se ha producido un problema al cargar las visualizaciones. Inténtelo de nuevo o póngase en contacto con el administrador del sistema.","No visualizations found. Click New visualization to get started.":"No se han encontrado visualizaciones. Haga clic en Nueva visualización para empezar.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado visualizaciones. Prueba a ajustar las opciones de búsqueda o filtro para encontrar lo que buscas.","New visualization":"Nueva visualización","Open a map":"Abrir un mapa","Loading maps":"Cargando mapas","Couldn't load maps":"No se pueden cargar los mapas","There was a problem loading maps. Try again or contact your system administrator.":"Se ha producido un problema al cargar los mapas. Inténtalo de nuevo o ponte en contacto con el administrador del sistema.","No maps found. Click New map to get started.":"No se han encontrado mapas. Haga clic en Nuevo mapa para empezar.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado mapas. Prueba a ajustar las opciones de búsqueda o filtro para encontrar lo que buscas.","New map":"Nuevo mapa","Open a line list":"Abrir una lista","Loading line lists":"Carga de listas de líneas","Couldn't load line lists":"No se pueden cargar las listas","There was a problem loading line lists. Try again or contact your system administrator.":"Se ha producido un problema al cargar las listas. Inténtelo de nuevo o póngase en contacto con el administrador del sistema.","No line lists found. Click New line list to get started.":"No se ha encontrado ninguna lista. Haga clic en Nueva lista de líneas para empezar.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado listas. Prueba a ajustar las opciones de búsqueda o filtro para encontrar lo que buscas.","New line list":"Nueva lista",Options:aae,Hide:sae,"{{count}} org units":"{{count}} unidad org","{{count}} org units_plural":"{{count}} unidades org","{{count}} levels":"{{count}} nivel","{{count}} levels_plural":"{{count}} niveles","{{count}} groups":"{{count}} grupo","{{count}} groups_plural":"{{count}} grupos","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Seleccionado: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Nada seleccionado","User organisation unit":"Unidad organizativa del usuario","User sub-units":"Subunidades de usuario","User sub-x2-units":"Subunidadesx2 de usuario","Select a level":"Seleccione un nivel","Select a group":"Seleccione un grupo","Deselect all":"Deseleccionar todo","Period type":"Tipo de período",Year:oae,"Select year":"Seleccione el año",Period:lae,"Selected Periods":"Períodos seleccionados","Relative periods":"Periodos relativos","Fixed periods":"Periodos fijos","No periods selected":"No hay periodos seleccionados",Daily:cae,Weekly:uae,"Weekly (Start Wednesday)":"Semanal (Inicio miércoles)","Weekly (Start Thursday)":"Semanal (Inicio jueves)","Weekly (Start Saturday)":"Semanal (inicio el sábado)","Weekly (Start Sunday)":"Semanal (Inicio el domingo)","Bi-weekly":"Cada dos semanas",Monthly:dae,"Bi-monthly":"Bimensual",Quarterly:hae,"Six-monthly":"Semestral","Six-monthly April":"Semestral Abril",Yearly:pae,"Financial year (Start November)":"Ejercicio financiero (Inicio en noviembre)","Financial year (Start October)":"Ejercicio financiero (Inicio en octubre)","Financial year (Start July)":"Ejercicio financiero (inicio en julio)","Financial year (Start April)":"Ejercicio financiero (Inicio en abril)",Today:mae,Yesterday:fae,"Last 3 days":"Últimos 3 días","Last 7 days":"Últimos 7 días","Last 14 days":"Últimos 14 días","Last 30 days":"Últimos 30 días","Last 60 days":"Últimos 60 días","Last 90 days":"Últimos 90 días","Last 180 days":"Últimos 180 días","This week":"Esta semana","Last week":"Última semana","Last 4 weeks":"Últimas 4 semanas","Last 12 weeks":"Últimas 12 semanas","Last 52 weeks":"Últimas 52 semanas","Weeks this year":"Semanas de este año","This bi-week":"Esta quincena","Last bi-week":"Última quincena","Last 4 bi-weeks":"Últimas 4 bisemanas","This month":"Este mes","Last month":"Mes anterior","Last 3 months":"Últimos 3 meses","Last 6 months":"Últimos 6 meses","Last 12 months":"Últimos 12 meses","Months this year":"Meses este año","This bi-month":"Este bimestre","Last bi-month":"Último bimestre","Last 6 bi-months":"Últimos 6 bimestres","Bi-months this year":"Bimensuales este año","This quarter":"Este trimestre","Last quarter":"El trimestre pasado","Last 4 quarters":"Últimos 4 trimestres","Quarters this year":"Trimestres de este año","This six-month":"Estos seis meses","Last six-month":"Últimos seis meses","Last 2 six-month":"Últimos 2 semestres","This financial year":"Este año fiscal","Last financial year":"Último ejercicio financiero","Last 5 financial years":"Últimos 5 ejercicios","This year":"Este año","Last year":"El año pasado","Last 5 years":"Últimos 5 años","Last 10 years":"Últimos 10 años",Days:gae,Weeks:yae,"Bi-weeks":"Dos semanas",Months:vae,"Bi-months":"Bimensual",Quarters:xae,"Six-months":"Seis meses","Financial Years":"Ejercicios financieros",Years:bae,"Bold text":"Texto en negrita","Italic text":"Texto en cursiva","Link to a URL":"Enlace a una URL","Mention a user":"Mencionar a un usuario","Add emoji":"Añadir emoji",Preview:_ae,"Back to write mode":"Volver al modo de escritura","Interpretations and details":"Interpretaciones y detalles","Translating to":"Traducir a","Choose a locale":"Elija una localidad","Base locale reference":"Referencia de la configuración regional básica","Choose a locale to translate from the menu above":"Elija la configuración regional que desee traducir en el menú superior","Translate: {{objectName}}":"Traduce: {{objectName}}","Save translations":"Guardar traducciones","Cannot save while offline":"No se puede guardar sin conexión","Could not load translations":"No se han podido cargar las traducciones",Retry:wae,"Too many results. Try refining the search.":"Demasiados resultados. Intenta refinar la búsqueda.","Search for a user":"Buscar un usuario",'Searching for "{{- searchText}}"':'Buscando "{{- searchText}}"',"No results found":"No se han encontrado resultados",Series:Tae,Category:Sae,Filter:Cae,Columns:Eae,Rows:kae,Points:Nae,"Reporting rate":"Índice de notificación","Reporting rate on time":"Tasa de notificación puntual","Actual reports":"Informes reales","Actual reports on time":"Informes reales a tiempo","Expected reports":"Informes previstos",Program:Lae,"Select a program":"Seleccione un programa",Indicators:Iae,"Indicator group":"Grupo de indicadores","All groups":"Todos los grupos",Indicator:Aae,"No indicator groups found":"No se han encontrado grupos de indicadores","Loading indicator groups":"Grupos de indicadores de carga","Data element group":"Grupo de elementos de datos","Data element":"Elemento de datos","No data element groups found":"No se han encontrado grupos de elementos de datos","Loading data element groups":"Carga de grupos de elementos de datos","Data sets":"Sets de datos","Data set":"Conjunto de datos","All data sets":"Todos los conjuntos de datos","Loading data sets":"Carga de conjuntos de datos","Event data items":"Datos del evento","All programs":"Todos los programas","Event data item":"Datos del evento","No programs found":"No se han encontrado programas","Loading programs":"Carga de programas","Program indicators":"Indicadores del programa","Program indicator":"Indicador de programa",Calculations:Pae,Number:"Número","Formula is empty. Add items to the formula from the lists on the left.":"La fórmula está vacía. Añada elementos a la fórmula desde las listas de la izquierda.","Consecutive math operators":"Operadores matemáticos consecutivos","Consecutive data elements":"Elementos de datos consecutivos","Starts or ends with a math operator":"Comienza o termina con un operador matemático","Empty parentheses":"Paréntesis vacíos","Missing right parenthesis )":"Falta el paréntesis derecho )","Missing left parenthesis (":"Falta el paréntesis izquierdo (","Extra Small":"Extra pequeña",Small:Dae,Regular:Mae,Large:Oae,"Extra Large":"Extra grande",Left:Rae,Center:$ae,Right:zae,Start:Fae,Middle:jae,End:Bae,Top:Uae,Bottom:Gae,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} y {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} niveles","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} grupos","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} niveles en {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} grupos en {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% del total de valores x","{{percentage}}% of total y values":"{{percentage}}% del total de valores y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Puntuación Z modificada baja","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Puntuación Z modificada alta","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Puntuación Z baja","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Puntuación Z alta",Data:Yae,"Organisation unit":"Unidad organizativa","Assigned Categories":"Categorías asignadas","Pivot table":"Tabla dinámica",Area:Vae,"Stacked area":"Área apilada",Bar:Wae,"Stacked bar":"Barra apilada",Column:qae,"Year over year (column)":"Año sobre año (columna)","Stacked column":"Columna apilada",Gauge:Hae,Line:Xae,"Line list":"Lista de líneas","Year over year (line)":"Año sobre año (línea)",Pie:Zae,Radar:Kae,Scatter:Qae,"Single value":"Valor único","Outlier table":"Tabla de valores atípicos","All charts":"Todos los gráficos","{{seriesName}} (trend)":"{{seriesName}} (tendencia)",Trend:Jae,"No legend for this series":"No hay leyenda para esta serie","and {{amount}} more...":"y {{amount}} más...","Linear Regression":"Regresión lineal",Target:ese,Base:tse,"Axis {{axisId}}":"Eje {{axisId}}","{{count}} items":"{{count}} artículo","{{count}} items_plural":"{{count}} artículos","Reset zoom":"Restablecer zoom"},ise="Notifications",rse="",ase="",sse="Annuler",ose="Chargement",lse="Disaggregation",cse="",use="Supprimer",dse="Chercher",hse="Supprimer",pse="Fichier",mse="Nouveau",fse="Enregistrer",gse="Fermer",yse="Nom",vse="Description",xse="Renommer",bse="carte",_se="",wse="Modifier",Tse="Mettre à jour",Sse="Interprétations",Cse="Répondre",Ese="Je n'aime plus",kse="J'aime",Nse="Partager",Lse="Toute personne",Ise="Autres",Ase="Créé",Pse="Type",Dse="Ouvrir",Mse="Options",Ose="Masquer",Rse="Année",$se="Période",zse="Quotidien",Fse="Hebdomadaire",jse="Mensuel",Bse="Trimestriel",Use="Annuel",Gse="Aujourd'hui",Yse="Hier",Vse="Jours",Wse="Semaines",qse="Mois",Hse="Trimestres",Xse="Années",Zse="Aperçu",Kse="",Qse="Séries",Jse="Catégorie",eoe="Filtrer",toe="Colonnes",noe="Lignes",ioe="Points",roe="Programme",aoe="Indicateurs",soe="Indicateur",ooe="",loe="Petit",coe="Régulier",uoe="Grand",doe="Gauche",hoe="Centre",poe="Droite",moe="Démarrer",foe="Milieu",goe="Fin",yoe="Haut",voe="Bas",xoe="Données",boe="Aire",_oe="Bar",woe="Colonne",Toe="Jauge",Soe="Ligne",Coe="Tarte",Eoe="Radar",koe="Dispersion",Noe="Tendance",Loe="Cible",Ioe="Base",Aoe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Aucune description","Last updated {{time}}":"Dernière mise à jour à {{time}}","Created {{time}} by {{author}}":"Créé à {{time}} par {{author}} ","Created {{time}}":"Créé à {{time}}","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:ise,"You're subscribed and getting updates about new interpretations.":"Vous êtes abonné et recevez les mises à jour pour les nouvelles interprétations.",Unsubscribe:rse,"Subscribe to get updates about new interpretations.":"",Subscribe:ase,"About this map":"À propos de cette carte","About this line list":"","About this visualization":"À propos de cette visualisation","This app could not retrieve required data.":"Cette application n'a pas pu récupérer les données nécessaires.","Network error":"Erreur réseau","Data / Edit calculation":"","Data / New calculation":"","Remove item":"Supprimer l'élément","Check formula":"","Calculation name":"Nom du calcul","Shown in table headers and chart axes/legends":"","Delete calculation":"Supprimer le calcul",Cancel:sse,"The calculation can only be saved with a valid formula":"Le calcul ne peut être sauvegardé qu'avec une formule correcte","Add a name to save this calculation":"Ajouter un nom pour sauvegarder ce calcul","Save calculation":"Sauvegarder le calcul","Are you sure you want to delete this calculation? It may be used by other visualizations.":"Êtes-vous certain de vouloir supprimer ce calcul ? Il est peut être utilisé par d'autres visualisations.","Yes, delete":"Oui, supprimer","Totals only":"Totaux uniquement","Details only":"Détails seulement",Loading:ose,"Data elements":"Eléments de données","Search by data element name":"Rechercher par le nom d'élément de donnée",'No data elements found for "{{- searchTerm}}"':'Aucun élément de données trouvé pour "{{- searchTerm}}"',"No data elements found":"Aucun élément de donnée trouvé","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"Opérateurs mathématiques","Data Type":"Type de données","Only {{dataType}} can be used in {{visType}}":"","All types":"Tous les types",Disaggregation:lse,"No data":"Aucune donnée","Search by data item name":"Rechercher par le nom de la donnée","No items selected":"Aucun élément sélectionné","Selected Items":"Éléments sélectionnés","No indicators found":"Aucun indicateur trouvé","No data sets found":"Aucun ensemble de données trouvé","No event data items found":"Aucun éléments de données événement trouvé","No program indicators found":"Aucun Indicateurs de programme trouvé","No calculations found":"Aucun calcul trouvé",'No indicators found for "{{- searchTerm}}"':'Aucun indicateur trouvé pour "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'Aucune donnée trouvée pour "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'Aucune donnée événement retrouvée pour "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'Aucun Indicateur de programme trouvé pour "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':'Rien retrouvé pour "{{- searchTerm}}"',Calculation:cse,"Metric type":"Type de métrique","All metrics":"Tous les éléments","Move to {{axisName}}":"Déménager à {{axisName}}","Add to {{axisName}}":"Ajouter à {{axisName}} ","Not available for {{visualizationType}}":"Non disponible pour {{visualizationType}}","Remove Assigned Categories":"Supprimer les Catégories Attribuées","Add Assigned Categories":"Ajouter des Catégories Affectées",Remove:use,"Filter dimensions":"Dimensions du filtre","Main dimensions":"Dimensions principales","Your dimensions":"Vos dimensions","Dimension recommended with selected data":"Dimension recommandée avec les données sélectionnées","All items":"Tous les items","Automatically include all items":"Inclure tous les éléments automatiquement","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:dse,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"Supprimer {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:hse,File:pse,New:mse,"Open…":"Ouvrir",Save:fse,"Save…":"Enregistrer...","Save as…":"Enregistrer sous...","Rename…":"Renommer...","Translate…":"Traduire...","Share…":"Partager...","Get link…":"Obtenir le lien...","Open in this app":"Ouvrir dans cette app",Close:gse,"Rename {{fileType}}":"Renommer {{fileType}}",Name:yse,Description:vse,Rename:xse,"{{- objectName}} (copy)":"","Save {{fileType}} as":"Enregistrer {{fileType}} comme","event report":"Rapport d'évènements","line list":"",map:bse,visualization:_se,Edit:wse,"Write a reply":"Ecrire une réponse","Post reply":"","Delete failed":"Échec de la suppression","Could not update comment":"Échec de l'actualisation du commentaire","Enter comment text":"",Update:Tse,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"Échec du chargement de l'interprétation","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"L'interprétation n'a pas pu être affichée. Veuillez réessayer ou contacter votre administrateur système.","Hide interpretation":"Masquer l'interprétation","Write an interpretation":"Ecrire une interprétation","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:Sse,Reply:Cse,"{{count}} replies":"{{count}} réponses","{{count}} replies_plural":"{{count}} réponses","View replies":"Voir les réponses",Unlike:Ese,Like:kse,"See interpretation":"","Open in app":"Ouvrir dans l'application",Share:Nse,"Manage sharing":"Gérer le partage","Could not update interpretation":"Échec de l'actualisation de l'interprétation","Enter interpretation text":"","Not available offline":"Non disponible hors ligne","Created by":"Créé par",Anyone:Lse,"Only you":"",Others:Ise,"Not supported by this app yet":"","Filter by name":"Filtrer par nom",Created:Ase,"Last updated":"Dernière mise à jour",Type:Pse,"Clear filters":"Effacer les filtres","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:Dse,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Créer nouveau","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"Ouvrir une carte","Loading maps":"Chargement des cartes","Couldn't load maps":"Échec du chargement des cartes","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"Aucune carte trouvée. Cliquez sur Nouvelle carte pour commencer.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:Mse,Hide:Ose,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Sélectionné : {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Rien n'a été sélectionné","User organisation unit":"Unités d'organisation de l'utilisateur","User sub-units":"Sous-unités de l'utilisateur","User sub-x2-units":"Sous-unités utilisateur x2","Select a level":"Sélectionnez un niveau","Select a group":"Sélectionner un groupe","Deselect all":"Desélectionner tout","Period type":"Type de période",Year:Rse,"Select year":"Sélectionnez année",Period:$se,"Selected Periods":"Périodes sélectionnées","Relative periods":"Périodes relatives","Fixed periods":"Périodes fixes","No periods selected":"Aucune périodes n'est sélectionnée",Daily:zse,Weekly:Fse,"Weekly (Start Wednesday)":"Hebdomadaire (début mercredi)","Weekly (Start Thursday)":"Hebdomadaire (début jeudi)","Weekly (Start Saturday)":"Hebdomadaire (début samedi)","Weekly (Start Sunday)":"Hebdomadaire (début dimanche)","Bi-weekly":"Bi-hebdomadaire",Monthly:jse,"Bi-monthly":"Bimensuel",Quarterly:Bse,"Six-monthly":"Semestriel","Six-monthly April":"Six-mois avril",Yearly:Use,"Financial year (Start November)":"Fiscale Novembre","Financial year (Start October)":"Financière Octobre","Financial year (Start July)":"Financière Juillet","Financial year (Start April)":"Financière Avril",Today:Gse,Yesterday:Yse,"Last 3 days":"3 derniers jours","Last 7 days":"7 derniers jours","Last 14 days":"14 dernier jours","Last 30 days":"Les 30 derniers jours","Last 60 days":"60 derniers jours","Last 90 days":"90 derniers jours","Last 180 days":"180 derniers jours","This week":"Cette semaine","Last week":"Semaine passée","Last 4 weeks":"4 dernières semaines","Last 12 weeks":"12 dernières semaines","Last 52 weeks":"52 dernières semaines","Weeks this year":"Semaines cette année","This bi-week":"Cette quinzaine","Last bi-week":"Dernière quinzaine","Last 4 bi-weeks":"4 dernières quinzaines","This month":"Ce mois-ci","Last month":"Le mois dernier","Last 3 months":"3 derniers mois","Last 6 months":"6 derniers mois","Last 12 months":"12 derniers mois","Months this year":"Mois cette année","This bi-month":"Ces 2 dernières semaines","Last bi-month":"Dernier bi-mestre","Last 6 bi-months":"6 derniers bimestres","Bi-months this year":"Bimensuels cette année","This quarter":"Ce trimestre","Last quarter":"Trimestre précédent","Last 4 quarters":"4 derniers trimestres","Quarters this year":"Trimestres cette année","This six-month":"Ce semestre","Last six-month":"Dernier semestre","Last 2 six-month":"2 derniers semestres","This financial year":"Année fiscale en cours","Last financial year":"Dernière année financière","Last 5 financial years":"5 dernières années financières","This year":"Année en cours","Last year":"L'année passée","Last 5 years":"5 dernières années","Last 10 years":"10 dernières années",Days:Vse,Weeks:Wse,"Bi-weeks":"Bi-hebdomadaires",Months:qse,"Bi-months":"Bimensuel",Quarters:Hse,"Six-months":"Semestres","Financial Years":"Années fiscales",Years:Xse,"Bold text":"Texte en gras","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:Zse,"Back to write mode":"","Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:Kse,"Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Aucun résultat trouvé",Series:Qse,Category:Jse,Filter:eoe,Columns:toe,Rows:noe,Points:ioe,"Reporting rate":"Taux de déclaration","Reporting rate on time":"Taux de notification à temps","Actual reports":"Rapports réels","Actual reports on time":"Rapports réels à temps","Expected reports":"Rapports attendus",Program:roe,"Select a program":"Sélectionnez un programme",Indicators:aoe,"Indicator group":"Groupe d'indicateurs","All groups":" Tous les groupes",Indicator:soe,"No indicator groups found":"Aucun groupe d'indicateurs trouvé","Loading indicator groups":"Chargement des groupes d'indicateurs","Data element group":"Groupe d'éléments de données","Data element":"Élément de données","No data element groups found":"Aucun groupe d'éléments de donnée trouvé","Loading data element groups":"Chargement de groupes d'éléments de données","Data sets":"Ensembles de données","Data set":"Ensemble de données","All data sets":"Tous les ensembles de données","Loading data sets":"Chargement d'ensemble de données","Event data items":"Eléments de données évènement","All programs":"Tous les programmes","Event data item":"Elément de données évènement","No programs found":"Aucun programme trouvé","Loading programs":"Chargement des programmes","Program indicators":"Program indicators","Program indicator":"Gestion des indicateurs de programme",Calculations:ooe,Number:"Nombre","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Super petit",Small:loe,Regular:coe,Large:uoe,"Extra Large":"Très grand",Left:doe,Center:hoe,Right:poe,Start:moe,Middle:foe,End:goe,Top:yoe,Bottom:voe,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} et {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} niveaux","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} groupes","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} niveaux dans {{staticOuNames}} ","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} groupes dans {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% de nombre total de X valeurs","{{percentage}}% of total y values":"{{percentage}}% de nombre total de Y valeurs","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Modifié Z-score faible","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Modifié Z-score élevé","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Z-score faible","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-score élevé",Data:xoe,"Organisation unit":"Unité d'organisation","Assigned Categories":"Catégories attribuées","Pivot table":"Tableau croisé dynamique",Area:boe,"Stacked area":"Zone empilée",Bar:_oe,"Stacked bar":"Bar empilé",Column:woe,"Year over year (column)":"Année après année (colonne)","Stacked column":"Colonne empilée",Gauge:Toe,Line:Soe,"Line list":"Liste des lignes","Year over year (line)":"Année après année (ligne)",Pie:Coe,Radar:Eoe,Scatter:koe,"Single value":"Valeur unique","Outlier table":"","All charts":"","{{seriesName}} (trend)":"{{seriesName}} (tendance)",Trend:Noe,"No legend for this series":"Aucune légende pour ces séries","and {{amount}} more...":"et {{amount}} plus...","Linear Regression":"Régression linéaire",Target:Loe,Base:Ioe,"Axis {{axisId}}":"Axe {{axisId}}","{{count}} items":"","{{count}} items_plural":"","Reset zoom":"Réinitialiser le zoom"},Poe="",Doe="",Moe="",Ooe="Batal",Roe="Loading",$oe="Disagregasi",zoe="",Foe="Hapus",joe="Pencarian",Boe="Hapus",Uoe="Mengajukan",Goe="Baru",Yoe="Simpan",Voe="Tutup",Woe="Nama",qoe="Deskripsi",Hoe="Ganti nama",Xoe="",Zoe="",Koe="Sunting",Qoe="Perbarui",Joe="Interpretasi",ele="Balas",tle="Batalkan Suka",nle="Suka",ile="Bagikan",rle="",ale="Siapa saja",sle="Yang lain",ole="Dibuat",lle="Tipe",cle="Buka",ule="Opsi",dle="Sembunyikan",hle="Tahun",ple="Periode",mle="Harian",fle="Mingguan",gle="Bulanan",yle="Triwulanan",vle="Tahunan",xle="Hari ini",ble="Kemarin",_le="Hari",wle="Minggu",Tle="Bulan",Sle="Triwulan",Cle="Tahun",Ele="",kle="Seri",Nle="Kategori",Lle="Saring",Ile="kolom",Ale="Baris",Ple="Poin",Dle="Program",Mle="Indikator",Ole="Indikator",Rle="",$le="Kecil",zle="Reguler",Fle="Besar",jle="Kiri",Ble="Pusat",Ule="Kanan",Gle="Mulai",Yle="Tengah",Vle="Akhir",Wle="Atas",qle="Bawah",Hle="Data",Xle="Area",Zle="Bar",Kle="Kolom",Qle="Meteran",Jle="Garis",ece="Pie",tce="Radar",nce="Scatter",ice="Tren",rce="Target",ace="Dasar",sce={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Tidak ada deskripsi","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:Poe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:Doe,"Subscribe to get updates about new interpretations.":"",Subscribe:Moe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:Ooe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"Total saja","Details only":"Detail saja",Loading:Roe,"Data elements":"Data elemen","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':'Tidak ada elemen data yang ditemukan untuk "{{- searchTerm}}"',"No data elements found":"Tidak ada elemen data yang ditemukan","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"Tipe Data","All types":"Semua jenis",Disaggregation:$oe,"No data":"Tidak ada data","Search by data item name":"Cari berdasarkan nama item data","No items selected":"Tidak ada item yang dipilih","Selected Items":"Item yang Dipilih","No indicators found":"Tidak ada indikator yang ditemukan","No data sets found":"Tidak ada kumpulan data yang ditemukan","No event data items found":"Tidak ada item data acara yang ditemukan","No program indicators found":"Tidak ada indikator program yang ditemukan",'No indicators found for "{{- searchTerm}}"':'Tidak ada indikator yang ditemukan untuk "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'Tidak ada kumpulan data yang ditemukan untuk "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'Tidak ditemukan item data peristiwa untuk "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'Tidak ada indikator program yang ditemukan untuk "{{- searchTerm}}"','Nothing found for "{{- searchTerm}}"':'Tidak ada yang ditemukan untuk "{{- searchTerm}}"',Calculation:zoe,"Metric type":"Jenis metrik","All metrics":"Semua metrik","Move to {{axisName}}":"Pindah ke {{axisName}}","Add to {{axisName}}":"Tambahkan ke {{axisName}}","Not available for {{visualizationType}}":"Tidak tersedia untuk {{visualizationType}}","Remove Assigned Categories":"Hapus Kategori yang Ditugaskan","Add Assigned Categories":"Tambahkan Kategori yang Ditugaskan",Remove:Foe,"Filter dimensions":"Filter dimensi","Main dimensions":"Dimensi utama","Your dimensions":"Dimensi Anda","Dimension recommended with selected data":"Dimensi yang direkomendasikan dengan data terpilih","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:joe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"Hapus {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"{{fileType}} ini dan interpretasi terkait akan dihapus. Terus?",Delete:Boe,File:Uoe,New:Goe,"Open…":"Buka…",Save:Yoe,"Save…":"Menyimpan…","Save as…":"Simpan sebagai…","Rename…":"Ganti nama…","Translate…":"Menterjemahkan…","Share…":"Bagikan…","Get link…":"Dapatkan tautan…","Open in this app":"Buka di aplikasi ini",Close:Voe,"Rename {{fileType}}":"Ganti nama {{fileType}}",Name:Woe,Description:qoe,Rename:Hoe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"Simpan {{fileType}} sebagai","event report":"","line list":"",map:Xoe,visualization:Zoe,Edit:Koe,"Write a reply":"","Post reply":"","Delete failed":"Hapus yang gagal","Could not update comment":"","Enter comment text":"",Update:Qoe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:Joe,Reply:ele,"{{count}} replies":"balasan {{count}} ","View replies":"",Unlike:tle,Like:nle,Share:ile,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:rle,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Tidak ada hasil ditemukan","Not available offline":"","Created by":"Dibuat oleh",Anyone:ale,"Only you":"Hanya kamu",Others:sle,"Not supported by this app yet":"","Filter by name":"Filter menurut nama",Created:ole,"Last updated":"Terakhir diperbarui",Type:lle,"Clear filters":"Hapus penyaring","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} dari {{totalNumberOfItems}}",Open:cle,"Couldn't load items":"Tidak dapat memuat item","There was a problem loading items. Try again or contact your system administrator.":"Terjadi masalah saat memuat item. Coba lagi atau hubungi administrator sistem Anda.","No items found. Create a new to get started.":"Tidak ada item yang ditemukan. Buat yang baru untuk memulai.","No items found. Try adjusting your search or filter options to find what you're looking for.":"Tidak ada item yang ditemukan. Coba sesuaikan opsi penelusuran atau filter untuk menemukan apa yang Anda cari.","Create new":"Membuat baru","Open a visualization":"Buka visualisasi","Loading visualizations":"Memuat visualisasi","Couldn't load visualizations":"Tidak dapat memuat visualisasi","There was a problem loading visualizations. Try again or contact your system administrator.":"Terjadi masalah saat memuat visualisasi. Coba lagi atau hubungi administrator sistem Anda.","No visualizations found. Click New visualization to get started.":"Tidak ada visualisasi yang ditemukan. Klik Visualisasi baru untuk memulai.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"Tidak ada visualisasi yang ditemukan. Coba sesuaikan opsi penelusuran atau filter untuk menemukan apa yang Anda cari.","New visualization":"Visualisasi baru","Open a map":"Buka peta","Loading maps":"Memuat peta","Couldn't load maps":"Tidak dapat memuat peta","There was a problem loading maps. Try again or contact your system administrator.":"Terjadi masalah saat memuat peta. Coba lagi atau hubungi administrator sistem Anda.","No maps found. Click New map to get started.":"Tidak ada peta yang ditemukan. Klik Peta baru untuk memulai.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"Tidak ada peta yang ditemukan. Coba sesuaikan opsi penelusuran atau filter untuk menemukan apa yang Anda cari.","New map":"peta baru","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:ule,Hide:dle,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"Subunit pengguna","User sub-x2-units":"Sub-x2-unit pengguna","Select a level":"","Select a group":"","Deselect all":"Batal pilih semua","Period type":"Tipe periode",Year:hle,"Select year":"Pilih tahun",Period:ple,"Relative periods":"Periode relatif","Fixed periods":"Periode tetap","Selected Periods":"Periode yang Dipilih","No periods selected":"Tidak ada periode yang dipilih",Daily:mle,Weekly:fle,"Weekly (Start Wednesday)":"Mingguan (Mulai Rabu)","Weekly (Start Thursday)":"Mingguan (Mulai Kamis)","Weekly (Start Saturday)":"Mingguan (Mulai Sabtu)","Weekly (Start Sunday)":"Mingguan (Mulai Minggu)","Bi-weekly":"Dwiwulanan",Monthly:gle,"Bi-monthly":"Dwiwulanan",Quarterly:yle,"Six-monthly":"Semester","Six-monthly April":"Semester April",Yearly:vle,"Financial year (Start November)":"Keuangan tahunan (Mulai November)","Financial year (Start October)":"Financial October","Financial year (Start July)":"Financial July","Financial year (Start April)":"Financial April",Today:xle,Yesterday:ble,"Last 3 days":"3 hari terakhir","Last 7 days":"7 hari terakhir","Last 14 days":"14 hari terakhir","Last 30 days":"30 hari terakhir","Last 60 days":"60 hari terakhir","Last 90 days":"90 hari terakhir","Last 180 days":"180 hari terakhir","This week":"Minggu ini","Last week":"Minggu lalu","Last 4 weeks":"4 minggu terakhir","Last 12 weeks":"12 minggu terakhir","Last 52 weeks":"52 minggu terakhir","Weeks this year":"Mingguan tahun ini","This bi-week":"Dwiwulan ini","Last bi-week":"Dwiwulan terakhir","Last 4 bi-weeks":"4 dwiwulan terakhir","This month":"Bulan ini","Last month":"Bulan lalu","Last 3 months":"3 bulan terakhir","Last 6 months":"6 bulan terakhir","Last 12 months":"12 bulan terakhir","Months this year":"Bulanan tahun ini","This bi-month":"2 bulan ini","Last bi-month":"Dwiwulan terakhir","Last 6 bi-months":"6 dwiwulan terakhir","Bi-months this year":"Dwiwulanan tahun ini","This quarter":"Triwulan ini","Last quarter":"Triwulan yang lalu","Last 4 quarters":"4 triwulan terakhir","Quarters this year":"Triwulanan tahun ini","This six-month":"6 bulan ini","Last six-month":"Semester lalu","Last 2 six-month":"2 enam bulan terakhir","This financial year":"Tahun finansial ini","Last financial year":"Tahun finansial kemarin","Last 5 financial years":"5 tahun finansial terakhir","This year":"Tahun ini","Last year":"Tahun kemarin","Last 5 years":"5 tahun terakhir","Last 10 years":"10 tahun terakhir",Days:_le,Weeks:wle,"Bi-weeks":"Dwiwulan",Months:Tle,"Bi-months":"Dwiwulan",Quarters:Sle,"Six-months":"Semester","Financial Years":"Keuangan tahunan",Years:Cle,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:Ele,Series:kle,Category:Nle,Filter:Lle,Columns:Ile,Rows:Ale,Points:Ple,"Reporting rate":"Tingkat pelaporan","Reporting rate on time":"Tingkat pelaporan tepat waktu","Actual reports":"Laporan sesungguhnya","Actual reports on time":"Laporan sesungguhnya yang tepat waktu","Expected reports":"Laporan yang diharapkan",Program:Dle,"Select a program":"Pilih program",Indicators:Mle,"Indicator group":"grup indikator","All groups":"Semua grup",Indicator:Ole,"No indicator groups found":"Tidak ada grup indikator yang ditemukan","Loading indicator groups":"Memuat grup indikator","Data element group":"Grup elemen data","Data element":"Elemen data","No data element groups found":"Tidak ada grup elemen data yang ditemukan","Loading data element groups":"Memuat grup elemen data","Data sets":"Data set","Data set":"Data set","All data sets":"Semua kumpulan data","Loading data sets":"Memuat kumpulan data","Event data items":"Item data event","All programs":"Semua program","Event data item":"Data item pada even","No programs found":"Tidak ada program yang ditemukan","Loading programs":"Memuat program","Program indicators":"Indikator program","Program indicator":"Indikator program",Calculations:Rle,Number:"Angka","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Ekstra kecil",Small:$le,Regular:zle,Large:Fle,"Extra Large":"Ekstra besar",Left:jle,Center:Ble,Right:Ule,Start:Gle,Middle:Yle,End:Vle,Top:Wle,Bottom:qle,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} dan {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} level","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} grup","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} level di {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} grup di {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% dari total nilai x","{{percentage}}% of total y values":"{{percentage}}% dari total nilai y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Modifikasi Z-score rendah","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Modifikasi Z-score tinggi","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Z-skor rendah","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-skor tinggi",Data:Hle,"Organisation unit":"Unit organisasi","Assigned Categories":"Kategori yang Ditugaskan","Pivot table":"Tabel Pivot",Area:Xle,"Stacked area":"Area bertumpuk",Bar:Zle,"Stacked bar":"Bar tumpuk",Column:Kle,"Year over year (column)":"Tahun ke tahun (kolom)","Stacked column":"Kolom tumpuk",Gauge:Qle,Line:Jle,"Line list":"Daftar garis","Year over year (line)":"Tahun ke tahun (garis)",Pie:ece,Radar:tce,Scatter:nce,"Single value":"Nilai tunggal","All charts":"Semua grafik","{{seriesName}} (trend)":"{{seriesName}} (tren)",Trend:ice,"No legend for this series":"Tidak ada legenda untuk seri ini","and {{amount}} more...":"dan {{amount}} lainnya...","Linear Regression":"Regresi linier",Target:rce,Base:ace,"Axis {{axisId}}":"Sumbu {{axisId}}","{{count}} items":"","Reset zoom":"Setel ulang zoom"},oce="",lce="",cce="",uce="បោះបង់",dce="Loading",hce="",pce="",mce="យកចេញ",fce="ស្វែងរក",gce="​លុប​",yce="",vce="ថ្មី",xce="រក្សាទុក​",bce="បិទ",_ce="ឈ្មោះ",wce="ការ​ពិពណ៌នា",Tce="ប្ដូរ​ឈ្មោះ",Sce="",Cce="",Ece="កែសម្រួល​",kce="ធ្វើ​បច្ចុប្បន្នភាព",Nce="កន្លែងសន្ទនារ",Lce="",Ice="",Ace="ឆ្លើយតប",Pce="ចែករំលែក",Dce="",Mce="",Oce="",Rce="",$ce="",zce="បើក",Fce="",jce="",Bce="ឆ្នាំ",Uce="កំឡុងពេល",Gce="រាល់​ថ្ងៃ",Yce="រាល់​សប្ដាហ៍",Vce="រាល់​ខែ",Wce="រាល់ត្រីមាស",qce="ប្រចាំឆ្នាំ",Hce="",Xce="កាលពីម្សិលមិញ",Zce="ថ្ងៃ",Kce="សប្ដាហ៏",Qce="ខែ",Jce="",eue="ឆ្នាំ",tue="",nue="",iue="",rue="",aue="",sue="",oue="",lue="",cue="Indicators",uue="សួចនាករ",due="",hue="",pue="",mue="",fue="Left",gue="",yue="Right",vue="",xue="",bue="",_ue="",wue="",Tue="Data",Sue="",Cue="",Eue="",kue="",Nue="",Lue="",Iue="",Aue="",Pue="",Due="",Mue="",Oue={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:oce,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:lce,"Subscribe to get updates about new interpretations.":"",Subscribe:cce,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:uce,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:dce,"Data elements":"Data elements","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:hce,"No data":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:pce,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:mce,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:fce,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:gce,File:yce,New:vce,"Open…":"",Save:xce,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:bce,"Rename {{fileType}}":"",Name:_ce,Description:wce,Rename:Tce,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:Sce,visualization:Cce,Edit:Ece,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:kce,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:Nce,Unlike:Lce,Like:Ice,Reply:Ace,Share:Pce,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:Dce,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"មិនមានលទ្ធផលបង្ហាញ","Not available offline":"","Created by":"",Anyone:Mce,"Only you":"",Others:Oce,"Not supported by this app yet":"","Filter by name":"",Created:Rce,"Last updated":"បាន​ធ្វើ​បច្ចុប្បន្នភាព​ចុងក្រោយ",Type:$ce,"Clear filters":"លុបចោលការច្រោះមើលទិន្នន័យ","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:zce,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:Fce,Hide:jce,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Period type",Year:Bce,"Select year":"",Period:Uce,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",Daily:Gce,Weekly:Yce,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:Vce,"Bi-monthly":"រាល់ពីរសប្តាហ៍",Quarterly:Wce,"Six-monthly":"រាល់ឆមាស","Six-monthly April":"ប្រចាំឆមាស​ពីខែមេសា",Yearly:qce,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:Hce,Yesterday:Xce,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:Zce,Weeks:Kce,"Bi-weeks":"",Months:Qce,"Bi-months":"",Quarters:Jce,"Six-months":"","Financial Years":"",Years:eue,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:tue,Series:nue,Category:iue,Filter:rue,Columns:aue,Rows:sue,Points:oue,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:lue,"Select a program":"",Indicators:cue,"Indicator group":"Indicator group","All groups":"",Indicator:uue,"No indicator groups found":"","Loading indicator groups":"","Data element group":"","Data element":"ទិន្នន័យធាតុដើម","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"Data set","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:due,Number:"តួរលេខ","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:hue,Regular:pue,Large:mue,"Extra Large":"",Left:fue,Center:gue,Right:yue,Start:vue,Middle:xue,End:bue,Top:_ue,Bottom:wue,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:Tue,"Organisation unit":"ផ្នែក​នៃ​អង្គការ","Assigned Categories":"","Pivot table":"",Area:Sue,"Stacked area":"",Bar:Cue,"Stacked bar":"",Column:Eue,"Year over year (column)":"","Stacked column":"",Gauge:kue,Line:Nue,"Line list":"","Year over year (line)":"",Pie:Lue,Radar:Iue,Scatter:Aue,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:Pue,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:Due,Base:Mue,"Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""},Rue="ການແຈ້ງເຕືອນ",$ue="ຍົກເລີກການສະໝັກ",zue="ສະໝັກ",Fue="ຍົກເລີກ",jue="ກໍາລັງໂຫຼດ",Bue="Disaggregation",Uue="ການຄິດໄລ່",Gue="ລົບອອກ",Yue="ຄົນຫາ",Vue="ລົບ",Wue="ເອກະສານ",que="ສ້າງໃຫມ່",Hue="ບັນທຶກ",Xue="ປິດ",Zue="ຊື່",Kue="ລາຍລະອຽດ",Que="ປ່ຽນຊື່",Jue="ແຜນທີ່",ede="ການສ້າງພາບຂໍ້ມູນ",tde="ແກ້ໄຂ",nde="ປັບປຸງ",ide="ການແປຂໍ້ມູນ",rde="ຕອບກັບ",ade="ບໍ່ມັກ",sde="ມັກ",ode="ເຜີຍແຜ່",lde="ທຸກຄົນ",cde="ອື່ນໆ",ude="ສ້າງແລ້ວ",dde="ຊະນິດ",hde="ເປີດ",pde="ຈັດການ",mde="ເຊື່ອງ",fde="ປີ",gde="ຊ່ວງເວລາ",yde="ທຸກໆມື້",vde="ເປັນອາທິດ",xde="ລາຍເດືອນ",bde="ໄຕມາດ",_de="ລາຍປີ",wde="ມື້ນີ້",Tde="ມື້ວານນີ",Sde="ມື້",Cde="ອາທິດ",Ede="ເດືອນ",kde="ໄຕມາດ",Nde="ປີ",Lde="ເບິ່ງຕົວຢ່າງ",Ide="ລອງໃໝ່",Ade="ແທ່ງ",Pde="ລວງນອນ",Dde="ຕົວກອງ",Mde="ຖັນ",Ode="ແຖວ",Rde="ຄະແນນ",$de="ໂປແກຼມ",zde="ຕົວຊີ້ວັດ",Fde="ຕົວຊີ້ວັດ",jde="ຄິດໄລ່",Bde="ນ້ອຍ",Ude="ທຳມະດາ",Gde="ໃຫຍ່",Yde="ຊ້າຍ",Vde="ກາງ",Wde="ຂວາ",qde="Start",Hde="ກາງ",Xde="ຈົບ",Zde="ເທິງສຸດ",Kde="ລຸ່ມສຸດ",Qde="ຂໍ້ມູນ",Jde="ພື້ນທີ່",ehe="ແຖບ",the="ຖັນ",nhe="ເຄື່ອງວັດແທກ",ihe="ເສັ້ນ",rhe="ພາຍ",ahe="ເຣດາ",she="ກະແຈກກະຈາຍ",ohe="ແນວໂນ້ມ",lhe="ເປົ້າໝາຍ",che="ຖານ",uhe={"view only":"ເບິ່ງຢ່າງດຽວ","view and edit":"ເບິ່ງ ແລະ ແກ້ໄຂ","all users ({{accessLevel}})":"ຜູ້ໃຊ້ທັງໝົດ ( {{accessLevel}} )","{{userOrGroup}} ({{accessLevel}})":" {{userOrGroup}} ({{accessLevel}} )","Shared with {{commaSeparatedListOfUsersAndGroups}}":"ແບ່ງປັນໃຫ້ກັບ {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"ບໍ່ໃຫ້ແບ່ງປັນກັບຜູ້ໃຊ້ ແລະ ກຸ່ມອື່ນ","No description":"ບໍ່ມີລາຍລະອຽດ","Last updated {{time}}":"ແກ້ໄຂລ່າສຸດ {{time}}","Created {{time}} by {{author}}":"ສ້າງ {{time}} ໂດຍ {{author}}","Created {{time}}":"ສ້າງ {{time}}","Viewed {{count}} times":"ກວດເບິ່ງ {{count}} ຄັ້ງ",Notifications:Rue,"You're subscribed and getting updates about new interpretations.":"ທ່ານກົດປູ່ມສະໜັກ ເພື່ອຈະໄດ້ອັບເດດ ແລະ ຮັບຂໍ້ມູນໃໝ່",Unsubscribe:$ue,"Subscribe to get updates about new interpretations.":"ສະໝັກເພື່ອທີ່ຈະຮັບຮູ້ຂໍ້ມູນໃໝ່",Subscribe:zue,"About this map":"ກ່ຽວກັບແຜນທີ່","About this line list":"ກ່ຽວກັບບັນຊີລາຍຊື່","About this visualization":"ກ່ຽວກັບການສ້າງພາບຂໍ້ມູນ","About this event chart":"ກ່ຽວກັບເຫດການແຜນຜັງ","About this event report":"ກ່ຽວກັບບົດລາຍງານເຫດການຕ່າງໆ","This app could not retrieve required data.":"ແອັບນີ້ບໍ່ສາມາດດຶງຂໍ້ມູນທີ່ຕ້ອງການໄດ້","Network error":"ຂໍ້ຜິດພາດທາງເຄື່ອຂ່າຍ","Data / Edit calculation":"ຂໍ້ມູນ / ແກ້ໄຂການຄິດໄລ່","Data / New calculation":"ຂໍ້ມູນ / ຄິດໄລ່ໃໝ່","Remove item":"ເອົາລາຍການອອກ","Check formula":"ກວດເບິ່ງສູດ","Calculation name":"ຊື່ການຄິດໄລ່","Shown in table headers and chart axes/legends":"ສະ​ແດງ​​ຢູ່​ເທິງຕາ​ຕະ​ລາງ​ ແລະ​ ແກນ​ແຜນ​ວາດ","Delete calculation":"ລົບການຄິດໄລ່",Cancel:Fue,"The calculation can only be saved with a valid formula":"ການຄິດໄລ່ແມ່ນຖືກບັນທຶກດ້ວຍສູດທີ່ຖືກຕ້ອງເທົ່ານັ້ນ","Add a name to save this calculation":"ເພີ່ມຊື່ເພື່ບັນທຶກການຄິດໄລ່","Save calculation":"ບັນທຶກການຄິດໄລ່","Are you sure you want to delete this calculation? It may be used by other visualizations.":"ເຈົ້າແນ່ໃຈບໍ່ສິລືບຂໍ້ມູນການຄິດໄລ່ນີ້? ຂໍ້ມູນດັ້ງກ່າວອາດຈະຖືກນໍາໃຊ້ໃນການສ້າງພາບຂໍ້ມູນໃໝ່ກໍ່ເປັນໄດ້","Yes, delete":"ຢືນຢັນ, ລົບ","Totals only":"ທັງໝົດເທົ່ານັ້ນ","Details only":"ລາຍລະອຽດເທົ່ານັ້ນ",Loading:jue,"Data elements":"ອົງປະກອບຂໍ້ມູນ","Search by data element name":"ຄົ້ນຫາໂດຍຊື່ອົງປະກອບຂໍ້ມູນ",'No data elements found for "{{- searchTerm}}"':'ບໍ່ພົບອົງປະກອບຂໍ້ມູນຂອງ "{{- searchTerm}}"',"No data elements found":"ບໍ່ພົບອົງປະກອບຂໍ໊ມູນ","Drag items here, or double click in the list, to start building a calculation formula":"ລາກລາຍການມາບ່ອນນີ້, ຫຼືຄລິກສອງເທື່ອໃນລາຍການເພື່ອສ້າງສູດການຄິດໄລ່","Math operators":"ຕົວປະຕິບັດການຄະນິດສາດ","Data Type":"ຊະນິດຂໍ້ມູນ","Only {{dataType}} can be used in {{visType}}":"ມີພຽງ  {{dataType}} ທີສາມາດໃຊ້ໃນ {{visType}}","All types":"ທຸກຊະນິດ",Disaggregation:Bue,"No data":"ບໍ່ມີຂໍ້ມູນ","Search by data item name":"ຄົ້ນຫາໂດຍຊື່ລາຍການຂໍ້ມູນ","No items selected":"ບໍ່ມີລາຍການທີ່ຖືກເລືອກ","Selected Items":"ລາຍການທີ່ເລືອກ","No indicators found":"ບໍ່ພົບຕົວຊີ້ວັດ","No data sets found":"ບໍ່ພົບຊຸດຂໍ້ມູນ","No event data items found":"ບໍ່ພົບຂໍ້ມູນເຫດການ","No program indicators found":"ບໍ່ພົບໂປຼແກຼມຕົວຊີ້ວັດ","No calculations found":"ບໍ່ພົບການຄິດໄລ່",'No indicators found for "{{- searchTerm}}"':'ບໍ່ພົບຕົວຊີ້ວັດສຳລັບ "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'ບໍ່ພົບຊຸດຂໍ້ມູນສຳລັບ "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'ບໍ່ພົບຂໍ້ມູນເຫດການສຳລັບ "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'ບໍ່ພົບໂປຼແກຼມຕົວຊີ້ວັດສຳລັບ "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':'ບໍ່ພົບການຄິດໄລ່ສຳລັບ "{{- serachTerm}}"','Nothing found for "{{- searchTerm}}"':'ບໍ່ພົບຫຍັງສຳລັບ "{{- searchTerm}}"',Calculation:Uue,"Metric type":"ຫົວໜ່ວຍວັດແທກ","All metrics":"ທຸກການປັບປຸງ","Move to {{axisName}}":"ຍ້າຍໄປ {{axisName}}","Add to {{axisName}}":"ເພີ່ມໃສ່ {{axisName}}","Not available for {{visualizationType}}":"ບໍ່ມີສໍາລັບ {{visualizationType}}","Remove Assigned Categories":"ລົບກຸ່ມທີ່ຖືກມອບໝາຍ","Add Assigned Categories":"ເພີ່ມກຸ່ມທີ່ຖືກມອບໝາຍ",Remove:Gue,"Filter dimensions":"ຂະໜາດຕົວຕອງ","Main dimensions":"ຕົວຕອງທີ່ສຳຄັນ","Your dimensions":"ຂະໜາດຂອງທ່ານ","Dimension recommended with selected data":"ຂະໜາດທີ່ແນະນຳດ້ວຍຂໍ້ມູນທີ່ເລືອກ","All items":"ລາຍການທັງໝົດ","Automatically include all items":"ເພີ່ມລາຍການທັງໝົດໂດຍອັດຕະໂນມັດ","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"ເລືອກລາຍການທັງໝົດ {{- dimensionTitle}}  ດ້ວຍຕົວເລືອກນີ້, ລາຍການໃໝ່ທີ່ເພີ່ມເຂົ້າມາໃນຄັ້ງໜ້າຈະຖືກເພີ່ມຂົ້າໂດຍອັດຕະໂນມັດ.","Manually select items...":"ເລືອກລາຍການດ້ວຍຕົນເອງ...","Nothing found in {{- dimensionTitle}}":"ບໍ່ຖືກຄົ້ນພົບໃນ {{- dimensionTitle}}",Search:Yue,"Nothing found for {{- searchTerm}}":"ບໍ່ຖືກຄົ້ນພົບສຳລັບ  {{- searchTerm}}","Delete {{fileType}}":"ລົບ {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"{{fileType}} ນີ້ ແລະ ການຮັບຂໍ້ມູນທີ່ກ່ຽວຂ້ອງຈະຖືກລົບ. ສືບຕໍ່ບໍ່?",Delete:Vue,File:Wue,New:que,"Open…":"ເປີດ...",Save:Hue,"Save…":"ບັນທຶກ...","Save as…":"ບັນທຶກເປັນ...","Rename…":"ປ່ຽນຊື່...","Translate…":"ແປ...","Share…":"ແບ່ງປັນ...","Get link…":"ເອົາລິ້ງ...","Open in this app":"ເປີດແອ໋ບນີ້",Close:Xue,"Rename {{fileType}}":"ປ່ຽນຊື່ {{fileType}}",Name:Zue,Description:Kue,Rename:Que,"{{- objectName}} (copy)":"{{- ຊື່ອົງປະກອບ}} (copy)","Save {{fileType}} as":"ບັນທຶກ {{fileType}} ເປັນ","event report":"ລາຍງານເຫດການ","line list":"ບັນຊີລາຍຊື່",map:Jue,visualization:ede,Edit:tde,"Write a reply":"ຂຽນການຕອບກັບ","Post reply":"ຕອບກ່ອນໜ້າ","Delete failed":"ການລົບລົ້ມເຫຼວ","Could not update comment":"ບໍ່ສາມາດອັບເດດຄຳເຫັນໄດ້","Enter comment text":"ປ້ອນຄຳເຫັນ",Update:nde,"Viewing interpretation: {{- visualisationName}}":"ເບິ່ງຂໍ້ຄວາມ: {{- visualisationName}}","Could not load interpretation":"ບໍ່ສາມາດໂຫຼດຂໍ້ຄວາມ","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"ຂໍ້ຄວາມບໍ່ສາມາດສະແດງໄດ້, ລອງອີກຄັ້ງ ຫຼື ຕິດຕໍ່ຜູ້ເບິ່ງແຍງລະບົບຂອງທ່ານ","Hide interpretation":"ເຊື່ອງຂໍ້ຄວາມ","Write an interpretation":"ຂຽນຂໍ້ຄວາມ","Other people viewing this interpretation in the future may see more data.":"ຄົນອື່ນໆທີ່ເບິ່ງຂໍ້ຄວາມໃນຄັ້ງໜ້າອາດຈະເຫັນຂໍ້ມູນເພີ່ມ","Post interpretation":"ຮັບຂໍ້ມູນກ່ອນໜ້າ",Interpretations:ide,Reply:rde,"{{count}} replies":"{{count}} ການຕອບກັບ","View replies":"ເບິ່ງການຕອບກັບ",Unlike:ade,Like:sde,"See interpretation":"ສະແດງຂໍ້ຄວາມ","Open in app":"ເປີດໃນແອ໋ບ",Share:ode,"Manage sharing":"ຈັດການການເຜີຍແຜ່","Could not update interpretation":"ບໍ່ສາມາດອັບເດດຂໍ້ຄວາມ","Enter interpretation text":"ປ້ອນຂໍ້ຄວາມ","Not available offline":"ບໍ່ສາມາດໃຊ້ໄດ້ອອບລາຍ","Created by":"ສ້າງໂດຍ",Anyone:lde,"Only you":"ທ່ານຄົນດຽວ",Others:cde,"Not supported by this app yet":"ແອັບນີ້ຍັງບໍ່ສາມາດຮອງຮັບເທື່ອ","Filter by name":"ກັ່ນຕອງຈາກຊື່",Created:ude,"Last updated":"ປັບປຸງ​ຄັ້ງຫລ້າສຸດ",Type:dde,"Clear filters":"ປັບປຸງເຄື່ອງມືຄັດຈ້ອນ","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}} {{lastItemIndex}} ຂອງ {{totalNumberOfItems}}",Open:hde,"Couldn't load items":"ບໍ່ສາມາດໂຫຼດລາຍການໄດ້","There was a problem loading items. Try again or contact your system administrator.":"ມີບັນຫາໃນການໂຫຼດລາຍການ. ລອງອີກຄັ້ງ ຫຼື ຕິດຕໍ່ຜູ້ດູແລລະບົບຂອງທ່ານ.","No items found. Create a new to get started.":"ບໍ່ພົບລາຍການທີ່ຄົ້ນຫາ. ສ້າງໃໝ່ເພື່ອເລີ່ມຕົ້ນ.","No items found. Try adjusting your search or filter options to find what you're looking for.":"ບໍ່ພົບລາຍການ. ລອງປັບຕົວເລືອກການຄົ້ນຫາ ຫຼື ຕົວກອງເພື່ອສິ່ງທີ່ທ່ານກໍາລັງຄົ້ນຫາ.","Create new":"ສ້າງໃໝ່","Open a visualization":"ເປີດພາບຂໍ້ມູນ","Loading visualizations":"ໂຫຼດພາບຂໍ້ມູນ","Couldn't load visualizations":"ບໍ່ສາມາດໂຫຼດພາບຂໍ້ມູນ","There was a problem loading visualizations. Try again or contact your system administrator.":"ມີບັນຫາໃນການໂຫຼດພາບຂໍ້ມູນ. ລອງອີກຄັ້ງ ຫຼື ຕິດຕໍ່ຜູ້ດູແລລະບົບຂອງທ່ານ.","No visualizations found. Click New visualization to get started.":"ບໍ່ພົບພາບຂໍ້ມູນ. ຄລິກ ເພີ່ມພາບຂໍ້ມູນໃໝ່ ເພື່ອເລີ່ມຕົ້ນ.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"ບໍ່ພົບພາບຂໍ້ມູນ. ລອງປັບຕົວເລືອກການຄົ້ນຫາ ຫຼື ຕົວກອງເພື່ອສິ່ງທີ່ທ່ານກໍາລັງຄົ້ນຫາ.","New visualization":"ພາບຂໍ້ມູນໃໝ່","Open a map":"ເປີດແຜນທີ່","Loading maps":"ໂຫຼດແຜນທີ່","Couldn't load maps":"ບໍ່ສາມາດໂຫຼດແຜນທີ່","There was a problem loading maps. Try again or contact your system administrator.":"ພົບບັນຫາໃນການ3ຫຼດແຜນທີ່. ລອງໃໝ່ອີກຄັ້ງ ຫຼື ຕິດຕໍ່ຜູ້ດູແລລະບົບ","No maps found. Click New map to get started.":"ບໍ່ພົບແຜນທີ່. ຄລິກສ້າງແຜນທີ່ໃໝ່ເພື່ອເລີ່ມຕົ້ນ","No maps found. Try adjusting your search or filter options to find what you're looking for.":"ບໍ່ພົບແຜນທີ່. ລອງປັບຕົວເລືອກການຄົ້ນຫາ ຫຼື ຕົວກອງເພື່ອສິ່ງທີ່ທ່ານກໍາລັງຄົ້ນຫາ.","New map":"ແຜນທີ່ໃໝ່","Open a line list":"ເປີດບັນຊີລາຍຊື່","Loading line lists":"ໂຫຼດບັນຊີລາຍຊື່","Couldn't load line lists":"ບໍ່ສາມາດໂຫຼດບັນຊີລາຍຊື່","There was a problem loading line lists. Try again or contact your system administrator.":"ພົບບັນຫາໃນການໂຫຼດບັນຊີລາຍຊື່. ລອງອີກຄັ້ງ ຫຼື ຕິດຕໍ່ຜູ້ດູແລລະບົບຂອງທ່ານ.","No line lists found. Click New line list to get started.":"ບໍ່ພົບບັນຊີລາຍຊື່. ຄລິກເພີ່ມບັນຊີລາຍຊື່ໃໝ່ເພື່ອເລີ່ມຕົ້ນ.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"ບໍ່ພົບບັນຊີລາຍຊື່. ລອງປັບຕົວເລືອກການຄົ້ນຫາ ຫຼື ຕົວກອງເພື່ອສິ່ງທີ່ທ່ານກໍາລັງຄົ້ນຫາ.","New line list":"ເພີ່ມບັນຊີລາຍຊື່ໃໝ່",Options:pde,Hide:mde,"{{count}} org units":"{{count}} ໜ່ວຍງານອົງການ","{{count}} levels":"{{count}} ຂັ້ນ","{{count}} groups":"{{count}} ກຸ່ມ","Selected: {{commaSeparatedListOfOrganisationUnits}}":"ເລືອກ {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"ບໍ່ມີຫຍັງເລືອກ","User organisation unit":"ຫນ່ວຍງານການຈັດຕັ້ງຂອງຜູ້ໃຊ້","User sub-units":"ຫົວໜ່ວຍຍ່ອຍຂອງທ່ານ","User sub-x2-units":"ຫົວໜ່ວຍຍ່ອຍຂັ້ນສອງຂອງທ່ານ","Select a level":"ເລືອກຂັ້ນ","Select a group":"ເລືອກກຸ່ມ","Deselect all":"ຍົກເລີກການເລືອກທັງໝົດ","Period type":"ແບບຊ່ວງເວລາ",Year:fde,"Select year":"ເລືອກປີ",Period:gde,"Selected Periods":"ເລືອກຊ່ວງເວລາ","Relative periods":"​ໄລ​ຍະ​ເວ​ລາ​ໄກ້​ຄຽງ","Fixed periods":"ໄລຍະເວລາທີ່ໄດ້ກຳນົດ","No periods selected":"ບໍ່ທັນໄດ້ເລືອກໄລຍະເວລາ",Daily:yde,Weekly:vde,"Weekly (Start Wednesday)":"ເປັນອາທິດ (ເລີ່ມຈາກວັນພຸດ)","Weekly (Start Thursday)":"ເປັນອາທິດ (ເລີ່ມຈາກວັນພະຫັດ)","Weekly (Start Saturday)":"ເປັນອາທິດ (ເລີ່ມຈາກວັນເສົາ)","Weekly (Start Sunday)":"ເປັນອາທິດ (ເລີ່ມຈາກວັນອາທິດ)","Bi-weekly":"ສອງອາທິດຕໍ່ຄັ້ງ",Monthly:xde,"Bi-monthly":"ທຸກໆສອງເດືອນ",Quarterly:bde,"Six-monthly":"ແຕ່ລະ 6 ເດືອນ","Six-monthly April":"ແຕ່ລະຫົກເດືອນ ແລະ ເດືອນເມສາ",Yearly:_de,"Financial year (Start November)":"ສົກປີງົບປະມານ (ເລີ່ມແຕ່ເດືອນພະຈິກ)","Financial year (Start October)":"ສົກປີງົບປະມານ (ເລີ່ມແຕ່ເດືອນຕຸລາ)","Financial year (Start July)":"ສົກປີງົບປະມານ (ເລີ່ມແຕ່ເດືອນມິຖຸນາ)","Financial year (Start April)":"ສົກປີງົບປະມານ (ເລີ່ມແຕ່ເດືອນເມສາ)",Today:wde,Yesterday:Tde,"Last 3 days":"3 ມື້ກ່ອນ","Last 7 days":"7 ມື້ກ່ອນ","Last 14 days":"14 ມື້ກ່ອນ","Last 30 days":"30 ມື້ກ່ອນ","Last 60 days":"60 ມື້ກ່ອນ","Last 90 days":"90 ມື້ກ່ອນ","Last 180 days":"180 ມື້ກ່ອນ","This week":"ທິດນີ້","Last week":"ອາທິດທີ່ຜ່ານມາ","Last 4 weeks":"4 ອາທິດຍ້ອນຫຼັງ","Last 12 weeks":"12 ອາທິດຍ້ອນຫຼັງ","Last 52 weeks":"52 ອາທິດຜ່ານມາ","Weeks this year":"ອາທິດ ຂອງປີນີ້","This bi-week":"ສອງເທື່ອຕໍ່ອາທິດນີ້","Last bi-week":"ສອງຄັ້ງລ່າສຸດຕໍ່ທິດ","Last 4 bi-weeks":"ສອງເດືອນທີ່ຜ່ານມາ","This month":"ເດືອນນີ້","Last month":"ເດືອນຜ່ານມາ","Last 3 months":"3 ເດືອນຍ້ອນຫຼັງ","Last 6 months":"6 ເດືອນຜ່ານມາ","Last 12 months":"12 ເດືອນຍ້ອນຫຼັງ","Months this year":"​ເດືອນ​ໃນ​ປີ","This bi-month":"ສອງເດືອນນີ້","Last bi-month":"ສອງເດືອນກ່ອນທ້າຍປີ","Last 6 bi-months":"6 ຂອງສອງເດືອນສຸດທ້າຍ","Bi-months this year":"ສອງເດືອນ ຂອງປີນີ້","This quarter":"ໄຕມາດນີ້","Last quarter":"ໄຕມາດຜ່ານມາ","Last 4 quarters":"4 ໄຕມາດຍ້ອນຫຼັງ","Quarters this year":"​ໄຕຼມາດ​ໃນ​ປີ","This six-month":"6 ເດືອນນີ້","Last six-month":"6 ເດືອນຜ່ານມາ","Last 2 six-month":"ສອງ 6 ເດືອນຜ່ານມາ","This financial year":"ສົກປີງົບປະມານຂອງປິນີ້","Last financial year":"​ສົກ​ປີ​ງົບ​ປະ​ມານ​ປີ​ກາຍ","Last 5 financial years":"​ສົກ​ປິ​ງົບ​ປະ​ມານ 5ປີ​ຜ່ານ​ມາ","This year":"ປີນີ້","Last year":"ປີກາຍ","Last 5 years":"5 ປີຍ້ອນຫຼັງ","Last 10 years":"10 ປີຍ້ອນຫຼັງ",Days:Sde,Weeks:Cde,"Bi-weeks":"ສອງເທື່ອຕໍ່ທິດ",Months:Ede,"Bi-months":"2ເດືອນ",Quarters:kde,"Six-months":"6 ເດືອນ","Financial Years":"ສົກປີງົບປະມານ",Years:Nde,"Value: {{value}}":"","Bold text":"ຕົວອັກສອນເຂັ້ມ","Italic text":"ຕົວອັກສອນສະຫຼ່ຽງ","Link to a URL":"ເຊື່ອມຕໍ່ກັບ URL","Mention a user":"ກ່າວເຖິງຜູ້ໃຊ້","Add emoji":"ເພີ່ມ emoji",Preview:Lde,"Back to write mode":"ກັບໄປທີ່ໂໝດຂຽນ","Interpretations and details":"ຂໍ້ມູນ ແລະ ລາຍລະອຽດ","Translating to":"ແປເປັນ","Choose a locale":"ເລືອກສະຖານທີ່ເກີດເຫດ","Base locale reference":"ການອ້າງອີງຈາກສະຖານທີ່ເກີດເຫດ","Choose a locale to translate from the menu above":"ເລືອກສະຖານທີ່ເກີດເຫດເພື່ອແປຈາກລາຍການຂັ້ນເທິງ","Translate: {{objectName}}":"ແປ {{objectName}}","Save translations":"ບັນທຶກການແປ","Cannot save while offline":"ບໍ່ສາມາດບັນທຶກແບບອອບລາຍ","Could not load translations":"ບໍ່ສາມາດໂຫຼດການແປ",Retry:Ide,"Too many results. Try refining the search.":"ຜົນໄດ້ຮັບຫຼາຍເກີນໄປ. ປັບປຸງການຄົ້ນຫາ.","Search for a user":"ຄົ້ນຫາຜູ້ໃຊ້",'Searching for "{{- searchText}}"':'ຄົ້ນຫາ "{{- searchText}}"',"No results found":"ບໍ່ພົບຜົນການຊອກຫາ",Series:Ade,Category:Pde,Filter:Dde,Columns:Mde,Rows:Ode,Points:Rde,"Reporting rate":"ອັດຕາການລາຍງານ","Reporting rate on time":"ອັດຕາການລາຍງານຕົງເວລາ","Actual reports":"ລາຍງານຕົວຈິງ","Actual reports on time":"ລາຍງານຕົວຈິງຕົງເວລາ","Expected reports":"ລາຍງານທີ່ຄາດໄວ້",Program:$de,"Select a program":"ເລືອກໂປແກຼມ",Indicators:zde,"Indicator group":"ກຸ່ມຂອງຕົວຊີ້ວັດ","All groups":"ກຸ່ມທັງໝົດ",Indicator:Fde,"No indicator groups found":"ບໍ່ພົບກຸ່ມຕົວຊີ້ວັດ","Loading indicator groups":"ໂຫຼດກຸ່ມຕົວຊີ້ວັດ","Data element group":"ກຸ່ມຂອງອົງປະກອບຂໍ້ມູນ","Data element":"ອົງປະກອບຂໍ້ມູນ","No data element groups found":"ບໍ່ພົບກຸ່ມອົງປະກອບຂໍ້ມູນ","Loading data element groups":"ໂຫຼດກຸ່ມອົງປະກອບຂໍ້ມູນ","Data sets":"ແບບຟອມ","Data set":"ແບບຟອມ","All data sets":"ແບບຟອມທັງໝົດ","Loading data sets":"ໂຫຼດແບບຟອມ","Event data items":"ຂໍ້ມູນລາຍບຸກຄົນ","All programs":"ໂປແກຼມທັງໝົດ","Event data item":"ຂໍ້ມູນລາຍບຸກຄົນ","No programs found":"ບໍ່ພົບໂປແກຼມ","Loading programs":"ໂຫຼດໂປແກຼມ","Program indicators":"ຕົວຊີ້ວັດສະເພາະວຽກຂອງຂະແໜງ","Program indicator":"ໂປແກຼມຕົວຊີ້ວັດ",Calculations:jde,Number:"ຈຳນວນ","Formula is empty. Add items to the formula from the lists on the left.":"ສູດຄຳນວນຫວ່າງເປົ່າ. ເພີ່ມລາຍການໃສ່ສູດຈາກລາຍການຂ້າງຊ້າຍ.","Consecutive math operators":"ຕົວປະຕິບັດການຄະນິດສາດຕາມລຳດັບ","Consecutive data elements":"ອົງປະກອບຂໍ້ມູນຕາມລຳດັບ","Starts or ends with a math operator":"ເລີ່ມຕົ້ນ ຫຼື ສິ້ນສຸດດ້ວຍຕົວປະຕິບັດການຄະນິດສາດ","Empty parentheses":"ວົງເລັບວ່າງເປົ່າ","Missing right parenthesis )":"ຂາດວົງເລັບຂວາ )","Missing left parenthesis (":"ຂາດວົງເລັບຊ້າຍ (","Extra Small":"ນ້ອຍສຸດ",Small:Bde,Regular:Ude,Large:Gde,"Extra Large":"ໃຫຍ່ສຸດ",Left:Yde,Center:Vde,Right:Wde,Start:qde,Middle:Hde,End:Xde,Top:Zde,Bottom:Kde,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} ແລະ {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} ຂັ້ນ","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} ກຸ່ມ","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} ຂັ້ນໃນ {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} ກຸ່ມໃນ {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}} % ລວມຂອງຄ່າ x","{{percentage}}% of total y values":"{{percentage}} % ລວມຂອງຄ່າ y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} x IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} x IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} x ແກ້ໄຂຄະແນນ z ຕ່ຳ","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} x ແກ້ໄຂຄະແນນ z ສູງ","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} x ຄະແນນ z ຕ່ຳ","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} x ຄະແນນ z ສູງ","Not applicable":"",Data:Qde,"Organisation unit":"​ຫົວ​ໜ່ວຍ​ການ​ຈັດ​ຕັ້ງ","Assigned Categories":"ຈັດໝວດໝູ່","Pivot table":"ແບບຕາຕະລາງໄພວ໋ອດ",Area:Jde,"Stacked area":"ພື້ນທີ່ຊ້ອນກັນ",Bar:ehe,"Stacked bar":"ແຖບຊ້ອນກັນ",Column:the,"Year over year (column)":"ປີຕໍ່ປີ (ຖັນ)","Stacked column":"ຖັນຊ້ອນກັນ",Gauge:nhe,Line:ihe,"Line list":"ລາຍການລາຍບຸກຄົນ","Year over year (line)":"ປີຕໍ່ປີ (ເສັ້ນ)",Pie:rhe,Radar:ahe,Scatter:she,"Single value":"ຄ່າດຽວ","Outlier table":"ຕາຕະລາງທີ່ເກີນກວ່າ","All charts":"ຕາຕະລາງທັງຫມົດ","{{seriesName}} (trend)":"{{seriesName}} (ແນວໂນ້ມ)",Trend:ohe,"No legend for this series":"ບໍ່ມີນິຍາມສຳລັບຊຸດນີ້","and {{amount}} more...":"ແລະ {{amount}} ເພີ່ມ...","Linear Regression":"ການຖົດຖອຍແບບເສັ້ນ",Target:lhe,Base:che,"Axis {{axisId}}":"ແກນ {{axisId}}","{{count}} items":"{{count}} ລາຍການ","Reset zoom":"ຣີເຊັດຊູມ"},dhe="",hhe="",phe="",mhe="ပယ်ဖျက်သည်",fhe="Loading, please wait",ghe="",yhe="",vhe="ဖယ်ရှားခြင်း",xhe="",bhe="ဖျက်ဆီးသည်",_he="File",whe="အသစ်",The="သိမ်းဆည်းသည်",She="ပိတ်သည်",Che="အမည်",Ehe="ဖော်ပြချက်",khe="အမည်သစ်ပေးခြင်း",Nhe="",Lhe="",Ihe="တည်းဖြတ်သည်",Ahe="‌နောက်ဆုံးသတင်းကိုရစေခြင်း",Phe="ဘာသာပြန်ခြင်းများ",Dhe="Больше не нравится",Mhe="Нравится",Ohe="အကြောင်းပြန်သည်",Rhe="",$he="",zhe="",Fhe="",jhe="",Bhe="ပုံစံ",Uhe="Open",Ghe="",Yhe="",Vhe="ခုနှစ်",Whe="အချိန်ကာလ",qhe="နေ့စဉ်",Hhe="အပတ်စဉ်",Xhe="လစဉ်",Zhe="သုံးလတစ်ကြိမ်",Khe="နှစ်စဉ်",Qhe="",Jhe="",epe="",tpe="",npe="လများ",ipe="၃လမြောက်",rpe="နှစ်များ",ape="",spe="အစဉ်အတန်းများ",ope="category",lpe="ရှာဖွေထုတ်သည်",cpe="",upe="",dpe="",hpe="",ppe="အညွှန်းများ",mpe="indicator",fpe="",gpe="",ype="",vpe="",xpe="Left",bpe="",_pe="Right",wpe="",Tpe="",Spe="",Cpe="",Epe="",kpe="အချက်အလက်",Npe="",Lpe="",Ipe="",Ape="",Ppe="",Dpe="",Mpe="",Ope="",Rpe="လမ်းကြောင်း",$pe="ပစ်မှတ်/ ဦးတည်ချက်",zpe="အခြေ",Fpe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:dhe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:hhe,"Subscribe to get updates about new interpretations.":"",Subscribe:phe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:mhe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:fhe,"Data elements":"အချက်အလတ်အစိတ်အပိုင်းများ","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:ghe,"No data":"အချက်အလက်မရှိပါ။","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:yhe,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:vhe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:xhe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:bhe,File:_he,New:whe,"Open…":"",Save:The,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:She,"Rename {{fileType}}":"",Name:Che,Description:Ehe,Rename:khe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:Nhe,visualization:Lhe,Edit:Ihe,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:Ahe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:Phe,Unlike:Dhe,Like:Mhe,Reply:Ohe,Share:Rhe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:$he,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"No results found","Not available offline":"","Created by":"Created by",Anyone:zhe,"Only you":"",Others:Fhe,"Not supported by this app yet":"","Filter by name":"အမည်ဖြင့်ရှာဖွေထုတ်သည်",Created:jhe,"Last updated":"နောက်ဆုံး အသစ်ဆက်ဆက်",Type:Bhe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:Uhe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:Ghe,Hide:Yhe,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Period type",Year:Vhe,"Select year":"",Period:Whe,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"သက်ဆိုင်ရာ အချိန်ကာလကို မရွေးချယ်ထားပါ။",Daily:qhe,Weekly:Hhe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:Xhe,"Bi-monthly":"နှစ်လတစ်ကြိမ်",Quarterly:Zhe,"Six-monthly":"ခြောက်လတစ်ကြိမ်","Six-monthly April":"",Yearly:Khe,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:Qhe,Yesterday:Jhe,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Last week","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"ယခင်လ","Last 3 months":"လွန်ခဲ့သော ၁၂လ","Last 6 months":"Last 6 months","Last 12 months":"လွန်ခဲ့သော ၁၂လ","Months this year":"","This bi-month":"","Last bi-month":"လွန်ခဲ့သော ၆လက","Last 6 bi-months":"လွန်ခဲ့သော ၆လ(၂ကြိမ်)","Bi-months this year":"","This quarter":"","Last quarter":"လွန်ခဲ့သော ၃လက","Last 4 quarters":"လွန်ခဲ့သော ၁၂လက","Quarters this year":"Quarters this year","This six-month":"","Last six-month":"လွန်ခဲ့သော ၆လက","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"ဒီနှစ်","Last year":"ယခင်နှစ်","Last 5 years":"လွန်ခဲ့သော ၅ နှစ်","Last 10 years":"",Days:epe,Weeks:tpe,"Bi-weeks":"",Months:npe,"Bi-months":"Двухмесячные промежутки",Quarters:ipe,"Six-months":"၆ လ","Financial Years":"",Years:rpe,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:ape,Series:spe,Category:ope,Filter:lpe,Columns:cpe,Rows:upe,Points:dpe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:hpe,"Select a program":"",Indicators:ppe,"Indicator group":"Indicator group","All groups":"",Indicator:mpe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"data element အုပ်စု","Data element":"data element","No data element groups found":"","Loading data element groups":"","Data sets":"စီမံချက်","Data set":"Dataset","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:fpe,Number:"ဂဏန်း","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:gpe,Regular:ype,Large:vpe,"Extra Large":"",Left:xpe,Center:bpe,Right:_pe,Start:wpe,Middle:Tpe,End:Spe,Top:Cpe,Bottom:Epe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:kpe,"Organisation unit":"Organisation unit","Assigned Categories":"","Pivot table":"",Area:Npe,"Stacked area":"",Bar:Lpe,"Stacked bar":"",Column:Ipe,"Year over year (column)":"","Stacked column":"",Gauge:Ape,Line:Ppe,"Line list":"","Year over year (line)":"",Pie:Dpe,Radar:Mpe,Scatter:Ope,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:Rpe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:$pe,Base:zpe,"Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""},jpe="Varsler",Bpe="Avslutt abonnementet",Upe="Abonner",Gpe="Avbryt",Ype="Laster",Vpe="Disaggregering",Wpe="",qpe="Fjern",Hpe="Søk",Xpe="Slett",Zpe="Fil",Kpe="Ny",Qpe="Lagre",Jpe="Lukk",eme="Navn",tme="Beskrivelse",nme="Gi nytt navn",ime="kart",rme="visualisering",ame="Rediger",sme="Oppdater",ome="Tolkninger",lme="Svar",cme="Fjern like",ume="Like",dme="Del",hme="Forhåndsvisning",pme="Hvem som helst",mme="Andre",fme="Opprettet",gme="Type",yme="Åpne",vme="Alternativ",xme="Skjul",bme="År",_me="Periode",wme="Daglig",Tme="Ukentlig",Sme="Månedlig",Cme="Kvartalsvis",Eme="Årlig",kme="I dag",Nme="I går",Lme="Dager",Ime="Uker",Ame="Måneder",Pme="Kvartaler",Dme="År",Mme="",Ome="Serie",Rme="Kategori",$me="Filter",zme="Kolonner",Fme="Rader",jme="Punkter",Bme="Program",Ume="Indikatorer",Gme="Indikator",Yme="",Vme="Liten",Wme="Regelmessig",qme="Stor",Hme="Venstre",Xme="Sentrum",Zme="Høyre",Kme="Start",Qme="Midten",Jme="Slutt",efe="Topp",tfe="Bunn",nfe="Data",ife="Areal",rfe="Liggende stolpe",afe="Stolpe",sfe="Radialmåler",ofe="Linje",lfe="Sektor",cfe="Radar",ufe=" Spredning",dfe="Trend",hfe="Mål",pfe="Grunn",mfe={"view only":"kun visning","view and edit":"vis og endre","all users ({{accessLevel}})":"alle brukere ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Delt med {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"Ikke delt med noen brukere eller grupper","No description":"Ingen beskrivelse","Last updated {{time}}":"Sist oppdatert {{time}}","Created {{time}} by {{author}}":"Opprettet {{time}} av {{author}}","Created {{time}}":"","Viewed {{count}} times":"Vist 1 gang","Viewed {{count}} times_plural":"Vist {{count}} ganger",Notifications:jpe,"You're subscribed and getting updates about new interpretations.":"Du abonnerer og får oppdateringer om nye tolkninger.",Unsubscribe:Bpe,"Subscribe to get updates about new interpretations.":"Abonner for å få oppdateringer om nye tolkninger.",Subscribe:Upe,"About this map":"","About this line list":"","About this visualization":"Om denne visualiseringen","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:Gpe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"Kun totaler","Details only":"Kun detaljer",Loading:Ype,"Data elements":"Dataelementer","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':'Ingen dataelementer funnet for "{{- searchTerm}}"',"No data elements found":"Ingen dataelementer funnet","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"Datatype","Only {{dataType}} can be used in {{visType}}":"","All types":"Alle typer",Disaggregation:Vpe,"No data":"Ingen data","Search by data item name":"Søk etter datapunktnavn","No items selected":"Ingen elementer er valgt","Selected Items":"Valgte elementer","No indicators found":"Ingen indikatorer funnet","No data sets found":"Ingen datasett funnet","No event data items found":"Ingen hendelsesdataelementer funnet","No program indicators found":"Ingen programindikatorer funnet","No calculations found":"",'No indicators found for "{{- searchTerm}}"':'Ingen indikatorer funnet for "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'Ingen datasett funnet for "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'Ingen hendelsesdataelementer funnet for "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'Ingen programindikatorer funnet for "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':'Ingenting funnet for "{{- searchTerm}}"',Calculation:Wpe,"Metric type":"Metrisk type","All metrics":"Alle beregninger","Move to {{axisName}}":"Flytt til {{axisName}}","Add to {{axisName}}":"Legg til {{axisName}}","Not available for {{visualizationType}}":"Ikke tilgjengelig for {{visualizationType}}","Remove Assigned Categories":"Fjern Tildelte Kategorier","Add Assigned Categories":"Legg tildelte kategorier",Remove:qpe,"Filter dimensions":"Filterdimensjoner","Main dimensions":"Hoveddimensjoner","Your dimensions":"Dine dimensjoner","Dimension recommended with selected data":"Dimensjon anbefalt med valgte data","All items":"Alle elementer","Automatically include all items":"Inkluder automatisk alle elementer","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Velg alle {{- dimensionTitle}} elementer. Med dette alternativet vil nye elementer som legges til i fremtiden automatisk inkluderes.","Manually select items...":"Velg elementer manuelt...","Nothing found in {{- dimensionTitle}}":"Ingenting funnet i {{- dimensionTitle}}",Search:Hpe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"Slett {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"Denne {{fileType}} og relaterte tolkninger vil bli slettet. Fortsette?",Delete:Xpe,File:Zpe,New:Kpe,"Open…":"Åpne...",Save:Qpe,"Save…":"Lagre...","Save as…":"Lagre som...","Rename…":"Gi nytt navn...","Translate…":"Oversette...","Share…":"Dele...","Get link…":"Få lenke…","Open in this app":"Åpne i denne appen",Close:Jpe,"Rename {{fileType}}":"Gi nytt navn til {{fileType}}",Name:eme,Description:tme,Rename:nme,"{{- objectName}} (copy)":"","Save {{fileType}} as":"Lagre {{fileType}} som","event report":"hendelsesrapport","line list":"",map:ime,visualization:rme,Edit:ame,"Write a reply":"Skriv et svar","Post reply":"","Delete failed":"Kunne ikke slette","Could not update comment":"","Enter comment text":"",Update:sme,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Skriv en tolkning","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:ome,Reply:lme,"{{count}} replies":"{{count}} svar","{{count}} replies_plural":"{{count}} svar","View replies":"",Unlike:cme,Like:ume,"See interpretation":"","Open in app":"",Share:dme,"Manage sharing":"Administrer deling","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:hme,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Ingen resultater funnet","Not available offline":"Ikke tilgjengelig i frakoblet modus","Created by":"Opprettet av",Anyone:pme,"Only you":"Bare deg",Others:mme,"Not supported by this app yet":"","Filter by name":"Filtrer etter navn",Created:fme,"Last updated":"Sist oppdatert",Type:gme,"Clear filters":"Tøm filtre","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} av {{totalNumberOfItems}}",Open:yme,"Couldn't load items":"Kunne ikke laste inn elementer","There was a problem loading items. Try again or contact your system administrator.":"Det oppsto et problem med å laste elementer. Prøv igjen eller kontakt systemadministratoren.","No items found. Create a new to get started.":"Ingen elementer funnet. Opprett en ny for å komme i gang.","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Opprett ny","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:vme,Hide:xme,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Brukerorganisasjonsenhet","User sub-units":"Underenheter","User sub-x2-units":"Under-x2-enheter","Select a level":"Velg et nivå","Select a group":"Velg en gruppe","Deselect all":"Fjern valg","Period type":"Periodetype",Year:bme,"Select year":"Velg år",Period:_me,"Selected Periods":"Valgte perioder","Relative periods":"Relative perioder","Fixed periods":"Faste perioder","No periods selected":"Ingen perioder er valgt",Daily:wme,Weekly:Tme,"Weekly (Start Wednesday)":"Ukentlig (start onsdag)","Weekly (Start Thursday)":"Ukentlig (start torsdag)","Weekly (Start Saturday)":"Ukentlig (start lørdag)","Weekly (Start Sunday)":"Ukentlig (start søndag)","Bi-weekly":"Toukentlig",Monthly:Sme,"Bi-monthly":"Tomånedlig",Quarterly:Cme,"Six-monthly":"Halvårlig","Six-monthly April":"Halvårig April",Yearly:Eme,"Financial year (Start November)":"Regnskapsår (start november)","Financial year (Start October)":"Regnskapsår (start oktober)","Financial year (Start July)":"Regnskapsår (start juli)","Financial year (Start April)":"Regnskapsår (start april)",Today:kme,Yesterday:Nme,"Last 3 days":"Siste 3 dager","Last 7 days":"Siste 7 dager","Last 14 days":"Siste 14 dager","Last 30 days":"Siste 30 dager","Last 60 days":"Siste 60 dager","Last 90 days":"Siste 90 dager","Last 180 days":"Siste 180 dager","This week":"Denne uken","Last week":"Forrige uke","Last 4 weeks":"Siste 4 uker","Last 12 weeks":"Siste 12 uker","Last 52 weeks":"Siste 52 uker","Weeks this year":"Uker inneværende år","This bi-week":"Denne touken","Last bi-week":"Sist touke","Last 4 bi-weeks":"Siste 4 touker","This month":"Denne måneden","Last month":"Forrige måned","Last 3 months":"Siste 3 måneder","Last 6 months":"Siste 6 måneder","Last 12 months":"Siste 12 måneder","Months this year":"Måneder i år","This bi-month":"Denne tomåneden","Last bi-month":"Siste tomåned","Last 6 bi-months":"Siste 6 tomåneder","Bi-months this year":"Tomåneder i år","This quarter":"Dette kvartalet","Last quarter":"Siste kvartal","Last 4 quarters":"Siste 4 kvartaler","Quarters this year":"Kvartaler i år","This six-month":"Dette halvåret","Last six-month":"Siste halvår","Last 2 six-month":"Siste to halvår","This financial year":"Dette regnskapsåret","Last financial year":"Siste regnskapsår","Last 5 financial years":"Siste 5 regnskapsår","This year":"Dette året","Last year":"Forrige år","Last 5 years":"Siste 5 år","Last 10 years":"Siste 10 år",Days:Lme,Weeks:Ime,"Bi-weeks":"Touker",Months:Ame,"Bi-months":"Tomåneder",Quarters:Pme,"Six-months":"Halvår","Financial Years":"Regnskapsår",Years:Dme,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:Mme,Series:Ome,Category:Rme,Filter:$me,Columns:zme,Rows:Fme,Points:jme,"Reporting rate":"Rapporteringfrekvens","Reporting rate on time":"Rapporteringsfrekvens i tide","Actual reports":"Faktiske rapporter","Actual reports on time":"Faktiske rapporter i tide","Expected reports":"Forventede rapporter",Program:Bme,"Select a program":"Velg et program",Indicators:Ume,"Indicator group":"Indikatorgruppe","All groups":"",Indicator:Gme,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Dataelementgruppe","Data element":"Dataelement","No data element groups found":"","Loading data element groups":"","Data sets":"Datasett","Data set":"Datasett","All data sets":"","Loading data sets":"","Event data items":"Hendelsesdatapunkter","All programs":"","Event data item":"Hendelsesdatapunkt","No programs found":"Ingen programmer funnet","Loading programs":"","Program indicators":"Programindikatorer","Program indicator":"Programindikator",Calculations:Yme,Number:"Nummer","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Ekstra liten",Small:Vme,Regular:Wme,Large:qme,"Extra Large":"Ekstra stor",Left:Hme,Center:Xme,Right:Zme,Start:Kme,Middle:Qme,End:Jme,Top:efe,Bottom:tfe,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} og {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}}-nivåer","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}}-grupper","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} nivåer i {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}}-grupper i {{staticOuNames}}","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:nfe,"Organisation unit":"Organisasjonsenhet","Assigned Categories":"Tildelte Kategorier","Pivot table":"Pivottabell",Area:ife,"Stacked area":"Stablet område",Bar:rfe,"Stacked bar":"Liggende stablet stolpe",Column:afe,"Year over year (column)":"År over år (stolpe)","Stacked column":"Stablet stående stolpe",Gauge:sfe,Line:ofe,"Line list":"Linjeliste","Year over year (line)":"År over år (linje)",Pie:lfe,Radar:cfe,Scatter:ufe,"Single value":"Enkeltverdi","Outlier table":"","All charts":"Alle diagrammer","{{seriesName}} (trend)":"",Trend:dfe,"No legend for this series":"Ingen tegnforklaring for denne serien","and {{amount}} more...":"","Linear Regression":"",Target:hfe,Base:pfe,"Axis {{axisId}}":"Akse {{axisId}}","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},ffe="",gfe="",yfe="",vfe="रद्द गर्नुहोस्",xfe="",bfe="",_fe="",wfe="",Tfe="खोज",Sfe="",Cfe="",Efe="",kfe="",Nfe="",Lfe="",Ife="",Afe="",Pfe="",Dfe="",Mfe="",Ofe="",Rfe="",$fe="जवाफ",zfe="",Ffe="",jfe="",Bfe="",Ufe="",Gfe="",Yfe="",Vfe="खोल्नुहोस्",Wfe="",qfe="",Hfe="",Xfe="अबधि",Zfe="दैनिक",Kfe="",Qfe="",Jfe="",ege="",tge="आज",nge="हिजो",ige="",rge="",age="",sge="",oge="",lge="",cge="",uge="",dge="",hge="",pge="",mge="",fge="",gge="",yge="",vge="",xge="",bge="",_ge="",wge="",Tge="",Sge="",Cge="",Ege="",kge="",Nge="",Lge="",Ige="",Age="",Pge="",Dge="",Mge="",Oge="",Rge="",$ge="",zge="",Fge="",jge="",Bge="",Uge="",Gge={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:ffe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:gfe,"Subscribe to get updates about new interpretations.":"",Subscribe:yfe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:vfe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:xfe,"Data elements":"","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","Only {{dataType}} can be used in {{visType}}":"","All types":"",Disaggregation:bfe,"No data":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No calculations found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:_fe,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:wfe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:Tfe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:Sfe,File:Cfe,New:Efe,"Open…":"",Save:kfe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:Nfe,"Rename {{fileType}}":"",Name:Lfe,Description:Ife,Rename:Afe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:Pfe,visualization:Dfe,Edit:Mfe,"Write a reply":"","Post reply":"","Delete failed":"","Could not update comment":"","Enter comment text":"",Update:Ofe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:Rfe,Reply:$fe,"{{count}} replies":"","{{count}} replies_plural":"","View replies":"",Unlike:zfe,Like:Ffe,"See interpretation":"","Open in app":"",Share:jfe,"Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Not available offline":"","Created by":"",Anyone:Bfe,"Only you":"",Others:Ufe,"Not supported by this app yet":"","Filter by name":"",Created:Gfe,"Last updated":"",Type:Yfe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:Vfe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:Wfe,Hide:qfe,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"सबै चयन उल्टाउनुहोस्","Period type":"",Year:Hfe,"Select year":"",Period:Xfe,"Selected Periods":"","Relative periods":"","Fixed periods":"","No periods selected":"",Daily:Zfe,Weekly:Kfe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:Qfe,"Bi-monthly":"",Quarterly:Jfe,"Six-monthly":"","Six-monthly April":"",Yearly:ege,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:tge,Yesterday:nge,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:ige,Weeks:rge,"Bi-weeks":"",Months:age,"Bi-months":"",Quarters:sge,"Six-months":"","Financial Years":"",Years:oge,"Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:lge,"Back to write mode":"","Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:cge,"Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"कुनै पनि नतिजा भेटिएन",Series:uge,Category:dge,Filter:hge,Columns:pge,Rows:mge,Points:fge,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:gge,"Select a program":"",Indicators:yge,"Indicator group":"","All groups":"",Indicator:vge,"No indicator groups found":"","Loading indicator groups":"","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:xge,Number:"","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:bge,Regular:_ge,Large:wge,"Extra Large":"",Left:Tge,Center:Sge,Right:Cge,Start:Ege,Middle:kge,End:Nge,Top:Lge,Bottom:Ige,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:Age,"Organisation unit":"","Assigned Categories":"","Pivot table":"",Area:Pge,"Stacked area":"",Bar:Dge,"Stacked bar":"",Column:Mge,"Year over year (column)":"","Stacked column":"",Gauge:Oge,Line:Rge,"Line list":"","Year over year (line)":"",Pie:$ge,Radar:zge,Scatter:Fge,"Single value":"","Outlier table":"","All charts":"","{{seriesName}} (trend)":"",Trend:jge,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:Bge,Base:Uge,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},Yge="Meldingen",Vge="Uitschrijven",Wge="Abonneren",qge="Annuleer",Hge="Bezig met laden",Xge="desaggregatie",Zge="Berekening",Kge="Verwijderen",Qge="Zoek",Jge="Verwijderen",eye="Bestand",tye="Nieuw",nye="Sla op",iye="Sluit",rye="Naam",aye="Beschrijving",sye="Hernoemen",oye="kaart",lye="visualisatie",cye="Bewerk",uye="Bijwerken",dye="Interpretaties",hye="Antwoord",pye="in tegenstelling tot",mye="Leuk vinden",fye="Deel",gye="Voorbeeld",yye="Iedereen",vye="Anderen",xye="Gemaakt",bye="Soort",_ye="Open",wye="Opties",Tye="Verbergen",Sye="Jaar",Cye="Periode",Eye="Dagelijks",kye="Wekelijks",Nye="Maandelijks",Lye="Driemaandelijks",Iye="Jaarlijks",Aye="Vandaag",Pye="Gisteren",Dye="Dagen",Mye="Weken",Oye="Maanden",Rye="Kwartalen",$ye="Jaren",zye="Opnieuw proberen",Fye="Reeks",jye="Categorie",Bye="Filter",Uye="Kolommen",Gye="Rijen",Yye="Punten",Vye="Programma",Wye="Indicatoren",qye="Indicator",Hye="Berekeningen",Xye="Klein",Zye="Normaal",Kye="Groot",Qye="Links",Jye="Centrum",eve="Rechts",tve="Begin",nve="Midden",ive="Einde",rve="Bovenkant",ave="Onderkant",sve="Gegevens",ove="Oppervlakte",lve="Staaf",cve="Kolom",uve="Graadmeter",dve="Lijn",hve="Taart",pve="Radar",mve="Verstrooien",fve="Trend",gve="Doel",yve="Baseren",vve={"view only":"alleen bekijken","view and edit":"bekijken en bewerken","all users ({{accessLevel}})":"alle gebruikers ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Gedeeld met {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"Niet gedeeld met gebruikers of groepen","No description":"Geen beschrijving","Last updated {{time}}":"Laatst bijgewerkt {{time}}","Created {{time}} by {{author}}":"Gemaakt {{time}} door {{author}}","Created {{time}}":"Gemaakt {{time}}","Viewed {{count}} times":"1 keer bekeken","Viewed {{count}} times_plural":"{{count}} keer bekeken",Notifications:Yge,"You're subscribed and getting updates about new interpretations.":"Je bent geabonneerd en krijgt updates over nieuwe interpretaties.",Unsubscribe:Vge,"Subscribe to get updates about new interpretations.":"Abonneer u om updates over nieuwe interpretaties te ontvangen.",Subscribe:Wge,"About this map":"Over deze kaart","About this line list":"Over deze lijnlijst","About this visualization":"Over deze visualisatie","This app could not retrieve required data.":"Deze app kan de vereiste gegevens niet ophalen.","Network error":"Netwerkfout","Data / Edit calculation":"Gegevens / Berekening bewerken","Data / New calculation":"Gegevens / Nieuwe berekening","Remove item":"Verwijder voorwerp","Check formula":"Formule controleren","Calculation name":"Berekening naam","Shown in table headers and chart axes/legends":"Weergegeven in tabelkoppen en diagramassen/legenda's","Delete calculation":"Berekening verwijderen",Cancel:qge,"The calculation can only be saved with a valid formula":"De berekening kan alleen worden opgeslagen met een geldige formule","Add a name to save this calculation":"Voeg een naam toe om deze berekening op te slaan","Save calculation":"Berekening opslaan","Are you sure you want to delete this calculation? It may be used by other visualizations.":"Weet u zeker dat u deze berekening wilt verwijderen? Het kan worden gebruikt door andere visualisaties.","Yes, delete":"Ja, verwijderen","Totals only":"Alleen totalen","Details only":"Alleen details",Loading:Hge,"Data elements":"Gegevenselementen","Search by data element name":"Zoeken op naam van gegevenselement",'No data elements found for "{{- searchTerm}}"':'Geen gegevenselementen gevonden voor "{{- searchTerm}}"',"No data elements found":"Geen gegevenselementen gevonden","Drag items here, or double click in the list, to start building a calculation formula":"Sleep items hierheen, of dubbelklik in de lijst, om te beginnen met het bouwen van een rekenformule","Math operators":"Wiskundige operatoren","Data Type":"Data type","All types":"Alle typen",Disaggregation:Xge,"No data":"Geen gegevens","Search by data item name":"Zoeken op naam van gegevensitem","No items selected":"Geen items geselecteerd","Selected Items":"Geselecteerde voorwerpen","No indicators found":"Geen indicatoren gevonden","No data sets found":"Geen datasets gevonden","No event data items found":"Geen item met gebeurtenisgegevens gevonden","No program indicators found":"Geen programma-indicatoren gevonden",'No indicators found for "{{- searchTerm}}"':'Geen indicatoren gevonden voor "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'Geen datasets gevonden voor "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'Geen gebeurtenisgegevensitems gevonden voor "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'Geen programma-indicatoren gevonden voor "{{- searchTerm}}"','Nothing found for "{{- searchTerm}}"':'Niets gevonden voor "{{- searchTerm}}"',Calculation:Zge,"Metric type":"Metrische soort","All metrics":"Alle statistieken","Move to {{axisName}}":"Ga naar {{axisName}}","Add to {{axisName}}":"Voeg toe aan {{axisName}}","Not available for {{visualizationType}}":"Niet beschikbaar voor {{visualizationType}}","Remove Assigned Categories":"Verwijder toegewezen categorieën","Add Assigned Categories":"Voeg Toegewezen Categorieën toe",Remove:Kge,"Filter dimensions":"Filter dimensies","Main dimensions":"Hoofddimensies","Your dimensions":"Uw dimensies","Dimension recommended with selected data":"Afmeting aanbevolen bij geselecteerde gegevens","All items":"Alle items","Automatically include all items":"Voeg automatisch alle items toe","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Selecteer alle {{- dimensionTitle}} items. Met deze optie worden nieuwe items die in de toekomst worden toegevoegd automatisch opgenomen.","Manually select items...":"Items handmatig selecteren...","Nothing found in {{- dimensionTitle}}":"Niets gevonden in {{- dimensionTitle}}",Search:Qge,"Nothing found for {{- searchTerm}}":"Niets gevonden voor {{- searchTerm}}","Delete {{fileType}}":"Verwijder {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"Deze {{fileType}} en gerelateerde interpretaties worden verwijderd. Doorgaan?",Delete:Jge,File:eye,New:tye,"Open…":"Open…",Save:nye,"Save…":"Redden…","Save as…":"Opslaan als…","Rename…":"Hernoemen...","Translate…":"Vertalen…","Share…":"Deel…","Get link…":"Krijg link…","Open in this app":"Openen in deze app",Close:iye,"Rename {{fileType}}":"Hernoem {{fileType}}",Name:rye,Description:aye,Rename:sye,"{{- objectName}} (copy)":"{{- objectName}} (kopiëren)","Save {{fileType}} as":"Bewaar {{fileType}} als","event report":"evenement verslag","line list":"lijn lijst",map:oye,visualization:lye,Edit:cye,"Write a reply":"Schrijf een reactie","Post reply":"Reageer","Delete failed":"Verwijderen mislukt","Could not update comment":"Reactie kan niet worden bijgewerkt","Enter comment text":"Voer commentaartekst in",Update:uye,"Viewing interpretation: {{- visualisationName}}":"Interpretatie bekijken: {{- visualisationName}}","Could not load interpretation":"Kan interpretatie niet laden","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"De interpretatie kon niet worden weergegeven. Probeer het opnieuw of neem contact op met uw systeembeheerder.","Hide interpretation":"Interpretatie verbergen","Write an interpretation":"Schrijf een interpretatie","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"Interpretatie posten",Interpretations:dye,Reply:hye,"{{count}} replies":"{{count}} antwoord","{{count}} replies_plural":"{{count}} antwoorden","View replies":"Antwoorden bekijken",Unlike:pye,Like:mye,Share:fye,"See interpretation":"Zie interpretatie","Manage sharing":"Beheer delen","Could not update interpretation":"Kan interpretatie niet updaten","Enter interpretation text":"Voer interpretatietekst in","Bold text":"Vetgedrukte tekst","Italic text":"Cursieve tekst","Link to a URL":"Link naar een URL","Mention a user":"Noem een gebruiker","Add emoji":"Emoji toevoegen",Preview:gye,"Back to write mode":"Terug naar schrijfmodus","Too many results. Try refining the search.":"Te veel resultaten. Probeer de zoekopdracht te verfijnen.","Search for a user":"Zoek een gebruiker",'Searching for "{{- searchText}}"':'Zoeken naar "{{- searchText}}"',"No results found":"Geen resultaten gevonden","Not available offline":"Niet beschikbaar offline","Created by":"Gecreëerd door",Anyone:yye,"Only you":"Alleen jij",Others:vye,"Not supported by this app yet":"Nog niet ondersteund door deze app","Filter by name":"Filteren op naam",Created:xye,"Last updated":"Laatst bijgewerkt",Type:bye,"Clear filters":"Wis filters","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} van {{totalNumberOfItems}}",Open:_ye,"Couldn't load items":"Kan items niet laden","There was a problem loading items. Try again or contact your system administrator.":"Er is een probleem opgetreden bij het laden van items. Probeer het opnieuw of neem contact op met uw systeembeheerder.","No items found. Create a new to get started.":"Geen items gevonden. Maak een nieuwe aan om aan de slag te gaan.","No items found. Try adjusting your search or filter options to find what you're looking for.":"Geen items gevonden. Probeer uw zoek- of filteropties aan te passen om te vinden wat u zoekt.","Create new":"Maak nieuw","Open a visualization":"Open een visualisatie","Loading visualizations":"Visualisaties laden","Couldn't load visualizations":"Kan visualisaties niet laden","There was a problem loading visualizations. Try again or contact your system administrator.":"Er is een probleem opgetreden bij het laden van visualisaties. Probeer het opnieuw of neem contact op met uw systeembeheerder.","No visualizations found. Click New visualization to get started.":"Geen visualisaties gevonden. Klik op Nieuwe visualisatie om aan de slag te gaan.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"Geen visualisaties gevonden. Probeer uw zoek- of filteropties aan te passen om te vinden wat u zoekt.","New visualization":"Nieuwe visualisatie","Open a map":"Open een kaart","Loading maps":"Kaarten laden","Couldn't load maps":"Kan kaarten niet laden","There was a problem loading maps. Try again or contact your system administrator.":"Er is een probleem opgetreden bij het laden van kaarten. Probeer het opnieuw of neem contact op met uw systeembeheerder.","No maps found. Click New map to get started.":"Geen kaarten gevonden. Klik op Nieuwe kaart om aan de slag te gaan.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"Geen kaarten gevonden. Probeer uw zoek- of filteropties aan te passen om te vinden wat u zoekt.","New map":"Nieuwe kaart","Open a line list":"Open een regellijst","Loading line lists":"Regellijsten laden","Couldn't load line lists":"Kan regellijsten niet laden","There was a problem loading line lists. Try again or contact your system administrator.":"Er is een probleem opgetreden bij het laden van regellijsten. Probeer het opnieuw of neem contact op met uw systeembeheerder.","No line lists found. Click New line list to get started.":"Geen regellijsten gevonden. Klik op Nieuwe regellijst om aan de slag te gaan.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"Geen regellijsten gevonden. Probeer uw zoek- of filteropties aan te passen om te vinden wat u zoekt.","New line list":"Nieuwe lijnlijst",Options:wye,Hide:Tye,"{{count}} org units":"{{count}} organisatie-eenheid","{{count}} org units_plural":"{{count}} organisatie-eenheden","{{count}} levels":"{{count}} niveau","{{count}} levels_plural":"{{count}} niveaus","{{count}} groups":"{{count}} groep","{{count}} groups_plural":"{{count}} groepen","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Geselecteerd: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Niets geselecteerd","User organisation unit":"Gebruikersorganisatie-eenheid","User sub-units":"Subeenheden van gebruikers","User sub-x2-units":"Gebruiker sub-x2-eenheden","Select a level":"Selecteer een niveau","Select a group":"Selecteer een groep","Deselect all":"Deselecteer alles","Period type":"Soort periode",Year:Sye,"Select year":"Selecteer jaar",Period:Cye,"Relative periods":"Relatieve perioden","Fixed periods":"Vaste periodes","Selected Periods":"geselecteerde periodes","No periods selected":"Geen periodes geselecteerd",Daily:Eye,Weekly:kye,"Weekly (Start Wednesday)":"Wekelijks (Start op woensdag)","Weekly (Start Thursday)":"Wekelijks (Start op donderdag)","Weekly (Start Saturday)":"Wekelijks (Start op zaterdag)","Weekly (Start Sunday)":"Wekelijks (Start op zondag)","Bi-weekly":"Tweewekelijks",Monthly:Nye,"Bi-monthly":"Tweemaandelijks",Quarterly:Lye,"Six-monthly":"Zesmaandelijks","Six-monthly April":"Zesmaandelijks april",Yearly:Iye,"Financial year (Start November)":"Financieel jaar (Start november)","Financial year (Start October)":"Financieel jaar (Start oktober)","Financial year (Start July)":"Financieel jaar (Start juli)","Financial year (Start April)":"Financieel jaar (Start april)",Today:Aye,Yesterday:Pye,"Last 3 days":"Laatste 3 dagen","Last 7 days":"Laatste 7 dagen","Last 14 days":"Laatste 14 dagen","Last 30 days":"Laatste 30 dagen","Last 60 days":"Laatste 60 dagen","Last 90 days":"Laatste 90 dagen","Last 180 days":"Laatste 180 dagen","This week":"Deze week","Last week":"Laatste week","Last 4 weeks":"Laatste 4 weken","Last 12 weeks":"Laatste 12 weken","Last 52 weeks":"Laatste 52 weken","Weeks this year":"Weken dit jaar","This bi-week":"Deze tweewekelijkse","Last bi-week":"Afgelopen twee weken","Last 4 bi-weeks":"Laatste 4 twee weken","This month":"Deze maand","Last month":"Laatste maand","Last 3 months":"Laatste 3 maanden","Last 6 months":"Laatste 6 maanden","Last 12 months":"Laatste 12 maanden","Months this year":"Maanden dit jaar","This bi-month":"Deze tweemaandelijkse","Last bi-month":"Laatste twee maanden","Last 6 bi-months":"Laatste 6 bi-maanden","Bi-months this year":"Tweemaandelijks dit jaar","This quarter":"Dit kwartier","Last quarter":"Laatste kwartier","Last 4 quarters":"Laatste 4 kwartieren","Quarters this year":"Kwartieren dit jaar","This six-month":"Dit halfjaar","Last six-month":"Laatste halfjaar","Last 2 six-month":"Laatste 2 zes maanden","This financial year":"Dit financieel jaar","Last financial year":"Laatste financieel jaar","Last 5 financial years":"Laatste 5 financiële jaren","This year":"Dit jaar","Last year":"Laatste jaar","Last 5 years":"Laatste 5 jaren","Last 10 years":"Laatste 10 jaar",Days:Dye,Weeks:Mye,"Bi-weeks":"Twee weken",Months:Oye,"Bi-months":"Twee maanden",Quarters:Rye,"Six-months":"Zes maanden","Financial Years":"Boekjaren",Years:$ye,"Interpretations and details":"Interpretaties en details","Translating to":"Vertalen naar","Choose a locale":"Kies een locatie","Base locale reference":"Base locale-referentie","Choose a locale to translate from the menu above":"Kies een landinstelling om te vertalen in het bovenstaande menu","Translate: {{objectName}}":"Vertalen: {{objectName}}","Save translations":"Sla vertalingen op","Cannot save while offline":"Kan offline niet opslaan","Could not load translations":"Kan vertalingen niet laden",Retry:zye,Series:Fye,Category:jye,Filter:Bye,Columns:Uye,Rows:Gye,Points:Yye,"Reporting rate":"Rapportagepercentage","Reporting rate on time":"Rapportagepercentage op tijd","Actual reports":"Actuele rapporten","Actual reports on time":"Actuele rapporten op tijd","Expected reports":"Verwachte rapporten",Program:Vye,"Select a program":"Selecteer een programma",Indicators:Wye,"Indicator group":"Indicatorgroep","All groups":"Alle groepen",Indicator:qye,"No indicator groups found":"Geen indicatorgroepen gevonden","Loading indicator groups":"Indicatorgroepen laden","Data element group":"Gegevenselementengroep","Data element":"informatie onderdeel","No data element groups found":"Geen gegevenselementgroepen gevonden","Loading data element groups":"Data-elementgroepen laden","Data sets":"Gegevensreeksen","Data set":"Gegevensreeks","All data sets":"Alle datasets","Loading data sets":"Datasets laden","Event data items":"Gebeurtenisgegevensitems","All programs":"Alle programma's","Event data item":"Gebeurtenisgegevensitem","No programs found":"Geen programma's gevonden","Loading programs":"Programma's laden","Program indicators":"Programmaindicators","Program indicator":"Programmaindicator",Calculations:Hye,Number:"Nummer","Formula is empty. Add items to the formula from the lists on the left.":"Formule is leeg. Voeg items toe aan de formule uit de lijsten aan de linkerkant.","Consecutive math operators":"Opeenvolgende wiskundige operatoren","Consecutive data elements":"Opeenvolgende gegevenselementen","Starts or ends with a math operator":"Begint of eindigt met een wiskundige operator","Empty parentheses":"Lege haakjes","Missing right parenthesis )":"Rechter haakje ontbreekt)","Missing left parenthesis (":"Linker haakje ontbreekt (","Extra Small":"Extra klein",Small:Xye,Regular:Zye,Large:Kye,"Extra Large":"Extra groot",Left:Qye,Center:Jye,Right:eve,Start:tve,Middle:nve,End:ive,Top:rve,Bottom:ave,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} en {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} niveaus","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} groepen","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} niveaus in {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} groepen in {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% van totale x waarden","{{percentage}}% of total y values":"{{percentage}}% van totale y-waarden","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Aangepaste Z-score laag","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Aangepaste Z-score hoog","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Z-score laag","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-score hoog",Data:sve,"Organisation unit":"Organisatieëenheid","Assigned Categories":"Toegewezen categorieën","Pivot table":"Draaitafel",Area:ove,"Stacked area":"Gestapeld gebied",Bar:lve,"Stacked bar":"Gestapelde staaf",Column:cve,"Year over year (column)":"Jaar over jaar (kolom)","Stacked column":"Gestapelde kolom",Gauge:uve,Line:dve,"Line list":"Lijn lijst","Year over year (line)":"Jaar over jaar (lijn)",Pie:hve,Radar:pve,Scatter:mve,"Single value":"Enkele waarde","All charts":"Alle grafieken","{{seriesName}} (trend)":"{{seriesName}} (trend)",Trend:fve,"No legend for this series":"Geen legende voor deze serie","and {{amount}} more...":"en nog {{amount}} meer...","Linear Regression":"Lineaire regressie",Target:gve,Base:yve,"Axis {{axisId}}":"As {{axisId}}","{{count}} items":"{{count}} artikel","{{count}} items_plural":"{{count}} artikelen","Reset zoom":"Zoom resetten"},xve="",bve="",_ve="",wve="",Tve="",Sve="",Cve="",Eve="",kve="",Nve="",Lve="",Ive="",Ave="",Pve="",Dve="",Mve="",Ove="",Rve="",$ve="",zve="",Fve="",jve="",Bve="",Uve="",Gve="",Yve="",Vve="",Wve="",qve="",Hve="",Xve="",Zve="",Kve="",Qve="",Jve="",exe="",txe="",nxe="",ixe="",rxe="",axe="",sxe="",oxe="",lxe="",cxe="",uxe="",dxe="",hxe="",pxe="ସାପ୍ତାହିକ",mxe="ମାସିକ",fxe="",gxe="ବାର୍ଷିକ",yxe="ଆଜି",vxe="ଗତକାଲି",xxe="",bxe="",_xe="",wxe="",Txe="",Sxe="",Cxe="",Exe="",kxe="",Nxe="",Lxe="",Ixe="",Axe="",Pxe="",Dxe="",Mxe="",Oxe="",Rxe="",$xe="",zxe="",Fxe="",jxe="",Bxe="",Uxe="",Gxe="",Yxe="",Vxe="",Wxe="",qxe="",Hxe="",Xxe="",Zxe="",Kxe="",Qxe="",Jxe="",ebe="",tbe="",nbe="",ibe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:xve,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:bve,"Subscribe to get updates about new interpretations.":"",Subscribe:_ve,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"",Disaggregation:wve,"No data":"",Loading:Tve,"Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data elements found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:Sve,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:Cve,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Cancel:Eve,Delete:kve,File:Nve,New:Lve,"Open…":"",Save:Ive,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:Ave,"Rename {{fileType}}":"",Name:Pve,Description:Dve,Rename:Mve,"Save {{fileType}} as":"","event report":"","line list":"",map:Ove,visualization:Rve,Edit:$ve,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:zve,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:Fve,Unlike:jve,Like:Bve,Reply:Uve,Share:Gve,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:Yve,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Created by":"",Anyone:Vve,"Only you":"",Others:Wve,"Not supported by this app yet":"","Filter by name":"",Created:qve,"Last updated":"",Type:Hve,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:Xve,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:Zve,Hide:Kve,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:Qve,"Select year":"",Period:Jve,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",January:exe,February:txe,March:nxe,April:ixe,May:rxe,June:axe,July:sxe,August:oxe,September:lxe,October:cxe,November:uxe,December:dxe,"Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"",Daily:hxe,Weekly:pxe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:mxe,"Bi-monthly":"",Quarterly:fxe,"Six-monthly":"","Six-monthly April":"",Yearly:gxe,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:yxe,Yesterday:vxe,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"ଚଳିତ ସପ୍ତାହ","Last week":"ଗତ ସପ୍ତାହ","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"ଚଳିତ ମାସ","Last month":"ଗତ ମାସ","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:xxe,Weeks:bxe,"Bi-weeks":"",Months:_xe,"Bi-months":"",Quarters:wxe,"Six-months":"","Financial Years":"",Years:Txe,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"",Retry:Sxe,Series:Cxe,Category:Exe,Filter:kxe,Columns:Nxe,Rows:Lxe,Points:Ixe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:Axe,"Select a program":"",Indicators:Pxe,"Indicator group":"","All groups":"",Indicator:Dxe,"No indicator groups found":"","Loading indicator groups":"","Data elements":"","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"",Small:Mxe,Regular:Oxe,Large:Rxe,"Extra Large":"",Left:$xe,Center:zxe,Right:Fxe,Start:jxe,Middle:Bxe,End:Uxe,Top:Gxe,Bottom:Yxe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:Vxe,"Organisation unit":"","Assigned Categories":"","Pivot table":"",Area:Wxe,"Stacked area":"",Bar:qxe,"Stacked bar":"",Column:Hxe,"Year over year (column)":"","Stacked column":"",Gauge:Xxe,Line:Zxe,"Line list":"","Year over year (line)":"",Pie:Kxe,Radar:Qxe,Scatter:Jxe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:ebe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:tbe,Base:nbe,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},rbe="",abe="",sbe="",obe="انصراف",lbe="در حال بار کردن",cbe="تکثیر",ube="",dbe="حذف",hbe="جستجو",pbe="حذف",mbe="فایل",fbe="جدید",gbe="ذخیره",ybe="بستن",vbe="نام",xbe="شرح",bbe="تغییر نام",_be="",wbe="",Tbe="تجدید",Sbe="تجدید",Cbe="تفسیر ها",Ebe="غیرموافق",kbe="موافق",Nbe="پاسخ",Lbe="اشتراک",Ibe="پیش‌نمایش",Abe="",Pbe="دیگران",Dbe="ایجاد شده",Mbe="نمونه/ډول",Obe="باز کردن",Rbe="گزینه‌ها",$be="مخفی کردن",zbe="سال",Fbe="دوره",jbe="روزنه",Bbe="هفته وار",Ube="ماهانه",Gbe="سه ماهه",Ybe="سالانه",Vbe="امروز",Wbe="دیروز",qbe="روزها",Hbe="هفته ها",Xbe="ماه ها",Zbe="سه ماهه",Kbe="سالانه",Qbe="",Jbe="سلسله (لړۍ)",e0e="دسته بندی",t0e="فلتر",n0e="",i0e="",r0e="",a0e="برنامه",s0e="شاخص ها",o0e="شاخص",l0e="",c0e="کوچک",u0e="منظم",d0e="بزرگ",h0e="چپ",p0e="",m0e="راست",f0e="شروع",g0e="",y0e="",v0e="بالا",x0e="پایین",b0e="دیتا",_0e="",w0e="",T0e="ستون",S0e="",C0e="",E0e="",k0e="",N0e="",L0e="محاسبه",I0e="موخه",A0e="اساس",P0e={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"بدون شرح","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"",Notifications:rbe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:abe,"Subscribe to get updates about new interpretations.":"",Subscribe:sbe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:obe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:lbe,"Data elements":"دیتا ایلمنت ها","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:cbe,"No data":"معلوماتی وجود ندارد","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:ube,"Metric type":"","All metrics":"همه متریکس ها","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:dbe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:hbe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:pbe,File:mbe,New:fbe,"Open…":"",Save:gbe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:ybe,"Rename {{fileType}}":"",Name:vbe,Description:xbe,Rename:bbe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:_be,visualization:wbe,Edit:Tbe,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:Sbe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:Cbe,Unlike:Ebe,Like:kbe,Reply:Nbe,Share:Lbe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:Ibe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"هیج نتیجه ی یافت نشد","Not available offline":"","Created by":"ایجاد شده توسط",Anyone:Abe,"Only you":"",Others:Pbe,"Not supported by this app yet":"","Filter by name":"فلتر با اسم",Created:Dbe,"Last updated":"تجدید آخیر",Type:Mbe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:Obe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:Rbe,Hide:$be,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} groups_0":"","{{count}} groups_1":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"د کاروونکي سازمان واحدونه","User sub-units":"زیر-واحد ها استفاده کننده گان","User sub-x2-units":"زیر- x2-واحد های استفاده کننده گان","Select a level":"","Select a group":"","Deselect all":"همه از حالت انتخاب خارج","Period type":"د مودې ډول",Year:zbe,"Select year":"غوره کال",Period:Fbe,"Relative periods":"دوره های ارتباطی","Fixed periods":"ثابتې مودې","Selected Periods":"","No periods selected":"هېڅ مودې نه دي غوره شوې",Daily:jbe,Weekly:Bbe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:Ube,"Bi-monthly":"دوبار در- ماه",Quarterly:Gbe,"Six-monthly":"شش-ماهه","Six-monthly April":"شش-ماهه اپریل",Yearly:Ybe,"Financial year (Start November)":"","Financial year (Start October)":"اکتوبر مالی","Financial year (Start July)":"مالی جولای","Financial year (Start April)":"مالی اپریل",Today:Vbe,Yesterday:Wbe,"Last 3 days":"3 روز گذشته","Last 7 days":"7 روز گذشته","Last 14 days":"14 روز گذشته","Last 30 days":"30 روز گذشته","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"هفته جاری","Last week":"هفته گذشته","Last 4 weeks":"4 هفته گذشته","Last 12 weeks":"12 هفته گذشته","Last 52 weeks":"52 هفته گذشته","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"ماه جاری","Last month":"ماه گذشته","Last 3 months":"3 ماهه گذشته","Last 6 months":"6 ماه گذشته","Last 12 months":"12 ماهه گذشته","Months this year":"ماه های سال هذا","This bi-month":"دوبار در ماه جاری","Last bi-month":"دوبار در ماه گذشته","Last 6 bi-months":"دروبار در شش-ماه گذشته","Bi-months this year":"","This quarter":"سه ماهه جاری","Last quarter":"سه ماهه آخیر","Last 4 quarters":"4 سه ماهه آخیر","Quarters this year":"ربع های سال هذا","This six-month":"شش-ماه جاری","Last six-month":"شش-ماهه گذشته","Last 2 six-month":"","This financial year":"سال مالی جاری","Last financial year":"سال گذشته مالی","Last 5 financial years":"5 سال گذشته مالی","This year":"سال جاری","Last year":"سال گذشته","Last 5 years":"5 سال گذشته","Last 10 years":"10 سال آخیر",Days:qbe,Weeks:Hbe,"Bi-weeks":"",Months:Xbe,"Bi-months":"دوبار در ماه",Quarters:Zbe,"Six-months":"شش-ماهه","Financial Years":"",Years:Kbe,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:Qbe,Series:Jbe,Category:e0e,Filter:t0e,Columns:n0e,Rows:i0e,Points:r0e,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:a0e,"Select a program":"",Indicators:s0e,"Indicator group":"د شاخص ګروپ","All groups":"",Indicator:o0e,"No indicator groups found":"","Loading indicator groups":"","Data element group":"د مالوماتو (ډاټا) د برخې ګروپ","Data element":"عناصر معلومات","No data element groups found":"","Loading data element groups":"","Data sets":"دیتا سیت ها","Data set":"د مالوماتو (ډاټا) ټولګه","All data sets":"","Loading data sets":"","Event data items":"د پېښې د مالوماتو (ډاټا) موضوعات","All programs":"","Event data item":"د پېښې طبقه","No programs found":"","Loading programs":"","Program indicators":"د پروګرام شاخصونه","Program indicator":"ایجاد پروگرام شاخص",Calculations:l0e,Number:"نمبر","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:c0e,Regular:u0e,Large:d0e,"Extra Large":"",Left:h0e,Center:p0e,Right:m0e,Start:f0e,Middle:g0e,End:y0e,Top:v0e,Bottom:x0e,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:b0e,"Organisation unit":"واحد سازمان","Assigned Categories":"","Pivot table":"",Area:_0e,"Stacked area":"",Bar:w0e,"Stacked bar":"",Column:T0e,"Year over year (column)":"","Stacked column":"",Gauge:S0e,Line:C0e,"Line list":"","Year over year (line)":"",Pie:E0e,Radar:k0e,Scatter:N0e,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:L0e,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:I0e,Base:A0e,"Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","Reset zoom":""},D0e="",M0e="",O0e="",R0e="رد یې کړئ [ ژباړه ـ ردول ]",$0e="د پورته کېدو یا لوډینګ په حال کې",z0e="",F0e="",j0e="لرې کول",B0e="جستجو",U0e="خذف یې کړئ",G0e="فایل",Y0e="نوی",V0e="ثبت یې کړئ [ ژباړه - ثبت کړئ ]",W0e="بند یې کړئ",q0e="نوم",H0e="تشریح [ ژباړه ـ نښه ـ تشریح ]",X0e="بیا نومول",Z0e="",K0e="",Q0e="درست یې کړئ",J0e="تجدید یا نوي یې کړئ",e_e="شفاهي ژباړې",t_e="نه خوښول.",n_e="د خوښې وړ.",i_e="ځواب ورکړئ",r_e="شریک یې کړئ",a_e="",s_e="",o_e="",l_e="ایجاد شوی دی",c_e="نمونه/ډول",u_e="خلاص یې کړئ",d_e="ګزینه",h_e="پټ یې کړئ",p_e="کال",m_e="معیاد",f_e="ورځني [ د مودې ډول ]",g_e="اوونیز",y_e="میاشتنۍ",v_e="درې میاشتنۍ",x_e="کلنۍ",b_e="نن ورځ",__e="پرونۍ ورځ",w_e="ورځې",T_e="اونۍ",S_e="میاشت",C_e="ربعې",E_e="کلونه",k_e="",N_e="سلسله (لړۍ)",L_e="کټګوري",I_e="فیلټر",A_e="",P_e="",D_e="",M_e="پروګرام",O_e="شاخصونه",R_e="شاخص",$_e="",z_e="کوچنۍ",F_e="",j_e="لوی",B_e="",U_e="",G_e="",Y_e="",V_e="",W_e="",q_e="پورتنۍ برخه",H_e="لاندینۍ برخه",X_e="مالومات (ډاټا)",Z_e="",K_e="",Q_e="ستون",J_e="",ewe="",twe="",nwe="",iwe="",rwe="محاسبه",awe="هدف",swe="اساس",owe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"هېڅ ډول تشریح نه لري","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:D0e,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:M0e,"Subscribe to get updates about new interpretations.":"",Subscribe:O0e,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:R0e,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:$0e,"Data elements":"د مالوماتو (ډاټا) برخې","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:z0e,"No data":"د مالوماتو (ډاټا) نشتوالۍ","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:F0e,"Metric type":"","All metrics":"ټول متریک","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:j0e,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:B0e,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:U0e,File:G0e,New:Y0e,"Open…":"",Save:V0e,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:W0e,"Rename {{fileType}}":"",Name:q0e,Description:H0e,Rename:X0e,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:Z0e,visualization:K0e,Edit:Q0e,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:J0e,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:e_e,Unlike:t_e,Like:n_e,Reply:i_e,Share:r_e,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:a_e,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"هېڅ پایله ترلاسه نه شوه","Not available offline":"","Created by":"لخوا ایجاد یا رامنځ ته شوی",Anyone:s_e,"Only you":"",Others:o_e,"Not supported by this app yet":"","Filter by name":"د نوم له مخې یې فیلټر کړئ",Created:l_e,"Last updated":"د وروستي ځل لپاره تجدید شوې",Type:c_e,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:u_e,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:d_e,Hide:h_e,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"کارکوڼکی واحدو سازمان","User sub-units":"واحد های فرعی استفاده کننده","User sub-x2-units":"واحد های نیم فرعی استفاده کننده","Select a level":"","Select a group":"","Deselect all":"","Period type":"د مودې ډول",Year:p_e,"Select year":"کال ټاکل",Period:m_e,"Relative periods":"اړونده مودط","Fixed periods":"ثابتې مودې","Selected Periods":"","No periods selected":"هېڅ مودې نه دي غوره شوې",Daily:f_e,Weekly:g_e,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:y_e,"Bi-monthly":"دوه میاشتنۍ",Quarterly:v_e,"Six-monthly":"شپږ- میاشتنۍ","Six-monthly April":"شپږ - د اپرېل میاشتنۍ",Yearly:x_e,"Financial year (Start November)":"","Financial year (Start October)":"مالی کال- اکتوبر","Financial year (Start July)":"مالی کال- جولای","Financial year (Start April)":"مالی کال- آپریل",Today:b_e,Yesterday:__e,"Last 3 days":"تېرې درې ورځې","Last 7 days":"تېرې اوه ورځې","Last 14 days":"تېرې څورلس ورځې","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"هفته هذا","Last week":"تېره اونۍ","Last 4 weeks":"تېرې 4 اونۍ","Last 12 weeks":"تېرو 12 اونۍ","Last 52 weeks":"تېرې دوه پنځوس اونۍ","Weeks this year":"په روان کال کې اونۍ","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"ماه هذا","Last month":"تېره میاشت","Last 3 months":"تېرې 3 میاشتې","Last 6 months":"تېرې شپږ میاشتې","Last 12 months":"تېرې 12 میاشتې","Months this year":"د روان کال میاشتې","This bi-month":"این دوماهه","Last bi-month":"تېرې دوه میاشتې","Last 6 bi-months":"په تېرو شپږو میاشتو کې ډوه ځلې","Bi-months this year":"په روان کال کې دوه میاشتې","This quarter":"ربع هذا","Last quarter":"تېره ربعه","Last 4 quarters":"تېرې 4ربعې","Quarters this year":"د سږ کال ربعې","This six-month":"شش ماه هذا","Last six-month":"تېرې شپږ میاشتې [ تېرې ـ شپږ ـ میاشتې ]","Last 2 six-month":"","This financial year":"سږنۍ مالي کال","Last financial year":"تېر مالي کال","Last 5 financial years":"تېر 5 مالي کلونه","This year":"روان کال","Last year":"تېر کال","Last 5 years":"تېر 5 کلونه","Last 10 years":"لس کلونه",Days:w_e,Weeks:T_e,"Bi-weeks":"",Months:S_e,"Bi-months":"دوه میاشتنۍ",Quarters:C_e,"Six-months":"شپږ میاشتې","Financial Years":"",Years:E_e,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:k_e,Series:N_e,Category:L_e,Filter:I_e,Columns:A_e,Rows:P_e,Points:D_e,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:M_e,"Select a program":"",Indicators:O_e,"Indicator group":"د شاخص ګروپ","All groups":"",Indicator:R_e,"No indicator groups found":"","Loading indicator groups":"","Data element group":"د مالوماتو (ډاټا) د برخې ګروپ","Data element":"د مالوماتو (ډاټا) برخه","No data element groups found":"","Loading data element groups":"","Data sets":"د مالوماتو یا ډاټا ټولګې","Data set":"د مالوماتو (ډاټا) ټولګه","All data sets":"","Loading data sets":"","Event data items":"د پېښې د ډاټا یا مالوماتو محتویات","All programs":"","Event data item":"لایه رویداد","No programs found":"","Loading programs":"","Program indicators":"د پروګرام شاخص","Program indicator":"",Calculations:$_e,Number:"عدد [ بشپړ عدد ]","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:z_e,Regular:F_e,Large:j_e,"Extra Large":"",Left:B_e,Center:U_e,Right:G_e,Start:Y_e,Middle:V_e,End:W_e,Top:q_e,Bottom:H_e,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:X_e,"Organisation unit":"د سازمان واحد","Assigned Categories":"","Pivot table":"",Area:Z_e,"Stacked area":"",Bar:K_e,"Stacked bar":"",Column:Q_e,"Year over year (column)":"","Stacked column":"",Gauge:J_e,Line:ewe,"Line list":"","Year over year (line)":"",Pie:twe,Radar:nwe,Scatter:iwe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:rwe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:awe,Base:swe,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},lwe="Notificação",cwe=" Cancelar a subscrição",uwe="Subcreva",dwe="Cancelar",hwe="Carregando",pwe="Desagregação",mwe=" Cálculo",fwe="Remover",gwe="Pesquisar",ywe="Eliminar",vwe="Arquivo",xwe="Novo",bwe="Salvar",_we="Fechar",wwe="Nome",Twe="Descrição",Swe="Renomear",Cwe="mapa",Ewe="visualização",kwe="Editar",Nwe="Actualizar",Lwe="Interpretações",Iwe="Responder",Awe="Diferente",Pwe="como",Dwe=" Partilhar",Mwe="Qualquer um",Owe="Outros",Rwe="Criado",$we="Tipo",zwe="Aberto",Fwe="Opções",jwe="Ocultar",Bwe="Ano",Uwe="Período",Gwe="Diário",Ywe="Semanal",Vwe="Mensal",Wwe="Trimestral",qwe="Anualmente",Hwe="Hoje",Xwe="Ontém",Zwe="Dias",Kwe="Semanas",Qwe="Meses",Jwe="Trimestres",e1e="Anos",t1e="Pré-visualização",n1e="Repetir",i1e="Séries",r1e="Categoria",a1e="Filtro",s1e="Colunas",o1e="Linhas",l1e="Pontos",c1e="Programa",u1e="Indicadores",d1e="Indicador",h1e="Cálculos",p1e="Pequeno",m1e="Regular",f1e="Largo",g1e="Esquerda",y1e="Centro",v1e="Direita",x1e="Início",b1e="Meio",_1e="Fim",w1e="Topo",T1e="Fundo",S1e="Dados",C1e="Área",E1e="Barra",k1e="Coluna",N1e="Calibre",L1e="Linha",I1e="Pizza",A1e="Radar",P1e="Dispersão",D1e="Tendência",M1e="Meta",O1e="Base",R1e={"view only":" apenas para visualização","view and edit":"visualizar e editar","all users ({{accessLevel}})":"todos utilizadores ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}}({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":" Partilhado com{{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":" Não partilhado com quaisquer utilizadores ou grupos","No description":"Sem descrição","Last updated {{time}}":" Última actualização{{time}}","Created {{time}} by {{author}}":"Criado{{time}} por {{author}}","Created {{time}}":"Criado {{time}}","Viewed {{count}} times":"Visualizado 1 vez","Viewed {{count}} times_plural":"Visualizado {{count}} vezes",Notifications:lwe,"You're subscribed and getting updates about new interpretations.":" Está inscrito para receber actualizações sobre novas interpretações.",Unsubscribe:cwe,"Subscribe to get updates about new interpretations.":" Subscreva para receber actualizações sobre novas interpretações.",Subscribe:uwe,"About this map":" Sobre este mapa","About this line list":" Sobre esta lista de linhas","About this visualization":" Sobre esta visualização","About this event chart":"Sobre esta tabela de eventos","About this event report":"Sobre este relatório de evento","This app could not retrieve required data.":" Esta aplicação não conseguiu obter os dados necessários.","Network error":" Erro de rede","Data / Edit calculation":" Dados / Editar cálculo","Data / New calculation":" Dados / Novo cálculo","Remove item":" Remover item","Check formula":" Verificar a fórmula","Calculation name":"Designação do cálculo","Shown in table headers and chart axes/legends":" Apresentado em cabeçalhos de tabelas e eixos/legendas de gráficos","Delete calculation":"Eliminar cálculo",Cancel:dwe,"The calculation can only be saved with a valid formula":"O cálculo só pode ser guardado com uma fórmula válida","Add a name to save this calculation":" Adicionar um nome para guardar este cálculo","Save calculation":"Gravar cálculo","Are you sure you want to delete this calculation? It may be used by other visualizations.":"Tem a certeza de que pretende eliminar este cálculo? Ele pode ser usado por outras visualizações.","Yes, delete":"Sim, eliminar","Totals only":"Apenas os totais","Details only":"Apenas os detalhes",Loading:hwe,"Data elements":"Elementos de Dados","Search by data element name":" Pesquisa por nome de elemento de dados",'No data elements found for "{{- searchTerm}}"':` Não foram encontrados elementos de dados para "{{- searchTerm}}''`,"No data elements found":"Nenhum elemento de dados encontrado","Drag items here, or double click in the list, to start building a calculation formula":"Arraste os itens para aqui, ou faça duplo clique na lista, para começar a criar uma fórmula de cálculo","Math operators":" Operadores matemáticos","Data Type":"Tipo de dados","Only {{dataType}} can be used in {{visType}}":"Apenas {{dataType}} pode ser usado em{{visType}}","All types":"Todos os tipos",Disaggregation:pwe,"No data":"Não há dados","Search by data item name":" Pesquisa por nome de item de dados","No items selected":" Nenhum item seleccionado","Selected Items":" Itens seleccionados","No indicators found":"Nenhum indicador encontrado","No data sets found":"Nenhum conjunto de dados encontrado","No event data items found":" Nenhum dado de evento encontrado","No program indicators found":" Nenhum indicador de programa encontrado","No calculations found":"Nenhum cálculo encontrado",'No indicators found for "{{- searchTerm}}"':" Nenhum indicador foi encontrado para ''{{- searchTerm}}''",'No data sets found for "{{- searchTerm}}"':" Nenhum conjunto de dados encontrado para ''{{- searchTerm}}''",'No event data items found for "{{- searchTerm}}"':" Nenhum dado de evento encontrado para ''{{- searchTerm}}''",'No program indicators found for "{{- searchTerm}}"':"Nenhum indicador de programa encontrado para ''{{- searchTerm}}''",'No calculations found for "{{- searchTerm}}"':"Nenhum cálculo encontrado para ''{{- searchTerm}}''",'Nothing found for "{{- searchTerm}}"':" Nada encontrado para ''{{- searchTerm}}''",Calculation:mwe,"Metric type":" Tipo de métrica","All metrics":"Todas métricas","Move to {{axisName}}":"Mover para {{axisName}}","Add to {{axisName}}":"Adicionar à {{axisName}}","Not available for {{visualizationType}}":"Não disponível para {{visualizationType}}","Remove Assigned Categories":"Remover categorias atribuídas","Add Assigned Categories":"Adicionar categorias atribuídas",Remove:fwe,"Filter dimensions":"Dimensões do filtro","Main dimensions":"Dimensões principais","Your dimensions":"Suas dimensões","Dimension recommended with selected data":"Dimensão recomendada com dados selecionados","All items":"Todos Itens","Automatically include all items":" Incluir automaticamente todos os itens","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":" Seleccionar todos os itens {{- dimensionTitle}}. Com esta opção, os novos itens adicionados no futuro serão automaticamente incluídos.","Manually select items...":"Seleccionar manualmente os itens...","Nothing found in {{- dimensionTitle}}":" Nada encontrado em {{- dimensionTitle}}",Search:gwe,"Nothing found for {{- searchTerm}}":" Nada encontrado para {{- searchTerm}}","Delete {{fileType}}":" Eliminar  {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":" Este {{fileType}} e as interpretações relacionadas serão eliminados. Continuar?",Delete:ywe,File:vwe,New:xwe,"Open…":" Abrir...",Save:bwe,"Save…":"Gravar","Save as…":"Gravar como...","Rename…":"Renomear...","Translate…":"Traduzir...","Share…":"Partilhar...","Get link…":"Obter link...","Open in this app":"Abrir neste aplicativo",Close:_we,"Rename {{fileType}}":"Renomear {{fileType}}",Name:wwe,Description:Twe,Rename:Swe,"{{- objectName}} (copy)":"{{- objectName}}(cópia)","Save {{fileType}} as":"Gravar {{fileType}} como","event report":"relatório de evento","line list":"lista de linha",map:Cwe,visualization:Ewe,Edit:kwe,"Write a reply":"Escreva uma resposta","Post reply":"Publicar resposta","Delete failed":"Falha na eliminação","Could not update comment":" Não foi possível actualizar o comentário","Enter comment text":"Introduzir o texto do comentário",Update:Nwe,"Viewing interpretation: {{- visualisationName}}":"Ver interpretação: {{- visualisationName}}","Could not load interpretation":" Não foi possível carregar a interpretação","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"Não foi possível visualizar a interpretação. Tente novamente ou contacte o administrador do sistema.","Hide interpretation":" Ocultar interpretação","Write an interpretation":"Escreva uma interpretação","Other people viewing this interpretation in the future may see more data.":"Outras pessoas que vejam esta interpretação no futuro poderão ver mais dados.","Post interpretation":"Publicar interpretação",Interpretations:Lwe,Reply:Iwe,"{{count}} replies":"{{count}} resposta","{{count}} replies_plural":"{{count}} respostas","View replies":"Ver respostas",Unlike:Awe,Like:Pwe,"See interpretation":" Ver interpretação","Open in app":" Abrir na aplicação",Share:Dwe,"Manage sharing":"Gerir a partilha","Could not update interpretation":"Não foi possível actualizar a interpretação","Enter interpretation text":"Introduzir texto de interpretação","Not available offline":"Não disponível offline","Created by":"Criado por",Anyone:Mwe,"Only you":"Apenas tu",Others:Owe,"Not supported by this app yet":"Ainda não suportado por esta aplicação","Filter by name":"Filtrar por nome",Created:Rwe,"Last updated":"Última actualização",Type:$we,"Clear filters":"Limpar filtros","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} de {{totalNumberOfItems}}",Open:zwe,"Couldn't load items":"Não foi possível carregar itens","There was a problem loading items. Try again or contact your system administrator.":"Houve um problema ao carregar itens. Tente novamente ou contacte o administrador do sistema.","No items found. Create a new to get started.":"Nenhum item encontrado. Criar um novo para começar.","No items found. Try adjusting your search or filter options to find what you're looking for.":"Nenhum item encontrado. Tente ajustar as suas opções de pesquisa ou de filtro para encontrar o que procura.","Create new":"Crie um novo","Open a visualization":"Abrir uma visualização","Loading visualizations":"Carregar visualizações","Couldn't load visualizations":" Não foi possível carregar visualizações","There was a problem loading visualizations. Try again or contact your system administrator.":"Houve um problema ao carregar as visualizações. Tente novamente ou contacte o administrador do sistema.","No visualizations found. Click New visualization to get started.":"Não foram encontradas visualizações. Clique em Nova visualização para começar.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"Não foram encontradas visualizações. Tente ajustar as suas opções de pesquisa ou de filtro para encontrar o que procura.","New visualization":"Nova visualização","Open a map":"Abrir um mapa","Loading maps":"Carregar mapas","Couldn't load maps":"Não foi possível carregar mapas","There was a problem loading maps. Try again or contact your system administrator.":"Houve um problema ao carregar os mapas. Tente novamente ou contacte o administrador do sistema.","No maps found. Click New map to get started.":"Não foram encontrados mapas. Clique em Novo mapa para começar.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"Não foram encontrados mapas. Tente ajustar as suas opções de pesquisa ou de filtro para encontrar o que procura.","New map":"Novo mapa","Open a line list":"Abrir uma lista de linhas","Loading line lists":"Carregar listas de linhas","Couldn't load line lists":"Não foi possível carregar as listas de linhas","There was a problem loading line lists. Try again or contact your system administrator.":"Houve um problema ao carregar as listas de linhas. Tente novamente ou contacte o administrador do sistema.","No line lists found. Click New line list to get started.":"Não foram encontradas listas de linhas. Clique em Nova lista de linhas para começar.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"Não foram encontradas listas de linhas. Tente ajustar as suas opções de pesquisa ou de filtro para encontrar o que procura.","New line list":"Nova lista de linhas",Options:Fwe,Hide:jwe,"{{count}} org units":"{{count}} unidade orgânica","{{count}} org units_plural":"{{count}} unidades organizacionais","{{count}} levels":"{{count}} nível","{{count}} levels_plural":"{{count}} níveis","{{count}} groups":"{{count}} grupo","{{count}} groups_plural":"{{count}} grupos","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Seleccionado: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Nada seleccionado","User organisation unit":"Unidade organizacional do utilizador","User sub-units":"Sub-unidades do utilizador","User sub-x2-units":"Sub-unidades nível 2 do utilizador","Select a level":"Seleccione um nível","Select a group":"Seleccione um grupo","Deselect all":"Desmarcar todos","Period type":"Tipo de periodo",Year:Bwe,"Select year":"Seleccionar ano",Period:Uwe,"Selected Periods":"Períodos seleccionados","Relative periods":"Períodos relativos","Fixed periods":"Períodos fixos","No periods selected":"Não há períodos relativos seleccionados",Daily:Gwe,Weekly:Ywe,"Weekly (Start Wednesday)":"Semanalmente (início na Quarta-feira)","Weekly (Start Thursday)":" Semanal (início na Quinta-feira)","Weekly (Start Saturday)":" Semanal (início no Sábado)","Weekly (Start Sunday)":" Semanal (início no Domingo)","Bi-weekly":"Quinzenal",Monthly:Vwe,"Bi-monthly":"Bimestre",Quarterly:Wwe,"Six-monthly":"Semestral","Six-monthly April":"Semestral a partir de Abril",Yearly:qwe,"Financial year (Start November)":" Ano financeiro (início em Novembro)","Financial year (Start October)":"Ano financeiro (início em Outubro)","Financial year (Start July)":"Ano financeiro (início em Julho)","Financial year (Start April)":"Ano financeiro (início em Abril)",Today:Hwe,Yesterday:Xwe,"Last 3 days":"Últimos 3 dias","Last 7 days":"Últimos 7 dias","Last 14 days":"Últimos 14  dias","Last 30 days":"Últimos 30 dias","Last 60 days":"Últimos 60 dias","Last 90 days":"Últimos 90 dias","Last 180 days":"Últimos 180 dias","This week":"Esta semana","Last week":"Última semana","Last 4 weeks":"Últimas 4 semanas","Last 12 weeks":"Últimas 12 semanas","Last 52 weeks":"Últimas 52 semanas","Weeks this year":"Semanas deste ano ","This bi-week":"Esta quinzena","Last bi-week":"Última quinzena","Last 4 bi-weeks":"Últimas 4 semanas","This month":"Este mês","Last month":"Último mês","Last 3 months":"Últimos 3 meses","Last 6 months":"Últimos 6 meses","Last 12 months":"Últimos 12 meses","Months this year":"Meses deste ano","This bi-month":"Este bimestre","Last bi-month":"Último bimestre","Last 6 bi-months":"Últimos 6 bimestres","Bi-months this year":"Bimestres deste ano","This quarter":"Este Trimestre","Last quarter":"Último trimestre","Last 4 quarters":"Últimos 4 trimestres","Quarters this year":"Trimestres deste ano","This six-month":"Estes seis meses","Last six-month":"Último semestre","Last 2 six-month":" Últimos 2 semestres","This financial year":"Ano financeiro","Last financial year":"Último ano fiscal","Last 5 financial years":"Últimos 5 anos fiscais","This year":"Este ano","Last year":"Último ano","Last 5 years":"Últimos 5 anos","Last 10 years":"Últimos 10 anos",Days:Zwe,Weeks:Kwe,"Bi-weeks":"Quinzena",Months:Qwe,"Bi-months":"Bimestre",Quarters:Jwe,"Six-months":"Seis meses","Financial Years":"Ano financeiro ",Years:e1e,"Value: {{value}}":"Valor: {{value}}","Bold text":"Texto em negrito","Italic text":"Texto em itálico","Link to a URL":"Ligação a um URL","Mention a user":"Mencionar um utilizador","Add emoji":"Adicionar emoji",Preview:t1e,"Back to write mode":"Voltar ao modo de escrita","Interpretations and details":"Interpretações e pormenores","Translating to":"Traduzir para","Choose a locale":"Escolher um local","Base locale reference":"Referência à localidade de base","Choose a locale to translate from the menu above":"Escolha uma localidade para traduzir no menu acima","Translate: {{objectName}}":"Traduzir: {{objectName}}","Save translations":"Gravar traduções","Cannot save while offline":"Não é possível gravar quando se está offline","Could not load translations":"Não foi possível carregar traduções",Retry:n1e,"Too many results. Try refining the search.":"Demasiados resultados. Tente refinar a pesquisa.","Search for a user":"Procurar um utilizador",'Searching for "{{- searchText}}"':'Procurar por "{{- searchText}}"',"No results found":"Nenhum resultado encontrado",Series:i1e,Category:r1e,Filter:a1e,Columns:s1e,Rows:o1e,Points:l1e,"Reporting rate":"Taxa de relatórios","Reporting rate on time":"Taxa de relatórios no prazo","Actual reports":"Relatórios actuais","Actual reports on time":"Relatórios actuais dentro do prazo","Expected reports":"Relatórios esperados",Program:c1e,"Select a program":"Seleccione um programa",Indicators:u1e,"Indicator group":"Grupo de Indicador","All groups":"Todos os grupos",Indicator:d1e,"No indicator groups found":"Não foram encontrados grupos de indicadores","Loading indicator groups":"Carregando grupos de indicadores","Data element group":"Grupo de Elemento de Dados","Data element":"Elemento de dado","No data element groups found":"Não foram encontrados grupos de elementos de dados","Loading data element groups":"Carregando de grupos de elementos de dados","Data sets":"Agregação de Dados","Data set":"Conjuntos de dados","All data sets":"Todos conjuntos de dados","Loading data sets":"Carregando conjuntos de dados","Event data items":"Itens de dados do evento","All programs":"Todos os programas","Event data item":"Item de dados do evento","No programs found":"Nenhum programa encontrado","Loading programs":"Carregando programas","Program indicators":"Indicador do programa","Program indicator":"Gestão do indicadores de programa",Calculations:h1e,Number:"Número","Formula is empty. Add items to the formula from the lists on the left.":"A fórmula está vazia. Adicione itens à fórmula a partir das listas à esquerda.","Consecutive math operators":"Operadores matemáticos consecutivos","Consecutive data elements":"Elementos de dados consecutivos","Starts or ends with a math operator":"Começa ou termina com um operador matemático","Empty parentheses":"Parênteses vazios","Missing right parenthesis )":"Parêntese direito em falta )","Missing left parenthesis (":"Parêntese esquerdo em falta (","Extra Small":"Extra pequeno",Small:p1e,Regular:m1e,Large:f1e,"Extra Large":"Extra grande",Left:g1e,Center:y1e,Right:v1e,Start:x1e,Middle:b1e,End:_1e,Top:w1e,Bottom:T1e,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} e {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} níveis","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} grupos","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} níveis em {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} grupos em {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% do total de valores x","{{percentage}}% of total y values":"{{percentage}}% do total de valores y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Pontuação-Z baixa modificada","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Pontuação-Z elevada modificada ","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Pontuação-Z baixa","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Pontuação-Z elevada","Not applicable":"Não aplicável",Data:S1e,"Organisation unit":"Unidade organizacional","Assigned Categories":"Categorias atribuídas","Pivot table":"Tabela dinâmica",Area:C1e,"Stacked area":"Área empilhada",Bar:E1e,"Stacked bar":"Barra empilhada",Column:k1e,"Year over year (column)":"Ano após ano (coluna)","Stacked column":"Coluna empilhada",Gauge:N1e,Line:L1e,"Line list":"Lista de linhas ","Year over year (line)":"Ano após ano (linha)",Pie:I1e,Radar:A1e,Scatter:P1e,"Single value":"Valor único","Outlier table":"Tabela de valores atípicos","All charts":"Todos os gráficos","{{seriesName}} (trend)":"{{seriesName}} (tendência)",Trend:D1e,"No legend for this series":"Não há legenda para esta série","and {{amount}} more...":"e {{amount}} mais...","Linear Regression":"Regressão linear",Target:M1e,Base:O1e,"Axis {{axisId}}":"Eixos {{axisId}}","{{count}} items":"{{count}} item","{{count}} items_plural":"{{count}} itens","Reset zoom":"Repor o zoom"},$1e="",z1e="",F1e="",j1e="Cancelar",B1e="Carregando..",U1e="Desagregação",G1e="",Y1e="Remover",V1e="Pesquisar",W1e="Apagar",q1e="Arquivo",H1e="Novo",X1e="Salvar",Z1e="Fechar",K1e="Nome",Q1e="Descrição",J1e="Renomear",eTe="",tTe="",nTe="Editar",iTe="Actualizar",rTe="Interpretações",aTe="Responder",sTe="",oTe="como",lTe="Partilhar",cTe="Pré-visualização",uTe="",dTe="Outros",hTe="Criado",pTe="Tipo",mTe="Abrir",fTe="Opções",gTe="",yTe="Ano",vTe="Período",xTe="Diário",bTe="Semanal",_Te="Mensal",wTe="Trimestral",TTe="Anual",STe="Hoje",CTe="Ontém",ETe="Dias",kTe="",NTe="Meses",LTe="Trimestres",ITe="Anos",ATe="",PTe="Série",DTe="Categoria",MTe="Filtro",OTe="",RTe="",$Te="",zTe="Programa",FTe="Indicadores",jTe="Indicador",BTe="",UTe="",GTe="Regula",YTe="",VTe="Esquerda",WTe="",qTe="Direita",HTe="Inicio",XTe="",ZTe="",KTe="",QTe="",JTe="Dados",eSe="",tSe="",nSe="Coluna",iSe="",rSe="",aSe="",sSe="",oSe="",lSe="Tendência",cSe="Meta",uSe="",dSe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:$1e,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:z1e,"Subscribe to get updates about new interpretations.":"",Subscribe:F1e,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"Erro de rede","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:j1e,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"Sim, excluir","Totals only":"","Details only":"",Loading:B1e,"Data elements":"Os elementos de dados","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:U1e,"No data":"Não ha dados","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:G1e,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:Y1e,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:V1e,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:W1e,File:q1e,New:H1e,"Open…":"",Save:X1e,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:Z1e,"Rename {{fileType}}":"",Name:K1e,Description:Q1e,Rename:J1e,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:eTe,visualization:tTe,Edit:nTe,"Write a reply":"","Post reply":"","Delete failed":"Falha na exclusão","Could not update comment":"","Enter comment text":"",Update:iTe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:rTe,Reply:aTe,"{{count}} replies":"","{{count}} replies_plural":"","View replies":"",Unlike:sTe,Like:oTe,Share:lTe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:cTe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Nenhum resultado encontrado","Not available offline":"","Created by":"Criado por",Anyone:uTe,"Only you":"",Others:dTe,"Not supported by this app yet":"","Filter by name":"Filtrar por nome",Created:hTe,"Last updated":"Última actualização",Type:pTe,"Clear filters":"Limpar filtros","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:mTe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:fTe,Hide:gTe,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"Desmarcar todos","Period type":"Tipo de período",Year:yTe,"Select year":"",Period:vTe,"Relative periods":"Períodos relativos","Fixed periods":"Periodos fixos","Selected Periods":"","No periods selected":"Não há períodos relativos seleccionados",Daily:xTe,Weekly:bTe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:_Te,"Bi-monthly":"Bimensal",Quarterly:wTe,"Six-monthly":"Semestral","Six-monthly April":"",Yearly:TTe,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:STe,Yesterday:CTe,"Last 3 days":"","Last 7 days":"Últimos 7 dias","Last 14 days":"","Last 30 days":"Últimos 30 dias","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Última semana","Last 4 weeks":"Últimas 4 semanas","Last 12 weeks":"Últimoas 12 semanas","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"Mês passado","Last 3 months":"Últimos 3 meses","Last 6 months":"Últimos 6 meses","Last 12 months":"Últimos 12 meses","Months this year":"Meses deste ano","This bi-month":"","Last bi-month":"","Last 6 bi-months":"Últimos 6 bi-meses","Bi-months this year":"","This quarter":"","Last quarter":"Último trimestre","Last 4 quarters":"Últimos 4 trimestresÚltimo 4 trimestre","Quarters this year":"Trimestres deste ano","This six-month":"","Last six-month":"Últimos 6 meses","Last 2 six-month":"","This financial year":"","Last financial year":"último ano financeiro","Last 5 financial years":"Últimos 5 anos financeiros","This year":"Este ano","Last year":"Ano passado","Last 5 years":"Últimos 5 anos","Last 10 years":"",Days:ETe,Weeks:kTe,"Bi-weeks":"",Months:NTe,"Bi-months":"",Quarters:LTe,"Six-months":"","Financial Years":"",Years:ITe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:ATe,Series:PTe,Category:DTe,Filter:MTe,Columns:OTe,Rows:RTe,Points:$Te,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:zTe,"Select a program":"",Indicators:FTe,"Indicator group":"Grupo do indicador","All groups":"",Indicator:jTe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Grupo de elemento de dado","Data element":"Elemento de dado","No data element groups found":"","Loading data element groups":"","Data sets":"Agregação de Dados","Data set":"Conjunto de dados","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:BTe,Number:"Número","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:UTe,Regular:GTe,Large:YTe,"Extra Large":"",Left:VTe,Center:WTe,Right:qTe,Start:HTe,Middle:XTe,End:ZTe,Top:KTe,Bottom:QTe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:JTe,"Organisation unit":"Unidade organizacional","Assigned Categories":"","Pivot table":"",Area:eSe,"Stacked area":"",Bar:tSe,"Stacked bar":"",Column:nSe,"Year over year (column)":"","Stacked column":"",Gauge:iSe,Line:rSe,"Line list":"","Year over year (line)":"",Pie:aSe,Radar:sSe,Scatter:oSe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:lSe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:cSe,Base:uSe,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},hSe="",pSe="",mSe="",fSe="",gSe="",ySe="",vSe="Căutare",xSe="Anulare",bSe="Lichidare",_Se="Fişier",wSe="Nou",TSe="salva",SSe="Închidere",CSe="",ESe="Descriere",kSe="",NSe="",LSe="",ISe="Editare",ASe="Actualizare",PSe="",DSe="",MSe="",OSe="",RSe="Partajare",$Se="",zSe="Oricine",FSe="",jSe="",BSe="",USe="",GSe="",YSe="",VSe="An",WSe="",qSe="",HSe="",XSe="",ZSe="",KSe="",QSe="",JSe="",eCe="",tCe="",nCe="",iCe="",rCe="",aCe="",sCe="",oCe="Lunar",lCe="Trimestrial",cCe="Anual",uCe="Astăzi",dCe="Ieri",hCe="Zile",pCe="Săptămâni",mCe="Luni",fCe="Trimestre",gCe="Ani",yCe="",vCe="",xCe="",bCe="",_Ce="",wCe="",TCe="",SCe="Program",CCe="Indicatori",ECe="Indicator",kCe="",NCe="",LCe="",ICe="",ACe="",PCe="",DCe="",MCe="",OCe="",RCe="",$Ce="",zCe="",FCe="",jCe="",BCe="Coloană",UCe="",GCe="",YCe="",VCe="",WCe="",qCe="",HCe="",XCe="",ZCe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"",Notifications:hSe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:pSe,"Subscribe to get updates about new interpretations.":"",Subscribe:mSe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"",Disaggregation:fSe,"No data":"",Loading:gSe,"Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data elements found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:ySe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:vSe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Cancel:xSe,Delete:bSe,File:_Se,New:wSe,"Open…":"",Save:TSe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:SSe,"Rename {{fileType}}":"",Name:CSe,Description:ESe,Rename:kSe,"Save {{fileType}} as":"","event report":"","line list":"",map:NSe,visualization:LSe,Edit:ISe,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:ASe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:PSe,Unlike:DSe,Like:MSe,Reply:OSe,Share:RSe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:$Se,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Nu au fost găsite rezultate","Created by":"",Anyone:zSe,"Only you":"",Others:FSe,"Not supported by this app yet":"","Filter by name":"",Created:jSe,"Last updated":"Ultima actualizare",Type:BSe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:USe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:GSe,Hide:YSe,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Tipul perioadei",Year:VSe,"Select year":"",Period:WSe,"Relative periods":"Perioade relative","Fixed periods":"","Selected Periods":"","No periods selected":"",January:qSe,February:HSe,March:XSe,April:ZSe,May:KSe,June:QSe,July:JSe,August:eCe,September:tCe,October:nCe,November:iCe,December:rCe,"Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"",Daily:aCe,Weekly:sCe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:oCe,"Bi-monthly":"",Quarterly:lCe,"Six-monthly":"","Six-monthly April":"",Yearly:cCe,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:uCe,Yesterday:dCe,"Last 3 days":"Ultimele 3 zile","Last 7 days":"Ultimele 7 zile","Last 14 days":"Ultimele 14 zile","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"Săptămâna aceasta","Last week":"Săptămâna trecută","Last 4 weeks":"Ultimele 4 săptămâni","Last 12 weeks":"Ultimele 12 săptămâni","Last 52 weeks":"Ultimele 52 de săptămâni","Weeks this year":"Săptămâni în anul curent","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"Luna aceasta","Last month":"Luna trecută","Last 3 months":"Ultimele 3 luni","Last 6 months":"Ultimele 6 luni","Last 12 months":"Ultimele 12 luni","Months this year":"Luni în anul curent","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"Ultimul trimestru","Last 4 quarters":"Ultimele 4 trimestre","Quarters this year":"Trimestre în anul curent","This six-month":"","Last six-month":"Ultimele șase luni","Last 2 six-month":"","This financial year":"","Last financial year":"Ultimul an financiar","Last 5 financial years":"Ultimii 5 ani financiari","This year":"","Last year":"Anul trecut","Last 5 years":"Ultimii 5 ani","Last 10 years":"",Days:hCe,Weeks:pCe,"Bi-weeks":"",Months:mCe,"Bi-months":"Bi-lunar",Quarters:fCe,"Six-months":"Șase luni","Financial Years":"Ani financiari",Years:gCe,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"",Retry:yCe,Series:vCe,Category:xCe,Filter:bCe,Columns:_Ce,Rows:wCe,Points:TCe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:SCe,"Select a program":"",Indicators:CCe,"Indicator group":"Grup de indicatori","All groups":"",Indicator:ECe,"No indicator groups found":"","Loading indicator groups":"","Data elements":"Elemente de date","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"Set de date","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"",Small:kCe,Regular:NCe,Large:LCe,"Extra Large":"",Left:ICe,Center:ACe,Right:PCe,Start:DCe,Middle:MCe,End:OCe,Top:RCe,Bottom:$Ce,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:zCe,"Organisation unit":"Unitate organizațională","Assigned Categories":"","Pivot table":"",Area:FCe,"Stacked area":"",Bar:jCe,"Stacked bar":"",Column:BCe,"Year over year (column)":"","Stacked column":"",Gauge:UCe,Line:GCe,"Line list":"","Year over year (line)":"",Pie:YCe,Radar:VCe,Scatter:WCe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:qCe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:HCe,Base:XCe,"Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","Reset zoom":""},KCe="Уведомления",QCe="",JCe="",eEe="Отмена",tEe="Загрузка",nEe="Разукрупнение",iEe="",rEe="Убрать",aEe="Поиск",sEe="Удалить",oEe="Файл",lEe="Новый",cEe="Сохранить",uEe="Закрыть",dEe="Название",hEe="Описание",pEe="Переименовать",mEe="Карта",fEe="визуализация",gEe="Редактировать",yEe="Обновить",vEe="Interpretations",xEe="Ответить",bEe="Не нравится",_Ee="Нравится",wEe="Поделиться",TEe="Любой",SEe="Другие",CEe="Создано",EEe="Тип",kEe="Открыть",NEe="Параметры",LEe="Скрыть",IEe="Год",AEe="Период",PEe="Ежедневно",DEe="Еженедельно",MEe="Ежемесячно",OEe="Ежеквартально",REe="Ежегодно",$Ee="Сегодня",zEe="Вчера",FEe="Дни",jEe="Недели",BEe="Месяцы",UEe="Кварталы",GEe="Годы",YEe="Предварительный просмотр",VEe="",WEe="Ряды",qEe="Категория",HEe="Фильтр",XEe="Колонны",ZEe="Строки",KEe="",QEe="Program",JEe="Индикаторы",eke="Индикатор",tke="",nke="Маленький",ike="регулярный",rke="Большой",ake="Слева",ske="Центр",oke="Справа",lke="Начать",cke="Середина",uke="Конец",dke="Верхний",hke="Нижний",pke="Данные",mke="Диаграмма-области",fke="Гистограмма",gke="Столбчатая",yke="Спидометр",vke="Линейная",xke="Круговая",bke="Радиальная",_ke="Рассеивание",wke="Тренд",Tke="Цель",Ske="Базовый",Cke={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Нет описания","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"",Notifications:KCe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:QCe,"Subscribe to get updates about new interpretations.":"",Subscribe:JCe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:eEe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:tEe,"Data elements":"Элементы данных","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"Тип данных","Only {{dataType}} can be used in {{visType}}":"","All types":"Все типы",Disaggregation:nEe,"No data":"Нет данных","Search by data item name":"","No items selected":"Не выбраны элементы","Selected Items":"Выбранные элементы","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No calculations found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:iEe,"Metric type":"","All metrics":"Все метрики","Move to {{axisName}}":"Переместить в {{axisName}}","Add to {{axisName}}":"Добавить в {{axisName}}","Not available for {{visualizationType}}":"Недоступно для {{visualizationType}}","Remove Assigned Categories":"Удалить назначенные категории","Add Assigned Categories":"Добавить Назначенные категории",Remove:rEe,"Filter dimensions":"Фильтровать измерения","Main dimensions":"Основное измерение","Your dimensions":"Ваши Измерения","Dimension recommended with selected data":"Рекомендованное измерение с выбранными данными","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:aEe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:sEe,File:oEe,New:lEe,"Open…":"",Save:cEe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Открыть в данном приложении",Close:uEe,"Rename {{fileType}}":"",Name:dEe,Description:hEe,Rename:pEe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"Отчет случаев","line list":"",map:mEe,visualization:fEe,Edit:gEe,"Write a reply":"Написать ответ","Post reply":"","Delete failed":"Не удалось удалить","Could not update comment":"","Enter comment text":"",Update:yEe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Написать перевод","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:vEe,Reply:xEe,"{{count}} replies_0":"{{count}} ответ","{{count}} replies_1":"{{count}} отвечает","{{count}} replies_2":"{{count}} отвечает","{{count}} replies_3":"{{count}} ответов","View replies":"",Unlike:bEe,Like:_Ee,"See interpretation":"","Open in app":"",Share:wEe,"Manage sharing":"Управление совместным доступом","Could not update interpretation":"","Enter interpretation text":"","Not available offline":"Недоступно в автономном режиме","Created by":"Создано",Anyone:TEe,"Only you":"",Others:SEe,"Not supported by this app yet":"","Filter by name":"Фильтр по имени",Created:CEe,"Last updated":"Последнее обновление",Type:EEe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:kEe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Создать новый","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:NEe,Hide:LEe,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Организационная единица пользователя","User sub-units":"Пользовательские подразделения","User sub-x2-units":"Пользовательские подразделения на два уровня ниже","Select a level":"Выбрать уровень","Select a group":"Выберите группу","Deselect all":"Отменить выбор всего","Period type":"Виды периода",Year:IEe,"Select year":"Выбрать год",Period:AEe,"Selected Periods":"Выбранные периоды","Relative periods":"Соответствующие периоды","Fixed periods":"Фиксированные периоды","No periods selected":"Периоды не выбраны",Daily:PEe,Weekly:DEe,"Weekly (Start Wednesday)":"Еженедельно(Начало Среда)","Weekly (Start Thursday)":"Еженедельно(Начало Четверг)","Weekly (Start Saturday)":"Еженедельно(Начало Суббота)","Weekly (Start Sunday)":"Еженедельно(Начало Воскресенье)","Bi-weekly":"Каждые две недели",Monthly:MEe,"Bi-monthly":"Раз в два месяца",Quarterly:OEe,"Six-monthly":"Раз в полугодие","Six-monthly April":"Полугодовой-Апрель",Yearly:REe,"Financial year (Start November)":"Финансовый год (начало Ноябрь)","Financial year (Start October)":"Финансовый год - Октябрь","Financial year (Start July)":"Финансовый год - Июль","Financial year (Start April)":"Финансовый год - Апрель",Today:$Ee,Yesterday:zEe,"Last 3 days":"Последние 3 дня","Last 7 days":"Последние 7 дней","Last 14 days":"Последние 14 дней","Last 30 days":"Последние 30 дней","Last 60 days":"Последние 60 дней","Last 90 days":"Последние 90 дней","Last 180 days":"Последние 180 дней","This week":"Эта неделя","Last week":"Прошлая неделя","Last 4 weeks":"Прошлые 4 недели","Last 12 weeks":"Прошлые 12 недель","Last 52 weeks":"Последние 52 недели","Weeks this year":"Недели этого года","This bi-week":"Эта би-неделя","Last bi-week":"Последняя би-неделя","Last 4 bi-weeks":"Последние 4 би-недель","This month":"Этот месяц","Last month":"Последний месяц","Last 3 months":"Прошлые 3 месяца","Last 6 months":"Последние 6 месяцев","Last 12 months":"Прошлые 12 месяцев","Months this year":"Месяцы этого года","This bi-month":"Этот период по два месяца","Last bi-month":"Прошлый двухмесячный период","Last 6 bi-months":"Последние 6 двухмесячных периодов","Bi-months this year":"Би-месяцы этого года","This quarter":"Этот квартал","Last quarter":"Последний квартал","Last 4 quarters":"Прошлые 4 квартала","Quarters this year":"Кварталы этого года","This six-month":"Это полугодие","Last six-month":"Прошлое полугодие","Last 2 six-month":"Прошлые 2 полугодия","This financial year":"Этот финансовый год","Last financial year":"Прошлый финансовый год","Last 5 financial years":"Прошлые 5 финансовых лет","This year":"Этот год","Last year":"Прошлый год","Last 5 years":"Прошлые 5 лет","Last 10 years":"Последние 10 лет",Days:FEe,Weeks:jEe,"Bi-weeks":"Двухнедельные промежутки",Months:BEe,"Bi-months":"Двухмесячный период",Quarters:UEe,"Six-months":"Полугодие","Financial Years":"Финансовые годы",Years:GEe,"Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:YEe,"Back to write mode":"","Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:VEe,"Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Результаты не найдены",Series:WEe,Category:qEe,Filter:HEe,Columns:XEe,Rows:ZEe,Points:KEe,"Reporting rate":"Показатель отчетности","Reporting rate on time":"Показатель отчетности по времени","Actual reports":"Текущие отчеты","Actual reports on time":"Текущие отчеты по времени","Expected reports":"Ожидаемые отчеты",Program:QEe,"Select a program":"Выбрать программу",Indicators:JEe,"Indicator group":"Группа индикаторов","All groups":"",Indicator:eke,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Группы элемента данных","Data element":"Элемент данных","No data element groups found":"","Loading data element groups":"","Data sets":"Наборы данных","Data set":"Набор данных","All data sets":"","Loading data sets":"","Event data items":"Элементы данных событий","All programs":"","Event data item":"Элемент данных событий","No programs found":"","Loading programs":"","Program indicators":"Индикаторы программы","Program indicator":"Program indicator",Calculations:tke,Number:"Число","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Очень маленький",Small:nke,Regular:ike,Large:rke,"Extra Large":"Очень большой",Left:ake,Center:ske,Right:oke,Start:lke,Middle:cke,End:uke,Top:dke,Bottom:hke,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} и {{lastOuName}}","{{allDynamicOuNames}} levels":"уровень {{allDynamicOuNames}}","{{allDynamicOuNames}} groups":"Группы {{allDynamicOuNames}}","{{allDynamicOuNames}} levels in {{staticOuNames}}":"Уровни {{allDynamicOuNames}} в {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"Группы {{allDynamicOuNames}} в {{staticOuNames}}","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:pke,"Organisation unit":"Организационная единица","Assigned Categories":"Назначенные категории","Pivot table":"Сводная таблица",Area:mke,"Stacked area":"Линейчатая с накоплениями",Bar:fke,"Stacked bar":"Гистограмма с накоплением",Column:gke,"Year over year (column)":"Год за годом (столбец)","Stacked column":"Столбчатая с накоплением",Gauge:yke,Line:vke,"Line list":"Перечень линий","Year over year (line)":"Год за годом (линия)",Pie:xke,Radar:bke,Scatter:_ke,"Single value":"Одиночное значение","Outlier table":"","All charts":"","{{seriesName}} (trend)":"",Trend:wke,"No legend for this series":"Отсутвует легенда для этого ряда","and {{amount}} more...":"","Linear Regression":"",Target:Tke,Base:Ske,"Axis {{axisId}}":"Ось {{axisId}}","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","Reset zoom":""},Eke="",kke="",Nke="",Lke="",Ike="",Ake="",Pke="",Dke="ඉවත් කරන්න",Mke="සොයන්න",Oke="ඉවත් කරන්න",Rke="ගොනුව",$ke="නව",zke="සුරකින්න",Fke="වසන්න",jke="නම",Bke="විස්තරය",Uke="",Gke="",Yke="",Vke="වෙනස් කරන්න",Wke="",qke="",Hke="",Xke="",Zke="",Kke="",Qke="",Jke="ඕනෑම කෙනෙක්",eNe="",tNe="",nNe="",iNe="විවෘත කරන්න",rNe="",aNe="",sNe="වසර",oNe="",lNe="දිනපතා",cNe="සතිපතා",uNe="මාස්පතා",dNe="කාර්තු පතා",hNe="අවුරුදු පතා",pNe="අද",mNe="ඊයේ",fNe="දින",gNe="සති",yNe="මාස",vNe="කාර්තු",xNe="අවුරුදු",bNe="නැවත උත්සාහ කරන්න",_Ne="",wNe="කාණ්ඩය",TNe="",SNe="",CNe="",ENe="",kNe="",NNe="",LNe="",INe="",ANe="කුඩා",PNe="මධ්‍යස්ථ",DNe="ලොකු",MNe="",ONe="",RNe="",$Ne="",zNe="",FNe="",jNe="",BNe="",UNe="දත්ත",GNe="",YNe="",VNe="",WNe="",qNe="",HNe="",XNe="",ZNe="",KNe="",QNe="ඉලක්කය",JNe="",eLe={"view only":"නැරඹීම පමණයි","view and edit":"නැරඹීම සහ සංස්කරණය","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"විස්තරයක් නැත","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:Eke,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:kke,"Subscribe to get updates about new interpretations.":"",Subscribe:Nke,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:Lke,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"ඔව්, මකන්න","Totals only":"","Details only":"",Loading:Ike,"Data elements":"","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:Ake,"No data":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:Pke,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:Dke,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:Mke,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:Oke,File:Rke,New:$ke,"Open…":"",Save:zke,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:Fke,"Rename {{fileType}}":"",Name:jke,Description:Bke,Rename:Uke,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:Gke,visualization:Yke,Edit:Vke,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:Wke,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:qke,Unlike:Hke,Like:Xke,Reply:Zke,Share:Kke,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:Qke,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Not available offline":"මාර්ග අපගතව නොතිබේ","Created by":"",Anyone:Jke,"Only you":"",Others:eNe,"Not supported by this app yet":"","Filter by name":"",Created:tNe,"Last updated":"",Type:nNe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:iNe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:rNe,Hide:aNe,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:sNe,"Select year":"වසර තෝරන්න",Period:oNe,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",Daily:lNe,Weekly:cNe,"Weekly (Start Wednesday)":"සතියකට වරක් (Start Wednesday)","Weekly (Start Thursday)":"සතියකට වරක් (Start Thursday)","Weekly (Start Saturday)":"සතියකට වරක් (Start Saturday)","Weekly (Start Sunday)":"සතියකට වරක් (Start Sunday)","Bi-weekly":"දෙසතියකට වරක්",Monthly:uNe,"Bi-monthly":"දෙමසකට වරක්",Quarterly:dNe,"Six-monthly":"6 මසකට වරක්","Six-monthly April":"6 මසකට වරක් අප්‍රේල්",Yearly:hNe,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:pNe,Yesterday:mNe,"Last 3 days":"පසුගිය දින 3","Last 7 days":"පසුගිය දින 7","Last 14 days":"පසුගිය දින 14","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"මෙම සතිය","Last week":"පසුගිය සතිය","Last 4 weeks":"පසුගිය සති 4","Last 12 weeks":"පසුගිය සති 12","Last 52 weeks":"පසුගිය සති 52","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"මෙම මාසය","Last month":"පසුගිය මාසය","Last 3 months":"පසුගිය මාස 3","Last 6 months":"පසුගිය මාස 6","Last 12 months":"පසුගිය මාස 12","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"මෙම වසර","Last year":"පසුගිය වසර","Last 5 years":"පසුගිය 5 වසර","Last 10 years":"පසුගිය 10 වසර",Days:fNe,Weeks:gNe,"Bi-weeks":"",Months:yNe,"Bi-months":"",Quarters:vNe,"Six-months":"","Financial Years":"",Years:xNe,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:bNe,Series:_Ne,Category:wNe,Filter:TNe,Columns:SNe,Rows:CNe,Points:ENe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:kNe,"Select a program":"",Indicators:NNe,"Indicator group":"","All groups":"",Indicator:LNe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:INe,Number:"","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"ඉතා කුඩා",Small:ANe,Regular:PNe,Large:DNe,"Extra Large":"",Left:MNe,Center:ONe,Right:RNe,Start:$Ne,Middle:zNe,End:FNe,Top:jNe,Bottom:BNe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:UNe,"Organisation unit":"","Assigned Categories":"","Pivot table":"",Area:GNe,"Stacked area":"",Bar:YNe,"Stacked bar":"",Column:VNe,"Year over year (column)":"","Stacked column":"",Gauge:WNe,Line:qNe,"Line list":"","Year over year (line)":"",Pie:HNe,Radar:XNe,Scatter:ZNe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:KNe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:QNe,Base:JNe,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},tLe="",nLe="",iLe="",rLe="Avbryt",aLe="",sLe="",oLe="",lLe="Avlägsna",cLe="Sök",uLe="Radera",dLe="File",hLe="Ny",pLe="Spara",mLe="Stänga",fLe="Namn",gLe="Beskrivning",yLe="Döpa om",vLe="",xLe="",bLe="Redigera",_Le="Uppdatera",wLe="tolkningar",TLe="Svar",SLe="",CLe="",ELe="Dela med sig",kLe="",NLe="",LLe="",ILe="Skapad",ALe="Typ",PLe="Öppen",DLe="Alternativ",MLe="Göm",OLe="År",RLe="Period",$Le="Dagligen",zLe="Varje vecka",FLe="En gång i månaden",jLe="Kvartals",BLe="Årlig",ULe="",GLe="",YLe="Dagar",VLe="Veckor",WLe="Månader",qLe="",HLe="År",XLe="",ZLe="",KLe="",QLe="Filtrera",JLe="",e2e="",t2e="",n2e="Program",i2e="indikatorer",r2e="Indikator",a2e="",s2e="",o2e="",l2e="",c2e="",u2e="",d2e="",h2e="",p2e="",m2e="",f2e="",g2e="",y2e="Data",v2e="",x2e="",b2e="",_2e="",w2e="",T2e="",S2e="",C2e="",E2e="",k2e="Mål",N2e="",L2e={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Ingen beskrivning","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:tLe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:nLe,"Subscribe to get updates about new interpretations.":"",Subscribe:iLe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:rLe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:aLe,"Data elements":"dataelement","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","Only {{dataType}} can be used in {{visType}}":"","All types":"",Disaggregation:sLe,"No data":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No calculations found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:oLe,"Metric type":"","All metrics":"","Move to {{axisName}}":"Flytta till {{axisName}}","Add to {{axisName}}":"Lägg till i {{axisName}}","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:lLe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:cLe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:uLe,File:dLe,New:hLe,"Open…":"",Save:pLe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:mLe,"Rename {{fileType}}":"",Name:fLe,Description:gLe,Rename:yLe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:vLe,visualization:xLe,Edit:bLe,"Write a reply":"","Post reply":"","Delete failed":"","Could not update comment":"","Enter comment text":"",Update:_Le,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:wLe,Reply:TLe,"{{count}} replies":"","{{count}} replies_plural":"","View replies":"",Unlike:SLe,Like:CLe,"See interpretation":"","Open in app":"",Share:ELe,"Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:kLe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Inga resultat hittades","Not available offline":"","Created by":"Skapad av",Anyone:NLe,"Only you":"",Others:LLe,"Not supported by this app yet":"","Filter by name":"Filtrera efter namn",Created:ILe,"Last updated":"",Type:ALe,"Clear filters":"Rensa filter","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:PLe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Skapa ny","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:DLe,Hide:MLe,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Användare organisation enheter","User sub-units":"Användarunderenheter","User sub-x2-units":"Användarunder x2-enheter","Select a level":"","Select a group":"","Deselect all":"Avmarkera alla","Period type":"Periodtyp",Year:OLe,"Select year":"Välj år",Period:RLe,"Selected Periods":"","Relative periods":"","Fixed periods":"","No periods selected":"",Daily:$Le,Weekly:zLe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:FLe,"Bi-monthly":"varannan månad",Quarterly:jLe,"Six-monthly":"Halvårs","Six-monthly April":"Halvårs April",Yearly:BLe,"Financial year (Start November)":"","Financial year (Start October)":"Budgetår - Oktober","Financial year (Start July)":"Budgetår - Juli","Financial year (Start April)":"Budgetår - April",Today:ULe,Yesterday:GLe,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"Denna vecka","Last week":"Förra veckan","Last 4 weeks":"Senaste 4 veckorna","Last 12 weeks":"Senast 12 veckor","Last 52 weeks":"Senast 52 veckor","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"Den här månaden","Last month":"Förra månaden","Last 3 months":"Senaste 3 månaderna","Last 6 months":"Senaste 6 månaderna","Last 12 months":"Senaste 12 månaderna","Months this year":"Månader i år","This bi-month":"Denna bi-månaders","Last bi-month":"Senast bi månad","Last 6 bi-months":"Senaste 6 bi-månader","Bi-months this year":"","This quarter":"detta kvartal","Last quarter":"Förra kvartalet","Last 4 quarters":"Senaste 4 kvartal","Quarters this year":"Kvartalen i år","This six-month":"Denna sexmånaders","Last six-month":"Senast sex månader","Last 2 six-month":"","This financial year":"Detta räkenskapsår","Last financial year":"Föregående räkenskapsår","Last 5 financial years":"Senaste 5 räkenskapsåren","This year":"Det här året","Last year":"Förra året","Last 5 years":"Senaste 5 år","Last 10 years":"",Days:YLe,Weeks:VLe,"Bi-weeks":"",Months:WLe,"Bi-months":"",Quarters:qLe,"Six-months":"","Financial Years":"",Years:HLe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:XLe,Series:ZLe,Category:KLe,Filter:QLe,Columns:JLe,Rows:e2e,Points:t2e,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:n2e,"Select a program":"",Indicators:i2e,"Indicator group":"Indikatorgrupp","All groups":"",Indicator:r2e,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Dataelementgrupp","Data element":"Uppgift","No data element groups found":"","Loading data element groups":"","Data sets":"dataset","Data set":"datamängd","All data sets":"","Loading data sets":"","Event data items":"Händelsedataposter","All programs":"","Event data item":"händelsedata post","No programs found":"","Loading programs":"","Program indicators":"programindikatorer","Program indicator":"",Calculations:a2e,Number:"Antal","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:s2e,Regular:o2e,Large:l2e,"Extra Large":"",Left:c2e,Center:u2e,Right:d2e,Start:h2e,Middle:p2e,End:m2e,Top:f2e,Bottom:g2e,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:y2e,"Organisation unit":"Organisationsenhet","Assigned Categories":"","Pivot table":"",Area:v2e,"Stacked area":"",Bar:x2e,"Stacked bar":"",Column:b2e,"Year over year (column)":"","Stacked column":"",Gauge:_2e,Line:w2e,"Line list":"","Year over year (line)":"",Pie:T2e,Radar:S2e,Scatter:C2e,"Single value":"","Outlier table":"","All charts":"","{{seriesName}} (trend)":"",Trend:E2e,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:k2e,Base:N2e,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},I2e="",A2e="",P2e="",D2e="Kansela",M2e="",O2e="",R2e="",$2e="Hasai",z2e="",F2e="Soe",j2e="",B2e="Foun",U2e="Rai",G2e="Taka",Y2e="Naran",V2e="Deskrisaun",W2e="Tau naran foun",q2e="",H2e="",X2e="Edita",Z2e="Atualiza",K2e="Interpretasoens",Q2e="",J2e="",eIe="Hatán",tIe="Partilla",nIe="",iIe="",rIe="",aIe="",sIe="Tipu",oIe="",lIe="Opsoens",cIe="Subar",uIe="Tinan",dIe="Períodu",hIe="Diáriu",pIe="Semanal",mIe="Mensal",fIe="Trimestral",gIe="Anual",yIe="",vIe="",xIe="",bIe="Semanas",_Ie="Fulan",wIe="Trimestres",TIe="Tinan",SIe="",CIe="Séries",EIe="Kategoria",kIe="Filtru",NIe="",LIe="",IIe="",AIe="",PIe="Indikadores",DIe="Indikador",MIe="",OIe="Kiik",RIe="",$Ie="Bo'ot",zIe="",FIe="",jIe="",BIe="",UIe="",GIe="",YIe="",VIe="",WIe="Dadus",qIe="",HIe="",XIe="Koluna",ZIe="",KIe="",QIe="",JIe="",eAe="",tAe="Tendensia",nAe="Alvu",iAe="Baze",rAe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:I2e,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:A2e,"Subscribe to get updates about new interpretations.":"",Subscribe:P2e,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:D2e,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:M2e,"Data elements":"Elementus dadus","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:O2e,"No data":"Laiha dadus","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:R2e,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:$2e,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:z2e,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:F2e,File:j2e,New:B2e,"Open…":"",Save:U2e,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:G2e,"Rename {{fileType}}":"",Name:Y2e,Description:V2e,Rename:W2e,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:q2e,visualization:H2e,Edit:X2e,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:Z2e,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:K2e,Unlike:Q2e,Like:J2e,Reply:eIe,Share:tIe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:nIe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Not available offline":"","Created by":"Kria husi",Anyone:iIe,"Only you":"",Others:rIe,"Not supported by this app yet":"","Filter by name":"Filtru tuir naran",Created:aIe,"Last updated":"Atualizasaun ikus",Type:sIe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:oIe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:lIe,Hide:cIe,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"Utilizador nia  sub-unidades","User sub-x2-units":"Utilizador nia sub-x2-unidades","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:uIe,"Select year":"",Period:dIe,"Relative periods":"Peeríodus relativus","Fixed periods":"Períodus fixus","Selected Periods":"","No periods selected":"Laiha períodu selesionadu",Daily:hIe,Weekly:pIe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:mIe,"Bi-monthly":"Bimensal",Quarterly:fIe,"Six-monthly":"Semestral","Six-monthly April":"Abril semestral",Yearly:gIe,"Financial year (Start November)":"","Financial year (Start October)":"Outubru finanseiru","Financial year (Start July)":"Jullu finanseiru","Financial year (Start April)":"Abril finanseiru",Today:yIe,Yesterday:vIe,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Semana kotuk","Last 4 weeks":"Semana 4 ikus","Last 12 weeks":"Semana 12 ikus","Last 52 weeks":"Semana 52 ikus","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"Fulan kotuk","Last 3 months":"Fulan 3 ikus","Last 6 months":"Fulan 6 ikus","Last 12 months":"Fulan 12 ikus","Months this year":"Fulan sira tinan ida ne'e","This bi-month":"","Last bi-month":"Bimensal kotuk","Last 6 bi-months":"Bimensal 6 ikus liu","Bi-months this year":"","This quarter":"","Last quarter":"Trimestre kotuk","Last 4 quarters":"Trimestre 4 ikus liu","Quarters this year":"Trimestres sira tinan ida ne'e","This six-month":"","Last six-month":"Fulan-nén ikus","Last 2 six-month":"","This financial year":"Tinan finanseiru ida ne'e","Last financial year":"Tinan finanseiru kotuk","Last 5 financial years":"Tinan finanseiru 5 ikus","This year":"Tina ida ne'e","Last year":"Tinan kotuk","Last 5 years":"Tinan 5 kotuk","Last 10 years":"",Days:xIe,Weeks:bIe,"Bi-weeks":"",Months:_Ie,"Bi-months":"Bimensal",Quarters:wIe,"Six-months":"Fulan-nén","Financial Years":"",Years:TIe,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:SIe,Series:CIe,Category:EIe,Filter:kIe,Columns:NIe,Rows:LIe,Points:IIe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:AIe,"Select a program":"",Indicators:PIe,"Indicator group":"","All groups":"",Indicator:DIe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"","Data element":"Elementu dadus","No data element groups found":"","Loading data element groups":"","Data sets":"Pakote dadus","Data set":"Pakote dadus","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:MIe,Number:"Númeru","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:OIe,Regular:RIe,Large:$Ie,"Extra Large":"",Left:zIe,Center:FIe,Right:jIe,Start:BIe,Middle:UIe,End:GIe,Top:YIe,Bottom:VIe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:WIe,"Organisation unit":"Unidade organizasional","Assigned Categories":"","Pivot table":"",Area:qIe,"Stacked area":"",Bar:HIe,"Stacked bar":"",Column:XIe,"Year over year (column)":"","Stacked column":"",Gauge:ZIe,Line:KIe,"Line list":"","Year over year (line)":"",Pie:QIe,Radar:JIe,Scatter:eAe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:tAe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:nAe,Base:iAe,"Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""},aAe="",sAe="",oAe="",lAe="Бекор кардан",cAe="Бор мешавад",uAe="",dAe="",hAe="Тоза кардан",pAe="Ҷустуҷӯ",mAe="Нест кардан",fAe="Файл",gAe="Нав",yAe="Захира кардан",vAe="Пӯшидан",xAe="Ном",bAe="Тавсиф",_Ae="Ивази ном",wAe="",TAe="",SAe="Таҳрир",CAe="Навсозӣ",EAe="Тафсирҳо",kAe="",NAe="",LAe="Ҷавоб додан",IAe="Мубодила",AAe="",PAe="",DAe="Дигарҳо",MAe="",OAe="Навъ",RAe="",$Ae="Имконот",zAe="Пинҳон кардан",FAe="Сол",jAe="Давра",BAe="Ҳаррӯза",UAe="Ҳафтаина",GAe="Моҳона",YAe="Семоҳа",VAe="Солона",WAe="Имрӯз",qAe="Дирӯз",HAe="",XAe="Ҳафтаҳо",ZAe="Моҳҳо",KAe="Семоҳаҳо",QAe="Солҳо",JAe="",ePe="Силсила",tPe="Категория",nPe="Филтр",iPe="",rPe="",aPe="",sPe="Барнома",oPe="Индикаторҳо",lPe="Индикатор",cPe="",uPe="Хурд",dPe="Муқаррарӣ",hPe="Калон",pPe="Чап",mPe="",fPe="Рост",gPe="Оғоз",yPe="",vPe="",xPe="",bPe="",_Pe="Иттилоот",wPe="",TPe="",SPe="Сутун",CPe="",EPe="",kPe="",NPe="",LPe="",IPe="Майлон",APe="Нақша",PPe="Замина",DPe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:aAe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:sAe,"Subscribe to get updates about new interpretations.":"",Subscribe:oAe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:lAe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:cAe,"Data elements":"Унсурҳои иттилоот","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:uAe,"No data":"Ягон иттилоот нест","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:dAe,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:hAe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:pAe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:mAe,File:fAe,New:gAe,"Open…":"",Save:yAe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:vAe,"Rename {{fileType}}":"",Name:xAe,Description:bAe,Rename:_Ae,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:wAe,visualization:TAe,Edit:SAe,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:CAe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:EAe,Unlike:kAe,Like:NAe,Reply:LAe,Share:IAe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:AAe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Not available offline":"","Created by":"",Anyone:PAe,"Only you":"",Others:DAe,"Not supported by this app yet":"","Filter by name":"Филтркунӣ аз рӯи ном",Created:MAe,"Last updated":"Навсозии охирин",Type:OAe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:RAe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:$Ae,Hide:zAe,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Навъи давара",Year:FAe,"Select year":"",Period:jAe,"Relative periods":"Давраҳои нисбӣ","Fixed periods":"Давраҳои собит","Selected Periods":"","No periods selected":"Ягон давра инитихоб нашудааст",Daily:BAe,Weekly:UAe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:GAe,"Bi-monthly":"Ду маротиба дар як моҳ",Quarterly:YAe,"Six-monthly":"Шашмоҳа","Six-monthly April":"",Yearly:VAe,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:WAe,Yesterday:qAe,"Last 3 days":"","Last 7 days":"7 рӯзи охир","Last 14 days":"","Last 30 days":"30 рӯзи охир","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Ҳафтаи гузашта","Last 4 weeks":"4 ҳафтаи охир","Last 12 weeks":"12 ҳафтаи охир","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"Моҳи гузашта","Last 3 months":"3 моҳи охир","Last 6 months":"6 моҳи охир","Last 12 months":"12 моҳи охир","Months this year":"Моҳҳо дар ин сол","This bi-month":"","Last bi-month":"Думоҳаи охир","Last 6 bi-months":"6 думоҳаи охир","Bi-months this year":"","This quarter":"","Last quarter":"Семоҳаи охир","Last 4 quarters":"4 семоҳаи охир","Quarters this year":"Семоҳаҳои ин сол","This six-month":"","Last six-month":"Шашмоҳаи охир","Last 2 six-month":"","This financial year":"","Last financial year":"Соли молиявии гузашта","Last 5 financial years":"5 соли молиявии гузашта","This year":"Имсол","Last year":"Соли гузашта","Last 5 years":"5 соли охир","Last 10 years":"",Days:HAe,Weeks:XAe,"Bi-weeks":"",Months:ZAe,"Bi-months":"Думоҳаҳо",Quarters:KAe,"Six-months":"Шашмоҳаҳо","Financial Years":"",Years:QAe,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:JAe,Series:ePe,Category:tPe,Filter:nPe,Columns:iPe,Rows:rPe,Points:aPe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:sPe,"Select a program":"",Indicators:oPe,"Indicator group":"Гурӯҳи индикаторҳо","All groups":"",Indicator:lPe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Гурӯҳи унсурҳои иттилоот","Data element":"Унсури иттилоот","No data element groups found":"","Loading data element groups":"","Data sets":"Маҷмӯъҳои иттилоот","Data set":"Маҷмӯи иттилоот","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"Идоракунии индикатори барнома",Calculations:cPe,Number:"Рақам","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:uPe,Regular:dPe,Large:hPe,"Extra Large":"",Left:pPe,Center:mPe,Right:fPe,Start:gPe,Middle:yPe,End:vPe,Top:xPe,Bottom:bPe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:_Pe,"Organisation unit":"Воҳиди сохторӣ","Assigned Categories":"","Pivot table":"",Area:wPe,"Stacked area":"",Bar:TPe,"Stacked bar":"",Column:SPe,"Year over year (column)":"","Stacked column":"",Gauge:CPe,Line:EPe,"Line list":"","Year over year (line)":"",Pie:kPe,Radar:NPe,Scatter:LPe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:IPe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:APe,Base:PPe,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},MPe="",OPe="",RPe="",$Pe="",zPe="",FPe="",jPe="",BPe="",UPe="",GPe="",YPe="",VPe="",WPe="",qPe="",HPe="",XPe="",ZPe="",KPe="",QPe="",JPe="",eDe="",tDe="",nDe="",iDe="",rDe="",aDe="",sDe="",oDe="",lDe="",cDe="",uDe="",dDe="",hDe="",pDe="",mDe="",fDe="",gDe="",yDe="",vDe="",xDe="",bDe="",_De="",wDe="",TDe="",SDe="",CDe="",EDe="",kDe="",NDe="",LDe="",IDe="",ADe="",PDe="",DDe="",MDe="",ODe="",RDe="",$De="",zDe="",FDe="",jDe="",BDe="",UDe="",GDe="",YDe="",VDe="",WDe="",qDe="",HDe="",XDe="",ZDe="",KDe="",QDe="",JDe="",eMe="",tMe="",nMe="",iMe="",rMe="",aMe="",sMe="",oMe="",lMe={"view only":"สำหรับดูเท่านั้น","view and edit":"ดู และ แก้ไข","all users ({{accessLevel}})":"ผู้ใช้ทั้งหมด ( {{accessLevel}} )","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}}  ( {{accessLevel}} )","Shared with {{commaSeparatedListOfUsersAndGroups}}":"แชร์กับ {{commaSeparatedListOfUsersAndGroups}} ","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:MPe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:OPe,"Subscribe to get updates about new interpretations.":"",Subscribe:RPe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:$Pe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:zPe,"Data elements":"","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","Only {{dataType}} can be used in {{visType}}":"","All types":"",Disaggregation:FPe,"No data":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No calculations found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:jPe,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:BPe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:UPe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:GPe,File:YPe,New:VPe,"Open…":"",Save:WPe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:qPe,"Rename {{fileType}}":"",Name:HPe,Description:XPe,Rename:ZPe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:KPe,visualization:QPe,Edit:JPe,"Write a reply":"","Post reply":"","Delete failed":"","Could not update comment":"","Enter comment text":"",Update:eDe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:tDe,Reply:nDe,"{{count}} replies":"","View replies":"",Unlike:iDe,Like:rDe,"See interpretation":"","Open in app":"",Share:aDe,"Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:sDe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Not available offline":"","Created by":"",Anyone:oDe,"Only you":"",Others:lDe,"Not supported by this app yet":"","Filter by name":"",Created:cDe,"Last updated":"",Type:uDe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:dDe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:hDe,Hide:pDe,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:mDe,"Select year":"",Period:fDe,"Selected Periods":"","Relative periods":"","Fixed periods":"","No periods selected":"",Daily:gDe,Weekly:yDe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:vDe,"Bi-monthly":"",Quarterly:xDe,"Six-monthly":"","Six-monthly April":"",Yearly:bDe,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:_De,Yesterday:wDe,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:TDe,Weeks:SDe,"Bi-weeks":"",Months:CDe,"Bi-months":"",Quarters:EDe,"Six-months":"","Financial Years":"",Years:kDe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:NDe,Series:LDe,Category:IDe,Filter:ADe,Columns:PDe,Rows:DDe,Points:MDe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:ODe,"Select a program":"",Indicators:RDe,"Indicator group":"","All groups":"",Indicator:$De,"No indicator groups found":"","Loading indicator groups":"","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:zDe,Number:"","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:FDe,Regular:jDe,Large:BDe,"Extra Large":"",Left:UDe,Center:GDe,Right:YDe,Start:VDe,Middle:WDe,End:qDe,Top:HDe,Bottom:XDe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:ZDe,"Organisation unit":"","Assigned Categories":"","Pivot table":"",Area:KDe,"Stacked area":"",Bar:QDe,"Stacked bar":"",Column:JDe,"Year over year (column)":"","Stacked column":"",Gauge:eMe,Line:tMe,"Line list":"","Year over year (line)":"",Pie:nMe,Radar:iMe,Scatter:rMe,"Single value":"","Outlier table":"","All charts":"","{{seriesName}} (trend)":"",Trend:aMe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:sMe,Base:oMe,"Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""},cMe="",uMe="",dMe="",hMe="Скасувати",pMe="Завантаження",mMe="",fMe="",gMe="Прибрати",yMe="Пошук",vMe="Видалити",xMe="Файл",bMe="Нове",_Me="Зберегти",wMe="Закрити",TMe="Ім'я",SMe="Змалювання",CMe="Перейменувати",EMe="мапа",kMe="",NMe="Редагувати",LMe="Оновити",IMe="Інтерпретації",AMe="Відповісти",PMe="Прибрати вподобання",DMe="Вподобати",MMe="Поділитися",OMe="",RMe="",$Me="",zMe="Створено",FMe="Тип",jMe="Відкрити",BMe="Опції",UMe="Сховати",GMe="Рік",YMe="Період",VMe="Щодня",WMe="Щотижня",qMe="Щомісячно",HMe="Щоквартально",XMe="Щорічно",ZMe="Сьогодні",KMe="Вчора",QMe="Дні",JMe="Тижні",eOe="Місяці",tOe="Квартали",nOe="Роки",iOe="",rOe="Серія",aOe="Категорія",sOe="Фільтр",oOe="",lOe="",cOe="",uOe="Програма",dOe="Показники",hOe="Показник",pOe="",mOe="Маленький",fOe="",gOe="Великий",yOe="",vOe="",xOe="",bOe="",_Oe="",wOe="",TOe="Верх",SOe="Низ",COe="Дані",EOe="З областями",kOe="Гістограма",NOe="Стовпчик",LOe="Індикатор",IOe="Лінійна",AOe="Секторна",POe="Пелюсткова",DOe="Точкова",MOe="",OOe="Ціль",ROe="",$Oe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Немає опису","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"",Notifications:cMe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:uMe,"Subscribe to get updates about new interpretations.":"",Subscribe:dMe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:hMe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"Так, видалити","Totals only":"","Details only":"",Loading:pMe,"Data elements":"Елементи даних","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"Всі типи",Disaggregation:mMe,"No data":"Немає даних","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:fMe,"Metric type":"","All metrics":"Всі метрики","Move to {{axisName}}":"","Add to {{axisName}}":"Додати до {{axisName}}","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"Додати призначені категорії",Remove:gMe,"Filter dimensions":"Виміри фільтра","Main dimensions":"Основні виміри","Your dimensions":"Ваші виміри","Dimension recommended with selected data":"","All items":"Всі елементи","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:yMe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:vMe,File:xMe,New:bMe,"Open…":"",Save:_Me,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Відкрити в цьому додатку",Close:wMe,"Rename {{fileType}}":"",Name:TMe,Description:SMe,Rename:CMe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"звіт про подію","line list":"",map:EMe,visualization:kMe,Edit:NMe,"Write a reply":"Написати відповідь","Post reply":"","Delete failed":"Не вдалося видалити","Could not update comment":"","Enter comment text":"",Update:LMe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Написати інтерпретацію","Post interpretation":"",Interpretations:IMe,Reply:AMe,"{{count}} replies_0":"{{count}} відповідей","{{count}} replies_1":"{{count}} відповідей","{{count}} replies_2":"{{count}} відповідей","{{count}} replies_3":"{{count}} відповідей","View replies":"",Unlike:PMe,Like:DMe,Share:MMe,"See interpretation":"","Manage sharing":"Керування спільним доступом","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:OMe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Результатів не знайдено","Not available offline":"Недоступно в автономному режимі","Created by":"Створено",Anyone:RMe,"Only you":"",Others:$Me,"Not supported by this app yet":"","Filter by name":"Відфільтрувати за іменем",Created:zMe,"Last updated":"Останнє оновлення",Type:FMe,"Clear filters":"Очистити фільтри","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:jMe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Створити новий","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:BMe,Hide:UMe,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Організаційний підрозділ користувачів","User sub-units":"Одиниці підрозділів користувачів","User sub-x2-units":"Підрозділи користувачів 2-го рівня","Select a level":"Вибрати рівень","Select a group":"Вибрати групу","Deselect all":"Скасувати вибір усіх","Period type":"",Year:GMe,"Select year":"",Period:YMe,"Relative periods":"Відносні періоди","Fixed periods":"","Selected Periods":"","No periods selected":"",Daily:VMe,Weekly:WMe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"Щодвотижневий",Monthly:qMe,"Bi-monthly":"Щодва місяці",Quarterly:HMe,"Six-monthly":"Раз на півріччя","Six-monthly April":"Раз на півріччя квітень",Yearly:XMe,"Financial year (Start November)":"","Financial year (Start October)":"Фінансовий рік (Початок у жовтні)","Financial year (Start July)":"Фінансовий рік (Початок у липні)","Financial year (Start April)":"Фінансовий рік (Початок у квітні)",Today:ZMe,Yesterday:KMe,"Last 3 days":"Минулі 3 дні","Last 7 days":"Минулі 7 днів","Last 14 days":"Минулі 14 днів","Last 30 days":"Останні 30 днів","Last 60 days":"Останні 60 днів","Last 90 days":"Останні 90 днів","Last 180 days":"Останні 180 днів","This week":"Поточний тиждень","Last week":"Минулий тиждень","Last 4 weeks":"Останні 4 тижні","Last 12 weeks":"Останні 12 тижнів","Last 52 weeks":"Останні 52 тижні","Weeks this year":"Тижні поточного року","This bi-week":"Теперішній двотижневий проміжок","Last bi-week":"Попередній двотижневий проміжок","Last 4 bi-weeks":"Попередні 4 двотижневі проміжки","This month":"Поточний місяць","Last month":"Останній місяць","Last 3 months":"Останні 3 місяці","Last 6 months":"Останні 6 місяців","Last 12 months":"Останні 12 місяців","Months this year":"Місяців поточного року","This bi-month":"Поточний двомісячний період","Last bi-month":"Останні два місяці","Last 6 bi-months":"Останні 6 двомісячних періоди","Bi-months this year":"Щодва місяці поточного року","This quarter":"Поточний квартал","Last quarter":"Минулий квартал","Last 4 quarters":"Останні 4 квартали","Quarters this year":"Квартали поточного року","This six-month":"Поточне півріччя","Last six-month":"Останнє півріччя","Last 2 six-month":"","This financial year":"Поточний фінансовий рік","Last financial year":"Минулий фінансовий рік","Last 5 financial years":"Останні 5 фінансових років","This year":"Поточний рік","Last year":"Минулий рік","Last 5 years":"Останні 5 років","Last 10 years":"Останні 10 років",Days:QMe,Weeks:JMe,"Bi-weeks":"Двотижневі проміжки",Months:eOe,"Bi-months":"Двомісячні періоди",Quarters:tOe,"Six-months":"Півріччя","Financial Years":"",Years:nOe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:iOe,Series:rOe,Category:aOe,Filter:sOe,Columns:oOe,Rows:lOe,Points:cOe,"Reporting rate":"Частота повідомлень","Reporting rate on time":"Частота повідомлень у часі","Actual reports":"Фактичні звіти","Actual reports on time":"Фактичні звіти за часом","Expected reports":"Очікувані звіти",Program:uOe,"Select a program":"",Indicators:dOe,"Indicator group":"Група показників","All groups":"",Indicator:hOe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Група елементів даних","Data element":"Елемент даних","No data element groups found":"","Loading data element groups":"","Data sets":"Набори даних","Data set":"Набір даних","All data sets":"","Loading data sets":"","Event data items":"Складові дані події","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"Програмні показники","Program indicator":"Program indicator",Calculations:pOe,Number:"Кількість","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:mOe,Regular:fOe,Large:gOe,"Extra Large":"",Left:yOe,Center:vOe,Right:xOe,Start:bOe,Middle:_Oe,End:wOe,Top:TOe,Bottom:SOe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:COe,"Organisation unit":"Організаційний підрозділ","Assigned Categories":"","Pivot table":"Зведена таблиця",Area:EOe,"Stacked area":"З областями з накопиченням",Bar:kOe,"Stacked bar":"Гістограма з накопиченням",Column:NOe,"Year over year (column)":"Рік за роком (стовпчик)","Stacked column":"Стовпчаста з накопиченням",Gauge:LOe,Line:IOe,"Line list":"Перелік рядків","Year over year (line)":"Рік за роком (лінія)",Pie:AOe,Radar:POe,Scatter:DOe,"Single value":"Одне значення","All charts":"","{{seriesName}} (trend)":"",Trend:MOe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:OOe,Base:ROe,"Axis {{axisId}}":"Вісь {{axisId}}","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","Reset zoom":""},zOe="",FOe="",jOe="",BOe="منسوخ",UOe="لوڈ کر رہا ہے",GOe="ناجائز",YOe="",VOe="حذف",WOe="تلاش کریں",qOe="حذف",HOe="فائل",XOe="نیا",ZOe="محفوظ",KOe="بند",QOe="ÙØ§Ù",JOe="تفصیلات",eRe="نام بدلو",tRe="",nRe="",iRe="ترمیم",rRe="اپڈیٹ",aRe="تشریحات",sRe="جواب",oRe="برعکس",lRe="کی طرح",cRe="بانٹیں",uRe="پیش نظارہ",dRe="",hRe="دیگر",pRe="تخلیق",mRe="ٹائپ",fRe="کھلا",gRe="اختیارات",yRe="چھپائیں",vRe="سال",xRe="مدت",bRe="روزانہ",_Re="ہفتہ وار",wRe="ماہانہ",TRe="سہ ماہی",SRe="سالانہ",CRe="آج",ERe="کل",kRe="دن",NRe="ہفتوں",LRe="مہینے",IRe="چوتھائی",ARe="سال",PRe="",DRe="سیریز",MRe="قسم",ORe="فلٹر",RRe="",$Re="",zRe="",FRe="پروگرام",jRe="اشارے",BRe="اشارے",URe="",GRe="چھوٹے",YRe="باقاعدہ",VRe="بڑے",WRe="بائیں",qRe="",HRe="ٹھیک ہے",XRe="شروع کریں",ZRe="",KRe="",QRe="اوپر",JRe="نیچے",e3e="ڈیٹا",t3e="رقبہ",n3e="بار",i3e="کالم",r3e="گیج",a3e="لائن",s3e="پائی",o3e="رڈار",l3e="",c3e="رجحان",u3e="ہدف",d3e="بنیاد",h3e={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"کوئی وضاحت نہیں","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:zOe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:FOe,"Subscribe to get updates about new interpretations.":"",Subscribe:jOe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:BOe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:UOe,"Data elements":"ڈیٹا عنصر","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:GOe,"No data":"کوئی مواد نہیں","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:YOe,"Metric type":"","All metrics":"تمام میٹرکس","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:VOe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:WOe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:qOe,File:HOe,New:XOe,"Open…":"",Save:ZOe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:KOe,"Rename {{fileType}}":"",Name:QOe,Description:JOe,Rename:eRe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:tRe,visualization:nRe,Edit:iRe,"Write a reply":"","Post reply":"","Delete failed":"حذف ناکام ہوگیا","Could not update comment":"","Enter comment text":"",Update:rRe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:aRe,Reply:sRe,"{{count}} replies":"","{{count}} replies_plural":"","View replies":"",Unlike:oRe,Like:lRe,Share:cRe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:uRe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"کوئی نتیجہ نہیں ملا","Not available offline":"","Created by":"تخلیق کیا",Anyone:dRe,"Only you":"",Others:hRe,"Not supported by this app yet":"","Filter by name":"فلٹر برائے نام",Created:pRe,"Last updated":"آخری اپ ڈیٹ",Type:mRe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:fRe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:gRe,Hide:yRe,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"صارف تنظیم یونٹ","User sub-units":"صارف ذیلی یونٹس","User sub-x2-units":"صارف ذیلی X2-یونٹس","Select a level":"","Select a group":"","Deselect all":"سب کو منتخب کریں","Period type":"مدت کی قسم",Year:vRe,"Select year":"سال کو منتخب کریں",Period:xRe,"Relative periods":"رشتہ دار دور","Fixed periods":"فکسڈ مدت","Selected Periods":"","No periods selected":"کوئی مدت منتخب نہیں",Daily:bRe,Weekly:_Re,"Weekly (Start Wednesday)":"ہفتہ وار (بدھ شروع کریں)","Weekly (Start Thursday)":"ہفتہ وار (جمعرات شروع کریں)","Weekly (Start Saturday)":"ہفتہ وار (ہفتہ شروع کریں)","Weekly (Start Sunday)":"ہفتہ (اتوار شروع کریں)","Bi-weekly":"",Monthly:wRe,"Bi-monthly":"دو ماہی",Quarterly:TRe,"Six-monthly":"چھ ماہی","Six-monthly April":"چھ ماہی اپریل",Yearly:SRe,"Financial year (Start November)":"","Financial year (Start October)":"مالی سال (اکتوبر شروع کریں)","Financial year (Start July)":"مالی سال (جولائی شروع کریں)","Financial year (Start April)":"مالی سال (اپریل شروع کریں)",Today:CRe,Yesterday:ERe,"Last 3 days":"آخری 3 دن","Last 7 days":"آخری 7 دن","Last 14 days":"آخری 14 دن","Last 30 days":"آخری 30 دن","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"اس ہفتے","Last week":"آخری ہفتہ","Last 4 weeks":"آخری ۴ ہفتے","Last 12 weeks":"آخری ۱۲ ہفتے","Last 52 weeks":"آخری ۵۲ ہفتے","Weeks this year":"اس سال ہفتہ","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"اس مہینے","Last month":"آخری ماہ","Last 3 months":"آخری ۳ ماہ","Last 6 months":"آخری ۶ ماہ","Last 12 months":"آخری ۱۲ ماہ","Months this year":"ماہ اس سال","This bi-month":"یہ دو ماہ","Last bi-month":"آخری دو ماہ","Last 6 bi-months":"آخری ۶ دو ماہانہ","Bi-months this year":"اس مہینے میں مہینے","This quarter":"اس سہ ماہی","Last quarter":"آخری سہ ماہ","Last 4 quarters":"آخری ۴ سہ ماہی","Quarters this year":"سہ ماہی اس سال","This six-month":"یہ چھ ماہ","Last six-month":"آخری ۶ ماہ","Last 2 six-month":"","This financial year":"اس مالیاتی سال","Last financial year":"آخری مالیاتی سال","Last 5 financial years":"آخری ۵ مالیاتی سال","This year":"اس سال","Last year":"آخری سال","Last 5 years":"آخری ۵ سال","Last 10 years":"آخری 10 سال",Days:kRe,Weeks:NRe,"Bi-weeks":"",Months:LRe,"Bi-months":"دو ماہ",Quarters:IRe,"Six-months":"چھ ماہ","Financial Years":"",Years:ARe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:PRe,Series:DRe,Category:MRe,Filter:ORe,Columns:RRe,Rows:$Re,Points:zRe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"اصل رپورٹ","Actual reports on time":"","Expected reports":"متوقع رپورٹ",Program:FRe,"Select a program":"",Indicators:jRe,"Indicator group":"اشاروں کا گروپ","All groups":"",Indicator:BRe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"ڈیٹا عناصر گروپ","Data element":"ڈیٹا عنصر","No data element groups found":"","Loading data element groups":"","Data sets":"ڈیٹا سیٹس","Data set":"ڈیٹا سیٹ","All data sets":"","Loading data sets":"","Event data items":"واقعہ کے اعداد و شمار کی اشیاء","All programs":"","Event data item":"واقعہ کے اعداد و شمار کے آئٹم","No programs found":"","Loading programs":"","Program indicators":"پروگرام اشارے","Program indicator":"پروگرام کا اشارہ",Calculations:URe,Number:"نمبر","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:GRe,Regular:YRe,Large:VRe,"Extra Large":"",Left:WRe,Center:qRe,Right:HRe,Start:XRe,Middle:ZRe,End:KRe,Top:QRe,Bottom:JRe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:e3e,"Organisation unit":"تنظیم یونٹ","Assigned Categories":"","Pivot table":"",Area:t3e,"Stacked area":"",Bar:n3e,"Stacked bar":"اسٹیک بار",Column:i3e,"Year over year (column)":"","Stacked column":"اسٹیک کالم",Gauge:r3e,Line:a3e,"Line list":"","Year over year (line)":"",Pie:s3e,Radar:o3e,Scatter:l3e,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:c3e,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:u3e,Base:d3e,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},p3e="Жами",m3e="Тафсилотлари",f3e="Тафсилот",g3e="Ўчириш",y3e="Излаш",v3e="Йил",x3e="Давр",b3e="Январь",_3e="Февраль",w3e="Март",T3e="Апрель",S3e="Май",C3e="Июнь",E3e="Июль",k3e="Август",N3e="Сентябрь",L3e="Октябрь",I3e="Ноябрь",A3e="Декабрь",P3e="Кунлик",D3e="Ҳафталик",M3e="Ойлик",O3e="Ҳар квартал",R3e="Йиллик",$3e="Бугун",z3e="Кеча",F3e="Кунлар",j3e="Ҳафталар",B3e="Ойлар",U3e="Квартал",G3e="Йиллар",Y3e="Кетма-кетликлар",V3e="Категория",W3e="Фильтр",q3e="Устунлар",H3e="Қаторлар",X3e="Программа",Z3e="Индикаторлар",K3e="Кичик",Q3e="Регуляр",J3e="Катта",e$e="Чап",t$e="Марказ",n$e="Ўнг",i$e="Бошлаш",r$e="Ўртав",a$e="Охири",s$e="Юқоридаги",o$e="Пастки",l$e="Маълумот",c$e="Устун",u$e="Тизимча",d$e="Қатор",h$e="Майдон",p$e="Бутун айлана",m$e="Радар",f$e="Ҳисоблагич",g$e="Нишон",y$e="Асос",v$e={"Data Type":"Маълумот тури",Totals:p3e,Details:m3e,Detail:f3e,"Move to {{axisName}}":"Ҳаракатланинг {{axisName}} га қараб","Add to {{axisName}}":"{{axisName}} га қўшинг",Remove:g3e,"Not available for {{visualizationType}}":"{{visualizationType}} учун мавжуд эмас","Remove Assigned Categories":"Белгиланган категориялар ўчирилсин","Add Assigned Categories":"Белгиланган категориялар қўшилсин","Filter dimensions":"Фильтр созламалари","Main dimensions":"Умумий ўлчамлар","Your dimensions":"Сизнинг созламаларингиз","Dimension recommended with selected data":"Танланган маълумотлар учун созламалар тавсия этилади","No items selected":"Элемент танланмаган","Selected Items":"Элемент танланган",Search:y3e,"Selected Data":"Танланган маълумот","Deselect All":"Барчасини танланганлигини бекор қилиш","Select all":"Барчасини танлаш","Period type":"Давр тури",Year:v3e,"Select year":"Йилни танланг",Period:x3e,"Relative periods":"Нисбий даврлар","Fixed periods":"Белигаланган даврлар","Selected Periods":"Танланган Даврлар","No periods selected":"Давр танланмаган",January:b3e,February:_3e,March:w3e,April:T3e,May:S3e,June:C3e,July:E3e,August:k3e,September:N3e,October:L3e,November:I3e,December:A3e,"Week {{weekNumber}}":"Ҳафта {{ҳафтаРақам}}","Bi-Week {{biWeekNumber}}":"Жуфт ҳафта {{жуфтҲафтаРақам}}",Daily:P3e,Weekly:D3e,"Bi-weekly":"Жуфт ҳафталик","Weekly (Start Wednesday)":"Ҳафталик (Бошланиши Чоршанба)","Weekly (Start Thursday)":"Ҳафталик (Бошланиши Пайшанба)","Weekly (Start Saturday)":"Ҳафталик (Бошланиши Шанба)","Weekly (Start Sunday)":"Ҳафталик (Бошланиши Якшанба)",Monthly:M3e,"Bi-monthly":"Жуфт ойлик",Quarterly:O3e,"Six-monthly":"Ярим йиллик","Six-monthly April":"Ярим йиллик Апрель",Yearly:R3e,"Financial year (Start November)":"Молиявий йил (Бошланиши Ноябрь)","Financial year (Start October)":"Молиявий йил (бошланиши Октябрь)","Financial year (Start July)":"Молиявий йил (бошланиши Июль)","Financial year (Start April)":"Молиявий йил (бошланиши Апрель)",Today:$3e,Yesterday:z3e,"Last 3 days":"Охирги 3 кун","Last 7 days":"Охирги 7 кун","Last 14 days":"Охирги 14 кун","Last 30 days":"Охирги 30 кун","Last 60 days":"Охирги 60 кун","Last 90 days":"Охирги 90 кун","Last 180 days":"Охирги 180 кун","This week":"Ушбу ҳафта","Last week":"Охирги ҳафта","Last 4 weeks":"Охирги 4 ҳафта","Last 12 weeks":"Охирги 12 ҳафта","Last 52 weeks":"Охирги 52 ҳафта","Weeks this year":"Ҳафталар айни йилда ","This bi-week":"Ушбу жуфт ҳафта","Last bi-week":"Охирги жуфт ҳафта","Last 4 bi-weeks":"Охирги 4 жуфт ҳафталар","This month":"Ушбу ой","Last month":"Охирги ой","Last 3 months":"Охирги 3 ой","Last 6 months":"Охирги 6 ой","Last 12 months":"Охирги 12 ой","Months this year":"Ойлар айни йилда","This bi-month":"Ушбу жуфт ой","Last bi-month":"Охирги 2 ой","Last 6 bi-months":"Охирги 6 жуфт ойлар","Bi-months this year":"Айни йилдаги жуфт ойлар","This quarter":"Ушбу квартал","Last quarter":"Охирги квартал","Last 4 quarters":"Охирги 4 квартал","Quarters this year":"Ушбу йилдаги кварталлар","This six-month":"Ушбу ярим йиллик","Last six-month":"Охирги 6 ой","Last 2 six-month":"Охирги жуфт ярим йиллик","This financial year":"Ушбу молиявий йил","Last financial year":"Охирги молиявий йил","Last 5 financial years":"Охирги 5 молиявий йиллар","This year":"Ушбу йил","Last year":"Охирги йил","Last 5 years":"Охирги 5 йил",Days:F3e,Weeks:j3e,"Bi-weeks":"Жуфт ҳафталар",Months:B3e,"Bi-months":"2 ой",Quarters:U3e,"Six-months":"Ярим йиллик","Financial Years":"Молиявий йиллар",Years:G3e,Series:Y3e,Category:V3e,Filter:W3e,Columns:q3e,Rows:H3e,"Reporting rate":"Ҳисоботдаги ставка","Reporting rate on time":"Ҳисоботдаги ставка ўз вақтида","Actual reports":"Ҳақиқий ҳисоботлар","Actual reports on time":"Ҳақиқий ҳисоботлар ўз вақтида","Expected reports":"Кутилаётган ҳисоботлар",Program:X3e,"Select a program":"Дастурни танланг",Indicators:Z3e,"Select indicator group":"Индикатор гуруҳини танлаш","[ All groups ]":"[Барча гуруҳлар]","Data elements":"Маълумот элементлари","Select data element group":"Маълумотлар элементи гуруҳини танлаш","[ All data elements ]":"[Маълумотлар барча  элементлари]","Data sets":"Маълумотлар тўплами","Select data sets":"Маълумотлар тўпламларини танланг","[ All metrics ]":"[Барча ўлчовлар]","Event data items":"Ҳодисалар ҳақида маълумот элементлари","Program indicators":"Дастур кўрсатгичлари","Extra Small":"Жуда Кичик",Small:K3e,Regular:Q3e,Large:J3e,"Extra Large":"Жуда Катта",Left:e$e,Center:t$e,Right:n$e,Start:i$e,Middle:r$e,End:a$e,Top:s$e,Bottom:o$e,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} ва {{lastOuName}}","{{allDynamicOuNames}} levels":"Барча {{allDynamicOuNames}} поғоналар","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} гуруҳлар","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} поғоналар {{staticOuNames}} ичида","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} гуруҳлар {{staticOuNames}} ичида",Data:l$e,"Organisation Unit":"Ташкилий Бўлим","Assigned Categories":"Белгиланган Категориялар","Pivot table":"Таянч жадвал",Column:c$e,"Stacked column":"Йиғилган устун",Bar:u$e,"Stacked bar":"Йиғилган тизимча",Line:d$e,Area:h$e,"Stacked area":"Йиғилган майдон",Pie:p$e,Radar:m$e,Gauge:f$e,"Year over year (line)":"Йилдан йилга (қатор)","Year over year (column)":"Йилдан йилга (устун)","Single value":"Ягона қиймат","View data and indicators in a manipulatable table.":"Бошқариладиган жадвалда индикаторлар ва маълумотларни кўздан кечиринг","Compare sizes of related element, displayed vertically. Recommend period in filter.":"Вертикал кўрсатилаётган боғланган элементлар ўлчамларини солиштиринг. Фильтр учун даврни тавсия этинг.","Compare parts of a whole against related elements, vertically. Recommend data or org. unit as series.":"Яхлитликнинг қисмларини вертикал бўйича боғлиқликларини таққосланг. Серия сифатида маълумот ёки ташкилий бўлимни тавсия этинг. ","Compare sizes of related elements, displayed horizontally. Recommend period in filter.":"Боғлиқ элементлар ўлчамларини таққосланг, горизонтал кўринишдагиларни. Фильтр ичида даврни тавсия этинг.","Compare parts of a whole against related elements, horizontally. Recommend data or org. unit as series.":"Яхлитликнинг қисмларини горизонтал бўйича боғлиқликларини таққосланг. Серия сифатида маълумот ёки ташкилий бўлимни тавсия этинг. ","Track or compare changes over time. Recommend period as the category.":"Доимий равишда кузатинг ва солиштиринг. Даврни категория сифатида тавсия этинг.","Track or compare over time parts of a whole. Recommend data in series and period in category.":"Яхлитлик қисмларини кузатинг ва солиштиринг.Маълумотларни серияларда ва даврий категорияларда тавсия этинг.","Compare parts of a whole at a single point in time. Recommend period in the filter.":"Яхлитликнинг қисмларини айни бир вақт нуқтасида таққосланг. Фильтрда даврни тавсия этинг.","Compare several items against multiple variables.":"Бир неча элементлар ва бир неча ўзгарувчиларга нисбатан таққосланг.","Compare a percentage indicator against a 100% scale. Recommend period in filter.":"100 фоизлик шкала асосида фоизлар нисбатини таққосланг. Фильтрда даврни тавсия этинг.","Compare changes over time between multiple time periods.":"Вақт ўтиши билан бир неча вақт оралиғидаги ўзгаришларни таққосланг.","Display a single value. Recommend relative period to show latest data.":"Битта қийматни кўрсатиш. Охирги маълумотларни кўрсатиш учун боғлиқ даврни таққосланг.","No legend for this series":"",Target:g$e,Base:y$e,"Axis {{axisId}}":"Ўқлар {{axisId}}","No data":"Маълумот йўқ"},x$e="",b$e="",_$e="",w$e="Бекор қилиш",T$e="Yuklanmoqda",S$e="",C$e="",E$e="Olib tashlash",k$e="Izlash",N$e="Oʼchirib tashlash",L$e="Fayl",I$e="Yangi",A$e="Saqlash",P$e="Yopmoq",D$e="Исми",M$e="Tavsif",O$e="Қайта номлаш",R$e="xarita",$$e="",z$e="Tahrirlash",F$e="Янгилаш",j$e="Talqinlar",B$e="Javob",U$e="Аksincha",G$e="Kabi, oʼxshash",Y$e="Улашиш",V$e="",W$e="Kimdir",q$e="",H$e="Yaratilgan",X$e="Turi",Z$e="Ochiq",K$e="Вариант",Q$e="Berkitish",J$e="Yil",eze="Davr",tze="Kunlik",nze="Haftalik",ize="Oylik",rze="Har kvartal",aze="Yillik",sze="Bugun",oze="Kecha",lze="Kunlar",cze="Haftalar",uze="Oylar",dze="Kvartal",hze="Yillar",pze="",mze="Ketma-ketliklar",fze="Kategoriya",gze="Filtr",yze="Ustunlar",vze="Qatorlar",xze="Nuqtalar",bze="Programma",_ze="Indikatorlar",wze="Indikator",Tze="",Sze="Kichik",Cze="Regulyar",Eze="Katta",kze="Chap",Nze="Markaz",Lze="Oʼng",Ize="Boshlash",Aze="Oʼrtav",Pze="Oxiri",Dze="Yuqoridagi",Mze="Pastki",Oze="Maʼlumot",Rze="Maydon",$ze="Tizimcha",zze="Ustun",Fze="Hisoblagich",jze="Qator",Bze="Butun aylana",Uze="Radar",Gze="Tarqoqlik",Yze="Yoʼnalish",Vze="Nishon",Wze="Аsos",qze={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Tavsif yoʼq","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:x$e,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:b$e,"Subscribe to get updates about new interpretations.":"",Subscribe:_$e,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:w$e,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:T$e,"Data elements":"Maʼlumot elementlari","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"Maʼlumot turi","All types":"Barcha turlari",Disaggregation:S$e,"No data":"Maʼlumot yoʼq","Search by data item name":"","No items selected":"Element tanlanmagan","Selected Items":"Element tanlangan","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:C$e,"Metric type":"","All metrics":"Barcha koʼrsatgichlar","Move to {{axisName}}":"Harakatlaning {{axisName}} ga qarab","Add to {{axisName}}":"{{axisName}} ga qoʼshing","Not available for {{visualizationType}}":"{{visualizationType}} uchun mavjud emas","Remove Assigned Categories":"Belgilangan kategoriyalar oʼchirilsin","Add Assigned Categories":"Belgilangan kategoriyalar qoʼshilsin",Remove:E$e,"Filter dimensions":"Filtr sozlamalari","Main dimensions":"Umumiy oʼlchamlar","Your dimensions":"Sizning sozlamalaringiz","Dimension recommended with selected data":"Tanlangan maʼlumotlar uchun sozlamalar tavsiya etiladi","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:k$e,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:N$e,File:L$e,New:I$e,"Open…":"",Save:A$e,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Ushbu ilovada oching",Close:P$e,"Rename {{fileType}}":"",Name:D$e,Description:M$e,Rename:O$e,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"hodisa/tadbir hisoboti","line list":"",map:R$e,visualization:$$e,Edit:z$e,"Write a reply":"Izoh yozing","Post reply":"","Delete failed":"Oʼchirish amalga oshmadi","Could not update comment":"","Enter comment text":"",Update:F$e,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Talqin yozish","Post interpretation":"",Interpretations:j$e,Reply:B$e,"{{count}} replies":"","View replies":"",Unlike:U$e,Like:G$e,Share:Y$e,"See interpretation":"","Manage sharing":"Ulashishni boshqarish","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:V$e,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Hech qanday natija topilmadi","Not available offline":"","Created by":"Томонидан яратилган",Anyone:W$e,"Only you":"",Others:q$e,"Not supported by this app yet":"","Filter by name":"Nomi boʼyicha filtrlash",Created:H$e,"Last updated":"Oxirgi yangilangan",Type:X$e,"Clear filters":"Filtrlarni tozalash","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:Z$e,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Yangisini yaratish","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:K$e,Hide:Q$e,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Ташкилий бўлим фойдаланувчиси","User sub-units":"Фойдаланувчига бўйсунувчи бирликлар","User sub-x2-units":"Фойдаланувчига бўйсунувчи 2 даражали бирликлар","Select a level":"Pogʼonani tanlang","Select a group":"Guruhni tanlang","Deselect all":"Barcha tanlanganni bekor qilish","Period type":"Davr turi",Year:J$e,"Select year":"Yilni tanlang",Period:eze,"Relative periods":"Nisbiy davrlar","Fixed periods":"Beligalangan davrlar","Selected Periods":"Tanlangan Davrlar","No periods selected":"Davr tanlanmagan",Daily:tze,Weekly:nze,"Weekly (Start Wednesday)":"Haftalik (Boshlanishi Chorshanba)","Weekly (Start Thursday)":"Haftalik (Boshlanishi Payshanba)","Weekly (Start Saturday)":"Haftalik (Boshlanishi Shanba)","Weekly (Start Sunday)":"Haftalik (Boshlanishi Yakshanba)","Bi-weekly":"Juft haftalik",Monthly:ize,"Bi-monthly":"Juft oylik",Quarterly:rze,"Six-monthly":"Yarim yillik","Six-monthly April":"Yarim yillik Аprel",Yearly:aze,"Financial year (Start November)":"Moliyaviy yil (Boshlanishi Noyabr)","Financial year (Start October)":"Moliyaviy yil (boshlanishi Oktyabr)","Financial year (Start July)":"Moliyaviy yil (boshlanishi Iyul)","Financial year (Start April)":"Moliyaviy yil (boshlanishi Аprel)",Today:sze,Yesterday:oze,"Last 3 days":"Oxirgi 3 kun","Last 7 days":"Oxirgi 7 kun","Last 14 days":"Oxirgi 14 kun","Last 30 days":"Oxirgi 30 kun","Last 60 days":"Oxirgi 60 kun","Last 90 days":"Oxirgi 90 kun","Last 180 days":"Oxirgi 180 kun","This week":"Ushbu hafta","Last week":"Oxirgi hafta","Last 4 weeks":"Oxirgi 4 hafta","Last 12 weeks":"Oxirgi 12 hafta","Last 52 weeks":"Oxirgi 52 hafta","Weeks this year":"Haftalar ayni yilda","This bi-week":"Ushbu juft hafta","Last bi-week":"Oxirgi juft hafta","Last 4 bi-weeks":"Oxirgi 4 juft haftalar","This month":"Ushbu oy","Last month":"Oxirgi oy","Last 3 months":"Oxirgi 3 oy","Last 6 months":"Oxirgi 6 oy","Last 12 months":"Oxirgi 12 oy","Months this year":"Oylar ayni yilda","This bi-month":"Ushbu juft oy","Last bi-month":"Oxirgi 2 oy","Last 6 bi-months":"Oxirgi 6 juft oylar","Bi-months this year":"Аyni yildagi juft oylar","This quarter":"Ushbu kvartal","Last quarter":"Oxirgi kvartal","Last 4 quarters":"Oxirgi 4 kvartal","Quarters this year":"Ushbu yildagi kvartallar","This six-month":"Ushbu yarim yillik","Last six-month":"Oxirgi 6 oy","Last 2 six-month":"Oxirgi juft yarim yillik","This financial year":"Ushbu moliyaviy yil","Last financial year":"Oxirgi moliyaviy yil","Last 5 financial years":"Oxirgi 5 moliyaviy yillar","This year":"Ushbu yil","Last year":"Oxirgi yil","Last 5 years":"Oxirgi 5 yil","Last 10 years":"Oxirgi 10 yil",Days:lze,Weeks:cze,"Bi-weeks":"Juft haftalar",Months:uze,"Bi-months":"2 oy",Quarters:dze,"Six-months":"Yarim yillik","Financial Years":"Moliyaviy yillar",Years:hze,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:pze,Series:mze,Category:fze,Filter:gze,Columns:yze,Rows:vze,Points:xze,"Reporting rate":"Hisobotdagi stavka","Reporting rate on time":"Hisobotdagi stavka oʼz vaqtida","Actual reports":"Haqiqiy hisobotlar","Actual reports on time":"Haqiqiy hisobotlar oʼz vaqtida","Expected reports":"Kutilayotgan hisobotlar",Program:bze,"Select a program":"Dasturni tanlang",Indicators:_ze,"Indicator group":"Koʼrsatgich guruhi","All groups":"",Indicator:wze,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Maʼlumotlar elementi guruhi","Data element":"Maʼlumotlar elementi","No data element groups found":"","Loading data element groups":"","Data sets":"Maʼlumotlar toʼplami","Data set":"Maʼlumotlar toʼplami","All data sets":"","Loading data sets":"","Event data items":"Hodisalar haqida maʼlumot elementlari","All programs":"","Event data item":"Hodisa/Tadbir maʼlumoti elementi","No programs found":"","Loading programs":"","Program indicators":"Dastur indikatorlari","Program indicator":"Dastur indikatori",Calculations:Tze,Number:"Tartib raqami","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Juda Kichik",Small:Sze,Regular:Cze,Large:Eze,"Extra Large":"Juda Katta",Left:kze,Center:Nze,Right:Lze,Start:Ize,Middle:Aze,End:Pze,Top:Dze,Bottom:Mze,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} va {{lastOuName}}","{{allDynamicOuNames}} levels":"Barcha {{allDynamicOuNames}} pogʼonalar","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} guruhlar","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} pogʼonalar {{staticOuNames}} ichida","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} guruhlar {{staticOuNames}} ichida","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:Oze,"Organisation unit":"Ташкилий бирлик","Assigned Categories":"Belgilangan Kategoriyalar","Pivot table":"Solishtirma jadval",Area:Rze,"Stacked area":"Yigʼilgan maydon",Bar:$ze,"Stacked bar":"Yigʼilgan tizimcha",Column:zze,"Year over year (column)":"Yildan yilga (ustun)","Stacked column":"Yigʼilgan ustun",Gauge:Fze,Line:jze,"Line list":"Qatorlar roʼyxati","Year over year (line)":"Yildan yilga (qator)",Pie:Bze,Radar:Uze,Scatter:Gze,"Single value":"Yagona qiymat","All charts":"","{{seriesName}} (trend)":"",Trend:Yze,"No legend for this series":"Ushbu seriya uchun taʼrif mavjud emas","and {{amount}} more...":"","Linear Regression":"",Target:Vze,Base:Wze,"Axis {{axisId}}":"Oʼqlar {{axisId}}","{{count}} items":"","Reset zoom":""},Hze="Билдиришномалар",Xze="",Zze="",Kze="Бекор қилиш",Qze="Юкланмоқда",Jze="Ажратиш",eFe="",tFe="Олиб ташлаш",nFe="Излаш",iFe="Ўчириб ташлаш",rFe="Файл",aFe="Янги",sFe="Сақлаш",oFe="Ёпиш",lFe="Исми",cFe="Тавсиф",uFe="Қайта номлашч",dFe="харита",hFe="Визуализация",pFe="Таҳрирлаш",mFe="Янгилаш",fFe="Талқинлар",gFe="Изоҳ",yFe="Аксинча",vFe="Каби, ўхшаш",xFe="Улашиш",bFe="Олдиндан кўриш",_Fe="Кимдир",wFe="Бошқалар",TFe="Яратилган",SFe="Тури",CFe="Очиқ",EFe="Вариант",kFe="Беркитиш",NFe="Йил",LFe="Давр",IFe="Кунлик",AFe="Ҳафталик",PFe="Ойлик",DFe="Ҳар квартал",MFe="Йиллик",OFe="Бугун",RFe="Кеча",$Fe="Кунлар",zFe="Ҳафталар",FFe="Ойлар",jFe="Квартал",BFe="Йиллар",UFe="",GFe="Кетма-кетликлар",YFe="Категория",VFe="Фильтр",WFe="Устунлар",qFe="Қаторлар",HFe="Нуқталар",XFe="Программа",ZFe="Индикаторлар",KFe="Индикатор",QFe="",JFe="Кичик",eje="Регуляр",tje="Катта",nje="Чап",ije="Марказ",rje="Ўнг",aje="Бошлаш",sje="Ўртав",oje="Охири",lje="Юқоридаги",cje="Пастки",uje="Маълумот",dje="Майдон",hje="Тизимча",pje="Устун",mje="Ҳисоблагич",fje="Қатор",gje="Бутун айлана",yje="Радар",vje="Тарқоқлик",xje="Йўналиш",bje="Нишон",_je="Асос",wje={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Тавсиф йўқ","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:Hze,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:Xze,"Subscribe to get updates about new interpretations.":"",Subscribe:Zze,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"Тармоқда хатолик","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:Kze,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:Qze,"Data elements":"Маълумот элементлари","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"Маълумот тури","All types":"Барча турлари",Disaggregation:Jze,"No data":"Маълумот йўқ","Search by data item name":"","No items selected":"Элемент танланмаган","Selected Items":"Элемент танланган","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:eFe,"Metric type":"","All metrics":"Барча кўрсатгичлар","Move to {{axisName}}":"Ҳаракатланинг {{axisName}} га қараб","Add to {{axisName}}":"{{axisName}} га қўшинг","Not available for {{visualizationType}}":"{{visualizationType}} учун мавжуд эмас","Remove Assigned Categories":"Белгиланган категориялар ўчирилсин","Add Assigned Categories":"Белгиланган категориялар қўшилсин",Remove:tFe,"Filter dimensions":"Фильтр созламалари","Main dimensions":"Умумий ўлчамлар","Your dimensions":"Сизнинг созламаларингиз","Dimension recommended with selected data":"Танланган маълумотлар учун созламалар тавсия этилади","All items":"Барча элементлар","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:nFe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:iFe,File:rFe,New:aFe,"Open…":"",Save:sFe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Ушбу иловада очинг",Close:oFe,"Rename {{fileType}}":"",Name:lFe,Description:cFe,Rename:uFe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"ҳодиса/тадбир ҳисоботи","line list":"",map:dFe,visualization:hFe,Edit:pFe,"Write a reply":"Изоҳ ёзинг","Post reply":"","Delete failed":"Ўчириш амалга ошмади","Could not update comment":"","Enter comment text":"",Update:mFe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Талқин ёзиш","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:fFe,Reply:gFe,"{{count}} replies":"{{count}} изоҳлар","View replies":"",Unlike:yFe,Like:vFe,Share:xFe,"See interpretation":"","Manage sharing":"Улашишни бошқариш","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:bFe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Ҳеч қандай натижа топилмади","Not available offline":"Оффлайн режимда мавжуд эмас","Created by":"Томонидан яратилган",Anyone:_Fe,"Only you":"",Others:wFe,"Not supported by this app yet":"","Filter by name":"Номи бўйича фильтрлаш",Created:TFe,"Last updated":"Охирги янгиланган",Type:SFe,"Clear filters":"Фильтрларни тозалаш","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:CFe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Янгисини яратиш","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:EFe,Hide:kFe,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Танланган: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Ҳеч нима танланмаган","User organisation unit":"Ташкилий бўлим фойдаланувчиси","User sub-units":"Фойдаланувчига бўйсунувчи бирликлар","User sub-x2-units":"Фойдаланувчига бўйсунувчи 2 поғонадаги бўлимлар","Select a level":"Поғонани танланг","Select a group":"Гуруҳни танланг","Deselect all":"Барча танланганни бекор қилиш","Period type":"Давр тури",Year:NFe,"Select year":"Йилни танланг",Period:LFe,"Relative periods":"Нисбий даврлар","Fixed periods":"Белигаланган даврлар","Selected Periods":"Танланган Даврлар","No periods selected":"Давр танланмаган",Daily:IFe,Weekly:AFe,"Weekly (Start Wednesday)":"Ҳафталик (Бошланиши Чоршанба)","Weekly (Start Thursday)":"Ҳафталик (Бошланиши Пайшанба)","Weekly (Start Saturday)":"Ҳафталик (Бошланиши Шанба)","Weekly (Start Sunday)":"Ҳафталик (Бошланиши Якшанба)","Bi-weekly":"Жуфт ҳафталик",Monthly:PFe,"Bi-monthly":"Жуфт ойлик",Quarterly:DFe,"Six-monthly":"Ярим йиллик","Six-monthly April":"Ярим йиллик Апрель",Yearly:MFe,"Financial year (Start November)":"Молиявий йил (Бошланиши Ноябрь)","Financial year (Start October)":"Молиявий йил (бошланиши Октябрь)","Financial year (Start July)":"Молиявий йил (бошланиши Июль)","Financial year (Start April)":"Молиявий йил (бошланиши Апрель)",Today:OFe,Yesterday:RFe,"Last 3 days":"Охирги 3 кун","Last 7 days":"Охирги 7 кун","Last 14 days":"Охирги 14 кун","Last 30 days":"Охирги 30 кун","Last 60 days":"Охирги 60 кун","Last 90 days":"Охирги 90 кун","Last 180 days":"Охирги 180 кун","This week":"Ушбу ҳафта","Last week":"Охирги ҳафта","Last 4 weeks":"Охирги 4 ҳафта","Last 12 weeks":"Охирги 12 ҳафта","Last 52 weeks":"Охирги 52 ҳафта","Weeks this year":"Ҳафталар айни йилда ","This bi-week":"Ушбу жуфт ҳафта","Last bi-week":"Охирги жуфт ҳафта","Last 4 bi-weeks":"Охирги 4 жуфт ҳафталар","This month":"Ушбу ой","Last month":"Охирги ой","Last 3 months":"Охирги 3 ой","Last 6 months":"Охирги 6 ой","Last 12 months":"Охирги 12 ой","Months this year":"Ойлар айни йилда","This bi-month":"Ушбу жуфт ой","Last bi-month":"Охирги 2 ой","Last 6 bi-months":"Охирги 6 жуфт ойлар","Bi-months this year":"Айни йилдаги жуфт ойлар","This quarter":"Ушбу квартал","Last quarter":"Охирги квартал","Last 4 quarters":"Охирги 4 квартал","Quarters this year":"Ушбу йилдаги кварталлар","This six-month":"Ушбу ярим йиллик","Last six-month":"Охирги 6 ой","Last 2 six-month":"Охирги жуфт ярим йиллик","This financial year":"Ушбу молиявий йил","Last financial year":"Охирги молиявий йил","Last 5 financial years":"Охирги 5 молиявий йиллар","This year":"Ушбу йил","Last year":"Охирги йил","Last 5 years":"Охирги 5 йил","Last 10 years":"Охирги 10 йил",Days:$Fe,Weeks:zFe,"Bi-weeks":"Жуфт ҳафталар",Months:FFe,"Bi-months":"2 ой",Quarters:jFe,"Six-months":"Ярим йиллик","Financial Years":"Молиявий йиллар",Years:BFe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:UFe,Series:GFe,Category:YFe,Filter:VFe,Columns:WFe,Rows:qFe,Points:HFe,"Reporting rate":"Ҳисоботдаги ставка","Reporting rate on time":"Ҳисоботдаги ставка ўз вақтида","Actual reports":"Ҳақиқий ҳисоботлар","Actual reports on time":"Ҳақиқий ҳисоботлар ўз вақтида","Expected reports":"Кутилаётган ҳисоботлар",Program:XFe,"Select a program":"Дастурни танланг",Indicators:ZFe,"Indicator group":"Индикатор гуруҳи","All groups":"Барча гуруҳлар",Indicator:KFe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Маълумотлар элементи гуруҳи","Data element":"Маълумотлар элементи","No data element groups found":"","Loading data element groups":"","Data sets":"Маълумотлар тўплами","Data set":"Маълумотлар тўплами","All data sets":"","Loading data sets":"","Event data items":"Ҳодисалар ҳақида маълумот элементлари","All programs":"","Event data item":"Ҳодиса/Тадбир маълумоти элементи","No programs found":"","Loading programs":"","Program indicators":"Дастур индикаторлари","Program indicator":"Дастур индикатори",Calculations:QFe,Number:"Тартиб рақами","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Жуда Кичик",Small:JFe,Regular:eje,Large:tje,"Extra Large":"Жуда Катта",Left:nje,Center:ije,Right:rje,Start:aje,Middle:sje,End:oje,Top:lje,Bottom:cje,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} ва {{lastOuName}}","{{allDynamicOuNames}} levels":"Барча {{allDynamicOuNames}} поғоналар","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} гуруҳлар","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} поғоналар {{staticOuNames}} ичида","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} гуруҳлар {{staticOuNames}} ичида","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:uje,"Organisation unit":"Ташкилий бўлим","Assigned Categories":"Белгиланган Категориялар","Pivot table":"Солиштирма жадвал",Area:dje,"Stacked area":"Йиғилган майдон",Bar:hje,"Stacked bar":"Йиғилган тизимча",Column:pje,"Year over year (column)":"Йилдан йилга (устун)","Stacked column":"Йиғилган устун",Gauge:mje,Line:fje,"Line list":"Қаторлар рўйхати","Year over year (line)":"Йилдан йилга (қатор)",Pie:gje,Radar:yje,Scatter:vje,"Single value":"Ягона қиймат","All charts":"","{{seriesName}} (trend)":"",Trend:xje,"No legend for this series":"Ушбу серия учун таъриф мавжуд эмас","and {{amount}} more...":"","Linear Regression":"",Target:bje,Base:_je,"Axis {{axisId}}":"Ўқлар {{axisId}}","{{count}} items":"","Reset zoom":""},Tje="",Sje="",Cje="",Eje="Бекор қилиш",kje="Yuklanmoqda",Nje="",Lje="",Ije="Olib tashlash",Aje="Izlash",Pje="Oʼchirib tashlash",Dje="Fayl",Mje="Yangi",Oje="Saqlash",Rje="Yopmoq",$je="Исми",zje="Tavsif",Fje="Қайта номлаш",jje="xarita",Bje="",Uje="Tahrirlash",Gje="Янгилаш",Yje="Talqinlar",Vje="Javob",Wje="Аksincha",qje="Kabi, oʼxshash",Hje="Улашиш",Xje="",Zje="Kimdir",Kje="",Qje="Yaratilgan",Jje="Turi",eBe="Ochiq",tBe="Вариант",nBe="Berkitish",iBe="Yil",rBe="Davr",aBe="Kunlik",sBe="Haftalik",oBe="Oylik",lBe="Har kvartal",cBe="Yillik",uBe="Bugun",dBe="Kecha",hBe="Kunlar",pBe="Haftalar",mBe="Oylar",fBe="Kvartal",gBe="Yillar",yBe="",vBe="Ketma-ketliklar",xBe="Kategoriya",bBe="Filtr",_Be="Ustunlar",wBe="Qatorlar",TBe="Nuqtalar",SBe="Programma",CBe="Indikatorlar",EBe="Indikator",kBe="",NBe="Kichik",LBe="Regulyar",IBe="Katta",ABe="Chap",PBe="Markaz",DBe="Oʼng",MBe="Boshlash",OBe="Oʼrtav",RBe="Oxiri",$Be="Yuqoridagi",zBe="Pastki",FBe="Maʼlumot",jBe="Maydon",BBe="Tizimcha",UBe="Ustun",GBe="Hisoblagich",YBe="Qator",VBe="Butun aylana",WBe="Radar",qBe="Tarqoqlik",HBe="Yoʼnalish",XBe="Nishon",ZBe="Аsos",KBe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Tavsif yoʼq","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:Tje,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:Sje,"Subscribe to get updates about new interpretations.":"",Subscribe:Cje,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:Eje,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:kje,"Data elements":"Maʼlumot elementlari","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"Maʼlumot turi","All types":"Barcha turlari",Disaggregation:Nje,"No data":"Maʼlumot yoʼq","Search by data item name":"","No items selected":"Element tanlanmagan","Selected Items":"Element tanlangan","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:Lje,"Metric type":"","All metrics":"Barcha koʼrsatgichlar","Move to {{axisName}}":"Harakatlaning {{axisName}} ga qarab","Add to {{axisName}}":"{{axisName}} ga qoʼshing","Not available for {{visualizationType}}":"{{visualizationType}} uchun mavjud emas","Remove Assigned Categories":"Belgilangan kategoriyalar oʼchirilsin","Add Assigned Categories":"Belgilangan kategoriyalar qoʼshilsin",Remove:Ije,"Filter dimensions":"Filtr sozlamalari","Main dimensions":"Umumiy oʼlchamlar","Your dimensions":"Sizning sozlamalaringiz","Dimension recommended with selected data":"Tanlangan maʼlumotlar uchun sozlamalar tavsiya etiladi","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:Aje,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:Pje,File:Dje,New:Mje,"Open…":"",Save:Oje,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Ushbu ilovada oching",Close:Rje,"Rename {{fileType}}":"",Name:$je,Description:zje,Rename:Fje,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"hodisa/tadbir hisoboti","line list":"",map:jje,visualization:Bje,Edit:Uje,"Write a reply":"Izoh yozing","Post reply":"","Delete failed":"Oʼchirish amalga oshmadi","Could not update comment":"","Enter comment text":"",Update:Gje,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Talqin yozish","Post interpretation":"",Interpretations:Yje,Reply:Vje,"{{count}} replies":"","View replies":"",Unlike:Wje,Like:qje,Share:Hje,"See interpretation":"","Manage sharing":"Ulashishni boshqarish","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:Xje,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Hech qanday natija topilmadi","Not available offline":"","Created by":"Томонидан яратилган",Anyone:Zje,"Only you":"",Others:Kje,"Not supported by this app yet":"","Filter by name":"Nomi boʼyicha filtrlash",Created:Qje,"Last updated":"Oxirgi yangilangan",Type:Jje,"Clear filters":"Filtrlarni tozalash","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:eBe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Yangisini yaratish","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:tBe,Hide:nBe,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Ташкилий бўлим фойдаланувчиси","User sub-units":"Фойдаланувчига бўйсунувчи бирликлар","User sub-x2-units":"Фойдаланувчига бўйсунувчи 2 даражали бирликлар","Select a level":"Pogʼonani tanlang","Select a group":"Guruhni tanlang","Deselect all":"Barcha tanlanganni bekor qilish","Period type":"Davr turi",Year:iBe,"Select year":"Yilni tanlang",Period:rBe,"Relative periods":"Nisbiy davrlar","Fixed periods":"Beligalangan davrlar","Selected Periods":"Tanlangan Davrlar","No periods selected":"Davr tanlanmagan",Daily:aBe,Weekly:sBe,"Weekly (Start Wednesday)":"Haftalik (Boshlanishi Chorshanba)","Weekly (Start Thursday)":"Haftalik (Boshlanishi Payshanba)","Weekly (Start Saturday)":"Haftalik (Boshlanishi Shanba)","Weekly (Start Sunday)":"Haftalik (Boshlanishi Yakshanba)","Bi-weekly":"Juft haftalik",Monthly:oBe,"Bi-monthly":"Juft oylik",Quarterly:lBe,"Six-monthly":"Yarim yillik","Six-monthly April":"Yarim yillik Аprel",Yearly:cBe,"Financial year (Start November)":"Moliyaviy yil (Boshlanishi Noyabr)","Financial year (Start October)":"Moliyaviy yil (boshlanishi Oktyabr)","Financial year (Start July)":"Moliyaviy yil (boshlanishi Iyul)","Financial year (Start April)":"Moliyaviy yil (boshlanishi Аprel)",Today:uBe,Yesterday:dBe,"Last 3 days":"Oxirgi 3 kun","Last 7 days":"Oxirgi 7 kun","Last 14 days":"Oxirgi 14 kun","Last 30 days":"Oxirgi 30 kun","Last 60 days":"Oxirgi 60 kun","Last 90 days":"Oxirgi 90 kun","Last 180 days":"Oxirgi 180 kun","This week":"Ushbu hafta","Last week":"Oxirgi hafta","Last 4 weeks":"Oxirgi 4 hafta","Last 12 weeks":"Oxirgi 12 hafta","Last 52 weeks":"Oxirgi 52 hafta","Weeks this year":"Haftalar ayni yilda","This bi-week":"Ushbu juft hafta","Last bi-week":"Oxirgi juft hafta","Last 4 bi-weeks":"Oxirgi 4 juft haftalar","This month":"Ushbu oy","Last month":"Oxirgi oy","Last 3 months":"Oxirgi 3 oy","Last 6 months":"Oxirgi 6 oy","Last 12 months":"Oxirgi 12 oy","Months this year":"Oylar ayni yilda","This bi-month":"Ushbu juft oy","Last bi-month":"Oxirgi 2 oy","Last 6 bi-months":"Oxirgi 6 juft oylar","Bi-months this year":"Аyni yildagi juft oylar","This quarter":"Ushbu kvartal","Last quarter":"Oxirgi kvartal","Last 4 quarters":"Oxirgi 4 kvartal","Quarters this year":"Ushbu yildagi kvartallar","This six-month":"Ushbu yarim yillik","Last six-month":"Oxirgi 6 oy","Last 2 six-month":"Oxirgi juft yarim yillik","This financial year":"Ushbu moliyaviy yil","Last financial year":"Oxirgi moliyaviy yil","Last 5 financial years":"Oxirgi 5 moliyaviy yillar","This year":"Ushbu yil","Last year":"Oxirgi yil","Last 5 years":"Oxirgi 5 yil","Last 10 years":"Oxirgi 10 yil",Days:hBe,Weeks:pBe,"Bi-weeks":"Juft haftalar",Months:mBe,"Bi-months":"2 oy",Quarters:fBe,"Six-months":"Yarim yillik","Financial Years":"Moliyaviy yillar",Years:gBe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:yBe,Series:vBe,Category:xBe,Filter:bBe,Columns:_Be,Rows:wBe,Points:TBe,"Reporting rate":"Hisobotdagi stavka","Reporting rate on time":"Hisobotdagi stavka oʼz vaqtida","Actual reports":"Haqiqiy hisobotlar","Actual reports on time":"Haqiqiy hisobotlar oʼz vaqtida","Expected reports":"Kutilayotgan hisobotlar",Program:SBe,"Select a program":"Dasturni tanlang",Indicators:CBe,"Indicator group":"Koʼrsatgich guruhi","All groups":"",Indicator:EBe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Maʼlumotlar elementi guruhi","Data element":"Maʼlumotlar elementi","No data element groups found":"","Loading data element groups":"","Data sets":"Maʼlumotlar toʼplami","Data set":"Maʼlumotlar toʼplami","All data sets":"","Loading data sets":"","Event data items":"Hodisalar haqida maʼlumot elementlari","All programs":"","Event data item":"Hodisa/Tadbir maʼlumoti elementi","No programs found":"","Loading programs":"","Program indicators":"Dastur indikatorlari","Program indicator":"Dastur indikatori",Calculations:kBe,Number:"Tartib raqami","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Juda Kichik",Small:NBe,Regular:LBe,Large:IBe,"Extra Large":"Juda Katta",Left:ABe,Center:PBe,Right:DBe,Start:MBe,Middle:OBe,End:RBe,Top:$Be,Bottom:zBe,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} va {{lastOuName}}","{{allDynamicOuNames}} levels":"Barcha {{allDynamicOuNames}} pogʼonalar","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} guruhlar","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} pogʼonalar {{staticOuNames}} ichida","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} guruhlar {{staticOuNames}} ichida","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:FBe,"Organisation unit":"Ташкилий бирлик","Assigned Categories":"Belgilangan Kategoriyalar","Pivot table":"Solishtirma jadval",Area:jBe,"Stacked area":"Yigʼilgan maydon",Bar:BBe,"Stacked bar":"Yigʼilgan tizimcha",Column:UBe,"Year over year (column)":"Yildan yilga (ustun)","Stacked column":"Yigʼilgan ustun",Gauge:GBe,Line:YBe,"Line list":"Qatorlar roʼyxati","Year over year (line)":"Yildan yilga (qator)",Pie:VBe,Radar:WBe,Scatter:qBe,"Single value":"Yagona qiymat","All charts":"","{{seriesName}} (trend)":"",Trend:HBe,"No legend for this series":"Ushbu seriya uchun taʼrif mavjud emas","and {{amount}} more...":"","Linear Regression":"",Target:XBe,Base:ZBe,"Axis {{axisId}}":"Oʼqlar {{axisId}}","{{count}} items":"","Reset zoom":""},QBe="Thông báo",JBe="Hủy đăng ký",e4e="Đăng ký",t4e="Hủy",n4e="Đang tải",i4e="Phân Tách Phần Tử Dữ Liệu",r4e="Tính toán",a4e="Xóa",s4e="Tìm kiếm",o4e="Xóa",l4e="Tập tin",c4e="Mới",u4e="Lưu",d4e="Đóng lại",h4e="Tên",p4e="Miêu tả",m4e="Đổi tên",f4e="bản đồ",g4e="trực quan hóa",y4e="Chỉnh sửa",v4e="Cập nhật",x4e="Diễn giải ",b4e="Trả lời",_4e="Không thích",w4e="Thích",T4e="Chia sẻ",S4e="Bất kỳ ai",C4e="Khác",E4e="Đã tạo",k4e="Loại",N4e="Mở",L4e="Tùy chọn",I4e="Ẩn",A4e="Năm",P4e="Thời điểm",D4e="Hàng ngày",M4e="Hàng tuần",O4e="Hàng tháng",R4e="Hàng quý",$4e="Hàng năm",z4e="Hôm nay",F4e="Hôm qua",j4e="Ngày",B4e="Tuần",U4e="Tháng",G4e="Quý",Y4e="Năm",V4e="Xem trước",W4e="Thử lại",q4e="Chuỗi Dữ Liệu",H4e="Phân loại",X4e="Lọc",Z4e="Cột",K4e="Dòng",Q4e="Điểm",J4e="Chương trình",e5e="Các chỉ số",t5e="Chỉ số",n5e="Tính toán",i5e="Nhỏ",r5e="Chuẩn",a5e="Lớn",s5e="Trái",o5e="Giữa",l5e="Phải",c5e="Bắt đầu",u5e="Ở giữa",d5e="Kết thúc",h5e="Trên",p5e="Dưới",m5e="Dữ liệu",f5e="Khu vực",g5e="Cột",y5e="Cột",v5e="Biểu đồ đo lường",x5e="Đường",b5e="Bánh",_5e="Radar",w5e="Phân tán",T5e="Xu hướng",S5e="Mục tiêu",C5e="Đường đáy",E5e={"view only":"chỉ xem","view and edit":"xem và chỉnh sửa","all users ({{accessLevel}})":"tất cả người dùng ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}}({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Chia sẻ với {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"Không chia sẻ với bất kỳ một người hay nhóm nào","No description":"Không mô tả","Last updated {{time}}":"Cập nhật lần cuối {{time}}","Created {{time}} by {{author}}":"Được tạo {{time}}bởi {{author}}","Created {{time}}":"Được tạo {{time}}","Viewed {{count}} times":"Đã xem {{count}}lần",Notifications:QBe,"You're subscribed and getting updates about new interpretations.":"Bạn đã đăng ký và đang nhận thông tin cập nhật về những diễn giải mới.",Unsubscribe:JBe,"Subscribe to get updates about new interpretations.":"Đăng ký để nhận thông tin cập nhật về những diễn giải mới.",Subscribe:e4e,"About this map":"Về bản đồ này","About this line list":"Về danh sách dòng này","About this visualization":"Về trực quan hóa này","About this event chart":"Về biểu đồ sự kiện này","About this event report":"Về báo cáo sự kiện này","This app could not retrieve required data.":"Ứng dụng này không thể truy xuất dữ liệu cần thiết.","Network error":"Lỗi mạng","Data / Edit calculation":"Dữ liệu / Chỉnh sửa tính toán","Data / New calculation":"Dữ liệu / Tính toán mới","Remove item":"Xóa mục","Check formula":"Kiểm tra công thức","Calculation name":"Tên phép tính","Shown in table headers and chart axes/legends":"Hiển thị trong tiêu đề bảng và trục biểu đồ/chú thích","Delete calculation":"Xóa tính toán",Cancel:t4e,"The calculation can only be saved with a valid formula":"Phép tính chỉ có thể được lưu bằng công thức hợp lệ","Add a name to save this calculation":"Thêm tên để lưu phép tính này","Save calculation":"Lưu tính toán","Are you sure you want to delete this calculation? It may be used by other visualizations.":"Bạn có chắc chắn muốn xóa phép tính này không? Nó có thể được sử dụng bởi các hình ảnh trực quan khác.","Yes, delete":"Có, xóa","Totals only":"Chỉ tổng số","Details only":"Chỉ chi tiết",Loading:n4e,"Data elements":"Phần tử dữ liệu","Search by data element name":"Tìm kiếm theo tên phần tử dữ liệu",'No data elements found for "{{- searchTerm}}"':'Không tìm thấy phần tử dữ liệu nào cho "{{- searchTerm}}"',"No data elements found":"Không tìm thấy phần tử dữ liệu nào","Drag items here, or double click in the list, to start building a calculation formula":"Kéo các mục vào đây hoặc nhấp đúp vào danh sách để bắt đầu xây dựng công thức tính toán","Math operators":"Toán tử toán học","Data Type":"Loại dữ liệu","Only {{dataType}} can be used in {{visType}}":"Chỉ {{dataType}}được sử dụng trong {{visType}}","All types":"Tất cả các loại",Disaggregation:i4e,"No data":"Không có dữ liệu","Search by data item name":"Tìm kiếm theo tên mục dữ liệu","No items selected":"Không có mục nào được chọn","Selected Items":"Các mục đã chọn","No indicators found":"Không tìm thấy chỉ số","No data sets found":"Không tìm thấy tập dữ liệu nào","No event data items found":"Không tìm thấy mục dữ liệu sự kiện nào","No program indicators found":"Không tìm thấy chỉ số chương trình nào","No calculations found":"Không tìm thấy tính toán nào",'No indicators found for "{{- searchTerm}}"':'Không tìm thấy chỉ số nào cho "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'Không tìm thấy tập dữ liệu nào cho "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'Không tìm thấy mục dữ liệu sự kiện nào cho "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'Không tìm thấy chỉ số chương trình nào cho "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':'Không tìm thấy tính toán nào cho "{{- searchTerm}}"','Nothing found for "{{- searchTerm}}"':"Không tìm thấy gì cho {{- searchTerm}}",Calculation:r4e,"Metric type":"Loại chỉ số đo lường","All metrics":"Tất cả hệ đo lường","Move to {{axisName}}":"Di chuyển đến {{axisName}}","Add to {{axisName}}":"Thêm vào {{axisName}}","Not available for {{visualizationType}}":"Không có sẵn cho {{visualizationType}}","Remove Assigned Categories":"Xóa phân loại đã chỉ định","Add Assigned Categories":"Thêm phân loại được chỉ định",Remove:a4e,"Filter dimensions":"Các chiều lọc","Main dimensions":"Các chiều chính","Your dimensions":"Các chiều dữ liệu của bạn","Dimension recommended with selected data":"Chiều được đề xuất với dữ liệu đã chọn","All items":"Tất cả các mục","Automatically include all items":"Tự động bao gồm tất cả các mục","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Chọn tất cả mục {{- dimensionTitle}}. Với tùy chọn này, mục mới sẽ được tự động thêm vào trong tương lai.","Manually select items...":"Chọn mục theo cách thủ công...","Nothing found in {{- dimensionTitle}}":"Không tìm thấy gì trong {{- dimensionTitle}}",Search:s4e,"Nothing found for {{- searchTerm}}":"Không tìm thấy gì cho {{- searchTerm}}","Delete {{fileType}}":"Xóa {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"{{fileType}}này và các diễn giải liên quan sẽ bị xóa. Tiếp tục?",Delete:o4e,File:l4e,New:c4e,"Open…":"Mở...",Save:u4e,"Save…":"Lưu...","Save as…":"Lưu dưới dạng…","Rename…":"Đổi tên...","Translate…":"Dịch...","Share…":"Chia sẻ...","Get link…":"Lấy đường dẫn liên kết...","Open in this app":"Mở trong ứng dụng này",Close:d4e,"Rename {{fileType}}":"Đổi tên {{fileType}}",Name:h4e,Description:p4e,Rename:m4e,"{{- objectName}} (copy)":"{{- objectName}}(copy)","Save {{fileType}} as":"Lưu {{fileType}}thành","event report":"báo cáo sự kiện","line list":"danh sách dòng",map:f4e,visualization:g4e,Edit:y4e,"Write a reply":"Viết phản hồi","Post reply":"Đăng phản hồi","Delete failed":"Xóa thất bại","Could not update comment":"Không thể cập nhật bình luận","Enter comment text":"Nhập văn bản bình luận",Update:v4e,"Viewing interpretation: {{- visualisationName}}":"Xem diễn giải:{{- visualisationName}}","Could not load interpretation":"Không thể tải diễn giải","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"Không thể hiển thị diễn giải. Hãy thử lại hoặc liên hệ với quản trị viên hệ thống của bạn.","Hide interpretation":"Ẩn diễn giải","Write an interpretation":"Viết diễn giải","Other people viewing this interpretation in the future may see more data.":"Những người khác xem bản diễn giải này trong tương lai có thể thấy nhiều dữ liệu hơn.","Post interpretation":"Đăng diễn giải",Interpretations:x4e,Reply:b4e,"{{count}} replies":"{{count}} câu trả lời","View replies":"Xem trả lời",Unlike:_4e,Like:w4e,"See interpretation":"Xem diễn giải","Open in app":"Mở trong ứng dụng",Share:T4e,"Manage sharing":"Quản lý chia sẻ","Could not update interpretation":"Không thể cập nhật diễn giải","Enter interpretation text":"Nhập nội dung cho diễn giải","Not available offline":"Không có cho ngoại tuyến","Created by":"Được tạo bởi",Anyone:S4e,"Only you":"Chỉ bạn",Others:C4e,"Not supported by this app yet":"Chưa được ứng dụng này hỗ trợ","Filter by name":"Lọc bằng tên",Created:E4e,"Last updated":"Lần cập nhật cuối",Type:k4e,"Clear filters":"Bỏ lọc","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} của {{totalNumberOfItems}}",Open:N4e,"Couldn't load items":"Không thể tải danh mục","There was a problem loading items. Try again or contact your system administrator.":"Đã xảy ra sự cố khi tải mục. Hãy thử lại hoặc liên hệ với quản trị viên hệ thống của bạn.","No items found. Create a new to get started.":"Không tìm thấy mục nào. Hãy tạo một cái mới để bắt đầu.","No items found. Try adjusting your search or filter options to find what you're looking for.":"Không tìm thấy mục nào. Hãy thử điều chỉnh tùy chọn tìm kiếm hoặc bộ lọc để tìm những gì bạn đang tìm kiếm.","Create new":"Tạo mới","Open a visualization":"Mở một hình ảnh trực quan","Loading visualizations":"Đang tải hình ảnh trực quan","Couldn't load visualizations":"Không thể tải hình ảnh trực quan","There was a problem loading visualizations. Try again or contact your system administrator.":"Đã xảy ra sự cố khi tải hình ảnh trực quan. Hãy thử lại hoặc liên hệ với quản trị viên hệ thống của bạn.","No visualizations found. Click New visualization to get started.":"Không tìm thấy hình ảnh trực quan nào. Nhấp vào Hình ảnh trực quan mới để bắt đầu.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"Không tìm thấy hình ảnh trực quan. Hãy thử điều chỉnh tùy chọn tìm kiếm hoặc bộ lọc để tìm nội dung bạn đang tìm kiếm.","New visualization":"Hình ảnh trực quan mới","Open a map":"Mở một bản đồ","Loading maps":"Đang tải bản đồ","Couldn't load maps":"Không thể tải bản đồ","There was a problem loading maps. Try again or contact your system administrator.":"Đã xảy ra sự cố khi tải bản đồ. Hãy thử lại hoặc liên hệ với quản trị viên hệ thống của bạn.","No maps found. Click New map to get started.":"Không tìm thấy bản đồ. Nhấp vào Bản đồ mới để bắt đầu.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"Không tìm thấy bản đồ. Hãy thử điều chỉnh tùy chọn tìm kiếm hoặc bộ lọc để tìm thông tin bạn đang tìm kiếm.","New map":"Bản đồ mới","Open a line list":"Mở một danh sách dòng","Loading line lists":"Đang tải danh sách dòng","Couldn't load line lists":"Không thể tải danh sách dòng","There was a problem loading line lists. Try again or contact your system administrator.":"Đã xảy ra sự cố khi tải danh sách dòng. Hãy thử lại hoặc liên hệ với quản trị viên hệ thống của bạn.","No line lists found. Click New line list to get started.":"Không tìm thấy danh sách dòng nào. Bấm vào Danh sách dòng mới để bắt đầu.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"Không tìm thấy danh sách dòng nào. Hãy thử điều chỉnh tùy chọn tìm kiếm hoặc bộ lọc để tìm những gì bạn đang tìm kiếm.","New line list":"Danh sách dòng mới",Options:L4e,Hide:I4e,"{{count}} org units":"{{count}} đơn vị","{{count}} levels":"{{count}} cấp độ","{{count}} groups":"{{count}} nhóm","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Đã chọn: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Không có gì được chọn","User organisation unit":"Đơn vị người dùng","User sub-units":"Đơn vị con của người dùng","User sub-x2-units":"Đơn vị con cấp 2 của người dùng","Select a level":"Chọn cấp độ","Select a group":"Chọn nhóm","Deselect all":"Bỏ chọn tất cả","Period type":"Loại thời điểm",Year:A4e,"Select year":"Chọn năm",Period:P4e,"Selected Periods":"Thời điểm đã chọn","Relative periods":"Thời điểm tương đối","Fixed periods":"Thời điểm tĩnh","No periods selected":"Chưa chọn thời điểm",Daily:D4e,Weekly:M4e,"Weekly (Start Wednesday)":"Hàng tuần (Bắt đầu từ Thứ Tư)","Weekly (Start Thursday)":"Hàng tuần (Bắt đầu từ Thứ Năm)","Weekly (Start Saturday)":"Hàng tuần (Bắt đầu từ Thứ Bảy)","Weekly (Start Sunday)":"Hàng tuần (Bắt đầu từ Chủ nhật)","Bi-weekly":"Định kỳ 2 tuần",Monthly:O4e,"Bi-monthly":"Định kỳ 2 tháng",Quarterly:R4e,"Six-monthly":"Định kỳ 6 tháng","Six-monthly April":"Định kỳ 6 tháng - Tháng 4",Yearly:$4e,"Financial year (Start November)":"Năm tài chính (Tháng 11)","Financial year (Start October)":"Năm tài chính (Tháng 10)","Financial year (Start July)":"Năm tài chính (Tháng 7)","Financial year (Start April)":"Năm tài chính (Tháng 4)",Today:z4e,Yesterday:F4e,"Last 3 days":"3 ngày trước","Last 7 days":"7 ngày trước","Last 14 days":"14 ngày trước","Last 30 days":"30 ngày trước","Last 60 days":"60 ngày qua","Last 90 days":"90 ngày qua","Last 180 days":"180 ngày qua","This week":"Tuần này","Last week":"Tuần trước","Last 4 weeks":"4 tuần trước","Last 12 weeks":"12 tuần trước","Last 52 weeks":"52 tuần trước","Weeks this year":"Các tuần trong năm nay","This bi-week":"Định kỳ 2 tuần hiện tại","Last bi-week":"Định kỳ 2 tuần trước","Last 4 bi-weeks":"4 Định kỳ 2 tuần trước","This month":"Tháng này","Last month":"Tháng trước","Last 3 months":"3 tháng trước","Last 6 months":"6 tháng trước","Last 12 months":"Trong 12 tháng trước","Months this year":"Tháng năm nay","This bi-month":"Định kỳ 2 tháng này","Last bi-month":"Định kỳ 2 tháng trước","Last 6 bi-months":"6 Định kỳ 2 tháng trước","Bi-months this year":"Định kỳ 2 tháng năm nay","This quarter":"Quý này","Last quarter":"Quý trước","Last 4 quarters":"4 quý trước","Quarters this year":"Quý năm nay","This six-month":"Định kỳ 6 tháng này","Last six-month":"Định kỳ 6 tháng trước","Last 2 six-month":"2 Định kỳ 6 tháng trước","This financial year":"Năm tài chính này","Last financial year":"Năm tài chính trước","Last 5 financial years":"5 năm tài chính trước","This year":"Năm nay","Last year":"Năm ngoái","Last 5 years":"5 năm trước","Last 10 years":"10 năm trước",Days:j4e,Weeks:B4e,"Bi-weeks":"Định kỳ 2 tuần",Months:U4e,"Bi-months":"Định kỳ 2 tháng",Quarters:G4e,"Six-months":"Sáu-tháng","Financial Years":"Năm tài chính",Years:Y4e,"Value: {{value}}":"Giá trị: {{value}}","Bold text":"Chữ in đậm","Italic text":"Chữ in nghiêng","Link to a URL":"Liên kết đến một URL","Mention a user":"Nhắc đến một người dùng","Add emoji":"Thêm biểu tượng cảm xúc",Preview:V4e,"Back to write mode":"Quay lại chế độ viết","Interpretations and details":"Diễn giải và chi tiết","Translating to":"Dịch sang","Choose a locale":"Chọn một ngôn ngữ","Base locale reference":"Dựa trên ngôn ngữ ưu tiên","Choose a locale to translate from the menu above":"Thay đổi ngôn ngữ để dịch từ menu trên","Translate: {{objectName}}":"Dịch: {{objectName}}","Save translations":"Lưu bản dịch","Cannot save while offline":"Không thể lưu khi ngoại tuyến","Could not load translations":"Không thể tải bản dịch",Retry:W4e,"Too many results. Try refining the search.":"Quá nhiều kết quả. Hãy thử tinh chỉnh tìm kiếm.","Search for a user":"Tìm kiếm người dùng",'Searching for "{{- searchText}}"':'Đang tìm cho "{{- searchText}}"',"No results found":"Không tìm thấy kết quả nào",Series:q4e,Category:H4e,Filter:X4e,Columns:Z4e,Rows:K4e,Points:Q4e,"Reporting rate":"Tỉ lệ báo cáo","Reporting rate on time":"Tỉ lệ báo cáo đúng hạn","Actual reports":"Báo cáo thực tế","Actual reports on time":"Báo cáo thực tế đúng hạn","Expected reports":"Báo cáo dự kiến",Program:J4e,"Select a program":"Chọn một chương trình",Indicators:e5e,"Indicator group":"Nhóm chỉ số","All groups":"Tất cả nhóm",Indicator:t5e,"No indicator groups found":"Không tìm thấy nhóm chỉ số nào","Loading indicator groups":"Đang tải nhóm chỉ số","Data element group":"Nhóm phần tử dữ liệu","Data element":"Phần tử dữ liệu","No data element groups found":"Không tìm thấy nhóm phần tử dữ liệu nào","Loading data element groups":"Đang tải nhóm phần tử dữ liệu","Data sets":"Biểu nhập","Data set":"Tập dữ liệu","All data sets":"Tất cả tập dữ liệu","Loading data sets":"Đang tải tập dữ liệu","Event data items":"Mục dữ liệu sự kiện","All programs":"Tất cả chương trình","Event data item":"Mục dữ liệu sự kiện","No programs found":"Không tìm thấy chương trình nào","Loading programs":"Đang tải chương trình","Program indicators":"Chỉ Số Chương Trình","Program indicator":"Chỉ số chương trình",Calculations:n5e,Number:"Số","Formula is empty. Add items to the formula from the lists on the left.":"Công thức đang trống. Thêm các mục vào công thức từ danh sách bên trái.","Consecutive math operators":"Các toán tử toán học liên tiếp","Consecutive data elements":"Các phần tử dữ liệu liên tiếp","Starts or ends with a math operator":"Bắt đầu hoặc kết thúc bằng toán tử toán học","Empty parentheses":"Dấu ngoặc đơn trống","Missing right parenthesis )":"Thiếu dấu ngoặc đơn bên phải )","Missing left parenthesis (":"Thiếu dấu ngoặc đơn bên trái (","Extra Small":"Rất nhỏ",Small:i5e,Regular:r5e,Large:a5e,"Extra Large":"Rất lớn",Left:s5e,Center:o5e,Right:l5e,Start:c5e,Middle:u5e,End:d5e,Top:h5e,Bottom:p5e,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} và {{lastOuName}}","{{allDynamicOuNames}} levels":"cấp độ {{allDynamicOuNames}}","{{allDynamicOuNames}} groups":"nhóm {{allDynamicOuNames}}","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} cấp trong {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} nhóm trong {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% của tổng giá trị x","{{percentage}}% of total y values":"{{percentage}}% của tổng giá trị y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} x IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} x IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} x Điểm Z được sửa đổi thấp","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}}Điểm Z được sửa đổi cao","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} x Điểm Z thấp","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} x Điểm Z cao","Not applicable":"Không áp dụng",Data:m5e,"Organisation unit":"Đơn vị","Assigned Categories":"Phân loại được chỉ định","Pivot table":"Bảng xoay",Area:f5e,"Stacked area":"Khu vực xếp chồng ",Bar:g5e,"Stacked bar":"Cột chồng",Column:y5e,"Year over year (column)":"Năm qua năm (cột)","Stacked column":"Cột chồng",Gauge:v5e,Line:x5e,"Line list":"Danh sách dòng","Year over year (line)":"Năm qua năm (dòng)",Pie:b5e,Radar:_5e,Scatter:w5e,"Single value":"Giá trị đơn","Outlier table":"Bảng ngoại lệ","All charts":"Tất cả biểu đồ","{{seriesName}} (trend)":"{{seriesName}} (xu hướng)",Trend:T5e,"No legend for this series":"Không có chú giải cho chuỗi này","and {{amount}} more...":"và {{amount}} khác ...","Linear Regression":"Hồi quy tuyến tính",Target:S5e,Base:C5e,"Axis {{axisId}}":"Trục {{axisId}}","{{count}} items":"{{count}}mục","Reset zoom":"Đặt lại thu phóng"},k5e="通知",N5e="退订",L5e="订阅",I5e="取消",A5e="载入",P5e="分解",D5e="计算",M5e="移除",O5e="搜索",R5e="删除",$5e="文件",z5e="新建",F5e="保存",j5e="关闭",B5e="名称",U5e="描述",G5e="改名",Y5e="地图",V5e="可视化",W5e="编辑",q5e="更新",H5e="解释",X5e="应答",Z5e="不喜欢",K5e="喜欢",Q5e="分享",J5e="任何人",e6e="其它",t6e="已创建",n6e="类型",i6e="开放",r6e="选项",a6e="隐藏",s6e="年",o6e="期间",l6e="每日",c6e="每周",u6e="每月",d6e="季度",h6e="每年",p6e="今天",m6e="昨天",f6e="天数",g6e="星期",y6e="月",v6e="四分之一",x6e="年",b6e="预览",_6e="重试",w6e="系列",T6e="分类",S6e="过滤器",C6e="列",E6e="行",k6e="点数",N6e="项目",L6e="指标",I6e="指标",A6e="计算",P6e="小",D6e="定期",M6e="较大",O6e="左",R6e="居中",$6e="Right",z6e="开始",F6e="中间",j6e="尾巴",B6e="顶",U6e="底",G6e="数据",Y6e="面积",V6e="柱状图",W6e="列",q6e="表盘图",H6e="折线图",X6e="饼图",Z6e="雷达图",K6e="散点图",Q6e="趋势",J6e="目标",eUe="基",tUe={"view only":"只查看","view and edit":"查看和编辑","all users ({{accessLevel}})":"所有用户 ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"与 {{commaSeparatedListOfUsersAndGroups}} 共享","Not shared with any users or groups":"不与任何用户或组共享","No description":"无描述","Last updated {{time}}":"最后更新 {{time}}","Created {{time}} by {{author}}":"由 {{author}} 在 {{time}} 创建","Created {{time}}":"已创建 {{time}}","Viewed {{count}} times":"查看了 {{count}} 条",Notifications:k5e,"You're subscribed and getting updates about new interpretations.":"您已订阅并获取有关新解释的更新。",Unsubscribe:N5e,"Subscribe to get updates about new interpretations.":"订阅以获取有关新解释的更新。",Subscribe:L5e,"About this map":"关于该地图","About this line list":"关于此行列表","About this visualization":"关于此可视化","About this event chart":"关于该事件图表","About this event report":"关于本事件报表","This app could not retrieve required data.":"此应用无法检索所需数据。","Network error":"网络错误","Data / Edit calculation":"数据/编辑计算","Data / New calculation":"数据/新计算","Remove item":"除去项目","Check formula":"检查公式","Calculation name":"计算名称","Shown in table headers and chart axes/legends":"显示在表格标题和图表轴/图例中","Delete calculation":"删除计算",Cancel:I5e,"The calculation can only be saved with a valid formula":"计算只能用有效的公式保存","Add a name to save this calculation":"添加名称以保存此计算","Save calculation":"保存计算","Are you sure you want to delete this calculation? It may be used by other visualizations.":"您确定要删除此计算吗？它可以被其他可视化使用。","Yes, delete":"是的，删除","Totals only":"仅总数","Details only":"仅详细信息",Loading:A5e,"Data elements":"数据元","Search by data element name":"按数据元素名称搜索",'No data elements found for "{{- searchTerm}}"':"找不到“ {{- searchTerm}}”的数据元素","No data elements found":"找不到数据元素","Drag items here, or double click in the list, to start building a calculation formula":"将项目拖到此处，或在列表中双击，开始构建计算公式","Math operators":"数学运算符","Data Type":"数据类型","Only {{dataType}} can be used in {{visType}}":"{{dataType}} 只能在 {{visType}} 中使用","All types":"所有类型",Disaggregation:P5e,"No data":"无数据","Search by data item name":"按数据项名称搜索","No items selected":"没有选择条目","Selected Items":"选择的条目","No indicators found":"找不到指标","No data sets found":"找不到数据集","No event data items found":"找不到事件数据项","No program indicators found":"找不到项目指标","No calculations found":"没有找到计算结果",'No indicators found for "{{- searchTerm}}"':"找不到“ {{- searchTerm}}”的指标",'No data sets found for "{{- searchTerm}}"':"找不到“ {{- searchTerm}}”的数据集",'No event data items found for "{{- searchTerm}}"':"找不到“ {{- searchTerm}}”的事件数据项",'No program indicators found for "{{- searchTerm}}"':"找不到“ {{- searchTerm}}”的计划指标",'No calculations found for "{{- searchTerm}}"':"找不到“{{- searchTerm}}”的计算",'Nothing found for "{{- searchTerm}}"':"找不到“ {{- searchTerm}}”",Calculation:D5e,"Metric type":"尺度类型","All metrics":"所有尺度","Move to {{axisName}}":"移动到 {{axisName}}","Add to {{axisName}}":"添加到 {{axisName}}","Not available for {{visualizationType}}":" {{visualizationType}}不可用","Remove Assigned Categories":"移除指定的分类","Add Assigned Categories":"添加指定的分类",Remove:M5e,"Filter dimensions":"过滤器维度","Main dimensions":"主要维度","Your dimensions":"你的维度","Dimension recommended with selected data":"选择的数据的推荐维度","All items":"所有条目","Automatically include all items":"自动包含所有条目","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"选择所有 {{- dimensionTitle}} 项。使用此选项，将来添加的新条目将自动包含在内。","Manually select items...":"手动选择条目...","Nothing found in {{- dimensionTitle}}":"在 {{- dimensionTitle}} 中找不到任何内容",Search:O5e,"Nothing found for {{- searchTerm}}":"没有找到 {{- searchTerm}}","Delete {{fileType}}":"删除{{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"此{{fileType}}和相关解释将被删除。继续？",Delete:R5e,File:$5e,New:z5e,"Open…":"打开…",Save:F5e,"Save…":"保存…","Save as…":"另存为…","Rename…":"改名…","Translate…":"翻译…","Share…":"分享…","Get link…":"获取链接…","Open in this app":"在该App打开",Close:j5e,"Rename {{fileType}}":"重命名{{fileType}}",Name:B5e,Description:U5e,Rename:G5e,"{{- objectName}} (copy)":"{{- objectName}}（复制）","Save {{fileType}} as":"将{{fileType}}另存为","event report":"事件报表","line list":"行列表",map:Y5e,visualization:V5e,Edit:W5e,"Write a reply":"书写应答","Post reply":"发表回复","Delete failed":"删除失败","Could not update comment":"无法更新评论","Enter comment text":"输入评论文本",Update:q5e,"Viewing interpretation: {{- visualisationName}}":"查看注释：{{- visualisationName}}","Could not load interpretation":"无法加载解释","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"无法显示解释。重试或联系您的系统管理员。","Hide interpretation":"隐藏解释","Write an interpretation":"书写注释","Other people viewing this interpretation in the future may see more data.":"将来查看此解释的其他人可能会看到更多数据。","Post interpretation":"后解释",Interpretations:H5e,Reply:X5e,"{{count}} replies":"{{count}}条回复","View replies":"查看回复",Unlike:Z5e,Like:K5e,"See interpretation":"见解释","Open in app":"在应用程序中打开",Share:Q5e,"Manage sharing":"管理共享","Could not update interpretation":"无法更新解释","Enter interpretation text":"输入解释文本","Not available offline":"离线不可用","Created by":"创建人",Anyone:J5e,"Only you":"只有你",Others:e6e,"Not supported by this app yet":"此应用尚不支持","Filter by name":"按名称过滤",Created:t6e,"Last updated":"上次更新",Type:n6e,"Clear filters":"清除过滤器","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} 的 {{totalNumberOfItems}}",Open:i6e,"Couldn't load items":"无法加载项目","There was a problem loading items. Try again or contact your system administrator.":"加载项目时出现问题。重试或联系您的系统管理员。","No items found. Create a new to get started.":"未找到任何项目。创建一个新的开始。","No items found. Try adjusting your search or filter options to find what you're looking for.":"未找到任何项目。尝试调整您的搜索或过滤选项以找到您要查找的内容。","Create new":"新建","Open a visualization":"打开可视化","Loading visualizations":"加载可视化","Couldn't load visualizations":"无法加载可视化","There was a problem loading visualizations. Try again or contact your system administrator.":"加载可视化时出现问题。重试或联系您的系统管理员。","No visualizations found. Click New visualization to get started.":"未找到可视化效果。单击新建可视化开始。","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"未找到可视化效果。尝试调整您的搜索或过滤选项以找到您要查找的内容。","New visualization":"新的可视化","Open a map":"打开地图","Loading maps":"加载地图","Couldn't load maps":"无法加载地图","There was a problem loading maps. Try again or contact your system administrator.":"加载地图时出现问题。重试或联系您的系统管理员。","No maps found. Click New map to get started.":"未找到地图。单击新地图开始。","No maps found. Try adjusting your search or filter options to find what you're looking for.":"未找到地图。尝试调整您的搜索或过滤选项以找到您要查找的内容。","New map":"新地图","Open a line list":"打开一个行列表","Loading line lists":"加载行列表","Couldn't load line lists":"无法加载行列表","There was a problem loading line lists. Try again or contact your system administrator.":"加载行列表时出现问题。重试或联系您的系统管理员。","No line lists found. Click New line list to get started.":"未找到行列表。单击新行列表开始。","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"未找到行列表。尝试调整您的搜索或过滤选项以找到您要查找的内容。","New line list":"新行列表",Options:r6e,Hide:a6e,"{{count}} org units":"{{count}} 个组织单位","{{count}} levels":"{{count}} 级","{{count}} groups":"{{count}} 组","Selected: {{commaSeparatedListOfOrganisationUnits}}":"已选择：{{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"未选择任何内容","User organisation unit":"用户所在机构","User sub-units":"我的下属机构","User sub-x2-units":"该用户2级下属机构","Select a level":"选择一个等级","Select a group":"选择一个组","Deselect all":"取消全选","Period type":"周期类型",Year:s6e,"Select year":"选择年份",Period:o6e,"Selected Periods":"选择的期间","Relative periods":"相对期间","Fixed periods":"固定期间","No periods selected":"未选择期间",Daily:l6e,Weekly:c6e,"Weekly (Start Wednesday)":"每周（始于周二）","Weekly (Start Thursday)":"每周（始于周四）","Weekly (Start Saturday)":"每周（始于周六）","Weekly (Start Sunday)":"每周（始于周日）","Bi-weekly":"两周",Monthly:u6e,"Bi-monthly":"每两月",Quarterly:d6e,"Six-monthly":"六个月","Six-monthly April":"半年四月",Yearly:h6e,"Financial year (Start November)":"财政年（11月始）","Financial year (Start October)":"财政年度（10 月开始）","Financial year (Start July)":"财政年度（7 月开始）","Financial year (Start April)":"财政年度（4 月开始）",Today:p6e,Yesterday:m6e,"Last 3 days":"Last 3 days","Last 7 days":"最近7天","Last 14 days":"Last 14 days","Last 30 days":"最近30天","Last 60 days":"最近60天","Last 90 days":"最近90天","Last 180 days":"最近180天","This week":"本年","Last week":"上周","Last 4 weeks":"最近 4 周","Last 12 weeks":"最近 12 周","Last 52 weeks":"最近52 周","Weeks this year":"今年的周","This bi-week":"本双周","Last bi-week":"最近两周","Last 4 bi-weeks":"最近4个两周","This month":"本月","Last month":"上月","Last 3 months":"最近3个月","Last 6 months":"最近 6 个月","Last 12 months":"最近12月","Months this year":"今年的月份","This bi-month":"本双月","Last bi-month":"上两个月","Last 6 bi-months":"最近 6 个双月","Bi-months this year":"今年的双月","This quarter":"本季度","Last quarter":"最近一季","Last 4 quarters":"最近 4 个季度","Quarters this year":"今年的季度","This six-month":"本六个月","Last six-month":"最近六个月","Last 2 six-month":"最近2个六个月","This financial year":"本财年","Last financial year":"上一财政年","Last 5 financial years":"最近 5 个财政年度","This year":"今年","Last year":"去年","Last 5 years":"最近5年","Last 10 years":"最近10年",Days:f6e,Weeks:g6e,"Bi-weeks":"双周",Months:y6e,"Bi-months":"双月",Quarters:v6e,"Six-months":"六个月","Financial Years":"财政年度",Years:x6e,"Value: {{value}}":"值{{value}}","Bold text":"粗体文字","Italic text":"斜体文字","Link to a URL":"链接到 URL","Mention a user":"提及用户","Add emoji":"添加表情符号",Preview:b6e,"Back to write mode":"返回写入模式","Interpretations and details":"解释和细节","Translating to":"翻译成","Choose a locale":"选择语言环境","Base locale reference":"基本语言环境参考","Choose a locale to translate from the menu above":"从上面的菜单中选择要翻译的语言环境","Translate: {{objectName}}":"翻译：{{objectName}}","Save translations":"保存翻译","Cannot save while offline":"离线时无法保存","Could not load translations":"无法加载翻译",Retry:_6e,"Too many results. Try refining the search.":"结果太多。尝试优化搜索。","Search for a user":"搜索用户",'Searching for "{{- searchText}}"':"搜索“{{- searchText}}”","No results found":"没有结果",Series:w6e,Category:T6e,Filter:S6e,Columns:C6e,Rows:E6e,Points:k6e,"Reporting rate":"上报率","Reporting rate on time":"准时上报率","Actual reports":"实际上报","Actual reports on time":"实际准时上报","Expected reports":"预期上报",Program:N6e,"Select a program":"选择一个项目",Indicators:L6e,"Indicator group":"指标组","All groups":"所有组",Indicator:I6e,"No indicator groups found":"找不到指标组","Loading indicator groups":"加载指标组","Data element group":"数据元组","Data element":"数据元","No data element groups found":"找不到数据元素组","Loading data element groups":"加载数据元素组","Data sets":"数据集","Data set":"数据集","All data sets":"所有数据集","Loading data sets":"载入数据集","Event data items":"事件数据条目","All programs":"所有项目","Event data item":"事件数据条目","No programs found":"找不到项目","Loading programs":"正在载入项目","Program indicators":"项目指标","Program indicator":"项目指标",Calculations:A6e,Number:"数据","Formula is empty. Add items to the formula from the lists on the left.":"公式为空。将左侧列表中的项目添加到公式中。","Consecutive math operators":"连续的数学运算符","Consecutive data elements":"连续的数据元素","Starts or ends with a math operator":"以数学运算符开始或结束","Empty parentheses":"空括号","Missing right parenthesis )":"缺少右括号 ）","Missing left parenthesis (":"缺少左括号 (","Extra Small":"特小",Small:P6e,Regular:D6e,Large:M6e,"Extra Large":"特大",Left:O6e,Center:R6e,Right:$6e,Start:z6e,Middle:F6e,End:j6e,Top:B6e,Bottom:U6e,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} 和{{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} 等级","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} 组","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} 等级在 {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} 组在 {{staticOuNames}}","{{percentage}}% of total x values":"占总x值的{{percentage}}％","{{percentage}}% of total y values":"占总y值的{{percentage}}％","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}}×修正的Z分数低值","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}}×修改后的Z分数高值","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}}×Z分数低","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}}×Z分数高","Not applicable":"不适用",Data:G6e,"Organisation unit":"机构","Assigned Categories":"指定的分类","Pivot table":"透视表",Area:Y6e,"Stacked area":"堆积面积",Bar:V6e,"Stacked bar":"叠柱图",Column:W6e,"Year over year (column)":"逐年（列图）","Stacked column":"叠列",Gauge:q6e,Line:H6e,"Line list":"行列表","Year over year (line)":"逐年（折线图）",Pie:X6e,Radar:Z6e,Scatter:K6e,"Single value":"单个值","Outlier table":"异常值表","All charts":"所有图表","{{seriesName}} (trend)":"{{seriesName}}（趋势）",Trend:Q6e,"No legend for this series":"这个系列没有图例","and {{amount}} more...":"还有{{amount}}个...","Linear Regression":"线性回归",Target:J6e,Base:eUe,"Axis {{axisId}}":"轴{{axisId}}","{{count}} items":"{{count}} 个条目","Reset zoom":"重设缩放"},nUe="通知",iUe="",rUe="",aUe="取消",sUe="载入",oUe="分解",lUe="",cUe="移除",uUe="搜索",dUe="删除",hUe="文件",pUe="新建",mUe="保存",fUe="关闭",gUe="名称",yUe="描述",vUe="重命名",xUe="",bUe="",_Ue="编辑",wUe="更新",TUe="注释",SUe="回复",CUe="",EUe="Like",kUe="分享",NUe="预览",LUe="任何人",IUe="其它",AUe="已创建",PUe="类型",DUe="打开",MUe="选项",OUe="隐藏",RUe="年",$Ue="周期",zUe="每日",FUe="每周",jUe="每月",BUe="季度",UUe="每年",GUe="今天",YUe="昨天",VUe="天数",WUe="周",qUe="月",HUe="",XUe="年",ZUe="",KUe="",QUe="分类",JUe="过滤器",e9e="",t9e="",n9e="",i9e="项目",r9e="指标",a9e="指标",s9e="",o9e="小",l9e="定期",c9e="较大",u9e="左",d9e="",h9e="右",p9e="开始",m9e="",f9e="",g9e="",y9e="",v9e="数据",x9e="面积",b9e="",_9e="列",w9e="",T9e="",S9e="",C9e="",E9e="",k9e="",N9e="目标",L9e="",I9e={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"没有描述","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:nUe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:iUe,"Subscribe to get updates about new interpretations.":"",Subscribe:rUe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"网络错误","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:aUe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:sUe,"Data elements":"数据元","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:oUe,"No data":"无数据","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:lUe,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"添加到 {{axisName}}","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:cUe,"Filter dimensions":"过滤器维度","Main dimensions":"主要维度","Your dimensions":"你的维度","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:uUe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:dUe,File:hUe,New:pUe,"Open…":"",Save:mUe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:fUe,"Rename {{fileType}}":"",Name:gUe,Description:yUe,Rename:vUe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:xUe,visualization:bUe,Edit:_Ue,"Write a reply":"","Post reply":"","Delete failed":"删除失败","Could not update comment":"","Enter comment text":"",Update:wUe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:TUe,Reply:SUe,"{{count}} replies":"","View replies":"",Unlike:CUe,Like:EUe,Share:kUe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:NUe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"没有结果","Not available offline":"","Created by":"创建自",Anyone:LUe,"Only you":"",Others:IUe,"Not supported by this app yet":"","Filter by name":"按名称过滤",Created:AUe,"Last updated":"上次更新",Type:PUe,"Clear filters":"清除过滤器","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:DUe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"新建","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:MUe,Hide:OUe,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"已选择：{{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"未选择任何内容","User organisation unit":"用户所在机构","User sub-units":"下属机构","User sub-x2-units":"二级下属机构","Select a level":"选择一个等级","Select a group":"","Deselect all":"去全选","Period type":"周期类型",Year:RUe,"Select year":"选择年份",Period:$Ue,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",Daily:zUe,Weekly:FUe,"Weekly (Start Wednesday)":"每周（始于周二）","Weekly (Start Thursday)":"每周（始于周四）","Weekly (Start Saturday)":"每周（始于周六）","Weekly (Start Sunday)":"每周（始于周日）","Bi-weekly":"双周",Monthly:jUe,"Bi-monthly":"每两月",Quarterly:BUe,"Six-monthly":"六个月","Six-monthly April":"半年的四月",Yearly:UUe,"Financial year (Start November)":"","Financial year (Start October)":"财务十月","Financial year (Start July)":"财务七月","Financial year (Start April)":"财务四月",Today:GUe,Yesterday:YUe,"Last 3 days":"最近3天","Last 7 days":"最近7天","Last 14 days":"最近14天","Last 30 days":"最近30天","Last 60 days":"最近60天","Last 90 days":"最近90天","Last 180 days":"最近180天","This week":"本周","Last week":"上周","Last 4 weeks":"最近四周","Last 12 weeks":"最近12周","Last 52 weeks":"最近52周","Weeks this year":"今年的星期","This bi-week":"这两周","Last bi-week":"最近双周","Last 4 bi-weeks":"最近四个双周","This month":"本月","Last month":"上月","Last 3 months":"最近3个月","Last 6 months":"最近六个月<br>","Last 12 months":"最近12月","Months this year":"今年的月份","This bi-month":"本两月","Last bi-month":"最近双月","Last 6 bi-months":"最近六个双月","Bi-months this year":"今年的双月","This quarter":"本季","Last quarter":"最近一季","Last 4 quarters":"最近四个季度","Quarters this year":"今年的季度","This six-month":"本半年","Last six-month":"最近六个月","Last 2 six-month":"","This financial year":"本财政年","Last financial year":"上一财政年","Last 5 financial years":"最近五个财政年","This year":"今年","Last year":"去年","Last 5 years":"最近5年","Last 10 years":"最近10年",Days:VUe,Weeks:WUe,"Bi-weeks":"",Months:qUe,"Bi-months":"",Quarters:HUe,"Six-months":"","Financial Years":"",Years:XUe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:ZUe,Series:KUe,Category:QUe,Filter:JUe,Columns:e9e,Rows:t9e,Points:n9e,"Reporting rate":"上报率","Reporting rate on time":"准时上报率","Actual reports":"实际上报","Actual reports on time":"实际准时上报","Expected reports":"预期上报",Program:i9e,"Select a program":"",Indicators:r9e,"Indicator group":"指标组","All groups":"",Indicator:a9e,"No indicator groups found":"","Loading indicator groups":"","Data element group":"数据元组","Data element":"数据元","No data element groups found":"","Loading data element groups":"","Data sets":"数据集","Data set":"数据集","All data sets":"","Loading data sets":"载入数据集","Event data items":"事件数据项","All programs":"","Event data item":"事件数据条目","No programs found":"","Loading programs":"","Program indicators":"项目指标","Program indicator":"项目指标",Calculations:s9e,Number:"数字","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:o9e,Regular:l9e,Large:c9e,"Extra Large":"",Left:u9e,Center:d9e,Right:h9e,Start:p9e,Middle:m9e,End:f9e,Top:g9e,Bottom:y9e,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:v9e,"Organisation unit":"机构","Assigned Categories":"","Pivot table":"",Area:x9e,"Stacked area":"",Bar:b9e,"Stacked bar":"",Column:_9e,"Year over year (column)":"","Stacked column":"",Gauge:w9e,Line:T9e,"Line list":"","Year over year (line)":"",Pie:S9e,Radar:C9e,Scatter:E9e,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:k9e,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:N9e,Base:L9e,"Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""},Pi="default";tt.addResources("ar",Pi,FW);tt.addResources("ar_EG",Pi,SH);tt.addResources("ar_IQ",Pi,cZ);tt.addResources("ckb",Pi,HK);tt.addResources("cs",Pi,TJ);tt.addResources("da",Pi,Qee);tt.addResources("en",Pi,Qne);tt.addResources("es",Pi,kre);tt.addResources("es_419",Pi,nse);tt.addResources("fr",Pi,Aoe);tt.addResources("id",Pi,sce);tt.addResources("km",Pi,Oue);tt.addResources("lo",Pi,uhe);tt.addResources("my",Pi,Fpe);tt.addResources("nb",Pi,mfe);tt.addResources("ne",Pi,Gge);tt.addResources("nl",Pi,vve);tt.addResources("or",Pi,ibe);tt.addResources("prs",Pi,P0e);tt.addResources("ps",Pi,owe);tt.addResources("pt",Pi,R1e);tt.addResources("pt_BR",Pi,dSe);tt.addResources("ro",Pi,ZCe);tt.addResources("ru",Pi,Cke);tt.addResources("si",Pi,eLe);tt.addResources("sv",Pi,L2e);tt.addResources("tet",Pi,rAe);tt.addResources("tg",Pi,DPe);tt.addResources("th",Pi,lMe);tt.addResources("uk",Pi,$Oe);tt.addResources("ur",Pi,h3e);tt.addResources("uz_Cyrl",Pi,v$e);tt.addResources("uz_Latn",Pi,qze);tt.addResources("uz_UZ_Cyrl",Pi,wje);tt.addResources("uz_UZ_Latn",Pi,KBe);tt.addResources("vi",Pi,E5e);tt.addResources("zh",Pi,tUe);tt.addResources("zh_CN",Pi,I9e);const A9e="pe",P9e="520px",D9e="520px",M9e="512px",dl=[".transfer-container.jsx-1438110436{min-width:800px;}",`.filterContainer.jsx-1438110436{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:${jt.dp12};margin-top:${jt.dp8};}`,`.emptyList.jsx-1438110436{text-align:center;font-size:14px;line-height:16px;margin:${jt.dp24} 0 0;color:${Ge.grey700};}`,".rightHeader.jsx-1438110436{font-size:14px;font-weight:400;}",`.leftHeader.jsx-1438110436{padding:${jt.dp12} ${jt.dp4};}`,`.info-container.jsx-1438110436{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:${jt.dp8};padding:${jt.dp8};background-color:${Ge.grey200};border-radius:3px;}`,`.info-text.jsx-1438110436{padding-left:${jt.dp8};color:${Ge.grey900};font-size:12px;line-height:16px;}`,`.calculation-button.jsx-1438110436{margin:${jt.dp8} 0;}`];dl.__hash="1438110436";const O9e="أسبوع",R9e={"Bi-Week":"كل اسبوعين",Week:O9e},$9e="Týden",z9e={"Bi-Week":"Dvoutýden",Week:$9e},F9e="Week",j9e={'Couldn\'t find a monthly period for weekly period id "{{periodId}}"':`Couldn't find a monthly period for weekly period id "{{periodId}}"`,'Couldn\'t find a weekly period for weekly period id "{{periodId}}"':`Couldn't find a weekly period for weekly period id "{{periodId}}"`,'Couldn\'t handle unknown period id "{{periodId}}"':`Couldn't handle unknown period id "{{periodId}}"`,'Could not find a period type for period id "{{periodId}}"':'Could not find a period type for period id "{{periodId}}"','Could not determine a period type for period id "{{periodId}}"':'Could not determine a period type for period id "{{periodId}}"','Couldn\'t find a period type for weekly period id "{{periodId}}"':`Couldn't find a period type for weekly period id "{{periodId}}"`,"Bi-Week":"Bi-Week",Week:F9e,'Date string is invalid, received "{{dateString}}"':'Date string is invalid, received "{{dateString}}"',"Date string format does not match the specified format. Expected {{format}} but got {{detectedFormat}}.":"Date string format does not match the specified format. Expected {{format}} but got {{detectedFormat}}.",'Unrecognized date, received "{{date}}"':'Unrecognized date, received "{{date}}"',"Year {{year}} is out of range.":"Year {{year}} is out of range.","Month {{month}} is out of range | 1 <= {{month}} <= 12.":"Month {{month}} is out of range | 1 <= {{month}} <= 12.","Day {{day}} is out of range | 1 <= {{day}} <= {{daysInMonth}}.":"Day {{day}} is out of range | 1 <= {{day}} <= {{daysInMonth}}.","Date is not given":"Date is not given","Date {{dateString}} is less than the minimum allowed date {{minDateString}}.":"Date {{dateString}} is less than the minimum allowed date {{minDateString}}.","Date {{dateString}} is greater than the maximum allowed date {{maxDateString}}.":"Date {{dateString}} is greater than the maximum allowed date {{maxDateString}}."},B9e="Semana",U9e={"Bi-Week":"Quincenal",Week:B9e},G9e="Semana",Y9e={"Bi-Week":"Cada dos semanas",Week:G9e},V9e="Semaine",W9e={"Bi-Week":"Bi-hebdomadaire",Week:V9e},q9e="Minggu",H9e={"Bi-Week":"",Week:q9e},X9e="ອາທິດ",Z9e={"Bi-Week":"ສອງອາທິດຕໍ່ຄັ້ງ",Week:X9e},K9e="Uke",Q9e={"Bi-Week":"Toukentlig",Week:K9e},J9e="Week",e8e={"Bi-Week":"",Week:J9e},t8e="هفته",n8e={"Bi-Week":"",Week:t8e},i8e="اونۍ",r8e={"Bi-Week":"",Week:i8e},a8e="Semana",s8e={"Bi-Week":"Bimensal",Week:a8e},o8e="Semana",l8e={"Bi-Week":"",Week:o8e},c8e="Неделя",u8e={"Bi-Week":"",Week:c8e},d8e="සතිය",h8e={"Bi-Week":"",Week:d8e},p8e="Тиждень",m8e={"Bi-Week":"",Week:p8e},f8e="ہفتہ",g8e={"Bi-Week":"",Week:f8e},y8e="Ҳафта",v8e={"Bi-Week":"Жуфт-Ҳафта",Week:y8e},x8e="Hafta",b8e={"Bi-Week":"Juft-Hafta",Week:x8e},_8e="Tuần",w8e={"Bi-Week":"Kỳ 2 tuần này",Week:_8e},T8e="周",S8e={"Bi-Week":"两周",Week:T8e},C8e="周",E8e={"Bi-Week":"",Week:C8e},ha="default";tt.addResources("ar",ha,R9e);tt.addResources("cs",ha,z9e);tt.addResources("en",ha,j9e);tt.addResources("es",ha,U9e);tt.addResources("es_419",ha,Y9e);tt.addResources("fr",ha,W9e);tt.addResources("id",ha,H9e);tt.addResources("lo",ha,Z9e);tt.addResources("nb",ha,Q9e);tt.addResources("nl",ha,e8e);tt.addResources("prs",ha,n8e);tt.addResources("ps",ha,r8e);tt.addResources("pt",ha,s8e);tt.addResources("pt_BR",ha,l8e);tt.addResources("ru",ha,u8e);tt.addResources("si",ha,h8e);tt.addResources("uk",ha,m8e);tt.addResources("ur",ha,g8e);tt.addResources("uz_UZ_Cyrl",ha,v8e);tt.addResources("uz_UZ_Latn",ha,b8e);tt.addResources("vi",ha,w8e);tt.addResources("zh",ha,S8e);tt.addResources("zh_CN",ha,E8e);const fM={ethiopian:"ethiopic",coptic:"coptic",gregorian:"gregory",islamic:"islamic",iso8601:"iso8601",nepali:"nepali",thai:"buddhist",persian:"persian"},k8e={nepali:{"ne-NP":{monthNames:["बैशाख","जेठ","असार","साउन","भदौ","असोज","कार्तिक","मंसिर","पौष","माघ","फागुन","चैत"],dayNamesShort:["सोम","मंगल","बुध","बिही","शुक्र","शनि","आइत"],numbers:["०","१","२","३","४","५","६","७","८","९","१०","११","१२","१३","१४","१५","१६","१७","१८","१९","२०","२१","२२","२३","२४","२५","२६","२७","२८","२९","३०","३१","३२"]},"en-NP":{monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],dayNamesShort:["Som","Mangl","Budha","Bihi","Shukra","Shani","Aaita"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"]}}},hl={1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,32,31,32,31,30,30,30,29,30,29,31],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]};class N8e extends Fr.Calendar{constructor(){super("iso8601")}toString(){return"nepali"}year(e){var t;const{isoYear:i,isoMonth:r,isoDay:a}=e.getISOFields();return(t=jw({year:i,month:r,day:a}))===null||t===void 0?void 0:t.year}eraYear(e){return this.year(e)}daysInMonth(e){const{year:t,month:i}=e;return hl[t][i]}month(e){var t;const{isoYear:i,isoMonth:r,isoDay:a}=e.getISOFields();return(t=jw({year:i,month:r,day:a}))===null||t===void 0?void 0:t.month}monthCode(e){const{month:t}=e;return gM(t)}day(e){const{isoYear:t,isoMonth:i,isoDay:r}=e.getISOFields(),{day:a}=jw({year:t,month:i,day:r});return a}dateFromFields(e){const{year:t,day:i,month:r}=Fw({year:e.year,month:e.month,day:e.day});return new Fr.PlainDate(t,r,i,this)}yearMonthFromFields(e){const{year:t,day:i,month:r}=Fw({year:e.year,month:e.month,day:e.day});return new Fr.PlainYearMonth(t,r,this,i)}monthDayFromFields(e){const{year:t,day:i,month:r}=Fw({year:e.year,month:e.month,day:e.day});return new Fr.PlainMonthDay(i,r,this,t)}}const q1=Object.keys(hl),e0=Number(q1[0]),t0=Number(q1[q1.length-1]),Fw=n=>{let{year:e}=n;if(e<e0||e>t0)throw new Error(`Conversions are only possible between ${e0} and ${t0} in Nepali calendar`);const{month:t,day:i=1}=n;let r=0,a=t;const o=e-(t>9||a===9&&i>=hl[e][0]?56:57);for(t!==9&&(r=i,a--);a!==9;)a<=0&&(a=12,e--),r+=hl[e][a],a--;t===9?(r+=i-hl[e][0],r<0&&(r+=Fr.PlainDate.from({year:o,day:1,month:1}).daysInYear)):r+=hl[e][9]-hl[e][0];const s=Fr.PlainDate.from({year:o,month:1,day:1}).add({days:r});return{year:s.year,month:s.month,monthCode:gM(s.month),day:s.day}},jw=n=>{const e=Fr.PlainDate.from({year:n.year,month:n.month,day:n.day}),t=e.year,i=e.dayOfYear;let r=t+56;if(!hl[r])throw new Error(`Conversions are only possible between ${e0} and ${t0} in Nepali calendar`);let a=9;const o=hl[r][0];let s=hl[r][a]-o+1;for(;i>s;){var d;a++,a>12&&(a=1,r++),s+=(d=hl[r])===null||d===void 0?void 0:d[a]}if(!hl[r])throw new Error(`Conversions are only possible between ${e0} and ${t0} in Nepali calendar`);const p=hl[r][a]-(s-i);return{year:r,month:a,day:p}};function gM(n){return`M${n.toString().padStart(2,"0")}`}const YS={nepali:{calendar:new N8e,locales:k8e.nepali,defaultLocale:"en-NP"}},L8e=/^(?:(\d{4})([-./])(\d{2})(\2)(\d{2})|(\d{2})([-./])(\d{2})(\7)(\d{4}))$/;function I8e(n,e){const t=n.match(L8e);if(!t)throw new Error(tt.t('Date string is invalid, received "{{dateString}}"',{dateString:n}));let i,r,a,o;t[1]?(i=t[1],r=t[3],a=t[5],o="YYYY-MM-DD"):(a=t[6],r=t[8],i=t[10],o="DD-MM-YYYY");const s=parseInt(i,10),d=parseInt(r,10),p=parseInt(a,10);return{year:s,month:d,day:p,format:o}}const yM=function(){var n,e,t,i,r,a;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"gregory",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:((n=Intl)===null||n===void 0||(e=n.DateTimeFormat)===null||e===void 0||(t=(i=e.call(n)).resolvedOptions)===null||t===void 0||(r=t.call(i))===null||r===void 0?void 0:r.timeZone)||"UTC";const d=Fr.Now.zonedDateTime("gregory",s);let p=(a=fM[o])!==null&&a!==void 0?a:o;return cd(p)&&(p=vM(p)),Fr.ZonedDateTime.from(d).withCalendar(p)},cd=n=>!!YS[n],Bd=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(n).padStart(e,"0")},Gl=(n,e,t)=>{var i;const r=(i=n.eraYear)!==null&&i!==void 0?i:n.year,a=Bd(n.month);let o=n.day;e==="endOfMonth"?o=n.daysInMonth:e==="startOfMonth"&&(o=1);const s=Bd(o);return t==="DD-MM-YYYY"?`${s}-${a}-${r}`:`${r}-${a}-${s}`},vM=n=>{var e;if(!cd(n))return n;const i=(e=YS[n])===null||e===void 0?void 0:e.calendar;if(!i)throw new Error(`No implemenation found for custom calendar ${n}`);return i},A8e=["adlm","ahom","arab","arabext","armn","armnlow","bali","beng","bhks","brah","cakm","cham","cyrl","deva","ethi","finance","fullwide","geor","gong","gonm","grek","greklow","gujr","guru","hanidays","hanidec","hans","hansfin","hant","hantfin","hebr","hmng","hmnp","java","jpan","jpanfin","jpanyear","kali","khmr","knda","lana","lanatham","laoo","latn","lepc","limb","mathbold","mathdbl","mathmono","mathsanb","mathsans","mlym","modi","mong","mroo","mtei","mymr","mymrshan","mymrtlng","native","newa","nkoo","olck","orya","osma","rohg","roman","romanlow","saur","shrd","sind","sinh","sora","sund","takr","talu","taml","tamldec","telu","thai","tirh","tibt","traditio","vaii","wara","wcho"],P8e=(n,e)=>{const t=Object.keys(n).find(i=>{var r,a;return((r=i.split("-"))===null||r===void 0||(a=r[0])===null||a===void 0?void 0:a.toLowerCase())===e});if(t)return n[t]},VS=(n,e)=>{var t,i;const r=YS[n];if(!r)return;const a=r.locales||{},o=(t=(i=e&&(a==null?void 0:a[e]))!==null&&i!==void 0?i:P8e(a,e))!==null&&t!==void 0?t:a==null?void 0:a[r.defaultLocale];if(!o)throw new Error(`no localisation found for custom calendar ${n}. Requested locale: ${e}, Default locale ${r.defaultLocale}`);return o},D8e=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{dateStyle:"full"};if(!e.calendar)throw new Error("no calendar provided to localise function");if(!n)throw new Error("a date must be provided to localiseDateLabel");const i=cd(e.calendar),r=n instanceof Fr.ZonedDateTime?n==null?void 0:n.toPlainDate():n;return i?Gl(n):r.toLocaleString(e.locale,{calendar:e.calendar,dateStyle:t.dateStyle}).toString()},M8e=(n,e)=>{var t;if(!e.calendar)throw new Error("no calendar provided to localise function");const i=cd(e.calendar),r=VS(e.calendar,e.locale);return i?(r==null||(t=r.numbers)===null||t===void 0?void 0:t[n.day])||n.day:n.toPlainDate().toLocaleString(e.locale,{calendar:e.calendar,numberingSystem:A8e.includes(e.numberingSystem)?e.numberingSystem:void 0,day:"numeric"})},O8e=(n,e,t)=>{if(!e.calendar)throw new Error("no calendar provided to localise function");const i=cd(e.calendar),r=VS(e.calendar,e.locale);return i?r==null?void 0:r.monthNames[n.month-1]:n.toLocaleString(e.locale,t)},R8e=(n,e)=>{if(!e.calendar)throw new Error("no calendar provided to localise function");const t=cd(e.calendar),i=VS(e.calendar,e.locale),r=i==null?void 0:i.dayNamesShort[n.dayOfWeek-1];return t&&r?r:n.toPlainDate().toLocaleString(e.locale,{weekday:e.weekDayFormat,calendar:e.calendar})},$8e=(n,e,t)=>{if(!e.calendar)throw new Error("no calendar provided to localise function");return cd(e.calendar)?n.year:n.toPlainYearMonth().toLocaleString(e.locale,t)},hp={localiseYear:$8e,localiseDateLabel:D8e,localiseWeekLabel:M8e,localiseMonth:O8e,localiseWeekDayLabel:R8e},z8e=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const[e,t,i]=n.replace(/_/g,"-").split("-");let r=e;i&&(r=`${r}-${i}`),t&&(r=`${r}-${t}`);try{const a=Intl.DateTimeFormat.supportedLocalesOf(r);return a&&a.length===1?r:void 0}catch{return}},F8e=n=>{let{date:e,calendar:t}=n;const{year:i,month:r,day:a}=I8e(e);return Fr.PlainDate.from({year:i,month:r,day:a,calendar:t})},lh=n=>{let{date:e,calendar:t}=n;if(typeof e=="string")return F8e({date:e,calendar:t});if(e instanceof Date)return Fr.PlainDate.from({year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),calendar:t});if(e instanceof Fr.PlainDate)return Fr.PlainDate.from({year:e.year,month:e.month,day:e.day,calendar:t});throw new Error(tt.t('Unrecognized date, received "{{date}}"',{date:e}))},ss=["DAILY","WEEKLY","WEEKLYMON","WEEKLYTUE","WEEKLYWED","WEEKLYTHU","WEEKLYFRI","WEEKLYSAT","WEEKLYSUN","BIWEEKLY","MONTHLY","BIMONTHLY","QUARTERLY","QUARTERLYJAN","QUARTERLYFEB","QUARTERLYMAR","QUARTERLYAPR","QUARTERLYMAY","QUARTERLYJUN","QUARTERLYJUL","QUARTERLYAUG","QUARTERLYSEP","QUARTERLYOCT","QUARTERLYNOV","QUARTERLYDEC","SIXMONTHLY","SIXMONTHLYJAN","SIXMONTHLYFEB","SIXMONTHLYMAR","SIXMONTHLYAPR","SIXMONTHLYMAY","SIXMONTHLYJUN","SIXMONTHLYJUL","SIXMONTHLYAUG","SIXMONTHLYSEP","SIXMONTHLYOCT","SIXMONTHLYNOV","SIXMONTHLYDEC","YEARLY","FYJAN","FYFEB","FYMAR","FYAPR","FYMAY","FYJUN","FYJUL","FYAUG","FYSEP","FYOCT","FYNOV","FYDEC"],j8e=ss.filter(n=>n.match(/WEEKLY/)),xM=ss.filter(n=>n.match(/MONTHLY|QUARTERLY|SIXMONTHLY/)),Ev=ss.filter(n=>n.match(/QUARTERLY/)),kv=ss.filter(n=>n.match(/SIXMONTHLY/)),B8e=["MONTHLY","BIMONTHLY","QUARTERLY","QUARTERLYJAN","SIXMONTHLY","SIXMONTHLYJAN"],U8e=ss.filter(n=>n.match(/(QUARTERLY|SIXMONTHLY)[A-Z]/)),bM=xM.filter(n=>n!=="MONTHLY"),G8e=ss.filter(n=>n.match(/^(YEARLY|FY[A-Z]{3})/)),Y8e=ss.filter(n=>n.match(/^FY[A-Z]{3}$/));[...B8e,...ss.filter(n=>n.match(/JAN$/))];const V8e=ss.filter(n=>n.match(/FEB$/)),W8e=ss.filter(n=>n.match(/MAR$/)),q8e=ss.filter(n=>n.match(/APR$/)),H8e=ss.filter(n=>n.match(/MAY$/)),X8e=ss.filter(n=>n.match(/JUN$/)),Z8e=ss.filter(n=>n.match(/JUL$/)),K8e=ss.filter(n=>n.match(/AUG$/)),Q8e=ss.filter(n=>n.match(/SEP$/)),J8e=ss.filter(n=>n.match(/OCT$/)),eGe=ss.filter(n=>n.match(/NOV$/)),tGe=ss.filter(n=>n.match(/DEC/)),{localiseDateLabel:nGe}=hp,iGe=n=>{let{date:e,calendar:t,locale:i}=n;const r=e.year,a=String(e.month).padStart(2,"0"),o=String(e.day).padStart(2,"0"),s=`${r}${a}${o}`,d=nGe(e,{calendar:t,locale:i},{dateStyle:"long"});return{periodType:"DAILY",id:s,iso:s,displayName:d,name:Gl(e),startDate:Gl(e),endDate:Gl(e)}},rGe=n=>{let{year:e,calendar:t,endsBefore:i,locale:r}=n;const a=i?lh({calendar:t,date:i}):null,o=Fr.PlainDate.from({year:e,month:1,day:1,calendar:t}),s=[];for(let d=0;d<o.daysInYear;d++){const p=o.add({days:d});if(a&&Fr.PlainDate.compare(p,a)>-1)break;const m=iGe({date:p,calendar:t,locale:r});s.push(m)}return s},Af=n=>V8e.includes(n)?"FEB":W8e.includes(n)?"MAR":q8e.includes(n)?"APR":H8e.includes(n)?"MAY":X8e.includes(n)?"JUN":Z8e.includes(n)?"JUL":K8e.includes(n)?"AUG":Q8e.includes(n)?"SEP":J8e.includes(n)?"OCT":eGe.includes(n)?"NOV":tGe.includes(n)?"DEC":"JAN",Ap={JAN:{value:1,name:"January"},FEB:{value:2,name:"February"},MAR:{value:3,name:"March"},APR:{value:4,name:"April"},MAY:{value:5,name:"May"},JUN:{value:6,name:"June"},JUL:{value:7,name:"July"},AUG:{value:8,name:"August"},SEP:{value:9,name:"September"},OCT:{value:10,name:"October"},NOV:{value:11,name:"November"},DEC:{value:12,name:"December"}},aGe=n=>{let{periodType:e,month:t,year:i,calendar:r,locale:a}=n;const o=uGe({periodType:e,month:t.month,monthsInYear:t.monthsInYear}),s=oGe(e),d=t.add({months:s}),p=sGe({periodType:e,currentMonth:t,year:i,index:o});t.calendar==="ethiopic"&&console.warn("todo: confirm the special cases for the 13th month with Abyot, then update the start/end dates for Ethiopic calendar");const m=Fr.PlainDate.from({year:d.year,month:d.month,day:1,calendar:d.calendar}).subtract({days:1}),y=lGe({periodType:e,month:t,locale:a,calendar:r,nextMonth:d.subtract({months:1}),index:o});return{periodType:e,id:p,iso:p,name:y,displayName:y,startDate:Gl(t,"startOfMonth"),endDate:Gl(m,"endOfMonth")}},sGe=n=>{let{periodType:e,currentMonth:t,year:i,index:r}=n;if(e==="BIMONTHLY")return`${i}${Bd(r)}B`;if(e==="QUARTERLY")return`${i}Q${r}`;if(e==="SIXMONTHLY")return`${i}S${r}`;if(Ev.includes(e)){const a=Ap[Af(e)].name;return`${i}${a}Q${r}`}if(kv.includes(e)){const a=Ap[Af(e)].name;return`${i}${a}S${r}`}return`${i}${Bd(t.month)}`},oGe=n=>{if(kv.includes(n))return 6;if(Ev.includes(n))return 3;if(n==="MONTHLY")return 1;if(n==="BIMONTHLY")return 2;throw new Error(`unrecognised monthly period type ${n}`)},lGe=n=>{const{periodType:e,month:t,nextMonth:i,calendar:r,locale:a}=n;if(cd(r))return cGe(n);const o={month:"long",year:"numeric",calendar:r},s={month:"long",calendar:r};let d="";if(bM.includes(e)){const p=t.year===i.year?s:o;d=`${t.toLocaleString(a,p)} - ${i.toLocaleString(a,o)}`}else d=`${t.toLocaleString(a,o)}`;return d=d.replace(/ERA\d+\s*/g,"").trim(),d},cGe=n=>{let{periodType:e,month:t,nextMonth:i,calendar:r,locale:a}=n,o="";if(bM.includes(e)){const s=t.year!==i.year;o=`${hp.localiseMonth(t,{locale:a,calendar:r},{})}${s?` ${t.year}`:""} - ${hp.localiseMonth(i,{locale:a,calendar:r},{})} ${i.year}`}else o=`${hp.localiseMonth(t,{locale:a,calendar:r},{})} ${i.year}`;return o},uGe=n=>{let{periodType:e,month:t,monthsInYear:i}=n;if(e==="MONTHLY")return t;if(e==="BIMONTHLY"){if(t%2===0)throw new Error(`Even numbers can't be a month for BIMONTHLY period type, received "${t}"`);return Math.ceil(t/2)}if(Ev.includes(e))return hGe(e,t,i);if(kv.includes(e))return dGe(e,t,i);throw new Error(`Unrecognized period type "${e}"`)},_M=(n,e)=>[...Array(e-n+1).fill(null).map((i,r)=>r+n),1,2,3,4,5,6,7,8,9,10,11,12].slice(0,12),wM=(n,e)=>{const t=[];for(let i=0;i<12;i+=e)t.push(n.slice(i,i+e));return t},dGe=(n,e,t)=>{const i=Af(n),r=Ap[i].value,a=_M(r,t);return wM(a,6)[1].includes(e)?2:1},hGe=(n,e,t)=>{const i=Af(n),r=Ap[i].value,a=_M(r,t),o=wM(a,3);return o[1].includes(e)?2:o[2].includes(e)?3:o[3].includes(e)?4:1},WS=n=>{let{period:e,date:t,calendar:i}=n;const r=lh({calendar:i,date:e.startDate}),a=lh({calendar:i,date:e.endDate}),o=Fr.PlainDate.compare(t,r)<1,s=Fr.PlainDate.compare(r,t)===-1,d=Fr.PlainDate.compare(t,a)<1;return o||s&&d},pGe=n=>{let{year:e,calendar:t,periodType:i,endsBefore:r,locale:a}=n,o=Fr.PlainDate.from({year:e,month:fGe(i),day:t.toString()==="nepali"?14:1,calendar:t});const s=[];for(;o.year===e||gGe(i,s.length);){const d=yGe({periodType:i,currentMonth:o.month,year:e,calendar:t});if(!mGe(t,o)){const y=aGe({periodType:i,month:o,year:e,calendar:t,locale:a});if(r&&WS({period:y,date:r,calendar:t}))break;s.push(y)}const m=o.add({months:d});o=lh({date:m,calendar:t})}return s},mGe=(n,e)=>n==="ethiopic"&&e.month===13,fGe=n=>{if(U8e.includes(n)){const e=Af(n);return Ap[e].value}return 1},gGe=(n,e)=>kv.includes(n)?e<2:Ev.includes(n)?e<4:!1,yGe=n=>{let{periodType:e}=n;if(kv.includes(e))return 6;if(Ev.includes(e))return 3;if(e==="MONTHLY")return 1;if(e==="BIMONTHLY")return 2;throw new Error(`unrecognised monthly period type ${e}`)},Ld={Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6,Sunday:7},vGe=n=>{let{year:e,calendar:t,periodType:i,startingDay:r,endsBefore:a}=n;const o=xGe(i,r);let s=bGe({year:e,calendar:t,periodType:i,startingDay:o});const d=[];let p=1;const m=i==="BIWEEKLY"?13:6;do{const y=s.add({days:m});if(a&&WS({period:{startDate:Gl(s),endDate:Gl(y)},date:a,calendar:t}))break;const g=wGe({periodType:i,startingDay:o,year:e,weekIndex:p});if(!(y.year===e+1&&y.day>=4)){const _=TGe({periodType:i,date:s,nextWeek:y,weekIndex:p});d.push({periodType:i,id:g,iso:g,name:_,displayName:_,startDate:Gl(s),endDate:Gl(y)})}s=lh({date:y,calendar:t}).add({days:1}),p++}while(s.year===e);return d},xGe=(n,e)=>{switch(n){case"WEEKLYMON":return Ld.Monday;case"WEEKLYTUE":return Ld.Tuesday;case"WEEKLYWED":return Ld.Wednesday;case"WEEKLYTHU":return Ld.Thursday;case"WEEKLYFRI":return Ld.Friday;case"WEEKLYSAT":return Ld.Saturday;case"WEEKLYSUN":return Ld.Sunday;case"WEEKLY":case"BIWEEKLY":default:return e||Ld.Monday}},bGe=n=>{const{year:e,calendar:t,startingDay:i}=n,r=Fr.PlainDate.from({year:e,month:1,day:4,calendar:t}),a=r.dayOfWeek-i;return a>0?r.subtract({days:a}):a<0?r.subtract({days:a+7}):r},_Ge={1:"",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat",7:"Sun"},wGe=n=>{let{startingDay:e,periodType:t,year:i,weekIndex:r}=n;const a=t==="BIWEEKLY"?"BiW":"W";return`${i}${_Ge[e]}${a}${r}`},TGe=n=>{let{periodType:e,date:t,nextWeek:i,weekIndex:r}=n;const{year:a,month:o,day:s}=t,{year:d,month:p,day:m}=i;return`${e==="BIWEEKLY"?tt.t("Bi-Week"):tt.t("Week")} ${r} - ${a}-${Bd(o)}-${Bd(s)} - ${d}-${Bd(p)}-${Bd(m)}`},TM=n=>{if(n==="YEARLY")return 1;const e=Af(n),t=Ap[e];return(t==null?void 0:t.value)||1},SM={1:"",2:"Feb",3:"March",4:"April",5:"May",6:"Jun",7:"July",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},SGe=n=>{let{periodType:e,year:t,locale:i,calendar:r}=n;const a=TM(e),o=CGe({periodType:e,year:t,month:a}),s=a.toString().padStart(2,"0"),d=lh({date:`${t}-${s}-01`,calendar:r}),p=lh({date:`${t+1}-${s}-01`,calendar:r}).subtract({days:1}),m=kGe(e,d,{locale:i,calendar:r});return{periodType:e,id:o,iso:o,name:m,displayName:m,startDate:Gl(d,"startOfMonth"),endDate:Gl(p,"endOfMonth")}},CGe=n=>{let{periodType:e,year:t,month:i}=n;if(e==="YEARLY")return t.toString();if(EGe(e)){const r=SM[i];return`${t}${r}`}throw new Error(`can not build value for unrecognised yearly type "${e}"`)},EGe=n=>Y8e.includes(n),kGe=(n,e,t)=>{if(n==="YEARLY")return e.year.toString();if(cd(t.calendar))return NGe(e,t);const i={month:"long",year:"numeric",calendar:t.calendar},r=hp.localiseMonth(e,t,i),a=hp.localiseMonth(e.add({months:e.monthsInYear-1}),t,i);let o=`${r} - ${a}`;return o=o.replace(/ERA\d+\s*/g,"").trim(),o},NGe=(n,e)=>{const t=a=>`${hp.localiseMonth(a,e,{})} ${a.year}`,i=Fr.PlainDate.from({year:n.year+1,month:n.month-1,day:1,calendar:e.calendar});return`${t(n)} - ${t(i)}`},LGe=n=>{let{year:e,calendar:t,periodType:i,endsBefore:r,yearsCount:a,locale:o}=n;const s=TM(i),d=Fr.PlainDate.from({year:e,month:s,day:t.toString()==="nepali"?14:1,calendar:t}),p=Fr.PlainDate.from({day:1,month:1,year:1970,calendar:"gregory"}).withCalendar(t),m=p.eraYear||p.year,y=[],g=a??e-m+1;for(let _=0;_<g;_++){const x=d.year-_,T=SGe({periodType:i,year:x,locale:o,calendar:t});r&&WS({period:T,date:r,calendar:t})||y.push(T)}return y},IGe=n=>{var e,t;let{periodType:i,year:r,endsBefore:a,calendar:o,locale:s="en",yearsCount:d=10,startingDay:p=1}=n,m;if(typeof r=="number")m=r;else if(!isNaN(r)&&!isNaN(parseInt(r)))m=parseInt(r);else throw new Error("year must be a number");const y=vM((e=fM[o])!==null&&e!==void 0?e:o),g=(t=z8e(s))!==null&&t!==void 0?t:"en",_=a?lh({calendar:y,date:a}):void 0;if(j8e.includes(i))return vGe({year:m,periodType:i,calendar:y,startingDay:p,endsBefore:_});if(G8e.includes(i))return LGe({year:m,periodType:i,locale:g,calendar:y,endsBefore:_,yearsCount:d});if(xM.includes(i))return pGe({year:m,periodType:i,locale:g,calendar:y,endsBefore:_});if(i==="DAILY")return rGe({year:m,locale:g,calendar:y,endsBefore:_});throw new Error(`can not generate period for unrecognised period type "${i}"`)};Object.values(SM).slice(1).join("|");Object.values(Ap).map(n=>{let{name:e}=n;return e}).join("|");const AGe=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Se.createElement("path",{fill:"#6E7A8A",d:"M8,4 C10.209139,4 12,5.790861 12,8 C12,10.209139 10.209139,12 8,12 C5.790861,12 4,10.209139 4,8 C4,5.790861 5.790861,4 8,4 Z M8,5 C6.34314575,5 5,6.34314575 5,8 C5,9.65685425 6.34314575,11 8,11 C9.65685425,11 11,9.65685425 11,8 C11,6.34314575 9.65685425,5 8,5 Z M8.5,6 L8.5,7.5 L9.5,7.5 L9.5,8.5 L7.5,8.5 L7.5,6 L8.5,6 Z"})),Qh=[`.wrapper.jsx-1302852599:last-child{margin-bottom:${jt.dp4};}`,`.chip.jsx-1302852599{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;background:${Ge.grey200};font-size:14px;line-height:16px;padding:2px ${jt.dp8} 2px ${jt.dp4};margin:${jt.dp4} ${jt.dp8} 0 ${jt.dp8};border-radius:3px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`,`.chip.jsx-1302852599:hover{background:${Ge.grey300};}`,`.selected.jsx-1302852599{background:${qt.secondary100};color:${qt.secondary900};}`,`.selected.jsx-1302852599 .icon path{fill:${qt.secondary700};}`,".selected.jsx-1302852599:hover{background:#c9edeb;}",`.highlighted.jsx-1302852599,.highlighted.jsx-1302852599:hover{background:${qt.secondary800};color:${Ge.white};}`,`.highlighted.jsx-1302852599 .icon path{fill:${Ge.white};}`,".disabled.jsx-1302852599{opacity:0.3;cursor:not-allowed;}",".inactive.jsx-1302852599{opacity:0.3;}",".icon.jsx-1302852599,.label.jsx-1302852599{line-height:18px;}",`.icon.jsx-1302852599{margin-right:${jt.dp4};display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;vertical-align:text-bottom;padding-top:1px;}`,".label.jsx-1302852599{font-size:14px;}",`.edit.jsx-1302852599{height:16px;margin-top:1px;margin-left:${jt.dp8};cursor:pointer;}`,".edit.jsx-1302852599:hover{background-color:rgba(0,0,0,0.12);outline:1px solid rgba(0,0,0,0.12);border-radius:3px;}",".highlighted.jsx-1302852599 .edit.jsx-1302852599:hover{background-color:rgba(255,255,255,0.12);outline:1px solid rgba(255,255,255,0.12);}"];Qh.__hash="1302852599";const CM=n=>{let{disabled:e,label:t,highlighted:i,selected:r,onClick:a,onDoubleClick:o,value:s,icon:d,active:p,tooltipText:m,dataTest:y,onEditClick:g}=n;const _=()=>Se.createElement("div",{"data-test":`${y}-content`,onClick:x=>{e||a({label:t,value:s},x)},onDoubleClick:x=>{e||o({label:t,value:s},x)},className:`jsx-${Qh.__hash} `+(Dr("chip",{highlighted:i,disabled:e,selected:r,inactive:p!==void 0&&!p})||"")},Se.createElement("span",{className:`jsx-${Qh.__hash} icon`},d),Se.createElement("span",{className:`jsx-${Qh.__hash} label`},t),g&&Se.createElement("span",{onClick:x=>{x.stopPropagation(),g()},"data-test":`${y}-edit-button`,className:`jsx-${Qh.__hash} edit`},Se.createElement(a2,null)),Se.createElement(Pt,{id:Qh.__hash},Qh));return Se.createElement("div",{"data-value":s,"data-test":y,className:"wrapper"},m?Se.createElement(c0,{key:`${s}`,content:m,placement:"top",openDelay:750,closeDelay:150},_()):_())};CM.propTypes={label:he.string.isRequired,value:he.string.isRequired,active:he.bool,dataTest:he.string,disabled:he.bool,highlighted:he.bool,icon:he.node,selected:he.bool,tooltipText:he.string,onClick:he.func,onDoubleClick:he.func,onEditClick:he.func};const Ud=[".leftSection.jsx-2872988609{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".leftSection.jsx-2872988609>.filterElement,.rightSection.jsx-2872988609>.filterElement{margin:0;}",`.rightSection.jsx-2872988609{width:120px;margin-left:${jt.dp8};}`];Ud.__hash="2872988609";const EM="DAILY",kM="WEEKLY",PGe="WEEKLYWED",DGe="WEEKLYTHU",MGe="WEEKLYSAT",OGe="WEEKLYSUN",RGe="WEEKS_THIS_YEAR",NM="BIWEEKLY",qm="MONTHLY",LM="BIMONTHLY",n0="QUARTERLY",IM="SIXMONTHLY",$Ge="SIXMONTHLYAPR",AM="YEARLY",zGe="FINANCIAL",FGe="FYNOV",jGe="FYOCT",BGe="FYJUL",UGe="FYAPR",PM=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.filter(t=>!e.includes(t.id))},Ll=n=>{let{periodType:e,config:t,fnFilter:i,periodSettings:r={}}=n;const a=parseInt(t.offset,10),o=t.filterFuturePeriods,s=e.match(/^FY|YEARLY/)?!0:t.reversePeriods,{calendar:d="gregory",locale:p="en"}=r,m=yM(d),y=(m.eraYear||m.year)+a,g={periodType:e,year:y,calendar:d,locale:p,startingDay:t.startDay};let _=IGe(g);return _=o?i(_):_,_=s?_.reverse():_,_},GGe=(n,e)=>t=>Ll({periodType:"DAILY",config:t,fnFilter:n,periodSettings:e}),oy=(n,e,t)=>i=>Ll({periodType:"WEEKLY",config:{...i,startDay:n.startDay},fnFilter:e,periodSettings:t}),YGe=(n,e)=>t=>Ll({periodType:"BIWEEKLY",config:t,fnFilter:n,periodSettings:e}),VGe=(n,e)=>t=>Ll({periodType:"MONTHLY",config:t,fnFilter:n,periodSettings:e}),WGe=(n,e)=>t=>Ll({periodType:"BIMONTHLY",config:t,fnFilter:n,periodSettings:e}),qGe=(n,e)=>t=>Ll({periodType:"QUARTERLY",config:t,fnFilter:n,periodSettings:e}),HGe=(n,e)=>t=>Ll({periodType:"SIXMONTHLY",config:t,fnFilter:n,periodSettings:e}),XGe=(n,e)=>t=>Ll({periodType:"SIXMONTHLYAPR",config:t,fnFilter:n,periodSettings:e}),ZGe=(n,e)=>t=>Ll({periodType:"YEARLY",config:t,fnFilter:n,periodSettings:e}),KGe=(n,e)=>t=>Ll({periodType:"FYOCT",config:t,fnFilter:n,periodSettings:e}),QGe=(n,e)=>t=>Ll({periodType:"FYNOV",config:t,fnFilter:n,periodSettings:e}),JGe=(n,e)=>t=>Ll({periodType:"FYJUL",config:t,fnFilter:n,periodSettings:e}),e7e=(n,e)=>t=>Ll({periodType:"FYAPR",config:t,fnFilter:n,periodSettings:e}),Ls=n=>{const e=[],t=new Date(Date.now());for(let i=0;i<n.length;i++)new Date(n[i].startDate)<=t&&e.push(n[i]);return e},DM=n=>[{id:EM,getPeriods:GGe(Ls,n),name:tt.t("Daily")},{id:kM,getPeriods:oy({startDay:1},Ls,n),name:tt.t("Weekly")},{id:PGe,getPeriods:oy({startDay:3},Ls,n),name:tt.t("Weekly (Start Wednesday)")},{id:DGe,getPeriods:oy({startDay:4},Ls,n),name:tt.t("Weekly (Start Thursday)")},{id:MGe,getPeriods:oy({startDay:6},Ls,n),name:tt.t("Weekly (Start Saturday)")},{id:OGe,getPeriods:oy({startDay:7},Ls,n),name:tt.t("Weekly (Start Sunday)")},{id:NM,getPeriods:YGe(Ls,n),name:tt.t("Bi-weekly")},{id:qm,getPeriods:VGe(Ls,n),name:tt.t("Monthly")},{id:LM,getPeriods:WGe(Ls,n),name:tt.t("Bi-monthly")},{id:n0,getPeriods:qGe(Ls,n),name:tt.t("Quarterly")},{id:IM,getPeriods:HGe(Ls,n),name:tt.t("Six-monthly")},{id:$Ge,getPeriods:XGe(Ls,n),name:tt.t("Six-monthly April")},{id:AM,getPeriods:ZGe(Ls,n),name:tt.t("Yearly")},{id:FGe,getPeriods:QGe(Ls,n),name:tt.t("Financial year (Start November)")},{id:jGe,getPeriods:KGe(Ls,n),name:tt.t("Financial year (Start October)")},{id:BGe,getPeriods:JGe(Ls,n),name:tt.t("Financial year (Start July)")},{id:UGe,getPeriods:e7e(Ls,n),name:tt.t("Financial year (Start April)")}],Hx=(n,e)=>DM(e).find(t=>t.id===n),bL=()=>DM(),qS=n=>{let{allowedPeriodTypes:e,excludedPeriodTypes:t,currentPeriodType:i,currentYear:r,onSelectPeriodType:a,onSelectYear:o,dataTest:s}=n;const d=Array.isArray(e)&&e.length===1&&e[0]===i;return Se.createElement(Se.Fragment,null,Se.createElement("div",{className:`jsx-${Ud.__hash} leftSection`},Se.createElement(va,{label:tt.t("Period type"),onChange:p=>{let{selected:m}=p;return a(m)},dense:!0,selected:i,disabled:d,className:"filterElement",dataTest:`${s}-period-type`},(e?bL().filter(p=>e.some(m=>m===p.id)):PM(bL(),t)).map(p=>Se.createElement(to,{key:p.id,value:p.id,label:p.name,dataTest:`${s}-period-type-option-${p.id}`})))),Se.createElement("div",{className:`jsx-${Ud.__hash} rightSection`},Se.createElement(Pp,{label:tt.t("Year"),className:"filterElement",type:"number",placeholder:tt.t("Select year"),value:r,onChange:p=>{let{value:m}=p;return o(m)},dense:!0,dataTest:`${s}-year`})),Se.createElement(Pt,{id:Ud.__hash},Ud))};qS.defaultProps={excludedPeriodTypes:[]};qS.propTypes={currentPeriodType:he.string.isRequired,currentYear:he.string.isRequired,onSelectPeriodType:he.func.isRequired,onSelectYear:he.func.isRequired,allowedPeriodTypes:he.arrayOf(he.string),dataTest:he.string,excludedPeriodTypes:he.arrayOf(he.string)};const t7e=()=>[{id:"TODAY",name:tt.t("Today")},{id:"YESTERDAY",name:tt.t("Yesterday")},{id:"LAST_3_DAYS",name:tt.t("Last 3 days")},{id:"LAST_7_DAYS",name:tt.t("Last 7 days")},{id:"LAST_14_DAYS",name:tt.t("Last 14 days")},{id:"LAST_30_DAYS",name:tt.t("Last 30 days")},{id:"LAST_60_DAYS",name:tt.t("Last 60 days")},{id:"LAST_90_DAYS",name:tt.t("Last 90 days")},{id:"LAST_180_DAYS",name:tt.t("Last 180 days")}],n7e=()=>[{id:"THIS_WEEK",name:tt.t("This week")},{id:"LAST_WEEK",name:tt.t("Last week")},{id:"LAST_4_WEEKS",name:tt.t("Last 4 weeks")},{id:"LAST_12_WEEKS",name:tt.t("Last 12 weeks")},{id:"LAST_52_WEEKS",name:tt.t("Last 52 weeks")},{id:RGe,name:tt.t("Weeks this year")}],i7e=()=>[{id:"THIS_BIWEEK",name:tt.t("This bi-week")},{id:"LAST_BIWEEK",name:tt.t("Last bi-week")},{id:"LAST_4_BIWEEKS",name:tt.t("Last 4 bi-weeks")}],r7e=()=>[{id:"THIS_MONTH",name:tt.t("This month")},{id:"LAST_MONTH",name:tt.t("Last month")},{id:"LAST_3_MONTHS",name:tt.t("Last 3 months")},{id:"LAST_6_MONTHS",name:tt.t("Last 6 months")},{id:"LAST_12_MONTHS",name:tt.t("Last 12 months")},{id:"MONTHS_THIS_YEAR",name:tt.t("Months this year")}],a7e=()=>[{id:"THIS_BIMONTH",name:tt.t("This bi-month")},{id:"LAST_BIMONTH",name:tt.t("Last bi-month")},{id:"LAST_6_BIMONTHS",name:tt.t("Last 6 bi-months")},{id:"BIMONTHS_THIS_YEAR",name:tt.t("Bi-months this year")}],s7e=()=>[{id:"THIS_QUARTER",name:tt.t("This quarter")},{id:"LAST_QUARTER",name:tt.t("Last quarter")},{id:"LAST_4_QUARTERS",name:tt.t("Last 4 quarters")},{id:"QUARTERS_THIS_YEAR",name:tt.t("Quarters this year")}],o7e=()=>[{id:"THIS_SIX_MONTH",name:tt.t("This six-month")},{id:"LAST_SIX_MONTH",name:tt.t("Last six-month")},{id:"LAST_2_SIXMONTHS",name:tt.t("Last 2 six-month")}],l7e=()=>[{id:"THIS_FINANCIAL_YEAR",name:tt.t("This financial year")},{id:"LAST_FINANCIAL_YEAR",name:tt.t("Last financial year")},{id:"LAST_5_FINANCIAL_YEARS",name:tt.t("Last 5 financial years")}],c7e=()=>[{id:"THIS_YEAR",name:tt.t("This year")},{id:"LAST_YEAR",name:tt.t("Last year")},{id:"LAST_5_YEARS",name:tt.t("Last 5 years")},{id:"LAST_10_YEARS",name:tt.t("Last 10 years")}],MM=()=>[{id:EM,getPeriods:()=>t7e(),name:tt.t("Days")},{id:kM,getPeriods:()=>n7e(),name:tt.t("Weeks")},{id:NM,getPeriods:()=>i7e(),name:tt.t("Bi-weeks")},{id:qm,getPeriods:()=>r7e(),name:tt.t("Months")},{id:LM,getPeriods:()=>a7e(),name:tt.t("Bi-months")},{id:n0,getPeriods:()=>s7e(),name:tt.t("Quarters")},{id:IM,getPeriods:()=>o7e(),name:tt.t("Six-months")},{id:zGe,getPeriods:()=>l7e(),name:tt.t("Financial Years")},{id:AM,getPeriods:()=>c7e(),name:tt.t("Years")}],Xx=n=>MM().find(e=>e.id===n),u7e=()=>MM(),OM=n=>{let{currentFilter:e,onSelectFilter:t,dataTest:i,excludedPeriodTypes:r}=n;return Se.createElement("div",{className:`jsx-${Ud.__hash} leftSection`},Se.createElement(va,{label:tt.t("Period type"),onChange:a=>{let{selected:o}=a;return t(o)},dense:!0,selected:e,className:"filterElement",dataTest:i},PM(u7e(),r).map(a=>Se.createElement(to,{key:a.id,value:a.id,label:a.name,dataTest:`${i}-option-${a.id}`}))),Se.createElement(Pt,{id:Ud.__hash},Ud))};OM.propTypes={currentFilter:he.string.isRequired,onSelectFilter:he.func.isRequired,dataTest:he.string,excludedPeriodTypes:he.arrayOf(he.string)};function H1(){return H1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},H1.apply(null,arguments)}const RM=n=>{let{infoBoxMessage:e}=n;return Se.createElement(Se.Fragment,null,Se.createElement("p",{className:`jsx-${dl.__hash} rightHeader`},tt.t("Selected Periods")),e&&Se.createElement("div",{className:`jsx-${dl.__hash} info-container`},Se.createElement("div",{className:`jsx-${dl.__hash}`},Se.createElement(s2,null)),Se.createElement("span",{className:`jsx-${dl.__hash} info-text`},e)),Se.createElement(Pt,{id:dl.__hash},dl))};RM.propTypes={infoBoxMessage:he.string};const HS=n=>{let{onSelect:e,dataTest:t,selectedItems:i,rightFooter:r,excludedPeriodTypes:a,periodsSettings:o,infoBoxMessage:s}=n;const d=a.includes(qm)?Xx(n0):Xx(qm),p=a.includes(qm)?Hx(n0,o):Hx(qm,o),m=yM(o.calendar),y=m.eraYear||m.year,g=H=>({offset:H-y,filterFuturePeriods:!1,reversePeriods:!1}),[_,x]=Oe.useState(d.getPeriods()),[T,E]=Oe.useState(!0),[k,v]=Oe.useState({periodType:d.id}),[w,N]=Oe.useState({periodType:p.id,year:y.toString()}),S=H=>{const $=i.find(G=>G.id===H);return!$||$.isActive},L=H=>{H!==T&&(E(H),x(H?Xx(k.periodType).getPeriods():Hx(w.periodType,o).getPeriods(g(Number(w.year)))))},O=()=>Se.createElement(Se.Fragment,null,Se.createElement(E0,null,Se.createElement(Hu,{selected:T,onClick:()=>L(!0),dataTest:`${t}-relative-periods-button`},tt.t("Relative periods")),Se.createElement(Hu,{selected:!T,onClick:()=>L(!1),dataTest:`${t}-fixed-periods-button`},tt.t("Fixed periods"))),Se.createElement("div",{className:`jsx-${dl.__hash} filterContainer`},T?Se.createElement(OM,{currentFilter:k.periodType,onSelectFilter:H=>{v({periodType:H}),x(Xx(H).getPeriods())},dataTest:`${t}-relative-period-filter`,excludedPeriodTypes:a}):Se.createElement(qS,{currentPeriodType:w.periodType,currentYear:w.year,onSelectPeriodType:H=>{Y({periodType:H,year:w.year})},onSelectYear:H=>{Y({periodType:w.periodType,year:H})},dataTest:`${t}-fixed-period-filter`,excludedPeriodTypes:a})),Se.createElement(Pt,{id:dl.__hash},dl)),Y=H=>{N(H),H.year.match(/[0-9]{4}/)&&x(Hx(H.periodType,o).getPeriods(g(Number(H.year)),o))},X=()=>Se.createElement(Se.Fragment,null,Se.createElement("p",{className:`jsx-${dl.__hash} emptyList`},tt.t("No periods selected")),Se.createElement(Pt,{id:dl.__hash},dl));return Se.createElement(TA,{onChange:H=>{let{selected:$}=H;const G=$.map(B=>{const M=[..._,...i].find(D=>D.id===B);return{id:B,name:M.name,isActive:M.isActive}});e(G)},selected:i.map(H=>H.id),leftHeader:O(),enableOrderChange:!0,height:M9e,optionsWidth:P9e,selectedWidth:D9e,selectedEmptyComponent:X(),rightHeader:Se.createElement(RM,{infoBoxMessage:s}),rightFooter:r,options:[..._,...i].map(H=>{let{id:$,name:G}=H;return{label:G,value:$}}),renderOption:H=>{let{value:$,...G}=H;return Se.createElement(CM,H1({},G,{value:$,active:S($),icon:AGe,dataTest:`${t}-transfer-option`}))},dataTest:`${t}-transfer`})};HS.defaultProps={selectedItems:[],excludedPeriodTypes:[],periodsSettings:{calendar:"gregory",locale:"en"}};HS.propTypes={onSelect:he.func.isRequired,dataTest:he.string,excludedPeriodTypes:he.arrayOf(he.string),infoBoxMessage:he.string,periodsSettings:he.shape({calendar:he.string,locale:he.string}),rightFooter:he.node,selectedItems:he.arrayOf(he.shape({id:he.string,isActive:he.bool,name:he.string}))};const d7e={userSettings:{resource:"userSettings",params:{key:["keyUiLocale"]}}},XS=n=>{let{onSelect:e,selectedPeriods:t,rightFooter:i,excludedPeriodTypes:r,infoBoxMessage:a}=n;const{systemInfo:o}=cu(),s=as(d7e),{calendar:d="gregory"}=o,{data:{userSettings:{keyUiLocale:p}={}}={}}=s,m={calendar:d,locale:p},y=g=>{e({dimensionId:A9e,items:g})};return Se.createElement(HS,{onSelect:y,selectedItems:t,infoBoxMessage:a,rightFooter:i,dataTest:"period-dimension",excludedPeriodTypes:r,periodsSettings:m})};XS.propTypes={onSelect:he.func.isRequired,excludedPeriodTypes:he.arrayOf(he.string),infoBoxMessage:he.string,rightFooter:he.node,selectedPeriods:he.array};XS.defaultProps={selectedPeriods:[]};const h7e="_modelSelectContainer_1so5s_1",p7e="_modelSelectTitle_1so5s_5",m7e="_loadingText_1so5s_11",f7e="_modelGrid_1so5s_16",g7e="_modelCard_1so5s_23",y7e="_selectedModelDetails_1so5s_37",v7e="_modelAuthor_1so5s_43",x7e="_modelAuthorLogo_1so5s_51",b7e="_modelAuthorName_1so5s_57",_7e="_modelHumanName_1so5s_61",w7e="_modelUsage_1so5s_67",T7e="_modelFeatures_1so5s_72",S7e="_modelFeatureItem_1so5s_80",C7e="_modelLink_1so5s_84",hs={modelSelectContainer:h7e,modelSelectTitle:p7e,loadingText:m7e,modelGrid:f7e,modelCard:g7e,selectedModelDetails:y7e,modelAuthor:v7e,modelAuthorLogo:x7e,modelAuthorName:b7e,modelHumanName:_7e,modelUsage:w7e,modelFeatures:T7e,modelFeatureItem:S7e,modelLink:C7e},_L={name:"Download data (CHAP is offline)",parameters:[],features:[{id:"population",description:"Select the data element for population",name:"Population",optional:!1},{id:"disease",description:"Select the data element for disease cases",name:"Disease cases",optional:!1},{id:"rainfall",name:"Rainfall",description:"The amount of rainfall in mm",optional:!0},{id:"mean_temperature",name:"Mean Temperature",description:"The average temperature in degrees Celsius",optional:!0}]},E7e=n=>({id:n,description:"",optional:!1,name:n.replaceAll("_"," ")}),k7e=({selectedModel:n,setSelectedModel:e})=>{const[t,i]=Oe.useState([]),[r,a]=Oe.useState(!0),[o,s]=Oe.useState(!0),d=async()=>{await Ku.listModelsListModelsGet().then(m=>{let y=m.map(g=>(g.features=g.features.concat(g.targets?[E7e(g.targets)]:[]),g));a(!1),i(y)}).catch(m=>{i([_L]),e(_L),a(!1)})},p=m=>{e(m),s(!1)};return Oe.useEffect(()=>{d()},[]),re.jsx("div",{className:hs.modelSelectContainer,children:r?re.jsx("p",{children:"Loading models..."}):re.jsxs(re.Fragment,{children:[n&&re.jsxs("div",{children:[re.jsx("h2",{className:hs.modelSelectTitle,children:"Selected Model"}),re.jsxs("div",{className:hs.selectedModelDetails,children:[re.jsx("h3",{className:hs.modelHumanName,children:n.description}),re.jsxs("div",{className:hs.modelAuthor,children:[re.jsx("span",{children:"Author:"}),re.jsx("img",{src:n.logo||"/public/default-model-logo.png",alt:n.name+" logo",className:hs.modelAuthorLogo}),re.jsx("span",{className:hs.modelAuthorName,children:n.author})]}),re.jsxs("p",{className:hs.modelUsage,children:["Usage: ",n.usage||"Coming soon..."]}),re.jsx("ul",{className:hs.modelFeatures,children:n.features.slice(0,3).map((m,y)=>re.jsxs("li",{className:"featureItem",children:["✔ ",m.name]},y))}),re.jsxs("p",{className:hs.modelLink,children:["External link: ",re.jsx("a",{href:n.link||"",target:"_blank",children:n.link||"http://example.com"})]}),!o&&re.jsx("div",{children:re.jsx(vi,{onClick:()=>s(!0),primary:!0,children:"Change Model"})})]},n.name)]}),o&&re.jsxs("div",{children:[re.jsx("h2",{className:hs.modelSelectTitle,children:"Select a Prediction Model"}),re.jsx("div",{className:hs.modelGrid,children:t.map(m=>re.jsxs("div",{className:`modelCard ${(n==null?void 0:n.name)===m.name?"selected":""}`,children:[re.jsx("h3",{className:hs.modelHumanName,children:m.description}),re.jsxs("div",{className:hs.modelAuthor,children:[re.jsx("img",{src:m.logo||"/public/default-model-logo.png",alt:m.name+" logo",className:hs.modelAuthorLogo}),re.jsx("span",{className:hs.modelAuthorName,children:m.author})]}),re.jsxs("p",{className:hs.modelUsage,children:["Usage: ",m.usage||"Coming soon..."]}),re.jsx("ul",{className:hs.modelFeatures,children:m.features.slice(0,3).map((y,g)=>re.jsxs("li",{className:"featureItem",children:["✔ ",y.name]},g))}),re.jsx(vi,{onClick:()=>p(m),primary:!0,children:(n==null?void 0:n.name)===m.name?"Selected":"Select Model"})]},m.name))})]})]})})},N7e="_selectField_1pfvn_1",L7e="_warnAboutClimateData_1pfvn_5",Bw={selectField:N7e,warnAboutClimateData:L7e},I7e="_switchWrapper_11r89_1",A7e="_smallText_11r89_11",wL={switchWrapper:I7e,smallText:A7e},P7e=({setRenderOptionalField:n,renderOptionalField:e})=>{const t=i=>{n(!i.checked)};return re.jsxs("div",{className:wL.switchWrapper,children:[re.jsxs("div",{children:[re.jsx("div",{children:"Fetch ERA5-Land Climate Data directly in CHAP Core"}),re.jsx("div",{className:wL.smallText,children:"Using this option, CHAP Core will, based on provided polygons, fetch climate data directly from ERA5-Land. Using this feature requires that you have configured CHAP Core with Google Earth Engine."})]}),re.jsx("div",{children:re.jsx(pT,{disabled:!0,checked:!e,onChange:t})})]})},D7e="_searchSelectField_fpa7s_1",M7e="_inputField_fpa7s_6",O7e="_input_fpa7s_6",R7e="_dropDown_fpa7s_33",$7e="_dropDownItem_fpa7s_50",z7e="_rightDropDownItem_fpa7s_60",F7e="_label_fpa7s_69",j7e="_infoSearchItem_fpa7s_75",$u={searchSelectField:D7e,inputField:M7e,input:O7e,dropDown:R7e,dropDownItem:$7e,rightDropDownItem:z7e,label:F7e,infoSearchItem:j7e},B7e=n=>({results:{resource:"dataItems",params:{filter:"displayName:ilike:"+n,fields:"id,displayName,dimensionItemType",order:"displayName:asc",page:1,pageSize:20}}}),X1=({feature:n,onChangeSearchSelectField:e})=>{const[t,i]=Oe.useState(""),r=QL(),[a,o]=Oe.useState([]),[s,d]=Oe.useState(!1),p=async()=>{try{const v=await r.query(B7e(t));o(v.results.dataItems)}catch(v){console.error("Error fetching data:",v)}finally{d(!1)}};Oe.useEffect(()=>{if(t.length===0){o([]);return}d(!0);const v=setTimeout(()=>{p()},300);return()=>{clearTimeout(v)}},[t]);const[m,y]=Oe.useState(!1),g=v=>{y(!0);const w=v.target.value;i(w)},_=v=>{i(v.displayName),e(n,v.id,v.displayName),y(!1)},x=Oe.useRef(null),T=v=>v.replaceAll("_"," ").split(" ").map(w=>w.charAt(0).toUpperCase()+w.slice(1).toLowerCase()).join(" "),E=v=>{x.current&&!x.current.contains(v.target)&&y(!1)},k=()=>s?re.jsx("li",{className:$u.infoSearchItem,children:"Loading..."}):a.length==0&&t.length==0?re.jsx("li",{className:$u.infoSearchItem,children:"Start to search by typing"}):a.length==0?re.jsx("li",{className:$u.infoSearchItem,children:"No match found"}):re.jsx(re.Fragment,{children:a.map(v=>re.jsxs("li",{onClick:()=>_(v),className:$u.dropDownItem,children:[re.jsx("div",{children:v.displayName}),re.jsx("div",{className:$u.rightDropDownItem,children:T(v.dimensionItemType)})]},v.id))});return Oe.useEffect(()=>(document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}),[]),re.jsxs("div",{ref:x,className:$u.searchSelectField,children:[re.jsx("label",{className:$u.label,children:re.jsx("span",{children:T(n.name)})}),re.jsx("input",{type:"search",value:t,onChange:g,placeholder:"Search for indicators, Data Elements, Data Sets, Event Data Items, Program Indicators...",className:$u.inputField}),m&&re.jsx("ul",{className:$u.dropDown,children:k()})]})},U7e=({features:n,modelSpesificSelectedDataElements:e,setModelSpesificSelectedDataElements:t,setRenderOptionalField:i,renderOptionalField:r})=>{if(!n)return re.jsx(re.Fragment,{});const a=s=>{s||t(new Map([...e].filter(([d,p])=>!p.optional))),i(s)},o=(s,d,p)=>{const m={selectedDataElementId:d,selectedDataElementName:p,optional:s.optional??!1};t(new Map(e.set(s.id,m)))};return re.jsxs("div",{children:[re.jsx("h3",{children:"Target data"}),n.filter(s=>s.optional==!1).map(s=>re.jsx("div",{className:Bw.selectField,children:re.jsx(X1,{feature:s,onChangeSearchSelectField:o})},s.id)),re.jsx("h3",{children:"Climate data"}),re.jsx(P7e,{setRenderOptionalField:a,renderOptionalField:r}),r&&re.jsxs("div",{className:Bw.warnAboutClimateData,children:[re.jsx("b",{children:"NB!"})," Ensure you have available climate data for all the DHIS2 periods in the selected training period."]}),r&&n.filter(s=>s.optional==!0).map(s=>re.jsx("div",{className:Bw.selectField,children:re.jsx(X1,{feature:s,onChangeSearchSelectField:o})},s.id))]})};var $M={exports:{}};(function(n,e){(function(t,i){i()})(Eo,function(){function t(p,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\uFEFF",p],{type:p.type}):p}function i(p,m,y){var g=new XMLHttpRequest;g.open("GET",p),g.responseType="blob",g.onload=function(){d(g.response,m,y)},g.onerror=function(){console.error("could not download file")},g.send()}function r(p){var m=new XMLHttpRequest;m.open("HEAD",p,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function a(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(m)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Eo=="object"&&Eo.global===Eo?Eo:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(p,m,y){var g=o.URL||o.webkitURL,_=document.createElement("a");m=m||p.name||"download",_.download=m,_.rel="noopener",typeof p=="string"?(_.href=p,_.origin===location.origin?a(_):r(_.href)?i(p,m,y):a(_,_.target="_blank")):(_.href=g.createObjectURL(p),setTimeout(function(){g.revokeObjectURL(_.href)},4e4),setTimeout(function(){a(_)},0))}:"msSaveOrOpenBlob"in navigator?function(p,m,y){if(m=m||p.name||"download",typeof p!="string")navigator.msSaveOrOpenBlob(t(p,y),m);else if(r(p))i(p,m,y);else{var g=document.createElement("a");g.href=p,g.target="_blank",setTimeout(function(){a(g)})}}:function(p,m,y,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof p=="string")return i(p,m,y);var _=p.type==="application/octet-stream",x=/constructor/i.test(o.HTMLElement)||o.safari,T=/CriOS\/[\d]+/.test(navigator.userAgent);if((T||_&&x||s)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var w=E.result;w=T?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=w:location=w,g=null},E.readAsDataURL(p)}else{var k=o.URL||o.webkitURL,v=k.createObjectURL(p);g?g.location=v:location.href=v,g=null,setTimeout(function(){k.revokeObjectURL(v)},4e4)}});o.saveAs=d.saveAs=d,n.exports=d})})($M);var zM=$M.exports;const FM=rc(zM),G7e="_helpContainer_17ies_1",Y7e="_popover_17ies_8",TL={helpContainer:G7e,popover:Y7e},V7e=()=>{const n=Oe.useRef(null),[e,t]=Oe.useState(null),i=!!e;return re.jsxs("div",{className:TL.helpContainer,children:[re.jsx("div",{ref:n,children:re.jsx(C2,{onClick:()=>t(n.current),icon:re.jsx(c3,{}),children:"Help"})}),i&&re.jsx(QI,{maxWidth:360,placement:"top",onClickOutside:()=>t(null),reference:n,children:re.jsx("div",{className:TL.popover})})]})},W7e=()=>{const n=A0(),[e,t]=Oe.useState(void 0),[i,r]=Oe.useState(new Map),[a,o]=Oe.useState([]),[s,d]=Oe.useState(),[p,m]=Oe.useState([]),[y,g]=Oe.useState(!1),[_,x]=Oe.useState(void 0),[T,E]=Oe.useState(),[k,v]=Oe.useState({action:"download",startDownload:!1}),[w,N]=Oe.useState(!1),[S,L]=Oe.useState(""),O=!!(T&&(a.length>0||s==null)),Y=F=>{E(F.items)},X=F=>{r(new Map),t(F)},H=F=>{x(void 0),v({action:F,startDownload:!0})},$=F=>{let z=[];return F.features.forEach(W=>{var q;if(W.data.length==0){const ue='Data item "'+((q=[...i].find(([ie,oe])=>oe.selectedDataElementId===W.dhis2Id))==null?void 0:q[1].selectedDataElementName)+'" returned no data.';z.push({description:"Ensure you have exported the analytics tables in DHIS2.",title:ue})}}),z.length>0?(m([...p,...z]),!1):!0};Oe.useEffect(()=>{if(_){if(v(F=>({...F,startDownload:!1})),k.action==="download"){G();return}if(!$(_))return;g(!0),k.action==="predict"&&M(),k.action==="evaluate"&&B()}},[_]);const G=()=>{let F=_;F.estimator_id=e==null?void 0:e.name;var z=new Blob([JSON.stringify(F,null,2)],{type:"application/json"});FM(z,"chap_request_data_"+new Date().toJSON()+".json")},B=async()=>{let F=_;F.n_periods=3,await Ku.evaluateEvaluatePost(F,10).then(W=>(L(""),n("/status"))).catch(W=>{var q;L((q=W==null?void 0:W.body)==null?void 0:q.detail)}).finally(()=>{g(!1)})},M=async()=>{let F=_;F.n_periods=3,F.estimator_id=e==null?void 0:e.name,await Ku.predictPredictPost(F).then(z=>(L(""),n("/status"))).catch(z=>{var W;L((W=z==null?void 0:z.body)==null?void 0:W.detail)}).finally(()=>{g(!1)})};function D(){if(a.length===0)return!0;const F=a[0].path.split("/").length;return a.every(z=>z.path.split("/").length===F)}const V=()=>(e==null?void 0:e.features.filter(F=>!F.optional).length)==[...i].filter(([F,z])=>!z.optional).length&&!w||(i==null?void 0:i.size)==(e==null?void 0:e.features.length);return re.jsxs("div",{className:Ru.container,children:[re.jsx("h1",{children:tt.t("Select training data and create prediction")}),re.jsx(k7e,{selectedModel:e,setSelectedModel:X}),re.jsx(U7e,{setRenderOptionalField:N,renderOptionalField:w,features:e==null?void 0:e.features,setModelSpesificSelectedDataElements:r,modelSpesificSelectedDataElements:i}),V()&&re.jsxs(re.Fragment,{children:[re.jsx(BY,{orgUnits:a,setOrgUnits:o}),!D()&&re.jsx("p",{className:Ru.error,children:"Only select organization units that are one the same level."}),re.jsx(uV,{orgUnitLevels:s,onChange:d}),re.jsxs("div",{className:Ru.container,children:[re.jsx("h3",{children:tt.t("Training period")}),re.jsx("div",{className:Ru.pickers,children:re.jsx(XS,{selectedPeriods:T,onSelect:Y,excludedPeriodTypes:[]})})]}),re.jsxs("div",{className:Ru.buttons,children:[re.jsx(vi,{icon:re.jsx(o0,{}),loading:k.startDownload,disabled:!O||k.startDownload&&k.action==="download"||!D(),onClick:()=>H("download"),children:"Download data"}),re.jsx(vi,{icon:re.jsx(Yl,{}),primary:!0,loading:y,disabled:!O||k.startDownload||!D(),onClick:()=>H("predict"),children:"Predict"}),re.jsx(vi,{icon:re.jsx(Yl,{}),primary:!0,loading:y,disabled:!O||k.startDownload||!D(),onClick:()=>H("evaluate"),children:"Evaluate"})]}),re.jsx(V7e,{}),re.jsx("p",{className:Ru.errorChap,children:S}),k.startDownload&&O&&re.jsx(KY,{setJsonResult:x,modelSpesificSelectedDataElements:i,setStartDownload:v,startDownload:k,period:T,setErrorMessages:m,orgUnits:a,orgUnitLevel:s}),p.map((F,z)=>re.jsxs("div",{className:Ru.errorBar,children:[re.jsxs("div",{className:Ru.errorHeader,children:[re.jsx(lT,{}),re.jsx("span",{children:F.title})]}),re.jsx("span",{className:Ru.detailedError,children:F.description})]},z))]})]})},q7e="_container_11u4y_1",H7e="_prediction_11u4y_17",X7e="_warning_11u4y_22",Z7e="_footer_11u4y_27",K7e="_post_11u4y_32",Q7e="_redText_11u4y_36",J7e="_greenText_11u4y_41",eYe="_importMode_11u4y_46",SL={container:q7e,prediction:H7e,warning:X7e,footer:Z7e,post:K7e,redText:Q7e,greenText:J7e,importMode:eYe},tYe=({setImportMode:n,importMode:e})=>re.jsx("div",{children:re.jsxs(va,{placeholder:"Select",selected:e,label:"Select what you want to import",onChange:t=>n(t.selected),children:[re.jsx(to,{label:"Prediction",value:"predict"}),re.jsx(to,{label:"Evaluation",value:"evaluate"})]})});function Wp(n,e,t,i){function r(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(m){try{p(i.next(m))}catch(y){o(y)}}function d(m){try{p(i.throw(m))}catch(y){o(y)}}function p(m){m.done?a(m.value):r(m.value).then(s,d)}p((i=i.apply(n,e||[])).next())})}const nYe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Pf(n,e,t){const i=iYe(n),{webkitRelativePath:r}=n,a=typeof e=="string"?e:typeof r=="string"&&r.length>0?r:`./${n.name}`;return typeof i.path!="string"&&CL(i,"path",a),CL(i,"relativePath",a),i}function iYe(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const i=e.split(".").pop().toLowerCase(),r=nYe.get(i);r&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return n}function CL(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const rYe=[".DS_Store","Thumbs.db"];function aYe(n){return Wp(this,void 0,void 0,function*(){return i0(n)&&sYe(n.dataTransfer)?uYe(n.dataTransfer,n.type):oYe(n)?lYe(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?cYe(n):[]})}function sYe(n){return i0(n)}function oYe(n){return i0(n)&&i0(n.target)}function i0(n){return typeof n=="object"&&n!==null}function lYe(n){return Z1(n.target.files).map(e=>Pf(e))}function cYe(n){return Wp(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>Pf(t))})}function uYe(n,e){return Wp(this,void 0,void 0,function*(){if(n.items){const t=Z1(n.items).filter(r=>r.kind==="file");if(e!=="drop")return t;const i=yield Promise.all(t.map(dYe));return EL(jM(i))}return EL(Z1(n.files).map(t=>Pf(t)))})}function EL(n){return n.filter(e=>rYe.indexOf(e.name)===-1)}function Z1(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const i=n[t];e.push(i)}return e}function dYe(n){if(typeof n.webkitGetAsEntry!="function")return kL(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?BM(e):kL(n,e)}function jM(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?jM(t):[t]],[])}function kL(n,e){return Wp(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const a=yield n.getAsFileSystemHandle();if(a===null)throw new Error(`${n} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,Pf(o)}}const i=n.getAsFile();if(!i)throw new Error(`${n} is not a File`);return Pf(i,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function hYe(n){return Wp(this,void 0,void 0,function*(){return n.isDirectory?BM(n):pYe(n)})}function BM(n){const e=n.createReader();return new Promise((t,i)=>{const r=[];function a(){e.readEntries(o=>Wp(this,void 0,void 0,function*(){if(o.length){const s=Promise.all(o.map(hYe));r.push(s),a()}else try{const s=yield Promise.all(r);t(s)}catch(s){i(s)}}),o=>{i(o)})}a()})}function pYe(n){return Wp(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(i=>{const r=Pf(i,n.fullPath);e(r)},i=>{t(i)})})})}var Uw=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=n.name||"",r=(n.type||"").toLowerCase(),a=r.replace(/\/.*$/,"");return t.some(function(o){var s=o.trim().toLowerCase();return s.charAt(0)==="."?i.toLowerCase().endsWith(s):s.endsWith("/*")?a===s.replace(/\/.*$/,""):r===s})}return!0};function NL(n){return gYe(n)||fYe(n)||GM(n)||mYe()}function mYe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fYe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function gYe(n){if(Array.isArray(n))return K1(n)}function LL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function IL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(t),!0).forEach(function(i){UM(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function UM(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Qy(n,e){return xYe(n)||vYe(n,e)||GM(n,e)||yYe()}function yYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GM(n,e){if(n){if(typeof n=="string")return K1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return K1(n,e)}}function K1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function vYe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,a=!1,o,s;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(d){a=!0,s=d}finally{try{!r&&t.return!=null&&t.return()}finally{if(a)throw s}}return i}}function xYe(n){if(Array.isArray(n))return n}var bYe=typeof Uw=="function"?Uw:Uw.default,_Ye="file-invalid-type",wYe="file-too-large",TYe="file-too-small",SYe="too-many-files",CYe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),i=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:_Ye,message:"File type must be ".concat(i)}},AL=function(e){return{code:wYe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},PL=function(e){return{code:TYe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},EYe={code:SYe,message:"Too many files"};function YM(n,e){var t=n.type==="application/x-moz-file"||bYe(n,e);return[t,t?null:CYe(e)]}function VM(n,e,t){if(np(n.size))if(np(e)&&np(t)){if(n.size>t)return[!1,AL(t)];if(n.size<e)return[!1,PL(e)]}else{if(np(e)&&n.size<e)return[!1,PL(e)];if(np(t)&&n.size>t)return[!1,AL(t)]}return[!0,null]}function np(n){return n!=null}function kYe(n){var e=n.files,t=n.accept,i=n.minSize,r=n.maxSize,a=n.multiple,o=n.maxFiles,s=n.validator;return!a&&e.length>1||a&&o>=1&&e.length>o?!1:e.every(function(d){var p=YM(d,t),m=Qy(p,1),y=m[0],g=VM(d,i,r),_=Qy(g,1),x=_[0],T=s?s(d):null;return y&&x&&!T})}function r0(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Zx(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function DL(n){n.preventDefault()}function NYe(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function LYe(n){return n.indexOf("Edge/")!==-1}function IYe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return NYe(n)||LYe(n)}function Bc(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return e.some(function(s){return!r0(i)&&s&&s.apply(void 0,[i].concat(a)),r0(i)})}}function AYe(){return"showOpenFilePicker"in window}function PYe(n){if(np(n)){var e=Object.entries(n).filter(function(t){var i=Qy(t,2),r=i[0],a=i[1],o=!0;return WM(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(qM))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(t,i){var r=Qy(i,2),a=r[0],o=r[1];return IL(IL({},t),{},UM({},a,o))},{});return[{description:"Files",accept:e}]}return n}function DYe(n){if(np(n))return Object.entries(n).reduce(function(e,t){var i=Qy(t,2),r=i[0],a=i[1];return[].concat(NL(e),[r],NL(a))},[]).filter(function(e){return WM(e)||qM(e)}).join(",")}function MYe(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function OYe(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function WM(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function qM(n){return/^.*\.[\w]+$/.test(n)}var RYe=["children"],$Ye=["open"],zYe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],FYe=["refKey","onChange","onClick"];function jYe(n){return GYe(n)||UYe(n)||HM(n)||BYe()}function BYe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UYe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function GYe(n){if(Array.isArray(n))return Q1(n)}function Gw(n,e){return WYe(n)||VYe(n,e)||HM(n,e)||YYe()}function YYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HM(n,e){if(n){if(typeof n=="string")return Q1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q1(n,e)}}function Q1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function VYe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,a=!1,o,s;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(d){a=!0,s=d}finally{try{!r&&t.return!=null&&t.return()}finally{if(a)throw s}}return i}}function WYe(n){if(Array.isArray(n))return n}function ML(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ra(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(t),!0).forEach(function(i){J1(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ML(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function J1(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a0(n,e){if(n==null)return{};var t=qYe(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function qYe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var ZS=Oe.forwardRef(function(n,e){var t=n.children,i=a0(n,RYe),r=ZM(i),a=r.open,o=a0(r,$Ye);return Oe.useImperativeHandle(e,function(){return{open:a}},[a]),Se.createElement(Oe.Fragment,null,t(ra(ra({},o),{},{open:a})))});ZS.displayName="Dropzone";var XM={disabled:!1,getFilesFromEvent:aYe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};ZS.defaultProps=XM;ZS.propTypes={children:he.func,accept:he.objectOf(he.arrayOf(he.string)),multiple:he.bool,preventDropOnDocument:he.bool,noClick:he.bool,noKeyboard:he.bool,noDrag:he.bool,noDragEventsBubbling:he.bool,minSize:he.number,maxSize:he.number,maxFiles:he.number,disabled:he.bool,getFilesFromEvent:he.func,onFileDialogCancel:he.func,onFileDialogOpen:he.func,useFsAccessApi:he.bool,autoFocus:he.bool,onDragEnter:he.func,onDragLeave:he.func,onDragOver:he.func,onDrop:he.func,onDropAccepted:he.func,onDropRejected:he.func,onError:he.func,validator:he.func};var eT={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ZM(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=ra(ra({},XM),n),t=e.accept,i=e.disabled,r=e.getFilesFromEvent,a=e.maxSize,o=e.minSize,s=e.multiple,d=e.maxFiles,p=e.onDragEnter,m=e.onDragLeave,y=e.onDragOver,g=e.onDrop,_=e.onDropAccepted,x=e.onDropRejected,T=e.onFileDialogCancel,E=e.onFileDialogOpen,k=e.useFsAccessApi,v=e.autoFocus,w=e.preventDropOnDocument,N=e.noClick,S=e.noKeyboard,L=e.noDrag,O=e.noDragEventsBubbling,Y=e.onError,X=e.validator,H=Oe.useMemo(function(){return DYe(t)},[t]),$=Oe.useMemo(function(){return PYe(t)},[t]),G=Oe.useMemo(function(){return typeof E=="function"?E:OL},[E]),B=Oe.useMemo(function(){return typeof T=="function"?T:OL},[T]),M=Oe.useRef(null),D=Oe.useRef(null),V=Oe.useReducer(HYe,eT),F=Gw(V,2),z=F[0],W=F[1],q=z.isFocused,ee=z.isFileDialogActive,ue=Oe.useRef(typeof window<"u"&&window.isSecureContext&&k&&AYe()),ie=function(){!ue.current&&ee&&setTimeout(function(){if(D.current){var ke=D.current.files;ke.length||(W({type:"closeDialog"}),B())}},300)};Oe.useEffect(function(){return window.addEventListener("focus",ie,!1),function(){window.removeEventListener("focus",ie,!1)}},[D,ee,B,ue]);var oe=Oe.useRef([]),Ee=function(ke){M.current&&M.current.contains(ke.target)||(ke.preventDefault(),oe.current=[])};Oe.useEffect(function(){return w&&(document.addEventListener("dragover",DL,!1),document.addEventListener("drop",Ee,!1)),function(){w&&(document.removeEventListener("dragover",DL),document.removeEventListener("drop",Ee))}},[M,w]),Oe.useEffect(function(){return!i&&v&&M.current&&M.current.focus(),function(){}},[M,v,i]);var me=Oe.useCallback(function(we){Y?Y(we):console.error(we)},[Y]),Te=Oe.useCallback(function(we){we.preventDefault(),we.persist(),$e(we),oe.current=[].concat(jYe(oe.current),[we.target]),Zx(we)&&Promise.resolve(r(we)).then(function(ke){if(!(r0(we)&&!O)){var ze=ke.length,Me=ze>0&&kYe({files:ke,accept:H,minSize:o,maxSize:a,multiple:s,maxFiles:d,validator:X}),je=ze>0&&!Me;W({isDragAccept:Me,isDragReject:je,isDragActive:!0,type:"setDraggedFiles"}),p&&p(we)}}).catch(function(ke){return me(ke)})},[r,p,me,O,H,o,a,s,d,X]),K=Oe.useCallback(function(we){we.preventDefault(),we.persist(),$e(we);var ke=Zx(we);if(ke&&we.dataTransfer)try{we.dataTransfer.dropEffect="copy"}catch{}return ke&&y&&y(we),!1},[y,O]),J=Oe.useCallback(function(we){we.preventDefault(),we.persist(),$e(we);var ke=oe.current.filter(function(Me){return M.current&&M.current.contains(Me)}),ze=ke.indexOf(we.target);ze!==-1&&ke.splice(ze,1),oe.current=ke,!(ke.length>0)&&(W({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Zx(we)&&m&&m(we))},[M,m,O]),se=Oe.useCallback(function(we,ke){var ze=[],Me=[];we.forEach(function(je){var Ke=YM(je,H),nt=Gw(Ke,2),ot=nt[0],ht=nt[1],gt=VM(je,o,a),Tt=Gw(gt,2),$t=Tt[0],mt=Tt[1],Ct=X?X(je):null;if(ot&&$t&&!Ct)ze.push(je);else{var St=[ht,mt];Ct&&(St=St.concat(Ct)),Me.push({file:je,errors:St.filter(function(sn){return sn})})}}),(!s&&ze.length>1||s&&d>=1&&ze.length>d)&&(ze.forEach(function(je){Me.push({file:je,errors:[EYe]})}),ze.splice(0)),W({acceptedFiles:ze,fileRejections:Me,isDragReject:Me.length>0,type:"setFiles"}),g&&g(ze,Me,ke),Me.length>0&&x&&x(Me,ke),ze.length>0&&_&&_(ze,ke)},[W,s,H,o,a,d,g,_,x,X]),xe=Oe.useCallback(function(we){we.preventDefault(),we.persist(),$e(we),oe.current=[],Zx(we)&&Promise.resolve(r(we)).then(function(ke){r0(we)&&!O||se(ke,we)}).catch(function(ke){return me(ke)}),W({type:"reset"})},[r,se,me,O]),Q=Oe.useCallback(function(){if(ue.current){W({type:"openDialog"}),G();var we={multiple:s,types:$};window.showOpenFilePicker(we).then(function(ke){return r(ke)}).then(function(ke){se(ke,null),W({type:"closeDialog"})}).catch(function(ke){MYe(ke)?(B(ke),W({type:"closeDialog"})):OYe(ke)?(ue.current=!1,D.current?(D.current.value=null,D.current.click()):me(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):me(ke)});return}D.current&&(W({type:"openDialog"}),G(),D.current.value=null,D.current.click())},[W,G,B,k,se,me,$,s]),ae=Oe.useCallback(function(we){!M.current||!M.current.isEqualNode(we.target)||(we.key===" "||we.key==="Enter"||we.keyCode===32||we.keyCode===13)&&(we.preventDefault(),Q())},[M,Q]),ce=Oe.useCallback(function(){W({type:"focus"})},[]),ge=Oe.useCallback(function(){W({type:"blur"})},[]),be=Oe.useCallback(function(){N||(IYe()?setTimeout(Q,0):Q())},[N,Q]),Le=function(ke){return i?null:ke},_e=function(ke){return S?null:Le(ke)},Ne=function(ke){return L?null:Le(ke)},$e=function(ke){O&&ke.stopPropagation()},Ye=Oe.useMemo(function(){return function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=we.refKey,ze=ke===void 0?"ref":ke,Me=we.role,je=we.onKeyDown,Ke=we.onFocus,nt=we.onBlur,ot=we.onClick,ht=we.onDragEnter,gt=we.onDragOver,Tt=we.onDragLeave,$t=we.onDrop,mt=a0(we,zYe);return ra(ra(J1({onKeyDown:_e(Bc(je,ae)),onFocus:_e(Bc(Ke,ce)),onBlur:_e(Bc(nt,ge)),onClick:Le(Bc(ot,be)),onDragEnter:Ne(Bc(ht,Te)),onDragOver:Ne(Bc(gt,K)),onDragLeave:Ne(Bc(Tt,J)),onDrop:Ne(Bc($t,xe)),role:typeof Me=="string"&&Me!==""?Me:"presentation"},ze,M),!i&&!S?{tabIndex:0}:{}),mt)}},[M,ae,ce,ge,be,Te,K,J,xe,S,L,i]),Xe=Oe.useCallback(function(we){we.stopPropagation()},[]),De=Oe.useMemo(function(){return function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=we.refKey,ze=ke===void 0?"ref":ke,Me=we.onChange,je=we.onClick,Ke=a0(we,FYe),nt=J1({accept:H,multiple:s,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Le(Bc(Me,xe)),onClick:Le(Bc(je,Xe)),tabIndex:-1},ze,D);return ra(ra({},nt),Ke)}},[D,t,s,xe,i]);return ra(ra({},z),{},{isFocused:q&&!i,getRootProps:Ye,getInputProps:De,rootRef:M,inputRef:D,open:Le(Q)})}function HYe(n,e){switch(e.type){case"focus":return ra(ra({},n),{},{isFocused:!0});case"blur":return ra(ra({},n),{},{isFocused:!1});case"openDialog":return ra(ra({},eT),{},{isFileDialogActive:!0});case"closeDialog":return ra(ra({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return ra(ra({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return ra(ra({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return ra({},eT);default:return n}}function OL(){}const XYe={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},ZYe={borderColor:"#2196f3"},KYe={borderColor:"#00e676"},QYe={borderColor:"#ff1744"},JYe=({onLoad:n,disabled:e})=>{const t=Oe.useCallback(([p])=>{const m=new FileReader;m.onabort=()=>console.log("file reading was aborted"),m.onerror=()=>console.log("file reading has failed"),m.onload=()=>n(JSON.parse(m.result)),m.readAsText(p)},[n]),{getRootProps:i,getInputProps:r,isFocused:a,isDragAccept:o,isDragReject:s}=ZM({accept:{"application/json":[".json"]},multiple:!1,disabled:e,onDrop:t}),d=Oe.useMemo(()=>({...XYe,...a?ZYe:{},...o?KYe:{},...s?QYe:{}}),[a,o,s]);return re.jsx("div",{className:"container",children:re.jsxs("div",{...i({style:d}),children:[re.jsx("input",{...r()}),e?re.jsx("p",{children:tt.t("Loading..")}):re.jsx("p",{children:tt.t("Drag 'n' drop prediction/evaluation file, or click to select it")})]})})},eVe="_container_83n6p_1",tVe="_prediction_83n6p_17",nVe="_warning_83n6p_22",iVe="_footer_83n6p_27",rVe="_post_83n6p_32",aVe="_redText_83n6p_36",sVe="_greenText_83n6p_41",Wh={container:eVe,prediction:tVe,warning:nVe,footer:iVe,post:rVe,redText:aVe,greenText:sVe},oVe={orgUnits:{resource:"organisationUnits",params:{paging:!1,fields:["id","displayName"]}}},e_=()=>{const{loading:n,error:e,data:t}=as(oVe);return{orgUnits:t==null?void 0:t.orgUnits,error:e,loading:n}},lVe=({prediction:n,qLowDataElementId:e,qMedianDataElementId:t,qHighDataElementId:i,setPostHttpError:r,setPostStatus:a})=>{const o=x=>{if(x==="quantile_low")return e;if(x==="median")return t;if(x==="quantile_high")return i},s=x=>x.dataValues.map(T=>({dataElement:o(T.dataElement),period:T.period,orgUnit:T.orgUnit,value:T.value})),d=x=>({resource:"dataValueSets",type:"create",data:{dataValues:x}}),[p,{error:m,loading:y,called:g}]=Ny(d(s(n))),_=async()=>{await p()};return Oe.useEffect(()=>{_()},[]),Oe.useEffect(()=>{g&&(y||(m&&(r("Something went wrong when posting the prediction."),a("error")),m||(r(""),a("finish"))))},[y]),null},cVe="_selectWrapper_8vdsv_1",uVe="_select_8vdsv_1",RL={selectWrapper:cVe,select:uVe},Yw=({value:n,onChange:e,label:t,dataElements:i})=>{const r=o=>{e({displayName:i==null?void 0:i.find(s=>s.id===o.selected).displayName,id:o.selected})},a=(i==null?void 0:i.length)===0&&i!=null;return re.jsx("div",{children:re.jsx("div",{children:re.jsx("div",{className:RL.select,children:re.jsxs("div",{className:RL.selectWrapper,children:[re.jsx("span",{children:t}),re.jsx(va,{tabIndex:"1",placeholder:tt.t("Select data element"),disabled:a,selected:n?n.id:"",warning:a,onChange:r,children:i==null?void 0:i.map(o=>re.jsx(to,{label:o.displayName,value:o.id},o.id))})]})})})})},dVe="_textWarning_3ldzr_1",hVe="_wrapper_3ldzr_6",pVe="_wrapperWarning_3ldzr_14",Vw={textWarning:dVe,wrapper:hVe,wrapperWarning:pVe},mVe="_dataValueTables_vzc5s_10",fVe="_warning_vzc5s_17",$L={dataValueTables:mVe,warning:fVe},gVe=({setModalOpen:n,modalOpen:e,predictionTarget:t})=>{const i=cu();return e&&re.jsx(Jy,{large:!0,onClose:()=>n(!1),children:re.jsxs(e2,{children:[re.jsx("h2",{children:tt.t("Add required Data Elements")}),re.jsxs("p",{children:[tt.t("This app requires specific DHIS2 Data Elements to import data into. If you have not already added them, go to the "),re.jsx("a",{target:"_blank",href:`${i.baseUrl}/dhis-web-maintenance/index.html#/list/dataElementSection/dataElement`,children:"Maintenance"}),tt.t("-app and create the Data Elements listed below.")]}),re.jsx("p",{className:$L.warning,children:tt.t("NB! Make sure the CODE property for each data element is exactly the same as below.")}),re.jsx("p",{children:tt.t("Properties in the new Data Element form not specified in the tables below should have the default value.")}),re.jsxs("div",{className:$L.dataValueTables,children:[re.jsx(Ww,{q:"Low",disease:t}),re.jsx(Ww,{q:"Median",disease:t}),re.jsx(Ww,{q:"High",disease:t})]})]})})},Ww=({q:n,disease:e})=>re.jsx("table",{children:re.jsxs("tbody",{children:[re.jsxs("tr",{children:[re.jsx("th",{children:tt.t("Name")}),re.jsxs("td",{children:["CHAP",tt.t(` ${e} Quantile ${n}`)]})]}),re.jsxs("tr",{children:[re.jsx("th",{children:tt.t("Short name")}),re.jsxs("td",{children:["CHAP",tt.t(` ${e} Quantile ${n}`)]})]}),re.jsxs("tr",{children:[re.jsx("th",{children:tt.t("Code")}),re.jsx("td",{children:`CHAP_${n.toUpperCase()}_${e.toLocaleUpperCase().replaceAll(" ","_")}`})]}),re.jsxs("tr",{children:[re.jsx("th",{children:tt.t("Domain type")}),re.jsx("td",{children:tt.t("Aggregate")})]}),re.jsxs("tr",{children:[re.jsx("th",{children:tt.t("Aggregation levels")}),re.jsx("td",{children:re.jsx("em",{children:tt.t("Assign all org unit levels")})})]})]})}),yVe=({predictionTarget:n,warning:e})=>{const[t,i]=Oe.useState(!1);return re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:e?Vw.wrapperWarning:Vw.wrapper,children:[re.jsx("div",{className:Vw.textWarning,children:e&&re.jsx(re.Fragment,{children:re.jsx("p",{children:tt.t("It seems like you missing Data Elements for prediction.")})})}),re.jsx("div",{children:re.jsx(vi,{icon:re.jsx(s0,{}),onClick:()=>i(!0),children:tt.t("Add data elements")})})]}),re.jsx(gVe,{modalOpen:t,setModalOpen:i,predictionTarget:n})]})},vVe=n=>({dataElements:{resource:"dataElements",params:{paging:!1,fields:["code","displayName","id"],filter:`code:ilike:${n}`}}}),tf=n=>{const[e,t]=Oe.useState(),{loading:i,error:r}=as(vVe(n),{onComplete:a=>t(a.dataElements.dataElements)});return{dataElements:e,error:r,loading:i}},xVe=n=>({dataItems:{resource:"dataItems",params:{paging:!1,filter:`id:eq:${n}`}}}),KM=n=>{const[e,t]=Oe.useState(),{loading:i,error:r,engine:a}=as({});Oe.useEffect(()=>{n&&o()},[n]);const o=async()=>{const s=await a.query(xVe(n));s.dataItems.dataItems.length===0?t("?"):t(s.dataItems.dataItems[0].displayName)};return{displayName:e,error:r,loading:i}},bVe=()=>{var z;const n=pu(),[e,t]=Oe.useState(),[i,r]=Oe.useState("chart"),[a,o]=Oe.useState(void 0),[s,d]=Oe.useState(!1),[p,m]=Oe.useState(null),[y,g]=Oe.useState(null),[_,x]=Oe.useState(null),{dataElements:T}=tf("CHAP_LOW"),{dataElements:E}=tf("CHAP_MEDIAN"),{dataElements:k}=tf("CHAP_HIGH"),[v,w]=Oe.useState(null),{displayName:N}=KM(v),{orgUnits:S,loading:L}=e_(),[O,Y]=Oe.useState("initial"),[X,H]=Oe.useState(""),[$,G]=Oe.useState();Oe.useEffect(()=>{S&&M()},[(z=n==null?void 0:n.state)==null?void 0:z.data,S]);const B=()=>(T==null?void 0:T.length)===0||(E==null?void 0:E.length)===0||(k==null?void 0:k.length)===0,M=async W=>{d(!0);let q=W;W||await Ku.getResultsGetResultsGet().then(ee=>{q=ee}).catch(ee=>{o(ee.toString())}).finally(()=>{d(!1)}),q&&(G(q),w(q.diseaseId),H(""),Y("initial"))};Oe.useEffect(()=>{N&&S&&$&&t(V($))},[N,S,$]),Oe.useEffect(()=>{if(T&&E&&k&&N){const W=T.find(ue=>ue.code===`CHAP_LOW_${N.toLocaleUpperCase().replaceAll(" ","_")}`);W&&m(W);const q=E.find(ue=>ue.code===`CHAP_MEDIAN_${N.toLocaleUpperCase().replaceAll(" ","_")}`);q&&g(q);const ee=k.find(ue=>ue.code===`CHAP_HIGH_${N.toLocaleUpperCase().replaceAll(" ","_")}`);ee&&x(ee)}},[T,E,k,N]);const D=()=>!p&&!y&&!_?!1:!!(p&&!(p!=null&&p.displayName.includes(N))||y&&!(y!=null&&y.displayName.includes(N))||_&&!(_!=null&&_.displayName.includes(N))),V=W=>({dataValues:W.dataValues.map(q=>{var ee;return{...q,displayName:(ee=S==null?void 0:S.organisationUnits.find(ue=>ue.id===q.orgUnit))==null?void 0:ee.displayName}}),diseaseId:W.diseaseId}),F=()=>!!(p&&y&&_);return re.jsxs("div",{className:Wh.container,children:[L&&re.jsx("p",{children:"Loading metadata from DHIS2.. "}),s&&re.jsx("p",{children:"Loading predictions.."}),a&&re.jsx("p",{children:"Not available"}),re.jsx(JYe,{disabled:L,onLoad:M}),e&&re.jsxs(re.Fragment,{children:[re.jsxs(E0,{scrollable:!0,children:[re.jsx(Hu,{selected:i==="chart",onClick:()=>r("chart"),children:"Chart"}),re.jsx(Hu,{selected:i==="table",onClick:()=>r("table"),children:"Table"}),re.jsx(Hu,{selected:i==="map",onClick:()=>r("map"),children:"Map"})]}),re.jsx("div",{className:Wh.prediction,children:{chart:re.jsx(ZA,{predictionTargetName:N,data:e}),table:re.jsx(RP,{data:e}),map:re.jsx(RY,{predictionTargetName:N,data:e})}[i]}),re.jsx("h3",{children:tt.t("Select which data element prediction should be imported to:")}),re.jsx(yVe,{warning:B(),predictionTarget:N}),re.jsx(Yw,{label:tt.t("Select data element for low quantile"),dataElements:T,onChange:m,value:p}),re.jsx(Yw,{label:tt.t("Select data element for median quantile"),dataElements:E,onChange:g,value:y}),re.jsx(Yw,{label:tt.t("Select data element for high quantile"),dataElements:k,onChange:x,value:_}),D()&&re.jsx("p",{className:Wh.warning,children:"Warning: It seems like selected data elements do not match the disease of prediction."}),re.jsx("div",{className:Wh.footer,children:re.jsx(vi,{onClick:()=>Y("loading"),loading:O==="loading",disabled:O==="finish"||O==="loading"||!F(),icon:re.jsx(Yl,{}),primary:!0,children:tt.t("Import prediction")})}),O==="loading"&&re.jsx(lVe,{setPostHttpError:H,setPostStatus:Y,prediction:e,qLowDataElementId:p==null?void 0:p.id,qMedianDataElementId:y==null?void 0:y.id,qHighDataElementId:_==null?void 0:_.id}),re.jsxs("div",{className:Wh.post,children:[O==="finish"&&re.jsx("p",{className:Wh.greenText,children:tt.t("Prediction has been imported.")}),re.jsx("p",{className:Wh.redText,children:tt.t(X)})]})]})]})},_Ve=()=>{const[n,e]=Oe.useState(""),[t,i]=Oe.useState([]),[r,a]=Oe.useState(),[o,s]=Oe.useState(),[d,p]=Oe.useState(!1),{orgUnits:m,error:y,loading:g}=e_();Oe.useEffect(()=>{if(m&&o){const x=JA(o.predictions,o.actualCases.data,"");x.forEach(T=>{T.evaluation.forEach(E=>{const k=m==null?void 0:m.organisationUnits.find(v=>v.id===E.orgUnitId);k&&(E.orgUnitName=k.displayName)})}),a(x),i(eP(o.predictions))}},[m,o]);const _=async()=>{p(!0),await Ku.getEvaluationResultsGetEvaluationResultsGet().then(x=>{s(x)}).catch(x=>{e(x.toString())}).finally(()=>{p(!1)})};return Oe.useEffect(()=>{_()},[]),re.jsxs("div",{children:[n&&re.jsx("p",{children:"Not available"}),d&&re.jsx("p",{children:"Loading.."}),r&&re.jsx(OP,{evaluations:r,splitPeriods:t})]})},wVe=()=>{const[n,e]=Oe.useState(void 0);return re.jsxs("div",{className:SL.container,children:[re.jsx("h1",{children:tt.t("CHAP Core results")}),re.jsx("div",{className:SL.importMode,children:re.jsx(tYe,{importMode:n,setImportMode:e})}),re.jsx("div",{children:{undefined:re.jsx(re.Fragment,{}),predict:re.jsx(bVe,{}),evaluate:re.jsx(_Ve,{})}[String(n)]})]})},TVe="_container_1oaqc_1",SVe={container:TVe},CVe=()=>re.jsx("div",{className:SVe.container,children:re.jsx("h1",{children:tt.t("App settings")})}),EVe="_outerContainer_otz9c_1",kVe="_container_otz9c_5",NVe="_sendButton_otz9c_10",LVe="_error_otz9c_16",IVe="_ok_otz9c_29",AVe="_tips_otz9c_35",Fm={outerContainer:EVe,container:kVe,sendButton:NVe,error:LVe,ok:IVe,tips:AVe},QM={data:({url:n})=>({name:"chap",code:"chap",disabled:!1,url:n,headers:{"Content-Type":"application/json"}})},PVe={type:"update",resource:"routes",id:({id:n})=>n,...QM},DVe={type:"create",resource:"routes",...QM},MVe=n=>{const[e,t]=Ny(DVe),[i,r]=Ny(PVe);return n?{mutate:i,...r}:{mutate:e,...t}},OVe=()=>{const n="https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-241/route.html",e="https://github.com/dhis2-chap/chap-core",[t,i]=Oe.useState(""),[r,a]=Oe.useState(void 0),{mutate:o,error:s,loading:d,called:p,engine:m}=MVe(r),{loading:y,route:g,error:_}=rS(),{baseUrl:x}=cu(),T=async()=>{await o({id:r==null?void 0:r.id,url:t})};Oe.useEffect(()=>{g&&(i(g.url),a(g))},[g]);const E=()=>{window.location.replace("#/settings")};return re.jsxs("div",{className:Fm.outerContainer,children:[re.jsxs("div",{className:Fm.container,children:[re.jsx("h2",{children:"Configure route"}),re.jsxs("p",{children:["CHAP requires that you set up a"," ",re.jsx("a",{about:"_blank",href:n,children:"route"})," ","in DHIS2 to enable communication with the CHAP Core server."]}),re.jsxs("p",{children:["You also needs to set up the CHAP server itself. Setup guide",re.jsxs("a",{about:"_blank",href:e,children:[" ","github.com/dhis2/chap-core"]}),"."]}),re.jsx("p",{children:`By clicking "Save" you create a new route in DHIS2, with name 'chap' and code 'chap'.`}),re.jsx("p",{children:re.jsx("a",{about:"_blank",href:x+"/api/routes?fields=*",children:"Existing routes in DHIS2 ➔"})}),re.jsx(Pp,{value:t,onChange:k=>i(k.value),placeholder:"http://chap:8000/**",label:"URL"}),re.jsx("div",{className:Fm.sendButton,children:re.jsx(vi,{disabled:p||t==="",onClick:T,icon:re.jsx(cT,{}),primary:!0,children:"Save"})}),p&&!s&&!d&&re.jsxs(re.Fragment,{children:[re.jsx("p",{className:Fm.ok,children:"Route successfully created!"}),re.jsx("div",{className:Fm.sendButton,children:re.jsx(vi,{icon:re.jsx(t2,{}),onClick:E,children:"Test route"})})]}),re.jsx("p",{children:d&&"Setting up route..."})]}),s&&re.jsx("div",{className:Fm.error,children:re.jsxs("span",{children:["ERROR",re.jsx("pre",{children:JSON.stringify(s,null,2)})]})})]})},RVe=()=>re.jsx(OVe,{}),$Ve="_status_ok_li1ck_1",zVe="_status_not_ok_li1ck_5",FVe="_errorContainer_li1ck_9",jVe="_container_li1ck_15",BVe="_settingsTable_li1ck_20",UVe="_tableWrapper_li1ck_26",GVe="_cellTable_li1ck_35",YVe="_cellTableLarge_li1ck_41",cl={status_ok:$Ve,status_not_ok:zVe,errorContainer:FVe,container:jVe,settingsTable:BVe,tableWrapper:UVe,cellTable:GVe,cellTableLarge:YVe},VVe=n=>({request:{resource:`dataStore/modeling/${n}`}}),JM=n=>{var s;const{data:e,loading:t,error:i,fetching:r,engine:a,refetch:o}=as(VVe(n));return{url:(s=e==null?void 0:e.request)==null?void 0:s.url,error:i,loading:t,fetching:r,refetch:o}},eO=()=>{const[n,e]=Oe.useState(void 0),[t,i]=Oe.useState(void 0),[r,a]=Oe.useState(!1),[o,s]=Oe.useState(!1),{route:d}=rS(),{error:p,loading:m,url:y,fetching:g}=JM("backend-url"),[_,x]=Oe.useState(!1),T=async()=>{i(""),e(void 0),x(!0),await Ku.healthHealthGet().catch(w=>{i({body:w==null?void 0:w.body,status:w==null?void 0:w.status,statusText:w==null?void 0:w.statusText,r:w==null?void 0:w.request,message:w==null?void 0:w.message,name:w==null?void 0:w.name,url:w==null?void 0:w.url}),x(!1)}).then(w=>{e(w),x(!1)})};Oe.useEffect(()=>{T()},[]);const E=()=>{window.location.replace("#/route/create-route")},k=()=>re.jsx(re.Fragment,{children:re.jsx("table",{children:re.jsxs("tbody",{children:[re.jsxs("tr",{children:[re.jsx("td",{children:"name"}),re.jsx("td",{children:d==null?void 0:d.name})]}),re.jsxs("tr",{children:[re.jsx("td",{children:"url"}),re.jsx("td",{children:d==null?void 0:d.url})]}),re.jsxs("tr",{children:[re.jsx("td",{children:"id"}),re.jsx("td",{children:d==null?void 0:d.id})]}),re.jsxs("tr",{children:[re.jsx("td",{children:"headers"}),re.jsx("td",{children:JSON.stringify(d==null?void 0:d.headers)})]}),re.jsxs("tr",{children:[re.jsx("td",{children:"code"}),re.jsx("td",{children:d==null?void 0:d.code})]})]})})}),v=cu();return re.jsxs("div",{className:cl.container,children:[re.jsx("h2",{children:"Settings"}),re.jsxs("table",{className:cl.settingsTable,children:[re.jsxs("tr",{children:[re.jsx("td",{className:cl.cellTable,children:re.jsxs("b",{children:[v==null?void 0:v.appName," is connecting to Chap Core via:"]})}),re.jsx("td",{className:cl.cellTable,children:Vn==null?void 0:Vn.BASE}),re.jsx("td",{className:cl.cellTable}),re.jsx("td",{className:cl.cellTableLarge,children:re.jsx(vi,{small:!0,primary:!0,loading:m,onClick:()=>s(!0),children:"Edit Chap core URL ➔"})})]}),re.jsxs("tr",{children:[re.jsx("td",{className:cl.cellTable,children:re.jsx("b",{children:"DHIS2 is connecting to Chap Core through:"})}),re.jsxs("td",{className:cl.cellTable,children:[d==null?void 0:d.url," ",re.jsx("br",{})]}),re.jsxs("td",{className:cl.cellTableLarge,children:[re.jsx(vi,{small:!0,onClick:()=>a(!r),children:r?"Hide route details":"Show route details"}),r&&k()]}),re.jsx("td",{className:cl.cellTable,children:re.jsx(vi,{small:!0,primary:!0,onClick:E,children:"Create/edit route ➔"})})]})]}),re.jsx("h3",{children:"Healthy status:"}),_&&re.jsx("p",{children:"Loading..."}),n&&re.jsx("div",{className:(n==null?void 0:n.status)!=="success"?cl.status_not_ok:cl.status_ok,children:n&&re.jsx("pre",{children:JSON.stringify(n,null,2)})}),t&&re.jsxs("div",{className:cl.errorContainer,children:[re.jsxs("h3",{children:["Error:"," ",t&&"Unable to establish connection with Chap Core."]}),re.jsx("p",{children:re.jsx("pre",{children:JSON.stringify(t,null,2)})})]}),o&&re.jsx(UA,{existingUrl:y,fetching:g,loading:m,setOpen:s})]})},WVe=()=>re.jsx(re.Fragment,{children:re.jsx(eO,{})}),qw=()=>{const n=RA();return console.error(n),re.jsxs("div",{id:"error-page",children:[re.jsx("h1",{children:"Oops!"}),re.jsx("p",{children:"Sorry, an unexpected error has occurred."}),re.jsx("p",{children:re.jsx("i",{children:(n==null?void 0:n.statusText)||(n==null?void 0:n.message)})})]})},qVe="_loading_5ojrz_1",HVe={loading:qVe},XVe=({request:n,setErrorMessage:e,setUpload:t})=>{const i=async()=>{e(""),await Ku.predictPredictPost(n).catch(r=>{var a;e((a=r==null?void 0:r.body)==null?void 0:a.detail),t(!1)}).then(()=>{t(!1)})};return Oe.useEffect(()=>{i()},[]),re.jsx("div",{className:HVe.loading,children:re.jsx(re.Fragment,{children:"Loading.."})})},ZVe="_container_1mxon_1",KVe="_error_1mxon_7",QVe="_selectedFile_1mxon_13",Hw={container:ZVe,error:KVe,selectedFile:QVe},JVe=({isReady:n,setUpload:e,upload:t})=>{const[i,r]=Oe.useState(void 0),[a,o]=Oe.useState(void 0),[s,d]=Oe.useState(""),p=y=>{o(y.files[0]);const g=new FileReader;g.onload=_=>{var x;try{const T=JSON.parse((x=_.target)==null?void 0:x.result);r(T)}catch{d("Failed to parse JSON file")}},g.readAsText(y.files[0])},m=async()=>{e(!0)};return re.jsxs("div",{children:[re.jsxs("div",{className:Hw.container,children:[re.jsxs("div",{children:[re.jsx(uT,{buttonLabel:"Upload JSON-file",onChange:p}),re.jsx("div",{className:Hw.selectedFile,children:re.jsx("i",{children:a==null?void 0:a.name})})]}),re.jsx("div",{children:re.jsx(vi,{icon:re.jsx(Yl,{}),disabled:i==null,onClick:()=>m(),children:"Send to CHAP"})})]}),t&&i&&re.jsx(XVe,{request:i,setErrorMessage:d,setUpload:e}),re.jsx("p",{className:Hw.error,children:s})]})},eWe="_statusContainer_arbfp_1",tWe="_ready_arbfp_8",nWe="_notReady_arbfp_17",iWe="_error_arbfp_25",Kx={statusContainer:eWe,ready:tWe,notReady:nWe,error:iWe},rWe=({setIsReady:n,upload:e})=>{const[t,i]=Oe.useState(void 0),[r,a]=Oe.useState(""),o=async()=>{t!=null&&t.ready.valueOf(),await Ku.getStatusStatusGet().catch(s=>{a("Could not get status"),n(!1)}).then(s=>{a(""),i(s),n(s==null?void 0:s.ready)})};return Oe.useEffect(()=>{const s=setInterval(()=>{o()},2e3);return o(),()=>{clearInterval(s)}},[e]),re.jsxs(re.Fragment,{children:[re.jsx("div",{className:Kx.error,children:r}),t&&!(t!=null&&t.ready)&&re.jsx("div",{className:t!=null&&t.ready?Kx.ready:Kx.notReady,children:re.jsxs("div",{className:Kx.statusContainer,children:[re.jsx("div",{children:"Status:"}),re.jsx("i",{children:(t==null?void 0:t.status)=="idle"?"Ready recive data":t==null?void 0:t.status})]})})]})},aWe="_buttonContainer_4e0m3_1",Xw={buttonContainer:aWe},sWe=({isReady:n})=>{const[e,t]=Oe.useState(""),i=async s=>await Ku.getResultsGetResultsGet().catch(d=>{}).then(d=>{const p=new Blob([JSON.stringify(d,null,2)],{type:"application/json"});if(s){const m=new Date().toJSON().slice(0,10);zM.saveAs(p,`chap-result-${m}.json`)}return d});let r=A0();const a=async()=>{const s=await i(!1);r("/results",{state:{data:s}})},o=()=>{i(!0)};return re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:Xw.buttonContainer,children:[re.jsx(vi,{className:Xw.result,onClick:o,icon:re.jsx(o0,{}),children:"Download latest result"}),re.jsx(vi,{className:Xw.result,primary:!0,onClick:a,icon:re.jsx(Yl,{}),children:"Import result"})]}),re.jsx("span",{children:e})]})},oWe="_statusContainer_ryp5g_1",lWe={statusContainer:oWe},cWe=()=>{const[n,e]=Oe.useState(!1),[t,i]=Oe.useState(!1);return re.jsxs("div",{className:lWe.statusContainer,children:[re.jsx("h2",{children:"CHAP Core - evaluation and prediction status"}),re.jsx("p",{children:re.jsx("i",{children:"On this page, you could upload data to CHAP Core and download the latest prediction result."})}),re.jsx(JVe,{upload:t,setUpload:i,isReady:n}),re.jsx(rWe,{upload:t,setIsReady:e}),re.jsx(sWe,{isReady:n})]})},uWe="_innerNavBar_bw29d_1",dWe="_leftNavBarLinks_bw29d_12",hWe="_outerNavBar_bw29d_17",Zw={innerNavBar:uWe,leftNavBarLinks:dWe,outerNavBar:hWe},pWe=({path:n,label:e})=>{const{pathname:t}=$p({});return re.jsx(fy,{label:e,href:`#${n}`,active:t===n||n!=="/"&&t.startsWith(n)})},mWe=[{label:"Evaluate",path:"/evaluate"},{label:"Import",path:"/import"}],fWe=()=>{const n=()=>{window.location.replace("/#settings")};return re.jsx("div",{children:re.jsx("div",{className:Zw.outerNavBar,children:re.jsxs("div",{className:Zw.innerNavBar,style:{maxWidth:tO},children:[re.jsx("div",{className:Zw.leftNavBarLinks,children:mWe.map(({path:e,label:t},i)=>re.jsx(pWe,{path:e,label:t},i))}),re.jsx(vi,{small:!0,icon:re.jsx(u3,{}),onClick:n,children:"Settings"})]})})})},tO="1400px",gWe={maxWidth:tO,marginLeft:"auto",marginRight:"auto",padding:"20px 10px 20px 10px"},Kw=({component:n})=>re.jsxs(re.Fragment,{children:[re.jsx(fWe,{}),re.jsx("div",{style:gWe,children:n})]}),yWe="_drawerWrapper_1jnc9_1",vWe={drawerWrapper:yWe};function tT(){return tT=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tT.apply(this,arguments)}var xWe=function(e,t){var i={left:{top:0,left:0,transform:"translate3d(-100%, 0, 0)",width:t,height:"100vh"},right:{top:0,right:0,transform:"translate3d(100%, 0, 0)",width:t,height:"100vh"},bottom:{left:0,right:0,bottom:0,transform:"translate3d(0, 100%, 0)",width:"100%",height:t},top:{left:0,right:0,top:0,transform:"translate3d(0, -100%, 0)",width:"100%",height:t}};return i[e]},KS=function(e){var t=e.open,i=e.onClose,r=i===void 0?function(){}:i,a=e.children,o=e.style,s=e.enableOverlay,d=s===void 0?!0:s,p=e.overlayColor,m=p===void 0?"#000":p,y=e.overlayOpacity,g=y===void 0?.4:y,_=e.zIndex,x=_===void 0?100:_,T=e.duration,E=T===void 0?500:T,k=e.direction,v=e.size,w=v===void 0?250:v,N=e.className,S=e.customIdSuffix,L=e.lockBackgroundScroll,O=L===void 0?!1:L,Y=e.overlayClassName,X=Y===void 0?"":Y,H=Oe.useRef(null);Oe.useEffect(function(){var M=function(){H.current=window.document.querySelector("body"),H.current&&O&&(H.current.style.overflow=t?"hidden":"")};M()},[t]);var $=Oe.useMemo(function(){return S||(Math.random()+1).toString(36).substring(7)},[S]),G={backgroundColor:m.toString(),opacity:g,zIndex:x},B=tT({zIndex:x+1,transitionDuration:E+"ms"},xWe(k,w),o);return Se.createElement("div",{id:"EZDrawer"+$,className:"EZDrawer"},Se.createElement("input",{type:"checkbox",id:"EZDrawer__checkbox"+$,className:"EZDrawer__checkbox",onChange:r,checked:t}),Se.createElement("nav",{role:"navigation",id:"EZDrawer__container"+$,style:B,className:"EZDrawer__container "+N},a),d&&Se.createElement("label",{htmlFor:"EZDrawer__checkbox"+$,id:"EZDrawer__overlay"+$,className:"EZDrawer__overlay "+X,style:G}))};const bWe="_formWrapper_6d4wk_1",_We={formWrapper:bWe},wWe=({value:n,onChange:e})=>re.jsx("div",{children:re.jsxs(va,{onChange:({selected:t})=>e(t),selected:n,label:"Period type",children:[re.jsx(to,{value:"week",label:"Weekly"}),re.jsx(to,{value:"month",label:"Monthly"})]})}),TWe="_datePicker_1yiz7_1",SWe="_label_1yiz7_5",CWe="_content_1yiz7_14",EWe="_box_1yiz7_18",kWe="_inputDiv_1yiz7_23",NWe="_input_1yiz7_23",jm={datePicker:TWe,label:SWe,content:CWe,box:EWe,inputDiv:kWe,input:NWe},zL=({label:n,name:e,onChange:t,periodeType:i})=>{const r=Oe.useRef(null);return re.jsxs("div",{className:jm.datePicker,style:{opacity:i===""?.6:1},children:[re.jsx("label",{className:jm.label,children:n}),re.jsx("div",{className:jm.content,children:re.jsx("div",{className:jm.box,children:re.jsx("div",{className:jm.inputDiv,children:re.jsx("input",{disabled:i==="",className:jm.input,ref:r,type:i,name:e,onChange:a=>t(a.target.value)})})})})]})},LWe="_timePeriodeSelector_fpkps_1",IWe="_timePeriodeSelectorInputFields_fpkps_7",AWe="_timePeriodeSelectorInputFieldsChild_fpkps_13",Qx={timePeriodeSelector:LWe,timePeriodeSelectorInputFields:IWe,timePeriodeSelectorInputFieldsChild:AWe},PWe=(n,e,t)=>t==="week"?DWe(n,e):t==="month"?RWe(n,e):[],DWe=(n,e)=>{let[t,i]=n.split("-W").map(Number),[r,a]=e.split("-W").map(Number);if(r-t>100)return[];let o=[];for(let s=t;s<=r;s++){let d=OWe(s),p=s===t?i:1,m=s===r?a:d;for(let y=p;y<=m;y++){let g=`${s}W${String(y).padStart(2,"0")}`;o.push({endDate:void 0,startDate:void 0,id:g})}}return o},MWe=n=>{n=new Date(+n),n.setHours(0,0,0,0),n.setDate(n.getDate()+4-(n.getDay()||7));var e=new Date(n.getFullYear(),0,1),t=Math.ceil(((n-e)/864e5+1)/7);return[n.getFullYear(),t]},OWe=n=>{var e=new Date(n,11,31),t=MWe(e)[1];return t==1?52:t},RWe=(n,e)=>{const[t,i]=n.split("-").map(Number),[r,a]=e.split("-").map(Number);if(r-t>100)return[];let o=[],s=t,d=i;for(;s<r||s===r&&d<=a;){let p=String(d).padStart(2,"0");o.push({id:`${s}${p}`,endDate:void 0,startDate:void 0}),d++,d>12&&(d=1,s++)}return o},nO=({setTimePeriods:n})=>{const[e,t]=Oe.useState(""),[i,r]=Oe.useState(""),[a,o]=Oe.useState(""),s=d=>{r(""),o(""),t(d)};return Oe.useEffect(()=>{n(PWe(i,a,e))},[i,a]),re.jsxs("div",{children:[re.jsx("h3",{children:"Period"}),re.jsxs("div",{className:Qx.timePeriodeSelector,children:[re.jsx(wWe,{value:e,onChange:s}),re.jsxs("div",{className:Qx.timePeriodeSelectorInputFields,children:[re.jsx("div",{className:Qx.timePeriodeSelectorInputFieldsChild,children:re.jsx(zL,{periodeType:e,label:"Dateset start:",name:"",onChange:r})}),re.jsx("div",{className:Qx.timePeriodeSelectorInputFieldsChild,children:re.jsx(zL,{periodeType:e,label:"Dateset end:",name:"",onChange:o})})]})]})]})},$We="_error_1rljs_1",zWe={error:$We},FWe={roots:{resource:"organisationUnits",params:()=>({fields:["id","displayName~rename(name)","path"],userDataViewFallback:!0})}},jWe=()=>{var i;const{loading:n,error:e,data:t}=as(FWe);return{roots:(i=t==null?void 0:t.roots)==null?void 0:i.organisationUnits,error:e,loading:n}},BWe=({selectedOrgUnits:n,onChange:e})=>{const{roots:t,error:i}=jWe();return Oe.useEffect(()=>{if(t&&!n){const[r]=t;e({...r,selected:[r.path]})}},[t]),t?re.jsxs("div",{children:[re.jsx("h3",{children:tt.t("Organisation units")}),re.jsx(WT,{roots:t.map(r=>r.id),selected:n==null?void 0:n.map(r=>r.path),onChange:e,initiallyExpanded:t.map(r=>r.path)})]}):i?re.jsx("div",{children:i.message}):null},UWe={levels:{resource:"organisationUnitLevels",params:{fields:["id","displayName~rename(name)","level"],order:"level:asc",paging:!1}}},GWe=()=>{var i;const{loading:n,error:e,data:t}=as(UWe);return{levels:(i=t==null?void 0:t.levels)==null?void 0:i.organisationUnitLevels,error:e,loading:n}},YWe="_selectField_2clxr_1",VWe={selectField:YWe},WWe=({orgUnitLevels:n,onChange:e})=>{const{levels:t,loading:i,error:r}=GWe(),a=o=>{const s={id:o.selected,level:t.find(d=>d.id===o.selected).level};e(s)};return Oe.useEffect(()=>{var o;(t==null?void 0:t.length)>2&&!n&&e({id:(o=t[1])==null?void 0:o.id,level:t[1].level})},[t,n,e]),t?re.jsx("div",{className:VWe.selectField,children:re.jsx(va,{label:tt.t("Organisation unit level"),helpText:tt.t("Organisation unit level to import data to"),tabIndex:"1",selected:n==null?void 0:n.id,loading:i,error:!!r,onChange:a,children:t.map((o,s)=>re.jsx(to,{value:o.id,label:o.name},o.id))})}):null},iO=({setOrgUnits:n,orgUnits:e,orgUnitLevel:t,setOrgUnitLevel:i})=>{const r=o=>{o.checked?n([...e,o]):n(e.filter(s=>s.path!==o.path))};function a(){if(e.length===0)return!0;const o=e[0].path.split("/").length;return e.every(s=>s.path.split("/").length===o)}return re.jsxs(re.Fragment,{children:[re.jsx(BWe,{selectedOrgUnits:e,onChange:o=>{r(o)}}),!a()&&re.jsx("p",{className:zWe.error,children:"Only select organization units that are one the same level."}),re.jsx(WWe,{orgUnitLevels:t,onChange:i})]})},qWe=({dataElements:n=[],periodes:e=[],orgUnit:t={}}={})=>({request:{resource:"analytics",params:{paging:!1,dimension:`dx:${n.join(";")},ou:${t},pe:${e.join(";")}`}}}),HWe=(n,e,t)=>{var s;const i=n.map(d=>d.dataSource);if(i.length===0)return{data:[],error:"",loading:!1};const{loading:r,error:a,data:o}=as(qWe({dataElements:i,periodes:e,orgUnit:t}));return console.log(o),!r&&o&&!a?{data:(s=o==null?void 0:o.request)==null?void 0:s.rows,error:a,loading:r}:{data:o,error:a,loading:r}},XWe={geojson:{resource:"organisationUnits.geojson",params:({level:n})=>({level:n})}},ZWe=n=>({features:n.geojson.features.map(({type:e,id:t,geometry:i,properties:r})=>({type:e,id:t,properties:r,geometry:i})),...n}),KWe=(n,e)=>({type:"FeatureCollection",features:n.features.filter(t=>e.some(i=>i.id===t.id||t.properties.parentGraph.includes(i.id)))}),QWe=(n,e)=>{const{data:t,loading:i,error:r}=as(XWe,{variables:{level:n}});return{data:t&&KWe(ZWe(t),e),error:r,loading:i}},JWe="_text_b9rbg_1",eqe={text:JWe},tqe=({selectedPeriodItems:n,setGeoJSon:e,setObservations:t,setFeatureDataItemMapper:i,setStartDownload:r,orgUnitLevel:a,selectedOrgUnits:o,analyticsDataLayers:s,setErrorMessages:d})=>{if(a==null)return re.jsx(re.Fragment,{});const p="LEVEL-"+a.id+";"+o.map(w=>w.id).join(";"),m=w=>w.map(N=>N.id),{data:y,error:g,loading:_}=HWe(s,m(n),p),{data:x,error:T,loading:E}=QWe(a.level,o),k=w=>w.map(N=>({featureName:s.filter(S=>S.dataSource===N)[0].feature,dataItemId:N})),v=w=>{const N=[...new Set(w.map(L=>L[0]))],S=k(N);return i(S),w.map(L=>({featureName:S.filter(O=>O.dataItemId===L[0])[0].featureName,orgUnit:L[1],period:L[2],value:parseFloat(L[3])}))};return Oe.useEffect(()=>{if(!(_||E)&&(y&&x&&(d([]),e(x),t(v(y))),g||T)){const w=[];g&&w.push({description:JSON.stringify(g),title:"Analytics request failed"}),T&&w.push({description:JSON.stringify(T),title:"OrgUnits request failed"}),d(w),r(N=>({...N,startDownload:!1}))}},[_,E]),re.jsx("p",{className:eqe.text,children:"Downloading data.."})},nqe="_errorChap_zn0bc_1",iqe="_errorBar_zn0bc_6",rqe="_errorHeader_zn0bc_15",aqe="_detailedError_zn0bc_22",Jx={errorChap:nqe,errorBar:iqe,errorHeader:rqe,detailedError:aqe},sqe="_buttons_1pqw8_1",oqe={buttons:sqe},lqe=({startDownload:n,formValid:e,orgUnits:t,onClickDownloadOrPostData:i,onButtonSendAction:r})=>{const a=()=>{if(t.length===0)return!0;const d=t[0].path.split("/").length;return t.every(p=>p.path.split("/").length===d)},o=r==="predict"?"Send prediction":"Create dataset",s=r==="predict"?re.jsx(Yl,{}):re.jsx(s0,{});return re.jsxs("div",{className:oqe.buttons,children:[re.jsx(vi,{icon:re.jsx(o0,{}),loading:n.startDownload&&n.action==="download",disabled:!e||n.startDownload||!a(),onClick:()=>i("download"),children:"Download data"}),re.jsx(vi,{icon:s,primary:!0,loading:n.startDownload&&n.action===r,disabled:!e||n.startDownload||!a(),onClick:()=>i(r),children:o})]})},rO=({onSendAction:n,onDrawerSubmit:e,selectedModel:t,name:i,selectedPeriodItems:r,selectedOrgUnits:a,orgUnitLevel:o,dataLayers:s})=>{const[d,p]=Oe.useState({action:"download",startDownload:!1}),[m,y]=Oe.useState(void 0),[g,_]=Oe.useState(),x=s.filter(F=>F.origin==="dataItem"),[T,E]=Oe.useState([]),[k,v]=Oe.useState([]),[w,N]=Oe.useState(""),S=()=>!(o===void 0||a.length==0||r.length==0||i===""||r.length==0||s.length==0||s.some(F=>F.feature===""||F.dataSource===""||F.origin==="")),L=F=>{y(void 0),_(void 0),v([]),p({action:F,startDownload:!0})};Oe.useEffect(()=>{if(m&&g){if(p(F=>({...F,startDownload:!1})),d.action==="download"){V();return}if(O())return;d.action==="predict"&&D(),d.action==="new-dataset"&&M()}},[m,g]);const O=F=>!1,Y=cu(),X=()=>{var F,z,W;return{userId:((F=Y==null?void 0:Y.systemInfo)==null?void 0:F.systemId)||"Unknown",appVersion:((z=Y==null?void 0:Y.appVersion)==null?void 0:z.full)||"Unknown",dhis2Version:((W=Y==null?void 0:Y.systemInfo)==null?void 0:W.version)||"Unknown",dataItemMapper:T}},H=()=>({name:i,dataToBeFetched:B(),metaData:X(),providedData:m,geojson:g}),$=()=>H(),G=()=>({type:"predict",modelId:t==null?void 0:t.name,...H()}),B=()=>s.filter(F=>F.origin==="CHAP").map(F=>({dataSourceName:F.dataSource,featureName:F.feature})),M=async()=>{let F=$();await Iy.makeDatasetAnalyticsMakeDatasetPost(F).then(z=>{N(""),e()}).catch(z=>{var W,q;(W=z==null?void 0:z.body)!=null&&W.detail?N(JSON.stringify((q=z==null?void 0:z.body)==null?void 0:q.detail)):N("An error occured while sending the request to CHAP Core.")})},D=async()=>{let F=G();await Iy.makePredictionAnalyticsPredictionPost(F).then(z=>{N(""),e()}).catch(z=>{var W,q;(W=z==null?void 0:z.body)!=null&&W.detail?N(JSON.stringify((q=z==null?void 0:z.body)==null?void 0:q.detail)):N("An error occured while sending the request to CHAP Core.")})},V=()=>{let F={};n==="predict"&&(F=G()),n==="new-dataset"&&(F=$());var z=new Blob([JSON.stringify(F,null,2)],{type:"application/json"});const W=new Date;FM(z,n.replaceAll("-","_")+"_chap_request_data_"+W.toJSON()+".json")};return re.jsxs("div",{children:[re.jsx(lqe,{formValid:S(),onButtonSendAction:n,onClickDownloadOrPostData:L,orgUnits:a,startDownload:d}),re.jsx("p",{className:Jx.errorChap,children:w}),d.startDownload&&S()&&re.jsx(tqe,{setFeatureDataItemMapper:E,model_id:t==null?void 0:t.name,setObservations:y,setGeoJSon:_,analyticsDataLayers:x,startDownload:d,setStartDownload:p,selectedPeriodItems:r,setErrorMessages:v,selectedOrgUnits:a,orgUnitLevel:o}),k.map((F,z)=>re.jsxs("div",{className:Jx.errorBar,children:[re.jsxs("div",{className:Jx.errorHeader,children:[re.jsx(lT,{}),re.jsx("span",{children:F.title})]}),re.jsx("span",{className:Jx.detailedError,children:F.description})]},z))]})},cqe="_dataLineWrapper_epwpx_1",uqe="_selectField_epwpx_9",dqe="_buttonRight_epwpx_13",hqe="_selectDataLineWrapper_epwpx_19",pqe="_predictLabel_epwpx_27",qh={dataLineWrapper:cqe,selectField:uqe,buttonRight:dqe,selectDataLineWrapper:hqe,predictLabel:pqe},Qw=[{id:"rainfall",name:"Rainfall",description:"The amount of rainfall in mm",optional:!0},{id:"mean_temperature",name:"Mean Temperature",description:"The average temperature in degrees Celsius",optional:!0},{id:"population",name:"Population",description:"The population of the area",optional:!1},{name:"Disease cases",id:"disease_cases",description:"Feature 5"}],aO=({datasetLayers:n,setDataLayers:e,predictMode:t})=>{const[i,r]=Oe.useState([]),a=async()=>{await Iy.getDataSourcesAnalyticsDataSourcesGet().then(y=>{r(y)})};Oe.useEffect(()=>{a()},[]);const o=(y,g,_)=>{let x=[...n];y.selected!=null&&(g==="origin"&&(x[_].dataSource=""),g==="feature"&&(x[_].dataSource=""),x[_][g]=y.selected,e(x))},s=()=>{let y=[...n];y.push({feature:"",origin:"",dataSource:""}),e(y)},d=y=>{let g=[...n];g.splice(y,1),e(g)},p=y=>{let g=[];return Qw.forEach(_=>{let x=!1;n.forEach((T,E)=>{T.feature==_.id&&E!==y&&(x=!0)}),x||g.push(_)}),g},m=(y,g)=>{o({selected:y},"dataSource",g)};return re.jsxs("div",{children:[re.jsx("h3",{children:"Data layers"}),re.jsx(rT,{title:"Origin",children:'The modeling app supports direct retrieval of the ERA5-Land data without the need of the DHIS2 Climate App. If you are using an ERA5-Land source, we recommend utilizing this direct retrieval method by selecting the "ERA5-Land" origin. For local data sources or the CHIRPS dataset, please select DHIS2 as the origin, and then choose the specific data element where the data has been imported.'}),re.jsxs("div",{className:qh.selectDataLineWrapper,children:[n.map((y,g)=>{var _;return re.jsx("div",{children:re.jsxs("div",{className:qh.dataLineWrapper,children:[t?re.jsx("div",{className:qh.predictLabel,children:(_=Qw.filter(x=>x.id===y.feature)[0])==null?void 0:_.name}):re.jsx("div",{className:qh.selectField,children:re.jsx(va,{label:"Feature",onChange:x=>o(x,"feature",g),selected:y.feature,children:p(g).map(x=>re.jsx(to,{label:x.name,value:x.id},x.id))})}),re.jsx("div",{className:qh.selectField,children:re.jsxs(va,{disabled:y.feature==="",label:"Origin",onChange:x=>o(x,"origin",g),selected:y.origin,children:[i.some(x=>x.supportedFeatures.includes(y.feature))&&re.jsx(to,{label:"ERA5-Land",value:"CHAP"}),re.jsx(to,{label:"DHIS2",value:"dataItem"})]})}),re.jsxs("div",{className:qh.selectField,children:[(y.origin==="CHAP"||y.origin==="")&&re.jsx(va,{disabled:y.origin==="",label:"Data name source",onChange:x=>o(x,"dataSource",g),selected:y.dataSource,children:i.map(x=>x.supportedFeatures.includes(y.feature)&&re.jsx(to,{label:`${x.dataset.toUpperCase()} - ${x.displayName}`,value:x.dataset},x.name))}),y.origin==="dataItem"&&re.jsx(X1,{feature:{name:Qw.filter(x=>x.id===y.feature)[0].name,id:y.feature,description:""},onChangeSearchSelectField:(x,T)=>m(T,g)})]}),!t&&re.jsx("div",{children:re.jsx(vi,{onClick:()=>d(g),destructive:!0,large:!0,icon:re.jsx(oT,{})})})]})},g)}),!t&&re.jsx("div",{className:qh.buttonRight,children:re.jsx(vi,{onClick:s,icon:re.jsx(sT,{}),children:"Add layer"})})]})]})},mqe=({onDrawerSubmit:n})=>{const[e,t]=Oe.useState([{feature:"",origin:"",dataSource:""}]),[i,r]=Oe.useState([]),[a,o]=Oe.useState([]),[s,d]=Oe.useState(void 0),[p,m]=Oe.useState("");return re.jsx(re.Fragment,{children:re.jsxs("div",{className:_We.formWrapper,children:[re.jsx(Pp,{autoComplete:"",label:"Dataset name",value:p,onChange:y=>m(y.value),helpText:"Name your dataset",placeholder:"Malaria incidenc, climate for.. "}),re.jsx(aO,{setDataLayers:t,datasetLayers:e}),re.jsx(nO,{setTimePeriods:o}),re.jsx(iO,{orgUnits:i,setOrgUnits:r,orgUnitLevel:s,setOrgUnitLevel:d}),re.jsx(rO,{onDrawerSubmit:n,name:p,dataLayers:e,onSendAction:"new-dataset",orgUnitLevel:s,selectedPeriodItems:a,selectedOrgUnits:i})]})})},fqe="_newDatasetWrapper_1jun0_1",gqe="_newEvaluationDatasetTitle_1jun0_5",yqe="_navFooterOuter_1jun0_12",vqe="_navFooter_1jun0_12",FL={newDatasetWrapper:fqe,newEvaluationDatasetTitle:gqe,navFooterOuter:yqe,navFooter:vqe},xqe=({onDrawerClose:n,onDrawerSubmit:e})=>re.jsx(re.Fragment,{children:re.jsxs("div",{className:FL.newDatasetWrapper,children:[re.jsxs("div",{className:FL.newEvaluationDatasetTitle,children:[re.jsx("h2",{children:"New evaluation dataset"}),re.jsx(vi,{icon:re.jsx(aT,{}),onClick:n})]}),re.jsx(mqe,{onDrawerSubmit:e})]})}),bqe=({isOpen:n,onDrawerSubmit:e,onDrawerClose:t})=>{const i=window.innerWidth<900?"100vw":"1000px";return re.jsx("div",{children:re.jsx(KS,{open:n,onClose:t,direction:"right",size:i,children:re.jsx("div",{className:vWe.drawerWrapper,children:re.jsx(xqe,{onDrawerClose:t,onDrawerSubmit:e})})})})},_qe="_predictionHeader_pgl0p_1",wqe={predictionHeader:_qe},nT=({pageTitle:n,setDrawerOpen:e,setDrawerOpenText:t})=>re.jsxs("div",{className:wqe.predictionHeader,children:[re.jsx("h2",{children:n}),e&&t&&re.jsx(vi,{onClick:()=>e(!0),icon:re.jsx(sT,{}),primary:!0,children:t})]}),Tqe="_jobPredictionPanelContainer_3yj2b_1",Sqe="_boxPanel_3yj2b_9",Cqe="_flexMedium_3yj2b_17",Eqe="_flexItemRight_3yj2b_21",kqe="_inProgress_3yj2b_26",Nqe="_notStarted_3yj2b_31",Lqe="_completed_3yj2b_36",Iqe="_failed_3yj2b_41",Aqe="_resultTextHeader_3yj2b_46",Pqe="_evaluationModal_3yj2b_53",js={jobPredictionPanelContainer:Tqe,boxPanel:Sqe,flexMedium:Cqe,flexItemRight:Eqe,inProgress:kqe,notStarted:Nqe,completed:Lqe,failed:Iqe,resultTextHeader:Aqe,evaluationModal:Pqe},Dqe="_modal_1k0a4_1",Mqe={modal:Dqe},Oqe="_container_mngpy_1",Rqe="_innerContainer_mngpy_6",$qe="_prediction_mngpy_21",zqe="_warning_mngpy_26",Fqe="_footer_mngpy_31",jqe="_post_mngpy_36",Bqe="_redText_mngpy_40",Uqe="_greenText_mngpy_45",Id={container:Oqe,innerContainer:Rqe,prediction:$qe,warning:zqe,footer:Fqe,post:jqe,redText:Bqe,greenText:Uqe},Gqe=({prediction:n,qLowDataElementId:e,qMedianDataElementId:t,qHighDataElementId:i,setPostHttpError:r,setPostStatus:a})=>{const o=x=>{if(x==="quantile_low")return e;if(x==="median")return t;if(x==="quantile_high")return i},s=x=>x.dataValues.map(T=>({dataElement:o(T.dataElement),period:T.period,orgUnit:T.orgUnit,value:T.value})),d=x=>({resource:"dataValueSets",type:"create",data:{dataValues:x}}),[p,{error:m,loading:y,called:g}]=Ny(d(s(n))),_=async()=>{await p()};return Oe.useEffect(()=>{_()},[]),Oe.useEffect(()=>{g&&(y||(m&&(r("Something went wrong when posting the prediction."),a("error")),m||(r(""),a("finish"))))},[y]),null},Yqe="_selectWrapper_8vdsv_1",Vqe="_select_8vdsv_1",jL={selectWrapper:Yqe,select:Vqe},Jw=({value:n,onChange:e,label:t,dataElements:i})=>{const r=o=>{e({displayName:i==null?void 0:i.find(s=>s.id===o.selected).displayName,id:o.selected})},a=(i==null?void 0:i.length)===0&&i!=null;return re.jsx("div",{children:re.jsx("div",{children:re.jsx("div",{className:jL.select,children:re.jsxs("div",{className:jL.selectWrapper,children:[re.jsx("span",{children:t}),re.jsx(va,{tabIndex:"1",placeholder:tt.t("Select data element"),disabled:a,selected:n?n.id:"",warning:a,onChange:r,children:i==null?void 0:i.map(o=>re.jsx(to,{label:o.displayName,value:o.id},o.id))})]})})})})},Wqe="_textWarning_3ldzr_1",qqe="_wrapper_3ldzr_6",Hqe="_wrapperWarning_3ldzr_14",e1={textWarning:Wqe,wrapper:qqe,wrapperWarning:Hqe},Xqe="_dataValueTables_vzc5s_10",Zqe="_warning_vzc5s_17",BL={dataValueTables:Xqe,warning:Zqe},Kqe=({setModalOpen:n,modalOpen:e,predictionTarget:t})=>{const i=cu();return e&&re.jsx(Jy,{large:!0,onClose:()=>n(!1),children:re.jsxs(e2,{children:[re.jsx("h2",{children:tt.t("Add required Data Elements")}),re.jsxs("p",{children:[tt.t("This app requires specific DHIS2 Data Elements to import data into. If you have not already added them, go to the "),re.jsx("a",{target:"_blank",href:`${i.baseUrl}/dhis-web-maintenance/index.html#/list/dataElementSection/dataElement`,children:"Maintenance"}),tt.t("-app and create the Data Elements listed below.")]}),re.jsx("p",{className:BL.warning,children:tt.t("NB! Make sure the CODE property for each data element is exactly the same as below.")}),re.jsx("p",{children:tt.t("Properties in the new Data Element form not specified in the tables below should have the default value.")}),re.jsxs("div",{className:BL.dataValueTables,children:[re.jsx(t1,{q:"Low",disease:t}),re.jsx(t1,{q:"Median",disease:t}),re.jsx(t1,{q:"High",disease:t})]})]})})},t1=({q:n,disease:e})=>re.jsx("table",{children:re.jsxs("tbody",{children:[re.jsxs("tr",{children:[re.jsx("th",{children:tt.t("Name")}),re.jsxs("td",{children:["CHAP",tt.t(` ${e} Quantile ${n}`)]})]}),re.jsxs("tr",{children:[re.jsx("th",{children:tt.t("Short name")}),re.jsxs("td",{children:["CHAP",tt.t(` ${e} Quantile ${n}`)]})]}),re.jsxs("tr",{children:[re.jsx("th",{children:tt.t("Code")}),re.jsx("td",{children:`CHAP_${n.toUpperCase()}_${e.toLocaleUpperCase().replaceAll(" ","_")}`})]}),re.jsxs("tr",{children:[re.jsx("th",{children:tt.t("Domain type")}),re.jsx("td",{children:tt.t("Aggregate")})]}),re.jsxs("tr",{children:[re.jsx("th",{children:tt.t("Aggregation levels")}),re.jsx("td",{children:re.jsx("em",{children:tt.t("Assign all org unit levels")})})]})]})}),Qqe=({predictionTarget:n,warning:e})=>{const[t,i]=Oe.useState(!1);return re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:e?e1.wrapperWarning:e1.wrapper,children:[re.jsx("div",{className:e1.textWarning,children:e&&re.jsx(re.Fragment,{children:re.jsx("p",{children:tt.t("It seems like you missing Data Elements for CHAP prediction.")})})}),re.jsx("div",{children:re.jsx(vi,{icon:re.jsx(s0,{}),onClick:()=>i(!0),children:tt.t("Add data elements")})})]}),re.jsx(Kqe,{modalOpen:t,setModalOpen:i,predictionTarget:n})]})},Jqe=({prediction_unprocessed:n})=>{var V;const e=pu(),[t,i]=Oe.useState("chart"),[r,a]=Oe.useState(),[o,s]=Oe.useState(null),[d,p]=Oe.useState(null),[m,y]=Oe.useState(null),g=(F,z)=>{if(!z)return 0;const W=[...z].sort((oe,Ee)=>oe-Ee),q=W.length,ee=F*(q-1),ue=Math.floor(ee),ie=Math.ceil(ee);return Math.round(ue===ie?W[ue]:W[ue]+(W[ie]-W[ue])*(ee-ue))},_=[{q:.1,name:"quantile_low"},{q:.5,name:"median"},{q:.9,name:"quantile_high"}],x=()=>{var F,z;return((z=(F=n==null?void 0:n.metaData)==null?void 0:F.dataItemMapper)==null?void 0:z.find(W=>W.featureName==="disease_cases").dataItemId)??""},T=()=>({diseaseId:w,dataValues:n.forecasts.flatMap(F=>_.map(z=>({orgUnit:F.orgUnit,value:g(z.q,F.values),displayName:F.orgUnit,dataElement:z.name,period:F.period})))}),{dataElements:E}=tf("CHAP_LOW"),{dataElements:k}=tf("CHAP_MEDIAN"),{dataElements:v}=tf("CHAP_HIGH"),w=x(),{displayName:N}=KM(w),{orgUnits:S,loading:L}=e_(),[O,Y]=Oe.useState("initial"),[X,H]=Oe.useState("");Oe.useEffect(()=>{S&&G()},[(V=e==null?void 0:e.state)==null?void 0:V.data,S]);const $=()=>(E==null?void 0:E.length)===0||(k==null?void 0:k.length)===0||(v==null?void 0:v.length)===0,G=async F=>{Y("initial")};Oe.useEffect(()=>{N&&S&&n&&a(M(T()))},[N,S,n]),Oe.useEffect(()=>{if(E&&k&&v&&N){const F=E.find(q=>q.code===`CHAP_LOW_${N.toLocaleUpperCase().replaceAll(" ","_")}`);F&&s(F);const z=k.find(q=>q.code===`CHAP_MEDIAN_${N.toLocaleUpperCase().replaceAll(" ","_")}`);z&&p(z);const W=v.find(q=>q.code===`CHAP_HIGH_${N.toLocaleUpperCase().replaceAll(" ","_")}`);W&&y(W)}},[E,k,v,N]);const B=()=>!o&&!d&&!m?!1:!!(o&&!(o!=null&&o.displayName.includes(N))||d&&!(d!=null&&d.displayName.includes(N))||m&&!(m!=null&&m.displayName.includes(N))),M=F=>({dataValues:F.dataValues.map(z=>{var W;return{...z,displayName:(W=S==null?void 0:S.organisationUnits.find(q=>q.id===z.orgUnit))==null?void 0:W.displayName}}),diseaseId:F.diseaseId}),D=()=>!!(o&&d&&m);return re.jsx("div",{className:Id.container,children:re.jsxs("div",{className:Id.innerContainer,children:[L&&re.jsx("p",{children:"Loading metadata from DHIS2.. "}),re.jsxs("h1",{children:["Import: ",n.name]}),r&&re.jsxs(re.Fragment,{children:[re.jsxs(E0,{scrollable:!0,children:[re.jsx(Hu,{selected:t==="chart",onClick:()=>i("chart"),children:"Chart"}),re.jsx(Hu,{selected:t==="table",onClick:()=>i("table"),children:"Table"})]}),re.jsx("div",{className:Id.prediction,children:{chart:re.jsx(ZA,{predictionTargetName:N,data:r}),table:re.jsx(RP,{data:r}),map:re.jsx(re.Fragment,{})}[t]}),re.jsx("h3",{children:tt.t("Select which data element prediction should be imported to:")}),re.jsx(Qqe,{warning:$(),predictionTarget:N}),re.jsx(Jw,{label:tt.t("Select data element for low quantile"),dataElements:E,onChange:s,value:o}),re.jsx(Jw,{label:tt.t("Select data element for median quantile"),dataElements:k,onChange:p,value:d}),re.jsx(Jw,{label:tt.t("Select data element for high quantile"),dataElements:v,onChange:y,value:m}),B()&&re.jsx("p",{className:Id.warning,children:"Warning: It seems like selected data elements do not match the disease of prediction."}),re.jsx("div",{className:Id.footer,children:re.jsx(vi,{onClick:()=>Y("loading"),loading:O==="loading",disabled:O==="finish"||O==="loading"||!D(),icon:re.jsx(Yl,{}),primary:!0,children:tt.t("Import prediction")})}),O==="loading"&&re.jsx(Gqe,{setPostHttpError:H,setPostStatus:Y,prediction:r,qLowDataElementId:o==null?void 0:o.id,qMedianDataElementId:d==null?void 0:d.id,qHighDataElementId:m==null?void 0:m.id}),re.jsxs("div",{className:Id.post,children:[O==="finish"&&re.jsx("p",{className:Id.greenText,children:tt.t("Prediction has been imported.")}),re.jsx("p",{className:Id.redText,children:tt.t(X)})]})]})]})})},eHe=({isImportModalOpen:n,setIsImportModalOpen:e,predictionIdToImport:t})=>{const[i,r]=Oe.useState(),a=async o=>{await Gu.getPredictionCrudPredictionsPredictionIdGet(o).then(s=>{r(s)})};return Oe.useEffect(()=>{t&&a(Number(t))},[]),re.jsx("div",{children:n&&re.jsx(re.Fragment,{children:re.jsx(Jy,{className:Mqe.modal,onClose:()=>{e(!1)},children:re.jsx(re.Fragment,{children:i&&re.jsx(Jqe,{prediction_unprocessed:i})})})})})},tHe="_buttonGroup_atr0n_1",nHe={buttonGroup:tHe},iHe=({jobPrediction:n,onClickJobDetails:e,onClickRemoveFailed:t})=>re.jsxs("div",{className:nHe.buttonGroup,children:[re.jsx(vi,{icon:re.jsx(d3,{}),small:!0,onClick:()=>e(n),children:"Details"}),re.jsx(vi,{icon:re.jsx(oT,{}),small:!0,destructive:!0,onClick:()=>t(n.id),children:"Remove"})]}),rHe="_drawerWrapper_l3raf_1",aHe={drawerWrapper:rHe},sHe="_formWrapper_13v73_1",oHe="_newEvaluationTitle_13v73_8",lHe="_buttons_13v73_15",cHe="_navFooterOuter_13v73_20",uHe="_navFooter_13v73_20",n1={formWrapper:sHe,newEvaluationTitle:oHe,buttons:lHe,navFooterOuter:cHe,navFooter:uHe},UL=n=>{if(!n)return"NA";if(n.length==4)return n;if(n.length==6){const e=n.slice(0,4),t=n.slice(4,6);return`${["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(t)-1]} ${e}`}if(n.length==5){const e=n.slice(0,4);return`Week ${n.slice(5,6)} ${e}`}},dHe="_datasetDetailsWrapper_dewdk_1",hHe="_datasetDetailsRow_dewdk_7",pHe="_label_dewdk_13",Hh={datasetDetailsWrapper:dHe,datasetDetailsRow:hHe,label:pHe},mHe=({datasetId:n})=>{var d;const[e,t]=Oe.useState(null),[i,r]=Oe.useState(""),[a,o]=Oe.useState(!0);Oe.useState([]);const s=p=>{const m=p.observations.map(k=>k.period),y=Array.from(new Set(m)).sort(),g=y[0],_=y[y.length-1],T=Array.from(new Set(m)).length,E=Array.from(new Set(p.observations.map(k=>k.featureName).filter(k=>k!=="disease_cases")));return{name:p.name,created:p.created,startPeriod:g,endPeriod:_,orgUnitCount:T,covariates:E}};return Oe.useEffect(()=>{if(console.log("datasetid",n),!n)return;(async()=>{try{console.log("fetching dataset",n);const m=await Gu.getDatasetCrudDatasetsDatasetIdGet(n);console.log("dataset loaded",m);const y=s(m);t(y)}catch(m){r(m)}finally{o(!1)}})()},[n]),a?re.jsxs("div",{className:Hh.datasetLoader,children:[re.jsx(Df,{}),re.jsx("span",{children:"Loading dataset"})]}):i?re.jsxs("p",{children:["Error: ",i]}):re.jsx(h3,{children:re.jsxs("div",{className:Hh.datasetDetailsWrapper,children:[re.jsxs("div",{children:[re.jsx("span",{className:Hh.label,children:"Name: "}),re.jsx("span",{children:e.name})]}),re.jsxs("div",{children:[re.jsx("span",{className:Hh.label,children:"Org Units: "}),re.jsx("span",{children:e.orgUnitCount})]}),re.jsxs("div",{children:[re.jsx("span",{className:Hh.label,children:"Time period: "}),re.jsxs("span",{children:[UL(e.startPeriod)," to ",UL(e.endPeriod)]})]}),re.jsxs("div",{children:[re.jsx("span",{className:Hh.label,children:"Covariates: "}),re.jsx("span",{children:((d=e==null?void 0:e.covariates)==null?void 0:d.join(", "))||"None"})]}),re.jsxs("div",{children:[re.jsx("span",{className:Hh.label,children:"Created: "}),re.jsx("span",{children:e.created})]})]})})},fHe="_modelSelectContainer_1wr0s_1",gHe="_modelSelectTitle_1wr0s_5",yHe="_loadingText_1wr0s_11",vHe="_modelGrid_1wr0s_16",xHe="_modelCard_1wr0s_23",bHe="_selectedModelCard_1wr0s_37",_He="_selectedModelDetails_1wr0s_41",wHe="_modelAuthor_1wr0s_48",THe="_modelAuthorLogo_1wr0s_56",SHe="_modelAuthorName_1wr0s_62",CHe="_modelHumanName_1wr0s_66",EHe="_modelEmail_1wr0s_72",kHe="_modelDescription_1wr0s_77",NHe="_modelCovariates_1wr0s_82",LHe="_modelCovariatesList_1wr0s_87",IHe="_modelCovariateItem_1wr0s_96",AHe="_modelCitation_1wr0s_100",PHe="_modelCitationText_1wr0s_105",DHe="_modelLink_1wr0s_110",Lr={modelSelectContainer:fHe,modelSelectTitle:gHe,loadingText:yHe,modelGrid:vHe,modelCard:xHe,selectedModelCard:bHe,selectedModelDetails:_He,modelAuthor:wHe,modelAuthorLogo:THe,modelAuthorName:SHe,modelHumanName:CHe,modelEmail:EHe,modelDescription:kHe,modelCovariates:NHe,modelCovariatesList:LHe,modelCovariateItem:IHe,modelCitation:AHe,modelCitationText:PHe,modelLink:DHe},GL={name:"Download data (CHAP is offline)",id:0,description:"Download data from the CHAP API",covariates:[],target:{name:"target",description:"target",displayName:""}},sO=({selectedModel:n,setSelectedModel:e})=>{const[t,i]=Oe.useState([]),[r,a]=Oe.useState(!0),[o,s]=Oe.useState(!0),d=async()=>{await Gu.listModelsCrudModelsGet().then(m=>{let y=m.map(g=>(g.covariates=g.covariates.concat(g.target),g));a(!1),i(y)}).catch(m=>{i([GL]),e(GL),a(!1)})},p=m=>{e(m),s(!1)};return Oe.useEffect(()=>{d()},[]),re.jsx("div",{className:Lr.modelSelectContainer,children:r?re.jsx("p",{children:"Loading models..."}):re.jsxs(re.Fragment,{children:[!o&&n&&re.jsxs("div",{children:[re.jsx("h2",{className:Lr.modelSelectTitle,children:"Selected Model"}),re.jsxs("div",{className:Lr.selectedModelDetails,children:[re.jsx("h3",{className:Lr.modelHumanName,children:n.description}),re.jsxs("div",{className:Lr.modelAuthor,children:[re.jsx("span",{children:"Author:"}),re.jsx("img",{src:n.authorLogoUrl||"/public/default-model-logo.png",alt:n.name+" logo",className:Lr.modelAuthorLogo}),re.jsxs("span",{className:Lr.modelAuthorName,children:[n.author," - ",n.organization]})]}),re.jsxs("p",{className:Lr.modelDescription,children:["Description: ",n.description||"Coming soon..."]}),re.jsxs("div",{className:Lr.modelCovariates,children:[re.jsx("span",{children:"Model inputs:"}),re.jsx("ul",{className:Lr.modelCovariatesList,children:n.covariates.map((m,y)=>re.jsxs("li",{className:Lr.modelCovariateItem,children:["✔ ",m.name]},y))})]}),re.jsxs("div",{className:Lr.modelCitation,children:[re.jsx("span",{children:"Attribution:"}),re.jsx("pre",{className:Lr.modelCitationText,children:"Example last name, First name. 1994. 15 Minute Stream Flow Data: USGS (FIFE). Data set. Available on-line [http://www.daac.ornl.gov] from Oak Ridge National Laboratory Distributed Active Archive Center, Oak Ridge, Tennessee, U.S.A."})]}),re.jsxs("p",{className:Lr.modelLink,children:["External link: ",re.jsx("a",{href:n.sourceUrl||"",target:"_blank",children:n.sourceUrl||"http://example.com"})]}),re.jsxs("p",{className:Lr.modelEmail,children:["Contact email: ",n.contactEmail||"example@email.com"]}),!o&&re.jsx("div",{children:re.jsx(vi,{onClick:()=>s(!0),primary:!0,children:"Change Model"})})]},n.name)]}),o&&re.jsxs("div",{children:[re.jsx("h2",{className:Lr.modelSelectTitle,children:"Select a Prediction Model"}),re.jsx("div",{className:Lr.modelGrid,children:t.map(m=>re.jsxs("div",{className:`${Lr.modelCard} ${(n==null?void 0:n.name)===m.name?Lr.selectedModelCard:""}`,children:[re.jsx("h3",{className:Lr.modelHumanName,children:m.description}),re.jsxs("div",{className:Lr.modelAuthor,children:[re.jsx("img",{src:m.authorLogoUrl||"/public/default-model-logo.png",alt:m.name+" logo",className:Lr.modelAuthorLogo}),re.jsxs("span",{className:Lr.modelAuthorName,children:[m.author," - ",m.organization]})]}),re.jsxs("p",{className:Lr.modelUsage,children:["Description: ",m.description||"Coming soon..."]}),re.jsx("ul",{className:Lr.modelCovariatesList,children:m.covariates.map((y,g)=>re.jsxs("li",{className:Lr.modelCovariateItem,children:["✔ ",y.name]},g))}),re.jsx(vi,{onClick:()=>p(m),primary:!0,children:(n==null?void 0:n.name)===m.name?"Selected":"Select Model"})]},m.name))})]})]})})},MHe=({onDrawerClose:n,datasetIdToEvaluate:e})=>{const[t,i]=Oe.useState(""),[r,a]=Oe.useState(void 0),o=()=>{if(console.log("should evaluate",t,e,r),t&&e&&r){const s=Gu.createBacktestCrudBacktestsPost({name:t,datasetId:e,modelId:r.name});console.log("evaluate response",s),n()}};return re.jsx(re.Fragment,{children:re.jsxs("div",{className:n1.formWrapper,children:[re.jsxs("div",{className:n1.newEvaluationTitle,children:[re.jsx("h2",{children:"New evaluation"}),re.jsx(vi,{icon:re.jsx(aT,{}),onClick:n})]}),re.jsx(Pp,{autoComplete:"",label:"Evaluation name",value:t,onChange:s=>i(s.value),helpText:"Name your evaluation",placeholder:"Example: EWARS evaluation, 2020-2024"}),re.jsx("h2",{children:"Dataset Details"}),re.jsx(mHe,{datasetId:e}),re.jsx(sO,{selectedModel:r,setSelectedModel:a}),re.jsx("div",{className:n1.buttons,children:re.jsx(vi,{primary:!0,icon:re.jsx(Yl,{}),onClick:o,children:"Evaluate"})})]})})},OHe=({isOpen:n,setIsOpen:e,datasetIdToEvaluate:t})=>{const i=window.innerWidth<900?"100vw":"1000px";return re.jsx("div",{children:re.jsx(KS,{open:n,onClose:()=>e(!1),direction:"right",size:i,children:re.jsx("div",{className:aHe.drawerWrapper,children:re.jsx(MHe,{onDrawerClose:()=>e(!1),datasetIdToEvaluate:t})})})})},RHe=({evaluationId:n})=>{const[e,t]=Oe.useState(""),[i,r]=Oe.useState([]),[a,o]=Oe.useState(),[s,d]=Oe.useState(),[p,m]=Oe.useState(!1),{orgUnits:y,error:g,loading:_}=e_();Oe.useEffect(()=>{if(y&&s){const T=JA(s.predictions,s.actualCases.data,"");T.forEach(E=>{E.evaluation.forEach(k=>{const v=y==null?void 0:y.organisationUnits.find(w=>w.id===k.orgUnitId);v&&(k.orgUnitName=v.displayName)})}),o(T),r(eP(s.predictions))}},[y,s]);const x=async()=>{m(!0);const T=[.1,.25,.5,.75,.9];try{const[E,k]=await Promise.all([Iy.getEvaluationEntriesAnalyticsEvaluationEntryGet(n,T),Iy.getActualCasesAnalyticsActualCasesBacktestIdGet(n)]),v={predictions:E,actualCases:k};console.log("merged response",v),d(v)}catch(E){t(E.toString())}finally{m(!1)}};return Oe.useEffect(()=>{x()},[]),re.jsxs("div",{children:[e&&re.jsx("p",{children:"Not available"}),p&&re.jsx("p",{children:"Loading.."}),a&&re.jsx(OP,{evaluations:a,splitPeriods:i})]})},$He=({jobPredictions:n})=>{const[e,t]=Oe.useState(!1),[i,r]=Oe.useState(void 0),[a,o]=Oe.useState(!1),[s,d]=Oe.useState(!1),[p,m]=Oe.useState(void 0),[y,g]=Oe.useState(void 0),[_,x]=Oe.useState(!1),[T,E]=Oe.useState(void 0),k=O=>{t(!0),r(O)},v=O=>{d(!0),m(O)},w=O=>{confirm("Are you sure you want to permanently remove this failed job?")==!0&&Gu.deleteFailedJobCrudFailedJobsFailedJobIdDelete(parseInt(O))},N=O=>{x(!0),E(O),alert(`Should show job details in modal (not finished): 

`+O.description)},S=O=>{switch(O){case"In progress..":return js.inProgress;case"active":return js.notStarted;case"Failed":return js.failed;default:return js.completed}},L=O=>{console.log("clicked evaluate dataset id",O),g(O),o(!0)};return console.log("socalled jobPredictions",n),re.jsxs(re.Fragment,{children:[n.map((O,Y)=>re.jsx("div",{className:js.boxPanel,children:re.jsxs("div",{className:js.jobPredictionPanelContainer,children:[re.jsx("div",{className:js.flexMedium,children:O.name}),re.jsx("div",{className:js.flexMedium,children:O.created.toDateString()+", "+O.created.toLocaleTimeString().slice(0,5)}),re.jsx("div",{className:js.flexMedium,children:re.jsx("span",{className:S(O.status),children:O.status.replaceAll("active","In progress..")})}),re.jsx("div",{className:js.flexItemRight,children:{prediction:re.jsx(re.Fragment,{children:re.jsx(vi,{icon:re.jsx(Yl,{}),onClick:()=>k(O.id),small:!0,children:"Import prediction"})}),job:re.jsx(re.Fragment,{children:O.status=="Failed"&&re.jsx(iHe,{jobPrediction:O,onClickJobDetails:N,onClickRemoveFailed:w})}),dataset:re.jsx(re.Fragment,{children:re.jsx(vi,{icon:re.jsx(Yl,{}),onClick:()=>L(O.id),small:!0,children:"Evaluate"})}),evaluation:re.jsx(re.Fragment,{children:re.jsx(vi,{icon:re.jsx(Yl,{}),onClick:()=>v(O.id),small:!0,children:"View"})})}[O.type]})]})},Y)),e&&re.jsx(eHe,{setIsImportModalOpen:t,isImportModalOpen:e,predictionIdToImport:i}),re.jsx(OHe,{isOpen:a,setIsOpen:o,datasetIdToEvaluate:y}),s&&re.jsx(Jy,{className:js.evaluationModal,onClose:()=>{d(!1)},children:re.jsx(RHe,{evaluationId:p})})]})},zHe=()=>re.jsx("div",{children:re.jsxs("div",{className:[js.jobPredictionPanelContainer,js.resultTextHeader].join(" "),children:[re.jsx("div",{className:js.flexMedium,children:"Name:"}),re.jsx("div",{className:js.flexMedium,children:"Created:"}),re.jsx("div",{className:js.flexMedium,children:"Status:"}),re.jsx("div",{className:js.flexItemRight})]})}),FHe="_noticeBox_18bg1_1",jHe="_details_18bg1_8",BHe="_button_18bg1_14",i1={noticeBox:FHe,details:jHe,button:BHe},YL=({error:n,type:e})=>{const[t,i]=Oe.useState(!1);return n==null?re.jsx(re.Fragment,{}):re.jsx("div",{children:re.jsxs(rT,{error:!0,title:`Unable to retrieve ${e}s. Please try again later.`,className:i1.noticeBox,children:[re.jsx("div",{className:i1.button,children:re.jsx(vi,{small:!0,onClick:()=>i(!t),children:t?"Hide details":"See details"})}),t&&re.jsx("div",{className:i1.details,children:re.jsx("div",{children:n})})]})})},UHe="_loaderWrapper_iu471_1",GHe="_textLoad_iu471_8",YHe="_loader_iu471_1",r1={loaderWrapper:UHe,textLoad:GHe,loader:YHe},VHe=({type:n})=>re.jsxs(re.Fragment,{children:[re.jsx("div",{className:r1.loaderWrapper,children:re.jsx("div",{className:r1.loader,children:re.jsx(Df,{})})}),re.jsx("p",{className:r1.textLoad,children:re.jsxs("i",{children:["Loading ",n]})})]}),WHe="_text_3x5i9_1",qHe={text:WHe},HHe=({type:n})=>re.jsxs("div",{className:qHe.text,children:["No ",n," found"]}),iT=({type:n})=>{const[e,t]=Oe.useState([]),[i,r]=Oe.useState([]),[a,o]=Oe.useState([]),[s,d]=Oe.useState([]),[p,m]=Oe.useState([]),[y,g]=Oe.useState(),[_,x]=Oe.useState(),[T,E]=Oe.useState(!0),k=()=>{switch(console.log("should fetch",n),n){case"predictions":return L(Gu.getPredictionsCrudPredictionsGet()).then(Y=>r(Y));case"datasets":return L(Gu.getDatasetsCrudDatasetsGet()).then(Y=>o(Y));case"evaluations":return L(Gu.getBacktestsCrudBacktestsGet()).then(Y=>d(Y))}},v=async(Y,X)=>{const H=await w();if(Y&&(await k(),t(H),E(!1)),JSON.stringify(H)===JSON.stringify(X))return v(!1,H);await new Promise($=>setTimeout($,4e3)),await k(),t(H),v(!1,H)},w=async()=>{const[Y,X]=await Promise.all([N(),S()]);return[...Y,...X]},N=async()=>{let Y=[];for(let X=0;X<6;X++)try{Y=await E5.listJobsJobsGet();break}catch(H){if(X===2)return g((H==null?void 0:H.message)??"Couldn't fetch jobs"),[]}return g(void 0),Y},S=async()=>{let Y=[];for(let H=0;H<6;H++)try{Y=await Gu.getFailedJobsCrudFailedJobsGet();break}catch($){if(H===2)return g(($==null?void 0:$.message)??"Couldn't fetch failed jobs"),[]}const X=Y.map(H=>({id:H.id.toString(),description:H.message,status:"Failed",start_time:H.created,hostname:"unknown",type:"job"}));return g(void 0),X},L=async Y=>{for(let X=0;X<5;X++)try{const H=await Y;return x(void 0),H}catch(H){if(X===4)return x((H==null?void 0:H.message)??`Couldn't fetch ${n}`),[]}};Oe.useEffect(()=>{m(O())},[e,i,s,a]),Oe.useEffect(()=>{v(!0,[])},[]);const O=()=>{const Y=[];a.forEach(H=>{Y.push({id:H.id.toString(),name:H.name,created:new Date(H.created??""),type:"dataset",status:"Completed"})}),s.forEach(H=>{Y.push({id:H.id.toString(),name:H.name??"",created:new Date(H.timestamp??""),type:"evaluation",status:"Completed"})}),i.forEach(H=>{Y.push({id:H.id.toString(),name:H.name,created:new Date(H.created),type:"prediction",status:"Completed",datasetId:H.datasetId,estimatorId:H.modelId,nPeriods:H.nPeriods})});const X={predictions:"prediction",datasets:"create_dataset",evaluations:"backtest"};return e.filter(H=>H.type==X[n]).forEach(H=>{Y.push({id:H.id,name:"Job",created:new Date(H.start_time),type:"job",status:H.status,hostname:H.start_time,description:H.description})}),Y.sort((H,$)=>$.created.getTime()-H.created.getTime()),Y};return console.log("results for",n,p),re.jsxs("div",{children:[re.jsx(YL,{error:y,type:"job"}),re.jsx(YL,{error:_,type:n}),T&&re.jsx(VHe,{type:n}),p.length>0&&re.jsx(zHe,{}),p.length==0&&!T&&re.jsx(HHe,{type:n}),re.jsx($He,{jobPredictions:p})]})},XHe=()=>{const[n,e]=Oe.useState(!1),t=()=>{e(!1)};return re.jsxs("div",{children:[re.jsx(nT,{pageTitle:"Datasets",setDrawerOpenText:"New Dataset",setDrawerOpen:e}),re.jsx(iT,{type:"datasets"}),re.jsx(bqe,{isOpen:n,onDrawerClose:()=>e(!1),onDrawerSubmit:t}),re.jsx(nT,{pageTitle:"Evaluations"}),re.jsx(iT,{type:"evaluations"})]})},ZHe=()=>re.jsx(XHe,{}),KHe="_drawerWrapper_g5ang_1",QHe={drawerWrapper:KHe},JHe="_formWrapper_1wb8p_1",eXe="_newPredictionForm_1wb8p_8",tXe="_newPredictionTitle_1wb8p_12",a1={formWrapper:JHe,newPredictionForm:eXe,newPredictionTitle:tXe},nXe=({onDrawerClose:n,onDrawerSubmit:e})=>{const[t,i]=Oe.useState([]),[r,a]=Oe.useState([]),[o,s]=Oe.useState([]),[d,p]=Oe.useState(void 0),[m,y]=Oe.useState(""),[g,_]=Oe.useState(void 0);return Oe.useEffect(()=>{if(g==null)return;const x=g.covariates.map(T=>({feature:T.name,origin:"",dataSource:""}));i(x)},[g]),re.jsx(re.Fragment,{children:re.jsxs("div",{className:a1.newPredictionForm,children:[re.jsxs("div",{className:a1.newPredictionTitle,children:[re.jsx("h2",{children:"New prediction"}),re.jsx(vi,{icon:re.jsx(aT,{}),onClick:n})]}),re.jsxs("div",{className:a1.formWrapper,children:[re.jsx(Pp,{autoComplete:"",label:"Name of prediction",value:m,onChange:x=>y(x.value),placeholder:"Prediction for Northern province"}),re.jsx(sO,{selectedModel:g,setSelectedModel:_}),re.jsx(aO,{setDataLayers:i,datasetLayers:t,predictMode:!0}),re.jsx(nO,{setTimePeriods:s}),re.jsx(iO,{orgUnits:r,setOrgUnits:a,orgUnitLevel:d,setOrgUnitLevel:p}),re.jsx(rO,{onDrawerSubmit:e,selectedModel:g,name:m,dataLayers:t,onSendAction:"predict",orgUnitLevel:d,selectedPeriodItems:o,selectedOrgUnits:r})]})]})})},iXe=({onDrawerClose:n,isOpen:e,onDrawerSubmit:t})=>{const i=window.innerWidth<900?"100vw":"1000px";return re.jsx("div",{children:re.jsx(KS,{open:e,onClose:n,direction:"right",size:i,children:re.jsx("div",{className:QHe.drawerWrapper,children:re.jsx(nXe,{onDrawerClose:n,onDrawerSubmit:t})})})})},rXe=()=>{const[n,e]=Oe.useState(!1),[t,i]=Oe.useState(!1),r=()=>{i(!1),e(!1)};return Oe.useEffect(()=>{i(!0)},[t]),re.jsxs("div",{children:[re.jsx(nT,{setDrawerOpen:e,pageTitle:"Import Predictions",setDrawerOpenText:"New prediction"}),re.jsx(iXe,{isOpen:n,onDrawerClose:()=>e(!1),onDrawerSubmit:r}),t&&re.jsx(iT,{type:"predictions"})]})},aXe=({setIsLoadingRouteConfig:n})=>{var o;const{error:e,loading:t,url:i,fetching:r}=JM("backend-url"),a=cu();return t?re.jsx(re.Fragment,{children:"Loading..."}):((!i||((o=URL.parse(i))==null?void 0:o.origin)===a.baseUrl)&&(console.log("Adding credentials to OpenAPI"),Vn.WITH_CREDENTIALS=!0),i?(console.log("Setting OpenAPI url to: ",i),Vn.BASE=i):Vn.BASE=a.baseUrl+"/api/routes/chap/run",n(!1),re.jsx(re.Fragment,{}))},sXe=E4([{path:"route",errorElement:re.jsx(qw,{}),children:[{path:"create-route",element:re.jsx(RVe,{})}]},{path:"old",element:re.jsx(zY,{}),errorElement:re.jsx(qw,{}),children:[{path:"predict",element:re.jsx(W7e,{})},{path:"results",element:re.jsx(wVe,{})},{path:"settings",element:re.jsx(CVe,{})},{path:"status",element:re.jsx(cWe,{})},{path:"route-settings",element:re.jsx(WVe,{})}]},{path:"",errorElement:re.jsx(qw,{}),children:[{path:"/",element:re.jsx(e4,{to:"/evaluate",replace:!0})},{path:"/evaluate",element:re.jsx(Kw,{component:re.jsx(ZHe,{})})},{path:"/import",element:re.jsx(Kw,{component:re.jsx(rXe,{})})},{path:"/settings",element:re.jsx(Kw,{component:re.jsx(eO,{})})}]}]),dXe=()=>{const[n,e]=Oe.useState(!0);return re.jsxs(re.Fragment,{children:[re.jsx(aXe,{setIsLoadingRouteConfig:e}),!n&&re.jsx(z4,{router:sXe})]})};export{dXe as default};
