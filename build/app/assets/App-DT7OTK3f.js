import{P as de,c as je,e as ny,l as iN,s as WO,a as Bt,b as HO,t as Wt,r as We,R as Se,_ as Pt,d as Nr,m as XO,f as _a,B as $a,S as rN,g as $C,L as aN,h as sN,C as Vb,I as oN,i as ZO,j as dt,F as lN,k as KO,u as cN,n as QO,o as uN,p as Ao,q as JO,v as eR,w as tR,x as nR,y as iR,z as rR,A as _f,D as Ye,N as aR,M as dN,E as qb,G as bo,H as Kl,J as hN,K as $x,O as sR,Q as oR,T as lR,U as cR,V as uR}from"./main-ATfYAyyn.js";const dR=n=>typeof n>"u"||n===null||n==="",zC=(n,e,t)=>(i,r,a)=>{const o=i[r];return t?new Error(`Property \`${r}\` on component \`${a}\` is using the \`requiredIf\` prop-validator combined with \`.isRequired\`. This is an invalid combination.`):typeof n!="function"?new Error("The `condition` argument passed to the `requiredIf` prop-validator was not a function."):typeof e!="function"?new Error("The `propType` argument passed to the `requiredIf` prop-validator was not a function."):n(i)&&dR(o)?new Error(`Invalid prop \`${r}\` supplied to \`${a}\`, this prop is conditionally required but has value \`${o}\`. The condition that made this prop required is: \`${n.toString()}\`.`):(de.checkPropTypes({[r]:e},i,"prop",a),null)};function Rm(n,e){const t=zC(n,e,!1);return t.isRequired=zC(n,e,!0),t}const hR=Object.freeze(Object.defineProperty({__proto__:null,colors:je,elevations:ny,layers:iN,sharedPropTypes:WO,spacers:Bt,spacersNum:HO,theme:Wt},Symbol.toStringTag,{value:"Module"}));function pN(n){let{color:e,dataTest:t,ariaLabel:i}=n;return We.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},We.createElement("path",{d:"M12 3a1 1 0 011 1v7h7a1 1 0 010 2h-7v7a1 1 0 01-2 0v-7H4a1 1 0 010-2h7V4a1 1 0 011-1z",fill:"currentColor",fillRule:"evenodd"}))}pN.propTypes={color:de.string,dataTest:de.string,ariaLabel:de.string};function mN(n){let{color:e,dataTest:t,ariaLabel:i}=n;return We.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},We.createElement("path",{d:"M9.284 2.589l.07.057 5 5 .011.013a.503.503 0 01.033.039l-.044-.052A.502.502 0 0114.5 8v.02a.503.503 0 01-.005.052L14.5 8a.502.502 0 01-.089.284l-.013.018a.503.503 0 01-.033.04l-.011.012-5 5a.5.5 0 01-.765-.638l.057-.07L12.793 8.5H2a.5.5 0 01-.09-.992L2 7.5h10.793L8.646 3.354a.5.5 0 01-.057-.638l.057-.07a.5.5 0 01.638-.057z",fill:"currentColor"}))}mN.propTypes={color:de.string,dataTest:de.string,ariaLabel:de.string};function Gm(n){let{color:e,dataTest:t,ariaLabel:i}=n;return We.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},We.createElement("path",{d:"M13.613 5.21l.094.083 6 6a1 1 0 01.083 1.32l-.083.094-6 6a1 1 0 01-1.497-1.32l.083-.094L16.584 13H5a1 1 0 01-.117-1.993L5 11h11.586l-4.293-4.293a1 1 0 01-.083-1.32l.083-.094a1 1 0 011.32-.083z",fill:"currentColor"}))}Gm.propTypes={color:de.string,dataTest:de.string,ariaLabel:de.string};function fN(n){let{color:e,dataTest:t,ariaLabel:i}=n;return We.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},We.createElement("path",{d:"M4.146 6.146a.5.5 0 01.638-.057l.07.057L8 9.293l3.146-3.147a.5.5 0 01.638-.057l.07.057a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 010-.708z",fill:"currentColor"}))}fN.propTypes={color:de.string,dataTest:de.string,ariaLabel:de.string};function gN(n){let{color:e,dataTest:t,ariaLabel:i}=n;return We.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},We.createElement("path",{d:"M9.146 4.146a.5.5 0 01.765.638l-.057.07L6.707 8l3.147 3.146a.5.5 0 01.057.638l-.057.07a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 01-.057-.638l.057-.07z",fill:"currentColor"}))}gN.propTypes={color:de.string,dataTest:de.string,ariaLabel:de.string};function yN(n){let{color:e,dataTest:t,ariaLabel:i}=n;return We.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},We.createElement("path",{d:"M6.146 4.146a.5.5 0 01.638-.057l.07.057 3.5 3.5a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.765-.638l.057-.07L9.293 8 6.146 4.854a.5.5 0 01-.057-.638z",fill:"currentColor"}))}yN.propTypes={color:de.string,dataTest:de.string,ariaLabel:de.string};function S1(n){let{color:e,dataTest:t,ariaLabel:i}=n;return We.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},We.createElement("path",{d:"M20 14a1 1 0 01.993.883L21 15v3a3 3 0 01-2.824 2.995L18 21H6a3 3 0 01-2.995-2.824L3 18v-3a1 1 0 011.993-.117L5 15v3a1 1 0 00.883.993L6 19h12a1 1 0 00.993-.883L19 18v-3a1 1 0 011-1zM12 3a1 1 0 01.993.883L13 4v9.584l2.293-2.291a1 1 0 011.32-.083l.094.083a1 1 0 01.083 1.32l-.083.094-4 4a1 1 0 01-1.32.083l-.094-.083-4-4a1 1 0 011.32-1.497l.094.083L11 13.584V4a1 1 0 011-1z",fill:"currentColor"}))}S1.propTypes={color:de.string,dataTest:de.string,ariaLabel:de.string};function vN(n){let{color:e,dataTest:t,ariaLabel:i}=n;return We.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},We.createElement("path",{d:"M10.613 2.624l.094.083 2.586 2.586a1 1 0 01.083 1.32l-.083.094L6 14H2v-4l7.293-7.293a1 1 0 011.32-.083zm-.613.79l-6.793 6.792 2.585 2.585L12.586 6z",fill:"currentColor"}))}vN.propTypes={color:de.string,dataTest:de.string,ariaLabel:de.string};function xN(n){let{color:e,dataTest:t,ariaLabel:i}=n;return We.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},We.createElement("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 100 16 8 8 0 000-16zm0 11a1 1 0 110 2 1 1 0 010-2zm1-8v6h-2V7z",fill:"currentColor"}))}xN.propTypes={color:de.string,dataTest:de.string,ariaLabel:de.string};function bN(n){let{color:e,dataTest:t,ariaLabel:i}=n;return We.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},We.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm0 1a6 6 0 100 12A6 6 0 008 2zm.5 5v4H10v1H6v-1h1.5V7zM8 4a.75.75 0 110 1.5A.75.75 0 018 4z",fill:"currentColor"}))}bN.propTypes={color:de.string,dataTest:de.string,ariaLabel:de.string};function C1(n){let{color:e,dataTest:t,ariaLabel:i}=n;return We.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},We.createElement("path",{d:"M15 3l6 6v10a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2zm-.829 2H13v2a2 2 0 01-2 2H5v10h2v-4a2 2 0 012-2h6a2 2 0 012 2v4h2V9.829zM15 15H9v4h6zM11 5H5v2h6z",fill:"currentColor"}))}C1.propTypes={color:de.string,dataTest:de.string,ariaLabel:de.string};function _N(n){let{color:e,dataTest:t,ariaLabel:i}=n;return We.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},We.createElement("path",{d:"M20 14a1 1 0 01.993.883L21 15v3a3 3 0 01-2.824 2.995L18 21H6a3 3 0 01-2.995-2.824L3 18v-3a1 1 0 011.993-.117L5 15v3a1 1 0 00.883.993L6 19h12a1 1 0 00.993-.883L19 18v-3a1 1 0 011-1zM12 4h.02c.023 0 .046.002.07.004L12 4a1.008 1.008 0 01.625.22l.082.073 4 4a1 1 0 01-1.32 1.497l-.094-.083L13 7.415V16a1 1 0 01-1.993.117L11 16V7.413L8.707 9.707a1 1 0 01-1.32.083l-.094-.083a1 1 0 01-.083-1.32l.083-.094 4-4 .082-.073.008-.007-.09.08A1.008 1.008 0 0111.982 4H12z",fill:"currentColor"}))}_N.propTypes={color:de.string,dataTest:de.string,ariaLabel:de.string};const go=["svg.jsx-4069423049{display:block;pointer-events:none;}",`svg.jsx-4069423049 .border.jsx-4069423049{fill:${je.grey800};}`,`svg.jsx-4069423049 .background.jsx-4069423049,svg.jsx-4069423049 .indeterminate.jsx-4069423049,svg.jsx-4069423049 .checkmark.jsx-4069423049{fill:${je.white};}`,`svg.checked.jsx-4069423049 .background.jsx-4069423049,svg.indeterminate.jsx-4069423049 .background.jsx-4069423049{fill:${je.teal500};}`,`svg.valid.jsx-4069423049 .background.jsx-4069423049{fill:${je.blue600};}`,`svg.warning.jsx-4069423049 .background.jsx-4069423049{fill:${je.yellow700};}`,`svg.error.jsx-4069423049 .background.jsx-4069423049{fill:${je.red500};}`,`svg.checked.jsx-4069423049 .border.jsx-4069423049,svg.indeterminate.jsx-4069423049 .border.jsx-4069423049{fill:${je.teal900};}`,"svg.jsx-4069423049:not(.checked) .checkmark.jsx-4069423049,svg.jsx-4069423049:not(.indeterminate) .indeterminate.jsx-4069423049{fill:none;}",`svg.jsx-4069423049:not(.checked):not(.indeterminate) .background.jsx-4069423049{fill:${je.white};}`];go.__hash="4069423049";function wN(n){let{className:e}=n;return Se.createElement("svg",{viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",className:`jsx-${go.__hash} `+Pt.dynamic([["2753140462",[je.grey300,je.grey400,je.blue600,je.blue700,je.yellow700,je.yellow800,je.red500,je.red700]]])+" "+(e||"")},Se.createElement("rect",{x:"0",y:"0",width:"18",height:"18",rx:"3",className:`jsx-${go.__hash} `+Pt.dynamic([["2753140462",[je.grey300,je.grey400,je.blue600,je.blue700,je.yellow700,je.yellow800,je.red500,je.red700]]])+" background"}),Se.createElement("path",{d:"M15,0 C16.6568542,0 18,1.34314575 18,3 L18,15 C18,16.6568542 16.6568542,18 15,18 L3,18 C1.34314575,18 0,16.6568542 0,15 L0,3 C0,1.34314575 1.34314575,0 3,0 L15,0 Z M15,1 L3,1 C1.9456382,1 1.08183488,1.81587779 1.00548574,2.85073766 L1,3 L1,15 C1,16.0543618 1.81587779,16.9181651 2.85073766,16.9945143 L3,17 L15,17 C16.0543618,17 16.9181651,16.1841222 16.9945143,15.1492623 L17,15 L17,3 C17,1.9456382 16.1841222,1.08183488 15.1492623,1.00548574 L15,1 Z",className:`jsx-${go.__hash} `+Pt.dynamic([["2753140462",[je.grey300,je.grey400,je.blue600,je.blue700,je.yellow700,je.yellow800,je.red500,je.red700]]])+" border"}),Se.createElement("path",{d:"M4.74451387,8.02852516 C4.39595738,8.11985643 4.12375034,8.39235188 4.03251575,8.74127768 C3.94128115,9.09020348 4.04521722,9.46125864 4.30437605,9.71182782 L7.29823844,12.7078028 C7.68753993,13.0973991 8.31859767,13.0973991 8.70789916,12.7078028 L13.695624,6.71585285 C13.9547828,6.46528367 14.0587189,6.09422851 13.9674843,5.74530271 C13.8762497,5.39637691 13.6040426,5.12388146 13.2554861,5.0325502 C12.9069296,4.94121893 12.5362672,5.04526513 12.2859632,5.30469855 L8.0030688,10.5910713 L5.71403676,8.30067351 C5.46373279,8.0412401 5.09307036,7.9371939 4.74451387,8.02852516 Z",className:`jsx-${go.__hash} `+Pt.dynamic([["2753140462",[je.grey300,je.grey400,je.blue600,je.blue700,je.yellow700,je.yellow800,je.red500,je.red700]]])+" checkmark"}),Se.createElement("rect",{x:"4",y:"8",width:"10",height:"2",rx:"1",className:`jsx-${go.__hash} `+Pt.dynamic([["2753140462",[je.grey300,je.grey400,je.blue600,je.blue700,je.yellow700,je.yellow800,je.red500,je.red700]]])+" indeterminate"}),Se.createElement(Pt,{id:go.__hash},go),Se.createElement(Pt,{id:"2753140462",dynamic:[je.grey300,je.grey400,je.blue600,je.blue700,je.yellow700,je.yellow800,je.red500,je.red700]},["svg.__jsx-style-dynamic-selector{width:18px;height:18px;}",`svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:${je.grey300};}`,`svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.grey400};}`,`svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.blue600};}`,`svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.blue700};}`,`svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.yellow700};}`,`svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.yellow800};}`,`svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.red500};}`,`svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.red700};}`]))}wN.propTypes={className:de.string};function TN(n){let{className:e}=n;return Se.createElement("svg",{viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",className:`jsx-${go.__hash} `+Pt.dynamic([["86695588",[je.grey400,je.grey400,je.grey500,je.blue600,je.blue800,je.yellow700,je.yellow800,je.red500,je.red800]]])+" "+(e||"")},Se.createElement("rect",{x:"0",y:"0",width:"14",height:"14",rx:"2",className:`jsx-${go.__hash} `+Pt.dynamic([["86695588",[je.grey400,je.grey400,je.grey500,je.blue600,je.blue800,je.yellow700,je.yellow800,je.red500,je.red800]]])+" background"}),Se.createElement("path",{d:"M2,0 L12,0 C13.1045695,0 14,0.8954305 14,2 L14,12 C14,13.1045695 13.1045695,14 12,14 L2,14 C0.8954305,14 0,13.1045695 0,12 L0,2 C0,0.8954305 0.8954305,0 2,0 Z M2,1 C1.44771525,1 1,1.44771525 1,2 L1,12 C1,12.5522847 1.44771525,13 2,13 L12,13 C12.5522847,13 13,12.5522847 13,12 L13,2 C13,1.44771525 12.5522847,1 12,1 L2,1 Z",className:`jsx-${go.__hash} `+Pt.dynamic([["86695588",[je.grey400,je.grey400,je.grey500,je.blue600,je.blue800,je.yellow700,je.yellow800,je.red500,je.red800]]])+" border"}),Se.createElement("path",{d:"M10.3520005,3.30015877 L5.54268293,8.03252726 L3.64634146,6.16652726 L2.28668615,7.5044281 L5.54310367,10.7010587 L11.7145993,4.628307 L10.3520005,3.30015877 Z M5.54268293,9.43547274 L5.61193184,9.36733181 L5.54226219,9.29894127 L5.47309681,9.367 L5.54268293,9.43547274 Z M10.6496329,4.41023392 L10.6495057,4.35652297 L10.5648412,4.35672356 L10.2854007,4.631693 L10.3553166,4.69984123 L10.6496329,4.41023392 Z M3.42891348,7.22439304 L3.35030905,7.22439304 L3.35034135,7.27820863 L3.64634146,7.56947274 L3.71331385,7.5035719 L3.42891348,7.22439304 Z",className:`jsx-${go.__hash} `+Pt.dynamic([["86695588",[je.grey400,je.grey400,je.grey500,je.blue600,je.blue800,je.yellow700,je.yellow800,je.red500,je.red800]]])+" checkmark"}),Se.createElement("rect",{x:"3",y:"6",width:"8",height:"2",className:`jsx-${go.__hash} `+Pt.dynamic([["86695588",[je.grey400,je.grey400,je.grey500,je.blue600,je.blue800,je.yellow700,je.yellow800,je.red500,je.red800]]])+" indeterminate"}),Se.createElement(Pt,{id:go.__hash},go),Se.createElement(Pt,{id:"86695588",dynamic:[je.grey400,je.grey400,je.grey500,je.blue600,je.blue800,je.yellow700,je.yellow800,je.red500,je.red800]},["svg.__jsx-style-dynamic-selector{width:14px;height:14px;}",`svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:${je.grey400};}`,`svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.grey400};}`,`svg.disabled.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.disabled.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.grey500};}`,`svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.blue600};}`,`svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.blue800};}`,`svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.yellow700};}`,`svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.yellow800};}`,`svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.red500};}`,`svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${je.red800};}`]))}TN.propTypes={className:de.string};function Nm(n,e,t){return(e=pR(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pR(n){var e=mR(n,"string");return typeof e=="symbol"?e:e+""}function mR(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class Wb extends We.Component{constructor(){super(...arguments),Nm(this,"ref",We.createRef()),Nm(this,"handleChange",e=>{this.props.onChange&&this.props.onChange(this.createHandlerPayload(),e)}),Nm(this,"handleBlur",e=>{this.props.onBlur&&this.props.onBlur(this.createHandlerPayload(),e)}),Nm(this,"handleFocus",e=>{this.props.onFocus&&this.props.onFocus(this.createHandlerPayload(),e)}),Nm(this,"handleKeyDown",e=>{this.props.onKeyDown&&this.props.onKeyDown(this.createHandlerPayload(),e)})}componentDidMount(){this.props.initialFocus&&this.ref.current.focus(),this.setIndeterminate(this.props.indeterminate)}componentDidUpdate(e){e.indeterminate!==this.props.indeterminate&&this.setIndeterminate(this.props.indeterminate)}setIndeterminate(e){this.ref.current.indeterminate=e}createHandlerPayload(){return{value:this.props.value,name:this.props.name,checked:!this.props.checked}}render(){const{checked:e=!1,indeterminate:t=!1,className:i,disabled:r,error:a,label:o,name:s,tabIndex:h,valid:p,value:f,warning:y,dense:g,dataTest:_="dhis2-uicore-checkbox"}=this.props,b=Nr({checked:e,indeterminate:t,disabled:r,valid:p,error:a,warning:y});return Se.createElement("label",{"data-test":_,className:Pt.dynamic([["1252368010",[je.grey900,Wt.disabled,Bt.dp4,Wt.focus]]])+" "+(Nr(i,{disabled:r,dense:g})||"")},Se.createElement("input",{type:"checkbox",ref:this.ref,name:s,value:f,checked:e,disabled:r,tabIndex:h,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,className:Pt.dynamic([["1252368010",[je.grey900,Wt.disabled,Bt.dp4,Wt.focus]]])}),Se.createElement("div",{className:Pt.dynamic([["1252368010",[je.grey900,Wt.disabled,Bt.dp4,Wt.focus]]])+" "+(Nr("icon",{dense:g})||"")},g?Se.createElement(TN,{className:b}):Se.createElement(wN,{className:b})),o,Se.createElement(Pt,{id:"1252368010",dynamic:[je.grey900,Wt.disabled,Bt.dp4,Wt.focus]},[`label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;cursor:pointer;color:${je.grey900};font-size:14px;line-height:19px;}`,"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}",`label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:${Wt.disabled};}`,"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:18px;inset-inline-start:3px;}","label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:14px;}",`.icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-inline-end:${Bt.dp4};border:2px solid transparent;padding:1px;border-radius:5px;}`,"label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-inline-end:3px;border-radius:4px;}",`input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{outline:3px solid ${Wt.focus};outline-offset:-3px;}`]))}}Nm(Wb,"defaultProps",{checked:!1,indeterminate:!1,dataTest:"dhis2-uicore-checkbox"});const FC=XO(["checked","indeterminate"],de.bool);Wb.propTypes={checked:FC,className:de.string,dataTest:de.string,dense:de.bool,disabled:de.bool,error:_a,indeterminate:FC,initialFocus:de.bool,label:de.node,name:de.string,tabIndex:de.string,valid:_a,value:de.string,warning:_a,onBlur:de.func,onChange:de.func,onFocus:de.func,onKeyDown:de.func};function Fh(n,e,t){return(e=fR(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fR(n){var e=gR(n,"string");return typeof e=="symbol"?e:e+""}function gR(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class E1 extends We.Component{constructor(){super(...arguments),Fh(this,"ref",We.createRef()),Fh(this,"handleClick",()=>{this.ref.current.click()}),Fh(this,"handleChange",e=>{this.props.onChange&&this.props.onChange(this.createHandlerPayload(),e),this.ref.current.value=""}),Fh(this,"handleBlur",e=>{this.props.onBlur&&this.props.onBlur(this.createHandlerPayload(),e)}),Fh(this,"handleFocus",e=>{this.props.onFocus&&this.props.onFocus(this.createHandlerPayload(),e)}),Fh(this,"handleKeyDown",e=>{this.props.onKeyDown&&this.props.onKeyDown(this.createHandlerPayload(),e)})}createHandlerPayload(){return{files:this.ref.current.files,name:this.props.name}}render(){const{accept:e="*",buttonLabel:t,className:i,dataTest:r="dhis2-uicore-fileinput",disabled:a,error:o,initialFocus:s,large:h,multiple:p,name:f,small:y,tabIndex:g,valid:_,warning:b}=this.props;return Se.createElement("div",{"data-test":r,className:Pt.dynamic([["1746996489",[Bt.dp8,Bt.dp4]]])+" "+(Nr("file-input",i)||"")},Se.createElement("div",{className:Pt.dynamic([["1746996489",[Bt.dp8,Bt.dp4]]])},Se.createElement("input",{id:f,name:f,type:"file",ref:this.ref,onChange:this.handleChange,accept:e,multiple:p,disabled:a,"data-test":`${r}-input`,className:Pt.dynamic([["1746996489",[Bt.dp8,Bt.dp4]]])}),Se.createElement($a,{disabled:a,icon:Se.createElement(_N,{color:je.grey700}),initialFocus:s,large:h,onBlur:this.handleBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,small:y,tabIndex:g,type:"button"},t)),Se.createElement(rN,{error:o,valid:_,warning:b}),Se.createElement(Pt,{id:"1746996489",dynamic:[Bt.dp8,Bt.dp4]},["input.__jsx-style-dynamic-selector{display:none;}",`.file-input.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:${Bt.dp8};padding-bottom:${Bt.dp4};}`]))}}Fh(E1,"defaultProps",{accept:"*",dataTest:"dhis2-uicore-fileinput"});E1.propTypes={accept:de.string,buttonLabel:de.string,className:de.string,dataTest:de.string,disabled:de.bool,error:_a,initialFocus:de.bool,large:$C,multiple:de.bool,name:de.string,small:$C,tabIndex:de.string,valid:_a,warning:_a,onBlur:de.func,onChange:de.func,onFocus:de.func,onKeyDown:de.func};var yR=void 0;const vR=(n,e,t)=>{let i;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];const s=yR,h=()=>{i=null,n.apply(s,a)};clearTimeout(i),i=setTimeout(h,e)}},SN=n=>{let{dataTest:e,onToggle:t,children:i,tabIndex:r="0",error:a,warning:o,valid:s,disabled:h,dense:p,className:f,inputRef:y}=n;const g=Nr(f,"root",{error:a,warning:o,valid:s,disabled:h,dense:p});return Se.createElement("div",{onClick:t,tabIndex:r,ref:y,"data-test":e,className:Pt.dynamic([["1568723238",[je.grey500,Wt.focus,Wt.focus,Wt.valid,Wt.warning,Wt.error,je.grey100,je.grey500,Wt.disabled]]])+" "+(g||"")},Se.createElement("div",{className:Pt.dynamic([["1568723238",[je.grey500,Wt.focus,Wt.focus,Wt.valid,Wt.warning,Wt.error,je.grey100,je.grey500,Wt.disabled]]])+" root-children"},i),Se.createElement("div",{className:Pt.dynamic([["1568723238",[je.grey500,Wt.focus,Wt.focus,Wt.valid,Wt.warning,Wt.error,je.grey100,je.grey500,Wt.disabled]]])+" root-right"},Se.createElement(fN,null)),Se.createElement(Pt,{id:"1568723238",dynamic:[je.grey500,Wt.focus,Wt.focus,Wt.valid,Wt.warning,Wt.error,je.grey100,je.grey500,Wt.disabled]},[`.root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:white;border-radius:3px;border:1px solid ${je.grey500};box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:40px;padding-block:6px;padding-inline:12px;box-shadow:inset 0 0 1px 0 rgba(48,54,60,0.1);}`,`.root.__jsx-style-dynamic-selector:not(.disabled):focus,.root.__jsx-style-dynamic-selector:not(.disabled):active{outline:none;box-shadow:inset 0 0 0 2px ${Wt.focus};border-color:${Wt.focus};}`,`.root.valid.__jsx-style-dynamic-selector{border-color:${Wt.valid};}`,`.root.warning.__jsx-style-dynamic-selector{border-color:${Wt.warning};}`,`.root.error.__jsx-style-dynamic-selector{border-color:${Wt.error};}`,`.root.disabled.__jsx-style-dynamic-selector{background-color:${je.grey100};border-color:${je.grey500};color:${Wt.disabled};cursor:not-allowed;}`,".root.dense.__jsx-style-dynamic-selector{padding-block:2px;padding-inline:8px;min-height:32px;}",".root-children.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".root-right.__jsx-style-dynamic-selector{margin-block-start:4px;margin-inline-start:8px;}"]))};SN.propTypes={dataTest:de.string.isRequired,inputRef:de.object.isRequired,onToggle:de.func.isRequired,children:de.element,className:de.string,dense:de.bool,disabled:de.bool,error:_a,tabIndex:de.string,valid:_a,warning:_a};const CN=n=>{let{children:e,dataTest:t,maxHeight:i="280px",menuWidth:r,onClick:a,selectRef:o}=n;return Se.createElement(aN,{onBackdropClick:a,transparent:!0},Se.createElement(sN,{reference:o,placement:"bottom-start",observeReferenceResize:!0},Se.createElement("div",{"data-test":`${t}-menuwrapper`,className:Pt.dynamic([["1363246346",[r,i,je.white,je.grey200,ny.e300]]])},e,Se.createElement(Pt,{id:"1363246346",dynamic:[r,i,je.white,je.grey200,ny.e300]},[`div.__jsx-style-dynamic-selector{width:${r};height:auto;max-height:${i};overflow:auto;background:${je.white};border:1px solid ${je.grey200};border-radius:3px;box-shadow:${ny.e300};}`]))))};CN.propTypes={dataTest:de.string.isRequired,menuWidth:de.string.isRequired,selectRef:de.object.isRequired,children:de.node,maxHeight:de.string,onClick:de.func};function Nl(n,e,t){return(e=xR(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xR(n){var e=bR(n,"string");return typeof e=="symbol"?e:e+""}function bR(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const _R=27,wR=32,TR=38,SR=40;class k1 extends We.Component{constructor(){super(...arguments),Nl(this,"state",{open:!1,menuWidth:"auto"}),Nl(this,"selectRef",Se.createRef()),Nl(this,"inputRef",Se.createRef()),Nl(this,"onResize",vR(()=>{const e=this.getMenuWidth();this.state.menuWidth!==e&&this.setState({menuWidth:e})},50)),Nl(this,"handleFocusInput",()=>{this.inputRef.current.focus()}),Nl(this,"onFocus",e=>{const{onFocus:t,disabled:i,selected:r}=this.props;i||!t||t({selected:r},e)}),Nl(this,"handleOpen",()=>{this.setState({open:!0,menuWidth:this.getMenuWidth()})}),Nl(this,"handleClose",()=>{this.setState({open:!1})}),Nl(this,"onToggle",e=>{this.props.disabled||(e.stopPropagation(),this.state.open?this.handleClose():this.handleOpen())}),Nl(this,"onOutsideClick",e=>{const{onBlur:t,disabled:i,selected:r}=this.props;i||(this.handleClose(),t&&t({selected:r},e))}),Nl(this,"onKeyDown",e=>{const{onKeyDown:t,disabled:i,selected:r}=this.props;if(i||(t&&t({selected:r},e),e.defaultPrevented))return;e.stopPropagation();const{open:a}=this.state,{keyCode:o}=e,s=!a&&(o===wR||o===TR||o===SR);if(a&&o===_R)return this.handleClose();if(s)return this.handleOpen()})}componentDidMount(){this.props.initialFocus&&this.inputRef.current.focus(),this.setState({menuWidth:this.getMenuWidth()}),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}getMenuWidth(){const{offsetWidth:e}=this.inputRef.current,{menuWidth:t}=this.state;return e&&`${e}px`!==t?`${e}px`:t}render(){const{open:e,menuWidth:t}=this.state,{children:i,className:r,selected:a,onChange:o,tabIndex:s,maxHeight:h,error:p,warning:f,valid:y,disabled:g,dense:_,dataTest:b}=this.props,T={selected:a,onChange:o,options:i,disabled:g},E=Se.cloneElement(this.props.input,T),k={selected:a,onChange:o,options:i,handleClose:this.handleClose,handleFocusInput:this.handleFocusInput},v=Se.cloneElement(this.props.menu,k);return Se.createElement("div",{className:r,ref:this.selectRef,onFocus:this.onFocus,onKeyDown:this.onKeyDown,"data-test":b},Se.createElement(SN,{onToggle:this.onToggle,inputRef:this.inputRef,tabIndex:g?"-1":s,error:p,warning:f,valid:y,disabled:g,dense:_,dataTest:`${b}-input`},E),e&&Se.createElement(CN,{onClick:this.onOutsideClick,maxHeight:h,selectRef:this.selectRef,menuWidth:t,dataTest:`${b}-menu`},v))}}Nl(k1,"defaultProps",{dataTest:"dhis2-uicore-select"});k1.propTypes={input:de.element.isRequired,menu:de.element.isRequired,selected:de.oneOfType([de.string,de.arrayOf(de.string)]).isRequired,children:de.node,className:de.string,dataTest:de.string,dense:de.bool,disabled:de.bool,error:_a,initialFocus:de.bool,maxHeight:de.string,tabIndex:de.string,valid:_a,warning:_a,onBlur:de.func,onChange:de.func,onFocus:de.func,onKeyDown:de.func};const EN=n=>{let{message:e,className:t,dataTest:i}=n;return Se.createElement("div",{"data-test":i,className:Pt.dynamic([["3603755746",[Bt.dp16,je.grey700,Wt.fonts,Bt.dp8,Bt.dp24]]])+" "+(Nr(t,"container")||"")},Se.createElement("div",{className:Pt.dynamic([["3603755746",[Bt.dp16,je.grey700,Wt.fonts,Bt.dp8,Bt.dp24]]])},Se.createElement(Vb,{small:!0})),e,Se.createElement(Pt,{id:"3603755746",dynamic:[Bt.dp16,je.grey700,Wt.fonts,Bt.dp8,Bt.dp24]},[`.container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${Bt.dp16};-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:${je.grey700};font-family:${Wt.fonts};font-size:13px;padding-block:${Bt.dp8};padding-inline:${Bt.dp24};}`]))};EN.propTypes={dataTest:de.string.isRequired,className:de.string,message:de.string};const Iw=n=>{let{value:e,onChange:t,placeholder:i,className:r,dataTest:a}=n;return Se.createElement("div",{className:Pt.dynamic([["730881408",[je.white,Bt.dp8,Bt.dp8,Bt.dp4,Bt.dp8]]])+" "+(r||"")},Se.createElement(oN,{dense:!0,dataTest:a,value:e,onChange:t,type:"text",name:"filter",placeholder:i,initialFocus:!0}),Se.createElement(Pt,{id:"730881408",dynamic:[je.white,Bt.dp8,Bt.dp8,Bt.dp4,Bt.dp8]},[`div.__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;-webkit-inset-block-start:0;-ms-intb-rlock-start:0;inset-block-start:0;background:${je.white};padding-block-start:${Bt.dp8};padding-inline-end:${Bt.dp8};padding-block-end:${Bt.dp4};padding-inline-start:${Bt.dp8};z-index:1;}`]))};Iw.propTypes={dataTest:de.string.isRequired,value:de.string.isRequired,className:de.string,placeholder:de.string,onChange:de.func};const kN=n=>{let{message:e,className:t}=n;return Se.createElement("div",{className:Pt.dynamic([["3788156646",[je.grey700,Wt.fonts,Bt.dp8,Bt.dp24]]])+" "+(t||"")},e,Se.createElement(Pt,{id:"3788156646",dynamic:[je.grey700,Wt.fonts,Bt.dp8,Bt.dp24]},[`div.__jsx-style-dynamic-selector{color:${je.grey700};font-family:${Wt.fonts};font-size:13px;line-height:16px;padding-block:${Bt.dp8};padding-inline:${Bt.dp24};text-align:center;}`]))};kN.propTypes={message:de.string.isRequired,className:de.string};const LN=n=>n&&"props"in n&&"value"in n.props&&"label"in n.props,NN=n=>Se.Children.toArray(n).filter(e=>e!==null&&e!==!1&&e!==void 0),CR=(n,e)=>Se.Children.toArray(e).find(t=>t.props?n===t.props.value:!1);function tb(){return tb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tb.apply(null,arguments)}function BC(n,e,t){return(e=ER(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ER(n){var e=kR(n,"string");return typeof e=="symbol"?e:e+""}function kR(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}let IN=class extends We.Component{constructor(){super(...arguments),BC(this,"state",{filter:""}),BC(this,"onFilterChange",e=>{let{value:t}=e;this.setState({filter:t})})}render(){const{dataTest:e,options:t,onChange:i,selected:r,empty:a,handleClose:o,handleFocusInput:s,placeholder:h,noMatchText:p,Menu:f}=this.props,{filter:y}=this.state,g={onChange:i,selected:r,empty:a,handleClose:o,handleFocusInput:s,dataTest:e},_=NN(t);if(Se.Children.count(_)===0||!y)return Se.createElement(Se.Fragment,null,Se.createElement(Iw,{dataTest:`${e}-filterinput`,placeholder:h,value:y,onChange:this.onFilterChange}),Se.createElement(f,tb({},g,{options:t})));const b=Se.Children.map(t,E=>{if(!LN(E))return null;const{label:v}=E.props;return v.toLowerCase().includes(y.toLowerCase())?E:null}),T=Se.Children.count(b)>0;return Se.createElement(Se.Fragment,null,Se.createElement(Iw,{dataTest:`${e}-filterinput`,placeholder:h,value:y,onChange:this.onFilterChange}),T?Se.createElement(f,tb({},g,{options:b})):Se.createElement(kN,{message:p}))}};IN.propTypes={Menu:de.elementType.isRequired,dataTest:de.string.isRequired,noMatchText:de.string.isRequired,selected:de.oneOfType([de.string,de.arrayOf(de.string)]).isRequired,empty:de.node,handleClose:de.func,handleFocusInput:de.func,options:de.node,placeholder:de.string,onChange:de.func};const AN=n=>{let{message:e,className:t,dataTest:i}=n;return Se.createElement("div",{"data-test":i,className:Pt.dynamic([["3788156646",[je.grey700,Wt.fonts,Bt.dp8,Bt.dp24]]])+" "+(t||"")},e,Se.createElement(Pt,{id:"3788156646",dynamic:[je.grey700,Wt.fonts,Bt.dp8,Bt.dp24]},[`div.__jsx-style-dynamic-selector{color:${je.grey700};font-family:${Wt.fonts};font-size:13px;line-height:16px;padding-block:${Bt.dp8};padding-inline:${Bt.dp24};text-align:center;}`]))};AN.propTypes={dataTest:de.string.isRequired,message:de.string.isRequired,className:de.string};const LR=4,jC={styles:Se.createElement(Pt,{id:"1892168270"},[`.jsx-1892168270{z-index:${iN.applicationTop};}`,'div[data-popper-reference-hidden="true"].jsx-1892168270{visibility:hidden;}']),className:"jsx-1892168270"},NR={name:"offset",options:{offset:[0,LR]}},IR={name:"hide"},AR={name:"flip",options:{altBoundary:!0}},Hb=n=>{let{children:e,className:t,closeDelay:i=200,content:r,dataTest:a="dhis2-uicore-tooltip",maxWidth:o=300,openDelay:s=200,placement:h="top"}=n;const[p,f]=We.useState(!1),y=We.useRef(),g=We.useRef(null),_=We.useRef(null),b=()=>{clearTimeout(_.current),g.current=setTimeout(()=>{f(!0)},s)},T=()=>{clearTimeout(g.current),_.current=setTimeout(()=>{f(!1)},i)},E=()=>{clearTimeout(_.current),g.current=setTimeout(()=>{f(!0)},s)},k=()=>{clearTimeout(g.current),_.current=setTimeout(()=>{f(!1)},i)},v=w=>{w.key==="Escape"&&(_.current=setTimeout(()=>{f(!1)},i))};return We.useEffect(()=>(document.addEventListener("keydown",v),()=>{clearTimeout(g.current),clearTimeout(_.current),document.removeEventListener("keydown",v)}),[]),Se.createElement(Se.Fragment,null,typeof e=="function"?e({onMouseOver:b,onMouseOut:T,onFocus:E,onBlur:k,ref:y}):Se.createElement("span",{onMouseOver:b,onMouseOut:T,onFocus:E,onBlur:k,ref:y,tabIndex:0,"aria-describedby":p?"tooltipContenDhis2Ui":"","data-test":`${a}-reference`,className:Pt.dynamic([["3515683788",[o,je.grey900,je.white]]])},e),p&&Se.createElement(ZO,null,Se.createElement(sN,{className:jC.className,placement:h,reference:y,modifiers:[NR,AR,IR]},Se.createElement("div",{id:"tooltipContenDhis2Ui",onMouseOver:b,onMouseOut:T,"data-test":`${a}-content`,role:"tooltip",className:Pt.dynamic([["3515683788",[o,je.grey900,je.white]]])+" "+(t||"")},r))),jC.styles,Se.createElement(Pt,{id:"3515683788",dynamic:[o,je.grey900,je.white]},[`div.__jsx-style-dynamic-selector{max-width:${o}px;}`,`div.__jsx-style-dynamic-selector{padding:4px 6px;background-color:${je.grey900};border-radius:3px;color:${je.white};font-size:13px;line-height:17px;}`]))};Hb.propTypes={children:de.oneOfType([de.node,de.func]),className:de.string,closeDelay:de.number,content:de.node,dataTest:de.string,maxWidth:de.number,openDelay:de.number,placement:de.oneOf(["top","right","bottom","left"])};const PN=n=>{let{onClear:e,clearText:t,className:i,dataTest:r}=n;return Se.createElement(Hb,{openDelay:500,content:t},Se.createElement("button",{"data-test":r,onClick:e,type:"button",className:Pt.dynamic([["2606883952",[je.grey500,je.grey800,je.grey200,Wt.focus]]])+" "+(i||"")},Se.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:Pt.dynamic([["2606883952",[je.grey500,je.grey800,je.grey200,Wt.focus]]])},Se.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Zm3.536-5.879a1 1 0 1 1-1.415 1.414l-2.12-2.12-2.122 2.121a1 1 0 1 1-1.415-1.414L6.586 8 4.464 5.878A1 1 0 1 1 5.88 4.464L8 6.586l2.121-2.121a1 1 0 1 1 1.415 1.414L9.415 8l2.12 2.121Z",fill:"none",className:Pt.dynamic([["2606883952",[je.grey500,je.grey800,je.grey200,Wt.focus]]])})),Se.createElement(Pt,{id:"2606883952",dynamic:[je.grey500,je.grey800,je.grey200,Wt.focus]},["button.__jsx-style-dynamic-selector{background:none;border:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;height:24px;width:24px;border-radius:3px;}",`button.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:${je.grey500};}`,`button.__jsx-style-dynamic-selector:hover svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:${je.grey800};}`,`button.__jsx-style-dynamic-selector:hover{background:${je.grey200};}`,`button.__jsx-style-dynamic-selector:focus{outline:2px solid ${Wt.focus};}`])))};PN.propTypes={clearText:de.string.isRequired,dataTest:de.string.isRequired,onClear:de.func.isRequired,className:de.string};const MN=n=>{let{placeholder:e,className:t,dataTest:i}=n;return e?Se.createElement("div",{"data-test":i,className:Pt.dynamic([["1027033961",[je.grey600]]])+" "+(t||"")},e,Se.createElement(Pt,{id:"1027033961",dynamic:[je.grey600]},[`div.__jsx-style-dynamic-selector{color:${je.grey600};-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`])):null};MN.propTypes={dataTest:de.string.isRequired,className:de.string,placeholder:de.string};const DN=n=>{let{prefix:e,className:t,dataTest:i}=n;return e?Se.createElement("div",{"data-test":i,className:Pt.dynamic([["1343055987",[je.grey600,Bt.dp12]]])+" "+(t||"")},e,Se.createElement(Pt,{id:"1343055987",dynamic:[je.grey600,Bt.dp12]},[`div.__jsx-style-dynamic-selector{color:${je.grey600};padding-inline-end:${Bt.dp12};font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`])):null};DN.propTypes={dataTest:de.string.isRequired,className:de.string,prefix:de.string};const ON=n=>{let{children:e,overflow:t}=n;return Se.createElement("span",{className:Pt.dynamic([["765109298",[Bt.dp12]]])+" "+(Nr({overflow:t})||"")},e,Se.createElement(Pt,{id:"765109298",dynamic:[Bt.dp12]},[`span.__jsx-style-dynamic-selector{margin:0 ${Bt.dp12};color:inherit;white-space:nowrap;}`,".overflow.__jsx-style-dynamic-selector{max-width:150px;overflow:hidden;text-overflow:ellipsis;}"]))};ON.propTypes={children:de.any,overflow:de.bool};const RN=n=>{let{icon:e,dataTest:t}=n;return e?Se.createElement("span",{"data-test":t,className:Pt.dynamic([["1889825154",[Bt.dp4]]])},e,Se.createElement(Pt,{id:"1889825154",dynamic:[Bt.dp4]},[`span.__jsx-style-dynamic-selector{width:24px;height:24px;margin-inline-start:${Bt.dp4};margin-inline-end:-6px;border-radius:50%;overflow:hidden;}`,"span.__jsx-style-dynamic-selector>*{max-height:24px;max-width:24px;}"])):null};RN.propTypes={dataTest:de.string.isRequired,icon:de.element};function $N(n){let{className:e}=n;return Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",className:"jsx-2898942518 "+(e||"")},Se.createElement("path",{d:"M11.2928932,3.29289322 L12.7071068,4.70710678 L9.41389322,7.99989322 L12.7071068,11.2928932 L11.2928932,12.7071068 L7.99989322,9.41389322 L4.70710678,12.7071068 L3.29289322,11.2928932 L6.58589322,7.99989322 L3.29289322,4.70710678 L4.70710678,3.29289322 L7.99989322,6.58589322 L11.2928932,3.29289322 Z",className:"jsx-2898942518"}),Se.createElement(Pt,{id:"2898942518"},["svg.jsx-2898942518{fill:inherit;height:16px;width:16px;vertical-align:middle;pointer-events:none;}"]))}$N.propTypes={className:de.string};const zx=["span.jsx-2824632002{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:20px;width:20px;margin-inline-end:4px;border-radius:12px;margin-inline-start:-8px;}",`span.jsx-2824632002:hover{background:${je.grey400};}`];zx.__hash="2824632002";const UC={styles:Se.createElement(Pt,{id:"2658726446"},[`svg.jsx-2658726446{fill:${je.grey600};height:16px;width:16px;cursor:pointer;opacity:1;pointer-events:all;}`]),className:"jsx-2658726446"},zN=n=>{let{onRemove:e,dataTest:t}=n;return e?Se.createElement("span",{onClick:i=>{i.stopPropagation(),e({},i)},"data-test":t,className:`jsx-${zx.__hash}`},Se.createElement($N,{className:UC.className}),UC.styles,Se.createElement(Pt,{id:zx.__hash},zx)):null};zN.propTypes={dataTest:de.string.isRequired,onRemove:de.func};const _m="4",FN=n=>{var e,t,i,r;let{selected:a,dense:o,disabled:s,dragging:h,overflow:p,className:f,children:y,onRemove:g,onClick:_,icon:b,dataTest:T="dhis2-uicore-chip",marginBottom:E=4,marginLeft:k,marginRight:v,marginTop:w=4,marginInlineStart:N,marginInlineEnd:C}=n;return Se.createElement("span",{onClick:L=>{!s&&_&&_({},L)},"data-test":T,className:Pt.dynamic([["3780556490",[je.grey200,je.grey900,je.grey300,Wt.secondary600,je.white]],["1687525377",[E&&`margin-bottom: ${E}px;`,(e=N??k)!==null&&e!==void 0?e:_m,(t=C??v)!==null&&t!==void 0?t:_m,w&&`margin-top: ${w}px`]]])+" "+(Nr(f,{selected:a,dense:o,disabled:s,dragging:h})||"")},Se.createElement(RN,{icon:b,dataTest:`${T}-icon`}),Se.createElement(ON,{overflow:p},y),Se.createElement(zN,{onRemove:g,dataTest:`${T}-remove`}),Se.createElement(Pt,{id:"3780556490",dynamic:[je.grey200,je.grey900,je.grey300,Wt.secondary600,je.white]},[`span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:32px;border-radius:16px;background-color:${je.grey200};font-size:14px;line-height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:${je.grey900};}`,".dense.__jsx-style-dynamic-selector{height:24px;font-size:13px;line-height:15px;}",`span.__jsx-style-dynamic-selector:hover{background-color:${je.grey300};}`,`.selected.__jsx-style-dynamic-selector{background-color:${Wt.secondary600};font-weight:500;}`,".selected.__jsx-style-dynamic-selector:hover{background-color:#00695c;}",`.selected.__jsx-style-dynamic-selector,.selected.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector,.selected.__jsx-style-dynamic-selector .remove-icon.__jsx-style-dynamic-selector{color:${je.white};}`,".disabled.__jsx-style-dynamic-selector{cursor:not-allowed;opacity:0.3;}",".disabled.__jsx-style-dynamic-selector .remove-icon.__jsx-style-dynamic-selector{pointer-events:none;}",".dragging.__jsx-style-dynamic-selector{box-shadow:0 3px 1px -2px rgba(0,0,0,0.2), 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12);}"]),Se.createElement(Pt,{id:"1687525377",dynamic:[E&&`margin-bottom: ${E}px;`,(e=N??k)!==null&&e!==void 0?e:_m,(t=C??v)!==null&&t!==void 0?t:_m,w&&`margin-top: ${w}px`]},[`span.__jsx-style-dynamic-selector{${E&&`margin-bottom: ${E}px;`} margin-inline-start:${(i=N??k)!==null&&i!==void 0?i:_m}px;margin-inline-end:${(r=C??v)!==null&&r!==void 0?r:_m}px;${w&&`margin-top: ${w}px`};}`]))};FN.propTypes={children:de.any,className:de.string,dataTest:de.string,dense:de.bool,disabled:de.bool,dragging:de.bool,icon:de.element,marginBottom:de.number,marginInlineEnd:de.number,marginInlineStart:de.number,marginLeft:de.number,marginRight:de.number,marginTop:de.number,overflow:de.bool,selected:de.bool,onClick:de.func,onRemove:de.func};const PR="مسح",MR={Clear:PR,"No data found":"لم يتم إيجاد بيانات","Type to filter options":"اكتب لتصفية الخيارات","Loading options":"تحميل الخيارات","No options found":"لم يتم العثور على خيارات"},DR="مسح",OR={Clear:DR,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},RR="پاککردنەوە",$R={Clear:RR,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},zR="Vyčistit",FR={Clear:zR,"No data found":"Nenalezena žádná data","Type to filter options":"Zadáním filtrujete možnosti","Loading options":"Možnosti načítání","No options found":"Nenalezeny žádné možnosti"},BR="Clear",jR={Clear:BR,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},UR="",GR={Clear:UR,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},YR="Limpiar",VR={Clear:YR,"No data found":"Datos no encontrados","Type to filter options":"Escriba para filtrar opciones","Loading options":"Cargando las opciones","No options found":"No se ha encontrado ninguna opción"},qR="Limpiar",WR={Clear:qR,"No data found":"No se han encontrado datos","Type to filter options":"Escriba para filtrar opciones","Loading options":"Opciones de carga","No options found":"No se han encontrado opciones"},HR="Effacer",XR={Clear:HR,"No data found":"Aucune valeur trouvée","Type to filter options":"","Loading options":"Chargement des options","No options found":""},ZR="Hapus",KR={Clear:ZR,"No data found":"Tidak ada data yang ditemukan","Type to filter options":"Tipe opsi filter","Loading options":"Opsi mengunggah","No options found":"Opsi tidak tersedia"},QR="សម្អាត",JR={Clear:QR,"No data found":"មិនមានទិន្នន័យបង្ហាញ","Type to filter options":"វាយបញ្ចូលមុខងារដើម្បីច្រោះ","Loading options":"កំពុងទាញយកមុខងារ","No options found":"មិនមានមុខងារបង្ហាញ"},e3="ລຶບ",t3={Clear:e3,"No data found":"ບໍ່ພົບຂໍ້ມູນ","Type to filter options":"ປະເພດຕົວເລືອກການກອງ","Loading options":"ໂຫຼດຕົວເລືອກ","No options found":"ບໍ່ພົບຕົວເລືອກ"},n3="ရှင်းလင်းသည်",i3={Clear:n3,"No data found":"data မတွေ့ပါ။","Type to filter options":"","Loading options":"","No options found":""},r3="Fjern",a3={Clear:r3,"No data found":"Ingen data funnet","Type to filter options":"Skriv for å filtrere alternativer","Loading options":"Laster alternativer","No options found":"Ingen alternativer funnet"},s3="Duidelijk",o3={Clear:s3,"No data found":"Geen gegevens gevonden","Type to filter options":"Typ om opties te filteren","Loading options":"Laad opties","No options found":"Geen opties gevonden"},l3="پاک کردن",c3={Clear:l3,"No data found":"هیچ معلوماتی یافت نشد","Type to filter options":"","Loading options":"","No options found":""},u3="پاک یې کړئ",d3={Clear:u3,"No data found":"هېڅ ډاټا یا مالومات ونه موندل شول","Type to filter options":"","Loading options":"","No options found":""},h3="Limpar",p3={Clear:h3,"No data found":"Dado não encontrado","Type to filter options":"Tipo de opções de filtros","Loading options":"","No options found":""},m3="Limpar",f3={Clear:m3,"No data found":"Dado não encontrado","Type to filter options":"","Loading options":"","No options found":""},g3="Очистить",y3={Clear:g3,"No data found":"Данные не найдены","Type to filter options":"Начать печатать для фильтрации опций","Loading options":"Загрузка опций","No options found":"Опции не найдены"},v3="Klar",x3={Clear:v3,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},b3="Hamós",_3={Clear:b3,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},w3="Пок кардан",T3={Clear:w3,"No data found":"Ягон иттилоот ёфт нашуд","Type to filter options":"","Loading options":"","No options found":""},S3="Очистити",C3={Clear:S3,"No data found":"Даних не знайдено","Type to filter options":"Введіть параметри фільтра","Loading options":"Параметри завантаження","No options found":"Варіантів не знайдено"},E3="کلیئر",k3={Clear:E3,"No data found":"کوئی ڈیٹا نہیں ملا","Type to filter options":"","Loading options":"","No options found":""},L3="Аниқ",N3={Clear:L3,"No data found":"Maʼlumotlar topilmadi","Type to filter options":"","Loading options":"","No options found":""},I3="Тозалаш",A3={Clear:I3,"No data found":"Маълумотлар топилмади","Type to filter options":"","Loading options":"Вариантлар юкланмоқда","No options found":""},P3="Аниқ",M3={Clear:P3,"No data found":"Maʼlumotlar topilmadi","Type to filter options":"","Loading options":"","No options found":""},D3="Xóa",O3={Clear:D3,"No data found":"Không tìm thấy dữ liệu","Type to filter options":"Nhập để lọc tùy chọn","Loading options":"","No options found":""},R3="清除",$3={Clear:R3,"No data found":"没有发现数据","Type to filter options":"键入过滤选项","Loading options":"加载选项","No options found":"没有找到选项"},z3="清除",F3={Clear:z3,"No data found":"没有数据被找到","Type to filter options":"","Loading options":"","No options found":""},ir="default";dt.addResources("ar",ir,MR);dt.addResources("ar_IQ",ir,OR);dt.addResources("ckb",ir,$R);dt.addResources("cs",ir,FR);dt.addResources("da",ir,jR);dt.addResources("en",ir,GR);dt.addResources("es",ir,VR);dt.addResources("es_419",ir,WR);dt.addResources("fr",ir,XR);dt.addResources("id",ir,KR);dt.addResources("km",ir,JR);dt.addResources("lo",ir,t3);dt.addResources("my",ir,i3);dt.addResources("nb",ir,a3);dt.addResources("nl",ir,o3);dt.addResources("prs",ir,c3);dt.addResources("ps",ir,d3);dt.addResources("pt",ir,p3);dt.addResources("pt_BR",ir,f3);dt.addResources("ru",ir,y3);dt.addResources("sv",ir,x3);dt.addResources("tet",ir,_3);dt.addResources("tg",ir,T3);dt.addResources("uk",ir,C3);dt.addResources("ur",ir,k3);dt.addResources("uz_Latn",ir,N3);dt.addResources("uz_UZ_Cyrl",ir,A3);dt.addResources("uz_UZ_Latn",ir,M3);dt.addResources("vi",ir,O3);dt.addResources("zh",ir,$3);dt.addResources("zh_CN",ir,F3);const B3=(n,e)=>{e.stopPropagation(),e.preventDefault()},L1=n=>{let{options:e,onChange:t,selected:i,empty:r="",handleFocusInput:a,handleClose:o,dataTest:s}=n;const h=NN(e);if(Se.Children.count(h)===0)return typeof r=="string"?Se.createElement(AN,{message:r,dataTest:`${s}-empty`}):r;const p=Se.Children.map(e,f=>{if(!LN(f))return f;const{value:g,disabled:_}=f.props,b=g===i,T=(k,v)=>{const w={selected:g};v.stopPropagation(),t(w,v),o(),a()},E=b||_;return Se.cloneElement(f,{...f.props,onClick:E?B3:T,active:b})});return Se.createElement(Se.Fragment,null,p)};L1.propTypes={dataTest:de.string.isRequired,empty:de.node,handleClose:de.func,handleFocusInput:de.func,options:de.node,selected:de.string,onChange:de.func};const BN=n=>{let{dataTest:e,options:t,onChange:i,selected:r,empty:a,handleClose:o,handleFocusInput:s,placeholder:h,noMatchText:p}=n;return Se.createElement(IN,{dataTest:e,options:t,onChange:i,selected:r,empty:a,handleClose:o,handleFocusInput:s,placeholder:h,noMatchText:p,Menu:L1})};BN.propTypes={dataTest:de.string.isRequired,noMatchText:de.string.isRequired,empty:de.node,handleClose:de.func,handleFocusInput:de.func,options:de.node,placeholder:de.string,selected:de.string,onChange:de.func};const jN=n=>{let{options:e,selected:t,className:i}=n;const r=CR(t,e);if(!r){const s=`There is no option with the value: "${t}". Make sure that the value passed to the selected prop matches the value of an existing option.`;console.error(s)}const a=r&&r.props.icon,o=r?r.props.label:t;return Se.createElement("div",{className:Pt.dynamic([["1914911415",[Bt.dp8,Bt.dp16,Bt.dp16]]])+" "+(Nr(i,"root")||"")},a&&Se.createElement("div",{className:Pt.dynamic([["1914911415",[Bt.dp8,Bt.dp16,Bt.dp16]]])+" root-icon"},a),o,Se.createElement(Pt,{id:"1914911415",dynamic:[Bt.dp8,Bt.dp16,Bt.dp16]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",`.root-icon.__jsx-style-dynamic-selector{margin-inline-end:${Bt.dp8};width:${Bt.dp16};height:${Bt.dp16};overflow:hidden;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}`]))};jN.propTypes={className:de.string,options:de.node,selected:de.string};const UN=n=>{let{selected:e,onChange:t,clearable:i,clearText:r,placeholder:a,dataTest:o,prefix:s,options:h,className:p,disabled:f,inputMaxHeight:y="100px"}=n;const g=e&&typeof e=="string",_=b=>{const T={selected:""};b.stopPropagation(),t(T,b)};return Se.createElement("div",{className:Pt.dynamic([["2186325794",[je.grey900]],["1331770409",[y]]])+" "+(Nr("root",p)||"")},Se.createElement(DN,{prefix:s,dataTest:`${o}-prefix`}),!g&&!s&&Se.createElement(MN,{placeholder:a,dataTest:`${o}-placeholder`}),g&&Se.createElement("div",{className:Pt.dynamic([["2186325794",[je.grey900]],["1331770409",[y]]])+" root-input"},Se.createElement(jN,{selected:e,options:h})),g&&i&&!f&&Se.createElement("div",{className:Pt.dynamic([["2186325794",[je.grey900]],["1331770409",[y]]])+" root-right"},Se.createElement(PN,{onClear:_,clearText:r,dataTest:`${o}-clear`})),Se.createElement(Pt,{id:"2186325794",dynamic:[je.grey900]},[`.root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:${je.grey900};font-size:14px;line-height:16px;}`,".root-input.__jsx-style-dynamic-selector{overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;}",".root-right.__jsx-style-dynamic-selector{margin-inline-start:auto;}"]),Se.createElement(Pt,{id:"1331770409",dynamic:[y]},[`.root-input.__jsx-style-dynamic-selector{max-height:${y};}`]))};UN.propTypes={dataTest:de.string.isRequired,className:de.string,clearText:Rm(n=>n.clearable,de.string),clearable:de.bool,disabled:de.bool,inputMaxHeight:de.string,options:de.node,placeholder:de.string,prefix:de.string,selected:de.string,onChange:de.func};const GN=n=>{let{className:e,selected:t="",tabIndex:i,maxHeight:r,inputMaxHeight:a,onChange:o,onFocus:s,onKeyDown:h,onBlur:p,loading:f,error:y,warning:g,valid:_,disabled:b,children:T,clearable:E,clearText:k,filterable:v,filterPlaceholder:w,placeholder:N,prefix:C,empty:L,loadingText:O,noMatchText:W,initialFocus:X,dense:H,dataTest:$="dhis2-uicore-singleselect"}=n;const G=v?Se.createElement(BN,{dataTest:$,empty:L,noMatchText:W,placeholder:w}):Se.createElement(L1,{empty:L,dataTest:$});return Se.createElement("div",{"data-test":$,className:Pt.dynamic([["2180377457",[Bt.dp8]]])+" root"},Se.createElement("div",{className:Pt.dynamic([["2180377457",[Bt.dp8]]])+" root-input"},Se.createElement(k1,{className:e,selected:t,input:Se.createElement(UN,{clearable:E,clearText:k,dataTest:$,placeholder:N,prefix:C,inputMaxHeight:a}),menu:G,tabIndex:i,maxHeight:r,onChange:o,onFocus:s,onKeyDown:h,onBlur:p,error:y,warning:g,valid:_,disabled:b,initialFocus:X,dense:H},T,f&&Se.createElement(EN,{message:O,dataTest:`${$}-loading`}))),Se.createElement(rN,{error:y,valid:_,warning:g}),Se.createElement(Pt,{id:"2180377457",dynamic:[Bt.dp8]},[`.root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${Bt.dp8};}`,".root-input.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}"]))};GN.propTypes={children:de.node,className:de.string,clearText:Rm(n=>n.clearable,de.string),clearable:de.bool,dataTest:de.string,dense:de.bool,disabled:de.bool,empty:de.node,error:_a,filterPlaceholder:de.string,filterable:de.bool,initialFocus:de.bool,inputMaxHeight:de.string,loading:de.bool,loadingText:de.string,maxHeight:de.string,noMatchText:Rm(n=>n.filterable,de.string),placeholder:de.string,prefix:de.string,selected:de.string,tabIndex:de.string,valid:_a,warning:_a,onBlur:de.func,onChange:de.func,onFocus:de.func,onKeyDown:de.func};function j3(n,e,t){return(e=U3(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function U3(n){var e=G3(n,"string");return typeof e=="symbol"?e:e+""}function G3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const Fg=(n,e)=>typeof n=="function"?n(e):n;class Ds extends Se.Component{render(){const{className:e,onChange:t,onFocus:i,onKeyDown:r,onBlur:a,required:o,label:s,valid:h,error:p,warning:f,disabled:y,loading:g,selected:_=Ds.defaultProps.selected,tabIndex:b,helpText:T,validationText:E,maxHeight:k,inputMaxHeight:v,inputWidth:w,children:N,clearable:C,clearText:L=Ds.defaultProps.clearText,filterable:O,filterPlaceholder:W=Ds.defaultProps.filterPlaceholder,placeholder:X,prefix:H,empty:$=Ds.defaultProps.empty,loadingText:G=Ds.defaultProps.loadingText,noMatchText:j=Ds.defaultProps.noMatchText,initialFocus:D,dense:M,dataTest:Y=Ds.defaultProps.dataTest}=this.props;return Se.createElement(lN,{className:e,dataTest:Y,disabled:y,required:o,label:s,helpText:T,validationText:E,error:p,warning:f,valid:h},Se.createElement(KO,{width:w,minWidth:"100px"},Se.createElement(GN,{selected:_,tabIndex:b,maxHeight:k,inputMaxHeight:v,onChange:t,onFocus:i,onKeyDown:r,onBlur:a,loading:g,error:p,warning:f,valid:h,disabled:y,clearable:C,clearText:Fg(L),filterable:O,filterPlaceholder:Fg(W),placeholder:X,prefix:H,empty:Fg($),loadingText:Fg(G),noMatchText:Fg(j),initialFocus:D,dense:M},N)))}}j3(Ds,"defaultProps",{dataTest:"dhis2-uiwidgets-singleselectfield",selected:"",clearText:()=>dt.t("Clear"),empty:()=>dt.t("No data found"),filterPlaceholder:()=>dt.t("Type to filter options"),loadingText:()=>dt.t("Loading options"),noMatchText:()=>dt.t("No options found")});Ds.propTypes={children:de.node,className:de.string,clearText:de.oneOfType([de.string,de.func]),clearable:de.bool,dataTest:de.string,dense:de.bool,disabled:de.bool,empty:de.oneOfType([de.node,de.func]),error:_a,filterPlaceholder:de.oneOfType([de.node,de.func]),filterable:de.bool,helpText:de.string,initialFocus:de.bool,inputMaxHeight:de.string,inputWidth:de.string,label:de.string,loading:de.bool,loadingText:de.oneOfType([de.string,de.func]),maxHeight:de.string,noMatchText:de.oneOfType([de.string,de.func]),placeholder:de.string,prefix:de.string,required:de.bool,selected:de.string,tabIndex:de.string,valid:_a,validationText:de.string,warning:_a,onBlur:de.func,onChange:de.func,onFocus:de.func,onKeyDown:de.func};const ju=n=>{let{label:e,active:t,disabled:i,onClick:r,className:a,dataTest:o="dhis2-uicore-singleselectoption",value:s}=n;return Se.createElement("div",{onClick:h=>r({},h),"data-test":o,"data-value":s,"data-label":e,className:Pt.dynamic([["3808134379",[je.grey900,Bt.dp8,Bt.dp12,je.grey200,je.teal700,je.white,je.grey500]]])+" "+(Nr(a,{disabled:i,active:t})||"")},e,Se.createElement(Pt,{id:"3808134379",dynamic:[je.grey900,Bt.dp8,Bt.dp12,je.grey200,je.teal700,je.white,je.grey500]},[`div.__jsx-style-dynamic-selector{cursor:pointer;font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:${je.grey900};padding-block:${Bt.dp8};padding-inline:${Bt.dp12};}`,`div.__jsx-style-dynamic-selector:hover{background-color:${je.grey200};}`,`div.__jsx-style-dynamic-selector:active,div.active.__jsx-style-dynamic-selector{background-color:${je.teal700};color:${je.white};cursor:auto;}`,`div.disabled.__jsx-style-dynamic-selector{color:${je.grey500};cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`,"div.disabled.__jsx-style-dynamic-selector:hover{background-color:initial;}"]))};ju.propTypes={label:de.string.isRequired,value:de.string.isRequired,active:de.bool,className:de.string,dataTest:de.string,disabled:de.bool,onClick:de.func};const Dc=["svg.jsx-4217794981{display:block;pointer-events:none;height:18px;width:35px;}","svg.jsx-4217794981:dir(rtl){-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1);}","svg[dir='rtl'].jsx-4217794981{-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1);}","svg.dense.jsx-4217794981{height:14px;width:27px;}",`svg.jsx-4217794981 .background.jsx-4217794981,svg.jsx-4217794981 .border.jsx-4217794981{fill:${je.grey600};}`,`svg.jsx-4217794981 .checkmark.jsx-4217794981,svg.jsx-4217794981 .cross.jsx-4217794981,svg.jsx-4217794981 .handle.jsx-4217794981{fill:${je.white};}`,"svg.jsx-4217794981 .checkmark.jsx-4217794981:dir(rtl){display:none;}","svg[dir='rtl'].jsx-4217794981 .checkmark.jsx-4217794981{display:none;}","svg.checked.jsx-4217794981 .handle-unchecked.jsx-4217794981,svg.jsx-4217794981:not(.checked) .handle-checked.jsx-4217794981{fill:none;}",`svg.checked.jsx-4217794981 .background.jsx-4217794981{fill:${je.teal400};}`,`svg.valid.jsx-4217794981 .background.jsx-4217794981{fill:${je.blue600};}`,`svg.warning.jsx-4217794981 .background.jsx-4217794981{fill:${je.yellow700};}`,`svg.error.jsx-4217794981 .background.jsx-4217794981{fill:${je.red500};}`,`svg.checked.jsx-4217794981 .border.jsx-4217794981{fill:${je.teal700};}`,`svg.disabled.jsx-4217794981 .background.jsx-4217794981{fill:${je.grey300};}`,`svg.disabled.jsx-4217794981 .border.jsx-4217794981{fill:${je.grey400};}`,`svg.valid.jsx-4217794981 .border.jsx-4217794981{fill:${je.blue600};}`,`svg.valid.checked.jsx-4217794981 .border.jsx-4217794981,svg.valid.indeterminate.jsx-4217794981 .border.jsx-4217794981{fill:${je.blue700};}`,`svg.warning.jsx-4217794981 .border.jsx-4217794981{fill:${je.yellow700};}`,`svg.warning.checked.jsx-4217794981 .border.jsx-4217794981{fill:${je.yellow800};}`,`svg.error.jsx-4217794981 .border.jsx-4217794981{fill:${je.red500};}`,`svg.error.checked.jsx-4217794981 .border.jsx-4217794981{fill:${je.red700};}`];Dc.__hash="4217794981";function YN(n){var e,t;let{className:i}=n;return Se.createElement("svg",{viewBox:"0 0 42 22",xmlns:"http://www.w3.org/2000/svg",dir:(e=(t=document.documentElement)===null||t===void 0?void 0:t.dir)!==null&&e!==void 0?e:"ltr",className:`jsx-${Dc.__hash} `+(i||"")},Se.createElement("path",{d:"M0,11 L0,11 C0,4.92486775 4.92076837,0 11.0075657,0 L30.9924343,0 C37.071745,0 42,4.923532 42,11 L42,11 C42,17.0751322 37.0792316,22 30.9924343,22 L11.0075657,22 C4.92825504,22 0,17.0791222 0,11 L0,11 Z",fill:"red",className:`jsx-${Dc.__hash} background`}),Se.createElement("path",{d:"M30.9924343,0 C36.975248,0 41.8432574,4.76846989 41.99629,10.7115309 L42,11 C42,17.0751322 37.0792316,22 30.9924343,22 L11.0075657,22 C5.02475203,22 0.156742552,17.2341007 0.00370995454,11.2885915 L0,11 C0,4.92486775 4.92076837,0 11.0075657,0 L30.9924343,0 Z M30.9924343,1 L11.0075657,1 C5.47559009,1 0.99991738,5.47461611 0.99991738,10.9871457 L1.00337887,11.2628608 C1.14271146,16.6761076 5.5768313,21 11.0075657,21 L30.9924343,21 C36.5244099,21 41.0000827,16.5253839 41.0000827,11.0128598 L40.9966214,10.7372722 C40.8572703,5.32553352 36.4222391,1 30.9924343,1 Z",className:`jsx-${Dc.__hash} border`}),Se.createElement("path",{d:"M27.7071068,7.29289322 L30,9.585 L32.2928932,7.29289322 C32.6533772,6.93240926 33.2206082,6.90467972 33.6128994,7.20970461 L33.7071068,7.29289322 C34.0976311,7.68341751 34.0976311,8.31658249 33.7071068,8.70710678 L33.7071068,8.70710678 L31.415,11 L33.7071068,13.2928932 C34.0976311,13.6834175 34.0976311,14.3165825 33.7071068,14.7071068 C33.3165825,15.0976311 32.6834175,15.0976311 32.2928932,14.7071068 L30,12.415 L27.7071068,14.7071068 C27.3466228,15.0675907 26.7793918,15.0953203 26.3871006,14.7902954 L26.2928932,14.7071068 C25.9023689,14.3165825 25.9023689,13.6834175 26.2928932,13.2928932 L26.2928932,13.2928932 L28.585,11 L26.2928932,8.70710678 C25.9023689,8.31658249 25.9023689,7.68341751 26.2928932,7.29289322 C26.6834175,6.90236893 27.3165825,6.90236893 27.7071068,7.29289322 Z",fill:"#FFFFFF",className:`jsx-${Dc.__hash} cross`}),Se.createElement("path",{d:"M7.74451387,10.0285252 C7.39595738,10.1198564 7.12375034,10.3923519 7.03251575,10.7412777 C6.94128115,11.0902035 7.04521722,11.4612586 7.30437605,11.7118278 L10.2982384,14.7078028 C10.6875399,15.0973991 11.3185977,15.0973991 11.7078992,14.7078028 L16.695624,8.71585285 C16.9547828,8.46528367 17.0587189,8.09422851 16.9674843,7.74530271 C16.8762497,7.39637691 16.6040426,7.12388146 16.2554861,7.0325502 C15.9069296,6.94121893 15.5362672,7.04526513 15.2859632,7.30469855 L11.0030688,12.5910713 L8.71403676,10.3006735 C8.46373279,10.0412401 8.09307036,9.9371939 7.74451387,10.0285252 Z",className:`jsx-${Dc.__hash} checkmark`}),Se.createElement("path",{d:"M11,20 C15.9705627,20 20,15.9705627 20,11 C20,6.02943725 15.9705627,2 11,2 C6.02943725,2 2,6.02943725 2,11 C2,15.9705627 6.02943725,20 11,20 Z",className:`jsx-${Dc.__hash} handle handle-unchecked`}),Se.createElement("path",{d:"M31,20 C35.9705627,20 40,15.9705627 40,11 C40,6.02943725 35.9705627,2 31,2 C26.0294373,2 22,6.02943725 22,11 C22,15.9705627 26.0294373,20 31,20 Z",className:`jsx-${Dc.__hash} handle handle-checked`}),Se.createElement(Pt,{id:Dc.__hash},Dc))}YN.propTypes={className:de.string};function Im(n,e,t){return(e=Y3(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Y3(n){var e=V3(n,"string");return typeof e=="symbol"?e:e+""}function V3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class N1 extends We.Component{constructor(){super(...arguments),Im(this,"ref",We.createRef()),Im(this,"handleChange",e=>{this.props.onChange&&this.props.onChange(this.createHandlerPayload(),e)}),Im(this,"handleBlur",e=>{this.props.onBlur&&this.props.onBlur(this.createHandlerPayload(),e)}),Im(this,"handleFocus",e=>{this.props.onFocus&&this.props.onFocus(this.createHandlerPayload(),e)}),Im(this,"handleKeyDown",e=>{this.props.onKeyDown&&this.props.onKeyDown(this.createHandlerPayload(),e)})}componentDidMount(){this.props.initialFocus&&this.ref.current.focus()}createHandlerPayload(){return{value:this.props.value,name:this.props.name,checked:!this.props.checked}}render(){const{"aria-label":e,checked:t=!1,className:i,disabled:r,error:a,label:o,name:s,tabIndex:h,valid:p,value:f,warning:y,dense:g,dataTest:_="dhis2-uicore-switch",role:b="switch"}=this.props,T=Nr({checked:t,disabled:r,valid:p,error:a,warning:y,dense:g});return Se.createElement("label",{"data-test":_,className:Pt.dynamic([["3097670863",[je.grey900,Wt.disabled,Wt.focus]]])+" "+(Nr(i,{disabled:r,dense:g})||"")},Se.createElement("input",{"aria-label":e,type:"checkbox",role:b,ref:this.ref,name:s,value:f,checked:t,disabled:r,tabIndex:h,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,className:Pt.dynamic([["3097670863",[je.grey900,Wt.disabled,Wt.focus]]])}),Se.createElement("div",{className:Pt.dynamic([["3097670863",[je.grey900,Wt.disabled,Wt.focus]]])+" "+(Nr("icon",{dense:g})||"")},Se.createElement(YN,{className:T})),o,Se.createElement(Pt,{id:"3097670863",dynamic:[je.grey900,Wt.disabled,Wt.focus]},[`label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;color:${je.grey900};font-size:14px;line-height:19px;}`,"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}",`label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:${Wt.disabled};}`,"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:35px;margin-left:3px;}","label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:27px;}",".icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:5px;border:2px solid transparent;padding:1px;border-radius:14px;}","label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-right:3px;border-radius:12px;}",`input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{outline:3px solid ${Wt.focus};outline-offset:-3px;}`]))}}Im(N1,"defaultProps",{checked:!1,dataTest:"dhis2-uicore-switch",role:"switch"});N1.propTypes={"aria-label":de.string,checked:de.bool,className:de.string,dataTest:de.string,dense:de.bool,disabled:de.bool,error:_a,initialFocus:de.bool,label:de.node,name:de.string,role:de.string,tabIndex:de.string,valid:_a,value:de.string,warning:_a,onBlur:de.func,onChange:de.func,onFocus:de.func,onKeyDown:de.func};class he extends Array{constructor(e,t){if(super(e),this.sign=t,Object.setPrototypeOf(this,he.prototype),e>he.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Math.floor,i=Number.isFinite;if(typeof e=="number"){if(e===0)return he.__zero();if(he.__isOneDigitInt(e))return 0>e?he.__oneDigit(-e,!0):he.__oneDigit(e,!1);if(!i(e)||t(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return he.__fromDouble(e)}if(typeof e=="string"){const r=he.__fromString(e);if(r===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return r}if(typeof e=="boolean")return e===!0?he.__oneDigit(1,!1):he.__zero();if(typeof e=="object"){if(e.constructor===he)return e;const r=he.__toPrimitive(e);return he.BigInt(r)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const t of this)e.push((t&&(t>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":e&e-1?he.__toStringGeneric(this,e,!1):he.__toStringBasePowerOfTwo(this,e)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(e){const t=e.length;if(t===0)return 0;if(t===1){const E=e.__unsignedDigit(0);return e.sign?-E:E}const i=e.__digit(t-1),r=he.__clz30(i),a=30*t-r;if(1024<a)return e.sign?-1/0:1/0;let o=a-1,s=i,h=t-1;const p=r+3;let f=p===32?0:s<<p;f>>>=12;const y=p-12;let g=12<=p?0:s<<20+p,_=20+p;for(0<y&&0<h&&(h--,s=e.__digit(h),f|=s>>>30-y,g=s<<y+2,_=y+2);0<_&&0<h;)h--,s=e.__digit(h),g|=30<=_?s<<_-30:s>>>30-_,_-=30;const b=he.__decideRounding(e,_,h,s);if((b===1||b===0&&(1&g)==1)&&(g=g+1>>>0,g===0&&(f++,f>>>20!=0&&(f=0,o++,1023<o))))return e.sign?-1/0:1/0;const T=e.sign?-2147483648:0;return o=o+1023<<20,he.__kBitConversionInts[1]=T|o|f,he.__kBitConversionInts[0]=g,he.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?he.__absoluteSubOne(e).__trim():he.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(t.length===0)return he.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&!(1&t.__digit(0))?he.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");let i=t.__unsignedDigit(0);if(i===1)return e;if(i>=he.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const o=1+(0|i/30),s=e.sign&&(1&i)!=0,h=new he(o,s);h.__initializeDigits();const p=1<<i%30;return h.__setDigit(o-1,p),h}let r=null,a=e;for(1&i&&(r=e),i>>=1;i!==0;i>>=1)a=he.multiply(a,a),1&i&&(r===null?r=a:r=he.multiply(r,a));return r}static multiply(e,t){if(e.length===0)return e;if(t.length===0)return t;let i=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&i--;const r=new he(i,e.sign!==t.sign);r.__initializeDigits();for(let a=0;a<e.length;a++)he.__multiplyAccumulate(t,e.__digit(a),r,a);return r.__trim()}static divide(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>he.__absoluteCompare(e,t))return he.__zero();const i=e.sign!==t.sign,r=t.__unsignedDigit(0);let a;if(t.length===1&&32767>=r){if(r===1)return i===e.sign?e:he.unaryMinus(e);a=he.__absoluteDivSmall(e,r,null)}else a=he.__absoluteDivLarge(e,t,!0,!1);return a.sign=i,a.__trim()}static remainder(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>he.__absoluteCompare(e,t))return e;const i=t.__unsignedDigit(0);if(t.length===1&&32767>=i){if(i===1)return he.__zero();const a=he.__absoluteModSmall(e,i);return a===0?he.__zero():he.__oneDigit(a,e.sign)}const r=he.__absoluteDivLarge(e,t,!1,!0);return r.sign=e.sign,r.__trim()}static add(e,t){const i=e.sign;return i===t.sign?he.__absoluteAdd(e,t,i):0<=he.__absoluteCompare(e,t)?he.__absoluteSub(e,t,i):he.__absoluteSub(t,e,!i)}static subtract(e,t){const i=e.sign;return i===t.sign?0<=he.__absoluteCompare(e,t)?he.__absoluteSub(e,t,i):he.__absoluteSub(t,e,!i):he.__absoluteAdd(e,t,i)}static leftShift(e,t){return t.length===0||e.length===0?e:t.sign?he.__rightShiftByAbsolute(e,t):he.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return t.length===0||e.length===0?e:t.sign?he.__leftShiftByAbsolute(e,t):he.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>he.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=he.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<he.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=he.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e.__digit(i)!==t.__digit(i))return!1;return!0}static notEqual(e,t){return!he.equal(e,t)}static bitwiseAnd(e,t){var i=Math.max;if(!e.sign&&!t.sign)return he.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){const r=i(e.length,t.length)+1;let a=he.__absoluteSubOne(e,r);const o=he.__absoluteSubOne(t);return a=he.__absoluteOr(a,o,a),he.__absoluteAddOne(a,!0,a).__trim()}return e.sign&&([e,t]=[t,e]),he.__absoluteAndNot(e,he.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){var i=Math.max;if(!e.sign&&!t.sign)return he.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){const o=i(e.length,t.length),s=he.__absoluteSubOne(e,o),h=he.__absoluteSubOne(t);return he.__absoluteXor(s,h,s).__trim()}const r=i(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let a=he.__absoluteSubOne(t,r);return a=he.__absoluteXor(a,e,a),he.__absoluteAddOne(a,!0,a).__trim()}static bitwiseOr(e,t){var i=Math.max;const r=i(e.length,t.length);if(!e.sign&&!t.sign)return he.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let o=he.__absoluteSubOne(e,r);const s=he.__absoluteSubOne(t);return o=he.__absoluteAnd(o,s,o),he.__absoluteAddOne(o,!0,o).__trim()}e.sign&&([e,t]=[t,e]);let a=he.__absoluteSubOne(t,r);return a=he.__absoluteAndNot(a,e,a),he.__absoluteAddOne(a,!0,a).__trim()}static asIntN(e,t){var i=Math.floor;if(t.length===0)return t;if(e=i(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return he.__zero();if(e>=he.__kMaxLengthBits)return t;const r=0|(e+29)/30;if(t.length<r)return t;const a=t.__unsignedDigit(r-1),o=1<<(e-1)%30;if(t.length===r&&a<o)return t;if((a&o)!==o)return he.__truncateToNBits(e,t);if(!t.sign)return he.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(a&o-1)){for(let s=r-2;0<=s;s--)if(t.__digit(s)!==0)return he.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&a===o?t:he.__truncateToNBits(e,t)}return he.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){var i=Math.floor;if(t.length===0)return t;if(e=i(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return he.__zero();if(t.sign){if(e>he.__kMaxLengthBits)throw new RangeError("BigInt too big");return he.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=he.__kMaxLengthBits)return t;const r=0|(e+29)/30;if(t.length<r)return t;const a=e%30;return t.length==r&&(a===0||!(t.__digit(r-1)>>>a))?t:he.__truncateToNBits(e,t)}static ADD(e,t){if(e=he.__toPrimitive(e),t=he.__toPrimitive(t),typeof e=="string")return typeof t!="string"&&(t=t.toString()),e+t;if(typeof t=="string")return e.toString()+t;if(e=he.__toNumeric(e),t=he.__toNumeric(t),he.__isBigInt(e)&&he.__isBigInt(t))return he.add(e,t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return he.__compare(e,t,0)}static LE(e,t){return he.__compare(e,t,1)}static GT(e,t){return he.__compare(e,t,2)}static GE(e,t){return he.__compare(e,t,3)}static EQ(e,t){for(;;){if(he.__isBigInt(e))return he.__isBigInt(t)?he.equal(e,t):he.EQ(t,e);if(typeof e=="number"){if(he.__isBigInt(t))return he.__equalToNumber(t,e);if(typeof t!="object")return e==t;t=he.__toPrimitive(t)}else if(typeof e=="string"){if(he.__isBigInt(t))return e=he.__fromString(e),e!==null&&he.equal(e,t);if(typeof t!="object")return e==t;t=he.__toPrimitive(t)}else if(typeof e=="boolean"){if(he.__isBigInt(t))return he.__equalToNumber(t,+e);if(typeof t!="object")return e==t;t=he.__toPrimitive(t)}else if(typeof e=="symbol"){if(he.__isBigInt(t))return!1;if(typeof t!="object")return e==t;t=he.__toPrimitive(t)}else if(typeof e=="object"){if(typeof t=="object"&&t.constructor!==he)return e==t;e=he.__toPrimitive(e)}else return e==t}}static NE(e,t){return!he.EQ(e,t)}static DataViewGetBigInt64(e,t,i=!1){return he.asIntN(64,he.DataViewGetBigUint64(e,t,i))}static DataViewGetBigUint64(e,t,i=!1){const[r,a]=i?[4,0]:[0,4],o=e.getUint32(t+r,i),s=e.getUint32(t+a,i),h=new he(3,!1);return h.__setDigit(0,1073741823&s),h.__setDigit(1,(268435455&o)<<2|s>>>30),h.__setDigit(2,o>>>28),h.__trim()}static DataViewSetBigInt64(e,t,i,r=!1){he.DataViewSetBigUint64(e,t,i,r)}static DataViewSetBigUint64(e,t,i,r=!1){i=he.asUintN(64,i);let a=0,o=0;if(0<i.length&&(o=i.__digit(0),1<i.length)){const p=i.__digit(1);o|=p<<30,a=p>>>2,2<i.length&&(a|=i.__digit(2)<<28)}const[s,h]=r?[4,0]:[0,4];e.setUint32(t+s,a,r),e.setUint32(t+h,o,r)}static __zero(){return new he(0,!1)}static __oneDigit(e,t){const i=new he(1,t);return i.__setDigit(0,e),i}__copy(){const e=new he(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;t===0;)e--,t=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,i,r){if(0<t)return-1;let a;if(0>t)a=-t-1;else{if(i===0)return-1;i--,r=e.__digit(i),a=29}let o=1<<a;if(!(r&o))return-1;if(o-=1,(r&o)!=0)return 1;for(;0<i;)if(i--,e.__digit(i)!==0)return 1;return 0}static __fromDouble(e){he.__kBitConversionDouble[0]=e;const t=2047&he.__kBitConversionInts[1]>>>20,i=t-1023,r=(0|i/30)+1,a=new he(r,0>e);let o=1048575&he.__kBitConversionInts[1]|1048576,s=he.__kBitConversionInts[0];const h=20,p=i%30;let f,y=0;if(p<20){const g=h-p;y=g+32,f=o>>>g,o=o<<32-g|s>>>g,s<<=32-g}else if(p===20)y=32,f=o,o=s,s=0;else{const g=p-h;y=32-g,f=o<<g|s>>>32-g,o=s<<g,s=0}a.__setDigit(r-1,f);for(let g=r-2;0<=g;g--)0<y?(y-=30,f=o>>>2,o=o<<30|s>>>2,s<<=30):f=0,a.__setDigit(g,f);return a.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,t=0){let i=0;const r=e.length;let a=0;if(a===r)return he.__zero();let o=e.charCodeAt(a);for(;he.__isWhitespace(o);){if(++a===r)return he.__zero();o=e.charCodeAt(a)}if(o===43){if(++a===r)return null;o=e.charCodeAt(a),i=1}else if(o===45){if(++a===r)return null;o=e.charCodeAt(a),i=-1}if(t===0){if(t=10,o===48){if(++a===r)return he.__zero();if(o=e.charCodeAt(a),o===88||o===120){if(t=16,++a===r)return null;o=e.charCodeAt(a)}else if(o===79||o===111){if(t=8,++a===r)return null;o=e.charCodeAt(a)}else if(o===66||o===98){if(t=2,++a===r)return null;o=e.charCodeAt(a)}}}else if(t===16&&o===48){if(++a===r)return he.__zero();if(o=e.charCodeAt(a),o===88||o===120){if(++a===r)return null;o=e.charCodeAt(a)}}if(i!=0&&t!==10)return null;for(;o===48;){if(++a===r)return he.__zero();o=e.charCodeAt(a)}const s=r-a;let h=he.__kMaxBitsPerChar[t],p=he.__kBitsPerCharTableMultiplier-1;if(s>1073741824/h)return null;const f=h*s+p>>>he.__kBitsPerCharTableShift,y=new he(0|(f+29)/30,!1),g=10>t?t:10,_=10<t?t-10:0;if(t&t-1){y.__initializeDigits();let b=!1,T=0;do{let E=0,k=1;for(;;){let w;if(o-48>>>0<g)w=o-48;else if((32|o)-97>>>0<_)w=(32|o)-87;else{b=!0;break}const N=k*t;if(1073741823<N)break;if(k=N,E=E*t+w,T++,++a===r){b=!0;break}o=e.charCodeAt(a)}p=30*he.__kBitsPerCharTableMultiplier-1;const v=0|(h*T+p>>>he.__kBitsPerCharTableShift)/30;y.__inplaceMultiplyAdd(k,E,v)}while(!b)}else{h>>=he.__kBitsPerCharTableShift;const b=[],T=[];let E=!1;do{let k=0,v=0;for(;;){let w;if(o-48>>>0<g)w=o-48;else if((32|o)-97>>>0<_)w=(32|o)-87;else{E=!0;break}if(v+=h,k=k<<h|w,++a===r){E=!0;break}if(o=e.charCodeAt(a),30<v+h)break}b.push(k),T.push(v)}while(!E);he.__fillFromParts(y,b,T)}if(a!==r){if(!he.__isWhitespace(o))return null;for(a++;a<r;a++)if(o=e.charCodeAt(a),!he.__isWhitespace(o))return null}return y.sign=i==-1,y.__trim()}static __fillFromParts(e,t,i){let r=0,a=0,o=0;for(let s=t.length-1;0<=s;s--){const h=t[s],p=i[s];a|=h<<o,o+=p,o===30?(e.__setDigit(r++,a),o=0,a=0):30<o&&(e.__setDigit(r++,1073741823&a),o-=30,a=h>>>p-o)}if(a!==0){if(r>=e.length)throw new Error("implementation bug");e.__setDigit(r++,a)}for(;r<e.length;r++)e.__setDigit(r,0)}static __toStringBasePowerOfTwo(e,t){const i=e.length;let r=t-1;r=(85&r>>>1)+(85&r),r=(51&r>>>2)+(51&r),r=(15&r>>>4)+(15&r);const a=r,o=t-1,s=e.__digit(i-1),h=he.__clz30(s);let p=0|(30*i-h+a-1)/a;if(e.sign&&p++,268435456<p)throw new Error("string too long");const f=Array(p);let y=p-1,g=0,_=0;for(let T=0;T<i-1;T++){const E=e.__digit(T),k=(g|E<<_)&o;f[y--]=he.__kConversionChars[k];const v=a-_;for(g=E>>>v,_=30-v;_>=a;)f[y--]=he.__kConversionChars[g&o],g>>>=a,_-=a}const b=(g|s<<_)&o;for(f[y--]=he.__kConversionChars[b],g=s>>>a-_;g!==0;)f[y--]=he.__kConversionChars[g&o],g>>>=a;if(e.sign&&(f[y--]="-"),y!=-1)throw new Error("implementation bug");return f.join("")}static __toStringGeneric(e,t,i){const r=e.length;if(r===0)return"";if(r===1){let T=e.__unsignedDigit(0).toString(t);return i===!1&&e.sign&&(T="-"+T),T}const a=30*r-he.__clz30(e.__digit(r-1)),o=he.__kMaxBitsPerChar[t],s=o-1;let h=a*he.__kBitsPerCharTableMultiplier;h+=s-1,h=0|h/s;const p=h+1>>1,f=he.exponentiate(he.__oneDigit(t,!1),he.__oneDigit(p,!1));let y,g;const _=f.__unsignedDigit(0);if(f.length===1&&32767>=_){y=new he(e.length,!1),y.__initializeDigits();let T=0;for(let E=2*e.length-1;0<=E;E--){const k=T<<15|e.__halfDigit(E);y.__setHalfDigit(E,0|k/_),T=0|k%_}g=T.toString(t)}else{const T=he.__absoluteDivLarge(e,f,!0,!0);y=T.quotient;const E=T.remainder.__trim();g=he.__toStringGeneric(E,t,!0)}y.__trim();let b=he.__toStringGeneric(y,t,!0);for(;g.length<p;)g="0"+g;return i===!1&&e.sign&&(b="-"+b),b+g}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){const i=e.sign;if(i!==t.sign)return he.__unequalSign(i);const r=he.__absoluteCompare(e,t);return 0<r?he.__absoluteGreater(i):0>r?he.__absoluteLess(i):0}static __compareToNumber(e,t){if(he.__isOneDigitInt(t)){const i=e.sign,r=0>t;if(i!==r)return he.__unequalSign(i);if(e.length===0){if(r)throw new Error("implementation bug");return t===0?0:-1}if(1<e.length)return he.__absoluteGreater(i);const a=Math.abs(t),o=e.__unsignedDigit(0);return o>a?he.__absoluteGreater(i):o<a?he.__absoluteLess(i):0}return he.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;const i=e.sign;if(i!==0>t)return he.__unequalSign(i);if(t===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;he.__kBitConversionDouble[0]=t;const r=2047&he.__kBitConversionInts[1]>>>20;if(r==2047)throw new Error("implementation bug: handled elsewhere");const a=r-1023;if(0>a)return he.__absoluteGreater(i);const o=e.length;let s=e.__digit(o-1);const h=he.__clz30(s),p=30*o-h,f=a+1;if(p<f)return he.__absoluteLess(i);if(p>f)return he.__absoluteGreater(i);let y=1048576|1048575&he.__kBitConversionInts[1],g=he.__kBitConversionInts[0];const _=20,b=29-h;if(b!==(0|(p-1)%30))throw new Error("implementation bug");let T,E=0;if(20>b){const k=_-b;E=k+32,T=y>>>k,y=y<<32-k|g>>>k,g<<=32-k}else if(b===20)E=32,T=y,y=g,g=0;else{const k=b-_;E=32-k,T=y<<k|g>>>32-k,y=g<<k,g=0}if(s>>>=0,T>>>=0,s>T)return he.__absoluteGreater(i);if(s<T)return he.__absoluteLess(i);for(let k=o-2;0<=k;k--){0<E?(E-=30,T=y>>>2,y=y<<30|g>>>2,g<<=30):T=0;const v=e.__unsignedDigit(k);if(v>T)return he.__absoluteGreater(i);if(v<T)return he.__absoluteLess(i)}if(y!==0||g!==0){if(E===0)throw new Error("implementation bug");return he.__absoluteLess(i)}return 0}static __equalToNumber(e,t){var i=Math.abs;return he.__isOneDigitInt(t)?t===0?e.length===0:e.length===1&&e.sign===0>t&&e.__unsignedDigit(0)===i(t):he.__compareToDouble(e,t)===0}static __comparisonResultToBool(e,t){return t===0?0>e:t===1?0>=e:t===2?0<e:t===3?0<=e:void 0}static __compare(e,t,i){if(e=he.__toPrimitive(e),t=he.__toPrimitive(t),typeof e=="string"&&typeof t=="string")switch(i){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(he.__isBigInt(e)&&typeof t=="string")return t=he.__fromString(t),t!==null&&he.__comparisonResultToBool(he.__compareToBigInt(e,t),i);if(typeof e=="string"&&he.__isBigInt(t))return e=he.__fromString(e),e!==null&&he.__comparisonResultToBool(he.__compareToBigInt(e,t),i);if(e=he.__toNumeric(e),t=he.__toNumeric(t),he.__isBigInt(e)){if(he.__isBigInt(t))return he.__comparisonResultToBool(he.__compareToBigInt(e,t),i);if(typeof t!="number")throw new Error("implementation bug");return he.__comparisonResultToBool(he.__compareToNumber(e,t),i)}if(typeof e!="number")throw new Error("implementation bug");if(he.__isBigInt(t))return he.__comparisonResultToBool(he.__compareToNumber(t,e),2^i);if(typeof t!="number")throw new Error("implementation bug");return i===0?e<t:i===1?e<=t:i===2?e>t:i===3?e>=t:void 0}__clzmsd(){return he.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,i){if(e.length<t.length)return he.__absoluteAdd(t,e,i);if(e.length===0)return e;if(t.length===0)return e.sign===i?e:he.unaryMinus(e);let r=e.length;(e.__clzmsd()===0||t.length===e.length&&t.__clzmsd()===0)&&r++;const a=new he(r,i);let o=0,s=0;for(;s<t.length;s++){const h=e.__digit(s)+t.__digit(s)+o;o=h>>>30,a.__setDigit(s,1073741823&h)}for(;s<e.length;s++){const h=e.__digit(s)+o;o=h>>>30,a.__setDigit(s,1073741823&h)}return s<a.length&&a.__setDigit(s,o),a.__trim()}static __absoluteSub(e,t,i){if(e.length===0)return e;if(t.length===0)return e.sign===i?e:he.unaryMinus(e);const r=new he(e.length,i);let a=0,o=0;for(;o<t.length;o++){const s=e.__digit(o)-t.__digit(o)-a;a=1&s>>>30,r.__setDigit(o,1073741823&s)}for(;o<e.length;o++){const s=e.__digit(o)-a;a=1&s>>>30,r.__setDigit(o,1073741823&s)}return r.__trim()}static __absoluteAddOne(e,t,i=null){const r=e.length;i===null?i=new he(r,t):i.sign=t;let a=1;for(let o=0;o<r;o++){const s=e.__digit(o)+a;a=s>>>30,i.__setDigit(o,1073741823&s)}return a!=0&&i.__setDigitGrow(r,1),i}static __absoluteSubOne(e,t){const i=e.length;t=t||i;const r=new he(t,!1);let a=1;for(let o=0;o<i;o++){const s=e.__digit(o)-a;a=1&s>>>30,r.__setDigit(o,1073741823&s)}if(a!=0)throw new Error("implementation bug");for(let o=i;o<t;o++)r.__setDigit(o,0);return r}static __absoluteAnd(e,t,i=null){let r=e.length,a=t.length,o=a;if(r<a){o=r;const p=e,f=r;e=t,r=a,t=p,a=f}let s=o;i===null?i=new he(s,!1):s=i.length;let h=0;for(;h<o;h++)i.__setDigit(h,e.__digit(h)&t.__digit(h));for(;h<s;h++)i.__setDigit(h,0);return i}static __absoluteAndNot(e,t,i=null){const r=e.length,a=t.length;let o=a;r<a&&(o=r);let s=r;i===null?i=new he(s,!1):s=i.length;let h=0;for(;h<o;h++)i.__setDigit(h,e.__digit(h)&~t.__digit(h));for(;h<r;h++)i.__setDigit(h,e.__digit(h));for(;h<s;h++)i.__setDigit(h,0);return i}static __absoluteOr(e,t,i=null){let r=e.length,a=t.length,o=a;if(r<a){o=r;const p=e,f=r;e=t,r=a,t=p,a=f}let s=r;i===null?i=new he(s,!1):s=i.length;let h=0;for(;h<o;h++)i.__setDigit(h,e.__digit(h)|t.__digit(h));for(;h<r;h++)i.__setDigit(h,e.__digit(h));for(;h<s;h++)i.__setDigit(h,0);return i}static __absoluteXor(e,t,i=null){let r=e.length,a=t.length,o=a;if(r<a){o=r;const p=e,f=r;e=t,r=a,t=p,a=f}let s=r;i===null?i=new he(s,!1):s=i.length;let h=0;for(;h<o;h++)i.__setDigit(h,e.__digit(h)^t.__digit(h));for(;h<r;h++)i.__setDigit(h,e.__digit(h));for(;h<s;h++)i.__setDigit(h,0);return i}static __absoluteCompare(e,t){const i=e.length-t.length;if(i!=0)return i;let r=e.length-1;for(;0<=r&&e.__digit(r)===t.__digit(r);)r--;return 0>r?0:e.__unsignedDigit(r)>t.__unsignedDigit(r)?1:-1}static __multiplyAccumulate(e,t,i,r){if(t===0)return;const a=32767&t,o=t>>>15;let s=0,h=0;for(let p,f=0;f<e.length;f++,r++){p=i.__digit(r);const y=e.__digit(f),g=32767&y,_=y>>>15,b=he.__imul(g,a),T=he.__imul(g,o),E=he.__imul(_,a),k=he.__imul(_,o);p+=h+b+s,s=p>>>30,p&=1073741823,p+=((32767&T)<<15)+((32767&E)<<15),s+=p>>>30,h=k+(T>>>15)+(E>>>15),i.__setDigit(r,1073741823&p)}for(;s!=0||h!==0;r++){let p=i.__digit(r);p+=s+h,h=0,s=p>>>30,i.__setDigit(r,1073741823&p)}}static __internalMultiplyAdd(e,t,i,r,a){let o=i,s=0;for(let h=0;h<r;h++){const p=e.__digit(h),f=he.__imul(32767&p,t),y=he.__imul(p>>>15,t),g=f+((32767&y)<<15)+s+o;o=g>>>30,s=y>>>15,a.__setDigit(h,1073741823&g)}if(a.length>r)for(a.__setDigit(r++,o+s);r<a.length;)a.__setDigit(r++,0);else if(o+s!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,t,i){i>this.length&&(i=this.length);const r=32767&e,a=e>>>15;let o=0,s=t;for(let h=0;h<i;h++){const p=this.__digit(h),f=32767&p,y=p>>>15,g=he.__imul(f,r),_=he.__imul(f,a),b=he.__imul(y,r),T=he.__imul(y,a);let E=s+g+o;o=E>>>30,E&=1073741823,E+=((32767&_)<<15)+((32767&b)<<15),o+=E>>>30,s=T+(_>>>15)+(b>>>15),this.__setDigit(h,1073741823&E)}if(o!=0||s!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,t,i=null){i===null&&(i=new he(e.length,!1));let r=0;for(let a,o=2*e.length-1;0<=o;o-=2){a=(r<<15|e.__halfDigit(o))>>>0;const s=0|a/t;r=0|a%t,a=(r<<15|e.__halfDigit(o-1))>>>0;const h=0|a/t;r=0|a%t,i.__setDigit(o>>>1,s<<15|h)}return i}static __absoluteModSmall(e,t){let i=0;for(let r=2*e.length-1;0<=r;r--)i=0|((i<<15|e.__halfDigit(r))>>>0)%t;return i}static __absoluteDivLarge(e,t,i,r){const a=t.__halfDigitLength(),o=t.length,s=e.__halfDigitLength()-a;let h=null;i&&(h=new he(s+2>>>1,!1),h.__initializeDigits());const p=new he(a+2>>>1,!1);p.__initializeDigits();const f=he.__clz15(t.__halfDigit(a-1));0<f&&(t=he.__specialLeftShift(t,f,0));const y=he.__specialLeftShift(e,f,1),g=t.__halfDigit(a-1);let _=0;for(let b,T=s;0<=T;T--){b=32767;const E=y.__halfDigit(T+a);if(E!==g){const v=(E<<15|y.__halfDigit(T+a-1))>>>0;b=0|v/g;let w=0|v%g;const N=t.__halfDigit(a-2),C=y.__halfDigit(T+a-2);for(;he.__imul(b,N)>>>0>(w<<16|C)>>>0&&(b--,w+=g,!(32767<w)););}he.__internalMultiplyAdd(t,b,0,o,p);let k=y.__inplaceSub(p,T,a+1);k!==0&&(k=y.__inplaceAdd(t,T,a),y.__setHalfDigit(T+a,32767&y.__halfDigit(T+a)+k),b--),i&&(1&T?_=b<<15:h.__setDigit(T>>>1,_|b))}if(r)return y.__inplaceRightShift(f),i?{quotient:h,remainder:y}:y;if(i)return h;throw new Error("unreachable")}static __clz15(e){return he.__clz30(e)-15}__inplaceAdd(e,t,i){let r=0;for(let a=0;a<i;a++){const o=this.__halfDigit(t+a)+e.__halfDigit(a)+r;r=o>>>15,this.__setHalfDigit(t+a,32767&o)}return r}__inplaceSub(e,t,i){let r=0;if(1&t){t>>=1;let a=this.__digit(t),o=32767&a,s=0;for(;s<i-1>>>1;s++){const f=e.__digit(s),y=(a>>>15)-(32767&f)-r;r=1&y>>>15,this.__setDigit(t+s,(32767&y)<<15|32767&o),a=this.__digit(t+s+1),o=(32767&a)-(f>>>15)-r,r=1&o>>>15}const h=e.__digit(s),p=(a>>>15)-(32767&h)-r;if(r=1&p>>>15,this.__setDigit(t+s,(32767&p)<<15|32767&o),t+s+1>=this.length)throw new RangeError("out of bounds");!(1&i)&&(a=this.__digit(t+s+1),o=(32767&a)-(h>>>15)-r,r=1&o>>>15,this.__setDigit(t+e.length,1073709056&a|32767&o))}else{t>>=1;let a=0;for(;a<e.length-1;a++){const f=this.__digit(t+a),y=e.__digit(a),g=(32767&f)-(32767&y)-r;r=1&g>>>15;const _=(f>>>15)-(y>>>15)-r;r=1&_>>>15,this.__setDigit(t+a,(32767&_)<<15|32767&g)}const o=this.__digit(t+a),s=e.__digit(a),h=(32767&o)-(32767&s)-r;r=1&h>>>15;let p=0;!(1&i)&&(p=(o>>>15)-(s>>>15)-r,r=1&p>>>15),this.__setDigit(t+a,(32767&p)<<15|32767&h)}return r}__inplaceRightShift(e){if(e===0)return;let t=this.__digit(0)>>>e;const i=this.length-1;for(let r=0;r<i;r++){const a=this.__digit(r+1);this.__setDigit(r,1073741823&a<<30-e|t),t=a>>>e}this.__setDigit(i,t)}static __specialLeftShift(e,t,i){const r=e.length,a=new he(r+i,!1);if(t===0){for(let s=0;s<r;s++)a.__setDigit(s,e.__digit(s));return 0<i&&a.__setDigit(r,0),a}let o=0;for(let s=0;s<r;s++){const h=e.__digit(s);a.__setDigit(s,1073741823&h<<t|o),o=h>>>30-t}return 0<i&&a.__setDigit(r,o),a}static __leftShiftByAbsolute(e,t){const i=he.__toShiftAmount(t);if(0>i)throw new RangeError("BigInt too big");const r=0|i/30,a=i%30,o=e.length,s=a!==0&&e.__digit(o-1)>>>30-a!=0,h=o+r+(s?1:0),p=new he(h,e.sign);if(a===0){let f=0;for(;f<r;f++)p.__setDigit(f,0);for(;f<h;f++)p.__setDigit(f,e.__digit(f-r))}else{let f=0;for(let y=0;y<r;y++)p.__setDigit(y,0);for(let y=0;y<o;y++){const g=e.__digit(y);p.__setDigit(y+r,1073741823&g<<a|f),f=g>>>30-a}if(s)p.__setDigit(o+r,f);else if(f!==0)throw new Error("implementation bug")}return p.__trim()}static __rightShiftByAbsolute(e,t){const i=e.length,r=e.sign,a=he.__toShiftAmount(t);if(0>a)return he.__rightShiftByMaximum(r);const o=0|a/30,s=a%30;let h=i-o;if(0>=h)return he.__rightShiftByMaximum(r);let p=!1;if(r){if(e.__digit(o)&(1<<s)-1)p=!0;else for(let y=0;y<o;y++)if(e.__digit(y)!==0){p=!0;break}}p&&s===0&&!~e.__digit(i-1)&&h++;let f=new he(h,r);if(s===0){f.__setDigit(h-1,0);for(let y=o;y<i;y++)f.__setDigit(y-o,e.__digit(y))}else{let y=e.__digit(o)>>>s;const g=i-o-1;for(let _=0;_<g;_++){const b=e.__digit(_+o+1);f.__setDigit(_,1073741823&b<<30-s|y),y=b>>>s}f.__setDigit(g,y)}return p&&(f=he.__absoluteAddOne(f,!0,f)),f.__trim()}static __rightShiftByMaximum(e){return e?he.__oneDigit(1,!0):he.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const t=e.__unsignedDigit(0);return t>he.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if(typeof e!="object"||e.constructor===he)return e;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){const a=e[Symbol.toPrimitive];if(a){const o=a(t);if(typeof o!="object")return o;throw new TypeError("Cannot convert object to primitive value")}}const i=e.valueOf;if(i){const a=i.call(e);if(typeof a!="object")return a}const r=e.toString;if(r){const a=r.call(e);if(typeof a!="object")return a}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return he.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e!==null&&e.constructor===he}static __truncateToNBits(e,t){const i=0|(e+29)/30,r=new he(i,t.sign),a=i-1;for(let s=0;s<a;s++)r.__setDigit(s,t.__digit(s));let o=t.__digit(a);if(e%30!=0){const s=32-e%30;o=o<<s>>>s}return r.__setDigit(a,o),r.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,i){var r=Math.min;const a=0|(e+29)/30,o=new he(a,i);let s=0;const h=a-1;let p=0;for(const _=r(h,t.length);s<_;s++){const b=0-t.__digit(s)-p;p=1&b>>>30,o.__setDigit(s,1073741823&b)}for(;s<h;s++)o.__setDigit(s,0|1073741823&-p);let f=h<t.length?t.__digit(h):0;const y=e%30;let g;if(y==0)g=0-f-p,g&=1073741823;else{const _=32-y;f=f<<_>>>_;const b=1<<32-_;g=b-f-p,g&=b-1}return o.__setDigit(h,g),o.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){const i=e>>>1,r=this.__digit(i),a=1&e?32767&r|t<<15:1073709056&r|32767&t;this.__setDigit(i,a)}static __digitPow(e,t){let i=1;for(;0<t;)1&t&&(i*=e),t>>>=1,e*=e;return i}static __isOneDigitInt(e){return(1073741823&e)===e}}he.__kMaxLength=33554432,he.__kMaxLengthBits=he.__kMaxLength<<5,he.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],he.__kBitsPerCharTableShift=5,he.__kBitsPerCharTableMultiplier=1<<he.__kBitsPerCharTableShift,he.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],he.__kBitConversionBuffer=new ArrayBuffer(8),he.__kBitConversionDouble=new Float64Array(he.__kBitConversionBuffer),he.__kBitConversionInts=new Int32Array(he.__kBitConversionBuffer),he.__clz30=Math.clz32?function(n){return Math.clz32(n)-2}:function(n){return n===0?30:0|29-(0|Math.log(n>>>0)/Math.LN2)},he.__imul=Math.imul||function(n,e){return 0|n*e};const Aw={};function tu(n,e){Object.defineProperty(n.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(const t of Object.getOwnPropertyNames(n)){const i=Object.getOwnPropertyDescriptor(n,t);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(n,t,i))}for(const t of Object.getOwnPropertyNames(n.prototype)){const i=Object.getOwnPropertyDescriptor(n.prototype,t);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(n.prototype,t,i))}Pw(e,n),Pw(`${e}.prototype`,n.prototype)}function Pw(n,e){const t=`%${n}%`;if(Aw[t]!==void 0)throw new Error(`intrinsic ${n} already exists`);Aw[t]=e}function Fn(n){return Aw[n]}const zn="slot-epochNanoSeconds",Td="slot-timezone-identifier",dn="slot-year",gn="slot-month",_n="slot-day",Xn="slot-hour",Zn="slot-minute",Kn="slot-second",Qn="slot-millisecond",Jn="slot-microsecond",ei="slot-nanosecond",Lt="slot-calendar",ls="slot-cached-instant",Fi="slot-time-zone",Cs="slot-years",Ia="slot-months",Hs="slot-weeks",Es="slot-days",ks="slot-hours",Ls="slot-minutes",Ns="slot-seconds",Is="slot-milliseconds",As="slot-microseconds",Ps="slot-nanoseconds",Gr="slot-calendar-identifier",VN=new WeakMap;function nu(n){VN.set(n,Object.create(null))}function I1(n){return VN.get(n)}function Ta(n,...e){if(!n||typeof n!="object")return!1;const t=I1(n);return!!t&&e.reduce((i,r)=>i&&r in t,!0)}function Z(n,e){const t=I1(n)[e];if(t===void 0)throw new TypeError(`Missing internal slot ${e}`);return t}function ai(n,e,t){I1(n)[e]=t}const GC=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,q3=new RegExp(`(?:(?:${GC.source})(?:\\/(?:${GC.source}))*|Etc/GMT[-+]\\d{1,2}|${/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source})`),YC=/[A-Za-z0-9]{3,8}/,W3=new RegExp(`(?:${YC.source}(?:-${YC.source})*)`),qN=/(?:[+\u2212-]\d{6}|\d{4})/,nb=/(?:0[1-9]|1[0-2])/,Mw=/(?:0[1-9]|[12]\d|3[01])/,H3=new RegExp(`(${qN.source})(?:-(${nb.source})-(${Mw.source})|(${nb.source})(${Mw.source}))`),WN=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,HN=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,XN=new RegExp(`(?:([zZ])|(?:${HN.source})?)(?:\\[(${q3.source})\\])?`),ZN=new RegExp(`\\[u-ca=(${W3.source})\\]`),X3=new RegExp(`^${H3.source}(?:(?:T|\\s+)${WN.source})?${XN.source}(?:${ZN.source})?$`,"i"),Z3=new RegExp(`^T?${WN.source}(?:${XN.source})?(?:${ZN.source})?$`,"i"),K3=new RegExp(`^(${qN.source})-?(${nb.source})$`),Q3=new RegExp(`^(?:--)?(${nb.source})-?(${Mw.source})$`),B_=/(\d+)(?:[.,](\d{1,9}))?/,J3=new RegExp(`(?:${B_.source}H)?(?:${B_.source}M)?(?:${B_.source}S)?`),e$=new RegExp(`^([+−-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${J3.source})?$`,"i"),KN=Array.prototype.includes,A1=Array.prototype.push,QN=globalThis.Intl.DateTimeFormat,t$=Math.min,n$=Math.max,ki=Math.abs,ba=Math.floor,oy=Math.sign,Am=Math.trunc,zy=Number.isNaN,Ma=Number.isFinite,i$=Number,Fy=String,r$=Number.MAX_SAFE_INTEGER,JN=Object.assign,Za=Object.create,a$=Object.getOwnPropertyDescriptor,s$=Object.is,P1=Reflect.apply,Yr=he.BigInt(0),M1=he.BigInt(1),Kh=he.BigInt(60),Bi=he.BigInt(1e3),ll=he.BigInt(1e6),Ru=he.BigInt(1e9),o$=he.BigInt(-1),Od=he.multiply(he.BigInt(86400),Ru),ly=he.multiply(he.BigInt(-86400),he.BigInt(1e17)),cy=he.multiply(he.BigInt(86400),he.BigInt(1e17)),e2=he.multiply(he.BigInt(-388152),he.BigInt(1e13)),l$=he.multiply(Od,he.BigInt(3660)),t2=he.multiply(Od,he.BigInt(366)),n2=he.multiply(Od,he.BigInt(14)),c$=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function i2(n){if(typeof n!="number"||!Ma(n))return!1;const e=ki(n);return ba(e)===e}function rr(n){return typeof n=="object"&&n!==null||typeof n=="function"}function uy(n){if(typeof n=="bigint")throw new TypeError("Cannot convert BigInt to number");return i$(n)}function ji(n){const e=uy(n);if(zy(e))return 0;const t=Am(e);return e===0?0:t}function Vn(n){if(typeof n=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return Fy(n)}function Zi(n){const e=ji(n);if(!Ma(e))throw new RangeError("infinity is out of range");return e}function dy(n,e){const t=ji(n);if(!Ma(t))throw new RangeError("infinity is out of range");if(t<1)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return t}function xa(n){const e=uy(n);if(zy(e))return 0;if(!Ma(e))throw new RangeError("infinity is out of range");if(!i2(e))throw new RangeError(`unsupported fractional value ${e}`);return ji(e)}function va(n,e){return{quotient:he.divide(n,e),remainder:he.remainder(n,e)}}function D1(n){return he.lessThan(n,Yr)?he.multiply(n,o$):n}function Dw(n,...e){return A1.apply(n,e),n}const VC=new Map([["year",Zi],["month",dy],["monthCode",Vn],["day",dy],["hour",Zi],["minute",Zi],["second",Zi],["millisecond",Zi],["microsecond",Zi],["nanosecond",Zi],["years",xa],["months",xa],["weeks",xa],["days",xa],["hours",xa],["minutes",xa],["seconds",xa],["milliseconds",xa],["microseconds",xa],["nanoseconds",xa],["era",Vn],["eraYear",ji],["offset",Vn]]),u$=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),wf=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],ib=new Map(wf.map(n=>[n[0],n[1]])),d$=new Map(wf.map(([n,e])=>[e,n])),qC=wf.map(([,n])=>n),WC=Array.from(ib.keys()).sort(),HC=new Map;function r2(n){let e=HC.get(n);return e===void 0&&(e=new QN("en-us",{timeZone:Fy(n),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),HC.set(n,e)),e}function pa(n){return Ta(n,zn)&&!Ta(n,Fi,Lt)}function Oc(n){return Ta(n,Td)}function Ur(n){return Ta(n,Gr)}function Er(n){return Ta(n,Cs,Ia,Es,ks,Ls,Ns,Is,As,Ps)}function bi(n){return Ta(n,"slot-date-brand")}function kr(n){return Ta(n,Xn,Zn,Kn,Qn,Jn,ei)&&!Ta(n,dn,gn,_n)}function ri(n){return Ta(n,dn,gn,_n,Xn,Zn,Kn,Qn,Jn,ei)}function Pi(n){return Ta(n,"slot-year-month-brand")}function Aa(n){return Ta(n,"slot-month-day-brand")}function En(n){return Ta(n,zn,Fi,Lt)}function Tf(n){if(Ta(n,Lt)||Ta(n,Fi))throw new TypeError("with() does not support a calendar or timeZone property");if(n.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(n.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function a2(n){let{ianaName:e,offset:t,z:i}=function(a){try{let o=j1(a);if(o)return{ianaName:o.toString()}}catch{}try{const o=iu(a);if(o.z||o.offset||o.ianaName)return o}catch{}throw new RangeError(`Invalid time zone: ${a}`)}(n);return e||(i?"UTC":t)}function By(n,e){return e==="never"||e==="auto"&&n==="iso8601"?"":`[u-ca=${n}]`}function iu(n){const e=X3.exec(n);if(!e)throw new RangeError(`invalid ISO 8601 string: ${n}`);let t=e[1];if(t[0]==="−"&&(t=`-${t.slice(1)}`),t==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);const i=ji(t),r=ji(e[2]||e[4]),a=ji(e[3]||e[5]),o=ji(e[6]),s=e[6]!==void 0,h=ji(e[7]||e[10]);let p=ji(e[8]||e[11]);p===60&&(p=59);const f=(e[9]||e[12])+"000000000",y=ji(f.slice(0,3)),g=ji(f.slice(3,6)),_=ji(f.slice(6,9));let b,T=!1;if(e[13])b=void 0,T=!0;else if(e[14]&&e[15]){const v=e[14]==="-"||e[14]==="−"?"-":"+",w=e[15]||"00",N=e[16]||"00",C=e[17]||"00";let L=e[18]||"0";if(b=`${v}${w}:${N}`,+L){for(;L.endsWith("0");)L=L.slice(0,-1);b+=`:${C}.${L}`}else+C&&(b+=`:${C}`);b==="-00:00"&&(b="+00:00")}let E=e[19];if(E)try{E=j1(E).toString()}catch{}const k=e[20];return V1(i,r,a,o,h,p,y,g,_),{year:i,month:r,day:a,hasTime:s,hour:o,minute:h,second:p,millisecond:y,microsecond:g,nanosecond:_,ianaName:E,offset:b,z:T,calendar:k}}function s2(n){const e=K3.exec(n);let t,i,r,a;if(e){let o=e[1];if(o[0]==="−"&&(o=`-${o.slice(1)}`),o==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);t=ji(o),i=ji(e[2]),r=e[3]}else{let o;if({year:t,month:i,calendar:r,day:a,z:o}=iu(n),o)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:t,month:i,calendar:r,referenceISODay:a}}function o2(n){const e=Q3.exec(n);let t,i,r,a;if(e)t=ji(e[1]),i=ji(e[2]);else{let o;if({month:t,day:i,calendar:r,year:a,z:o}=iu(n),o)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:t,day:i,calendar:r,referenceISOYear:a}}function h$(n){const e=e$.exec(n);if(!e)throw new RangeError(`invalid duration: ${n}`);if(e.slice(2).every(E=>E===void 0))throw new RangeError(`invalid duration: ${n}`);const t=e[1]==="-"||e[1]==="−"?-1:1,i=ji(e[2])*t,r=ji(e[3])*t,a=ji(e[4])*t,o=ji(e[5])*t,s=ji(e[6])*t;let h=e[7],p=ji(e[8])*t,f=e[9],y=ji(e[10])*t;const g=e[11]+"000000000";let _=ji(g.slice(0,3))*t,b=ji(g.slice(3,6))*t,T=ji(g.slice(6,9))*t;return h=h?t*ji(h)/10**h.length:0,f=f?t*ji(f)/10**f.length:0,{minutes:p,seconds:y,milliseconds:_,microseconds:b,nanoseconds:T}=function(k,v,w,N,C,L,O){let W=k,X=v,H=w,$=N,G=C,j=L,D=O;if(W!==0){[X,H,$,G,j,D].forEach(Y=>{if(Y!==0)throw new RangeError("only the smallest unit can be fractional")});const M=60*W;X=Am(M),H=M%1}if(H!==0){[$,G,j,D].forEach(B=>{if(B!==0)throw new RangeError("only the smallest unit can be fractional")});const M=60*H;$=Am(M);const Y=M%1;if(Y!==0){const B=1e3*Y;G=Am(B);const z=B%1;if(z!==0){const q=1e3*z;j=Am(q);const V=q%1;V!==0&&(D=Am(1e3*V))}}}return{minutes:X,seconds:$,milliseconds:G,microseconds:j,nanoseconds:D}}(h,p,f,y,_,b,T),l0(i,r,a,o,s,p,y,_,b,T),{years:i,months:r,weeks:a,days:o,hours:s,minutes:p,seconds:y,milliseconds:_,microseconds:b,nanoseconds:T}}function p$(n){let{year:e,month:t,day:i,hour:r,minute:a,second:o,millisecond:s,microsecond:h,nanosecond:p,offset:f,z:y}=function(T){const E=iu(T);if(!E.z&&!E.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return E}(n);if(!y&&!f)throw new RangeError("Temporal.Instant requires a time zone offset");const g=y?0:op(f);({year:e,month:t,day:i,hour:r,minute:a,second:o,millisecond:s,microsecond:h,nanosecond:p}=G1(e,t,i,r,a,o,s,h,p-g));const _=zd(e,t,i,r,a,o,s,h,p);if(_===null)throw new RangeError("DateTime outside of supported range");return _}function rb(n,e,t,i){let r=n,a=e,o=t;switch(i){case"reject":qc(r,a,o);break;case"constrain":({year:r,month:a,day:o}=w2(r,a,o))}return{year:r,month:a,day:o}}function Xb(n,e,t,i,r,a,o){let s=n,h=e,p=t,f=i,y=r,g=a;switch(o){case"reject":o0(s,h,p,f,y,g);break;case"constrain":({hour:s,minute:h,second:p,millisecond:f,microsecond:y,nanosecond:g}=function(b,T,E,k,v,w){const N=vo(b,0,23),C=vo(T,0,59),L=vo(E,0,59),O=vo(k,0,999),W=vo(v,0,999),X=vo(w,0,999);return{hour:N,minute:C,second:L,millisecond:O,microsecond:W,nanosecond:X}}(s,h,p,f,y,g))}return{hour:s,minute:h,second:p,millisecond:f,microsecond:y,nanosecond:g}}function Tp(n){if(!rr(n))return h$(Vn(n));if(Er(n))return{years:Z(n,Cs),months:Z(n,Ia),weeks:Z(n,Hs),days:Z(n,Es),hours:Z(n,ks),minutes:Z(n,Ls),seconds:Z(n,Ns),milliseconds:Z(n,Is),microseconds:Z(n,As),nanoseconds:Z(n,Ps)};const e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let t=function(b){if(!rr(b))throw new TypeError("invalid duration-like");const T={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let E=!1;for(const k of WC){const v=b[k];v!==void 0&&(E=!0,T[k]=xa(v))}if(!E)throw new TypeError("invalid duration-like");return T}(n);for(const _ of WC){const b=t[_];b!==void 0&&(e[_]=b)}let{years:i,months:r,weeks:a,days:o,hours:s,minutes:h,seconds:p,milliseconds:f,microseconds:y,nanoseconds:g}=e;return l0(i,r,a,o,s,h,p,f,y,g),{years:i,months:r,weeks:a,days:o,hours:s,minutes:h,seconds:p,milliseconds:f,microseconds:y,nanoseconds:g}}function Xr(n){return n===void 0?"constrain":Bd(n,"overflow",["constrain","reject"],"constrain")}function hy(n){return n===void 0?"compatible":Bd(n,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function Ks(n,e){return Bd(n,"roundingMode",["ceil","floor","trunc","halfExpand"],e)}function jy(n){switch(n){case"ceil":return"floor";case"floor":return"ceil";default:return n}}function Ow(n,e){return n===void 0?e:Bd(n,"offset",["prefer","use","ignore","reject"],e)}function Uy(n){return Bd(n,"calendarName",["auto","always","never"],"auto")}function Qu(n,e,t){let i=1/0;e!==void 0&&(i=e),t||e===void 0||(i=e>1?e-1:1);const r=function(o,s,h,p,f){let y=o[s];if(y===void 0)return f;const g=uy(y);if(zy(g)||g<h||g>p)throw new RangeError(`${String(s)} must be between ${h} and ${p}, not ${g}`);return ba(g)}(n,"roundingIncrement",1,i,1);if(e!==void 0&&e%r!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`);return r}function O1(n,e){return Qu(n,{year:void 0,month:void 0,week:void 0,day:void 0,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[e],!1)}function Gy(n){const e=wa(n,"smallestUnit","time",void 0);if(e==="hour"){const r=wf.reduce((a,[o,s,h])=>(h==="time"&&s!=="hour"&&a.push(s,o),a),[]);throw new RangeError(`smallestUnit must be one of ${r.join(", ")}, not ${e}`)}switch(e){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}let t=n.fractionalSecondDigits;if(t===void 0&&(t="auto"),typeof t!="number"){const r=Vn(t);if(r==="auto")return{precision:"auto",unit:"nanosecond",increment:1};throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${r}`)}if(zy(t)||t<0||t>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);const i=ba(t);switch(i){case 0:return{precision:i,unit:"second",increment:1};case 1:case 2:case 3:return{precision:i,unit:"millisecond",increment:10**(3-i)};case 4:case 5:case 6:return{precision:i,unit:"microsecond",increment:10**(6-i)};case 7:case 8:case 9:return{precision:i,unit:"nanosecond",increment:10**(9-i)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const rp=Symbol("~required~");function wa(n,e,t,i,r=[]){const a=[];for(const[,p,f]of wf)t!=="datetime"&&t!==f||a.push(p);a.push(...r);let o=i;o===rp?o=void 0:o!==void 0&&a.push(o);const s=[...a];for(const p of a){const f=d$.get(p);f!==void 0&&s.push(f)}let h=Bd(n,e,s,o);if(h===void 0&&i===rp)throw new RangeError(`${e} is required`);return ib.has(h)?ib.get(h):h}function Fx(n){const e=n.relativeTo;if(e===void 0)return e;let t,i,r,a,o,s,h,p,f,y,g,_,b="option",T=!1;if(rr(e)){if(En(e)||bi(e))return e;if(ri(e))return Vm(e);y=Sf(e);const E=li(e,sa(y,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]),k=Za(null);k.overflow="constrain",{year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:h,microsecond:p,nanosecond:f}=Yy(y,E,k),_=e.offset,_===void 0&&(b="wall"),g=e.timeZone}else{let E,k;({year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:h,microsecond:p,nanosecond:f,calendar:y,ianaName:E,offset:_,z:k}=iu(Vn(e))),E&&(g=E),k?b="exact":_||(b="wall"),y||(y=Zr()),y=Fa(y),T=!0}if(g!==void 0){g=zs(g);let E=0;return b==="option"&&(E=op(Vn(_))),Va(sb(t,i,r,a,o,s,h,p,f,b,E,g,"compatible","reject",T),g,y)}return Bl(t,i,r,y)}function Rw(n,e,t,i,r,a,o,s,h,p){for(const[f,y]of[["years",n],["months",e],["weeks",t],["days",i],["hours",r],["minutes",a],["seconds",o],["milliseconds",s],["microseconds",h],["nanoseconds",p]])if(y!==0)return ib.get(f);return"nanosecond"}function Co(n,e){return qC.indexOf(n)>qC.indexOf(e)?e:n}function Zb(n,e){let t=n;return t===void 0&&(t=Za(null)),JN(Za(null),t,{largestUnit:e})}function li(n,e,t,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const r=Za(null);let a=!1;for(const o of e){let s=n[o];if(s!==void 0)a=!0,VC.has(o)&&(s=VC.get(o)(s)),r[o]=s;else if(t!=="partial"){if(KN.call(t,o))throw new TypeError(`required property '${o}' missing or undefined`);s=u$.get(o),r[o]=s}}if(t==="partial"&&!a)throw new TypeError(i);if(r.era===void 0!=(r.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together");return r}function ab(n,e="complete"){const t=["hour","microsecond","millisecond","minute","nanosecond","second"],i=li(n,t,"partial",{emptySourceErrorMessage:"invalid time-like"}),r={};for(const a of t){const o=a$(i,a);o!==void 0?r[a]=o.value:e==="complete"&&(r[a]=0)}return r}function Xi(n,e){let t=n;if(rr(t)){if(bi(t))return t;if(En(t)&&(Xr(e),t=Uo(Z(t,Fi),Z(t,ls),Z(t,Lt))),ri(t))return Xr(e),Bl(Z(t,dn),Z(t,gn),Z(t,_n),Z(t,Lt));const h=Sf(t);return $d(h,li(t,sa(h,["day","month","monthCode","year"]),[]),e)}Xr(e);const{year:i,month:r,day:a,calendar:o,z:s}=function(p){return iu(p)}(Vn(t));if(s)throw new RangeError("Z designator not supported for PlainDate");return new(Fn("%Temporal.PlainDate%"))(i,r,a,o)}function Yy(n,e,t){let{hour:i,minute:r,second:a,millisecond:o,microsecond:s,nanosecond:h}=ab(e);const p=Xr(t),f=$d(n,e,t),y=Z(f,dn),g=Z(f,gn),_=Z(f,_n);return{hour:i,minute:r,second:a,millisecond:o,microsecond:s,nanosecond:h}=Xb(i,r,a,o,s,h,p),{year:y,month:g,day:_,hour:i,minute:r,second:a,millisecond:o,microsecond:s,nanosecond:h}}function Wh(n,e){let t,i,r,a,o,s,h,p,f,y;if(rr(n)){if(ri(n))return n;if(En(n))return Xr(e),Uo(Z(n,Fi),Z(n,ls),Z(n,Lt));if(bi(n))return Xr(e),yo(Z(n,dn),Z(n,gn),Z(n,_n),0,0,0,0,0,0,Z(n,Lt));y=Sf(n);const g=li(n,sa(y,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:h,microsecond:p,nanosecond:f}=Yy(y,g,e))}else{let g;if(Xr(e),{year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:h,microsecond:p,nanosecond:f,calendar:y,z:g}=function(b){return iu(b)}(Vn(n)),g)throw new RangeError("Z designator not supported for PlainDateTime");V1(t,i,r,a,o,s,h,p,f),y===void 0&&(y=Zr()),y=Fa(y)}return yo(t,i,r,a,o,s,h,p,f,y)}function $m(n){if(Er(n))return n;let{years:e,months:t,weeks:i,days:r,hours:a,minutes:o,seconds:s,milliseconds:h,microseconds:p,nanoseconds:f}=Tp(n);return new(Fn("%Temporal.Duration%"))(e,t,i,r,a,o,s,h,p,f)}function Bc(n){if(pa(n))return n;if(En(n))return new(Fn("%Temporal.Instant%"))(Z(n,zn));const e=p$(Vn(n));return new(Fn("%Temporal.Instant%"))(e)}function XC(n,e){let t=n;if(rr(t)){if(Aa(t))return t;let h,p;if(Ta(t,Lt))h=Z(t,Lt),p=!1;else{let y=t.calendar;p=y===void 0,y===void 0&&(y=Zr()),h=Fa(y)}t=t;const f=li(t,sa(h,["day","month","monthCode","year"]),[]);return p&&f.month!==void 0&&f.monthCode===void 0&&f.year===void 0&&(f.year=1972),Ym(h,f,e)}Xr(e);let{month:i,day:r,referenceISOYear:a,calendar:o}=o2(Vn(t)),s=o;return s===void 0&&(s=Zr()),s=Fa(s),a===void 0?(qc(1972,i,r),py(i,r,s)):Ym(s,py(i,r,s,a))}function Du(n,e="constrain"){let t,i,r,a,o,s,h,p=n;if(rr(p)){if(kr(p))return p;if(En(p)&&(p=Uo(Z(p,Fi),Z(p,ls),Z(p,Lt))),ri(p))return new(Fn("%Temporal.PlainTime%"))(Z(p,Xn),Z(p,Zn),Z(p,Kn),Z(p,Qn),Z(p,Jn),Z(p,ei));if(h=Sf(p),Vn(h)!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");({hour:t,minute:i,second:r,millisecond:a,microsecond:o,nanosecond:s}=ab(p)),{hour:t,minute:i,second:r,millisecond:a,microsecond:o,nanosecond:s}=Xb(t,i,r,a,o,s,e)}else if({hour:t,minute:i,second:r,millisecond:a,microsecond:o,nanosecond:s,calendar:h}=function(y){const g=Z3.exec(y);let _,b,T,E,k,v,w;if(g){_=ji(g[1]),b=ji(g[2]||g[5]),T=ji(g[3]||g[6]),T===60&&(T=59);const N=(g[4]||g[7])+"000000000";E=ji(N.slice(0,3)),k=ji(N.slice(3,6)),v=ji(N.slice(6,9)),w=g[15]}else{let N,C;if({hasTime:C,hour:_,minute:b,second:T,millisecond:E,microsecond:k,nanosecond:v,calendar:w,z:N}=iu(y),!C)throw new RangeError(`time is missing in string: ${y}`);if(N)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(y))return{hour:_,minute:b,second:T,millisecond:E,microsecond:k,nanosecond:v,calendar:w};try{const{month:N,day:C}=o2(y);qc(1972,N,C)}catch{try{const{year:N,month:C}=s2(y);qc(N,C,1)}catch{return{hour:_,minute:b,second:T,millisecond:E,microsecond:k,nanosecond:v,calendar:w}}}throw new RangeError(`invalid ISO 8601 time-only string ${y}; may need a T prefix`)}(Vn(p)),o0(t,i,r,a,o,s),h!==void 0&&h!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");return new(Fn("%Temporal.PlainTime%"))(t,i,r,a,o,s)}function Zg(n,e){if(rr(n)){if(Pi(n))return n;const s=Sf(n);return sp(s,li(n,sa(s,["month","monthCode","year"]),[]),e)}Xr(e);let{year:t,month:i,referenceISODay:r,calendar:a}=s2(Vn(n)),o=a;return o===void 0&&(o=Zr()),o=Fa(o),r===void 0?(qc(t,i,1),my(t,i,o)):sp(o,my(t,i,o,r))}function sb(n,e,t,i,r,a,o,s,h,p,f,y,g,_,b){const T=new(Fn("%Temporal.PlainDateTime%"))(n,e,t,i,r,a,o,s,h);if(p==="wall"||_==="ignore")return Z(Rs(y,T,g),zn);if(p==="exact"||_==="use"){const k=zd(n,e,t,i,r,a,o,s,h);if(k===null)throw new RangeError("ZonedDateTime outside of supported range");return he.subtract(k,he.BigInt(f))}const E=ob(y,T);for(const k of E){const v=uc(y,k),w=he.toNumber(fo(he.BigInt(v),6e10,"halfExpand"));if(v===f||b&&w===f)return Z(k,zn)}if(_==="reject"){const k=U1(f),v=Oc(y)?Z(y,Td):"time zone";throw new RangeError(`Offset ${k} is invalid for ${T.toString()} in ${v}`)}return Z(f2(E,y,T,g),zn)}function Kg(n,e){let t,i,r,a,o,s,h,p,f,y,g,_,b=!1,T="option";if(rr(n)){if(En(n))return n;_=Sf(n);const k=li(n,Dw(sa(_,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"timeZone","offset"),["timeZone"]);({year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:h,microsecond:p,nanosecond:f}=Yy(_,k,e)),y=zs(k.timeZone),g=k.offset,g===void 0?T="wall":g=Vn(g)}else{let k,v;if(Xr(e),{year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:h,microsecond:p,nanosecond:f,ianaName:k,offset:g,z:v,calendar:_}=function(N){const C=iu(N);if(!C.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return C}(Vn(n)),!k)throw new RangeError("time zone ID required in brackets");v?T="exact":g||(T="wall"),y=new(Fn("%Temporal.TimeZone%"))(k),_||(_=Zr()),_=Fa(_),b=!0}let E=0;return T==="option"&&(E=op(g)),Va(sb(t,i,r,a,o,s,h,p,f,T,E,y,hy(e),Ow(e,"reject"),b),y,_)}function l2(n,e,t,i,r){qc(e,t,i),T2(e,t,i),nu(n),ai(n,dn,e),ai(n,gn,t),ai(n,_n,i),ai(n,Lt,r),ai(n,"slot-date-brand",!0)}function Bl(n,e,t,i=Zr()){const r=Fn("%Temporal.PlainDate%"),a=Za(r.prototype);return l2(a,n,e,t,i),a}function c2(n,e,t,i,r,a,o,s,h,p,f){V1(e,t,i,r,a,o,s,h,p),S2(e,t,i,r,a,o,s,h,p),nu(n),ai(n,dn,e),ai(n,gn,t),ai(n,_n,i),ai(n,Xn,r),ai(n,Zn,a),ai(n,Kn,o),ai(n,Qn,s),ai(n,Jn,h),ai(n,ei,p),ai(n,Lt,f)}function yo(n,e,t,i,r,a,o,s,h,p=Zr()){const f=Fn("%Temporal.PlainDateTime%"),y=Za(f.prototype);return c2(y,n,e,t,i,r,a,o,s,h,p),y}function u2(n,e,t,i,r){qc(r,e,t),T2(r,e,t),nu(n),ai(n,gn,e),ai(n,_n,t),ai(n,dn,r),ai(n,Lt,i),ai(n,"slot-month-day-brand",!0)}function py(n,e,t=Zr(),i=1972){const r=Fn("%Temporal.PlainMonthDay%"),a=Za(r.prototype);return u2(a,n,e,t,i),a}function d2(n,e,t,i,r){qc(e,t,r),function(o,s){Wa(o,-271821,275760),o===-271821?Wa(s,4,12):o===275760&&Wa(s,1,9)}(e,t),nu(n),ai(n,dn,e),ai(n,gn,t),ai(n,_n,r),ai(n,Lt,i),ai(n,"slot-year-month-brand",!0)}function my(n,e,t=Zr(),i=1){const r=Fn("%Temporal.PlainYearMonth%"),a=Za(r.prototype);return d2(a,n,e,t,i),a}function h2(n,e,t,i){Gh(e),nu(n),ai(n,zn,e),ai(n,Fi,t),ai(n,Lt,i);const r=new(Fn("%Temporal.Instant%"))(Z(n,zn));ai(n,ls,r)}function Va(n,e,t=Zr()){const i=Fn("%Temporal.ZonedDateTime%"),r=Za(i.prototype);return h2(r,n,e,t),r}function Zr(){return new(Fn("%Temporal.Calendar%"))("iso8601")}function sa(n,e){let t=e;n.fields&&(t=n.fields(t));const i=[];for(const r of t){if(typeof r!="string")throw new TypeError("bad return from calendar.fields()");A1.call(i,r)}return i}function ap(n,e,t){const i=n.mergeFields;if(!i)return{...e,...t};const r=Reflect.apply(i,n,[e,t]);if(!rr(r))throw new TypeError("bad return from calendar.mergeFields()");return r}function Os(n,e,t,i,r){let a=r;a===void 0&&(a=n.dateAdd);const o=P1(a,n,[e,t,i]);if(!bi(o))throw new TypeError("invalid result");return o}function Rd(n,e,t,i,r){let a=r;a===void 0&&(a=n.dateUntil);const o=P1(a,n,[e,t,i]);if(!Er(o))throw new TypeError("invalid result");return o}function Kb(n,e){const t=n.year(e);if(t===void 0)throw new RangeError("calendar year result must be an integer");return Zi(t)}function Qb(n,e){const t=n.month(e);if(t===void 0)throw new RangeError("calendar month result must be a positive integer");return dy(t)}function Vy(n,e){const t=n.monthCode(e);if(t===void 0)throw new RangeError("calendar monthCode result must be a string");return Vn(t)}function Jb(n,e){const t=n.day(e);if(t===void 0)throw new RangeError("calendar day result must be a positive integer");return dy(t)}function e0(n,e){let t=n.era(e);return t!==void 0&&(t=Vn(t)),t}function t0(n,e){let t=n.eraYear(e);return t!==void 0&&(t=Zi(t)),t}function R1(n,e){return n.dayOfWeek(e)}function $1(n,e){return n.dayOfYear(e)}function z1(n,e){return n.weekOfYear(e)}function F1(n,e){return n.daysInWeek(e)}function qy(n,e){return n.daysInMonth(e)}function n0(n,e){return n.daysInYear(e)}function i0(n,e){return n.monthsInYear(e)}function r0(n,e){return n.inLeapYear(e)}function Fa(n){let e=n;if(rr(e)){if(Ta(e,Lt))return Z(e,Lt);if(!("calendar"in e)||(e=e.calendar,rr(e)&&!("calendar"in e)))return e}const t=Vn(e),i=Fn("%Temporal.Calendar%");if(I2(t))return new i(t);let r;try{({calendar:r}=iu(t))}catch{throw new RangeError(`Invalid calendar: ${t}`)}return r||(r="iso8601"),new i(r)}function Sf(n){if(Ta(n,Lt))return Z(n,Lt);const{calendar:e}=n;return e===void 0?Zr():Fa(e)}function Wy(n,e){return n===e?!0:Vn(n)===Vn(e)}function p2(n,e){if(n===e)return e;const t=Vn(n),i=Vn(e);if(t===i||t==="iso8601")return e;if(i==="iso8601")return n;throw new RangeError("irreconcilable calendars")}function $d(n,e,t){const i=n.dateFromFields(e,t);if(!bi(i))throw new TypeError("invalid result");return i}function sp(n,e,t){const i=n.yearMonthFromFields(e,t);if(!Pi(i))throw new TypeError("invalid result");return i}function Ym(n,e,t){const i=n.monthDayFromFields(e,t);if(!Aa(i))throw new TypeError("invalid result");return i}function zs(n){let e=n;if(rr(e)){if(En(e))return Z(e,Fi);if(!("timeZone"in e)||(e=e.timeZone,rr(e)&&!("timeZone"in e)))return e}const t=a2(Vn(e));return new(Fn("%Temporal.TimeZone%"))(t)}function m2(n,e){return n===e?!0:Vn(n)===Vn(e)}function Vm(n){return Bl(Z(n,dn),Z(n,gn),Z(n,_n),Z(n,Lt))}function B1(n){return new(Fn("%Temporal.PlainTime%"))(Z(n,Xn),Z(n,Zn),Z(n,Kn),Z(n,Qn),Z(n,Jn),Z(n,ei))}function uc(n,e){let t=n.getOffsetNanosecondsFor;if(typeof t!="function")throw new TypeError("getOffsetNanosecondsFor not callable");const i=Reflect.apply(t,n,[e]);if(typeof i!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!i2(i)||ki(i)>864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function $w(n,e){return U1(uc(n,e))}function Uo(n,e,t){const i=Z(e,zn),r=uc(n,e);let{year:a,month:o,day:s,hour:h,minute:p,second:f,millisecond:y,microsecond:g,nanosecond:_}=y2(i);return{year:a,month:o,day:s,hour:h,minute:p,second:f,millisecond:y,microsecond:g,nanosecond:_}=G1(a,o,s,h,p,f,y,g,_+r),yo(a,o,s,h,p,f,y,g,_,t)}function Rs(n,e,t){return f2(ob(n,e),n,e,t)}function f2(n,e,t,i){const r=Fn("%Temporal.Instant%"),a=n.length;if(a===1)return n[0];if(a)switch(i){case"compatible":case"earlier":return n[0];case"later":return n[a-1];case"reject":throw new RangeError("multiple instants found")}const o=Z(t,dn),s=Z(t,gn),h=Z(t,_n),p=Z(t,Xn),f=Z(t,Zn),y=Z(t,Kn),g=Z(t,Qn),_=Z(t,Jn),b=Z(t,ei),T=zd(o,s,h,p,f,y,g,_,b);if(T===null)throw new RangeError("DateTime outside of supported range");const E=new r(he.subtract(T,Od)),k=new r(he.add(T,Od)),v=uc(e,E),w=uc(e,k)-v;switch(i){case"earlier":{const N=Z(t,Lt),C=Fn("%Temporal.PlainDateTime%"),L=Fw(o,s,h,p,f,y,g,_,b,N,0,0,0,0,0,0,0,0,0,-w,void 0);return ob(e,new C(L.year,L.month,L.day,L.hour,L.minute,L.second,L.millisecond,L.microsecond,L.nanosecond,N))[0]}case"compatible":case"later":{const N=Z(t,Lt),C=Fn("%Temporal.PlainDateTime%"),L=Fw(o,s,h,p,f,y,g,_,b,N,0,0,0,0,0,0,0,0,0,w,void 0),O=ob(e,new C(L.year,L.month,L.day,L.hour,L.minute,L.second,L.millisecond,L.microsecond,L.nanosecond,N));return O[O.length-1]}case"reject":throw new RangeError("no such instant found")}}function ob(n,e){const t=n.getPossibleInstantsFor(e),i=[];for(const r of t){if(!pa(r))throw new TypeError("bad return from getPossibleInstantsFor");A1.call(i,r)}return i}function Sp(n){let e;return n<0||n>9999?e=(n<0?"-":"+")+`000000${ki(n)}`.slice(-6):e=`0000${n}`.slice(-4),e}function mr(n){return`00${n}`.slice(-2)}function a0(n,e,t,i,r){if(r==="minute")return"";const a=`:${mr(n)}`;let o,s=1e6*e+1e3*t+i;if(r==="auto"){if(s===0)return a;for(o=`${s}`.padStart(9,"0");o[o.length-1]==="0";)o=o.slice(0,-1)}else{if(r===0)return a;o=`${s}`.padStart(9,"0").slice(0,r)}return`${a}.${o}`}function ZC(n,e,t){let i=e;i===void 0&&(i=new(Fn("%Temporal.TimeZone%"))("UTC"));const r=Uo(i,n,Zr()),a=Sp(Z(r,dn)),o=mr(Z(r,gn)),s=mr(Z(r,_n)),h=mr(Z(r,Xn)),p=mr(Z(r,Zn)),f=a0(Z(r,Kn),Z(r,Qn),Z(r,Jn),Z(r,ei),t);let y="Z";return e!==void 0&&(y=g2(uc(i,n))),`${a}-${o}-${s}T${h}:${p}${f}${y}`}function j_(n,e="auto",t){function i(X){return X<=r$?X.toString(10):he.BigInt(X).toString(10)}const r=Z(n,Cs),a=Z(n,Ia),o=Z(n,Hs),s=Z(n,Es),h=Z(n,ks),p=Z(n,Ls);let f=Z(n,Ns),y=Z(n,Is),g=Z(n,As),_=Z(n,Ps);const b=Gc(r,a,o,s,h,p,f,y,g,_);if(t){const{unit:X,increment:H,roundingMode:$}=t;({seconds:f,milliseconds:y,microseconds:g,nanoseconds:_}=Fd(0,0,0,0,0,0,f,y,g,_,H,X,$))}const T=[];r&&T.push(`${i(ki(r))}Y`),a&&T.push(`${i(ki(a))}M`),o&&T.push(`${i(ki(o))}W`),s&&T.push(`${i(ki(s))}D`);const E=[];h&&E.push(`${i(ki(h))}H`),p&&E.push(`${i(ki(p))}M`);const k=[];let v,w,N,C,L=qm(0,0,0,f,y,g,_,0);({quotient:L,remainder:v}=va(L,Bi)),{quotient:L,remainder:w}=va(L,Bi),{quotient:C,remainder:N}=va(L,Bi);const O=1e6*ki(he.toNumber(N))+1e3*ki(he.toNumber(w))+ki(he.toNumber(v));let W;if(e==="auto"){if(O!==0)for(W=`${O}`.padStart(9,"0");W[W.length-1]==="0";)W=W.slice(0,-1)}else e!==0&&(W=`${O}`.padStart(9,"0").slice(0,e));return W&&k.unshift(".",W),he.equal(C,Yr)&&!k.length&&e==="auto"||k.unshift(D1(C).toString()),k.length&&E.push(`${k.join("")}S`),E.length&&E.unshift("T"),T.length||E.length?`${b<0?"-":""}P${T.join("")}${E.join("")}`:"PT0S"}function KC(n,e="auto"){return`${Sp(Z(n,dn))}-${mr(Z(n,gn))}-${mr(Z(n,_n))}${By(Vn(Z(n,Lt)),e)}`}function QC(n,e,t="auto",i){let r=Z(n,dn),a=Z(n,gn),o=Z(n,_n),s=Z(n,Xn),h=Z(n,Zn),p=Z(n,Kn),f=Z(n,Qn),y=Z(n,Jn),g=Z(n,ei);if(i){const{unit:_,increment:b,roundingMode:T}=i;({year:r,month:a,day:o,hour:s,minute:h,second:p,millisecond:f,microsecond:y,nanosecond:g}=X1(r,a,o,s,h,p,f,y,g,b,_,T))}return`${Sp(r)}-${mr(a)}-${mr(o)}T${mr(s)}:${mr(h)}${a0(p,f,y,g,e)}${By(Vn(Z(n,Lt)),t)}`}function JC(n,e="auto"){let t=`${mr(Z(n,gn))}-${mr(Z(n,_n))}`;const i=Vn(Z(n,Lt));(e==="always"||i!=="iso8601")&&(t=`${Sp(Z(n,dn))}-${t}`);const r=By(i,e);return r&&(t+=r),t}function eE(n,e="auto"){let t=`${Sp(Z(n,dn))}-${mr(Z(n,gn))}`;const i=Vn(Z(n,Lt));(e==="always"||i!=="iso8601")&&(t+=`-${mr(Z(n,_n))}`);const r=By(i,e);return r&&(t+=r),t}function tE(n,e,t="auto",i="auto",r="auto",a){let o=Z(n,ls);if(a){const{unit:f,increment:y,roundingMode:g}=a,_=cb(Z(n,zn),y,f,g);o=new(Fn("%Temporal.Instant%"))(_)}const s=Z(n,Fi),h=Uo(s,o,Zr());let p=`${Sp(Z(h,dn))}-${mr(Z(h,gn))}-${mr(Z(h,_n))}T${mr(Z(h,Xn))}:${mr(Z(h,Zn))}${a0(Z(h,Kn),Z(h,Qn),Z(h,Jn),Z(h,ei),e)}`;return r!=="never"&&(p+=g2(uc(s,o))),i!=="never"&&(p+=`[${s}]`),p+=By(Vn(Z(n,Lt)),t),p}function Qg(n){return A2.test(Fy(n))}function op(n){const e=A2.exec(Fy(n));if(!e)throw new RangeError(`invalid time zone offset: ${n}`);return(e[1]==="-"||e[1]==="−"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function j1(n){return Qg(n)?U1(op(n)):r2(Fy(n)).resolvedOptions().timeZone}function Pu(n,e){const{year:t,month:i,day:r,hour:a,minute:o,second:s,millisecond:h,microsecond:p,nanosecond:f}=v2(n,e),y=zd(t,i,r,a,o,s,h,p,f);if(y===null)throw new RangeError("Date outside of supported range");return he.toNumber(he.subtract(y,n))}function U1(n){const e=n<0?"-":"+",t=ki(n),i=t%1e9,r=ba(t/1e9)%60,a=ba(t/6e10)%60,o=mr(ba(t/36e11)),s=mr(a),h=mr(r);let p="";if(i){let f=`${i}`.padStart(9,"0");for(;f[f.length-1]==="0";)f=f.slice(0,-1);p=`:${h}.${f}`}else r&&(p=`:${h}`);return`${e}${o}:${s}${p}`}function g2(n){let e=he.toNumber(fo(he.BigInt(n),6e10,"halfExpand"));const t=e<0?"-":"+";e=ki(e);const i=e/6e10%60;return`${t}${mr(ba(e/36e11))}:${mr(i)}`}function zd(n,e,t,i,r,a,o,s,h){const p=new Date;p.setUTCHours(i,r,a,o),p.setUTCFullYear(n,e-1,t);const f=p.getTime();if(zy(f))return null;let y=he.multiply(he.BigInt(f),ll);return y=he.add(y,he.multiply(he.BigInt(s),Bi)),y=he.add(y,he.BigInt(h)),he.lessThan(y,ly)||he.greaterThan(y,cy)?null:y}function y2(n){const{quotient:e,remainder:t}=va(n,ll);let i=he.toNumber(e),r=he.toNumber(t);r<0&&(r+=1e6,i-=1);const a=ba(r/1e3)%1e3,o=r%1e3,s=new Date(i);return{epochMilliseconds:i,year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate(),hour:s.getUTCHours(),minute:s.getUTCMinutes(),second:s.getUTCSeconds(),millisecond:s.getUTCMilliseconds(),microsecond:a,nanosecond:o}}function v2(n,e){const{epochMilliseconds:t,millisecond:i,microsecond:r,nanosecond:a}=y2(n),{year:o,month:s,day:h,hour:p,minute:f,second:y}=function(_,b){const T=r2(_);return function(k){const v=k.split(/[^\w]+/);if(v.length!==7)throw new RangeError(`expected 7 parts in "${k}`);const w=+v[0],N=+v[1];let C=+v[2];const L=v[3].toUpperCase();if(L==="B"||L==="BC")C=1-C;else if(L!=="A"&&L!=="AD")throw new RangeError(`Unknown era ${L} in "${k}`);let O=+v[4];O===24&&(O=0);const W=+v[5],X=+v[6];if(!(Ma(C)&&Ma(w)&&Ma(N)&&Ma(O)&&Ma(W)&&Ma(X)))throw new RangeError(`Invalid number in "${k}`);return{year:C,month:w,day:N,hour:O,minute:W,second:X}}(T.format(new Date(b)))}(e,t);return G1(o,s,h,p,f,y,i,r,a)}function nE(n,e){return he.lessThan(n,e)?e:n}function x2(){return he.add(K1(),l$)}function b2(n,e){const t=x2(),i=he.greaterThan(n,t),r=i?he.subtract(n,t2):e2;let a=he.subtract(n,M1);const o=Pu(a,e);let s=a,h=o;for(;o===h&&he.greaterThan(a,r);)s=he.subtract(a,n2),h=Pu(s,e),o===h&&(a=s);return o===h?i?b2(he.subtract(t,Od),e):null:P2(p=>Pu(p,e),s,a,h,o)}function kd(n){return n===void 0?!1:n%4==0&&(n%100!=0||n%400==0)}function $u(n,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[kd(n)?"leapyear":"standard"][e-1]}function U_(n,e,t){const i=e+(e<3?10:-2),r=n-(e<3?1:0),a=ba(r/100),o=r-100*a,s=(t+ba(2.6*i-.2)+(o+ba(o/4))+(ba(a/4)-2*a))%7;return s+(s<=0?7:0)}function lb(n,e,t){let i=t;for(let r=e-1;r>0;r--)i+=$u(n,r);return i}function Gc(n,e,t,i,r,a,o,s,h,p){for(const f of[n,e,t,i,r,a,o,s,h,p])if(f!==0)return f<0?-1:1;return 0}function Bx(n,e){let t=n,i=e;if(!Ma(t)||!Ma(i))throw new RangeError("infinity is out of range");return i-=1,t+=ba(i/12),i%=12,i<0&&(i+=12),i+=1,{year:t,month:i}}function s0(n,e,t){let i=n,r=e,a=t;if(!Ma(a))throw new RangeError("infinity is out of range");({year:i,month:r}=Bx(i,r));let o=0,s=r>2?i:i-1;for(;o=kd(s)?366:365,a<-o;)i-=1,s-=1,a+=o;for(s+=1;o=kd(s)?366:365,a>o;)i+=1,s+=1,a-=o;for(;a<1;)({year:i,month:r}=Bx(i,r-1)),a+=$u(i,r);for(;a>$u(i,r);)a-=$u(i,r),{year:i,month:r}=Bx(i,r+1);return{year:i,month:r,day:a}}function G1(n,e,t,i,r,a,o,s,h){const{deltaDays:p,hour:f,minute:y,second:g,millisecond:_,microsecond:b,nanosecond:T}=Mu(i,r,a,o,s,h),{year:E,month:k,day:v}=s0(n,e,t+p);return{year:E,month:k,day:v,hour:f,minute:y,second:g,millisecond:_,microsecond:b,nanosecond:T}}function Mu(n,e,t,i,r,a){let o=n,s=e,h=t,p=i,f=r,y=a;if(!(Ma(o)&&Ma(s)&&Ma(h)&&Ma(p)&&Ma(f)&&Ma(y)))throw new RangeError("infinity is out of range");f+=ba(y/1e3),y=wm(y,1e3),p+=ba(f/1e3),f=wm(f,1e3),h+=ba(p/1e3),p=wm(p,1e3),s+=ba(h/60),h=wm(h,60),o+=ba(s/60),s=wm(s,60);const g=ba(o/24);return o=wm(o,24),{deltaDays:g,hour:o,minute:s,second:h,millisecond:p,microsecond:f,nanosecond:y}}function qm(n,e,t,i,r,a,o,s){const h=he.BigInt(n);let p=he.BigInt(o);n!==0&&(p=he.subtract(he.BigInt(o),he.BigInt(s)));const f=he.add(he.BigInt(e),he.multiply(h,he.BigInt(24))),y=he.add(he.BigInt(t),he.multiply(f,Kh)),g=he.add(he.BigInt(i),he.multiply(y,Kh)),_=he.add(he.BigInt(r),he.multiply(g,Bi)),b=he.add(he.BigInt(a),he.multiply(_,Bi));return he.add(he.BigInt(p),he.multiply(b,Bi))}function Y1(n,e){const t=Fn("%Temporal.Instant%"),i=oy(he.toNumber(n));let r=he.BigInt(n),a=864e11;if(i===0)return{days:0,nanoseconds:Yr,dayLengthNs:a};if(!En(e)){let v;return{quotient:v,remainder:r}=va(r,he.BigInt(a)),{days:he.toNumber(v),nanoseconds:r,dayLengthNs:a}}const o=Z(e,zn),s=Z(e,ls),h=he.add(o,r),p=new t(h),f=Z(e,Fi),y=Z(e,Lt),g=Uo(f,s,y),_=Uo(f,p,y);let{days:b}=H1(Z(g,dn),Z(g,gn),Z(g,_n),Z(g,Xn),Z(g,Zn),Z(g,Kn),Z(g,Qn),Z(g,Jn),Z(g,ei),Z(_,dn),Z(_,gn),Z(_,_n),Z(_,Xn),Z(_,Zn),Z(_,Kn),Z(_,Qn),Z(_,Jn),Z(_,ei),y,"day",Za(null)),T=cl(s,f,y,0,0,0,b,0,0,0,0,0,0);if(i===1)for(;b>0&&he.greaterThan(T,h);)--b,T=cl(s,f,y,0,0,0,b,0,0,0,0,0,0);r=he.subtract(h,T);let E=!1,k=new t(T);do{const v=cl(k,f,y,0,0,0,i,0,0,0,0,0,0),w=Z(k,zn);a=he.toNumber(he.subtract(v,w)),E=he.greaterThan(he.multiply(he.subtract(r,he.BigInt(a)),he.BigInt(i)),Yr),E&&(r=he.subtract(r,he.BigInt(a)),k=new t(v),b+=i)}while(E);return{days:b,nanoseconds:r,dayLengthNs:ki(a)}}function To(n,e,t,i,r,a,o,s,h){let p,f,y,g,_,b,T=n;if(En(h)){const k=cl(Z(h,ls),Z(h,Fi),Z(h,Lt),0,0,0,T,e,t,i,r,a,o),v=Z(h,zn);p=he.subtract(k,v)}else p=qm(T,e,t,i,r,a,o,0);s==="year"||s==="month"||s==="week"||s==="day"?{days:T,nanoseconds:p}=Y1(p,h):T=0;const E=he.lessThan(p,Yr)?-1:1;switch(p=D1(p),f=y=g=_=b=Yr,s){case"year":case"month":case"week":case"day":case"hour":({quotient:f,remainder:p}=va(p,Bi)),{quotient:y,remainder:f}=va(f,Bi),{quotient:g,remainder:y}=va(y,Bi),{quotient:_,remainder:g}=va(g,Kh),{quotient:b,remainder:_}=va(_,Kh);break;case"minute":({quotient:f,remainder:p}=va(p,Bi)),{quotient:y,remainder:f}=va(f,Bi),{quotient:g,remainder:y}=va(y,Bi),{quotient:_,remainder:g}=va(g,Kh);break;case"second":({quotient:f,remainder:p}=va(p,Bi)),{quotient:y,remainder:f}=va(f,Bi),{quotient:g,remainder:y}=va(y,Bi);break;case"millisecond":({quotient:f,remainder:p}=va(p,Bi)),{quotient:y,remainder:f}=va(f,Bi);break;case"microsecond":({quotient:f,remainder:p}=va(p,Bi));break;case"nanosecond":break;default:throw new Error("assert not reached")}return{days:T,hours:he.toNumber(b)*E,minutes:he.toNumber(_)*E,seconds:he.toNumber(g)*E,milliseconds:he.toNumber(y)*E,microseconds:he.toNumber(f)*E,nanoseconds:he.toNumber(p)*E}}function mx(n,e,t,i,r,a){let o=n,s=e,h=t,p=i;const f=Fn("%Temporal.Duration%"),y=Gc(o,s,h,p,0,0,0,0,0,0);let g,_;a&&(_=Xi(a),g=Z(_,Lt));const b=new f(y),T=new f(0,y),E=new f(0,0,y);switch(r){case"year":break;case"month":{if(!g)throw new RangeError("a starting point is required for months balancing");const k=g.dateAdd,v=g.dateUntil;let w=_;for(;ki(o)>0;){const N=Os(g,w,b,void 0,k),C=Za(null);C.largestUnit="month";const L=Z(Rd(g,w,N,C,v),Ia);w=N,s+=L,o-=y}}break;case"week":if(!g)throw new RangeError("a starting point is required for weeks balancing");for(;ki(o)>0;){let k;({relativeTo:_,days:k}=ss(g,_,b)),p+=k,o-=y}for(;ki(s)>0;){let k;({relativeTo:_,days:k}=ss(g,_,T)),p+=k,s-=y}break;default:for(;ki(o)>0;){if(!g)throw new RangeError("a starting point is required for balancing calendar units");let k;({relativeTo:_,days:k}=ss(g,_,b)),p+=k,o-=y}for(;ki(s)>0;){if(!g)throw new RangeError("a starting point is required for balancing calendar units");let k;({relativeTo:_,days:k}=ss(g,_,T)),p+=k,s-=y}for(;ki(h)>0;){if(!g)throw new RangeError("a starting point is required for balancing calendar units");let k;({relativeTo:_,days:k}=ss(g,_,E)),p+=k,h-=y}}return{years:o,months:s,weeks:h,days:p}}function iE(n,e,t,i,r){if(En(n)){const a=Z(n,ls),o=Z(n,Fi),s=Z(n,Lt),h=uc(o,a),p=cl(a,o,s,e,t,i,r,0,0,0,0,0,0);return uc(o,new(Fn("%Temporal.Instant%"))(p))-h}return 0}function _2(n){return new(Fn("%Temporal.Duration%"))(-Z(n,Cs),-Z(n,Ia),-Z(n,Hs),-Z(n,Es),-Z(n,ks),-Z(n,Ls),-Z(n,Ns),-Z(n,Is),-Z(n,As),-Z(n,Ps))}function vo(n,e,t){return t$(t,n$(e,n))}function w2(n,e,t){const i=vo(e,1,12);return{year:n,month:i,day:vo(t,1,$u(n,i))}}function Wa(n,e,t){if(n<e||n>t)throw new RangeError(`value out of range: ${e} <= ${n} <= ${t}`)}function qc(n,e,t){Wa(e,1,12),Wa(t,1,$u(n,e))}function T2(n,e,t){S2(n,e,t,12,0,0,0,0,0)}function o0(n,e,t,i,r,a){Wa(n,0,23),Wa(e,0,59),Wa(t,0,59),Wa(i,0,999),Wa(r,0,999),Wa(a,0,999)}function V1(n,e,t,i,r,a,o,s,h){qc(n,e,t),o0(i,r,a,o,s,h)}function S2(n,e,t,i,r,a,o,s,h){if(Wa(n,-271821,275760),n===-271821&&zd(n,e,t+1,i,r,a,o,s,h-1)==null||n===275760&&zd(n,e,t-1,i,r,a,o,s,h+1)==null)throw new RangeError("DateTime outside of supported range")}function Gh(n){if(he.lessThan(n,ly)||he.greaterThan(n,cy))throw new RangeError("Instant outside of supported range")}function l0(n,e,t,i,r,a,o,s,h,p){const f=Gc(n,e,t,i,r,a,o,s,h,p);for(const y of[n,e,t,i,r,a,o,s,h,p]){if(!Ma(y))throw new RangeError("infinite values not allowed as duration fields");const g=oy(y);if(g!==0&&g!==f)throw new RangeError("mixed-sign values not allowed as duration fields")}}function q1(n,e,t,i,r,a,o){switch(o){case"year":case"month":{const s=-Ld(n,e,t,i,r,a);if(s===0)return{years:0,months:0,weeks:0,days:0};const h={year:n,month:e,day:t},p={year:i,month:r,day:a};let f=p.year-h.year,y=Qh(n,e,t,f,0,0,0,"constrain"),g=-Ld(y.year,y.month,y.day,i,r,a);if(g===0)return o==="year"?{years:f,months:0,weeks:0,days:0}:{years:0,months:12*f,weeks:0,days:0};let _=p.month-h.month;if(g!==s&&(f-=s,_+=12*s),y=Qh(n,e,t,f,_,0,0,"constrain"),g=-Ld(y.year,y.month,y.day,i,r,a),g===0)return o==="year"?{years:f,months:_,weeks:0,days:0}:{years:0,months:_+12*f,weeks:0,days:0};g!==s&&(_-=s,_===-s&&(f-=s,_=11*s),y=Qh(n,e,t,f,_,0,0,"constrain"));let b=0;return b=y.month===p.month?p.day-y.day:s<0?-y.day-($u(p.year,p.month)-p.day):p.day+($u(y.year,y.month)-y.day),o==="month"&&(_+=12*f,f=0),{years:f,months:_,weeks:0,days:b}}case"week":case"day":{let s,h,p;Ld(n,e,t,i,r,a)<0?(h={year:n,month:e,day:t},s={year:i,month:r,day:a},p=1):(h={year:i,month:r,day:a},s={year:n,month:e,day:t},p=-1);let f=lb(s.year,s.month,s.day)-lb(h.year,h.month,h.day);for(let g=h.year;g<s.year;++g)f+=kd(g)?366:365;let y=0;return o==="week"&&(y=ba(f/7),f%=7),y*=p,f*=p,{years:0,months:0,weeks:y,days:f}}default:throw new Error("assert not reached")}}function C2(n,e,t,i,r,a,o,s,h,p,f,y){let g=o-n,_=s-e,b=h-t,T=p-i,E=f-r,k=y-a;const v=Gc(0,0,0,0,g,_,b,T,E,k);g*=v,_*=v,b*=v,T*=v,E*=v,k*=v;let w=0;if({deltaDays:w,hour:g,minute:_,second:b,millisecond:T,microsecond:E,nanosecond:k}=Mu(g,_,b,T,E,k),w!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return g*=v,_*=v,b*=v,T*=v,E*=v,k*=v,{hours:g,minutes:_,seconds:b,milliseconds:T,microseconds:E,nanoseconds:k}}function W1(n,e,t,i,r){const a=he.subtract(e,n),o=he.remainder(a,he.BigInt(864e11)),s=he.subtract(a,o),h=fo(o,Q1[i]*t,r),p=he.add(s,h),f=he.toNumber(he.remainder(p,Bi)),y=he.toNumber(he.remainder(he.divide(p,Bi),Bi)),g=he.toNumber(he.remainder(he.divide(p,ll),Bi));return{seconds:he.toNumber(he.divide(p,Ru)),milliseconds:g,microseconds:y,nanoseconds:f}}function H1(n,e,t,i,r,a,o,s,h,p,f,y,g,_,b,T,E,k,v,w,N){let C=n,L=e,O=t,{hours:W,minutes:X,seconds:H,milliseconds:$,microseconds:G,nanoseconds:j}=C2(i,r,a,o,s,h,g,_,b,T,E,k);const D=Gc(0,0,0,0,W,X,H,$,G,j);Ld(p,f,y,C,L,O)===-D&&({year:C,month:L,day:O}=s0(C,L,O-D),{hours:W,minutes:X,seconds:H,milliseconds:$,microseconds:G,nanoseconds:j}=To(-D,W,X,H,$,G,j,w));const M=Bl(C,L,O,v),Y=Bl(p,f,y,v),B=Zb(N,Co("day",w));let{years:z,months:q,weeks:V,days:te}=Rd(v,M,Y,B);return{days:te,hours:W,minutes:X,seconds:H,milliseconds:$,microseconds:G,nanoseconds:j}=To(te,W,X,H,$,G,j,w),{years:z,months:q,weeks:V,days:te,hours:W,minutes:X,seconds:H,milliseconds:$,microseconds:G,nanoseconds:j}}function E2(n,e,t,i,r,a){const o=he.subtract(e,n);if(he.equal(o,Yr))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const s=Fn("%Temporal.Instant%"),h=new s(n),p=new s(e),f=Uo(t,h,i),y=Uo(t,p,i);let{years:g,months:_,weeks:b,days:T}=H1(Z(f,dn),Z(f,gn),Z(f,_n),Z(f,Xn),Z(f,Zn),Z(f,Kn),Z(f,Qn),Z(f,Jn),Z(f,ei),Z(y,dn),Z(y,gn),Z(y,_n),Z(y,Xn),Z(y,Zn),Z(y,Kn),Z(y,Qn),Z(y,Jn),Z(y,ei),i,r,a);const E=cl(h,t,i,g,_,b,0,0,0,0,0,0,0);let k=he.subtract(e,E);const v=Va(E,t,i);({nanoseconds:k,days:T}=Y1(k,v));const{hours:w,minutes:N,seconds:C,milliseconds:L,microseconds:O,nanoseconds:W}=To(0,0,0,0,0,0,he.toNumber(k),"hour");return{years:g,months:_,weeks:b,days:T,hours:w,minutes:N,seconds:C,milliseconds:L,microseconds:O,nanoseconds:W}}function rE(n,e,t,i){const r=Bc(t);let a,o;[a,o]=n==="until"?[e,r]:[r,e];const s=ui(i),h=wa(s,"smallestUnit","time","nanosecond"),p=Co("second",h);let f=wa(s,"largestUnit","time","auto");if(f==="auto"&&(f=p),Co(f,h)!==f)throw new RangeError(`largestUnit ${f} cannot be smaller than smallestUnit ${h}`);const y=Ks(s,"trunc"),g=Qu(s,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[h],!1),_=Z(a,zn),b=Z(o,zn);let T,E,{seconds:k,milliseconds:v,microseconds:w,nanoseconds:N}=W1(_,b,g,h,y);return{hours:T,minutes:E,seconds:k,milliseconds:v,microseconds:w,nanoseconds:N}=To(0,0,0,k,v,w,N,f),new(Fn("%Temporal.Duration%"))(0,0,0,0,T,E,k,v,w,N)}function aE(n,e,t,i){const r=n==="since"?-1:1,a=Xi(t),o=Z(e,Lt),s=Z(a,Lt),h=Vn(o),p=Vn(s);if(h!==p)throw new RangeError(`cannot compute difference between dates of ${h} and ${p} calendars`);const f=ui(i),y=wa(f,"smallestUnit","date","day"),g=Co("day",y);let _=wa(f,"largestUnit","date","auto");if(_==="auto"&&(_=g),Co(_,y)!==_)throw new RangeError(`largestUnit ${_} cannot be smaller than smallestUnit ${y}`);let b=Ks(f,"trunc");n==="since"&&(b=jy(b));const T=Qu(f,void 0,!1),E=Zb(f,_);let{years:k,months:v,weeks:w,days:N}=Rd(o,e,a,E);return y==="day"&&T===1||({years:k,months:v,weeks:w,days:N}=Fd(k,v,w,N,0,0,0,0,0,0,T,y,b,e)),new(Fn("%Temporal.Duration%"))(r*k,r*v,r*w,r*N,0,0,0,0,0,0)}function sE(n,e,t,i){const r=n==="since"?-1:1,a=Wh(t),o=Z(e,Lt),s=Z(a,Lt),h=Vn(o),p=Vn(s);if(h!==p)throw new RangeError(`cannot compute difference between dates of ${h} and ${p} calendars`);const f=ui(i),y=wa(f,"smallestUnit","datetime","nanosecond"),g=Co("day",y);let _=wa(f,"largestUnit","datetime","auto");if(_==="auto"&&(_=g),Co(_,y)!==_)throw new RangeError(`largestUnit ${_} cannot be smaller than smallestUnit ${y}`);let b=Ks(f,"trunc");n==="since"&&(b=jy(b));const T=O1(f,y);let{years:E,months:k,weeks:v,days:w,hours:N,minutes:C,seconds:L,milliseconds:O,microseconds:W,nanoseconds:X}=H1(Z(e,dn),Z(e,gn),Z(e,_n),Z(e,Xn),Z(e,Zn),Z(e,Kn),Z(e,Qn),Z(e,Jn),Z(e,ei),Z(a,dn),Z(a,gn),Z(a,_n),Z(a,Xn),Z(a,Zn),Z(a,Kn),Z(a,Qn),Z(a,Jn),Z(a,ei),o,_,f);const H=Vm(e);return{years:E,months:k,weeks:v,days:w,hours:N,minutes:C,seconds:L,milliseconds:O,microseconds:W,nanoseconds:X}=Fd(E,k,v,w,N,C,L,O,W,X,T,y,b,H),{days:w,hours:N,minutes:C,seconds:L,milliseconds:O,microseconds:W,nanoseconds:X}=To(w,N,C,L,O,W,X,_),new(Fn("%Temporal.Duration%"))(r*E,r*k,r*v,r*w,r*N,r*C,r*L,r*O,r*W,r*X)}function oE(n,e,t,i){const r=n==="since"?-1:1,a=Du(t),o=ui(i);let s=wa(o,"largestUnit","time","auto");s==="auto"&&(s="hour");const h=wa(o,"smallestUnit","time","nanosecond");if(Co(s,h)!==s)throw new RangeError(`largestUnit ${s} cannot be smaller than smallestUnit ${h}`);let p=Ks(o,"trunc");n==="since"&&(p=jy(p));const f=Qu(o,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[h],!1);let{hours:y,minutes:g,seconds:_,milliseconds:b,microseconds:T,nanoseconds:E}=C2(Z(e,Xn),Z(e,Zn),Z(e,Kn),Z(e,Qn),Z(e,Jn),Z(e,ei),Z(a,Xn),Z(a,Zn),Z(a,Kn),Z(a,Qn),Z(a,Jn),Z(a,ei));return{hours:y,minutes:g,seconds:_,milliseconds:b,microseconds:T,nanoseconds:E}=Fd(0,0,0,0,y,g,_,b,T,E,f,h,p),{hours:y,minutes:g,seconds:_,milliseconds:b,microseconds:T,nanoseconds:E}=To(0,y,g,_,b,T,E,s),new(Fn("%Temporal.Duration%"))(0,0,0,0,r*y,r*g,r*_,r*b,r*T,r*E)}function lE(n,e,t,i){const r=n==="since"?-1:1,a=Zg(t),o=Z(e,Lt),s=Z(a,Lt),h=Vn(o),p=Vn(s);if(h!==p)throw new RangeError(`cannot compute difference between months of ${h} and ${p} calendars`);const f=ui(i),y=wf.reduce((W,[X,H,$])=>($==="date"&&H!=="week"&&H!=="day"&&W.push(H,X),W),[]),g=wa(f,"smallestUnit","date","month");if(g==="week"||g==="day")throw new RangeError(`smallestUnit must be one of ${y.join(", ")}, not ${g}`);let _=wa(f,"largestUnit","date","auto");if(_==="week"||_==="day")throw new RangeError(`largestUnit must be one of ${y.join(", ")}, not ${_}`);if(_==="auto"&&(_="year"),Co(_,g)!==_)throw new RangeError(`largestUnit ${_} cannot be smaller than smallestUnit ${g}`);let b=Ks(f,"trunc");n==="since"&&(b=jy(b));const T=Qu(f,void 0,!1),E=sa(o,["monthCode","year"]),k=li(a,E,[]);k.day=1;const v=li(e,E,[]);v.day=1;const w=$d(o,k),N=$d(o,v),C=Zb(f,_);let{years:L,months:O}=Rd(o,N,w,C);return g==="month"&&T===1||({years:L,months:O}=Fd(L,O,0,0,0,0,0,0,0,0,T,g,b,N)),new(Fn("%Temporal.Duration%"))(r*L,r*O,0,0,0,0,0,0,0,0)}function cE(n,e,t,i){const r=n==="since"?-1:1,a=Kg(t),o=Z(e,Lt),s=Z(a,Lt),h=Vn(o),p=Vn(s);if(h!==p)throw new RangeError(`cannot compute difference between dates of ${h} and ${p} calendars`);const f=ui(i),y=wa(f,"smallestUnit","datetime","nanosecond"),g=Co("hour",y);let _=wa(f,"largestUnit","datetime","auto");if(_==="auto"&&(_=g),Co(_,y)!==_)throw new RangeError(`largestUnit ${_} cannot be smaller than smallestUnit ${y}`);let b=Ks(f,"trunc");n==="since"&&(b=jy(b));const T=O1(f,y),E=Z(e,zn),k=Z(a,zn);let v,w,N,C,L,O,W,X,H,$;if(_!=="year"&&_!=="month"&&_!=="week"&&_!=="day")v=0,w=0,N=0,C=0,{seconds:W,milliseconds:X,microseconds:H,nanoseconds:$}=W1(E,k,T,y,b),{hours:L,minutes:O,seconds:W,milliseconds:X,microseconds:H,nanoseconds:$}=To(0,0,0,W,X,H,$,_);else{const G=Z(e,Fi);if(!m2(G,Z(a,Fi)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");const j=Zb(f,_);({years:v,months:w,weeks:N,days:C,hours:L,minutes:O,seconds:W,milliseconds:X,microseconds:H,nanoseconds:$}=E2(E,k,G,o,_,j)),{years:v,months:w,weeks:N,days:C,hours:L,minutes:O,seconds:W,milliseconds:X,microseconds:H,nanoseconds:$}=Fd(v,w,N,C,L,O,W,X,H,$,T,y,b,e),{years:v,months:w,weeks:N,days:C,hours:L,minutes:O,seconds:W,milliseconds:X,microseconds:H,nanoseconds:$}=N2(v,w,N,C,L,O,W,X,H,$,T,y,b,e)}return new(Fn("%Temporal.Duration%"))(r*v,r*w,r*N,r*C,r*L,r*O,r*W,r*X,r*H,r*$)}function Qh(n,e,t,i,r,a,o,s){let h=n,p=e,f=t,y=a,g=o;return h+=i,p+=r,{year:h,month:p}=Bx(h,p),{year:h,month:p,day:f}=rb(h,p,f,s),g+=7*y,f+=g,{year:h,month:p,day:f}=s0(h,p,f),{year:h,month:p,day:f}}function k2(n,e,t,i,r,a,o,s,h,p,f,y){let g=n,_=e,b=t,T=i,E=r,k=a;g+=o,_+=s,b+=h,T+=p,E+=f,k+=y;let v=0;return{deltaDays:v,hour:g,minute:_,second:b,millisecond:T,microsecond:E,nanosecond:k}=Mu(g,_,b,T,E,k),{deltaDays:v,hour:g,minute:_,second:b,millisecond:T,microsecond:E,nanosecond:k}}function L2(n,e,t,i,r,a,o,s,h,p,f,y,g,_,b,T,E,k,v,w,N){const C=Co(Rw(n,e,t,i,r,a,o,s,h,p),Rw(f,y,g,_,b,T,E,k,v,w));let L,O,W,X,H,$,G,j,D,M;if(N)if(bi(N)){const Y=Fn("%Temporal.Duration%"),B=Z(N,Lt),z=new Y(n,e,t,i,0,0,0,0,0,0),q=new Y(f,y,g,_,0,0,0,0,0,0),V=B.dateAdd,te=Os(B,N,z,void 0,V),ce=Os(B,te,q,void 0,V),ie=Co("day",C),se=Za(null);se.largestUnit=ie,{years:L,months:O,weeks:W,days:X}=Rd(B,N,ce,se),{days:X,hours:H,minutes:$,seconds:G,milliseconds:j,microseconds:D,nanoseconds:M}=To(X,r+b,a+T,o+E,s+k,h+v,p+w,C)}else{const Y=Fn("%Temporal.Instant%"),B=Z(N,Fi),z=Z(N,Lt),q=cl(Z(N,ls),B,z,n,e,t,i,r,a,o,s,h,p),V=cl(new Y(q),B,z,f,y,g,_,b,T,E,k,v,w);C!=="year"&&C!=="month"&&C!=="week"&&C!=="day"?(L=0,O=0,W=0,X=0,{seconds:G,milliseconds:j,microseconds:D,nanoseconds:M}=W1(Z(N,zn),V,1,"nanosecond","halfExpand"),{hours:H,minutes:$,seconds:G,milliseconds:j,microseconds:D,nanoseconds:M}=To(0,0,0,G,j,D,M,C)):{years:L,months:O,weeks:W,days:X,hours:H,minutes:$,seconds:G,milliseconds:j,microseconds:D,nanoseconds:M}=E2(Z(N,zn),V,B,z,C,Za(null))}else{if(C==="year"||C==="month"||C==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");L=O=W=0,{days:X,hours:H,minutes:$,seconds:G,milliseconds:j,microseconds:D,nanoseconds:M}=To(i+_,r+b,a+T,o+E,s+k,h+v,p+w,C)}return l0(L,O,W,X,H,$,G,j,D,M),{years:L,months:O,weeks:W,days:X,hours:H,minutes:$,seconds:G,milliseconds:j,microseconds:D,nanoseconds:M}}function zw(n,e,t,i,r,a,o){let s=Yr;s=he.add(s,he.BigInt(o)),s=he.add(s,he.multiply(he.BigInt(a),Bi)),s=he.add(s,he.multiply(he.BigInt(r),ll)),s=he.add(s,he.multiply(he.BigInt(i),Ru)),s=he.add(s,he.multiply(he.BigInt(t),he.BigInt(6e10))),s=he.add(s,he.multiply(he.BigInt(e),he.BigInt(36e11)));const h=he.add(n,s);return Gh(h),h}function Fw(n,e,t,i,r,a,o,s,h,p,f,y,g,_,b,T,E,k,v,w,N){let C=_,{deltaDays:L,hour:O,minute:W,second:X,millisecond:H,microsecond:$,nanosecond:G}=k2(i,r,a,o,s,h,b,T,E,k,v,w);C+=L;const j=Fn("%Temporal.Duration%"),D=Os(p,Bl(n,e,t,p),new j(f,y,g,C,0,0,0,0,0,0),N);return{year:Z(D,dn),month:Z(D,gn),day:Z(D,_n),hour:O,minute:W,second:X,millisecond:H,microsecond:$,nanosecond:G}}function cl(n,e,t,i,r,a,o,s,h,p,f,y,g,_){const b=Fn("%Temporal.Duration%");if(Gc(i,r,a,o,0,0,0,0,0,0)===0)return zw(Z(n,zn),s,h,p,f,y,g);const T=Uo(e,n,t),E=Os(t,Bl(Z(T,dn),Z(T,gn),Z(T,_n),t),new b(i,r,a,o,0,0,0,0,0,0),_),k=yo(Z(E,dn),Z(E,gn),Z(E,_n),Z(T,Xn),Z(T,Zn),Z(T,Kn),Z(T,Qn),Z(T,Jn),Z(T,ei),t);return zw(Z(Rs(e,k,"compatible"),zn),s,h,p,f,y,g)}function uE(n,e,t,i){const r=n==="subtract"?-1:1;let{years:a,months:o,weeks:s,days:h,hours:p,minutes:f,seconds:y,milliseconds:g,microseconds:_,nanoseconds:b}=Tp(t);const T=Fx(ui(i));return{years:a,months:o,weeks:s,days:h,hours:p,minutes:f,seconds:y,milliseconds:g,microseconds:_,nanoseconds:b}=L2(Z(e,Cs),Z(e,Ia),Z(e,Hs),Z(e,Es),Z(e,ks),Z(e,Ls),Z(e,Ns),Z(e,Is),Z(e,As),Z(e,Ps),r*a,r*o,r*s,r*h,r*p,r*f,r*y,r*g,r*_,r*b,T),new(Fn("%Temporal.Duration%"))(a,o,s,h,p,f,y,g,_,b)}function dE(n,e,t){const i=n==="subtract"?-1:1,{hours:r,minutes:a,seconds:o,milliseconds:s,microseconds:h,nanoseconds:p}=function(g,_){let b=Tp(g);for(const T of _)if(b[T]!==0)throw new RangeError(`Duration field ${T} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return b}(t,["years","months","weeks","days"]),f=zw(Z(e,zn),i*r,i*a,i*o,i*s,i*h,i*p);return new(Fn("%Temporal.Instant%"))(f)}function hE(n,e,t,i){const r=n==="subtract"?-1:1,{years:a,months:o,weeks:s,days:h,hours:p,minutes:f,seconds:y,milliseconds:g,microseconds:_,nanoseconds:b}=Tp(t),T=ui(i),E=Z(e,Lt),{year:k,month:v,day:w,hour:N,minute:C,second:L,millisecond:O,microsecond:W,nanosecond:X}=Fw(Z(e,dn),Z(e,gn),Z(e,_n),Z(e,Xn),Z(e,Zn),Z(e,Kn),Z(e,Qn),Z(e,Jn),Z(e,ei),E,r*a,r*o,r*s,r*h,r*p,r*f,r*y,r*g,r*_,r*b,T);return yo(k,v,w,N,C,L,O,W,X,E)}function pE(n,e,t){const i=n==="subtract"?-1:1,{hours:r,minutes:a,seconds:o,milliseconds:s,microseconds:h,nanoseconds:p}=Tp(t);let{hour:f,minute:y,second:g,millisecond:_,microsecond:b,nanosecond:T}=k2(Z(e,Xn),Z(e,Zn),Z(e,Kn),Z(e,Qn),Z(e,Jn),Z(e,ei),i*r,i*a,i*o,i*s,i*h,i*p);return{hour:f,minute:y,second:g,millisecond:_,microsecond:b,nanosecond:T}=Xb(f,y,g,_,b,T,"reject"),new(Fn("%Temporal.PlainTime%"))(f,y,g,_,b,T)}function mE(n,e,t,i){let r=Tp(t);n==="subtract"&&(r={years:-r.years,months:-r.months,weeks:-r.weeks,days:-r.days,hours:-r.hours,minutes:-r.minutes,seconds:-r.seconds,milliseconds:-r.milliseconds,microseconds:-r.microseconds,nanoseconds:-r.nanoseconds});let{years:a,months:o,weeks:s,days:h,hours:p,minutes:f,seconds:y,milliseconds:g,microseconds:_,nanoseconds:b}=r;({days:h}=To(h,p,f,y,g,_,b,"day"));const T=ui(i),E=Z(e,Lt),k=sa(E,["monthCode","year"]),v=li(e,k,[]),w=Gc(a,o,s,h,0,0,0,0,0,0);v.day=w<0?dy(qy(E,e)):1;const N=$d(E,v),C=new(Fn("%Temporal.Duration%"))(a,o,s,h,0,0,0,0,0,0),L=JN(Za(null),T);return sp(E,li(Os(E,N,C,T),k,[]),L)}function fE(n,e,t,i){const r=n==="subtract"?-1:1,{years:a,months:o,weeks:s,days:h,hours:p,minutes:f,seconds:y,milliseconds:g,microseconds:_,nanoseconds:b}=Tp(t),T=ui(i),E=Z(e,Fi),k=Z(e,Lt);return Va(cl(Z(e,ls),E,k,r*a,r*o,r*s,r*h,r*p,r*f,r*y,r*g,r*_,r*b,T),E,k)}function fo(n,e,t){if(e===1)return n;let{quotient:i,remainder:r}=va(n,he.BigInt(e));if(he.equal(r,Yr))return n;const a=he.lessThan(r,Yr)?-1:1;switch(t){case"ceil":a>0&&(i=he.add(i,he.BigInt(a)));break;case"floor":a<0&&(i=he.add(i,he.BigInt(a)));break;case"trunc":break;case"halfExpand":he.toNumber(D1(he.multiply(r,he.BigInt(2))))>=e&&(i=he.add(i,he.BigInt(a)))}return he.multiply(i,he.BigInt(e))}function cb(n,e,t,i){let r=he.remainder(n,he.BigInt(864e11));he.lessThan(r,Yr)&&(r=he.add(r,he.BigInt(864e11)));const a=he.subtract(n,r),o=fo(r,Q1[t]*e,i);return he.add(a,o)}function X1(n,e,t,i,r,a,o,s,h,p,f,y,g=864e11){const{deltaDays:_,hour:b,minute:T,second:E,millisecond:k,microsecond:v,nanosecond:w}=Z1(i,r,a,o,s,h,p,f,y,g),{year:N,month:C,day:L}=s0(n,e,t+_);return{year:N,month:C,day:L,hour:b,minute:T,second:E,millisecond:k,microsecond:v,nanosecond:w}}function Z1(n,e,t,i,r,a,o,s,h,p=864e11){let f=Yr;switch(s){case"day":case"hour":f=he.BigInt(n);case"minute":f=he.add(he.multiply(f,Kh),he.BigInt(e));case"second":f=he.add(he.multiply(f,Kh),he.BigInt(t));case"millisecond":f=he.add(he.multiply(f,Bi),he.BigInt(i));case"microsecond":f=he.add(he.multiply(f,Bi),he.BigInt(r));case"nanosecond":f=he.add(he.multiply(f,Bi),he.BigInt(a))}const y=s==="day"?p:Q1[s],g=fo(f,y*o,h),_=he.toNumber(he.divide(g,he.BigInt(y)));switch(s){case"day":return{deltaDays:_,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Mu(_,0,0,0,0,0);case"minute":return Mu(n,_,0,0,0,0);case"second":return Mu(n,e,_,0,0,0);case"millisecond":return Mu(n,e,t,_,0,0);case"microsecond":return Mu(n,e,t,i,_,0);case"nanosecond":return Mu(n,e,t,i,r,_);default:throw new Error(`Invalid unit ${s}`)}}function jx(n,e){return q1(Z(n,dn),Z(n,gn),Z(n,_n),Z(e,dn),Z(e,gn),Z(e,_n),"day").days}function ss(n,e,t){const i=Os(n,e,t,void 0);return{relativeTo:i,days:jx(e,i)}}function Bw(n,e,t,i,r){const a=Z(n,Fi),o=Z(n,Lt);return Va(cl(Z(n,ls),a,o,e,t,i,r,0,0,0,0,0,0),a,o)}function N2(n,e,t,i,r,a,o,s,h,p,f,y,g,_){let b=n,T=e,E=t,k=i,v=r,w=a,N=o,C=s,L=h,O=p;if(!En(_)||y==="year"||y==="month"||y==="week"||y==="day"||y==="nanosecond"&&f===1)return{years:b,months:T,weeks:E,days:k,hours:v,minutes:w,seconds:N,milliseconds:C,microseconds:L,nanoseconds:O};let W=qm(0,v,w,N,C,L,O,0);const X=oy(he.toNumber(W)),H=Z(_,Fi),$=Z(_,Lt),G=cl(Z(_,ls),H,$,b,T,E,k,0,0,0,0,0,0),j=cl(new(Fn("%Temporal.Instant%"))(G),H,$,0,0,0,X,0,0,0,0,0,0),D=he.subtract(j,G);return he.greaterThanOrEqual(he.multiply(he.subtract(W,D),he.BigInt(X)),Yr)&&({years:b,months:T,weeks:E,days:k}=L2(b,T,E,k,0,0,0,0,0,0,0,0,0,X,0,0,0,0,0,0,_),W=cb(he.subtract(W,D),f,y,g),{hours:v,minutes:w,seconds:N,milliseconds:C,microseconds:L,nanoseconds:O}=To(0,0,0,0,0,0,he.toNumber(W),"hour")),{years:b,months:T,weeks:E,days:k,hours:v,minutes:w,seconds:N,milliseconds:C,microseconds:L,nanoseconds:O}}function Fd(n,e,t,i,r,a,o,s,h,p,f,y,g,_){let b=n,T=e,E=t,k=i,v=r,w=a,N=o,C=s,L=h,O=he.BigInt(p);const W=Fn("%Temporal.Duration%");let X,H,$,G,j=_;if(j){if(En(j))H=j,j=Xi(j);else if(!bi(j))throw new TypeError("starting point must be PlainDate or ZonedDateTime");X=Z(j,Lt)}if(y==="year"||y==="month"||y==="week"||y==="day"){let D,M,Y;O=qm(0,v,w,N,C,L,p,0),H&&(D=Bw(H,b,T,E,k)),{days:M,nanoseconds:O,dayLengthNs:Y}=Y1(O,D),$=he.BigInt(Y),k+=M,v=w=N=C=L=0}switch(y){case"year":{if(!X)throw new RangeError("A starting point is required for years rounding");const D=new W(b),M=X.dateAdd,Y=Os(X,j,D,void 0,M),B=Os(X,j,new W(b,T,E),void 0,M);j=Y,k+=jx(Y,B);const z=Os(X,j,{days:k},void 0,M),q=Za(null);q.largestUnit="year";const V=Rd(X,j,z,q).years;b+=V;const te=j;j=Os(X,j,{years:V},void 0,M),k-=jx(te,j);const ce=new W(k<0?-1:1);let{days:ie}=ss(X,j,ce);ie=ki(ie);const se=he.multiply(he.BigInt(ie),$);O=he.add(he.add(he.multiply(se,he.BigInt(b)),he.multiply(he.BigInt(k),$)),O);const Ce=fo(O,he.toNumber(he.multiply(se,he.BigInt(f))),g);G=he.toNumber(O)/he.toNumber(se),b=he.toNumber(he.divide(Ce,se)),O=Yr,T=E=k=0;break}case"month":{if(!X)throw new RangeError("A starting point is required for months rounding");const D=new W(b,T),M=X.dateAdd,Y=Os(X,j,D,void 0,M),B=Os(X,j,new W(b,T,E),void 0,M);j=Y,k+=jx(Y,B);const z=oy(k),q=new W(0,k<0?-1:1);let V;for({relativeTo:j,days:V}=ss(X,j,q);ki(k)>=ki(V);)T+=z,k-=V,{relativeTo:j,days:V}=ss(X,j,q);V=ki(V);const te=he.multiply(he.BigInt(V),$);O=he.add(he.add(he.multiply(te,he.BigInt(T)),he.multiply(he.BigInt(k),$)),O);const ce=fo(O,he.toNumber(he.multiply(te,he.BigInt(f))),g);G=he.toNumber(O)/he.toNumber(te),T=he.toNumber(he.divide(ce,te)),O=Yr,E=k=0;break}case"week":{if(!X)throw new RangeError("A starting point is required for weeks rounding");const D=oy(k),M=new W(0,0,k<0?-1:1);let Y;for({relativeTo:j,days:Y}=ss(X,j,M);ki(k)>=ki(Y);)E+=D,k-=Y,{relativeTo:j,days:Y}=ss(X,j,M);Y=ki(Y);const B=he.multiply(he.BigInt(Y),$);O=he.add(he.add(he.multiply(B,he.BigInt(E)),he.multiply(he.BigInt(k),$)),O);const z=fo(O,he.toNumber(he.multiply(B,he.BigInt(f))),g);G=he.toNumber(O)/he.toNumber(B),E=he.toNumber(he.divide(z,B)),O=Yr,k=0;break}case"day":{const D=$;O=he.add(he.multiply(D,he.BigInt(k)),O);const M=fo(O,he.toNumber(he.multiply(D,he.BigInt(f))),g);G=he.toNumber(O)/he.toNumber(D),k=he.toNumber(he.divide(M,D)),O=Yr;break}case"hour":{let M=he.multiply(he.BigInt(v),he.BigInt(36e11));M=he.add(M,he.multiply(he.BigInt(w),he.BigInt(6e10))),M=he.add(M,he.multiply(he.BigInt(N),Ru)),M=he.add(M,he.multiply(he.BigInt(C),ll)),M=he.add(M,he.multiply(he.BigInt(L),Bi)),M=he.add(M,O),G=he.toNumber(M)/36e11;const Y=fo(M,36e11*f,g);v=he.toNumber(he.divide(Y,he.BigInt(36e11))),O=Yr,w=N=C=L=0;break}case"minute":{let M=he.multiply(he.BigInt(w),he.BigInt(6e10));M=he.add(M,he.multiply(he.BigInt(N),Ru)),M=he.add(M,he.multiply(he.BigInt(C),ll)),M=he.add(M,he.multiply(he.BigInt(L),Bi)),M=he.add(M,O),G=he.toNumber(M)/6e10;const Y=fo(M,6e10*f,g);w=he.toNumber(he.divide(Y,he.BigInt(6e10))),O=Yr,N=C=L=0;break}case"second":{let M=he.multiply(he.BigInt(N),Ru);M=he.add(M,he.multiply(he.BigInt(C),ll)),M=he.add(M,he.multiply(he.BigInt(L),Bi)),M=he.add(M,O),G=he.toNumber(M)/1e9;const Y=fo(M,1e9*f,g);N=he.toNumber(he.divide(Y,he.BigInt(1e9))),O=Yr,C=L=0;break}case"millisecond":{let M=he.multiply(he.BigInt(C),ll);M=he.add(M,he.multiply(he.BigInt(L),Bi)),M=he.add(M,O),G=he.toNumber(M)/1e6;const Y=fo(M,1e6*f,g);C=he.toNumber(he.divide(Y,he.BigInt(1e6))),O=Yr,L=0;break}case"microsecond":{let M=he.multiply(he.BigInt(L),Bi);M=he.add(M,O),G=he.toNumber(M)/1e3;const Y=fo(M,1e3*f,g);L=he.toNumber(he.divide(Y,he.BigInt(1e3))),O=Yr;break}case"nanosecond":G=he.toNumber(O),O=fo(O,f,g)}return{years:b,months:T,weeks:E,days:k,hours:v,minutes:w,seconds:N,milliseconds:C,microseconds:L,nanoseconds:he.toNumber(O),total:G}}function Ld(n,e,t,i,r,a){for(const[o,s]of[[n,i],[e,r],[t,a]])if(o!==s)return Jh(o-s);return 0}function wm(n,e){let t=n%e;return s$(t,-0)?0:(t<0&&(t+=e),t)}function ub(n){const e=iy(n);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function iy(n){if(n instanceof he)return n;let e=n;if(typeof n=="object"){const t=n[Symbol.toPrimitive];t&&typeof t=="function"&&(e=P1(t,n,["number"]))}switch(typeof e){case"undefined":case"object":case"number":case"symbol":default:throw new TypeError(`cannot convert ${typeof n} to bigint`);case"string":if(!e.match(/^\s*(?:[+-]?\d+\s*)?$/))throw new SyntaxError("invalid BigInt syntax");case"bigint":try{return he.BigInt(e.toString())}catch(t){throw t instanceof Error&&t.message.startsWith("Invalid integer")?new SyntaxError(t.message):t}case"boolean":return e?M1:Yr}}const K1=(()=>{let n=he.BigInt(Date.now()%1e6);return()=>{const e=he.BigInt(Date.now()),t=he.add(he.multiply(e,ll),n);return n=he.remainder(e,ll),he.greaterThan(t,cy)?cy:he.lessThan(t,ly)?ly:t}})();function Jh(n){return n<0?-1:n>0?1:n}function ui(n){if(n===void 0)return Za(null);if(rr(n)&&n!==null)return n;throw new TypeError("Options parameter must be an object, not "+(n===null?"null":typeof n))}function Wm(n,e){const t=Za(null);return t[n]=e,t}function Bd(n,e,t,i){let r=n[e];if(r!==void 0){if(r=Vn(r),!t.includes(r))throw new RangeError(`${e} must be one of ${t.join(", ")}, not ${r}`);return r}return i}function I2(n){return KN.call(c$,n)}const A2=new RegExp(`^${HN.source}$`);function P2(n,e,t,i=n(e),r=n(t)){let a=he.BigInt(e),o=he.BigInt(t),s=i,h=r;for(;he.greaterThan(he.subtract(o,a),M1);){const p=he.divide(he.add(a,o),he.BigInt(2)),f=n(p);if(f===s)a=p,s=f;else{if(f!==h)throw new Error(`invalid state in bisection ${s} - ${f} - ${h}`);o=p,h=f}}return o}const Q1={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},M2=Symbol("date"),D2=Symbol("ym"),O2=Symbol("md"),R2=Symbol("time"),$2=Symbol("datetime"),z2=Symbol("zoneddatetime"),F2=Symbol("instant"),zm=Symbol("original"),jw=Symbol("timezone"),Ux=Symbol("timezone-id-given"),Ro=Symbol("calendar-id"),B2=Symbol("locale"),Uw=Symbol("options"),ry=n=>({value:n,enumerable:!0,writable:!1,configurable:!0}),ep=globalThis.Intl.DateTimeFormat,Wc=Object.assign,m$=Object.prototype.hasOwnProperty,f$=Reflect.apply;function Dh(n,e){let t=n[e];return typeof t=="function"&&(t=new ep(n[B2],t(n[Uw])),n[e]=t),t}function Bg(n){let e=n[jw];return typeof e=="string"&&(e=zs(e),n[jw]=e),e}function lp(n,e={}){if(!(this instanceof lp))return new lp(n,e);const t=e!==void 0,i=t?Wc({},e):{},r=new ep(n,i),a=r.resolvedOptions();if(t){const o=Wc({},a);for(const s in o)f$(m$,i,[s])||delete o[s];this[Uw]=o}else this[Uw]=i;this[Ux]=i.timeZone?i.timeZone:null,this[B2]=a.locale,this[zm]=r,this[jw]=a.timeZone,this[Ro]=a.calendar,this[M2]=x$,this[D2]=y$,this[O2]=v$,this[R2]=g$,this[$2]=b$,this[z2]=_$,this[F2]=w$}Object.defineProperty(lp,"name",{writable:!0,value:"DateTimeFormat"}),lp.supportedLocalesOf=function(n,e){return ep.supportedLocalesOf(n,e)};const G_={resolvedOptions:ry(function(){return this[zm].resolvedOptions()}),format:ry(function(e,...t){let{instant:i,formatter:r,timeZone:a}=Fm(e,this);return i&&r?(r=db(r,a),r.format(i.epochMilliseconds)):this[zm].format(e,...t)}),formatRange:ry(function(e,t){if(Hm(e)||Hm(t)){if(!j2(e,t))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:i,formatter:r,timeZone:a}=Fm(e,this),{instant:o,formatter:s,timeZone:h}=Fm(t,this);if(a&&h&&a!==h)throw new RangeError("cannot format range between different time zones");if(i&&o&&r&&s&&r===s)return db(r,a).formatRange(i.epochMilliseconds,o.epochMilliseconds)}return this[zm].formatRange(e,t)})};"formatToParts"in ep.prototype&&(G_.formatToParts=ry(function(e,...t){let{instant:i,formatter:r,timeZone:a}=Fm(e,this);return i&&r?(r=db(r,a),r.formatToParts(i.epochMilliseconds)):this[zm].formatToParts(e,...t)})),"formatRangeToParts"in ep.prototype&&(G_.formatRangeToParts=ry(function(e,t){if(Hm(e)||Hm(t)){if(!j2(e,t))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:i,formatter:r,timeZone:a}=Fm(e,this),{instant:o,formatter:s,timeZone:h}=Fm(t,this);if(a&&h&&a!==h)throw new RangeError("cannot format range between different time zones");if(i&&o&&r&&s&&r===s)return db(r,a).formatRangeToParts(i.epochMilliseconds,o.epochMilliseconds)}return this[zm].formatRangeToParts(e,t)})),lp.prototype=Object.create(ep.prototype,G_),Object.defineProperty(lp,"prototype",{writable:!1,enumerable:!1,configurable:!1});const Cp=lp;function db(n,e){if(!e)return n;const t=n.resolvedOptions();return t.timeZone===e?n:((t.dateStyle||t.timeStyle)&&(delete t.weekday,delete t.era,delete t.year,delete t.month,delete t.day,delete t.hour,delete t.minute,delete t.second,delete t.timeZoneName,delete t.hourCycle,delete t.hour12,delete t.dayPeriod),new ep(t.locale,{...t,timeZone:e}))}function Hy(n={},e={}){const t=Wc({},n);for(const i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])t[i]=i in e?e[i]:t[i],t[i]!==!1&&t[i]!==void 0||delete t[i];return t}function g$(n){let e=Hy(n,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return u0(e)||(e=Wc({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function y$(n){let e=Hy(n,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=Wc(e,{year:"numeric",month:"numeric"})),e}function v$(n){let e=Hy(n,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=Wc({},e,{month:"numeric",day:"numeric"})),e}function x$(n){let e=Hy(n,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return c0(e)||(e=Wc({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function b$(n){let e=Hy(n,{timeZoneName:!1});return u0(e)||c0(e)||(e=Wc({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function _$(n){let e=n;return u0(e)||c0(e)||(e=Wc({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),e.timeZoneName===void 0&&(e.timeZoneName="short")),e}function w$(n){let e=n;return u0(e)||c0(e)||(e=Wc({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function c0(n){return"year"in n||"month"in n||"day"in n||"weekday"in n||"dateStyle"in n}function u0(n){return"hour"in n||"minute"in n||"second"in n||"timeStyle"in n||"dayPeriod"in n}function Hm(n){return bi(n)||kr(n)||ri(n)||En(n)||Pi(n)||Aa(n)||pa(n)}function j2(n,e){return!(!Hm(n)||!Hm(e))&&!(kr(n)&&!kr(e))&&!(bi(n)&&!bi(e))&&!(ri(n)&&!ri(e))&&!(En(n)&&!En(e))&&!(Pi(n)&&!Pi(e))&&!(Aa(n)&&!Aa(e))&&!(pa(n)&&!pa(e))}function Fm(n,e){const t=Fn("%Temporal.PlainDateTime%");if(kr(n)){const i=new t(1970,1,1,Z(n,Xn),Z(n,Zn),Z(n,Kn),Z(n,Qn),Z(n,Jn),Z(n,ei),e[Ro]);return{instant:Rs(Bg(e),i,"compatible"),formatter:Dh(e,R2)}}if(Pi(n)){const i=Z(n,dn),r=Z(n,gn),a=Z(n,_n),o=Vn(Z(n,Lt));if(o!==e[Ro])throw new RangeError(`cannot format PlainYearMonth with calendar ${o} in locale with calendar ${e[Ro]}`);const s=new t(i,r,a,12,0,0,0,0,0,o);return{instant:Rs(Bg(e),s,"compatible"),formatter:Dh(e,D2)}}if(Aa(n)){const i=Z(n,dn),r=Z(n,gn),a=Z(n,_n),o=Vn(Z(n,Lt));if(o!==e[Ro])throw new RangeError(`cannot format PlainMonthDay with calendar ${o} in locale with calendar ${e[Ro]}`);const s=new t(i,r,a,12,0,0,0,0,0,o);return{instant:Rs(Bg(e),s,"compatible"),formatter:Dh(e,O2)}}if(bi(n)){const i=Z(n,dn),r=Z(n,gn),a=Z(n,_n),o=Vn(Z(n,Lt));if(o!=="iso8601"&&o!==e[Ro])throw new RangeError(`cannot format PlainDate with calendar ${o} in locale with calendar ${e[Ro]}`);const s=new t(i,r,a,12,0,0,0,0,0,e[Ro]);return{instant:Rs(Bg(e),s,"compatible"),formatter:Dh(e,M2)}}if(ri(n)){const i=Z(n,dn),r=Z(n,gn),a=Z(n,_n),o=Z(n,Xn),s=Z(n,Zn),h=Z(n,Kn),p=Z(n,Qn),f=Z(n,Jn),y=Z(n,ei),g=Vn(Z(n,Lt));if(g!=="iso8601"&&g!==e[Ro])throw new RangeError(`cannot format PlainDateTime with calendar ${g} in locale with calendar ${e[Ro]}`);let _=n;return g==="iso8601"&&(_=new t(i,r,a,o,s,h,p,f,y,e[Ro])),{instant:Rs(Bg(e),_,"compatible"),formatter:Dh(e,$2)}}if(En(n)){const i=Vn(Z(n,Lt));if(i!=="iso8601"&&i!==e[Ro])throw new RangeError(`cannot format ZonedDateTime with calendar ${i} in locale with calendar ${e[Ro]}`);const r=Vn(Z(n,Fi));if(e[Ux]&&e[Ux]!==r)throw new RangeError(`timeZone option ${e[Ux]} doesn't match actual time zone ${r}`);return{instant:Z(n,ls),formatter:Dh(e,z2),timeZone:r}}return pa(n)?{instant:n,formatter:Dh(e,F2)}:{}}class ac{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const t=iy(e);Gh(t),nu(this),ai(this,zn,t)}get epochSeconds(){if(!pa(this))throw new TypeError("invalid receiver");const e=Z(this,zn);return he.toNumber(he.divide(e,Ru))}get epochMilliseconds(){if(!pa(this))throw new TypeError("invalid receiver");const e=he.BigInt(Z(this,zn));return he.toNumber(he.divide(e,ll))}get epochMicroseconds(){if(!pa(this))throw new TypeError("invalid receiver");const e=he.BigInt(Z(this,zn));return ub(he.divide(e,Bi))}get epochNanoseconds(){if(!pa(this))throw new TypeError("invalid receiver");return ub(he.BigInt(Z(this,zn)))}add(e){if(!pa(this))throw new TypeError("invalid receiver");return dE("add",this,e)}subtract(e){if(!pa(this))throw new TypeError("invalid receiver");return dE("subtract",this,e)}until(e,t){if(!pa(this))throw new TypeError("invalid receiver");return rE("until",this,e,t)}since(e,t){if(!pa(this))throw new TypeError("invalid receiver");return rE("since",this,e,t)}round(e){if(!pa(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?Wm("smallestUnit",e):ui(e),i=wa(t,"smallestUnit","time",rp),r=Ks(t,"halfExpand"),a=Qu(t,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[i],!0),o=cb(Z(this,zn),a,i,r);return new ac(o)}equals(e){if(!pa(this))throw new TypeError("invalid receiver");const t=Bc(e),i=Z(this,zn),r=Z(t,zn);return he.equal(he.BigInt(i),he.BigInt(r))}toString(e){if(!pa(this))throw new TypeError("invalid receiver");const t=ui(e);let i=t.timeZone;i!==void 0&&(i=zs(i));const{precision:r,unit:a,increment:o}=Gy(t),s=Ks(t,"trunc"),h=cb(Z(this,zn),o,a,s);return ZC(new ac(h),i,r)}toJSON(){if(!pa(this))throw new TypeError("invalid receiver");return ZC(this,void 0,"auto")}toLocaleString(e,t){if(!pa(this))throw new TypeError("invalid receiver");return new Cp(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!pa(this))throw new TypeError("invalid receiver");if(!rr(e))throw new TypeError("invalid argument in toZonedDateTime");const t=e.calendar;if(t===void 0)throw new TypeError("missing calendar property in toZonedDateTime");const i=Fa(t),r=e.timeZone;if(r===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");const a=zs(r);return Va(Z(this,zn),a,i)}toZonedDateTimeISO(e){let t=e;if(!pa(this))throw new TypeError("invalid receiver");if(rr(t)){const a=t.timeZone;a!==void 0&&(t=a)}const i=zs(t),r=Zr();return Va(Z(this,zn),i,r)}static fromEpochSeconds(e){const t=uy(e),i=he.multiply(he.BigInt(t),Ru);return Gh(i),new ac(i)}static fromEpochMilliseconds(e){const t=uy(e),i=he.multiply(he.BigInt(t),ll);return Gh(i),new ac(i)}static fromEpochMicroseconds(e){const t=iy(e),i=he.multiply(t,Bi);return Gh(i),new ac(i)}static fromEpochNanoseconds(e){const t=iy(e);return Gh(t),new ac(t)}static from(e){return pa(e)?new ac(Z(e,zn)):Bc(e)}static compare(e,t){const i=Bc(e),r=Bc(t),a=Z(i,zn),o=Z(r,zn);return he.lessThan(a,o)?-1:he.greaterThan(a,o)?1:0}}tu(ac,"Temporal.Instant");const hb=Array.prototype.includes,T$=Array.prototype.push,S$=globalThis.Intl.DateTimeFormat,C$=Array.prototype.sort,E$=Math.abs,k$=Math.floor,Gw=Object.entries,gE=Object.keys,Lr={};class pb{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");const t=Vn(e);if(!I2(t))throw new RangeError(`invalid calendar identifier ${t}`);nu(this),ai(this,Gr,t)}get id(){if(!Ur(this))throw new TypeError("invalid receiver");return Vn(this)}dateFromFields(e,t){if(!Ur(this))throw new TypeError("invalid receiver");if(!rr(e))throw new TypeError("invalid fields");const i=ui(t);return Lr[Z(this,Gr)].dateFromFields(e,i,this)}yearMonthFromFields(e,t){if(!Ur(this))throw new TypeError("invalid receiver");if(!rr(e))throw new TypeError("invalid fields");const i=ui(t);return Lr[Z(this,Gr)].yearMonthFromFields(e,i,this)}monthDayFromFields(e,t){if(!Ur(this))throw new TypeError("invalid receiver");if(!rr(e))throw new TypeError("invalid fields");const i=ui(t);return Lr[Z(this,Gr)].monthDayFromFields(e,i,this)}fields(e){if(!Ur(this))throw new TypeError("invalid receiver");const t=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const r of e){if(typeof r!="string")throw new TypeError("invalid fields");if(!i.has(r))throw new RangeError(`invalid field name ${r}`);i.delete(r),T$.call(t,r)}return Lr[Z(this,Gr)].fields(t)}mergeFields(e,t){if(!Ur(this))throw new TypeError("invalid receiver");return Lr[Z(this,Gr)].mergeFields(e,t)}dateAdd(e,t,i){if(!Ur(this))throw new TypeError("invalid receiver");const r=Xi(e),a=$m(t),o=Xr(ui(i)),{days:s}=To(Z(a,Es),Z(a,ks),Z(a,Ls),Z(a,Ns),Z(a,Is),Z(a,As),Z(a,Ps),"day");return Lr[Z(this,Gr)].dateAdd(r,Z(a,Cs),Z(a,Ia),Z(a,Hs),s,o,this)}dateUntil(e,t,i){if(!Ur(this))throw new TypeError("invalid receiver");const r=Xi(e),a=Xi(t);let o=wa(ui(i),"largestUnit","date","auto");o==="auto"&&(o="day");const{years:s,months:h,weeks:p,days:f}=Lr[Z(this,Gr)].dateUntil(r,a,o);return new(Fn("%Temporal.Duration%"))(s,h,p,f,0,0,0,0,0,0)}year(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pi(t)||(t=Xi(t)),Lr[Z(this,Gr)].year(t)}month(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");if(Aa(t))throw new TypeError("use monthCode on PlainMonthDay instead");return Pi(t)||(t=Xi(t)),Lr[Z(this,Gr)].month(t)}monthCode(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pi(t)||Aa(t)||(t=Xi(t)),Lr[Z(this,Gr)].monthCode(t)}day(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Aa(t)||(t=Xi(t)),Lr[Z(this,Gr)].day(t)}era(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pi(t)||(t=Xi(t)),Lr[Z(this,Gr)].era(t)}eraYear(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pi(t)||(t=Xi(t)),Lr[Z(this,Gr)].eraYear(t)}dayOfWeek(e){if(!Ur(this))throw new TypeError("invalid receiver");const t=Xi(e);return Lr[Z(this,Gr)].dayOfWeek(t)}dayOfYear(e){if(!Ur(this))throw new TypeError("invalid receiver");const t=Xi(e);return Lr[Z(this,Gr)].dayOfYear(t)}weekOfYear(e){if(!Ur(this))throw new TypeError("invalid receiver");const t=Xi(e);return Lr[Z(this,Gr)].weekOfYear(t)}daysInWeek(e){if(!Ur(this))throw new TypeError("invalid receiver");const t=Xi(e);return Lr[Z(this,Gr)].daysInWeek(t)}daysInMonth(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pi(t)||(t=Xi(t)),Lr[Z(this,Gr)].daysInMonth(t)}daysInYear(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pi(t)||(t=Xi(t)),Lr[Z(this,Gr)].daysInYear(t)}monthsInYear(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pi(t)||(t=Xi(t)),Lr[Z(this,Gr)].monthsInYear(t)}inLeapYear(e){let t=e;if(!Ur(this))throw new TypeError("invalid receiver");return Pi(t)||(t=Xi(t)),Lr[Z(this,Gr)].inLeapYear(t)}toString(){if(!Ur(this))throw new TypeError("invalid receiver");return Z(this,Gr)}toJSON(){if(!Ur(this))throw new TypeError("invalid receiver");return Vn(this)}static from(e){return Fa(e)}}function J1(n){if(!n.startsWith("M"))throw new RangeError(`Invalid month code: ${n}.  Month codes must start with M.`);const e=+n.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${n}`);return e}function zu(n,e=!1){return`M${n.toString().padStart(2,"0")}${e?"L":""}`}function Gx(n,e,t=12){let{month:i,monthCode:r}=n;if(r===void 0){if(i===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&Wa(i,1,t),e==="constrain"&&(i=vo(i,1,t)),r=zu(i)}else{const a=J1(r);if(i!==void 0&&i!==a)throw new RangeError(`monthCode ${r} and month ${i} must match if both are present`);if(r!==zu(a))throw new RangeError(`Invalid month code: ${r}`);if(i=a,i<1||i>t)throw new RangeError(`Invalid monthCode: ${r}`)}return{...n,month:i,monthCode:r}}tu(pb,"Temporal.Calendar"),Pw("Temporal.Calendar.from",pb.from),Lr.iso8601={dateFromFields(n,e,t){const i=Xr(e);let r=li(n,["day","month","monthCode","year"],["year","day"]);r=Gx(r);let{year:a,month:o,day:s}=r;return{year:a,month:o,day:s}=rb(a,o,s,i),Bl(a,o,s,t)},yearMonthFromFields(n,e,t){const i=Xr(e);let r=li(n,["month","monthCode","year"],["year"]);r=Gx(r);let{year:a,month:o}=r;return{year:a,month:o}=function(h,p,f){let y=h,g=p;switch(f){case"reject":qc(y,g,1);break;case"constrain":({year:y,month:g}=w2(y,g))}return{year:y,month:g}}(a,o,i),my(a,o,t,1)},monthDayFromFields(n,e,t){const i=Xr(e);let r=li(n,["day","month","monthCode","year"],["day"]);if(r.month!==void 0&&r.year===void 0&&r.monthCode===void 0)throw new TypeError("either year or monthCode required with month");const a=r.monthCode===void 0;r=Gx(r);let{month:o,day:s,year:h}=r;return{month:o,day:s}=rb(a?h:1972,o,s,i),py(o,s,t,1972)},fields:n=>n,mergeFields(n,e){const t={};for(const r of gE(n))r!=="month"&&r!=="monthCode"&&(t[r]=n[r]);const i=gE(e);for(const r of i)t[r]=e[r];if(!hb.call(i,"month")&&!hb.call(i,"monthCode")){const{month:r,monthCode:a}=n;r!==void 0&&(t.month=r),a!==void 0&&(t.monthCode=a)}return t},dateAdd(n,e,t,i,r,a,o){let s=Z(n,dn),h=Z(n,gn),p=Z(n,_n);return{year:s,month:h,day:p}=Qh(s,h,p,e,t,i,r,a),Bl(s,h,p,o)},dateUntil:(n,e,t)=>q1(Z(n,dn),Z(n,gn),Z(n,_n),Z(e,dn),Z(e,gn),Z(e,_n),t),year:n=>Z(n,dn),era(){},eraYear(){},month:n=>Z(n,gn),monthCode:n=>zu(Z(n,gn)),day:n=>Z(n,_n),dayOfWeek:n=>U_(Z(n,dn),Z(n,gn),Z(n,_n)),dayOfYear:n=>lb(Z(n,dn),Z(n,gn),Z(n,_n)),weekOfYear:n=>function(t,i,r){const a=lb(t,i,r),o=U_(t,i,r)||7,s=U_(t,1,1),h=ba((a-o+10)/7);return h<1?s===5||s===6&&kd(t-1)?53:52:h===53&&(kd(t)?366:365)-a<4-o?1:h}(Z(n,dn),Z(n,gn),Z(n,_n)),daysInWeek:()=>7,daysInMonth:n=>$u(Z(n,dn),Z(n,gn)),daysInYear(n){let e=n;return Ta(e,dn)||(e=Xi(e)),kd(Z(e,dn))?366:365},monthsInYear:()=>12,inLeapYear(n){let e=n;return Ta(e,dn)||(e=Xi(e)),kd(Z(e,dn))}};class xr{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let t=0;for(const i of e.map.entries()){if(++t>xr.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(e){const t=this.map.get(e);return t&&(this.hits++,this.report()),this.calls++,t}set(e,t){this.map.set(e,t),this.misses++,this.report()}report(){}setObject(e){if(xr.objectMap.get(e))throw new RangeError("object already cached");xr.objectMap.set(e,this),this.report()}static getCacheForObject(e){let t=xr.objectMap.get(e);return t||(t=new xr,xr.objectMap.set(e,t)),t}}function U2({isoYear:n,isoMonth:e,isoDay:t}){return`${Sp(n)}-${mr(e)}-${mr(t)}T00:00Z`}function Y_(n,e){return{years:n.year-e.year,months:n.month-e.month,days:n.day-e.day}}xr.objectMap=new WeakMap,xr.MAX_CACHE_ENTRIES=1e3;class Cf{constructor(){this.eraLength="short",this.hasEra=!0}getFormatter(){return this.formatter===void 0&&(this.formatter=new S$(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,t){const{year:i,month:r,day:a}=e,o=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:r,isoDay:a,id:this.id}),s=t.get(o);if(s)return s;const h=this.getFormatter();let p,f;try{f=U2({isoYear:i,isoMonth:r,isoDay:a}),p=h.formatToParts(new Date(f))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:r,isoDay:a})}`)}const y={};for(let{type:_,value:b}of p){if(_==="year"&&(y.eraYear=+b),_==="relatedYear"&&(y.eraYear=+b),_==="month"){const T=/^([0-9]*)(.*?)$/.exec(b);if(!T||T.length!=3||!T[1]&&!T[2])throw new RangeError(`Unexpected month: ${b}`);if(y.month=T[1]?+T[1]:1,y.month<1)throw new RangeError(`Invalid month ${b} from ${f}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(y.month>13)throw new RangeError(`Invalid month ${b} from ${f}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);T[2]&&(y.monthExtra=T[2])}_==="day"&&(y.day=+b),this.hasEra&&_==="era"&&b!=null&&b!==""&&(b=b.split(" (")[0],y.era=b.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(y.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:_,eraYear:b}=this.reviseIntlEra(y,e);y.era=_,y.eraYear=b}this.checkIcuBugs&&this.checkIcuBugs(e);const g=this.adjustCalendarDate(y,t,"constrain",!0);if(g.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(g.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(g.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return t.set(o,g),["constrain","reject"].forEach(_=>{const b=JSON.stringify({func:"calendarToIsoDate",year:g.year,month:g.month,day:g.day,overflow:_,id:this.id});t.set(b,e)}),g}validateCalendarDate(e){const{era:t,month:i,year:r,day:a,eraYear:o,monthCode:s,monthExtra:h}=e;if(h!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(r===void 0&&o===void 0)throw new TypeError("year or eraYear is required");if(i===void 0&&s===void 0)throw new TypeError("month or monthCode is required");if(a===void 0)throw new RangeError("Missing day");if(s!==void 0){if(typeof s!="string")throw new RangeError("monthCode must be a string, not "+typeof s);if(!/^M([01]?\d)(L?)$/.test(s))throw new RangeError(`Invalid monthCode: ${s}`)}if(this.constantEra){if(t!==void 0&&t!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${t}`);if(o!==void 0&&r!==void 0&&o!==r)throw new RangeError(`eraYear ${o} does not match year ${r}`)}}adjustCalendarDate(e,t,i="constrain",r=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let a=e;if(this.validateCalendarDate(a),this.constantEra){const{year:p,eraYear:f}=a;a={...a,era:this.constantEra,year:p!==void 0?p:f,eraYear:f!==void 0?f:p}}const o=this.monthsInYear(a,t);let{month:s,monthCode:h}=a;return{month:s,monthCode:h}=Gx(a,i,o),{...a,month:s,monthCode:h}}regulateMonthDayNaive(e,t,i){const r=this.monthsInYear(e,i);let{month:a,day:o}=e;return t==="reject"?(Wa(a,1,r),Wa(o,1,this.maximumMonthLength(e))):(a=vo(a,1,r),o=vo(o,1,this.maximumMonthLength({...e,month:a}))),{...e,month:a,day:o}}calendarToIsoDate(e,t="constrain",i){const r=e;let a=this.adjustCalendarDate(e,i,t,!1);a=this.regulateMonthDayNaive(a,t,i);const{year:o,month:s,day:h}=a,p=JSON.stringify({func:"calendarToIsoDate",year:o,month:s,day:h,overflow:t,id:this.id});let f,y=i.get(p);if(y||r.year!==void 0&&r.month!==void 0&&r.day!==void 0&&(r.year!==a.year||r.month!==a.month||r.day!==a.day)&&(f=JSON.stringify({func:"calendarToIsoDate",year:r.year,month:r.month,day:r.day,overflow:t,id:this.id}),y=i.get(f),y))return y;let g=this.estimateIsoDate({year:o,month:s,day:h});const _=w=>{let N=this.addDaysIso(g,w);if(a.day>this.minimumMonthLength(a)){let C=this.isoToCalendarDate(N,i);for(;C.month!==s||C.year!==o;){if(t==="reject")throw new RangeError(`day ${h} does not exist in month ${s} of year ${o}`);N=this.addDaysIso(N,-1),C=this.isoToCalendarDate(N,i)}}return N};let b=0,T=this.isoToCalendarDate(g,i),E=Y_(a,T);if(E.years!==0||E.months!==0||E.days!==0){const w=365*E.years+30*E.months+E.days;g=this.addDaysIso(g,w),T=this.isoToCalendarDate(g,i),E=Y_(a,T),E.years===0&&E.months===0?g=_(E.days):b=this.compareCalendarDates(a,T)}let k=8,v=!1;for(;b;){g=this.addDaysIso(g,b*k);const w=T;T=this.isoToCalendarDate(g,i);const N=b;if(b=this.compareCalendarDates(a,T),b){if(E=Y_(a,T),E.years===0&&E.months===0)g=_(E.days),b=0,v=a.day>this.minimumMonthLength(a);else if(N&&b!==N)if(k>1)k/=2;else{if(t==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...r})}`);this.compareCalendarDates(T,w)>0&&(g=this.addDaysIso(g,-1)),v=!0,b=0}}}if(i.set(p,g),f&&i.set(f,g),a.year===void 0||a.month===void 0||a.day===void 0||a.monthCode===void 0||this.hasEra&&(a.era===void 0||a.eraYear===void 0))throw new RangeError("Unexpected missing property");if(!v){const w=JSON.stringify({func:"isoToCalendarDate",isoYear:g.year,isoMonth:g.month,isoDay:g.day,id:this.id});i.set(w,a)}return g}temporalToCalendarDate(e,t){const i={year:Z(e,dn),month:Z(e,gn),day:Z(e,_n)};return this.isoToCalendarDate(i,t)}compareCalendarDates(e,t){const i=li(e,["day","month","year"],["day","month","year"]),r=li(t,["day","month","year"],["day","month","year"]);return i.year!==r.year?Jh(i.year-r.year):i.month!==r.month?Jh(i.month-r.month):i.day!==r.day?Jh(i.day-r.day):0}regulateDate(e,t="constrain",i){const r=this.calendarToIsoDate(e,t,i);return this.isoToCalendarDate(r,i)}addDaysIso(e,t){return Qh(e.year,e.month,e.day,0,0,0,t,"constrain")}addDaysCalendar(e,t,i){const r=this.calendarToIsoDate(e,"constrain",i),a=this.addDaysIso(r,t);return this.isoToCalendarDate(a,i)}addMonthsCalendar(e,t,i,r){let a=e;const{day:o}=a;for(let s=0,h=E$(t);s<h;s++){const{month:p}=a,f=a,y=t<0?-Math.max(o,this.daysInPreviousMonth(a,r)):this.daysInMonth(a,r),g=this.calendarToIsoDate(a,"constrain",r);let _=this.addDaysIso(g,y);if(a=this.isoToCalendarDate(_,r),t>0){const b=this.monthsInYear(f,r);for(;a.month-1!=p%b;)_=this.addDaysIso(_,-1),a=this.isoToCalendarDate(_,r)}a.day!==o&&(a=this.regulateDate({...a,day:o},"constrain",r))}if(i==="reject"&&a.day!==o)throw new RangeError(`Day ${o} does not exist in resulting calendar month`);return a}addCalendar(e,{years:t=0,months:i=0,weeks:r=0,days:a=0},o,s){const{year:h,day:p,monthCode:f}=e,y=this.adjustCalendarDate({year:h+t,monthCode:f,day:p},s),g=this.addMonthsCalendar(y,i,o,s),_=a+7*r;return this.addDaysCalendar(g,_,s)}untilCalendar(e,t,i,r){let a=0,o=0,s=0,h=0;switch(i){case"day":a=this.calendarDaysUntil(e,t,r);break;case"week":{const p=this.calendarDaysUntil(e,t,r);a=p%7,o=(p-a)/7;break}case"month":case"year":{const p=t.year-e.year,f=t.month-e.month,y=t.day-e.day,g=this.compareCalendarDates(t,e);if(!g)return{years:0,months:0,weeks:0,days:0};i==="year"&&p&&(h=f*g<0||f===0&&y*g<0?p-g:p);let _,b=h?this.addCalendar(e,{years:h},"constrain",r):e;do s+=g,_=b,b=this.addMonthsCalendar(_,g,"constrain",r),b.day!==e.day&&(b=this.regulateDate({...b,day:e.day},"constrain",r));while(this.compareCalendarDates(t,b)*g>=0);s-=g,a=this.calendarDaysUntil(_,t,r);break}}return{years:h,months:s,weeks:o,days:a}}daysInMonth(e,t){const{day:i}=e,r=this.maximumMonthLength(e),a=this.minimumMonthLength(e);if(a===r)return a;const o=i<=r-a?r:a,s=this.calendarToIsoDate(e,"constrain",t),h=this.addDaysIso(s,o),p=this.isoToCalendarDate(h,t),f=this.addDaysIso(h,-p.day);return this.isoToCalendarDate(f,t).day}daysInPreviousMonth(e,t){const{day:i,month:r,year:a}=e;let o={year:r>1?a:a-1,month:r,day:1};const s=r>1?r-1:this.monthsInYear(o,t);o={...o,month:s};const h=this.minimumMonthLength(o),p=this.maximumMonthLength(o);if(h===p)return p;const f=this.calendarToIsoDate(e,"constrain",t),y=this.addDaysIso(f,-i);return this.isoToCalendarDate(y,t).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,t,i){const r=this.calendarToIsoDate(e,"constrain",i),a=this.calendarToIsoDate(t,"constrain",i);return this.isoDaysUntil(r,a)}isoDaysUntil(e,t){return q1(e.year,e.month,e.day,t.year,t.month,t.day,"day").days}monthDayFromFields(e,t,i){let r,a,o,s,h,{year:p,month:f,monthCode:y,day:g,era:_,eraYear:b}=e;if(y===void 0){if(p===void 0&&(_===void 0||b===void 0))throw new TypeError("`monthCode`, `year`, or `era` and `eraYear` is required");({monthCode:y,year:p}=this.adjustCalendarDate({year:p,month:f,monthCode:y,day:g,era:_,eraYear:b},i,t))}const{year:T}=this.isoToCalendarDate({year:1972,month:1,day:1},i);for(let E=0;E<100;E++){const k=this.adjustCalendarDate({day:g,monthCode:y,year:T-E},i),v=this.calendarToIsoDate(k,"constrain",i),w=this.isoToCalendarDate(v,i);if({year:r,month:a,day:o}=v,w.monthCode===y&&w.day===g)return{month:a,day:o,year:r};t==="constrain"&&(s===void 0||w.monthCode===s.monthCode&&w.day>s.day)&&(s=w,h=v)}if(t==="constrain"&&h!==void 0)return h;throw new RangeError(`No recent ${this.id} year with monthCode ${y} and day ${g}`)}}class L$ extends Cf{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){const{year:t}=e;return(7*t+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,t){const{month:i,year:r}=e,a=this.getMonthCode(r,i),o=Gw(this.months).find(h=>h[1].monthCode===a);if(o===void 0)throw new RangeError(`unmatched Hebrew month: ${i}`);const s=o[1].days;return typeof s=="number"?s:s[t]}estimateIsoDate(e){const{year:t}=e;return{year:t-3760,month:1,day:1}}getMonthCode(e,t){return this.inLeapYear({year:e})?t===6?zu(5,!0):zu(t<6?t:t-1):zu(t)}adjustCalendarDate(e,t,i="constrain",r=!1){let{year:a,eraYear:o,month:s,monthCode:h,day:p,monthExtra:f}=e;if(a===void 0&&o!==void 0&&(a=o),o===void 0&&a!==void 0&&(o=a),r){if(f){const y=this.months[f];if(!y)throw new RangeError(`Unrecognized month from formatToParts: ${f}`);s=this.inLeapYear({year:a})?y.leap:y.regular}return h=this.getMonthCode(a,s),{year:a,month:s,day:p,era:void 0,eraYear:o,monthCode:h}}if(this.validateCalendarDate(e),s===void 0)if(h.endsWith("L")){if(h!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${h}`);if(s=6,!this.inLeapYear({year:a})){if(i==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${a} which is not a leap year`);s=5,p=30,h="M05"}}else{s=J1(h),this.inLeapYear({year:a})&&s>=6&&s++;const y=this.monthsInYear({year:a});if(s<1||s>y)throw new RangeError(`Invalid monthCode: ${h}`)}else if(i==="reject"?(Wa(s,1,this.monthsInYear({year:a})),Wa(p,1,this.maximumMonthLength({year:a,month:s}))):(s=vo(s,1,this.monthsInYear({year:a})),p=vo(p,1,this.maximumMonthLength({year:a,month:s}))),h===void 0)h=this.getMonthCode(a,s);else if(this.getMonthCode(a,s)!==h)throw new RangeError(`monthCode ${h} doesn't correspond to month ${s} in Hebrew year ${a}`);return{...e,day:p,month:s,monthCode:h,year:a,eraYear:o}}}class Ef extends Cf{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,t){return this.daysInMonth({year:e.year,month:12,day:1},t)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:k$(t*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class G2 extends Ef{constructor(){super(...arguments),this.id="islamic"}}class N$ extends Ef{constructor(){super(...arguments),this.id="islamic-umalqura"}}class I$ extends Ef{constructor(){super(...arguments),this.id="islamic-tbla"}}class A$ extends Ef{constructor(){super(...arguments),this.id="islamic-civil"}}class P$ extends Ef{constructor(){super(...arguments),this.id="islamic-rgsa"}}class M$ extends Ef{constructor(){super(...arguments),this.id="islamicc"}}class D$ extends Cf{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,t){return G2.prototype.inLeapYear.call(this,e,t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===12?29:t<=6?31:30}maximumMonthLength(e){const{month:t}=e;return t===12?30:t<=6?31:30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:t+621,month:1,day:1}}}class O$ extends Cf{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return Y2(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){const{month:t}=e;let i=this.months[t];if(i===void 0)throw new RangeError(`Invalid month: ${t}`);return this.inLeapYear(e)&&i.leap&&(i=i.leap),i}estimateIsoDate(e){const t=this.adjustCalendarDate(e),i=this.getMonthInfo(t);return Qh(t.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,t.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function Y2(n){return n%4==0&&(n%100!=0||n%400==0)}class Xy extends Cf{constructor(e,t){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;const{eras:i,anchorEra:r}=function(o){let s,h=o;if(h.length===0)throw new RangeError("Invalid era data: eras are required");if(h.length===1&&h[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(h.length===1&&!h[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(h.filter(f=>f.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");h.forEach(f=>{if(f.isAnchor||!f.anchorEpoch&&!f.reverseOf){if(s)throw new RangeError("Invalid era data: cannot have multiple anchor eras");s=f,f.anchorEpoch={year:f.hasYearZero?0:1}}else if(!f.name)throw new RangeError("If era name is blank, it must be the anchor era")}),h=h.filter(f=>f.name),h.forEach(f=>{const{reverseOf:y}=f;if(y){const g=h.find(_=>_.name===y);if(g===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${y}`);f.reverseOf=g,f.anchorEpoch=g.anchorEpoch,f.isoEpoch=g.isoEpoch}f.anchorEpoch.month===void 0&&(f.anchorEpoch.month=1),f.anchorEpoch.day===void 0&&(f.anchorEpoch.day=1)}),C$.call(h,(f,y)=>{if(f.reverseOf)return 1;if(y.reverseOf)return-1;if(!f.isoEpoch||!y.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return y.isoEpoch.year-f.isoEpoch.year});const p=h[h.length-1].reverseOf;if(p&&p!==h[h.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return h.forEach((f,y)=>{f.genericName="era"+(h.length-1-y)}),{eras:h,anchorEra:s||h[0]}}(t);this.anchorEra=r,this.eras=i}inLeapYear(e){const{year:t}=this.estimateIsoDate({month:1,day:1,year:e.year});return Y2(t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){const t=(s,h)=>{const p=e[s];if(p!=null&&p!=h)throw new RangeError(`Input ${s} ${p} doesn't match calculated value ${h}`)},i=s=>{let h;const p={...e,year:s},f=this.eras.find((y,g)=>{if(g===this.eras.length-1){if(y.reverseOf){if(s>0)throw new RangeError(`Signed year ${s} is invalid for era ${y.name}`);return h=y.anchorEpoch.year-s,!0}return h=s-y.anchorEpoch.year+(y.hasYearZero?0:1),!0}return this.compareCalendarDates(p,y.anchorEpoch)>=0&&(h=s-y.anchorEpoch.year+(y.hasYearZero?0:1),!0)});if(!f)throw new RangeError(`Year ${s} was not matched by any era`);return{eraYear:h,era:f.name}};let{year:r,eraYear:a,era:o}=e;if(r!=null)({eraYear:a,era:o}=i(r)),t("era",o),t("eraYear",a);else{if(a==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const s=o===void 0?void 0:this.eras.find(h=>h.name===o||h.genericName===o);if(!s)throw new RangeError(`Era ${o} (ISO year ${a}) was not matched by any era`);if(a<1&&s.reverseOf)throw new RangeError(`Years in ${o} era must be positive, not ${r}`);r=s.reverseOf?s.anchorEpoch.year-a:a+s.anchorEpoch.year-(s.hasYearZero?0:1),t("year",r),{eraYear:a,era:o}=i(r)}}return{...e,year:r,eraYear:a,era:o}}adjustCalendarDate(e,t,i="constrain"){let r=e;const{month:a,monthCode:o}=r;return a===void 0&&(r={...r,month:J1(o)}),this.validateCalendarDate(r),r=this.completeEraYear(r),super.adjustCalendarDate(r,t,i)}estimateIsoDate(e){const t=this.adjustCalendarDate(e),{year:i,month:r,day:a}=t,{anchorEra:o}=this;return rb(i+o.isoEpoch.year-(o.hasYearZero?0:1),r,a,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Ld(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class eT extends Xy{constructor(e,t){super(e,t)}inLeapYear(e){const{year:t}=e;return(t+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){const{month:t}=e;return t===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}}class R$ extends eT{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class $$ extends eT{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class z$ extends eT{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class F$ extends Xy{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class B$ extends Xy{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class j$ extends Xy{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:t,eraYear:i}=e;return t!=="bc"&&t!=="b"||(t="bce"),t!=="ad"&&t!=="a"||(t="ce"),{era:t,eraYear:i}}}class U$ extends Xy{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long"}reviseIntlEra(e,t){const{era:i,eraYear:r}=e,{year:a}=t;return this.eras.find(o=>o.name===i)?{era:i,eraYear:r}:a<1?{era:"bce",eraYear:1-a}:{era:"ce",eraYear:a}}}class V2 extends Cf{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,t){const i=this.getMonthList(e.year,t);return Gw(i).length===13}monthsInYear(e,t){return this.inLeapYear(e,t)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,t){if(e===void 0)throw new TypeError("Missing year");const i=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),r=t.get(i);if(r)return r;const a=this.getFormatter(),o=(E,k)=>{const v=U2({isoYear:E,isoMonth:2,isoDay:1}),w=new Date(v);w.setUTCDate(k+1);const N=a.formatToParts(w),C=N.find(W=>W.type==="month").value,L=+N.find(W=>W.type==="day").value;let O=N.find(W=>W.type==="relatedYear");if(O===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return O=+O.value,{calendarMonthString:C,calendarDay:L,calendarYearToVerify:O}};let s=17,{calendarMonthString:h,calendarDay:p,calendarYearToVerify:f}=o(e,s);h!=="1"&&(s+=29,{calendarMonthString:h,calendarDay:p}=o(e,s)),s-=p-5;const y={};let g,_,b=1,T=!1;do({calendarMonthString:h,calendarDay:p,calendarYearToVerify:f}=o(e,s)),g&&(y[_].daysInMonth=g+30-p),f!==e?T=!0:(y[h]={monthIndex:b++},s+=30),g=p,_=h;while(!T);return y[_].daysInMonth=g+30-p,t.set(i,y),y}estimateIsoDate(e){const{year:t,month:i}=e;return{year:t,month:i>=12?12:i+1,day:1}}adjustCalendarDate(e,t,i="constrain",r=!1){let{year:a,month:o,monthExtra:s,day:h,monthCode:p,eraYear:f}=e;if(r){if(a=f,s&&s!=="bis")throw new RangeError(`Unexpected leap month suffix: ${s}`);const y=zu(o,s!==void 0),g=`${o}${s||""}`,_=this.getMonthList(a,t)[g];if(_===void 0)throw new RangeError(`Unmatched month ${g} in Chinese year ${a}`);return o=_.monthIndex,{year:a,month:o,day:h,era:void 0,eraYear:f,monthCode:y}}if(this.validateCalendarDate(e),a===void 0&&(a=f),f===void 0&&(f=a),o===void 0){const y=this.getMonthList(a,t);let g=p.replace("L","bis").slice(1);g[0]==="0"&&(g=g.slice(1));let _=y[g];if(o=_&&_.monthIndex,o===void 0&&p.endsWith("L")&&!hb.call(["M01L","M12L","M13L"],p)&&i==="constrain"){let b=p.slice(1,-1);b[0]==="0"&&(b=b.slice(1)),_=y[b],_&&({daysInMonth:h,monthIndex:o}=_,p=zu(b))}if(o===void 0)throw new RangeError(`Unmatched month ${p} in Chinese year ${a}`)}else if(p===void 0){const y=this.getMonthList(a,t),g=Gw(y),_=g.length;i==="reject"?(Wa(o,1,_),Wa(h,1,this.maximumMonthLength())):(o=vo(o,1,_),h=vo(h,1,this.maximumMonthLength()));const b=g.find(([,T])=>T.monthIndex===o);if(b===void 0)throw new RangeError(`Invalid month ${o} in Chinese year ${a}`);p=zu(b[0].replace("bis",""),b[0].indexOf("bis")!==-1)}else{const y=this.getMonthList(a,t);let g=p.replace("L","bis").slice(1);g[0]==="0"&&(g=g.slice(1));const _=y[g];if(!_)throw new RangeError(`Unmatched monthCode ${p} in Chinese year ${a}`);if(o!==_.monthIndex)throw new RangeError(`monthCode ${p} doesn't correspond to month ${o} in Chinese year ${a}`)}return{...e,year:a,eraYear:f,month:o,monthCode:p,day:h}}}class G$ extends V2{constructor(){super(...arguments),this.id="chinese"}}class Y$ extends V2{constructor(){super(...arguments),this.id="dangi"}}const V$={helper:void 0,dateFromFields(n,e,t){const i=Xr(e),r=new xr,a=li(n,["day","era","eraYear","month","monthCode","year"],["day"]),{year:o,month:s,day:h}=this.helper.calendarToIsoDate(a,i,r),p=Bl(o,s,h,t);return r.setObject(p),p},yearMonthFromFields(n,e,t){const i=Xr(e),r=new xr,a=li(n,["era","eraYear","month","monthCode","year"],[]),{year:o,month:s,day:h}=this.helper.calendarToIsoDate({...a,day:1},i,r),p=my(o,s,t,h);return r.setObject(p),p},monthDayFromFields(n,e,t){const i=Xr(e),r=new xr,a=li(n,["day","era","eraYear","month","monthCode","year"],["day"]),{year:o,month:s,day:h}=this.helper.monthDayFromFields(a,i,r),p=py(s,h,t,o);return r.setObject(p),p},fields(n){let e=n;return hb.call(e,"year")&&(e=[...e,"era","eraYear"]),e},mergeFields(n,e){const t={...n},i={...e},{month:r,monthCode:a,year:o,era:s,eraYear:h,...p}=t,{month:f,monthCode:y,year:g,era:_,eraYear:b}=i;return f===void 0&&y===void 0&&(p.month=r,p.monthCode=a),g===void 0&&_===void 0&&b===void 0&&(p.year=o),{...p,...i}},dateAdd(n,e,t,i,r,a,o){const s=xr.getCacheForObject(n),h=this.helper.temporalToCalendarDate(n,s),p=this.helper.addCalendar(h,{years:e,months:t,weeks:i,days:r},a,s),f=this.helper.calendarToIsoDate(p,"constrain",s),{year:y,month:g,day:_}=f,b=Bl(y,g,_,o);return new xr(s).setObject(b),b},dateUntil(n,e,t){const i=xr.getCacheForObject(n),r=xr.getCacheForObject(e),a=this.helper.temporalToCalendarDate(n,i),o=this.helper.temporalToCalendarDate(e,r);return this.helper.untilCalendar(a,o,t,i)},year(n){const e=xr.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).year},month(n){const e=xr.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).month},day(n){const e=xr.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).day},era(n){if(!this.helper.hasEra)return;const e=xr.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).era},eraYear(n){if(!this.helper.hasEra)return;const e=xr.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).eraYear},monthCode(n){const e=xr.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).monthCode},dayOfWeek:n=>Lr.iso8601.dayOfWeek(n),dayOfYear(n){const e=xr.getCacheForObject(n),t=this.helper.isoToCalendarDate(n,e),i=this.helper.startOfCalendarYear(t);return this.helper.calendarDaysUntil(i,t,e)+1},weekOfYear:n=>Lr.iso8601.weekOfYear(n),daysInWeek:n=>Lr.iso8601.daysInWeek(n),daysInMonth(n){const e=xr.getCacheForObject(n),t=this.helper.temporalToCalendarDate(n,e),i=this.helper.maximumMonthLength(t);if(i===this.helper.minimumMonthLength(t))return i;const r=this.helper.startOfCalendarMonth(t),a=this.helper.addMonthsCalendar(r,1,"constrain",e);return this.helper.calendarDaysUntil(r,a,e)},daysInYear(n){let e=n;Ta(e,dn)||(e=Xi(e));const t=xr.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,t),r=this.helper.startOfCalendarYear(i),a=this.helper.addCalendar(r,{years:1},"constrain",t);return this.helper.calendarDaysUntil(r,a,t)},monthsInYear(n){const e=xr.getCacheForObject(n),t=this.helper.temporalToCalendarDate(n,e);return this.helper.monthsInYear(t,e)},inLeapYear(n){let e=n;Ta(e,dn)||(e=Xi(e));const t=xr.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,t);return this.helper.inLeapYear(i,t)}};for(const n of[L$,D$,z$,R$,$$,G$,Y$,F$,O$,B$,j$,U$,G2,N$,I$,A$,P$,M$]){const e=new n;Lr[e.id]={...V$,helper:e}}class Zy{constructor(e,t,i,r=Zr()){const a=Zi(e),o=Zi(t),s=Zi(i),h=Fa(r);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");l2(this,a,o,s,h)}get calendar(){if(!bi(this))throw new TypeError("invalid receiver");return Z(this,Lt)}get era(){if(!bi(this))throw new TypeError("invalid receiver");return e0(Z(this,Lt),this)}get eraYear(){if(!bi(this))throw new TypeError("invalid receiver");return t0(Z(this,Lt),this)}get year(){if(!bi(this))throw new TypeError("invalid receiver");return Kb(Z(this,Lt),this)}get month(){if(!bi(this))throw new TypeError("invalid receiver");return Qb(Z(this,Lt),this)}get monthCode(){if(!bi(this))throw new TypeError("invalid receiver");return Vy(Z(this,Lt),this)}get day(){if(!bi(this))throw new TypeError("invalid receiver");return Jb(Z(this,Lt),this)}get dayOfWeek(){if(!bi(this))throw new TypeError("invalid receiver");return R1(Z(this,Lt),this)}get dayOfYear(){if(!bi(this))throw new TypeError("invalid receiver");return $1(Z(this,Lt),this)}get weekOfYear(){if(!bi(this))throw new TypeError("invalid receiver");return z1(Z(this,Lt),this)}get daysInWeek(){if(!bi(this))throw new TypeError("invalid receiver");return F1(Z(this,Lt),this)}get daysInMonth(){if(!bi(this))throw new TypeError("invalid receiver");return qy(Z(this,Lt),this)}get daysInYear(){if(!bi(this))throw new TypeError("invalid receiver");return n0(Z(this,Lt),this)}get monthsInYear(){if(!bi(this))throw new TypeError("invalid receiver");return i0(Z(this,Lt),this)}get inLeapYear(){if(!bi(this))throw new TypeError("invalid receiver");return r0(Z(this,Lt),this)}with(e,t){if(!bi(this))throw new TypeError("invalid receiver");if(!rr(e))throw new TypeError("invalid argument");Tf(e);const i=Z(this,Lt),r=sa(i,["day","month","monthCode","year"]),a=li(e,r,"partial");if(!a)throw new TypeError("invalid date-like");let o=li(this,r,[]);return o=ap(i,o,a),o=li(o,r,[]),$d(i,o,ui(t))}withCalendar(e){if(!bi(this))throw new TypeError("invalid receiver");const t=Fa(e);return new Zy(Z(this,dn),Z(this,gn),Z(this,_n),t)}add(e,t){if(!bi(this))throw new TypeError("invalid receiver");const i=$m(e),r=ui(t);return Os(Z(this,Lt),this,i,r)}subtract(e,t){if(!bi(this))throw new TypeError("invalid receiver");const i=_2($m(e)),r=ui(t);return Os(Z(this,Lt),this,i,r)}until(e,t){if(!bi(this))throw new TypeError("invalid receiver");return aE("until",this,e,t)}since(e,t){if(!bi(this))throw new TypeError("invalid receiver");return aE("since",this,e,t)}equals(e){if(!bi(this))throw new TypeError("invalid receiver");const t=Xi(e);for(const i of[dn,gn,_n])if(Z(this,i)!==Z(t,i))return!1;return Wy(Z(this,Lt),Z(t,Lt))}toString(e){if(!bi(this))throw new TypeError("invalid receiver");return KC(this,Uy(ui(e)))}toJSON(){if(!bi(this))throw new TypeError("invalid receiver");return KC(this)}toLocaleString(e,t){if(!bi(this))throw new TypeError("invalid receiver");return new Cp(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!bi(this))throw new TypeError("invalid receiver");const t=Z(this,dn),i=Z(this,gn),r=Z(this,_n),a=Z(this,Lt);if(e===void 0)return yo(t,i,r,0,0,0,0,0,0,a);const o=Du(e);return yo(t,i,r,Z(o,Xn),Z(o,Zn),Z(o,Kn),Z(o,Qn),Z(o,Jn),Z(o,ei),a)}toZonedDateTime(e){if(!bi(this))throw new TypeError("invalid receiver");let t,i;if(rr(e)){const b=e.timeZone;b===void 0?t=zs(e):(t=zs(b),i=e.plainTime)}else t=zs(e);const r=Z(this,dn),a=Z(this,gn),o=Z(this,_n),s=Z(this,Lt);let h=0,p=0,f=0,y=0,g=0,_=0;return i!==void 0&&(i=Du(i),h=Z(i,Xn),p=Z(i,Zn),f=Z(i,Kn),y=Z(i,Qn),g=Z(i,Jn),_=Z(i,ei)),Va(Z(Rs(t,yo(r,a,o,h,p,f,y,g,_,s),"compatible"),zn),t,s)}toPlainYearMonth(){if(!bi(this))throw new TypeError("invalid receiver");const e=Z(this,Lt);return sp(e,li(this,sa(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!bi(this))throw new TypeError("invalid receiver");const e=Z(this,Lt);return Ym(e,li(this,sa(e,["day","monthCode"]),[]))}getISOFields(){if(!bi(this))throw new TypeError("invalid receiver");return{calendar:Z(this,Lt),isoDay:Z(this,_n),isoMonth:Z(this,gn),isoYear:Z(this,dn)}}static from(e,t){const i=ui(t);return bi(e)?(Xr(i),Bl(Z(e,dn),Z(e,gn),Z(e,_n),Z(e,Lt))):Xi(e,i)}static compare(e,t){const i=Xi(e),r=Xi(t);return Ld(Z(i,dn),Z(i,gn),Z(i,_n),Z(r,dn),Z(r,gn),Z(r,_n))}}tu(Zy,"Temporal.PlainDate");class Ky{constructor(e,t,i,r=0,a=0,o=0,s=0,h=0,p=0,f=Zr()){const y=Zi(e),g=Zi(t),_=Zi(i),b=Zi(r),T=Zi(a),E=Zi(o),k=Zi(s),v=Zi(h),w=Zi(p),N=Fa(f);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");c2(this,y,g,_,b,T,E,k,v,w,N)}get calendar(){if(!ri(this))throw new TypeError("invalid receiver");return Z(this,Lt)}get year(){if(!ri(this))throw new TypeError("invalid receiver");return Kb(Z(this,Lt),this)}get month(){if(!ri(this))throw new TypeError("invalid receiver");return Qb(Z(this,Lt),this)}get monthCode(){if(!ri(this))throw new TypeError("invalid receiver");return Vy(Z(this,Lt),this)}get day(){if(!ri(this))throw new TypeError("invalid receiver");return Jb(Z(this,Lt),this)}get hour(){if(!ri(this))throw new TypeError("invalid receiver");return Z(this,Xn)}get minute(){if(!ri(this))throw new TypeError("invalid receiver");return Z(this,Zn)}get second(){if(!ri(this))throw new TypeError("invalid receiver");return Z(this,Kn)}get millisecond(){if(!ri(this))throw new TypeError("invalid receiver");return Z(this,Qn)}get microsecond(){if(!ri(this))throw new TypeError("invalid receiver");return Z(this,Jn)}get nanosecond(){if(!ri(this))throw new TypeError("invalid receiver");return Z(this,ei)}get era(){if(!ri(this))throw new TypeError("invalid receiver");return e0(Z(this,Lt),this)}get eraYear(){if(!ri(this))throw new TypeError("invalid receiver");return t0(Z(this,Lt),this)}get dayOfWeek(){if(!ri(this))throw new TypeError("invalid receiver");return R1(Z(this,Lt),this)}get dayOfYear(){if(!ri(this))throw new TypeError("invalid receiver");return $1(Z(this,Lt),this)}get weekOfYear(){if(!ri(this))throw new TypeError("invalid receiver");return z1(Z(this,Lt),this)}get daysInWeek(){if(!ri(this))throw new TypeError("invalid receiver");return F1(Z(this,Lt),this)}get daysInYear(){if(!ri(this))throw new TypeError("invalid receiver");return n0(Z(this,Lt),this)}get daysInMonth(){if(!ri(this))throw new TypeError("invalid receiver");return qy(Z(this,Lt),this)}get monthsInYear(){if(!ri(this))throw new TypeError("invalid receiver");return i0(Z(this,Lt),this)}get inLeapYear(){if(!ri(this))throw new TypeError("invalid receiver");return r0(Z(this,Lt),this)}with(e,t){if(!ri(this))throw new TypeError("invalid receiver");if(!rr(e))throw new TypeError("invalid argument");Tf(e);const i=ui(t),r=Z(this,Lt),a=sa(r,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),o=li(e,a,"partial");if(!o)throw new TypeError("invalid date-time-like");let s=li(this,a,[]);s=ap(r,s,o),s=li(s,a,[]);const{year:h,month:p,day:f,hour:y,minute:g,second:_,millisecond:b,microsecond:T,nanosecond:E}=Yy(r,s,i);return yo(h,p,f,y,g,_,b,T,E,r)}withPlainTime(e){if(!ri(this))throw new TypeError("invalid receiver");const t=Z(this,dn),i=Z(this,gn),r=Z(this,_n),a=Z(this,Lt);if(e===void 0)return yo(t,i,r,0,0,0,0,0,0,a);const o=Du(e);return yo(t,i,r,Z(o,Xn),Z(o,Zn),Z(o,Kn),Z(o,Qn),Z(o,Jn),Z(o,ei),a)}withPlainDate(e){if(!ri(this))throw new TypeError("invalid receiver");const t=Xi(e),i=Z(t,dn),r=Z(t,gn),a=Z(t,_n);let o=Z(t,Lt);const s=Z(this,Xn),h=Z(this,Zn),p=Z(this,Kn),f=Z(this,Qn),y=Z(this,Jn),g=Z(this,ei);return o=p2(Z(this,Lt),o),yo(i,r,a,s,h,p,f,y,g,o)}withCalendar(e){if(!ri(this))throw new TypeError("invalid receiver");const t=Fa(e);return new Ky(Z(this,dn),Z(this,gn),Z(this,_n),Z(this,Xn),Z(this,Zn),Z(this,Kn),Z(this,Qn),Z(this,Jn),Z(this,ei),t)}add(e,t){if(!ri(this))throw new TypeError("invalid receiver");return hE("add",this,e,t)}subtract(e,t){if(!ri(this))throw new TypeError("invalid receiver");return hE("subtract",this,e,t)}until(e,t){if(!ri(this))throw new TypeError("invalid receiver");return sE("until",this,e,t)}since(e,t){if(!ri(this))throw new TypeError("invalid receiver");return sE("since",this,e,t)}round(e){if(!ri(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?Wm("smallestUnit",e):ui(e),i=wa(t,"smallestUnit","time",rp,["day"]),r=Ks(t,"halfExpand"),a=Qu(t,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1);let o=Z(this,dn),s=Z(this,gn),h=Z(this,_n),p=Z(this,Xn),f=Z(this,Zn),y=Z(this,Kn),g=Z(this,Qn),_=Z(this,Jn),b=Z(this,ei);return{year:o,month:s,day:h,hour:p,minute:f,second:y,millisecond:g,microsecond:_,nanosecond:b}=X1(o,s,h,p,f,y,g,_,b,a,i,r),yo(o,s,h,p,f,y,g,_,b,Z(this,Lt))}equals(e){if(!ri(this))throw new TypeError("invalid receiver");const t=Wh(e);for(const i of[dn,gn,_n,Xn,Zn,Kn,Qn,Jn,ei])if(Z(this,i)!==Z(t,i))return!1;return Wy(Z(this,Lt),Z(t,Lt))}toString(e){if(!ri(this))throw new TypeError("invalid receiver");const t=ui(e),{precision:i,unit:r,increment:a}=Gy(t);return QC(this,i,Uy(t),{unit:r,increment:a,roundingMode:Ks(t,"trunc")})}toJSON(){if(!ri(this))throw new TypeError("invalid receiver");return QC(this,"auto")}toLocaleString(e,t){if(!ri(this))throw new TypeError("invalid receiver");return new Cp(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,t){if(!ri(this))throw new TypeError("invalid receiver");const i=zs(e);return Va(Z(Rs(i,this,hy(ui(t))),zn),i,Z(this,Lt))}toPlainDate(){if(!ri(this))throw new TypeError("invalid receiver");return Vm(this)}toPlainYearMonth(){if(!ri(this))throw new TypeError("invalid receiver");const e=Z(this,Lt);return sp(e,li(this,sa(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ri(this))throw new TypeError("invalid receiver");const e=Z(this,Lt);return Ym(e,li(this,sa(e,["day","monthCode"]),[]))}toPlainTime(){if(!ri(this))throw new TypeError("invalid receiver");return B1(this)}getISOFields(){if(!ri(this))throw new TypeError("invalid receiver");return{calendar:Z(this,Lt),isoDay:Z(this,_n),isoHour:Z(this,Xn),isoMicrosecond:Z(this,Jn),isoMillisecond:Z(this,Qn),isoMinute:Z(this,Zn),isoMonth:Z(this,gn),isoNanosecond:Z(this,ei),isoSecond:Z(this,Kn),isoYear:Z(this,dn)}}static from(e,t){const i=ui(t);return ri(e)?(Xr(i),yo(Z(e,dn),Z(e,gn),Z(e,_n),Z(e,Xn),Z(e,Zn),Z(e,Kn),Z(e,Qn),Z(e,Jn),Z(e,ei),Z(e,Lt))):Wh(e,i)}static compare(e,t){const i=Wh(e),r=Wh(t);for(const a of[dn,gn,_n,Xn,Zn,Kn,Qn,Jn,ei]){const o=Z(i,a),s=Z(r,a);if(o!==s)return Jh(o-s)}return 0}}tu(Ky,"Temporal.PlainDateTime");class Nd{constructor(e=0,t=0,i=0,r=0,a=0,o=0,s=0,h=0,p=0,f=0){const y=xa(e),g=xa(t),_=xa(i),b=xa(r),T=xa(a),E=xa(o),k=xa(s),v=xa(h),w=xa(p),N=xa(f);l0(y,g,_,b,T,E,k,v,w,N),nu(this),ai(this,Cs,y),ai(this,Ia,g),ai(this,Hs,_),ai(this,Es,b),ai(this,ks,T),ai(this,Ls,E),ai(this,Ns,k),ai(this,Is,v),ai(this,As,w),ai(this,Ps,N)}get years(){if(!Er(this))throw new TypeError("invalid receiver");return Z(this,Cs)}get months(){if(!Er(this))throw new TypeError("invalid receiver");return Z(this,Ia)}get weeks(){if(!Er(this))throw new TypeError("invalid receiver");return Z(this,Hs)}get days(){if(!Er(this))throw new TypeError("invalid receiver");return Z(this,Es)}get hours(){if(!Er(this))throw new TypeError("invalid receiver");return Z(this,ks)}get minutes(){if(!Er(this))throw new TypeError("invalid receiver");return Z(this,Ls)}get seconds(){if(!Er(this))throw new TypeError("invalid receiver");return Z(this,Ns)}get milliseconds(){if(!Er(this))throw new TypeError("invalid receiver");return Z(this,Is)}get microseconds(){if(!Er(this))throw new TypeError("invalid receiver");return Z(this,As)}get nanoseconds(){if(!Er(this))throw new TypeError("invalid receiver");return Z(this,Ps)}get sign(){if(!Er(this))throw new TypeError("invalid receiver");return Gc(Z(this,Cs),Z(this,Ia),Z(this,Hs),Z(this,Es),Z(this,ks),Z(this,Ls),Z(this,Ns),Z(this,Is),Z(this,As),Z(this,Ps))}get blank(){if(!Er(this))throw new TypeError("invalid receiver");return Gc(Z(this,Cs),Z(this,Ia),Z(this,Hs),Z(this,Es),Z(this,ks),Z(this,Ls),Z(this,Ns),Z(this,Is),Z(this,As),Z(this,Ps))===0}with(e){if(!Er(this))throw new TypeError("invalid receiver");const t=li(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial");if(!t)throw new TypeError("invalid duration-like");const{years:i=Z(this,Cs),months:r=Z(this,Ia),weeks:a=Z(this,Hs),days:o=Z(this,Es),hours:s=Z(this,ks),minutes:h=Z(this,Ls),seconds:p=Z(this,Ns),milliseconds:f=Z(this,Is),microseconds:y=Z(this,As),nanoseconds:g=Z(this,Ps)}=t;return new Nd(i,r,a,o,s,h,p,f,y,g)}negated(){if(!Er(this))throw new TypeError("invalid receiver");return _2(this)}abs(){if(!Er(this))throw new TypeError("invalid receiver");return new Nd(Math.abs(Z(this,Cs)),Math.abs(Z(this,Ia)),Math.abs(Z(this,Hs)),Math.abs(Z(this,Es)),Math.abs(Z(this,ks)),Math.abs(Z(this,Ls)),Math.abs(Z(this,Ns)),Math.abs(Z(this,Is)),Math.abs(Z(this,As)),Math.abs(Z(this,Ps)))}add(e,t){if(!Er(this))throw new TypeError("invalid receiver");return uE("add",this,e,t)}subtract(e,t){if(!Er(this))throw new TypeError("invalid receiver");return uE("subtract",this,e,t)}round(e){if(!Er(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let t=Z(this,Cs),i=Z(this,Ia),r=Z(this,Hs),a=Z(this,Es),o=Z(this,ks),s=Z(this,Ls),h=Z(this,Ns),p=Z(this,Is),f=Z(this,As),y=Z(this,Ps),g=Rw(t,i,r,a,o,s,h,p,f,y);const _=typeof e=="string"?Wm("smallestUnit",e):ui(e);let b=wa(_,"smallestUnit","datetime",void 0),T=!0;b||(T=!1,b="nanosecond"),g=Co(g,b);let E=wa(_,"largestUnit","datetime",void 0,["auto"]),k=!0;if(E||(k=!1,E=g),E==="auto"&&(E=g),!T&&!k)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Co(E,b)!==E)throw new RangeError(`largestUnit ${E} cannot be smaller than smallestUnit ${b}`);const v=Ks(_,"halfExpand"),w=O1(_,b);let N=Fx(_);return{years:t,months:i,weeks:r,days:a}=mx(t,i,r,a,E,N),{years:t,months:i,weeks:r,days:a,hours:o,minutes:s,seconds:h,milliseconds:p,microseconds:f,nanoseconds:y}=Fd(t,i,r,a,o,s,h,p,f,y,w,b,v,N),{years:t,months:i,weeks:r,days:a,hours:o,minutes:s,seconds:h,milliseconds:p,microseconds:f,nanoseconds:y}=N2(t,i,r,a,o,s,h,p,f,y,w,b,v,N),{years:t,months:i,weeks:r,days:a}=function(L,O,W,X,H,$){let G=L,j=O,D=W,M=X;const Y=Fn("%Temporal.Duration%"),B=Gc(G,j,D,M,0,0,0,0,0,0);if(B===0)return{years:G,months:j,weeks:D,days:M};let z,q;$&&(q=Xi($),z=Z(q,Lt));const V=new Y(B),te=new Y(0,B),ce=new Y(0,0,B);switch(H){case"year":{if(!z)throw new RangeError("a starting point is required for years balancing");let ie,se,Ce;for({relativeTo:ie,days:se}=ss(z,q,V);ki(M)>=ki(se);)M-=se,G+=B,q=ie,{relativeTo:ie,days:se}=ss(z,q,V);for({relativeTo:ie,days:Ce}=ss(z,q,te);ki(M)>=ki(Ce);)M-=Ce,j+=B,q=ie,{relativeTo:ie,days:Ce}=ss(z,q,te);const pe=z.dateAdd;ie=Os(z,q,V,void 0,pe);const we=z.dateUntil,K=Za(null);K.largestUnit="month";let J=Rd(z,q,ie,K,we),ae=Z(J,Ia);for(;ki(j)>=ki(ae);){j-=ae,G+=B,q=ie,ie=Os(z,q,V,void 0,pe);const ve=Za(null);ve.largestUnit="month",J=Rd(z,q,ie,ve,we),ae=Z(J,Ia)}break}case"month":{if(!z)throw new RangeError("a starting point is required for months balancing");let ie,se;for({relativeTo:ie,days:se}=ss(z,q,te);ki(M)>=ki(se);)M-=se,j+=B,q=ie,{relativeTo:ie,days:se}=ss(z,q,te);break}case"week":{if(!z)throw new RangeError("a starting point is required for weeks balancing");let ie,se;for({relativeTo:ie,days:se}=ss(z,q,ce);ki(M)>=ki(se);)M-=se,D+=B,q=ie,{relativeTo:ie,days:se}=ss(z,q,ce);break}}return{years:G,months:j,weeks:D,days:M}}(t,i,r,a,E,N),En(N)&&(N=Bw(N,t,i,r,0)),{days:a,hours:o,minutes:s,seconds:h,milliseconds:p,microseconds:f,nanoseconds:y}=To(a,o,s,h,p,f,y,E,N),new Nd(t,i,r,a,o,s,h,p,f,y)}total(e){if(!Er(this))throw new TypeError("invalid receiver");let t=Z(this,Cs),i=Z(this,Ia),r=Z(this,Hs),a=Z(this,Es),o=Z(this,ks),s=Z(this,Ls),h=Z(this,Ns),p=Z(this,Is),f=Z(this,As),y=Z(this,Ps);if(e===void 0)throw new TypeError("options argument is required");const g=typeof e=="string"?Wm("unit",e):ui(e),_=wa(g,"unit","datetime",rp),b=Fx(g);let T;({years:t,months:i,weeks:r,days:a}=mx(t,i,r,a,_,b)),En(b)&&(T=Bw(b,t,i,r,0)),{days:a,hours:o,minutes:s,seconds:h,milliseconds:p,microseconds:f,nanoseconds:y}=To(a,o,s,h,p,f,y,_,T);const{total:E}=Fd(t,i,r,a,o,s,h,p,f,y,1,_,"trunc",b);return E}toString(e){if(!Er(this))throw new TypeError("invalid receiver");const t=ui(e),{precision:i,unit:r,increment:a}=Gy(t);if(i==="minute")throw new RangeError('smallestUnit must not be "minute"');return j_(this,i,{unit:r,increment:a,roundingMode:Ks(t,"trunc")})}toJSON(){if(!Er(this))throw new TypeError("invalid receiver");return j_(this)}toLocaleString(e,t){if(!Er(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,t).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),j_(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return Er(e)?new Nd(Z(e,Cs),Z(e,Ia),Z(e,Hs),Z(e,Es),Z(e,ks),Z(e,Ls),Z(e,Ns),Z(e,Is),Z(e,As),Z(e,Ps)):$m(e)}static compare(e,t,i){const r=$m(e),a=$m(t),o=Fx(ui(i)),s=Z(r,Cs),h=Z(r,Ia),p=Z(r,Hs);let f=Z(r,Es);const y=Z(r,ks),g=Z(r,Ls),_=Z(r,Ns),b=Z(r,Is),T=Z(r,As);let E=Z(r,Ps);const k=Z(a,Cs),v=Z(a,Ia),w=Z(a,Hs);let N=Z(a,Es);const C=Z(a,ks),L=Z(a,Ls),O=Z(a,Ns),W=Z(a,Is),X=Z(a,As);let H=Z(a,Ps);const $=iE(o,s,h,p,f),G=iE(o,k,v,w,N);s===0&&k===0&&h===0&&v===0&&p===0&&w===0||({days:f}=mx(s,h,p,f,"day",o),{days:N}=mx(k,v,w,N,"day",o));const j=qm(f,y,g,_,b,T,E,$),D=qm(N,C,L,O,W,X,H,G);return Jh(he.toNumber(he.subtract(j,D)))}}tu(Nd,"Temporal.Duration");const q$=Object.create;class tT{constructor(e,t,i=Zr(),r=1972){const a=Zi(e),o=Zi(t),s=Fa(i),h=Zi(r);if(arguments.length<2)throw new RangeError("missing argument: isoMonth and isoDay are required");u2(this,a,o,s,h)}get monthCode(){if(!Aa(this))throw new TypeError("invalid receiver");return Vy(Z(this,Lt),this)}get day(){if(!Aa(this))throw new TypeError("invalid receiver");return Jb(Z(this,Lt),this)}get calendar(){if(!Aa(this))throw new TypeError("invalid receiver");return Z(this,Lt)}with(e,t){if(!Aa(this))throw new TypeError("invalid receiver");if(!rr(e))throw new TypeError("invalid argument");Tf(e);const i=Z(this,Lt),r=sa(i,["day","month","monthCode","year"]),a=li(e,r,"partial");if(!a)throw new TypeError("invalid month-day-like");let o=li(this,r,[]);return o=ap(i,o,a),o=li(o,r,[]),Ym(i,o,ui(t))}equals(e){if(!Aa(this))throw new TypeError("invalid receiver");const t=XC(e);for(const i of[gn,_n,dn])if(Z(this,i)!==Z(t,i))return!1;return Wy(Z(this,Lt),Z(t,Lt))}toString(e){if(!Aa(this))throw new TypeError("invalid receiver");return JC(this,Uy(ui(e)))}toJSON(){if(!Aa(this))throw new TypeError("invalid receiver");return JC(this)}toLocaleString(e,t){if(!Aa(this))throw new TypeError("invalid receiver");return new Cp(e,t).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!Aa(this))throw new TypeError("invalid receiver");if(!rr(e))throw new TypeError("argument should be an object");const t=Z(this,Lt),i=sa(t,["day","monthCode"]),r=li(this,i,[]),a=sa(t,["year"]);let o=ap(t,r,li(e,a,[]));o=li(o,[...new Set([...i,...a])],[]);const s=q$(null);return s.overflow="reject",$d(t,o,s)}getISOFields(){if(!Aa(this))throw new TypeError("invalid receiver");return{calendar:Z(this,Lt),isoDay:Z(this,_n),isoMonth:Z(this,gn),isoYear:Z(this,dn)}}static from(e,t){const i=ui(t);return Aa(e)?(Xr(i),py(Z(e,gn),Z(e,_n),Z(e,Lt),Z(e,dn))):XC(e,i)}}tu(tT,"Temporal.PlainMonthDay");const nT=()=>new(Fn("%Temporal.Instant%"))(K1()),yE=(n,e=Cd())=>{const t=zs(e),i=Fa(n);return Uo(t,nT(),i)},V_=(n=Cd())=>{const e=zs(n),t=Zr();return Uo(e,nT(),t)},vE=(n,e=Cd())=>{const t=zs(e),i=Fa(n);return Va(K1(),t,i)},Cd=()=>function(){const e=new QN("en-us");return new(Fn("%Temporal.TimeZone%"))(a2(e.resolvedOptions().timeZone))}(),q2={instant:nT,plainDateTime:yE,plainDateTimeISO:V_,plainDate:(n,e=Cd())=>Vm(yE(n,e)),plainDateISO:(n=Cd())=>Vm(V_(n)),plainTimeISO:(n=Cd())=>B1(V_(n)),timeZone:Cd,zonedDateTime:vE,zonedDateTimeISO:(n=Cd())=>vE(Zr(),n),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(q2,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const W$=Object.assign;function xE(n,e,t){let i=Z(n,Xn),r=Z(n,Zn),a=Z(n,Kn),o=Z(n,Qn),s=Z(n,Jn),h=Z(n,ei);if(t){const{unit:p,increment:f,roundingMode:y}=t;({hour:i,minute:r,second:a,millisecond:o,microsecond:s,nanosecond:h}=Z1(i,r,a,o,s,h,f,p,y))}return`${mr(i)}:${mr(r)}${a0(a,o,s,h,e)}`}class tp{constructor(e=0,t=0,i=0,r=0,a=0,o=0){const s=Zi(e),h=Zi(t),p=Zi(i),f=Zi(r),y=Zi(a),g=Zi(o);o0(s,h,p,f,y,g),nu(this),ai(this,Xn,s),ai(this,Zn,h),ai(this,Kn,p),ai(this,Qn,f),ai(this,Jn,y),ai(this,ei,g),ai(this,Lt,Zr())}get calendar(){if(!kr(this))throw new TypeError("invalid receiver");return Z(this,Lt)}get hour(){if(!kr(this))throw new TypeError("invalid receiver");return Z(this,Xn)}get minute(){if(!kr(this))throw new TypeError("invalid receiver");return Z(this,Zn)}get second(){if(!kr(this))throw new TypeError("invalid receiver");return Z(this,Kn)}get millisecond(){if(!kr(this))throw new TypeError("invalid receiver");return Z(this,Qn)}get microsecond(){if(!kr(this))throw new TypeError("invalid receiver");return Z(this,Jn)}get nanosecond(){if(!kr(this))throw new TypeError("invalid receiver");return Z(this,ei)}with(e,t){if(!kr(this))throw new TypeError("invalid receiver");if(!rr(e))throw new TypeError("invalid argument");Tf(e);const i=ab(e,"partial"),r=Xr(ui(t)),a=ab(this);let{hour:o,minute:s,second:h,millisecond:p,microsecond:f,nanosecond:y}=W$(a,i);return{hour:o,minute:s,second:h,millisecond:p,microsecond:f,nanosecond:y}=Xb(o,s,h,p,f,y,r),new tp(o,s,h,p,f,y)}add(e){if(!kr(this))throw new TypeError("invalid receiver");return pE("add",this,e)}subtract(e){if(!kr(this))throw new TypeError("invalid receiver");return pE("subtract",this,e)}until(e,t){if(!kr(this))throw new TypeError("invalid receiver");return oE("until",this,e,t)}since(e,t){if(!kr(this))throw new TypeError("invalid receiver");return oE("since",this,e,t)}round(e){if(!kr(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?Wm("smallestUnit",e):ui(e),i=wa(t,"smallestUnit","time",rp),r=Ks(t,"halfExpand"),a=Qu(t,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1);let o=Z(this,Xn),s=Z(this,Zn),h=Z(this,Kn),p=Z(this,Qn),f=Z(this,Jn),y=Z(this,ei);return{hour:o,minute:s,second:h,millisecond:p,microsecond:f,nanosecond:y}=Z1(o,s,h,p,f,y,a,i,r),new tp(o,s,h,p,f,y)}equals(e){if(!kr(this))throw new TypeError("invalid receiver");const t=Du(e);for(const i of[Xn,Zn,Kn,Qn,Jn,ei])if(Z(this,i)!==Z(t,i))return!1;return!0}toString(e){if(!kr(this))throw new TypeError("invalid receiver");const t=ui(e),{precision:i,unit:r,increment:a}=Gy(t);return xE(this,i,{unit:r,increment:a,roundingMode:Ks(t,"trunc")})}toJSON(){if(!kr(this))throw new TypeError("invalid receiver");return xE(this,"auto")}toLocaleString(e,t){if(!kr(this))throw new TypeError("invalid receiver");return new Cp(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!kr(this))throw new TypeError("invalid receiver");const t=Xi(e),i=Z(t,dn),r=Z(t,gn),a=Z(t,_n),o=Z(t,Lt);return yo(i,r,a,Z(this,Xn),Z(this,Zn),Z(this,Kn),Z(this,Qn),Z(this,Jn),Z(this,ei),o)}toZonedDateTime(e){if(!kr(this))throw new TypeError("invalid receiver");if(!rr(e))throw new TypeError("invalid argument");const t=e.plainDate;if(t===void 0)throw new TypeError("missing date property");const i=Xi(t),r=e.timeZone;if(r===void 0)throw new TypeError("missing timeZone property");const a=zs(r),o=Z(i,dn),s=Z(i,gn),h=Z(i,_n),p=Z(i,Lt),f=Z(this,Xn),y=Z(this,Zn),g=Z(this,Kn),_=Z(this,Qn),b=Z(this,Jn),T=Z(this,ei);return Va(Z(Rs(a,new(Fn("%Temporal.PlainDateTime%"))(o,s,h,f,y,g,_,b,T,p),"compatible"),zn),a,p)}getISOFields(){if(!kr(this))throw new TypeError("invalid receiver");return{calendar:Z(this,Lt),isoHour:Z(this,Xn),isoMicrosecond:Z(this,Jn),isoMillisecond:Z(this,Qn),isoMinute:Z(this,Zn),isoNanosecond:Z(this,ei),isoSecond:Z(this,Kn)}}static from(e,t){const i=Xr(ui(t));return kr(e)?new tp(Z(e,Xn),Z(e,Zn),Z(e,Kn),Z(e,Qn),Z(e,Jn),Z(e,ei)):Du(e,i)}static compare(e,t){const i=Du(e),r=Du(t);for(const a of[Xn,Zn,Kn,Qn,Jn,ei]){const o=Z(i,a),s=Z(r,a);if(o!==s)return Jh(o-s)}return 0}}tu(tp,"Temporal.PlainTime");class iT{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const t=j1(e);nu(this),ai(this,Td,t)}get id(){if(!Oc(this))throw new TypeError("invalid receiver");return Vn(this)}getOffsetNanosecondsFor(e){if(!Oc(this))throw new TypeError("invalid receiver");const t=Bc(e),i=Z(this,Td);return Qg(i)?op(i):Pu(Z(t,zn),i)}getOffsetStringFor(e){if(!Oc(this))throw new TypeError("invalid receiver");return $w(this,Bc(e))}getPlainDateTimeFor(e,t=Zr()){return Uo(this,Bc(e),Fa(t))}getInstantFor(e,t){if(!Oc(this))throw new TypeError("invalid receiver");return Rs(this,Wh(e),hy(ui(t)))}getPossibleInstantsFor(e){if(!Oc(this))throw new TypeError("invalid receiver");const t=Wh(e),i=Fn("%Temporal.Instant%"),r=Z(this,Td);if(Qg(r)){const a=zd(Z(t,dn),Z(t,gn),Z(t,_n),Z(t,Xn),Z(t,Zn),Z(t,Kn),Z(t,Qn),Z(t,Jn),Z(t,ei));if(a===null)throw new RangeError("DateTime outside of supported range");const o=op(r);return[new i(he.subtract(a,he.BigInt(o)))]}return function(o,s,h,p,f,y,g,_,b,T){const E=zd(s,h,p,f,y,g,_,b,T);if(E===null)throw new RangeError("DateTime outside of supported range");let k=he.subtract(E,Od);he.lessThan(k,ly)&&(k=E);let v=he.add(E,Od);he.greaterThan(v,cy)&&(v=E);const w=Pu(k,o),N=Pu(v,o);return(w===N?[w]:[w,N]).map(C=>{const L=he.subtract(E,he.BigInt(C)),O=v2(L,o);if(s===O.year&&h===O.month&&p===O.day&&f===O.hour&&y===O.minute&&g===O.second&&_===O.millisecond&&b===O.microsecond&&T===O.nanosecond)return L}).filter(C=>C!==void 0)}(r,Z(t,dn),Z(t,gn),Z(t,_n),Z(t,Xn),Z(t,Zn),Z(t,Kn),Z(t,Qn),Z(t,Jn),Z(t,ei)).map(a=>new i(a))}getNextTransition(e){if(!Oc(this))throw new TypeError("invalid receiver");const t=Bc(e),i=Z(this,Td);if(Qg(i)||i==="UTC")return null;let r=Z(t,zn);const a=Fn("%Temporal.Instant%");return r=function(s,h){const p=he.add(s,t2),f=nE(x2(),p);let y=nE(e2,s);const g=Pu(y,h);let _=y,b=g;for(;g===b&&he.lessThan(he.BigInt(y),f);)_=he.add(y,n2),b=Pu(_,h),g===b&&(y=_);return g===b?null:P2(T=>Pu(T,h),y,_,g,b)}(r,i),r===null?null:new a(r)}getPreviousTransition(e){if(!Oc(this))throw new TypeError("invalid receiver");const t=Bc(e),i=Z(this,Td);if(Qg(i)||i==="UTC")return null;let r=Z(t,zn);const a=Fn("%Temporal.Instant%");return r=b2(r,i),r===null?null:new a(r)}toString(){if(!Oc(this))throw new TypeError("invalid receiver");return Vn(Z(this,Td))}toJSON(){if(!Oc(this))throw new TypeError("invalid receiver");return Vn(this)}static from(e){return zs(e)}}tu(iT,"Temporal.TimeZone");const H$=Object.create;class rT{constructor(e,t,i=Zr(),r=1){const a=Zi(e),o=Zi(t),s=Fa(i),h=Zi(r);if(arguments.length<2)throw new RangeError("missing argument: isoYear and isoMonth are required");d2(this,a,o,s,h)}get year(){if(!Pi(this))throw new TypeError("invalid receiver");return Kb(Z(this,Lt),this)}get month(){if(!Pi(this))throw new TypeError("invalid receiver");return Qb(Z(this,Lt),this)}get monthCode(){if(!Pi(this))throw new TypeError("invalid receiver");return Vy(Z(this,Lt),this)}get calendar(){if(!Pi(this))throw new TypeError("invalid receiver");return Z(this,Lt)}get era(){if(!Pi(this))throw new TypeError("invalid receiver");return e0(Z(this,Lt),this)}get eraYear(){if(!Pi(this))throw new TypeError("invalid receiver");return t0(Z(this,Lt),this)}get daysInMonth(){if(!Pi(this))throw new TypeError("invalid receiver");return qy(Z(this,Lt),this)}get daysInYear(){if(!Pi(this))throw new TypeError("invalid receiver");return n0(Z(this,Lt),this)}get monthsInYear(){if(!Pi(this))throw new TypeError("invalid receiver");return i0(Z(this,Lt),this)}get inLeapYear(){if(!Pi(this))throw new TypeError("invalid receiver");return r0(Z(this,Lt),this)}with(e,t){if(!Pi(this))throw new TypeError("invalid receiver");if(!rr(e))throw new TypeError("invalid argument");Tf(e);const i=Z(this,Lt),r=sa(i,["month","monthCode","year"]),a=li(e,r,"partial");if(!a)throw new TypeError("invalid year-month-like");let o=li(this,r,[]);return o=ap(i,o,a),o=li(o,r,[]),sp(i,o,ui(t))}add(e,t){if(!Pi(this))throw new TypeError("invalid receiver");return mE("add",this,e,t)}subtract(e,t){if(!Pi(this))throw new TypeError("invalid receiver");return mE("subtract",this,e,t)}until(e,t){if(!Pi(this))throw new TypeError("invalid receiver");return lE("until",this,e,t)}since(e,t){if(!Pi(this))throw new TypeError("invalid receiver");return lE("since",this,e,t)}equals(e){if(!Pi(this))throw new TypeError("invalid receiver");const t=Zg(e);for(const i of[dn,gn,_n])if(Z(this,i)!==Z(t,i))return!1;return Wy(Z(this,Lt),Z(t,Lt))}toString(e){if(!Pi(this))throw new TypeError("invalid receiver");return eE(this,Uy(ui(e)))}toJSON(){if(!Pi(this))throw new TypeError("invalid receiver");return eE(this)}toLocaleString(e,t){if(!Pi(this))throw new TypeError("invalid receiver");return new Cp(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!Pi(this))throw new TypeError("invalid receiver");if(!rr(e))throw new TypeError("argument should be an object");const t=Z(this,Lt),i=sa(t,["monthCode","year"]),r=li(this,i,[]),a=sa(t,["day"]);let o=ap(t,r,li(e,a,[]));o=li(o,[...new Set([...i,...a])],[]);const s=H$(null);return s.overflow="reject",$d(t,o,s)}getISOFields(){if(!Pi(this))throw new TypeError("invalid receiver");return{calendar:Z(this,Lt),isoDay:Z(this,_n),isoMonth:Z(this,gn),isoYear:Z(this,dn)}}static from(e,t){const i=ui(t);return Pi(e)?(Xr(i),my(Z(e,dn),Z(e,gn),Z(e,Lt),Z(e,_n))):Zg(e,i)}static compare(e,t){const i=Zg(e),r=Zg(t);return Ld(Z(i,dn),Z(i,gn),Z(i,_n),Z(r,dn),Z(r,gn),Z(r,_n))}}tu(rT,"Temporal.PlainYearMonth");class aT{constructor(e,t,i=Zr()){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");h2(this,iy(e),zs(t),Fa(i))}get calendar(){if(!En(this))throw new TypeError("invalid receiver");return Z(this,Lt)}get timeZone(){if(!En(this))throw new TypeError("invalid receiver");return Z(this,Fi)}get year(){if(!En(this))throw new TypeError("invalid receiver");return Kb(Z(this,Lt),ar(this))}get month(){if(!En(this))throw new TypeError("invalid receiver");return Qb(Z(this,Lt),ar(this))}get monthCode(){if(!En(this))throw new TypeError("invalid receiver");return Vy(Z(this,Lt),ar(this))}get day(){if(!En(this))throw new TypeError("invalid receiver");return Jb(Z(this,Lt),ar(this))}get hour(){if(!En(this))throw new TypeError("invalid receiver");return Z(ar(this),Xn)}get minute(){if(!En(this))throw new TypeError("invalid receiver");return Z(ar(this),Zn)}get second(){if(!En(this))throw new TypeError("invalid receiver");return Z(ar(this),Kn)}get millisecond(){if(!En(this))throw new TypeError("invalid receiver");return Z(ar(this),Qn)}get microsecond(){if(!En(this))throw new TypeError("invalid receiver");return Z(ar(this),Jn)}get nanosecond(){if(!En(this))throw new TypeError("invalid receiver");return Z(ar(this),ei)}get era(){if(!En(this))throw new TypeError("invalid receiver");return e0(Z(this,Lt),ar(this))}get eraYear(){if(!En(this))throw new TypeError("invalid receiver");return t0(Z(this,Lt),ar(this))}get epochSeconds(){if(!En(this))throw new TypeError("invalid receiver");const e=Z(this,zn);return he.toNumber(he.divide(e,Ru))}get epochMilliseconds(){if(!En(this))throw new TypeError("invalid receiver");const e=Z(this,zn);return he.toNumber(he.divide(e,ll))}get epochMicroseconds(){if(!En(this))throw new TypeError("invalid receiver");const e=Z(this,zn);return ub(he.divide(e,Bi))}get epochNanoseconds(){if(!En(this))throw new TypeError("invalid receiver");return ub(Z(this,zn))}get dayOfWeek(){if(!En(this))throw new TypeError("invalid receiver");return R1(Z(this,Lt),ar(this))}get dayOfYear(){if(!En(this))throw new TypeError("invalid receiver");return $1(Z(this,Lt),ar(this))}get weekOfYear(){if(!En(this))throw new TypeError("invalid receiver");return z1(Z(this,Lt),ar(this))}get hoursInDay(){if(!En(this))throw new TypeError("invalid receiver");const e=ar(this),t=Fn("%Temporal.PlainDateTime%"),i=Z(e,dn),r=Z(e,gn),a=Z(e,_n),o=new t(i,r,a,0,0,0,0,0,0),s=Qh(i,r,a,0,0,0,1,"reject"),h=new t(s.year,s.month,s.day,0,0,0,0,0,0),p=Z(this,Fi),f=Z(Rs(p,o,"compatible"),zn),y=Z(Rs(p,h,"compatible"),zn);return he.toNumber(he.subtract(y,f))/36e11}get daysInWeek(){if(!En(this))throw new TypeError("invalid receiver");return F1(Z(this,Lt),ar(this))}get daysInMonth(){if(!En(this))throw new TypeError("invalid receiver");return qy(Z(this,Lt),ar(this))}get daysInYear(){if(!En(this))throw new TypeError("invalid receiver");return n0(Z(this,Lt),ar(this))}get monthsInYear(){if(!En(this))throw new TypeError("invalid receiver");return i0(Z(this,Lt),ar(this))}get inLeapYear(){if(!En(this))throw new TypeError("invalid receiver");return r0(Z(this,Lt),ar(this))}get offset(){if(!En(this))throw new TypeError("invalid receiver");return $w(Z(this,Fi),Z(this,ls))}get offsetNanoseconds(){if(!En(this))throw new TypeError("invalid receiver");return uc(Z(this,Fi),Z(this,ls))}with(e,t){if(!En(this))throw new TypeError("invalid receiver");if(!rr(e))throw new TypeError("invalid zoned-date-time-like");Tf(e);const i=ui(t),r=hy(i),a=Ow(i,"prefer"),o=Z(this,Fi),s=Z(this,Lt),h=Dw(sa(s,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"offset"),p=li(e,h,"partial"),f=Dw(h,"timeZone");let y=li(this,f,["timeZone","offset"]);y=ap(s,y,p),y=li(y,f,["timeZone","offset"]);let{year:g,month:_,day:b,hour:T,minute:E,second:k,millisecond:v,microsecond:w,nanosecond:N}=Yy(s,y,i);return Va(sb(g,_,b,T,E,k,v,w,N,"option",op(y.offset),o,r,a,!1),Z(this,Fi),s)}withPlainDate(e){if(!En(this))throw new TypeError("invalid receiver");const t=Xi(e),i=Z(t,dn),r=Z(t,gn),a=Z(t,_n);let o=Z(t,Lt);const s=ar(this),h=Z(s,Xn),p=Z(s,Zn),f=Z(s,Kn),y=Z(s,Qn),g=Z(s,Jn),_=Z(s,ei);o=p2(Z(this,Lt),o);const b=Z(this,Fi);return Va(Z(Rs(b,new(Fn("%Temporal.PlainDateTime%"))(i,r,a,h,p,f,y,g,_,o),"compatible"),zn),b,o)}withPlainTime(e){if(!En(this))throw new TypeError("invalid receiver");const t=Fn("%Temporal.PlainTime%"),i=e===void 0?new t:Du(e),r=ar(this),a=Z(r,dn),o=Z(r,gn),s=Z(r,_n),h=Z(this,Lt),p=Z(i,Xn),f=Z(i,Zn),y=Z(i,Kn),g=Z(i,Qn),_=Z(i,Jn),b=Z(i,ei),T=Z(this,Fi);return Va(Z(Rs(T,new(Fn("%Temporal.PlainDateTime%"))(a,o,s,p,f,y,g,_,b,h),"compatible"),zn),T,h)}withTimeZone(e){if(!En(this))throw new TypeError("invalid receiver");const t=zs(e);return Va(Z(this,zn),t,Z(this,Lt))}withCalendar(e){if(!En(this))throw new TypeError("invalid receiver");const t=Fa(e);return Va(Z(this,zn),Z(this,Fi),t)}add(e,t){if(!En(this))throw new TypeError("invalid receiver");return fE("add",this,e,t)}subtract(e,t){if(!En(this))throw new TypeError("invalid receiver");return fE("subtract",this,e,t)}until(e,t){if(!En(this))throw new TypeError("invalid receiver");return cE("until",this,e,t)}since(e,t){if(!En(this))throw new TypeError("invalid receiver");return cE("since",this,e,t)}round(e){if(!En(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?Wm("smallestUnit",e):ui(e),i=wa(t,"smallestUnit","time",rp,["day"]),r=Ks(t,"halfExpand"),a=Qu(t,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1),o=ar(this);let s=Z(o,dn),h=Z(o,gn),p=Z(o,_n),f=Z(o,Xn),y=Z(o,Zn),g=Z(o,Kn),_=Z(o,Qn),b=Z(o,Jn),T=Z(o,ei);const E=Fn("%Temporal.PlainDateTime%"),k=Z(this,Fi),v=Z(this,Lt),w=Rs(k,new E(Z(o,dn),Z(o,gn),Z(o,_n),0,0,0,0,0,0),"compatible"),N=cl(w,k,v,0,0,0,1,0,0,0,0,0,0),C=he.subtract(N,he.BigInt(Z(w,zn)));if(he.equal(C,Yr))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero-length days");return{year:s,month:h,day:p,hour:f,minute:y,second:g,millisecond:_,microsecond:b,nanosecond:T}=X1(s,h,p,f,y,g,_,b,T,a,i,r,he.toNumber(C)),Va(sb(s,h,p,f,y,g,_,b,T,"option",uc(k,Z(this,ls)),k,"compatible","prefer",!1),k,Z(this,Lt))}equals(e){if(!En(this))throw new TypeError("invalid receiver");const t=Kg(e),i=Z(this,zn),r=Z(t,zn);return!!he.equal(he.BigInt(i),he.BigInt(r))&&!!m2(Z(this,Fi),Z(t,Fi))&&Wy(Z(this,Lt),Z(t,Lt))}toString(e){if(!En(this))throw new TypeError("invalid receiver");const t=ui(e),{precision:i,unit:r,increment:a}=Gy(t),o=Ks(t,"trunc");return tE(this,i,Uy(t),function(h){return Bd(h,"timeZoneName",["auto","never"],"auto")}(t),function(h){return Bd(h,"offset",["auto","never"],"auto")}(t),{unit:r,increment:a,roundingMode:o})}toLocaleString(e,t){if(!En(this))throw new TypeError("invalid receiver");return new Cp(e,t).format(this)}toJSON(){if(!En(this))throw new TypeError("invalid receiver");return tE(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!En(this))throw new TypeError("invalid receiver");const e=ar(this),t=Fn("%Temporal.PlainDateTime%"),i=Z(this,Lt),r=new t(Z(e,dn),Z(e,gn),Z(e,_n),0,0,0,0,0,0,i),a=Z(this,Fi);return Va(Z(Rs(a,r,"compatible"),zn),a,i)}toInstant(){if(!En(this))throw new TypeError("invalid receiver");return new(Fn("%Temporal.Instant%"))(Z(this,zn))}toPlainDate(){if(!En(this))throw new TypeError("invalid receiver");return Vm(ar(this))}toPlainTime(){if(!En(this))throw new TypeError("invalid receiver");return B1(ar(this))}toPlainDateTime(){if(!En(this))throw new TypeError("invalid receiver");return ar(this)}toPlainYearMonth(){if(!En(this))throw new TypeError("invalid receiver");const e=Z(this,Lt);return sp(e,li(this,sa(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!En(this))throw new TypeError("invalid receiver");const e=Z(this,Lt);return Ym(e,li(this,sa(e,["day","monthCode"]),[]))}getISOFields(){if(!En(this))throw new TypeError("invalid receiver");const e=ar(this),t=Z(this,Fi);return{calendar:Z(this,Lt),isoDay:Z(e,_n),isoHour:Z(e,Xn),isoMicrosecond:Z(e,Jn),isoMillisecond:Z(e,Qn),isoMinute:Z(e,Zn),isoMonth:Z(e,gn),isoNanosecond:Z(e,ei),isoSecond:Z(e,Kn),isoYear:Z(e,dn),offset:$w(t,Z(this,ls)),timeZone:t}}static from(e,t){const i=ui(t);return En(e)?(Xr(i),hy(i),Ow(i,"reject"),Va(Z(e,zn),Z(e,Fi),Z(e,Lt))):Kg(e,i)}static compare(e,t){const i=Kg(e),r=Kg(t),a=Z(i,zn),o=Z(r,zn);return he.lessThan(he.BigInt(a),he.BigInt(o))?-1:he.greaterThan(he.BigInt(a),he.BigInt(o))?1:0}}function ar(n){return Uo(Z(n,Fi),Z(n,ls),Z(n,Lt))}tu(aT,"Temporal.ZonedDateTime");var Or=Object.freeze({__proto__:null,Instant:ac,Calendar:pb,PlainDate:Zy,PlainDateTime:Ky,Duration:Nd,PlainMonthDay:tT,Now:q2,PlainTime:tp,TimeZone:iT,PlainYearMonth:rT,ZonedDateTime:aT});const X$=[ac,pb,Zy,Ky,Nd,tT,tp,iT,rT,aT];for(const n of X$){const e=Object.getOwnPropertyDescriptor(n,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(n,"prototype",e))}const Z$=n=>Object.entries(hR[n]).reduce((e,t)=>{let[i,r]=t;return e[`${n}-${i}`]=r,e},{}),K$=n=>Object.entries(n).map(e=>{let[t,i]=e;return`--${t}: ${i};`}).join(`
`),W2=n=>{let{colors:e=!1,theme:t=!1,layers:i=!1,spacers:r=!1,elevations:a=!1}=n;const o={colors:e,theme:t,layers:i,spacers:r,elevations:a},s=Object.keys(o).filter(h=>o[h]).map(Z$).map(K$).join(`
`);return Se.createElement(Pt,{id:"3443925957",dynamic:[s]},[`html{${s};}`])};W2.propTypes={colors:de.bool,elevations:de.bool,layers:de.bool,spacers:de.bool,theme:de.bool};const Q$=n=>{let{execute:e,variables:t,singular:i,immediate:r,onComplete:a,onError:o}=n;const[s]=cN(e),[h,p]=We.useState({called:!!r,loading:!!r}),f=We.useRef(t),y=We.useRef([]),g=We.useCallback(()=>{y.current.forEach(T=>T.abort()),y.current=[]},[]),_=We.useCallback(()=>{g(),p(T=>({called:T.called,loading:!1,error:new QO({type:"aborted",message:"Aborted"})}))},[g]),b=We.useCallback(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};p(v=>!v.called||!v.loading?{called:!0,loading:!0}:v),i&&g();const E=new AbortController;y.current.push(E),f.current={...f.current,...T};const k={variables:f.current,signal:E.signal,onComplete:a,onError:o};return s(k).then(v=>E.signal.aborted?new Promise(()=>{}):(p({called:!0,loading:!1,data:v}),v)).catch(v=>(E.signal.aborted||p({called:!0,loading:!1,error:v}),new Promise(()=>{})))},[g,a,o,i,s]);return We.useEffect(()=>(r&&b(),g),[]),{refetch:b,abort:_,...h}},J$={},mb=function(n){let{onComplete:e,onError:t,variables:i=J$,lazy:r=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=uN(),[o]=cN(n,{warn:!0,name:"mutation"}),s=We.useCallback(_=>a.mutate(o,_),[a,o]),{refetch:h,called:p,loading:f,error:y,data:g}=Q$({execute:s,variables:i,singular:!1,immediate:!r,onComplete:e,onError:t});return[h,{engine:a,called:p,loading:f,error:y,data:g}]},H2=n=>{let{threshold:e=0,onChange:t,children:i,className:r,dataTest:a="dhis2-uicore-intersectiondetector",rootRef:o}=n;const s=We.useRef(),h=We.useRef();return We.useEffect(()=>{const p=o.current,f=h.current;if(p&&f){const y=b=>{const[T]=b;T.isIntersecting!==s.current&&(s.current=T.isIntersecting,t({isIntersecting:T.isIntersecting}))},g={root:p,threshold:e},_=new IntersectionObserver(y,g);return _.observe(f),()=>_.disconnect()}},[o.current,h.current]),Se.createElement("div",{ref:h,"data-test":a,className:"jsx-2829611397 "+(r||"")},i,Se.createElement(Pt,{id:"2829611397"},["div.jsx-2829611397{height:100%;}"]))};H2.propTypes={rootRef:de.shape({current:de.instanceOf(HTMLElement)}).isRequired,onChange:de.func.isRequired,children:de.any,className:de.string,dataTest:de.string,threshold:de.number};const X2=n=>{let{children:e,open:t,dataTest:i}=n;return Se.createElement("div",{"data-test":i,className:"jsx-3677374542 "+(Nr({open:t})||"")},e,Se.createElement(Pt,{id:"3677374542"},["div.jsx-3677374542{height:0;overflow:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".open.jsx-3677374542{height:auto;}"]))};X2.propTypes={children:de.node,dataTest:de.string,open:de.bool};const ez=()=>Se.createElement("div",{className:"jsx-2503342345"},Se.createElement(Pt,{id:"2503342345"},["div.jsx-2503342345{width:24px;}"])),tz=()=>Se.createElement("div",{className:"nodeArrow"},Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"jsx-4098137027"},Se.createElement("path",{d:"M15.7041 10.3329L12.1495 14.3318C12.0699 14.4213 11.9301 14.4213 11.8505 14.3318L8.29589 10.3329C8.18124 10.2039 8.2728 10 8.44537 10H15.5546C15.7272 10 15.8188 10.2039 15.7041 10.3329Z",className:"jsx-4098137027"}),Se.createElement(Pt,{id:"4098137027"},["svg.jsx-4098137027{fill:inherit;height:24px;width:24px;vertical-align:middle;pointer-events:none;}"]))),Z2=n=>{let{open:e,onOpen:t,onClose:i,dataTest:r}=n;const a=e?i:t;return Se.createElement("div",{"data-test":r,onClick:o=>a&&a({open:!e},o),className:Pt.dynamic([["375729792",[je.grey400,je.grey900,je.grey100]]])+" "+(Nr({open:e})||"")},Se.createElement("span",{className:Pt.dynamic([["375729792",[je.grey400,je.grey900,je.grey100]]])},Se.createElement(tz,null)),Se.createElement(Pt,{id:"375729792",dynamic:[je.grey400,je.grey900,je.grey100]},["div.__jsx-style-dynamic-selector{width:24px;position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",`div.__jsx-style-dynamic-selector:after{background:${je.grey400};height:calc(100% - 24px);inset-inline-start:12px;position:absolute;top:15px;width:1px;z-index:1;}`,".open.__jsx-style-dynamic-selector:after{content:'';}",`span.__jsx-style-dynamic-selector{display:block;position:relative;z-index:2;fill:${je.grey900};}`,"div.__jsx-style-dynamic-selector .nodeArrow{vertical-align:top;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:-webkit-transform 0.1s ease-out;-webkit-transition:transform 0.1s ease-out;transition:transform 0.1s ease-out;}","div.__jsx-style-dynamic-selector .nodeArrow:dir(rtl){-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);}",".open.__jsx-style-dynamic-selector .nodeArrow{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}",".open.__jsx-style-dynamic-selector .nodeArrow:dir(rtl){-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}",`div.__jsx-style-dynamic-selector:hover{cursor:pointer;border-radius:3px;background:${je.grey100};}`,"div.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector:after{background:#bcc8d4;}"]))};Z2.propTypes={dataTest:de.string.isRequired,open:de.bool,onClose:de.func,onOpen:de.func};const K2=n=>{let{open:e,className:t,component:i,children:r,icon:a,onOpen:o,onClose:s,dataTest:h="dhis2-uicore-node"}=n;const p=!!Se.Children.toArray(r).filter(g=>g).length,f=!a&&p,y=!a&&!p;return Se.createElement("div",{"data-test":h,className:"jsx-1433072554 "+(Nr("node",t)||"")},a&&Se.createElement("div",{"data-test":`${h}-icon`,className:"jsx-1433072554"},a),f&&Se.createElement(Z2,{open:e,onOpen:o,onClose:s,dataTest:`${h}-toggle`}),y&&Se.createElement(ez,null),Se.createElement("div",{"data-test":`${h}-content`,className:"jsx-1433072554"},Se.createElement("div",{"data-test":`${h}-label`,className:"jsx-1433072554"},i),Se.createElement(X2,{open:e,dataTest:`${h}-leaves`},r)),Se.createElement(Pt,{id:"1433072554"},[".node.jsx-1433072554{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}"]))};K2.propTypes={children:de.node,className:de.string,component:de.element,dataTest:de.string,icon:de.node,open:de.bool,onClose:de.func,onOpen:de.func};const Q2=(n,e)=>n.some(i=>e===i?!0:i.startsWith(`${e}/`)),nz=(n,e)=>n.replace(new RegExp(`^.*(/${e})`),"$1"),iz=n=>[...n].sort((e,t)=>e.displayName.localeCompare(t.displayName)),rz={"No children match filter":"","Could not load children":"تعذر تحميل الأبناء","Error: {{ ERRORMESSAGE }}":"خطأ: {{ ERRORMESSAGE }}"},az={"No children match filter":"Filtru neodpovídají žádné podřízené","Could not load children":"Nelze načíst podřazené","Error: {{ ERRORMESSAGE }}":"Chyba: {{ ERRORMESSAGE }}"},sz={"No children match filter":"No children match filter","Could not load children":"Could not load children","Error: {{ ERRORMESSAGE }}":"Error: {{ ERRORMESSAGE }}"},oz={"No children match filter":"Sin filtros de coincidencia en los elementos inferiores","Could not load children":"No se pudo cargar los elementos inferiores","Error: {{ ERRORMESSAGE }}":"Error: {{ ERRORMESSAGE }}"},lz={"No children match filter":"Ningún descendiente coincide con el filtro","Could not load children":"No se han podido cargar los descendientes","Error: {{ ERRORMESSAGE }}":"Error: {{ ERRORMESSAGE }}"},cz={"No children match filter":"","Could not load children":"","Error: {{ ERRORMESSAGE }}":"Erreur : {{ ERRORMESSAGE }}"},uz={"No children match filter":"ບໍ່ພົບເດັກນ້ອຍທີ່ກົງກັບຕົວກອງ","Could not load children":"ບໍ່ສາມາດໂຫຼດເດັກນ້ອຍໄດ້","Error: {{ ERRORMESSAGE }}":"ຂໍ້ຜິດພາດ {{ ERRORMESSAGE }}"},dz={"No children match filter":"Ingen underenheter matcher filter","Could not load children":"Kunne ikke laste underordnede enheter","Error: {{ ERRORMESSAGE }}":"Feil: {{ ERRORMESSAGE }}"},hz={"No children match filter":"Er komen geen kinderen overeen met het filter","Could not load children":"Kan kinderen niet laden","Error: {{ ERRORMESSAGE }}":"Fout: {{ ERRORMESSAGE }}"},pz={"No children match filter":"Nenhum filho corresponde ao filtro","Could not load children":"Não foi possível carregar as crianças","Error: {{ ERRORMESSAGE }}":"Erro: {{ ERRORMESSAGE }}"},mz={"No children match filter":"Нет дочерних единиц, соответствующих фильтру","Could not load children":"¨Не удалось загрузить дочерние единицы","Error: {{ ERRORMESSAGE }}":"Ошибка: {{ ERRORMESSAGE }}"},fz={"No children match filter":"Немає дочірніх об'єктів, які відповідають фільтру","Could not load children":"Не вдалося завантажити дочірні об'єкти","Error: {{ ERRORMESSAGE }}":"Помилка: {{ ERRORMESSAGE }}"},gz={"No children match filter":"","Could not load children":"Bolalar yuklanmadi","Error: {{ ERRORMESSAGE }}":""},yz={"No children match filter":"Фильтрга мос бўлган авлод мавжуд эмас","Could not load children":"Болалар юкланмади","Error: {{ ERRORMESSAGE }}":"Хатолик: {{ ERRORMESSAGE }}"},vz={"No children match filter":"","Could not load children":"Bolalar yuklanmadi","Error: {{ ERRORMESSAGE }}":""},xz={"No children match filter":"Không có đơn vị con phù hợp với bộ lọc","Could not load children":"Không thể tải đơn vị con","Error: {{ ERRORMESSAGE }}":"Lỗi: {{ ERRORMESSAGE }}"},bz={"No children match filter":"没有下属匹配过滤器","Could not load children":"无法加载下属","Error: {{ ERRORMESSAGE }}":"错误：{{ ERRORMESSAGE }}"},_z={"No children match filter":"","Could not load children":"无法加载下属","Error: {{ ERRORMESSAGE }}":""},xs="default";dt.addResources("ar",xs,rz);dt.addResources("cs",xs,az);dt.addResources("en",xs,sz);dt.addResources("es",xs,oz);dt.addResources("es_419",xs,lz);dt.addResources("fr",xs,cz);dt.addResources("lo",xs,uz);dt.addResources("nb",xs,dz);dt.addResources("nl",xs,hz);dt.addResources("pt",xs,pz);dt.addResources("ru",xs,mz);dt.addResources("uk",xs,fz);dt.addResources("uz_Latn",xs,gz);dt.addResources("uz_UZ_Cyrl",xs,yz);dt.addResources("uz_UZ_Latn",xs,vz);dt.addResources("vi",xs,xz);dt.addResources("zh",xs,bz);dt.addResources("zh_CN",xs,_z);const wz="[a-zA-Z][a-zA-Z0-9]{10}",Tz=new RegExp(`(/${wz})+`),$o=(n,e,t,i,r)=>{if(!Tz.test(n[e]))return new Error(`Invalid org unit path \`${n[e]}\` supplied to \`${t}.${r}\``)},J2=n=>{let{children:e,dataTest:t}=n;return Se.createElement("span",{"data-test":`${t}-error`,className:Pt.dynamic([["3198585030",[je.grey800,Bt.dp4,Wt.error]]])},e,Se.createElement(Pt,{id:"3198585030",dynamic:[je.grey800,Bt.dp4,Wt.error]},[`span.__jsx-style-dynamic-selector{font-size:14px;color:${je.grey800};margin:${Bt.dp4};color:${Wt.error};}`]))};J2.propTypes={children:de.any.isRequired,dataTest:de.string.isRequired};const Sz=(n,e)=>e.some(t=>{const i=!t.match(new RegExp(`${n}$`)),r=t.match(new RegExp(n));return i&&r}),sT=n=>{let{checked:e,children:t,onChange:i,loading:r}=n;return Se.createElement("span",{onClick:a=>{i({checked:!e},a)},className:Pt.dynamic([["321503310",[je.grey900,je.teal700]]])+" "+(Nr({checked:e,loading:r})||"")},t,Se.createElement(Pt,{id:"321503310",dynamic:[je.grey900,je.teal700]},[`span.__jsx-style-dynamic-selector{background:transparent;border-radius:3px;color:${je.grey900};cursor:pointer;display:inline-block;font-size:14px;line-height:24px;padding:0 5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;}`,`.checked.__jsx-style-dynamic-selector{background:${je.teal700};color:white;}`,".loading.__jsx-style-dynamic-selector{cursor:auto;}"]))};sT.propTypes={children:de.any.isRequired,checked:de.bool,loading:de.bool,onChange:de.func};const eI=n=>{let{children:e,loading:t,onToggleOpen:i}=n;return Se.createElement(sT,{checked:!1,loading:t,onChange:i},e)};eI.propTypes={children:de.any.isRequired,onToggleOpen:de.func.isRequired,loading:de.bool};const tI=n=>{let{dataTest:e}=n;return Se.createElement("svg",{height:"18px",version:"1.1",viewBox:"0 0 18 18",width:"18px","data-test":`${e}-iconempty`,className:"jsx-3201893673"},Se.createElement("g",{fill:"none",fillRule:"evenodd",id:"icon/empty",stroke:"none",strokeWidth:"1",className:"jsx-3201893673"}),Se.createElement(Pt,{id:"3201893673"},["svg.jsx-3201893673{display:block;margin:3px 0;}"]))};tI.propTypes={dataTest:de.string.isRequired};const nI=n=>{let{dataTest:e}=n;return Se.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18",version:"1.1","data-test":`${e}-iconfolderclosed`,className:"jsx-3201893673"},Se.createElement("g",{id:"icon/folder/closed",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",className:"jsx-3201893673"},Se.createElement("path",{d:"M2,3.5 C1.17157288,3.5 0.5,4.17157288 0.5,5 L0.5,13 C0.5,13.8284271 1.17157288,14.5 2,14.5 L12,14.5 C12.8284271,14.5 13.5,13.8284271 13.5,13 L13.5,7 C13.5,6.17157288 12.8284271,5.5 12,5.5 L6.69098301,5.5 L5.82917961,3.7763932 C5.7444836,3.60700119 5.57135204,3.5 5.38196601,3.5 L2,3.5 Z",id:"Path-2",stroke:"#6C7787",fill:"#D5DDE5",className:"jsx-3201893673"})),Se.createElement(Pt,{id:"3201893673"},["svg.jsx-3201893673{display:block;margin:3px 0;}"]))};nI.propTypes={dataTest:de.string.isRequired};const iI=n=>{let{dataTest:e}=n;return Se.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18",version:"1.1","data-test":`${e}-iconfolderopen`,className:"jsx-2091325045"},Se.createElement("g",{id:"icon/folder/open",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",className:"jsx-2091325045"},Se.createElement("g",{id:"Group",transform:"translate(0.000000, 3.000000)",stroke:"#6C7787",className:"jsx-2091325045"},Se.createElement("path",{d:"M2,0.5 C1.17157288,0.5 0.5,1.17157288 0.5,2 L0.5,10 C0.5,10.8284271 1.17157288,11.5 2,11.5 L12,11.5 C12.8284271,11.5 13.5,10.8284271 13.5,10 L13.5,4 C13.5,3.17157288 12.8284271,2.5 12,2.5 L6.69098301,2.5 L5.82917961,0.776393202 C5.7444836,0.607001188 5.57135204,0.5 5.38196601,0.5 L2,0.5 Z",id:"Path-2",fill:"#A0ADBA",className:"jsx-2091325045"}),Se.createElement("path",{d:"M1.53632259,10.7093809 C1.47575089,10.7941813 1.44318932,10.8957885 1.44318932,11 C1.44318932,11.2761424 1.66704695,11.5 1.94318932,11.5 L12.4853821,11.5 C12.6468577,11.5 12.7983931,11.4220172 12.8922488,11.2906191 L16.4636774,6.2906191 C16.5242491,6.20581872 16.5568107,6.10421149 16.5568107,6 C16.5568107,5.72385763 16.3329531,5.5 16.0568107,5.5 L5.5146179,5.5 C5.35314234,5.5 5.20160692,5.57798284 5.10775116,5.7093809 L1.53632259,10.7093809 Z",id:"Path-3",fill:"#FBFCFD",className:"jsx-2091325045"}))),Se.createElement(Pt,{id:"2091325045"},["svg.jsx-2091325045{margin:3px 0;display:block;}"]))};iI.propTypes={dataTest:de.string.isRequired};const rI=n=>{let{dataTest:e}=n;return Se.createElement("svg",{height:"18px",version:"1.1",viewBox:"0 0 18 18",width:"18px","data-test":`${e}-iconsingle`,className:"jsx-3201893673"},Se.createElement("g",{fill:"none",fillRule:"evenodd",id:"icon/single",stroke:"none",strokeWidth:"1",className:"jsx-3201893673"},Se.createElement("rect",{fill:"#A0ADBA",height:"4",id:"Rectangle",rx:"1",width:"4",x:"7",y:"7",className:"jsx-3201893673"})),Se.createElement(Pt,{id:"3201893673"},["svg.jsx-3201893673{display:block;margin:3px 0;}"]))};rI.propTypes={dataTest:de.string.isRequired};const aI=n=>{let{loading:e,hasChildren:t,open:i,dataTest:r}=n;return e?Se.createElement(tI,{dataTest:r}):t?i?Se.createElement(iI,{dataTest:r}):Se.createElement(nI,{dataTest:r}):Se.createElement(rI,{dataTest:r})};aI.propTypes={dataTest:de.string.isRequired,hasChildren:de.bool,loading:de.bool,open:de.bool};const sI=n=>{let{checked:e,dataTest:t,hasChildren:i,indeterminate:r,children:a,loading:o,name:s,open:h,value:p,onChange:f}=n;const y=Se.createElement(aI,{loading:o,open:h,hasChildren:i,dataTest:t}),g=Se.createElement(Se.Fragment,null,Se.createElement("span",{className:"jsx-1000763175"},y),a,Se.createElement(Pt,{id:"1000763175"},["span.jsx-1000763175{display:inline-block;margin-inline-end:4px;}"]));return Se.createElement(Se.Fragment,null,Se.createElement(Wb,{dense:!0,checked:e,name:s,value:p,label:g,indeterminate:r,onChange:f}))};sI.propTypes={checked:de.bool.isRequired,children:de.any.isRequired,dataTest:de.string.isRequired,hasChildren:de.bool.isRequired,indeterminate:de.bool.isRequired,loading:de.bool.isRequired,name:de.string.isRequired,open:de.bool.isRequired,value:de.string.isRequired,onChange:de.func.isRequired};const Yx=n=>{let{highlighted:e,children:t}=n;return Se.createElement("div",{className:Pt.dynamic([["1387769986",[je.teal200]]])+" "+(Nr({highlighted:e})||"")},Se.createElement("span",{className:Pt.dynamic([["1387769986",[je.teal200]]])},t),Se.createElement(Pt,{id:"1387769986",dynamic:[je.teal200]},["div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}","span.__jsx-style-dynamic-selector{display:block;}",`.highlighted.__jsx-style-dynamic-selector{background:${je.teal200};padding-inline-end:4px;}`]))};Yx.propTypes={children:de.node,highlighted:de.bool};const Cz=n=>{let{selected:e,path:t,checked:i,singleSelection:r}=n;const a=e.indexOf(t);if(i&&a!==-1)return e;if(r&&i)return[t];if(i)return[...e,t];if(a===-1)return e;if(r)return[];if(e.indexOf(t)===0)return e.slice(1);const o=e.slice(0,a),s=e.slice(a+1);return[...o,...s]},oI=n=>{let{checked:e,children:t,dataTest:i,disableSelection:r,fullPath:a,hasChildren:o,hasSelectedDescendants:s,highlighted:h,loading:p,node:f,onChange:y,onToggleOpen:g,open:_,rootId:b,selected:T,singleSelection:E}=n;const k=(v,w)=>{let{checked:N}=v;const C=Cz({path:a,selected:T,checked:N,singleSelection:E,rootId:b}),L={...f,path:a,checked:N,selected:C};y(L,w)};return r?Se.createElement(Yx,{highlighted:h},Se.createElement(eI,{loading:p,onToggleOpen:g},t)):E?Se.createElement(Yx,{highlighted:h},Se.createElement(sT,{checked:e,onChange:k,loading:p},t)):Se.createElement(Yx,{highlighted:h},Se.createElement(sI,{dataTest:i,checked:e,name:"org-unit",value:f.id,loading:p,indeterminate:!e&&s,onChange:k,open:_,hasChildren:o},t))};oI.propTypes={children:de.any.isRequired,dataTest:de.string.isRequired,fullPath:de.string.isRequired,hasChildren:de.bool.isRequired,loading:de.bool.isRequired,node:de.shape({displayName:de.string.isRequired,id:de.string.isRequired,children:de.number,path:de.string}).isRequired,open:de.bool.isRequired,rootId:de.string.isRequired,onChange:de.func.isRequired,onToggleOpen:de.func.isRequired,checked:de.bool,disableSelection:de.bool,hasSelectedDescendants:de.bool,highlighted:de.bool,selected:de.arrayOf($o),singleSelection:de.bool};const bE={styles:Se.createElement(Pt,{id:"358163430"},[".extrasmall.jsx-358163430{display:block;margin:3px 0;}"]),className:"jsx-358163430"},lI=()=>Se.createElement("div",{className:"jsx-2503342345"},Se.createElement(Vb,{extrasmall:!0,className:bE.className}),Se.createElement("style",null,bE.styles),Se.createElement(Pt,{id:"2503342345"},["div.jsx-2503342345{width:24px;}"])),Ez={orgUnit:{resource:"organisationUnits",id:n=>{let{id:e}=n;return e},params:{fields:"children[id,path,displayName]"}}},kz=n=>{let{node:e,suppressAlphabeticalSorting:t,onComplete:i}=n;const r=We.useRef(!1),{called:a,loading:o,error:s,data:h}=Ao(Ez,{variables:{id:e.id}}),p=We.useMemo(()=>{if(!h)return;if(!e.children)return[];const{orgUnit:f}=h;return t?f.children:iz(f.children)},[h,t]);return We.useEffect(()=>{i&&p&&!r.current&&(i({...e,children:p}),r.current=!0)},[i,p,r]),{called:a,loading:o,error:s||null,data:p}},Lz=n=>{let{orgChildren:e,filter:t,node:i}=n;return t!=null&&t.length?e.filter(r=>Q2(t,`${i.path}/${r.id}`)):e},cI=n=>{let{node:e,autoExpandLoadingError:t,dataTest:i,disableSelection:r,expanded:a,filter:o,highlighted:s,isUserDataViewFallback:h,onChange:p,onChildrenLoaded:f,onCollapse:y,onExpand:g,parentPath:_,renderNodeLabel:b,rootId:T,selected:E,singleSelection:k,suppressAlphabeticalSorting:v,OrganisationUnitNode:w}=n;const N=kz({node:e,isUserDataViewFallback:h,suppressAlphabeticalSorting:v,onComplete:f}),C=N.called&&!N.loading&&!N.error,L=C?Lz({orgChildren:N.data,filter:o,node:e}):[];return Se.createElement(Se.Fragment,null,N.loading&&Se.createElement(lI,null),N.error&&`Error: ${N.error}`,C&&!L.length&&dt.t("No children match filter"),!!L.length&&L.map(O=>{const W=`${_}/${O.id}`;return Se.createElement(w,{autoExpandLoadingError:t,dataTest:i,disableSelection:r,displayName:O.displayName,expanded:a,filter:o,highlighted:s,id:O.id,isUserDataViewFallback:h,key:W,onChange:p,onChildrenLoaded:f,onCollapse:y,onExpand:g,path:W,renderNodeLabel:b,rootId:T,selected:E,singleSelection:k,suppressAlphabeticalSorting:v})}))};cI.propTypes={OrganisationUnitNode:de.func.isRequired,dataTest:de.string.isRequired,node:de.object.isRequired,parentPath:de.string.isRequired,renderNodeLabel:de.func.isRequired,rootId:de.string.isRequired,onChange:de.func.isRequired,autoExpandLoadingError:de.bool,disableSelection:de.bool,expanded:de.arrayOf($o),filter:de.arrayOf($o),highlighted:de.arrayOf($o),isUserDataViewFallback:de.bool,selected:de.arrayOf($o),singleSelection:de.bool,suppressAlphabeticalSorting:de.bool,onChildrenLoaded:de.func,onCollapse:de.func,onExpand:de.func};const Nz=n=>{let{path:e,expanded:t,onExpand:i,onCollapse:r,errorMessage:a,autoExpandLoadingError:o}=n;const s=o&&!!a,[h,p]=We.useState(!!a);We.useEffect(()=>{s&&!h&&(i({path:e}),p(!0))},[s,h]);const f=s&&!h||!!t.includes(e);return{open:f,onToggleOpen:()=>f?r({path:e}):i({path:e}),openedOnceDueToError:h}},Iz={orgUnit:{resource:"organisationUnits",id:n=>{let{id:e}=n;return e},params:n=>{let{isUserDataViewFallback:e}=n;return{isUserDataViewFallback:e,fields:["path","children::size"]}}}},Az=(n,e)=>{let{displayName:t,isUserDataViewFallback:i}=e;if(!t)throw new Error('"displayName" is required');const r={id:n,isUserDataViewFallback:i},{loading:a,error:o,data:s={}}=Ao(Iz,{variables:r});return{loading:a,error:o||null,data:{id:n,displayName:t,...s.orgUnit}}},oT=n=>{let{autoExpandLoadingError:e,dataTest:t,disableSelection:i,displayName:r,expanded:a,highlighted:o,id:s,isUserDataViewFallback:h,path:p,renderNodeLabel:f,rootId:y,selected:g,singleSelection:_,filter:b,suppressAlphabeticalSorting:T,onChange:E,onChildrenLoaded:k,onCollapse:v,onExpand:w}=n;const N=Az(s,{isUserDataViewFallback:h,displayName:r}),C=nz(p,y),L={displayName:r,id:s,...N.data,path:C},O=!!L.children&&L.children>0,W=Sz(C,g),X=o.includes(p),{open:H,onToggleOpen:$}=Nz({autoExpandLoadingError:e,errorMessage:N.error&&N.error.toString(),path:C,expanded:a,onExpand:w,onCollapse:v}),G=!!g.find(B=>B.match(new RegExp(`${C}$`))),j=f({disableSelection:i,hasChildren:O,hasSelectedDescendants:W,loading:N.loading,error:N.error,selected:g,open:H,path:p,singleSelection:_,node:L,label:r,checked:G,highlighted:X}),D=Se.createElement(oI,{node:L,fullPath:p,open:H,loading:N.loading,checked:G,rootId:y,onChange:E,dataTest:`${t}-label`,selected:g,hasChildren:O,highlighted:X,onToggleOpen:$,disableSelection:i,singleSelection:_,hasSelectedDescendants:W},j),M=O&&!H&&!N.error,Y=O&&H&&!N.error;return Se.createElement(K2,{dataTest:`${t}-node`,open:H,onOpen:$,onClose:$,component:D,icon:N.loading&&Se.createElement(lI,null)},N.error&&Se.createElement(J2,{dataTest:t},dt.t("Could not load children")),M&&Se.createElement("span",{"data-test":`${t}-placeholder`}),Y&&Se.createElement(cI,{OrganisationUnitNode:oT,node:L,autoExpandLoadingError:e,dataTest:t,disableSelection:i,expanded:a,filter:b,highlighted:o,isUserDataViewFallback:h,onChange:E,onChildrenLoaded:k,onCollapse:v,onExpand:w,parentPath:p,renderNodeLabel:f,rootId:y,selected:g,singleSelection:_,suppressAlphabeticalSorting:T}))};oT.propTypes={dataTest:de.string.isRequired,id:de.string.isRequired,renderNodeLabel:de.func.isRequired,rootId:de.string.isRequired,onChange:de.func.isRequired,autoExpandLoadingError:de.bool,disableSelection:de.bool,displayName:de.string,expanded:de.arrayOf($o),filter:de.arrayOf($o),highlighted:de.arrayOf($o),isUserDataViewFallback:de.bool,path:$o,selected:de.arrayOf($o),singleSelection:de.bool,suppressAlphabeticalSorting:de.bool,onChildrenLoaded:de.func,onCollapse:de.func,onExpand:de.func};const Pz=n=>{let{label:e}=n;return e},Mz=(n,e)=>n!=null&&n.length?e.filter(t=>Q2(n,`/${t}`)):e,uI=n=>{let{dataTest:e="dhis2-uiwidgets-orgunittree-error",error:t}=n;return Se.createElement("div",{"data-test":e},dt.t("Error: {{ ERRORMESSAGE }}",{ERRORMESSAGE:t,nsSeparator:">"}))};uI.propTypes={error:de.string.isRequired,dataTest:de.string};const dI=n=>{let{dataTest:e="dhis2-uiwidgets-orgunittree-loading"}=n;return Se.createElement("div",{"data-test":e,className:"jsx-814846266"},Se.createElement(Vb,{small:!0}),Se.createElement(Pt,{id:"814846266"},["div.jsx-814846266{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]))};dI.propTypes={dataTest:de.string};const Dz=n=>Array.from(new Set(n)),Oz=n=>{const e=n.replace(/^\//,"").split("/"),t=e.map((i,r)=>`/${e.slice(0,r+1).join("/")}`);return Dz(t)},Rz=n=>n.reduce((e,t)=>{const i=Oz(t);return[...e,...i]},[]),$z=n=>{let{expanded:e,setExpanded:t,onExpand:i,onCollapse:r}=n;return{handleExpand:s=>{let{path:h,...p}=s;e.includes(h)||(t([...e,h]),i&&i({path:h,...p}))},handleCollapse:s=>{let{path:h,...p}=s;const f=e.indexOf(h);if(f!==-1){const y=f===0?e.slice(1):[...e.slice(0,f),...e.slice(f+1)];t(y),r&&r({path:h,...p})}}}},zz=n=>{let{initiallyExpanded:e,onExpand:t,onCollapse:i,expandedControlled:r,handleExpandControlled:a,handleCollapseControlled:o}=n;const s=!!r,h=s?[]:Rz(e),[p,f]=We.useState(h);if(s)return{expanded:r,handleExpand:a,handleCollapse:o};const{handleExpand:y,handleCollapse:g}=$z({expanded:p,setExpanded:f,onExpand:t,onCollapse:i});return{expanded:p,handleExpand:y,handleCollapse:g}},Fz=n=>{const[e,t]=We.useState(0);return We.useEffect(()=>{const i=e+1;n===!0&&t(i)},[n]),e},Bz=n=>{const t=Object.entries(n).map(i=>{let[r,a]=i;const o=a.displayName||"";return[r,{...a,displayName:o}]});return Object.fromEntries(t)},jz=n=>n.reduce((e,t)=>({...e,[t]:{id:t,resource:"organisationUnits",params:i=>{let{isUserDataViewFallback:r}=i;return{isUserDataViewFallback:r,fields:["displayName","path","id"]}}}}),{}),Uz=function(n){let{isUserDataViewFallback:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=We.useMemo(()=>jz(n),[n]),r=Ao(t,{variables:{isUserDataViewFallback:e}}),{called:a,loading:o,error:s,data:h,refetch:p}=r,f=We.useMemo(()=>h&&Bz(h),[h]);return{called:a,loading:o,error:s||null,data:f||null,refetch:p}},fx=[],hI=n=>{let{onChange:e,roots:t,autoExpandLoadingError:i,dataTest:r="dhis2-uiwidgets-orgunittree",disableSelection:a,forceReload:o,highlighted:s=fx,isUserDataViewFallback:h,initiallyExpanded:p=fx,filter:f=fx,renderNodeLabel:y=Pz,selected:g=fx,singleSelection:_,suppressAlphabeticalSorting:b,expanded:T,handleExpand:E,handleCollapse:k,onExpand:v,onCollapse:w,onChildrenLoaded:N}=n;const C=Mz(f,Array.isArray(t)?t:[t]),L=Fz(o),[O,W]=We.useState(L),{called:X,loading:H,error:$,data:G,refetch:j}=Uz(C,{isUserDataViewFallback:h,suppressAlphabeticalSorting:b}),{expanded:D,handleExpand:M,handleCollapse:Y}=zz({initiallyExpanded:p,onExpand:v,onCollapse:w,expandedControlled:T,handleExpandControlled:E,handleCollapseControlled:k});We.useEffect(()=>(j&&L>0&&L!==O&&(j(),W(L)),()=>console.warn("@TODO: Why does this component unmount after a force reload?")),[L,O,j]);const B=!X||H;return Se.createElement("div",{"data-test":r},B&&Se.createElement(dI,null),$&&Se.createElement(uI,{error:$}),!$&&!B&&C.map(z=>{const q=G[z];return Se.createElement(oT,{key:q.path,rootId:z,autoExpandLoadingError:i,dataTest:r,disableSelection:a,displayName:q.displayName,expanded:D,highlighted:s,id:z,isUserDataViewFallback:h,filter:f,path:q.path,renderNodeLabel:y,selected:g,singleSelection:_,suppressAlphabeticalSorting:b,onChange:e,onChildrenLoaded:N,onCollapse:Y,onExpand:M})}))};hI.propTypes={roots:de.oneOfType([de.string,de.arrayOf(de.string)]).isRequired,onChange:de.func.isRequired,autoExpandLoadingError:de.bool,dataTest:de.string,disableSelection:de.bool,expanded:Rm(n=>!!n.handleExpand||!!n.handleCollapse,de.arrayOf(de.string)),filter:de.arrayOf($o),forceReload:de.bool,handleCollapse:Rm(n=>!!n.expanded||!!n.handleExpand,de.func),handleExpand:Rm(n=>!!n.expanded||!!n.handleCollapse,de.func),highlighted:de.arrayOf($o),initiallyExpanded:de.arrayOf($o),isUserDataViewFallback:de.bool,renderNodeLabel:de.func,selected:de.arrayOf($o),singleSelection:de.bool,suppressAlphabeticalSorting:de.bool,onChildrenLoaded:de.func,onCollapse:de.func,onExpand:de.func};const Gz=n=>{switch(typeof n=="string"?n.split("-")[0]:""){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right";default:return""}},Mr=8,lT=We.forwardRef((n,e)=>{let{hidden:t,popperPlacement:i,styles:r}=n;return Se.createElement("div",{"data-test":"dhis2-uicore-popoverarrow",style:r,ref:e,className:Pt.dynamic([["1397459397",[Mr,Mr,Mr/2,Mr/2,Mr/2,Mr/2,Mr/2,je.white,je.white]]])+" "+(Nr(Gz(i),{hidden:t})||"")},Se.createElement(Pt,{id:"1397459397",dynamic:[Mr,Mr,Mr/2,Mr/2,Mr/2,Mr/2,Mr/2,je.white,je.white]},[`div.__jsx-style-dynamic-selector{width:${Mr}px;height:${Mr}px;position:absolute;}`,`div.top.__jsx-style-dynamic-selector{top:-${Mr/2}px;}`,`div.right.__jsx-style-dynamic-selector{right:-${Mr/2}px;}`,`div.bottom.__jsx-style-dynamic-selector{bottom:-${Mr/2}px;}`,`div.left.__jsx-style-dynamic-selector{left:-${Mr/2}px;}`,"div.hidden.__jsx-style-dynamic-selector{visibility:hidden;}",`div.__jsx-style-dynamic-selector::after{content:'';position:absolute;pointer-events:none;box-sizing:border-box;border-style:solid;border-width:${Mr/2}px;border-color:transparent transparent ${je.white} ${je.white};box-shadow:-1px 1px 1px 0 rgba(64,75,90,0.08), -3px 3px 8px -6px rgba(64,75,90,0.15);}`,"div.bottom.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);}","div.top.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(135deg);-ms-transform:rotate(135deg);transform:rotate(135deg);}","div.right.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(-135deg);-ms-transform:rotate(-135deg);transform:rotate(-135deg);}","div.left.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}"]))});lT.displayName="Arrow";lT.propTypes={hidden:de.bool,popperPlacement:de.string,styles:de.shape({left:de.string,position:de.string,top:de.string,transform:de.string})};const Yz=4,Vz=()=>{const e=(Math.sqrt(2*Math.pow(Mr,2))-Mr)/2,t=Yz+e;return Math.ceil(t)},qz=n=>{let{state:e}=n;const t=Mr/2,i=e.modifiersData.preventOverflow,r=e.rects.reference,a=Math.abs(i.x)>=r.width+t||Math.abs(i.y)>=r.height+t;return typeof e.attributes.arrow!="object"&&(e.attributes.arrow={}),e.attributes.arrow["data-arrow-hidden"]=a,e},Wz=(n,e,t)=>{const i=JO(t);return n?[...i,{name:"offset",options:{offset:[0,Mr]}},{name:"arrow",options:{padding:Vz(),element:e}},{name:"hideArrowWhenDisplaced",enabled:!0,phase:"main",fn:qz,requires:["preventOverflow"]}]:i};function Yw(){return Yw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yw.apply(null,arguments)}const pI=n=>{let{children:e,reference:t,arrow:i=!0,className:r,dataTest:a="dhis2-uicore-popover",elevation:o=ny.e200,maxWidth:s=360,observePopperResize:h,observeReferenceResize:p,placement:f="top",onClickOutside:y}=n;const g=eR(t),[_,b]=We.useState(null),[T,E]=We.useState(null),k=We.useMemo(()=>Wz(i,T,{observePopperResize:h,observeReferenceResize:p}),[i,T,h,p]),{styles:v,attributes:w}=tR(g,_,{placement:f,modifiers:k});return Se.createElement(aN,{onBackdropClick:y},Se.createElement("div",Yw({"data-test":a,ref:b,style:v.popper},w.popper,{className:Pt.dynamic([["632767479",[s,o,je.white]]])+" "+(w.popper&&w.popper.className!=null&&w.popper.className||r||"")}),e,i&&Se.createElement(lT,{hidden:w.arrow&&w.arrow["data-arrow-hidden"],popperPlacement:w.popper&&w.popper["data-popper-placement"],ref:E,styles:v.arrow}),Se.createElement(Pt,{id:"632767479",dynamic:[s,o,je.white]},[`div.__jsx-style-dynamic-selector{max-width:${s}px;box-shadow:${o};background-color:${je.white};border-radius:4px;}`])))};pI.propTypes={children:de.node.isRequired,arrow:de.bool,className:de.string,dataTest:de.string,elevation:de.string,maxWidth:de.number,observePopperResize:de.bool,observeReferenceResize:de.bool,placement:nR,reference:iR,onClickOutside:de.func};const np=Se.forwardRef((n,e)=>{let{icon:t,onClick:i,selected:r,disabled:a,children:o,className:s,dataTest:h="dhis2-uicore-tab"}=n,p=We.useRef(null);e&&(p=e);const[f,y]=We.useState(!1);return We.useEffect(()=>{(()=>{const _=p.current.scrollWidth>p.current.clientWidth;y(_)})()},[]),Se.createElement("button",{onClick:a?void 0:g=>i({},g),"data-test":h,ref:p,role:"tab","aria-selected":r?"true":"false","aria-disabled":a?"true":"false",onFocus:a?void 0:g=>i({},g),tabIndex:-1,className:Pt.dynamic([["2433456263",[je.grey400,je.grey600,Wt.focus,je.grey600,je.grey900,je.grey600,je.grey800,Wt.primary800,Wt.primary700,Wt.primary700,Wt.primary700,je.grey500,je.grey500]]])+` ${Nr("tab",s,{selected:r,disabled:a})}`},t,f?Se.createElement(Hb,{content:o,maxWidth:"100%"},Se.createElement("span",{ref:p,className:Pt.dynamic([["2433456263",[je.grey400,je.grey600,Wt.focus,je.grey600,je.grey900,je.grey600,je.grey800,Wt.primary800,Wt.primary700,Wt.primary700,Wt.primary700,je.grey500,je.grey500]]])},o)):Se.createElement("span",{ref:p,className:Pt.dynamic([["2433456263",[je.grey400,je.grey600,Wt.focus,je.grey600,je.grey900,je.grey600,je.grey800,Wt.primary800,Wt.primary700,Wt.primary700,Wt.primary700,je.grey500,je.grey500]]])},o),Se.createElement(Pt,{id:"2433456263",dynamic:[je.grey400,je.grey600,Wt.focus,je.grey600,je.grey900,je.grey600,je.grey800,Wt.primary800,Wt.primary700,Wt.primary700,Wt.primary700,je.grey500,je.grey500]},[`button.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:bottom;height:100%;padding:16px 16px 11px;background-color:transparent;outline:none;border:none;border-bottom:1px solid ${je.grey400};color:${je.grey600};font-size:14px;line-height:20px;cursor:pointer;}`,".fixed>button.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}","button.__jsx-style-dynamic-selector::after{content:' ';display:block;position:absolute;bottom:-1px;inset-inline-start:0;height:4px;width:100%;background-color:transparent;}","span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;max-width:320px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-transition:fill 150ms ease-in-out;transition:fill 150ms ease-in-out;}",`button.__jsx-style-dynamic-selector:focus{outline:3px solid ${Wt.focus};outline-offset:-3px;}`,"button.__jsx-style-dynamic-selector:focus.__jsx-style-dynamic-selector:not(:focus-visible){outline:none;}",`button.__jsx-style-dynamic-selector>svg{fill:${je.grey600};width:14px;height:14px;margin:0 4px 0 0;}`,`button.__jsx-style-dynamic-selector:hover{color:${je.grey900};}`,`button.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:${je.grey600};height:2px;}`,`button.__jsx-style-dynamic-selector:active.__jsx-style-dynamic-selector::after{background-color:${je.grey800};}`,`button.selected.__jsx-style-dynamic-selector{color:${Wt.primary800};}`,`button.selected.__jsx-style-dynamic-selector::after{background-color:${Wt.primary700};-webkit-transition:background-color 150ms ease-in-out;transition:background-color 150ms ease-in-out;}`,`button.selected.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:${Wt.primary700};height:4px;}`,`button.selected.__jsx-style-dynamic-selector>svg{fill:${Wt.primary700};}`,`button.disabled.__jsx-style-dynamic-selector{color:${je.grey500};cursor:not-allowed;}`,"button.disabled.__jsx-style-dynamic-selector:hover,button.selected.__jsx-style-dynamic-selector:hover{background-color:transparent;}",`button.disabled.__jsx-style-dynamic-selector>svg{fill:${je.grey500};}`]))});np.propTypes={children:de.node,className:de.string,dataTest:de.string,disabled:de.bool,icon:de.element,selected:de.bool,onClick:de.func};np.displayName="Tab";const Vw=250,Hz=.5;function Xz(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=n.scrollLeft,r=Zz(n,i,t),a=r-i,o=Kz({scrollBox:n,callback:e,startValue:i,endValue:r,change:a});window.requestAnimationFrame(o)}function Zz(n,e,t){const i=n.clientWidth*Hz;return Math.floor(e+i*(t?-1:1))}function Kz(n){let{scrollBox:e,callback:t,startValue:i,endValue:r,change:a}=n,o,s,h;return function p(f){o||(o=f),s=f-o,h=Qz({currentTime:s,DURATION:Vw,startValue:i,change:a}),s>=Vw?(h!==r&&(e.scrollLeft=r),t&&t()):(e.scrollLeft=h,window.requestAnimationFrame(p))}}function Qz(n){let{currentTime:e,startValue:t,change:i}=n;return(e/=Vw/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t}let gx;const qw="__vertical-scrollbar-height-test__",Jz=`
    .${qw} {
        position: absolute;
        top: -9999px;
        width: 100px;
        height: 100px;
        overflow-x: scroll;
    }
    .${qw}::-webkit-scrollbar {
        display: none;
    }
`;function eF(){if(gx)return gx;const n=document.createElement("style");n.innerHTML=Jz;const e=document.createElement("div");return e.classList.add(qw),document.body.appendChild(n),document.body.appendChild(e),gx=e.offsetHeight-e.clientHeight,document.body.removeChild(n),document.body.removeChild(e),gx}const fb=n=>{let{children:e,disabled:t,hidden:i,onClick:r}=n;return Se.createElement("button",{onClick:t?void 0:r,className:Pt.dynamic([["2701682090",[je.white,je.grey400,je.grey600,je.grey100,je.grey200,je.grey500]]])+" "+(Nr("scroll-button",{disabled:t,hidden:i})||"")},e,Se.createElement(Pt,{id:"2701682090",dynamic:[je.white,je.grey400,je.grey600,je.grey100,je.grey200,je.grey500]},[`.scroll-button.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;background-color:${je.white};border:none;border-bottom:1px solid ${je.grey400};outline:none;padding:16px 16px 11px 16px;cursor:pointer;}`,".scroll-button.hidden.__jsx-style-dynamic-selector{display:none;}",`.scroll-button.__jsx-style-dynamic-selector svg{width:20px;height:20px;fill:${je.grey600};-webkit-transition:opacity 150ms ease-in-out;transition:opacity 150ms ease-in-out;opacity:1;}`,`.scroll-button.__jsx-style-dynamic-selector:hover{background-color:${je.grey100};}`,`.scroll-button.__jsx-style-dynamic-selector:active{background-color:${je.grey200};}`,".scroll-button.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;}",".scroll-button.disabled.__jsx-style-dynamic-selector:hover{background-color:transparent;}",`.scroll-button.disabled.__jsx-style-dynamic-selector svg{fill:${je.grey500};}`]))};fb.displayName="ScrollButton";fb.propTypes={children:de.any.isRequired,disabled:de.bool,hidden:de.bool,onClick:de.func};function Cu(n,e,t){return(e=tF(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tF(n){var e=nF(n,"string");return typeof e=="symbol"?e:e+""}function nF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class mI extends We.Component{constructor(e){super(e),Cu(this,"scrollBox",We.createRef()),Cu(this,"scrollArea",We.createRef()),Cu(this,"horizontalScrollBarHeight",eF()),Cu(this,"scrollBoxResizeObserver",null),Cu(this,"calculateShouldHideButtons",()=>{this.setState({hideScrollButtonsInitialized:!1});const{current:t}=this.scrollBox,{current:i}=this.scrollArea,r=i.offsetWidth,a=t.offsetWidth,o=r<=a;this.setState({hideScrollButtons:o}),o||(this.state.scrolledToStart&&this.scrollLeft(),this.state.scrolledToEnd&&this.scrollRight()),this.setState({hideScrollButtonsInitialized:!0})}),Cu(this,"scrollRight",()=>this.scroll()),Cu(this,"scrollLeft",()=>this.scroll(!0)),Cu(this,"animatedScrollCallback",()=>{this.updateScrolledToStates(),this.attachSideScrollListener()}),Cu(this,"updateScrolledToStates",()=>{const{scrollLeft:t,offsetWidth:i}=this.scrollBox.current,{offsetWidth:r}=this.scrollArea.current,a=t<=0,o=t+i>=r;(this.state.scrolledToStart!==a||this.state.scrolledToEnd!==o)&&this.setState({scrolledToStart:a,scrolledToEnd:o})}),this.state={scrolledToStart:!0,scrolledToEnd:!1,hideScrollButtonsInitialized:!1,hideScrollButtons:!1},this.scrollBoxResizeObserver=new ResizeObserver(this.calculateShouldHideButtons)}componentDidMount(){this.scrollSelectedTabIntoView(),this.attachSideScrollListener(),this.manageShouldHideButtons()}componentWillUnmount(){this.removeSideScrollListener(),this.scrollBoxResizeObserver.disconnect()}manageShouldHideButtons(){const{current:e}=this.scrollBox;this.scrollBoxResizeObserver.observe(e),this.calculateShouldHideButtons()}scroll(e){this.removeSideScrollListener(),Xz(this.scrollBox.current,this.animatedScrollCallback,e)}scrollSelectedTabIntoView(){const e=this.scrollBox.current,t=e.querySelector(".tab.selected");if(t){const i=t.offsetLeft+t.offsetWidth;i>e.offsetWidth&&(e.scrollLeft=i-e.offsetWidth)}}attachSideScrollListener(){this.scrollBox.current.addEventListener("scroll",this.updateScrolledToStates)}removeSideScrollListener(){this.scrollBox.current.removeEventListener("scroll",this.updateScrolledToStates)}render(){const{scrolledToStart:e,scrolledToEnd:t,hideScrollButtonsInitialized:i,hideScrollButtons:r}=this.state,{children:a,className:o,dataTest:s}=this.props,h=!i||r;return Se.createElement("div",{"data-test":s,className:"jsx-191575146 "+Pt.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" "+(Nr("scroll-bar",o)||"")},Se.createElement(fb,{disabled:e,onClick:this.scrollLeft,hidden:h},Se.createElement(gN,null)),Se.createElement("div",{className:"jsx-191575146 "+Pt.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-box-clipper"},Se.createElement("div",{ref:this.scrollBox,className:"jsx-191575146 "+Pt.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-box"},Se.createElement("div",{ref:this.scrollArea,className:"jsx-191575146 "+Pt.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-area"},a))),Se.createElement(fb,{disabled:t,onClick:this.scrollRight,hidden:h},Se.createElement(yN,null)),Se.createElement(Pt,{id:"4174900658",dynamic:[-this.horizontalScrollBarHeight]},[`.scroll-box.__jsx-style-dynamic-selector{margin-bottom:${-this.horizontalScrollBarHeight}px;}`]),Se.createElement(Pt,{id:"191575146"},[".scroll-bar.jsx-191575146{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}",".scroll-box-clipper.jsx-191575146{overflow-y:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".scroll-box.jsx-191575146{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow-x:scroll;-webkit-overflow-scrolling:touch;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".scroll-box.jsx-191575146::-webkit-scrollbar{display:none;}",".scroll-area.jsx-191575146{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;overflow-x:hidden;}"]))}}mI.propTypes={children:de.node.isRequired,dataTest:de.string.isRequired,className:de.string};const Ww=n=>{let{children:e,fixed:t,dataTest:i}=n;const r=We.useRef(null),a=We.useMemo(()=>Se.Children.map(e,()=>Se.createRef()),[e]),o=s=>{const h=document.activeElement;if(r.current&&r.current===h){a.length>0&&a[0].current&&a[0].current.focus();return}const p=a.findIndex(f=>f.current===h);if(p!==-1){if(s.key==="ArrowRight"){s.preventDefault();const f=(p+1)%a.length;a[f].current.focus()}if(s.key==="ArrowLeft"){s.preventDefault();const f=(p-1+a.length)%a.length;a[f].current.focus()}}};return Se.createElement("div",{ref:r,"data-test":i,role:"tablist",tabIndex:0,onKeyDown:o,className:Pt.dynamic([["771129571",[je.grey400,je.white]]])+" "+(Nr({fixed:t})||"")},Se.Children.map(e,(s,h)=>Se.isValidElement(s)?Se.cloneElement(s,{ref:a[h]}):Se.createElement("span",{ref:a[h],tabIndex:-1,className:Pt.dynamic([["771129571",[je.grey400,je.white]]])},s)),Se.createElement(Pt,{id:"771129571",dynamic:[je.grey400,je.white]},[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;position:relative;overflow:hidden;box-shadow:inset 0 -1px 0 0 ${je.grey400};-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;background:${je.white};}`]))};Ww.propTypes={dataTest:de.string.isRequired,children:de.node,fixed:de.bool};const cT=n=>{let{fixed:e,children:t,className:i,scrollable:r,dataTest:a="dhis2-uicore-tabbar"}=n;return r?Se.createElement("div",{className:i,"data-test":a},Se.createElement(mI,{dataTest:`${a}-scrollbar`},Se.createElement(Ww,{fixed:e,dataTest:`${a}-tabs`},t))):Se.createElement("div",{className:i,"data-test":a},Se.createElement(Ww,{fixed:e,dataTest:`${a}-tabs`},t))};cT.propTypes={children:de.node,className:de.string,dataTest:de.string,fixed:de.bool,scrollable:de.bool};const fI=n=>{let{children:e,dataTest:t}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["1457814848",[Bt.dp8]]])},e,Se.createElement(Pt,{id:"1457814848",dynamic:[Bt.dp8]},[`div.__jsx-style-dynamic-selector{-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:0 ${Bt.dp8};}`,"div.__jsx-style-dynamic-selector>button{margin-top:8px;}","div.__jsx-style-dynamic-selector>button:first-child{margin-top:0;}"]))};fI.propTypes={dataTest:de.string.isRequired,children:de.node};const Dr=["svg.jsx-2392683210{min-width:20px;}","div.centerButton.jsx-2392683210:dir(rtl){-webkit-transform:rotate(180deg) translateX(4px);-ms-transform:rotate(180deg) translateX(4px);transform:rotate(180deg) translateX(4px);}"];Dr.__hash="2392683210";const gI=n=>{let{dataTest:e,disabled:t}=n;return Se.createElement("div",{className:`jsx-${Dr.__hash} centerButton`},Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16","data-test":e,fill:t?Wt.disabled:"#404B5A",className:`jsx-${Dr.__hash}`},Se.createElement("g",{fillRule:"evenodd",className:`jsx-${Dr.__hash}`},Se.createElement("polygon",{fillRule:"nonzero",points:"6 2 4.94 3.06 9.13 7.25 0 7.25 0 8.75 9.13 8.75 4.94 12.94 6 14 12 8",className:`jsx-${Dr.__hash}`}),Se.createElement("polygon",{fillRule:"nonzero",points:"10 2 8.94 3.06 13.13 7.25 13.9 8 13.13 8.75 8.94 12.94 10 14 16 8",className:`jsx-${Dr.__hash}`}))),Se.createElement(Pt,{id:Dr.__hash},Dr))};gI.propTypes={dataTest:de.string.isRequired,disabled:de.bool};const yI=n=>{let{dataTest:e,disabled:t}=n;return Se.createElement("div",{className:`jsx-${Dr.__hash} centerButton`},Se.createElement("svg",{fill:t?Wt.disabled:"#404B5A",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16","data-test":e,className:`jsx-${Dr.__hash}`},Se.createElement("polygon",{points:"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8",className:`jsx-${Dr.__hash}`})),Se.createElement(Pt,{id:Dr.__hash},Dr))};yI.propTypes={dataTest:de.string.isRequired,disabled:de.bool};const vI=n=>{let{dataTest:e,disabled:t}=n;return Se.createElement("div",{className:`jsx-${Dr.__hash} centerButton`},Se.createElement("svg",{fill:t?Wt.disabled:"#404B5A",width:"16px",height:"16px",viewBox:"0 0 16 16","data-test":e,xmlns:"http://www.w3.org/2000/svg",className:`jsx-${Dr.__hash}`},Se.createElement("g",{fillRule:"evenodd",className:`jsx-${Dr.__hash}`},Se.createElement("polygon",{fillRule:"nonzero",points:"10 2 8.94 3.06 13.13 7.25 4 7.25 4 8.75 13.13 8.75 8.94 12.94 10 14 16 8",transform:"matrix(-1 0 0 1 20 0)",className:`jsx-${Dr.__hash}`}),Se.createElement("polygon",{fillRule:"nonzero",points:"1.06 2 0 3.06 4.19 7.25 4.96 8 4.19 8.75 0 12.94 1.06 14 7.06 8",transform:"matrix(-1 0 0 1 7.06 0)",className:`jsx-${Dr.__hash}`}))),Se.createElement(Pt,{id:Dr.__hash},Dr))};vI.propTypes={dataTest:de.string.isRequired,disabled:de.bool};const xI=n=>{let{dataTest:e,disabled:t}=n;return Se.createElement("div",{className:`jsx-${Dr.__hash} centerButton`},Se.createElement("svg",{fill:t?Wt.disabled:"#404B5A",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16","data-test":e,className:`jsx-${Dr.__hash}`},Se.createElement("polygon",{points:"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8",transform:"matrix(-1 0 0 1 16 0)",className:`jsx-${Dr.__hash}`})),Se.createElement(Pt,{id:Dr.__hash},Dr))};xI.propTypes={dataTest:de.string.isRequired,disabled:de.bool};const bI=n=>{let{dataTest:e,disabled:t}=n;return Se.createElement("svg",{fill:t?Wt.disabled:"#404B5A",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16","data-test":e},Se.createElement("polygon",{points:"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8",transform:"matrix(0 1 1 0 0 0)"}))};bI.propTypes={dataTest:de.string.isRequired,disabled:de.bool};const _I=n=>{let{dataTest:e,disabled:t}=n;return Se.createElement("svg",{fill:t?Wt.disabled:"#404B5A",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16","data-test":e},Se.createElement("polygon",{points:"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8",transform:"rotate(-90 8 8)"}))};_I.propTypes={dataTest:de.string.isRequired,disabled:de.bool};const wI=n=>{let{label:e,dataTest:t,disabled:i,onClick:r}=n;return Se.createElement($a,{dataTest:t,disabled:i,onClick:r,icon:Se.createElement(gI,{dataTest:`${t}-iconaddall`,disabled:i})},e)};wI.propTypes={dataTest:de.string.isRequired,onClick:de.func.isRequired,disabled:de.bool,label:de.string};const TI=n=>{let{label:e,dataTest:t,disabled:i,onClick:r}=n;return Se.createElement($a,{dataTest:t,disabled:i,onClick:r,icon:Se.createElement(yI,{disabled:i,dataTest:`${t}-iconaddindividual`})},e)};TI.propTypes={dataTest:de.string.isRequired,onClick:de.func.isRequired,disabled:de.bool,label:de.string};const SI=n=>{let{children:e,dataTest:t,className:i,height:r}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["3332822660",[r]]])+" "+(i||"")},e,Se.createElement(Pt,{id:"3332822660",dynamic:[r]},[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:${r};}`]))};SI.propTypes={height:de.string.isRequired,children:de.node,className:de.string,dataTest:de.string};const Hw=n=>{let{dataTest:e,filter:t,onChange:i,label:r,placeholder:a}=n;return Se.createElement("div",{"data-test":e,className:Pt.dynamic([["3679907342",[Bt.dp8,Bt.dp8]]])},Se.createElement(lN,{label:r,name:e,dataTest:`${e}-field`},Se.createElement(oN,{dense:!0,dataTest:`${e}-input`,type:"search",placeholder:a,value:t,onChange:i})),Se.createElement(Pt,{id:"3679907342",dynamic:[Bt.dp8,Bt.dp8]},[`div.__jsx-style-dynamic-selector{padding-bottom:${Bt.dp8};}`,`div.__jsx-style-dynamic-selector:first-child{padding-top:${Bt.dp8};}`]))};Hw.propTypes={dataTest:de.string.isRequired,filter:de.string.isRequired,onChange:de.func.isRequired,label:de.string,placeholder:de.string};const _E="REPLACE_MODE",CI="ADD_MODE",EI="RANGE_MODE",Bm=je.white,hs=je.grey400,jm="3px",iF=(n,e)=>n.label===e.label&&n.value===e.value,rF=(n,e)=>n.findIndex(t=>iF(t,e)),aF=n=>{let{altKey:e,shiftKey:t,ctrlKey:i,metaKey:r}=n;return[e,t,i,r].filter(h=>h).length!==1?_E:e||i||r?CI:t?EI:_E},sF=(n,e)=>{const t=n.indexOf(e);if(t===-1)return[...n,e];t===0&&n.slice(1);const i=n.slice(0,t),r=n.slice(t+1);return[...i,...r]},kI=n=>{let{children:e,dataTest:t}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["3629116366",[hs,Bt.dp8]]])},e,Se.createElement(Pt,{id:"3629116366",dynamic:[hs,Bt.dp8]},[`div.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;border-top:1px solid ${hs};padding:0 ${Bt.dp8};}`]))};kI.propTypes={children:de.node,dataTest:de.string};const LI=n=>{let{children:e,dataTest:t}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["2175954399",[hs,Bt.dp8]]])},e,Se.createElement(Pt,{id:"2175954399",dynamic:[hs,Bt.dp8]},[`div.__jsx-style-dynamic-selector{border-bottom:1px solid ${hs};-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;padding:0 ${Bt.dp8};}`]))};LI.propTypes={children:de.node,dataTest:de.string};const NI=n=>{let{children:e,dataTest:t,width:i}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["4143353612",[Bm,jm,hs,i]]])},e,"",Se.createElement(Pt,{id:"4143353612",dynamic:[Bm,jm,hs,i]},[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:${Bm};border-radius:${jm};border:1px solid ${hs};min-height:240px;max-width:100%;width:${i};}`]))};NI.propTypes={width:de.string.isRequired,children:de.node,dataTest:de.string};const II=n=>{let{rootRef:e,onEndReached:t,dataTest:i}=n;return Se.createElement("div",{"data-test":i,className:"jsx-2799340139"},Se.createElement(H2,{rootRef:e,onChange:r=>{let{isIntersecting:a}=r;return a&&t()}}),Se.createElement(Pt,{id:"2799340139"},["div.jsx-2799340139{width:100%;height:50px;position:absolute;z-index:-1;bottom:0;inset-inline-start:0;}"]))};II.propTypes={rootRef:de.shape({current:de.instanceOf(HTMLElement)}).isRequired,onEndReached:de.func.isRequired,dataTest:de.string};const oF=n=>{const[e,t]=We.useState(-1);return We.useEffect(()=>{let i=e;if(n){const r=new ResizeObserver(()=>{++i,t(i)});return r.observe(n),()=>r.disconnect()}},[n,t]),e<1?0:e},Xw=n=>{let{dataTest:e,emptyComponent:t,onEndReached:i,getOptionClickHandlers:r,highlightedOptions:a,loading:o,renderOption:s,options:h,selected:p=!1,selectionHandler:f,toggleHighlightedOption:y}=n;const g=We.useRef(null),_=We.useRef(null),b=oF(_.current);return Se.createElement("div",{className:"jsx-1882699425 optionsContainer"},o&&Se.createElement("div",{className:"jsx-1882699425 loading"},Se.createElement(Vb,null)),Se.createElement("div",{"data-test":e,ref:g,className:"jsx-1882699425 container"},Se.createElement("div",{ref:_,className:"jsx-1882699425 content-container"},!h.length&&t,h.map(T=>{const E=!!a.find(k=>k===T.value);return Se.createElement(We.Fragment,{key:T.value},s({...T,...r(T,f,y),highlighted:E,selected:p}))}),i&&Se.createElement(II,{dataTest:`${e}-endintersectiondetector`,key:`key-${b}`,rootRef:g,onEndReached:i}))),Se.createElement(Pt,{id:"1882699425"},[".optionsContainer.jsx-1882699425{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;overflow:hidden;}",".container.jsx-1882699425{overflow-y:auto;height:100%;}",".loading.jsx-1882699425{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;z-index:2;top:0;inset-inline-start:0;}",".content-container.jsx-1882699425{z-index:1;position:relative;}",".loading.jsx-1882699425+.container.jsx-1882699425 .content-container.jsx-1882699425{-webkit-filter:blur(2px);filter:blur(2px);}"]))};Xw.propTypes={dataTest:de.string.isRequired,getOptionClickHandlers:de.func.isRequired,emptyComponent:de.node,highlightedOptions:de.arrayOf(de.string),loading:de.bool,options:de.arrayOf(de.shape({label:de.string.isRequired,value:de.string.isRequired})),renderOption:de.func,selected:de.bool,selectionHandler:de.func,toggleHighlightedOption:de.func,onEndReached:de.func};const AI=n=>{let{label:e,dataTest:t,disabled:i,onClick:r}=n;return Se.createElement($a,{dataTest:t,disabled:i,onClick:r,icon:Se.createElement(vI,{disabled:i,dataTest:`${t}-iconremoveall`})},e)};AI.propTypes={dataTest:de.string.isRequired,onClick:de.func.isRequired,disabled:de.bool,label:de.string};const PI=n=>{let{label:e,dataTest:t,disabled:i,onClick:r}=n;return Se.createElement($a,{dataTest:t,disabled:i,onClick:r,icon:Se.createElement(xI,{disabled:i,dataTest:`${t}-iconremoveindividual`})},e)};PI.propTypes={dataTest:de.string.isRequired,onClick:de.func.isRequired,disabled:de.bool,label:de.string};const MI=n=>{let{dataTest:e,disabledDown:t,disabledUp:i,onChangeUp:r,onChangeDown:a}=n;return Se.createElement("div",{"data-test":e,className:Pt.dynamic([["874845231",[Bt.dp8,Bt.dp8,Bt.dp8]]])},Se.createElement($a,{small:!0,disabled:t,onClick:()=>!t&&a(event),dataTest:`${e}-buttonmovedown`,icon:Se.createElement(bI,{dataTest:`${e}-iconmovedown`,disabled:t})}),Se.createElement($a,{small:!0,disabled:i,onClick:()=>!i&&r(event),dataTest:`${e}-buttonmoveup`,icon:Se.createElement(_I,{dataTest:`${e}-iconmoveup`,disabled:i})}),Se.createElement(Pt,{id:"874845231",dynamic:[Bt.dp8,Bt.dp8,Bt.dp8]},[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;padding-top:${Bt.dp8};}`,`div.__jsx-style-dynamic-selector:last-child{padding-bottom:${Bt.dp8};}`,`div.__jsx-style-dynamic-selector>button:first-child{margin-inline-start:${Bt.dp8};}`]))};MI.propTypes={dataTest:de.string.isRequired,onChangeDown:de.func.isRequired,onChangeUp:de.func.isRequired,disabledDown:de.bool,disabledUp:de.bool};const DI=n=>{let{children:e,dataTest:t}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["3629116366",[hs,Bt.dp8]]])},e,Se.createElement(Pt,{id:"3629116366",dynamic:[hs,Bt.dp8]},[`div.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;border-top:1px solid ${hs};padding:0 ${Bt.dp8};}`]))};DI.propTypes={children:de.node,dataTest:de.string};const OI=n=>{let{children:e,dataTest:t}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["2175954399",[hs,Bt.dp8]]])},e,Se.createElement(Pt,{id:"2175954399",dynamic:[hs,Bt.dp8]},[`div.__jsx-style-dynamic-selector{border-bottom:1px solid ${hs};-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;padding:0 ${Bt.dp8};}`]))};OI.propTypes={children:de.node,dataTest:de.string};const RI=n=>{let{children:e,dataTest:t,width:i}=n;return Se.createElement("div",{"data-test":t,className:Pt.dynamic([["1391448013",[Bm,hs,jm,i]]])},e,"",Se.createElement(Pt,{id:"1391448013",dynamic:[Bm,hs,jm,i]},[`div.__jsx-style-dynamic-selector{background-color:${Bm};border:1px solid ${hs};border-radius:${jm};display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-width:100%;width:${i};}`]))};RI.propTypes={width:de.string.isRequired,children:de.node,dataTest:de.string};const lF=n=>{let{sourceOptions:e,onChange:t,selected:i,setHighlightedSourceOptions:r}=n;const o=e.filter(s=>{let{disabled:h}=s;return!h}).reduce((s,h)=>[...s,h.value],i);r([]),t({selected:o})},cF=n=>{let{filterable:e,sourceOptions:t,highlightedSourceOptions:i,maxSelections:r,onChange:a,selected:o,setHighlightedSourceOptions:s}=n;const h=e?i.filter(f=>t.find(y=>y.value===f)):i,p=h.reduce((f,y)=>[...f,h.find(g=>g===y)],o);s([]),a({selected:p.slice(-1*r)})},uF=n=>{let{maxSelections:e,onChange:t,selected:i,setHighlightedPickedOptions:r,setHighlightedSourceOptions:a}=n;return{selectSingleOption:h=>{let{value:p}=h;const f=i.includes(p)?i:[...i,p];a([]),t({selected:f.slice(-1*e)})},deselectSingleOption:h=>{let{value:p}=h;const f=i.filter(y=>y!==p);r([]),t({selected:f})}}},wE=(n,e)=>e===""?n:n.filter(t=>{let{label:i}=t;return i.match(new RegExp(e,"i"))}),TE=(n,e,t)=>({onClick:(i,r)=>{const a=aF(r);t({option:n,mode:a})},onDoubleClick:e}),dF=n=>{let{highlightedPickedOptions:e,selected:t}=n;return e.length!==1||t.indexOf(e[0])===t.length-1},hF=n=>{let{highlightedPickedOptions:e,selected:t}=n;return e.length!==1||t.indexOf(e[0])===0},pF=n=>{let{selected:e,highlightedPickedOptions:t,onChange:i}=n;const r=e.findIndex(o=>o===t[0]);if(r===-1||r>e.length-2)return;const a=[...e.slice(0,r),e[r+1],e[r],...e.slice(r+2)];i({selected:a})},mF=n=>{let{selected:e,highlightedPickedOptions:t,onChange:i}=n;const r=e.findIndex(o=>o===t[0]);if(r<1)return;const a=[...e.slice(0,r-1),e[r],e[r-1],...e.slice(r+1)];i({selected:a})},fF=n=>{let{setHighlightedPickedOptions:e,onChange:t}=n;e([]),t({selected:[]})},gF=n=>{let{filterablePicked:e,pickedOptions:t,highlightedPickedOptions:i,onChange:r,selected:a,setHighlightedPickedOptions:o}=n;const s=e?i.filter(p=>t.find(f=>f.value===p)):i,h=a.filter(p=>!s.includes(p));o([]),r({selected:h})},yF=n=>n,SE=n=>{let{initialSearchTerm:e,onFilterChange:t,externalSearchTerm:i,filterable:r,filterCallback:a}=n;const[o,s]=We.useState(e);return{filterValue:t?i:o,filter:r?a:yF,setInternalFilter:s}},vF=n=>{let{highlightedOptions:e,maxSelections:t,option:i,setHighlightedOptions:r}=n;const o=sF(e,i.value).slice(-1*t);r(o)},xF=n=>{let{highlightedOptions:e,options:t,option:i,setHighlightedOptions:r,lastClicked:a,maxSelections:o}=n;if(e.length===0)r([i.value]);else{let s,h;const p=rF(t,i),f=a?t.findIndex(b=>b.value===a):-1;f!==-1?(s=f,h=p):(s=t.findIndex(T=>e.find(E=>E===T.value)),h=p);const y=Math.min(s,h),g=Math.max(s,h),_=t.slice(y,g+1).filter(b=>!b.disabled).slice(o*-1).map(b=>{let{value:T}=b;return T});r(_)}},bF=n=>{let{option:e,highlightedOptions:t,setHighlightedOptions:i}=n;if(t.length>1)i([e.value]);else{const r=t.findIndex(a=>a===e.value);i(r===-1?[e.value]:[])}},_F=n=>{let{disabled:e,highlightedOptions:t,setHighlightedOptions:i,maxSelections:r,setLastClicked:a,options:o,lastClicked:s}=n;return h=>{let{option:p,mode:f}=h;if(!e)return i([]),f===CI?(a(p.value),vF({highlightedOptions:t,maxSelections:r,option:p,setHighlightedOptions:i})):f===EI?xF({highlightedOptions:t,options:o,option:p,setHighlightedOptions:i,lastClicked:s,maxSelections:r}):(a(p.value),bF({option:p,highlightedOptions:t,setHighlightedOptions:i}))}},CE=n=>{let{disabled:e,maxSelections:t,options:i}=n;const[r,a]=We.useState(null),[o,s]=We.useState([]),h=_F({disabled:e,highlightedOptions:o,setHighlightedOptions:s,maxSelections:t,setLastClicked:a,options:i,lastClicked:r});return{highlightedOptions:o,setHighlightedOptions:s,toggleHighlightedOption:h}},wF=500,$I=n=>{let{className:e,disabled:t,dataTest:i="dhis2-uicore-transferoption",highlighted:r,onClick:a,onDoubleClick:o,label:s,value:h}=n;const p=We.useRef(null);return Se.createElement("div",{"data-test":i,onClick:f=>{t||(p.current?(clearTimeout(p.current),p.current=null,o({value:h},f)):(p.current=setTimeout(()=>{clearTimeout(p.current),p.current=null},wF),a({value:h},f)))},"data-value":h,className:Pt.dynamic([["4053649642",[je.grey900,je.grey200,je.teal700,je.white,je.grey600,Bt.dp4,Bt.dp4]]])+" "+(Nr(e,{highlighted:r,disabled:t})||"")},s,Se.createElement(Pt,{id:"4053649642",dynamic:[je.grey900,je.grey200,je.teal700,je.white,je.grey600,Bt.dp4,Bt.dp4]},[`div.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;padding:4px 8px;color:${je.grey900};-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`,`div.__jsx-style-dynamic-selector:hover{background:${je.grey200};}`,`div.highlighted.__jsx-style-dynamic-selector{background:${je.teal700};color:${je.white};}`,`div.disabled.__jsx-style-dynamic-selector{color:${je.grey600};cursor:not-allowed;}`,`div.__jsx-style-dynamic-selector:first-child{margin-block-start:${Bt.dp4};}`,`div.__jsx-style-dynamic-selector:last-child{margin-block-end:${Bt.dp4};}`]))};$I.propTypes={label:de.node.isRequired,value:de.string.isRequired,className:de.string,dataTest:de.string,disabled:de.bool,highlighted:de.bool,onClick:de.func,onDoubleClick:de.func};const TF=n=>n,SF=[],zI=n=>{let{options:e,onChange:t,addAllText:i,addIndividualText:r,className:a,dataTest:o="dhis2-uicore-transfer",disabled:s,enableOrderChange:h,filterCallback:p=wE,filterCallbackPicked:f=wE,filterLabel:y,filterLabelPicked:g,filterPlaceholder:_,filterPlaceholderPicked:b,filterable:T,filterablePicked:E,height:k="240px",hideFilterInput:v,hideFilterInputPicked:w,initialSearchTerm:N="",initialSearchTermPicked:C="",leftFooter:L,leftHeader:O,loadingPicked:W,loading:X,maxSelections:H=1/0,optionsWidth:$="320px",removeAllText:G,removeIndividualText:j,renderOption:D=CF,rightFooter:M,rightHeader:Y,searchTerm:B,searchTermPicked:z,selected:q=SF,selectedEmptyComponent:V,selectedWidth:te="320px",sourceEmptyPlaceholder:ce,onFilterChange:ie,onFilterChangePicked:se,onEndReached:Ce,onEndReachedPicked:pe}=n;const{filterValue:we,filter:K,setInternalFilter:J}=SE({initialSearchTerm:N,onFilterChange:ie,externalSearchTerm:B,filterable:T,filterCallback:p}),ae=K(e.filter(Me=>{let{value:ze}=Me;return!q.includes(ze)}),we),{highlightedOptions:ve,setHighlightedOptions:Q,toggleHighlightedOption:re}=CE({options:ae,disabled:s,maxSelections:H}),{filterValue:le,filter:fe,setInternalFilter:xe}=SE({filterable:E,initialSearchTerm:C,onFilterChange:se,externalSearchTerm:z,filterCallback:f});let Le=[];Array.isArray(q)&&(Le=fe(q.map(Me=>e.find(ze=>Me===ze.value)).filter(TF),le));const{highlightedOptions:be,setHighlightedOptions:ke,toggleHighlightedOption:Oe}=CE({options:Le,disabled:s,maxSelections:H}),{selectSingleOption:Ue,deselectSingleOption:Xe}=uF({selected:q,setHighlightedSourceOptions:Q,setHighlightedPickedOptions:ke,onChange:t,maxSelections:H}),Pe=s||ae.filter(Me=>{let{disabled:ze}=Me;return!ze}).length===0,_e=s||!ve.length,Ee=s||!q.length,Re=s||!be.length;return Se.createElement(SI,{dataTest:o,className:a,height:k},Se.createElement(NI,{dataTest:`${o}-leftside`,width:$},(O||T)&&Se.createElement(LI,{dataTest:`${o}-leftheader`},O,T&&!v&&Se.createElement(Hw,{label:y,placeholder:_,dataTest:`${o}-filter`,filter:we,onChange:ie||(Me=>{let{value:ze}=Me;return J(ze)})})),Se.createElement(Xw,{dataTest:`${o}-sourceoptions`,emptyComponent:ce,getOptionClickHandlers:TE,highlightedOptions:ve,loading:X,options:ae,renderOption:D,selectionHandler:Ue,toggleHighlightedOption:re,onEndReached:Ce}),L&&Se.createElement(kI,{dataTest:`${o}-leftfooter`},L)),Se.createElement(fI,{dataTest:`${o}-actions`},H===1/0&&Se.createElement(wI,{label:i,dataTest:`${o}-actions-addall`,disabled:Pe,onClick:()=>lF({sourceOptions:ae,selected:q,onChange:t,setHighlightedSourceOptions:Q})}),Se.createElement(TI,{label:r,dataTest:`${o}-actions-addindividual`,disabled:_e,onClick:()=>cF({filterable:T,sourceOptions:ae,highlightedSourceOptions:ve,selected:q,maxSelections:H,onChange:t,setHighlightedSourceOptions:Q})}),H===1/0&&Se.createElement(AI,{label:G,dataTest:`${o}-actions-removeall`,disabled:Ee,onClick:()=>fF({setHighlightedPickedOptions:ke,onChange:t})}),Se.createElement(PI,{label:j,dataTest:`${o}-actions-removeindividual`,disabled:Re,onClick:()=>gF({filterablePicked:E,pickedOptions:Le,highlightedPickedOptions:be,onChange:t,selected:q,setHighlightedPickedOptions:ke})})),Se.createElement(RI,{dataTest:`${o}-rightside`,width:te},(Y||E)&&Se.createElement(OI,{dataTest:`${o}-rightheader`},Y,E&&!w&&Se.createElement(Hw,{label:g,placeholder:b,dataTest:`${o}-filter`,filter:le,onChange:se||(Me=>{let{value:ze}=Me;return xe(ze)})})),Se.createElement(Xw,{selected:!0,dataTest:`${o}-pickedoptions`,emptyComponent:V,getOptionClickHandlers:TE,highlightedOptions:be,loading:W,options:Le,renderOption:D,selectionHandler:Xe,toggleHighlightedOption:Oe,onEndReached:pe}),(M||h)&&Se.createElement(DI,{dataTest:`${o}-rightfooter`},h&&Se.createElement(MI,{dataTest:`${o}-reorderingactions`,disabledDown:dF({highlightedPickedOptions:be,selected:q}),disabledUp:hF({highlightedPickedOptions:be,selected:q}),onChangeUp:()=>mF({selected:q,highlightedPickedOptions:be,onChange:t}),onChangeDown:()=>{pF({selected:q,highlightedPickedOptions:be,onChange:t})}}),M)))},CF=n=>Se.createElement($I,n);zI.propTypes={options:de.arrayOf(de.shape({label:de.string.isRequired,value:de.string.isRequired,disabled:de.bool})).isRequired,onChange:de.func.isRequired,addAllText:de.string,addIndividualText:de.string,className:de.string,dataTest:de.string,disabled:de.bool,enableOrderChange:de.bool,filterCallback:de.func,filterCallbackPicked:de.func,filterLabel:de.string,filterLabelPicked:de.string,filterPlaceholder:de.string,filterPlaceholderPicked:de.string,filterable:de.bool,filterablePicked:de.bool,height:de.string,hideFilterInput:de.bool,hideFilterInputPicked:de.bool,initialSearchTerm:de.string,initialSearchTermPicked:de.string,leftFooter:de.node,leftHeader:de.node,loading:de.bool,loadingPicked:de.bool,maxSelections:de.oneOf([1,1/0]),optionsWidth:de.string,removeAllText:de.string,removeIndividualText:de.string,renderOption:de.func,rightFooter:de.node,rightHeader:de.node,searchTerm:de.string,searchTermPicked:de.string,selected:de.arrayOf(de.string),selectedEmptyComponent:de.node,selectedWidth:de.string,sourceEmptyPlaceholder:de.node,onEndReached:de.func,onEndReachedPicked:de.func,onFilterChange:de.func,onFilterChangePicked:de.func};var uT={};Object.defineProperty(uT,"__esModule",{value:!0});uT.parse=PF;uT.serialize=MF;const EF=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,kF=/^[\u0021-\u003A\u003C-\u007E]*$/,LF=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,NF=/^[\u0020-\u003A\u003D-\u007E]*$/,IF=Object.prototype.toString,AF=(()=>{const n=function(){};return n.prototype=Object.create(null),n})();function PF(n,e){const t=new AF,i=n.length;if(i<2)return t;const r=(e==null?void 0:e.decode)||DF;let a=0;do{const o=n.indexOf("=",a);if(o===-1)break;const s=n.indexOf(";",a),h=s===-1?i:s;if(o>h){a=n.lastIndexOf(";",o-1)+1;continue}const p=EE(n,a,o),f=kE(n,o,p),y=n.slice(p,f);if(t[y]===void 0){let g=EE(n,o+1,h),_=kE(n,h,g);const b=r(n.slice(g,_));t[y]=b}a=h+1}while(a<i);return t}function EE(n,e,t){do{const i=n.charCodeAt(e);if(i!==32&&i!==9)return e}while(++e<t);return t}function kE(n,e,t){for(;e>t;){const i=n.charCodeAt(--e);if(i!==32&&i!==9)return e+1}return t}function MF(n,e,t){const i=(t==null?void 0:t.encode)||encodeURIComponent;if(!EF.test(n))throw new TypeError(`argument name is invalid: ${n}`);const r=i(e);if(!kF.test(r))throw new TypeError(`argument val is invalid: ${e}`);let a=n+"="+r;if(!t)return a;if(t.maxAge!==void 0){if(!Number.isInteger(t.maxAge))throw new TypeError(`option maxAge is invalid: ${t.maxAge}`);a+="; Max-Age="+t.maxAge}if(t.domain){if(!LF.test(t.domain))throw new TypeError(`option domain is invalid: ${t.domain}`);a+="; Domain="+t.domain}if(t.path){if(!NF.test(t.path))throw new TypeError(`option path is invalid: ${t.path}`);a+="; Path="+t.path}if(t.expires){if(!OF(t.expires)||!Number.isFinite(t.expires.valueOf()))throw new TypeError(`option expires is invalid: ${t.expires}`);a+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(a+="; HttpOnly"),t.secure&&(a+="; Secure"),t.partitioned&&(a+="; Partitioned"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${t.priority}`)}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${t.sameSite}`)}return a}function DF(n){if(n.indexOf("%")===-1)return n;try{return decodeURIComponent(n)}catch{return n}}function OF(n){return IF.call(n)==="[object Date]"}/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LE="popstate";function RF(n={}){function e(r,a){let{pathname:o="/",search:s="",hash:h=""}=Ju(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),fy("",{pathname:o,search:s,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let o=r.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let h=r.location.href,p=h.indexOf("#");s=p===-1?h:h.slice(0,p)}return s+"#"+(typeof a=="string"?a:jd(a))}function i(r,a){ps(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return zF(e,t,i,n)}function Ui(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ps(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $F(){return Math.random().toString(36).substring(2,10)}function NE(n,e){return{usr:n.state,key:n.key,idx:e}}function fy(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ju(e):e,state:t,key:e&&e.key||i||$F()}}function jd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ju(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function zF(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,s="POP",h=null,p=f();p==null&&(p=0,o.replaceState({...o.state,idx:p},""));function f(){return(o.state||{idx:null}).idx}function y(){s="POP";let E=f(),k=E==null?null:E-p;p=E,h&&h({action:s,location:T.location,delta:k})}function g(E,k){s="PUSH";let v=fy(T.location,E,k);t(v,E),p=f()+1;let w=NE(v,p),N=T.createHref(v);try{o.pushState(w,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(N)}a&&h&&h({action:s,location:T.location,delta:1})}function _(E,k){s="REPLACE";let v=fy(T.location,E,k);t(v,E),p=f();let w=NE(v,p),N=T.createHref(v);o.replaceState(w,"",N),a&&h&&h({action:s,location:T.location,delta:0})}function b(E){let k=r.location.origin!=="null"?r.location.origin:r.location.href,v=typeof E=="string"?E:jd(E);return v=v.replace(/ $/,"%20"),Ui(k,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,k)}let T={get action(){return s},get location(){return n(r,o)},listen(E){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(LE,y),h=E,()=>{r.removeEventListener(LE,y),h=null}},createHref(E){return e(r,E)},createURL:b,encodeLocation(E){let k=b(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:_,go(E){return o.go(E)}};return T}var FF=new Set(["lazy","caseSensitive","path","id","index","children"]);function BF(n){return n.index===!0}function gb(n,e,t=[],i={}){return n.map((r,a)=>{let o=[...t,String(a)],s=typeof r.id=="string"?r.id:o.join("-");if(Ui(r.index!==!0||!r.children,"Cannot specify children on an index route"),Ui(!i[s],`Found a route id collision on id "${s}".  Route id's must be globally unique within Data Router usages`),BF(r)){let h={...r,...e(r),id:s};return i[s]=h,h}else{let h={...r,...e(r),id:s,children:void 0};return i[s]=h,r.children&&(h.children=gb(r.children,e,o,i)),h}})}function Ed(n,e,t="/"){return Vx(n,e,t,!1)}function Vx(n,e,t,i){let r=typeof e=="string"?Ju(e):e,a=dc(r.pathname||"/",t);if(a==null)return null;let o=FI(n);UF(o);let s=null;for(let h=0;s==null&&h<o.length;++h){let p=JF(a);s=KF(o[h],p,i)}return s}function jF(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function FI(n,e=[],t=[],i=""){let r=(a,o,s)=>{let h={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};h.relativePath.startsWith("/")&&(Ui(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let p=Yc([i,h.relativePath]),f=t.concat(h);a.children&&a.children.length>0&&(Ui(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),FI(a.children,e,f,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:XF(p,a.index),routesMeta:f})};return n.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))r(a,o);else for(let h of BI(a.path))r(a,o,h)}),e}function BI(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let o=BI(i.join("/")),s=[];return s.push(...o.map(h=>h===""?a:[a,h].join("/"))),r&&s.push(...o),s.map(h=>n.startsWith("/")&&h===""?"/":h)}function UF(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ZF(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var GF=/^:[\w-]+$/,YF=3,VF=2,qF=1,WF=10,HF=-2,IE=n=>n==="*";function XF(n,e){let t=n.split("/"),i=t.length;return t.some(IE)&&(i+=HF),e&&(i+=VF),t.filter(r=>!IE(r)).reduce((r,a)=>r+(GF.test(a)?YF:a===""?qF:WF),i)}function ZF(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function KF(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",o=[];for(let s=0;s<i.length;++s){let h=i[s],p=s===i.length-1,f=a==="/"?e:e.slice(a.length)||"/",y=yb({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},f),g=h.route;if(!y&&p&&t&&!i[i.length-1].route.index&&(y=yb({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},f)),!y)return null;Object.assign(r,y.params),o.push({params:r,pathname:Yc([a,y.pathname]),pathnameBase:nB(Yc([a,y.pathnameBase])),route:g}),y.pathnameBase!=="/"&&(a=Yc([a,y.pathnameBase]))}return o}function yb(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=QF(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:i.reduce((p,{paramName:f,isOptional:y},g)=>{if(f==="*"){let b=s[g]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const _=s[g];return y&&!_?p[f]=void 0:p[f]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:o,pattern:n}}function QF(n,e=!1,t=!0){ps(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,h)=>(i.push({paramName:s,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function JF(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ps(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function dc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function eB(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Ju(n):n;return{pathname:t?t.startsWith("/")?t:tB(t,e):e,search:iB(i),hash:rB(r)}}function tB(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function q_(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dT(n){let e=jI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function hT(n,e,t,i=!1){let r;typeof n=="string"?r=Ju(n):(r={...n},Ui(!r.pathname||!r.pathname.includes("?"),q_("?","pathname","search",r)),Ui(!r.pathname||!r.pathname.includes("#"),q_("#","pathname","hash",r)),Ui(!r.search||!r.search.includes("#"),q_("#","search","hash",r)));let a=n===""||r.pathname==="",o=a?"/":r.pathname,s;if(o==null)s=t;else{let y=e.length-1;if(!i&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),y-=1;r.pathname=g.join("/")}s=y>=0?e[y]:"/"}let h=eB(r,s),p=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||f)&&(h.pathname+="/"),h}var Yc=n=>n.join("/").replace(/\/\/+/g,"/"),nB=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),iB=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,rB=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,vb=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function d0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var UI=["POST","PUT","PATCH","DELETE"],aB=new Set(UI),sB=["GET",...UI],oB=new Set(sB),lB=new Set([301,302,303,307,308]),cB=new Set([307,308]),W_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uB={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dB=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),GI="remix-router-transitions",YI=Symbol("ResetLoaderData");function hB(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ui(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||dB,r={},a=gb(n.routes,i,void 0,r),o,s=n.basename||"/",h=n.dataStrategy||yB,p=n.patchRoutesOnNavigation,f={...n.future},y=null,g=new Set,_=null,b=null,T=null,E=n.hydrationData!=null,k=Ed(a,n.history.location,s),v=null;if(k==null&&!p){let ut=Pl(404,{pathname:n.history.location.pathname}),{matches:xt,route:Mt}=jE(a);k=xt,v={[Mt.id]:ut}}k&&!n.hydrationData&&ni(k,a,n.history.location.pathname).active&&(k=null);let w;if(k)if(k.some(ut=>ut.route.lazy))w=!1;else if(!k.some(ut=>ut.route.loader))w=!0;else{let ut=n.hydrationData?n.hydrationData.loaderData:null,xt=n.hydrationData?n.hydrationData.errors:null;if(xt){let Mt=k.findIndex(Gt=>xt[Gt.route.id]!==void 0);w=k.slice(0,Mt+1).every(Gt=>!Kw(Gt.route,ut,xt))}else w=k.every(Mt=>!Kw(Mt.route,ut,xt))}else{w=!1,k=[];let ut=ni(null,a,n.history.location.pathname);ut.active&&ut.matches&&(k=ut.matches)}let N,C={historyAction:n.history.action,location:n.history.location,matches:k,initialized:w,navigation:W_,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||v,fetchers:new Map,blockers:new Map},L="POP",O=!1,W,X=!1,H=new Map,$=null,G=!1,j=!1,D=new Set,M=new Map,Y=0,B=-1,z=new Map,q=new Set,V=new Map,te=new Map,ce=new Set,ie=new Map,se,Ce=null;function pe(){if(y=n.history.listen(({action:ut,location:xt,delta:Mt})=>{if(se){se(),se=void 0;return}ps(ie.size===0||Mt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Gt=Ct({currentLocation:C.location,nextLocation:xt,historyAction:ut});if(Gt&&Mt!=null){let Qt=new Promise(Tn=>{se=Tn});n.history.go(Mt*-1),mt(Gt,{state:"blocked",location:xt,proceed(){mt(Gt,{state:"proceeding",proceed:void 0,reset:void 0,location:xt}),Qt.then(()=>n.history.go(Mt))},reset(){let Tn=new Map(C.blockers);Tn.set(Gt,jg),J({blockers:Tn})}});return}return re(ut,xt)}),t){LB(e,H);let ut=()=>NB(e,H);e.addEventListener("pagehide",ut),$=()=>e.removeEventListener("pagehide",ut)}return C.initialized||re("POP",C.location,{initialHydration:!0}),N}function we(){y&&y(),$&&$(),g.clear(),W&&W.abort(),C.fetchers.forEach((ut,xt)=>ze(xt)),C.blockers.forEach((ut,xt)=>$t(xt))}function K(ut){return g.add(ut),()=>g.delete(ut)}function J(ut,xt={}){C={...C,...ut};let Mt=[],Gt=[];C.fetchers.forEach((Qt,Tn)=>{Qt.state==="idle"&&(ce.has(Tn)?Mt.push(Tn):Gt.push(Tn))}),ce.forEach(Qt=>{!C.fetchers.has(Qt)&&!M.has(Qt)&&Mt.push(Qt)}),[...g].forEach(Qt=>Qt(C,{deletedFetchers:Mt,viewTransitionOpts:xt.viewTransitionOpts,flushSync:xt.flushSync===!0})),Mt.forEach(Qt=>ze(Qt)),Gt.forEach(Qt=>C.fetchers.delete(Qt))}function ae(ut,xt,{flushSync:Mt}={}){var ge,Ie;let Gt=C.actionData!=null&&C.navigation.formMethod!=null&&sc(C.navigation.formMethod)&&C.navigation.state==="loading"&&((ge=ut.state)==null?void 0:ge._isRedirect)!==!0,Qt;xt.actionData?Object.keys(xt.actionData).length>0?Qt=xt.actionData:Qt=null:Gt?Qt=C.actionData:Qt=null;let Tn=xt.loaderData?FE(C.loaderData,xt.loaderData,xt.matches||[],xt.errors):C.loaderData,Gn=C.blockers;Gn.size>0&&(Gn=new Map(Gn),Gn.forEach((Fe,Ze)=>Gn.set(Ze,jg)));let vn=O===!0||C.navigation.formMethod!=null&&sc(C.navigation.formMethod)&&((Ie=ut.state)==null?void 0:Ie._isRedirect)!==!0;o&&(a=o,o=void 0),G||L==="POP"||(L==="PUSH"?n.history.push(ut,ut.state):L==="REPLACE"&&n.history.replace(ut,ut.state));let Ge;if(L==="POP"){let Fe=H.get(C.location.pathname);Fe&&Fe.has(ut.pathname)?Ge={currentLocation:C.location,nextLocation:ut}:H.has(ut.pathname)&&(Ge={currentLocation:ut,nextLocation:C.location})}else if(X){let Fe=H.get(C.location.pathname);Fe?Fe.add(ut.pathname):(Fe=new Set([ut.pathname]),H.set(C.location.pathname,Fe)),Ge={currentLocation:C.location,nextLocation:ut}}J({...xt,actionData:Qt,loaderData:Tn,historyAction:L,location:ut,initialized:!0,navigation:W_,revalidation:"idle",restoreScrollPosition:di(ut,xt.matches||C.matches),preventScrollReset:vn,blockers:Gn},{viewTransitionOpts:Ge,flushSync:Mt===!0}),L="POP",O=!1,X=!1,G=!1,j=!1,Ce==null||Ce.resolve(),Ce=null}async function ve(ut,xt){if(typeof ut=="number"){n.history.go(ut);return}let Mt=Zw(C.location,C.matches,s,ut,xt==null?void 0:xt.fromRouteId,xt==null?void 0:xt.relative),{path:Gt,submission:Qt,error:Tn}=AE(!1,Mt,xt),Gn=C.location,vn=fy(C.location,Gt,xt&&xt.state);vn={...vn,...n.history.encodeLocation(vn)};let Ge=xt&&xt.replace!=null?xt.replace:void 0,ge="PUSH";Ge===!0?ge="REPLACE":Ge===!1||Qt!=null&&sc(Qt.formMethod)&&Qt.formAction===C.location.pathname+C.location.search&&(ge="REPLACE");let Ie=xt&&"preventScrollReset"in xt?xt.preventScrollReset===!0:void 0,Fe=(xt&&xt.flushSync)===!0,Ze=Ct({currentLocation:Gn,nextLocation:vn,historyAction:ge});if(Ze){mt(Ze,{state:"blocked",location:vn,proceed(){mt(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:vn}),ve(ut,xt)},reset(){let it=new Map(C.blockers);it.set(Ze,jg),J({blockers:it})}});return}await re(ge,vn,{submission:Qt,pendingError:Tn,preventScrollReset:Ie,replace:xt&&xt.replace,enableViewTransition:xt&&xt.viewTransition,flushSync:Fe})}function Q(){Ce||(Ce=IB()),_e(),J({revalidation:"loading"});let ut=Ce.promise;return C.navigation.state==="submitting"?ut:C.navigation.state==="idle"?(re(C.historyAction,C.location,{startUninterruptedRevalidation:!0}),ut):(re(L||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:X===!0}),ut)}async function re(ut,xt,Mt){W&&W.abort(),W=null,L=ut,G=(Mt&&Mt.startUninterruptedRevalidation)===!0,Zt(C.location,C.matches),O=(Mt&&Mt.preventScrollReset)===!0,X=(Mt&&Mt.enableViewTransition)===!0;let Gt=o||a,Qt=Mt&&Mt.overrideNavigation,Tn=Ed(Gt,xt,s),Gn=(Mt&&Mt.flushSync)===!0,vn=ni(Tn,Gt,xt.pathname);if(vn.active&&vn.matches&&(Tn=vn.matches),!Tn){let{error:lt,notFoundMatches:at,route:nt}=St(xt.pathname);ae(xt,{matches:at,loaderData:{},errors:{[nt.id]:lt}},{flushSync:Gn});return}if(C.initialized&&!j&&TB(C.location,xt)&&!(Mt&&Mt.submission&&sc(Mt.submission.formMethod))){ae(xt,{matches:Tn},{flushSync:Gn});return}W=new AbortController;let Ge=Tm(n.history,xt,W.signal,Mt&&Mt.submission),ge;if(Mt&&Mt.pendingError)ge=[Yh(Tn).route.id,{type:"error",error:Mt.pendingError}];else if(Mt&&Mt.submission&&sc(Mt.submission.formMethod)){let lt=await le(Ge,xt,Mt.submission,Tn,vn.active,{replace:Mt.replace,flushSync:Gn});if(lt.shortCircuited)return;if(lt.pendingActionResult){let[at,nt]=lt.pendingActionResult;if(rl(nt)&&d0(nt.error)&&nt.error.status===404){W=null,ae(xt,{matches:lt.matches,loaderData:{},errors:{[at]:nt.error}});return}}Tn=lt.matches||Tn,ge=lt.pendingActionResult,Qt=H_(xt,Mt.submission),Gn=!1,vn.active=!1,Ge=Tm(n.history,Ge.url,Ge.signal)}let{shortCircuited:Ie,matches:Fe,loaderData:Ze,errors:it}=await fe(Ge,xt,Tn,vn.active,Qt,Mt&&Mt.submission,Mt&&Mt.fetcherSubmission,Mt&&Mt.replace,Mt&&Mt.initialHydration===!0,Gn,ge);Ie||(W=null,ae(xt,{matches:Fe||Tn,...BE(ge),loaderData:Ze,errors:it}))}async function le(ut,xt,Mt,Gt,Qt,Tn={}){_e();let Gn=EB(xt,Mt);if(J({navigation:Gn},{flushSync:Tn.flushSync===!0}),Qt){let ge=await _i(Gt,xt.pathname,ut.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let Ie=Yh(ge.partialMatches).route.id;return{matches:ge.partialMatches,pendingActionResult:[Ie,{type:"error",error:ge.error}]}}else if(ge.matches)Gt=ge.matches;else{let{notFoundMatches:Ie,error:Fe,route:Ze}=St(xt.pathname);return{matches:Ie,pendingActionResult:[Ze.id,{type:"error",error:Fe}]}}}let vn,Ge=Jg(Gt,xt);if(!Ge.route.action&&!Ge.route.lazy)vn={type:"error",error:Pl(405,{method:ut.method,pathname:xt.pathname,routeId:Ge.route.id})};else if(vn=(await Xe("action",C,ut,[Ge],Gt,null))[Ge.route.id],ut.signal.aborted)return{shortCircuited:!0};if(Hh(vn)){let ge;return Tn&&Tn.replace!=null?ge=Tn.replace:ge=RE(vn.response.headers.get("Location"),new URL(ut.url),s)===C.location.pathname+C.location.search,await Ue(ut,vn,!0,{submission:Mt,replace:ge}),{shortCircuited:!0}}if(rl(vn)){let ge=Yh(Gt,Ge.route.id);return(Tn&&Tn.replace)!==!0&&(L="PUSH"),{matches:Gt,pendingActionResult:[ge.route.id,vn]}}return{matches:Gt,pendingActionResult:[Ge.route.id,vn]}}async function fe(ut,xt,Mt,Gt,Qt,Tn,Gn,vn,Ge,ge,Ie){let Fe=Qt||H_(xt,Tn),Ze=Tn||Gn||GE(Fe),it=!G&&!Ge;if(Gt){if(it){let On=xe(Ie);J({navigation:Fe,...On!==void 0?{actionData:On}:{}},{flushSync:ge})}let Cn=await _i(Mt,xt.pathname,ut.signal);if(Cn.type==="aborted")return{shortCircuited:!0};if(Cn.type==="error"){let On=Yh(Cn.partialMatches).route.id;return{matches:Cn.partialMatches,loaderData:{},errors:{[On]:Cn.error}}}else if(Cn.matches)Mt=Cn.matches;else{let{error:On,notFoundMatches:Hn,route:Yn}=St(xt.pathname);return{matches:Hn,loaderData:{},errors:{[Yn.id]:On}}}}let lt=o||a,[at,nt]=ME(n.history,C,Mt,Ze,xt,Ge===!0,j,D,ce,V,q,lt,s,Ie);if(B=++Y,at.length===0&&nt.length===0){let Cn=ht();return ae(xt,{matches:Mt,loaderData:{},errors:Ie&&rl(Ie[1])?{[Ie[0]]:Ie[1].error}:null,...BE(Ie),...Cn?{fetchers:new Map(C.fetchers)}:{}},{flushSync:ge}),{shortCircuited:!0}}if(it){let Cn={};if(!Gt){Cn.navigation=Fe;let On=xe(Ie);On!==void 0&&(Cn.actionData=On)}nt.length>0&&(Cn.fetchers=Le(nt)),J(Cn,{flushSync:ge})}nt.forEach(Cn=>{tt(Cn.key),Cn.controller&&M.set(Cn.key,Cn.controller)});let ft=()=>nt.forEach(Cn=>tt(Cn.key));W&&W.signal.addEventListener("abort",ft);let{loaderResults:Nt,fetcherResults:Ft}=await Pe(C,Mt,at,nt,ut);if(ut.signal.aborted)return{shortCircuited:!0};W&&W.signal.removeEventListener("abort",ft),nt.forEach(Cn=>M.delete(Cn.key));let Rt=yx(Nt);if(Rt)return await Ue(ut,Rt.result,!0,{replace:vn}),{shortCircuited:!0};if(Rt=yx(Ft),Rt)return q.add(Rt.key),await Ue(ut,Rt.result,!0,{replace:vn}),{shortCircuited:!0};let{loaderData:pn,errors:rn}=zE(C,Mt,Nt,Ie,nt,Ft);Ge&&C.errors&&(rn={...C.errors,...rn});let xn=ht(),Sn=gt(B),Wn=xn||Sn||nt.length>0;return{matches:Mt,loaderData:pn,errors:rn,...Wn?{fetchers:new Map(C.fetchers)}:{}}}function xe(ut){if(ut&&!rl(ut[1]))return{[ut[0]]:ut[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function Le(ut){return ut.forEach(xt=>{let Mt=C.fetchers.get(xt.key),Gt=Ug(void 0,Mt?Mt.data:void 0);C.fetchers.set(xt.key,Gt)}),new Map(C.fetchers)}async function be(ut,xt,Mt,Gt){tt(ut);let Qt=(Gt&&Gt.flushSync)===!0,Tn=o||a,Gn=Zw(C.location,C.matches,s,Mt,xt,Gt==null?void 0:Gt.relative),vn=Ed(Tn,Gn,s),Ge=ni(vn,Tn,Gn);if(Ge.active&&Ge.matches&&(vn=Ge.matches),!vn){Re(ut,xt,Pl(404,{pathname:Gn}),{flushSync:Qt});return}let{path:ge,submission:Ie,error:Fe}=AE(!0,Gn,Gt);if(Fe){Re(ut,xt,Fe,{flushSync:Qt});return}let Ze=Jg(vn,ge),it=(Gt&&Gt.preventScrollReset)===!0;if(Ie&&sc(Ie.formMethod)){await ke(ut,xt,ge,Ze,vn,Ge.active,Qt,it,Ie);return}V.set(ut,{routeId:xt,path:ge}),await Oe(ut,xt,ge,Ze,vn,Ge.active,Qt,it,Ie)}async function ke(ut,xt,Mt,Gt,Qt,Tn,Gn,vn,Ge){_e(),V.delete(ut);function ge(fi){if(!fi.route.action&&!fi.route.lazy){let Ji=Pl(405,{method:Ge.formMethod,pathname:Mt,routeId:xt});return Re(ut,xt,Ji,{flushSync:Gn}),!0}return!1}if(!Tn&&ge(Gt))return;let Ie=C.fetchers.get(ut);Ee(ut,kB(Ge,Ie),{flushSync:Gn});let Fe=new AbortController,Ze=Tm(n.history,Mt,Fe.signal,Ge);if(Tn){let fi=await _i(Qt,Mt,Ze.signal);if(fi.type==="aborted")return;if(fi.type==="error"){Re(ut,xt,fi.error,{flushSync:Gn});return}else if(fi.matches){if(Qt=fi.matches,Gt=Jg(Qt,Mt),ge(Gt))return}else{Re(ut,xt,Pl(404,{pathname:Mt}),{flushSync:Gn});return}}M.set(ut,Fe);let it=Y,at=(await Xe("action",C,Ze,[Gt],Qt,ut))[Gt.route.id];if(Ze.signal.aborted){M.get(ut)===Fe&&M.delete(ut);return}if(ce.has(ut)){if(Hh(at)||rl(at)){Ee(ut,_d(void 0));return}}else{if(Hh(at))if(M.delete(ut),B>it){Ee(ut,_d(void 0));return}else return q.add(ut),Ee(ut,Ug(Ge)),Ue(Ze,at,!1,{fetcherSubmission:Ge,preventScrollReset:vn});if(rl(at)){Re(ut,xt,at.error);return}}let nt=C.navigation.location||C.location,ft=Tm(n.history,nt,Fe.signal),Nt=o||a,Ft=C.navigation.state!=="idle"?Ed(Nt,C.navigation.location,s):C.matches;Ui(Ft,"Didn't find any matches after fetcher action");let Rt=++Y;z.set(ut,Rt);let pn=Ug(Ge,at.data);C.fetchers.set(ut,pn);let[rn,xn]=ME(n.history,C,Ft,Ge,nt,!1,j,D,ce,V,q,Nt,s,[Gt.route.id,at]);xn.filter(fi=>fi.key!==ut).forEach(fi=>{let Ji=fi.key,Pr=C.fetchers.get(Ji),ma=Ug(void 0,Pr?Pr.data:void 0);C.fetchers.set(Ji,ma),tt(Ji),fi.controller&&M.set(Ji,fi.controller)}),J({fetchers:new Map(C.fetchers)});let Sn=()=>xn.forEach(fi=>tt(fi.key));Fe.signal.addEventListener("abort",Sn);let{loaderResults:Wn,fetcherResults:Cn}=await Pe(C,Ft,rn,xn,ft);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",Sn),z.delete(ut),M.delete(ut),xn.forEach(fi=>M.delete(fi.key));let On=yx(Wn);if(On)return Ue(ft,On.result,!1,{preventScrollReset:vn});if(On=yx(Cn),On)return q.add(On.key),Ue(ft,On.result,!1,{preventScrollReset:vn});let{loaderData:Hn,errors:Yn}=zE(C,Ft,Wn,void 0,xn,Cn);if(C.fetchers.has(ut)){let fi=_d(at.data);C.fetchers.set(ut,fi)}gt(Rt),C.navigation.state==="loading"&&Rt>B?(Ui(L,"Expected pending action"),W&&W.abort(),ae(C.navigation.location,{matches:Ft,loaderData:Hn,errors:Yn,fetchers:new Map(C.fetchers)})):(J({errors:Yn,loaderData:FE(C.loaderData,Hn,Ft,Yn),fetchers:new Map(C.fetchers)}),j=!1)}async function Oe(ut,xt,Mt,Gt,Qt,Tn,Gn,vn,Ge){let ge=C.fetchers.get(ut);Ee(ut,Ug(Ge,ge?ge.data:void 0),{flushSync:Gn});let Ie=new AbortController,Fe=Tm(n.history,Mt,Ie.signal);if(Tn){let at=await _i(Qt,Mt,Fe.signal);if(at.type==="aborted")return;if(at.type==="error"){Re(ut,xt,at.error,{flushSync:Gn});return}else if(at.matches)Qt=at.matches,Gt=Jg(Qt,Mt);else{Re(ut,xt,Pl(404,{pathname:Mt}),{flushSync:Gn});return}}M.set(ut,Ie);let Ze=Y,lt=(await Xe("loader",C,Fe,[Gt],Qt,ut))[Gt.route.id];if(M.get(ut)===Ie&&M.delete(ut),!Fe.signal.aborted){if(ce.has(ut)){Ee(ut,_d(void 0));return}if(Hh(lt))if(B>Ze){Ee(ut,_d(void 0));return}else{q.add(ut),await Ue(Fe,lt,!1,{preventScrollReset:vn});return}if(rl(lt)){Re(ut,xt,lt.error);return}Ee(ut,_d(lt.data))}}async function Ue(ut,xt,Mt,{submission:Gt,fetcherSubmission:Qt,preventScrollReset:Tn,replace:Gn}={}){xt.response.headers.has("X-Remix-Revalidate")&&(j=!0);let vn=xt.response.headers.get("Location");Ui(vn,"Expected a Location header on the redirect Response"),vn=RE(vn,new URL(ut.url),s);let Ge=fy(C.location,vn,{_isRedirect:!0});if(t){let lt=!1;if(xt.response.headers.has("X-Remix-Reload-Document"))lt=!0;else if(pT.test(vn)){const at=n.history.createURL(vn);lt=at.origin!==e.location.origin||dc(at.pathname,s)==null}if(lt){Gn?e.location.replace(vn):e.location.assign(vn);return}}W=null;let ge=Gn===!0||xt.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ie,formAction:Fe,formEncType:Ze}=C.navigation;!Gt&&!Qt&&Ie&&Fe&&Ze&&(Gt=GE(C.navigation));let it=Gt||Qt;if(cB.has(xt.response.status)&&it&&sc(it.formMethod))await re(ge,Ge,{submission:{...it,formAction:vn},preventScrollReset:Tn||O,enableViewTransition:Mt?X:void 0});else{let lt=H_(Ge,Gt);await re(ge,Ge,{overrideNavigation:lt,fetcherSubmission:Qt,preventScrollReset:Tn||O,enableViewTransition:Mt?X:void 0})}}async function Xe(ut,xt,Mt,Gt,Qt,Tn){let Gn,vn={};try{Gn=await vB(h,ut,xt,Mt,Gt,Qt,Tn,r,i)}catch(Ge){return Gt.forEach(ge=>{vn[ge.route.id]={type:"error",error:Ge}}),vn}for(let[Ge,ge]of Object.entries(Gn))if(SB(ge)){let Ie=ge.result;vn[Ge]={type:"redirect",response:_B(Ie,Mt,Ge,Qt,s)}}else vn[Ge]=await bB(ge);return vn}async function Pe(ut,xt,Mt,Gt,Qt){let Tn=Xe("loader",ut,Qt,Mt,xt,null),Gn=Promise.all(Gt.map(async ge=>{if(ge.matches&&ge.match&&ge.controller){let Fe=(await Xe("loader",ut,Tm(n.history,ge.path,ge.controller.signal),[ge.match],ge.matches,ge.key))[ge.match.route.id];return{[ge.key]:Fe}}else return Promise.resolve({[ge.key]:{type:"error",error:Pl(404,{pathname:ge.path})}})})),vn=await Tn,Ge=(await Gn).reduce((ge,Ie)=>Object.assign(ge,Ie),{});return{loaderResults:vn,fetcherResults:Ge}}function _e(){j=!0,V.forEach((ut,xt)=>{M.has(xt)&&D.add(xt),tt(xt)})}function Ee(ut,xt,Mt={}){C.fetchers.set(ut,xt),J({fetchers:new Map(C.fetchers)},{flushSync:(Mt&&Mt.flushSync)===!0})}function Re(ut,xt,Mt,Gt={}){let Qt=Yh(C.matches,xt);ze(ut),J({errors:{[Qt.route.id]:Mt},fetchers:new Map(C.fetchers)},{flushSync:(Gt&&Gt.flushSync)===!0})}function Me(ut){return te.set(ut,(te.get(ut)||0)+1),ce.has(ut)&&ce.delete(ut),C.fetchers.get(ut)||uB}function ze(ut){let xt=C.fetchers.get(ut);M.has(ut)&&!(xt&&xt.state==="loading"&&z.has(ut))&&tt(ut),V.delete(ut),z.delete(ut),q.delete(ut),ce.delete(ut),D.delete(ut),C.fetchers.delete(ut)}function Ke(ut){let xt=(te.get(ut)||0)-1;xt<=0?(te.delete(ut),ce.add(ut)):te.set(ut,xt),J({fetchers:new Map(C.fetchers)})}function tt(ut){let xt=M.get(ut);xt&&(xt.abort(),M.delete(ut))}function st(ut){for(let xt of ut){let Mt=Me(xt),Gt=_d(Mt.data);C.fetchers.set(xt,Gt)}}function ht(){let ut=[],xt=!1;for(let Mt of q){let Gt=C.fetchers.get(Mt);Ui(Gt,`Expected fetcher: ${Mt}`),Gt.state==="loading"&&(q.delete(Mt),ut.push(Mt),xt=!0)}return st(ut),xt}function gt(ut){let xt=[];for(let[Mt,Gt]of z)if(Gt<ut){let Qt=C.fetchers.get(Mt);Ui(Qt,`Expected fetcher: ${Mt}`),Qt.state==="loading"&&(tt(Mt),z.delete(Mt),xt.push(Mt))}return st(xt),xt.length>0}function Tt(ut,xt){let Mt=C.blockers.get(ut)||jg;return ie.get(ut)!==xt&&ie.set(ut,xt),Mt}function $t(ut){C.blockers.delete(ut),ie.delete(ut)}function mt(ut,xt){let Mt=C.blockers.get(ut)||jg;Ui(Mt.state==="unblocked"&&xt.state==="blocked"||Mt.state==="blocked"&&xt.state==="blocked"||Mt.state==="blocked"&&xt.state==="proceeding"||Mt.state==="blocked"&&xt.state==="unblocked"||Mt.state==="proceeding"&&xt.state==="unblocked",`Invalid blocker state transition: ${Mt.state} -> ${xt.state}`);let Gt=new Map(C.blockers);Gt.set(ut,xt),J({blockers:Gt})}function Ct({currentLocation:ut,nextLocation:xt,historyAction:Mt}){if(ie.size===0)return;ie.size>1&&ps(!1,"A router only supports one blocker at a time");let Gt=Array.from(ie.entries()),[Qt,Tn]=Gt[Gt.length-1],Gn=C.blockers.get(Qt);if(!(Gn&&Gn.state==="proceeding")&&Tn({currentLocation:ut,nextLocation:xt,historyAction:Mt}))return Qt}function St(ut){let xt=Pl(404,{pathname:ut}),Mt=o||a,{matches:Gt,route:Qt}=jE(Mt);return{notFoundMatches:Gt,route:Qt,error:xt}}function sn(ut,xt,Mt){if(_=ut,T=xt,b=Mt||null,!E&&C.navigation===W_){E=!0;let Gt=di(C.location,C.matches);Gt!=null&&J({restoreScrollPosition:Gt})}return()=>{_=null,T=null,b=null}}function yn(ut,xt){return b&&b(ut,xt.map(Gt=>jF(Gt,C.loaderData)))||ut.key}function Zt(ut,xt){if(_&&T){let Mt=yn(ut,xt);_[Mt]=T()}}function di(ut,xt){if(_){let Mt=yn(ut,xt),Gt=_[Mt];if(typeof Gt=="number")return Gt}return null}function ni(ut,xt,Mt){if(p)if(ut){if(Object.keys(ut[0].params).length>0)return{active:!0,matches:Vx(xt,Mt,s,!0)}}else return{active:!0,matches:Vx(xt,Mt,s,!0)||[]};return{active:!1,matches:null}}async function _i(ut,xt,Mt){if(!p)return{type:"success",matches:ut};let Gt=ut;for(;;){let Qt=o==null,Tn=o||a,Gn=r;try{await p({path:xt,matches:Gt,patch:(ge,Ie)=>{Mt.aborted||OE(ge,Ie,Tn,Gn,i)}})}catch(ge){return{type:"error",error:ge,partialMatches:Gt}}finally{Qt&&!Mt.aborted&&(a=[...a])}if(Mt.aborted)return{type:"aborted"};let vn=Ed(Tn,xt,s);if(vn)return{type:"success",matches:vn};let Ge=Vx(Tn,xt,s,!0);if(!Ge||Gt.length===Ge.length&&Gt.every((ge,Ie)=>ge.route.id===Ge[Ie].route.id))return{type:"success",matches:null};Gt=Ge}}function Vi(ut){r={},o=gb(ut,i,void 0,r)}function oi(ut,xt){let Mt=o==null;OE(ut,xt,o||a,r,i),Mt&&(a=[...a],J({}))}return N={get basename(){return s},get future(){return f},get state(){return C},get routes(){return a},get window(){return e},initialize:pe,subscribe:K,enableScrollRestoration:sn,navigate:ve,fetch:be,revalidate:Q,createHref:ut=>n.history.createHref(ut),encodeLocation:ut=>n.history.encodeLocation(ut),getFetcher:Me,deleteFetcher:Ke,dispose:we,getBlocker:Tt,deleteBlocker:$t,patchRoutes:oi,_internalFetchControllers:M,_internalSetRoutes:Vi},N}function pB(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Zw(n,e,t,i,r,a){let o,s;if(r){o=[];for(let p of e)if(o.push(p),p.route.id===r){s=p;break}}else o=e,s=e[e.length-1];let h=hT(i||".",dT(o),dc(n.pathname,t)||n.pathname,a==="path");if(i==null&&(h.search=n.search,h.hash=n.hash),(i==null||i===""||i===".")&&s){let p=mT(h.search);if(s.route.index&&!p)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!s.route.index&&p){let f=new URLSearchParams(h.search),y=f.getAll("index");f.delete("index"),y.filter(_=>_).forEach(_=>f.append("index",_));let g=f.toString();h.search=g?`?${g}`:""}}return t!=="/"&&(h.pathname=h.pathname==="/"?t:Yc([t,h.pathname])),jd(h)}function AE(n,e,t){if(!t||!pB(t))return{path:e};if(t.formMethod&&!CB(t.formMethod))return{path:e,error:Pl(405,{method:t.formMethod})};let i=()=>({path:e,error:Pl(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),o=qI(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!sc(a))return i();let y=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((g,[_,b])=>`${g}${_}=${b}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:o,formEncType:t.formEncType,formData:void 0,json:void 0,text:y}}}else if(t.formEncType==="application/json"){if(!sc(a))return i();try{let y=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:o,formEncType:t.formEncType,formData:void 0,json:y,text:void 0}}}catch{return i()}}}Ui(typeof FormData=="function","FormData is not available in this environment");let s,h;if(t.formData)s=Qw(t.formData),h=t.formData;else if(t.body instanceof FormData)s=Qw(t.body),h=t.body;else if(t.body instanceof URLSearchParams)s=t.body,h=$E(s);else if(t.body==null)s=new URLSearchParams,h=new FormData;else try{s=new URLSearchParams(t.body),h=$E(s)}catch{return i()}let p={formMethod:a,formAction:o,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(sc(p.formMethod))return{path:e,submission:p};let f=Ju(e);return n&&f.search&&mT(f.search)&&s.append("index",""),f.search=`?${s}`,{path:jd(f),submission:p}}function PE(n,e,t=!1){let i=n.findIndex(r=>r.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function ME(n,e,t,i,r,a,o,s,h,p,f,y,g,_){let b=_?rl(_[1])?_[1].error:_[1].data:void 0,T=n.createURL(e.location),E=n.createURL(r),k=t;a&&e.errors?k=PE(t,Object.keys(e.errors)[0],!0):_&&rl(_[1])&&(k=PE(t,_[0]));let v=_?_[1].statusCode:void 0,w=v&&v>=400,N=k.filter((L,O)=>{let{route:W}=L;if(W.lazy)return!0;if(W.loader==null)return!1;if(a)return Kw(W,e.loaderData,e.errors);if(mB(e.loaderData,e.matches[O],L))return!0;let X=e.matches[O],H=L;return DE(L,{currentUrl:T,currentParams:X.params,nextUrl:E,nextParams:H.params,...i,actionResult:b,actionStatus:v,defaultShouldRevalidate:w?!1:o||T.pathname+T.search===E.pathname+E.search||T.search!==E.search||fB(X,H)})}),C=[];return p.forEach((L,O)=>{if(a||!t.some(G=>G.route.id===L.routeId)||h.has(O))return;let W=Ed(y,L.path,g);if(!W){C.push({key:O,routeId:L.routeId,path:L.path,matches:null,match:null,controller:null});return}let X=e.fetchers.get(O),H=Jg(W,L.path),$=!1;f.has(O)?$=!1:s.has(O)?(s.delete(O),$=!0):X&&X.state!=="idle"&&X.data===void 0?$=o:$=DE(H,{currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:t[t.length-1].params,...i,actionResult:b,actionStatus:v,defaultShouldRevalidate:w?!1:o}),$&&C.push({key:O,routeId:L.routeId,path:L.path,matches:W,match:H,controller:new AbortController})}),[N,C]}function Kw(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,r=t!=null&&t[n.id]!==void 0;return!i&&r?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!r}function mB(n,e,t){let i=!e||t.route.id!==e.route.id,r=!n.hasOwnProperty(t.route.id);return i||r}function fB(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function DE(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function OE(n,e,t,i,r){let a;if(n){let h=i[n];Ui(h,`No route found to patch children into: routeId = ${n}`),h.children||(h.children=[]),a=h.children}else a=t;let o=e.filter(h=>!a.some(p=>VI(h,p))),s=gb(o,r,[n||"_","patch",String((a==null?void 0:a.length)||"0")],i);a.push(...s)}function VI(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var r;return(r=e.children)==null?void 0:r.some(a=>VI(t,a))}):!1}async function gB(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=t[n.id];Ui(r,"No route found in manifest");let a={};for(let o in i){let h=r[o]!==void 0&&o!=="hasErrorBoundary";ps(!h,`Route "${r.id}" has a static property "${o}" defined but its lazy function is also returning a value for this property. The lazy route property "${o}" will be ignored.`),!h&&!FF.has(o)&&(a[o]=i[o])}Object.assign(r,a),Object.assign(r,{...e(r),lazy:void 0})}async function yB({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,r,a)=>Object.assign(i,{[e[a].route.id]:r}),{})}async function vB(n,e,t,i,r,a,o,s,h,p){let f=a.map(_=>_.route.lazy?gB(_.route,h,s):void 0),y=a.map((_,b)=>{let T=f[b],E=r.some(v=>v.route.id===_.route.id);return{..._,shouldLoad:E,resolve:async v=>(v&&i.method==="GET"&&(_.route.lazy||_.route.loader)&&(E=!0),E?xB(e,i,_,T,v,p):Promise.resolve({type:"data",result:void 0}))}}),g=await n({matches:y,request:i,params:a[0].params,fetcherKey:o,context:p});try{await Promise.all(f)}catch{}return g}async function xB(n,e,t,i,r,a){let o,s,h=p=>{let f,y=new Promise((b,T)=>f=T);s=()=>f(),e.signal.addEventListener("abort",s);let g=b=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:a},...b!==void 0?[b]:[]),_=(async()=>{try{return{type:"data",result:await(r?r(T=>g(T)):g())}}catch(b){return{type:"error",result:b}}})();return Promise.race([_,y])};try{let p=t.route[n];if(i)if(p){let f,[y]=await Promise.all([h(p).catch(g=>{f=g}),i]);if(f!==void 0)throw f;o=y}else if(await i,p=t.route[n],p)o=await h(p);else if(n==="action"){let f=new URL(e.url),y=f.pathname+f.search;throw Pl(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:"data",result:void 0};else if(p)o=await h(p);else{let f=new URL(e.url),y=f.pathname+f.search;throw Pl(404,{pathname:y})}}catch(p){return{type:"error",result:p}}finally{s&&e.signal.removeEventListener("abort",s)}return o}async function bB(n){var i,r,a,o;let{result:e,type:t}=n;if(WI(e)){let s;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?s=null:s=await e.json():s=await e.text()}catch(h){return{type:"error",error:h}}return t==="error"?{type:"error",error:new vb(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}if(t==="error"){if(UE(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new vb(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:d0(e)?e.status:void 0}}return UE(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function _B(n,e,t,i,r){let a=n.headers.get("Location");if(Ui(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!pT.test(a)){let o=i.slice(0,i.findIndex(s=>s.route.id===t)+1);a=Zw(new URL(e.url),o,r,a),n.headers.set("Location",a)}return n}function RE(n,e,t){if(pT.test(n)){let i=n,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=dc(r.pathname,t)!=null;if(r.origin===e.origin&&a)return r.pathname+r.search+r.hash}return n}function Tm(n,e,t,i){let r=n.createURL(qI(e)).toString(),a={signal:t};if(i&&sc(i.formMethod)){let{formMethod:o,formEncType:s}=i;a.method=o.toUpperCase(),s==="application/json"?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(i.json)):s==="text/plain"?a.body=i.text:s==="application/x-www-form-urlencoded"&&i.formData?a.body=Qw(i.formData):a.body=i.formData}return new Request(r,a)}function Qw(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function $E(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function wB(n,e,t,i=!1,r=!1){let a={},o=null,s,h=!1,p={},f=t&&rl(t[1])?t[1].error:void 0;return n.forEach(y=>{if(!(y.route.id in e))return;let g=y.route.id,_=e[g];if(Ui(!Hh(_),"Cannot handle redirect results in processLoaderData"),rl(_)){let b=_.error;if(f!==void 0&&(b=f,f=void 0),o=o||{},r)o[g]=b;else{let T=Yh(n,g);o[T.route.id]==null&&(o[T.route.id]=b)}i||(a[g]=YI),h||(h=!0,s=d0(_.error)?_.error.status:500),_.headers&&(p[g]=_.headers)}else a[g]=_.data,_.statusCode&&_.statusCode!==200&&!h&&(s=_.statusCode),_.headers&&(p[g]=_.headers)}),f!==void 0&&t&&(o={[t[0]]:f},a[t[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:p}}function zE(n,e,t,i,r,a){let{loaderData:o,errors:s}=wB(e,t,i);return r.forEach(h=>{let{key:p,match:f,controller:y}=h,g=a[p];if(Ui(g,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(rl(g)){let _=Yh(n.matches,f==null?void 0:f.route.id);s&&s[_.route.id]||(s={...s,[_.route.id]:g.error}),n.fetchers.delete(p)}else if(Hh(g))Ui(!1,"Unhandled fetcher revalidation redirect");else{let _=_d(g.data);n.fetchers.set(p,_)}}),{loaderData:o,errors:s}}function FE(n,e,t,i){let r=Object.entries(e).filter(([,a])=>a!==YI).reduce((a,[o,s])=>(a[o]=s,a),{});for(let a of t){let o=a.route.id;if(!e.hasOwnProperty(o)&&n.hasOwnProperty(o)&&a.route.loader&&(r[o]=n[o]),i&&i.hasOwnProperty(o))break}return r}function BE(n){return n?rl(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Yh(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function jE(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Pl(n,{pathname:e,routeId:t,method:i,type:r,message:a}={}){let o="Unknown Server Error",s="Unknown @remix-run/router error";return n===400?(o="Bad Request",i&&e&&t?s=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:r==="invalid-body"&&(s="Unable to encode submission body")):n===403?(o="Forbidden",s=`Route "${t}" does not match URL "${e}"`):n===404?(o="Not Found",s=`No route matches URL "${e}"`):n===405&&(o="Method Not Allowed",i&&e&&t?s=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(s=`Invalid request method "${i.toUpperCase()}"`)),new vb(n||500,o,new Error(s),!0)}function yx(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,r]=e[t];if(Hh(r))return{key:i,result:r}}}function qI(n){let e=typeof n=="string"?Ju(n):n;return jd({...e,hash:""})}function TB(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function SB(n){return WI(n.result)&&lB.has(n.result.status)}function rl(n){return n.type==="error"}function Hh(n){return(n&&n.type)==="redirect"}function UE(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function WI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function CB(n){return oB.has(n.toUpperCase())}function sc(n){return aB.has(n.toUpperCase())}function mT(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Jg(n,e){let t=typeof e=="string"?Ju(e).search:e.search;if(n[n.length-1].route.index&&mT(t||""))return n[n.length-1];let i=jI(n);return i[i.length-1]}function GE(n){let{formMethod:e,formAction:t,formEncType:i,text:r,formData:a,json:o}=n;if(!(!e||!t||!i)){if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:r};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:o,text:void 0}}}function H_(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function EB(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ug(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kB(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function _d(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function LB(n,e){try{let t=n.sessionStorage.getItem(GI);if(t){let i=JSON.parse(t);for(let[r,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(r,new Set(a||[]))}}catch{}}function NB(n,e){if(e.size>0){let t={};for(let[i,r]of e)t[i]=[...r];try{n.sessionStorage.setItem(GI,JSON.stringify(t))}catch(i){ps(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function IB(){let n,e,t=new Promise((i,r)=>{n=async a=>{i(a);try{await t}catch{}},e=async a=>{r(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Ep=We.createContext(null);Ep.displayName="DataRouter";var Qy=We.createContext(null);Qy.displayName="DataRouterState";var fT=We.createContext({isTransitioning:!1});fT.displayName="ViewTransition";var HI=We.createContext(new Map);HI.displayName="Fetchers";var AB=We.createContext(null);AB.displayName="Await";var ru=We.createContext(null);ru.displayName="Navigation";var h0=We.createContext(null);h0.displayName="Location";var au=We.createContext({outlet:null,matches:[],isDataRoute:!1});au.displayName="Route";var gT=We.createContext(null);gT.displayName="RouteError";function PB(n,{relative:e}={}){Ui(Jy(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=We.useContext(ru),{hash:r,pathname:a,search:o}=kf(n,{relative:e}),s=a;return t!=="/"&&(s=a==="/"?t:Yc([t,a])),i.createHref({pathname:s,search:o,hash:r})}function Jy(){return We.useContext(h0)!=null}function Jd(){return Ui(Jy(),"useLocation() may be used only in the context of a <Router> component."),We.useContext(h0).location}var XI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZI(n){We.useContext(ru).static||We.useLayoutEffect(n)}function yT(){let{isDataRoute:n}=We.useContext(au);return n?qB():MB()}function MB(){Ui(Jy(),"useNavigate() may be used only in the context of a <Router> component.");let n=We.useContext(Ep),{basename:e,navigator:t}=We.useContext(ru),{matches:i}=We.useContext(au),{pathname:r}=Jd(),a=JSON.stringify(dT(i)),o=We.useRef(!1);return ZI(()=>{o.current=!0}),We.useCallback((h,p={})=>{if(ps(o.current,XI),!o.current)return;if(typeof h=="number"){t.go(h);return}let f=hT(h,JSON.parse(a),r,p.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Yc([e,f.pathname])),(p.replace?t.replace:t.push)(f,p.state,p)},[e,t,a,r,n])}var DB=We.createContext(null);function OB(n){let e=We.useContext(au).outlet;return e&&We.createElement(DB.Provider,{value:n},e)}function kf(n,{relative:e}={}){let{matches:t}=We.useContext(au),{pathname:i}=Jd(),r=JSON.stringify(dT(t));return We.useMemo(()=>hT(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function RB(n,e,t,i){Ui(Jy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=We.useContext(ru),{matches:a}=We.useContext(au),o=a[a.length-1],s=o?o.params:{},h=o?o.pathname:"/",p=o?o.pathnameBase:"/",f=o&&o.route;{let k=f&&f.path||"";QI(h,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let y=Jd(),g;g=y;let _=g.pathname||"/",b=_;if(p!=="/"){let k=p.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let T=Ed(n,{pathname:b});return ps(f||T!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),ps(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),jB(T&&T.map(k=>Object.assign({},k,{params:Object.assign({},s,k.params),pathname:Yc([p,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:Yc([p,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,t,i)}function $B(){let n=KI(),e=d0(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=We.createElement(We.Fragment,null,We.createElement("p",null,"💿 Hey developer 👋"),We.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",We.createElement("code",{style:a},"ErrorBoundary")," or"," ",We.createElement("code",{style:a},"errorElement")," prop on your route.")),We.createElement(We.Fragment,null,We.createElement("h2",null,"Unexpected Application Error!"),We.createElement("h3",{style:{fontStyle:"italic"}},e),t?We.createElement("pre",{style:r},t):null,o)}var zB=We.createElement($B,null),FB=class extends We.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?We.createElement(au.Provider,{value:this.props.routeContext},We.createElement(gT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BB({routeContext:n,match:e,children:t}){let i=We.useContext(Ep);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),We.createElement(au.Provider,{value:n},t)}function jB(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t==null?void 0:t.errors;if(a!=null){let h=r.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Ui(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let o=!1,s=-1;if(t)for(let h=0;h<r.length;h++){let p=r[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(s=h),p.route.id){let{loaderData:f,errors:y}=t,g=p.route.loader&&!f.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||g){o=!0,s>=0?r=r.slice(0,s+1):r=[r[0]];break}}}return r.reduceRight((h,p,f)=>{let y,g=!1,_=null,b=null;t&&(y=a&&p.route.id?a[p.route.id]:void 0,_=p.route.errorElement||zB,o&&(s<0&&f===0?(QI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):s===f&&(g=!0,b=p.route.hydrateFallbackElement||null)));let T=e.concat(r.slice(0,f+1)),E=()=>{let k;return y?k=_:g?k=b:p.route.Component?k=We.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=h,We.createElement(BB,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?We.createElement(FB,{location:t.location,revalidation:t.revalidation,component:_,error:y,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}function vT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UB(n){let e=We.useContext(Ep);return Ui(e,vT(n)),e}function GB(n){let e=We.useContext(Qy);return Ui(e,vT(n)),e}function YB(n){let e=We.useContext(au);return Ui(e,vT(n)),e}function xT(n){let e=YB(n),t=e.matches[e.matches.length-1];return Ui(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function VB(){return xT("useRouteId")}function KI(){var i;let n=We.useContext(gT),e=GB("useRouteError"),t=xT("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function qB(){let{router:n}=UB("useNavigate"),e=xT("useNavigate"),t=We.useRef(!1);return ZI(()=>{t.current=!0}),We.useCallback(async(r,a={})=>{ps(t.current,XI),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var YE={};function QI(n,e,t){!e&&!YE[n]&&(YE[n]=!0,ps(!1,t))}var VE={};function qE(n,e){!n&&!VE[e]&&(VE[e]=!0,console.warn(e))}function WB(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&ps(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:We.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&ps(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:We.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&ps(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:We.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var HB=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function XB({router:n,flushSync:e}){let[t,i]=We.useState(n.state),[r,a]=We.useState(),[o,s]=We.useState({isTransitioning:!1}),[h,p]=We.useState(),[f,y]=We.useState(),[g,_]=We.useState(),b=We.useRef(new Map),T=We.useCallback((w,{deletedFetchers:N,flushSync:C,viewTransitionOpts:L})=>{w.fetchers.forEach((W,X)=>{W.data!==void 0&&b.current.set(X,W.data)}),N.forEach(W=>b.current.delete(W)),qE(C===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(qE(L==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!O){e&&C?e(()=>i(w)):We.startTransition(()=>i(w));return}if(e&&C){e(()=>{f&&(h&&h.resolve(),f.skipTransition()),s({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let W=n.window.document.startViewTransition(()=>{e(()=>i(w))});W.finished.finally(()=>{e(()=>{p(void 0),y(void 0),a(void 0),s({isTransitioning:!1})})}),e(()=>y(W));return}f?(h&&h.resolve(),f.skipTransition(),_({state:w,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(w),s({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,e,f,h]);We.useLayoutEffect(()=>n.subscribe(T),[n,T]),We.useEffect(()=>{o.isTransitioning&&!o.flushSync&&p(new HB)},[o]),We.useEffect(()=>{if(h&&r&&n.window){let w=r,N=h.promise,C=n.window.document.startViewTransition(async()=>{We.startTransition(()=>i(w)),await N});C.finished.finally(()=>{p(void 0),y(void 0),a(void 0),s({isTransitioning:!1})}),y(C)}},[r,h,n.window]),We.useEffect(()=>{h&&r&&t.location.key===r.location.key&&h.resolve()},[h,f,t.location,r]),We.useEffect(()=>{!o.isTransitioning&&g&&(a(g.state),s({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),_(void 0))},[o.isTransitioning,g]);let E=We.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,N,C)=>n.navigate(w,{state:N,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(w,N,C)=>n.navigate(w,{replace:!0,state:N,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[n]),k=n.basename||"/",v=We.useMemo(()=>({router:n,navigator:E,static:!1,basename:k}),[n,E,k]);return We.createElement(We.Fragment,null,We.createElement(Ep.Provider,{value:v},We.createElement(Qy.Provider,{value:t},We.createElement(HI.Provider,{value:b.current},We.createElement(fT.Provider,{value:o},We.createElement(JB,{basename:k,location:t.location,navigationType:t.historyAction,navigator:E},We.createElement(ZB,{routes:n.routes,future:n.future,state:t})))))),null)}var ZB=We.memo(KB);function KB({routes:n,future:e,state:t}){return RB(n,void 0,t,e)}function QB(n){return OB(n.context)}function JB({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){Ui(!Jy(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),s=We.useMemo(()=>({basename:o,navigator:r,static:a,future:{}}),[o,r,a]);typeof t=="string"&&(t=Ju(t));let{pathname:h="/",search:p="",hash:f="",state:y=null,key:g="default"}=t,_=We.useMemo(()=>{let b=dc(h,o);return b==null?null:{location:{pathname:b,search:p,hash:f,state:y,key:g},navigationType:i}},[o,h,p,f,y,g,i]);return ps(_!=null,`<Router basename="${o}"> is not able to match the URL "${h}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:We.createElement(ru.Provider,{value:s},We.createElement(h0.Provider,{children:e,value:_}))}var qx="get",Wx="application/x-www-form-urlencoded";function p0(n){return n!=null&&typeof n.tagName=="string"}function ej(n){return p0(n)&&n.tagName.toLowerCase()==="button"}function tj(n){return p0(n)&&n.tagName.toLowerCase()==="form"}function nj(n){return p0(n)&&n.tagName.toLowerCase()==="input"}function ij(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rj(n,e){return n.button===0&&(!e||e==="_self")&&!ij(n)}var vx=null;function aj(){if(vx===null)try{new FormData(document.createElement("form"),0),vx=!1}catch{vx=!0}return vx}var sj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X_(n){return n!=null&&!sj.has(n)?(ps(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wx}"`),null):n}function oj(n,e){let t,i,r,a,o;if(tj(n)){let s=n.getAttribute("action");i=s?dc(s,e):null,t=n.getAttribute("method")||qx,r=X_(n.getAttribute("enctype"))||Wx,a=new FormData(n)}else if(ej(n)||nj(n)&&(n.type==="submit"||n.type==="image")){let s=n.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||s.getAttribute("action");if(i=h?dc(h,e):null,t=n.getAttribute("formmethod")||s.getAttribute("method")||qx,r=X_(n.getAttribute("formenctype"))||X_(s.getAttribute("enctype"))||Wx,a=new FormData(s,n),!aj()){let{name:p,type:f,value:y}=n;if(f==="image"){let g=p?`${p}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else p&&a.append(p,y)}}else{if(p0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qx,i=null,r=Wx,o=n}return a&&r==="text/plain"&&(o=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:o}}function bT(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function lj(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cj(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function uj(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let o=await lj(a,t);return o.links?o.links():[]}return[]}));return mj(i.flat(1).filter(cj).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function WE(n,e,t,i,r,a){let o=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,s=(h,p)=>{var f;return t[p].pathname!==h.pathname||((f=t[p].route.path)==null?void 0:f.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>o(h,p)||s(h,p)):a==="data"?e.filter((h,p)=>{var y;let f=i.routes[h.route.id];if(!f||!f.hasLoader)return!1;if(o(h,p)||s(h,p))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function dj(n,e){return hj(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function hj(n){return[...new Set(n)]}function pj(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function mj(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(pj(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function fj(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function gj(){let n=We.useContext(Ep);return bT(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yj(){let n=We.useContext(Qy);return bT(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _T=We.createContext(void 0);_T.displayName="FrameworkContext";function JI(){let n=We.useContext(_T);return bT(n,"You must render this element inside a <HydratedRouter> element"),n}function vj(n,e){let t=We.useContext(_T),[i,r]=We.useState(!1),[a,o]=We.useState(!1),{onFocus:s,onBlur:h,onMouseEnter:p,onMouseLeave:f,onTouchStart:y}=e,g=We.useRef(null);We.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let T=k=>{k.forEach(v=>{o(v.isIntersecting)})},E=new IntersectionObserver(T,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[n]),We.useEffect(()=>{if(i){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[i]);let _=()=>{r(!0)},b=()=>{r(!1),o(!1)};return t?n!=="intent"?[a,g,{}]:[a,g,{onFocus:Gg(s,_),onBlur:Gg(h,b),onMouseEnter:Gg(p,_),onMouseLeave:Gg(f,b),onTouchStart:Gg(y,_)}]:[!1,g,{}]}function Gg(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xj({page:n,...e}){let{router:t}=gj(),i=We.useMemo(()=>Ed(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?We.createElement(_j,{page:n,matches:i,...e}):null}function bj(n){let{manifest:e,routeModules:t}=JI(),[i,r]=We.useState([]);return We.useEffect(()=>{let a=!1;return uj(n,e,t).then(o=>{a||r(o)}),()=>{a=!0}},[n,e,t]),i}function _j({page:n,matches:e,...t}){let i=Jd(),{manifest:r,routeModules:a}=JI(),{loaderData:o,matches:s}=yj(),h=We.useMemo(()=>WE(n,e,s,r,i,"data"),[n,e,s,r,i]),p=We.useMemo(()=>WE(n,e,s,r,i,"assets"),[n,e,s,r,i]),f=We.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,b=!1;if(e.forEach(E=>{var v;let k=r.routes[E.route.id];!k||!k.hasLoader||(!h.some(w=>w.route.id===E.route.id)&&E.route.id in o&&((v=a[E.route.id])!=null&&v.shouldRevalidate)||k.hasClientLoader?b=!0:_.add(E.route.id))}),_.size===0)return[];let T=fj(n);return b&&_.size>0&&T.searchParams.set("_routes",e.filter(E=>_.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[o,i,r,h,e,n,a]),y=We.useMemo(()=>dj(p,r),[p,r]),g=bj(p);return We.createElement(We.Fragment,null,f.map(_=>We.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>We.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),g.map(({key:_,link:b})=>We.createElement("link",{key:_,...b})))}function wj(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var eA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eA&&(window.__reactRouterVersion="7.1.3")}catch{}function Tj(n,e){return hB({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:RF({window:e==null?void 0:e.window}),hydrationData:Sj(),routes:n,mapRouteProperties:WB,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Sj(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Cj(n.errors)}),n}function Cj(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")t[i]=new vb(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let a=window[r.__subType];if(typeof a=="function")try{let o=new a(r.message);o.stack="",t[i]=o}catch{}}if(t[i]==null){let a=new Error(r.message);a.stack="",t[i]=a}}else t[i]=r;return t}var tA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wT=We.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:o,state:s,target:h,to:p,preventScrollReset:f,viewTransition:y,...g},_){let{basename:b}=We.useContext(ru),T=typeof p=="string"&&tA.test(p),E,k=!1;if(typeof p=="string"&&T&&(E=p,eA))try{let X=new URL(window.location.href),H=p.startsWith("//")?new URL(X.protocol+p):new URL(p),$=dc(H.pathname,b);H.origin===X.origin&&$!=null?p=$+H.search+H.hash:k=!0}catch{ps(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=PB(p,{relative:r}),[w,N,C]=vj(i,g),L=Nj(p,{replace:o,state:s,target:h,preventScrollReset:f,relative:r,viewTransition:y});function O(X){e&&e(X),X.defaultPrevented||L(X)}let W=We.createElement("a",{...g,...C,href:E||v,onClick:k||a?e:O,ref:wj(_,N),target:h,"data-discover":!T&&t==="render"?"true":void 0});return w&&!T?We.createElement(We.Fragment,null,W,We.createElement(xj,{page:v})):W});wT.displayName="Link";var Ej=We.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:o,viewTransition:s,children:h,...p},f){let y=kf(o,{relative:p.relative}),g=Jd(),_=We.useContext(Qy),{navigator:b,basename:T}=We.useContext(ru),E=_!=null&&Dj(y)&&s===!0,k=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,v=g.pathname,w=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(v=v.toLowerCase(),w=w?w.toLowerCase():null,k=k.toLowerCase()),w&&T&&(w=dc(w,T)||w);const N=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let C=v===k||!r&&v.startsWith(k)&&v.charAt(N)==="/",L=w!=null&&(w===k||!r&&w.startsWith(k)&&w.charAt(k.length)==="/"),O={isActive:C,isPending:L,isTransitioning:E},W=C?e:void 0,X;typeof i=="function"?X=i(O):X=[i,C?"active":null,L?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let H=typeof a=="function"?a(O):a;return We.createElement(wT,{...p,"aria-current":W,className:X,ref:f,style:H,to:o,viewTransition:s},typeof h=="function"?h(O):h)});Ej.displayName="NavLink";var kj=We.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:o=qx,action:s,onSubmit:h,relative:p,preventScrollReset:f,viewTransition:y,...g},_)=>{let b=Pj(),T=Mj(s,{relative:p}),E=o.toLowerCase()==="get"?"get":"post",k=typeof s=="string"&&tA.test(s),v=w=>{if(h&&h(w),w.defaultPrevented)return;w.preventDefault();let N=w.nativeEvent.submitter,C=(N==null?void 0:N.getAttribute("formmethod"))||o;b(N||w.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:r,state:a,relative:p,preventScrollReset:f,viewTransition:y})};return We.createElement("form",{ref:_,method:E,action:T,onSubmit:i?h:v,...g,"data-discover":!k&&n==="render"?"true":void 0})});kj.displayName="Form";function Lj(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nA(n){let e=We.useContext(Ep);return Ui(e,Lj(n)),e}function Nj(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:o}={}){let s=yT(),h=Jd(),p=kf(n,{relative:a});return We.useCallback(f=>{if(rj(f,e)){f.preventDefault();let y=t!==void 0?t:jd(h)===jd(p);s(n,{replace:y,state:i,preventScrollReset:r,relative:a,viewTransition:o})}},[h,s,p,t,i,e,n,r,a,o])}var Ij=0,Aj=()=>`__${String(++Ij)}__`;function Pj(){let{router:n}=nA("useSubmit"),{basename:e}=We.useContext(ru),t=VB();return We.useCallback(async(i,r={})=>{let{action:a,method:o,encType:s,formData:h,body:p}=oj(i,e);if(r.navigate===!1){let f=r.fetcherKey||Aj();await n.fetch(f,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:h,body:p,formMethod:r.method||o,formEncType:r.encType||s,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:h,body:p,formMethod:r.method||o,formEncType:r.encType||s,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function Mj(n,{relative:e}={}){let{basename:t}=We.useContext(ru),i=We.useContext(au);Ui(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...kf(n||".",{relative:e})},o=Jd();if(n==null){a.search=o.search;let s=new URLSearchParams(a.search),h=s.getAll("index");if(h.some(f=>f==="")){s.delete("index"),h.filter(y=>y).forEach(y=>s.append("index",y));let f=s.toString();a.search=f?`?${f}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Yc([t,a.pathname])),jd(a)}function Dj(n,e={}){let t=We.useContext(fT);Ui(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=nA("useViewTransitionState"),r=kf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=dc(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=dc(t.nextLocation.pathname,i)||t.nextLocation.pathname;return yb(r.pathname,o)!=null||yb(r.pathname,a)!=null}new TextEncoder;/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oj(n){return We.createElement(XB,{flushSync:rR.flushSync,...n})}const Rj="_container_15gm6_6",$j="_sidebar_15gm6_13",zj="_content_15gm6_20",Fj="_menuTitle_15gm6_25",Yg={container:Rj,sidebar:$j,content:zj,menuTitle:Fj},Bj={routes:{resource:"routes",params:{paging:!1,filter:"code:eq:chap",fields:"*"}}},TT=()=>{var i;const{data:n,loading:e,error:t}=Ao(Bj);return{route:(i=n==null?void 0:n.routes)==null?void 0:i.routes[0],error:t,loading:e}},jj="_warningMargin_my6pr_1",Uj={warningMargin:jj},Gj=()=>{const{loading:n,route:e,error:t}=TT();return _f(),!e&&!n&&window.location.pathname.split("/")[1]!="route"?Ye.jsx("div",{className:Uj.warningMargin,children:Ye.jsxs(aR,{warning:!0,title:"Missing route",children:["No route for CHAP was found. Functionality is limited."," ",Ye.jsx(wT,{to:"/route/create-route",children:"Create route ➔"})]})}):Ye.jsx(Ye.Fragment,{})},Yj="_footer_18ayc_1",Vj="_title_18ayc_7",HE={footer:Yj,title:Vj},qj=(n,e,t)=>({resource:`dataStore/chap/${e}`,type:t,id:"",data:n}),Wj=(n,e,t)=>{const[i,{error:r,loading:a,called:o}]=mb(qj(n,e,t));return{error:r,loading:a,called:o,mutate:i}},Hj=({baseURL:n,existingUrl:e,setIsOpen:t})=>{const{called:i,error:r,loading:a,mutate:o}=Wj({url:n},"backend-url",e==null?"create":"update"),s=async()=>{await o(),window.location.reload()};return We.useEffect(()=>{s()},[]),Ye.jsx("p",{children:"Saving.."})},Xj=({setOpen:n,existingUrl:e,loading:t,fetching:i})=>{const[r,a]=We.useState(""),s=_f().baseUrl+"/api/routes/chap/run",[h,p]=We.useState(!1),f=g=>{a(g)},y=()=>{p(!0)};return We.useEffect(()=>{e&&!t&&!i&&a(e)},[t,e,i]),Ye.jsx(Ye.Fragment,{children:Ye.jsxs(dN,{children:[Ye.jsx("div",{className:HE.title,children:"Edit url to CHAP-Core backend server"}),Ye.jsxs("p",{children:["Use this setting when you do not have CHAP installed as a backend server, but have a running instance of CHAP Core on the local machine. If not set, Prediction App use the default value: ",Ye.jsx("i",{children:s})]}),Ye.jsx(qb,{disabled:i,value:r,onChange:g=>f(g.value),placeholder:i?"Loading..":"http://localhost:8000"}),Ye.jsxs("div",{className:HE.footer,children:[Ye.jsx($a,{onClick:()=>n(!1),children:"Close"}),Ye.jsx($a,{icon:Ye.jsx(C1,{}),onClick:y,primary:!0,children:"Save"})]}),h&&Ye.jsx(Hj,{setIsOpen:n,baseURL:r,existingUrl:e})]})})},Zj=n=>({request:{resource:`dataStore/chap/${n}`}}),Kj=n=>{var s;const{data:e,loading:t,error:i,fetching:r,engine:a,refetch:o}=Ao(Zj(n));return{url:(s=e==null?void 0:e.request)==null?void 0:s.url,error:i,loading:t,fetching:r,refetch:o}};var iA={exports:{}};(function(n){(function(e,t){n.exports?(t.default=t,n.exports=e&&e.document?t(e):t):(e.Highcharts&&e.Highcharts.error(16,!0),e.Highcharts=t(e))})(typeof window<"u"?window:bo,function(e){var t={};function i(r,a,o,s){!r.hasOwnProperty(a)&&(r[a]=s.apply(null,o),e&&typeof CustomEvent=="function"&&e.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:a,module:r[a]}})))}return i(t,"Core/Globals.js",[],function(){var r,a;return(a=r||(r={})).SVG_NS="http://www.w3.org/2000/svg",a.product="Highcharts",a.version="11.4.8",a.win=e!==void 0?e:{},a.doc=a.win.document,a.svg=a.doc&&a.doc.createElementNS&&!!a.doc.createElementNS(a.SVG_NS,"svg").createSVGRect,a.userAgent=a.win.navigator&&a.win.navigator.userAgent||"",a.isChrome=a.win.chrome,a.isFirefox=a.userAgent.indexOf("Firefox")!==-1,a.isMS=/(edge|msie|trident)/i.test(a.userAgent)&&!a.win.opera,a.isSafari=!a.isChrome&&a.userAgent.indexOf("Safari")!==-1,a.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(a.userAgent),a.isWebKit=a.userAgent.indexOf("AppleWebKit")!==-1,a.deg2rad=2*Math.PI/360,a.hasBidiBug=a.isFirefox&&4>parseInt(a.userAgent.split("Firefox/")[1],10),a.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],a.noop=function(){},a.supportsPassiveEvents=function(){let o=!1;if(!a.isMS){let s=Object.defineProperty({},"passive",{get:function(){o=!0}});a.win.addEventListener&&a.win.removeEventListener&&(a.win.addEventListener("testPassive",a.noop,s),a.win.removeEventListener("testPassive",a.noop,s))}return o}(),a.charts=[],a.composed=[],a.dateFormats={},a.seriesTypes={},a.symbolSizes={},a.chartCount=0,r}),i(t,"Core/Utilities.js",[t["Core/Globals.js"]],function(r){let a,{charts:o,doc:s,win:h}=r;function p(D,M,Y,B){let z=M?"Highcharts error":"Highcharts warning";D===32&&(D=`${z}: Deprecated member`);let q=E(D),V=q?`${z} #${D}: www.highcharts.com/errors/${D}/`:D.toString();if(B!==void 0){let te="";q&&(V+="?"),H(B,function(ce,ie){te+=`
 - ${ie}: ${ce}`,q&&(V+=encodeURI(ie)+"="+encodeURI(ce))}),V+=te}G(r,"displayError",{chart:Y,code:D,message:V,params:B},function(){if(M)throw Error(V);h.console&&p.messages.indexOf(V)===-1&&console.warn(V)}),p.messages.push(V)}function f(D,M){return parseInt(D,M||10)}function y(D){return typeof D=="string"}function g(D){let M=Object.prototype.toString.call(D);return M==="[object Array]"||M==="[object Array Iterator]"}function _(D,M){return!!D&&typeof D=="object"&&(!M||!g(D))}function b(D){return _(D)&&typeof D.nodeType=="number"}function T(D){let M=D&&D.constructor;return!!(_(D,!0)&&!b(D)&&M&&M.name&&M.name!=="Object")}function E(D){return typeof D=="number"&&!isNaN(D)&&D<1/0&&D>-1/0}function k(D){return D!=null}function v(D,M,Y){let B,z=y(M)&&!k(Y),q=(V,te)=>{k(V)?D.setAttribute(te,V):z?(B=D.getAttribute(te))||te!=="class"||(B=D.getAttribute(te+"Name")):D.removeAttribute(te)};return y(M)?q(Y,M):H(M,q),B}function w(D){return g(D)?D:[D]}function N(D,M){let Y;for(Y in D||(D={}),M)D[Y]=M[Y];return D}function C(){let D=arguments,M=D.length;for(let Y=0;Y<M;Y++){let B=D[Y];if(B!=null)return B}}function L(D,M){N(D.style,M)}function O(D){return Math.pow(10,Math.floor(Math.log(D)/Math.LN10))}function W(D,M){return D>1e14?D:parseFloat(D.toPrecision(M||14))}p.messages=[],Math.easeInOutSine=function(D){return-.5*(Math.cos(Math.PI*D)-1)};let X=Array.prototype.find?function(D,M){return D.find(M)}:function(D,M){let Y,B=D.length;for(Y=0;Y<B;Y++)if(M(D[Y],Y))return D[Y]};function H(D,M,Y){for(let B in D)Object.hasOwnProperty.call(D,B)&&M.call(Y||D[B],D[B],B,D)}function $(D,M,Y){function B(V,te){let ce=D.removeEventListener;ce&&ce.call(D,V,te,!1)}function z(V){let te,ce;D.nodeName&&(M?(te={})[M]=!0:te=V,H(te,function(ie,se){if(V[se])for(ce=V[se].length;ce--;)B(se,V[se][ce].fn)}))}let q=typeof D=="function"&&D.prototype||D;if(Object.hasOwnProperty.call(q,"hcEvents")){let V=q.hcEvents;if(M){let te=V[M]||[];Y?(V[M]=te.filter(function(ce){return Y!==ce.fn}),B(M,Y)):(z(V),V[M]=[])}else z(V),delete q.hcEvents}}function G(D,M,Y,B){if(Y=Y||{},s.createEvent&&(D.dispatchEvent||D.fireEvent&&D!==r)){let z=s.createEvent("Events");z.initEvent(M,!0,!0),Y=N(z,Y),D.dispatchEvent?D.dispatchEvent(Y):D.fireEvent(M,Y)}else if(D.hcEvents){Y.target||N(Y,{preventDefault:function(){Y.defaultPrevented=!0},target:D,type:M});let z=[],q=D,V=!1;for(;q.hcEvents;)Object.hasOwnProperty.call(q,"hcEvents")&&q.hcEvents[M]&&(z.length&&(V=!0),z.unshift.apply(z,q.hcEvents[M])),q=Object.getPrototypeOf(q);V&&z.sort((te,ce)=>te.order-ce.order),z.forEach(te=>{te.fn.call(D,Y)===!1&&Y.preventDefault()})}B&&!Y.defaultPrevented&&B.call(D,Y)}H({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(D,M){r[M]=function(Y){return p(32,!1,void 0,{[`Highcharts.${M}`]:`use Array.${D}`}),Array.prototype[D].apply(Y,[].slice.call(arguments,1))}});let j=function(){let D=Math.random().toString(36).substring(2,9)+"-",M=0;return function(){return"highcharts-"+(a?"":D)+M++}}();return h.jQuery&&(h.jQuery.fn.highcharts=function(){let D=[].slice.call(arguments);if(this[0])return D[0]?(new r[y(D[0])?D.shift():"Chart"](this[0],D[0],D[1]),this):o[v(this[0],"data-highcharts-chart")]}),{addEvent:function(D,M,Y,B={}){let z=typeof D=="function"&&D.prototype||D;Object.hasOwnProperty.call(z,"hcEvents")||(z.hcEvents={});let q=z.hcEvents;r.Point&&D instanceof r.Point&&D.series&&D.series.chart&&(D.series.chart.runTrackerClick=!0);let V=D.addEventListener;V&&V.call(D,M,Y,!!r.supportsPassiveEvents&&{passive:B.passive===void 0?M.indexOf("touch")!==-1:B.passive,capture:!1}),q[M]||(q[M]=[]);let te={fn:Y,order:typeof B.order=="number"?B.order:1/0};return q[M].push(te),q[M].sort((ce,ie)=>ce.order-ie.order),function(){$(D,M,Y)}},arrayMax:function(D){let M=D.length,Y=D[0];for(;M--;)D[M]>Y&&(Y=D[M]);return Y},arrayMin:function(D){let M=D.length,Y=D[0];for(;M--;)D[M]<Y&&(Y=D[M]);return Y},attr:v,clamp:function(D,M,Y){return D>M?D<Y?D:Y:M},clearTimeout:function(D){k(D)&&clearTimeout(D)},correctFloat:W,createElement:function(D,M,Y,B,z){let q=s.createElement(D);return M&&N(q,M),z&&L(q,{padding:"0",border:"none",margin:"0"}),Y&&L(q,Y),B&&B.appendChild(q),q},crisp:(D,M=0,Y)=>{let B=M%2/2,z=Y?-1:1;return(Math.round(D*z-B)+B)*z},css:L,defined:k,destroyObjectProperties:function(D,M,Y){H(D,function(B,z){B!==M&&(B!=null&&B.destroy)&&B.destroy(),(B!=null&&B.destroy||!Y)&&delete D[z]})},diffObjects:function(D,M,Y,B){let z={};return function q(V,te,ce,ie){let se=Y?te:V;H(V,function(Ce,pe){if(!ie&&B&&B.indexOf(pe)>-1&&te[pe]){Ce=w(Ce),ce[pe]=[];for(let we=0;we<Math.max(Ce.length,te[pe].length);we++)te[pe][we]&&(Ce[we]===void 0?ce[pe][we]=te[pe][we]:(ce[pe][we]={},q(Ce[we],te[pe][we],ce[pe][we],ie+1)))}else _(Ce,!0)&&!Ce.nodeType?(ce[pe]=g(Ce)?[]:{},q(Ce,te[pe]||{},ce[pe],ie+1),Object.keys(ce[pe]).length!==0||pe==="colorAxis"&&ie===0||delete ce[pe]):(V[pe]!==te[pe]||pe in V&&!(pe in te))&&pe!=="__proto__"&&pe!=="constructor"&&(ce[pe]=se[pe])})}(D,M,z,0),z},discardElement:function(D){D&&D.parentElement&&D.parentElement.removeChild(D)},erase:function(D,M){let Y=D.length;for(;Y--;)if(D[Y]===M){D.splice(Y,1);break}},error:p,extend:N,extendClass:function(D,M){let Y=function(){};return Y.prototype=new D,N(Y.prototype,M),Y},find:X,fireEvent:G,getClosestDistance:function(D,M){let Y,B,z,q=!M;return D.forEach(V=>{if(V.length>1)for(z=V.length-1;z>0;z--)(B=V[z]-V[z-1])<0&&!q?(M==null||M(),M=void 0):B&&(Y===void 0||B<Y)&&(Y=B)}),Y},getMagnitude:O,getNestedProperty:function(D,M){let Y=D.split(".");for(;Y.length&&k(M);){let B=Y.shift();if(B===void 0||B==="__proto__")return;if(B==="this"){let q;return _(M)&&(q=M["@this"]),q??M}let z=M[B];if(!k(z)||typeof z=="function"||typeof z.nodeType=="number"||z===h)return;M=z}return M},getStyle:function D(M,Y,B){let z;if(Y==="width"){let V=Math.min(M.offsetWidth,M.scrollWidth),te=M.getBoundingClientRect&&M.getBoundingClientRect().width;return te<V&&te>=V-1&&(V=Math.floor(te)),Math.max(0,V-(D(M,"padding-left",!0)||0)-(D(M,"padding-right",!0)||0))}if(Y==="height")return Math.max(0,Math.min(M.offsetHeight,M.scrollHeight)-(D(M,"padding-top",!0)||0)-(D(M,"padding-bottom",!0)||0));let q=h.getComputedStyle(M,void 0);return q&&(z=q.getPropertyValue(Y),C(B,Y!=="opacity")&&(z=f(z))),z},inArray:function(D,M,Y){return p(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),M.indexOf(D,Y)},insertItem:function(D,M){let Y,B=D.options.index,z=M.length;for(Y=D.options.isInternal?z:0;Y<z+1;Y++)if(!M[Y]||E(B)&&B<C(M[Y].options.index,M[Y]._i)||M[Y].options.isInternal){M.splice(Y,0,D);break}return Y},isArray:g,isClass:T,isDOMElement:b,isFunction:function(D){return typeof D=="function"},isNumber:E,isObject:_,isString:y,keys:function(D){return p(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(D)},merge:function(){let D,M=arguments,Y={},B=function(q,V){return typeof q!="object"&&(q={}),H(V,function(te,ce){ce!=="__proto__"&&ce!=="constructor"&&(!_(te,!0)||T(te)||b(te)?q[ce]=V[ce]:q[ce]=B(q[ce]||{},te))}),q};M[0]===!0&&(Y=M[1],M=Array.prototype.slice.call(M,2));let z=M.length;for(D=0;D<z;D++)Y=B(Y,M[D]);return Y},normalizeTickInterval:function(D,M,Y,B,z){let q,V=D;Y=C(Y,O(D));let te=D/Y;for(!M&&(M=z?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],B===!1&&(Y===1?M=M.filter(function(ce){return ce%1==0}):Y<=.1&&(M=[1/Y]))),q=0;q<M.length&&(V=M[q],(!z||!(V*Y>=D))&&(z||!(te<=(M[q]+(M[q+1]||M[q]))/2)));q++);return W(V*Y,-Math.round(Math.log(.001)/Math.LN10))},objectEach:H,offset:function(D){let M=s.documentElement,Y=D.parentElement||D.parentNode?D.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:Y.top+(h.pageYOffset||M.scrollTop)-(M.clientTop||0),left:Y.left+(h.pageXOffset||M.scrollLeft)-(M.clientLeft||0),width:Y.width,height:Y.height}},pad:function(D,M,Y){return Array((M||2)+1-String(D).replace("-","").length).join(Y||"0")+D},pick:C,pInt:f,pushUnique:function(D,M){return 0>D.indexOf(M)&&!!D.push(M)},relativeLength:function(D,M,Y){return/%$/.test(D)?M*parseFloat(D)/100+(Y||0):parseFloat(D)},removeEvent:$,replaceNested:function(D,...M){let Y,B;do for(B of(Y=D,M))D=D.replace(B[0],B[1]);while(D!==Y);return D},splat:w,stableSort:function(D,M){let Y,B,z=D.length;for(B=0;B<z;B++)D[B].safeI=B;for(D.sort(function(q,V){return(Y=M(q,V))===0?q.safeI-V.safeI:Y}),B=0;B<z;B++)delete D[B].safeI},syncTimeout:function(D,M,Y){return M>0?setTimeout(D,M,Y):(D.call(0,Y),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:j,useSerialIds:function(D){return a=C(D,a)},wrap:function(D,M,Y){let B=D[M];D[M]=function(){let z=arguments,q=this;return Y.apply(this,[function(){return B.apply(q,arguments.length?arguments:z)}].concat([].slice.call(arguments)))}}}}),i(t,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),i(t,"Core/Color/Palettes.js",[],function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}}),i(t,"Core/Time.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{win:o}=r,{defined:s,error:h,extend:p,isNumber:f,isObject:y,merge:g,objectEach:_,pad:b,pick:T,splat:E,timeUnits:k}=a,v=r.isSafari&&o.Intl&&o.Intl.DateTimeFormat.prototype.formatRange,w=r.isSafari&&o.Intl&&!o.Intl.DateTimeFormat.prototype.formatRange;class N{constructor(L){this.options={},this.useUTC=!1,this.variableTimezone=!1,this.Date=o.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(L)}get(L,O){if(this.variableTimezone||this.timezoneOffset){let W=O.getTime(),X=W-this.getTimezoneOffset(O);O.setTime(X);let H=O["getUTC"+L]();return O.setTime(W),H}return this.useUTC?O["getUTC"+L]():O["get"+L]()}set(L,O,W){if(this.variableTimezone||this.timezoneOffset){if(L==="Milliseconds"||L==="Seconds"||L==="Minutes"&&this.getTimezoneOffset(O)%36e5==0)return O["setUTC"+L](W);let X=this.getTimezoneOffset(O),H=O.getTime()-X;O.setTime(H),O["setUTC"+L](W);let $=this.getTimezoneOffset(O);return H=O.getTime()+$,O.setTime(H)}return this.useUTC||v&&L==="FullYear"?O["setUTC"+L](W):O["set"+L](W)}update(L={}){let O=T(L.useUTC,!0);this.options=L=g(!0,this.options,L),this.Date=L.Date||o.Date||Date,this.useUTC=O,this.timezoneOffset=O&&L.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=O&&!!(L.getTimezoneOffset||L.timezone)}makeTime(L,O,W,X,H,$){let G,j,D;return this.useUTC?(G=this.Date.UTC.apply(0,arguments),j=this.getTimezoneOffset(G),G+=j,j!==(D=this.getTimezoneOffset(G))?G+=D-j:j-36e5!==this.getTimezoneOffset(G-36e5)||w||(G-=36e5)):G=new this.Date(L,O,T(W,1),T(X,0),T(H,0),T($,0)).getTime(),G}timezoneOffsetFunction(){let L=this,O=this.options,W=O.getTimezoneOffset;return this.useUTC?O.timezone?X=>{try{let H=`shortOffset,${O.timezone||""}`,[$,G,j,D,M=0]=(N.formatCache[H]=N.formatCache[H]||Intl.DateTimeFormat("en",{timeZone:O.timezone,timeZoneName:"shortOffset"})).format(X).split(/(GMT|:)/).map(Number),Y=-(36e5*(j+M/60));if(f(Y))return Y}catch{h(34)}return 0}:this.useUTC&&W?X=>6e4*W(X.valueOf()):()=>6e4*(L.timezoneOffset||0):X=>6e4*new Date(X.toString()).getTimezoneOffset()}dateFormat(L,O,W){if(!s(O)||isNaN(O))return r.defaultOptions.lang&&r.defaultOptions.lang.invalidDate||"";L=T(L,"%Y-%m-%d %H:%M:%S");let X=this,H=new this.Date(O),$=this.get("Hours",H),G=this.get("Day",H),j=this.get("Date",H),D=this.get("Month",H),M=this.get("FullYear",H),Y=r.defaultOptions.lang,B=Y&&Y.weekdays,z=Y&&Y.shortWeekdays;return _(p({a:z?z[G]:B[G].substr(0,3),A:B[G],d:b(j),e:b(j,2," "),w:G,b:Y.shortMonths[D],B:Y.months[D],m:b(D+1),o:D+1,y:M.toString().substr(2,2),Y:M,H:b($),k:$,I:b($%12||12),l:$%12||12,M:b(this.get("Minutes",H)),p:$<12?"AM":"PM",P:$<12?"am":"pm",S:b(this.get("Seconds",H)),L:b(Math.floor(O%1e3),3)},r.dateFormats),function(q,V){for(;L.indexOf("%"+V)!==-1;)L=L.replace("%"+V,typeof q=="function"?q.call(X,O):q)}),W?L.substr(0,1).toUpperCase()+L.substr(1):L}resolveDTLFormat(L){return y(L,!0)?L:{main:(L=E(L))[0],from:L[1],to:L[2]}}getTimeTicks(L,O,W,X){let H,$,G,j,D=this,M=D.Date,Y=[],B={},z=new M(O),q=L.unitRange,V=L.count||1;if(X=T(X,1),s(O)){D.set("Milliseconds",z,q>=k.second?0:V*Math.floor(D.get("Milliseconds",z)/V)),q>=k.second&&D.set("Seconds",z,q>=k.minute?0:V*Math.floor(D.get("Seconds",z)/V)),q>=k.minute&&D.set("Minutes",z,q>=k.hour?0:V*Math.floor(D.get("Minutes",z)/V)),q>=k.hour&&D.set("Hours",z,q>=k.day?0:V*Math.floor(D.get("Hours",z)/V)),q>=k.day&&D.set("Date",z,q>=k.month?1:Math.max(1,V*Math.floor(D.get("Date",z)/V))),q>=k.month&&(D.set("Month",z,q>=k.year?0:V*Math.floor(D.get("Month",z)/V)),$=D.get("FullYear",z)),q>=k.year&&($-=$%V,D.set("FullYear",z,$)),q===k.week&&(j=D.get("Day",z),D.set("Date",z,D.get("Date",z)-j+X+(j<X?-7:0))),$=D.get("FullYear",z);let te=D.get("Month",z),ce=D.get("Date",z),ie=D.get("Hours",z);O=z.getTime(),(D.variableTimezone||!D.useUTC)&&s(W)&&(G=W-O>4*k.month||D.getTimezoneOffset(O)!==D.getTimezoneOffset(W));let se=z.getTime();for(H=1;se<W;)Y.push(se),q===k.year?se=D.makeTime($+H*V,0):q===k.month?se=D.makeTime($,te+H*V):G&&(q===k.day||q===k.week)?se=D.makeTime($,te,ce+H*V*(q===k.day?1:7)):G&&q===k.hour&&V>1?se=D.makeTime($,te,ce,ie+H*V):se+=q*V,H++;Y.push(se),q<=k.hour&&Y.length<1e4&&Y.forEach(function(Ce){Ce%18e5==0&&D.dateFormat("%H%M%S%L",Ce)==="000000000"&&(B[Ce]="day")})}return Y.info=p(L,{higherRanks:B,totalRange:q*V}),Y}getDateFormat(L,O,W,X){let H=this.dateFormat("%m-%d %H:%M:%S.%L",O),$="01-01 00:00:00.000",G={millisecond:15,second:12,minute:9,hour:6,day:3},j="millisecond",D=j;for(j in k){if(L===k.week&&+this.dateFormat("%w",O)===W&&H.substr(6)===$.substr(6)){j="week";break}if(k[j]>L){j=D;break}if(G[j]&&H.substr(G[j])!==$.substr(G[j]))break;j!=="week"&&(D=j)}return this.resolveDTLFormat(X[j]).main}}return N.formatCache={},N}),i(t,"Core/Defaults.js",[t["Core/Chart/ChartDefaults.js"],t["Core/Globals.js"],t["Core/Color/Palettes.js"],t["Core/Time.js"],t["Core/Utilities.js"]],function(r,a,o,s,h){let{isTouchDevice:p}=a,{fireEvent:f,merge:y}=h,g={colors:o.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:r,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:b=>Math.sqrt(1-Math.pow(b-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:p?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};g.chart.styledMode=!1;let _=new s(g.time);return{defaultOptions:g,defaultTime:_,getOptions:function(){return g},setOptions:function(b){return f(a,"setOptions",{options:b}),y(!0,g,b),(b.time||b.global)&&(a.time?a.time.update(y(g.global,g.time,b.global,b.time)):a.time=_),g}}}),i(t,"Core/Color/Color.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{isNumber:o,merge:s,pInt:h}=a;class p{static parse(y){return y?new p(y):p.None}constructor(y){let g,_,b,T;this.rgba=[NaN,NaN,NaN,NaN],this.input=y;let E=r.Color;if(E&&E!==p)return new E(y);if(typeof y=="object"&&y.stops!==void 0)this.stops=y.stops.map(k=>new p(k[1]));else if(typeof y=="string"){if(this.input=y=p.names[y.toLowerCase()]||y,y.charAt(0)==="#"){let k=y.length,v=parseInt(y.substr(1),16);k===7?_=[(16711680&v)>>16,(65280&v)>>8,255&v,1]:k===4&&(_=[(3840&v)>>4|(3840&v)>>8,(240&v)>>4|240&v,(15&v)<<4|15&v,1])}if(!_)for(b=p.parsers.length;b--&&!_;)(g=(T=p.parsers[b]).regex.exec(y))&&(_=T.parse(g))}_&&(this.rgba=_)}get(y){let g=this.input,_=this.rgba;if(typeof g=="object"&&this.stops!==void 0){let b=s(g);return b.stops=[].slice.call(b.stops),this.stops.forEach((T,E)=>{b.stops[E]=[b.stops[E][0],T.get(y)]}),b}return _&&o(_[0])?y!=="rgb"&&(y||_[3]!==1)?y==="a"?`${_[3]}`:"rgba("+_.join(",")+")":"rgb("+_[0]+","+_[1]+","+_[2]+")":g}brighten(y){let g=this.rgba;if(this.stops)this.stops.forEach(function(_){_.brighten(y)});else if(o(y)&&y!==0)for(let _=0;_<3;_++)g[_]+=h(255*y),g[_]<0&&(g[_]=0),g[_]>255&&(g[_]=255);return this}setOpacity(y){return this.rgba[3]=y,this}tweenTo(y,g){let _=this.rgba,b=y.rgba;if(!o(_[0])||!o(b[0]))return y.input||"none";let T=b[3]!==1||_[3]!==1;return(T?"rgba(":"rgb(")+Math.round(b[0]+(_[0]-b[0])*(1-g))+","+Math.round(b[1]+(_[1]-b[1])*(1-g))+","+Math.round(b[2]+(_[2]-b[2])*(1-g))+(T?","+(b[3]+(_[3]-b[3])*(1-g)):"")+")"}}return p.names={white:"#ffffff",black:"#000000"},p.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(f){return[h(f[1]),h(f[2]),h(f[3]),parseFloat(f[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(f){return[h(f[1]),h(f[2]),h(f[3]),1]}}],p.None=new p(""),p}),i(t,"Core/Animation/Fx.js",[t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){let{parse:s}=r,{win:h}=a,{isNumber:p,objectEach:f}=o;class y{constructor(_,b,T){this.pos=NaN,this.options=b,this.elem=_,this.prop=T}dSetter(){let _=this.paths,b=_&&_[0],T=_&&_[1],E=this.now||0,k=[];if(E!==1&&b&&T)if(b.length===T.length&&E<1)for(let v=0;v<T.length;v++){let w=b[v],N=T[v],C=[];for(let L=0;L<N.length;L++){let O=w[L],W=N[L];p(O)&&p(W)&&!(N[0]==="A"&&(L===4||L===5))?C[L]=O+E*(W-O):C[L]=W}k.push(C)}else k=T;else k=this.toD||[];this.elem.attr("d",k,void 0,!0)}update(){let _=this.elem,b=this.prop,T=this.now,E=this.options.step;this[b+"Setter"]?this[b+"Setter"]():_.attr?_.element&&_.attr(b,T,null,!0):_.style[b]=T+this.unit,E&&E.call(_,T,this)}run(_,b,T){let E=this,k=E.options,v=function(C){return!v.stopped&&E.step(C)},w=h.requestAnimationFrame||function(C){setTimeout(C,13)},N=function(){for(let C=0;C<y.timers.length;C++)y.timers[C]()||y.timers.splice(C--,1);y.timers.length&&w(N)};_!==b||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=_,this.end=b,this.unit=T,this.now=this.start,this.pos=0,v.elem=this.elem,v.prop=this.prop,v()&&y.timers.push(v)===1&&w(N)):(delete k.curAnim[this.prop],k.complete&&Object.keys(k.curAnim).length===0&&k.complete.call(this.elem))}step(_){let b,T,E=+new Date,k=this.options,v=this.elem,w=k.complete,N=k.duration,C=k.curAnim;return v.attr&&!v.element?b=!1:_||E>=N+this.startTime?(this.now=this.end,this.pos=1,this.update(),C[this.prop]=!0,T=!0,f(C,function(L){L!==!0&&(T=!1)}),T&&w&&w.call(v),b=!1):(this.pos=k.easing((E-this.startTime)/N),this.now=this.start+(this.end-this.start)*this.pos,this.update(),b=!0),b}initPath(_,b,T){let E=_.startX,k=_.endX,v=T.slice(),w=_.isArea,N=w?2:1,C=b&&T.length>b.length&&T.hasStackedCliffs,L,O,W,X,H=b&&b.slice();if(!H||C)return[v,v];function $(j,D){for(;j.length<O;){let M=j[0],Y=D[O-j.length];if(Y&&M[0]==="M"&&(Y[0]==="C"?j[0]=["C",M[1],M[2],M[1],M[2],M[1],M[2]]:j[0]=["L",M[1],M[2]]),j.unshift(M),w){let B=j.pop();j.push(j[j.length-1],B)}}}function G(j){for(;j.length<O;){let D=j[Math.floor(j.length/N)-1].slice();if(D[0]==="C"&&(D[1]=D[5],D[2]=D[6]),w){let M=j[Math.floor(j.length/N)].slice();j.splice(j.length/2,0,D,M)}else j.push(D)}}if(E&&k&&k.length){for(W=0;W<E.length;W++){if(E[W]===k[0]){L=W;break}if(E[0]===k[k.length-E.length+W]){L=W,X=!0;break}if(E[E.length-1]===k[k.length-E.length+W]){L=E.length-W;break}}L===void 0&&(H=[])}return H.length&&p(L)&&(O=v.length+L*N,X?($(H,v),G(v)):($(v,H),G(H))),[H,v]}fillSetter(){y.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,s(this.start).tweenTo(s(this.end),this.pos),void 0,!0)}}return y.timers=[],y}),i(t,"Core/Animation/AnimationUtilities.js",[t["Core/Animation/Fx.js"],t["Core/Utilities.js"]],function(r,a){let{defined:o,getStyle:s,isArray:h,isNumber:p,isObject:f,merge:y,objectEach:g,pick:_}=a;function b(E){return f(E)?y({duration:500,defer:0},E):{duration:E?500:0,defer:0}}function T(E,k){let v=r.timers.length;for(;v--;)r.timers[v].elem!==E||k&&k!==r.timers[v].prop||(r.timers[v].stopped=!0)}return{animate:function(E,k,v){let w,N="",C,L,O;f(v)||(O=arguments,v={duration:O[2],easing:O[3],complete:O[4]}),p(v.duration)||(v.duration=400),v.easing=typeof v.easing=="function"?v.easing:Math[v.easing]||Math.easeInOutSine,v.curAnim=y(k),g(k,function(W,X){T(E,X),L=new r(E,v,X),C=void 0,X==="d"&&h(k.d)?(L.paths=L.initPath(E,E.pathArray,k.d),L.toD=k.d,w=0,C=1):E.attr?w=E.attr(X):(w=parseFloat(s(E,X))||0,X!=="opacity"&&(N="px")),C||(C=W),typeof C=="string"&&C.match("px")&&(C=C.replace(/px/g,"")),L.run(w,C,N)})},animObject:b,getDeferredAnimation:function(E,k,v){let w=b(k),N=v?[v]:E.series,C=0,L=0;return N.forEach(O=>{let W=b(O.options.animation);C=f(k)&&o(k.defer)?w.defer:Math.max(C,W.duration+W.defer),L=Math.min(w.duration,W.duration)}),E.renderer.forExport&&(C=0),{defer:Math.max(0,C-L),duration:Math.min(C,L)}},setAnimation:function(E,k){k.renderer.globalAnimation=_(E,k.options.chart.animation,!0)},stop:T}}),i(t,"Core/Renderer/HTML/AST.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{SVG_NS:o,win:s}=r,{attr:h,createElement:p,css:f,error:y,isFunction:g,isString:_,objectEach:b,splat:T}=a,{trustedTypes:E}=s,k=E&&g(E.createPolicy)&&E.createPolicy("highcharts",{createHTML:C=>C}),v=k?k.createHTML(""):"",w=function(){try{return!!new DOMParser().parseFromString(v,"text/html")}catch{return!1}}();class N{static filterUserAttributes(L){return b(L,(O,W)=>{let X=!0;N.allowedAttributes.indexOf(W)===-1&&(X=!1),["background","dynsrc","href","lowsrc","src"].indexOf(W)!==-1&&(X=_(O)&&N.allowedReferences.some(H=>O.indexOf(H)===0)),X||(y(33,!1,void 0,{"Invalid attribute in config":`${W}`}),delete L[W]),_(O)&&L[W]&&(L[W]=O.replace(/</g,"&lt;"))}),L}static parseStyle(L){return L.split(";").reduce((O,W)=>{let X=W.split(":").map($=>$.trim()),H=X.shift();return H&&X.length&&(O[H.replace(/-([a-z])/g,$=>$[1].toUpperCase())]=X.join(":")),O},{})}static setElementHTML(L,O){L.innerHTML=N.emptyHTML,O&&new N(O).addToDOM(L)}constructor(L){this.nodes=typeof L=="string"?this.parseMarkup(L):L}addToDOM(L){return function O(W,X){let H;return T(W).forEach(function($){let G,j=$.tagName,D=$.textContent?r.doc.createTextNode($.textContent):void 0,M=N.bypassHTMLFiltering;if(j)if(j==="#text")G=D;else if(N.allowedTags.indexOf(j)!==-1||M){let Y=j==="svg"?o:X.namespaceURI||o,B=r.doc.createElementNS(Y,j),z=$.attributes||{};b($,function(q,V){V!=="tagName"&&V!=="attributes"&&V!=="children"&&V!=="style"&&V!=="textContent"&&(z[V]=q)}),h(B,M?z:N.filterUserAttributes(z)),$.style&&f(B,$.style),D&&B.appendChild(D),O($.children||[],B),G=B}else y(33,!1,void 0,{"Invalid tagName in config":j});G&&X.appendChild(G),H=G}),H}(this.nodes,L)}parseMarkup(L){let O,W=[];if(L=L.trim().replace(/ style=(["'])/g," data-style=$1"),w)O=new DOMParser().parseFromString(k?k.createHTML(L):L,"text/html");else{let H=p("div");H.innerHTML=L,O={body:H}}let X=(H,$)=>{let G=H.nodeName.toLowerCase(),j={tagName:G};G==="#text"&&(j.textContent=H.textContent||"");let D=H.attributes;if(D){let M={};[].forEach.call(D,Y=>{Y.name==="data-style"?j.style=N.parseStyle(Y.value):M[Y.name]=Y.value}),j.attributes=M}if(H.childNodes.length){let M=[];[].forEach.call(H.childNodes,Y=>{X(Y,M)}),M.length&&(j.children=M)}$.push(j)};return[].forEach.call(O.body.childNodes,H=>X(H,W)),W}}return N.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],N.allowedReferences=["https://","http://","mailto:","/","../","./","#"],N.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],N.emptyHTML=v,N.bypassHTMLFiltering=!1,N}),i(t,"Core/Templating.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],function(r,a){let{defaultOptions:o,defaultTime:s}=r,{extend:h,getNestedProperty:p,isArray:f,isNumber:y,isObject:g,pick:_,pInt:b}=a,T={add:(v,w)=>v+w,divide:(v,w)=>w!==0?v/w:"",eq:(v,w)=>v==w,each:function(v){let w=arguments[arguments.length-1];return!!f(v)&&v.map((N,C)=>E(w.body,h(g(N)?N:{"@this":N},{"@index":C,"@first":C===0,"@last":C===v.length-1}))).join("")},ge:(v,w)=>v>=w,gt:(v,w)=>v>w,if:v=>!!v,le:(v,w)=>v<=w,lt:(v,w)=>v<w,multiply:(v,w)=>v*w,ne:(v,w)=>v!=w,subtract:(v,w)=>v-w,unless:v=>!v};function E(v="",w,N){let C=/\{([\w\:\.\,;\-\/<>%@"'’= #\(\)]+)\}/g,L=/\(([\w\:\.\,;\-\/<>%@"'= ]+)\)/g,O=[],W=/f$/,X=/\.(\d)/,H=o.lang,$=N&&N.time||s,G=N&&N.numberFormatter||k,j=(z="")=>{let q;return z==="true"||z!=="false"&&((q=Number(z)).toString()===z?q:p(z,w))},D,M,Y=0,B;for(;(D=C.exec(v))!==null;){let z=L.exec(D[1]);z&&(D=z,B=!0),M&&M.isBlock||(M={ctx:w,expression:D[1],find:D[0],isBlock:D[1].charAt(0)==="#",start:D.index,startInner:D.index+D[0].length,length:D[0].length});let q=D[1].split(" ")[0].replace("#","");T[q]&&(M.isBlock&&q===M.fn&&Y++,M.fn||(M.fn=q));let V=D[1]==="else";if(M.isBlock&&M.fn&&(D[1]===`/${M.fn}`||V))if(Y)!V&&Y--;else{let te=M.startInner,ce=v.substr(te,D.index-te);M.body===void 0?(M.body=ce,M.startInner=D.index+D[0].length):M.elseBody=ce,M.find+=ce+D[0],V||(O.push(M),M=void 0)}else M.isBlock||O.push(M);if(z&&!(M!=null&&M.isBlock))break}return O.forEach(z=>{let q,V,{body:te,elseBody:ce,expression:ie,fn:se}=z;if(se){let Ce=[z],pe=ie.split(" ");for(V=T[se].length;V--;)Ce.unshift(j(pe[V+1]));q=T[se].apply(w,Ce),z.isBlock&&typeof q=="boolean"&&(q=E(q?te:ce,w,N))}else{let Ce=ie.split(":");if(q=j(Ce.shift()||""),Ce.length&&typeof q=="number"){let pe=Ce.join(":");if(W.test(pe)){let we=parseInt((pe.match(X)||["","-1"])[1],10);q!==null&&(q=G(q,we,H.decimalPoint,pe.indexOf(",")>-1?H.thousandsSep:""))}else q=$.dateFormat(pe,q)}}v=v.replace(z.find,_(q,""))}),B?E(v,w,N):v}function k(v,w,N,C){let L,O;v=+v||0,w=+w;let W=o.lang,X=(v.toString().split(".")[1]||"").split("e")[0].length,H=v.toString().split("e"),$=w;w===-1?w=Math.min(X,20):y(w)?w&&H[1]&&H[1]<0&&((O=w+ +H[1])>=0?(H[0]=(+H[0]).toExponential(O).split("e")[0],w=O):(H[0]=H[0].split(".")[0]||0,v=w<20?(H[0]*Math.pow(10,H[1])).toFixed(w):0,H[1]=0)):w=2;let G=(Math.abs(H[1]?H[0]:v)+Math.pow(10,-Math.max(w,X)-1)).toFixed(w),j=String(b(G)),D=j.length>3?j.length%3:0;return N=_(N,W.decimalPoint),C=_(C,W.thousandsSep),L=(v<0?"-":"")+(D?j.substr(0,D)+C:""),0>+H[1]&&!$?L="0":L+=j.substr(D).replace(/(\d{3})(?=\d)/g,"$1"+C),w?L+=N+G.slice(-w):+L==0&&(L="0"),H[1]&&+L!=0&&(L+="e"+H[1]),L}return{dateFormat:function(v,w,N){return s.dateFormat(v,w,N)},format:E,helpers:T,numberFormat:k}}),i(t,"Core/Renderer/RendererRegistry.js",[t["Core/Globals.js"]],function(r){var a,o;let s;return(o=a||(a={})).rendererTypes={},o.getRendererType=function(h=s){return o.rendererTypes[h]||o.rendererTypes[s]},o.registerRendererType=function(h,p,f){o.rendererTypes[h]=p,(!s||f)&&(s=h,r.Renderer=p)},a}),i(t,"Core/Renderer/RendererUtilities.js",[t["Core/Utilities.js"]],function(r){var a;let{clamp:o,pick:s,pushUnique:h,stableSort:p}=r;return(a||(a={})).distribute=function f(y,g,_){let b=y,T=b.reducedLen||g,E=(j,D)=>j.target-D.target,k=[],v=y.length,w=[],N=k.push,C,L,O,W=!0,X,H,$=0,G;for(C=v;C--;)$+=y[C].size;if($>T){for(p(y,(j,D)=>(D.rank||0)-(j.rank||0)),O=(G=y[0].rank===y[y.length-1].rank)?v/2:-1,L=G?O:v-1;O&&$>T;)X=y[C=Math.floor(L)],h(w,C)&&($-=X.size),L+=O,G&&L>=y.length&&(O/=2,L=O);w.sort((j,D)=>D-j).forEach(j=>N.apply(k,y.splice(j,1)))}for(p(y,E),y=y.map(j=>({size:j.size,targets:[j.target],align:s(j.align,.5)}));W;){for(C=y.length;C--;)X=y[C],H=(Math.min.apply(0,X.targets)+Math.max.apply(0,X.targets))/2,X.pos=o(H-X.size*X.align,0,g-X.size);for(C=y.length,W=!1;C--;)C>0&&y[C-1].pos+y[C-1].size>y[C].pos&&(y[C-1].size+=y[C].size,y[C-1].targets=y[C-1].targets.concat(y[C].targets),y[C-1].align=.5,y[C-1].pos+y[C-1].size>g&&(y[C-1].pos=g-y[C-1].size),y.splice(C,1),W=!0)}return N.apply(b,k),C=0,y.some(j=>{let D=0;return(j.targets||[]).some(()=>(b[C].pos=j.pos+D,_!==void 0&&Math.abs(b[C].pos-b[C].target)>_?(b.slice(0,C+1).forEach(M=>delete M.pos),b.reducedLen=(b.reducedLen||g)-.1*g,b.reducedLen>.1*g&&f(b,g,_),!0):(D+=b[C].size,C++,!1)))}),p(b,E),b},a}),i(t,"Core/Renderer/SVG/SVGElement.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{animate:h,animObject:p,stop:f}=r,{deg2rad:y,doc:g,svg:_,SVG_NS:b,win:T}=o,{addEvent:E,attr:k,createElement:v,crisp:w,css:N,defined:C,erase:L,extend:O,fireEvent:W,isArray:X,isFunction:H,isObject:$,isString:G,merge:j,objectEach:D,pick:M,pInt:Y,pushUnique:B,replaceNested:z,syncTimeout:q,uniqueKey:V}=s;class te{_defaultGetter(ie){let se=M(this[ie+"Value"],this[ie],this.element?this.element.getAttribute(ie):null,0);return/^-?[\d\.]+$/.test(se)&&(se=parseFloat(se)),se}_defaultSetter(ie,se,Ce){Ce.setAttribute(se,ie)}add(ie){let se,Ce=this.renderer,pe=this.element;return ie&&(this.parentGroup=ie),this.textStr!==void 0&&this.element.nodeName==="text"&&Ce.buildText(this),this.added=!0,(!ie||ie.handleZ||this.zIndex)&&(se=this.zIndexSetter()),se||(ie?ie.element:Ce.box).appendChild(pe),this.onAdd&&this.onAdd(),this}addClass(ie,se){let Ce=se?"":this.attr("class")||"";return(ie=(ie||"").split(/ /g).reduce(function(pe,we){return Ce.indexOf(we)===-1&&pe.push(we),pe},Ce?[Ce]:[]).join(" "))!==Ce&&this.attr("class",ie),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(ie,se,Ce,pe=!0){let we,K,J,ae,ve={},Q=this.renderer,re=Q.alignedObjects,le=!!ie;ie?(this.alignOptions=ie,this.alignByTranslate=se,this.alignTo=Ce):(ie=this.alignOptions||{},se=this.alignByTranslate,Ce=this.alignTo);let fe=!Ce||G(Ce)?Ce||"renderer":void 0;fe&&(le&&B(re,this),Ce=void 0);let xe=M(Ce,Q[fe],Q),Le=ie.align,be=ie.verticalAlign;return we=(xe.x||0)+(ie.x||0),K=(xe.y||0)+(ie.y||0),Le==="right"?J=1:Le==="center"&&(J=2),J&&(we+=((xe.width||0)-(ie.width||0))/J),ve[se?"translateX":"x"]=Math.round(we),be==="bottom"?ae=1:be==="middle"&&(ae=2),ae&&(K+=((xe.height||0)-(ie.height||0))/ae),ve[se?"translateY":"y"]=Math.round(K),pe&&(this[this.placed?"animate":"attr"](ve),this.placed=!0),this.alignAttr=ve,this}alignSetter(ie){let se={left:"start",center:"middle",right:"end"};se[ie]&&(this.alignValue=ie,this.element.setAttribute("text-anchor",se[ie]))}animate(ie,se,Ce){let pe=p(M(se,this.renderer.globalAnimation,!0)),we=pe.defer;return g.hidden&&(pe.duration=0),pe.duration!==0?(Ce&&(pe.complete=Ce),q(()=>{this.element&&h(this,ie,pe)},we)):(this.attr(ie,void 0,Ce||pe.complete),D(ie,function(K,J){pe.step&&pe.step.call(this,K,{prop:J,pos:1,elem:this})},this)),this}applyTextOutline(ie){let se=this.element;ie.indexOf("contrast")!==-1&&(ie=ie.replace(/contrast/g,this.renderer.getContrast(se.style.fill)));let Ce=ie.split(" "),pe=Ce[Ce.length-1],we=Ce[0];if(we&&we!=="none"&&o.svg){this.fakeTS=!0,we=we.replace(/(^[\d\.]+)(.*?)$/g,function(Q,re,le){return 2*Number(re)+le}),this.removeTextOutline();let K=g.createElementNS(b,"tspan");k(K,{class:"highcharts-text-outline",fill:pe,stroke:pe,"stroke-width":we,"stroke-linejoin":"round"});let J=se.querySelector("textPath")||se;[].forEach.call(J.childNodes,Q=>{let re=Q.cloneNode(!0);re.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(le=>re.removeAttribute(le)),K.appendChild(re)});let ae=0;[].forEach.call(J.querySelectorAll("text tspan"),Q=>{ae+=Number(Q.getAttribute("dy"))});let ve=g.createElementNS(b,"tspan");ve.textContent="​",k(ve,{x:Number(se.getAttribute("x")),dy:-ae}),K.appendChild(ve),J.insertBefore(K,J.firstChild)}}attr(ie,se,Ce,pe){let{element:we}=this,K=te.symbolCustomAttribs,J,ae,ve=this,Q;return typeof ie=="string"&&se!==void 0&&(J=ie,(ie={})[J]=se),typeof ie=="string"?ve=(this[ie+"Getter"]||this._defaultGetter).call(this,ie,we):(D(ie,function(re,le){Q=!1,pe||f(this,le),this.symbolName&&K.indexOf(le)!==-1&&(ae||(this.symbolAttr(ie),ae=!0),Q=!0),this.rotation&&(le==="x"||le==="y")&&(this.doTransform=!0),Q||(this[le+"Setter"]||this._defaultSetter).call(this,re,le,we)},this),this.afterSetters()),Ce&&Ce.call(this),ve}clip(ie){if(ie&&!ie.clipPath){let se=V()+"-",Ce=this.renderer.createElement("clipPath").attr({id:se}).add(this.renderer.defs);O(ie,{clipPath:Ce,id:se,count:0}),ie.add(Ce)}return this.attr("clip-path",ie?`url(${this.renderer.url}#${ie.id})`:"none")}crisp(ie,se){se=Math.round(se||ie.strokeWidth||0);let Ce=ie.x||this.x||0,pe=ie.y||this.y||0,we=(ie.width||this.width||0)+Ce,K=(ie.height||this.height||0)+pe,J=w(Ce,se),ae=w(pe,se);return O(ie,{x:J,y:ae,width:w(we,se)-J,height:w(K,se)-ae}),C(ie.strokeWidth)&&(ie.strokeWidth=se),ie}complexColor(ie,se,Ce){let pe=this.renderer,we,K,J,ae,ve,Q,re,le,fe,xe,Le=[],be;W(this.renderer,"complexColor",{args:arguments},function(){if(ie.radialGradient?K="radialGradient":ie.linearGradient&&(K="linearGradient"),K){if(J=ie[K],ve=pe.gradients,Q=ie.stops,fe=Ce.radialReference,X(J)&&(ie[K]=J={x1:J[0],y1:J[1],x2:J[2],y2:J[3],gradientUnits:"userSpaceOnUse"}),K==="radialGradient"&&fe&&!C(J.gradientUnits)&&(ae=J,J=j(J,pe.getRadialAttr(fe,ae),{gradientUnits:"userSpaceOnUse"})),D(J,function(ke,Oe){Oe!=="id"&&Le.push(Oe,ke)}),D(Q,function(ke){Le.push(ke)}),ve[Le=Le.join(",")])xe=ve[Le].attr("id");else{J.id=xe=V();let ke=ve[Le]=pe.createElement(K).attr(J).add(pe.defs);ke.radAttr=ae,ke.stops=[],Q.forEach(function(Oe){Oe[1].indexOf("rgba")===0?(re=(we=a.parse(Oe[1])).get("rgb"),le=we.get("a")):(re=Oe[1],le=1);let Ue=pe.createElement("stop").attr({offset:Oe[0],"stop-color":re,"stop-opacity":le}).add(ke);ke.stops.push(Ue)})}be="url("+pe.url+"#"+xe+")",Ce.setAttribute(se,be),Ce.gradient=Le,ie.toString=function(){return be}}})}css(ie){let se=this.styles,Ce={},pe=this.element,we,K=!se;if(se&&D(ie,function(J,ae){se&&se[ae]!==J&&(Ce[ae]=J,K=!0)}),K){se&&(ie=O(se,Ce)),ie.width===null||ie.width==="auto"?delete this.textWidth:pe.nodeName.toLowerCase()==="text"&&ie.width&&(we=this.textWidth=Y(ie.width)),O(this.styles,ie),we&&!_&&this.renderer.forExport&&delete ie.width;let J=j(ie);pe.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","width"].forEach(ae=>J&&delete J[ae]),J.color&&(J.fill=J.color)),N(pe,J)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),ie.textOutline&&this.applyTextOutline(ie.textOutline)),this}dashstyleSetter(ie){let se,Ce=this["stroke-width"];if(Ce==="inherit"&&(Ce=1),ie=ie&&ie.toLowerCase()){let pe=ie.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(se=pe.length;se--;)pe[se]=""+Y(pe[se])*M(Ce,NaN);ie=pe.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",ie)}}destroy(){var ae;let ie=this,se=ie.element||{},Ce=ie.renderer,pe=se.ownerSVGElement,we=se.nodeName==="SPAN"&&ie.parentGroup||void 0,K,J;if(se.onclick=se.onmouseout=se.onmouseover=se.onmousemove=se.point=null,f(ie),ie.clipPath&&pe){let ve=ie.clipPath;[].forEach.call(pe.querySelectorAll("[clip-path],[CLIP-PATH]"),function(Q){Q.getAttribute("clip-path").indexOf(ve.element.id)>-1&&Q.removeAttribute("clip-path")}),ie.clipPath=ve.destroy()}if(ie.connector=(ae=ie.connector)==null?void 0:ae.destroy(),ie.stops){for(J=0;J<ie.stops.length;J++)ie.stops[J].destroy();ie.stops.length=0,ie.stops=void 0}for(ie.safeRemoveChild(se);we&&we.div&&we.div.childNodes.length===0;)K=we.parentGroup,ie.safeRemoveChild(we.div),delete we.div,we=K;ie.alignOptions&&L(Ce.alignedObjects,ie),D(ie,function(ve,Q){ie[Q]&&ie[Q].parentGroup===ie&&ie[Q].destroy&&ie[Q].destroy(),delete ie[Q]})}dSetter(ie,se,Ce){X(ie)&&(typeof ie[0]=="string"&&(ie=this.renderer.pathToSegments(ie)),this.pathArray=ie,ie=ie.reduce((pe,we,K)=>we&&we.join?(K?pe+" ":"")+we.join(" "):(we||"").toString(),"")),/(NaN| {2}|^$)/.test(ie)&&(ie="M 0 0"),this[se]!==ie&&(Ce.setAttribute(se,ie),this[se]=ie)}fillSetter(ie,se,Ce){typeof ie=="string"?Ce.setAttribute(se,ie):ie&&this.complexColor(ie,se,Ce)}hrefSetter(ie,se,Ce){Ce.setAttributeNS("http://www.w3.org/1999/xlink",se,ie)}getBBox(ie,se){let Ce,pe,we,K,{alignValue:J,element:ae,renderer:ve,styles:Q,textStr:re}=this,{cache:le,cacheKeys:fe}=ve,xe=ae.namespaceURI===this.SVG_NS,Le=M(se,this.rotation,0),be=ve.styledMode?ae&&te.prototype.getStyle.call(ae,"font-size"):Q.fontSize;if(C(re)&&((K=re.toString()).indexOf("<")===-1&&(K=K.replace(/\d/g,"0")),K+=["",ve.rootFontSize,be,Le,this.textWidth,J,Q.textOverflow,Q.fontWeight].join(",")),K&&!ie&&(Ce=le[K]),!Ce||Ce.polygon){if(xe||ve.forExport){try{we=this.fakeTS&&function(Oe){let Ue=ae.querySelector(".highcharts-text-outline");Ue&&N(Ue,{display:Oe})},H(we)&&we("none"),Ce=ae.getBBox?O({},ae.getBBox()):{width:ae.offsetWidth,height:ae.offsetHeight,x:0,y:0},H(we)&&we("")}catch{}(!Ce||Ce.width<0)&&(Ce={x:0,y:0,width:0,height:0})}else Ce=this.htmlGetBBox();pe=Ce.height,xe&&(Ce.height=pe={"11px,17":14,"13px,20":16}[`${be||""},${Math.round(pe)}`]||pe),Le&&(Ce=this.getRotatedBox(Ce,Le));let ke={bBox:Ce};W(this,"afterGetBBox",ke),Ce=ke.bBox}if(K&&(re===""||Ce.height>0)){for(;fe.length>250;)delete le[fe.shift()];le[K]||fe.push(K),le[K]=Ce}return Ce}getRotatedBox(ie,se){let{x:Ce,y:pe,width:we,height:K}=ie,{alignValue:J,translateY:ae,rotationOriginX:ve=0,rotationOriginY:Q=0}=this,re={right:1,center:.5}[J||0]||0,le=Number(this.element.getAttribute("y")||0)-(ae?0:pe),fe=se*y,xe=(se-90)*y,Le=Math.cos(fe),be=Math.sin(fe),ke=we*Le,Oe=we*be,Ue=Math.cos(xe),Xe=Math.sin(xe),[[Pe,_e],[Ee,Re]]=[ve,Q].map(sn=>[sn-sn*Le,sn*be]),Me=Ce+re*(we-ke)+Pe+Re+le*Ue,ze=Me+ke,Ke=ze-K*Ue,tt=Ke-ke,st=pe+le-re*Oe-_e+Ee+le*Xe,ht=st+Oe,gt=ht-K*Xe,Tt=gt-Oe,$t=Math.min(Me,ze,Ke,tt),mt=Math.min(st,ht,gt,Tt),Ct=Math.max(Me,ze,Ke,tt)-$t,St=Math.max(st,ht,gt,Tt)-mt;return{x:$t,y:mt,width:Ct,height:St,polygon:[[Me,st],[ze,ht],[Ke,gt],[tt,Tt]]}}getStyle(ie){return T.getComputedStyle(this.element||this,"").getPropertyValue(ie)}hasClass(ie){return(""+this.attr("class")).split(" ").indexOf(ie)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(ie,se){this.onEvents={},this.opacity=1,this.SVG_NS=b,this.element=se==="span"||se==="body"?v(se):g.createElementNS(this.SVG_NS,se),this.renderer=ie,this.styles={},W(this,"afterInit")}on(ie,se){let{onEvents:Ce}=this;return Ce[ie]&&Ce[ie](),Ce[ie]=E(this.element,ie,se),this}opacitySetter(ie,se,Ce){let pe=Number(Number(ie).toFixed(3));this.opacity=pe,Ce.setAttribute(se,pe)}reAlign(){var ie;(ie=this.alignOptions)!=null&&ie.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(ie){return this.attr("class",(""+this.attr("class")).replace(G(ie)?RegExp(`(^| )${ie}( |$)`):ie," ").replace(/ +/g," ").trim())}removeTextOutline(){let ie=this.element.querySelector("tspan.highcharts-text-outline");ie&&this.safeRemoveChild(ie)}safeRemoveChild(ie){let se=ie.parentNode;se&&se.removeChild(ie)}setRadialReference(ie){let se=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=ie,se&&se.radAttr&&se.animate(this.renderer.getRadialAttr(ie,se.radAttr)),this}shadow(ie){var we;let{renderer:se}=this,Ce=j(((we=this.parentGroup)==null?void 0:we.rotation)===90?{offsetX:-1,offsetY:-1}:{},$(ie)?ie:{}),pe=se.shadowDefinition(Ce);return this.attr({filter:ie?`url(${se.url}#${pe})`:"none"})}show(ie=!0){return this.attr({visibility:ie?"inherit":"visible"})}"stroke-widthSetter"(ie,se,Ce){this[se]=ie,Ce.setAttribute(se,ie)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let ie=this.getStyle("stroke-width"),se=0,Ce;return/px$/.test(ie)?se=Y(ie):ie!==""&&(k(Ce=g.createElementNS(b,"rect"),{width:ie,"stroke-width":0}),this.element.parentNode.appendChild(Ce),se=Ce.getBBox().width,Ce.parentNode.removeChild(Ce)),se}symbolAttr(ie){let se=this;te.symbolCustomAttribs.forEach(function(Ce){se[Ce]=M(ie[Ce],se[Ce])}),se.attr({d:se.renderer.symbols[se.symbolName](se.x,se.y,se.width,se.height,se)})}textSetter(ie){ie!==this.textStr&&(delete this.textPxLength,this.textStr=ie,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(ie){let se=this.element,Ce=se.getElementsByTagName("title")[0]||g.createElementNS(this.SVG_NS,"title");se.insertBefore?se.insertBefore(Ce,se.firstChild):se.appendChild(Ce),Ce.textContent=z(M(ie,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let ie=this.element;return ie.parentNode.appendChild(ie),this}translate(ie,se){return this.attr({translateX:ie,translateY:se})}updateTransform(ie="transform"){var le;let{element:se,matrix:Ce,rotation:pe=0,rotationOriginX:we,rotationOriginY:K,scaleX:J,scaleY:ae,translateX:ve=0,translateY:Q=0}=this,re=["translate("+ve+","+Q+")"];C(Ce)&&re.push("matrix("+Ce.join(",")+")"),pe&&(re.push("rotate("+pe+" "+M(we,se.getAttribute("x"),0)+" "+M(K,se.getAttribute("y")||0)+")"),((le=this.text)==null?void 0:le.element.tagName)==="SPAN"&&this.text.attr({rotation:pe,rotationOriginX:(we||0)-this.padding,rotationOriginY:(K||0)-this.padding})),(C(J)||C(ae))&&re.push("scale("+M(J,1)+" "+M(ae,1)+")"),re.length&&!(this.text||this).textPath&&se.setAttribute(ie,re.join(" "))}visibilitySetter(ie,se,Ce){ie==="inherit"?Ce.removeAttribute(se):this[se]!==ie&&Ce.setAttribute(se,ie),this[se]=ie}xGetter(ie){return this.element.nodeName==="circle"&&(ie==="x"?ie="cx":ie==="y"&&(ie="cy")),this._defaultGetter(ie)}zIndexSetter(ie,se){let Ce=this.renderer,pe=this.parentGroup,we=(pe||Ce).element||Ce.box,K=this.element,J=we===Ce.box,ae,ve,Q,re=!1,le,fe=this.added,xe;if(C(ie)?(K.setAttribute("data-z-index",ie),ie=+ie,this[se]===ie&&(fe=!1)):C(this[se])&&K.removeAttribute("data-z-index"),this[se]=ie,fe){for((ie=this.zIndex)&&pe&&(pe.handleZ=!0),xe=(ae=we.childNodes).length-1;xe>=0&&!re;xe--)le=!C(Q=(ve=ae[xe]).getAttribute("data-z-index")),ve!==K&&(ie<0&&le&&!J&&!xe?(we.insertBefore(K,ae[xe]),re=!0):(Y(Q)<=ie||le&&(!C(ie)||ie>=0))&&(we.insertBefore(K,ae[xe+1]),re=!0));re||(we.insertBefore(K,ae[J?3:0]),re=!0)}return re}}return te.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],te.prototype.strokeSetter=te.prototype.fillSetter,te.prototype.yGetter=te.prototype.xGetter,te.prototype.matrixSetter=te.prototype.rotationOriginXSetter=te.prototype.rotationOriginYSetter=te.prototype.rotationSetter=te.prototype.scaleXSetter=te.prototype.scaleYSetter=te.prototype.translateXSetter=te.prototype.translateYSetter=te.prototype.verticalAlignSetter=function(ce,ie){this[ie]=ce,this.doTransform=!0},te}),i(t,"Core/Renderer/SVG/SVGLabel.js",[t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,a){let{defined:o,extend:s,isNumber:h,merge:p,pick:f,removeEvent:y}=a;class g extends r{constructor(b,T,E,k,v,w,N,C,L,O){let W;super(b,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=T,this.x=E,this.y=k,this.anchorX=w,this.anchorY=N,this.baseline=L,this.className=O,this.addClass(O==="button"?"highcharts-no-tooltip":"highcharts-label"),O&&this.addClass("highcharts-"+O),this.text=b.text(void 0,0,0,C).attr({zIndex:1}),typeof v=="string"&&((W=/^url\((.*?)\)$/.test(v))||this.renderer.symbols[v])&&(this.symbolKey=v),this.bBox=g.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=b.styledMode||W,this.deferredAttr={},this.alignFactor=0}alignSetter(b){let T={left:0,center:.5,right:1}[b];T!==this.alignFactor&&(this.alignFactor=T,this.bBox&&h(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(b,T){this.anchorX=b,this.boxAttr(T,Math.round(b)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(b,T){this.anchorY=b,this.boxAttr(T,b-this.ySetting)}boxAttr(b,T){this.box?this.box.attr(b,T):this.deferredAttr[b]=T}css(b){if(b){let T={};b=p(b),g.textProps.forEach(E=>{b[E]!==void 0&&(T[E]=b[E],delete b[E])}),this.text.css(T),"fontSize"in T||"fontWeight"in T?this.updateTextPadding():("width"in T||"textOverflow"in T)&&this.updateBoxSize()}return r.prototype.css.call(this,b)}destroy(){y(this.element,"mouseenter"),y(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),r.prototype.destroy.call(this)}fillSetter(b,T){b&&(this.needsBox=!0),this.fill=b,this.boxAttr(T,b)}getBBox(b,T){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:E,height:k=0,translateX:v=0,translateY:w=0,width:N=0}=this,C=f(this.paddingLeft,E),L=T??(this.rotation||0),O={width:N,height:k,x:v+this.bBox.x-C,y:w+this.bBox.y-E+this.baselineOffset};return L&&(O=this.getRotatedBox(O,L)),O}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(b){this.heightSetting=b,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:f(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&o(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(b,T){h(b)?b!==this[T]&&(this[T]=b,this.updateTextPadding()):this[T]=void 0}rSetter(b,T){this.boxAttr(T,b)}strokeSetter(b,T){this.stroke=b,this.boxAttr(T,b)}"stroke-widthSetter"(b,T){b&&(this.needsBox=!0),this["stroke-width"]=b,this.boxAttr(T,b)}"text-alignSetter"(b){this.textAlign=b}textSetter(b){b!==void 0&&this.text.attr({text:b}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let b,T=this.text,E={},k=this.padding,v=this.bBox=(!h(this.widthSetting)||!h(this.heightSetting)||this.textAlign)&&o(T.textStr)?T.getBBox(void 0,0):g.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||v.height||0)+2*k;let w=this.renderer.fontMetrics(T);if(this.baselineOffset=k+Math.min((this.text.firstLineMetrics||w).b,v.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-w.h)/2),this.needsBox&&!T.textPath){if(!this.box){let N=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();N.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),N.add(this)}b=this.getCrispAdjust(),E.x=b,E.y=(this.baseline?-this.baselineOffset:0)+b,E.width=Math.round(this.width),E.height=Math.round(this.height),this.box.attr(s(E,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let b=this.text;if(!b.textPath){this.updateBoxSize();let T=this.baseline?0:this.baselineOffset,E=f(this.paddingLeft,this.padding);o(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(E+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(E!==b.x||T!==b.y)&&(b.attr("x",E),b.hasBoxWidthChanged&&(this.bBox=b.getBBox(!0)),T!==void 0&&b.attr("y",T)),b.x=E,b.y=T}}widthSetter(b){this.widthSetting=h(b)?b:void 0,this.doUpdate=!0}getPaddedWidth(){let b=this.padding,T=f(this.paddingLeft,b),E=f(this.paddingRight,b);return(this.widthSetting||this.bBox.width||0)+T+E}xSetter(b){this.x=b,this.alignFactor&&(b-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(b),this.attr("translateX",this.xSetting)}ySetter(b){this.ySetting=this.y=Math.round(b),this.attr("translateY",this.ySetting)}}return g.emptyBBox={width:0,height:0,x:0,y:0},g.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],g}),i(t,"Core/Renderer/SVG/Symbols.js",[t["Core/Utilities.js"]],function(r){let{defined:a,isNumber:o,pick:s}=r;function h(y,g,_,b,T){let E=[];if(T){let k=T.start||0,v=s(T.r,_),w=s(T.r,b||_),N=2e-4/(T.borderRadius?1:Math.max(v,1)),C=Math.abs((T.end||0)-k-2*Math.PI)<N,L=(T.end||0)-(C?N:0),O=T.innerR,W=s(T.open,C),X=Math.cos(k),H=Math.sin(k),$=Math.cos(L),G=Math.sin(L),j=s(T.longArc,L-k-Math.PI<N?0:1),D=["A",v,w,0,j,s(T.clockwise,1),y+v*$,g+w*G];D.params={start:k,end:L,cx:y,cy:g},E.push(["M",y+v*X,g+w*H],D),a(O)&&((D=["A",O,O,0,j,a(T.clockwise)?1-T.clockwise:0,y+O*X,g+O*H]).params={start:L,end:k,cx:y,cy:g},E.push(W?["M",y+O*$,g+O*G]:["L",y+O*$,g+O*G],D)),W||E.push(["Z"])}return E}function p(y,g,_,b,T){return T&&T.r?f(y,g,_,b,T):[["M",y,g],["L",y+_,g],["L",y+_,g+b],["L",y,g+b],["Z"]]}function f(y,g,_,b,T){let E=(T==null?void 0:T.r)||0;return[["M",y+E,g],["L",y+_-E,g],["A",E,E,0,0,1,y+_,g+E],["L",y+_,g+b-E],["A",E,E,0,0,1,y+_-E,g+b],["L",y+E,g+b],["A",E,E,0,0,1,y,g+b-E],["L",y,g+E],["A",E,E,0,0,1,y+E,g],["Z"]]}return{arc:h,callout:function(y,g,_,b,T){let E=Math.min(T&&T.r||0,_,b),k=E+6,v=T&&T.anchorX,w=T&&T.anchorY||0,N=f(y,g,_,b,{r:E});if(!o(v)||v<_&&v>0&&w<b&&w>0)return N;if(y+v>_-k)if(w>g+k&&w<g+b-k)N.splice(3,1,["L",y+_,w-6],["L",y+_+6,w],["L",y+_,w+6],["L",y+_,g+b-E]);else if(v<_){let C=w<g+k,L=C?g:g+b;N.splice(C?2:5,0,["L",v,w],["L",y+_-E,L])}else N.splice(3,1,["L",y+_,b/2],["L",v,w],["L",y+_,b/2],["L",y+_,g+b-E]);else if(y+v<k)if(w>g+k&&w<g+b-k)N.splice(7,1,["L",y,w+6],["L",y-6,w],["L",y,w-6],["L",y,g+E]);else if(v>0){let C=w<g+k,L=C?g:g+b;N.splice(C?1:6,0,["L",v,w],["L",y+E,L])}else N.splice(7,1,["L",y,b/2],["L",v,w],["L",y,b/2],["L",y,g+E]);else w>b&&v<_-k?N.splice(5,1,["L",v+6,g+b],["L",v,g+b+6],["L",v-6,g+b],["L",y+E,g+b]):w<0&&v>k&&N.splice(1,1,["L",v-6,g],["L",v,g-6],["L",v+6,g],["L",_-E,g]);return N},circle:function(y,g,_,b){return h(y+_/2,g+b/2,_/2,b/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(y,g,_,b){return[["M",y+_/2,g],["L",y+_,g+b/2],["L",y+_/2,g+b],["L",y,g+b/2],["Z"]]},rect:p,roundedRect:f,square:p,triangle:function(y,g,_,b){return[["M",y+_/2,g],["L",y+_,g+b],["L",y,g+b],["Z"]]},"triangle-down":function(y,g,_,b){return[["M",y,g],["L",y+_,g],["L",y+_/2,g+b],["Z"]]}}}),i(t,"Core/Renderer/SVG/TextBuilder.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){let{doc:s,SVG_NS:h,win:p}=a,{attr:f,extend:y,fireEvent:g,isString:_,objectEach:b,pick:T}=o;return class{constructor(E){let k=E.styles;this.renderer=E.renderer,this.svgElement=E,this.width=E.textWidth,this.textLineHeight=k&&k.lineHeight,this.textOutline=k&&k.textOutline,this.ellipsis=!!(k&&k.textOverflow==="ellipsis"),this.noWrap=!!(k&&k.whiteSpace==="nowrap")}buildSVG(){let E=this.svgElement,k=E.element,v=E.renderer,w=T(E.textStr,"").toString(),N=w.indexOf("<")!==-1,C=k.childNodes,L=!E.added&&v.box,O=[w,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,E.getStyle("font-size"),this.width].join(",");if(O!==E.textCache){E.textCache=O,delete E.actualWidth;for(let W=C.length;W--;)k.removeChild(C[W]);if(N||this.ellipsis||this.width||E.textPath||w.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(w))){if(w!==""){L&&L.appendChild(k);let W=new r(w);this.modifyTree(W.nodes),W.addToDOM(k),this.modifyDOM(),this.ellipsis&&(k.textContent||"").indexOf("…")!==-1&&E.attr("title",this.unescapeEntities(E.textStr||"",["&lt;","&gt;"])),L&&L.removeChild(k)}}else k.appendChild(s.createTextNode(this.unescapeEntities(w)));_(this.textOutline)&&E.applyTextOutline&&E.applyTextOutline(this.textOutline)}}modifyDOM(){let E,k=this.svgElement,v=f(k.element,"x");for(k.firstLineMetrics=void 0;(E=k.element.firstChild)&&/^[\s\u200B]*$/.test(E.textContent||" ");)k.element.removeChild(E);[].forEach.call(k.element.querySelectorAll("tspan.highcharts-br"),(L,O)=>{L.nextSibling&&L.previousSibling&&(O===0&&L.previousSibling.nodeType===1&&(k.firstLineMetrics=k.renderer.fontMetrics(L.previousSibling)),f(L,{dy:this.getLineHeight(L.nextSibling),x:v}))});let w=this.width||0;if(!w)return;let N=(L,O)=>{let W=L.textContent||"",X=W.replace(/([^\^])-/g,"$1- ").split(" "),H=!this.noWrap&&(X.length>1||k.element.childNodes.length>1),$=this.getLineHeight(O),G=0,j=k.actualWidth;if(this.ellipsis)W&&this.truncate(L,W,void 0,0,Math.max(0,w-.8*$),(D,M)=>D.substring(0,M)+"…");else if(H){let D=[],M=[];for(;O.firstChild&&O.firstChild!==L;)M.push(O.firstChild),O.removeChild(O.firstChild);for(;X.length;)X.length&&!this.noWrap&&G>0&&(D.push(L.textContent||""),L.textContent=X.join(" ").replace(/- /g,"-")),this.truncate(L,void 0,X,G===0&&j||0,w,(Y,B)=>X.slice(0,B).join(" ").replace(/- /g,"-")),j=k.actualWidth,G++;M.forEach(Y=>{O.insertBefore(Y,L)}),D.forEach(Y=>{O.insertBefore(s.createTextNode(Y),L);let B=s.createElementNS(h,"tspan");B.textContent="​",f(B,{dy:$,x:v}),O.insertBefore(B,L)})}},C=L=>{[].slice.call(L.childNodes).forEach(O=>{O.nodeType===p.Node.TEXT_NODE?N(O,L):(O.className.baseVal.indexOf("highcharts-br")!==-1&&(k.actualWidth=0),C(O))})};C(k.element)}getLineHeight(E){let k=E.nodeType===p.Node.TEXT_NODE?E.parentElement:E;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(k||this.svgElement.element).h}modifyTree(E){let k=(v,w)=>{let{attributes:N={},children:C,style:L={},tagName:O}=v,W=this.renderer.styledMode;if(O==="b"||O==="strong"?W?N.class="highcharts-strong":L.fontWeight="bold":(O==="i"||O==="em")&&(W?N.class="highcharts-emphasized":L.fontStyle="italic"),L&&L.color&&(L.fill=L.color),O==="br"){N.class="highcharts-br",v.textContent="​";let X=E[w+1];X&&X.textContent&&(X.textContent=X.textContent.replace(/^ +/gm,""))}else O==="a"&&C&&C.some(X=>X.tagName==="#text")&&(v.children=[{children:C,tagName:"tspan"}]);O!=="#text"&&O!=="a"&&(v.tagName="tspan"),y(v,{attributes:N,style:L}),C&&C.filter(X=>X.tagName!=="#text").forEach(k)};E.forEach(k),g(this.svgElement,"afterModifyTree",{nodes:E})}truncate(E,k,v,w,N,C){let L,O,W=this.svgElement,{rotation:X}=W,H=[],$=v?1:0,G=(k||v||"").length,j=G,D=function(M,Y){let B=Y||M,z=E.parentNode;if(z&&H[B]===void 0&&z.getSubStringLength)try{H[B]=w+z.getSubStringLength(0,v?B+1:B)}catch{}return H[B]};if(W.rotation=0,w+(O=D(E.textContent.length))>N){for(;$<=G;)j=Math.ceil(($+G)/2),v&&(L=C(v,j)),O=D(j,L&&L.length-1),$===G?$=G+1:O>N?G=j-1:$=j;G===0?E.textContent="":k&&G===k.length-1||(E.textContent=L||C(k||v,j))}v&&v.splice(0,j),W.actualWidth=O,W.rotation=X}unescapeEntities(E,k){return b(this.renderer.escapes,function(v,w){k&&k.indexOf(v)!==-1||(E=E.toString().replace(RegExp(v,"g"),w))}),E}}}),i(t,"Core/Renderer/SVG/SVGRenderer.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Defaults.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Renderer/SVG/Symbols.js"],t["Core/Renderer/SVG/TextBuilder.js"],t["Core/Utilities.js"]],function(r,a,o,s,h,p,f,y,g,_){let b,{defaultOptions:T}=a,{charts:E,deg2rad:k,doc:v,isFirefox:w,isMS:N,isWebKit:C,noop:L,SVG_NS:O,symbolSizes:W,win:X}=s,{addEvent:H,attr:$,createElement:G,crisp:j,css:D,defined:M,destroyObjectProperties:Y,extend:B,isArray:z,isNumber:q,isObject:V,isString:te,merge:ce,pick:ie,pInt:se,replaceNested:Ce,uniqueKey:pe}=_;class we{constructor(J,ae,ve,Q,re,le,fe){let xe,Le,be=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ke=be.element;fe||be.css(this.getStyle(Q||{})),J.appendChild(ke),$(J,"dir","ltr"),J.innerHTML.indexOf("xmlns")===-1&&$(ke,"xmlns",this.SVG_NS),this.box=ke,this.boxWrapper=be,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(v.createTextNode("Created with Highcharts 11.4.8")),this.defs=this.createElement("defs").add(),this.allowHTML=le,this.forExport=re,this.styledMode=fe,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=be.getStyle("font-size"),this.setSize(ae,ve,!1),w&&J.getBoundingClientRect&&((xe=function(){D(J,{left:0,top:0}),Le=J.getBoundingClientRect(),D(J,{left:Math.ceil(Le.left)-Le.left+"px",top:Math.ceil(Le.top)-Le.top+"px"})})(),this.unSubPixelFix=H(X,"resize",xe))}definition(J){return new r([J]).addToDOM(this.defs.element)}getReferenceURL(){if((w||C)&&v.getElementsByTagName("base").length){if(!M(b)){let J=pe(),ae=new r([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:J},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${J})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(v.body);D(ae,{position:"fixed",top:0,left:0,zIndex:9e5});let ve=v.elementFromPoint(6,6);b=(ve&&ve.id)==="hitme",v.body.removeChild(ae)}if(b)return Ce(X.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(J){return this.style=B({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},J),this.style}setStyle(J){this.boxWrapper.css(this.getStyle(J))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let J=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),Y(this.gradients||{}),this.gradients=null,this.defs=J.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(J){return new this.Element(this,J)}getRadialAttr(J,ae){return{cx:J[0]-J[2]/2+(ae.cx||0)*J[2],cy:J[1]-J[2]/2+(ae.cy||0)*J[2],r:(ae.r||0)*J[2]}}shadowDefinition(J){let ae=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(J).map(Q=>`${Q}-${J[Q]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),ve=ce({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},J);return this.defs.element.querySelector(`#${ae}`)||this.definition({tagName:"filter",attributes:{id:ae,filterUnits:ve.filterUnits},children:this.getShadowFilterContent(ve)}),ae}getShadowFilterContent(J){return[{tagName:"feDropShadow",attributes:{dx:J.offsetX,dy:J.offsetY,"flood-color":J.color,"flood-opacity":Math.min(5*J.opacity,1),stdDeviation:J.width/2}}]}buildText(J){new g(J).buildSVG()}getContrast(J){let ae=o.parse(J).rgba.map(Q=>{let re=Q/255;return re<=.03928?re/12.92:Math.pow((re+.055)/1.055,2.4)}),ve=.2126*ae[0]+.7152*ae[1]+.0722*ae[2];return 1.05/(ve+.05)>(ve+.05)/.05?"#FFFFFF":"#000000"}button(J,ae,ve,Q,re={},le,fe,xe,Le,be){let ke=this.label(J,ae,ve,Le,void 0,void 0,be,void 0,"button"),Oe=this.styledMode,Ue=arguments,Xe=0;re=ce(T.global.buttonTheme,re),Oe&&(delete re.fill,delete re.stroke,delete re["stroke-width"]);let Pe=re.states||{},_e=re.style||{};delete re.states,delete re.style;let Ee=[r.filterUserAttributes(re)],Re=[_e];return Oe||["hover","select","disabled"].forEach((Me,ze)=>{Ee.push(ce(Ee[0],r.filterUserAttributes(Ue[ze+5]||Pe[Me]||{}))),Re.push(Ee[ze+1].style),delete Ee[ze+1].style}),H(ke.element,N?"mouseover":"mouseenter",function(){Xe!==3&&ke.setState(1)}),H(ke.element,N?"mouseout":"mouseleave",function(){Xe!==3&&ke.setState(Xe)}),ke.setState=(Me=0)=>{if(Me!==1&&(ke.state=Xe=Me),ke.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Me]),!Oe){ke.attr(Ee[Me]);let ze=Re[Me];V(ze)&&ke.css(ze)}},ke.attr(Ee[0]),!Oe&&(ke.css(B({cursor:"default"},_e)),be&&ke.text.css({pointerEvents:"none"})),ke.on("touchstart",Me=>Me.stopPropagation()).on("click",function(Me){Xe!==3&&Q.call(ke,Me)})}crispLine(J,ae){let[ve,Q]=J;return M(ve[1])&&ve[1]===Q[1]&&(ve[1]=Q[1]=j(ve[1],ae)),M(ve[2])&&ve[2]===Q[2]&&(ve[2]=Q[2]=j(ve[2],ae)),J}path(J){let ae=this.styledMode?{}:{fill:"none"};return z(J)?ae.d=J:V(J)&&B(ae,J),this.createElement("path").attr(ae)}circle(J,ae,ve){let Q=V(J)?J:J===void 0?{}:{x:J,y:ae,r:ve},re=this.createElement("circle");return re.xSetter=re.ySetter=function(le,fe,xe){xe.setAttribute("c"+fe,le)},re.attr(Q)}arc(J,ae,ve,Q,re,le){let fe;V(J)?(ae=(fe=J).y,ve=fe.r,Q=fe.innerR,re=fe.start,le=fe.end,J=fe.x):fe={innerR:Q,start:re,end:le};let xe=this.symbol("arc",J,ae,ve,ve,fe);return xe.r=ve,xe}rect(J,ae,ve,Q,re,le){let fe=V(J)?J:J===void 0?{}:{x:J,y:ae,r:re,width:Math.max(ve||0,0),height:Math.max(Q||0,0)},xe=this.createElement("rect");return this.styledMode||(le!==void 0&&(fe["stroke-width"]=le,B(fe,xe.crisp(fe))),fe.fill="none"),xe.rSetter=function(Le,be,ke){xe.r=Le,$(ke,{rx:Le,ry:Le})},xe.rGetter=function(){return xe.r||0},xe.attr(fe)}roundedRect(J){return this.symbol("roundedRect").attr(J)}setSize(J,ae,ve){this.width=J,this.height=ae,this.boxWrapper.animate({width:J,height:ae},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:ie(ve,!0)?void 0:0}),this.alignElements()}g(J){let ae=this.createElement("g");return J?ae.attr({class:"highcharts-"+J}):ae}image(J,ae,ve,Q,re,le){let fe={preserveAspectRatio:"none"};q(ae)&&(fe.x=ae),q(ve)&&(fe.y=ve),q(Q)&&(fe.width=Q),q(re)&&(fe.height=re);let xe=this.createElement("image").attr(fe),Le=function(be){xe.attr({href:J}),le.call(xe,be)};if(le){xe.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let be=new X.Image;H(be,"load",Le),be.src=J,be.complete&&Le({})}else xe.attr({href:J});return xe}symbol(J,ae,ve,Q,re,le){let fe,xe,Le,be,ke=this,Oe=/^url\((.*?)\)$/,Ue=Oe.test(J),Xe=!Ue&&(this.symbols[J]?J:"circle"),Pe=Xe&&this.symbols[Xe];if(Pe)typeof ae=="number"&&(xe=Pe.call(this.symbols,ae||0,ve||0,Q||0,re||0,le)),fe=this.path(xe),ke.styledMode||fe.attr("fill","none"),B(fe,{symbolName:Xe||void 0,x:ae,y:ve,width:Q,height:re}),le&&B(fe,le);else if(Ue){Le=J.match(Oe)[1];let _e=fe=this.image(Le);_e.imgwidth=ie(le&&le.width,W[Le]&&W[Le].width),_e.imgheight=ie(le&&le.height,W[Le]&&W[Le].height),be=Ee=>Ee.attr({width:Ee.width,height:Ee.height}),["width","height"].forEach(Ee=>{_e[`${Ee}Setter`]=function(Re,Me){this[Me]=Re;let{alignByTranslate:ze,element:Ke,width:tt,height:st,imgwidth:ht,imgheight:gt}=this,Tt=Me==="width"?ht:gt,$t=1;le&&le.backgroundSize==="within"&&tt&&st&&ht&&gt?($t=Math.min(tt/ht,st/gt),$(Ke,{width:Math.round(ht*$t),height:Math.round(gt*$t)})):Ke&&Tt&&Ke.setAttribute(Me,Tt),!ze&&ht&&gt&&this.translate(((tt||0)-ht*$t)/2,((st||0)-gt*$t)/2)}}),M(ae)&&_e.attr({x:ae,y:ve}),_e.isImg=!0,_e.symbolUrl=J,M(_e.imgwidth)&&M(_e.imgheight)?be(_e):(_e.attr({width:0,height:0}),G("img",{onload:function(){let Ee=E[ke.chartIndex];this.width===0&&(D(this,{position:"absolute",top:"-999em"}),v.body.appendChild(this)),W[Le]={width:this.width,height:this.height},_e.imgwidth=this.width,_e.imgheight=this.height,_e.element&&be(_e),this.parentNode&&this.parentNode.removeChild(this),ke.imgCount--,ke.imgCount||!Ee||Ee.hasLoaded||Ee.onload()},src:Le}),this.imgCount++)}return fe}clipRect(J,ae,ve,Q){return this.rect(J,ae,ve,Q,0)}text(J,ae,ve,Q){let re={};if(Q&&(this.allowHTML||!this.forExport))return this.html(J,ae,ve);re.x=Math.round(ae||0),ve&&(re.y=Math.round(ve)),M(J)&&(re.text=J);let le=this.createElement("text").attr(re);return Q&&(!this.forExport||this.allowHTML)||(le.xSetter=function(fe,xe,Le){let be=Le.getElementsByTagName("tspan"),ke=Le.getAttribute(xe);for(let Oe=0,Ue;Oe<be.length;Oe++)(Ue=be[Oe]).getAttribute(xe)===ke&&Ue.setAttribute(xe,fe);Le.setAttribute(xe,fe)}),le}fontMetrics(J){let ae=se(p.prototype.getStyle.call(J,"font-size")||0),ve=ae<24?ae+3:Math.round(1.2*ae),Q=Math.round(.8*ve);return{h:ve,b:Q,f:ae}}rotCorr(J,ae,ve){let Q=J;return ae&&ve&&(Q=Math.max(Q*Math.cos(ae*k),4)),{x:-J/3*Math.sin(ae*k),y:Q}}pathToSegments(J){let ae=[],ve=[],Q={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let re=0;re<J.length;re++)te(ve[0])&&q(J[re])&&ve.length===Q[ve[0].toUpperCase()]&&J.splice(re,0,ve[0].replace("M","L").replace("m","l")),typeof J[re]=="string"&&(ve.length&&ae.push(ve.slice(0)),ve.length=0),ve.push(J[re]);return ae.push(ve.slice(0)),ae}label(J,ae,ve,Q,re,le,fe,xe,Le){return new f(this,J,ae,ve,Q,re,le,fe,xe,Le)}alignElements(){this.alignedObjects.forEach(J=>J.align())}}return B(we.prototype,{Element:p,SVG_NS:O,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:y,draw:L}),h.registerRendererType("svg",we,!0),we}),i(t,"Core/Renderer/HTML/HTMLElement.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{composed:h}=a,{attr:p,css:f,createElement:y,defined:g,extend:_,pInt:b,pushUnique:T}=s;function E(N,C,L){var W;let O=((W=this.div)==null?void 0:W.style)||L.style;o.prototype[`${C}Setter`].call(this,N,C,L),O&&(O[C]=N)}let k=(N,C)=>{var L;if(!N.div){let O=p(N.element,"class"),W=N.css,X=y("div",O?{className:O}:void 0,{position:"absolute",left:`${N.translateX||0}px`,top:`${N.translateY||0}px`,...N.styles,display:N.display,opacity:N.opacity,visibility:N.visibility},((L=N.parentGroup)==null?void 0:L.div)||C);N.classSetter=(H,$,G)=>{G.setAttribute("class",H),X.className=H},N.translateXSetter=N.translateYSetter=(H,$)=>{N[$]=H,X.style[$==="translateX"?"left":"top"]=`${H}px`,N.doTransform=!0},N.opacitySetter=N.visibilitySetter=E,N.css=H=>(W.call(N,H),H.cursor&&(X.style.cursor=H.cursor),H.pointerEvents&&(X.style.pointerEvents=H.pointerEvents),N),N.on=function(){return o.prototype.on.apply({element:X,onEvents:N.onEvents},arguments),N},N.div=X}return N.div};class v extends o{static compose(C){T(h,this.compose)&&(C.prototype.html=function(L,O,W){return new v(this,"span").attr({text:L,x:Math.round(O),y:Math.round(W)})})}constructor(C,L){super(C,L),this.css({position:"absolute",...C.styledMode?{}:{fontFamily:C.style.fontFamily,fontSize:C.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(C,L,O){this.xCorr=-C*O,this.yCorr=-L}css(C){let L,{element:O}=this,W=O.tagName==="SPAN"&&C&&"width"in C,X=W&&C.width;return W&&(delete C.width,this.textWidth=b(X)||void 0,L=!0),(C==null?void 0:C.textOverflow)==="ellipsis"&&(C.whiteSpace="nowrap",C.overflow="hidden"),_(this.styles,C),f(O,C),L&&this.updateTransform(),this}htmlGetBBox(){let{element:C}=this;return{x:C.offsetLeft,y:C.offsetTop,width:C.offsetWidth,height:C.offsetHeight}}updateTransform(){var q;if(!this.added){this.alignOnAdd=!0;return}let{element:C,renderer:L,rotation:O,rotationOriginX:W,rotationOriginY:X,styles:H,textAlign:$="left",textWidth:G,translateX:j=0,translateY:D=0,x:M=0,y:Y=0}=this,B={left:0,center:.5,right:1}[$],z=H.whiteSpace;if(f(C,{marginLeft:`${j}px`,marginTop:`${D}px`}),C.tagName==="SPAN"){let V=[O,$,C.innerHTML,G,this.textAlign].join(","),te=-(((q=this.parentGroup)==null?void 0:q.padding)*1)||0,ce,ie=!1;if(G!==this.oldTextWidth){let K=this.textPxLength?this.textPxLength:(f(C,{width:"",whiteSpace:z||"nowrap"}),C.offsetWidth),J=G||0;(J>this.oldTextWidth||K>J)&&(/[ \-]/.test(C.textContent||C.innerText)||C.style.textOverflow==="ellipsis")&&(f(C,{width:K>J||O?G+"px":"auto",display:"block",whiteSpace:z||"normal"}),this.oldTextWidth=G,ie=!0)}this.hasBoxWidthChanged=ie,V!==this.cTT&&(ce=L.fontMetrics(C).b,g(O)&&(O!==(this.oldRotation||0)||$!==this.oldAlign)&&this.setSpanRotation(O,te,te),this.getSpanCorrection(!g(O)&&this.textPxLength||C.offsetWidth,ce,B));let{xCorr:se=0,yCorr:Ce=0}=this,pe=(W??M)-se-M-te,we=(X??Y)-Ce-Y-te;f(C,{left:`${M+se}px`,top:`${Y+Ce}px`,transformOrigin:`${pe}px ${we}px`}),this.cTT=V,this.oldRotation=O,this.oldAlign=$}}setSpanRotation(C,L,O){f(this.element,{transform:`rotate(${C}deg)`,transformOrigin:`${L}% ${O}px`})}add(C){let L,O=this.renderer.box.parentNode,W=[];if(this.parentGroup=C,C&&!(L=C.div)){let X=C;for(;X;)W.push(X),X=X.parentGroup;for(let H of W.reverse())L=k(H,O)}return(L||O).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(C){C!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,r.setElementHTML(this.element,C??""),this.textStr=C,this.doTransform=!0)}alignSetter(C){this.alignValue=this.textAlign=C,this.doTransform=!0}xSetter(C,L){this[L]=C,this.doTransform=!0}}let w=v.prototype;return w.visibilitySetter=w.opacitySetter=E,w.ySetter=w.rotationSetter=w.rotationOriginXSetter=w.rotationOriginYSetter=w.xSetter,v}),i(t,"Core/Axis/AxisDefaults.js",[],function(){var r,a;return(a=r||(r={})).xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},a.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:o}=this.axis.chart;return o(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},r}),i(t,"Core/Foundation.js",[t["Core/Utilities.js"]],function(r){var a;let{addEvent:o,isFunction:s,objectEach:h,removeEvent:p}=r;return(a||(a={})).registerEventOptions=function(f,y){f.eventOptions=f.eventOptions||{},h(y.events,function(g,_){f.eventOptions[_]!==g&&(f.eventOptions[_]&&(p(f,_,f.eventOptions[_]),delete f.eventOptions[_]),s(g)&&(f.eventOptions[_]=g,o(f,_,g,{order:0})))})},a}),i(t,"Core/Axis/Tick.js",[t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){let{deg2rad:s}=a,{clamp:h,correctFloat:p,defined:f,destroyObjectProperties:y,extend:g,fireEvent:_,isNumber:b,merge:T,objectEach:E,pick:k}=o;return class{constructor(v,w,N,C,L){this.isNew=!0,this.isNewLabel=!0,this.axis=v,this.pos=w,this.type=N||"",this.parameters=L||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,_(this,"init"),N||C||this.addLabel()}addLabel(){let v=this,w=v.axis,N=w.options,C=w.chart,L=w.categories,O=w.logarithmic,W=w.names,X=v.pos,H=k(v.options&&v.options.labels,N.labels),$=w.tickPositions,G=X===$[0],j=X===$[$.length-1],D=(!H.step||H.step===1)&&w.tickInterval===1,M=$.info,Y=v.label,B,z,q,V=this.parameters.category||(L?k(L[X],W[X],X):X);O&&b(V)&&(V=p(O.lin2log(V))),w.dateTime&&(M?B=(z=C.time.resolveDTLFormat(N.dateTimeLabelFormats[!N.grid&&M.higherRanks[X]||M.unitName])).main:b(V)&&(B=w.dateTime.getXDateFormat(V,N.dateTimeLabelFormats||{}))),v.isFirst=G,v.isLast=j;let te={axis:w,chart:C,dateTimeLabelFormat:B,isFirst:G,isLast:j,pos:X,tick:v,tickPositionInfo:M,value:V};_(this,"labelFormat",te);let ce=Ce=>H.formatter?H.formatter.call(Ce,Ce):H.format?(Ce.text=w.defaultLabelFormatter.call(Ce),r.format(H.format,Ce,C)):w.defaultLabelFormatter.call(Ce),ie=ce.call(te,te),se=z&&z.list;se?v.shortenLabel=function(){for(q=0;q<se.length;q++)if(g(te,{dateTimeLabelFormat:se[q]}),Y.attr({text:ce.call(te,te)}),Y.getBBox().width<w.getSlotWidth(v)-2*(H.padding||0))return;Y.attr({text:""})}:v.shortenLabel=void 0,D&&w._addedPlotLB&&v.moveLabel(ie,H),f(Y)||v.movedLabel?Y&&Y.textStr!==ie&&!D&&(!Y.textWidth||H.style.width||Y.styles.width||Y.css({width:null}),Y.attr({text:ie}),Y.textPxLength=Y.getBBox().width):(v.label=Y=v.createLabel(ie,H),v.rotation=0)}createLabel(v,w,N){let C=this.axis,L=C.chart,O=f(v)&&w.enabled?L.renderer.text(v,N==null?void 0:N.x,N==null?void 0:N.y,w.useHTML).add(C.labelGroup):void 0;return O&&(L.styledMode||O.css(T(w.style)),O.textPxLength=O.getBBox().width),O}destroy(){y(this,this.axis)}getPosition(v,w,N,C){let L=this.axis,O=L.chart,W=C&&O.oldChartHeight||O.chartHeight,X={x:v?p(L.translate(w+N,void 0,void 0,C)+L.transB):L.left+L.offset+(L.opposite?(C&&O.oldChartWidth||O.chartWidth)-L.right-L.left:0),y:v?W-L.bottom+L.offset-(L.opposite?L.height:0):p(W-L.translate(w+N,void 0,void 0,C)-L.transB)};return X.y=h(X.y,-1e9,1e9),_(this,"afterGetPosition",{pos:X}),X}getLabelPosition(v,w,N,C,L,O,W,X){let H,$,G=this.axis,j=G.transA,D=G.isLinked&&G.linkedParent?G.linkedParent.reversed:G.reversed,M=G.staggerLines,Y=G.tickRotCorr||{x:0,y:0},B=C||G.reserveSpaceDefault?0:-G.labelOffset*(G.labelAlign==="center"?.5:1),z=L.distance,q={};return H=G.side===0?N.rotation?-z:-N.getBBox().height:G.side===2?Y.y+z:Math.cos(N.rotation*s)*(Y.y-N.getBBox(!1,0).height/2),f(L.y)&&(H=G.side===0&&G.horiz?L.y+H:L.y),v=v+k(L.x,[0,1,0,-1][G.side]*z)+B+Y.x-(O&&C?O*j*(D?-1:1):0),w=w+H-(O&&!C?O*j*(D?1:-1):0),M&&($=W/(X||1)%M,G.opposite&&($=M-$-1),w+=$*(G.labelOffset/M)),q.x=v,q.y=Math.round(w),_(this,"afterGetLabelPosition",{pos:q,tickmarkOffset:O,index:W}),q}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(v,w,N,C,L=!1,O){return O.crispLine([["M",v,w],["L",v+(L?0:-N),w+(L?N:0)]],C)}handleOverflow(v){let w=this.axis,N=w.options.labels,C=v.x,L=w.chart.chartWidth,O=w.chart.spacing,W=k(w.labelLeft,Math.min(w.pos,O[3])),X=k(w.labelRight,Math.max(w.isRadial?0:w.pos+w.len,L-O[1])),H=this.label,$=this.rotation,G={left:0,center:.5,right:1}[w.labelAlign||H.attr("align")],j=H.getBBox().width,D=w.getSlotWidth(this),M={},Y=D,B=1,z,q,V;$||N.overflow!=="justify"?$<0&&C-G*j<W?V=Math.round(C/Math.cos($*s)-W):$>0&&C+G*j>X&&(V=Math.round((L-C)/Math.cos($*s))):(z=C-G*j,q=C+(1-G)*j,z<W?Y=v.x+Y*(1-G)-W:q>X&&(Y=X-v.x+Y*G,B=-1),(Y=Math.min(D,Y))<D&&w.labelAlign==="center"&&(v.x+=B*(D-Y-G*(D-Math.min(j,Y)))),(j>Y||w.autoRotation&&(H.styles||{}).width)&&(V=Y)),V&&(this.shortenLabel?this.shortenLabel():(M.width=Math.floor(V)+"px",(N.style||{}).textOverflow||(M.textOverflow="ellipsis"),H.css(M)))}moveLabel(v,w){let N=this,C=N.label,L=N.axis,O=!1,W;C&&C.textStr===v?(N.movedLabel=C,O=!0,delete N.label):E(L.ticks,function(X){O||X.isNew||X===N||!X.label||X.label.textStr!==v||(N.movedLabel=X.label,O=!0,X.labelPos=N.movedLabel.xy,delete X.label)}),!O&&(N.labelPos||C)&&(W=N.labelPos||C.xy,N.movedLabel=N.createLabel(v,w,W),N.movedLabel&&N.movedLabel.attr({opacity:0}))}render(v,w,N){let C=this.axis,L=C.horiz,O=this.pos,W=k(this.tickmarkOffset,C.tickmarkOffset),X=this.getPosition(L,O,W,w),H=X.x,$=X.y,G=C.pos,j=G+C.len,D=L?H:$;!C.chart.polar&&this.isNew&&(p(D)<G||D>j)&&(N=0);let M=k(N,this.label&&this.label.newOpacity,1);N=k(N,1),this.isActive=!0,this.renderGridLine(w,N),this.renderMark(X,N),this.renderLabel(X,w,M,v),this.isNew=!1,_(this,"afterRender")}renderGridLine(v,w){let N=this.axis,C=N.options,L={},O=this.pos,W=this.type,X=k(this.tickmarkOffset,N.tickmarkOffset),H=N.chart.renderer,$=this.gridLine,G,j=C.gridLineWidth,D=C.gridLineColor,M=C.gridLineDashStyle;this.type==="minor"&&(j=C.minorGridLineWidth,D=C.minorGridLineColor,M=C.minorGridLineDashStyle),$||(N.chart.styledMode||(L.stroke=D,L["stroke-width"]=j||0,L.dashstyle=M),W||(L.zIndex=1),v&&(w=0),this.gridLine=$=H.path().attr(L).addClass("highcharts-"+(W?W+"-":"")+"grid-line").add(N.gridGroup)),$&&(G=N.getPlotLinePath({value:O+X,lineWidth:$.strokeWidth(),force:"pass",old:v,acrossPanes:!1}))&&$[v||this.isNew?"attr":"animate"]({d:G,opacity:w})}renderMark(v,w){let N=this.axis,C=N.options,L=N.chart.renderer,O=this.type,W=N.tickSize(O?O+"Tick":"tick"),X=v.x,H=v.y,$=k(C[O!=="minor"?"tickWidth":"minorTickWidth"],!O&&N.isXAxis?1:0),G=C[O!=="minor"?"tickColor":"minorTickColor"],j=this.mark,D=!j;W&&(N.opposite&&(W[0]=-W[0]),j||(this.mark=j=L.path().addClass("highcharts-"+(O?O+"-":"")+"tick").add(N.axisGroup),N.chart.styledMode||j.attr({stroke:G,"stroke-width":$})),j[D?"attr":"animate"]({d:this.getMarkPath(X,H,W[0],j.strokeWidth(),N.horiz,L),opacity:w}))}renderLabel(v,w,N,C){let L=this.axis,O=L.horiz,W=L.options,X=this.label,H=W.labels,$=H.step,G=k(this.tickmarkOffset,L.tickmarkOffset),j=v.x,D=v.y,M=!0;X&&b(j)&&(X.xy=v=this.getLabelPosition(j,D,X,O,H,G,C,$),(!this.isFirst||this.isLast||W.showFirstLabel)&&(!this.isLast||this.isFirst||W.showLastLabel)?!O||H.step||H.rotation||w||N===0||this.handleOverflow(v):M=!1,$&&C%$&&(M=!1),M&&b(v.y)?(v.opacity=N,X[this.isNewLabel?"attr":"animate"](v).show(!0),this.isNewLabel=!1):(X.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let v=this.label,w=this.axis;v&&!this.isNew&&(v.animate({opacity:0},void 0,v.destroy),delete this.label),w.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}}),i(t,"Core/Axis/Axis.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/AxisDefaults.js"],t["Core/Color/Color.js"],t["Core/Defaults.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Axis/Tick.js"],t["Core/Utilities.js"]],function(r,a,o,s,h,p,f,y){let{animObject:g}=r,{xAxis:_,yAxis:b}=a,{defaultOptions:T}=s,{registerEventOptions:E}=h,{deg2rad:k}=p,{arrayMax:v,arrayMin:w,clamp:N,correctFloat:C,defined:L,destroyObjectProperties:O,erase:W,error:X,extend:H,fireEvent:$,getClosestDistance:G,insertItem:j,isArray:D,isNumber:M,isString:Y,merge:B,normalizeTickInterval:z,objectEach:q,pick:V,relativeLength:te,removeEvent:ce,splat:ie,syncTimeout:se}=y,Ce=(we,K)=>z(K,void 0,void 0,V(we.options.allowDecimals,K<.5||we.tickAmount!==void 0),!!we.tickAmount);H(T,{xAxis:_,yAxis:B(_,b)});class pe{constructor(K,J,ae){this.init(K,J,ae)}init(K,J,ae=this.coll){let ve=ae==="xAxis",Q=this.isZAxis||(K.inverted?!ve:ve);this.chart=K,this.horiz=Q,this.isXAxis=ve,this.coll=ae,$(this,"init",{userOptions:J}),this.opposite=V(J.opposite,this.opposite),this.side=V(J.side,this.side,Q?this.opposite?0:2:this.opposite?1:3),this.setOptions(J);let re=this.options,le=re.labels;this.type??(this.type=re.type||"linear"),this.uniqueNames??(this.uniqueNames=re.uniqueNames??!0),$(this,"afterSetType"),this.userOptions=J,this.minPixelPadding=0,this.reversed=V(re.reversed,this.reversed),this.visible=re.visible,this.zoomEnabled=re.zoomEnabled,this.hasNames=this.type==="category"||re.categories===!0,this.categories=D(re.categories)&&re.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=L(re.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=re.minRange||re.maxZoom,this.range=re.range,this.offset=re.offset||0,this.max=void 0,this.min=void 0;let fe=V(re.crosshair,ie(K.options.tooltip.crosshairs)[ve?0:1]);this.crosshair=fe===!0?{}:fe,K.axes.indexOf(this)===-1&&(ve?K.axes.splice(K.xAxis.length,0,this):K.axes.push(this),j(this,K[this.coll])),K.orderItems(this.coll),this.series=this.series||[],K.inverted&&!this.isZAxis&&ve&&!L(this.reversed)&&(this.reversed=!0),this.labelRotation=M(le.rotation)?le.rotation:void 0,E(this,re),$(this,"afterInit")}setOptions(K){let J=this.horiz?{labels:{autoRotation:[-45],padding:4},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=B(J,T[this.coll],K),$(this,"afterSetOptions",{userOptions:K})}defaultLabelFormatter(){let K=this.axis,{numberFormatter:J}=this.chart,ae=M(this.value)?this.value:NaN,ve=K.chart.time,Q=K.categories,re=this.dateTimeLabelFormat,le=T.lang,fe=le.numericSymbols,xe=le.numericSymbolMagnitude||1e3,Le=K.logarithmic?Math.abs(ae):K.tickInterval,be=fe&&fe.length,ke,Oe;if(Q)Oe=`${this.value}`;else if(re)Oe=ve.dateFormat(re,ae);else if(be&&fe&&Le>=1e3)for(;be--&&Oe===void 0;)Le>=(ke=Math.pow(xe,be+1))&&10*ae%ke==0&&fe[be]!==null&&ae!==0&&(Oe=J(ae/ke,-1)+fe[be]);return Oe===void 0&&(Oe=Math.abs(ae)>=1e4?J(ae,-1):J(ae,-1,void 0,"")),Oe}getSeriesExtremes(){let K,J=this;$(this,"getSeriesExtremes",null,function(){J.hasVisibleSeries=!1,J.dataMin=J.dataMax=J.threshold=void 0,J.softThreshold=!J.isXAxis,J.series.forEach(ae=>{if(ae.reserveSpace()){let ve=ae.options,Q,re=ve.threshold,le,fe;if(J.hasVisibleSeries=!0,J.positiveValuesOnly&&0>=(re||0)&&(re=void 0),J.isXAxis)(Q=ae.xData)&&Q.length&&(Q=J.logarithmic?Q.filter(xe=>xe>0):Q,le=(K=ae.getXExtremes(Q)).min,fe=K.max,M(le)||le instanceof Date||(Q=Q.filter(M),le=(K=ae.getXExtremes(Q)).min,fe=K.max),Q.length&&(J.dataMin=Math.min(V(J.dataMin,le),le),J.dataMax=Math.max(V(J.dataMax,fe),fe)));else{let xe=ae.applyExtremes();M(xe.dataMin)&&(le=xe.dataMin,J.dataMin=Math.min(V(J.dataMin,le),le)),M(xe.dataMax)&&(fe=xe.dataMax,J.dataMax=Math.max(V(J.dataMax,fe),fe)),L(re)&&(J.threshold=re),(!ve.softThreshold||J.positiveValuesOnly)&&(J.softThreshold=!1)}}})}),$(this,"afterGetSeriesExtremes")}translate(K,J,ae,ve,Q,re){var Xe;let le=this.linkedParent||this,fe=ve&&le.old?le.old.min:le.min;if(!M(fe))return NaN;let xe=le.minPixelPadding,Le=(le.isOrdinal||((Xe=le.brokenAxis)==null?void 0:Xe.hasBreaks)||le.logarithmic&&Q)&&le.lin2val,be=1,ke=0,Oe=ve&&le.old?le.old.transA:le.transA,Ue=0;return Oe||(Oe=le.transA),ae&&(be*=-1,ke=le.len),le.reversed&&(be*=-1,ke-=be*(le.sector||le.len)),J?(Ue=(K=K*be+ke-xe)/Oe+fe,Le&&(Ue=le.lin2val(Ue))):(Le&&(K=le.val2lin(K)),Ue=be*(K-fe)*Oe+ke+be*xe+(M(re)?Oe*re:0),le.isRadial||(Ue=C(Ue))),Ue}toPixels(K,J){return this.translate(K,!1,!this.horiz,void 0,!0)+(J?0:this.pos)}toValue(K,J){return this.translate(K-(J?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(K){let J=this,ae=J.chart,ve=J.left,Q=J.top,re=K.old,le=K.value,fe=K.lineWidth,xe=re&&ae.oldChartHeight||ae.chartHeight,Le=re&&ae.oldChartWidth||ae.chartWidth,be=J.transB,ke=K.translatedValue,Oe=K.force,Ue,Xe,Pe,_e,Ee;function Re(ze,Ke,tt){return Oe!=="pass"&&(ze<Ke||ze>tt)&&(Oe?ze=N(ze,Ke,tt):Ee=!0),ze}let Me={value:le,lineWidth:fe,old:re,force:Oe,acrossPanes:K.acrossPanes,translatedValue:ke};return $(this,"getPlotLinePath",Me,function(ze){Ue=Pe=(ke=N(ke=V(ke,J.translate(le,void 0,void 0,re)),-1e9,1e9))+be,Xe=_e=xe-ke-be,M(ke)?J.horiz?(Xe=Q,_e=xe-J.bottom+(J.options.isInternal?0:ae.scrollablePixelsY||0),Ue=Pe=Re(Ue,ve,ve+J.width)):(Ue=ve,Pe=Le-J.right+(ae.scrollablePixelsX||0),Xe=_e=Re(Xe,Q,Q+J.height)):(Ee=!0,Oe=!1),ze.path=Ee&&!Oe?void 0:ae.renderer.crispLine([["M",Ue,Xe],["L",Pe,_e]],fe||1)}),Me.path}getLinearTickPositions(K,J,ae){let ve,Q,re,le=C(Math.floor(J/K)*K),fe=C(Math.ceil(ae/K)*K),xe=[];if(C(le+K)===le&&(re=20),this.single)return[J];for(ve=le;ve<=fe&&(xe.push(ve),(ve=C(ve+K,re))!==Q);)Q=ve;return xe}getMinorTickInterval(){let{minorTicks:K,minorTickInterval:J}=this.options;return K===!0?V(J,"auto"):K!==!1?J:void 0}getMinorTickPositions(){let K=this.options,J=this.tickPositions,ae=this.minorTickInterval,ve=this.pointRangePadding||0,Q=(this.min||0)-ve,re=(this.max||0)+ve,le=re-Q,fe=[],xe;if(le&&le/ae<this.len/3){let Le=this.logarithmic;if(Le)this.paddedTicks.forEach(function(be,ke,Oe){ke&&fe.push.apply(fe,Le.getLogTickPositions(ae,Oe[ke-1],Oe[ke],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")fe=fe.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(ae),Q,re,K.startOfWeek));else for(xe=Q+(J[0]-Q)%ae;xe<=re&&xe!==fe[0];xe+=ae)fe.push(xe)}return fe.length!==0&&this.trimTicks(fe),fe}adjustForMinRange(){let K=this.options,J=this.logarithmic,{max:ae,min:ve,minRange:Q}=this,re,le,fe,xe;this.isXAxis&&Q===void 0&&!J&&(Q=L(K.min)||L(K.max)||L(K.floor)||L(K.ceiling)?null:Math.min(5*(G(this.series.map(Le=>{var be;return(Le.xIncrement?(be=Le.xData)==null?void 0:be.slice(0,2):Le.xData)||[]}))||0),this.dataMax-this.dataMin)),M(ae)&&M(ve)&&M(Q)&&ae-ve<Q&&(le=this.dataMax-this.dataMin>=Q,re=(Q-ae+ve)/2,fe=[ve-re,V(K.min,ve-re)],le&&(fe[2]=J?J.log2lin(this.dataMin):this.dataMin),xe=[(ve=v(fe))+Q,V(K.max,ve+Q)],le&&(xe[2]=J?J.log2lin(this.dataMax):this.dataMax),(ae=w(xe))-ve<Q&&(fe[0]=ae-Q,fe[1]=V(K.min,ae-Q),ve=v(fe))),this.minRange=Q,this.min=ve,this.max=ae}getClosest(){let K,J;if(this.categories)J=1;else{let ae=[];this.series.forEach(function(ve){var re;let Q=ve.closestPointRange;((re=ve.xData)==null?void 0:re.length)===1?ae.push(ve.xData[0]):!ve.noSharedTooltip&&L(Q)&&ve.reserveSpace()&&(J=L(J)?Math.min(J,Q):Q)}),ae.length&&(ae.sort((ve,Q)=>ve-Q),K=G([ae]))}return K&&J?Math.min(K,J):K||J}nameToX(K){let J=D(this.options.categories),ae=J?this.categories:this.names,ve=K.options.x,Q;return K.series.requireSorting=!1,L(ve)||(ve=this.uniqueNames&&ae?J?ae.indexOf(K.name):V(ae.keys[K.name],-1):K.series.autoIncrement()),ve===-1?!J&&ae&&(Q=ae.length):Q=ve,Q!==void 0?(this.names[Q]=K.name,this.names.keys[K.name]=Q):K.x&&(Q=K.x),Q}updateNames(){let K=this,J=this.names;J.length>0&&(Object.keys(J.keys).forEach(function(ae){delete J.keys[ae]}),J.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(ae=>{ae.xIncrement=null,(!ae.points||ae.isDirtyData)&&(K.max=Math.max(K.max,ae.xData.length-1),ae.processData(),ae.generatePoints()),ae.data.forEach(function(ve,Q){let re;ve!=null&&ve.options&&ve.name!==void 0&&(re=K.nameToX(ve))!==void 0&&re!==ve.x&&(ve.x=re,ae.xData[Q]=re)})}))}setAxisTranslation(){let K=this,J=K.max-K.min,ae=K.linkedParent,ve=!!K.categories,Q=K.isXAxis,re=K.axisPointRange||0,le,fe=0,xe=0,Le,be=K.transA;(Q||ve||re)&&(le=K.getClosest(),ae?(fe=ae.minPointOffset,xe=ae.pointRangePadding):K.series.forEach(function(ke){let Oe=ve?1:Q?V(ke.options.pointRange,le,0):K.axisPointRange||0,Ue=ke.options.pointPlacement;if(re=Math.max(re,Oe),!K.single||ve){let Xe=ke.is("xrange")?!Q:Q;fe=Math.max(fe,Xe&&Y(Ue)?0:Oe/2),xe=Math.max(xe,Xe&&Ue==="on"?0:Oe)}}),Le=K.ordinal&&K.ordinal.slope&&le?K.ordinal.slope/le:1,K.minPointOffset=fe*=Le,K.pointRangePadding=xe*=Le,K.pointRange=Math.min(re,K.single&&ve?1:J),Q&&le&&(K.closestPointRange=le)),K.translationSlope=K.transA=be=K.staticScale||K.len/(J+xe||1),K.transB=K.horiz?K.left:K.bottom,K.minPixelPadding=be*fe,$(this,"afterSetAxisTranslation")}minFromRange(){let{max:K,min:J}=this;return M(K)&&M(J)&&K-J||void 0}setTickInterval(K){var Ct,St,sn,yn;let{categories:J,chart:ae,dataMax:ve,dataMin:Q,dateTime:re,isXAxis:le,logarithmic:fe,options:xe,softThreshold:Le}=this,be=M(this.threshold)?this.threshold:void 0,ke=this.minRange||0,{ceiling:Oe,floor:Ue,linkedTo:Xe,softMax:Pe,softMin:_e}=xe,Ee=M(Xe)&&((Ct=ae[this.coll])==null?void 0:Ct[Xe]),Re=xe.tickPixelInterval,Me=xe.maxPadding,ze=xe.minPadding,Ke=0,tt,st=M(xe.tickInterval)&&xe.tickInterval>=0?xe.tickInterval:void 0,ht,gt,Tt,$t;if(re||J||Ee||this.getTickAmount(),Tt=V(this.userMin,xe.min),$t=V(this.userMax,xe.max),Ee?(this.linkedParent=Ee,tt=Ee.getExtremes(),this.min=V(tt.min,tt.dataMin),this.max=V(tt.max,tt.dataMax),this.type!==Ee.type&&X(11,!0,ae)):(Le&&L(be)&&M(ve)&&M(Q)&&(Q>=be?(ht=be,ze=0):ve<=be&&(gt=be,Me=0)),this.min=V(Tt,ht,Q),this.max=V($t,gt,ve)),M(this.max)&&M(this.min)&&(fe&&(this.positiveValuesOnly&&!K&&0>=Math.min(this.min,V(Q,this.min))&&X(10,!0,ae),this.min=C(fe.log2lin(this.min),16),this.max=C(fe.log2lin(this.max),16)),this.range&&M(Q)&&(this.userMin=this.min=Tt=Math.max(Q,this.minFromRange()||0),this.userMax=$t=this.max,this.range=void 0)),$(this,"foundExtremes"),this.adjustForMinRange(),M(this.min)&&M(this.max)){if(!M(this.userMin)&&M(_e)&&_e<this.min&&(this.min=Tt=_e),!M(this.userMax)&&M(Pe)&&Pe>this.max&&(this.max=$t=Pe),J||this.axisPointRange||(St=this.stacking)!=null&&St.usePercentage||Ee||!(Ke=this.max-this.min)||(!L(Tt)&&ze&&(this.min-=Ke*ze),L($t)||!Me||(this.max+=Ke*Me)),!M(this.userMin)&&M(Ue)&&(this.min=Math.max(this.min,Ue)),!M(this.userMax)&&M(Oe)&&(this.max=Math.min(this.max,Oe)),Le&&M(Q)&&M(ve)){let Zt=be||0;!L(Tt)&&this.min<Zt&&Q>=Zt?this.min=xe.minRange?Math.min(Zt,this.max-ke):Zt:!L($t)&&this.max>Zt&&ve<=Zt&&(this.max=xe.minRange?Math.max(Zt,this.min+ke):Zt)}!ae.polar&&this.min>this.max&&(L(xe.min)?this.max=this.min:L(xe.max)&&(this.min=this.max)),Ke=this.max-this.min}if(this.min!==this.max&&M(this.min)&&M(this.max)?Ee&&!st&&Re===Ee.options.tickPixelInterval?this.tickInterval=st=Ee.tickInterval:this.tickInterval=V(st,this.tickAmount?Ke/Math.max(this.tickAmount-1,1):void 0,J?1:Ke*Re/Math.max(this.len,Re)):this.tickInterval=1,le&&!K){let Zt=this.min!==((sn=this.old)==null?void 0:sn.min)||this.max!==((yn=this.old)==null?void 0:yn.max);this.series.forEach(function(di){var ni;di.forceCrop=(ni=di.forceCropping)==null?void 0:ni.call(di),di.processData(Zt)}),$(this,"postProcessData",{hasExtremesChanged:Zt})}this.setAxisTranslation(),$(this,"initialAxisTranslation"),this.pointRange&&!st&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let mt=V(xe.minTickInterval,re&&!this.series.some(Zt=>Zt.noSharedTooltip)?this.closestPointRange:0);!st&&this.tickInterval<mt&&(this.tickInterval=mt),re||fe||st||(this.tickInterval=Ce(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var Le,be;let K=this.options,J=K.tickPositions,ae=K.tickPositioner,ve=this.getMinorTickInterval(),Q=!this.isPanning,re=Q&&K.startOnTick,le=Q&&K.endOnTick,fe=[],xe;if(this.tickmarkOffset=this.categories&&K.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&L(this.min)&&!this.tickAmount&&(this.min%1==0||K.allowDecimals!==!1),J)fe=J.slice();else if(M(this.min)&&M(this.max)){if(!((Le=this.ordinal)!=null&&Le.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))fe=[this.min,this.max],X(19,!1,this.chart);else if(this.dateTime)fe=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,K.units),this.min,this.max,K.startOfWeek,(be=this.ordinal)==null?void 0:be.positions,this.closestPointRange,!0);else if(this.logarithmic)fe=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let ke=this.tickInterval,Oe=ke;for(;Oe<=2*ke&&(fe=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&fe.length>this.tickAmount);)this.tickInterval=Ce(this,Oe*=1.1)}fe.length>this.len&&(fe=[fe[0],fe[fe.length-1]])[0]===fe[1]&&(fe.length=1),ae&&(this.tickPositions=fe,(xe=ae.apply(this,[this.min,this.max]))&&(fe=xe))}this.tickPositions=fe,this.minorTickInterval=ve==="auto"&&this.tickInterval?this.tickInterval/K.minorTicksPerMajor:ve,this.paddedTicks=fe.slice(0),this.trimTicks(fe,re,le),!this.isLinked&&M(this.min)&&M(this.max)&&(this.single&&fe.length<2&&!this.categories&&!this.series.some(ke=>ke.is("heatmap")&&ke.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),J||xe||this.adjustTickAmount()),$(this,"afterSetTickPositions")}trimTicks(K,J,ae){let ve=K[0],Q=K[K.length-1],re=!this.isOrdinal&&this.minPointOffset||0;if($(this,"trimTicks"),!this.isLinked){if(J&&ve!==-1/0)this.min=ve;else for(;this.min-re>K[0];)K.shift();if(ae)this.max=Q;else for(;this.max+re<K[K.length-1];)K.pop();K.length===0&&L(ve)&&!this.options.tickPositions&&K.push((Q+ve)/2)}}alignToOthers(){let K,J=this,ae=J.chart,ve=[this],Q=J.options,re=ae.options.chart,le=this.coll==="yAxis"&&re.alignThresholds,fe=[];if(J.thresholdAlignment=void 0,(re.alignTicks!==!1&&Q.alignTicks||le)&&Q.startOnTick!==!1&&Q.endOnTick!==!1&&!J.logarithmic){let xe=be=>{let{horiz:ke,options:Oe}=be;return[ke?Oe.left:Oe.top,Oe.width,Oe.height,Oe.pane].join(",")},Le=xe(this);ae[this.coll].forEach(function(be){let{series:ke}=be;ke.length&&ke.some(Oe=>Oe.visible)&&be!==J&&xe(be)===Le&&(K=!0,ve.push(be))})}if(K&&le){ve.forEach(Le=>{let be=Le.getThresholdAlignment(J);M(be)&&fe.push(be)});let xe=fe.length>1?fe.reduce((Le,be)=>Le+=be,0)/fe.length:void 0;ve.forEach(Le=>{Le.thresholdAlignment=xe})}return K}getThresholdAlignment(K){if((!M(this.dataMin)||this!==K&&this.series.some(J=>J.isDirty||J.isDirtyData))&&this.getSeriesExtremes(),M(this.threshold)){let J=N((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(J=1-J),J}}getTickAmount(){let K=this.options,J=K.tickPixelInterval,ae=K.tickAmount;L(K.tickInterval)||ae||!(this.len<J)||this.isRadial||this.logarithmic||!K.startOnTick||!K.endOnTick||(ae=2),!ae&&this.alignToOthers()&&(ae=Math.ceil(this.len/J)+1),ae<4&&(this.finalTickAmt=ae,ae=5),this.tickAmount=ae}adjustTickAmount(){let K=this,{finalTickAmt:J,max:ae,min:ve,options:Q,tickPositions:re,tickAmount:le,thresholdAlignment:fe}=K,xe=re==null?void 0:re.length,Le=V(K.threshold,K.softThreshold?0:null),be,ke,Oe=K.tickInterval,Ue,Xe=()=>re.push(C(re[re.length-1]+Oe)),Pe=()=>re.unshift(C(re[0]-Oe));if(M(fe)&&(Ue=fe<.5?Math.ceil(fe*(le-1)):Math.floor(fe*(le-1)),Q.reversed&&(Ue=le-1-Ue)),K.hasData()&&M(ve)&&M(ae)){let _e=()=>{K.transA*=(xe-1)/(le-1),K.min=Q.startOnTick?re[0]:Math.min(ve,re[0]),K.max=Q.endOnTick?re[re.length-1]:Math.max(ae,re[re.length-1])};if(M(Ue)&&M(K.threshold)){for(;re[Ue]!==Le||re.length!==le||re[0]>ve||re[re.length-1]<ae;){for(re.length=0,re.push(K.threshold);re.length<le;)re[Ue]===void 0||re[Ue]>K.threshold?Pe():Xe();if(Oe>8*K.tickInterval)break;Oe*=2}_e()}else if(xe<le){for(;re.length<le;)re.length%2||ve===Le?Xe():Pe();_e()}if(L(J)){for(ke=be=re.length;ke--;)(J===3&&ke%2==1||J<=2&&ke>0&&ke<be-1)&&re.splice(ke,1);K.finalTickAmt=void 0}}}setScale(){var re,le;let{coll:K,stacking:J}=this,ae=!1,ve=!1;this.series.forEach(fe=>{ae=ae||fe.isDirtyData||fe.isDirty,ve=ve||fe.xAxis&&fe.xAxis.isDirty||!1}),this.setAxisSize();let Q=this.len!==(this.old&&this.old.len);Q||ae||ve||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(J&&K==="yAxis"&&J.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),J&&K==="xAxis"&&J.buildStacks(),this.isDirty||(this.isDirty=Q||this.min!==((re=this.old)==null?void 0:re.min)||this.max!==((le=this.old)==null?void 0:le.max))):J&&J.cleanStacks(),ae&&delete this.allExtremes,$(this,"afterSetScale")}setExtremes(K,J,ae=!0,ve,Q){this.series.forEach(re=>{delete re.kdTree}),$(this,"setExtremes",Q=H(Q,{min:K,max:J}),re=>{this.userMin=re.min,this.userMax=re.max,this.eventArgs=re,ae&&this.chart.redraw(ve)})}setAxisSize(){let K=this.chart,J=this.options,ae=J.offsets||[0,0,0,0],ve=this.horiz,Q=this.width=Math.round(te(V(J.width,K.plotWidth-ae[3]+ae[1]),K.plotWidth)),re=this.height=Math.round(te(V(J.height,K.plotHeight-ae[0]+ae[2]),K.plotHeight)),le=this.top=Math.round(te(V(J.top,K.plotTop+ae[0]),K.plotHeight,K.plotTop)),fe=this.left=Math.round(te(V(J.left,K.plotLeft+ae[3]),K.plotWidth,K.plotLeft));this.bottom=K.chartHeight-re-le,this.right=K.chartWidth-Q-fe,this.len=Math.max(ve?Q:re,0),this.pos=ve?fe:le}getExtremes(){let K=this.logarithmic;return{min:K?C(K.lin2log(this.min)):this.min,max:K?C(K.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(K){let J=this.logarithmic,ae=J?J.lin2log(this.min):this.min,ve=J?J.lin2log(this.max):this.max;return K===null||K===-1/0?K=ae:K===1/0?K=ve:ae>K?K=ae:ve<K&&(K=ve),this.translate(K,0,1,0,1)}autoLabelAlign(K){let J=(V(K,0)-90*this.side+720)%360,ae={align:"center"};return $(this,"autoLabelAlign",ae,function(ve){J>15&&J<165?ve.align="right":J>195&&J<345&&(ve.align="left")}),ae.align}tickSize(K){let J=this.options,ae=V(J[K==="tick"?"tickWidth":"minorTickWidth"],K==="tick"&&this.isXAxis&&!this.categories?1:0),ve=J[K==="tick"?"tickLength":"minorTickLength"],Q;ae&&ve&&(J[K+"Position"]==="inside"&&(ve=-ve),Q=[ve,ae]);let re={tickSize:Q};return $(this,"afterTickSize",re),re.tickSize}labelMetrics(){let K=this.chart.renderer,J=this.ticks,ae=J[Object.keys(J)[0]]||{};return this.chart.renderer.fontMetrics(ae.label||ae.movedLabel||K.box)}unsquish(){let K=this.options.labels,J=K.padding||0,ae=this.horiz,ve=this.tickInterval,Q=this.len/(((this.categories?1:0)+this.max-this.min)/ve),re=K.rotation,le=C(.8*this.labelMetrics().h),fe=Math.max(this.max-this.min,0),xe=function(Ue){let Xe=(Ue+2*J)/(Q||1);return(Xe=Xe>1?Math.ceil(Xe):1)*ve>fe&&Ue!==1/0&&Q!==1/0&&fe&&(Xe=Math.ceil(fe/ve)),C(Xe*ve)},Le=ve,be,ke=Number.MAX_VALUE,Oe;if(ae){if(!K.staggerLines&&(M(re)?Oe=[re]:Q<K.autoRotationLimit&&(Oe=K.autoRotation)),Oe){let Ue,Xe;for(let Pe of Oe)(Pe===re||Pe&&Pe>=-90&&Pe<=90)&&(Xe=(Ue=xe(Math.abs(le/Math.sin(k*Pe))))+Math.abs(Pe/360))<ke&&(ke=Xe,be=Pe,Le=Ue)}}else Le=xe(.75*le);return this.autoRotation=Oe,this.labelRotation=V(be,M(re)?re:0),K.step?ve:Le}getSlotWidth(K){let J=this.chart,ae=this.horiz,ve=this.options.labels,Q=Math.max(this.tickPositions.length-(this.categories?0:1),1),re=J.margin[3];if(K&&M(K.slotWidth))return K.slotWidth;if(ae&&ve.step<2)return ve.rotation?0:(this.staggerLines||1)*this.len/Q;if(!ae){let le=ve.style.width;if(le!==void 0)return parseInt(String(le),10);if(re)return re-J.spacing[3]}return .33*J.chartWidth}renderUnsquish(){let K=this.chart,J=K.renderer,ae=this.tickPositions,ve=this.ticks,Q=this.options.labels,re=Q.style,le=this.horiz,fe=this.getSlotWidth(),xe=Math.max(1,Math.round(fe-(le?2*(Q.padding||0):Q.distance||0))),Le={},be=this.labelMetrics(),ke=re.textOverflow,Oe,Ue,Xe=0,Pe,_e;if(Y(Q.rotation)||(Le.rotation=Q.rotation||0),ae.forEach(function(Ee){let Re=ve[Ee];Re.movedLabel&&Re.replaceMovedLabel(),Re&&Re.label&&Re.label.textPxLength>Xe&&(Xe=Re.label.textPxLength)}),this.maxLabelLength=Xe,this.autoRotation)Xe>xe&&Xe>be.h?Le.rotation=this.labelRotation:this.labelRotation=0;else if(fe&&(Oe=xe,!ke))for(Ue="clip",_e=ae.length;!le&&_e--;)(Pe=ve[ae[_e]].label)&&(Pe.styles.textOverflow==="ellipsis"?Pe.css({textOverflow:"clip"}):Pe.textPxLength>fe&&Pe.css({width:fe+"px"}),Pe.getBBox().height>this.len/ae.length-(be.h-be.f)&&(Pe.specificTextOverflow="ellipsis"));Le.rotation&&(Oe=Xe>.5*K.chartHeight?.33*K.chartHeight:Xe,ke||(Ue="ellipsis")),this.labelAlign=Q.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(Le.align=this.labelAlign),ae.forEach(function(Ee){let Re=ve[Ee],Me=Re&&Re.label,ze=re.width,Ke={};Me&&(Me.attr(Le),Re.shortenLabel?Re.shortenLabel():Oe&&!ze&&re.whiteSpace!=="nowrap"&&(Oe<Me.textPxLength||Me.element.tagName==="SPAN")?(Ke.width=Oe+"px",ke||(Ke.textOverflow=Me.specificTextOverflow||Ue),Me.css(Ke)):!Me.styles.width||Ke.width||ze||Me.css({width:null}),delete Me.specificTextOverflow,Re.rotation=Le.rotation)},this),this.tickRotCorr=J.rotCorr(be.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(K){return K.hasData()})||this.options.showEmpty&&L(this.min)&&L(this.max)}addTitle(K){let J,ae=this.chart.renderer,ve=this.horiz,Q=this.opposite,re=this.options.title,le=this.chart.styledMode;this.axisTitle||((J=re.textAlign)||(J=(ve?{low:"left",middle:"center",high:"right"}:{low:Q?"right":"left",middle:"center",high:Q?"left":"right"})[re.align]),this.axisTitle=ae.text(re.text||"",0,0,re.useHTML).attr({zIndex:7,rotation:re.rotation||0,align:J}).addClass("highcharts-axis-title"),le||this.axisTitle.css(B(re.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),le||re.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[K?"show":"hide"](K)}generateTick(K){let J=this.ticks;J[K]?J[K].addLabel():J[K]=new f(this,K)}createGroups(){let{axisParent:K,chart:J,coll:ae,options:ve}=this,Q=J.renderer,re=(le,fe,xe)=>Q.g(le).attr({zIndex:xe}).addClass(`highcharts-${ae.toLowerCase()}${fe} `+(this.isRadial?`highcharts-radial-axis${fe} `:"")+(ve.className||"")).add(K);this.axisGroup||(this.gridGroup=re("grid","-grid",ve.gridZIndex),this.axisGroup=re("axis","",ve.zIndex),this.labelGroup=re("axis-labels","-labels",ve.labels.zIndex))}getOffset(){let K=this,{chart:J,horiz:ae,options:ve,side:Q,ticks:re,tickPositions:le,coll:fe}=K,xe=J.inverted&&!K.isZAxis?[1,0,3,2][Q]:Q,Le=K.hasData(),be=ve.title,ke=ve.labels,Oe=M(ve.crossing),Ue=J.axisOffset,Xe=J.clipOffset,Pe=[-1,1,1,-1][Q],_e,Ee=0,Re,Me=0,ze=0,Ke,tt;if(K.showAxis=_e=Le||ve.showEmpty,K.staggerLines=K.horiz&&ke.staggerLines||void 0,K.createGroups(),Le||K.isLinked?(le.forEach(function(st){K.generateTick(st)}),K.renderUnsquish(),K.reserveSpaceDefault=Q===0||Q===2||{1:"left",3:"right"}[Q]===K.labelAlign,V(ke.reserveSpace,!Oe&&null,K.labelAlign==="center"||null,K.reserveSpaceDefault)&&le.forEach(function(st){ze=Math.max(re[st].getLabelSize(),ze)}),K.staggerLines&&(ze*=K.staggerLines),K.labelOffset=ze*(K.opposite?-1:1)):q(re,function(st,ht){st.destroy(),delete re[ht]}),be!=null&&be.text&&be.enabled!==!1&&(K.addTitle(_e),_e&&!Oe&&be.reserveSpace!==!1&&(K.titleOffset=Ee=K.axisTitle.getBBox()[ae?"height":"width"],Me=L(Re=be.offset)?0:V(be.margin,ae?5:10))),K.renderLine(),K.offset=Pe*V(ve.offset,Ue[Q]?Ue[Q]+(ve.margin||0):0),K.tickRotCorr=K.tickRotCorr||{x:0,y:0},tt=Q===0?-K.labelMetrics().h:Q===2?K.tickRotCorr.y:0,Ke=Math.abs(ze)+Me,ze&&(Ke-=tt,Ke+=Pe*(ae?V(ke.y,K.tickRotCorr.y+Pe*ke.distance):V(ke.x,Pe*ke.distance))),K.axisTitleMargin=V(Re,Ke),K.getMaxLabelDimensions&&(K.maxLabelDimensions=K.getMaxLabelDimensions(re,le)),fe!=="colorAxis"&&Xe){let st=this.tickSize("tick");Ue[Q]=Math.max(Ue[Q],(K.axisTitleMargin||0)+Ee+Pe*K.offset,Ke,le&&le.length&&st?st[0]+Pe*K.offset:0);let ht=!K.axisLine||ve.offset?0:K.axisLine.strokeWidth()/2;Xe[xe]=Math.max(Xe[xe],ht)}$(this,"afterGetOffset")}getLinePath(K){let J=this.chart,ae=this.opposite,ve=this.offset,Q=this.horiz,re=this.left+(ae?this.width:0)+ve,le=J.chartHeight-this.bottom-(ae?this.height:0)+ve;return ae&&(K*=-1),J.renderer.crispLine([["M",Q?this.left:re,Q?le:this.top],["L",Q?J.chartWidth-this.right:re,Q?le:J.chartHeight-this.bottom]],K)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(K){let J=this.horiz,ae=this.left,ve=this.top,Q=this.len,re=this.options.title,le=J?ae:ve,fe=this.opposite,xe=this.offset,Le=re.x,be=re.y,ke=this.chart.renderer.fontMetrics(K),Oe=K?Math.max(K.getBBox(!1,0).height-ke.h-1,0):0,Ue={low:le+(J?0:Q),middle:le+Q/2,high:le+(J?Q:0)}[re.align],Xe=(J?ve+this.height:ae)+(J?1:-1)*(fe?-1:1)*(this.axisTitleMargin||0)+[-Oe,Oe,ke.f,-Oe][this.side],Pe={x:J?Ue+Le:Xe+(fe?this.width:0)+xe+Le,y:J?Xe+be-(fe?this.height:0)+xe:Ue+be};return $(this,"afterGetTitlePosition",{titlePosition:Pe}),Pe}renderMinorTick(K,J){let ae=this.minorTicks;ae[K]||(ae[K]=new f(this,K,"minor")),J&&ae[K].isNew&&ae[K].render(null,!0),ae[K].render(null,!1,1)}renderTick(K,J,ae){let ve=this.isLinked,Q=this.ticks;(!ve||K>=this.min&&K<=this.max||this.grid&&this.grid.isColumn)&&(Q[K]||(Q[K]=new f(this,K)),ae&&Q[K].isNew&&Q[K].render(J,!0,-1),Q[K].render(J))}render(){let K,J,ae=this,ve=ae.chart,Q=ae.logarithmic,re=ve.renderer,le=ae.options,fe=ae.isLinked,xe=ae.tickPositions,Le=ae.axisTitle,be=ae.ticks,ke=ae.minorTicks,Oe=ae.alternateBands,Ue=le.stackLabels,Xe=le.alternateGridColor,Pe=le.crossing,_e=ae.tickmarkOffset,Ee=ae.axisLine,Re=ae.showAxis,Me=g(re.globalAnimation);if(ae.labelEdge.length=0,ae.overlap=!1,[be,ke,Oe].forEach(function(ze){q(ze,function(Ke){Ke.isActive=!1})}),M(Pe)){let ze=this.isXAxis?ve.yAxis[0]:ve.xAxis[0],Ke=[1,-1,-1,1][this.side];if(ze){let tt=ze.toPixels(Pe,!0);ae.horiz&&(tt=ze.len-tt),ae.offset=Ke*tt}}if(ae.hasData()||fe){let ze=ae.chart.hasRendered&&ae.old&&M(ae.old.min);ae.minorTickInterval&&!ae.categories&&ae.getMinorTickPositions().forEach(function(Ke){ae.renderMinorTick(Ke,ze)}),xe.length&&(xe.forEach(function(Ke,tt){ae.renderTick(Ke,tt,ze)}),_e&&(ae.min===0||ae.single)&&(be[-1]||(be[-1]=new f(ae,-1,null,!0)),be[-1].render(-1))),Xe&&xe.forEach(function(Ke,tt){J=xe[tt+1]!==void 0?xe[tt+1]+_e:ae.max-_e,tt%2==0&&Ke<ae.max&&J<=ae.max+(ve.polar?-_e:_e)&&(Oe[Ke]||(Oe[Ke]=new p.PlotLineOrBand(ae,{})),K=Ke+_e,Oe[Ke].options={from:Q?Q.lin2log(K):K,to:Q?Q.lin2log(J):J,color:Xe,className:"highcharts-alternate-grid"},Oe[Ke].render(),Oe[Ke].isActive=!0)}),ae._addedPlotLB||(ae._addedPlotLB=!0,(le.plotLines||[]).concat(le.plotBands||[]).forEach(function(Ke){ae.addPlotBandOrLine(Ke)}))}[be,ke,Oe].forEach(function(ze){let Ke=[],tt=Me.duration;q(ze,function(st,ht){st.isActive||(st.render(ht,!1,0),st.isActive=!1,Ke.push(ht))}),se(function(){let st=Ke.length;for(;st--;)ze[Ke[st]]&&!ze[Ke[st]].isActive&&(ze[Ke[st]].destroy(),delete ze[Ke[st]])},ze!==Oe&&ve.hasRendered&&tt?tt:0)}),Ee&&(Ee[Ee.isPlaced?"animate":"attr"]({d:this.getLinePath(Ee.strokeWidth())}),Ee.isPlaced=!0,Ee[Re?"show":"hide"](Re)),Le&&Re&&(Le[Le.isNew?"attr":"animate"](ae.getTitlePosition(Le)),Le.isNew=!1),Ue&&Ue.enabled&&ae.stacking&&ae.stacking.renderStackTotals(),ae.old={len:ae.len,max:ae.max,min:ae.min,transA:ae.transA,userMax:ae.userMax,userMin:ae.userMin},ae.isDirty=!1,$(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(K){K.render()})),this.series.forEach(function(K){K.isDirty=!0})}getKeepProps(){return this.keepProps||pe.keepProps}destroy(K){let J=this,ae=J.plotLinesAndBands,ve=this.eventOptions;if($(this,"destroy",{keepEvents:K}),K||ce(J),[J.ticks,J.minorTicks,J.alternateBands].forEach(function(Q){O(Q)}),ae){let Q=ae.length;for(;Q--;)ae[Q].destroy()}for(let Q in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(re){J[re]&&(J[re]=J[re].destroy())}),J.plotLinesAndBandsGroups)J.plotLinesAndBandsGroups[Q]=J.plotLinesAndBandsGroups[Q].destroy();q(J,function(Q,re){J.getKeepProps().indexOf(re)===-1&&delete J[re]}),this.eventOptions=ve}drawCrosshair(K,J){let ae=this.crosshair,ve=V(ae&&ae.snap,!0),Q=this.chart,re,le,fe,xe=this.cross,Le;if($(this,"drawCrosshair",{e:K,point:J}),K||(K=this.cross&&this.cross.e),ae&&(L(J)||!ve)!==!1){if(ve?L(J)&&(le=V(this.coll!=="colorAxis"?J.crosshairPos:null,this.isXAxis?J.plotX:this.len-J.plotY)):le=K&&(this.horiz?K.chartX-this.pos:this.len-K.chartY+this.pos),L(le)&&(Le={value:J&&(this.isXAxis?J.x:V(J.stackY,J.y)),translatedValue:le},Q.polar&&H(Le,{isCrosshair:!0,chartX:K&&K.chartX,chartY:K&&K.chartY,point:J}),re=this.getPlotLinePath(Le)||null),!L(re)){this.hideCrosshair();return}fe=this.categories&&!this.isRadial,xe||(this.cross=xe=Q.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(fe?"category ":"thin ")+(ae.className||"")).attr({zIndex:V(ae.zIndex,2)}).add(),!Q.styledMode&&(xe.attr({stroke:ae.color||(fe?o.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":V(ae.width,1)}).css({"pointer-events":"none"}),ae.dashStyle&&xe.attr({dashstyle:ae.dashStyle}))),xe.show().attr({d:re}),fe&&!ae.width&&xe.attr({"stroke-width":this.transA}),this.cross.e=K}else this.hideCrosshair();$(this,"afterDrawCrosshair",{e:K,point:J})}hideCrosshair(){this.cross&&this.cross.hide(),$(this,"afterHideCrosshair")}update(K,J){let ae=this.chart;K=B(this.userOptions,K),this.destroy(!0),this.init(ae,K),ae.isDirtyBox=!0,V(J,!0)&&ae.redraw()}remove(K){let J=this.chart,ae=this.coll,ve=this.series,Q=ve.length;for(;Q--;)ve[Q]&&ve[Q].remove(!1);W(J.axes,this),W(J[ae]||[],this),J.orderItems(ae),this.destroy(),J.isDirtyBox=!0,V(K,!0)&&J.redraw()}setTitle(K,J){this.update({title:K},J)}setCategories(K,J){this.update({categories:K},J)}}return pe.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],pe}),i(t,"Core/Axis/DateTimeAxis.js",[t["Core/Utilities.js"]],function(r){var a;let{addEvent:o,getMagnitude:s,normalizeTickInterval:h,timeUnits:p}=r;return function(f){function y(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function g(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new _(this))}f.compose=function(b){return b.keepProps.includes("dateTime")||(b.keepProps.push("dateTime"),b.prototype.getTimeTicks=y,o(b,"afterSetType",g)),b};class _{constructor(T){this.axis=T}normalizeTimeTickInterval(T,E){let k=E||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],v=k[k.length-1],w=p[v[0]],N=v[1],C;for(C=0;C<k.length&&(w=p[(v=k[C])[0]],N=v[1],!k[C+1]||!(T<=(w*N[N.length-1]+p[k[C+1][0]])/2));C++);w===p.year&&T<5*w&&(N=[1,2,5]);let L=h(T/w,N,v[0]==="year"?Math.max(s(T/w),1):1);return{unitRange:w,count:L,unitName:v[0]}}getXDateFormat(T,E){let{axis:k}=this,v=k.chart.time;return k.closestPointRange?v.getDateFormat(k.closestPointRange,T,k.options.startOfWeek,E)||v.resolveDTLFormat(E.year).main:v.resolveDTLFormat(E.day).main}}f.Additions=_}(a||(a={})),a}),i(t,"Core/Axis/LogarithmicAxis.js",[t["Core/Utilities.js"]],function(r){var a;let{addEvent:o,normalizeTickInterval:s,pick:h}=r;return function(p){function f(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new g(this))}function y(){let _=this.logarithmic;_&&(this.lin2val=function(b){return _.lin2log(b)},this.val2lin=function(b){return _.log2lin(b)})}p.compose=function(_){return _.keepProps.includes("logarithmic")||(_.keepProps.push("logarithmic"),o(_,"afterSetType",f),o(_,"afterInit",y)),_};class g{constructor(b){this.axis=b}getLogTickPositions(b,T,E,k){let v=this.axis,w=v.len,N=v.options,C=[];if(k||(this.minorAutoInterval=void 0),b>=.5)b=Math.round(b),C=v.getLinearTickPositions(b,T,E);else if(b>=.08){let L,O,W,X,H,$,G,j=Math.floor(T);for(L=b>.3?[1,2,4]:b>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],O=j;O<E+1&&!G;O++)for(W=0,X=L.length;W<X&&!G;W++)(H=this.log2lin(this.lin2log(O)*L[W]))>T&&(!k||$<=E)&&$!==void 0&&C.push($),$>E&&(G=!0),$=H}else{let L=this.lin2log(T),O=this.lin2log(E),W=k?v.getMinorTickInterval():N.tickInterval,X=N.tickPixelInterval/(k?5:1),H=k?w/v.tickPositions.length:w;b=s(b=h(W==="auto"?null:W,this.minorAutoInterval,(O-L)*X/(H||1))),C=v.getLinearTickPositions(b,L,O).map(this.log2lin),k||(this.minorAutoInterval=b/5)}return k||(v.tickInterval=b),C}lin2log(b){return Math.pow(10,b)}log2lin(b){return Math.log(b)/Math.LN10}}p.Additions=g}(a||(a={})),a}),i(t,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[t["Core/Utilities.js"]],function(r){var a;let{erase:o,extend:s,isNumber:h}=r;return function(p){let f;function y(v){return this.addPlotBandOrLine(v,"plotBands")}function g(v,w){let N=this.userOptions,C=new f(this,v);if(this.visible&&(C=C.render()),C){if(this._addedPlotLB||(this._addedPlotLB=!0,(N.plotLines||[]).concat(N.plotBands||[]).forEach(L=>{this.addPlotBandOrLine(L)})),w){let L=N[w]||[];L.push(v),N[w]=L}this.plotLinesAndBands.push(C)}return C}function _(v){return this.addPlotBandOrLine(v,"plotLines")}function b(v,w,N){N=N||this.options;let C=this.getPlotLinePath({value:w,force:!0,acrossPanes:N.acrossPanes}),L=[],O=this.horiz,W=!h(this.min)||!h(this.max)||v<this.min&&w<this.min||v>this.max&&w>this.max,X=this.getPlotLinePath({value:v,force:!0,acrossPanes:N.acrossPanes}),H,$=1,G;if(X&&C)for(W&&(G=X.toString()===C.toString(),$=0),H=0;H<X.length;H+=2){let j=X[H],D=X[H+1],M=C[H],Y=C[H+1];(j[0]==="M"||j[0]==="L")&&(D[0]==="M"||D[0]==="L")&&(M[0]==="M"||M[0]==="L")&&(Y[0]==="M"||Y[0]==="L")&&(O&&M[1]===j[1]?(M[1]+=$,Y[1]+=$):O||M[2]!==j[2]||(M[2]+=$,Y[2]+=$),L.push(["M",j[1],j[2]],["L",D[1],D[2]],["L",Y[1],Y[2]],["L",M[1],M[2]],["Z"])),L.isFlat=G}return L}function T(v){this.removePlotBandOrLine(v)}function E(v){let w=this.plotLinesAndBands,N=this.options,C=this.userOptions;if(w){let L=w.length;for(;L--;)w[L].id===v&&w[L].destroy();[N.plotLines||[],C.plotLines||[],N.plotBands||[],C.plotBands||[]].forEach(function(O){for(L=O.length;L--;)(O[L]||{}).id===v&&o(O,O[L])})}}function k(v){this.removePlotBandOrLine(v)}p.compose=function(v,w){let N=w.prototype;return N.addPlotBand||(f=v,s(N,{addPlotBand:y,addPlotLine:_,addPlotBandOrLine:g,getPlotBandPath:b,removePlotBand:T,removePlotLine:k,removePlotBandOrLine:E})),w}}(a||(a={})),a}),i(t,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[t["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],t["Core/Utilities.js"]],function(r,a){let{addEvent:o,arrayMax:s,arrayMin:h,defined:p,destroyObjectProperties:f,erase:y,fireEvent:g,merge:_,objectEach:b,pick:T}=a;class E{static compose(v,w){return o(v,"afterInit",function(){this.labelCollectors.push(()=>{var C;let N=[];for(let L of this.axes)for(let{label:O,options:W}of L.plotLinesAndBands)O&&!((C=W==null?void 0:W.label)!=null&&C.allowOverlap)&&N.push(O);return N})}),r.compose(E,w)}constructor(v,w){this.axis=v,this.options=w,this.id=w.id}render(){g(this,"render");let{axis:v,options:w}=this,{horiz:N,logarithmic:C}=v,{color:L,events:O,zIndex:W=0}=w,X={},H=v.chart.renderer,$=w.to,G=w.from,j=w.value,D=w.borderWidth,M=w.label,{label:Y,svgElem:B}=this,z=[],q,V=p(G)&&p($),te=p(j),ce=!B,ie={class:"highcharts-plot-"+(V?"band ":"line ")+(w.className||"")},se=V?"bands":"lines";if(!v.chart.styledMode&&(te?(ie.stroke=L||"#999999",ie["stroke-width"]=T(w.width,1),w.dashStyle&&(ie.dashstyle=w.dashStyle)):V&&(ie.fill=L||"#e6e9ff",D&&(ie.stroke=w.borderColor,ie["stroke-width"]=D))),X.zIndex=W,se+="-"+W,(q=v.plotLinesAndBandsGroups[se])||(v.plotLinesAndBandsGroups[se]=q=H.g("plot-"+se).attr(X).add()),B||(this.svgElem=B=H.path().attr(ie).add(q)),p(j))z=v.getPlotLinePath({value:(C==null?void 0:C.log2lin(j))??j,lineWidth:B.strokeWidth(),acrossPanes:w.acrossPanes});else{if(!(p(G)&&p($)))return;z=v.getPlotBandPath((C==null?void 0:C.log2lin(G))??G,(C==null?void 0:C.log2lin($))??$,w)}return!this.eventsAdded&&O&&(b(O,(Ce,pe)=>{B==null||B.on(pe,we=>{O[pe].apply(this,[we])})}),this.eventsAdded=!0),(ce||!B.d)&&(z!=null&&z.length)?B.attr({d:z}):B&&(z?(B.show(),B.animate({d:z})):B.d&&(B.hide(),Y&&(this.label=Y=Y.destroy()))),M&&(p(M.text)||p(M.formatter))&&(z!=null&&z.length)&&v.width>0&&v.height>0&&!z.isFlat?(M=_({align:N&&V?"center":void 0,x:N?!V&&4:10,verticalAlign:!N&&V?"middle":void 0,y:N?V?16:10:V?6:-4,rotation:N&&!V?90:0,...V?{inside:!0}:{}},M),this.renderLabel(M,z,V,W)):Y&&Y.hide(),this}renderLabel(v,w,N,C){var M;let L=this.axis,O=L.chart.renderer,W=v.inside,X=this.label;X||(this.label=X=O.text(this.getLabelText(v),0,0,v.useHTML).attr({align:v.textAlign||v.align,rotation:v.rotation,class:"highcharts-plot-"+(N?"band":"line")+"-label "+(v.className||""),zIndex:C}),L.chart.styledMode||X.css(_({fontSize:"0.8em",textOverflow:N&&!W?"":"ellipsis"},v.style)),X.add());let H=w.xBounds||[w[0][1],w[1][1],N?w[2][1]:w[0][1]],$=w.yBounds||[w[0][2],w[1][2],N?w[2][2]:w[0][2]],G=h(H),j=h($),D=s(H)-G;X.align(v,!1,{x:G,y:j,width:D,height:s($)-j}),(!X.alignValue||X.alignValue==="left"||p(W))&&X.css({width:(((M=v.style)==null?void 0:M.width)||(N&&W?D:X.rotation===90?L.height-(X.alignAttr.y-L.top):(v.clip?L.width:L.chart.chartWidth)-(X.alignAttr.x-L.left)))+"px"}),X.show(!0)}getLabelText(v){return p(v.formatter)?v.formatter.call(this):v.text}destroy(){y(this.axis.plotLinesAndBands,this),delete this.axis,f(this)}}return E}),i(t,"Core/Tooltip.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s,h,p){var f;let{animObject:y}=r,{format:g}=a,{composed:_,doc:b,isSafari:T}=o,{distribute:E}=s,{addEvent:k,clamp:v,css:w,discardElement:N,extend:C,fireEvent:L,isArray:O,isNumber:W,isString:X,merge:H,pick:$,pushUnique:G,splat:j,syncTimeout:D}=p;class M{constructor(B,z,q){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=B,this.init(B,z),this.pointer=q}bodyFormatter(B){return B.map(function(z){let q=z.series.tooltipOptions;return(q[(z.point.formatPrefix||"point")+"Formatter"]||z.point.tooltipFormatter).call(z.point,q[(z.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(B){this.chart.series.forEach(function(z){let q=z&&z.tt;q&&(!q.isActive||B?z.tt=q.destroy():q.isActive=!1)})}defaultFormatter(B){let z,q=this.points||j(this);return(z=(z=[B.tooltipFooterHeaderFormatter(q[0])]).concat(B.bodyFormatter(q))).push(B.tooltipFooterHeaderFormatter(q[0],!0)),z}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),N(this.container)),p.clearTimeout(this.hideTimer)}getAnchor(B,z){let q,{chart:V,pointer:te}=this,ce=V.inverted,ie=V.plotTop,se=V.plotLeft;if((B=j(B))[0].series&&B[0].series.yAxis&&!B[0].series.yAxis.options.reversedStacks&&(B=B.slice().reverse()),this.followPointer&&z)z.chartX===void 0&&(z=te.normalize(z)),q=[z.chartX-se,z.chartY-ie];else if(B[0].tooltipPos)q=B[0].tooltipPos;else{let Ce=0,pe=0;B.forEach(function(we){let K=we.pos(!0);K&&(Ce+=K[0],pe+=K[1])}),Ce/=B.length,pe/=B.length,this.shared&&B.length>1&&z&&(ce?Ce=z.chartX:pe=z.chartY),q=[Ce-se,pe-ie]}return q.map(Math.round)}getClassName(B,z,q){let V=this.options,te=B.series,ce=te.options;return[V.className,"highcharts-label",q&&"highcharts-tooltip-header",z?"highcharts-tooltip-box":"highcharts-tooltip",!q&&"highcharts-color-"+$(B.colorIndex,te.colorIndex),ce&&ce.className].filter(X).join(" ")}getLabel({anchorX:B,anchorY:z}={anchorX:0,anchorY:0}){let q=this,V=this.chart.styledMode,te=this.options,ce=this.split&&this.allowShared,ie=this.container,se=this.chart.renderer;if(this.label){let Ce=!this.label.hasClass("highcharts-label");(!ce&&Ce||ce&&!Ce)&&this.destroy()}if(!this.label){if(this.outside){let Ce=this.chart.options.chart.style,pe=h.getRendererType();this.container=ie=o.doc.createElement("div"),ie.className="highcharts-tooltip-container",w(ie,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(Ce&&Ce.zIndex||0)+3)}),this.renderer=se=new pe(ie,0,0,Ce,void 0,void 0,se.styledMode)}if(ce?this.label=se.g("tooltip"):(this.label=se.label("",B,z,te.shape,void 0,void 0,te.useHTML,void 0,"tooltip").attr({padding:te.padding,r:te.borderRadius}),V||this.label.attr({fill:te.backgroundColor,"stroke-width":te.borderWidth||0}).css(te.style).css({pointerEvents:te.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),q.outside){let Ce=this.label;[Ce.xSetter,Ce.ySetter].forEach((pe,we)=>{Ce[we?"ySetter":"xSetter"]=K=>{pe.call(Ce,q.distance),Ce[we?"y":"x"]=K,ie&&(ie.style[we?"top":"left"]=`${K}px`)}})}this.label.attr({zIndex:8}).shadow(te.shadow).add()}return ie&&!ie.parentElement&&o.doc.body.appendChild(ie),this.label}getPlayingField(){let{body:B,documentElement:z}=b,{chart:q,distance:V,outside:te}=this;return{width:te?Math.max(B.scrollWidth,z.scrollWidth,B.offsetWidth,z.offsetWidth,z.clientWidth)-2*V:q.chartWidth,height:te?Math.max(B.scrollHeight,z.scrollHeight,B.offsetHeight,z.offsetHeight,z.clientHeight):q.chartHeight}}getPosition(B,z,q){var Me,ze;let{distance:V,chart:te,outside:ce,pointer:ie}=this,{inverted:se,plotLeft:Ce,plotTop:pe,polar:we}=te,{plotX:K=0,plotY:J=0}=q,ae={},ve=se&&q.h||0,{height:Q,width:re}=this.getPlayingField(),le=ie.getChartPosition(),fe=Ke=>Ke*le.scaleX,xe=Ke=>Ke*le.scaleY,Le=Ke=>{let tt=Ke==="x";return[Ke,tt?re:Q,tt?B:z].concat(ce?[tt?fe(B):xe(z),tt?le.left-V+fe(K+Ce):le.top-V+xe(J+pe),0,tt?re:Q]:[tt?B:z,tt?K+Ce:J+pe,tt?Ce:pe,tt?Ce+te.plotWidth:pe+te.plotHeight])},be=Le("y"),ke=Le("x"),Oe,Ue=!!q.negative;!we&&((ze=(Me=te.hoverSeries)==null?void 0:Me.yAxis)!=null&&ze.reversed)&&(Ue=!Ue);let Xe=!this.followPointer&&$(q.ttBelow,!we&&!se===Ue),Pe=function(Ke,tt,st,ht,gt,Tt,$t){let mt=ce?Ke==="y"?xe(V):fe(V):V,Ct=(st-ht)/2,St=ht<gt-V,sn=gt+V+ht<tt,yn=gt-mt-st+Ct,Zt=gt+mt-Ct;if(Xe&&sn)ae[Ke]=Zt;else if(!Xe&&St)ae[Ke]=yn;else if(St)ae[Ke]=Math.min($t-ht,yn-ve<0?yn:yn-ve);else{if(!sn)return!1;ae[Ke]=Math.max(Tt,Zt+ve+st>tt?Zt:Zt+ve)}},_e=function(Ke,tt,st,ht,gt){if(gt<V||gt>tt-V)return!1;gt<st/2?ae[Ke]=1:gt>tt-ht/2?ae[Ke]=tt-ht-2:ae[Ke]=gt-st/2},Ee=function(Ke){[be,ke]=[ke,be],Oe=Ke},Re=()=>{Pe.apply(0,be)!==!1?_e.apply(0,ke)!==!1||Oe||(Ee(!0),Re()):Oe?ae.x=ae.y=0:(Ee(!0),Re())};return(se&&!we||this.len>1)&&Ee(),Re(),ae}hide(B){let z=this;p.clearTimeout(this.hideTimer),B=$(B,this.options.hideDelay),this.isHidden||(this.hideTimer=D(function(){let q=z.getLabel();z.getLabel().animate({opacity:0},{duration:B&&150,complete:()=>{q.hide(),z.container&&z.container.remove()}}),z.isHidden=!0},B))}init(B,z){this.chart=B,this.options=z,this.crosshairs=[],this.isHidden=!0,this.split=z.split&&!B.inverted&&!B.polar,this.shared=z.shared||this.split,this.outside=$(z.outside,!!(B.scrollablePixelsX||B.scrollablePixelsY))}shouldStickOnContact(B){return!!(!this.followPointer&&this.options.stickOnContact&&(!B||this.pointer.inClass(B.target,"highcharts-tooltip")))}move(B,z,q,V){let te=this,ce=y(!te.isHidden&&te.options.animation),ie=te.followPointer||(te.len||0)>1,se={x:B,y:z};ie||(se.anchorX=q,se.anchorY=V),ce.step=()=>te.drawTracker(),te.getLabel().animate(se,ce)}refresh(B,z){let{chart:q,options:V,pointer:te,shared:ce}=this,ie=j(B),se=ie[0],Ce=[],pe=V.format,we=V.formatter||this.defaultFormatter,K=q.styledMode,J={},ae=this.allowShared;if(!V.enabled||!se.series)return;p.clearTimeout(this.hideTimer),this.allowShared=!(!O(B)&&B.series&&B.series.noSharedTooltip),ae=ae&&!this.allowShared,this.followPointer=!this.split&&se.series.tooltipOptions.followPointer;let ve=this.getAnchor(B,z),Q=ve[0],re=ve[1];ce&&this.allowShared?(te.applyInactiveState(ie),ie.forEach(function(xe){xe.setState("hover"),Ce.push(xe.getLabelConfig())}),(J=se.getLabelConfig()).points=Ce):J=se.getLabelConfig(),this.len=Ce.length;let le=X(pe)?g(pe,J,q):we.call(J,this),fe=se.series;if(this.distance=$(fe.tooltipOptions.distance,16),le===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(le,ie);else{let xe=Q,Le=re;if(z&&te.isDirectTouch&&(xe=z.chartX-q.plotLeft,Le=z.chartY-q.plotTop),q.polar||fe.options.clip===!1||ie.some(be=>te.isDirectTouch||be.series.shouldShowTooltip(xe,Le))){let be=this.getLabel(ae&&this.tt||{});(!V.style.width||K)&&be.css({width:(this.outside?this.getPlayingField():q.spacingBox).width+"px"}),be.attr({class:this.getClassName(se),text:le&&le.join?le.join(""):le}),this.outside&&be.attr({x:v(be.x||0,0,this.getPlayingField().width-(be.width||0))}),K||be.attr({stroke:V.borderColor||se.color||fe.color||"#666666"}),this.updatePosition({plotX:Q,plotY:re,negative:se.negative,ttBelow:se.ttBelow,h:ve[2]||0})}else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}L(this,"refresh")}renderSplit(B,z){var tt;let q=this,{chart:V,chart:{chartWidth:te,chartHeight:ce,plotHeight:ie,plotLeft:se,plotTop:Ce,scrollablePixelsY:pe=0,scrollablePixelsX:we,styledMode:K},distance:J,options:ae,options:{positioner:ve},pointer:Q}=q,{scrollLeft:re=0,scrollTop:le=0}=((tt=V.scrollablePlotArea)==null?void 0:tt.scrollingContainer)||{},fe=q.outside&&typeof we!="number"?b.documentElement.getBoundingClientRect():{left:re,right:re+te,top:le,bottom:le+ce},xe=q.getLabel(),Le=this.renderer||V.renderer,be=!!(V.xAxis[0]&&V.xAxis[0].opposite),{left:ke,top:Oe}=Q.getChartPosition(),Ue=Ce+le,Xe=0,Pe=ie-pe;function _e(st,ht,gt,Tt,$t=!0){let mt,Ct;return gt?(mt=be?0:Pe,Ct=v(st-Tt/2,fe.left,fe.right-Tt-(q.outside?ke:0))):(mt=ht-Ue,Ct=v(Ct=$t?st-Tt-J:st+J,$t?Ct:fe.left,fe.right)),{x:Ct,y:mt}}X(B)&&(B=[!1,B]);let Ee=B.slice(0,z.length+1).reduce(function(st,ht,gt){if(ht!==!1&&ht!==""){let Tt=z[gt-1]||{isHeader:!0,plotX:z[0].plotX,plotY:ie,series:{}},$t=Tt.isHeader,mt=$t?q:Tt.series,Ct=mt.tt=function(di,ni,_i){let Vi=di,{isHeader:oi,series:ut}=ni;if(!Vi){let xt={padding:ae.padding,r:ae.borderRadius};K||(xt.fill=ae.backgroundColor,xt["stroke-width"]=ae.borderWidth??1),Vi=Le.label("",0,0,ae[oi?"headerShape":"shape"],void 0,void 0,ae.useHTML).addClass(q.getClassName(ni,!0,oi)).attr(xt).add(xe)}return Vi.isActive=!0,Vi.attr({text:_i}),K||Vi.css(ae.style).attr({stroke:ae.borderColor||ni.color||ut.color||"#333333"}),Vi}(mt.tt,Tt,ht.toString()),St=Ct.getBBox(),sn=St.width+Ct.strokeWidth();$t&&(Xe=St.height,Pe+=Xe,be&&(Ue-=Xe));let{anchorX:yn,anchorY:Zt}=function(di){let ni,_i,{isHeader:Vi,plotX:oi=0,plotY:ut=0,series:xt}=di;if(Vi)ni=Math.max(se+oi,se),_i=Ce+ie/2;else{let{xAxis:Mt,yAxis:Gt}=xt;ni=Mt.pos+v(oi,-J,Mt.len+J),xt.shouldShowTooltip(0,Gt.pos-Ce+ut,{ignoreX:!0})&&(_i=Gt.pos+ut)}return{anchorX:ni=v(ni,fe.left-J,fe.right+J),anchorY:_i}}(Tt);if(typeof Zt=="number"){let di=St.height+1,ni=ve?ve.call(q,sn,di,Tt):_e(yn,Zt,$t,sn);st.push({align:ve?0:void 0,anchorX:yn,anchorY:Zt,boxWidth:sn,point:Tt,rank:$(ni.rank,$t?1:0),size:di,target:ni.y,tt:Ct,x:ni.x})}else Ct.isActive=!1}return st},[]);!ve&&Ee.some(st=>{let{outside:ht}=q,gt=(ht?ke:0)+st.anchorX;return gt<fe.left&&gt+st.boxWidth<fe.right||gt<ke-fe.left+st.boxWidth&&fe.right-gt>gt})&&(Ee=Ee.map(st=>{let{x:ht,y:gt}=_e(st.anchorX,st.anchorY,st.point.isHeader,st.boxWidth,!1);return C(st,{target:gt,x:ht})})),q.cleanSplit(),E(Ee,Pe);let Re={left:ke,right:ke};Ee.forEach(function(st){let{x:ht,boxWidth:gt,isHeader:Tt}=st;!Tt&&(q.outside&&ke+ht<Re.left&&(Re.left=ke+ht),!Tt&&q.outside&&Re.left+gt>Re.right&&(Re.right=ke+ht))}),Ee.forEach(function(st){let{x:ht,anchorX:gt,anchorY:Tt,pos:$t,point:{isHeader:mt}}=st,Ct={visibility:$t===void 0?"hidden":"inherit",x:ht,y:($t||0)+Ue,anchorX:gt,anchorY:Tt};if(q.outside&&ht<gt){let St=ke-Re.left;St>0&&(mt||(Ct.x=ht+St,Ct.anchorX=gt+St),mt&&(Ct.x=(Re.right-Re.left)/2,Ct.anchorX=gt+St))}st.tt.attr(Ct)});let{container:Me,outside:ze,renderer:Ke}=q;if(ze&&Me&&Ke){let{width:st,height:ht,x:gt,y:Tt}=xe.getBBox();Ke.setSize(st+gt,ht+Tt,!1),Me.style.left=Re.left+"px",Me.style.top=Oe+"px"}T&&xe.attr({opacity:xe.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let B=this.chart,z=this.label,q=this.shared?B.hoverPoints:B.hoverPoint;if(!z||!q)return;let V={x:0,y:0,width:0,height:0},te=this.getAnchor(q),ce=z.getBBox();te[0]+=B.plotLeft-(z.translateX||0),te[1]+=B.plotTop-(z.translateY||0),V.x=Math.min(0,te[0]),V.y=Math.min(0,te[1]),V.width=te[0]<0?Math.max(Math.abs(te[0]),ce.width-te[0]):Math.max(Math.abs(te[0]),ce.width),V.height=te[1]<0?Math.max(Math.abs(te[1]),ce.height-Math.abs(te[1])):Math.max(Math.abs(te[1]),ce.height),this.tracker?this.tracker.attr(V):(this.tracker=z.renderer.rect(V).addClass("highcharts-tracker").add(z),B.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(B){return B.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(B,z){let q=B.series,V=q.tooltipOptions,te=q.xAxis,ce=te&&te.dateTime,ie={isFooter:z,labelConfig:B},se=V.xDateFormat,Ce=V[z?"footerFormat":"headerFormat"];return L(this,"headerFormatter",ie,function(pe){ce&&!se&&W(B.key)&&(se=ce.getXDateFormat(B.key,V.dateTimeLabelFormats)),ce&&se&&(B.point&&B.point.tooltipDateKeys||["key"]).forEach(function(we){Ce=Ce.replace("{point."+we+"}","{point."+we+":"+se+"}")}),q.chart.styledMode&&(Ce=this.styledModeFormat(Ce)),pe.text=g(Ce,{point:B,series:q},this.chart)}),ie.text}update(B){this.destroy(),this.init(this.chart,H(!0,this.options,B))}updatePosition(B){let{chart:z,container:q,distance:V,options:te,pointer:ce,renderer:ie}=this,{height:se=0,width:Ce=0}=this.getLabel(),{left:pe,top:we,scaleX:K,scaleY:J}=ce.getChartPosition(),ae=(te.positioner||this.getPosition).call(this,Ce,se,B),ve=(B.plotX||0)+z.plotLeft,Q=(B.plotY||0)+z.plotTop,re;ie&&q&&(te.positioner&&(ae.x+=pe-V,ae.y+=we-V),re=(te.borderWidth||0)+2*V+2,ie.setSize(Ce+re,se+re,!1),(K!==1||J!==1)&&(w(q,{transform:`scale(${K}, ${J})`}),ve*=K,Q*=J),ve+=pe-ae.x,Q+=we-ae.y),this.move(Math.round(ae.x),Math.round(ae.y||0),ve,Q)}}return(f=M).compose=function(Y){G(_,"Core.Tooltip")&&k(Y,"afterInit",function(){let B=this.chart;B.options.tooltip&&(B.tooltip=new f(B,B.options.tooltip,this))})},M}),i(t,"Core/Series/Point.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Defaults.js"],t["Core/Templating.js"],t["Core/Utilities.js"]],function(r,a,o,s,h){let{animObject:p}=a,{defaultOptions:f}=o,{format:y}=s,{addEvent:g,crisp:_,erase:b,extend:T,fireEvent:E,getNestedProperty:k,isArray:v,isFunction:w,isNumber:N,isObject:C,merge:L,pick:O,syncTimeout:W,removeEvent:X,uniqueKey:H}=h;class ${animateBeforeDestroy(){let j=this,D={x:j.startXPos,opacity:0},M=j.getGraphicalProps();M.singular.forEach(function(Y){j[Y]=j[Y].animate(Y==="dataLabel"?{x:j[Y].startXPos,y:j[Y].startYPos,opacity:0}:D)}),M.plural.forEach(function(Y){j[Y].forEach(function(B){B.element&&B.animate(T({x:j.startXPos},B.startYPos?{x:B.startXPos,y:B.startYPos}:{}))})})}applyOptions(j,D){let M=this.series,Y=M.options.pointValKey||M.pointValKey;return T(this,j=$.prototype.optionsToObject.call(this,j)),this.options=this.options?T(this.options,j):j,j.group&&delete this.group,j.dataLabels&&delete this.dataLabels,Y&&(this.y=$.prototype.getNestedProperty.call(this,Y)),this.selected&&(this.state="select"),"name"in this&&D===void 0&&M.xAxis&&M.xAxis.hasNames&&(this.x=M.xAxis.nameToX(this)),this.x===void 0&&M?this.x=D??M.autoIncrement():N(j.x)&&M.options.relativeXValue&&(this.x=M.autoIncrement(j.x)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let j=this,D=j.series,M=D.chart,Y=D.options.dataSorting,B=M.hoverPoints,z=p(j.series.chart.renderer.globalAnimation),q=()=>{for(let V in(j.graphic||j.graphics||j.dataLabel||j.dataLabels)&&(X(j),j.destroyElements()),j)delete j[V]};j.legendItem&&M.legend.destroyItem(j),B&&(j.setState(),b(B,j),B.length||(M.hoverPoints=null)),j===M.hoverPoint&&j.onMouseOut(),Y&&Y.enabled?(this.animateBeforeDestroy(),W(q,z.duration)):q(),M.pointCount--}this.destroyed=!0}destroyElements(j){let D=this,M=D.getGraphicalProps(j);M.singular.forEach(function(Y){D[Y]=D[Y].destroy()}),M.plural.forEach(function(Y){D[Y].forEach(function(B){B&&B.element&&B.destroy()}),delete D[Y]})}firePointEvent(j,D,M){let Y=this,B=this.series.options;Y.manageEvent(j),j==="click"&&B.allowPointSelect&&(M=function(z){!Y.destroyed&&Y.select&&Y.select(null,z.ctrlKey||z.metaKey||z.shiftKey)}),E(Y,j,D,M)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(j){let D,M,Y=this,B=[],z={singular:[],plural:[]};for((j=j||{graphic:1,dataLabel:1}).graphic&&B.push("graphic","connector"),j.dataLabel&&B.push("dataLabel","dataLabelPath","dataLabelUpper"),M=B.length;M--;)Y[D=B[M]]&&z.singular.push(D);return["graphic","dataLabel"].forEach(function(q){let V=q+"s";j[q]&&Y[V]&&z.plural.push(V)}),z}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(j){return j?j.indexOf("custom.")===0?k(j,this.options):this[j]:void 0}getZone(){let j=this.series,D=j.zones,M=j.zoneAxis||"y",Y,B=0;for(Y=D[0];this[M]>=Y.value;)Y=D[++B];return this.nonZonedColor||(this.nonZonedColor=this.color),Y&&Y.color&&!this.options.color?this.color=Y.color:this.color=this.nonZonedColor,Y}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(j,D,M){this.formatPrefix="point",this.visible=!0,this.series=j,this.applyOptions(D,M),this.id??(this.id=H()),this.resolveColor(),j.chart.pointCount++,E(this,"afterInit")}isValid(){return(N(this.x)||this.x instanceof Date)&&N(this.y)}optionsToObject(j){let D=this.series,M=D.options.keys,Y=M||D.pointArrayMap||["y"],B=Y.length,z={},q,V=0,te=0;if(N(j)||j===null)z[Y[0]]=j;else if(v(j))for(!M&&j.length>B&&((q=typeof j[0])=="string"?z.name=j[0]:q==="number"&&(z.x=j[0]),V++);te<B;)M&&j[V]===void 0||(Y[te].indexOf(".")>0?$.prototype.setNestedProperty(z,j[V],Y[te]):z[Y[te]]=j[V]),V++,te++;else typeof j=="object"&&(z=j,j.dataLabels&&(D.hasDataLabels=()=>!0),j.marker&&(D._hasPointMarkers=!0));return z}pos(j,D=this.plotY){if(!this.destroyed){let{plotX:M,series:Y}=this,{chart:B,xAxis:z,yAxis:q}=Y,V=0,te=0;if(N(M)&&N(D))return j&&(V=z?z.pos:B.plotLeft,te=q?q.pos:B.plotTop),B.inverted&&z&&q?[q.len-D+te,z.len-M+V]:[M+V,D+te]}}resolveColor(){let j=this.series,D=j.chart.options.chart,M=j.chart.styledMode,Y,B,z=D.colorCount,q;delete this.nonZonedColor,j.options.colorByPoint?(M||(Y=(B=j.options.colors||j.chart.options.colors)[j.colorCounter],z=B.length),q=j.colorCounter,j.colorCounter++,j.colorCounter===z&&(j.colorCounter=0)):(M||(Y=j.color),q=j.colorIndex),this.colorIndex=O(this.options.colorIndex,q),this.color=O(this.options.color,Y)}setNestedProperty(j,D,M){return M.split(".").reduce(function(Y,B,z,q){let V=q.length-1===z;return Y[B]=V?D:C(Y[B],!0)?Y[B]:{},Y[B]},j),j}shouldDraw(){return!this.isNull}tooltipFormatter(j){let D=this.series,M=D.tooltipOptions,Y=O(M.valueDecimals,""),B=M.valuePrefix||"",z=M.valueSuffix||"";return D.chart.styledMode&&(j=D.chart.tooltip.styledModeFormat(j)),(D.pointArrayMap||["y"]).forEach(function(q){q="{point."+q,(B||z)&&(j=j.replace(RegExp(q+"}","g"),B+q+"}"+z)),j=j.replace(RegExp(q+"}","g"),q+":,."+Y+"f}")}),y(j,{point:this,series:this.series},D.chart)}update(j,D,M,Y){let B,z=this,q=z.series,V=z.graphic,te=q.chart,ce=q.options;function ie(){z.applyOptions(j);let se=V&&z.hasMockGraphic,Ce=z.y===null?!se:se;V&&Ce&&(z.graphic=V.destroy(),delete z.hasMockGraphic),C(j,!0)&&(V&&V.element&&j&&j.marker&&j.marker.symbol!==void 0&&(z.graphic=V.destroy()),j!=null&&j.dataLabels&&z.dataLabel&&(z.dataLabel=z.dataLabel.destroy())),B=z.index,q.updateParallelArrays(z,B),ce.data[B]=C(ce.data[B],!0)||C(j,!0)?z.options:O(j,ce.data[B]),q.isDirty=q.isDirtyData=!0,!q.fixedBox&&q.hasCartesianSeries&&(te.isDirtyBox=!0),ce.legendType==="point"&&(te.isDirtyLegend=!0),D&&te.redraw(M)}D=O(D,!0),Y===!1?ie():z.firePointEvent("update",{options:j},ie)}remove(j,D){this.series.removePoint(this.series.data.indexOf(this),j,D)}select(j,D){let M=this,Y=M.series,B=Y.chart;j=O(j,!M.selected),this.selectedStaging=j,M.firePointEvent(j?"select":"unselect",{accumulate:D},function(){M.selected=M.options.selected=j,Y.options.data[Y.data.indexOf(M)]=M.options,M.setState(j&&"select"),D||B.getSelectedPoints().forEach(function(z){let q=z.series;z.selected&&z!==M&&(z.selected=z.options.selected=!1,q.options.data[q.data.indexOf(z)]=z.options,z.setState(B.hoverPoints&&q.options.inactiveOtherPoints?"inactive":""),z.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(j){let{inverted:D,pointer:M}=this.series.chart;M&&(j=j?M.normalize(j):M.getChartCoordinatesFromPoint(this,D),M.runPointActions(j,this))}onMouseOut(){let j=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(j.hoverPoints||[]).forEach(function(D){D.setState()}),j.hoverPoints=j.hoverPoint=null}manageEvent(j){var Y,B,z,q,V,te;let D=L(this.series.options.point,this.options),M=(Y=D.events)==null?void 0:Y[j];w(M)&&(!((B=this.hcEvents)!=null&&B[j])||((q=(z=this.hcEvents)==null?void 0:z[j])==null?void 0:q.map(ce=>ce.fn).indexOf(M))===-1)?((V=this.importedUserEvent)==null||V.call(this),this.importedUserEvent=g(this,j,M)):this.importedUserEvent&&!M&&((te=this.hcEvents)!=null&&te[j])&&(X(this,j),delete this.hcEvents[j],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(j,D){var le;let M=this.series,Y=this.state,B=M.options.states[j||"normal"]||{},z=f.plotOptions[M.type].marker&&M.options.marker,q=z&&z.enabled===!1,V=z&&z.states&&z.states[j||"normal"]||{},te=V.enabled===!1,ce=this.marker||{},ie=M.chart,se=z&&M.markerAttribs,Ce=M.halo,pe,we,K,J=M.stateMarkerGraphic,ae;if((j=j||"")===this.state&&!D||this.selected&&j!=="select"||B.enabled===!1||j&&(te||q&&V.enabled===!1)||j&&ce.states&&ce.states[j]&&ce.states[j].enabled===!1)return;if(this.state=j,se&&(pe=M.markerAttribs(this,j)),this.graphic&&!this.hasMockGraphic){if(Y&&this.graphic.removeClass("highcharts-point-"+Y),j&&this.graphic.addClass("highcharts-point-"+j),!ie.styledMode){we=M.pointAttribs(this,j),K=O(ie.options.chart.animation,B.animation);let fe=we.opacity;M.options.inactiveOtherPoints&&N(fe)&&(this.dataLabels||[]).forEach(function(xe){xe&&!xe.hasClass("highcharts-data-label-hidden")&&(xe.animate({opacity:fe},K),xe.connector&&xe.connector.animate({opacity:fe},K))}),this.graphic.animate(we,K)}pe&&this.graphic.animate(pe,O(ie.options.chart.animation,V.animation,z.animation)),J&&J.hide()}else j&&V&&(ae=ce.symbol||M.symbol,J&&J.currentSymbol!==ae&&(J=J.destroy()),pe&&(J?J[D?"animate":"attr"]({x:pe.x,y:pe.y}):ae&&(M.stateMarkerGraphic=J=ie.renderer.symbol(ae,pe.x,pe.y,pe.width,pe.height).add(M.markerGroup),J.currentSymbol=ae)),!ie.styledMode&&J&&this.state!=="inactive"&&J.attr(M.pointAttribs(this,j))),J&&(J[j&&this.isInside?"show":"hide"](),J.element.point=this,J.addClass(this.getClassName(),!0));let ve=B.halo,Q=this.graphic||J,re=Q&&Q.visibility||"inherit";ve&&ve.size&&Q&&re!=="hidden"&&!this.isCluster?(Ce||(M.halo=Ce=ie.renderer.path().add(Q.parentGroup)),Ce.show()[D?"animate":"attr"]({d:this.haloPath(ve.size)}),Ce.attr({class:"highcharts-halo highcharts-color-"+O(this.colorIndex,M.colorIndex)+(this.className?" "+this.className:""),visibility:re,zIndex:-1}),Ce.point=this,ie.styledMode||Ce.attr(T({fill:this.color||M.color,"fill-opacity":ve.opacity},r.filterUserAttributes(ve.attributes||{})))):(le=Ce==null?void 0:Ce.point)!=null&&le.haloPath&&!Ce.point.destroyed&&Ce.animate({d:Ce.point.haloPath(0)},null,Ce.hide),E(this,"afterSetState",{state:j})}haloPath(j){let D=this.pos();return D?this.series.chart.renderer.symbols.circle(_(D[0],1)-j,D[1]-j,2*j,2*j):[]}}return $}),i(t,"Core/Pointer.js",[t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){var s;let{parse:h}=r,{charts:p,composed:f,isTouchDevice:y}=a,{addEvent:g,attr:_,css:b,extend:T,find:E,fireEvent:k,isNumber:v,isObject:w,objectEach:N,offset:C,pick:L,pushUnique:O,splat:W}=o;class X{applyInactiveState($){let G=[],j;($||[]).forEach(function(D){j=D.series,G.push(j),j.linkedParent&&G.push(j.linkedParent),j.linkedSeries&&(G=G.concat(j.linkedSeries)),j.navigatorSeries&&G.push(j.navigatorSeries)}),this.chart.series.forEach(function(D){G.indexOf(D)===-1?D.setState("inactive",!0):D.options.inactiveOtherPoints&&D.setAllPointsToState("inactive")})}destroy(){let $=this;this.eventsToUnbind.forEach(G=>G()),this.eventsToUnbind=[],!a.chartCount&&(X.unbindDocumentMouseUp&&X.unbindDocumentMouseUp.forEach(G=>G()),X.unbindDocumentTouchEnd&&(X.unbindDocumentTouchEnd=X.unbindDocumentTouchEnd())),clearInterval($.tooltipTimeout),N($,function(G,j){$[j]=void 0})}getSelectionMarkerAttrs($,G){let j={args:{chartX:$,chartY:G},attrs:{},shapeType:"rect"};return k(this,"getSelectionMarkerAttrs",j,D=>{let M,{chart:Y,zoomHor:B,zoomVert:z}=this,{mouseDownX:q=0,mouseDownY:V=0}=Y,te=D.attrs;te.x=Y.plotLeft,te.y=Y.plotTop,te.width=B?1:Y.plotWidth,te.height=z?1:Y.plotHeight,B&&(M=$-q,te.width=Math.max(1,Math.abs(M)),te.x=(M>0?0:M)+q),z&&(M=G-V,te.height=Math.max(1,Math.abs(M)),te.y=(M>0?0:M)+V)}),j}drag($){let{chart:G}=this,{mouseDownX:j=0,mouseDownY:D=0}=G,{panning:M,panKey:Y,selectionMarkerFill:B}=G.options.chart,z=G.plotLeft,q=G.plotTop,V=G.plotWidth,te=G.plotHeight,ce=w(M)?M.enabled:M,ie=Y&&$[`${Y}Key`],se=$.chartX,Ce=$.chartY,pe,we=this.selectionMarker;if((!we||!we.touch)&&(se<z?se=z:se>z+V&&(se=z+V),Ce<q?Ce=q:Ce>q+te&&(Ce=q+te),this.hasDragged=Math.sqrt(Math.pow(j-se,2)+Math.pow(D-Ce,2)),this.hasDragged>10)){pe=G.isInsidePlot(j-z,D-q,{visiblePlotOnly:!0});let{shapeType:K,attrs:J}=this.getSelectionMarkerAttrs(se,Ce);(G.hasCartesianSeries||G.mapView)&&this.hasZoom&&pe&&!ie&&!we&&(this.selectionMarker=we=G.renderer[K](),we.attr({class:"highcharts-selection-marker",zIndex:7}).add(),G.styledMode||we.attr({fill:B||h("#334eff").setOpacity(.25).get()})),we&&we.attr(J),pe&&!we&&ce&&G.pan($,M)}}dragStart($){let G=this.chart;G.mouseIsDown=$.type,G.cancelClick=!1,G.mouseDownX=$.chartX,G.mouseDownY=$.chartY}getSelectionBox($){let G={args:{marker:$},result:$.getBBox()};return k(this,"getSelectionBox",G),G.result}drop($){let G,{chart:j,selectionMarker:D}=this;for(let M of j.axes)M.isPanning&&(M.isPanning=!1,(M.options.startOnTick||M.options.endOnTick||M.series.some(Y=>Y.boosted))&&(M.forceRedraw=!0,M.setExtremes(M.userMin,M.userMax,!1),G=!0));if(G&&j.redraw(),D&&$){if(this.hasDragged){let M=this.getSelectionBox(D);j.transform({axes:j.axes.filter(Y=>Y.zoomEnabled&&(Y.coll==="xAxis"&&this.zoomX||Y.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:$,xAxis:[],yAxis:[],...M},from:M})}v(j.index)&&(this.selectionMarker=D.destroy())}j&&v(j.index)&&(b(j.container,{cursor:j._cursor}),j.cancelClick=this.hasDragged>10,j.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint($,G,j){let D;return $.forEach(function(M){let Y=!(M.noSharedTooltip&&G)&&0>M.options.findNearestPointBy.indexOf("y"),B=M.searchPoint(j,Y);w(B,!0)&&B.series&&(!w(D,!0)||function(z,q){var ie,se;let V=z.distX-q.distX,te=z.dist-q.dist,ce=((ie=q.series.group)==null?void 0:ie.zIndex)-((se=z.series.group)==null?void 0:se.zIndex);return V!==0&&G?V:te!==0?te:ce!==0?ce:z.series.index>q.series.index?-1:1}(D,B)>0)&&(D=B)}),D}getChartCoordinatesFromPoint($,G){let{xAxis:j,yAxis:D}=$.series,M=$.shapeArgs;if(j&&D){let Y=$.clientX??$.plotX??0,B=$.plotY||0;return $.isNode&&M&&v(M.x)&&v(M.y)&&(Y=M.x,B=M.y),G?{chartX:D.len+D.pos-B,chartY:j.len+j.pos-Y}:{chartX:Y+j.pos,chartY:B+D.pos}}if(M&&M.x&&M.y)return{chartX:M.x,chartY:M.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:$}=this.chart,G=C($);this.chartPosition={left:G.left,top:G.top,scaleX:1,scaleY:1};let{offsetHeight:j,offsetWidth:D}=$;return D>2&&j>2&&(this.chartPosition.scaleX=G.width/D,this.chartPosition.scaleY=G.height/j),this.chartPosition}getCoordinates($){let G={xAxis:[],yAxis:[]};for(let j of this.chart.axes)G[j.isXAxis?"xAxis":"yAxis"].push({axis:j,value:j.toValue($[j.horiz?"chartX":"chartY"])});return G}getHoverData($,G,j,D,M,Y){let B=[],z=function(ie){return ie.visible&&!(!M&&ie.directTouch)&&L(ie.options.enableMouseTracking,!0)},q=G,V,te={chartX:Y?Y.chartX:void 0,chartY:Y?Y.chartY:void 0,shared:M};k(this,"beforeGetHoverData",te),V=q&&!q.stickyTracking?[q]:j.filter(ie=>ie.stickyTracking&&(te.filter||z)(ie));let ce=D&&$||!Y?$:this.findNearestKDPoint(V,M,Y);return q=ce&&ce.series,ce&&(M&&!q.noSharedTooltip?(V=j.filter(function(ie){return te.filter?te.filter(ie):z(ie)&&!ie.noSharedTooltip})).forEach(function(ie){let se=E(ie.points,function(Ce){return Ce.x===ce.x&&!Ce.isNull});w(se)&&(ie.boosted&&ie.boost&&(se=ie.boost.getPoint(se)),B.push(se))}):B.push(ce)),k(this,"afterGetHoverData",te={hoverPoint:ce}),{hoverPoint:te.hoverPoint,hoverSeries:q,hoverPoints:B}}getPointFromEvent($){let G=$.target,j;for(;G&&!j;)j=G.point,G=G.parentNode;return j}onTrackerMouseOut($){let G=this.chart,j=$.relatedTarget,D=G.hoverSeries;this.isDirectTouch=!1,!D||!j||D.stickyTracking||this.inClass(j,"highcharts-tooltip")||this.inClass(j,"highcharts-series-"+D.index)&&this.inClass(j,"highcharts-tracker")||D.onMouseOut()}inClass($,G){let j=$,D;for(;j;){if(D=_(j,"class")){if(D.indexOf(G)!==-1)return!0;if(D.indexOf("highcharts-container")!==-1)return!1}j=j.parentElement}}constructor($,G){var j;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=G,this.chart=$,this.runChartClick=!!((j=G.chart.events)!=null&&j.click),this.pinchDown=[],this.setDOMEvents(),k(this,"afterInit")}normalize($,G){let j=$.touches,D=j?j.length?j.item(0):L(j.changedTouches,$.changedTouches)[0]:$;G||(G=this.getChartPosition());let M=D.pageX-G.left,Y=D.pageY-G.top;return T($,{chartX:Math.round(M/=G.scaleX),chartY:Math.round(Y/=G.scaleY)})}onContainerClick($){let G=this.chart,j=G.hoverPoint,D=this.normalize($),M=G.plotLeft,Y=G.plotTop;!G.cancelClick&&(j&&this.inClass(D.target,"highcharts-tracker")?(k(j.series,"click",T(D,{point:j})),G.hoverPoint&&j.firePointEvent("click",D)):(T(D,this.getCoordinates(D)),G.isInsidePlot(D.chartX-M,D.chartY-Y,{visiblePlotOnly:!0})&&k(G,"click",D)))}onContainerMouseDown($){var j;let G=(1&($.buttons||$.button))==1;$=this.normalize($),a.isFirefox&&$.button!==0&&this.onContainerMouseMove($),($.button===void 0||G)&&(this.zoomOption($),G&&((j=$.preventDefault)==null||j.call($)),this.dragStart($))}onContainerMouseLeave($){let{pointer:G}=p[L(X.hoverChartIndex,-1)]||{};$=this.normalize($),this.onContainerMouseMove($),G&&!this.inClass($.relatedTarget,"highcharts-tooltip")&&(G.reset(),G.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove($){let G=this.chart,j=G.tooltip,D=this.normalize($);this.setHoverChartIndex($),(G.mouseIsDown==="mousedown"||this.touchSelect(D))&&this.drag(D),!G.openMenu&&(this.inClass(D.target,"highcharts-tracker")||G.isInsidePlot(D.chartX-G.plotLeft,D.chartY-G.plotTop,{visiblePlotOnly:!0}))&&!(j&&j.shouldStickOnContact(D))&&(this.inClass(D.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(D))}onDocumentTouchEnd($){this.onDocumentMouseUp($)}onContainerTouchMove($){this.touchSelect($)?this.onContainerMouseMove($):this.touch($)}onContainerTouchStart($){this.touchSelect($)?this.onContainerMouseDown($):(this.zoomOption($),this.touch($,!0))}onDocumentMouseMove($){let G=this.chart,j=G.tooltip,D=this.chartPosition,M=this.normalize($,D);!D||G.isInsidePlot(M.chartX-G.plotLeft,M.chartY-G.plotTop,{visiblePlotOnly:!0})||j&&j.shouldStickOnContact(M)||M.target!==G.container.ownerDocument&&this.inClass(M.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp($){var G,j;(j=(G=p[L(X.hoverChartIndex,-1)])==null?void 0:G.pointer)==null||j.drop($)}pinch($){let G=this,{chart:j,hasZoom:D,lastTouches:M}=G,Y=[].map.call($.touches||[],te=>G.normalize(te)),B=Y.length,z=B===1&&(G.inClass($.target,"highcharts-tracker")&&j.runTrackerClick||G.runChartClick),q=j.tooltip,V=B===1&&L(q==null?void 0:q.options.followTouchMove,!0);B>1?G.initiated=!0:V&&(G.initiated=!1),D&&G.initiated&&!z&&$.cancelable!==!1&&$.preventDefault(),$.type==="touchstart"?(G.pinchDown=Y,G.res=!0,j.mouseDownX=$.chartX):V?this.runPointActions(G.normalize($)):M&&(k(j,"touchpan",{originalEvent:$,touches:Y},()=>{let te=ce=>{let ie=ce[0],se=ce[1]||ie;return{x:ie.chartX,y:ie.chartY,width:se.chartX-ie.chartX,height:se.chartY-ie.chartY}};j.transform({axes:j.axes.filter(ce=>ce.zoomEnabled&&(this.zoomHor&&ce.horiz||this.zoomVert&&!ce.horiz)),to:te(Y),from:te(M),trigger:$.type})}),G.res&&(G.res=!1,this.reset(!1,0))),G.lastTouches=Y}reset($,G){let j=this.chart,D=j.hoverSeries,M=j.hoverPoint,Y=j.hoverPoints,B=j.tooltip,z=B&&B.shared?Y:M;$&&z&&W(z).forEach(function(q){q.series.isCartesian&&q.plotX===void 0&&($=!1)}),$?B&&z&&W(z).length&&(B.refresh(z),B.shared&&Y?Y.forEach(function(q){q.setState(q.state,!0),q.series.isCartesian&&(q.series.xAxis.crosshair&&q.series.xAxis.drawCrosshair(null,q),q.series.yAxis.crosshair&&q.series.yAxis.drawCrosshair(null,q))}):M&&(M.setState(M.state,!0),j.axes.forEach(function(q){q.crosshair&&M.series[q.coll]===q&&q.drawCrosshair(null,M)}))):(M&&M.onMouseOut(),Y&&Y.forEach(function(q){q.setState()}),D&&D.onMouseOut(),B&&B.hide(G),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),j.axes.forEach(function(q){q.hideCrosshair()}),j.hoverPoints=j.hoverPoint=void 0)}runPointActions($,G,j){let D=this.chart,M=D.series,Y=D.tooltip&&D.tooltip.options.enabled?D.tooltip:void 0,B=!!Y&&Y.shared,z=G||D.hoverPoint,q=z&&z.series||D.hoverSeries,V=(!$||$.type!=="touchmove")&&(!!G||q&&q.directTouch&&this.isDirectTouch),te=this.getHoverData(z,q,M,V,B,$);z=te.hoverPoint,q=te.hoverSeries;let ce=te.hoverPoints,ie=q&&q.tooltipOptions.followPointer&&!q.tooltipOptions.split,se=B&&q&&!q.noSharedTooltip;if(z&&(j||z!==D.hoverPoint||Y&&Y.isHidden)){if((D.hoverPoints||[]).forEach(function(Ce){ce.indexOf(Ce)===-1&&Ce.setState()}),D.hoverSeries!==q&&q.onMouseOver(),this.applyInactiveState(ce),(ce||[]).forEach(function(Ce){Ce.setState("hover")}),D.hoverPoint&&D.hoverPoint.firePointEvent("mouseOut"),!z.series)return;D.hoverPoints=ce,D.hoverPoint=z,z.firePointEvent("mouseOver",void 0,()=>{Y&&z&&Y.refresh(se?ce:z,$)})}else if(ie&&Y&&!Y.isHidden){let Ce=Y.getAnchor([{}],$);D.isInsidePlot(Ce[0],Ce[1],{visiblePlotOnly:!0})&&Y.updatePosition({plotX:Ce[0],plotY:Ce[1]})}this.unDocMouseMove||(this.unDocMouseMove=g(D.container.ownerDocument,"mousemove",Ce=>{var pe,we;return(we=(pe=p[X.hoverChartIndex??-1])==null?void 0:pe.pointer)==null?void 0:we.onDocumentMouseMove(Ce)}),this.eventsToUnbind.push(this.unDocMouseMove)),D.axes.forEach(function(Ce){let pe,we=L((Ce.crosshair||{}).snap,!0);!we||(pe=D.hoverPoint)&&pe.series[Ce.coll]===Ce||(pe=E(ce,K=>K.series&&K.series[Ce.coll]===Ce)),pe||!we?Ce.drawCrosshair($,pe):Ce.hideCrosshair()})}setDOMEvents(){let $=this.chart.container,G=$.ownerDocument;$.onmousedown=this.onContainerMouseDown.bind(this),$.onmousemove=this.onContainerMouseMove.bind(this),$.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(g($,"mouseenter",this.onContainerMouseEnter.bind(this)),g($,"mouseleave",this.onContainerMouseLeave.bind(this))),X.unbindDocumentMouseUp||(X.unbindDocumentMouseUp=[]),X.unbindDocumentMouseUp.push(g(G,"mouseup",this.onDocumentMouseUp.bind(this)));let j=this.chart.renderTo.parentElement;for(;j&&j.tagName!=="BODY";)this.eventsToUnbind.push(g(j,"scroll",()=>{delete this.chartPosition})),j=j.parentElement;this.eventsToUnbind.push(g($,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),g($,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),X.unbindDocumentTouchEnd||(X.unbindDocumentTouchEnd=g(G,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),g(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var M,Y;if(!y)return;let $=this.pointerCaptureEventsToUnbind,G=this.chart,j=G.container,D=L((M=G.options.tooltip)==null?void 0:M.followTouchMove,!0)&&G.series.some(B=>B.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&D?($.push(g(j,"pointerdown",B=>{var z,q;(z=B.target)!=null&&z.hasPointerCapture(B.pointerId)&&((q=B.target)==null||q.releasePointerCapture(B.pointerId))}),g(j,"pointermove",B=>{var z,q;(q=(z=G.pointer)==null?void 0:z.getPointFromEvent(B))==null||q.onMouseOver(B)})),G.styledMode||b(j,{"touch-action":"none"}),j.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!D&&($.forEach(B=>B()),$.length=0,G.styledMode||b(j,{"touch-action":L((Y=G.options.chart.style)==null?void 0:Y["touch-action"],"manipulation")}),j.className=j.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex($){var D;let G=this.chart,j=a.charts[L(X.hoverChartIndex,-1)];if(j&&j!==G){let M={relatedTarget:G.container};$&&!($!=null&&$.relatedTarget)&&($={...M,...$}),(D=j.pointer)==null||D.onContainerMouseLeave($||M)}j&&j.mouseIsDown||(X.hoverChartIndex=G.index)}touch($,G){let j,{chart:D,pinchDown:M=[]}=this;this.setHoverChartIndex(),($=this.normalize($)).touches.length===1?D.isInsidePlot($.chartX-D.plotLeft,$.chartY-D.plotTop,{visiblePlotOnly:!0})&&!D.openMenu?(G&&this.runPointActions($),$.type==="touchmove"&&(j=!!M[0]&&Math.pow(M[0].chartX-$.chartX,2)+Math.pow(M[0].chartY-$.chartY,2)>=16),L(j,!0)&&this.pinch($)):G&&this.reset():$.touches.length===2&&this.pinch($)}touchSelect($){return!!(this.chart.zooming.singleTouch&&$.touches&&$.touches.length===1)}zoomOption($){let G=this.chart,j=G.inverted,D=G.zooming.type||"",M,Y;/touch/.test($.type)&&(D=L(G.zooming.pinchType,D)),this.zoomX=M=/x/.test(D),this.zoomY=Y=/y/.test(D),this.zoomHor=M&&!j||Y&&j,this.zoomVert=Y&&!j||M&&j,this.hasZoom=M||Y}}return(s=X).compose=function(H){O(f,"Core.Pointer")&&g(H,"beforeRender",function(){this.pointer=new s(this,this.options)})},X}),i(t,"Core/Legend/LegendSymbol.js",[t["Core/Utilities.js"]],function(r){var a;let{extend:o,merge:s,pick:h}=r;return function(p){function f(y,g,_){var j,D;let b=this.legendItem=this.legendItem||{},{chart:T,options:E}=this,{baseline:k=0,symbolWidth:v,symbolHeight:w}=y,N=this.symbol||"circle",C=w/2,L=T.renderer,O=b.group,W=k-Math.round((((j=y.fontMetrics)==null?void 0:j.b)||w)*(_?.4:.3)),X={},H,$=E.marker,G=0;if(T.styledMode||(X["stroke-width"]=Math.min(E.lineWidth||0,24),E.dashStyle?X.dashstyle=E.dashStyle:E.linecap==="square"||(X["stroke-linecap"]="round")),b.line=L.path().addClass("highcharts-graph").attr(X).add(O),_&&(b.area=L.path().addClass("highcharts-area").add(O)),X["stroke-linecap"]&&(G=Math.min(b.line.strokeWidth(),v)/2),v){let M=[["M",G,W],["L",v-G,W]];b.line.attr({d:M}),(D=b.area)==null||D.attr({d:[...M,["L",v-G,k],["L",G,k]]})}if($&&$.enabled!==!1&&v){let M=Math.min(h($.radius,C),C);N.indexOf("url")===0&&($=s($,{width:w,height:w}),M=0),b.symbol=H=L.symbol(N,v/2-M,W-M,2*M,2*M,o({context:"legend"},$)).addClass("highcharts-point").add(O),H.isMarker=!0}}p.areaMarker=function(y,g){f.call(this,y,g,!0)},p.lineMarker=f,p.rectangle=function(y,g){let _=g.legendItem||{},b=y.options,T=y.symbolHeight,E=b.squareSymbol,k=E?T:y.symbolWidth;_.symbol=this.chart.renderer.rect(E?(y.symbolWidth-T)/2:0,y.baseline-T+1,k,T,h(y.options.symbolRadius,T/2)).addClass("highcharts-point").attr({zIndex:3}).add(_.group)}}(a||(a={})),a}),i(t,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:r}=this.series.chart;return typeof this.y!="number"?"":r(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),i(t,"Core/Series/SeriesRegistry.js",[t["Core/Globals.js"],t["Core/Defaults.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(r,a,o,s){var h;let{defaultOptions:p}=a,{extend:f,extendClass:y,merge:g}=s;return function(_){function b(T,E){let k=p.plotOptions||{},v=E.defaultOptions,w=E.prototype;return w.type=T,w.pointClass||(w.pointClass=o),!_.seriesTypes[T]&&(v&&(k[T]=v),_.seriesTypes[T]=E,!0)}_.seriesTypes=r.seriesTypes,_.registerSeriesType=b,_.seriesType=function(T,E,k,v,w){let N=p.plotOptions||{};if(E=E||"",N[T]=g(N[E],k),delete _.seriesTypes[T],b(T,y(_.seriesTypes[E]||function(){},v)),_.seriesTypes[T].prototype.type=T,w){class C extends o{}f(C.prototype,w),_.seriesTypes[T].prototype.pointClass=C}return _.seriesTypes[T]}}(h||(h={})),h}),i(t,"Core/Series/Series.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Defaults.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,a,o,s,h,p,f,y,g,_){let{animObject:b,setAnimation:T}=r,{defaultOptions:E}=a,{registerEventOptions:k}=o,{svg:v,win:w}=s,{seriesTypes:N}=y,{arrayMax:C,arrayMin:L,clamp:O,correctFloat:W,crisp:X,defined:H,destroyObjectProperties:$,diffObjects:G,erase:j,error:D,extend:M,find:Y,fireEvent:B,getClosestDistance:z,getNestedProperty:q,insertItem:V,isArray:te,isNumber:ce,isString:ie,merge:se,objectEach:Ce,pick:pe,removeEvent:we,splat:K,syncTimeout:J}=_;class ae{constructor(){this.zoneAxis="y"}init(Q,re){let le;B(this,"init",{options:re});let fe=this,xe=Q.series;this.eventsToUnbind=[],fe.chart=Q,fe.options=fe.setOptions(re);let Le=fe.options,be=Le.visible!==!1;fe.linkedSeries=[],fe.bindAxes(),M(fe,{name:Le.name,state:"",visible:be,selected:Le.selected===!0}),k(this,Le);let ke=Le.events;(ke&&ke.click||Le.point&&Le.point.events&&Le.point.events.click||Le.allowPointSelect)&&(Q.runTrackerClick=!0),fe.getColor(),fe.getSymbol(),fe.parallelArrays.forEach(function(Oe){fe[Oe+"Data"]||(fe[Oe+"Data"]=[])}),fe.isCartesian&&(Q.hasCartesianSeries=!0),xe.length&&(le=xe[xe.length-1]),fe._i=pe(le&&le._i,-1)+1,fe.opacity=fe.options.opacity,Q.orderItems("series",V(this,xe)),Le.dataSorting&&Le.dataSorting.enabled?fe.setDataSortingOptions():fe.points||fe.data||fe.setData(Le.data,!1),B(this,"afterInit")}is(Q){return N[Q]&&this instanceof N[Q]}bindAxes(){let Q,re=this,le=re.options,fe=re.chart;B(this,"bindAxes",null,function(){(re.axisTypes||[]).forEach(function(xe){(fe[xe]||[]).forEach(function(Le){Q=Le.options,(pe(le[xe],0)===Le.index||le[xe]!==void 0&&le[xe]===Q.id)&&(V(re,Le.series),re[xe]=Le,Le.isDirty=!0)}),re[xe]||re.optionalAxis===xe||D(18,!0,fe)})}),B(this,"afterBindAxes")}updateParallelArrays(Q,re,le){let fe=Q.series,xe=ce(re)?function(Le){let be=Le==="y"&&fe.toYData?fe.toYData(Q):Q[Le];fe[Le+"Data"][re]=be}:function(Le){Array.prototype[re].apply(fe[Le+"Data"],le)};fe.parallelArrays.forEach(xe)}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.yData&&this.yData.length>0}hasMarkerChanged(Q,re){let le=Q.marker,fe=re.marker||{};return le&&(fe.enabled&&!le.enabled||fe.symbol!==le.symbol||fe.height!==le.height||fe.width!==le.width)}autoIncrement(Q){let re=this.options,le=re.pointIntervalUnit,fe=re.relativeXValue,xe=this.chart.time,Le=this.xIncrement,be,ke;return Le=pe(Le,re.pointStart,0),this.pointInterval=ke=pe(this.pointInterval,re.pointInterval,1),fe&&ce(Q)&&(ke*=Q),le&&(be=new xe.Date(Le),le==="day"?xe.set("Date",be,xe.get("Date",be)+ke):le==="month"?xe.set("Month",be,xe.get("Month",be)+ke):le==="year"&&xe.set("FullYear",be,xe.get("FullYear",be)+ke),ke=be.getTime()-Le),fe&&ce(Q)?Le+ke:(this.xIncrement=Le+ke,Le)}setDataSortingOptions(){let Q=this.options;M(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),H(Q.pointRange)||(Q.pointRange=1)}setOptions(Q){var Me,ze;let re,le=this.chart,fe=le.options.plotOptions,xe=le.userOptions||{},Le=se(Q),be=le.styledMode,ke={plotOptions:fe,userOptions:Le};B(this,"setOptions",ke);let Oe=ke.plotOptions[this.type],Ue=xe.plotOptions||{},Xe=Ue.series||{},Pe=E.plotOptions[this.type]||{},_e=Ue[this.type]||{};this.userOptions=ke.userOptions;let Ee=se(Oe,fe.series,_e,Le);this.tooltipOptions=se(E.tooltip,(Me=E.plotOptions.series)==null?void 0:Me.tooltip,Pe==null?void 0:Pe.tooltip,le.userOptions.tooltip,(ze=Ue.series)==null?void 0:ze.tooltip,_e.tooltip,Le.tooltip),this.stickyTracking=pe(Le.stickyTracking,_e.stickyTracking,Xe.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||Ee.stickyTracking),Oe.marker===null&&delete Ee.marker,this.zoneAxis=Ee.zoneAxis||"y";let Re=this.zones=(Ee.zones||[]).map(Ke=>({...Ke}));return(Ee.negativeColor||Ee.negativeFillColor)&&!Ee.zones&&(re={value:Ee[this.zoneAxis+"Threshold"]||Ee.threshold||0,className:"highcharts-negative"},be||(re.color=Ee.negativeColor,re.fillColor=Ee.negativeFillColor),Re.push(re)),Re.length&&H(Re[Re.length-1].value)&&Re.push(be?{}:{color:this.color,fillColor:this.fillColor}),B(this,"afterSetOptions",{options:Ee}),Ee}getName(){return pe(this.options.name,"Series "+(this.index+1))}getCyclic(Q,re,le){let fe,xe,Le=this.chart,be=`${Q}Index`,ke=`${Q}Counter`,Oe=(le==null?void 0:le.length)||Le.options.chart.colorCount;!re&&(H(xe=pe(Q==="color"?this.options.colorIndex:void 0,this[be]))?fe=xe:(Le.series.length||(Le[ke]=0),fe=Le[ke]%Oe,Le[ke]+=1),le&&(re=le[fe])),fe!==void 0&&(this[be]=fe),this[Q]=re}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||E.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let Q=this.options.marker;this.getCyclic("symbol",Q.symbol,this.chart.options.symbols)}findPointIndex(Q,re){let le,fe,xe,Le=Q.id,be=Q.x,ke=this.points,Oe=this.options.dataSorting;if(Le){let Ue=this.chart.get(Le);Ue instanceof p&&(le=Ue)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let Ue=Xe=>!Xe.touched&&Xe.index===Q.index;if(Oe&&Oe.matchByName?Ue=Xe=>!Xe.touched&&Xe.name===Q.name:this.options.relativeXValue&&(Ue=Xe=>!Xe.touched&&Xe.options.x===Q.x),!(le=Y(ke,Ue)))return}return le&&(xe=le&&le.index)!==void 0&&(fe=!0),xe===void 0&&ce(be)&&(xe=this.xData.indexOf(be,re)),xe!==-1&&xe!==void 0&&this.cropped&&(xe=xe>=this.cropStart?xe-this.cropStart:xe),!fe&&ce(xe)&&ke[xe]&&ke[xe].touched&&(xe=void 0),xe}updateData(Q,re){let le=this.options,fe=le.dataSorting,xe=this.points,Le=[],be=this.requireSorting,ke=Q.length===xe.length,Oe,Ue,Xe,Pe,_e=!0;if(this.xIncrement=null,Q.forEach(function(Ee,Re){let Me,ze=H(Ee)&&this.pointClass.prototype.optionsToObject.call({series:this},Ee)||{},Ke=ze.x;ze.id||ce(Ke)?((Me=this.findPointIndex(ze,Pe))===-1||Me===void 0?Le.push(Ee):xe[Me]&&Ee!==le.data[Me]?(xe[Me].update(Ee,!1,null,!1),xe[Me].touched=!0,be&&(Pe=Me+1)):xe[Me]&&(xe[Me].touched=!0),(!ke||Re!==Me||fe&&fe.enabled||this.hasDerivedData)&&(Oe=!0)):Le.push(Ee)},this),Oe)for(Ue=xe.length;Ue--;)(Xe=xe[Ue])&&!Xe.touched&&Xe.remove&&Xe.remove(!1,re);else!ke||fe&&fe.enabled?_e=!1:(Q.forEach(function(Ee,Re){Ee===xe[Re].y||xe[Re].destroyed||xe[Re].update(Ee,!1,null,!1)}),Le.length=0);return xe.forEach(function(Ee){Ee&&(Ee.touched=!1)}),!!_e&&(Le.forEach(function(Ee){this.addPoint(Ee,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=C(this.xData),this.autoIncrement()),!0)}setData(Q,re=!0,le,fe){var mt;let xe=this,Le=xe.points,be=Le&&Le.length||0,ke=xe.options,Oe=xe.chart,Ue=ke.dataSorting,Xe=xe.xAxis,Pe=ke.turboThreshold,_e=this.xData,Ee=this.yData,Re=xe.pointArrayMap,Me=Re&&Re.length,ze=ke.keys,Ke,tt,st,ht=0,gt=1,Tt;Oe.options.chart.allowMutatingData||(ke.data&&delete xe.options.data,xe.userOptions.data&&delete xe.userOptions.data,Tt=se(!0,Q));let $t=(Q=Tt||Q||[]).length;if(Ue&&Ue.enabled&&(Q=this.sortData(Q)),Oe.options.chart.allowMutatingData&&fe!==!1&&$t&&be&&!xe.cropped&&!xe.hasGroupedData&&xe.visible&&!xe.boosted&&(st=this.updateData(Q,le)),!st){xe.xIncrement=null,xe.colorCounter=0,this.parallelArrays.forEach(function(St){xe[St+"Data"].length=0});let Ct=Pe&&$t>Pe;if(Ct){let St=xe.getFirstValidPoint(Q),sn=xe.getFirstValidPoint(Q,$t-1,-1),yn=Zt=>!!(te(Zt)&&(ze||ce(Zt[0])));if(ce(St)&&ce(sn))for(Ke=0;Ke<$t;Ke++)_e[Ke]=this.autoIncrement(),Ee[Ke]=Q[Ke];else if(yn(St)&&yn(sn))if(Me)if(St.length===Me)for(Ke=0;Ke<$t;Ke++)_e[Ke]=this.autoIncrement(),Ee[Ke]=Q[Ke];else for(Ke=0;Ke<$t;Ke++)tt=Q[Ke],_e[Ke]=tt[0],Ee[Ke]=tt.slice(1,Me+1);else if(ze&&(ht=ze.indexOf("x"),gt=ze.indexOf("y"),ht=ht>=0?ht:0,gt=gt>=0?gt:1),St.length===1&&(gt=0),ht===gt)for(Ke=0;Ke<$t;Ke++)_e[Ke]=this.autoIncrement(),Ee[Ke]=Q[Ke][gt];else for(Ke=0;Ke<$t;Ke++)tt=Q[Ke],_e[Ke]=tt[ht],Ee[Ke]=tt[gt];else Ct=!1}if(!Ct)for(Ke=0;Ke<$t;Ke++)tt={series:xe},xe.pointClass.prototype.applyOptions.apply(tt,[Q[Ke]]),xe.updateParallelArrays(tt,Ke);for(Ee&&ie(Ee[0])&&D(14,!0,Oe),xe.data=[],xe.options.data=xe.userOptions.data=Q,Ke=be;Ke--;)(mt=Le[Ke])==null||mt.destroy();Xe&&(Xe.minRange=Xe.userMinRange),xe.isDirty=Oe.isDirtyBox=!0,xe.isDirtyData=!!Le,le=!1}ke.legendType==="point"&&(this.processData(),this.generatePoints()),re&&Oe.redraw(le)}sortData(Q){let re=this,le=re.options.dataSorting.sortKey||"y",fe=function(xe,Le){return H(Le)&&xe.pointClass.prototype.optionsToObject.call({series:xe},Le)||{}};return Q.forEach(function(xe,Le){Q[Le]=fe(re,xe),Q[Le].index=Le},this),Q.concat().sort((xe,Le)=>{let be=q(le,xe),ke=q(le,Le);return ke<be?-1:ke>be?1:0}).forEach(function(xe,Le){xe.x=Le},this),re.linkedSeries&&re.linkedSeries.forEach(function(xe){let Le=xe.options,be=Le.data;Le.dataSorting&&Le.dataSorting.enabled||!be||(be.forEach(function(ke,Oe){be[Oe]=fe(xe,ke),Q[Oe]&&(be[Oe].x=Q[Oe].x,be[Oe].index=Oe)}),xe.setData(be,!1))}),Q}getProcessedData(Q){let re=this,le=re.xAxis,fe=re.options.cropThreshold,xe=le==null?void 0:le.logarithmic,Le=re.isCartesian,be,ke,Oe=0,Ue,Xe,Pe,_e=re.xData,Ee=re.yData,Re=!1,Me=_e.length;le&&(Xe=(Ue=le.getExtremes()).min,Pe=Ue.max,Re=!!(le.categories&&!le.names.length)),Le&&re.sorted&&!Q&&(!fe||Me>fe||re.forceCrop)&&(_e[Me-1]<Xe||_e[0]>Pe?(_e=[],Ee=[]):re.yData&&(_e[0]<Xe||_e[Me-1]>Pe)&&(_e=(be=this.cropData(re.xData,re.yData,Xe,Pe)).xData,Ee=be.yData,Oe=be.start,ke=!0));let ze=z([xe?_e.map(xe.log2lin):_e],()=>re.requireSorting&&!Re&&D(15,!1,re.chart));return{xData:_e,yData:Ee,cropped:ke,cropStart:Oe,closestPointRange:ze}}processData(Q){let re=this.xAxis;if(this.isCartesian&&!this.isDirty&&!re.isDirty&&!this.yAxis.isDirty&&!Q)return!1;let le=this.getProcessedData();this.cropped=le.cropped,this.cropStart=le.cropStart,this.processedXData=le.xData,this.processedYData=le.yData,this.closestPointRange=this.basePointRange=le.closestPointRange,B(this,"afterProcessData")}cropData(Q,re,le,fe){let xe=Q.length,Le,be,ke=0,Oe=xe;for(Le=0;Le<xe;Le++)if(Q[Le]>=le){ke=Math.max(0,Le-1);break}for(be=Le;be<xe;be++)if(Q[be]>fe){Oe=be+1;break}return{xData:Q.slice(ke,Oe),yData:re.slice(ke,Oe),start:ke,end:Oe}}generatePoints(){let Q=this.options,re=this.processedData||Q.data,le=this.processedXData,fe=this.processedYData,xe=this.pointClass,Le=le.length,be=this.cropStart||0,ke=this.hasGroupedData,Oe=Q.keys,Ue=[],Xe=Q.dataGrouping&&Q.dataGrouping.groupAll?be:0,Pe,_e,Ee,Re,Me=this.data;if(!Me&&!ke){let ze=[];ze.length=re.length,Me=this.data=ze}for(Oe&&ke&&(this.options.keys=!1),Re=0;Re<Le;Re++)_e=be+Re,ke?((Ee=new xe(this,[le[Re]].concat(K(fe[Re])))).dataGroup=this.groupMap[Xe+Re],Ee.dataGroup.options&&(Ee.options=Ee.dataGroup.options,M(Ee,Ee.dataGroup.options),delete Ee.dataLabels)):(Ee=Me[_e])||re[_e]===void 0||(Me[_e]=Ee=new xe(this,re[_e],le[Re])),Ee&&(Ee.index=ke?Xe+Re:_e,Ue[Re]=Ee);if(this.options.keys=Oe,Me&&(Le!==(Pe=Me.length)||ke))for(Re=0;Re<Pe;Re++)Re!==be||ke||(Re+=Le),Me[Re]&&(Me[Re].destroyElements(),Me[Re].plotX=void 0);this.data=Me,this.points=Ue,B(this,"afterGeneratePoints")}getXExtremes(Q){return{min:L(Q),max:C(Q)}}getExtremes(Q,re){let le=this.xAxis,fe=this.yAxis,xe=[],Le=this.requireSorting&&!this.is("column")?1:0,be=!!fe&&fe.positiveValuesOnly,ke=re||this.getExtremesFromAll||this.options.getExtremesFromAll,{processedXData:Oe,processedYData:Ue}=this,Xe,Pe,_e,Ee,Re,Me,ze,Ke=0,tt=0,st=0;if(this.cropped&&ke){let $t=this.getProcessedData(!0);Oe=$t.xData,Ue=$t.yData}let ht=(Q=Q||this.stackedYData||Ue||[]).length,gt=Oe||this.xData;for(le&&(Ke=(Xe=le.getExtremes()).min,tt=Xe.max),Me=0;Me<ht;Me++)if(Ee=gt[Me],Pe=(ce(Re=Q[Me])||te(Re))&&((ce(Re)?Re>0:Re.length)||!be),_e=re||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!le||(gt[Me+Le]||Ee)>=Ke&&(gt[Me-Le]||Ee)<=tt,Pe&&_e)if(ze=Re.length)for(;ze--;)ce(Re[ze])&&(xe[st++]=Re[ze]);else xe[st++]=Re;let Tt={activeYData:xe,dataMin:L(xe),dataMax:C(xe)};return B(this,"afterGetExtremes",{dataExtremes:Tt}),Tt}applyExtremes(){let Q=this.getExtremes();return this.dataMin=Q.dataMin,this.dataMax=Q.dataMax,Q}getFirstValidPoint(Q,re=0,le=1){let fe=Q.length,xe=re;for(;xe>=0&&xe<fe;){if(H(Q[xe]))return Q[xe];xe+=le}}translate(){var tt;this.processedXData||this.processData(),this.generatePoints();let Q=this.options,re=Q.stacking,le=this.xAxis,fe=le.categories,xe=this.enabledDataSorting,Le=this.yAxis,be=this.points,ke=be.length,Oe=this.pointPlacementToXValue(),Ue=!!Oe,Xe=Q.threshold,Pe=Q.startFromThreshold?Xe:0,_e,Ee,Re,Me,ze=Number.MAX_VALUE;function Ke(st){return O(st,-1e9,1e9)}for(_e=0;_e<ke;_e++){let st,ht=be[_e],gt=ht.x,Tt,$t,mt=ht.y,Ct=ht.low,St=re&&((tt=Le.stacking)==null?void 0:tt.stacks[(this.negStacks&&mt<(Pe?0:Xe)?"-":"")+this.stackKey]);Ee=le.translate(gt,!1,!1,!1,!0,Oe),ht.plotX=ce(Ee)?W(Ke(Ee)):void 0,re&&this.visible&&St&&St[gt]&&(Me=this.getStackIndicator(Me,gt,this.index),!ht.isNull&&Me.key&&($t=(Tt=St[gt]).points[Me.key]),Tt&&te($t)&&(Ct=$t[0],mt=$t[1],Ct===Pe&&Me.key===St[gt].base&&(Ct=pe(ce(Xe)?Xe:Le.min)),Le.positiveValuesOnly&&H(Ct)&&Ct<=0&&(Ct=void 0),ht.total=ht.stackTotal=pe(Tt.total),ht.percentage=H(ht.y)&&Tt.total?ht.y/Tt.total*100:void 0,ht.stackY=mt,this.irregularWidths||Tt.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),ht.yBottom=H(Ct)?Ke(Le.translate(Ct,!1,!0,!1,!0)):void 0,this.dataModify&&(mt=this.dataModify.modifyValue(mt,_e)),ce(mt)&&ht.plotX!==void 0&&(st=ce(st=Le.translate(mt,!1,!0,!1,!0))?Ke(st):void 0),ht.plotY=st,ht.isInside=this.isPointInside(ht),ht.clientX=Ue?W(le.translate(gt,!1,!1,!1,!0,Oe)):Ee,ht.negative=(ht.y||0)<(Xe||0),ht.category=pe(fe&&fe[ht.x],ht.x),ht.isNull||ht.visible===!1||(Re!==void 0&&(ze=Math.min(ze,Math.abs(Ee-Re))),Re=Ee),ht.zone=this.zones.length?ht.getZone():void 0,!ht.graphic&&this.group&&xe&&(ht.isNew=!0)}this.closestPointRangePx=ze,B(this,"afterTranslate")}getValidPoints(Q,re,le){let fe=this.chart;return(Q||this.points||[]).filter(function(xe){let{plotX:Le,plotY:be}=xe;return!!((le||!xe.isNull&&ce(be))&&(!re||fe.isInsidePlot(Le,be,{inverted:fe.inverted})))&&xe.visible!==!1})}getClipBox(){let{chart:Q,xAxis:re,yAxis:le}=this,{x:fe,y:xe,width:Le,height:be}=se(Q.clipBox);return re&&re.len!==Q.plotSizeX&&(Le=re.len),le&&le.len!==Q.plotSizeY&&(be=le.len),Q.inverted&&!this.invertible&&([Le,be]=[be,Le]),{x:fe,y:xe,width:Le,height:be}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:Q,group:re,markerGroup:le}=this,fe=Q.sharedClips,xe=Q.renderer,Le=this.getClipBox(),be=this.getSharedClipKey(),ke=fe[be];ke?ke.animate(Le):fe[be]=ke=xe.clipRect(Le),re&&re.clip(this.options.clip===!1?void 0:ke),le&&le.clip()}animate(Q){let{chart:re,group:le,markerGroup:fe}=this,xe=re.inverted,Le=b(this.options.animation),be=[this.getSharedClipKey(),Le.duration,Le.easing,Le.defer].join(","),ke=re.sharedClips[be],Oe=re.sharedClips[be+"m"];if(Q&&le){let Ue=this.getClipBox();if(ke)ke.attr("height",Ue.height);else{Ue.width=0,xe&&(Ue.x=re.plotHeight),ke=re.renderer.clipRect(Ue),re.sharedClips[be]=ke;let Xe={x:-99,y:-99,width:xe?re.plotWidth+199:99,height:xe?99:re.plotHeight+199};Oe=re.renderer.clipRect(Xe),re.sharedClips[be+"m"]=Oe}le.clip(ke),fe==null||fe.clip(Oe)}else if(ke&&!ke.hasClass("highcharts-animating")){let Ue=this.getClipBox(),Xe=Le.step;(fe!=null&&fe.element.childNodes.length||re.series.length>1)&&(Le.step=function(Pe,_e){Xe&&Xe.apply(_e,arguments),_e.prop==="width"&&(Oe!=null&&Oe.element)&&Oe.attr(xe?"height":"width",Pe+99)}),ke.addClass("highcharts-animating").animate(Ue,Le)}}afterAnimate(){this.setClip(),Ce(this.chart.sharedClips,(Q,re,le)=>{Q&&!this.chart.container.querySelector(`[clip-path="url(#${Q.id})"]`)&&(Q.destroy(),delete le[re])}),this.finishedAnimating=!0,B(this,"afterAnimate")}drawPoints(Q=this.points){let re,le,fe,xe,Le,be,ke,Oe=this.chart,Ue=Oe.styledMode,{colorAxis:Xe,options:Pe}=this,_e=Pe.marker,Ee=this[this.specialGroup||"markerGroup"],Re=this.xAxis,Me=pe(_e.enabled,!Re||!!Re.isRadial||null,this.closestPointRangePx>=_e.enabledThreshold*_e.radius);if(_e.enabled!==!1||this._hasPointMarkers)for(re=0;re<Q.length;re++)if(xe=(fe=(le=Q[re]).graphic)?"animate":"attr",Le=le.marker||{},be=!!le.marker,(Me&&Le.enabled===void 0||Le.enabled)&&!le.isNull&&le.visible!==!1){let ze=pe(Le.symbol,this.symbol,"rect");ke=this.markerAttribs(le,le.selected&&"select"),this.enabledDataSorting&&(le.startXPos=Re.reversed?-(ke.width||0):Re.width);let Ke=le.isInside!==!1;if(!fe&&Ke&&((ke.width||0)>0||le.hasImage)&&(le.graphic=fe=Oe.renderer.symbol(ze,ke.x,ke.y,ke.width,ke.height,be?Le:_e).add(Ee),this.enabledDataSorting&&Oe.hasRendered&&(fe.attr({x:le.startXPos}),xe="animate")),fe&&xe==="animate"&&fe[Ke?"show":"hide"](Ke).animate(ke),fe){let tt=this.pointAttribs(le,Ue||!le.selected?void 0:"select");Ue?Xe&&fe.css({fill:tt.fill}):fe[xe](tt)}fe&&fe.addClass(le.getClassName(),!0)}else fe&&(le.graphic=fe.destroy())}markerAttribs(Q,re){let le=this.options,fe=le.marker,xe=Q.marker||{},Le=xe.symbol||fe.symbol,be={},ke,Oe,Ue=pe(xe.radius,fe&&fe.radius);re&&(ke=fe.states[re],Ue=pe((Oe=xe.states&&xe.states[re])&&Oe.radius,ke&&ke.radius,Ue&&Ue+(ke&&ke.radiusPlus||0))),Q.hasImage=Le&&Le.indexOf("url")===0,Q.hasImage&&(Ue=0);let Xe=Q.pos();return ce(Ue)&&Xe&&(le.crisp&&(Xe[0]=X(Xe[0],Q.hasImage?0:Le==="rect"?(fe==null?void 0:fe.lineWidth)||0:1)),be.x=Xe[0]-Ue,be.y=Xe[1]-Ue),Ue&&(be.width=be.height=2*Ue),be}pointAttribs(Q,re){let le=this.options.marker,fe=Q&&Q.options,xe=fe&&fe.marker||{},Le=fe&&fe.color,be=Q&&Q.color,ke=Q&&Q.zone&&Q.zone.color,Oe,Ue,Xe=this.color,Pe,_e,Ee=pe(xe.lineWidth,le.lineWidth),Re=1;return Xe=Le||ke||be||Xe,Pe=xe.fillColor||le.fillColor||Xe,_e=xe.lineColor||le.lineColor||Xe,re=re||"normal",Oe=le.states[re]||{},Ee=pe((Ue=xe.states&&xe.states[re]||{}).lineWidth,Oe.lineWidth,Ee+pe(Ue.lineWidthPlus,Oe.lineWidthPlus,0)),Pe=Ue.fillColor||Oe.fillColor||Pe,{stroke:_e=Ue.lineColor||Oe.lineColor||_e,"stroke-width":Ee,fill:Pe,opacity:Re=pe(Ue.opacity,Oe.opacity,Re)}}destroy(Q){let re,le,fe,xe=this,Le=xe.chart,be=/AppleWebKit\/533/.test(w.navigator.userAgent),ke=xe.data||[];for(B(xe,"destroy",{keepEventsForUpdate:Q}),this.removeEvents(Q),(xe.axisTypes||[]).forEach(function(Oe){(fe=xe[Oe])&&fe.series&&(j(fe.series,xe),fe.isDirty=fe.forceRedraw=!0)}),xe.legendItem&&xe.chart.legend.destroyItem(xe),re=ke.length;re--;)(le=ke[re])&&le.destroy&&le.destroy();for(let Oe of xe.zones)$(Oe,void 0,!0);_.clearTimeout(xe.animationTimeout),Ce(xe,function(Oe,Ue){Oe instanceof g&&!Oe.survive&&Oe[be&&Ue==="group"?"hide":"destroy"]()}),Le.hoverSeries===xe&&(Le.hoverSeries=void 0),j(Le.series,xe),Le.orderItems("series"),Ce(xe,function(Oe,Ue){Q&&Ue==="hcEvents"||delete xe[Ue]})}applyZones(){let{area:Q,chart:re,graph:le,zones:fe,points:xe,xAxis:Le,yAxis:be,zoneAxis:ke}=this,{inverted:Oe,renderer:Ue}=re,Xe=this[`${ke}Axis`],{isXAxis:Pe,len:_e=0}=Xe||{},Ee=((le==null?void 0:le.strokeWidth())||0)/2+1,Re=(Me,ze=0,Ke=0)=>{Oe&&(Ke=_e-Ke);let{translated:tt=0,lineClip:st}=Me,ht=Ke-tt;st==null||st.push(["L",ze,Math.abs(ht)<Ee?Ke-Ee*(ht<=0?-1:1):tt])};if(fe.length&&(le||Q)&&Xe&&ce(Xe.min)){let Me=Xe.getExtremes().max,ze=st=>{st.forEach((ht,gt)=>{(ht[0]==="M"||ht[0]==="L")&&(st[gt]=[ht[0],Pe?_e-ht[1]:ht[1],Pe?ht[2]:_e-ht[2]])})};if(fe.forEach(st=>{st.lineClip=[],st.translated=O(Xe.toPixels(pe(st.value,Me),!0)||0,0,_e)}),le&&!this.showLine&&le.hide(),Q&&Q.hide(),ke==="y"&&xe.length<Le.len)for(let st of xe){let{plotX:ht,plotY:gt,zone:Tt}=st,$t=Tt&&fe[fe.indexOf(Tt)-1];Tt&&Re(Tt,ht,gt),$t&&Re($t,ht,gt)}let Ke=[],tt=Xe.toPixels(Xe.getExtremes().min,!0);fe.forEach(st=>{var di,ni;let ht=st.lineClip||[],gt=Math.round(st.translated||0);Le.reversed&&ht.reverse();let{clip:Tt,simpleClip:$t}=st,mt=0,Ct=0,St=Le.len,sn=be.len;Pe?(mt=gt,St=tt):(Ct=gt,sn=tt);let yn=[["M",mt,Ct],["L",St,Ct],["L",St,sn],["L",mt,sn],["Z"]],Zt=[yn[0],...ht,yn[1],yn[2],...Ke,yn[3],yn[4]];Ke=ht.reverse(),tt=gt,Oe&&(ze(Zt),Q&&ze(yn)),Tt?(Tt.animate({d:Zt}),$t==null||$t.animate({d:yn})):(Tt=st.clip=Ue.path(Zt),Q&&($t=st.simpleClip=Ue.path(yn))),le&&((di=st.graph)==null||di.clip(Tt)),Q&&((ni=st.area)==null||ni.clip($t))})}else this.visible&&(le&&le.show(),Q&&Q.show())}plotGroup(Q,re,le,fe,xe){let Le=this[Q],be=!Le,ke={visibility:le,zIndex:fe||.1};return H(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(ke.opacity=this.opacity),Le||(this[Q]=Le=this.chart.renderer.g().add(xe)),Le.addClass("highcharts-"+re+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(H(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Le.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Le.attr(ke)[be?"attr":"animate"](this.getPlotBox(re)),Le}getPlotBox(Q){let re=this.xAxis,le=this.yAxis,fe=this.chart,xe=fe.inverted&&!fe.polar&&re&&this.invertible&&Q==="series";return fe.inverted&&(re=le,le=this.xAxis),{translateX:re?re.left:fe.plotLeft,translateY:le?le.top:fe.plotTop,rotation:xe?90:0,rotationOriginX:xe?(re.len-le.len)/2:0,rotationOriginY:xe?(re.len+le.len)/2:0,scaleX:xe?-1:1,scaleY:1}}removeEvents(Q){let{eventsToUnbind:re}=this;Q||we(this),re.length&&(re.forEach(le=>{le()}),re.length=0)}render(){var Ue,Xe,Pe,_e,Ee;let Q=this,{chart:re,options:le,hasRendered:fe}=Q,xe=b(le.animation),Le=Q.visible?"inherit":"hidden",be=le.zIndex,ke=re.seriesGroup,Oe=Q.finishedAnimating?0:xe.duration;B(this,"render"),Q.plotGroup("group","series",Le,be,ke),Q.markerGroup=Q.plotGroup("markerGroup","markers",Le,be,ke),le.clip!==!1&&Q.setClip(),Oe&&((Ue=Q.animate)==null||Ue.call(Q,!0)),Q.drawGraph&&(Q.drawGraph(),Q.applyZones()),Q.visible&&Q.drawPoints(),(Xe=Q.drawDataLabels)==null||Xe.call(Q),(Pe=Q.redrawPoints)==null||Pe.call(Q),le.enableMouseTracking&&((_e=Q.drawTracker)==null||_e.call(Q)),Oe&&((Ee=Q.animate)==null||Ee.call(Q)),fe||(Oe&&xe.defer&&(Oe+=xe.defer),Q.animationTimeout=J(()=>{Q.afterAnimate()},Oe||0)),Q.isDirty=!1,Q.hasRendered=!0,B(Q,"afterRender")}redraw(){let Q=this.isDirty||this.isDirtyData;this.translate(),this.render(),Q&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(Q,re){let{xAxis:le,yAxis:fe}=this,xe=this.chart.inverted;return this.searchKDTree({clientX:xe?le.len-Q.chartY+le.pos:Q.chartX-le.pos,plotY:xe?fe.len-Q.chartX+fe.pos:Q.chartY-fe.pos},re,Q)}buildKDTree(Q){this.buildingKdTree=!0;let re=this,le=re.options.findNearestPointBy.indexOf("y")>-1?2:1;delete re.kdTree,J(function(){re.kdTree=function fe(xe,Le,be){let ke,Oe,Ue=xe==null?void 0:xe.length;if(Ue)return ke=re.kdAxisArray[Le%be],xe.sort((Xe,Pe)=>(Xe[ke]||0)-(Pe[ke]||0)),{point:xe[Oe=Math.floor(Ue/2)],left:fe(xe.slice(0,Oe),Le+1,be),right:fe(xe.slice(Oe+1),Le+1,be)}}(re.getValidPoints(void 0,!re.directTouch),le,le),re.buildingKdTree=!1},re.options.kdNow||(Q==null?void 0:Q.type)==="touchstart"?0:1)}searchKDTree(Q,re,le){let fe=this,[xe,Le]=this.kdAxisArray,be=re?"distX":"dist",ke=(fe.options.findNearestPointBy||"").indexOf("y")>-1?2:1,Oe=!!fe.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree(le),this.kdTree)return function Ue(Xe,Pe,_e,Ee){var Tt;let Re=Pe.point,Me=fe.kdAxisArray[_e%Ee],ze,Ke,tt=Re;(function($t,mt){var _i;let Ct=$t[xe],St=mt[xe],sn=H(Ct)&&H(St)?Ct-St:null,yn=$t[Le],Zt=mt[Le],di=H(yn)&&H(Zt)?yn-Zt:0,ni=Oe&&((_i=mt.marker)==null?void 0:_i.radius)||0;mt.dist=Math.sqrt((sn&&sn*sn||0)+di*di)-ni,mt.distX=H(sn)?Math.abs(sn)-ni:Number.MAX_VALUE})(Xe,Re);let st=(Xe[Me]||0)-(Re[Me]||0)+(Oe&&((Tt=Re.marker)==null?void 0:Tt.radius)||0),ht=st<0?"left":"right",gt=st<0?"right":"left";return Pe[ht]&&(tt=(ze=Ue(Xe,Pe[ht],_e+1,Ee))[be]<tt[be]?ze:Re),Pe[gt]&&Math.sqrt(st*st)<tt[be]&&(tt=(Ke=Ue(Xe,Pe[gt],_e+1,Ee))[be]<tt[be]?Ke:tt),tt}(Q,this.kdTree,ke,ke)}pointPlacementToXValue(){let{options:Q,xAxis:re}=this,le=Q.pointPlacement;return le==="between"&&(le=re.reversed?-.5:.5),ce(le)?le*(Q.pointRange||re.pointRange):0}isPointInside(Q){let{chart:re,xAxis:le,yAxis:fe}=this,{plotX:xe=-1,plotY:Le=-1}=Q;return Le>=0&&Le<=(fe?fe.len:re.plotHeight)&&xe>=0&&xe<=(le?le.len:re.plotWidth)}drawTracker(){var Pe;let Q=this,re=Q.options,le=re.trackByArea,fe=[].concat((le?Q.areaPath:Q.graphPath)||[]),xe=Q.chart,Le=xe.pointer,be=xe.renderer,ke=((Pe=xe.options.tooltip)==null?void 0:Pe.snap)||0,Oe=()=>{re.enableMouseTracking&&xe.hoverSeries!==Q&&Q.onMouseOver()},Ue="rgba(192,192,192,"+(v?1e-4:.002)+")",Xe=Q.tracker;Xe?Xe.attr({d:fe}):Q.graph&&(Q.tracker=Xe=be.path(fe).attr({visibility:Q.visible?"inherit":"hidden",zIndex:2}).addClass(le?"highcharts-tracker-area":"highcharts-tracker-line").add(Q.group),xe.styledMode||Xe.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Ue,fill:le?Ue:"none","stroke-width":Q.graph.strokeWidth()+(le?0:2*ke)}),[Q.tracker,Q.markerGroup,Q.dataLabelsGroup].forEach(_e=>{_e&&(_e.addClass("highcharts-tracker").on("mouseover",Oe).on("mouseout",Ee=>{Le==null||Le.onTrackerMouseOut(Ee)}),re.cursor&&!xe.styledMode&&_e.css({cursor:re.cursor}),_e.on("touchstart",Oe))})),B(this,"afterDrawTracker")}addPoint(Q,re,le,fe,xe){let Le,be,ke=this.options,Oe=this.data,Ue=this.chart,Xe=this.xAxis,Pe=Xe&&Xe.hasNames&&Xe.names,_e=ke.data,Ee=this.xData;re=pe(re,!0);let Re={series:this};this.pointClass.prototype.applyOptions.apply(Re,[Q]);let Me=Re.x;if(be=Ee.length,this.requireSorting&&Me<Ee[be-1])for(Le=!0;be&&Ee[be-1]>Me;)be--;this.updateParallelArrays(Re,"splice",[be,0,0]),this.updateParallelArrays(Re,be),Pe&&Re.name&&(Pe[Me]=Re.name),_e.splice(be,0,Q),(Le||this.processedData)&&(this.data.splice(be,0,null),this.processData()),ke.legendType==="point"&&this.generatePoints(),le&&(Oe[0]&&Oe[0].remove?Oe[0].remove(!1):(Oe.shift(),this.updateParallelArrays(Re,"shift"),_e.shift())),xe!==!1&&B(this,"addPoint",{point:Re}),this.isDirty=!0,this.isDirtyData=!0,re&&Ue.redraw(fe)}removePoint(Q,re,le){let fe=this,xe=fe.data,Le=xe[Q],be=fe.points,ke=fe.chart,Oe=function(){be&&be.length===xe.length&&be.splice(Q,1),xe.splice(Q,1),fe.options.data.splice(Q,1),fe.updateParallelArrays(Le||{series:fe},"splice",[Q,1]),Le&&Le.destroy(),fe.isDirty=!0,fe.isDirtyData=!0,re&&ke.redraw()};T(le,ke),re=pe(re,!0),Le?Le.firePointEvent("remove",null,Oe):Oe()}remove(Q,re,le,fe){let xe=this,Le=xe.chart;function be(){xe.destroy(fe),Le.isDirtyLegend=Le.isDirtyBox=!0,Le.linkSeries(fe),pe(Q,!0)&&Le.redraw(re)}le!==!1?B(xe,"remove",null,be):be()}update(Q,re){var ze,Ke,tt;B(this,"update",{options:Q=G(Q,this.userOptions)});let le=this,fe=le.chart,xe=le.userOptions,Le=le.initialType||le.type,be=fe.options.plotOptions,ke=N[Le].prototype,Oe=le.finishedAnimating&&{animation:!1},Ue={},Xe,Pe,_e=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Ee=Q.type||xe.type||fe.options.chart.type,Re=!(this.hasDerivedData||Ee&&Ee!==this.type||Q.pointStart!==void 0||Q.pointInterval!==void 0||Q.relativeXValue!==void 0||Q.joinBy||Q.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(st=>le.hasOptionChanged(st)));Ee=Ee||Le,Re&&(_e.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),Q.visible!==!1&&_e.push("area","graph"),le.parallelArrays.forEach(function(st){_e.push(st+"Data")}),Q.data&&(Q.dataSorting&&M(le.options.dataSorting,Q.dataSorting),this.setData(Q.data,!1))),Q=se(xe,{index:xe.index===void 0?le.index:xe.index,pointStart:((ze=be==null?void 0:be.series)==null?void 0:ze.pointStart)??xe.pointStart??((Ke=le.xData)==null?void 0:Ke[0])},!Re&&{data:le.options.data},Q,Oe),Re&&Q.data&&(Q.data=le.options.data),(_e=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(_e)).forEach(function(st){_e[st]=le[st],delete le[st]});let Me=!1;if(N[Ee]){if(Me=Ee!==le.type,le.remove(!1,!1,!1,!0),Me)if(fe.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(le,N[Ee].prototype);else{let st=Object.hasOwnProperty.call(le,"hcEvents")&&le.hcEvents;for(Pe in ke)le[Pe]=void 0;M(le,N[Ee].prototype),st?le.hcEvents=st:delete le.hcEvents}}else D(17,!0,fe,{missingModuleFor:Ee});if(_e.forEach(function(st){le[st]=_e[st]}),le.init(fe,Q),Re&&this.points)for(let st of((Xe=le.options).visible===!1?(Ue.graphic=1,Ue.dataLabel=1):(this.hasMarkerChanged(Xe,xe)&&(Ue.graphic=1),(tt=le.hasDataLabels)!=null&&tt.call(le)||(Ue.dataLabel=1)),this.points))st&&st.series&&(st.resolveColor(),Object.keys(Ue).length&&st.destroyElements(Ue),Xe.showInLegend===!1&&st.legendItem&&fe.legend.destroyItem(st));le.initialType=Le,fe.linkSeries(),fe.setSortedData(),Me&&le.linkedSeries.length&&(le.isDirtyData=!0),B(this,"afterUpdate"),pe(re,!0)&&fe.redraw(!!Re&&void 0)}setName(Q){this.name=this.options.name=this.userOptions.name=Q,this.chart.isDirtyLegend=!0}hasOptionChanged(Q){var be,ke;let re=this.chart,le=this.options[Q],fe=re.options.plotOptions,xe=this.userOptions[Q],Le=pe((be=fe==null?void 0:fe[this.type])==null?void 0:be[Q],(ke=fe==null?void 0:fe.series)==null?void 0:ke[Q]);return xe&&!H(Le)?le!==xe:le!==pe(Le,le)}onMouseOver(){let Q=this.chart,re=Q.hoverSeries,le=Q.pointer;le==null||le.setHoverChartIndex(),re&&re!==this&&re.onMouseOut(),this.options.events.mouseOver&&B(this,"mouseOver"),this.setState("hover"),Q.hoverSeries=this}onMouseOut(){let Q=this.options,re=this.chart,le=re.tooltip,fe=re.hoverPoint;re.hoverSeries=null,fe&&fe.onMouseOut(),this&&Q.events.mouseOut&&B(this,"mouseOut"),le&&!this.stickyTracking&&(!le.shared||this.noSharedTooltip)&&le.hide(),re.series.forEach(function(xe){xe.setState("",!0)})}setState(Q,re){let le=this,fe=le.options,xe=le.graph,Le=fe.inactiveOtherPoints,be=fe.states,ke=pe(be[Q||"normal"]&&be[Q||"normal"].animation,le.chart.options.chart.animation),Oe=fe.lineWidth,Ue=fe.opacity;if(Q=Q||"",le.state!==Q&&([le.group,le.markerGroup,le.dataLabelsGroup].forEach(function(Xe){Xe&&(le.state&&Xe.removeClass("highcharts-series-"+le.state),Q&&Xe.addClass("highcharts-series-"+Q))}),le.state=Q,!le.chart.styledMode)){if(be[Q]&&be[Q].enabled===!1)return;if(Q&&(Oe=be[Q].lineWidth||Oe+(be[Q].lineWidthPlus||0),Ue=pe(be[Q].opacity,Ue)),xe&&!xe.dashstyle&&ce(Oe))for(let Xe of[xe,...this.zones.map(Pe=>Pe.graph)])Xe==null||Xe.animate({"stroke-width":Oe},ke);Le||[le.group,le.markerGroup,le.dataLabelsGroup,le.labelBySeries].forEach(function(Xe){Xe&&Xe.animate({opacity:Ue},ke)})}re&&Le&&le.points&&le.setAllPointsToState(Q||void 0)}setAllPointsToState(Q){this.points.forEach(function(re){re.setState&&re.setState(Q)})}setVisible(Q,re){var ke;let le=this,fe=le.chart,xe=fe.options.chart.ignoreHiddenSeries,Le=le.visible;le.visible=Q=le.options.visible=le.userOptions.visible=Q===void 0?!Le:Q;let be=Q?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(Oe=>{var Ue;(Ue=le[Oe])==null||Ue[be]()}),(fe.hoverSeries===le||((ke=fe.hoverPoint)==null?void 0:ke.series)===le)&&le.onMouseOut(),le.legendItem&&fe.legend.colorizeItem(le,Q),le.isDirty=!0,le.options.stacking&&fe.series.forEach(Oe=>{Oe.options.stacking&&Oe.visible&&(Oe.isDirty=!0)}),le.linkedSeries.forEach(Oe=>{Oe.setVisible(Q,!1)}),xe&&(fe.isDirtyBox=!0),B(le,be),re!==!1&&fe.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(Q){this.selected=Q=this.options.selected=Q===void 0?!this.selected:Q,this.checkbox&&(this.checkbox.checked=Q),B(this,Q?"select":"unselect")}shouldShowTooltip(Q,re,le={}){return le.series=this,le.visiblePlotOnly=!0,this.chart.isInsidePlot(Q,re,le)}drawLegendSymbol(Q,re){var le;(le=h[this.options.legendSymbol||"rectangle"])==null||le.call(this,Q,re)}}return ae.defaultOptions=f,ae.types=y.seriesTypes,ae.registerType=y.registerSeriesType,M(ae.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:p,requireSorting:!0,sorted:!0}),y.series=ae,ae}),i(t,"Core/Legend/Legend.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Series/Point.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Templating.js"],t["Core/Utilities.js"]],function(r,a,o,s,h,p,f,y){var g;let{animObject:_,setAnimation:b}=r,{registerEventOptions:T}=a,{composed:E,marginNames:k}=o,{distribute:v}=p,{format:w}=f,{addEvent:N,createElement:C,css:L,defined:O,discardElement:W,find:X,fireEvent:H,isNumber:$,merge:G,pick:j,pushUnique:D,relativeLength:M,stableSort:Y,syncTimeout:B}=y;class z{constructor(V,te){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=V,this.setOptions(te),te.enabled&&(this.render(),T(this,te),N(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),N(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(V){let te=j(V.padding,8);this.options=V,this.chart.styledMode||(this.itemStyle=V.itemStyle,this.itemHiddenStyle=G(this.itemStyle,V.itemHiddenStyle)),this.itemMarginTop=V.itemMarginTop,this.itemMarginBottom=V.itemMarginBottom,this.padding=te,this.initialItemY=te-5,this.symbolWidth=j(V.symbolWidth,16),this.pages=[],this.proximate=V.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(V,te){let ce=this.chart;this.setOptions(G(!0,this.options,V)),"events"in this.options&&T(this,this.options),this.destroy(),ce.isDirtyLegend=ce.isDirtyBox=!0,j(te,!0)&&ce.redraw(),H(this,"afterUpdate",{redraw:te})}colorizeItem(V,te){let{area:ce,group:ie,label:se,line:Ce,symbol:pe}=V.legendItem||{};if(ie==null||ie[te?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:we={}}=this,K=we.color,{fillColor:J,fillOpacity:ae,lineColor:ve,marker:Q}=V.options,re=le=>(!te&&(le.fill&&(le.fill=K),le.stroke&&(le.stroke=K)),le);se==null||se.css(G(te?this.itemStyle:we)),Ce==null||Ce.attr(re({stroke:ve||V.color})),pe&&pe.attr(re(Q&&pe.isMarker?V.pointAttribs():{fill:V.color})),ce==null||ce.attr(re({fill:J||V.color,"fill-opacity":J?1:ae??.75}))}H(this,"afterColorizeItem",{item:V,visible:te})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(V){let{group:te,x:ce=0,y:ie=0}=V.legendItem||{},se=this.options,Ce=se.symbolPadding,pe=!se.rtl,we=V.checkbox;if(te&&te.element){let K={translateX:pe?ce:this.legendWidth-ce-2*Ce-4,translateY:ie};te[O(te.translateY)?"animate":"attr"](K,void 0,()=>{H(this,"afterPositionItem",{item:V})})}we&&(we.x=ce,we.y=ie)}destroyItem(V){let te=V.checkbox,ce=V.legendItem||{};for(let ie of["group","label","line","symbol"])ce[ie]&&(ce[ie]=ce[ie].destroy());te&&W(te),V.legendItem=void 0}destroy(){for(let V of this.getAllItems())this.destroyItem(V);for(let V of["clipRect","up","down","pager","nav","box","title","group"])this[V]&&(this[V]=this[V].destroy());this.display=null}positionCheckboxes(){let V,te=this.group&&this.group.alignAttr,ce=this.clipHeight||this.legendHeight,ie=this.titleHeight;te&&(V=te.translateY,this.allItems.forEach(function(se){let Ce,pe=se.checkbox;pe&&(Ce=V+ie+pe.y+(this.scrollOffset||0)+3,L(pe,{left:te.translateX+se.checkboxOffset+pe.x-20+"px",top:Ce+"px",display:this.proximate||Ce>V-6&&Ce<V+ce-6?"":"none"}))},this))}renderTitle(){let V=this.options,te=this.padding,ce=V.title,ie,se=0;ce.text&&(this.title||(this.title=this.chart.renderer.label(ce.text,te-3,te-4,void 0,void 0,void 0,V.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(ce.style),this.title.add(this.group)),ce.width||this.title.css({width:this.maxLegendWidth+"px"}),se=(ie=this.title.getBBox()).height,this.offsetWidth=ie.width,this.contentGroup.attr({translateY:se})),this.titleHeight=se}setText(V){let te=this.options;V.legendItem.label.attr({text:te.labelFormat?w(te.labelFormat,V,this.chart):te.labelFormatter.call(V)})}renderItem(V){let te=V.legendItem=V.legendItem||{},ce=this.chart,ie=ce.renderer,se=this.options,Ce=se.layout==="horizontal",pe=this.symbolWidth,we=se.symbolPadding||0,K=this.itemStyle,J=this.itemHiddenStyle,ae=Ce?j(se.itemDistance,20):0,ve=!se.rtl,Q=!V.series,re=!Q&&V.series.drawLegendSymbol?V.series:V,le=re.options,fe=!!this.createCheckboxForItem&&le&&le.showCheckbox,xe=se.useHTML,Le=V.options.className,be=te.label,ke=pe+we+ae+(fe?20:0);!be&&(te.group=ie.g("legend-item").addClass("highcharts-"+re.type+"-series highcharts-color-"+V.colorIndex+(Le?" "+Le:"")+(Q?" highcharts-series-"+V.index:"")).attr({zIndex:1}).add(this.scrollGroup),te.label=be=ie.text("",ve?pe+we:-we,this.baseline||0,xe),ce.styledMode||be.css(G(V.visible?K:J)),be.attr({align:ve?"left":"right",zIndex:2}).add(te.group),!this.baseline&&(this.fontMetrics=ie.fontMetrics(be),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,be.attr("y",this.baseline),this.symbolHeight=j(se.symbolHeight,this.fontMetrics.f),se.squareSymbol&&(this.symbolWidth=j(se.symbolWidth,Math.max(this.symbolHeight,16)),ke=this.symbolWidth+we+ae+(fe?20:0),ve&&be.attr("x",this.symbolWidth+we))),re.drawLegendSymbol(this,V),this.setItemEvents&&this.setItemEvents(V,be,xe)),fe&&!V.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(V),this.colorizeItem(V,V.visible),(ce.styledMode||!K.width)&&be.css({width:(se.itemWidth||this.widthOption||ce.spacingBox.width)-ke+"px"}),this.setText(V);let Oe=be.getBBox(),Ue=this.fontMetrics&&this.fontMetrics.h||0;V.itemWidth=V.checkboxOffset=se.itemWidth||te.labelWidth||Oe.width+ke,this.maxItemWidth=Math.max(this.maxItemWidth,V.itemWidth),this.totalItemWidth+=V.itemWidth,this.itemHeight=V.itemHeight=Math.round(te.labelHeight||(Oe.height>1.5*Ue?Oe.height:Ue))}layoutItem(V){let te=this.options,ce=this.padding,ie=te.layout==="horizontal",se=V.itemHeight,Ce=this.itemMarginBottom,pe=this.itemMarginTop,we=ie?j(te.itemDistance,20):0,K=this.maxLegendWidth,J=te.alignColumns&&this.totalItemWidth>K?this.maxItemWidth:V.itemWidth,ae=V.legendItem||{};ie&&this.itemX-ce+J>K&&(this.itemX=ce,this.lastLineHeight&&(this.itemY+=pe+this.lastLineHeight+Ce),this.lastLineHeight=0),this.lastItemY=pe+this.itemY+Ce,this.lastLineHeight=Math.max(se,this.lastLineHeight),ae.x=this.itemX,ae.y=this.itemY,ie?this.itemX+=J:(this.itemY+=pe+se+Ce,this.lastLineHeight=se),this.offsetWidth=this.widthOption||Math.max((ie?this.itemX-ce-(V.checkbox?0:we):J)+ce,this.offsetWidth)}getAllItems(){let V=[];return this.chart.series.forEach(function(te){let ce=te&&te.options;te&&j(ce.showInLegend,!O(ce.linkedTo)&&void 0,!0)&&(V=V.concat((te.legendItem||{}).labels||(ce.legendType==="point"?te.data:te)))}),H(this,"afterGetAllItems",{allItems:V}),V}getAlignment(){let V=this.options;return this.proximate?V.align.charAt(0)+"tv":V.floating?"":V.align.charAt(0)+V.verticalAlign.charAt(0)+V.layout.charAt(0)}adjustMargins(V,te){let ce=this.chart,ie=this.options,se=this.getAlignment();se&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(Ce,pe){Ce.test(se)&&!O(V[pe])&&(ce[k[pe]]=Math.max(ce[k[pe]],ce.legend[(pe+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][pe]*ie[pe%2?"x":"y"]+j(ie.margin,12)+te[pe]+(ce.titleOffset[pe]||0)))})}proximatePositions(){let V,te=this.chart,ce=[],ie=this.options.align==="left";for(let se of(this.allItems.forEach(function(Ce){let pe,we,K=ie,J,ae;Ce.yAxis&&(Ce.xAxis.options.reversed&&(K=!K),Ce.points&&(pe=X(K?Ce.points:Ce.points.slice(0).reverse(),function(ve){return $(ve.plotY)})),we=this.itemMarginTop+Ce.legendItem.label.getBBox().height+this.itemMarginBottom,ae=Ce.yAxis.top-te.plotTop,J=Ce.visible?(pe?pe.plotY:Ce.yAxis.height)+(ae-.3*we):ae+Ce.yAxis.height,ce.push({target:J,size:we,item:Ce}))},this),v(ce,te.plotHeight)))V=se.item.legendItem||{},$(se.pos)&&(V.y=te.plotTop-te.spacing[0]+se.pos)}render(){let V=this.chart,te=V.renderer,ce=this.options,ie=this.padding,se=this.getAllItems(),Ce,pe,we,K=this.group,J,ae=this.box;this.itemX=ie,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=M(ce.width,V.spacingBox.width-ie),J=V.spacingBox.width-2*ie-ce.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(J/=2),this.maxLegendWidth=this.widthOption||J,K||(this.group=K=te.g("legend").addClass(ce.className||"").attr({zIndex:7}).add(),this.contentGroup=te.g().attr({zIndex:1}).add(K),this.scrollGroup=te.g().add(this.contentGroup)),this.renderTitle(),Y(se,(ve,Q)=>(ve.options&&ve.options.legendIndex||0)-(Q.options&&Q.options.legendIndex||0)),ce.reversed&&se.reverse(),this.allItems=se,this.display=Ce=!!se.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,se.forEach(this.renderItem,this),se.forEach(this.layoutItem,this),pe=(this.widthOption||this.offsetWidth)+ie,we=this.lastItemY+this.lastLineHeight+this.titleHeight,we=this.handleOverflow(we)+ie,ae||(this.box=ae=te.rect().addClass("highcharts-legend-box").attr({r:ce.borderRadius}).add(K)),V.styledMode||ae.attr({stroke:ce.borderColor,"stroke-width":ce.borderWidth||0,fill:ce.backgroundColor||"none"}).shadow(ce.shadow),pe>0&&we>0&&ae[ae.placed?"animate":"attr"](ae.crisp.call({},{x:0,y:0,width:pe,height:we},ae.strokeWidth())),K[Ce?"show":"hide"](),V.styledMode&&K.getStyle("display")==="none"&&(pe=we=0),this.legendWidth=pe,this.legendHeight=we,Ce&&this.align(),this.proximate||this.positionItems(),H(this,"afterRender")}align(V=this.chart.spacingBox){let te=this.chart,ce=this.options,ie=V.y;/(lth|ct|rth)/.test(this.getAlignment())&&te.titleOffset[0]>0?ie+=te.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&te.titleOffset[2]>0&&(ie-=te.titleOffset[2]),ie!==V.y&&(V=G(V,{y:ie})),te.hasRendered||(this.group.placed=!1),this.group.align(G(ce,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":ce.verticalAlign}),!0,V)}handleOverflow(V){let te=this,ce=this.chart,ie=ce.renderer,se=this.options,Ce=se.y,pe=se.verticalAlign==="top",we=this.padding,K=se.maxHeight,J=se.navigation,ae=j(J.animation,!0),ve=J.arrowSize||12,Q=this.pages,re=this.allItems,le=function(Xe){typeof Xe=="number"?Ue.attr({height:Xe}):Ue&&(te.clipRect=Ue.destroy(),te.contentGroup.clip()),te.contentGroup.div&&(te.contentGroup.div.style.clip=Xe?"rect("+we+"px,9999px,"+(we+Xe)+"px,0)":"auto")},fe=function(Xe){return te[Xe]=ie.circle(0,0,1.3*ve).translate(ve/2,ve/2).add(Oe),ce.styledMode||te[Xe].attr("fill","rgba(0,0,0,0.0001)"),te[Xe]},xe,Le,be,ke=ce.spacingBox.height+(pe?-Ce:Ce)-we,Oe=this.nav,Ue=this.clipRect;return se.layout!=="horizontal"||se.verticalAlign==="middle"||se.floating||(ke/=2),K&&(ke=Math.min(ke,K)),Q.length=0,V&&ke>0&&V>ke&&J.enabled!==!1?(this.clipHeight=xe=Math.max(ke-20-this.titleHeight-we,0),this.currentPage=j(this.currentPage,1),this.fullHeight=V,re.forEach((Xe,Pe)=>{let _e=(be=Xe.legendItem||{}).y||0,Ee=Math.round(be.label.getBBox().height),Re=Q.length;(!Re||_e-Q[Re-1]>xe&&(Le||_e)!==Q[Re-1])&&(Q.push(Le||_e),Re++),be.pageIx=Re-1,Le&&((re[Pe-1].legendItem||{}).pageIx=Re-1),Pe===re.length-1&&_e+Ee-Q[Re-1]>xe&&_e>Q[Re-1]&&(Q.push(_e),be.pageIx=Re),_e!==Le&&(Le=_e)}),Ue||(Ue=te.clipRect=ie.clipRect(0,we-2,9999,0),te.contentGroup.clip(Ue)),le(xe),Oe||(this.nav=Oe=ie.g().attr({zIndex:1}).add(this.group),this.up=ie.symbol("triangle",0,0,ve,ve).add(Oe),fe("upTracker").on("click",function(){te.scroll(-1,ae)}),this.pager=ie.text("",15,10).addClass("highcharts-legend-navigation"),!ce.styledMode&&J.style&&this.pager.css(J.style),this.pager.add(Oe),this.down=ie.symbol("triangle-down",0,0,ve,ve).add(Oe),fe("downTracker").on("click",function(){te.scroll(1,ae)})),te.scroll(0),V=ke):Oe&&(le(),this.nav=Oe.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),V}scroll(V,te){let ce=this.chart,ie=this.pages,se=ie.length,Ce=this.clipHeight,pe=this.options.navigation,we=this.pager,K=this.padding,J=this.currentPage+V;J>se&&(J=se),J>0&&(te!==void 0&&b(te,ce),this.nav.attr({translateX:K,translateY:Ce+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(ae){ae.attr({class:J===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),we.attr({text:J+"/"+se}),[this.down,this.downTracker].forEach(function(ae){ae.attr({x:18+this.pager.getBBox().width,class:J===se?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),ce.styledMode||(this.up.attr({fill:J===1?pe.inactiveColor:pe.activeColor}),this.upTracker.css({cursor:J===1?"default":"pointer"}),this.down.attr({fill:J===se?pe.inactiveColor:pe.activeColor}),this.downTracker.css({cursor:J===se?"default":"pointer"})),this.scrollOffset=-ie[J-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=J,this.positionCheckboxes(),B(()=>{H(this,"afterScroll",{currentPage:J})},_(j(te,ce.renderer.globalAnimation,!0)).duration))}setItemEvents(V,te,ce){let ie=this,se=V.legendItem||{},Ce=ie.chart.renderer.boxWrapper,pe=V instanceof h,we=V instanceof s,K="highcharts-legend-"+(pe?"point":"series")+"-active",J=ie.chart.styledMode,ae=ce?[te,se.symbol]:[se.group],ve=Q=>{ie.allItems.forEach(re=>{V!==re&&[re].concat(re.linkedSeries||[]).forEach(le=>{le.setState(Q,!pe)})})};for(let Q of ae)Q&&Q.on("mouseover",function(){V.visible&&ve("inactive"),V.setState("hover"),V.visible&&Ce.addClass(K),J||te.css(ie.options.itemHoverStyle)}).on("mouseout",function(){ie.chart.styledMode||te.css(G(V.visible?ie.itemStyle:ie.itemHiddenStyle)),ve(""),Ce.removeClass(K),V.setState()}).on("click",function(re){let le=function(){V.setVisible&&V.setVisible(),ve(V.visible?"inactive":"")};Ce.removeClass(K),H(ie,"itemClick",{browserEvent:re,legendItem:V},le),pe?V.firePointEvent("legendItemClick",{browserEvent:re}):we&&H(V,"legendItemClick",{browserEvent:re})})}createCheckboxForItem(V){V.checkbox=C("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:V.selected,defaultChecked:V.selected},this.options.itemCheckboxStyle,this.chart.container),N(V.checkbox,"click",function(te){let ce=te.target;H(V.series||V,"checkboxClick",{checked:ce.checked,item:V},function(){V.select()})})}}return(g=z).compose=function(q){D(E,"Core.Legend")&&N(q,"beforeMargins",function(){this.legend=new g(this,this.options.legend)})},z}),i(t,"Core/Chart/Chart.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Templating.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Time.js"],t["Core/Utilities.js"],t["Core/Renderer/HTML/AST.js"],t["Core/Axis/Tick.js"]],function(r,a,o,s,h,p,f,y,g,_,b,T,E,k){let{animate:v,animObject:w,setAnimation:N}=r,{defaultOptions:C,defaultTime:L}=o,{numberFormat:O}=s,{registerEventOptions:W}=h,{charts:X,doc:H,marginNames:$,svg:G,win:j}=p,{seriesTypes:D}=g,{addEvent:M,attr:Y,createElement:B,css:z,defined:q,diffObjects:V,discardElement:te,erase:ce,error:ie,extend:se,find:Ce,fireEvent:pe,getStyle:we,isArray:K,isNumber:J,isObject:ae,isString:ve,merge:Q,objectEach:re,pick:le,pInt:fe,relativeLength:xe,removeEvent:Le,splat:be,syncTimeout:ke,uniqueKey:Oe}=T;class Ue{static chart(Pe,_e,Ee){return new Ue(Pe,_e,Ee)}constructor(Pe,_e,Ee){this.sharedClips={};let Re=[...arguments];(ve(Pe)||Pe.nodeName)&&(this.renderTo=Re.shift()),this.init(Re[0],Re[1])}setZoomOptions(){let Pe=this.options.chart,_e=Pe.zooming;this.zooming={..._e,type:le(Pe.zoomType,_e.type),key:le(Pe.zoomKey,_e.key),pinchType:le(Pe.pinchType,_e.pinchType),singleTouch:le(Pe.zoomBySingleTouch,_e.singleTouch,!1),resetButton:Q(_e.resetButton,Pe.resetZoomButton)}}init(Pe,_e){pe(this,"init",{args:arguments},function(){let Ee=Q(C,Pe),Re=Ee.chart;this.userOptions=se({},Pe),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=_e,this.isResizing=0,this.options=Ee,this.axes=[],this.series=[],this.time=Pe.time&&Object.keys(Pe.time).length?new b(Pe.time):p.time,this.numberFormatter=Re.numberFormatter||O,this.styledMode=Re.styledMode,this.hasCartesianSeries=Re.showAxes,this.index=X.length,X.push(this),p.chartCount++,W(this,Re),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),pe(this,"afterInit"),this.firstRender()})}initSeries(Pe){let _e=this.options.chart,Ee=Pe.type||_e.type,Re=D[Ee];Re||ie(17,!0,this,{missingModuleFor:Ee});let Me=new Re;return typeof Me.init=="function"&&Me.init(this,Pe),Me}setSortedData(){this.getSeriesOrderByLinks().forEach(function(Pe){Pe.points||Pe.data||!Pe.enabledDataSorting||Pe.setData(Pe.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(Pe,_e){return Pe.linkedSeries.length||_e.linkedSeries.length?_e.linkedSeries.length-Pe.linkedSeries.length:0})}orderItems(Pe,_e=0){let Ee=this[Pe],Re=this.options[Pe]=be(this.options[Pe]).slice(),Me=this.userOptions[Pe]=this.userOptions[Pe]?be(this.userOptions[Pe]).slice():[];if(this.hasRendered&&(Re.splice(_e),Me.splice(_e)),Ee)for(let ze=_e,Ke=Ee.length;ze<Ke;++ze){let tt=Ee[ze];tt&&(tt.index=ze,tt instanceof y&&(tt.name=tt.getName()),tt.options.isInternal||(Re[ze]=tt.options,Me[ze]=tt.userOptions))}}isInsidePlot(Pe,_e,Ee={}){var St;let{inverted:Re,plotBox:Me,plotLeft:ze,plotTop:Ke,scrollablePlotBox:tt}=this,{scrollLeft:st=0,scrollTop:ht=0}=Ee.visiblePlotOnly&&((St=this.scrollablePlotArea)==null?void 0:St.scrollingContainer)||{},gt=Ee.series,Tt=Ee.visiblePlotOnly&&tt||Me,$t=Ee.inverted?_e:Pe,mt=Ee.inverted?Pe:_e,Ct={x:$t,y:mt,isInsidePlot:!0,options:Ee};if(!Ee.ignoreX){let sn=gt&&(Re&&!this.polar?gt.yAxis:gt.xAxis)||{pos:ze,len:1/0},yn=Ee.paneCoordinates?sn.pos+$t:ze+$t;yn>=Math.max(st+ze,sn.pos)&&yn<=Math.min(st+ze+Tt.width,sn.pos+sn.len)||(Ct.isInsidePlot=!1)}if(!Ee.ignoreY&&Ct.isInsidePlot){let sn=!Re&&Ee.axis&&!Ee.axis.isXAxis&&Ee.axis||gt&&(Re?gt.xAxis:gt.yAxis)||{pos:Ke,len:1/0},yn=Ee.paneCoordinates?sn.pos+mt:Ke+mt;yn>=Math.max(ht+Ke,sn.pos)&&yn<=Math.min(ht+Ke+Tt.height,sn.pos+sn.len)||(Ct.isInsidePlot=!1)}return pe(this,"afterIsInsidePlot",Ct),Ct.isInsidePlot}redraw(Pe){pe(this,"beforeRedraw");let _e=this.hasCartesianSeries?this.axes:this.colorAxis||[],Ee=this.series,Re=this.pointer,Me=this.legend,ze=this.userOptions.legend,Ke=this.renderer,tt=Ke.isHidden(),st=[],ht,gt,Tt,$t=this.isDirtyBox,mt=this.isDirtyLegend,Ct;for(Ke.rootFontSize=Ke.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),N(!!this.hasRendered&&Pe,this),tt&&this.temporaryDisplay(),this.layOutTitles(!1),Tt=Ee.length;Tt--;)if(((Ct=Ee[Tt]).options.stacking||Ct.options.centerInCategory)&&(gt=!0,Ct.isDirty)){ht=!0;break}if(ht)for(Tt=Ee.length;Tt--;)(Ct=Ee[Tt]).options.stacking&&(Ct.isDirty=!0);Ee.forEach(function(St){St.isDirty&&(St.options.legendType==="point"?(typeof St.updateTotals=="function"&&St.updateTotals(),mt=!0):ze&&(ze.labelFormatter||ze.labelFormat)&&(mt=!0)),St.isDirtyData&&pe(St,"updatedData")}),mt&&Me&&Me.options.enabled&&(Me.render(),this.isDirtyLegend=!1),gt&&this.getStacks(),_e.forEach(function(St){St.updateNames(),St.setScale()}),this.getMargins(),_e.forEach(function(St){St.isDirty&&($t=!0)}),_e.forEach(function(St){let sn=St.min+","+St.max;St.extKey!==sn&&(St.extKey=sn,st.push(function(){pe(St,"afterSetExtremes",se(St.eventArgs,St.getExtremes())),delete St.eventArgs})),($t||gt)&&St.redraw()}),$t&&this.drawChartBox(),pe(this,"predraw"),Ee.forEach(function(St){($t||St.isDirty)&&St.visible&&St.redraw(),St.isDirtyData=!1}),Re&&Re.reset(!0),Ke.draw(),pe(this,"redraw"),pe(this,"render"),tt&&this.temporaryDisplay(!0),st.forEach(function(St){St.call()})}get(Pe){let _e=this.series;function Ee(Me){return Me.id===Pe||Me.options&&Me.options.id===Pe}let Re=Ce(this.axes,Ee)||Ce(this.series,Ee);for(let Me=0;!Re&&Me<_e.length;Me++)Re=Ce(_e[Me].points||[],Ee);return Re}getAxes(){let Pe=this.userOptions;for(let _e of(pe(this,"getAxes"),["xAxis","yAxis"]))for(let Ee of Pe[_e]=be(Pe[_e]||{}))new a(this,Ee,_e);pe(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((Pe,_e)=>(_e.getPointsCollection().forEach(Ee=>{le(Ee.selectedStaging,Ee.selected)&&Pe.push(Ee)}),Pe),[])}getSelectedSeries(){return this.series.filter(function(Pe){return Pe.selected})}setTitle(Pe,_e,Ee){this.applyDescription("title",Pe),this.applyDescription("subtitle",_e),this.applyDescription("caption",void 0),this.layOutTitles(Ee)}applyDescription(Pe,_e){let Ee=this,Re=this.options[Pe]=Q(this.options[Pe],_e),Me=this[Pe];Me&&_e&&(this[Pe]=Me=Me.destroy()),Re&&!Me&&((Me=this.renderer.text(Re.text,0,0,Re.useHTML).attr({align:Re.align,class:"highcharts-"+Pe,zIndex:Re.zIndex||4}).add()).update=function(ze,Ke){Ee.applyDescription(Pe,ze),Ee.layOutTitles(Ke)},this.styledMode||Me.css(se(Pe==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},Re.style)),this[Pe]=Me)}layOutTitles(Pe=!0){let _e=[0,0,0],Ee=this.renderer,Re=this.spacingBox;["title","subtitle","caption"].forEach(function(ze){let Ke=this[ze],tt=this.options[ze],st=tt.verticalAlign||"top",ht=ze==="title"?st==="top"?-3:0:st==="top"?_e[0]+2:0;if(Ke){Ke.css({width:(tt.width||Re.width+(tt.widthAdjust||0))+"px"});let gt=Ee.fontMetrics(Ke).b,Tt=Math.round(Ke.getBBox(tt.useHTML).height);Ke.align(se({y:st==="bottom"?gt:ht+gt,height:Tt},tt),!1,"spacingBox"),tt.floating||(st==="top"?_e[0]=Math.ceil(_e[0]+Tt):st==="bottom"&&(_e[2]=Math.ceil(_e[2]+Tt)))}},this),_e[0]&&(this.options.title.verticalAlign||"top")==="top"&&(_e[0]+=this.options.title.margin),_e[2]&&this.options.caption.verticalAlign==="bottom"&&(_e[2]+=this.options.caption.margin);let Me=!this.titleOffset||this.titleOffset.join(",")!==_e.join(",");this.titleOffset=_e,pe(this,"afterLayOutTitles"),!this.isDirtyBox&&Me&&(this.isDirtyBox=this.isDirtyLegend=Me,this.hasRendered&&Pe&&this.isDirtyBox&&this.redraw())}getContainerBox(){let Pe=[].map.call(this.renderTo.children,Ee=>{if(Ee!==this.container){let Re=Ee.style.display;return Ee.style.display="none",[Ee,Re]}}),_e={width:we(this.renderTo,"width",!0)||0,height:we(this.renderTo,"height",!0)||0};return Pe.filter(Boolean).forEach(([Ee,Re])=>{Ee.style.display=Re}),_e}getChartSize(){var ze;let Pe=this.options.chart,_e=Pe.width,Ee=Pe.height,Re=this.getContainerBox(),Me=Re.height>1&&!(!((ze=this.renderTo.parentElement)!=null&&ze.style.height)&&this.renderTo.style.height==="100%");this.chartWidth=Math.max(0,_e||Re.width||600),this.chartHeight=Math.max(0,xe(Ee,this.chartWidth)||(Me?Re.height:400)),this.containerBox=Re}temporaryDisplay(Pe){let _e=this.renderTo,Ee;if(Pe)for(;_e&&_e.style;)_e.hcOrigStyle&&(z(_e,_e.hcOrigStyle),delete _e.hcOrigStyle),_e.hcOrigDetached&&(H.body.removeChild(_e),_e.hcOrigDetached=!1),_e=_e.parentNode;else for(;_e&&_e.style&&(H.body.contains(_e)||_e.parentNode||(_e.hcOrigDetached=!0,H.body.appendChild(_e)),(we(_e,"display",!1)==="none"||_e.hcOricDetached)&&(_e.hcOrigStyle={display:_e.style.display,height:_e.style.height,overflow:_e.style.overflow},Ee={display:"block",overflow:"hidden"},_e!==this.renderTo&&(Ee.height=0),z(_e,Ee),_e.offsetWidth||_e.style.setProperty("display","block","important")),(_e=_e.parentNode)!==H.body););}setClassName(Pe){this.container.className="highcharts-container "+(Pe||"")}getContainer(){var Tt;let Pe=this.options,_e=Pe.chart,Ee="data-highcharts-chart",Re=Oe(),Me,ze=this.renderTo;ze||(this.renderTo=ze=_e.renderTo),ve(ze)&&(this.renderTo=ze=H.getElementById(ze)),ze||ie(13,!0,this);let Ke=fe(Y(ze,Ee));J(Ke)&&X[Ke]&&X[Ke].hasRendered&&X[Ke].destroy(),Y(ze,Ee,this.index),ze.innerHTML=E.emptyHTML,_e.skipClone||ze.offsetWidth||this.temporaryDisplay(),this.getChartSize();let tt=this.chartHeight,st=this.chartWidth;z(ze,{overflow:"hidden"}),this.styledMode||(Me=se({position:"relative",overflow:"hidden",width:st+"px",height:tt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},_e.style||{}));let ht=B("div",{id:Re},Me,ze);this.container=ht,this.getChartSize(),st===this.chartWidth||(st=this.chartWidth,this.styledMode||z(ht,{width:le((Tt=_e.style)==null?void 0:Tt.width,st+"px")})),this.containerBox=this.getContainerBox(),this._cursor=ht.style.cursor;let gt=_e.renderer||!G?f.getRendererType(_e.renderer):_;if(this.renderer=new gt(ht,st,tt,void 0,_e.forExport,Pe.exporting&&Pe.exporting.allowHTML,this.styledMode),N(void 0,this),this.setClassName(_e.className),this.styledMode)for(let $t in Pe.defs)this.renderer.definition(Pe.defs[$t]);else this.renderer.setStyle(_e.style);this.renderer.chartIndex=this.index,pe(this,"afterGetContainer")}getMargins(Pe){let{spacing:_e,margin:Ee,titleOffset:Re}=this;this.resetMargins(),Re[0]&&!q(Ee[0])&&(this.plotTop=Math.max(this.plotTop,Re[0]+_e[0])),Re[2]&&!q(Ee[2])&&(this.marginBottom=Math.max(this.marginBottom,Re[2]+_e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(Ee,_e),pe(this,"getMargins"),Pe||this.getAxisMargins()}getAxisMargins(){let Pe=this,_e=Pe.axisOffset=[0,0,0,0],Ee=Pe.colorAxis,Re=Pe.margin,Me=function(ze){ze.forEach(function(Ke){Ke.visible&&Ke.getOffset()})};Pe.hasCartesianSeries?Me(Pe.axes):Ee&&Ee.length&&Me(Ee),$.forEach(function(ze,Ke){q(Re[Ke])||(Pe[ze]+=_e[Ke])}),Pe.setChartSize()}getOptions(){return V(this.userOptions,C)}reflow(Pe){var Me;let _e=this,Ee=_e.containerBox,Re=_e.getContainerBox();(Me=_e.pointer)==null||delete Me.chartPosition,!_e.isPrinting&&!_e.isResizing&&Ee&&Re.width&&((Re.width!==Ee.width||Re.height!==Ee.height)&&(T.clearTimeout(_e.reflowTimeout),_e.reflowTimeout=ke(function(){_e.container&&_e.setSize(void 0,void 0,!1)},Pe?100:0)),_e.containerBox=Re)}setReflow(){let Pe=this,_e=Ee=>{var Re;(Re=Pe.options)!=null&&Re.chart.reflow&&Pe.hasLoaded&&Pe.reflow(Ee)};if(typeof ResizeObserver=="function")new ResizeObserver(_e).observe(Pe.renderTo);else{let Ee=M(j,"resize",_e);M(this,"destroy",Ee)}}setSize(Pe,_e,Ee){let Re=this,Me=Re.renderer;Re.isResizing+=1,N(Ee,Re);let ze=Me.globalAnimation;Re.oldChartHeight=Re.chartHeight,Re.oldChartWidth=Re.chartWidth,Pe!==void 0&&(Re.options.chart.width=Pe),_e!==void 0&&(Re.options.chart.height=_e),Re.getChartSize();let{chartWidth:Ke,chartHeight:tt,scrollablePixelsX:st=0,scrollablePixelsY:ht=0}=Re;(Re.isDirtyBox||Ke!==Re.oldChartWidth||tt!==Re.oldChartHeight)&&(Re.styledMode||(ze?v:z)(Re.container,{width:`${Ke+st}px`,height:`${tt+ht}px`},ze),Re.setChartSize(!0),Me.setSize(Ke,tt,ze),Re.axes.forEach(function(gt){gt.isDirty=!0,gt.setScale()}),Re.isDirtyLegend=!0,Re.isDirtyBox=!0,Re.layOutTitles(),Re.getMargins(),Re.redraw(ze),Re.oldChartHeight=void 0,pe(Re,"resize"),setTimeout(()=>{Re&&pe(Re,"endResize")},w(ze).duration)),Re.isResizing-=1}setChartSize(Pe){let _e,Ee,Re,Me,{chartHeight:ze,chartWidth:Ke,inverted:tt,spacing:st,renderer:ht}=this,gt=this.clipOffset,Tt=Math[tt?"floor":"round"];this.plotLeft=_e=Math.round(this.plotLeft),this.plotTop=Ee=Math.round(this.plotTop),this.plotWidth=Re=Math.max(0,Math.round(Ke-_e-this.marginRight)),this.plotHeight=Me=Math.max(0,Math.round(ze-Ee-this.marginBottom)),this.plotSizeX=tt?Me:Re,this.plotSizeY=tt?Re:Me,this.spacingBox=ht.spacingBox={x:st[3],y:st[0],width:Ke-st[3]-st[1],height:ze-st[0]-st[2]},this.plotBox=ht.plotBox={x:_e,y:Ee,width:Re,height:Me},gt&&(this.clipBox={x:Tt(gt[3]),y:Tt(gt[0]),width:Tt(this.plotSizeX-gt[1]-gt[3]),height:Tt(this.plotSizeY-gt[0]-gt[2])}),Pe||(this.axes.forEach(function($t){$t.setAxisSize(),$t.setAxisTranslation()}),ht.alignElements()),pe(this,"afterSetChartSize",{skipAxes:Pe})}resetMargins(){pe(this,"resetMargins");let Pe=this,_e=Pe.options.chart,Ee=_e.plotBorderWidth||0,Re=Ee/2;["margin","spacing"].forEach(function(Me){let ze=_e[Me],Ke=ae(ze)?ze:[ze,ze,ze,ze];["Top","Right","Bottom","Left"].forEach(function(tt,st){Pe[Me][st]=le(_e[Me+tt],Ke[st])})}),$.forEach(function(Me,ze){Pe[Me]=le(Pe.margin[ze],Pe.spacing[ze])}),Pe.axisOffset=[0,0,0,0],Pe.clipOffset=[Re,Re,Re,Re],Pe.plotBorderWidth=Ee}drawChartBox(){let Pe=this.options.chart,_e=this.renderer,Ee=this.chartWidth,Re=this.chartHeight,Me=this.styledMode,ze=this.plotBGImage,Ke=Pe.backgroundColor,tt=Pe.plotBackgroundColor,st=Pe.plotBackgroundImage,ht=this.plotLeft,gt=this.plotTop,Tt=this.plotWidth,$t=this.plotHeight,mt=this.plotBox,Ct=this.clipRect,St=this.clipBox,sn=this.chartBackground,yn=this.plotBackground,Zt=this.plotBorder,di,ni,_i,Vi="animate";sn||(this.chartBackground=sn=_e.rect().addClass("highcharts-background").add(),Vi="attr"),Me?di=ni=sn.strokeWidth():(ni=(di=Pe.borderWidth||0)+(Pe.shadow?8:0),_i={fill:Ke||"none"},(di||sn["stroke-width"])&&(_i.stroke=Pe.borderColor,_i["stroke-width"]=di),sn.attr(_i).shadow(Pe.shadow)),sn[Vi]({x:ni/2,y:ni/2,width:Ee-ni-di%2,height:Re-ni-di%2,r:Pe.borderRadius}),Vi="animate",yn||(Vi="attr",this.plotBackground=yn=_e.rect().addClass("highcharts-plot-background").add()),yn[Vi](mt),!Me&&(yn.attr({fill:tt||"none"}).shadow(Pe.plotShadow),st&&(ze?(st!==ze.attr("href")&&ze.attr("href",st),ze.animate(mt)):this.plotBGImage=_e.image(st,ht,gt,Tt,$t).add())),Ct?Ct.animate({width:St.width,height:St.height}):this.clipRect=_e.clipRect(St),Vi="animate",Zt||(Vi="attr",this.plotBorder=Zt=_e.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),Me||Zt.attr({stroke:Pe.plotBorderColor,"stroke-width":Pe.plotBorderWidth||0,fill:"none"}),Zt[Vi](Zt.crisp({x:ht,y:gt,width:Tt,height:$t},-Zt.strokeWidth())),this.isDirtyBox=!1,pe(this,"afterDrawChartBox")}propFromSeries(){let Pe,_e,Ee,Re=this,Me=Re.options.chart,ze=Re.options.series;["inverted","angular","polar"].forEach(function(Ke){for(_e=D[Me.type],Ee=Me[Ke]||_e&&_e.prototype[Ke],Pe=ze&&ze.length;!Ee&&Pe--;)(_e=D[ze[Pe].type])&&_e.prototype[Ke]&&(Ee=!0);Re[Ke]=Ee})}linkSeries(Pe){let _e=this,Ee=_e.series;Ee.forEach(function(Re){Re.linkedSeries.length=0}),Ee.forEach(function(Re){let{linkedTo:Me}=Re.options;if(ve(Me)){let ze;(ze=Me===":previous"?_e.series[Re.index-1]:_e.get(Me))&&ze.linkedParent!==Re&&(ze.linkedSeries.push(Re),Re.linkedParent=ze,ze.enabledDataSorting&&Re.setDataSortingOptions(),Re.visible=le(Re.options.visible,ze.options.visible,Re.visible))}}),pe(this,"afterLinkSeries",{isUpdating:Pe})}renderSeries(){this.series.forEach(function(Pe){Pe.translate(),Pe.render()})}render(){var ht;let Pe=this.axes,_e=this.colorAxis,Ee=this.renderer,Re=this.options.chart.axisLayoutRuns||2,Me=gt=>{gt.forEach(Tt=>{Tt.visible&&Tt.render()})},ze=0,Ke=!0,tt,st=0;for(let gt of(this.setTitle(),pe(this,"beforeMargins"),(ht=this.getStacks)==null||ht.call(this),this.getMargins(!0),this.setChartSize(),Pe)){let{options:Tt}=gt,{labels:$t}=Tt;if(this.hasCartesianSeries&&gt.horiz&&gt.visible&&$t.enabled&&gt.series.length&&gt.coll!=="colorAxis"&&!this.polar){ze=Tt.tickLength,gt.createGroups();let mt=new k(gt,0,"",!0),Ct=mt.createLabel("x",$t);if(mt.destroy(),Ct&&le($t.reserveSpace,!J(Tt.crossing))&&(ze=Ct.getBBox().height+$t.distance+Math.max(Tt.offset||0,0)),ze){Ct==null||Ct.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-ze,0);(Ke||tt||Re>1)&&st<Re;){let gt=this.plotWidth,Tt=this.plotHeight;for(let $t of Pe)st===0?$t.setScale():($t.horiz&&Ke||!$t.horiz&&tt)&&$t.setTickInterval(!0);st===0?this.getAxisMargins():this.getMargins(),Ke=gt/this.plotWidth>(st?1:1.1),tt=Tt/this.plotHeight>(st?1:1.05),st++}this.drawChartBox(),this.hasCartesianSeries?Me(Pe):_e&&_e.length&&Me(_e),this.seriesGroup||(this.seriesGroup=Ee.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(Pe){let _e=this,Ee=Q(!0,this.options.credits,Pe);Ee.enabled&&!this.credits&&(this.credits=this.renderer.text(Ee.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Ee.href&&(j.location.href=Ee.href)}).attr({align:Ee.position.align,zIndex:8}),_e.styledMode||this.credits.css(Ee.style),this.credits.add().align(Ee.position),this.credits.update=function(Re){_e.credits=_e.credits.destroy(),_e.addCredits(Re)})}destroy(){let Pe,_e=this,Ee=_e.axes,Re=_e.series,Me=_e.container,ze=Me&&Me.parentNode;for(pe(_e,"destroy"),_e.renderer.forExport?ce(X,_e):X[_e.index]=void 0,p.chartCount--,_e.renderTo.removeAttribute("data-highcharts-chart"),Le(_e),Pe=Ee.length;Pe--;)Ee[Pe]=Ee[Pe].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),Pe=Re.length;Pe--;)Re[Pe]=Re[Pe].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(Ke){let tt=_e[Ke];tt&&tt.destroy&&(_e[Ke]=tt.destroy())}),Me&&(Me.innerHTML=E.emptyHTML,Le(Me),ze&&te(Me)),re(_e,function(Ke,tt){delete _e[tt]})}firstRender(){var Re;let Pe=this,_e=Pe.options;Pe.getContainer(),Pe.resetMargins(),Pe.setChartSize(),Pe.propFromSeries(),Pe.getAxes();let Ee=K(_e.series)?_e.series:[];_e.series=[],Ee.forEach(function(Me){Pe.initSeries(Me)}),Pe.linkSeries(),Pe.setSortedData(),pe(Pe,"beforeRender"),Pe.render(),(Re=Pe.pointer)==null||Re.getChartPosition(),Pe.renderer.imgCount||Pe.hasLoaded||Pe.onload(),Pe.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(Pe){Pe&&this.index!==void 0&&Pe.apply(this,[this])},this),pe(this,"load"),pe(this,"render"),q(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:Pe,title:_e}=this;!Pe||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(_e&&_e.element.textContent||"").replace(/</g,"&lt;")}),Pe.accessibility&&Pe.accessibility.enabled===!1||ie('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(Pe,_e,Ee){let Re,Me=this;return Pe&&(_e=le(_e,!0),pe(Me,"addSeries",{options:Pe},function(){Re=Me.initSeries(Pe),Me.isDirtyLegend=!0,Me.linkSeries(),Re.enabledDataSorting&&Re.setData(Pe.data,!1),pe(Me,"afterAddSeries",{series:Re}),_e&&Me.redraw(Ee)})),Re}addAxis(Pe,_e,Ee,Re){return this.createAxis(_e?"xAxis":"yAxis",{axis:Pe,redraw:Ee,animation:Re})}addColorAxis(Pe,_e,Ee){return this.createAxis("colorAxis",{axis:Pe,redraw:_e,animation:Ee})}createAxis(Pe,_e){let Ee=new a(this,_e.axis,Pe);return le(_e.redraw,!0)&&this.redraw(_e.animation),Ee}showLoading(Pe){let _e=this,Ee=_e.options,Re=Ee.loading,Me=function(){ze&&z(ze,{left:_e.plotLeft+"px",top:_e.plotTop+"px",width:_e.plotWidth+"px",height:_e.plotHeight+"px"})},ze=_e.loadingDiv,Ke=_e.loadingSpan;ze||(_e.loadingDiv=ze=B("div",{className:"highcharts-loading highcharts-loading-hidden"},null,_e.container)),Ke||(_e.loadingSpan=Ke=B("span",{className:"highcharts-loading-inner"},null,ze),M(_e,"redraw",Me)),ze.className="highcharts-loading",E.setElementHTML(Ke,le(Pe,Ee.lang.loading,"")),_e.styledMode||(z(ze,se(Re.style,{zIndex:10})),z(Ke,Re.labelStyle),_e.loadingShown||(z(ze,{opacity:0,display:""}),v(ze,{opacity:Re.style.opacity||.5},{duration:Re.showDuration||0}))),_e.loadingShown=!0,Me()}hideLoading(){let Pe=this.options,_e=this.loadingDiv;_e&&(_e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||v(_e,{opacity:0},{duration:Pe.loading.hideDuration||100,complete:function(){z(_e,{display:"none"})}})),this.loadingShown=!1}update(Pe,_e,Ee,Re){let Me,ze,Ke,tt=this,st={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},ht=Pe.isResponsiveOptions,gt=[];pe(tt,"update",{options:Pe}),ht||tt.setResponsive(!1,!0),Pe=V(Pe,tt.options),tt.userOptions=Q(tt.userOptions,Pe);let Tt=Pe.chart;Tt&&(Q(!0,tt.options.chart,Tt),this.setZoomOptions(),"className"in Tt&&tt.setClassName(Tt.className),("inverted"in Tt||"polar"in Tt||"type"in Tt)&&(tt.propFromSeries(),Me=!0),"alignTicks"in Tt&&(Me=!0),"events"in Tt&&W(this,Tt),re(Tt,function(Ct,St){tt.propsRequireUpdateSeries.indexOf("chart."+St)!==-1&&(ze=!0),tt.propsRequireDirtyBox.indexOf(St)!==-1&&(tt.isDirtyBox=!0),tt.propsRequireReflow.indexOf(St)===-1||(tt.isDirtyBox=!0,ht||(Ke=!0))}),!tt.styledMode&&Tt.style&&tt.renderer.setStyle(tt.options.chart.style||{})),!tt.styledMode&&Pe.colors&&(this.options.colors=Pe.colors),Pe.time&&(this.time===L&&(this.time=new b(Pe.time)),Q(!0,tt.options.time,Pe.time)),re(Pe,function(Ct,St){tt[St]&&typeof tt[St].update=="function"?tt[St].update(Ct,!1):typeof tt[st[St]]=="function"?tt[st[St]](Ct):St!=="colors"&&tt.collectionsWithUpdate.indexOf(St)===-1&&Q(!0,tt.options[St],Pe[St]),St!=="chart"&&tt.propsRequireUpdateSeries.indexOf(St)!==-1&&(ze=!0)}),this.collectionsWithUpdate.forEach(function(Ct){Pe[Ct]&&(be(Pe[Ct]).forEach(function(St,sn){let yn,Zt=q(St.id);Zt&&(yn=tt.get(St.id)),!yn&&tt[Ct]&&(yn=tt[Ct][le(St.index,sn)])&&(Zt&&q(yn.options.id)||yn.options.isInternal)&&(yn=void 0),yn&&yn.coll===Ct&&(yn.update(St,!1),Ee&&(yn.touched=!0)),!yn&&Ee&&tt.collectionsWithInit[Ct]&&(tt.collectionsWithInit[Ct][0].apply(tt,[St].concat(tt.collectionsWithInit[Ct][1]||[]).concat([!1])).touched=!0)}),Ee&&tt[Ct].forEach(function(St){St.touched||St.options.isInternal?delete St.touched:gt.push(St)}))}),gt.forEach(function(Ct){Ct.chart&&Ct.remove&&Ct.remove(!1)}),Me&&tt.axes.forEach(function(Ct){Ct.update({},!1)}),ze&&tt.getSeriesOrderByLinks().forEach(function(Ct){Ct.chart&&Ct.update({},!1)},this);let $t=Tt&&Tt.width,mt=Tt&&(ve(Tt.height)?xe(Tt.height,$t||tt.chartWidth):Tt.height);Ke||J($t)&&$t!==tt.chartWidth||J(mt)&&mt!==tt.chartHeight?tt.setSize($t,mt,Re):le(_e,!0)&&tt.redraw(Re),pe(tt,"afterUpdate",{options:Pe,redraw:_e,animation:Re})}setSubtitle(Pe,_e){this.applyDescription("subtitle",Pe),this.layOutTitles(_e)}setCaption(Pe,_e){this.applyDescription("caption",Pe),this.layOutTitles(_e)}showResetZoom(){let Pe=this,_e=C.lang,Ee=Pe.zooming.resetButton,Re=Ee.theme,Me=Ee.relativeTo==="chart"||Ee.relativeTo==="spacingBox"?null:"plotBox";function ze(){Pe.zoomOut()}pe(this,"beforeShowResetZoom",null,function(){Pe.resetZoomButton=Pe.renderer.button(_e.resetZoom,null,null,ze,Re).attr({align:Ee.position.align,title:_e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Ee.position,!1,Me)}),pe(this,"afterShowResetZoom")}zoomOut(){pe(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(Pe,_e){let Ee=this,Re=typeof _e=="object"?_e:{enabled:_e,type:"x"},Me=Re.type,ze=Me&&Ee[{x:"xAxis",xy:"axes",y:"yAxis"}[Me]].filter(tt=>tt.options.panningEnabled&&!tt.options.isInternal),Ke=Ee.options.chart;Ke!=null&&Ke.panning&&(Ke.panning=Re),pe(this,"pan",{originalEvent:Pe},()=>{Ee.transform({axes:ze,event:Pe,to:{x:Pe.chartX-(Ee.mouseDownX||0),y:Pe.chartY-(Ee.mouseDownY||0)},trigger:"pan"}),z(Ee.container,{cursor:"move"})})}transform(Pe){var $t;let{axes:_e=this.axes,event:Ee,from:Re={},reset:Me,selection:ze,to:Ke={},trigger:tt}=Pe,{inverted:st}=this,ht=!1,gt,Tt;for(let mt of(($t=this.hoverPoints)==null||$t.forEach(Ct=>Ct.setState()),_e)){let{horiz:Ct,len:St,minPointOffset:sn=0,options:yn,reversed:Zt}=mt,di=Ct?"width":"height",ni=Ct?"x":"y",_i=le(Ke[di],mt.len),Vi=le(Re[di],mt.len),oi=10>Math.abs(_i)?1:_i/Vi,ut=(Re[ni]||0)+Vi/2-mt.pos,xt=ut-((Ke[ni]??mt.pos)+_i/2-mt.pos)/oi,Mt=Zt&&!st||!Zt&&st?-1:1;if(!Me&&(ut<0||ut>mt.len))continue;let Gt=mt.toValue(xt,!0)+(ze||mt.isOrdinal?0:sn*Mt),Qt=mt.toValue(xt+St/oi,!0)-(ze||mt.isOrdinal?0:sn*Mt||0),Tn=mt.allExtremes;if(Gt>Qt&&([Gt,Qt]=[Qt,Gt]),oi===1&&!Me&&mt.coll==="yAxis"&&!Tn){for(let Ft of mt.series){let Rt=Ft.getExtremes(Ft.getProcessedData(!0).yData,!0);Tn??(Tn={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),J(Rt.dataMin)&&J(Rt.dataMax)&&(Tn.dataMin=Math.min(Rt.dataMin,Tn.dataMin),Tn.dataMax=Math.max(Rt.dataMax,Tn.dataMax))}mt.allExtremes=Tn}let{dataMin:Gn,dataMax:vn,min:Ge,max:ge}=se(mt.getExtremes(),Tn||{}),Ie=Gn??yn.min,Fe=vn??yn.max,Ze=Qt-Gt,it=mt.categories?0:Math.min(Ze,Fe-Ie),lt=Ie-it*(q(yn.min)?0:yn.minPadding),at=Fe+it*(q(yn.max)?0:yn.maxPadding),nt=mt.allowZoomOutside||oi===1||tt!=="zoom"&&oi>1,ft=Math.min(yn.min??lt,lt,nt?Ge:lt),Nt=Math.max(yn.max??at,at,nt?ge:at);(!mt.isOrdinal||mt.options.overscroll||oi!==1||Me)&&(Gt<ft&&(Gt=ft,oi>=1&&(Qt=Gt+Ze)),Qt>Nt&&(Qt=Nt,oi>=1&&(Gt=Qt-Ze)),(Me||mt.series.length&&(Gt!==Ge||Qt!==ge)&&Gt>=ft&&Qt<=Nt)&&(ze?ze[mt.coll].push({axis:mt,min:Gt,max:Qt}):(mt.isPanning=tt!=="zoom",mt.isPanning&&(Tt=!0),mt.setExtremes(Me?void 0:Gt,Me?void 0:Qt,!1,!1,{move:xt,trigger:tt,scale:oi}),!Me&&(Gt>ft||Qt<Nt)&&tt!=="mousewheel"&&(gt=!0)),ht=!0),Ee&&(this[Ct?"mouseDownX":"mouseDownY"]=Ee[Ct?"chartX":"chartY"]))}return ht&&(ze?pe(this,"selection",ze,()=>{delete Pe.selection,Pe.trigger="zoom",this.transform(Pe)}):(!gt||Tt||this.resetZoomButton?!gt&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(tt==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),ht}}return se(Ue.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Ue.prototype.addAxis,[!0]],yAxis:[Ue.prototype.addAxis,[!1]],series:[Ue.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]}),Ue}),i(t,"Extensions/ScrollablePlotArea.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{stop:h}=r,{composed:p}=a,{addEvent:f,createElement:y,css:g,defined:_,merge:b,pushUnique:T}=s;function E(){let w=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!w&&(this.scrollablePlotArea=w=new v(this)),w==null||w.applyFixed()}function k(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class v{static compose(N,C,L){T(p,this.compose)&&(f(N,"afterInit",k),f(C,"afterSetChartSize",O=>this.afterSetSize(O.target,O)),f(C,"render",E),f(L,"show",k))}static afterSetSize(N,C){let L,O,W,{minWidth:X,minHeight:H}=N.options.chart.scrollablePlotArea||{},{clipBox:$,plotBox:G,inverted:j,renderer:D}=N;if(!D.forExport&&(X?(N.scrollablePixelsX=L=Math.max(0,X-N.chartWidth),L&&(N.scrollablePlotBox=b(N.plotBox),G.width=N.plotWidth+=L,$[j?"height":"width"]+=L,W=!0)):H&&(N.scrollablePixelsY=O=Math.max(0,H-N.chartHeight),_(O)&&(N.scrollablePlotBox=b(N.plotBox),G.height=N.plotHeight+=O,$[j?"width":"height"]+=O,W=!1)),_(W)&&!C.skipAxes))for(let M of N.axes)M.horiz===W&&(M.setAxisSize(),M.setAxisTranslation())}constructor(N){var Y;let C,L=N.options.chart,O=o.getRendererType(),W=L.scrollablePlotArea||{},X=this.moveFixedElements.bind(this),H={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};N.scrollablePixelsX&&(H.overflowX="auto"),N.scrollablePixelsY&&(H.overflowY="auto"),this.chart=N;let $=this.parentDiv=y("div",{className:"highcharts-scrolling-parent"},{position:"relative"},N.renderTo),G=this.scrollingContainer=y("div",{className:"highcharts-scrolling"},H,$),j=this.innerContainer=y("div",{className:"highcharts-inner-container"},void 0,G),D=this.fixedDiv=y("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((Y=L.style)==null?void 0:Y.zIndex)||0)+2,top:0},void 0,!0),M=this.fixedRenderer=new O(D,N.chartWidth,N.chartHeight,L.style);this.mask=M.path().attr({fill:L.backgroundColor||"#fff","fill-opacity":W.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),G.parentNode.insertBefore(D,G),g(N.renderTo,{overflow:"visible"}),f(N,"afterShowResetZoom",X),f(N,"afterApplyDrilldown",X),f(N,"afterLayOutTitles",X),f(G,"scroll",()=>{let{pointer:B,hoverPoint:z}=N;B&&(delete B.chartPosition,z&&(C=z),B.runPointActions(void 0,C,!0))}),j.appendChild(N.container)}applyFixed(){var J;let{chart:N,fixedRenderer:C,isDirty:L,scrollingContainer:O}=this,{axisOffset:W,chartWidth:X,chartHeight:H,container:$,plotHeight:G,plotLeft:j,plotTop:D,plotWidth:M,scrollablePixelsX:Y=0,scrollablePixelsY:B=0}=N,{scrollPositionX:z=0,scrollPositionY:q=0}=N.options.chart.scrollablePlotArea||{},V=X+Y,te=H+B;C.setSize(X,H),(L??!0)&&(this.isDirty=!1,this.moveFixedElements()),h(N.container),g($,{width:`${V}px`,height:`${te}px`}),N.renderer.boxWrapper.attr({width:V,height:te,viewBox:[0,0,V,te].join(" ")}),(J=N.chartBackground)==null||J.attr({width:V,height:te}),g(O,{width:`${X}px`,height:`${H}px`}),_(L)||(O.scrollLeft=Y*z,O.scrollTop=B*q);let ce=D-W[0]-1,ie=j-W[3]-1,se=D+G+W[2]+1,Ce=j+M+W[1]+1,pe=j+M-Y,we=D+G-B,K=[["M",0,0]];Y?K=[["M",0,ce],["L",j-1,ce],["L",j-1,se],["L",0,se],["Z"],["M",pe,ce],["L",X,ce],["L",X,se],["L",pe,se],["Z"]]:B&&(K=[["M",ie,0],["L",ie,D-1],["L",Ce,D-1],["L",Ce,0],["Z"],["M",ie,we],["L",ie,H],["L",Ce,H],["L",Ce,we],["Z"]]),N.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:K})}moveFixedElements(){let N,{container:C,inverted:L,scrollablePixelsX:O,scrollablePixelsY:W}=this.chart,X=this.fixedRenderer,H=v.fixedSelectors;for(let $ of(O&&!L?N=".highcharts-yaxis":O&&L||W&&!L?N=".highcharts-xaxis":W&&L&&(N=".highcharts-yaxis"),N&&H.push(`${N}:not(.highcharts-radial-axis)`,`${N}-labels:not(.highcharts-radial-axis-labels)`),H))[].forEach.call(C.querySelectorAll($),G=>{(G.namespaceURI===X.SVG_NS?X.box:X.box.parentNode).appendChild(G),G.style.pointerEvents="auto"})}}return v.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],v}),i(t,"Core/Axis/Stacking/StackItem.js",[t["Core/Templating.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{format:s}=r,{series:h}=a,{destroyObjectProperties:p,fireEvent:f,isNumber:y,pick:g}=o;return class{constructor(_,b,T,E,k){let v=_.chart.inverted,w=_.reversed;this.axis=_;let N=this.isNegative=!!T!=!!w;this.options=b=b||{},this.x=E,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=k,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:b.align||(v?N?"left":"right":"center"),verticalAlign:b.verticalAlign||(v?"middle":N?"bottom":"top"),y:b.y,x:b.x},this.textAlign=b.textAlign||(v?N?"right":"left":"center")}destroy(){p(this,this.axis)}render(_){let b=this.axis.chart,T=this.options,E=T.format,k=E?s(E,this,b):T.formatter.call(this);if(this.label)this.label.attr({text:k,visibility:"hidden"});else{this.label=b.renderer.label(k,null,void 0,T.shape,void 0,void 0,T.useHTML,!1,"stack-labels");let v={r:T.borderRadius||0,text:k,padding:g(T.padding,5),visibility:"hidden"};b.styledMode||(v.fill=T.backgroundColor,v.stroke=T.borderColor,v["stroke-width"]=T.borderWidth,this.label.css(T.style||{})),this.label.attr(v),this.label.added||this.label.add(_)}this.label.labelrank=b.plotSizeY,f(this,"afterRender")}setOffset(_,b,T,E,k,v){let{alignOptions:w,axis:N,label:C,options:L,textAlign:O}=this,W=N.chart,X=this.getStackBox({xOffset:_,width:b,boxBottom:T,boxTop:E,defaultX:k,xAxis:v}),{verticalAlign:H}=w;if(C&&X){let $=C.getBBox(void 0,0),G=C.padding,j=g(L.overflow,"justify")==="justify",D;w.x=L.x||0,w.y=L.y||0;let{x:M,y:Y}=this.adjustStackPosition({labelBox:$,verticalAlign:H,textAlign:O});X.x-=M,X.y-=Y,C.align(w,!1,X),(D=W.isInsidePlot(C.alignAttr.x+w.x+M,C.alignAttr.y+w.y+Y))||(j=!1),j&&h.prototype.justifyDataLabel.call(N,C,w,C.alignAttr,$,X),C.attr({x:C.alignAttr.x,y:C.alignAttr.y,rotation:L.rotation,rotationOriginX:$.width*{left:0,center:.5,right:1}[L.textAlign||"center"],rotationOriginY:$.height/2}),g(!j&&L.crop,!0)&&(D=y(C.x)&&y(C.y)&&W.isInsidePlot(C.x-G+(C.width||0),C.y)&&W.isInsidePlot(C.x+G,C.y)),C[D?"show":"hide"]()}f(this,"afterSetOffset",{xOffset:_,width:b})}adjustStackPosition({labelBox:_,verticalAlign:b,textAlign:T}){let E={bottom:0,middle:1,top:2,right:1,center:0,left:-1},k=E[b],v=E[T];return{x:_.width/2+_.width/2*v,y:_.height/2*k}}getStackBox(_){let b=this.axis,T=b.chart,{boxTop:E,defaultX:k,xOffset:v,width:w,boxBottom:N}=_,C=b.stacking.usePercentage?100:g(E,this.total,0),L=b.toPixels(C),O=_.xAxis||T.xAxis[0],W=g(k,O.translate(this.x))+v,X=Math.abs(L-b.toPixels(N||y(b.min)&&b.logarithmic&&b.logarithmic.lin2log(b.min)||0)),H=T.inverted,$=this.isNegative;return H?{x:($?L:L-X)-T.plotLeft,y:O.height-W-w+O.top-T.plotTop,width:X,height:w}:{x:W+O.transB-T.plotLeft,y:($?L-X:L)-T.plotTop,width:w,height:X}}}}),i(t,"Core/Axis/Stacking/StackingAxis.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/Axis.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(r,a,o,s,h){var p;let{getDeferredAnimation:f}=r,{series:{prototype:y}}=o,{addEvent:g,correctFloat:_,defined:b,destroyObjectProperties:T,fireEvent:E,isArray:k,isNumber:v,objectEach:w,pick:N}=h;function C(){let D=this.inverted;this.axes.forEach(M=>{M.stacking&&M.stacking.stacks&&M.hasVisibleSeries&&(M.stacking.oldStacks=M.stacking.stacks)}),this.series.forEach(M=>{let Y=M.xAxis&&M.xAxis.options||{};M.options.stacking&&M.reserveSpace()&&(M.stackKey=[M.type,N(M.options.stack,""),D?Y.top:Y.left,D?Y.height:Y.width].join(","))})}function L(){var M;let D=this.stacking;if(D){let Y=D.stacks;w(Y,(B,z)=>{T(B),delete Y[z]}),(M=D.stackTotalGroup)==null||M.destroy()}}function O(){this.stacking||(this.stacking=new j(this))}function W(D,M,Y,B){return!b(D)||D.x!==M||B&&D.stackKey!==B?D={x:M,index:0,key:B,stackKey:B}:D.index++,D.key=[Y,M,D.index].join(","),D}function X(){let D,M=this,Y=M.yAxis,B=M.stackKey||"",z=Y.stacking.stacks,q=M.processedXData,V=M.options.stacking,te=M[V+"Stacker"];te&&[B,"-"+B].forEach(ce=>{var we;let ie=q.length,se,Ce,pe;for(;ie--;)se=q[ie],D=M.getStackIndicator(D,se,M.index,ce),Ce=(we=z[ce])==null?void 0:we[se],(pe=Ce==null?void 0:Ce.points[D.key||""])&&te.call(M,pe,Ce,ie)})}function H(D,M,Y){let B=M.total?100/M.total:0;D[0]=_(D[0]*B),D[1]=_(D[1]*B),this.stackedYData[Y]=D[1]}function $(D){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&!this.options.stacking&&this.chart.series.length>1?y.setStackedPoints.call(this,D,"group"):D.stacking.resetStacks())}function G(D,M){var Oe,Ue;let Y,B,z,q,V,te,ce,ie,se,Ce=M||this.options.stacking;if(!Ce||!this.reserveSpace()||({group:"xAxis"}[Ce]||"yAxis")!==D.coll)return;let pe=this.processedXData,we=this.processedYData,K=[],J=we.length,ae=this.options,ve=ae.threshold||0,Q=ae.startFromThreshold?ve:0,re=ae.stack,le=M?`${this.type},${Ce}`:this.stackKey||"",fe="-"+le,xe=this.negStacks,Le=D.stacking,be=Le.stacks,ke=Le.oldStacks;for(Le.stacksTouched+=1,ce=0;ce<J;ce++){ie=pe[ce],se=we[ce],te=(Y=this.getStackIndicator(Y,ie,this.index)).key||"",be[V=(B=xe&&se<(Q?0:ve))?fe:le]||(be[V]={}),be[V][ie]||((Oe=ke[V])!=null&&Oe[ie]?(be[V][ie]=ke[V][ie],be[V][ie].total=null):be[V][ie]=new s(D,D.options.stackLabels,!!B,ie,re)),z=be[V][ie],se!==null?(z.points[te]=z.points[this.index]=[N(z.cumulative,Q)],b(z.cumulative)||(z.base=te),z.touched=Le.stacksTouched,Y.index>0&&this.singleStacks===!1&&(z.points[te][0]=z.points[this.index+","+ie+",0"][0])):(delete z.points[te],delete z.points[this.index]);let Xe=z.total||0;Ce==="percent"?(q=B?le:fe,Xe=xe&&((Ue=be[q])!=null&&Ue[ie])?(q=be[q][ie]).total=Math.max(q.total||0,Xe)+Math.abs(se)||0:_(Xe+(Math.abs(se)||0))):Ce==="group"?(k(se)&&(se=se[0]),se!==null&&Xe++):Xe=_(Xe+(se||0)),Ce==="group"?z.cumulative=(Xe||1)-1:z.cumulative=_(N(z.cumulative,Q)+(se||0)),z.total=Xe,se!==null&&(z.points[te].push(z.cumulative),K[ce]=z.cumulative,z.hasValidPoints=!0)}Ce==="percent"&&(Le.usePercentage=!0),Ce!=="group"&&(this.stackedYData=K),Le.oldStacks={}}class j{constructor(M){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=M}buildStacks(){let M,Y,B=this.axis,z=B.series,q=B.coll==="xAxis",V=B.options.reversedStacks,te=z.length;for(this.resetStacks(),this.usePercentage=!1,Y=te;Y--;)M=z[V?Y:te-Y-1],q&&M.setGroupedPoints(B),M.setStackedPoints(B);if(!q)for(Y=0;Y<te;Y++)z[Y].modifyStacks();E(B,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,w(this.stacks,M=>{w(M,Y=>{Y.cumulative=Y.total})}))}resetStacks(){w(this.stacks,M=>{w(M,(Y,B)=>{v(Y.touched)&&Y.touched<this.stacksTouched?(Y.destroy(),delete M[B]):(Y.total=null,Y.cumulative=null)})})}renderStackTotals(){var te;let M=this.axis,Y=M.chart,B=Y.renderer,z=this.stacks,q=f(Y,((te=M.options.stackLabels)==null?void 0:te.animation)||!1),V=this.stackTotalGroup=this.stackTotalGroup||B.g("stack-labels").attr({zIndex:6,opacity:0}).add();V.translate(Y.plotLeft,Y.plotTop),w(z,ce=>{w(ce,ie=>{ie.render(V)})}),V.animate({opacity:1},q)}}return(p||(p={})).compose=function(D,M,Y){let B=M.prototype,z=Y.prototype;B.getStacks||(g(D,"init",O),g(D,"destroy",L),B.getStacks=C,z.getStackIndicator=W,z.modifyStacks=X,z.percentStacker=H,z.setGroupedPoints=$,z.setStackedPoints=G)},p}),i(t,"Series/Line/LineSeries.js",[t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{defined:s,merge:h,isObject:p}=o;class f extends r{drawGraph(){let g=this.options,_=(this.gappedPath||this.getGraphPath).call(this),b=this.chart.styledMode;[this,...this.zones].forEach((T,E)=>{let k,v=T.graph,w=v?"animate":"attr",N=T.dashStyle||g.dashStyle;v?(v.endX=this.preventGraphAnimation?null:_.xMap,v.animate({d:_})):_.length&&(T.graph=v=this.chart.renderer.path(_).addClass("highcharts-graph"+(E?` highcharts-zone-graph-${E-1} `:" ")+(E&&T.className||"")).attr({zIndex:1}).add(this.group)),v&&!b&&(k={stroke:!E&&g.lineColor||T.color||this.color||"#cccccc","stroke-width":g.lineWidth||0,fill:this.fillGraph&&this.color||"none"},N?k.dashstyle=N:g.linecap!=="square"&&(k["stroke-linecap"]=k["stroke-linejoin"]="round"),v[w](k).shadow(E<2&&g.shadow&&h({filterUnits:"userSpaceOnUse"},p(g.shadow)?g.shadow:{}))),v&&(v.startX=_.xMap,v.isArea=_.isArea)})}getGraphPath(g,_,b){let T=this,E=T.options,k=[],v=[],w,N=E.step,C=(g=g||T.points).reversed;return C&&g.reverse(),(N={right:1,center:2}[N]||N&&3)&&C&&(N=4-N),(g=this.getValidPoints(g,!1,!(E.connectNulls&&!_&&!b))).forEach(function(L,O){let W,X=L.plotX,H=L.plotY,$=g[O-1],G=L.isNull||typeof H!="number";(L.leftCliff||$&&$.rightCliff)&&!b&&(w=!0),G&&!s(_)&&O>0?w=!E.connectNulls:G&&!_?w=!0:(O===0||w?W=[["M",L.plotX,L.plotY]]:T.getPointSpline?W=[T.getPointSpline(g,L,O)]:N?(W=N===1?[["L",$.plotX,H]]:N===2?[["L",($.plotX+X)/2,$.plotY],["L",($.plotX+X)/2,H]]:[["L",X,$.plotY]]).push(["L",X,H]):W=[["L",X,H]],v.push(L.x),N&&(v.push(L.x),N===2&&v.push(L.x)),k.push.apply(k,W),w=!1)}),k.xMap=v,T.graphPath=k,k}}return f.defaultOptions=h(r.defaultOptions,{legendSymbol:"lineMarker"}),a.registerSeriesType("line",f),f}),i(t,"Series/Area/AreaSeriesDefaults.js",[],function(){return{threshold:0,legendSymbol:"areaMarker"}}),i(t,"Series/Area/AreaSeries.js",[t["Series/Area/AreaSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{seriesTypes:{line:s}}=a,{extend:h,merge:p,objectEach:f,pick:y}=o;class g extends s{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:b,options:T}=this;[this,...this.zones].forEach((E,k)=>{let v={},w=E.fillColor||T.fillColor,N=E.area,C=N?"animate":"attr";N?(N.endX=this.preventGraphAnimation?null:b.xMap,N.animate({d:b})):(v.zIndex=0,(N=E.area=this.chart.renderer.path(b).addClass("highcharts-area"+(k?` highcharts-zone-area-${k-1} `:" ")+(k&&E.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(v.fill=w||E.color||this.color,v["fill-opacity"]=w?1:T.fillOpacity??.75,N.css({pointerEvents:this.stickyTracking?"none":"auto"})),N[C](v),N.startX=b.xMap,N.shiftUnit=T.step?2:1})}getGraphPath(b){let T,E,k,v=s.prototype.getGraphPath,w=this.options,N=w.stacking,C=this.yAxis,L=[],O=[],W=this.index,X=C.stacking.stacks[this.stackKey],H=w.threshold,$=Math.round(C.getThreshold(w.threshold)),G=y(w.connectNulls,N==="percent"),j=function(q,V,te){let ce=b[q],ie=N&&X[ce.x].points[W],se=ce[te+"Null"]||0,Ce=ce[te+"Cliff"]||0,pe,we,K=!0;Ce||se?(pe=(se?ie[0]:ie[1])+Ce,we=ie[0]+Ce,K=!!se):!N&&b[V]&&b[V].isNull&&(pe=we=H),pe!==void 0&&(O.push({plotX:T,plotY:pe===null?$:C.getThreshold(pe),isNull:K,isCliff:!0}),L.push({plotX:T,plotY:we===null?$:C.getThreshold(we),doCurve:!1}))};b=b||this.points,N&&(b=this.getStackPoints(b));for(let q=0,V=b.length;q<V;++q)N||(b[q].leftCliff=b[q].rightCliff=b[q].leftNull=b[q].rightNull=void 0),E=b[q].isNull,T=y(b[q].rectPlotX,b[q].plotX),k=N?y(b[q].yBottom,$):$,E&&!G||(G||j(q,q-1,"left"),E&&!N&&G||(O.push(b[q]),L.push({x:q,plotX:T,plotY:k})),G||j(q,q+1,"right"));let D=v.call(this,O,!0,!0);L.reversed=!0;let M=v.call(this,L,!0,!0),Y=M[0];Y&&Y[0]==="M"&&(M[0]=["L",Y[1],Y[2]]);let B=D.concat(M);B.length&&B.push(["Z"]);let z=v.call(this,O,!1,G);return this.chart.series.length>1&&N&&O.some(q=>q.isCliff)&&(B.hasStackedCliffs=z.hasStackedCliffs=!0),B.xMap=D.xMap,this.areaPath=B,z}getStackPoints(b){let T=this,E=[],k=[],v=this.xAxis,w=this.yAxis,N=w.stacking.stacks[this.stackKey],C={},L=w.series,O=L.length,W=w.options.reversedStacks?1:-1,X=L.indexOf(T);if(b=b||this.points,this.options.stacking){for(let $=0;$<b.length;$++)b[$].leftNull=b[$].rightNull=void 0,C[b[$].x]=b[$];f(N,function($,G){$.total!==null&&k.push(G)}),k.sort(function($,G){return $-G});let H=L.map($=>$.visible);k.forEach(function($,G){let j=0,D,M;if(C[$]&&!C[$].isNull)E.push(C[$]),[-1,1].forEach(function(Y){let B=Y===1?"rightNull":"leftNull",z=N[k[G+Y]],q=0;if(z){let V=X;for(;V>=0&&V<O;){let te=L[V].index;!(D=z.points[te])&&(te===T.index?C[$][B]=!0:H[V]&&(M=N[$].points[te])&&(q-=M[1]-M[0])),V+=W}}C[$][Y===1?"rightCliff":"leftCliff"]=q});else{let Y=X;for(;Y>=0&&Y<O;){let B=L[Y].index;if(D=N[$].points[B]){j=D[1];break}Y+=W}j=y(j,0),j=w.translate(j,0,1,0,1),E.push({isNull:!0,plotX:v.translate($,0,0,0,1),x:$,plotY:j,yBottom:j})}})}return E}}return g.defaultOptions=p(s.defaultOptions,r),h(g.prototype,{singleStacks:!1}),a.registerSeriesType("area",g),g}),i(t,"Series/Spline/SplineSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a){let{line:o}=r.seriesTypes,{merge:s,pick:h}=a;class p extends o{getPointSpline(y,g,_){let b,T,E,k,v=g.plotX||0,w=g.plotY||0,N=y[_-1],C=y[_+1];function L(W){return W&&!W.isNull&&W.doCurve!==!1&&!g.isCliff}if(L(N)&&L(C)){let W=N.plotX||0,X=N.plotY||0,H=C.plotX||0,$=C.plotY||0,G=0;b=(1.5*v+W)/2.5,T=(1.5*w+X)/2.5,E=(1.5*v+H)/2.5,k=(1.5*w+$)/2.5,E!==b&&(G=(k-T)*(E-v)/(E-b)+w-k),T+=G,k+=G,T>X&&T>w?(T=Math.max(X,w),k=2*w-T):T<X&&T<w&&(T=Math.min(X,w),k=2*w-T),k>$&&k>w?(k=Math.max($,w),T=2*w-k):k<$&&k<w&&(k=Math.min($,w),T=2*w-k),g.rightContX=E,g.rightContY=k,g.controlPoints={low:[b,T],high:[E,k]}}let O=["C",h(N.rightContX,N.plotX,0),h(N.rightContY,N.plotY,0),h(b,v,0),h(T,w,0),v,w];return N.rightContX=N.rightContY=void 0,O}}return p.defaultOptions=s(o.defaultOptions),r.registerSeriesType("spline",p),p}),i(t,"Series/AreaSpline/AreaSplineSeries.js",[t["Series/Spline/SplineSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{area:s,area:{prototype:h}}=a.seriesTypes,{extend:p,merge:f}=o;class y extends r{}return y.defaultOptions=f(r.defaultOptions,s.defaultOptions),p(y.prototype,{getGraphPath:h.getGraphPath,getStackPoints:h.getStackPoints,drawGraph:h.drawGraph}),a.registerSeriesType("areaspline",y),y}),i(t,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),i(t,"Series/Column/ColumnSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Color/Color.js"],t["Series/Column/ColumnSeriesDefaults.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s,h,p,f){let{animObject:y}=r,{parse:g}=a,{noop:_}=s,{clamp:b,crisp:T,defined:E,extend:k,fireEvent:v,isArray:w,isNumber:N,merge:C,pick:L,objectEach:O}=f;class W extends h{animate(H){let $,G,j=this,D=this.yAxis,M=D.pos,Y=D.reversed,B=j.options,{clipOffset:z,inverted:q}=this.chart,V={},te=q?"translateX":"translateY";H&&z?(V.scaleY=.001,G=b(D.toPixels(B.threshold),M,M+D.len),q?(G+=Y?-Math.floor(z[0]):Math.ceil(z[2]),V.translateX=G-D.len):(G+=Y?Math.ceil(z[0]):-Math.floor(z[2]),V.translateY=G),j.clipBox&&j.setClip(),j.group.attr(V)):($=Number(j.group.attr(te)),j.group.animate({scaleY:1},k(y(j.options.animation),{step:function(ce,ie){j.group&&(V[te]=$+ie.pos*(M-$),j.group.attr(V))}})))}init(H,$){super.init.apply(this,arguments);let G=this;(H=G.chart).hasRendered&&H.series.forEach(function(j){j.type===G.type&&(j.isDirty=!0)})}getColumnMetrics(){var se,Ce;let H=this,$=H.options,G=H.xAxis,j=H.yAxis,D=G.options.reversedStacks,M=G.reversed&&!D||!G.reversed&&D,Y={},B,z=0;$.grouping===!1?z=1:H.chart.series.forEach(function(pe){let we,K=pe.yAxis,J=pe.options;pe.type===H.type&&pe.reserveSpace()&&j.len===K.len&&j.pos===K.pos&&(J.stacking&&J.stacking!=="group"?(Y[B=pe.stackKey]===void 0&&(Y[B]=z++),we=Y[B]):J.grouping!==!1&&(we=z++),pe.columnIndex=we)});let q=Math.min(Math.abs(G.transA)*(!((se=G.brokenAxis)!=null&&se.hasBreaks)&&((Ce=G.ordinal)==null?void 0:Ce.slope)||$.pointRange||G.closestPointRange||G.tickInterval||1),G.len),V=q*$.groupPadding,te=(q-2*V)/(z||1),ce=Math.min($.maxPointWidth||G.len,L($.pointWidth,te*(1-2*$.pointPadding))),ie=(H.columnIndex||0)+(M?1:0);return H.columnMetrics={width:ce,offset:(te-ce)/2+(V+ie*te-q/2)*(M?-1:1),paddedWidth:te,columnCount:z},H.columnMetrics}crispCol(H,$,G,j){let D=this.borderWidth,M=this.chart.inverted;return j=T($+j,D,M)-($=T($,D,M)),this.options.crisp&&(G=T(H+G,D)-(H=T(H,D))),{x:H,y:$,width:G,height:j}}adjustForMissingColumns(H,$,G,j){var D;if(!G.isNull&&j.columnCount>1){let M=this.xAxis.series.filter(q=>q.visible).map(q=>q.index),Y=0,B=0;O((D=this.xAxis.stacking)==null?void 0:D.stacks,q=>{if(typeof G.x=="number"){let V=q[G.x.toString()];if(V&&w(V.points[this.index])){let te=Object.keys(V.points).filter(ce=>!ce.match(",")&&V.points[ce]&&V.points[ce].length>1).map(parseFloat).filter(ce=>M.indexOf(ce)!==-1).sort((ce,ie)=>ie-ce);Y=te.indexOf(this.index),B=te.length}}}),Y=this.xAxis.reversed?B-1-Y:Y;let z=(B-1)*j.paddedWidth+$;H=(G.plotX||0)+z/2-$-Y*j.paddedWidth}return H}translate(){let H=this,$=H.chart,G=H.options,j=H.dense=H.closestPointRange*H.xAxis.transA<2,D=H.borderWidth=L(G.borderWidth,j?0:1),M=H.xAxis,Y=H.yAxis,B=G.threshold,z=L(G.minPointLength,5),q=H.getColumnMetrics(),V=q.width,te=H.pointXOffset=q.offset,ce=H.dataMin,ie=H.dataMax,se=H.translatedThreshold=Y.getThreshold(B),Ce=H.barW=Math.max(V,1+2*D);G.pointPadding&&(Ce=Math.ceil(Ce)),h.prototype.translate.apply(H),H.points.forEach(function(pe){let we=L(pe.yBottom,se),K=999+Math.abs(we),J=pe.plotX||0,ae=b(pe.plotY,-K,Y.len+K),ve,Q=Math.min(ae,we),re=Math.max(ae,we)-Q,le=V,fe=J+te,xe=Ce;z&&Math.abs(re)<z&&(re=z,ve=!Y.reversed&&!pe.negative||Y.reversed&&pe.negative,N(B)&&N(ie)&&pe.y===B&&ie<=B&&(Y.min||0)<B&&(ce!==ie||(Y.max||0)<=B)&&(ve=!ve,pe.negative=!pe.negative),Q=Math.abs(Q-se)>z?we-z:se-(ve?z:0)),E(pe.options.pointWidth)&&(fe-=Math.round(((le=xe=Math.ceil(pe.options.pointWidth))-V)/2)),G.centerInCategory&&!G.stacking&&(fe=H.adjustForMissingColumns(fe,le,pe,q)),pe.barX=fe,pe.pointWidth=le,pe.tooltipPos=$.inverted?[b(Y.len+Y.pos-$.plotLeft-ae,Y.pos-$.plotLeft,Y.len+Y.pos-$.plotLeft),M.len+M.pos-$.plotTop-fe-xe/2,re]:[M.left-$.plotLeft+fe+xe/2,b(ae+Y.pos-$.plotTop,Y.pos-$.plotTop,Y.len+Y.pos-$.plotTop),re],pe.shapeType=H.pointClass.prototype.shapeType||"roundedRect",pe.shapeArgs=H.crispCol(fe,pe.isNull?se:Q,xe,pe.isNull?0:re)}),v(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(H,$){let G=this.options,j=this.pointAttrToOptions||{},D=j.stroke||"borderColor",M=j["stroke-width"]||"borderWidth",Y,B,z,q=H&&H.color||this.color,V=H&&H[D]||G[D]||q,te=H&&H.options.dashStyle||G.dashStyle,ce=H&&H[M]||G[M]||this[M]||0,ie=L(H&&H.opacity,G.opacity,1);H&&this.zones.length&&(B=H.getZone(),q=H.options.color||B&&(B.color||H.nonZonedColor)||this.color,B&&(V=B.borderColor||V,te=B.dashStyle||te,ce=B.borderWidth||ce)),$&&H&&(z=(Y=C(G.states[$],H.options.states&&H.options.states[$]||{})).brightness,q=Y.color||z!==void 0&&g(q).brighten(Y.brightness).get()||q,V=Y[D]||V,ce=Y[M]||ce,te=Y.dashStyle||te,ie=L(Y.opacity,ie));let se={fill:q,stroke:V,"stroke-width":ce,opacity:ie};return te&&(se.dashstyle=te),se}drawPoints(H=this.points){let $,G=this,j=this.chart,D=G.options,M=j.renderer,Y=D.animationLimit||250;H.forEach(function(B){let z=B.plotY,q=B.graphic,V=!!q,te=q&&j.pointCount<Y?"animate":"attr";N(z)&&B.y!==null?($=B.shapeArgs,q&&B.hasNewShapeType()&&(q=q.destroy()),G.enabledDataSorting&&(B.startXPos=G.xAxis.reversed?-($&&$.width||0):G.xAxis.width),!q&&(B.graphic=q=M[B.shapeType]($).add(B.group||G.group),q&&G.enabledDataSorting&&j.hasRendered&&j.pointCount<Y&&(q.attr({x:B.startXPos}),V=!0,te="animate")),q&&V&&q[te](C($)),j.styledMode||q[te](G.pointAttribs(B,B.selected&&"select")).shadow(B.allowShadow!==!1&&D.shadow),q&&(q.addClass(B.getClassName(),!0),q.attr({visibility:B.visible?"inherit":"hidden"}))):q&&(B.graphic=q.destroy())})}drawTracker(H=this.points){let $,G=this,j=G.chart,D=j.pointer,M=function(Y){let B=D==null?void 0:D.getPointFromEvent(Y);D&&B&&G.options.enableMouseTracking&&(D.isDirectTouch=!0,B.onMouseOver(Y))};H.forEach(function(Y){$=w(Y.dataLabels)?Y.dataLabels:Y.dataLabel?[Y.dataLabel]:[],Y.graphic&&(Y.graphic.element.point=Y),$.forEach(function(B){(B.div||B.element).point=Y})}),G._hasTracking||(G.trackerGroups.forEach(function(Y){G[Y]&&(G[Y].addClass("highcharts-tracker").on("mouseover",M).on("mouseout",function(B){D==null||D.onTrackerMouseOut(B)}).on("touchstart",M),!j.styledMode&&G.options.cursor&&G[Y].css({cursor:G.options.cursor}))}),G._hasTracking=!0),v(this,"afterDrawTracker")}remove(){let H=this,$=H.chart;$.hasRendered&&$.series.forEach(function(G){G.type===H.type&&(G.isDirty=!0)}),h.prototype.remove.apply(H,arguments)}}return W.defaultOptions=C(h.defaultOptions,o),k(W.prototype,{directTouch:!0,getSymbol:_,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),p.registerSeriesType("column",W),W}),i(t,"Core/Series/DataLabel.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Templating.js"],t["Core/Utilities.js"]],function(r,a,o){var s;let{getDeferredAnimation:h}=r,{format:p}=a,{defined:f,extend:y,fireEvent:g,isArray:_,isString:b,merge:T,objectEach:E,pick:k,pInt:v,splat:w}=o;return function(N){function C(){return G(this).some(D=>D==null?void 0:D.enabled)}function L(D,M,Y,B,z){var ae;let{chart:q,enabledDataSorting:V}=this,te=this.isCartesian&&q.inverted,ce=D.plotX,ie=D.plotY,se=Y.rotation||0,Ce=f(ce)&&f(ie)&&q.isInsidePlot(ce,Math.round(ie),{inverted:te,paneCoordinates:!0,series:this}),pe=se===0&&k(Y.overflow,V?"none":"justify")==="justify",we=this.visible&&D.visible!==!1&&f(ce)&&(D.series.forceDL||V&&!pe||Ce||k(Y.inside,!!this.options.stacking)&&B&&q.isInsidePlot(ce,te?B.x+1:B.y+B.height-1,{inverted:te,paneCoordinates:!0,series:this})),K=D.pos();if(we&&K){var J;let ve=M.getBBox(),Q=M.getBBox(void 0,0),re={right:1,center:.5}[Y.align||0]||0,le={bottom:1,middle:.5}[Y.verticalAlign||0]||0;if(B=y({x:K[0],y:Math.round(K[1]),width:0,height:0},B||{}),Y.alignTo==="plotEdges"&&this.isCartesian&&(B[te?"x":"y"]=0,B[te?"width":"height"]=((ae=this.yAxis)==null?void 0:ae.len)||0),y(Y,{width:ve.width,height:ve.height}),J=B,V&&this.xAxis&&!pe&&this.setDataLabelStartPos(D,M,z,Ce,J),M.align(T(Y,{width:Q.width,height:Q.height}),!1,B,!1),M.alignAttr.x+=re*(Q.width-ve.width),M.alignAttr.y+=le*(Q.height-ve.height),M[M.placed?"animate":"attr"]({x:M.alignAttr.x+(ve.width-Q.width)/2,y:M.alignAttr.y+(ve.height-Q.height)/2,rotationOriginX:(M.width||0)/2,rotationOriginY:(M.height||0)/2}),pe&&B.height>=0)this.justifyDataLabel(M,Y,M.alignAttr,ve,B,z);else if(k(Y.crop,!0)){let{x:fe,y:xe}=M.alignAttr;we=q.isInsidePlot(fe,xe,{paneCoordinates:!0,series:this})&&q.isInsidePlot(fe+ve.width-1,xe+ve.height-1,{paneCoordinates:!0,series:this})}Y.shape&&!se&&M[z?"attr":"animate"]({anchorX:K[0],anchorY:K[1]})}z&&V&&(M.placed=!1),we||V&&!pe?(M.show(),M.placed=!0):(M.hide(),M.placed=!1)}function O(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function W(D){let M=this.hasRendered||0,Y=this.initDataLabelsGroup().attr({opacity:+M});return!M&&Y&&(this.visible&&Y.show(),this.options.animation?Y.animate({opacity:1},D):Y.attr({opacity:1})),Y}function X(D){var we;let M;D=D||this.points;let Y=this,B=Y.chart,z=Y.options,q=B.renderer,{backgroundColor:V,plotBackgroundColor:te}=B.options.chart,ce=q.getContrast(b(te)&&te||b(V)&&V||"#000000"),ie=G(Y),{animation:se,defer:Ce}=ie[0],pe=Ce?h(B,se,Y):{defer:0,duration:0};g(this,"drawDataLabels"),(we=Y.hasDataLabels)!=null&&we.call(Y)&&(M=this.initDataLabels(pe),D.forEach(K=>{var ve,Q;let J=K.dataLabels||[];w($(ie,K.dlOptions||((ve=K.options)==null?void 0:ve.dataLabels))).forEach((re,le)=>{let fe=re.enabled&&(K.visible||K.dataLabelOnHidden)&&(!K.isNull||K.dataLabelOnNull)&&function(ze,Ke){let tt=Ke.filter;if(tt){let st=tt.operator,ht=ze[tt.property],gt=tt.value;return st===">"&&ht>gt||st==="<"&&ht<gt||st===">="&&ht>=gt||st==="<="&&ht<=gt||st==="=="&&ht==gt||st==="==="&&ht===gt||st==="!="&&ht!=gt||st==="!=="&&ht!==gt}return!0}(K,re),{backgroundColor:xe,borderColor:Le,distance:be,style:ke={}}=re,Oe,Ue,Xe,Pe,_e={},Ee=J[le],Re=!Ee,Me;fe&&(Ue=k(re[K.formatPrefix+"Format"],re.format),Oe=K.getLabelConfig(),Xe=f(Ue)?p(Ue,Oe,B):(re[K.formatPrefix+"Formatter"]||re.formatter).call(Oe,re),Pe=re.rotation,!B.styledMode&&(ke.color=k(re.color,ke.color,b(Y.color)?Y.color:void 0,"#000000"),ke.color==="contrast"?(xe!=="none"&&(Me=xe),K.contrastColor=q.getContrast(Me!=="auto"&&Me||K.color||Y.color),ke.color=Me||!f(be)&&re.inside||0>v(be||0)||z.stacking?K.contrastColor:ce):delete K.contrastColor,z.cursor&&(ke.cursor=z.cursor)),_e={r:re.borderRadius||0,rotation:Pe,padding:re.padding,zIndex:1},B.styledMode||(_e.fill=xe==="auto"?K.color:xe,_e.stroke=Le==="auto"?K.color:Le,_e["stroke-width"]=re.borderWidth),E(_e,(ze,Ke)=>{ze===void 0&&delete _e[Ke]})),!Ee||fe&&f(Xe)&&!!Ee.div==!!re.useHTML&&(Ee.rotation&&re.rotation||Ee.rotation===re.rotation)||(Ee=void 0,Re=!0),fe&&f(Xe)&&(Ee?_e.text=Xe:(Ee=q.label(Xe,0,0,re.shape,void 0,void 0,re.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+K.colorIndex+" "+(re.className||"")+(re.useHTML?" highcharts-tracker":"")),Ee&&(Ee.options=re,Ee.attr(_e),B.styledMode?ke.width&&Ee.css({width:ke.width,textOverflow:ke.textOverflow}):Ee.css(ke).shadow(re.shadow),g(Ee,"beforeAddingDataLabel",{labelOptions:re,point:K}),Ee.added||Ee.add(M),Y.alignDataLabel(K,Ee,re,void 0,Re),Ee.isActive=!0,J[le]&&J[le]!==Ee&&J[le].destroy(),J[le]=Ee))});let ae=J.length;for(;ae--;)J[ae]&&J[ae].isActive?J[ae].isActive=!1:((Q=J[ae])==null||Q.destroy(),J.splice(ae,1));K.dataLabel=J[0],K.dataLabels=J})),g(this,"afterDrawDataLabels")}function H(D,M,Y,B,z,q){let V=this.chart,te=M.align,ce=M.verticalAlign,ie=D.box?0:D.padding||0,se=V.inverted?this.yAxis:this.xAxis,Ce=se?se.left-V.plotLeft:0,pe=V.inverted?this.xAxis:this.yAxis,we=pe?pe.top-V.plotTop:0,{x:K=0,y:J=0}=M,ae,ve;return(ae=(Y.x||0)+ie+Ce)<0&&(te==="right"&&K>=0?(M.align="left",M.inside=!0):K-=ae,ve=!0),(ae=(Y.x||0)+B.width-ie+Ce)>V.plotWidth&&(te==="left"&&K<=0?(M.align="right",M.inside=!0):K+=V.plotWidth-ae,ve=!0),(ae=Y.y+ie+we)<0&&(ce==="bottom"&&J>=0?(M.verticalAlign="top",M.inside=!0):J-=ae,ve=!0),(ae=(Y.y||0)+B.height-ie+we)>V.plotHeight&&(ce==="top"&&J<=0?(M.verticalAlign="bottom",M.inside=!0):J+=V.plotHeight-ae,ve=!0),ve&&(M.x=K,M.y=J,D.placed=!q,D.align(M,void 0,z)),ve}function $(D,M){let Y=[],B;if(_(D)&&!_(M))Y=D.map(function(z){return T(z,M)});else if(_(M)&&!_(D))Y=M.map(function(z){return T(D,z)});else if(_(D)||_(M)){if(_(D)&&_(M))for(B=Math.max(D.length,M.length);B--;)Y[B]=T(D[B],M[B])}else Y=T(D,M);return Y}function G(D){var Y,B;let M=D.chart.options.plotOptions;return w($($((Y=M==null?void 0:M.series)==null?void 0:Y.dataLabels,(B=M==null?void 0:M[D.type])==null?void 0:B.dataLabels),D.options.dataLabels))}function j(D,M,Y,B,z){let q=this.chart,V=q.inverted,te=this.xAxis,ce=te.reversed,ie=((V?M.height:M.width)||0)/2,se=D.pointWidth,Ce=se?se/2:0;M.startXPos=V?z.x:ce?-ie-Ce:te.width-ie+Ce,M.startYPos=V?ce?this.yAxis.height-ie+Ce:-ie-Ce:z.y,B?M.visibility==="hidden"&&(M.show(),M.attr({opacity:0}).animate({opacity:1})):M.attr({opacity:1}).animate({opacity:0},void 0,M.hide),q.hasRendered&&(Y&&M.attr({x:M.startXPos,y:M.startYPos}),M.placed=!0)}N.compose=function(D){let M=D.prototype;M.initDataLabels||(M.initDataLabels=W,M.initDataLabelsGroup=O,M.alignDataLabel=L,M.drawDataLabels=X,M.justifyDataLabel=H,M.setDataLabelStartPos=j,M.hasDataLabels=C)}}(s||(s={})),s}),i(t,"Series/Column/ColumnDataLabel.js",[t["Core/Series/DataLabel.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s){var h;let{composed:p}=a,{series:f}=o,{merge:y,pick:g,pushUnique:_}=s;return function(b){function T(E,k,v,w,N){let C=this.chart.inverted,L=E.series,O=(L.xAxis?L.xAxis.len:this.chart.plotSizeX)||0,W=(L.yAxis?L.yAxis.len:this.chart.plotSizeY)||0,X=E.dlBox||E.shapeArgs,H=g(E.below,E.plotY>g(this.translatedThreshold,W)),$=g(v.inside,!!this.options.stacking);if(X){if(w=y(X),!(v.overflow==="allow"&&v.crop===!1)){w.y<0&&(w.height+=w.y,w.y=0);let G=w.y+w.height-W;G>0&&G<w.height-1&&(w.height-=G)}C&&(w={x:W-w.y-w.height,y:O-w.x-w.width,width:w.height,height:w.width}),$||(C?(w.x+=H?0:w.width,w.width=0):(w.y+=H?w.height:0,w.height=0))}v.align=g(v.align,!C||$?"center":H?"right":"left"),v.verticalAlign=g(v.verticalAlign,C||$?"middle":H?"top":"bottom"),f.prototype.alignDataLabel.call(this,E,k,v,w,N),v.inside&&E.contrastColor&&k.css({color:E.contrastColor})}b.compose=function(E){r.compose(f),_(p,"ColumnDataLabel")&&(E.prototype.alignDataLabel=T)}}(h||(h={})),h}),i(t,"Series/Bar/BarSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{extend:s,merge:h}=o;class p extends r{}return p.defaultOptions=h(r.defaultOptions,{}),s(p.prototype,{inverted:!0}),a.registerSeriesType("bar",p),p}),i(t,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),i(t,"Series/Scatter/ScatterSeries.js",[t["Series/Scatter/ScatterSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{column:s,line:h}=a.seriesTypes,{addEvent:p,extend:f,merge:y}=o;class g extends h{applyJitter(){let b=this,T=this.options.jitter,E=this.points.length;T&&this.points.forEach(function(k,v){["x","y"].forEach(function(w,N){if(T[w]&&!k.isNull){let C=`plot${w.toUpperCase()}`,L=b[`${w}Axis`],O=T[w]*L.transA;if(L&&!L.logarithmic){let W=Math.max(0,(k[C]||0)-O),X=Math.min(L.len,(k[C]||0)+O);k[C]=W+(X-W)*function(H){let $=1e4*Math.sin(H);return $-Math.floor($)}(v+N*E),w==="x"&&(k.clientX=k.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return g.defaultOptions=y(h.defaultOptions,r),f(g.prototype,{drawTracker:s.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),p(g,"afterTranslate",function(){this.applyJitter()}),a.registerSeriesType("scatter",g),g}),i(t,"Series/CenteredUtilities.js",[t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,a,o){var s,h;let{deg2rad:p}=r,{fireEvent:f,isNumber:y,pick:g,relativeLength:_}=o;return(h=s||(s={})).getCenter=function(){let b=this.options,T=this.chart,E=2*(b.slicedOffset||0),k=T.plotWidth-2*E,v=T.plotHeight-2*E,w=b.center,N=Math.min(k,v),C=b.thickness,L,O=b.size,W=b.innerSize||0,X,H;typeof O=="string"&&(O=parseFloat(O)),typeof W=="string"&&(W=parseFloat(W));let $=[g(w[0],"50%"),g(w[1],"50%"),g(O&&O<0?void 0:b.size,"100%"),g(W&&W<0?void 0:b.innerSize||0,"0%")];for(!T.angular||this instanceof a||($[3]=0),X=0;X<4;++X)H=$[X],L=X<2||X===2&&/%$/.test(H),$[X]=_(H,[k,v,N,$[2]][X])+(L?E:0);return $[3]>$[2]&&($[3]=$[2]),y(C)&&2*C<$[2]&&C>0&&($[3]=$[2]-2*C),f(this,"afterGetCenter",{positions:$}),$},h.getStartAndEndRadians=function(b,T){let E=y(b)?b:0,k=y(T)&&T>E&&T-E<360?T:E+360;return{start:p*(E+-90),end:p*(k+-90)}},s}),i(t,"Series/Pie/PiePoint.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(r,a,o){let{setAnimation:s}=r,{addEvent:h,defined:p,extend:f,isNumber:y,pick:g,relativeLength:_}=o;class b extends a{getConnectorPath(E){let k=E.dataLabelPosition,v=E.options||{},w=v.connectorShape,N=this.connectorShapes[w]||w;return k&&N.call(this,{...k.computed,alignment:k.alignment},k.connectorPosition,v)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(E){let k=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(k.x,k.y,k.r+E,k.r+E,{innerR:k.r-1,start:k.start,end:k.end,borderRadius:k.borderRadius})}constructor(E,k,v){super(E,k,v),this.half=0,this.name??(this.name="Slice");let w=N=>{this.slice(N.type==="select")};h(this,"select",w),h(this,"unselect",w)}isValid(){return y(this.y)&&this.y>=0}setVisible(E,k=!0){E!==this.visible&&this.update({visible:E??!this.visible},k,void 0,!1)}slice(E,k,v){let w=this.series;s(v,w.chart),k=g(k,!0),this.sliced=this.options.sliced=E=p(E)?E:!this.sliced,w.options.data[w.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return f(b.prototype,{connectorShapes:{fixedOffset:function(T,E,k){let v=E.breakAt,w=E.touchingSliceAt,N=k.softConnector?["C",T.x+(T.alignment==="left"?-5:5),T.y,2*v.x-w.x,2*v.y-w.y,v.x,v.y]:["L",v.x,v.y];return[["M",T.x,T.y],N,["L",w.x,w.y]]},straight:function(T,E){let k=E.touchingSliceAt;return[["M",T.x,T.y],["L",k.x,k.y]]},crookedLine:function(T,E,k){let{breakAt:v,touchingSliceAt:w}=E,{series:N}=this,[C,L,O]=N.center,W=O/2,{plotLeft:X,plotWidth:H}=N.chart,$=T.alignment==="left",{x:G,y:j}=T,D=v.x;if(k.crookDistance){let Y=_(k.crookDistance,1);D=$?C+W+(H+X-C-W)*(1-Y):X+(C-W)*Y}else D=C+(L-j)*Math.tan((this.angle||0)-Math.PI/2);let M=[["M",G,j]];return($?D<=G&&D>=v.x:D>=G&&D<=v.x)&&M.push(["L",D,j]),M.push(["L",v.x,v.y],["L",w.x,w.y]),M}}}),b}),i(t,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),i(t,"Series/Pie/PieSeries.js",[t["Series/CenteredUtilities.js"],t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Series/Pie/PiePoint.js"],t["Series/Pie/PieSeriesDefaults.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/Symbols.js"],t["Core/Utilities.js"]],function(r,a,o,s,h,p,f,y,g){let{getStartAndEndRadians:_}=r,{noop:b}=o,{clamp:T,extend:E,fireEvent:k,merge:v,pick:w}=g;class N extends p{animate(L){let O=this,W=O.points,X=O.startAngleRad;L||W.forEach(function(H){let $=H.graphic,G=H.shapeArgs;$&&G&&($.attr({r:w(H.startR,O.center&&O.center[3]/2),start:X,end:X}),$.animate({r:G.r,start:G.start,end:G.end},O.options.animation))})}drawEmpty(){let L,O,W=this.startAngleRad,X=this.endAngleRad,H=this.options;this.total===0&&this.center?(L=this.center[0],O=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(L,O,this.center[1]/2,0,W,X).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:y.arc(L,O,this.center[2]/2,0,{start:W,end:X,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":H.borderWidth,fill:H.fillColor||"none",stroke:H.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let L=this.chart.renderer;this.points.forEach(function(O){O.graphic&&O.hasNewShapeType()&&(O.graphic=O.graphic.destroy()),O.graphic||(O.graphic=L[O.shapeType](O.shapeArgs).add(O.series.group),O.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(L,O,W,X){let H=this.center,$=this.radii?this.radii[W.index]||0:H[2]/2,G=X.dataLabelPosition,j=(G==null?void 0:G.distance)||0,D=Math.asin(T((L-H[1])/($+j),-1,1));return H[0]+Math.cos(D)*($+j)*(O?-1:1)+(j>0?(O?-1:1)*(X.padding||0):0)}hasData(){return!!this.processedXData.length}redrawPoints(){let L,O,W,X,H=this,$=H.chart;this.drawEmpty(),H.group&&!$.styledMode&&H.group.shadow(H.options.shadow),H.points.forEach(function(G){let j={};O=G.graphic,!G.isNull&&O?(X=G.shapeArgs,L=G.getTranslate(),$.styledMode||(W=H.pointAttribs(G,G.selected&&"select")),G.delayedRendering?(O.setRadialReference(H.center).attr(X).attr(L),$.styledMode||O.attr(W).attr({"stroke-linejoin":"round"}),G.delayedRendering=!1):(O.setRadialReference(H.center),$.styledMode||v(!0,j,W),v(!0,j,X,L),O.animate(j)),O.attr({visibility:G.visible?"inherit":"hidden"}),O.addClass(G.getClassName(),!0)):O&&(G.graphic=O.destroy())})}sortByAngle(L,O){L.sort(function(W,X){return W.angle!==void 0&&(X.angle-W.angle)*O})}translate(L){k(this,"translate"),this.generatePoints();let O=this.options,W=O.slicedOffset,X=_(O.startAngle,O.endAngle),H=this.startAngleRad=X.start,$=(this.endAngleRad=X.end)-H,G=this.points,j=O.ignoreHiddenPoint,D=G.length,M,Y,B,z,q,V,te,ce=0;for(L||(this.center=L=this.getCenter()),V=0;V<D;V++){te=G[V],M=H+ce*$,te.isValid()&&(!j||te.visible)&&(ce+=te.percentage/100),Y=H+ce*$;let ie={x:L[0],y:L[1],r:L[2]/2,innerR:L[3]/2,start:Math.round(1e3*M)/1e3,end:Math.round(1e3*Y)/1e3};te.shapeType="arc",te.shapeArgs=ie,(B=(Y+M)/2)>1.5*Math.PI?B-=2*Math.PI:B<-Math.PI/2&&(B+=2*Math.PI),te.slicedTranslation={translateX:Math.round(Math.cos(B)*W),translateY:Math.round(Math.sin(B)*W)},z=Math.cos(B)*L[2]/2,q=Math.sin(B)*L[2]/2,te.tooltipPos=[L[0]+.7*z,L[1]+.7*q],te.half=B<-Math.PI/2||B>Math.PI/2?1:0,te.angle=B}k(this,"afterTranslate")}updateTotals(){let L=this.points,O=L.length,W=this.options.ignoreHiddenPoint,X,H,$=0;for(X=0;X<O;X++)(H=L[X]).isValid()&&(!W||H.visible)&&($+=H.y);for(X=0,this.total=$;X<O;X++)(H=L[X]).percentage=$>0&&(H.visible||!W)?H.y/$*100:0,H.total=$}}return N.defaultOptions=v(p.defaultOptions,h),E(N.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:a.prototype.drawTracker,getCenter:r.getCenter,getSymbol:b,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:a.prototype.pointAttribs,pointClass:s,requireSorting:!1,searchPoint:b,trackerGroups:["group","dataLabelsGroup"]}),f.registerSeriesType("pie",N),N}),i(t,"Series/Pie/PieDataLabel.js",[t["Core/Series/DataLabel.js"],t["Core/Globals.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s,h){var p;let{composed:f,noop:y}=a,{distribute:g}=o,{series:_}=s,{arrayMax:b,clamp:T,defined:E,pick:k,pushUnique:v,relativeLength:w}=h;return function(N){let C={radialDistributionY:function(H,$){var G;return(((G=$.dataLabelPosition)==null?void 0:G.top)||0)+H.distributeBox.pos},radialDistributionX:function(H,$,G,j,D){let M=D.dataLabelPosition;return H.getX(G<((M==null?void 0:M.top)||0)+2||G>((M==null?void 0:M.bottom)||0)-2?j:G,$.half,$,D)},justify:function(H,$,G,j){var D;return j[0]+(H.half?-1:1)*(G+(((D=$.dataLabelPosition)==null?void 0:D.distance)||0))},alignToPlotEdges:function(H,$,G,j){let D=H.getBBox().width;return $?D+j:G-D-j},alignToConnectors:function(H,$,G,j){let D=0,M;return H.forEach(function(Y){(M=Y.dataLabel.getBBox().width)>D&&(D=M)}),$?D+j:G-D-j}};function L(H,$){let{center:G,options:j}=this,D=G[2]/2,M=H.angle||0,Y=Math.cos(M),B=Math.sin(M),z=G[0]+Y*D,q=G[1]+B*D,V=Math.min((j.slicedOffset||0)+(j.borderWidth||0),$/5);return{natural:{x:z+Y*$,y:q+B*$},computed:{},alignment:$<0?"center":H.half?"right":"left",connectorPosition:{breakAt:{x:z+Y*V,y:q+B*V},touchingSliceAt:{x:z,y:q}},distance:$}}function O(){var we;let H=this,$=H.points,G=H.chart,j=G.plotWidth,D=G.plotHeight,M=G.plotLeft,Y=Math.round(G.chartWidth/3),B=H.center,z=B[2]/2,q=B[1],V=[[],[]],te=[0,0,0,0],ce=H.dataLabelPositioners,ie,se,Ce,pe=0;H.visible&&((we=H.hasDataLabels)!=null&&we.call(H))&&($.forEach(K=>{(K.dataLabels||[]).forEach(J=>{J.shortened&&(J.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),J.shortened=!1)})}),_.prototype.drawDataLabels.apply(H),$.forEach(K=>{(K.dataLabels||[]).forEach((J,ae)=>{var le;let ve=B[2]/2,Q=J.options,re=w((Q==null?void 0:Q.distance)||0,ve);ae===0&&V[K.half].push(K),!E((le=Q==null?void 0:Q.style)==null?void 0:le.width)&&J.getBBox().width>Y&&(J.css({width:Math.round(.7*Y)+"px"}),J.shortened=!0),J.dataLabelPosition=this.getDataLabelPosition(K,re),pe=Math.max(pe,re)})}),V.forEach((K,J)=>{let ae=K.length,ve=[],Q,re,le=0,fe;ae&&(H.sortByAngle(K,J-.5),pe>0&&(Q=Math.max(0,q-z-pe),re=Math.min(q+z+pe,G.plotHeight),K.forEach(xe=>{(xe.dataLabels||[]).forEach(Le=>{var ke;let be=Le.dataLabelPosition;be&&be.distance>0&&(be.top=Math.max(0,q-z-be.distance),be.bottom=Math.min(q+z+be.distance,G.plotHeight),le=Le.getBBox().height||21,Le.lineHeight=G.renderer.fontMetrics(Le.text||Le).h+2*Le.padding,xe.distributeBox={target:(((ke=Le.dataLabelPosition)==null?void 0:ke.natural.y)||0)-be.top+Le.lineHeight/2,size:le,rank:xe.y},ve.push(xe.distributeBox))})}),g(ve,fe=re+le-Q,fe/5)),K.forEach(xe=>{(xe.dataLabels||[]).forEach(Le=>{let be=Le.options||{},ke=xe.distributeBox,Oe=Le.dataLabelPosition,Ue=(Oe==null?void 0:Oe.natural.y)||0,Xe=be.connectorPadding||0,Pe=Le.lineHeight||21,_e=(Pe-Le.getBBox().height)/2,Ee=0,Re=Ue,Me="inherit";if(Oe){if(E(ke)&&Oe.distance>0&&(ke.pos===void 0?Me="hidden":(Ce=ke.size,Re=ce.radialDistributionY(xe,Le))),be.justify)Ee=ce.justify(xe,Le,z,B);else switch(be.alignTo){case"connectors":Ee=ce.alignToConnectors(K,J,j,M);break;case"plotEdges":Ee=ce.alignToPlotEdges(Le,J,j,M);break;default:Ee=ce.radialDistributionX(H,xe,Re-_e,Ue,Le)}if(Oe.attribs={visibility:Me,align:Oe.alignment},Oe.posAttribs={x:Ee+(be.x||0)+({left:Xe,right:-Xe}[Oe.alignment]||0),y:Re+(be.y||0)-Pe/2},Oe.computed.x=Ee,Oe.computed.y=Re-_e,k(be.crop,!0)){let ze;Ee-(se=Le.getBBox().width)<Xe&&J===1?(ze=Math.round(se-Ee+Xe),te[3]=Math.max(ze,te[3])):Ee+se>j-Xe&&J===0&&(ze=Math.round(Ee+se-j+Xe),te[1]=Math.max(ze,te[1])),Re-Ce/2<0?te[0]=Math.max(Math.round(-Re+Ce/2),te[0]):Re+Ce/2>D&&(te[2]=Math.max(Math.round(Re+Ce/2-D),te[2])),Oe.sideOverflow=ze}}})}))}),(b(te)===0||this.verifyDataLabelOverflow(te))&&(this.placeDataLabels(),this.points.forEach(K=>{(K.dataLabels||[]).forEach(J=>{var re;let{connectorColor:ae,connectorWidth:ve=1}=J.options||{},Q=J.dataLabelPosition;if(ve){let le;ie=J.connector,Q&&Q.distance>0?(le=!ie,ie||(J.connector=ie=G.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+K.colorIndex+(K.className?" "+K.className:"")).add(H.dataLabelsGroup)),G.styledMode||ie.attr({"stroke-width":ve,stroke:ae||K.color||"#666666"}),ie[le?"attr":"animate"]({d:K.getConnectorPath(J)}),ie.attr({visibility:(re=Q.attribs)==null?void 0:re.visibility})):ie&&(J.connector=ie.destroy())}})})))}function W(){this.points.forEach(H=>{(H.dataLabels||[]).forEach($=>{var j;let G=$.dataLabelPosition;G?(G.sideOverflow&&($.css({width:Math.max($.getBBox().width-G.sideOverflow,0)+"px",textOverflow:(((j=$.options)==null?void 0:j.style)||{}).textOverflow||"ellipsis"}),$.shortened=!0),$.attr(G.attribs),$[$.moved?"animate":"attr"](G.posAttribs),$.moved=!0):$&&$.attr({y:-9999})}),delete H.distributeBox},this)}function X(H){let $=this.center,G=this.options,j=G.center,D=G.minSize||80,M=D,Y=G.size!==null;return!Y&&(j[0]!==null?M=Math.max($[2]-Math.max(H[1],H[3]),D):(M=Math.max($[2]-H[1]-H[3],D),$[0]+=(H[3]-H[1])/2),j[1]!==null?M=T(M,D,$[2]-Math.max(H[0],H[2])):(M=T(M,D,$[2]-H[0]-H[2]),$[1]+=(H[0]-H[2])/2),M<$[2]?($[2]=M,$[3]=Math.min(G.thickness?Math.max(0,M-2*G.thickness):Math.max(0,w(G.innerSize||0,M)),M),this.translate($),this.drawDataLabels&&this.drawDataLabels()):Y=!0),Y}N.compose=function(H){if(r.compose(_),v(f,"PieDataLabel")){let $=H.prototype;$.dataLabelPositioners=C,$.alignDataLabel=y,$.drawDataLabels=O,$.getDataLabelPosition=L,$.placeDataLabels=W,$.verifyDataLabelOverflow=X}}}(p||(p={})),p}),i(t,"Core/Geometry/GeometryUtilities.js",[],function(){var r,a;return(a=r||(r={})).getCenterOfPoints=function(o){let s=o.reduce((h,p)=>(h.x+=p.x,h.y+=p.y,h),{x:0,y:0});return{x:s.x/o.length,y:s.y/o.length}},a.getDistanceBetweenPoints=function(o,s){return Math.sqrt(Math.pow(s.x-o.x,2)+Math.pow(s.y-o.y,2))},a.getAngleBetweenPoints=function(o,s){return Math.atan2(s.x-o.x,s.y-o.y)},a.pointInPolygon=function({x:o,y:s},h){let p=h.length,f,y,g=!1;for(f=0,y=p-1;f<p;y=f++){let[_,b]=h[f],[T,E]=h[y];b>s!=E>s&&o<(T-_)*(s-b)/(E-b)+_&&(g=!g)}return g},r}),i(t,"Extensions/OverlappingDataLabels.js",[t["Core/Geometry/GeometryUtilities.js"],t["Core/Utilities.js"]],function(r,a){let{pointInPolygon:o}=r,{addEvent:s,fireEvent:h,objectEach:p,pick:f}=a;function y(b){let T=b.length,E=(W,X)=>!(X.x>=W.x+W.width||X.x+X.width<=W.x||X.y>=W.y+W.height||X.y+X.height<=W.y),k=(W,X)=>{for(let H of W)if(o({x:H[0],y:H[1]},X))return!0;return!1},v,w,N,C,L,O=!1;for(let W=0;W<T;W++)(v=b[W])&&(v.oldOpacity=v.opacity,v.newOpacity=1,v.absoluteBox=function(X){var H,$;if(X&&(!X.alignAttr||X.placed)){let G=X.box?0:X.padding||0,j=X.alignAttr||{x:X.attr("x"),y:X.attr("y")},D=X.getBBox();return X.width=D.width,X.height=D.height,{x:j.x+(((H=X.parentGroup)==null?void 0:H.translateX)||0)+G,y:j.y+((($=X.parentGroup)==null?void 0:$.translateY)||0)+G,width:(X.width||0)-2*G,height:(X.height||0)-2*G,polygon:D==null?void 0:D.polygon}}}(v));b.sort((W,X)=>(X.labelrank||0)-(W.labelrank||0));for(let W=0;W<T;++W){C=(w=b[W])&&w.absoluteBox;let X=C==null?void 0:C.polygon;for(let H=W+1;H<T;++H){L=(N=b[H])&&N.absoluteBox;let $=!1;if(C&&L&&w!==N&&w.newOpacity!==0&&N.newOpacity!==0&&w.visibility!=="hidden"&&N.visibility!=="hidden"){let G=L.polygon;if(X&&G&&X!==G?k(X,G)&&($=!0):E(C,L)&&($=!0),$){let j=w.labelrank<N.labelrank?w:N,D=j.text;j.newOpacity=0,D!=null&&D.element.querySelector("textPath")&&D.hide()}}}}for(let W of b)g(W,this)&&(O=!0);O&&h(this,"afterHideAllOverlappingLabels")}function g(b,T){let E,k,v=!1;return b&&(k=b.newOpacity,b.oldOpacity!==k&&(b.hasClass("highcharts-data-label")?(b[k?"removeClass":"addClass"]("highcharts-data-label-hidden"),E=function(){T.styledMode||b.css({pointerEvents:k?"auto":"none"})},v=!0,b[b.isOld?"animate":"attr"]({opacity:k},void 0,E),h(T,"afterHideOverlappingLabel")):b.attr({opacity:k})),b.isOld=!0),v}function _(){var E;let b=this,T=[];for(let k of b.labelCollectors||[])T=T.concat(k());for(let k of b.yAxis||[])k.stacking&&k.options.stackLabels&&!k.options.stackLabels.allowOverlap&&p(k.stacking.stacks,v=>{p(v,w=>{w.label&&T.push(w.label)})});for(let k of b.series||[])if(k.visible&&((E=k.hasDataLabels)!=null&&E.call(k))){let v=w=>{for(let N of w)N.visible&&(N.dataLabels||[]).forEach(C=>{var O;let L=C.options||{};C.labelrank=f(L.labelrank,N.labelrank,(O=N.shapeArgs)==null?void 0:O.height),L.allowOverlap??Number(L.distance)>0?(C.oldOpacity=C.opacity,C.newOpacity=1,g(C,b)):T.push(C)})};v(k.nodes||[]),v(k.points)}this.hideOverlappingLabels(T)}return{compose:function(b){let T=b.prototype;T.hideOverlappingLabels||(T.hideOverlappingLabels=y,s(b,"render",_))}}}),i(t,"Extensions/BorderRadius.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){let{defaultOptions:s}=r,{noop:h}=a,{addEvent:p,extend:f,isObject:y,merge:g,relativeLength:_}=o,b={radius:0,scope:"stack",where:void 0},T=h,E=h;function k(L,O,W,X,H={}){let $=T(L,O,W,X,H),{innerR:G=0,r:j=W,start:D=0,end:M=0}=H;if(H.open||!H.borderRadius)return $;let Y=M-D,B=Math.sin(Y/2),z=Math.max(Math.min(_(H.borderRadius||0,j-G),(j-G)/2,j*B/(1+B)),0),q=Math.min(z,Y/Math.PI*2*G),V=$.length-1;for(;V--;)(function(te,ce,ie){let se,Ce,pe,we=te[ce],K=te[ce+1];if(K[0]==="Z"&&(K=te[0]),(we[0]==="M"||we[0]==="L")&&K[0]==="A"?(se=we,Ce=K,pe=!0):we[0]==="A"&&(K[0]==="M"||K[0]==="L")&&(se=K,Ce=we),se&&Ce&&Ce.params){let J=Ce[1],ae=Ce[5],ve=Ce.params,{start:Q,end:re,cx:le,cy:fe}=ve,xe=ae?J-ie:J+ie,Le=xe?Math.asin(ie/xe):0,be=ae?Le:-Le,ke=Math.cos(Le)*xe;pe?(ve.start=Q+be,se[1]=le+ke*Math.cos(Q),se[2]=fe+ke*Math.sin(Q),te.splice(ce+1,0,["A",ie,ie,0,0,1,le+J*Math.cos(ve.start),fe+J*Math.sin(ve.start)])):(ve.end=re-be,Ce[6]=le+J*Math.cos(ve.end),Ce[7]=fe+J*Math.sin(ve.end),te.splice(ce+1,0,["A",ie,ie,0,0,1,le+ke*Math.cos(re),fe+ke*Math.sin(re)])),Ce[4]=Math.abs(ve.end-ve.start)<Math.PI?0:1}})($,V,V>1?q:z);return $}function v(){var L,O;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:W,yAxis:X}=this,H=W.stacking==="percent",$=(O=(L=s.plotOptions)==null?void 0:L[this.type])==null?void 0:O.borderRadius,G=w(W.borderRadius,y($)?$:{}),j=X.options.reversed;for(let D of this.points){let{shapeArgs:M}=D;if(D.shapeType==="roundedRect"&&M){let{width:Y=0,height:B=0,y:z=0}=M,q=z,V=B;if(G.scope==="stack"&&D.stackTotal){let se=X.translate(H?100:D.stackTotal,!1,!0,!1,!0),Ce=X.translate(W.threshold||0,!1,!0,!1,!0),pe=this.crispCol(0,Math.min(se,Ce),0,Math.abs(se-Ce));q=pe.y,V=pe.height}let te=(D.negative?-1:1)*(j?-1:1)==-1,ce=G.where;!ce&&this.is("waterfall")&&Math.abs((D.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(ce="all"),ce||(ce="end");let ie=Math.min(_(G.radius,Y),Y/2,ce==="all"?B/2:1/0)||0;ce==="end"&&(te&&(q-=ie),V+=ie),f(M,{brBoxHeight:V,brBoxY:q,r:ie})}}}}function w(L,O){return y(L)||(L={radius:L||0}),g(b,O,L)}function N(){let L=w(this.options.borderRadius);for(let O of this.points){let W=O.shapeArgs;W&&(W.borderRadius=_(L.radius,(W.r||0)-(W.innerR||0)))}}function C(L,O,W,X,H={}){let $=E(L,O,W,X,H),{r:G=0,brBoxHeight:j=X,brBoxY:D=O}=H,M=O-D,Y=D+j-(O+X),B=M-G>-.1?0:G,z=Y-G>-.1?0:G,q=Math.max(B&&M,0),V=Math.max(z&&Y,0),te=[L+B,O],ce=[L+W-B,O],ie=[L+W,O+B],se=[L+W,O+X-z],Ce=[L+W-z,O+X],pe=[L+z,O+X],we=[L,O+X-z],K=[L,O+B],J=(ae,ve)=>Math.sqrt(Math.pow(ae,2)-Math.pow(ve,2));if(q){let ae=J(B,B-q);te[0]-=ae,ce[0]+=ae,ie[1]=K[1]=O+B-q}if(X<B-q){let ae=J(B,B-q-X);ie[0]=se[0]=L+W-B+ae,Ce[0]=Math.min(ie[0],Ce[0]),pe[0]=Math.max(se[0],pe[0]),we[0]=K[0]=L+B-ae,ie[1]=K[1]=O+X}if(V){let ae=J(z,z-V);Ce[0]+=ae,pe[0]-=ae,se[1]=we[1]=O+X-z+V}if(X<z-V){let ae=J(z,z-V-X);ie[0]=se[0]=L+W-z+ae,ce[0]=Math.min(ie[0],ce[0]),te[0]=Math.max(se[0],te[0]),we[0]=K[0]=L+z-ae,se[1]=we[1]=O}return $.length=0,$.push(["M",...te],["L",...ce],["A",B,B,0,0,1,...ie],["L",...se],["A",z,z,0,0,1,...Ce],["L",...pe],["A",z,z,0,0,1,...we],["L",...K],["A",B,B,0,0,1,...te],["Z"]),$}return{compose:function(L,O,W){let X=L.types.pie;if(!O.symbolCustomAttribs.includes("borderRadius")){let H=W.prototype.symbols;p(L,"afterColumnTranslate",v,{order:9}),p(X,"afterTranslate",N),O.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),T=H.arc,E=H.roundedRect,H.arc=k,H.roundedRect=C}},optionsToObject:w}}),i(t,"Core/Responsive.js",[t["Core/Utilities.js"]],function(r){var a;let{diffObjects:o,extend:s,find:h,merge:p,pick:f,uniqueKey:y}=r;return function(g){function _(T,E){let k=T.condition;(k.callback||function(){return this.chartWidth<=f(k.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=f(k.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=f(k.minWidth,0)&&this.chartHeight>=f(k.minHeight,0)}).call(this)&&E.push(T._id)}function b(T,E){let k=this.options.responsive,v=this.currentResponsive,w=[],N;!E&&k&&k.rules&&k.rules.forEach(O=>{O._id===void 0&&(O._id=y()),this.matchResponsiveRule(O,w)},this);let C=p(...w.map(O=>h((k||{}).rules||[],W=>W._id===O)).map(O=>O&&O.chartOptions));C.isResponsiveOptions=!0,w=w.toString()||void 0;let L=v&&v.ruleIds;w===L||(v&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(v.undoOptions,T,!0),this.updatingResponsive=!1),w?((N=o(C,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:w,mergedOptions:C,undoOptions:N},this.updatingResponsive||this.update(C,T,!0)):this.currentResponsive=void 0)}g.compose=function(T){let E=T.prototype;return E.matchResponsiveRule||s(E,{matchResponsiveRule:_,setResponsive:b}),T}}(a||(a={})),a}),i(t,"masters/highcharts.src.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Core/Defaults.js"],t["Core/Animation/Fx.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Renderer/HTML/AST.js"],t["Core/Templating.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Renderer/HTML/HTMLElement.js"],t["Core/Axis/Axis.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Axis/LogarithmicAxis.js"],t["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],t["Core/Axis/Tick.js"],t["Core/Tooltip.js"],t["Core/Series/Point.js"],t["Core/Pointer.js"],t["Core/Legend/Legend.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Chart/Chart.js"],t["Extensions/ScrollablePlotArea.js"],t["Core/Axis/Stacking/StackingAxis.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Column/ColumnDataLabel.js"],t["Series/Pie/PieDataLabel.js"],t["Core/Series/DataLabel.js"],t["Extensions/OverlappingDataLabels.js"],t["Extensions/BorderRadius.js"],t["Core/Responsive.js"],t["Core/Color/Color.js"],t["Core/Time.js"]],function(r,a,o,s,h,p,f,y,g,_,b,T,E,k,v,w,N,C,L,O,W,X,H,$,G,j,D,M,Y,B,z,q,V,te,ce,ie){return r.AST=p,r.Axis=E,r.Chart=H,r.Color=ce,r.DataLabel=z,r.Fx=s,r.HTMLElement=T,r.Legend=W,r.LegendSymbol=X,r.OverlappingDataLabels=r.OverlappingDataLabels||q,r.PlotLineOrBand=w,r.Point=L,r.Pointer=O,r.RendererRegistry=y,r.Series=D,r.SeriesRegistry=M,r.StackItem=j,r.SVGElement=_,r.SVGRenderer=b,r.Templating=f,r.Tick=N,r.Time=ie,r.Tooltip=C,r.animate=h.animate,r.animObject=h.animObject,r.chart=H.chart,r.color=ce.parse,r.dateFormat=f.dateFormat,r.defaultOptions=o.defaultOptions,r.distribute=g.distribute,r.format=f.format,r.getDeferredAnimation=h.getDeferredAnimation,r.getOptions=o.getOptions,r.numberFormat=f.numberFormat,r.seriesType=M.seriesType,r.setAnimation=h.setAnimation,r.setOptions=o.setOptions,r.stop=h.stop,r.time=o.defaultTime,r.timers=s.timers,V.compose(r.Series,r.SVGElement,r.SVGRenderer),Y.compose(r.Series.types.column),z.compose(r.Series),k.compose(r.Axis),T.compose(r.SVGRenderer),W.compose(r.Chart),v.compose(r.Axis),q.compose(r.Chart),B.compose(r.Series.types.pie),w.compose(r.Chart,r.Axis),O.compose(r.Chart),te.compose(r.Chart),$.compose(r.Axis,r.Chart,r.Series),G.compose(r.Axis,r.Chart,r.Series),C.compose(r.Pointer),a.extend(r,a),r}),t["masters/highcharts.src.js"]._modules=t,t["masters/highcharts.src.js"]})})(iA);var Qj=iA.exports;const kp=Kl(Qj);var rA={exports:{}};(function(n){(function(e){n.exports?(e.default=e,n.exports=e):e(typeof Highcharts<"u"?Highcharts:void 0)})(function(e){var t=e?e._modules:{};function i(r,a,o,s){r.hasOwnProperty(a)||(r[a]=s.apply(null,o),typeof CustomEvent=="function"&&e.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:a,module:r[a]}})))}i(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{doc:o,win:s}=r,{css:h}=a,p=s.EventTarget&&new s.EventTarget||"none";function f(g){if(typeof s.MouseEvent=="function")return new s.MouseEvent(g.type,g);if(o.createEvent){let _=o.createEvent("MouseEvent");if(_.initMouseEvent)return _.initMouseEvent(g.type,g.bubbles,g.cancelable,g.view||s,g.detail,g.screenX,g.screenY,g.clientX,g.clientY,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.button,g.relatedTarget),_}return y(g.type)}function y(g,_,b){let T=_||{x:0,y:0};if(typeof s.MouseEvent=="function")return new s.MouseEvent(g,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:b||p,view:s,detail:g==="click"?1:0,screenX:T.x,screenY:T.y,clientX:T.x,clientY:T.y});if(o.createEvent){let E=o.createEvent("MouseEvent");if(E.initMouseEvent)return E.initMouseEvent(g,!0,!0,s,g==="click"?1:0,T.x,T.y,T.x,T.y,!1,!1,!1,!1,0,null),E}return{type:g}}return{addClass:function(g,_){g.classList?g.classList.add(_):0>g.className.indexOf(_)&&(g.className+=" "+_)},cloneMouseEvent:f,cloneTouchEvent:function(g){let _=T=>{let E=[];for(let k=0;k<T.length;++k){let v=T.item(k);v&&E.push(v)}return E};if(typeof s.TouchEvent=="function"){let T=new s.TouchEvent(g.type,{touches:_(g.touches),targetTouches:_(g.targetTouches),changedTouches:_(g.changedTouches),ctrlKey:g.ctrlKey,shiftKey:g.shiftKey,altKey:g.altKey,metaKey:g.metaKey,bubbles:g.bubbles,cancelable:g.cancelable,composed:g.composed,detail:g.detail,view:g.view});return g.defaultPrevented&&T.preventDefault(),T}let b=f(g);return b.touches=g.touches,b.changedTouches=g.changedTouches,b.targetTouches=g.targetTouches,b},escapeStringForHTML:function(g){return g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(g){return o.getElementById(g)},getFakeMouseEvent:y,getHeadingTagNameForElement:function(g){let _=k=>"h"+Math.min(6,parseInt(k.slice(1),10)+1),b=k=>/^H[1-6]$/i.test(k),T=k=>{let v=k;for(;v=v.previousSibling;){let w=v.tagName||"";if(b(w))return w}return""},E=k=>{let v=T(k);if(v)return _(v);let w=k.parentElement;if(!w)return"p";let N=w.tagName;return b(N)?_(N):E(w)};return E(g)},removeChildNodes:function(g){for(;g.lastChild;)g.removeChild(g.lastChild)},removeClass:function(g,_){g.classList?g.classList.remove(_):g.className=g.className.replace(RegExp(_,"g"),"")},removeElement:function(g){g&&g.parentNode&&g.parentNode.removeChild(g)},reverseChildNodes:function(g){let _=g.childNodes.length;for(;_--;)g.appendChild(g.childNodes[_])},simulatedEventTarget:p,stripHTMLTagsFromString:function(g,_=!1){return typeof g=="string"?_?g.replace(/<\/?[^>]+(>|$)/g,""):g.replace(/<\/?(?!\s)[^>]+(>|$)/g,""):g},visuallyHideElement:function(g){h(g,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),i(t,"Accessibility/A11yI18n.js",[t["Core/Templating.js"],t["Core/Utilities.js"]],function(r,a){var o;let{format:s}=r,{getNestedProperty:h,pick:p}=a;return function(f){function y(_,b,T){let E=(C,L)=>{let O=C.slice(L||0),W=O.indexOf("{"),X=O.indexOf("}");if(W>-1&&X>W)return{statement:O.substring(W+1,X),begin:L+W+1,end:L+X}},k=[],v,w,N=0;do v=E(_,N),(w=_.substring(N,v&&v.begin-1)).length&&k.push({value:w,type:"constant"}),v&&k.push({value:v.statement,type:"statement"}),N=v?v.end+1:N+1;while(v);return k.forEach(C=>{C.type==="statement"&&(C.value=function(L,O){let W,X,H=L.indexOf("#each("),$=L.indexOf("#plural("),G=L.indexOf("["),j=L.indexOf("]");if(H>-1){let M=L.slice(H).indexOf(")")+H,Y=L.substring(0,H),B=L.substring(M+1),z=L.substring(H+6,M).split(","),q=Number(z[1]),V;if(X="",W=h(z[0],O)){V=(q=isNaN(q)?W.length:q)<0?W.length+q:Math.min(q,W.length);for(let te=0;te<V;++te)X+=Y+W[te]+B}return X.length?X:""}if($>-1){var D;let M=L.slice($).indexOf(")")+$,Y=L.substring($+8,M).split(",");switch(Number(h(Y[0],O))){case 0:X=p(Y[4],Y[1]);break;case 1:X=p(Y[2],Y[1]);break;case 2:X=p(Y[3],Y[1]);break;default:X=Y[1]}return X?(D=X).trim&&D.trim()||D.replace(/^\s+|\s+$/g,""):""}if(G>-1){let M,Y=L.substring(0,G),B=Number(L.substring(G+1,j));return W=h(Y,O),!isNaN(B)&&W&&(B<0?(M=W[W.length+B])===void 0&&(M=W[0]):(M=W[B])===void 0&&(M=W[W.length-1])),M!==void 0?M:""}return"{"+L+"}"}(C.value,b))}),s(k.reduce((C,L)=>C+L.value,""),b,T)}function g(_,b){let T=_.split("."),E=this.options.lang,k=0;for(;k<T.length;++k)E=E&&E[T[k]];return typeof E=="string"?y(E,b,this):""}f.compose=function(_){let b=_.prototype;b.langFormat||(b.langFormat=g)},f.i18nFormat=y}(o||(o={})),o}),i(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,a,o){let{doc:s}=r,{stripHTMLTagsFromString:h}=a,{defined:p,find:f,fireEvent:y}=o;function g(b){if(b.points&&b.points.length){let T=f(b.points,E=>!!E.graphic);return T&&T.graphic&&T.graphic.element}}function _(b){let T=g(b);return T&&T.parentNode||b.graph&&b.graph.element||b.group&&b.group.element}return{fireEventOnWrappedOrUnwrappedElement:function b(T,E){let k=E.type,v=T.hcEvents;s.createEvent&&(T.dispatchEvent||T.fireEvent)?T.dispatchEvent?T.dispatchEvent(E):T.fireEvent(k,E):v&&v[k]?y(T,k,E):T.element&&b(T.element,E)},getChartTitle:function(b){return h(b.options.title.text||b.langFormat("accessibility.defaultChartTitle",{chart:b}),b.renderer.forExport)},getAxisDescription:function(b){var T,E;return b&&(((T=b.options.accessibility)==null?void 0:T.description)||((E=b.axisTitle)==null?void 0:E.textStr)||b.options.id||b.categories&&"categories"||b.dateTime&&"Time"||"values")},getAxisRangeDescription:function(b){let T=b.options||{};return T.accessibility&&T.accessibility.rangeDescription!==void 0?T.accessibility.rangeDescription:b.categories?function(E){let k=E.chart;return E.dataMax&&E.dataMin?k.langFormat("accessibility.axis.rangeCategories",{chart:k,axis:E,numCategories:E.dataMax-E.dataMin+1}):""}(b):b.dateTime&&(b.min===0||b.dataMin===0)?function(E){let k=E.chart,v={},w=E.dataMin||E.min||0,N=E.dataMax||E.max||0,C="Seconds";v.Seconds=(N-w)/1e3,v.Minutes=v.Seconds/60,v.Hours=v.Minutes/60,v.Days=v.Hours/24,["Minutes","Hours","Days"].forEach(function(O){v[O]>2&&(C=O)});let L=v[C].toFixed(C!=="Seconds"&&C!=="Minutes"?1:0);return k.langFormat("accessibility.axis.timeRange"+C,{chart:k,axis:E,range:L.replace(".0","")})}(b):function(E){let k=E.chart,v=k.options,w=v&&v.accessibility&&v.accessibility.screenReaderSection.axisRangeDateFormat||"",N={min:E.dataMin||E.min||0,max:E.dataMax||E.max||0},C=function(L){return E.dateTime?k.time.dateFormat(w,N[L]):N[L].toString()};return k.langFormat("accessibility.axis.rangeFromTo",{chart:k,axis:E,rangeFrom:C("min"),rangeTo:C("max")})}(b)},getPointFromXY:function(b,T,E){let k=b.length,v;for(;k--;)if(v=f(b[k].points||[],function(w){return w.x===T&&w.y===E}))return v},getSeriesFirstPointElement:g,getSeriesFromName:function(b,T){return T?(b.series||[]).filter(function(E){return E.name===T}):b.series},getSeriesA11yElement:_,unhideChartElementFromAT:function b(T,E){E.setAttribute("aria-hidden",!1),E!==T.renderTo&&E.parentNode&&E.parentNode!==s.body&&(Array.prototype.forEach.call(E.parentNode.childNodes,function(k){k.hasAttribute("aria-hidden")||k.setAttribute("aria-hidden",!0)}),b(T,E.parentNode))},hideSeriesFromAT:function(b){let T=_(b);T&&T.setAttribute("aria-hidden",!0)},scrollAxisToPoint:function(b){let T=b.series.xAxis,E=b.series.yAxis,k=T&&T.scrollbar?T:E,v=k&&k.scrollbar;if(v&&p(v.to)&&p(v.from)){let w=v.to-v.from,N=function(C,L){if(!p(C.dataMin)||!p(C.dataMax))return 0;let O=C.toPixels(C.dataMin),W=C.toPixels(C.dataMax),X=C.coll==="xAxis"?"x":"y";return(C.toPixels(L[X]||0)-O)/(W-O)}(k,b);v.updatePosition(N-w/2,N+w/2),y(v,"changed",{from:v.from,to:v.to,trigger:"scrollbar",DOMEvent:null})}}}}),i(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a){let{doc:o}=r,{removeElement:s}=a;return class{constructor(){this.elements=[]}createElement(){let h=o.createElement.apply(o,arguments);return this.elements.push(h),h}removeElement(h){s(h),this.elements.splice(this.elements.indexOf(h),1)}destroyCreatedElements(){this.elements.forEach(function(h){s(h)}),this.elements=[]}}}),i(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{addEvent:o}=a;return class{constructor(){this.eventRemovers=[]}addEvent(){let s=o.apply(r,arguments);return this.eventRemovers.push({element:arguments[0],remover:s}),s}removeEvent(s){let h=this.eventRemovers.map(p=>p.remover).indexOf(s);this.eventRemovers[h].remover(),this.eventRemovers.splice(h,1)}removeAddedEvents(){this.eventRemovers.map(s=>s.remover).forEach(s=>s()),this.eventRemovers=[]}}}),i(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a,o,s){let{fireEventOnWrappedOrUnwrappedElement:h}=r,{getFakeMouseEvent:p}=s;return class{destroy(){}getKeyboardNavigation(){return[]}init(){}onChartRender(){}onChartUpdate(){}initBase(f,y){this.chart=f,this.eventProvider=new o,this.domElementProvider=new a,this.proxyProvider=y,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(f,y,g,_){return this.eventProvider.addEvent(f,y,g,_)}createElement(f,y){return this.domElementProvider.createElement(f,y)}fakeClickEvent(f){h(f,p("click"))}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}}),i(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(r){let{find:a}=r;return class{constructor(o,s){this.chart=o,this.keyCodeMap=s.keyCodeMap||[],this.validate=s.validate,this.init=s.init,this.terminate=s.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(o){let s=o.which||o.keyCode,h=this.response.noHandler,p=a(this.keyCodeMap,function(f){return f[0].indexOf(s)>-1});return p?h=p[1].call(this,s,o):s===9&&(h=this.response[o.shiftKey?"prev":"next"]),h}}}),i(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a,o,s,h){let{unhideChartElementFromAT:p,getChartTitle:f}=o,{doc:y}=s,{stripHTMLTagsFromString:g}=h;return class extends r{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){let _=this.chart,b="highcharts-title-"+_.index,T=g(_.langFormat("accessibility.svgContainerTitle",{chartTitle:f(_)}));if(T.length){let E=this.svgTitleElement=this.svgTitleElement||y.createElementNS("http://www.w3.org/2000/svg","title");E.textContent=T,E.id=b,_.renderTo.insertBefore(E,_.renderTo.firstChild)}}setSVGContainerLabel(){let _=this.chart,b=_.langFormat("accessibility.svgContainerLabel",{chartTitle:f(_)});_.renderer.box&&b.length&&_.renderer.box.setAttribute("aria-label",b)}setGraphicContainerAttrs(){let _=this.chart,b=_.langFormat("accessibility.graphicContainerLabel",{chartTitle:f(_)});b.length&&_.container.setAttribute("aria-label",b)}setRenderToAttrs(){let _=this.chart,b=_.options.accessibility.landmarkVerbosity!=="disabled",T=_.langFormat("accessibility.chartContainerLabel",{title:f(_),chart:_});T&&(_.renderTo.setAttribute("role",b?"region":"group"),_.renderTo.setAttribute("aria-label",T))}makeCreditsAccessible(){let _=this.chart,b=_.credits;b&&(b.textStr&&b.element.setAttribute("aria-label",_.langFormat("accessibility.credits",{creditsStr:g(b.textStr,_.renderer.forExport)})),p(_,b.element))}getKeyboardNavigation(){let _=this.chart;return new a(_,{keyCodeMap:[],validate:function(){return!0},init:function(){let b=_.accessibility;b&&b.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}}),i(t,"Accessibility/FocusBorder.js",[t["Core/Utilities.js"]],function(r){var a;let{addEvent:o,pick:s}=r;return function(h){let p=["x","y","transform","width","height","r","d","stroke-width"];function f(){let b=this.focusElement,T=this.options.accessibility.keyboardNavigation.focusBorder;b&&(b.removeFocusBorder(),T.enabled&&b.addFocusBorder(T.margin,{stroke:T.style.color,strokeWidth:T.style.lineWidth,r:T.style.borderRadius}))}function y(b,T){let E=this.options.accessibility.keyboardNavigation.focusBorder,k=T||b.element;k&&k.focus&&(k.hcEvents&&k.hcEvents.focusin||o(k,"focusin",function(){}),k.focus(),E.hideBrowserFocusOutline&&(k.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=b,this.renderFocusBorder()}function g(b,T){this.focusBorder&&this.removeFocusBorder();let E=this.getBBox(),k=s(b,3),v=this.parentGroup,w=this.scaleX||v&&v.scaleX,N=this.scaleY||v&&v.scaleY,C=(w?!N:N)?Math.abs(w||N||1):(Math.abs(w||1)+Math.abs(N||1))/2;E.x+=this.translateX?this.translateX:0,E.y+=this.translateY?this.translateY:0;let L=E.x-k,O=E.y-k,W=E.width+2*k,X=E.height+2*k,H=!!this.text;if(this.element.nodeName==="text"||H){let $,G,j=!!this.rotation,D=H?{x:j?1:0,y:0}:($=0,G=0,this.attr("text-anchor")==="middle"?$=G=.5:this.rotation?$=.25:G=.75,{x:$,y:G}),M=+this.attr("x"),Y=+this.attr("y");if(isNaN(M)||(L=M-E.width*D.x-k),isNaN(Y)||(O=Y-E.height*D.y-k),H&&j){let B=W;W=X,X=B,isNaN(M)||(L=M-E.height*D.x-k),isNaN(Y)||(O=Y-E.width*D.y-k)}}this.focusBorder=this.renderer.rect(L,O,W,X,parseInt((T&&T.r||0).toString(),10)/C).addClass("highcharts-focus-border").attr({zIndex:99}).add(v),this.renderer.styledMode||this.focusBorder.attr({stroke:T&&T.stroke,"stroke-width":(T&&T.strokeWidth||0)/C}),function($,...G){$.focusBorderUpdateHooks||($.focusBorderUpdateHooks={},p.forEach(j=>{let D=j+"Setter",M=$[D]||$._defaultSetter;$.focusBorderUpdateHooks[D]=M,$[D]=function(){let Y=M.apply($,arguments);return $.addFocusBorder.apply($,G),Y}}))}(this,b,T),function($){if($.focusBorderDestroyHook)return;let G=$.destroy;$.destroy=function(){return $.focusBorder&&$.focusBorder.destroy&&$.focusBorder.destroy(),G.apply($,arguments)},$.focusBorderDestroyHook=G}(this)}function _(){var b;b=this,b.focusBorderUpdateHooks&&(Object.keys(b.focusBorderUpdateHooks).forEach(T=>{let E=b.focusBorderUpdateHooks[T];E===b._defaultSetter?delete b[T]:b[T]=E}),delete b.focusBorderUpdateHooks),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}h.compose=function(b,T){let E=b.prototype,k=T.prototype;E.renderFocusBorder||(E.renderFocusBorder=f,E.setFocusToElement=y),k.addFocusBorder||(k.addFocusBorder=g,k.removeFocusBorder=_)}}(a||(a={})),a}),i(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,a,o,s,h){let{doc:p}=o,{addClass:f,visuallyHideElement:y}=s,{attr:g}=h;return class{constructor(_,b){this.chart=_,this.domElementProvider=new a,this.announceRegion=this.addAnnounceRegion(b)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(_){r.setElementHTML(this.announceRegion,_),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=r.emptyHTML,delete this.clearAnnouncementRegionTimer},3e3)}addAnnounceRegion(_){let b=this.chart.announcerContainer||this.createAnnouncerContainer(),T=this.domElementProvider.createElement("div");return g(T,{"aria-hidden":!1,"aria-live":_,"aria-atomic":!0}),this.chart.styledMode?f(T,"highcharts-visually-hidden"):y(T),b.appendChild(T),T}createAnnouncerContainer(){let _=this.chart,b=p.createElement("div");return g(b,{"aria-hidden":!1,class:"highcharts-announcer-container"}),b.style.position="relative",_.renderTo.insertBefore(b,_.renderTo.firstChild),_.announcerContainer=b,b}}}),i(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(r){let{escapeStringForHTML:a,stripHTMLTagsFromString:o}=r;function s(y){return(y.annotations||[]).reduce((g,_)=>(_.options&&_.options.visible!==!1&&(g=g.concat(_.labels)),g),[])}function h(y){return y.options&&y.options.accessibility&&y.options.accessibility.description||y.graphic&&y.graphic.text&&y.graphic.text.textStr||""}function p(y){let g=y.options&&y.options.accessibility&&y.options.accessibility.description;if(g)return g;let _=y.chart,b=h(y),T=y.points,E=C=>C.graphic&&C.graphic.element&&C.graphic.element.getAttribute("aria-label")||"",k=T.filter(C=>!!C.graphic).map(C=>{let L=C.accessibility&&C.accessibility.valueDescription||E(C),O=C&&C.series.name||"";return(O?O+", ":"")+"data point "+L}).filter(C=>!!C),v=k.length,w=v>1?"MultiplePoints":v?"SinglePoint":"NoPoints",N={annotationText:b,annotation:y,numPoints:v,annotationPoint:k[0],additionalAnnotationPoints:k.slice(1)};return _.langFormat("accessibility.screenReaderSection.annotations.description"+w,N)}function f(y){return s(y).map(g=>{let _=a(o(p(g),y.renderer.forExport));return _?`<li>${_}</li>`:""})}return{getAnnotationsInfoHTML:function(y){let g=y.annotations;return g&&g.length?`<ul style="list-style-type: none">${f(y).join(" ")}</ul>`:""},getAnnotationLabelDescription:p,getAnnotationListItems:f,getPointAnnotationTexts:function(y){let g=s(y.series.chart).filter(_=>_.points.indexOf(y)>-1);return g.length?g.map(_=>`${h(_)}`):[]}}}),i(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,a,o,s,h,p,f,y,g,_){let{getAnnotationsInfoHTML:b}=s,{getAxisDescription:T,getAxisRangeDescription:E,getChartTitle:k,unhideChartElementFromAT:v}=p,{format:w}=f,{doc:N}=y,{addClass:C,getElement:L,getHeadingTagNameForElement:O,stripHTMLTagsFromString:W,visuallyHideElement:X}=g,{attr:H,pick:$,replaceNested:G}=_;function j(D){return G(D,[/<([\w\-.:!]+)\b[^<>]*>\s*<\/\1>/g,""])}return class extends a{constructor(){super(...arguments),this.screenReaderSections={}}init(){let D=this.chart,M=this;this.initRegionsDefinitions(),this.addEvent(D,"aftergetTableAST",function(Y){M.onDataTableCreated(Y)}),this.addEvent(D,"afterViewData",function(Y){Y.wasHidden&&(M.dataTableDiv=Y.element,setTimeout(function(){M.focusDataTable()},300))}),this.addEvent(D,"afterHideData",function(){M.viewDataTableButton&&M.viewDataTableButton.setAttribute("aria-expanded","false")}),D.exporting&&this.addEvent(D,"afterPrint",function(){M.updateAllScreenReaderSections()}),this.announcer=new o(D,"assertive")}initRegionsDefinitions(){let D=this,M=this.chart.options.accessibility;this.screenReaderSections={before:{element:null,buildContent:function(Y){let B=M.screenReaderSection.beforeChartFormatter;return B?B(Y):D.defaultBeforeChartFormatter(Y)},insertIntoDOM:function(Y,B){B.renderTo.insertBefore(Y,B.renderTo.firstChild)},afterInserted:function(){D.sonifyButtonId!==void 0&&D.initSonifyButton(D.sonifyButtonId),D.dataTableButtonId!==void 0&&D.initDataTableButton(D.dataTableButtonId)}},after:{element:null,buildContent:function(Y){let B=M.screenReaderSection.afterChartFormatter;return B?B(Y):D.defaultAfterChartFormatter()},insertIntoDOM:function(Y,B){B.renderTo.insertBefore(Y,B.container.nextSibling)},afterInserted:function(){D.chart.accessibility&&M.keyboardNavigation.enabled&&D.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),this.updateAllScreenReaderSections()}updateAllScreenReaderSections(){let D=this;Object.keys(this.screenReaderSections).forEach(function(M){D.updateScreenReaderSection(M)})}getLinkedDescriptionElement(){let D=this.chart.options.accessibility.linkedDescription;if(!D)return;if(typeof D!="string")return D;let M=w(D,this.chart),Y=N.querySelectorAll(M);if(Y.length===1)return Y[0]}setLinkedDescriptionAttrs(){let D=this.linkedDescriptionElement;D&&(D.setAttribute("aria-hidden","true"),C(D,"highcharts-linked-description"))}updateScreenReaderSection(D){let M=this.chart,Y=this.screenReaderSections[D],B=Y.buildContent(M),z=Y.element=Y.element||this.createElement("div"),q=z.firstChild||this.createElement("div");B?(this.setScreenReaderSectionAttribs(z,D),h.setElementHTML(q,B),z.appendChild(q),Y.insertIntoDOM(z,M),M.styledMode?C(q,"highcharts-visually-hidden"):X(q),v(M,q),Y.afterInserted&&Y.afterInserted()):(z.parentNode&&z.parentNode.removeChild(z),Y.element=null)}setScreenReaderSectionAttribs(D,M){let Y=this.chart,B=Y.langFormat("accessibility.screenReaderSection."+M+"RegionLabel",{chart:Y,chartTitle:k(Y)});H(D,{id:`highcharts-screen-reader-region-${M}-${Y.index}`,"aria-label":B||void 0}),D.style.position="relative",B&&D.setAttribute("role",Y.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){let D=this.chart,M=D.options.accessibility.screenReaderSection.beforeChartFormat;if(!M)return"";let Y=this.getAxesDescription(),B=D.sonify&&D.options.sonification&&D.options.sonification.enabled,z="highcharts-a11y-sonify-data-btn-"+D.index,q="hc-linkto-highcharts-data-table-"+D.index,V=b(D),te=D.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:D}),ce={headingTagName:O(D.renderTo),chartTitle:k(D),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:Y.xAxis,yAxisDescription:Y.yAxis,playAsSoundButton:B?this.getSonifyButtonText(z):"",viewTableButton:D.getCSV?this.getDataTableButtonText(q):"",annotationsTitle:V?te:"",annotationsList:V},ie=r.i18nFormat(M,ce,D);return this.dataTableButtonId=q,this.sonifyButtonId=z,j(ie)}defaultAfterChartFormatter(){let D=this.chart,M=D.options.accessibility.screenReaderSection.afterChartFormat;if(!M)return"";let Y={endOfChartMarker:this.getEndOfChartMarkerText()};return j(r.i18nFormat(M,Y,D))}getLinkedDescription(){let D=this.linkedDescriptionElement;return W(D&&D.innerHTML||"",this.chart.renderer.forExport)}getLongdescText(){let D=this.chart.options,M=D.caption,Y=M&&M.text,B=this.getLinkedDescription();return D.accessibility.description||B||Y||""}getTypeDescriptionText(){let D=this.chart;return D.types?D.options.accessibility.typeDescription||function(M,Y){let B=Y[0],z=M.series&&M.series[0]||{},q=M.mapView&&M.mapView.geoMap&&M.mapView.geoMap.title,V={numSeries:M.series.length,numPoints:z.points&&z.points.length,chart:M,mapTitle:q};return B?B==="map"||B==="tiledwebmap"?V.mapTitle?M.langFormat("accessibility.chartTypes.mapTypeDescription",V):M.langFormat("accessibility.chartTypes.unknownMap",V):M.types.length>1?M.langFormat("accessibility.chartTypes.combinationChart",V):function(te,ce,ie){let se=ce[0],Ce=te.langFormat("accessibility.seriesTypeDescriptions."+se,ie),pe=te.series&&te.series.length<2?"Single":"Multiple";return(te.langFormat("accessibility.chartTypes."+se+pe,ie)||te.langFormat("accessibility.chartTypes.default"+pe,ie))+(Ce?" "+Ce:"")}(M,Y,V):M.langFormat("accessibility.chartTypes.emptyChart",V)}(D,D.types):""}getDataTableButtonText(D){let M=this.chart;return'<button id="'+D+'">'+M.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:M,chartTitle:k(M)})+"</button>"}getSonifyButtonText(D){let M=this.chart;return M.options.sonification&&M.options.sonification.enabled===!1?"":'<button id="'+D+'">'+M.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:M,chartTitle:k(M)})+"</button>"}getSubtitleText(){let D=this.chart.options.subtitle;return W(D&&D.text||"",this.chart.renderer.forExport)}getEndOfChartMarkerText(){let D=L(`highcharts-end-of-chart-marker-${this.chart.index}`);if(D)return D.outerHTML;let M=this.chart,Y=M.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:M});return'<div id="highcharts-end-of-chart-marker-'+M.index+'">'+Y+"</div>"}onDataTableCreated(D){let M=this.chart;if(M.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");let Y=D.tree.attributes||{};Y.tabindex=-1,Y.summary=M.langFormat("accessibility.table.tableSummary",{chart:M}),D.tree.attributes=Y}}focusDataTable(){let D=this.dataTableDiv,M=D&&D.getElementsByTagName("table")[0];M&&M.focus&&M.focus()}initSonifyButton(D){let M=this.sonifyButton=L(D),Y=this.chart,B=z=>{M&&(M.setAttribute("aria-hidden","true"),M.setAttribute("aria-label","")),z.preventDefault(),z.stopPropagation();let q=Y.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:Y});this.announcer.announce(q),setTimeout(()=>{M&&(M.removeAttribute("aria-hidden"),M.removeAttribute("aria-label")),Y.sonify&&Y.sonify()},1e3)};M&&Y&&(M.setAttribute("tabindex",-1),M.onclick=function(z){(Y.options.accessibility&&Y.options.accessibility.screenReaderSection.onPlayAsSoundClick||B).call(this,z,Y)})}initDataTableButton(D){let M=this.viewDataTableButton=L(D),Y=this.chart,B=D.replace("hc-linkto-","");M&&(H(M,{tabindex:-1,"aria-expanded":!!L(B)}),M.onclick=Y.options.accessibility.screenReaderSection.onViewDataTableClick||function(){Y.viewData()})}getAxesDescription(){let D=this.chart,M=function(te,ce){let ie=D[te];return ie.length>1||ie[0]&&$(ie[0].options.accessibility&&ie[0].options.accessibility.enabled,ce)},Y=!!D.types&&0>D.types.indexOf("map")&&0>D.types.indexOf("treemap")&&0>D.types.indexOf("tilemap"),B=!!D.hasCartesianSeries,z=M("xAxis",!D.angular&&B&&Y),q=M("yAxis",B&&Y),V={};return z&&(V.xAxis=this.getAxisDescriptionText("xAxis")),q&&(V.yAxis=this.getAxisDescriptionText("yAxis")),V}getAxisDescriptionText(D){let M=this.chart,Y=M[D];return M.langFormat("accessibility.axis."+D+"Description"+(Y.length>1?"Plural":"Singular"),{chart:M,names:Y.map(function(B){return T(B)}),ranges:Y.map(function(B){return E(B)}),numAxes:Y.length})}destroy(){this.announcer&&this.announcer.destroy()}}}),i(t,"Accessibility/Components/MenuComponent.js",[t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a,o,s,h){let{attr:p}=r,{getChartTitle:f,unhideChartElementFromAT:y}=s,{getFakeMouseEvent:g}=h;function _(T){return T.exportSVGElements&&T.exportSVGElements[0]}class b extends a{init(){let E=this.chart,k=this;this.addEvent(E,"exportMenuShown",function(){k.onMenuShown()}),this.addEvent(E,"exportMenuHidden",function(){k.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){let E=this.chart.exportContextMenu;E&&E.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){let E=this.chart,k=E.exportContextMenu;k&&(this.addAccessibleContextMenuAttribs(),y(E,k)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(E){this.exportButtonProxy&&this.exportButtonProxy.innerElement.setAttribute("aria-expanded",E)}onChartRender(){let E=this.chart,k=E.focusElement,v=E.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&k&&k===E.exportingGroup&&(k.focusBorder?E.setFocusToElement(k,this.exportButtonProxy.innerElement):v&&v.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){let E=this.chart,k=this.proxyProvider,v=_(E);(function(w){let N=w.options.exporting,C=_(w);return!!(N&&N.enabled!==!1&&N.accessibility&&N.accessibility.enabled&&C&&C.element)})(E)&&v&&(this.exportButtonProxy=k.addProxyElement("chartMenu",{click:v},"button",{"aria-label":E.langFormat("accessibility.exporting.menuButtonLabel",{chart:E,chartTitle:f(E)}),"aria-expanded":!1,title:E.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu")}addAccessibleContextMenuAttribs(){let E=this.chart,k=E.exportDivElements;if(k&&k.length){k.forEach(w=>{w&&(w.tagName!=="LI"||w.children&&w.children.length?w.setAttribute("aria-hidden","true"):w.setAttribute("tabindex",-1))});let v=k[0]&&k[0].parentNode;v&&p(v,{"aria-hidden":void 0,"aria-label":E.langFormat("accessibility.exporting.chartMenuLabel",{chart:E}),role:"list"})}}getKeyboardNavigation(){let E=this.keyCodes,k=this.chart,v=this;return new o(k,{keyCodeMap:[[[E.left,E.up],function(){return v.onKbdPrevious(this)}],[[E.right,E.down],function(){return v.onKbdNext(this)}],[[E.enter,E.space],function(){return v.onKbdClick(this)}]],validate:function(){return!!k.exporting&&k.options.exporting.enabled!==!1&&k.options.exporting.accessibility.enabled!==!1},init:function(){let w=v.exportButtonProxy,N=v.chart.exportingGroup;w&&N&&k.setFocusToElement(N,w.innerElement)},terminate:function(){k.hideExportMenu()}})}onKbdPrevious(E){let k=this.chart,v=k.options.accessibility,w=E.response,N=k.highlightedExportItemIx||0;for(;N--;)if(k.highlightExportItem(N))return w.success;return v.keyboardNavigation.wrapAround?(k.highlightLastExportItem(),w.success):w.prev}onKbdNext(E){let k=this.chart,v=k.options.accessibility,w=E.response;for(let N=(k.highlightedExportItemIx||0)+1;N<k.exportDivElements.length;++N)if(k.highlightExportItem(N))return w.success;return v.keyboardNavigation.wrapAround?(k.highlightExportItem(0),w.success):w.next}onKbdClick(E){let k=this.chart,v=k.exportDivElements[k.highlightedExportItemIx],w=_(k).element;return k.openMenu?this.fakeClickEvent(v):(this.fakeClickEvent(w),k.highlightExportItem(0)),E.response.success}}return function(T){function E(){let N=_(this);if(N){let C=N.element;C.onclick&&C.onclick(g("click"))}}function k(){let N=this.exportDivElements;N&&this.exportContextMenu&&this.openMenu&&(N.forEach(C=>{C&&C.className==="highcharts-menu-item"&&C.onmouseout&&C.onmouseout(g("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function v(N){let C=this.exportDivElements&&this.exportDivElements[N],L=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(C&&C.tagName==="LI"&&!(C.children&&C.children.length)){let O=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return C.focus&&O&&C.focus(),L&&L.onmouseout&&L.onmouseout(g("mouseout")),C.onmouseover&&C.onmouseover(g("mouseover")),this.highlightedExportItemIx=N,!0}return!1}function w(){if(this.exportDivElements){let N=this.exportDivElements.length;for(;N--;)if(this.highlightExportItem(N))return!0}return!1}T.compose=function(N){let C=N.prototype;C.hideExportMenu||(C.hideExportMenu=k,C.highlightExportItem=v,C.highlightLastExportItem=w,C.showExportMenu=E)}}(b),b}),i(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a,o,s,h){let{doc:p,win:f}=r,{addEvent:y,defined:g,fireEvent:_}=o,{getElement:b,simulatedEventTarget:T}=h;class E{constructor(v,w){this.currentModuleIx=NaN,this.modules=[],this.init(v,w)}init(v,w){let N=this.eventProvider=new s;this.chart=v,this.components=w,this.modules=[],this.currentModuleIx=0,this.update(),N.addEvent(this.tabindexContainer,"keydown",C=>this.onKeydown(C)),N.addEvent(this.tabindexContainer,"focus",C=>this.onFocus(C)),["mouseup","touchend"].forEach(C=>N.addEvent(p,C,L=>this.onMouseUp(L))),["mousedown","touchstart"].forEach(C=>N.addEvent(v.renderTo,C,()=>{this.isClickingChart=!0}))}update(v){let w=this.chart.options.accessibility,N=w&&w.keyboardNavigation,C=this.components;this.updateContainerTabindex(),N&&N.enabled&&v&&v.length?(this.modules=v.reduce(function(L,O){let W=C[O].getKeyboardNavigation();return L.concat(W)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){let v=b(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),v?(this.makeElementAnExitAnchor(v),this.exitAnchor=v):this.createExitAnchor()}move(v){let w=this.modules&&this.modules[this.currentModuleIx];w&&w.terminate&&w.terminate(v),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=v;let N=this.modules&&this.modules[this.currentModuleIx];if(N){if(N.validate&&!N.validate())return this.move(v);if(N.init)return N.init(v),!0}return this.currentModuleIx=0,this.exiting=!0,v>0?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(v){let w=this.chart,N=v.relatedTarget&&w.container.contains(v.relatedTarget),C=w.options.accessibility,L=C&&C.keyboardNavigation;if(L&&L.enabled&&!this.exiting&&!this.tabbingInBackwards&&!this.isClickingChart&&!N){let O=this.getFirstValidModuleIx();O!==null&&(this.currentModuleIx=O,this.modules[O].init(1))}this.keyboardReset=!1,this.exiting=!1}onMouseUp(v){if(delete this.isClickingChart,!this.keyboardReset&&v.relatedTarget!==T){let w=this.chart;if(!v.target||!w.container.contains(v.target)){let N=this.modules&&this.modules[this.currentModuleIx||0];N&&N.terminate&&N.terminate(),this.currentModuleIx=0}w.focusElement&&(w.focusElement.removeFocusBorder(),delete w.focusElement),this.keyboardReset=!0}}onKeydown(v){let w,N=v||f.event,C=this.modules&&this.modules.length&&this.modules[this.currentModuleIx],L=N.target;if((!L||L.nodeName!=="INPUT"||L.classList.contains("highcharts-a11y-proxy-element"))&&(this.keyboardReset=!1,this.exiting=!1,C)){let O=C.run(N);O===C.response.success?w=!0:O===C.response.prev?w=this.move(-1):O===C.response.next&&(w=this.move(1)),w&&(N.preventDefault(),N.stopPropagation())}}updateContainerTabindex(){let v,w=this.chart.options.accessibility,N=w&&w.keyboardNavigation,C=!(N&&N.enabled===!1),L=this.chart,O=L.container;L.renderTo.hasAttribute("tabindex")?(O.removeAttribute("tabindex"),v=L.renderTo):v=O,this.tabindexContainer=v;let W=v.getAttribute("tabindex");C&&!W?v.setAttribute("tabindex","0"):C||L.container.removeAttribute("tabindex")}createExitAnchor(){let v=this.chart,w=this.exitAnchor=p.createElement("div");v.renderTo.appendChild(w),this.makeElementAnExitAnchor(w)}makeElementAnExitAnchor(v){let w=this.tabindexContainer.getAttribute("tabindex")||0;v.setAttribute("class","highcharts-exit-anchor"),v.setAttribute("tabindex",w),v.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(v)}removeExitAnchor(){if(this.exitAnchor){let v=this.eventProvider.eventRemovers.find(w=>w.element===this.exitAnchor);v&&g(v.remover)&&this.eventProvider.removeEvent(v.remover),this.exitAnchor.parentNode&&this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor}}addExitAnchorEventsToEl(v){let w=this.chart,N=this;this.eventProvider.addEvent(v,"focus",function(C){let L=C||f.event,O=!(L.relatedTarget&&w.container.contains(L.relatedTarget)||N.exiting);if(w.focusElement&&delete w.focusElement,O){if(N.tabbingInBackwards=!0,N.tabindexContainer.focus(),delete N.tabbingInBackwards,L.preventDefault(),N.modules&&N.modules.length){N.currentModuleIx=N.modules.length-1;let W=N.modules[N.currentModuleIx];W&&W.validate&&!W.validate()?N.move(-1):W&&W.init(-1)}}else N.exiting=!1})}getFirstValidModuleIx(){let v=this.modules.length;for(let w=0;w<v;++w){let N=this.modules[w];if(!N.validate||N.validate())return w}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(k){function v(){let N=this;_(this,"dismissPopupContent",{},function(){N.tooltip&&N.tooltip.hide(0),N.hideExportMenu()})}function w(N){(N.which||N.keyCode)===27&&r.charts&&r.charts.forEach(C=>{C&&C.dismissPopupContent&&C.dismissPopupContent()})}k.compose=function(N){a.compose(N);let C=N.prototype;return C.dismissPopupContent||(C.dismissPopupContent=v,y(p,"keydown",w)),N}}(E),E}),i(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a,o,s,h,p,f,y){let{animObject:g}=r,{doc:_}=a,{addEvent:b,fireEvent:T,isNumber:E,pick:k,syncTimeout:v}=s,{getChartTitle:w}=f,{stripHTMLTagsFromString:N,addClass:C,removeClass:L}=y;function O(H){let $=H.legend&&H.legend.allItems,G=H.options.legend.accessibility||{},j=H.colorAxis&&H.colorAxis.some(D=>!D.dataClasses||!D.dataClasses.length);return!!($&&$.length&&!j&&G.enabled!==!1)}function W(H,$){let G=$.legendItem||{};for(let j of($.setState(H?"hover":"",!0),["group","label","symbol"])){let D=G[j],M=D&&D.element||D;M&&T(M,H?"mouseover":"mouseout")}}class X extends h{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){let $=this;this.recreateProxies(),this.addEvent(o,"afterScroll",function(){this.chart===$.chart&&($.proxyProvider.updateGroupProxyElementPositions("legend"),$.updateLegendItemProxyVisibility(),$.highlightedLegendItemIx>-1&&this.chart.highlightLegendItem($.highlightedLegendItemIx))}),this.addEvent(o,"afterPositionItem",function(G){this.chart===$.chart&&this.chart.renderer&&$.updateProxyPositionForItem(G.item)}),this.addEvent(o,"afterRender",function(){this.chart===$.chart&&this.chart.renderer&&$.recreateProxies()&&v(()=>$.proxyProvider.updateGroupProxyElementPositions("legend"),g(k(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){let $,G=this.chart,j=G.legend,D=j.allItems||[],M=j.currentPage||1,Y=j.clipHeight||0;D.forEach(B=>{if(B.a11yProxyElement){let z=j.pages&&j.pages.length,q=B.a11yProxyElement.element,V=!1;if($=B.legendItem||{},z){let te=$.pageIx||0;V=($.y||0)+($.label?Math.round($.label.getBBox().height):0)-j.pages[te]>Y||te!==M-1}V?G.styledMode?C(q,"highcharts-a11y-invisible"):q.style.visibility="hidden":(L(q,"highcharts-a11y-invisible"),q.style.visibility="")}})}onChartRender(){O(this.chart)||this.removeProxies()}highlightAdjacentLegendPage($){let G=this.chart,j=G.legend,D=(j.currentPage||1)+$,M=j.pages||[];if(D>0&&D<=M.length){let Y=0;for(let B of j.allItems)((B.legendItem||{}).pageIx||0)+1===D&&G.highlightLegendItem(Y)&&(this.highlightedLegendItemIx=Y),++Y}}updateProxyPositionForItem($){$.a11yProxyElement&&$.a11yProxyElement.refreshPosition()}recreateProxies(){let $=_.activeElement,G=this.proxyGroup,j=$&&G&&G.contains($);return this.removeProxies(),!!O(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),j&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){let $=this.chart,G=N(($.legend&&$.legend.options.title&&$.legend.options.title.text||"").replace(/<br ?\/?>/g," "),$.renderer.forExport),j=$.langFormat("accessibility.legend.legendLabel"+(G?"":"NoTitle"),{chart:$,legendTitle:G,chartTitle:w($)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":j})}addLegendProxyGroup(){let $=this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null;this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:$})}proxyLegendItems(){let $,G=this;((this.chart.legend||{}).allItems||[]).forEach(j=>{($=j.legendItem||{}).label&&$.label.element&&G.proxyLegendItem(j)})}proxyLegendItem($){let G=$.legendItem||{};if(!G.label||!G.group)return;let j=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:N($.name,this.chart.renderer.forExport),item:$}),D={tabindex:-1,"aria-pressed":$.visible,"aria-label":j},M=G.group.div?G.label:G.group;$.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:G.label,visual:M.element},"button",D)}getKeyboardNavigation(){let $=this.keyCodes,G=this,j=this.chart;return new p(j,{keyCodeMap:[[[$.left,$.right,$.up,$.down],function(D){return G.onKbdArrowKey(this,D)}],[[$.enter,$.space],function(){return G.onKbdClick(this)}],[[$.pageDown,$.pageUp],function(D){let M=D===$.pageDown?1:-1;return G.highlightAdjacentLegendPage(M),this.response.success}]],validate:function(){return G.shouldHaveLegendNavigation()},init:function(){j.highlightLegendItem(0),G.highlightedLegendItemIx=0},terminate:function(){G.highlightedLegendItemIx=-1,j.legend.allItems.forEach(D=>W(!1,D))}})}onKbdArrowKey($,G){let{keyCodes:{left:j,up:D},highlightedLegendItemIx:M,chart:Y}=this,B=Y.legend.allItems.length,z=Y.options.accessibility.keyboardNavigation.wrapAround,q=G===j||G===D?-1:1;return Y.highlightLegendItem(M+q)?this.highlightedLegendItemIx+=q:z&&B>1&&(this.highlightedLegendItemIx=q>0?0:B-1,Y.highlightLegendItem(this.highlightedLegendItemIx)),$.response.success}onKbdClick($){let G=this.chart.legend.allItems[this.highlightedLegendItemIx];return G&&G.a11yProxyElement&&G.a11yProxyElement.click(),$.response.success}shouldHaveLegendNavigation(){if(!O(this.chart))return!1;let $=this.chart,G=($.options.legend||{}).accessibility||{};return!!($.legend.display&&G.keyboardNavigation&&G.keyboardNavigation.enabled)}destroy(){this.removeProxies()}}return function(H){function $(j){let D=this.legend.allItems,M=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,Y=D[j],B=(Y==null?void 0:Y.legendItem)||{};if(Y){E(M)&&D[M]&&W(!1,D[M]),function(V,te){let ce=(V.allItems[te].legendItem||{}).pageIx,ie=V.currentPage;ce!==void 0&&ce+1!==ie&&V.scroll(1+ce-ie)}(this.legend,j);let z=B.label,q=Y.a11yProxyElement&&Y.a11yProxyElement.innerElement;return z&&z.element&&q&&this.setFocusToElement(z,q),W(!0,Y),!0}return!1}function G(j){let D=this.chart.options.accessibility,M=j.item;D.enabled&&M&&M.a11yProxyElement&&M.a11yProxyElement.innerElement.setAttribute("aria-pressed",j.visible?"true":"false")}H.compose=function(j,D){let M=j.prototype;M.highlightLegendItem||(M.highlightLegendItem=$,b(D,"afterColorizeItem",G))}}(X),X}),i(t,"Stock/Navigator/ChartNavigatorComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let o,{isTouchDevice:s}=r,{addEvent:h,merge:p,pick:f}=a,y=[];function g(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function _(){var W;let w,N,C,L=this.legend,O=this.navigator;if(O){w=L&&L.options,N=O.xAxis,C=O.yAxis;let{scrollbarHeight:X,scrollButtonSize:H}=O;this.inverted?(O.left=O.opposite?this.chartWidth-X-O.height:this.spacing[3]+X,O.top=this.plotTop+H):(O.left=f(N.left,this.plotLeft+H),O.top=O.navigatorOptions.top||this.chartHeight-O.height-X-(((W=this.scrollbar)==null?void 0:W.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(w&&w.verticalAlign==="bottom"&&w.layout!=="proximate"&&w.enabled&&!w.floating?L.legendHeight+f(w.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),N&&C&&(this.inverted?N.options.left=C.options.left=O.left:N.options.top=C.options.top=O.top,N.setAxisSize(),C.setAxisSize())}}function b(w){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new o(this),f(w.redraw,!0)&&this.redraw(w.animation))}function T(){let w=this.options;(w.navigator.enabled||w.scrollbar.enabled)&&(this.scroller=this.navigator=new o(this))}function E(){let w=this.options,N=w.navigator,C=w.rangeSelector;if((N&&N.enabled||C&&C.enabled)&&(!s&&this.zooming.type==="x"||s&&this.zooming.pinchType==="x"))return!1}function k(w){let N=w.navigator;if(N&&w.xAxis[0]){let C=w.xAxis[0].getExtremes();N.render(C.min,C.max)}}function v(w){let N=w.options.navigator||{},C=w.options.scrollbar||{};!this.navigator&&!this.scroller&&(N.enabled||C.enabled)&&(p(!0,this.options.navigator,N),p(!0,this.options.scrollbar,C),delete w.options.navigator,delete w.options.scrollbar)}return{compose:function(w,N){if(a.pushUnique(y,w)){let C=w.prototype;o=N,C.callbacks.push(k),h(w,"afterAddSeries",g),h(w,"afterSetChartSize",_),h(w,"afterUpdate",b),h(w,"beforeRender",T),h(w,"beforeShowResetZoom",E),h(w,"update",v)}}}}),i(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{isTouchDevice:o}=r,{addEvent:s,correctFloat:h,defined:p,isNumber:f,pick:y}=a;function g(){this.navigatorAxis||(this.navigatorAxis=new b(this))}function _(T){let E,k=this.chart,v=k.options,w=v.navigator,N=this.navigatorAxis,C=k.zooming.pinchType,L=v.rangeSelector,O=k.zooming.type;if(this.isXAxis&&(w!=null&&w.enabled||L!=null&&L.enabled)){if(O==="y"&&T.trigger==="zoom")E=!1;else if((T.trigger==="zoom"&&O==="xy"||o&&C==="xy")&&this.options.range){let W=N.previousZoom;p(T.min)?N.previousZoom=[this.min,this.max]:W&&(T.min=W[0],T.max=W[1],N.previousZoom=void 0)}}E!==void 0&&T.preventDefault()}class b{static compose(E){E.keepProps.includes("navigatorAxis")||(E.keepProps.push("navigatorAxis"),s(E,"init",g),s(E,"setExtremes",_))}constructor(E){this.axis=E}destroy(){this.axis=void 0}toFixedRange(E,k,v,w){let N=this.axis,C=(N.pointRange||0)/2,L=y(v,N.translate(E,!0,!N.horiz)),O=y(w,N.translate(k,!0,!N.horiz));return p(v)||(L=h(L+C)),p(w)||(O=h(O-C)),f(L)&&f(O)||(L=O=void 0),{min:L,max:O}}}return b}),i(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(r,a){let{parse:o}=r,{seriesTypes:s}=a;return{height:40,margin:25,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:o("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:s.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),i(t,"Stock/Navigator/NavigatorSymbols.js",[t["Core/Renderer/SVG/Symbols.js"],t["Core/Utilities.js"]],function(r,a){let{relativeLength:o}=a;return{"navigator-handle":function(s,h,p,f,y={}){let g=y.width?y.width/2:p,_=o(y.borderRadius||0,Math.min(2*g,f));return[["M",-1.5,(f=y.height||f)/2-3.5],["L",-1.5,f/2+4.5],["M",.5,f/2-3.5],["L",.5,f/2+4.5],...r.rect(-g-1,.5,2*g+1,f,{r:_})]}}}),i(t,"Stock/Utilities/StockUtilities.js",[t["Core/Utilities.js"]],function(r){let{defined:a}=r;return{setFixedRange:function(o){let s=this.xAxis[0];a(s.dataMax)&&a(s.dataMin)&&o?this.fixedRange=Math.min(o,s.dataMax-s.dataMin):this.fixedRange=o}}}),i(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Stock/Utilities/StockUtilities.js"],t["Core/Utilities.js"]],function(r,a,o,s,h,p,f,y){let{setOptions:g}=r,{composed:_}=a,{getRendererType:b}=p,{setFixedRange:T}=f,{addEvent:E,extend:k,pushUnique:v}=y;function w(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function(N,C,L){o.compose(C),v(_,"Navigator")&&(N.prototype.setFixedRange=T,k(b().prototype.symbols,h),E(L,"afterUpdate",w),g({navigator:s}))}}}),i(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){var o;let{composed:s}=r,{addEvent:h,defined:p,pick:f,pushUnique:y}=a;return function(g){let _;function b(v){let w=f(v.options&&v.options.min,v.min),N=f(v.options&&v.options.max,v.max);return{axisMin:w,axisMax:N,scrollMin:p(v.dataMin)?Math.min(w,v.min,v.dataMin,f(v.threshold,1/0)):w,scrollMax:p(v.dataMax)?Math.max(N,v.max,v.dataMax,f(v.threshold,-1/0)):N}}function T(){let v=this.scrollbar,w=v&&!v.options.opposite,N=this.horiz?2:w?3:1;v&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[N]+=v.size+(v.options.margin||0))}function E(){let v=this;v.options&&v.options.scrollbar&&v.options.scrollbar.enabled&&(v.options.scrollbar.vertical=!v.horiz,v.options.startOnTick=v.options.endOnTick=!1,v.scrollbar=new _(v.chart.renderer,v.options.scrollbar,v.chart),h(v.scrollbar,"changed",function(w){let N,C,{axisMin:L,axisMax:O,scrollMin:W,scrollMax:X}=b(v),H=X-W;if(p(L)&&p(O))if(v.horiz&&!v.reversed||!v.horiz&&v.reversed?(N=W+H*this.to,C=W+H*this.from):(N=W+H*(1-this.from),C=W+H*(1-this.to)),this.shouldUpdateExtremes(w.DOMType)){let $=w.DOMType!=="mousemove"&&w.DOMType!=="touchmove"&&void 0;v.setExtremes(C,N,!0,$,w)}else this.setRange(this.from,this.to)}))}function k(){let v,w,N,{scrollMin:C,scrollMax:L}=b(this),O=this.scrollbar,W=this.axisTitleMargin+(this.titleOffset||0),X=this.chart.scrollbarsOffsets,H=this.options.margin||0;if(O&&X){if(this.horiz)this.opposite||(X[1]+=W),O.position(this.left,this.top+this.height+2+X[1]-(this.opposite?H:0),this.width,this.height),this.opposite||(X[1]+=H),v=1;else{let $;this.opposite&&(X[0]+=W),$=O.options.opposite?this.left+this.width+2+X[0]-(this.opposite?0:H):this.opposite?0:H,O.position($,this.top,this.width,this.height),this.opposite&&(X[0]+=H),v=0}if(X[v]+=O.size+(O.options.margin||0),isNaN(C)||isNaN(L)||!p(this.min)||!p(this.max)||this.dataMin===this.dataMax)O.setRange(0,1);else if(this.min===this.max){let $=this.pointRange/(this.dataMax+1);w=$*this.min,N=$*(this.max+1),O.setRange(w,N)}else w=(this.min-C)/(L-C),N=(this.max-C)/(L-C),this.horiz&&!this.reversed||!this.horiz&&this.reversed?O.setRange(w,N):O.setRange(1-N,1-w)}}g.compose=function(v,w){y(s,"Axis.Scrollbar")&&(_=w,h(v,"afterGetOffset",T),h(v,"afterInit",E),h(v,"afterRender",k))}}(o||(o={})),o}),i(t,"Stock/Scrollbar/ScrollbarDefaults.js",[],function(){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),i(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(r,a,o,s,h){let{defaultOptions:p}=r,{addEvent:f,correctFloat:y,crisp:g,defined:_,destroyObjectProperties:b,fireEvent:T,merge:E,pick:k,removeEvent:v}=h;class w{static compose(C){o.compose(C,w)}static swapXY(C,L){return L&&C.forEach(O=>{let W,X=O.length;for(let H=0;H<X;H+=2)typeof(W=O[H+1])=="number"&&(O[H+1]=O[H+2],O[H+2]=W)}),C}constructor(C,L,O){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(C,L,O)}addEvents(){let C=this.options.inverted?[1,0]:[0,1],L=this.scrollbarButtons,O=this.scrollbarGroup.element,W=this.track.element,X=this.mouseDownHandler.bind(this),H=this.mouseMoveHandler.bind(this),$=this.mouseUpHandler.bind(this),G=[[L[C[0]].element,"click",this.buttonToMinClick.bind(this)],[L[C[1]].element,"click",this.buttonToMaxClick.bind(this)],[W,"click",this.trackClick.bind(this)],[O,"mousedown",X],[O.ownerDocument,"mousemove",H],[O.ownerDocument,"mouseup",$],[O,"touchstart",X],[O.ownerDocument,"touchmove",H],[O.ownerDocument,"touchend",$]];G.forEach(function(j){f.apply(null,j)}),this._events=G}buttonToMaxClick(C){let L=(this.to-this.from)*k(this.options.step,.2);this.updatePosition(this.from+L,this.to+L),T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:C})}buttonToMinClick(C){let L=y(this.to-this.from)*k(this.options.step,.2);this.updatePosition(y(this.from-L),y(this.to-L)),T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:C})}cursorToScrollbarPosition(C){let L=this.options,O=L.minWidth>this.calculatedWidth?L.minWidth:0;return{chartX:(C.chartX-this.x-this.xOffset)/(this.barWidth-O),chartY:(C.chartY-this.y-this.yOffset)/(this.barWidth-O)}}destroy(){let C=this,L=C.chart.scroller;C.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(O){C[O]&&C[O].destroy&&(C[O]=C[O].destroy())}),L&&C===L.scrollbar&&(L.scrollbar=null,b(L.scrollbarButtons))}drawScrollbarButton(C){let L=this.renderer,O=this.scrollbarButtons,W=this.options,X=this.size,H=L.g().add(this.group);if(O.push(H),W.buttonsEnabled){let $=L.rect().addClass("highcharts-scrollbar-button").add(H);this.chart.styledMode||$.attr({stroke:W.buttonBorderColor,"stroke-width":W.buttonBorderWidth,fill:W.buttonBackgroundColor}),$.attr($.crisp({x:-.5,y:-.5,width:X,height:X,r:W.buttonBorderRadius},$.strokeWidth()));let G=L.path(w.swapXY([["M",X/2+(C?-1:1),X/2-3],["L",X/2+(C?-1:1),X/2+3],["L",X/2+(C?2:-2),X/2]],W.vertical)).addClass("highcharts-scrollbar-arrow").add(O[C]);this.chart.styledMode||G.attr({fill:W.buttonArrowColor})}}init(C,L,O){this.scrollbarButtons=[],this.renderer=C,this.userOptions=L,this.options=E(s,p.scrollbar,L),this.options.margin=k(this.options.margin,10),this.chart=O,this.size=k(this.options.size,this.options.height),L.enabled&&(this.render(),this.addEvents())}mouseDownHandler(C){var W;let L=((W=this.chart.pointer)==null?void 0:W.normalize(C))||C,O=this.cursorToScrollbarPosition(L);this.chartX=O.chartX,this.chartY=O.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(C){var H;let L,O=((H=this.chart.pointer)==null?void 0:H.normalize(C))||C,W=this.options.vertical?"chartY":"chartX",X=this.initPositions||[];this.grabbedCenter&&(!C.touches||C.touches[0][W]!==0)&&(L=this.cursorToScrollbarPosition(O)[W]-this[W],this.hasDragged=!0,this.updatePosition(X[0]+L,X[1]+L),this.hasDragged&&T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:C.type,DOMEvent:C}))}mouseUpHandler(C){this.hasDragged&&T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:C.type,DOMEvent:C}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(C,L,O,W){let{buttonsEnabled:X,margin:H=0,vertical:$}=this.options,G=this.rendered?"animate":"attr",j=W,D=0;this.group.show(),this.x=C,this.y=L+this.trackBorderWidth,this.width=O,this.height=W,this.xOffset=j,this.yOffset=D,$?(this.width=this.yOffset=O=D=this.size,this.xOffset=j=0,this.yOffset=D=X?this.size:0,this.barWidth=W-(X?2*O:0),this.x=C+=H):(this.height=W=this.size,this.xOffset=j=X?this.size:0,this.barWidth=O-(X?2*W:0),this.y=this.y+H),this.group[G]({translateX:C,translateY:this.y}),this.track[G]({width:O,height:W}),this.scrollbarButtons[1][G]({translateX:$?0:O-j,translateY:$?W-D:0})}removeEvents(){this._events.forEach(function(C){v.apply(null,C)}),this._events.length=0}render(){let C=this.renderer,L=this.options,O=this.size,W=this.chart.styledMode,X=C.g("scrollbar").attr({zIndex:L.zIndex}).hide().add();this.group=X,this.track=C.rect().addClass("highcharts-scrollbar-track").attr({r:L.trackBorderRadius||0,height:O,width:O}).add(X),W||this.track.attr({fill:L.trackBackgroundColor,stroke:L.trackBorderColor,"stroke-width":L.trackBorderWidth});let H=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-g(0,H),y:-g(0,H)}),this.scrollbarGroup=C.g().add(X),this.scrollbar=C.rect().addClass("highcharts-scrollbar-thumb").attr({height:O-H,width:O-H,r:L.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=C.path(w.swapXY([["M",-3,O/4],["L",-3,2*O/3],["M",0,O/4],["L",0,2*O/3],["M",3,O/4],["L",3,2*O/3]],L.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),W||(this.scrollbar.attr({fill:L.barBackgroundColor,stroke:L.barBorderColor,"stroke-width":L.barBorderWidth}),this.scrollbarRifles.attr({stroke:L.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-g(0,this.scrollbarStrokeWidth),-g(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(C,L){let O,W,X=this.options,H=X.vertical,$=X.minWidth,G=this.barWidth,j=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!_(G))return;let D=G*Math.min(L,1);O=Math.ceil(G*(C=Math.max(C,0))),this.calculatedWidth=W=y(D-O),W<$&&(O=(G-$+W)*C,W=$);let M=Math.floor(O+this.xOffset+this.yOffset),Y=W/2-.5;this.from=C,this.to=L,H?(this.scrollbarGroup[j]({translateY:M}),this.scrollbar[j]({height:W}),this.scrollbarRifles[j]({translateY:Y}),this.scrollbarTop=M,this.scrollbarLeft=0):(this.scrollbarGroup[j]({translateX:M}),this.scrollbar[j]({width:W}),this.scrollbarRifles[j]({translateX:Y}),this.scrollbarLeft=M,this.scrollbarTop=0),W<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),X.showFull===!1&&(C<=0&&L>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(C){return k(this.options.liveRedraw,a.svg&&!a.isTouchDevice&&!this.chart.boosted)||C==="mouseup"||C==="touchend"||!_(C)}trackClick(C){var H;let L=((H=this.chart.pointer)==null?void 0:H.normalize(C))||C,O=this.to-this.from,W=this.y+this.scrollbarTop,X=this.x+this.scrollbarLeft;this.options.vertical&&L.chartY>W||!this.options.vertical&&L.chartX>X?this.updatePosition(this.from+O,this.to+O):this.updatePosition(this.from-O,this.to-O),T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:C})}update(C){this.destroy(),this.init(this.chart.renderer,E(!0,this.options,C),this.chart)}updatePosition(C,L){L>1&&(C=y(1-y(L-C)),L=1),C<0&&(L=y(L-C),C=0),this.from=C,this.to=L}}return w.defaultOptions=s,p.scrollbar=E(!0,w.defaultOptions,p.scrollbar),w}),i(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Stock/Navigator/ChartNavigatorComposition.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(r,a,o,s,h,p,f,y,g){let{defaultOptions:_}=o,{isTouchDevice:b}=s,{prototype:{symbols:T}}=y,{addEvent:E,clamp:k,correctFloat:v,defined:w,destroyObjectProperties:N,erase:C,extend:L,find:O,fireEvent:W,isArray:X,isNumber:H,merge:$,pick:G,removeEvent:j,splat:D}=g;function M(B,...z){let q=[].filter.call(z,H);if(q.length)return Math[B].apply(0,q)}class Y{static compose(z,q,V){a.compose(z,Y),p.compose(z,q,V)}constructor(z){this.isDirty=!1,this.scrollbarHeight=0,this.init(z)}drawHandle(z,q,V,te){let ce=this.navigatorOptions.handles.height;this.handles[q][te](V?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(z,10)+.5-ce)}:{translateX:Math.round(this.left+parseInt(z,10)),translateY:Math.round(this.top+this.height/2-ce/2-1)})}drawOutline(z,q,V,te){let ce=this.navigatorOptions.maskInside,ie=this.outline.strokeWidth(),se=ie/2,Ce=ie%2/2,pe=this.scrollButtonSize,we=this.size,K=this.top,J=this.height,ae=K-se,ve=K+J,Q=this.left,re,le;V?(re=K+q+Ce,q=K+z+Ce,le=[["M",Q+J,K-pe-Ce],["L",Q+J,re],["L",Q,re],["M",Q,q],["L",Q+J,q],["L",Q+J,K+we+pe]],ce&&le.push(["M",Q+J,re-se],["L",Q+J,q+se])):(Q-=pe,z+=Q+pe-Ce,q+=Q+pe-Ce,le=[["M",Q,ae],["L",z,ae],["L",z,ve],["M",q,ve],["L",q,ae],["L",Q+we+2*pe,ae]],ce&&le.push(["M",z-se,ae],["L",q+se,ae])),this.outline[te]({d:le})}drawMasks(z,q,V,te){let ce,ie,se,Ce,pe=this.left,we=this.top,K=this.height;V?(se=[pe,pe,pe],Ce=[we,we+z,we+q],ie=[K,K,K],ce=[z,q-z,this.size-q]):(se=[pe,pe+z,pe+q],Ce=[we,we,we],ie=[z,q-z,this.size-q],ce=[K,K,K]),this.shades.forEach((J,ae)=>{J[te]({x:se[ae],y:Ce[ae],width:ie[ae],height:ce[ae]})})}renderElements(){var pe;let z=this,q=z.navigatorOptions,V=q.maskInside,te=z.chart,ce=te.inverted,ie=te.renderer,se={cursor:ce?"ns-resize":"ew-resize"},Ce=z.navigatorGroup??(z.navigatorGroup=ie.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!V,V,!V].forEach((we,K)=>{let J=z.shades[K]??(z.shades[K]=ie.rect().addClass("highcharts-navigator-mask"+(K===1?"-inside":"-outside")).add(Ce));te.styledMode||(J.attr({fill:we?q.maskFill:"rgba(0,0,0,0)"}),K===1&&J.css(se))}),z.outline||(z.outline=ie.path().addClass("highcharts-navigator-outline").add(Ce)),te.styledMode||z.outline.attr({"stroke-width":q.outlineWidth,stroke:q.outlineColor}),(pe=q.handles)==null?void 0:pe.enabled){let we=q.handles,{height:K,width:J}=we;[0,1].forEach(ae=>{var Q;let ve=we.symbols[ae];if(z.handles[ae]&&z.handles[ae].symbolUrl===ve){if(!z.handles[ae].isImg&&z.handles[ae].symbolName!==ve){let re=T[ve].call(T,-J/2-1,0,J,K);z.handles[ae].attr({d:re}),z.handles[ae].symbolName=ve}}else(Q=z.handles[ae])==null||Q.destroy(),z.handles[ae]=ie.symbol(ve,-J/2-1,0,J,K,we),z.handles[ae].attr({zIndex:7-ae}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][ae]).add(Ce),z.addMouseEvents();te.inverted&&z.handles[ae].attr({rotation:90,rotationOriginX:Math.floor(-J/2),rotationOriginY:(K+J)/2}),te.styledMode||z.handles[ae].attr({fill:we.backgroundColor,stroke:we.borderColor,"stroke-width":we.lineWidth,width:we.width,height:we.height,x:-J/2-1,y:0}).css(se)})}}update(z,q=!1){var ce;let V=this.chart,te=V.options.chart.inverted!==((ce=V.scrollbar)==null?void 0:ce.options.vertical);if($(!0,V.options.navigator,z),this.navigatorOptions=V.options.navigator||{},this.setOpposite(),w(z.enabled)||te)return this.destroy(),this.navigatorEnabled=z.enabled||this.navigatorEnabled,this.init(V);if(this.navigatorEnabled&&(this.isDirty=!0,z.adaptToUpdatedData===!1&&this.baseSeries.forEach(ie=>{j(ie,"updatedData",this.updatedDataHandler)},this),z.adaptToUpdatedData&&this.baseSeries.forEach(ie=>{ie.eventsToUnbind.push(E(ie,"updatedData",this.updatedDataHandler))},this),(z.series||z.baseSeries)&&this.setBaseSeries(void 0,!1),z.height||z.xAxis||z.yAxis)){this.height=z.height??this.height;let ie=this.getXAxisOffsets();this.xAxis.update({...z.xAxis,offsets:ie,[V.inverted?"width":"height"]:this.height,[V.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...z.yAxis,[V.inverted?"width":"height"]:this.height},!1)}q&&V.redraw()}render(z,q,V,te){let ce=this.chart,ie=this.xAxis,se=ie.pointRange||0,Ce=ie.navigatorAxis.fake?ce.xAxis[0]:ie,pe=this.navigatorEnabled,we=this.rendered,K=ce.inverted,J=ce.xAxis[0].minRange,ae=ce.xAxis[0].options.maxRange,ve=this.scrollButtonSize,Q,re,le,fe=this.scrollbarHeight,xe,Le;if(this.hasDragged&&!w(V))return;if(this.isDirty&&this.renderElements(),z=v(z-se/2),q=v(q+se/2),!H(z)||!H(q)){if(!we)return;V=0,te=G(ie.width,Ce.width)}this.left=G(ie.left,ce.plotLeft+ve+(K?ce.plotWidth:0));let be=this.size=xe=G(ie.len,(K?ce.plotHeight:ce.plotWidth)-2*ve);Q=K?fe:xe+2*ve,V=G(V,ie.toPixels(z,!0)),te=G(te,ie.toPixels(q,!0)),H(V)&&Math.abs(V)!==1/0||(V=0,te=Q);let ke=ie.toValue(V,!0),Oe=ie.toValue(te,!0),Ue=Math.abs(v(Oe-ke));Ue<J?this.grabbedLeft?V=ie.toPixels(Oe-J-se,!0):this.grabbedRight&&(te=ie.toPixels(ke+J+se,!0)):w(ae)&&v(Ue-se)>ae&&(this.grabbedLeft?V=ie.toPixels(Oe-ae-se,!0):this.grabbedRight&&(te=ie.toPixels(ke+ae+se,!0))),this.zoomedMax=k(Math.max(V,te),0,be),this.zoomedMin=k(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(V,te),0,be),this.range=this.zoomedMax-this.zoomedMin,be=Math.round(this.zoomedMax);let Xe=Math.round(this.zoomedMin);pe&&(this.navigatorGroup.attr({visibility:"inherit"}),Le=we&&!this.hasDragged?"animate":"attr",this.drawMasks(Xe,be,K,Le),this.drawOutline(Xe,be,K,Le),this.navigatorOptions.handles.enabled&&(this.drawHandle(Xe,0,K,Le),this.drawHandle(be,1,K,Le))),this.scrollbar&&(K?(le=this.top-ve,re=this.left-fe+(pe||!Ce.opposite?0:(Ce.titleOffset||0)+Ce.axisTitleMargin),fe=xe+2*ve):(le=this.top+(pe?this.height:-fe),re=this.left-ve),this.scrollbar.position(re,le,Q,fe),this.scrollbar.setRange(this.zoomedMin/(xe||1),this.zoomedMax/(xe||1))),this.rendered=!0,this.isDirty=!1,W(this,"afterRender")}addMouseEvents(){let z=this,q=z.chart,V=q.container,te=[],ce,ie;z.mouseMoveHandler=ce=function(se){z.onMouseMove(se)},z.mouseUpHandler=ie=function(se){z.onMouseUp(se)},(te=z.getPartsEvents("mousedown")).push(E(q.renderTo,"mousemove",ce),E(V.ownerDocument,"mouseup",ie),E(q.renderTo,"touchmove",ce),E(V.ownerDocument,"touchend",ie)),te.concat(z.getPartsEvents("touchstart")),z.eventsToUnbind=te,z.series&&z.series[0]&&te.push(E(z.series[0].xAxis,"foundExtremes",function(){q.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(z){let q=this,V=[];return["shades","handles"].forEach(function(te){q[te].forEach(function(ce,ie){V.push(E(ce.element,z,function(se){q[te+"Mousedown"](se,ie)}))})}),V}shadesMousedown(z,q){var ve;z=((ve=this.chart.pointer)==null?void 0:ve.normalize(z))||z;let V=this.chart,te=this.xAxis,ce=this.zoomedMin,ie=this.size,se=this.range,Ce=this.left,pe=z.chartX,we,K,J,ae;V.inverted&&(pe=z.chartY,Ce=this.top),q===1?(this.grabbedCenter=pe,this.fixedWidth=se,this.dragOffset=pe-ce):(ae=pe-Ce-se/2,q===0?ae=Math.max(0,ae):q===2&&ae+se>=ie&&(ae=ie-se,this.reversedExtremes?(ae-=se,K=this.getUnionExtremes().dataMin):we=this.getUnionExtremes().dataMax),ae!==ce&&(this.fixedWidth=se,w((J=te.navigatorAxis.toFixedRange(ae,ae+se,K,we)).min)&&W(this,"setRange",{min:Math.min(J.min,J.max),max:Math.max(J.min,J.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(z,q){var ie;z=((ie=this.chart.pointer)==null?void 0:ie.normalize(z))||z;let V=this.chart,te=V.xAxis[0],ce=this.reversedExtremes;q===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=ce?te.min:te.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=ce?te.max:te.min),V.setFixedRange(void 0)}onMouseMove(z){var we;let q=this,V=q.chart,te=q.navigatorSize,ce=q.range,ie=q.dragOffset,se=V.inverted,Ce=q.left,pe;(!z.touches||z.touches[0].pageX!==0)&&(pe=(z=((we=V.pointer)==null?void 0:we.normalize(z))||z).chartX,se&&(Ce=q.top,pe=z.chartY),q.grabbedLeft?(q.hasDragged=!0,q.render(0,0,pe-Ce,q.otherHandlePos)):q.grabbedRight?(q.hasDragged=!0,q.render(0,0,q.otherHandlePos,pe-Ce)):q.grabbedCenter&&(q.hasDragged=!0,pe<ie?pe=ie:pe>te+ie-ce&&(pe=te+ie-ce),q.render(0,0,pe-ie,pe-ie+ce)),q.hasDragged&&q.scrollbar&&G(q.scrollbar.options.liveRedraw,!b&&!this.chart.boosted)&&(z.DOMType=z.type,setTimeout(function(){q.onMouseUp(z)},0)))}onMouseUp(z){let q,V,te,ce,ie,se,Ce=this.chart,pe=this.xAxis,we=this.scrollbar,K=z.DOMEvent||z,J=Ce.inverted,ae=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!we||!we.hasDragged)||z.trigger==="scrollbar")&&(te=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?ce=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(ie=this.fixedExtreme),this.zoomedMax===this.size&&(ie=this.reversedExtremes?te.dataMin:te.dataMax),this.zoomedMin===0&&(ce=this.reversedExtremes?te.dataMax:te.dataMin),w((se=pe.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,ce,ie)).min)&&W(this,"setRange",{min:Math.min(se.min,se.max),max:Math.max(se.min,se.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:K}})),z.DOMType!=="mousemove"&&z.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&H(this.zoomedMin)&&H(this.zoomedMax)&&(V=Math.round(this.zoomedMin),q=Math.round(this.zoomedMax),this.shades&&this.drawMasks(V,q,J,ae),this.outline&&this.drawOutline(V,q,J,ae),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(V,0,J,ae),this.drawHandle(q,1,J,ae)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(z){z()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let z=this.baseSeries||[];this.navigatorEnabled&&z[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&z.forEach(function(q){j(q,"updatedData",this.updatedDataHandler)},this),z[0].xAxis&&j(z[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(z){var Q;let q=z.options,V=q.navigator||{},te=V.enabled,ce=q.scrollbar||{},ie=ce.enabled,se=te&&V.height||0,Ce=ie&&ce.height||0,pe=ce.buttonsEnabled&&Ce||0;this.handles=[],this.shades=[],this.chart=z,this.setBaseSeries(),this.height=se,this.scrollbarHeight=Ce,this.scrollButtonSize=pe,this.scrollbarEnabled=ie,this.navigatorEnabled=te,this.navigatorOptions=V,this.scrollbarOptions=ce,this.setOpposite();let we=this,K=we.baseSeries,J=z.xAxis.length,ae=z.yAxis.length,ve=K&&K[0]&&K[0].xAxis||z.xAxis[0]||{options:{}};if(z.isDirtyBox=!0,we.navigatorEnabled){let re=this.getXAxisOffsets();we.xAxis=new r(z,$({breaks:ve.options.breaks,ordinal:ve.options.ordinal,overscroll:ve.options.overscroll},V.xAxis,{type:"datetime",yAxis:(Q=V.yAxis)==null?void 0:Q.id,index:J,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:ve.options.ordinal?0:ve.options.minPadding,maxPadding:ve.options.ordinal?0:ve.options.maxPadding,zoomEnabled:!1},z.inverted?{offsets:re,width:se}:{offsets:re,height:se}),"xAxis"),we.yAxis=new r(z,$(V.yAxis,{alignTicks:!1,offset:0,index:ae,isInternal:!0,reversed:G(V.yAxis&&V.yAxis.reversed,z.yAxis[0]&&z.yAxis[0].reversed,!1),zoomEnabled:!1},z.inverted?{width:se}:{height:se}),"yAxis"),K||V.series.data?we.updateNavigatorSeries(!1):z.series.length===0&&(we.unbindRedraw=E(z,"beforeRedraw",function(){z.series.length>0&&!we.series&&(we.setBaseSeries(),we.unbindRedraw())})),we.reversedExtremes=z.inverted&&!we.xAxis.reversed||!z.inverted&&we.xAxis.reversed,we.renderElements(),we.addMouseEvents()}else we.xAxis={chart:z,navigatorAxis:{fake:!0},translate:function(re,le){let fe=z.xAxis[0],xe=fe.getExtremes(),Le=fe.len-2*pe,be=M("min",fe.options.min,xe.dataMin),ke=M("max",fe.options.max,xe.dataMax)-be;return le?re*ke/Le+be:Le*(re-be)/ke},toPixels:function(re){return this.translate(re)},toValue:function(re){return this.translate(re,!0)}},we.xAxis.navigatorAxis.axis=we.xAxis,we.xAxis.navigatorAxis.toFixedRange=h.prototype.toFixedRange.bind(we.xAxis.navigatorAxis);if(z.options.scrollbar.enabled){let re=$(z.options.scrollbar,{vertical:z.inverted});!H(re.margin)&&we.navigatorEnabled&&(re.margin=z.inverted?-3:3),z.scrollbar=we.scrollbar=new f(z.renderer,re,z),E(we.scrollbar,"changed",function(le){let fe=we.size,xe=fe*this.to,Le=fe*this.from;we.hasDragged=we.scrollbar.hasDragged,we.render(0,0,Le,xe),this.shouldUpdateExtremes(le.DOMType)&&setTimeout(function(){we.onMouseUp(le)})})}we.addBaseSeriesEvents(),we.addChartEvents()}setOpposite(){let z=this.navigatorOptions,q=this.navigatorEnabled,V=this.chart;this.opposite=G(z.opposite,!!(!q&&V.inverted))}getUnionExtremes(z){let q,V=this.chart.xAxis[0],te=this.xAxis,ce=te.options,ie=V.options;return z&&V.dataMin===null||(q={dataMin:G(ce&&ce.min,M("min",ie.min,V.dataMin,te.dataMin,te.min)),dataMax:G(ce&&ce.max,M("max",ie.max,V.dataMax,te.dataMax,te.max))}),q}setBaseSeries(z,q){let V=this.chart,te=this.baseSeries=[];z=z||V.options&&V.options.navigator.baseSeries||(V.series.length?O(V.series,ce=>!ce.options.isInternal).index:0),(V.series||[]).forEach((ce,ie)=>{!ce.options.isInternal&&(ce.options.showInNavigator||(ie===z||ce.options.id===z)&&ce.options.showInNavigator!==!1)&&te.push(ce)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,q)}updateNavigatorSeries(z,q){var J,ae;let V=this,te=V.chart,ce=V.baseSeries,ie={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:(J=this.navigatorOptions.xAxis)==null?void 0:J.id,yAxis:(ae=this.navigatorOptions.yAxis)==null?void 0:ae.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},se=V.series=(V.series||[]).filter(ve=>{let Q=ve.baseSeries;return!(0>ce.indexOf(Q))||(Q&&(j(Q,"updatedData",V.updatedDataHandler),delete Q.navigatorSeries),ve.chart&&ve.destroy(),!1)}),Ce,pe,we=V.navigatorOptions.series,K;ce&&ce.length&&ce.forEach(ve=>{let Q=ve.navigatorSeries,re=L({color:ve.color,visible:ve.visible},X(we)?_.navigator.series:we);if(Q&&V.navigatorOptions.adaptToUpdatedData===!1)return;ie.name="Navigator "+ce.length,K=(Ce=ve.options||{}).navigatorOptions||{},re.dataLabels=D(re.dataLabels),(pe=$(Ce,ie,re,K)).pointRange=G(re.pointRange,K.pointRange,_.plotOptions[pe.type||"line"].pointRange);let le=K.data||re.data;V.hasNavigatorData=V.hasNavigatorData||!!le,pe.data=le||Ce.data&&Ce.data.slice(0),Q&&Q.options?Q.update(pe,q):(ve.navigatorSeries=te.initSeries(pe),te.setSortedData(),ve.navigatorSeries.baseSeries=ve,se.push(ve.navigatorSeries))}),(we.data&&!(ce&&ce.length)||X(we))&&(V.hasNavigatorData=!1,(we=D(we)).forEach((ve,Q)=>{ie.name="Navigator "+(se.length+1),(pe=$(_.navigator.series,{color:te.series[Q]&&!te.series[Q].options.isInternal&&te.series[Q].color||te.options.colors[Q]||te.options.colors[0]},ie,ve)).data=ve.data,pe.data&&(V.hasNavigatorData=!0,se.push(te.initSeries(pe)))})),z&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let z=this,q=z.baseSeries||[];q[0]&&q[0].xAxis&&q[0].eventsToUnbind.push(E(q[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),q.forEach(V=>{V.eventsToUnbind.push(E(V,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),V.eventsToUnbind.push(E(V,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&V.xAxis&&V.eventsToUnbind.push(E(V,"updatedData",this.updatedDataHandler)),V.eventsToUnbind.push(E(V,"remove",function(){C(q,V),this.navigatorSeries&&(C(z.series,this.navigatorSeries),w(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(z){return this.baseSeries.reduce(function(q,V){return Math.min(q,V.xData&&V.xData.length?V.xData[0]:q)},z)}modifyNavigatorAxisExtremes(){let z=this.xAxis;if(z.getExtremes!==void 0){let q=this.getUnionExtremes(!0);q&&(q.dataMin!==z.min||q.dataMax!==z.max)&&(z.min=q.dataMin,z.max=q.dataMax)}}modifyBaseAxisExtremes(){var Q;let z,q,V=this.chart.navigator,te=this.getExtremes(),ce=te.min,ie=te.max,se=te.dataMin,Ce=te.dataMax,pe=ie-ce,we=V.stickToMin,K=V.stickToMax,J=G((Q=this.ordinal)==null?void 0:Q.convertOverscroll(this.options.overscroll),0),ae=V.series&&V.series[0],ve=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(we&&(z=(q=se)+pe),K&&(z=Ce+J,we||(q=Math.max(se,z-pe,V.getBaseSeriesMin(ae&&ae.xData?ae.xData[0]:-Number.MAX_VALUE)))),ve&&(we||K)&&H(q)&&(this.min=this.userMin=q,this.max=this.userMax=z)),V.stickToMin=V.stickToMax=null}updatedDataHandler(){let z=this.chart.navigator,q=this.navigatorSeries,V=z.reversedExtremes?Math.round(z.zoomedMin)===0:Math.round(z.zoomedMax)>=Math.round(z.size);z.stickToMax=G(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,V),z.stickToMin=z.shouldStickToMin(this,z),q&&!z.hasNavigatorData&&(q.options.pointStart=this.xData[0],q.setData(this.options.data,!1,null,!1))}shouldStickToMin(z,q){let V=q.getBaseSeriesMin(z.xData[0]),te=z.xAxis,ce=te.max,ie=te.min,se=te.options.range;return!!(H(ce)&&H(ie))&&(se&&ce-V>0?ce-V<se:ie<=V)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(E(this.chart,"redraw",function(){let z=this.navigator,q=z&&(z.baseSeries&&z.baseSeries[0]&&z.baseSeries[0].xAxis||this.xAxis[0]);q&&z.render(q.min,q.max)}),E(this.chart,"getMargins",function(){let z=this.navigator,q=z.opposite?"plotTop":"marginBottom";this.inverted&&(q=z.opposite?"marginRight":"plotLeft"),this[q]=(this[q]||0)+(z.navigatorEnabled||!this.inverted?z.height+z.scrollbarHeight:0)+z.navigatorOptions.margin}),E(Y,"setRange",function(z){this.chart.xAxis[0].setExtremes(z.min,z.max,z.redraw,z.animation,z.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(C(this.chart.xAxis,this.xAxis),C(this.chart.axes,this.xAxis)),this.yAxis&&(C(this.chart.yAxis,this.yAxis),C(this.chart.axes,this.yAxis)),(this.series||[]).forEach(z=>{z.destroy&&z.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(z=>{this[z]&&this[z].destroy&&this[z].destroy(),this[z]=null}),[this.handles].forEach(z=>{N(z)}),this.navigatorEnabled=!1}}return Y}),i(t,"Accessibility/Components/NavigatorComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Stock/Navigator/Navigator.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Templating.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(r,a,o,s,h,p,f,y,g){let{animObject:_}=h,{format:b}=p,{clamp:T,pick:E,syncTimeout:k}=f,{getFakeMouseEvent:v}=y,{getAxisRangeDescription:w,fireEventOnWrappedOrUnwrappedElement:N}=g;return class extends r{init(){let C=this.chart,L=this;this.announcer=new a(C,"polite"),this.addEvent(s,"afterRender",function(){this.chart===L.chart&&this.chart.renderer&&k(()=>{L.proxyProvider.updateGroupProxyElementPositions("navigator"),L.updateHandleValues()},_(E(this.chart.renderer.globalAnimation,!0)).duration)})}onChartUpdate(){var W,X,H;let C=this.chart,L=C.options,O=L.navigator;if(O.enabled&&((W=O.accessibility)!=null&&W.enabled)){let $=L.accessibility.landmarkVerbosity,G=(X=L.lang.accessibility)==null?void 0:X.navigator.groupLabel;this.proxyProvider.removeGroup("navigator"),this.proxyProvider.addGroup("navigator","div",{role:$==="all"?"region":"group","aria-label":b(G,{chart:C},C)});let j=(H=L.lang.accessibility)==null?void 0:H.navigator.handleLabel;[0,1].forEach(D=>{let M=this.getHandleByIx(D);if(M){let Y=this.proxyProvider.addProxyElement("navigator",{click:M},"input",{type:"range","aria-label":b(j,{handleIx:D,chart:C},C)});this[D?"maxHandleProxy":"minHandleProxy"]=Y.innerElement,Y.innerElement.style.pointerEvents="none",Y.innerElement.oninput=()=>this.updateNavigator()}}),this.updateHandleValues()}else this.proxyProvider.removeGroup("navigator")}getNavigatorHandleNavigation(C){let L=this,O=this.chart,W=C?this.maxHandleProxy:this.minHandleProxy,X=this.keyCodes;return new o(O,{keyCodeMap:[[[X.left,X.right,X.up,X.down],function(H){if(W){let $=H===X.left||H===X.up?-1:1;W.value=""+T(parseFloat(W.value)+$,0,100),L.updateNavigator(()=>{let G=L.getHandleByIx(C);G&&O.setFocusToElement(G,W)})}return this.response.success}]],init:()=>{O.setFocusToElement(this.getHandleByIx(C),W)},validate:()=>{var H;return!!(this.getHandleByIx(C)&&W&&((H=O.options.navigator.accessibility)!=null&&H.enabled))}})}getKeyboardNavigation(){return[this.getNavigatorHandleNavigation(0),this.getNavigatorHandleNavigation(1)]}destroy(){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.proxyProvider.removeGroup("navigator"),this.announcer&&this.announcer.destroy()}updateHandleValues(){let C=this.chart.navigator;if(C&&this.minHandleProxy&&this.maxHandleProxy){let L=C.size;this.minHandleProxy.value=""+Math.round(C.zoomedMin/L*100),this.maxHandleProxy.value=""+Math.round(C.zoomedMax/L*100)}}getHandleByIx(C){let L=this.chart.navigator;return L&&L.handles&&L.handles[C]}updateNavigator(C){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.updateNavigatorThrottleTimer=setTimeout((L=>{var H;let O=this.chart,{navigator:W,pointer:X}=O;if(W&&X&&this.minHandleProxy&&this.maxHandleProxy){let $=X.getChartPosition(),G=parseFloat(this.minHandleProxy.value)/100*W.size,j=parseFloat(this.maxHandleProxy.value)/100*W.size;[[0,"mousedown",W.zoomedMin],[0,"mousemove",G],[0,"mouseup",G],[1,"mousedown",W.zoomedMax],[1,"mousemove",j],[1,"mouseup",j]].forEach(([Y,B,z])=>{var V;let q=(V=this.getHandleByIx(Y))==null?void 0:V.element;q&&N(q,v(B,{x:$.left+W.left+z,y:$.top+W.top},q))}),L&&L();let D=(H=O.options.lang.accessibility)==null?void 0:H.navigator.changeAnnouncement,M=w(O.xAxis[0]);this.announcer.announce(b(D,{axisRangeDescription:M,chart:O},O))}}).bind(this,C),20)}}}),i(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Templating.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,a,o,s,h){let{getPointAnnotationTexts:p}=r,{getAxisDescription:f,getSeriesFirstPointElement:y,getSeriesA11yElement:g,unhideChartElementFromAT:_}=a,{format:b,numberFormat:T}=o,{reverseChildNodes:E,stripHTMLTagsFromString:k}=s,{find:v,isNumber:w,isString:N,pick:C,defined:L}=h;function O(G){let j=G.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(j!==!1&&G.points&&G.points.length>=+j)}function W(G,j){let D=G.series,M=D.chart,Y=M.options.accessibility.point||{},B=D.options.accessibility&&D.options.accessibility.point||{},z=D.tooltipOptions||{},q=M.options.lang;return w(j)?T(j,B.valueDecimals||Y.valueDecimals||z.valueDecimals||-1,q.decimalPoint,q.accessibility.thousandsSep||q.thousandsSep):j}function X(G,j){let D=G[j];return G.chart.langFormat("accessibility.series."+j+"Description",{name:f(D),series:G})}function H(G){let j=G.series,D=j.chart.series.length>1||j.options.name,M=function(q){let V=q.series,te=V.chart,ce=V.options.accessibility,ie=ce&&ce.point&&ce.point.valueDescriptionFormat||te.options.accessibility.point.valueDescriptionFormat,se=C(V.xAxis&&V.xAxis.options.accessibility&&V.xAxis.options.accessibility.enabled,!te.angular&&V.type!=="flowmap"),Ce=se?function(pe){let we=function(ve){let Q=ve.series,re=Q.chart,le=Q.options.accessibility&&Q.options.accessibility.point||{},fe=re.options.accessibility.point||{},xe=Q.xAxis&&Q.xAxis.dateTime;if(xe){let Le=xe.getXDateFormat(ve.x||0,re.options.tooltip.dateTimeLabelFormats),be=le.dateFormatter&&le.dateFormatter(ve)||fe.dateFormatter&&fe.dateFormatter(ve)||le.dateFormat||fe.dateFormat||Le;return re.time.dateFormat(be,ve.x||0,void 0)}}(pe),K=(pe.series.xAxis||{}).categories&&L(pe.category)&&(""+pe.category).replace("<br/>"," "),J=L(pe.id)&&0>(""+pe.id).indexOf("highcharts-"),ae="x, "+pe.x;return pe.name||we||K||(J?pe.id:ae)}(q):"";return b(ie,{point:q,index:L(q.index)?q.index+1:"",xDescription:Ce,value:function(pe){let we=pe.series,K=we.chart.options.accessibility.point||{},J=we.chart.options.accessibility&&we.chart.options.accessibility.point||{},ae=we.tooltipOptions||{},ve=J.valuePrefix||K.valuePrefix||ae.valuePrefix||"",Q=J.valueSuffix||K.valueSuffix||ae.valueSuffix||"",re=pe.value!==void 0?"value":"y",le=W(pe,pe[re]);return pe.isNull?we.chart.langFormat("accessibility.series.nullPointValue",{point:pe}):we.pointArrayMap?function(fe,xe,Le){let be=xe||"",ke=Le||"",Oe=function(Ue){let Xe=W(fe,C(fe[Ue],fe.options[Ue]));return Xe!==void 0?Ue+": "+be+Xe+ke:Xe};return fe.series.pointArrayMap.reduce(function(Ue,Xe){let Pe=Oe(Xe);return Pe?Ue+(Ue.length?", ":"")+Pe:Ue},"")}(pe,ve,Q):ve+le+Q}(q),separator:se?", ":""},te)}(G),Y=G.options&&G.options.accessibility&&G.options.accessibility.description,B=D?" "+j.name+".":"",z=function(q){let V=q.series.chart,te=p(q);return te.length?V.langFormat("accessibility.series.pointAnnotationsDescription",{point:q,annotations:te}):""}(G);return G.accessibility=G.accessibility||{},G.accessibility.valueDescription=M,M+(Y?" "+Y:"")+B+(z?" "+z:"")}function $(G){let j=G.chart,D=j.types||[],M=function(se){let Ce=(se.options.accessibility||{}).description;return Ce&&se.chart.langFormat("accessibility.series.description",{description:Ce,series:se})||""}(G),Y=function(se){return j[se]&&j[se].length>1&&G[se]},B=G.index+1,z=X(G,"xAxis"),q=X(G,"yAxis"),V={seriesNumber:B,series:G,chart:j},te=D.length>1?"Combination":"",ce=j.langFormat("accessibility.series.summary."+G.type+te,V)||j.langFormat("accessibility.series.summary.default"+te,V),ie=(Y("yAxis")?" "+q+".":"")+(Y("xAxis")?" "+z+".":"");return b(C(G.options.accessibility&&G.options.accessibility.descriptionFormat,j.options.accessibility.series.descriptionFormat,""),{seriesDescription:ce,authorDescription:M?" "+M:"",axisDescription:ie,series:G,chart:j,seriesNumber:B},void 0)}return{defaultPointDescriptionFormatter:H,defaultSeriesDescriptionFormatter:$,describeSeries:function(G){let j=G.chart,D=y(G),M=g(G),Y=j.is3d&&j.is3d();M&&(M.lastChild!==D||Y||E(M),function(B){let z=function(te){let ce=te.options.accessibility||{};return!O(te)&&!ce.exposeAsGroupOnly}(B),q=function(te){let ce=te.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!!(te.points&&(te.points.length<+ce.pointNavigationEnabledThreshold||ce.pointNavigationEnabledThreshold===!1))}(B),V=B.chart.options.accessibility.point.describeNull;(z||q)&&B.points.forEach(te=>{let ce=te.graphic&&te.graphic.element||function(se){let Ce=se.series,pe=Ce&&Ce.chart,we=Ce&&Ce.is("sunburst"),K=se.isNull,J=pe&&pe.options.accessibility.point.describeNull;return K&&!we&&J}(te)&&function(se){let Ce=se.series,pe=function(ve){let Q=ve.index;return ve.series&&ve.series.data&&L(Q)&&v(ve.series.data,function(re){return!!(re&&re.index!==void 0&&re.index>Q&&re.graphic&&re.graphic.element)})||null}(se),we=pe&&pe.graphic,K=we?we.parentGroup:Ce.graph||Ce.group,J=pe?{x:C(se.plotX,pe.plotX,0),y:C(se.plotY,pe.plotY,0)}:{x:C(se.plotX,0),y:C(se.plotY,0)},ae=function(ve,Q){let re=ve.series.chart.renderer.rect(Q.x,Q.y,1,1);return re.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),re}(se,J);if(K&&K.element)return se.graphic=ae,se.hasMockGraphic=!0,ae.add(K),K.element.insertBefore(ae.element,we?we.element:null),ae.element}(te),ie=te.options&&te.options.accessibility&&te.options.accessibility.enabled===!1;if(ce){if(te.isNull&&!V){ce.setAttribute("aria-hidden",!0);return}ce.setAttribute("tabindex","-1"),B.chart.styledMode||(ce.style.outline="none"),z&&!ie?function(se,Ce){var ae,ve,Q;let pe=se.series,we=((ae=pe.options.accessibility)==null?void 0:ae.point)||{},K=pe.chart.options.accessibility.point||{},J=k(N(we.descriptionFormat)&&b(we.descriptionFormat,se,pe.chart)||((ve=we.descriptionFormatter)==null?void 0:ve.call(we,se))||N(K.descriptionFormat)&&b(K.descriptionFormat,se,pe.chart)||((Q=K.descriptionFormatter)==null?void 0:Q.call(K,se))||H(se),pe.chart.renderer.forExport);Ce.setAttribute("role","img"),Ce.setAttribute("aria-label",J)}(te,ce):ce.setAttribute("aria-hidden",!0)}})}(G),_(j,M),function(B){let z=B.chart,q=z.options.chart,V=q.options3d&&q.options3d.enabled,te=z.series.length>1,ce=z.options.accessibility.series.describeSingleSeries,ie=(B.options.accessibility||{}).exposeAsGroupOnly;return!(V&&te)&&(te||ce||ie||O(B))}(G)?function(B,z){let q=B.options.accessibility||{},V=B.chart.options.accessibility,te=V.landmarkVerbosity;q.exposeAsGroupOnly?z.setAttribute("role","img"):te==="all"?z.setAttribute("role","region"):z.setAttribute("role","group"),z.setAttribute("tabindex","-1"),B.chart.styledMode||(z.style.outline="none"),z.setAttribute("aria-label",k(V.series.descriptionFormatter&&V.series.descriptionFormatter(B)||$(B),B.chart.renderer.forExport))}(G,M):M.removeAttribute("aria-label"))}}}),i(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,a,o,s,h,p){let{composed:f}=r,{addEvent:y,defined:g,pushUnique:_}=a,{getChartTitle:b}=s,{defaultPointDescriptionFormatter:T,defaultSeriesDescriptionFormatter:E}=p;function k(w){return!!w.options.accessibility.announceNewData.enabled}class v{constructor(N){this.dirty={allSeries:{}},this.lastAnnouncementTime=0,this.chart=N}init(){let N=this.chart,C=N.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new h,this.announcer=new o(N,C),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){let N=this,C=this.chart,L=this.eventProvider;L.addEvent(C,"afterApplyDrilldown",function(){N.lastAnnouncementTime=0}),L.addEvent(C,"afterAddSeries",function(O){N.onSeriesAdded(O.series)}),L.addEvent(C,"redraw",function(){N.announceDirtyData()})}onSeriesAdded(N){k(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[N.name+N.index]=N,this.dirty.newSeries=g(this.dirty.newSeries)?void 0:N)}announceDirtyData(){let N=this.chart,C=this;if(N.options.accessibility.announceNewData&&this.dirty.hasDirty){let L=this.dirty.newPoint;L&&(L=function(O){let W=O.series.data.filter(X=>O.x===X.x&&O.y===X.y);return W.length===1?W[0]:O}(L)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(O=>C.dirty.allSeries[O]),this.dirty.newSeries,L),this.dirty={allSeries:{}}}}queueAnnouncement(N,C,L){let O=this.chart.options.accessibility.announceNewData;if(O.enabled){let W=+new Date,X=W-this.lastAnnouncementTime,H=Math.max(0,O.minAnnounceInterval-X),$=function(j,D){let M=(j||[]).concat(D||[]).reduce((Y,B)=>(Y[B.name+B.index]=B,Y),{});return Object.keys(M).map(Y=>M[Y])}(this.queuedAnnouncement&&this.queuedAnnouncement.series,N),G=this.buildAnnouncementMessage($,C,L);G&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:W,message:G,series:$},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},H))}}buildAnnouncementMessage(N,C,L){let O=this.chart,W=O.options.accessibility.announceNewData;if(W.announcementFormatter){let G=W.announcementFormatter(N,C,L);if(G!==!1)return G.length?G:null}let X=r.charts&&r.charts.length>1?"Multiple":"Single",H=C?"newSeriesAnnounce"+X:L?"newPointAnnounce"+X:"newDataAnnounce",$=b(O);return O.langFormat("accessibility.announceNewData."+H,{chartTitle:$,seriesDesc:C?E(C):null,pointDesc:L?T(L):null,point:L,series:C})}}return function(w){function N(L){var X;let O=this.chart,W=(X=O.accessibility)==null?void 0:X.components.series.newDataAnnouncer;W&&W.chart===O&&k(O)&&(W.dirty.newPoint=g(W.dirty.newPoint)?void 0:L.point)}function C(){var W;let L=this.chart,O=(W=L.accessibility)==null?void 0:W.components.series.newDataAnnouncer;O&&O.chart===L&&k(L)&&(O.dirty.hasDirty=!0,O.dirty.allSeries[this.name+this.index]=this)}w.compose=function(L){_(f,"A11y.NDA")&&(y(L,"addPoint",N),y(L,"updatedData",C))}}(v),v}),i(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,a,o,s,h){let{doc:p}=r,{attr:f,css:y,merge:g}=a,{fireEventOnWrappedOrUnwrappedElement:_}=s,{cloneMouseEvent:b,cloneTouchEvent:T,getFakeMouseEvent:E,removeElement:k}=h;return class{constructor(v,w,N="button",C,L){this.chart=v,this.target=w,this.eventProvider=new o;let O=this.innerElement=p.createElement(N),W=this.element=C?p.createElement(C):O;v.styledMode||this.hideElementVisually(O),C&&(C!=="li"||v.styledMode||(W.style.listStyle="none"),W.appendChild(O),this.element=W),this.updateTarget(w,L)}click(){let v=this.getTargetPosition();v.x+=v.width/2,v.y+=v.height/2;let w=E("click",v);_(this.target.click,w)}updateTarget(v,w){this.target=v,this.updateCSSClassName();let N=w||{};Object.keys(N).forEach(L=>{N[L]===null&&delete N[L]});let C=this.getTargetAttr(v.click,"aria-label");f(this.innerElement,g(C?{"aria-label":C}:{},N)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToElement(this.innerElement,v.click),this.refreshPosition()}refreshPosition(){let v=this.getTargetPosition();y(this.innerElement,{width:(v.width||1)+"px",height:(v.height||1)+"px",left:(Math.round(v.x)||0)+"px",top:(Math.round(v.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),k(this.element)}updateCSSClassName(){let v=O=>O.indexOf("highcharts-no-tooltip")>-1,w=this.chart.legend,N=w.group&&w.group.div,C=v(N&&N.className||""),L=v(this.getTargetAttr(this.target.click,"class")||"");this.innerElement.className=C||L?"highcharts-a11y-proxy-element highcharts-no-tooltip":"highcharts-a11y-proxy-element"}addProxyEventsToElement(v,w){["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(N=>{let C=N.indexOf("touch")===0;this.eventProvider.addEvent(v,N,L=>{let O=C?T(L):b(L);w&&_(w,O),L.stopPropagation(),C||L.preventDefault()},{passive:!1})})}hideElementVisually(v){y(v,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){let v=this.target.click,w=v.element?v.element:v,N=this.target.visual||w,C=this.chart.renderTo,L=this.chart.pointer;if(C&&(N!=null&&N.getBoundingClientRect)&&L){let O=N.getBoundingClientRect(),W=L.getChartPosition();return{x:(O.left-W.left)/W.scaleX,y:(O.top-W.top)/W.scaleY,width:O.right/W.scaleX-O.left/W.scaleX,height:O.bottom/W.scaleY-O.top/W.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(v,w){return v.element?v.element.getAttribute(w):v.getAttribute(w)}}}),i(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(r,a,o,s,h,p){let{doc:f}=r,{attr:y,css:g}=a,{unhideChartElementFromAT:_}=o,{removeChildNodes:b}=h;return class{constructor(T){this.chart=T,this.domElementProvider=new s,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(T,E,k="button",v){let w=this.groups[T];if(!w)throw Error("ProxyProvider.addProxyElement: Invalid group key "+T);let N=w.type==="ul"||w.type==="ol"?"li":void 0,C=new p(this.chart,E,k,N,v);return w.proxyContainerElement.appendChild(C.element),w.proxyElements.push(C),C}addGroup(T,E="div",k){let v,w=this.groups[T];if(w)return w.groupElement;let N=this.domElementProvider.createElement(E);return k&&k.role&&E!=="div"?(v=this.domElementProvider.createElement("div")).appendChild(N):v=N,v.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+T.replace(/\W/g,"-"),this.groups[T]={proxyContainerElement:N,groupElement:v,type:E,proxyElements:[]},y(v,k||{}),E==="ul"&&N.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(v),this.updateGroupOrder(this.groupOrder),v}updateGroupAttrs(T,E){let k=this.groups[T];if(!k)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+T);y(k.groupElement,E)}updateGroupOrder(T){if(this.groupOrder=T.slice(),this.isDOMOrderGroupOrder())return;let E=T.indexOf("series"),k=E>-1?T.slice(0,E):T,v=E>-1?T.slice(E+1):[],w=f.activeElement;["before","after"].forEach(N=>{let C=this[N==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];b(C),(N==="before"?k:v).forEach(L=>{let O=this.groups[L];O&&C.appendChild(O.groupElement)})}),(this.beforeChartProxyPosContainer.contains(w)||this.afterChartProxyPosContainer.contains(w))&&w&&w.focus&&w.focus()}clearGroup(T){let E=this.groups[T];if(!E)throw Error("ProxyProvider.clearGroup: Invalid group key "+T);b(E.proxyContainerElement)}removeGroup(T){let E=this.groups[T];E&&(this.domElementProvider.removeElement(E.groupElement),E.groupElement!==E.proxyContainerElement&&this.domElementProvider.removeElement(E.proxyContainerElement),delete this.groups[T])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(T){let E=this.groups[T];E&&E.proxyElements.forEach(k=>k.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(T){let E=this.domElementProvider.createElement("div");return E.setAttribute("aria-hidden","false"),E.className="highcharts-a11y-proxy-container"+(T?"-"+T:""),g(E,{top:"0",left:"0"}),this.chart.styledMode||(E.style.whiteSpace="nowrap",E.style.position="absolute"),E}getCurrentGroupOrderInDOM(){let T=w=>{let N=Object.keys(this.groups),C=N.length;for(;C--;){let L=N[C],O=this.groups[L];if(O&&w===O.groupElement)return L}},E=w=>{let N=[],C=w.children;for(let L=0;L<C.length;++L){let O=T(C[L]);O&&N.push(O)}return N},k=E(this.beforeChartProxyPosContainer),v=E(this.afterChartProxyPosContainer);return k.push("series"),k.concat(v)}isDOMOrderGroupOrder(){let T=this.getCurrentGroupOrderInDOM(),E=this.groupOrder.filter(v=>v==="series"||!!this.groups[v]),k=T.length;if(k!==E.length)return!1;for(;k--;)if(T[k]!==E[k])return!1;return!0}updatePosContainerPositions(){let T=this.chart;if(T.renderer.forExport)return;let E=T.renderer.box;T.container.insertBefore(this.afterChartProxyPosContainer,E.nextSibling),T.container.insertBefore(this.beforeChartProxyPosContainer,E),_(this.chart,this.afterChartProxyPosContainer),_(this.chart,this.beforeChartProxyPosContainer)}}}),i(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(r,a,o,s,h){let{unhideChartElementFromAT:p,getAxisRangeDescription:f}=o,{addEvent:y,attr:g}=h;class _ extends r{init(){let T=this.chart;this.announcer=new a(T,"polite")}onChartUpdate(){let T=this.chart,E=this,k=T.rangeSelector;k&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),k.buttons&&k.buttons.length&&k.buttons.forEach(v=>{E.setRangeButtonAttrs(v)}),k.maxInput&&k.minInput&&["minInput","maxInput"].forEach(function(v,w){let N=k[v];N&&(p(T,N),E.setRangeInputAttrs(N,"accessibility.rangeSelector."+(w?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){let T=this.chart,E=T.rangeSelector,k=E&&E.dropdown,v=E&&E.buttons||[],w=N=>N.setAttribute("aria-hidden",!0);E&&E.hasVisibleDropdown&&k?(p(T,k),v.forEach(N=>w(N.element))):(k&&w(k),v.forEach(N=>p(T,N.element)))}setDropdownAttrs(){let T=this.chart,E=T.rangeSelector&&T.rangeSelector.dropdown;if(E){let k=T.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:T.options.lang.rangeSelectorZoom});E.setAttribute("aria-label",k),E.setAttribute("tabindex",-1)}}setRangeButtonAttrs(T){g(T.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(T,E){let k=this.chart;g(T,{tabindex:-1,"aria-label":k.langFormat(E,{chart:k})})}onButtonNavKbdArrowKey(T,E){let k=T.response,v=this.keyCodes,w=this.chart,N=w.options.accessibility.keyboardNavigation.wrapAround,C=E===v.left||E===v.up?-1:1;return w.highlightRangeSelectorButton(w.highlightedRangeSelectorItemIx+C)?k.success:N?(T.init(C),k.success):k[C>0?"next":"prev"]}onButtonNavKbdClick(T){let E=T.response,k=this.chart;return k.oldRangeSelectorItemState!==3&&this.fakeClickEvent(k.rangeSelector.buttons[k.highlightedRangeSelectorItemIx].element),E.success}onAfterBtnClick(){let T=this.chart,E=f(T.xAxis[0]),k=T.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:T,axisRangeDescription:E});k&&this.announcer.announce(k)}onInputKbdMove(T){let E=this.chart,k=E.rangeSelector,v=E.highlightedInputRangeIx=(E.highlightedInputRangeIx||0)+T;if(v>1||v<0){if(E.accessibility)return E.accessibility.keyboardNavigation.exiting=!0,E.accessibility.keyboardNavigation.tabindexContainer.focus(),E.accessibility.keyboardNavigation.move(T)}else if(k){let w=k[v?"maxDateBox":"minDateBox"],N=k[v?"maxInput":"minInput"];w&&N&&E.setFocusToElement(w,N)}return!0}onInputNavInit(T){let E=this,k=this.chart,v=T>0?0:1,w=k.rangeSelector,N=w&&w[v?"maxDateBox":"minDateBox"],C=w&&w.minInput,L=w&&w.maxInput;if(k.highlightedInputRangeIx=v,N&&C&&L){k.setFocusToElement(N,v?L:C),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();let O=H=>{(H.which||H.keyCode)===this.keyCodes.tab&&E.onInputKbdMove(H.shiftKey?-1:1)&&(H.preventDefault(),H.stopPropagation())},W=y(C,"keydown",O),X=y(L,"keydown",O);this.removeInputKeydownHandler=()=>{W(),X()}}}onInputNavTerminate(){let T=this.chart.rangeSelector||{};T.maxInput&&T.hideInput("max"),T.minInput&&T.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){let T=this.chart,E=T.rangeSelector,k=E&&E.dropdown;E&&k&&(T.setFocusToElement(E.buttonGroup,k),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=y(k,"keydown",v=>{let w=(v.which||v.keyCode)===this.keyCodes.tab,N=T.accessibility;w&&(v.preventDefault(),v.stopPropagation(),N&&(N.keyboardNavigation.tabindexContainer.focus(),N.keyboardNavigation.move(v.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){let T=this.chart,E=this.keyCodes,k=this;return new s(T,{keyCodeMap:[[[E.left,E.right,E.up,E.down],function(v){return k.onButtonNavKbdArrowKey(this,v)}],[[E.enter,E.space],function(){return k.onButtonNavKbdClick(this)}]],validate:function(){return!!(T.rangeSelector&&T.rangeSelector.buttons&&T.rangeSelector.buttons.length)},init:function(v){let w=T.rangeSelector;if(w&&w.hasVisibleDropdown)k.initDropdownNav();else if(w){let N=w.buttons.length-1;T.highlightRangeSelectorButton(v>0?0:N)}},terminate:function(){k.removeDropdownKeydownHandler&&(k.removeDropdownKeydownHandler(),delete k.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){let T=this.chart,E=this;return new s(T,{keyCodeMap:[],validate:function(){return!!(T.rangeSelector&&T.rangeSelector.inputGroup&&T.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&T.options.rangeSelector.inputEnabled!==!1&&T.rangeSelector.minInput&&T.rangeSelector.maxInput)},init:function(k){E.onInputNavInit(k)},terminate:function(){E.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(b){function T(k){let v=this.rangeSelector&&this.rangeSelector.buttons||[],w=this.highlightedRangeSelectorItemIx,N=this.rangeSelector&&this.rangeSelector.selected;return w!==void 0&&v[w]&&w!==N&&v[w].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=k,!!v[k]&&(this.setFocusToElement(v[k].box,v[k].element),k!==N&&(this.oldRangeSelectorItemState=v[k].state,v[k].setState(1)),!0)}function E(){let k=this.chart.accessibility;if(k&&k.components.rangeSelector)return k.components.rangeSelector.onAfterBtnClick()}b.compose=function(k,v){let w=k.prototype;w.highlightRangeSelectorButton||(w.highlightRangeSelectorButton=T,y(v,"afterBtnClick",E))}}(_),_}),i(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){var o;let{composed:s}=r,{addEvent:h,merge:p,pushUnique:f}=a;return function(y){function g(w){p(!0,w,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function _(w){return w.marker.states&&w.marker.states.normal&&w.marker.states.normal.opacity}function b(w){return!!(w._hasPointMarkers&&w.points&&w.points.length)}function T(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),b(this)&&this.points.forEach(w=>{w.graphic&&(w.graphic[w.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),w.graphic[w.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function E(w){this.resetA11yMarkerOptions=p(w.options.marker||{},this.userOptions.marker||{})}function k(){let w=this.options;(function(N){let C=N.chart.options.accessibility.enabled,L=(N.options.accessibility&&N.options.accessibility.enabled)!==!1;return C&&L&&function(O){let W=O.chart.options.accessibility;return O.points.length<W.series.pointDescriptionEnabledThreshold||W.series.pointDescriptionEnabledThreshold===!1}(N)})(this)?(w.marker&&w.marker.enabled===!1&&(this.a11yMarkersForced=!0,g(this.options)),b(this)&&function(N){let C=N.points.length;for(;C--;){let L=N.points[C],O=L.options,W=L.hasForcedA11yMarker;if(delete L.hasForcedA11yMarker,O.marker){let X=W&&_(O)===0;O.marker.enabled&&!X?(p(!0,O.marker,{states:{normal:{opacity:_(O)||1}}}),L.hasForcedA11yMarker=!1):O.marker.enabled===!1&&(g(O),L.hasForcedA11yMarker=!0)}}}(this)):this.a11yMarkersForced&&(delete this.a11yMarkersForced,function(N){let C=N.resetA11yMarkerOptions;if(C){let L=C.states&&C.states.normal&&C.states.normal.opacity;N.userOptions&&N.userOptions.marker&&(N.userOptions.marker.enabled=!0),N.update({marker:{enabled:C.enabled,states:{normal:{opacity:L}}}})}}(this),delete this.resetA11yMarkerOptions)}function v(){this.boosted&&this.a11yMarkersForced&&(p(!0,this.options,{marker:{enabled:!1}}),delete this.a11yMarkersForced)}y.compose=function(w){f(s,"A11y.FM")&&(h(w,"afterSetOptions",E),h(w,"render",k),h(w,"afterRender",T),h(w,"renderCanvas",v))}}(o||(o={})),o}),i(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(r,a,o,s,h,p,f,y){let{seriesTypes:g}=o,{doc:_}=s,{defined:b,fireEvent:T}=h,{getPointFromXY:E,getSeriesFromName:k,scrollAxisToPoint:v}=y;function w(H){let $=H.index,G=H.series.points,j=G.length;if(G[$]===H)return $;for(;j--;)if(G[j]===H)return j}function N(H){let $=H.chart.options.accessibility.keyboardNavigation.seriesNavigation,G=H.options.accessibility||{},j=G.keyboardNavigation;return j&&j.enabled===!1||G.enabled===!1||H.options.enableMouseTracking===!1||!H.visible||$.pointNavigationEnabledThreshold&&+$.pointNavigationEnabledThreshold<=H.points.length}function C(H){let $=H.series.chart.options.accessibility,G=H.options.accessibility&&H.options.accessibility.enabled===!1;return H.isNull&&$.keyboardNavigation.seriesNavigation.skipNullPoints||H.visible===!1||H.isInside===!1||G||N(H.series)}function L(H){let $=H.series||[],G=$.length;for(let j=0;j<G;++j)if(!N($[j])){let D=function(M){let Y=M.points||[],B=Y.length;for(let z=0;z<B;++z)if(!C(Y[z]))return Y[z];return null}($[j]);if(D)return D}return null}function O(H){let $=H.series.length,G=!1;for(;$--&&(H.highlightedPoint=H.series[$].points[H.series[$].points.length-1],!(G=H.series[$].highlightNextValidPoint())););return G}function W(H){delete H.highlightedPoint;let $=L(H);return!!$&&$.highlight()}class X{constructor($,G){this.keyCodes=G,this.chart=$}init(){let $=this,G=this.chart,j=this.eventProvider=new f;j.addEvent(a,"destroy",function(){return $.onSeriesDestroy(this)}),j.addEvent(G,"afterApplyDrilldown",function(){(function(D){let M=L(D);M&&M.highlight(!1)})(this)}),j.addEvent(G,"drilldown",function(D){let M=D.point,Y=M.series;$.lastDrilledDownPoint={x:M.x,y:M.y,seriesName:Y?Y.name:""}}),j.addEvent(G,"drillupall",function(){setTimeout(function(){$.onDrillupAll()},10)}),j.addEvent(r,"afterSetState",function(){let D=this.graphic&&this.graphic.element,M=_.activeElement,Y=M&&M.getAttribute("class"),B=Y&&Y.indexOf("highcharts-a11y-proxy-element")>-1;G.highlightedPoint===this&&M!==D&&!B&&D&&D.focus&&D.focus()})}onDrillupAll(){let $,G=this.lastDrilledDownPoint,j=this.chart,D=G&&k(j,G.seriesName);G&&D&&b(G.x)&&b(G.y)&&($=E(D,G.x,G.y)),$=$||L(j),j.container&&j.container.focus(),$&&$.highlight&&$.highlight(!1)}getKeyboardNavigationHandler(){let $=this,G=this.keyCodes,j=this.chart,D=j.inverted;return new p(j,{keyCodeMap:[[D?[G.up,G.down]:[G.left,G.right],function(M){return $.onKbdSideways(this,M)}],[D?[G.left,G.right]:[G.up,G.down],function(M){return $.onKbdVertical(this,M)}],[[G.enter,G.space],function(M,Y){var z;let B=j.highlightedPoint;if(B){let{plotLeft:q,plotTop:V}=this.chart,{plotX:te=0,plotY:ce=0}=B;Y={...Y,chartX:q+te,chartY:V+ce,point:B,target:((z=B.graphic)==null?void 0:z.element)||Y.target},T(B.series,"click",Y),B.firePointEvent("click",Y)}return this.response.success}],[[G.home],function(){return W(j),this.response.success}],[[G.end],function(){return O(j),this.response.success}],[[G.pageDown,G.pageUp],function(M){return j.highlightAdjacentSeries(M===G.pageDown),this.response.success}]],init:function(){return $.onHandlerInit(this)},validate:function(){return!!L(j)},terminate:function(){return $.onHandlerTerminate()}})}onKbdSideways($,G){let j=this.keyCodes,D=G===j.right||G===j.down;return this.attemptHighlightAdjacentPoint($,D)}onHandlerInit($){let G=this.chart;return G.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&G.highlightedPoint?G.highlightedPoint.highlight():W(G),$.response.success}onKbdVertical($,G){let j=this.chart,D=this.keyCodes,M=G===D.down||G===D.right,Y=j.options.accessibility.keyboardNavigation.seriesNavigation;if(Y.mode&&Y.mode==="serialize")return this.attemptHighlightAdjacentPoint($,M);let B=j.highlightedPoint&&j.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries";return j[B](M),$.response.success}onHandlerTerminate(){let $=this.chart,G=$.options.accessibility.keyboardNavigation;$.tooltip&&$.tooltip.hide(0);let j=$.highlightedPoint&&$.highlightedPoint.series;j&&j.onMouseOut&&j.onMouseOut(),$.highlightedPoint&&$.highlightedPoint.onMouseOut&&$.highlightedPoint.onMouseOut(),G.seriesNavigation.rememberPointFocus||delete $.highlightedPoint}attemptHighlightAdjacentPoint($,G){let j=this.chart,D=j.options.accessibility.keyboardNavigation.wrapAround;return j.highlightAdjacentPoint(G)||D&&(G?W(j):O(j))?$.response.success:$.response[G?"next":"prev"]}onSeriesDestroy($){let G=this.chart;G.highlightedPoint&&G.highlightedPoint.series===$&&(delete G.highlightedPoint,G.focusElement&&G.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function(H){function $(Y){let B,z,q=this.series,V=this.highlightedPoint,te=V&&w(V)||0,ce=V&&V.series.points||[],ie=this.series&&this.series[this.series.length-1],se=ie&&ie.points&&ie.points[ie.points.length-1];if(!q[0]||!q[0].points)return!1;if(V){if(B=q[V.series.index+(Y?1:-1)],(z=ce[te+(Y?1:-1)])||!B||(z=B.points[Y?0:B.points.length-1]),!z)return!1}else z=Y?q[0].points[0]:se;return C(z)?(N(B=z.series)?this.highlightedPoint=Y?B.points[B.points.length-1]:B.points[0]:this.highlightedPoint=z,this.highlightAdjacentPoint(Y)):z.highlight()}function G(Y){let B=this.highlightedPoint,z=1/0,q;return!!(b(B.plotX)&&b(B.plotY))&&(this.series.forEach(V=>{N(V)||V.points.forEach(te=>{if(!b(te.plotY)||!b(te.plotX)||te===B)return;let ce=te.plotY-B.plotY,ie=Math.abs(te.plotX-B.plotX),se=Math.abs(ce)*Math.abs(ce)+ie*ie*4;V.yAxis&&V.yAxis.reversed&&(ce*=-1),!(ce<=0&&Y||ce>=0&&!Y||se<5||C(te))&&se<z&&(z=se,q=te)})}),!!q&&q.highlight())}function j(Y){let B,z,q,V=this.highlightedPoint,te=this.series&&this.series[this.series.length-1],ce=te&&te.points&&te.points[te.points.length-1];return this.highlightedPoint?!!((B=this.series[V.series.index+(Y?-1:1)])&&(z=function(ie,se,Ce,pe){let we=1/0,K,J,ae,ve=se.points.length,Q=re=>!(b(re.plotX)&&b(re.plotY));if(!Q(ie)){for(;ve--;)!Q(K=se.points[ve])&&(ae=(ie.plotX-K.plotX)*(ie.plotX-K.plotX)*4+(ie.plotY-K.plotY)*(ie.plotY-K.plotY)*1)<we&&(we=ae,J=ve);return b(J)?se.points[J]:void 0}}(V,B)))&&(N(B)?(z.highlight(),(q=this.highlightAdjacentSeries(Y))?q:(V.highlight(),!1)):(z.highlight(),z.series.highlightNextValidPoint())):(B=Y?this.series&&this.series[0]:te,!!(z=Y?B&&B.points&&B.points[0]:ce)&&z.highlight())}function D(Y=!0){var V,te;let B=this.series.chart,z=(te=(V=B.tooltip)==null?void 0:V.label)==null?void 0:te.element;!this.isNull&&Y?this.onMouseOver():B.tooltip&&B.tooltip.hide(0),v(this),this.graphic&&(B.setFocusToElement(this.graphic),!Y&&B.focusElement&&B.focusElement.removeFocusBorder()),B.highlightedPoint=this;let q=z==null?void 0:z.getBoundingClientRect().top;if(z&&q&&q<0){let ce=window.scrollY;window.scrollTo({behavior:"smooth",top:ce+q})}return this}function M(){let Y=this.chart.highlightedPoint,B=(Y&&Y.series)===this?w(Y):0,z=this.points,q=z.length;if(z&&q){for(let V=B;V<q;++V)if(!C(z[V]))return z[V].highlight();for(let V=B;V>=0;--V)if(!C(z[V]))return z[V].highlight()}return!1}H.compose=function(Y,B,z){let q=Y.prototype,V=B.prototype,te=z.prototype;q.highlightAdjacentPoint||(q.highlightAdjacentPoint=$,q.highlightAdjacentPointVertical=G,q.highlightAdjacentSeries=j,V.highlight=D,te.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(ce=>{g[ce]&&(g[ce].prototype.keyboardMoveVertical=!1)}),te.highlightNextValidPoint=M)}}(X),X}),i(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(r,a,o,s,h,p){let{hideSeriesFromAT:f}=a,{describeSeries:y}=h;return class extends r{static compose(g,_,b){s.compose(b),o.compose(b),p.compose(g,_,b)}init(){this.newDataAnnouncer=new s(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new p(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){let g=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===g.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(g){g.labelBySeries&&g.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(g){(g.options.accessibility&&g.options.accessibility.enabled)!==!1&&g.visible&&g.getPointsCollection().length!==0?y(g):f(g)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}}),i(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(r,a,o,s,h){let{unhideChartElementFromAT:p}=a,{getFakeMouseEvent:f}=o,{attr:y,pick:g}=h;return class extends r{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){let _=this,b=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(T=>{_.addEvent(b,T,function(){_.updateProxyOverlays()})})}onChartUpdate(){let _=this.chart,b=this;_.mapNavigation&&_.mapNavigation.navButtons.forEach((T,E)=>{p(_,T.element),b.setMapNavButtonAttrs(T.element,"accessibility.zoom.mapZoom"+(E?"Out":"In"))})}setMapNavButtonAttrs(_,b){let T=this.chart;y(_,{tabindex:-1,role:"button","aria-label":T.langFormat(b,{chart:T})})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){let _=this.chart;if(this.proxyProvider.clearGroup("zoom"),_.resetZoomButton&&this.createZoomProxyButton(_.resetZoomButton,"resetZoomProxyButton",_.langFormat("accessibility.zoom.resetZoomButton",{chart:_})),_.drillUpButton&&_.breadcrumbs&&_.breadcrumbs.list){let b=_.breadcrumbs.list[_.breadcrumbs.list.length-1];this.createZoomProxyButton(_.drillUpButton,"drillUpProxyButton",_.langFormat("accessibility.drillUpButton",{chart:_,buttonText:_.breadcrumbs.getButtonText(b)}))}}createZoomProxyButton(_,b,T){this[b]=this.proxyProvider.addProxyElement("zoom",{click:_},"button",{"aria-label":T,tabindex:-1})}getMapZoomNavigation(){let _=this.keyCodes,b=this.chart,T=this;return new s(b,{keyCodeMap:[[[_.up,_.down,_.left,_.right],function(E){return T.onMapKbdArrow(this,E)}],[[_.tab],function(E,k){return T.onMapKbdTab(this,k)}],[[_.space,_.enter],function(){return T.onMapKbdClick(this)}]],validate:function(){return!!(b.mapView&&b.mapNavigation&&b.mapNavigation.navButtons.length)},init:function(E){return T.onMapNavInit(E)}})}onMapKbdArrow(_,b){let T=this.chart,E=this.keyCodes,k=T.container,v=b===E.up||b===E.down,w=b===E.left||b===E.up?1:-1,N=(v?T.plotHeight:T.plotWidth)/10*w,C=10*Math.random(),L={x:k.offsetLeft+T.plotLeft+T.plotWidth/2+C,y:k.offsetTop+T.plotTop+T.plotHeight/2+C},O=v?{x:L.x,y:L.y+N}:{x:L.x+N,y:L.y};return[f("mousedown",L),f("mousemove",O),f("mouseup",O)].forEach(W=>k.dispatchEvent(W)),_.response.success}onMapKbdTab(_,b){let T=this.chart,E=_.response,k=b.shiftKey,v=k&&!this.focusedMapNavButtonIx||!k&&this.focusedMapNavButtonIx;if(T.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),v)return T.mapView&&T.mapView.zoomBy(),E[k?"prev":"next"];this.focusedMapNavButtonIx+=k?-1:1;let w=T.mapNavigation.navButtons[this.focusedMapNavButtonIx];return T.setFocusToElement(w.box,w.element),w.setState(2),E.success}onMapKbdClick(_){let b=this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element;return this.fakeClickEvent(b),_.response.success}onMapNavInit(_){let b=this.chart,T=b.mapNavigation.navButtons[0],E=b.mapNavigation.navButtons[1],k=_>0?T:E;b.setFocusToElement(k.box,k.element),k.setState(2),this.focusedMapNavButtonIx=_>0?0:1}simpleButtonNavigation(_,b,T){let E=this.keyCodes,k=this,v=this.chart;return new s(v,{keyCodeMap:[[[E.tab,E.up,E.down,E.left,E.right],function(w,N){let C=w===E.tab&&N.shiftKey||w===E.left||w===E.up;return this.response[C?"prev":"next"]}],[[E.space,E.enter],function(){return g(T(this,v),this.response.success)}]],validate:function(){return v[_]&&v[_].box&&k[b].innerElement},init:function(){v.setFocusToElement(v[_].box,k[b].innerElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(_,b){b.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(_,b){return b.drillUp(),_.response.prev}),this.getMapZoomNavigation()]}}}),i(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(r){let{doc:a,isMS:o,win:s}=r;return{isHighContrastModeActive:function(){let h=/(Edg)/.test(s.navigator.userAgent);if(s.matchMedia&&h)return s.matchMedia("(-ms-high-contrast: active)").matches;if(o&&s.getComputedStyle){let p=a.createElement("div");p.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",a.body.appendChild(p);let f=(p.currentStyle||s.getComputedStyle(p)).backgroundImage;return a.body.removeChild(p),f==="none"}return s.matchMedia&&s.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(h){var y;h.highContrastModeActive=!0;let p=h.options.accessibility.highContrastTheme;h.update(p,!1);let f=((y=p.colors)==null?void 0:y.length)>1;h.series.forEach(function(g){let _=p.plotOptions[g.type]||{},b=f&&g.colorIndex!==void 0?p.colors[g.colorIndex]:_.color||"window",T={color:_.color||"windowText",colors:f?p.colors:[_.color||"windowText"],borderColor:_.borderColor||"window",fillColor:b};g.update(T,!1),g.points&&g.points.forEach(function(E){E.options&&E.options.color&&E.update({color:_.color||"windowText",borderColor:_.borderColor||"window"},!1)})}),h.redraw()}}}),i(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[],dataClasses:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),i(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',highContrastMode:"auto",keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","navigator","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}},navigator:{accessibility:{enabled:!0}}}}),i(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{#each additionalAnnotationPoints}, also related to {this}{/each}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},navigator:{handleLabel:"{#eq handleIx 0}Start, percent{else}End, percent{/eq}",groupLabel:"Axis zoom",changeAnnouncement:"{axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#eq numPoints 1}slice{else}slices{/eq}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#eq numPoints 1}point{else}points{/eq}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#eq numPoints 1}box{else}boxes{/eq}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#eq numPoints 1}bubbles{else}bubble{/eq}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{#each annotations}Annotation: {this}{/each}"}}}}),i(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(r){let{error:a,pick:o}=r;function s(p,f,y){let g=p,_,b=0;for(;b<f.length-1;++b)g=g[_=f[b]]=o(g[_],{});g[f[f.length-1]]=y}function h(p,f,y,g){function _(E,k){return k.reduce(function(v,w){return v[w]},E)}let b=_(p.options,f),T=_(p.options,y);Object.keys(g).forEach(function(E){let k=b[E];k!==void 0&&(s(T,g[E],k),a(32,!1,p,{[f.join(".")+"."+E]:y.join(".")+"."+g[E].join(".")}))})}return function(p){(function(f){let y=f.options.chart,g=f.options.accessibility||{};["description","typeDescription"].forEach(function(_){y[_]&&(g[_]=y[_],a(32,!1,f,{[`chart.${_}`]:`use accessibility.${_}`}))})})(p),function(f){f.axes.forEach(function(y){let g=y.options;g&&g.description&&(g.accessibility=g.accessibility||{},g.accessibility.description=g.description,a(32,!1,f,{"axis.description":"use axis.accessibility.description"}))})}(p),p.series&&function(f){let y={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};f.series.forEach(function(g){Object.keys(y).forEach(function(_){let b=g.options[_];_==="accessibility.pointDescriptionFormatter"&&(b=g.options.accessibility&&g.options.accessibility.pointDescriptionFormatter),b!==void 0&&(s(g.options,y[_],_==="skipKeyboardNavigation"?!b:b),a(32,!1,f,{[`series.${_}`]:"series."+y[_].join(".")}))})})}(p),h(p,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),h(p,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),h(p,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),i(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/NavigatorComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(r,a,o,s,h,p,f,y,g,_,b,T,E,k,v,w,N,C,L,O,W,X){let{defaultOptions:H}=r,{doc:$}=a,{addEvent:G,extend:j,fireEvent:D,merge:M}=o,{removeElement:Y}=s;class B{constructor(q){this.init(q)}init(q){if(this.chart=q,!$.addEventListener){this.zombie=!0,this.components={},q.renderTo.setAttribute("aria-hidden",!0);return}X(q),this.proxyProvider=new k(this.chart),this.initComponents(),this.keyboardNavigation=new g(q,this.components)}initComponents(){let q=this.chart,V=this.proxyProvider,te=q.options.accessibility;this.components={container:new p,infoRegions:new y,legend:new _,chartMenu:new b,rangeSelector:new v,series:new w,zoom:new N,navigator:new T},te.customComponents&&j(this.components,te.customComponents);let ce=this.components;this.getComponentOrder().forEach(function(ie){ce[ie].initBase(q,V),ce[ie].init()})}getComponentOrder(){return this.components?this.components.series?["series"].concat(Object.keys(this.components).filter(q=>q!=="series")):Object.keys(this.components):[]}update(){let q=this.components,V=this.chart,te=V.options.accessibility;D(V,"beforeA11yUpdate"),V.types=this.getChartTypes();let ce=te.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(ce),this.getComponentOrder().forEach(function(ie){q[ie].onChartUpdate(),D(V,"afterA11yComponentUpdate",{name:ie,component:q[ie]})}),this.keyboardNavigation.update(ce),!V.highContrastModeActive&&te.highContrastMode!==!1&&(C.isHighContrastModeActive()||te.highContrastMode===!0)&&C.setHighContrastTheme(V),D(V,"afterA11yUpdate",{accessibility:this})}destroy(){let q=this.chart||{},V=this.components;Object.keys(V).forEach(function(te){V[te].destroy(),V[te].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),q.announcerContainer&&Y(q.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),q.renderTo&&q.renderTo.setAttribute("aria-hidden",!0),q.focusElement&&q.focusElement.removeFocusBorder()}getChartTypes(){let q={};return this.chart.series.forEach(function(V){q[V.type]=1}),Object.keys(q)}}return function(z){function q(){this.accessibility&&this.accessibility.destroy()}function V(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());let se=this.accessibility;se&&!se.zombie&&(se.proxyProvider.updateProxyElementPositions(),se.getComponentOrder().forEach(function(Ce){se.components[Ce].onChartRender()}))}function te(se){let Ce=se.options.accessibility;Ce&&(Ce.customComponents&&(this.options.accessibility.customComponents=Ce.customComponents,delete Ce.customComponents),M(!0,this.options.accessibility,Ce),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function ce(){let se=this.accessibility,Ce=this.options.accessibility,pe=this.renderer.boxWrapper.element,we=this.title;if(Ce&&Ce.enabled)se&&!se.zombie?se.update():(this.accessibility=se=new z(this),se&&!se.zombie&&se.update(),pe.getAttribute("role")==="img"&&pe.removeAttribute("role"));else if(se)se.destroy&&se.destroy(),delete this.accessibility;else{this.renderTo.setAttribute("role","img"),this.renderTo.setAttribute("aria-hidden",!1),this.renderTo.setAttribute("aria-label",(we&&we.element.textContent||"").replace(/</g,"&lt;")),pe.setAttribute("aria-hidden",!0);let K=document.getElementsByClassName("highcharts-description")[0];K&&(K.setAttribute("aria-hidden",!1),K.classList.remove("highcharts-linked-description"))}}function ie(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}z.i18nFormat=h.i18nFormat,z.compose=function(se,Ce,pe,we,K,J){g.compose(se),E.compose(we),_.compose(se,Ce),b.compose(se),w.compose(se,pe,we),h.compose(se),f.compose(se,K),J&&v.compose(se,J);let ae=se.prototype;ae.updateA11yEnabled||(ae.updateA11yEnabled=ce,G(se,"destroy",q),G(se,"render",V),G(se,"update",te),["addSeries","init"].forEach(ve=>{G(se,ve,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(ve=>{G(se,ve,function(){let Q=this.accessibility;Q&&!Q.zombie&&Q.update()})}),G(pe,"update",ie),["update","updatedData","remove"].forEach(ve=>{G(we,ve,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})}))}}(B),M(!0,H,O,{accessibility:{highContrastTheme:L},lang:W}),B}),i(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,a,o,s,h,p,f){return r.i18nFormat=a.i18nFormat,r.A11yChartUtilities=s,r.A11yHTMLUtilities=h,r.AccessibilityComponent=o,r.KeyboardNavigationHandler=p,r.SeriesAccessibilityDescriber=f,a.compose(r.Chart,r.Legend,r.Point,r.Series,r.SVGElement,r.RangeSelector),r})})})(rA);var Jj=rA.exports;const e4=Kl(Jj);var aA={exports:{}};(function(n){(function(e){n.exports?(e.default=e,n.exports=e):e(typeof Highcharts<"u"?Highcharts:void 0)})(function(e){var t=e?e._modules:{};function i(r,a,o,s){r.hasOwnProperty(a)||(r[a]=s.apply(null,o),typeof CustomEvent=="function"&&e.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:a,module:r[a]}})))}i(t,"Extensions/Pane/PaneComposition.js",[t["Core/Utilities.js"]],function(r){let{addEvent:a,correctFloat:o,defined:s,pick:h}=r;function p(b){let T,E=this;return b&&E.pane.forEach(k=>{f(b.chartX-E.plotLeft,b.chartY-E.plotTop,k.center)&&(T=k)}),T}function f(b,T,E,k,v){let w=!0,N=E[0],C=E[1],L=Math.sqrt(Math.pow(b-N,2)+Math.pow(T-C,2));if(s(k)&&s(v)){let O=Math.atan2(o(T-C,8),o(b-N,8));v!==k&&(w=k>v?O>=k&&O<=Math.PI||O<=v&&O>=-Math.PI:O>=k&&O<=o(v,8))}return L<=Math.ceil(E[2]/2)&&w}function y(b){this.polar&&(b.options.inverted&&([b.x,b.y]=[b.y,b.x]),b.isInsidePlot=this.pane.some(T=>f(b.x,b.y,T.center,T.axis&&T.axis.normalizedStartAngleRad,T.axis&&T.axis.normalizedEndAngleRad)))}function g(b){let T=this.chart;b.hoverPoint&&b.hoverPoint.plotX&&b.hoverPoint.plotY&&T.hoverPane&&!f(b.hoverPoint.plotX,b.hoverPoint.plotY,T.hoverPane.center)&&(b.hoverPoint=void 0)}function _(b){let T=this.chart;T.polar?(T.hoverPane=T.getHoverPane(b),b.filter=function(E){return E.visible&&!(!b.shared&&E.directTouch)&&h(E.options.enableMouseTracking,!0)&&(!T.hoverPane||E.xAxis.pane===T.hoverPane)}):T.hoverPane=void 0}return{compose:function(b,T){let E=b.prototype;E.getHoverPane||(E.collectionsWithUpdate.push("pane"),E.getHoverPane=p,a(b,"afterIsInsidePlot",y),a(T,"afterGetHoverData",g),a(T,"beforeGetHoverData",_))}}}),i(t,"Extensions/Pane/PaneDefaults.js",[],function(){return{pane:{center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},background:{shape:"circle",borderRadius:0,borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}}}),i(t,"Extensions/Pane/Pane.js",[t["Series/CenteredUtilities.js"],t["Extensions/Pane/PaneComposition.js"],t["Extensions/Pane/PaneDefaults.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{extend:h,merge:p,splat:f}=s;class y{constructor(_,b){this.coll="pane",this.init(_,b)}init(_,b){this.chart=b,this.background=[],b.pane.push(this),this.setOptions(_)}setOptions(_){this.options=_=p(o.pane,this.chart.angular?{background:{}}:void 0,_)}render(){let _=this.options,b=this.chart.renderer;this.group||(this.group=b.g("pane-group").attr({zIndex:_.zIndex||0}).add()),this.updateCenter();let T=this.options.background;if(T){let E=Math.max((T=f(T)).length,this.background.length||0);for(let k=0;k<E;k++)T[k]&&this.axis?this.renderBackground(p(o.background,T[k]),k):this.background[k]&&(this.background[k]=this.background[k].destroy(),this.background.splice(k,1))}}renderBackground(_,b){let T={class:"highcharts-pane "+(_.className||"")},E="animate";this.chart.styledMode||h(T,{fill:_.backgroundColor,stroke:_.borderColor,"stroke-width":_.borderWidth}),this.background[b]||(this.background[b]=this.chart.renderer.path().add(this.group),E="attr"),this.background[b][E]({d:this.axis.getPlotBandPath(_.from,_.to,_)}).attr(T)}updateCenter(_){this.center=(_||this.axis||{}).center=r.getCenter.call(this)}update(_,b){p(!0,this.options,_),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(T){T.pane===this&&(T.pane=null,T.update({},b))},this)}}return y.compose=a.compose,y}),i(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a){let{area:{prototype:{pointClass:o,pointClass:{prototype:s}}}}=r.seriesTypes,{defined:h,isNumber:p}=a;return class extends o{setState(){let f=this.state,y=this.series,g=y.chart.polar;h(this.plotHigh)||(this.plotHigh=y.yAxis.toPixels(this.high,!0)),h(this.plotLow)||(this.plotLow=this.plotY=y.yAxis.toPixels(this.low,!0)),y.lowerStateMarkerGraphic=y.stateMarkerGraphic,y.stateMarkerGraphic=y.upperStateMarkerGraphic,this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,g&&p(this.plotHighX)&&(this.plotX=this.plotHighX),s.setState.apply(this,arguments),this.state=f,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],g&&p(this.plotLowX)&&(this.plotX=this.plotLowX),y.upperStateMarkerGraphic=y.stateMarkerGraphic,y.stateMarkerGraphic=y.lowerStateMarkerGraphic,y.lowerStateMarkerGraphic=void 0;let _=y.modifyMarkerSettings();s.setState.apply(this,arguments),y.restoreMarkerSettings(_)}haloPath(){let f=this.series.chart.polar,y=[];return this.plotY=this.plotLow,f&&p(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(y=s.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,f&&p(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(y=y.concat(s.haloPath.apply(this,arguments))),y}isValid(){return p(this.low)&&p(this.high)}}}),i(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{noop:h}=a,{area:p,area:{prototype:f},column:{prototype:y}}=o.seriesTypes,{addEvent:g,defined:_,extend:b,isArray:T,isNumber:E,pick:k,merge:v}=s;class w extends p{toYData(C){return[C.low,C.high]}highToXY(C){let L=this.chart,O=this.xAxis.postTranslate(C.rectPlotX||0,this.yAxis.len-(C.plotHigh||0));C.plotHighX=O.x-L.plotLeft,C.plotHigh=O.y-L.plotTop,C.plotLowX=C.plotX}getGraphPath(C){let L=[],O=[],W=f.getGraphPath,X=this.options,H=this.chart.polar,$=H&&X.connectEnds!==!1,G=X.connectNulls,j,D,M,Y=X.step;for(j=(C=C||this.points).length;j--;){D=C[j];let te=H?{plotX:D.rectPlotX,plotY:D.yBottom,doCurve:!1}:{plotX:D.plotX,plotY:D.plotY,doCurve:!1};D.isNull||$||G||C[j+1]&&!C[j+1].isNull||O.push(te),M={polarPlotY:D.polarPlotY,rectPlotX:D.rectPlotX,yBottom:D.yBottom,plotX:k(D.plotHighX,D.plotX),plotY:D.plotHigh,isNull:D.isNull},O.push(M),L.push(M),D.isNull||$||G||C[j-1]&&!C[j-1].isNull||O.push(te)}let B=W.call(this,C);Y&&(Y===!0&&(Y="left"),X.step={left:"right",center:"center",right:"left"}[Y]);let z=W.call(this,L),q=W.call(this,O);X.step=Y;let V=[].concat(B,z);return!this.chart.polar&&q[0]&&q[0][0]==="M"&&(q[0]=["L",q[0][1],q[0][2]]),this.graphPath=V,this.areaPath=B.concat(q),V.isArea=!0,V.xMap=B.xMap,this.areaPath.xMap=B.xMap,V}drawDataLabels(){var M,Y;let C,L,O,W,X,H=this.points,$=H.length,G=[],j=this.options.dataLabels,D=this.chart.inverted;if(j){if(T(j)?(W=j[0]||{enabled:!1},X=j[1]||{enabled:!1}):((W=b({},j)).x=j.xHigh,W.y=j.yHigh,(X=b({},j)).x=j.xLow,X.y=j.yLow),W.enabled||((M=this.hasDataLabels)==null?void 0:M.call(this))){for(C=$;C--;)if(L=H[C]){let{plotHigh:B=0,plotLow:z=0}=L;O=W.inside?B<z:B>z,L.y=L.high,L._plotY=L.plotY,L.plotY=B,G[C]=L.dataLabel,L.dataLabel=L.dataLabelUpper,L.below=O,D?W.align||(W.align=O?"right":"left"):W.verticalAlign||(W.verticalAlign=O?"top":"bottom")}for(this.options.dataLabels=W,f.drawDataLabels&&f.drawDataLabels.apply(this,arguments),C=$;C--;)(L=H[C])&&(L.dataLabelUpper=L.dataLabel,L.dataLabel=G[C],delete L.dataLabels,L.y=L.low,L.plotY=L._plotY)}if(X.enabled||(Y=this.hasDataLabels)!=null&&Y.call(this)){for(C=$;C--;)if(L=H[C]){let{plotHigh:B=0,plotLow:z=0}=L;O=X.inside?B<z:B>z,L.below=!O,D?X.align||(X.align=O?"left":"right"):X.verticalAlign||(X.verticalAlign=O?"bottom":"top")}this.options.dataLabels=X,f.drawDataLabels&&f.drawDataLabels.apply(this,arguments)}if(W.enabled)for(C=$;C--;)(L=H[C])&&(L.dataLabels=[L.dataLabelUpper,L.dataLabel].filter(function(B){return!!B}));this.options.dataLabels=j}}alignDataLabel(){y.alignDataLabel.apply(this,arguments)}modifyMarkerSettings(){let C={marker:this.options.marker,symbol:this.symbol};if(this.options.lowMarker){let{options:{marker:L,lowMarker:O}}=this;this.options.marker=v(L,O),O.symbol&&(this.symbol=O.symbol)}return C}restoreMarkerSettings(C){this.options.marker=C.marker,this.symbol=C.symbol}drawPoints(){let C,L,O=this.points.length,W=this.modifyMarkerSettings();for(f.drawPoints.apply(this,arguments),this.restoreMarkerSettings(W),C=0;C<O;)(L=this.points[C]).graphics=L.graphics||[],L.origProps={plotY:L.plotY,plotX:L.plotX,isInside:L.isInside,negative:L.negative,zone:L.zone,y:L.y},(L.graphic||L.graphics[0])&&(L.graphics[0]=L.graphic),L.graphic=L.graphics[1],L.plotY=L.plotHigh,_(L.plotHighX)&&(L.plotX=L.plotHighX),L.y=k(L.high,L.origProps.y),L.negative=L.y<(this.options.threshold||0),this.zones.length&&(L.zone=L.getZone()),this.chart.polar||(L.isInside=L.isTopInside=L.plotY!==void 0&&L.plotY>=0&&L.plotY<=this.yAxis.len&&L.plotX>=0&&L.plotX<=this.xAxis.len),C++;for(f.drawPoints.apply(this,arguments),C=0;C<O;)(L=this.points[C]).graphics=L.graphics||[],(L.graphic||L.graphics[1])&&(L.graphics[1]=L.graphic),L.graphic=L.graphics[0],L.origProps&&(b(L,L.origProps),delete L.origProps),C++}hasMarkerChanged(C,L){let O=C.lowMarker,W=L.lowMarker||{};return O&&(O.enabled===!1||W.symbol!==O.symbol||W.height!==O.height||W.width!==O.width)||super.hasMarkerChanged(C,L)}}return w.defaultOptions=v(p.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),g(w,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(N=>{let C=N.high,L=N.plotY;N.isNull?N.plotY=void 0:(N.plotLow=L,N.plotHigh=E(C)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(C):C,!1,!0,void 0,!0):void 0,this.dataModify&&(N.yBottom=N.plotHigh))})},{order:0}),g(w,"afterTranslate",function(){this.points.forEach(N=>{if(this.chart.polar)this.highToXY(N),N.plotLow=N.plotY,N.tooltipPos=[((N.plotHighX||0)+(N.plotLowX||0))/2,((N.plotHigh||0)+(N.plotLow||0))/2];else{let C=N.pos(!1,N.plotLow),L=N.pos(!1,N.plotHigh);C&&L&&(C[0]=(C[0]+L[0])/2,C[1]=(C[1]+L[1])/2),N.tooltipPos=C}})},{order:3}),b(w.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:r,pointValKey:"low",setStackedPoints:h}),o.registerSeriesType("arearange",w),w}),i(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{spline:{prototype:s}}=a.seriesTypes,{merge:h,extend:p}=o;class f extends r{}return f.defaultOptions=h(r.defaultOptions),p(f.prototype,{getPointSpline:s.getPointSpline}),a.registerSeriesType("areasplinerange",f),f}),i(t,"Series/BoxPlot/BoxPlotSeriesDefaults.js",[],function(){return{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}}),i(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/BoxPlot/BoxPlotSeriesDefaults.js"],t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s,h){let{noop:p}=o,{crisp:f,extend:y,merge:g,pick:_}=h;class b extends a{pointAttribs(){return{}}translate(){let E=this.yAxis,k=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(v){k.forEach(function(w){v[w]!==null&&(v[w+"Plot"]=E.translate(v[w],0,1,0,1))}),v.plotHigh=v.highPlot})}drawPoints(){let E,k,v,w,N,C,L,O,W,X,H,$,G,j=this.points,D=this.options,M=this.chart,Y=M.renderer,B=this.doQuartiles!==!1,z=this.options.whiskerLength;for(let q of j){let V=(O=q.graphic)?"animate":"attr",te=q.shapeArgs,ce={},ie={},se={},Ce={},pe=q.color||this.color;if(q.plotY!==void 0){let we;W=te.width,H=(X=te.x)+W,$=W/2,E=B?q.q1Plot:q.lowPlot,k=B?q.q3Plot:q.lowPlot,v=q.highPlot,w=q.lowPlot,O||(q.graphic=O=Y.g("point").add(this.group),q.stem=Y.path().addClass("highcharts-boxplot-stem").add(O),z&&(q.whiskers=Y.path().addClass("highcharts-boxplot-whisker").add(O)),B&&(q.box=Y.path(L).addClass("highcharts-boxplot-box").add(O)),q.medianShape=Y.path(C).addClass("highcharts-boxplot-median").add(O)),M.styledMode||(ie.stroke=q.stemColor||D.stemColor||pe,ie["stroke-width"]=_(q.stemWidth,D.stemWidth,D.lineWidth),ie.dashstyle=q.stemDashStyle||D.stemDashStyle||D.dashStyle,q.stem.attr(ie),z&&(se.stroke=q.whiskerColor||D.whiskerColor||pe,se["stroke-width"]=_(q.whiskerWidth,D.whiskerWidth,D.lineWidth),se.dashstyle=q.whiskerDashStyle||D.whiskerDashStyle||D.dashStyle,q.whiskers.attr(se)),B&&(ce.fill=q.fillColor||D.fillColor||pe,ce.stroke=D.lineColor||pe,ce["stroke-width"]=D.lineWidth||0,ce.dashstyle=q.boxDashStyle||D.boxDashStyle||D.dashStyle,q.box.attr(ce)),Ce.stroke=q.medianColor||D.medianColor||pe,Ce["stroke-width"]=_(q.medianWidth,D.medianWidth,D.lineWidth),Ce.dashstyle=q.medianDashStyle||D.medianDashStyle||D.dashStyle,q.medianShape.attr(Ce));let K=f((q.plotX||0)+(this.pointXOffset||0)+(this.barW||0)/2,q.stem.strokeWidth());if(we=[["M",K,k],["L",K,v],["M",K,E],["L",K,w]],q.stem[V]({d:we}),B){let J=q.box.strokeWidth();E=f(E,J),k=f(k,J),we=[["M",X=f(X,J),k],["L",X,E],["L",H=f(H,J),E],["L",H,k],["L",X,k],["Z"]],q.box[V]({d:we})}if(z){let J=q.whiskers.strokeWidth();v=f(q.highPlot,J),w=f(q.lowPlot,J),we=[["M",f(K-(G=typeof z=="string"&&/%$/.test(z)?$*parseFloat(z)/100:Number(z)/2)),v],["L",f(K+G),v],["M",f(K-G),w],["L",f(K+G),w]],q.whiskers[V]({d:we})}we=[["M",X,N=f(q.medianPlot,q.medianShape.strokeWidth())],["L",H,N]],q.medianShape[V]({d:we})}}}toYData(E){return[E.low,E.q1,E.median,E.q3,E.high]}}return b.defaultOptions=g(a.defaultOptions,r),y(b.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:p,setStackedPoints:p}),s.registerSeriesType("boxplot",b),b}),i(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),i(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{parse:h}=r,{noop:p}=o,{arrayMax:f,arrayMin:y,isNumber:g,merge:_,pick:b,stableSort:T}=s;return class{constructor(E,k){this.setState=p,this.init(E,k)}init(E,k){this.options=E,this.visible=!0,this.chart=k.chart,this.legend=k}addToLegend(E){E.splice(this.options.legendIndex,0,this)}drawLegendSymbol(E){let k,v=b(E.options.itemDistance,20),w=this.legendItem||{},N=this.options,C=N.ranges,L=N.connectorDistance;if(!C||!C.length||!g(C[0].value)){E.options.bubbleLegend.autoRanges=!0;return}T(C,function(H,$){return $.value-H.value}),this.ranges=C,this.setOptions(),this.render();let O=this.getMaxLabelSize(),W=this.ranges[0].radius,X=2*W;k=(k=L-W+O.width)>0?k:0,this.maxLabel=O,this.movementX=N.labels.align==="left"?k:0,w.labelWidth=X+k+v,w.labelHeight=X+O.height/2}setOptions(){let E=this.ranges,k=this.options,v=this.chart.series[k.seriesIndex],w=this.legend.baseline,N={zIndex:k.zIndex,"stroke-width":k.borderWidth},C={zIndex:k.zIndex,"stroke-width":k.connectorWidth},L={align:this.legend.options.rtl||k.labels.align==="left"?"right":"left",zIndex:k.zIndex},O=v.options.marker.fillOpacity,W=this.chart.styledMode;E.forEach(function(X,H){W||(N.stroke=b(X.borderColor,k.borderColor,v.color),N.fill=b(X.color,k.color,O!==1?h(v.color).setOpacity(O).get("rgba"):v.color),C.stroke=b(X.connectorColor,k.connectorColor,v.color)),E[H].radius=this.getRangeRadius(X.value),E[H]=_(E[H],{center:E[0].radius-E[H].radius+w}),W||_(!0,E[H],{bubbleAttribs:_(N),connectorAttribs:_(C),labelAttribs:L})},this)}getRangeRadius(E){let k=this.options,v=this.options.seriesIndex,w=this.chart.series[v],N=k.ranges[0].value,C=k.ranges[k.ranges.length-1].value,L=k.minSize,O=k.maxSize;return w.getRadius.call(this,C,N,L,O,E)}render(){let E=this.legendItem||{},k=this.chart.renderer,v=this.options.zThreshold;for(let w of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),E.symbol=k.g("bubble-legend"),E.label=k.g("bubble-legend-item").css(this.legend.itemStyle||{}),E.symbol.translateX=0,E.symbol.translateY=0,E.symbol.add(E.label),E.label.add(E.group),this.ranges))w.value>=v&&this.renderRange(w);this.hideOverlappingLabels()}renderRange(E){let k=this.ranges[0],v=this.legend,w=this.options,N=w.labels,C=this.chart,L=C.series[w.seriesIndex],O=C.renderer,W=this.symbols,X=W.labels,H=E.center,$=Math.abs(E.radius),G=w.connectorDistance||0,j=N.align,D=v.options.rtl,M=w.borderWidth,Y=w.connectorWidth,B=k.radius||0,z=H-$-M/2+Y/2,q=(z%1?1:.5)-(Y%2?0:.5),V=O.styledMode,te=D||j==="left"?-G:G;j==="center"&&(te=0,w.connectorDistance=0,E.labelAttribs.align="center"),W.bubbleItems.push(O.circle(B,H+q,$).attr(V?{}:E.bubbleAttribs).addClass((V?"highcharts-color-"+L.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(w.className||"")).add(this.legendItem.symbol)),W.connectors.push(O.path(O.crispLine([["M",B,z],["L",B+te,z]],w.connectorWidth)).attr(V?{}:E.connectorAttribs).addClass((V?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(w.connectorClassName||"")).add(this.legendItem.symbol));let ce=O.text(this.formatLabel(E)).attr(V?{}:E.labelAttribs).css(V?{}:N.style).addClass("highcharts-bubble-legend-labels "+(w.labels.className||"")).add(this.legendItem.symbol),ie={x:B+te+w.labels.x,y:z+w.labels.y+.4*ce.getBBox().height};ce.attr(ie),X.push(ce),ce.placed=!0,ce.alignAttr=ie}getMaxLabelSize(){let E,k;return this.symbols.labels.forEach(function(v){k=v.getBBox(!0),E=E?k.width>E.width?k:E:k}),E||{}}formatLabel(E){let k=this.options,v=k.labels.formatter,w=k.labels.format,{numberFormatter:N}=this.chart;return w?a.format(w,E):v?v.call(E):N(E.value,1)}hideOverlappingLabels(){let E=this.chart,k=this.options.labels.allowOverlap,v=this.symbols;!k&&v&&(E.hideOverlappingLabels(v.labels),v.labels.forEach(function(w,N){w.newOpacity?w.newOpacity!==w.oldOpacity&&v.connectors[N].show():v.connectors[N].hide()}))}getRanges(){let E=this.legend.bubbleLegend,k=E.chart.series,v=E.options.ranges,w,N,C=Number.MAX_VALUE,L=-Number.MAX_VALUE;return k.forEach(function(O){O.isBubble&&!O.ignoreSeries&&(N=O.zData.filter(g)).length&&(C=b(O.options.zMin,Math.min(C,Math.max(y(N),O.options.displayNegative===!1?O.options.zThreshold:-Number.MAX_VALUE))),L=b(O.options.zMax,Math.max(L,f(N))))}),w=C===L?[{value:L}]:[{value:C},{value:(C+L)/2},{value:L,autoRanges:!0}],v.length&&v[0].radius&&w.reverse(),w.forEach(function(O,W){v&&v[W]&&(w[W]=_(v[W],O))}),w}predictBubbleSizes(){let E=this.chart,k=E.legend.options,v=k.floating,w=k.layout==="horizontal",N=w?E.legend.lastLineHeight:0,C=E.plotSizeX,L=E.plotSizeY,O=E.series[this.options.seriesIndex],W=O.getPxExtremes(),X=Math.ceil(W.minPxSize),H=Math.ceil(W.maxPxSize),$=Math.min(L,C),G,j=O.options.maxSize;return v||!/%$/.test(j)?G=H:(G=($+N)*(j=parseFloat(j))/100/(j/100+1),(w&&L-G>=C||!w&&C-G>=L)&&(G=H)),[X,Math.ceil(G)]}updateRanges(E,k){let v=this.legend.options.bubbleLegend;v.minSize=E,v.maxSize=k,v.ranges=this.getRanges()}correctSizes(){let E=this.legend,k=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(k.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,k.maxPxSize),E.render())}}}),i(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o,s,h){let{setOptions:p}=o,{composed:f}=s,{addEvent:y,objectEach:g,pushUnique:_,wrap:b}=h;function T(C,L,O){let W,X,H,$=this.legend,G=E(this)>=0;$&&$.options.enabled&&$.bubbleLegend&&$.options.bubbleLegend.autoRanges&&G?(W=$.bubbleLegend.options,X=$.bubbleLegend.predictBubbleSizes(),$.bubbleLegend.updateRanges(X[0],X[1]),W.placed||($.group.placed=!1,$.allItems.forEach(j=>{(H=j.legendItem||{}).group&&(H.group.translateY=void 0)})),$.render(),W.placed||(this.getMargins(),this.axes.forEach(function(j){j.visible&&j.render(),W.placed||(j.setScale(),j.updateNames(),g(j.ticks,function(D){D.isNew=!0,D.isNewLabel=!0}))}),this.getMargins()),W.placed=!0,C.call(this,L,O),$.bubbleLegend.correctSizes(),N($,k($))):(C.call(this,L,O),$&&$.options.enabled&&$.bubbleLegend&&($.render(),N($,k($))))}function E(C){let L=C.series,O=0;for(;O<L.length;){if(L[O]&&L[O].isBubble&&L[O].visible&&L[O].zData.length)return O;O++}return-1}function k(C){let L=C.allItems,O=[],W=L.length,X,H,$,G=0,j=0;for(G=0;G<W;G++)if(H=L[G].legendItem||{},$=(L[G+1]||{}).legendItem||{},H.labelHeight&&(L[G].itemHeight=H.labelHeight),L[G]===L[W-1]||H.y!==$.y){for(O.push({height:0}),X=O[O.length-1];j<=G;j++)L[j].itemHeight>X.height&&(X.height=L[j].itemHeight);X.step=G}return O}function v(C){let L=this.bubbleLegend,O=this.options,W=O.bubbleLegend,X=E(this.chart);L&&L.ranges&&L.ranges.length&&(W.ranges.length&&(W.autoRanges=!!W.ranges[0].autoRanges),this.destroyItem(L)),X>=0&&O.enabled&&W.enabled&&(W.seriesIndex=X,this.bubbleLegend=new a(W,this),this.bubbleLegend.addToLegend(C.allItems))}function w(C){let L;if(C.defaultPrevented)return!1;let O=C.legendItem,W=this.chart,X=O.visible;this&&this.bubbleLegend&&(O.visible=!X,O.ignoreSeries=X,L=E(W)>=0,this.bubbleLegend.visible!==L&&(this.update({bubbleLegend:{enabled:L}}),this.bubbleLegend.visible=L),O.visible=X)}function N(C,L){let O=C.allItems,W=C.options.rtl,X,H,$,G,j=0;O.forEach((D,M)=>{(G=D.legendItem||{}).group&&(X=G.group.translateX||0,H=G.y||0,(($=D.movementX)||W&&D.ranges)&&($=W?X-D.options.maxSize/2:X+$,G.group.attr({translateX:$})),M>L[j].step&&j++,G.group.attr({translateY:Math.round(H+L[j].height/2)}),G.y=H+L[j].height/2)})}return{compose:function(C,L){_(f,"Series.BubbleLegend")&&(p({legend:{bubbleLegend:r}}),b(C.prototype,"drawChartBox",T),y(L,"afterGetAllItems",v),y(L,"itemClick",w))}}}),i(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{seriesTypes:{scatter:{prototype:{pointClass:s}}}}=a,{extend:h}=o;class p extends s{haloPath(y){let g=(y&&this.marker&&this.marker.radius||0)+y;if(this.series.chart.inverted){let _=this.pos()||[0,0],{xAxis:b,yAxis:T,chart:E}=this.series;return E.renderer.symbols.circle(b.len-_[1]-g,T.len-_[0]-g,2*g,2*g)}return r.prototype.haloPath.call(this,g)}}return h(p.prototype,{ttBelow:!1}),p}),i(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s,h,p){let{parse:f}=o,{composed:y,noop:g}=s,{series:_,seriesTypes:{column:{prototype:b},scatter:T}}=h,{addEvent:E,arrayMax:k,arrayMin:v,clamp:w,extend:N,isNumber:C,merge:L,pick:O,pushUnique:W}=p;function X(){let $=this.len,{coll:G,isXAxis:j,min:D}=this,M=j?"xData":"yData",Y=(this.max||0)-(D||0),B=0,z=$,q=$/Y,V;(G==="xAxis"||G==="yAxis")&&(this.series.forEach(te=>{if(te.bubblePadding&&te.reserveSpace()){this.allowZoomOutside=!0,V=!0;let ce=te[M];if(j&&((te.onPoint||te).getRadii(0,0,te),te.onPoint&&(te.radii=te.onPoint.radii)),Y>0){let ie=ce.length;for(;ie--;)if(C(ce[ie])&&this.dataMin<=ce[ie]&&ce[ie]<=this.max){let se=te.radii&&te.radii[ie]||0;B=Math.min((ce[ie]-D)*q-se,B),z=Math.max((ce[ie]-D)*q+se,z)}}}}),V&&Y>0&&!this.logarithmic&&(z-=$,q*=($+Math.max(0,B)-Math.min(z,$))/$,[["min","userMin",B],["max","userMax",z]].forEach(te=>{O(this.options[te[0]],this[te[1]])===void 0&&(this[te[0]]+=te[2]/q)})))}class H extends T{static compose(G,j,D){r.compose(j,D),W(y,"Series.Bubble")&&E(G,"foundExtremes",X)}animate(G){!G&&this.points.length<this.options.animationLimit&&this.points.forEach(function(j){let{graphic:D,plotX:M=0,plotY:Y=0}=j;D&&D.width&&(this.hasRendered||D.attr({x:M,y:Y,width:1,height:1}),D.animate(this.markerAttribs(j),this.options.animation))},this)}getRadii(){let G=this.zData,j=this.yData,D=[],M,Y,B,z=this.chart.bubbleZExtremes,{minPxSize:q,maxPxSize:V}=this.getPxExtremes();if(!z){let te,ce=Number.MAX_VALUE,ie=-Number.MAX_VALUE;this.chart.series.forEach(se=>{if(se.bubblePadding&&se.reserveSpace()){let Ce=(se.onPoint||se).getZExtremes();Ce&&(ce=Math.min(O(ce,Ce.zMin),Ce.zMin),ie=Math.max(O(ie,Ce.zMax),Ce.zMax),te=!0)}}),te?(z={zMin:ce,zMax:ie},this.chart.bubbleZExtremes=z):z={zMin:0,zMax:0}}for(Y=0,M=G.length;Y<M;Y++)B=G[Y],D.push(this.getRadius(z.zMin,z.zMax,q,V,B,j&&j[Y]));this.radii=D}getRadius(G,j,D,M,Y,B){let z=this.options,q=z.sizeBy!=="width",V=z.zThreshold,te=j-G,ce=.5;if(B===null||Y===null)return null;if(C(Y)){if(z.sizeByAbsoluteValue&&(Y=Math.abs(Y-V),j=te=Math.max(j-V,Math.abs(G-V)),G=0),Y<G)return D/2-1;te>0&&(ce=(Y-G)/te)}return q&&ce>=0&&(ce=Math.sqrt(ce)),Math.ceil(D+ce*(M-D))/2}hasData(){return!!this.processedXData.length}markerAttribs(G,j){let D=super.markerAttribs(G,j),{height:M=0,width:Y=0}=D;return this.chart.inverted?N(D,{x:(G.plotX||0)-Y/2,y:(G.plotY||0)-M/2}):D}pointAttribs(G,j){let D=this.options.marker.fillOpacity,M=_.prototype.pointAttribs.call(this,G,j);return D!==1&&(M.fill=f(M.fill).setOpacity(D).get("rgba")),M}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:G,options:j,radii:D}=this,{minPxSize:M}=this.getPxExtremes(),Y=G.length;for(;Y--;){let B=G[Y],z=D?D[Y]:0;this.zoneAxis==="z"&&(B.negative=(B.z||0)<(j.zThreshold||0)),C(z)&&z>=M/2?(B.marker=N(B.marker,{radius:z,width:2*z,height:2*z}),B.dlBox={x:B.plotX-z,y:B.plotY-z,width:2*z,height:2*z}):(B.shapeArgs=B.plotY=B.dlBox=void 0,B.isInside=!1)}}getPxExtremes(){let G=Math.min(this.chart.plotWidth,this.chart.plotHeight),j=Y=>{let B;return typeof Y=="string"&&(B=/%$/.test(Y),Y=parseInt(Y,10)),B?G*Y/100:Y},D=j(O(this.options.minSize,8)),M=Math.max(j(O(this.options.maxSize,"20%")),D);return{minPxSize:D,maxPxSize:M}}getZExtremes(){let G=this.options,j=(this.zData||[]).filter(C);if(j.length){let D=O(G.zMin,w(v(j),G.displayNegative===!1?G.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),M=O(G.zMax,k(j));if(C(D)&&C(M))return{zMin:D,zMax:M}}}}return H.defaultOptions=L(T.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:$}=this.series.chart,{z:G}=this.point;return C(G)?$(G,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),N(H.prototype,{alignDataLabel:b.alignDataLabel,applyZones:g,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:a,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),E(H,"updatedData",$=>{delete $.target.chart.bubbleZExtremes}),E(H,"remove",$=>{delete $.target.chart.bubbleZExtremes}),h.registerSeriesType("bubble",H),H}),i(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a){let{seriesTypes:{column:{prototype:{pointClass:{prototype:o}}},arearange:{prototype:{pointClass:s}}}}=r,{extend:h,isNumber:p}=a;class f extends s{isValid(){return p(this.low)}}return h(f.prototype,{setState:o.setState}),f}),i(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{noop:h}=a,{seriesTypes:{arearange:p,column:f,column:{prototype:y}}}=o,{addEvent:g,clamp:_,extend:b,isNumber:T,merge:E,pick:k}=s;class v extends p{setOptions(){return E(!0,arguments[0],{stacking:void 0}),p.prototype.setOptions.apply(this,arguments)}translate(){return y.translate.apply(this)}pointAttribs(){return y.pointAttribs.apply(this,arguments)}translate3dPoints(){return y.translate3dPoints.apply(this,arguments)}translate3dShapes(){return y.translate3dShapes.apply(this,arguments)}afterColumnTranslate(){let N,C,L,O,W=this.yAxis,X=this.xAxis,H=X.startAngleRad,$=this.chart,G=this.xAxis.isRadial,j=Math.max($.chartWidth,$.chartHeight)+999;this.points.forEach(D=>{let M=D.shapeArgs||{},Y=this.options.minPointLength,B=D.plotY,z=W.translate(D.high,0,1,0,1);if(T(z)&&T(B))if(D.plotHigh=_(z,-j,j),D.plotLow=_(B,-j,j),O=D.plotHigh,Math.abs(N=k(D.rectPlotY,D.plotY)-D.plotHigh)<Y?(C=Y-N,N+=C,O-=C/2):N<0&&(N*=-1,O-=N),G&&this.polar)L=D.barX+H,D.shapeType="arc",D.shapeArgs=this.polar.arc(O+N,O,L,L+D.pointWidth);else{M.height=N,M.y=O;let{x:q=0,width:V=0}=M;D.shapeArgs=E(D.shapeArgs,this.crispCol(q,O,V,N)),D.tooltipPos=$.inverted?[W.len+W.pos-$.plotLeft-O-N/2,X.len+X.pos-$.plotTop-q-V/2,N]:[X.left-$.plotLeft+q+V/2,W.pos-$.plotTop+O+N/2,N]}})}}return v.defaultOptions=E(f.defaultOptions,p.defaultOptions,{borderRadius:{where:"all"},pointRange:null,legendSymbol:"rectangle",marker:null,states:{hover:{halo:!1}}}),g(v,"afterColumnTranslate",function(){v.prototype.afterColumnTranslate.apply(this)},{order:5}),b(v.prototype,{directTouch:!0,pointClass:r,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:y.adjustForMissingColumns,animate:y.animate,crispCol:y.crispCol,drawGraph:h,drawPoints:y.drawPoints,getSymbol:h,drawTracker:y.drawTracker,getColumnMetrics:y.getColumnMetrics}),o.registerSeriesType("columnrange",v),v}),i(t,"Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js",[],function(){return{}}),i(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o){let{column:s}=a.seriesTypes,{clamp:h,merge:p,pick:f}=o;class y extends s{translate(){let _=this.chart,b=this.options,T=this.dense=this.closestPointRange*this.xAxis.transA<2,E=this.borderWidth=f(b.borderWidth,T?0:1),k=this.yAxis,v=b.threshold,w=f(b.minPointLength,5),N=this.getColumnMetrics(),C=N.width,L=this.pointXOffset=N.offset,O=this.translatedThreshold=k.getThreshold(v),W=this.barW=Math.max(C,1+2*E);for(let X of(_.inverted&&(O-=.5),b.pointPadding&&(W=Math.ceil(W)),super.translate(),this.points)){let H=f(X.yBottom,O),$=999+Math.abs(H),G=h(X.plotY,-$,k.len+$),j=W/2,D=Math.min(G,H),M=Math.max(G,H)-D,Y=X.plotX+L,B,z,q,V,te,ce,ie,se,Ce,pe,we;b.centerInCategory&&(Y=this.adjustForMissingColumns(Y,C,X,N)),X.barX=Y,X.pointWidth=C,X.tooltipPos=_.inverted?[k.len+k.pos-_.plotLeft-G,this.xAxis.len-Y-j,M]:[Y+j,G+k.pos-_.plotTop,M],B=v+(X.total||X.y),b.stacking==="percent"&&(B=v+(X.y<0)?-100:100);let K=k.toPixels(B,!0);q=(z=_.plotHeight-K-(_.plotHeight-O))?j*(D-K)/z:0,V=z?j*(D+M-K)/z:0,ce=Y-q+j,ie=Y+q+j,se=Y+V+j,Ce=Y-V+j,pe=D-w,we=D+M,X.y<0&&(pe=D,we=D+M+w),_.inverted&&(te=k.width-D,z=K-(k.width-O),q=j*(K-te)/z,V=j*(K-(te-M))/z,ie=(ce=Y+j+q)-2*q,se=Y-V+j,Ce=Y+V+j,pe=D,we=D+M-w,X.y<0&&(we=D+M+w)),X.shapeType="path",X.shapeArgs={x:ce,y:pe,width:ie-ce,height:M,d:[["M",ce,pe],["L",ie,pe],["L",se,we],["L",Ce,we],["Z"]]}}}}return y.defaultOptions=p(s.defaultOptions,r),a.registerSeriesType("columnpyramid",y),y}),i(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),i(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s,h){let{arearange:p}=s.seriesTypes,{addEvent:f,merge:y,extend:g}=h;class _ extends r{getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||a.prototype.getColumnMetrics.call(this)}drawDataLabels(){let T=this.pointValKey;if(p)for(let E of(p.prototype.drawDataLabels.call(this),this.points))E.y=E[T]}toYData(T){return[T.low,T.high]}}return _.defaultOptions=y(r.defaultOptions,o),f(_,"afterTranslate",function(){for(let b of this.points)b.plotLow=b.plotY},{order:0}),g(_.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),s.registerSeriesType("errorbar",_),_}),i(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){let{series:{prototype:{pointClass:a}}}=r;return class extends a{setState(o){this.state=o}}}),i(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{noop:h}=a,{series:p,seriesTypes:{column:f}}=o,{clamp:y,isNumber:g,extend:_,merge:b,pick:T,pInt:E,defined:k}=s;class v extends p{translate(){let N=this.yAxis,C=this.options,L=N.center;this.generatePoints(),this.points.forEach(O=>{let W=b(C.dial,O.dial),X=E(W.radius)*L[2]/200,H=E(W.baseLength)*X/100,$=E(W.rearLength)*X/100,G=W.baseWidth,j=W.topWidth,D=C.overshoot,M=N.startAngleRad+N.translate(O.y,void 0,void 0,void 0,!0);(g(D)||C.wrap===!1)&&(D=g(D)?D/180*Math.PI:0,M=y(M,N.startAngleRad-D,N.endAngleRad+D)),M=180*M/Math.PI,O.shapeType="path";let Y=W.path||[["M",-$,-G/2],["L",H,-G/2],["L",X,-j/2],["L",X,j/2],["L",H,G/2],["L",-$,G/2],["Z"]];O.shapeArgs={d:Y,translateX:L[0],translateY:L[1],rotation:M},O.plotX=L[0],O.plotY=L[1],k(O.y)&&N.max-N.min&&(O.percentage=(O.y-N.min)/(N.max-N.min)*100)})}drawPoints(){let N=this,C=N.chart,L=N.yAxis.center,O=N.pivot,W=N.options,X=W.pivot,H=C.renderer;N.points.forEach($=>{let G=$.graphic,j=$.shapeArgs,D=j.d,M=b(W.dial,$.dial);G?(G.animate(j),j.d=D):$.graphic=H[$.shapeType](j).addClass("highcharts-dial").add(N.group),C.styledMode||$.graphic[G?"animate":"attr"]({stroke:M.borderColor,"stroke-width":M.borderWidth,fill:M.backgroundColor})}),O?O.animate({translateX:L[0],translateY:L[1]}):X&&(N.pivot=H.circle(0,0,X.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(L[0],L[1]).add(N.group),C.styledMode||N.pivot.attr({fill:X.backgroundColor,stroke:X.borderColor,"stroke-width":X.borderWidth}))}animate(N){let C=this;N||C.points.forEach(L=>{let O=L.graphic;O&&(O.attr({rotation:180*C.yAxis.startAngleRad/Math.PI}),O.animate({rotation:L.shapeArgs.rotation},C.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),p.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(N,C){p.prototype.setData.call(this,N,!1),this.processData(),this.generatePoints(),T(C,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return v.defaultOptions=b(p.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),_(v.prototype,{angular:!0,directTouch:!0,drawGraph:h,drawTracker:f.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:r,trackerGroups:["group","dataLabelsGroup"]}),o.registerSeriesType("gauge",v),v}),i(t,"Series/DragNodesComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{composed:o}=r,{addEvent:s,pushUnique:h}=a;function p(){let f,y,g,_=this;_.container&&(f=s(_.container,"mousedown",b=>{let T=_.hoverPoint;T&&T.series&&T.series.hasDraggableNodes&&T.series.options.draggable&&(T.series.onMouseDown(T,b),y=s(_.container,"mousemove",E=>T&&T.series&&T.series.onMouseMove(T,E)),g=s(_.container.ownerDocument,"mouseup",E=>(y(),g(),T&&T.series&&T.series.onMouseUp(T,E))))})),s(_,"destroy",function(){f()})}return{compose:function(f){h(o,"DragNodes")&&s(f,"load",p)},onMouseDown:function(f,y){var _;let g=((_=this.chart.pointer)==null?void 0:_.normalize(y))||y;f.fixedPosition={chartX:g.chartX,chartY:g.chartY,plotX:f.plotX,plotY:f.plotY},f.inDragMode=!0},onMouseMove:function(f,y){var g;if(f.fixedPosition&&f.inDragMode){let _,b,T=this.chart,E=((g=T.pointer)==null?void 0:g.normalize(y))||y,k=f.fixedPosition.chartX-E.chartX,v=f.fixedPosition.chartY-E.chartY,w=T.graphLayoutsLookup;(Math.abs(k)>5||Math.abs(v)>5)&&(_=f.fixedPosition.plotX-k,b=f.fixedPosition.plotY-v,T.isInsidePlot(_,b)&&(f.plotX=_,f.plotY=b,f.hasDragged=!0,this.redrawHalo(f),w.forEach(N=>{N.restartSimulation()})))}},onMouseUp:function(f){f.fixedPosition&&(f.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),f.inDragMode=f.hasDragged=!1,this.options.fixedDraggable||delete f.fixedPosition)},redrawHalo:function(f){f&&this.halo&&this.halo.attr({d:f.haloPath(this.options.states.hover.halo.size)})}}}),i(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){let{setAnimation:s}=r,{composed:h}=a,{addEvent:p,pushUnique:f}=o;function y(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(T=>{T.updateSimulation()}),this.redraw())}function g(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(T=>{T.updateSimulation(!1)}),this.redraw())}function _(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(T=>{T.stop()})}function b(){let T,E=!1,k=v=>{v.maxIterations--&&isFinite(v.temperature)&&!v.isStable()&&!v.enableSimulation&&(v.beforeStep&&v.beforeStep(),v.step(),T=!1,E=!0)};if(this.graphLayoutsLookup){for(s(!1,this),this.graphLayoutsLookup.forEach(v=>v.start());!T;)T=!0,this.graphLayoutsLookup.forEach(k);E&&this.series.forEach(v=>{v&&v.layout&&v.render()})}}return{compose:function(T){f(h,"GraphLayout")&&(p(T,"afterPrint",y),p(T,"beforePrint",g),p(T,"predraw",_),p(T,"render",b))},integrations:{},layouts:{}}}),i(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],function(r,a,o){let{seriesTypes:{bubble:{prototype:{pointClass:s}}}}=o;return class extends s{destroy(){var h;return(h=this.series)!=null&&h.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),a.prototype.destroy.apply(this,arguments)}firePointEvent(){let h=this.series.options;if(this.isParentNode&&h.parentNode){let p=h.allowPointSelect;h.allowPointSelect=h.parentNode.allowPointSelect,a.prototype.firePointEvent.apply(this,arguments),h.allowPointSelect=p}else a.prototype.firePointEvent.apply(this,arguments)}select(){let h=this.series.chart;this.isParentNode?(h.getSelectedPoints=h.getSelectedParentNodes,a.prototype.select.apply(this,arguments),h.getSelectedPoints=r.prototype.getSelectedPoints):a.prototype.select.apply(this,arguments)}}}),i(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],function(r){let{isNumber:a}=r;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){let{numberFormatter:o}=this.series.chart,{value:s}=this.point;return a(s)?o(s,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),i(t,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(r,a,o){let s=r.getMass(),h=-o.x*a*this.diffTemperature,p=-o.y*a*this.diffTemperature;r.fromNode.fixedPosition||(r.fromNode.plotX-=h*s.fromNode/r.fromNode.degree,r.fromNode.plotY-=p*s.fromNode/r.fromNode.degree),r.toNode.fixedPosition||(r.toNode.plotX+=h*s.toNode/r.toNode.degree,r.toNode.plotY+=p*s.toNode/r.toNode.degree)},attractiveForceFunction:function(r,a){return(a-r)/r},barycenter:function(){let r=this.options.gravitationalConstant||0,a=(this.barycenter.xFactor-(this.box.left+this.box.width)/2)*r,o=(this.barycenter.yFactor-(this.box.top+this.box.height)/2)*r;this.nodes.forEach(function(s){s.fixedPosition||(s.plotX-=a/s.mass/s.degree,s.plotY-=o/s.mass/s.degree)})},getK:function(r){return Math.pow(r.box.width*r.box.height/r.nodes.length,.5)},integrate:function(r,a){let o=-r.options.friction,s=r.options.maxSpeed,h=a.prevX,p=a.prevY,f=(a.plotX+a.dispX-h)*o,y=(a.plotY+a.dispY-p)*o,g=Math.abs,_=g(f)/(f||1),b=g(y)/(y||1),T=_*Math.min(s,Math.abs(f)),E=b*Math.min(s,Math.abs(y));a.prevX=a.plotX+a.dispX,a.prevY=a.plotY+a.dispY,a.plotX+=T,a.plotY+=E,a.temperature=r.vectorLength({x:T,y:E})},repulsive:function(r,a,o){let s=a*this.diffTemperature/r.mass/r.degree;r.fixedPosition||(r.plotX+=o.x*s,r.plotY+=o.y*s)},repulsiveForceFunction:function(r,a){return(a-r)/r*(a>r?1:0)}}}),i(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(r,a){let{noop:o}=r;return{barycenter:function(){let s,h,p=this.options.gravitationalConstant,f=this.box,y=this.nodes;for(let g of y)this.options.splitSeries&&!g.isParentNode?(s=g.series.parentNode.plotX,h=g.series.parentNode.plotY):(s=f.width/2,h=f.height/2),g.fixedPosition||(g.plotX-=(g.plotX-s)*p/(g.mass*Math.sqrt(y.length)),g.plotY-=(g.plotY-h)*p/(g.mass*Math.sqrt(y.length)))},getK:o,integrate:a.integrate,repulsive:function(s,h,p,f){let y=h*this.diffTemperature/s.mass/s.degree,g=p.x*y,_=p.y*y;s.fixedPosition||(s.plotX+=g,s.plotY+=_),f.fixedPosition||(f.plotX-=g,f.plotY-=_)},repulsiveForceFunction:function(s,h,p,f){return Math.min(s,(p.marker.radius+f.marker.radius)/2)}}}),i(t,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(r,a,o,s){let h=r.getMass(),p=o.x/s*a,f=o.y/s*a;r.fromNode.fixedPosition||(r.fromNode.dispX-=p*h.fromNode/r.fromNode.degree,r.fromNode.dispY-=f*h.fromNode/r.fromNode.degree),r.toNode.fixedPosition||(r.toNode.dispX+=p*h.toNode/r.toNode.degree,r.toNode.dispY+=f*h.toNode/r.toNode.degree)},attractiveForceFunction:function(r,a){return r*r/a},barycenter:function(){let r=this.options.gravitationalConstant,a=this.barycenter.xFactor,o=this.barycenter.yFactor;this.nodes.forEach(function(s){if(!s.fixedPosition){let h=s.getDegree(),p=h*(1+h/2);s.dispX+=(a-s.plotX)*r*p/s.degree,s.dispY+=(o-s.plotY)*r*p/s.degree}})},getK:function(r){return Math.pow(r.box.width*r.box.height/r.nodes.length,.3)},integrate:function(r,a){a.dispX+=a.dispX*r.options.friction,a.dispY+=a.dispY*r.options.friction;let o=a.temperature=r.vectorLength({x:a.dispX,y:a.dispY});o!==0&&(a.plotX+=a.dispX/o*Math.min(Math.abs(a.dispX),r.temperature),a.plotY+=a.dispY/o*Math.min(Math.abs(a.dispY),r.temperature))},repulsive:function(r,a,o,s){r.dispX+=o.x/s*a/r.degree,r.dispY+=o.y/s*a/r.degree},repulsiveForceFunction:function(r,a){return a*a/r}}}),i(t,"Series/Networkgraph/QuadTreeNode.js",[],function(){class r{constructor(o){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=o,this.boxSize=Math.min(o.width,o.height)}divideBox(){let o=this.box.width/2,s=this.box.height/2;this.nodes[0]=new r({left:this.box.left,top:this.box.top,width:o,height:s}),this.nodes[1]=new r({left:this.box.left+o,top:this.box.top,width:o,height:s}),this.nodes[2]=new r({left:this.box.left+o,top:this.box.top+s,width:o,height:s}),this.nodes[3]=new r({left:this.box.left,top:this.box.top+s,width:o,height:s})}getBoxPosition(o){let s=o.plotX<this.box.left+this.box.width/2,h=o.plotY<this.box.top+this.box.height/2;return s?h?0:3:h?1:2}insert(o,s){let h;this.isInternal?this.nodes[this.getBoxPosition(o)].insert(o,s-1):(this.isEmpty=!1,this.body?s?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,s-1),this.body=!0),this.nodes[this.getBoxPosition(o)].insert(o,s-1)):((h=new r({top:o.plotX||NaN,left:o.plotY||NaN,width:.1,height:.1})).body=o,h.isInternal=!1,this.nodes.push(h)):(this.isInternal=!1,this.body=o))}updateMassAndCenter(){let o=0,s=0,h=0;if(this.isInternal){for(let p of this.nodes)p.isEmpty||(o+=p.mass,s+=p.plotX*p.mass,h+=p.plotY*p.mass);s/=o,h/=o}else this.body&&(o=this.body.mass,s=this.body.plotX,h=this.body.plotY);this.mass=o,this.plotX=s,this.plotY=h}}return r}),i(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],function(r){return class{constructor(a,o,s,h){this.box={left:a,top:o,width:s,height:h},this.maxDepth=25,this.root=new r(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(a){a.updateMassAndCenter()})}insertNodes(a){for(let o of a)this.root.insert(o,this.maxDepth)}visitNodeRecursive(a,o,s){let h;if(a||(a=this.root),a===this.root&&o&&(h=o(a)),h!==!1){for(let p of a.nodes){if(p.isInternal){if(o&&(h=o(p)),h===!1)continue;this.visitNodeRecursive(p,o,s)}else p.body&&o&&o(p.body);s&&s(p)}a===this.root&&s&&s(a)}}}}),i(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(r,a,o,s,h,p){let{win:f}=a,{clamp:y,defined:g,isFunction:_,fireEvent:b,pick:T}=h;class E{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(v){o.compose(v),o.integrations.euler=r,o.integrations.verlet=p,o.layouts["reingold-fruchterman"]=E}init(v){this.options=v,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=o.integrations[v.integration],this.enableSimulation=v.enableSimulation,this.attractiveForce=T(v.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=T(v.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=v.approximation}updateSimulation(v){this.enableSimulation=T(v,this.options.enableSimulation)}start(){let v=this.series,w=this.options;this.currentStep=0,this.forces=v[0]&&v[0].forces||[],this.chart=v[0]&&v[0].chart,this.initialRendering&&(this.initPositions(),v.forEach(function(N){N.finishedAnimating=!0,N.render()})),this.setK(),this.resetSimulation(w),this.enableSimulation&&this.step()}step(){let v=this.series;for(let w of(this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter()),this.forces||[]))this[w+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(let w of v)w.chart&&w.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&f.cancelAnimationFrame(this.simulation),this.simulation=f.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(w=>{b(w,"afterSimulation")}))}}stop(){this.simulation&&f.cancelAnimationFrame(this.simulation)}setArea(v,w,N,C){this.box={left:v,top:w,width:N,height:C}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(v,w){for(let N of v)w.indexOf(N)===-1&&w.push(N)}removeElementFromCollection(v,w){let N=w.indexOf(v);N!==-1&&w.splice(N,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(v){this.maxIterations=T(v,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(v){this.initialRendering=v}createQuadTree(){this.quadTree=new s(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){let v=this.options.initialPositions;if(_(v))for(let w of(v.call(this),this.nodes))g(w.prevX)||(w.prevX=w.plotX),g(w.prevY)||(w.prevY=w.plotY),w.dispX=0,w.dispY=0;else v==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){let v,w=this.box,N=this.nodes,C=2*Math.PI/(N.length+1),L=N.filter(function($){return $.linksTo.length===0}),O={},W=this.options.initialPositionRadius,X=$=>{for(let G of $.linksFrom||[])O[G.toNode.id]||(O[G.toNode.id]=!0,H.push(G.toNode),X(G.toNode))},H=[];for(let $ of L)H.push($),X($);if(H.length)for(let $ of N)H.indexOf($)===-1&&H.push($);else H=N;for(let $=0,G=H.length;$<G;++$)(v=H[$]).plotX=v.prevX=T(v.plotX,w.width/2+W*Math.cos($*C)),v.plotY=v.prevY=T(v.plotY,w.height/2+W*Math.sin($*C)),v.dispX=0,v.dispY=0}setRandomPositions(){let v,w=this.box,N=this.nodes,C=N.length+1,L=O=>{let W=O*O/Math.PI;return W-Math.floor(W)};for(let O=0,W=N.length;O<W;++O)(v=N[O]).plotX=v.prevX=T(v.plotX,w.width*L(O)),v.plotY=v.prevY=T(v.plotY,w.height*L(C+O)),v.dispX=0,v.dispY=0}force(v,...w){this.integration[v].apply(this,w)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let v=0,w=0,N=0;for(let C of this.nodes)w+=C.plotX*C.mass,N+=C.plotY*C.mass,v+=C.mass;return this.barycenter={x:w,y:N,xFactor:w/v,yFactor:N/v},this.barycenter}barnesHutApproximation(v,w){let N,C,L=this.getDistXY(v,w),O=this.vectorLength(L);return v!==w&&O!==0&&(w.isInternal?w.boxSize/O<this.options.theta&&O!==0?(C=this.repulsiveForce(O,this.k),this.force("repulsive",v,C*w.mass,L,O),N=!1):N=!0:(C=this.repulsiveForce(O,this.k),this.force("repulsive",v,C*w.mass,L,O))),N}repulsiveForces(){if(this.approximation==="barnes-hut")for(let v of this.nodes)this.quadTree.visitNodeRecursive(null,w=>this.barnesHutApproximation(v,w));else{let v,w,N;for(let C of this.nodes)for(let L of this.nodes)C===L||C.fixedPosition||(N=this.getDistXY(C,L),(w=this.vectorLength(N))!==0&&(v=this.repulsiveForce(w,this.k),this.force("repulsive",C,v*L.mass,N,w)))}}attractiveForces(){let v,w,N;for(let C of this.links)C.fromNode&&C.toNode&&(v=this.getDistXY(C.fromNode,C.toNode),(w=this.vectorLength(v))!==0&&(N=this.attractiveForce(w,this.k),this.force("attractive",C,N,v,w)))}applyLimits(){for(let v of this.nodes)v.fixedPosition||(this.integration.integrate(this,v),this.applyLimitBox(v,this.box),v.dispX=0,v.dispY=0)}applyLimitBox(v,w){let N=v.radius;v.plotX=y(v.plotX,w.left+N,w.width-N),v.plotY=y(v.plotY,w.top+N,w.height-N)}coolDown(v,w,N){return v-w*N}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||this.temperature<=0}getSystemTemperature(){let v=0;for(let w of this.nodes)v+=w.temperature;return v}vectorLength(v){return Math.sqrt(v.x*v.x+v.y*v.y)}getDistR(v,w){let N=this.getDistXY(v,w);return this.vectorLength(N)}getDistXY(v,w){let N=v.plotX-w.plotX,C=v.plotY-w.plotY;return{x:N,y:C,absX:Math.abs(N),absY:Math.abs(C)}}}return E}),i(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{addEvent:h,pick:p}=s;function f(){let _=this.series,b=[];return _.forEach(T=>{T.parentNode&&T.parentNode.selected&&b.push(T.parentNode)}),b}function y(){this.allDataPoints&&delete this.allDataPoints}class g extends o{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.series=[]}static compose(b){o.compose(b),r.integrations.packedbubble=a,r.layouts.packedbubble=g;let T=b.prototype;T.getSelectedParentNodes||(h(b,"beforeRedraw",y),T.getSelectedParentNodes=f)}beforeStep(){this.options.marker&&this.series.forEach(b=>{b&&b.calculateParentRadius()})}isStable(){let b=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&b<1e-5||this.temperature<=0}setCircularPositions(){let b=this.box,T=this.nodes,E=2*Math.PI/(T.length+1),k=this.options.initialPositionRadius,v,w,N=0;for(let C of T)this.options.splitSeries&&!C.isParentNode?(v=C.series.parentNode.plotX,w=C.series.parentNode.plotY):(v=b.width/2,w=b.height/2),C.plotX=C.prevX=p(C.plotX,v+k*Math.cos(C.index||N*E)),C.plotY=C.prevY=p(C.plotY,w+k*Math.sin(C.index||N*E)),C.dispX=0,C.dispY=0,N++}repulsiveForces(){let b,T,E,k=this,v=k.options.bubblePadding,w=k.nodes;w.forEach(N=>{N.degree=N.mass,N.neighbours=0,w.forEach(C=>{b=0,N!==C&&!N.fixedPosition&&(k.options.seriesInteraction||N.series===C.series)&&(E=k.getDistXY(N,C),(T=k.vectorLength(E)-(N.marker.radius+C.marker.radius+v))<0&&(N.degree+=.01,N.neighbours++,b=k.repulsiveForce(-T/Math.sqrt(N.neighbours),k.k,N,C)),k.force("repulsive",N,b*C.mass,E,C,T))})})}applyLimitBox(b,T){let E,k;this.options.splitSeries&&!b.isParentNode&&this.options.parentNodeLimit&&(E=this.getDistXY(b,b.series.parentNode),(k=b.series.parentNodeRadius-b.marker.radius-this.vectorLength(E))<0&&k>-2*b.marker.radius&&(b.plotX-=.01*E.x,b.plotY-=.01*E.y)),super.applyLimitBox(b,T)}}return r.layouts.packedbubble=g,g}),i(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(r,a){let{merge:o,syncTimeout:s}=r,{animObject:h}=a;return{initDataLabels:function(){let p=this.options.dataLabels;if(!this.dataLabelsGroup){let f=this.initDataLabelsGroup();return!this.chart.styledMode&&(p!=null&&p.style)&&f.css(p.style),f.attr({opacity:0}),this.visible&&f.show(),f}return this.dataLabelsGroup.attr(o({opacity:1},this.getPlotBox("data-labels"))),this.dataLabelsGroup},initDataLabelsDefer:function(){var f;let p=this.options.dataLabels;p!=null&&p.defer&&((f=this.options.layoutAlgorithm)!=null&&f.enableSimulation)?s(()=>{this.deferDataLabels=!1},p?h(p.animation).defer:0):this.deferDataLabels=!1}}}),i(t,"Extensions/TextPath.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{deg2rad:o}=r,{addEvent:s,merge:h,uniqueKey:p,defined:f,extend:y}=a;function g(T,E){E=h(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},E);let k=this.renderer.url,v=this.text||this,w=v.textPath,{attributes:N,enabled:C}=E;if(T=T||w&&w.path,w&&w.undo(),T&&C){let L=s(v,"afterModifyTree",O=>{if(T&&C){let W=T.attr("id");W||T.attr("id",W=p());let X={x:0,y:0};f(N.dx)&&(X.dx=N.dx,delete N.dx),f(N.dy)&&(X.dy=N.dy,delete N.dy),v.attr(X),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());let H=O.nodes.slice(0);O.nodes.length=0,O.nodes[0]={tagName:"textPath",attributes:y(N,{"text-anchor":N.textAnchor,href:`${k}#${W}`}),children:H}}});v.textPath={path:T,undo:L}}else v.attr({dx:0,dy:0}),delete v.textPath;return this.added&&(v.textCache="",this.renderer.buildText(v)),this}function _(T){var v;let E=T.bBox,k=(v=this.element)==null?void 0:v.querySelector("textPath");if(k){let w=[],{b:N,h:C}=this.renderer.fontMetrics(this.element),L=C-N,O=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),W=k.innerHTML.replace(O,"").split(/<tspan class="highcharts-br"[^>]*>/),X=W.length,H=($,G)=>{let{x:j,y:D}=G,M=(k.getRotationOfChar($)-90)*o,Y=Math.cos(M),B=Math.sin(M);return[[j-L*Y,D-L*B],[j+N*Y,D+N*B]]};for(let $=0,G=0;G<X;G++){let j=W[G].length;for(let D=0;D<j;D+=5)try{let M=$+D+G,[Y,B]=H(M,k.getStartPositionOfChar(M));D===0?(w.push(B),w.push(Y)):(G===0&&w.unshift(B),G===X-1&&w.push(Y))}catch{break}$+=j-1;try{let D=$+G,M=k.getEndPositionOfChar(D),[Y,B]=H(D,M);w.unshift(B),w.unshift(Y)}catch{break}}w.length&&w.push(w[0].slice()),E.polygon=w}return E}function b(T){var w;let E=T.labelOptions,k=T.point,v=E[k.formatPrefix+"TextPath"]||E.textPath;v&&!E.useHTML&&(this.setTextPath(((w=k.getDataLabelPath)==null?void 0:w.call(k,this))||k.graphic,v),k.dataLabelPath&&!v.enabled&&(k.dataLabelPath=k.dataLabelPath.destroy()))}return{compose:function(T){s(T,"afterGetBBox",_),s(T,"beforeAddingDataLabel",b);let E=T.prototype;E.setTextPath||(E.setTextPath=g)}}}),i(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Extensions/TextPath.js"]],function(r,a,o,s,h,p,f,y,g,_,b,T){let{parse:E}=r,{noop:k}=s,{series:{prototype:v},seriesTypes:{bubble:w}}=y,{initDataLabels:N,initDataLabelsDefer:C}=g,{addEvent:L,clamp:O,defined:W,extend:X,fireEvent:H,isArray:$,isNumber:G,merge:j,pick:D}=_;T.compose(b);class M extends w{constructor(){super(...arguments),this.parentNodeMass=0,this.deferDataLabels=!0}static compose(B,z,q){w.compose(B,z,q),a.compose(z),f.compose(z)}accumulateAllPoints(){let B,z=this.chart,q=[];for(let V of z.series)if(V.is("packedbubble")&&V.reserveSpace()){B=V.yData||[];for(let te=0;te<B.length;te++)q.push([null,null,B[te],V.index,te,{id:te,marker:{radius:0}}])}return q}addLayout(){let B=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},z=B.type||"packedbubble",q=this.chart.options.chart,V=this.chart.graphLayoutsStorage,te=this.chart.graphLayoutsLookup,ce;V||(this.chart.graphLayoutsStorage=V={},this.chart.graphLayoutsLookup=te=[]),(ce=V[z])||(B.enableSimulation=W(q.forExport)?!q.forExport:B.enableSimulation,V[z]=ce=new o.layouts[z],ce.init(B),te.splice(ce.index,0,ce)),this.layout=ce,this.points.forEach(ie=>{ie.mass=2,ie.degree=1,ie.collisionNmb=1}),ce.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),ce.addElementsToCollection([this],ce.series),ce.addElementsToCollection(this.points,ce.nodes)}addSeriesLayout(){let B=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},z=B.type||"packedbubble",q=this.chart.graphLayoutsStorage,V=this.chart.graphLayoutsLookup,te=j(B,B.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),ce=q[z+"-series"];ce||(q[z+"-series"]=ce=new o.layouts[z],ce.init(te),V.splice(ce.index,0,ce)),this.parentNodeLayout=ce,this.createParentNodes()}calculateParentRadius(){let B=this.seriesBox();this.parentNodeRadius=O(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,B?Math.max(Math.sqrt(Math.pow(B.width,2)+Math.pow(B.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let B=this.chart.series,z=this.options.zMin,q=this.options.zMax,V=1/0,te=-1/0;return z&&q?[z,q]:(B.forEach(ce=>{ce.yData.forEach(ie=>{W(ie)&&(ie>te&&(te=ie),ie<V&&(V=ie))})}),[z=D(z,V),q=D(q,te)])}checkOverlap(B,z){let q=B[0]-z[0],V=B[1]-z[1];return Math.sqrt(q*q+V*V)-Math.abs(B[2]+z[2])<-.001}createParentNodes(){let B=this.pointClass,z=this.chart,q=this.parentNodeLayout,V=this.layout.options,te,ce=this.parentNode,ie={radius:this.parentNodeRadius,lineColor:this.color,fillColor:E(this.color).brighten(.4).get()};V.parentNodeOptions&&(ie=j(V.parentNodeOptions.marker||{},ie)),this.parentNodeMass=0,this.points.forEach(se=>{this.parentNodeMass+=Math.PI*Math.pow(se.marker.radius,2)}),this.calculateParentRadius(),q.nodes.forEach(se=>{se.seriesIndex===this.index&&(te=!0)}),q.setArea(0,0,z.plotWidth,z.plotHeight),te||(ce||(ce=new B(this,{mass:this.parentNodeRadius/2,marker:ie,dataLabels:{inside:!1},states:{normal:{marker:ie},hover:{marker:ie}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(ce.plotX=this.parentNode.plotX,ce.plotY=this.parentNode.plotY),this.parentNode=ce,q.addElementsToCollection([this],q.series),q.addElementsToCollection([ce],q.nodes))}deferLayout(){let B=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),B.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(B=>{B.removeElementFromCollection(this,B.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),v.destroy.apply(this,arguments)}drawDataLabels(){!this.deferDataLabels&&(v.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",v.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){var te;if(!this.layout||!this.layout.options.splitSeries)return;let B=this.chart,z=this.layout.options.parentNodeOptions.marker,q={fill:z.fillColor||E(this.color).brighten(.4).get(),opacity:z.fillOpacity,stroke:z.lineColor||this.color,"stroke-width":D(z.lineWidth,this.options.lineWidth)},V={};this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,B.seriesGroup),(te=this.group)==null||te.attr({zIndex:2}),this.calculateParentRadius(),this.parentNode&&W(this.parentNode.plotX)&&W(this.parentNode.plotY)&&W(this.parentNodeRadius)&&(V=j({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},q),this.parentNode.graphic||(this.graph=this.parentNode.graphic=B.renderer.symbol(q.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(V))}drawTracker(){let B,z=this.parentNode;super.drawTracker(),z&&(B=$(z.dataLabels)?z.dataLabels:z.dataLabel?[z.dataLabel]:[],z.graphic&&(z.graphic.element.point=z),B.forEach(q=>{(q.div||q.element).point=z}))}getPointRadius(){let B,z,q,V,te=this.chart,ce=te.plotWidth,ie=te.plotHeight,se=this.options,Ce=se.useSimulation,pe=Math.min(ce,ie),we={},K=[],J=te.allDataPoints||[],ae=J.length;["minSize","maxSize"].forEach(Q=>{let re=parseInt(se[Q],10),le=/%$/.test(se[Q]);we[Q]=le?pe*re/100:re*Math.sqrt(ae)}),te.minRadius=B=we.minSize/Math.sqrt(ae),te.maxRadius=z=we.maxSize/Math.sqrt(ae);let ve=Ce?this.calculateZExtremes():[B,z];J.forEach((Q,re)=>{q=Ce?O(Q[2],ve[0],ve[1]):Q[2],(V=this.getRadius(ve[0],ve[1],B,z,q))===0&&(V=null),J[re][2]=V,K.push(V)}),this.radii=K}init(){return v.init.apply(this,arguments),C.call(this),this.eventsToUnbind.push(L(this,"updatedData",function(){this.chart.series.forEach(B=>{B.type===this.type&&(B.isDirty=!0)},this)})),this}onMouseUp(B){if(B.fixedPosition&&!B.removed){let z,q=this.layout,V=this.parentNodeLayout;V&&q.options.dragBetweenSeries&&V.nodes.forEach(te=>{B&&B.marker&&te!==B.series.parentNode&&(z=q.getDistXY(B,te),q.vectorLength(z)-te.marker.radius-B.marker.radius<0&&(te.series.addPoint(j(B.options,{plotX:B.plotX,plotY:B.plotY}),!1),q.removeElementFromCollection(B,q.nodes),B.remove()))}),a.onMouseUp.apply(this,arguments)}}placeBubbles(B){let z=this.checkOverlap,q=this.positionBubble,V=[],te=1,ce=0,ie=0,se,Ce=[],pe,we=B.sort((K,J)=>J[2]-K[2]);if(we.length){if(V.push([[0,0,we[0][2],we[0][3],we[0][4]]]),we.length>1)for(V.push([[0,0-we[1][2]-we[0][2],we[1][2],we[1][3],we[1][4]]]),pe=2;pe<we.length;pe++)we[pe][2]=we[pe][2]||1,z(se=q(V[te][ce],V[te-1][ie],we[pe]),V[te][0])?(V.push([]),ie=0,V[te+1].push(q(V[te][ce],V[te][0],we[pe])),te++,ce=0):te>1&&V[te-1][ie+1]&&z(se,V[te-1][ie+1])?(ie++,V[te].push(q(V[te][ce],V[te-1][ie],we[pe])),ce++):(ce++,V[te].push(se));this.chart.stages=V,this.chart.rawPositions=[].concat.apply([],V),this.resizeRadius(),Ce=this.chart.rawPositions}return Ce}pointAttribs(B,z){let q=this.options,V=B&&B.isParentNode,te=q.marker;V&&q.layoutAlgorithm&&q.layoutAlgorithm.parentNodeOptions&&(te=q.layoutAlgorithm.parentNodeOptions.marker);let ce=te.fillOpacity,ie=v.pointAttribs.call(this,B,z);return ce!==1&&(ie["fill-opacity"]=ce),ie}positionBubble(B,z,q){let V=Math.asin,te=Math.acos,ce=Math.pow,ie=Math.abs,se=(0,Math.sqrt)(ce(B[0]-z[0],2)+ce(B[1]-z[1],2)),Ce=te((ce(se,2)+ce(q[2]+z[2],2)-ce(q[2]+B[2],2))/(2*(q[2]+z[2])*se)),pe=V(ie(B[0]-z[0])/se),we=(B[1]-z[1]<0?0:Math.PI)+Ce+pe*((B[0]-z[0])*(B[1]-z[1])<0?1:-1),K=Math.cos(we),J=Math.sin(we);return[z[0]+(z[2]+q[2])*J,z[1]-(z[2]+q[2])*K,q[2],q[3],q[4]]}render(){let B=[];v.render.apply(this,arguments),!this.options.dataLabels.allowOverlap&&(this.data.forEach(z=>{$(z.dataLabels)&&z.dataLabels.forEach(q=>{B.push(q)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(B))}resizeRadius(){let B,z,q,V,te,ce=this.chart,ie=ce.rawPositions,se=Math.min,Ce=Math.max,pe=ce.plotLeft,we=ce.plotTop,K=ce.plotHeight,J=ce.plotWidth;for(let re of(B=q=Number.POSITIVE_INFINITY,z=V=Number.NEGATIVE_INFINITY,ie))te=re[2],B=se(B,re[0]-te),z=Ce(z,re[0]+te),q=se(q,re[1]-te),V=Ce(V,re[1]+te);let ae=[z-B,V-q],ve=[(J-pe)/ae[0],(K-we)/ae[1]],Q=se.apply([],ve);if(Math.abs(Q-1)>1e-10){for(let re of ie)re[2]*=Q;this.placeBubbles(ie)}else ce.diffY=K/2+we-q-(V-q)/2,ce.diffX=J/2+pe-B-(z-B)/2}seriesBox(){let B,z=this.chart,q=this.data,V=Math.max,te=Math.min,ce=[z.plotLeft,z.plotLeft+z.plotWidth,z.plotTop,z.plotTop+z.plotHeight];return q.forEach(ie=>{W(ie.plotX)&&W(ie.plotY)&&ie.marker.radius&&(B=ie.marker.radius,ce[0]=te(ce[0],ie.plotX-B),ce[1]=V(ce[1],ie.plotX+B),ce[2]=te(ce[2],ie.plotY-B),ce[3]=V(ce[3],ie.plotY+B))}),G(ce.width/ce.height)?ce:null}setVisible(){let B=this;v.setVisible.apply(B,arguments),B.parentNodeLayout&&B.graph?B.visible?(B.graph.show(),B.parentNode.dataLabel&&B.parentNode.dataLabel.show()):(B.graph.hide(),B.parentNodeLayout.removeElementFromCollection(B.parentNode,B.parentNodeLayout.nodes),B.parentNode.dataLabel&&B.parentNode.dataLabel.hide()):B.layout&&(B.visible?B.layout.addElementsToCollection(B.points,B.layout.nodes):B.points.forEach(z=>{B.layout.removeElementFromCollection(z,B.layout.nodes)}))}translate(){let B,z,q,V=this.chart,te=this.data,ce=this.index,ie=this.options.useSimulation;for(let se of(this.processedXData=this.xData,this.generatePoints(),W(V.allDataPoints)||(V.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),ie?q=V.allDataPoints:(q=this.placeBubbles(V.allDataPoints),this.options.draggable=!1),q))se[3]===ce&&(B=te[se[4]],z=D(se[2],void 0),ie||(B.plotX=se[0]-V.plotLeft+V.diffX,B.plotY=se[1]-V.plotTop+V.diffY),G(z)&&(B.marker=X(B.marker,{radius:z,width:2*z,height:2*z}),B.radius=z));ie&&this.deferLayout(),H(this,"afterTranslate")}}return M.defaultOptions=j(w.defaultOptions,p),X(M.prototype,{pointClass:h,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:N,alignDataLabel:v.alignDataLabel,indexateNodes:k,onMouseDown:a.onMouseDown,onMouseMove:a.onMouseMove,redrawHalo:a.redrawHalo,searchPoint:k}),y.registerSeriesType("packedbubble",M),M}),i(t,"Series/Polygon/PolygonSeriesDefaults.js",[],function(){return{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}}),i(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Series/Polygon/PolygonSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,a,o,s){let{noop:h}=r,{area:p,line:f,scatter:y}=o.seriesTypes,{extend:g,merge:_}=s;class b extends y{getGraphPath(){let E=f.prototype.getGraphPath.call(this),k=E.length+1;for(;k--;)(k===E.length||E[k][0]==="M")&&k>0&&E.splice(k,0,["Z"]);return this.areaPath=E,E}drawGraph(){this.options.fillColor=this.color,p.prototype.drawGraph.call(this)}}return b.defaultOptions=_(y.defaultOptions,a),g(b.prototype,{type:"polygon",drawTracker:f.prototype.drawTracker,setStackedPoints:h}),o.registerSeriesType("polygon",b),b}),i(t,"Core/Axis/RadialAxisDefaults.js",[],function(){return{circular:{gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},radial:{gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",padding:5,x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},radialGauge:{endOnTick:!1,gridLineWidth:0,labels:{align:"center",distance:-25,x:0,y:void 0},lineWidth:1,minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickPosition:"inside",tickWidth:2,title:{rotation:0,text:""},zIndex:2}}}),i(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/RadialAxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o,s){var h;let{defaultOptions:p}=a,{composed:f,noop:y}=o,{addEvent:g,correctFloat:_,defined:b,extend:T,fireEvent:E,isObject:k,merge:v,pick:w,pushUnique:N,relativeLength:C,wrap:L}=s;return function(O){function W(){this.autoConnect=this.isCircular&&w(this.userMax,this.options.max)===void 0&&_(this.endAngleRad-this.startAngleRad)===_(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function X(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(re=>this.ticks[re]&&this.ticks[re].label).filter(re=>!!re)}}function H(){return y}function $(re,le,fe){let xe=this.pane.center,Le=re.value,be,ke,Oe;return this.isCircular?(b(Le)?re.point&&(re.point.shapeArgs||{}).start&&(Le=this.chart.inverted?this.translate(re.point.rectPlotY,!0):re.point.x):(ke=re.chartX||0,Oe=re.chartY||0,Le=this.translate(Math.atan2(Oe-fe,ke-le)-this.startAngleRad,!0)),ke=(be=this.getPosition(Le)).x,Oe=be.y):(b(Le)||(ke=re.chartX,Oe=re.chartY),b(ke)&&b(Oe)&&(fe=xe[1]+this.chart.plotTop,Le=this.translate(Math.min(Math.sqrt(Math.pow(ke-le,2)+Math.pow(Oe-fe,2)),xe[2]/2)-xe[3]/2,!0))),[Le,ke||0,Oe||0]}function G(re,le,fe){let xe=this.pane.center,Le=this.chart,be=this.left||0,ke=this.top||0,Oe,Ue=w(le,xe[2]/2-this.offset),Xe;return fe===void 0&&(fe=this.horiz?0:this.center&&-this.center[3]/2),fe&&(Ue+=fe),this.isCircular||le!==void 0?((Xe=this.chart.renderer.symbols.arc(be+xe[0],ke+xe[1],Ue,Ue,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[be+xe[0]],Xe.yBounds=[ke+xe[1]-Ue]):(Oe=this.postTranslate(this.angleRad,Ue),Xe=[["M",this.center[0]+Le.plotLeft,this.center[1]+Le.plotTop],["L",Oe.x,Oe.y]]),Xe}function j(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function D(re,le,fe){let xe=this.chart,Le=$t=>{if(typeof $t=="string"){let mt=parseInt($t,10);return _e.test($t)&&(mt=mt*Oe/100),mt}return $t},be=this.center,ke=this.startAngleRad,Oe=be[2]/2,Ue=Math.min(this.offset,0),Xe=this.left||0,Pe=this.top||0,_e=/%$/,Ee=this.isCircular,Re,Me,ze,Ke,tt,st,ht=w(Le(fe.outerRadius),Oe),gt=Le(fe.innerRadius),Tt=w(Le(fe.thickness),10);if(this.options.gridLineInterpolation==="polygon")st=this.getPlotLinePath({value:re}).concat(this.getPlotLinePath({value:le,reverse:!0}));else{re=Math.max(re,this.min),le=Math.min(le,this.max);let $t=this.translate(re),mt=this.translate(le);Ee||(ht=$t||0,gt=mt||0),fe.shape!=="circle"&&Ee?(Re=ke+($t||0),Me=ke+(mt||0)):(Re=-Math.PI/2,Me=1.5*Math.PI,tt=!0),ht-=Ue,Tt-=Ue,st=xe.renderer.symbols.arc(Xe+be[0],Pe+be[1],ht,ht,{start:Math.min(Re,Me),end:Math.max(Re,Me),innerR:w(gt,ht-Tt),open:tt,borderRadius:fe.borderRadius}),Ee&&(ze=(Me+Re)/2,Ke=Xe+be[0]+be[2]/2*Math.cos(ze),st.xBounds=ze>-Math.PI/2&&ze<Math.PI/2?[Ke,xe.plotWidth]:[0,Ke],st.yBounds=[Pe+be[1]+be[2]/2*Math.sin(ze)],st.yBounds[0]+=ze>-Math.PI&&ze<0||ze>Math.PI?-10:10)}return st}function M(re){let le=this.pane.center,fe=this.chart,xe=fe.inverted,Le=re.reverse,be=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},ke=be.innerRadius||"0%",Oe=be.outerRadius||"100%",Ue=le[0]+fe.plotLeft,Xe=le[1]+fe.plotTop,Pe=this.height,_e=re.isCrosshair,Ee=le[3]/2,Re=re.value,Me,ze,Ke,tt,st,ht,gt,Tt,$t,mt=this.getPosition(Re),Ct=mt.x,St=mt.y;if(_e&&(Re=(Tt=this.getCrosshairPosition(re,Ue,Xe))[0],Ct=Tt[1],St=Tt[2]),this.isCircular)ze=Math.sqrt(Math.pow(Ct-Ue,2)+Math.pow(St-Xe,2)),Ke=typeof ke=="string"?C(ke,1):ke/ze,tt=typeof Oe=="string"?C(Oe,1):Oe/ze,le&&Ee&&(Ke<(Me=Ee/ze)&&(Ke=Me),tt<Me&&(tt=Me)),$t=[["M",Ue+Ke*(Ct-Ue),Xe-Ke*(Xe-St)],["L",Ct-(1-tt)*(Ct-Ue),St+(1-tt)*(Xe-St)]];else if((Re=this.translate(Re))&&(Re<0||Re>Pe)&&(Re=0),this.options.gridLineInterpolation==="circle")$t=this.getLinePath(0,Re,Ee);else if($t=[],fe[xe?"yAxis":"xAxis"].forEach(sn=>{sn.pane===this.pane&&(st=sn)}),st){gt=st.tickPositions,st.autoConnect&&(gt=gt.concat([gt[0]])),Le&&(gt=gt.slice().reverse()),Re&&(Re+=Ee);for(let sn=0;sn<gt.length;sn++)ht=st.getPosition(gt[sn],Re),$t.push(sn?["L",ht.x,ht.y]:["M",ht.x,ht.y])}return $t}function Y(re,le){let fe=this.translate(re);return this.postTranslate(this.isCircular?fe:this.angleRad,w(this.isCircular?le:fe<0?0:fe,this.center[2]/2)-this.offset)}function B(){let re=this.center,le=this.chart,fe=this.options.title;return{x:le.plotLeft+re[0]+(fe.x||0),y:le.plotTop+re[1]-{high:.5,middle:.25,low:0}[fe.align]*re[2]+(fe.y||0)}}function z(re){re.beforeSetTickPositions=W,re.createLabelCollector=X,re.getCrosshairPosition=$,re.getLinePath=G,re.getOffset=j,re.getPlotBandPath=D,re.getPlotLinePath=M,re.getPosition=Y,re.getTitlePosition=B,re.postTranslate=we,re.setAxisSize=J,re.setAxisTranslation=ae,re.setOptions=ve}function q(){let re=this.chart,le=this.options,fe=re.angular&&this.isXAxis,xe=this.pane,Le=xe&&xe.options;if(!fe&&xe&&(re.angular||re.polar)){let be=2*Math.PI,ke=(w(Le.startAngle,0)-90)*Math.PI/180,Oe=(w(Le.endAngle,w(Le.startAngle,0)+360)-90)*Math.PI/180;this.angleRad=(le.angle||0)*Math.PI/180,this.startAngleRad=ke,this.endAngleRad=Oe,this.offset=le.offset||0;let Ue=(ke%be+be)%be,Xe=(Oe%be+be)%be;Ue>Math.PI&&(Ue-=be),Xe>Math.PI&&(Xe-=be),this.normalizedStartAngleRad=Ue,this.normalizedEndAngleRad=Xe}}function V(re){this.isRadial&&(re.align=void 0,re.preventDefault())}function te(){if(this.chart&&this.chart.labelCollectors){let re=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;re>=0&&this.chart.labelCollectors.splice(re,1)}}function ce(re){let le,fe=this.chart,xe=fe.angular,Le=fe.polar,be=this.isXAxis,ke=this.coll,Oe=re.userOptions.pane||0,Ue=this.pane=fe.pane&&fe.pane[Oe];if(ke==="colorAxis"){this.isRadial=!1;return}xe?(xe&&be?(this.isHidden=!0,this.createLabelCollector=H,this.getOffset=y,this.redraw=K,this.render=K,this.setScale=y,this.setCategories=y,this.setTitle=y):z(this),le=!be):Le&&(z(this),le=this.horiz),xe||Le?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&fe.labelCollectors.push(this.labelCollector)):this.isRadial=!1,Ue&&le&&(Ue.axis=this),this.isCircular=le}function ie(){this.isRadial&&this.beforeSetTickPositions()}function se(re){let le=this.label;if(!le)return;let fe=this.axis,xe=le.getBBox(),Le=fe.options.labels,be=(fe.translate(this.pos)+fe.startAngleRad+Math.PI/2)/Math.PI*180%360,ke=Math.round(be),Oe=b(Le.y)?0:-(.3*xe.height),Ue=Le.y,Xe,Pe=20,_e=Le.align,Ee="end",Re=ke<0?ke+360:ke,Me=Re,ze=0,Ke=0;fe.isRadial&&(Xe=fe.getPosition(this.pos,fe.center[2]/2+C(w(Le.distance,-25),fe.center[2]/2,-fe.center[2]/2)),Le.rotation==="auto"?le.attr({rotation:be}):b(Ue)||(Ue=fe.chart.renderer.fontMetrics(le).b-xe.height/2),b(_e)||(fe.isCircular?(xe.width>fe.len*fe.tickInterval/(fe.max-fe.min)&&(Pe=0),_e=be>Pe&&be<180-Pe?"left":be>180+Pe&&be<360-Pe?"right":"center"):_e="center",le.attr({align:_e})),_e==="auto"&&fe.tickPositions.length===2&&fe.isCircular&&(Re>90&&Re<180?Re=180-Re:Re>270&&Re<=360&&(Re=540-Re),Me>180&&Me<=360&&(Me=360-Me),(fe.pane.options.startAngle===ke||fe.pane.options.startAngle===ke+360||fe.pane.options.startAngle===ke-360)&&(Ee="start"),_e=ke>=-90&&ke<=90||ke>=-360&&ke<=-270||ke>=270&&ke<=360?Ee==="start"?"right":"left":Ee==="start"?"left":"right",Me>70&&Me<110&&(_e="center"),Re<15||Re>=180&&Re<195?ze=.3*xe.height:Re>=15&&Re<=35?ze=Ee==="start"?0:.75*xe.height:Re>=195&&Re<=215?ze=Ee==="start"?.75*xe.height:0:Re>35&&Re<=90?ze=Ee==="start"?-(.25*xe.height):xe.height:Re>215&&Re<=270&&(ze=Ee==="start"?xe.height:-(.25*xe.height)),Me<15?Ke=Ee==="start"?-(.15*xe.height):.15*xe.height:Me>165&&Me<=180&&(Ke=Ee==="start"?.15*xe.height:-(.15*xe.height)),le.attr({align:_e}),le.translate(Ke,ze+Oe)),re.pos.x=Xe.x+(Le.x||0),re.pos.y=Xe.y+(Ue||0))}function Ce(re){this.axis.getPosition&&T(re.pos,this.axis.getPosition(this.pos))}function pe({options:re}){re.xAxis&&v(!0,O.radialDefaultOptions.circular,re.xAxis),re.yAxis&&v(!0,O.radialDefaultOptions.radialGauge,re.yAxis)}function we(re,le){let fe=this.chart,xe=this.center;return re=this.startAngleRad+re,{x:fe.plotLeft+xe[0]+Math.cos(re)*le,y:fe.plotTop+xe[1]+Math.sin(re)*le}}function K(){this.isDirty=!1}function J(){let re,le;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),re=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(le=this.postTranslate(this.angleRad,re[3]/2),re[0]=le.x-this.chart.plotLeft,re[1]=le.y-this.chart.plotTop),this.len=this.width=this.height=(re[2]-re[3])*w(this.sector,1)/2)}function ae(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)}function ve(re){let{coll:le}=this,{angular:fe,inverted:xe,polar:Le}=this.chart,be={};fe?this.isXAxis||(be=v(p.yAxis,O.radialDefaultOptions.radialGauge)):Le&&(be=this.horiz?v(p.xAxis,O.radialDefaultOptions.circular):v(le==="xAxis"?p.xAxis:p.yAxis,O.radialDefaultOptions.radial)),xe&&le==="yAxis"&&(be.stackLabels=k(p.yAxis,!0)?p.yAxis.stackLabels:{},be.reversedStacks=!0);let ke=this.options=v(be,re);ke.plotBands||(ke.plotBands=[]),E(this,"afterSetOptions")}function Q(re,le,fe,xe,Le,be,ke){let Oe,Ue=this.axis;return Ue.isRadial?["M",le,fe,"L",(Oe=Ue.getPosition(this.pos,Ue.center[2]/2+xe)).x,Oe.y]:re.call(this,le,fe,xe,Le,be,ke)}O.radialDefaultOptions=v(r),O.compose=function(re,le){return N(f,"Axis.Radial")&&(g(re,"afterInit",q),g(re,"autoLabelAlign",V),g(re,"destroy",te),g(re,"init",ce),g(re,"initialAxisTranslation",ie),g(le,"afterGetLabelPosition",se),g(le,"afterGetPosition",Ce),g(o,"setOptions",pe),L(le.prototype,"getMarkPath",Q)),re}}(h||(h={})),h}),i(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],function(r,a,o,s,h,p){let{animObject:f}=r,{composed:y}=a,{addEvent:g,defined:_,find:b,isNumber:T,merge:E,pick:k,pushUnique:v,relativeLength:w,splat:N,uniqueKey:C,wrap:L}=p;function O(){(this.pane||[]).forEach(pe=>{pe.render()})}function W(pe){let we=pe.args[0].xAxis,K=pe.args[0].yAxis,J=pe.args[0].chart;we&&K&&(K.gridLineInterpolation==="polygon"?(we.startOnTick=!0,we.endOnTick=!0):we.gridLineInterpolation==="polygon"&&J.inverted&&(K.startOnTick=!0,K.endOnTick=!0))}function X(){this.pane||(this.pane=[]),this.options.pane=N(this.options.pane),this.options.pane.forEach(pe=>{new s(pe,this)},this)}function H(pe){let we=pe.args.marker,K=this.chart.xAxis[0],J=this.chart.yAxis[0],ae=this.chart.inverted,ve=ae?J:K,Q=ae?K:J;if(this.chart.polar){pe.preventDefault();let re=(we.attr?we.attr("start"):we.start)-ve.startAngleRad,le=we.attr?we.attr("r"):we.r,fe=(we.attr?we.attr("end"):we.end)-ve.startAngleRad,xe=we.attr?we.attr("innerR"):we.innerR;pe.result.x=re+ve.pos,pe.result.width=fe-re,pe.result.y=Q.len+Q.pos-le,pe.result.height=le-xe}}function $(pe){let we=this.chart;if(we.polar&&we.hoverPane&&we.hoverPane.axis){pe.preventDefault();let K=we.hoverPane.center,J=we.mouseDownX||0,ae=we.mouseDownY||0,ve=pe.args.chartY,Q=pe.args.chartX,re=2*Math.PI,le=we.hoverPane.axis.startAngleRad,fe=we.hoverPane.axis.endAngleRad,xe=we.inverted?we.xAxis[0]:we.yAxis[0],Le={},be="arc";if(Le.x=K[0]+we.plotLeft,Le.y=K[1]+we.plotTop,this.zoomHor){let ke=le>0?fe-le:Math.abs(le)+Math.abs(fe),Oe=Math.atan2(ae-we.plotTop-K[1],J-we.plotLeft-K[0])-le,Ue=Math.atan2(ve-we.plotTop-K[1],Q-we.plotLeft-K[0])-le;Le.r=K[2]/2,Le.innerR=K[3]/2,Oe<=0&&(Oe+=re),Ue<=0&&(Ue+=re),Ue<Oe&&(Ue=[Oe,Oe=Ue][0]),ke<re&&le+Ue>fe+(re-ke)/2&&(Ue=Oe,Oe=le<=0?le:0);let Xe=Le.start=Math.max(Oe+le,le),Pe=Le.end=Math.min(Ue+le,fe);if(xe.options.gridLineInterpolation==="polygon"){let _e=we.hoverPane.axis,Ee=Xe-_e.startAngleRad+_e.pos,Re=xe.getPlotLinePath({value:xe.max}),Me=_e.toValue(Ee),ze=_e.toValue(Ee+(Pe-Xe));if(Me<_e.getExtremes().min){let{min:Ke,max:tt}=_e.getExtremes();Me=tt-(Ke-Me)}if(ze<_e.getExtremes().min){let{min:Ke,max:tt}=_e.getExtremes();ze=tt-(Ke-ze)}ze<Me&&(ze=[Me,Me=ze][0]),(Re=M(Re,Me,ze,_e)).push(["L",K[0]+we.plotLeft,we.plotTop+K[1]]),Le.d=Re,be="path"}}if(this.zoomVert){let ke=we.inverted?we.xAxis[0]:we.yAxis[0],Oe=Math.sqrt(Math.pow(J-we.plotLeft-K[0],2)+Math.pow(ae-we.plotTop-K[1],2)),Ue=Math.sqrt(Math.pow(Q-we.plotLeft-K[0],2)+Math.pow(ve-we.plotTop-K[1],2));if(Ue<Oe&&(Oe=[Ue,Ue=Oe][0]),Ue>K[2]/2&&(Ue=K[2]/2),Oe<K[3]/2&&(Oe=K[3]/2),this.zoomHor||(Le.start=le,Le.end=fe),Le.r=Ue,Le.innerR=Oe,ke.options.gridLineInterpolation==="polygon"){let Xe=ke.toValue(ke.len+ke.pos-Oe),Pe=ke.toValue(ke.len+ke.pos-Ue),_e=ke.getPlotLinePath({value:Pe}).concat(ke.getPlotLinePath({value:Xe,reverse:!0}));Le.d=_e,be="path"}}if(this.zoomHor&&this.zoomVert&&xe.options.gridLineInterpolation==="polygon"){let ke=we.hoverPane.axis,Oe=Le.start||0,Ue=Le.end||0,Xe=Oe-ke.startAngleRad+ke.pos,Pe=ke.toValue(Xe),_e=ke.toValue(Xe+(Ue-Oe));if(Le.d instanceof Array){let Ee=Le.d.slice(0,Le.d.length/2),Re=Le.d.slice(Le.d.length/2,Le.d.length);Re=[...Re].reverse();let Me=we.hoverPane.axis;Ee=M(Ee,Pe,_e,Me),(Re=M(Re,Pe,_e,Me))&&(Re[0][0]="L"),Re=[...Re].reverse(),Le.d=Ee.concat(Re),be="path"}}pe.attrs=Le,pe.shapeType=be}}function G(){let pe=this.chart;pe.polar&&(this.polar=new Ce(this),pe.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function j(){if(this.chart.polar&&this.xAxis){let{xAxis:pe,yAxis:we}=this,K=this.chart;this.kdByAngle=K.tooltip&&K.tooltip.shared,this.kdByAngle||K.inverted?this.searchPoint=D:this.options.findNearestPointBy="xy";let J=this.points,ae=J.length;for(;ae--;)this.is("column")||this.is("columnrange")||this.polar.toXY(J[ae]),K.hasParallelCoordinates||this.yAxis.reversed||(k(J[ae].y,Number.MIN_VALUE)<we.min||J[ae].x<pe.min||J[ae].x>pe.max?(J[ae].isNull=!0,J[ae].plotY=NaN):J[ae].isNull=J[ae].isValid&&!J[ae].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(g(this,"afterRender",function(){let ve;K.polar&&this.options.clip!==!1&&(ve=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:ve[0],y:ve[1],r:ve[2]/2,innerR:ve[3]/2}):this.clipCircle=function(Q,re,le,fe,xe){let Le=C(),be=Q.createElement("clipPath").attr({id:Le}).add(Q.defs),ke=xe?Q.arc(re,le,fe,xe,0,2*Math.PI).add(be):Q.circle(re,le,fe).add(be);return ke.id=Le,ke.clipPath=be,ke}(K.renderer,ve[0],ve[1],ve[2]/2,ve[3]/2),this.group.clip(this.clipCircle),this.setClip=a.noop)})))}}function D(pe){let we=this.chart,K=this.xAxis,J=this.yAxis,ae=K.pane&&K.pane.center,ve=pe.chartX-(ae&&ae[0]||0)-we.plotLeft,Q=pe.chartY-(ae&&ae[1]||0)-we.plotTop,re=we.inverted?{clientX:pe.chartX-J.pos,plotY:pe.chartY-K.pos}:{clientX:180+-180/Math.PI*Math.atan2(ve,Q)};return this.searchKDTree(re)}function M(pe,we,K,J){let ae=J.tickInterval,ve=J.tickPositions,Q=b(ve,le=>le>=K),re=b([...ve].reverse(),le=>le<=we);return _(Q)||(Q=ve[ve.length-1]),_(re)||(re=ve[0],Q+=ae,pe[0][0]="L",pe.unshift(pe[pe.length-3])),(pe=pe.slice(ve.indexOf(re),ve.indexOf(Q)+1))[0][0]="M",pe}function Y(pe,we){return b(this.pane||[],K=>K.options.id===we)||pe.call(this,we)}function B(pe,we,K,J,ae,ve){let Q,re,le,fe=this.chart,xe=k(J.inside,!!this.options.stacking);if(fe.polar){if(Q=we.rectPlotX/Math.PI*180,fe.inverted)this.forceDL=fe.isInsidePlot(we.plotX,we.plotY),xe&&we.shapeArgs?(re=we.shapeArgs,ae=E(ae,{x:(le=this.yAxis.postTranslate(((re.start||0)+(re.end||0))/2-this.xAxis.startAngleRad,we.barX+we.pointWidth/2)).x-fe.plotLeft,y:le.y-fe.plotTop})):we.tooltipPos&&(ae=E(ae,{x:we.tooltipPos[0],y:we.tooltipPos[1]})),J.align=k(J.align,"center"),J.verticalAlign=k(J.verticalAlign,"middle");else{var Le;let be,ke;(Le=J).align===null&&(be=Q>20&&Q<160?"left":Q>200&&Q<340?"right":"center",Le.align=be),Le.verticalAlign===null&&(ke=Q<45||Q>315?"bottom":Q>135&&Q<225?"top":"middle",Le.verticalAlign=ke),J=Le}o.prototype.alignDataLabel.call(this,we,K,J,ae,ve),this.isRadialBar&&we.shapeArgs&&we.shapeArgs.start===we.shapeArgs.end?K.hide():K.show()}else pe.call(this,we,K,J,ae,ve)}function z(){let pe=this.options,we=pe.stacking,K=this.chart,J=this.xAxis,ae=this.yAxis,ve=ae.reversed,Q=ae.center,re=J.startAngleRad,le=J.endAngleRad-re,fe=pe.threshold,xe=0,Le,be,ke,Oe,Ue,Xe=0,Pe=0,_e,Ee,Re,Me,ze,Ke,tt,st;if(J.isRadial)for(ke=(Le=this.points).length,Oe=ae.translate(ae.min),Ue=ae.translate(ae.max),fe=pe.threshold||0,K.inverted&&T(fe)&&_(xe=ae.translate(fe))&&(xe<0?xe=0:xe>le&&(xe=le),this.translatedThreshold=xe+re);ke--;){if(Ke=(be=Le[ke]).barX,Ee=be.x,Re=be.y,be.shapeType="arc",K.inverted){be.plotY=ae.translate(Re),we&&ae.stacking?(ze=ae.stacking.stacks[(Re<0?"-":"")+this.stackKey],this.visible&&ze&&ze[Ee]&&!be.isNull&&(Me=ze[Ee].points[this.getStackIndicator(void 0,Ee,this.index).key],Xe=ae.translate(Me[0]),Pe=ae.translate(Me[1]),_(Xe)&&(Xe=p.clamp(Xe,0,le)))):(Xe=xe,Pe=be.plotY),Xe>Pe&&(Pe=[Xe,Xe=Pe][0]),ve?Pe>Oe?Pe=Oe:Xe<Ue?Xe=Ue:(Xe>Oe||Pe<Ue)&&(Xe=Pe=le):Xe<Oe?Xe=Oe:Pe>Ue?Pe=Ue:(Pe<Oe||Xe>Ue)&&(Xe=Pe=0),ae.min>ae.max&&(Xe=Pe=ve?le:0),Xe+=re,Pe+=re,Q&&(be.barX=Ke+=Q[3]/2),tt=Math.max(Ke,0),st=Math.max(Ke+be.pointWidth,0);let ht=pe.borderRadius,gt=w((typeof ht=="object"?ht.radius:ht)||0,st-tt);be.shapeArgs={x:Q[0],y:Q[1],r:st,innerR:tt,start:Xe,end:Pe,borderRadius:gt},be.opacity=Xe===Pe?0:void 0,be.plotY=(_(this.translatedThreshold)&&(Xe<this.translatedThreshold?Xe:Pe))-re}else Xe=Ke+re,be.shapeArgs=this.polar.arc(be.yBottom,be.plotY,Xe,Xe+be.pointWidth),be.shapeArgs.borderRadius=0;this.polar.toXY(be),K.inverted?(_e=ae.postTranslate(be.rectPlotY,Ke+be.pointWidth/2),be.tooltipPos=[_e.x-K.plotLeft,_e.y-K.plotTop]):be.tooltipPos=[be.plotX,be.plotY],Q&&(be.ttBelow=be.plotY>Q[1])}}function q(pe,we){let K,J,ae=this;if(this.chart.polar){we=we||this.points;for(let Q=0;Q<we.length;Q++)if(!we[Q].isNull){K=Q;break}this.options.connectEnds!==!1&&K!==void 0&&(this.connectEnds=!0,we.splice(we.length,0,we[K]),J=!0),we.forEach(Q=>{Q.polarPlotY===void 0&&ae.polar.toXY(Q)})}let ve=pe.apply(this,[].slice.call(arguments,1));return J&&we.pop(),ve}function V(pe,we){let K=this.chart,J={xAxis:[],yAxis:[]};return K.polar?K.axes.forEach(ae=>{if(ae.coll==="colorAxis")return;let ve=ae.isXAxis,Q=ae.center,re=we.chartX-Q[0]-K.plotLeft,le=we.chartY-Q[1]-K.plotTop;J[ve?"xAxis":"yAxis"].push({axis:ae,value:ae.translate(ve?Math.PI-Math.atan2(re,le):Math.sqrt(Math.pow(re,2)+Math.pow(le,2)),!0)})}):J=pe.call(this,we),J}function te(pe,we){this.chart.polar||pe.call(this,we)}function ce(pe,we){let K=this,J=this.chart,ae=this.group,ve=this.markerGroup,Q=this.xAxis&&this.xAxis.center,re=J.plotLeft,le=J.plotTop,fe=this.options.animation,xe,Le,be,ke,Oe,Ue;J.polar?K.isRadialBar?we||(K.startAngleRad=k(K.translatedThreshold,K.xAxis.startAngleRad),a.seriesTypes.pie.prototype.animate.call(K,we)):(fe=f(fe),K.is("column")?we||(Le=Q[3]/2,K.points.forEach(Xe=>{be=Xe.graphic,Oe=(ke=Xe.shapeArgs)&&ke.r,Ue=ke&&ke.innerR,be&&ke&&(be.attr({r:Le,innerR:Le}),be.animate({r:Oe,innerR:Ue},K.options.animation))})):we?(xe={translateX:Q[0]+re,translateY:Q[1]+le,scaleX:.001,scaleY:.001},ae.attr(xe),ve&&ve.attr(xe)):(xe={translateX:re,translateY:le,scaleX:1,scaleY:1},ae.animate(xe,fe),ve&&ve.animate(xe,fe))):pe.call(this,we)}function ie(pe,we,K,J){let ae,ve;if(this.chart.polar)if(J){let Q=(ve=function le(fe,xe,Le,be){let ke,Oe,Ue,Xe,Pe,_e,Ee=be?1:0,Re=(ke=xe>=0&&xe<=fe.length-1?xe:xe<0?fe.length-1+xe:0)-1<0?fe.length-(1+Ee):ke-1,Me=ke+1>fe.length-1?Ee:ke+1,ze=fe[Re],Ke=fe[Me],tt=ze.plotX,st=ze.plotY,ht=Ke.plotX,gt=Ke.plotY,Tt=fe[ke].plotX,$t=fe[ke].plotY;Oe=(1.5*Tt+tt)/2.5,Ue=(1.5*$t+st)/2.5,Xe=(1.5*Tt+ht)/2.5,Pe=(1.5*$t+gt)/2.5;let mt=Math.sqrt(Math.pow(Oe-Tt,2)+Math.pow(Ue-$t,2)),Ct=Math.sqrt(Math.pow(Xe-Tt,2)+Math.pow(Pe-$t,2)),St=Math.atan2(Ue-$t,Oe-Tt);_e=Math.PI/2+(St+Math.atan2(Pe-$t,Xe-Tt))/2,Math.abs(St-_e)>Math.PI/2&&(_e-=Math.PI),Oe=Tt+Math.cos(_e)*mt,Ue=$t+Math.sin(_e)*mt;let sn={rightContX:Xe=Tt+Math.cos(Math.PI+_e)*Ct,rightContY:Pe=$t+Math.sin(Math.PI+_e)*Ct,leftContX:Oe,leftContY:Ue,plotX:Tt,plotY:$t};return Le&&(sn.prevPointCont=le(fe,Re,!1,be)),sn}(we,J,!0,this.connectEnds)).prevPointCont&&ve.prevPointCont.rightContX,re=ve.prevPointCont&&ve.prevPointCont.rightContY;ae=["C",T(Q)?Q:ve.plotX,T(re)?re:ve.plotY,T(ve.leftContX)?ve.leftContX:ve.plotX,T(ve.leftContY)?ve.leftContY:ve.plotY,ve.plotX,ve.plotY]}else ae=["M",K.plotX,K.plotY];else ae=pe.call(this,we,K,J);return ae}function se(pe,we,K=this.plotY){if(!this.destroyed){let{plotX:J,series:ae}=this,{chart:ve}=ae;return ve.polar&&T(J)&&T(K)?[J+(we?ve.plotLeft:0),K+(we?ve.plotTop:0)]:pe.call(this,we,K)}}class Ce{static compose(we,K,J,ae,ve,Q,re,le,fe,xe){if(s.compose(K,J),h.compose(we,ve),v(y,"Polar")){let Le=K.prototype,be=Q.prototype,ke=J.prototype,Oe=ae.prototype;if(g(K,"afterDrawChartBox",O),g(K,"getAxes",X),g(K,"init",W),L(Le,"get",Y),L(ke,"getCoordinates",V),L(ke,"pinch",te),g(J,"getSelectionMarkerAttrs",$),g(J,"getSelectionBox",H),g(ae,"afterInit",G),g(ae,"afterTranslate",j,{order:2}),g(ae,"afterColumnTranslate",z,{order:4}),L(Oe,"animate",ce),L(be,"pos",se),le){let Ue=le.prototype;L(Ue,"alignDataLabel",B),L(Ue,"animate",ce)}if(fe&&L(fe.prototype,"getGraphPath",q),xe){let Ue=xe.prototype;L(Ue,"getPointSpline",ie),re&&(re.prototype.getPointSpline=Ue.getPointSpline)}}}constructor(we){this.series=we}arc(we,K,J,ae){let ve=this.series,Q=ve.xAxis.center,re=ve.yAxis.len,le=Q[3]/2,fe=re-K+le,xe=re-k(we,re)+le;return ve.yAxis.reversed&&(fe<0&&(fe=le),xe<0&&(xe=le)),{x:Q[0],y:Q[1],r:fe,innerR:xe,start:J,end:ae}}toXY(we){let K=this.series,J=K.chart,ae=K.xAxis,ve=K.yAxis,Q=we.plotX,re=J.inverted,le=we.y,fe=we.plotY,xe=re?Q:ve.len-fe,Le;if(re&&K&&!K.isRadialBar&&(we.plotY=fe=T(le)?ve.translate(le):0),we.rectPlotX=Q,we.rectPlotY=fe,ve.center&&(xe+=ve.center[3]/2),T(fe)){let be=re?ve.postTranslate(fe,xe):ae.postTranslate(Q,xe);we.plotX=we.polarPlotX=be.x-J.plotLeft,we.plotY=we.polarPlotY=be.y-J.plotTop}K.kdByAngle?((Le=(Q/Math.PI*180+ae.pane.options.startAngle)%360)<0&&(Le+=360),we.clientX=Le):we.clientX=we.plotX}}return Ce}),i(t,"Core/Axis/WaterfallAxis.js",[t["Core/Globals.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(r,a,o){var s;let{composed:h}=r,{addEvent:p,objectEach:f,pushUnique:y}=o;return function(g){function _(){let v=this.waterfall.stacks;v&&(v.changed=!1,delete v.alreadyChanged)}function b(){let v=this.options.stackLabels;v&&v.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function T(){this.waterfall||(this.waterfall=new k(this))}function E(){let v=this.axes;for(let w of this.series)if(w.options.stacking){for(let N of v)N.isXAxis||(N.waterfall.stacks.changed=!0);break}}g.compose=function(v,w){y(h,"Axis.Waterfall")&&(p(v,"init",T),p(v,"afterBuildStacks",_),p(v,"afterRender",b),p(w,"beforeRedraw",E))};class k{constructor(w){this.axis=w,this.stacks={changed:!1}}renderStackTotals(){let w=this.axis,N=w.waterfall.stacks,C=w.stacking&&w.stacking.stackTotalGroup,L=new a(w,w.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=L,C&&f(N,O=>{f(O,(W,X)=>{L.total=W.stackTotal,L.x=+X,W.label&&(L.label=W.label),a.prototype.render.call(L,C),W.label=L.label,delete L.label})}),L.total=null}}g.Composition=k}(s||(s={})),s}),i(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(r,a,o){let{isNumber:s}=o;class h extends r.prototype.pointClass{getClassName(){let f=a.prototype.getClassName.call(this);return this.isSum?f+=" highcharts-sum":this.isIntermediateSum&&(f+=" highcharts-intermediate-sum"),f}isValid(){return s(this.y)||this.isSum||!!this.isIntermediateSum}}return h}),i(t,"Series/Waterfall/WaterfallSeriesDefaults.js",[],function(){return{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}}),i(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"],t["Series/Waterfall/WaterfallSeriesDefaults.js"]],function(r,a,o,s,h){let{column:p,line:f}=r.seriesTypes,{addEvent:y,arrayMax:g,arrayMin:_,correctFloat:b,crisp:T,extend:E,isNumber:k,merge:v,objectEach:w,pick:N}=a;function C(O,W){return Object.hasOwnProperty.call(O,W)}class L extends p{generatePoints(){p.prototype.generatePoints.apply(this);for(let W=0,X=this.points.length;W<X;W++){let H=this.points[W],$=this.processedYData[W];k($)&&(H.isIntermediateSum||H.isSum)&&(H.y=b($))}}processData(W){let X,H,$,G,j,D,M=this.options,Y=this.yData,B=M.data,z=Y.length,q=M.threshold||0;$=H=G=j=0;for(let V=0;V<z;V++)D=Y[V],X=B&&B[V]?B[V]:{},D==="sum"||X.isSum?Y[V]=b($):D==="intermediateSum"||X.isIntermediateSum?(Y[V]=b(H),H=0):($+=D,H+=D),G=Math.min($,G),j=Math.max($,j);super.processData.call(this,W),M.stacking||(this.dataMin=G+q,this.dataMax=j)}toYData(W){return W.isSum?"sum":W.isIntermediateSum?"intermediateSum":W.y}updateParallelArrays(W,X){super.updateParallelArrays.call(this,W,X),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(W,X){let H=this.options.upColor;H&&!W.options.color&&k(W.y)&&(W.color=W.y>0?H:void 0);let $=p.prototype.pointAttribs.call(this,W,X);return delete $.dashstyle,$}getGraphPath(){return[["M",0,0]]}getCrispPath(){var Y;let W=this.data.filter(B=>k(B.y)),X=this.yAxis,H=W.length,$=((Y=this.graph)==null?void 0:Y.strokeWidth())||0,G=this.xAxis.reversed,j=this.yAxis.reversed,D=this.options.stacking,M=[];for(let B=1;B<H;B++){if(!(this.options.connectNulls||k(this.data[W[B].index-1].y)))continue;let z=W[B].box,q=W[B-1],V=q.y||0,te=W[B-1].box;if(!z||!te)continue;let ce=X.waterfall.stacks[this.stackKey],ie=V>0?-te.height:0;if(ce&&te&&z){let se,Ce=ce[B-1];if(D){let pe=Ce.connectorThreshold;se=T(X.translate(pe,!1,!0,!1,!0)+(j?ie:0),$)}else se=T(te.y+(q.minPointLengthOffset||0),$);M.push(["M",(te.x||0)+(G?0:te.width||0),se],["L",(z.x||0)+(G&&z.width||0),se])}if(te&&M.length&&(!D&&V<0&&!j||V>0&&j)){let se=M[M.length-2];se&&typeof se[2]=="number"&&(se[2]+=te.height||0);let Ce=M[M.length-1];Ce&&typeof Ce[2]=="number"&&(Ce[2]+=te.height||0)}}return M}drawGraph(){f.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(W){var ae;let X=this.options,H=(ae=W.waterfall)==null?void 0:ae.stacks,$=X.threshold||0,G=this.stackKey,j=this.xData,D=j.length,M=$,Y=M,B,z=0,q=0,V=0,te,ce,ie,se,Ce,pe,we,K,J=(ve,Q,re,le)=>{if(B){if(te)for(;re<te;re++)B.stackState[re]+=le;else B.stackState[0]=ve,te=B.stackState.length;B.stackState.push(B.stackState[te-1]+Q)}};if(W.stacking&&H&&this.reserveSpace()){K=H.changed,(we=H.alreadyChanged)&&0>we.indexOf(G)&&(K=!0),H[G]||(H[G]={});let ve=H[G];if(ve)for(let Q=0;Q<D;Q++)(!ve[pe=j[Q]]||K)&&(ve[pe]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:K&&ve[pe]?ve[pe].label:void 0}),B=ve[pe],(Ce=this.yData[Q])>=0?B.posTotal+=Ce:B.negTotal+=Ce,se=X.data[Q],ce=B.absolutePos=B.posTotal,ie=B.absoluteNeg=B.negTotal,B.stackTotal=ce+ie,te=B.stackState.length,se&&se.isIntermediateSum?(J(V,q,0,V),V=q,q=$,M^=Y,Y^=M,M^=Y):se&&se.isSum?(J($,z,te,0),M=$):(J(M,Ce,0,z),se&&(z+=Ce,q+=Ce)),B.stateIndex++,B.threshold=M,M+=B.stackTotal;H.changed=!1,H.alreadyChanged||(H.alreadyChanged=[]),H.alreadyChanged.push(G)}}getExtremes(){let W,X,H,$=this.options.stacking;return $?(W=this.yAxis.waterfall.stacks,X=this.stackedYNeg=[],H=this.stackedYPos=[],$==="overlap"?w(W[this.stackKey],function(G){X.push(_(G.stackState)),H.push(g(G.stackState))}):w(W[this.stackKey],function(G){X.push(G.negTotal+G.threshold),H.push(G.posTotal+G.threshold)}),{dataMin:_(X),dataMax:g(H)}):{dataMin:this.dataMin,dataMax:this.dataMax}}}return L.defaultOptions=v(p.defaultOptions,h),L.compose=o.compose,E(L.prototype,{pointValKey:"y",showLine:!0,pointClass:s}),y(L,"afterColumnTranslate",function(){let{options:O,points:W,yAxis:X}=this,H=N(O.minPointLength,5),$=H/2,G=O.threshold||0,j=O.stacking,D=X.waterfall.stacks[this.stackKey],M=G,Y=G,B,z,q,V;for(let te=0;te<W.length;te++){let ce=W[te],ie=this.processedYData[te],se=E({x:0,y:0,width:0,height:0},ce.shapeArgs||{});ce.box=se;let Ce=[0,ie],pe=ce.y||0;if(j){if(D){let J=D[te];j==="overlap"?(z=J.stackState[J.stateIndex--],B=pe>=0?z:z-pe,C(J,"absolutePos")&&delete J.absolutePos,C(J,"absoluteNeg")&&delete J.absoluteNeg):(pe>=0?(z=J.threshold+J.posTotal,J.posTotal-=pe,B=z):(z=J.threshold+J.negTotal,J.negTotal-=pe,B=z-pe),!J.posTotal&&k(J.absolutePos)&&C(J,"absolutePos")&&(J.posTotal=J.absolutePos,delete J.absolutePos),!J.negTotal&&k(J.absoluteNeg)&&C(J,"absoluteNeg")&&(J.negTotal=J.absoluteNeg,delete J.absoluteNeg)),ce.isSum||(J.connectorThreshold=J.threshold+J.stackTotal),X.reversed?(q=pe>=0?B-pe:B+pe,V=B):(q=B,V=B-pe),ce.below=q<=G,se.y=X.translate(q,!1,!0,!1,!0),se.height=Math.abs(se.y-X.translate(V,!1,!0,!1,!0));let ae=X.waterfall.dummyStackItem;ae&&(ae.x=te,ae.label=D[te].label,ae.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[te],this.stackedYPos[te],void 0,this.xAxis))}}else B=Math.max(Y,Y+pe)+Ce[0],se.y=X.translate(B,!1,!0,!1,!0),ce.isSum?(se.y=X.translate(Ce[1],!1,!0,!1,!0),se.height=Math.min(X.translate(Ce[0],!1,!0,!1,!0),X.len)-se.y,ce.below=Ce[1]<=G):ce.isIntermediateSum?(pe>=0?(q=Ce[1]+M,V=M):(q=M,V=Ce[1]+M),X.reversed&&(q^=V,V^=q,q^=V),se.y=X.translate(q,!1,!0,!1,!0),se.height=Math.abs(se.y-Math.min(X.translate(V,!1,!0,!1,!0),X.len)),M+=Ce[1],ce.below=q<=G):(se.height=ie>0?X.translate(Y,!1,!0,!1,!0)-se.y:X.translate(Y,!1,!0,!1,!0)-X.translate(Y-ie,!1,!0,!1,!0),Y+=ie,ce.below=Y<G),se.height<0&&(se.y+=se.height,se.height*=-1);ce.plotY=se.y,ce.yBottom=se.y+se.height,se.height<=H&&!ce.isNull?(se.height=H,se.y-=$,ce.yBottom=se.y+se.height,ce.plotY=se.y,pe<0?ce.minPointLengthOffset=-$:ce.minPointLengthOffset=$):(ce.isNull&&(se.width=0),ce.minPointLengthOffset=0);let we=ce.plotY+(ce.negative?se.height:0);ce.below&&(ce.plotY+=se.height),ce.tooltipPos&&(this.chart.inverted?ce.tooltipPos[0]=X.len-we:ce.tooltipPos[1]=we),ce.isInside=this.isPointInside(ce);let K=T(ce.yBottom,this.borderWidth);se.y=T(se.y,this.borderWidth),se.height=K-se.y,v(!0,ce.shapeArgs,se)}},{order:2}),r.registerSeriesType("waterfall",L),L}),i(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Extensions/Pane/Pane.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"],t["Core/Axis/RadialAxis.js"],t["Series/Waterfall/WaterfallSeries.js"]],function(r,a,o,s,h,p,f,y){return r.RadialAxis=f,s.compose(r.Axis,r.Chart,r.Legend),h.compose(r.Axis,r.Chart,r.Legend),o.compose(r.Chart,r.Pointer),p.compose(r.Axis,r.Chart,r.Pointer,r.Series,r.Tick,r.Point,a.seriesTypes.areasplinerange,a.seriesTypes.column,a.seriesTypes.line,a.seriesTypes.spline),y.compose(r.Axis,r.Chart),r})})})(aA);var t4=aA.exports;const n4=Kl(t4);var sA={exports:{}};(function(n){(function(e){n.exports?(e.default=e,n.exports=e):e(typeof Highcharts<"u"?Highcharts:void 0)})(function(e){var t=e?e._modules:{};function i(r,a,o,s){r.hasOwnProperty(a)||(r[a]=s.apply(null,o),typeof CustomEvent=="function"&&e.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:a,module:r[a]}})))}i(t,"Core/Chart/ChartNavigationComposition.js",[],function(){var r;return function(a){a.compose=function(s){return s.navigation||(s.navigation=new o(s)),s};class o{constructor(h){this.updates=[],this.chart=h}addUpdate(h){this.chart.navigation.updates.push(h)}update(h,p){this.updates.forEach(f=>{f.call(this.chart,h,p)})}}a.Additions=o}(r||(r={})),r}),i(t,"Extensions/Exporting/ExportingDefaults.js",[t["Core/Globals.js"]],function(r){let{isTouchDevice:a}=r;return{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG"]}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",padding:5,stroke:"none","stroke-linecap":"round"}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:a?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}}),i(t,"Extensions/Exporting/ExportingSymbols.js",[],function(){var r;return function(a){let o=[];function s(p,f,y,g){return[["M",p,f+2.5],["L",p+y,f+2.5],["M",p,f+g/2+.5],["L",p+y,f+g/2+.5],["M",p,f+g-1.5],["L",p+y,f+g-1.5]]}function h(p,f,y,g){let _=g/3-2;return[].concat(this.circle(y-_,f,_,_),this.circle(y-_,f+_+4,_,_),this.circle(y-_,f+2*(_+4),_,_))}a.compose=function(p){if(o.indexOf(p)===-1){o.push(p);let f=p.prototype.symbols;f.menu=s,f.menuball=h.bind(f)}}}(r||(r={})),r}),i(t,"Extensions/Exporting/Fullscreen.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a,o){let{composed:s}=a,{addEvent:h,fireEvent:p,pushUnique:f}=o;function y(){this.fullscreen=new g(this)}class g{static compose(b){f(s,"Fullscreen")&&h(b,"beforeRender",y)}constructor(b){this.chart=b,this.isOpen=!1;let T=b.renderTo;!this.browserProps&&(typeof T.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:T.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:T.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:T.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){let b=this,T=b.chart,E=T.options.chart;p(T,"fullscreenClose",null,function(){b.isOpen&&b.browserProps&&T.container.ownerDocument instanceof Document&&T.container.ownerDocument[b.browserProps.exitFullscreen](),b.unbindFullscreenEvent&&(b.unbindFullscreenEvent=b.unbindFullscreenEvent()),T.setSize(b.origWidth,b.origHeight,!1),b.origWidth=void 0,b.origHeight=void 0,E.width=b.origWidthOption,E.height=b.origHeightOption,b.origWidthOption=void 0,b.origHeightOption=void 0,b.isOpen=!1,b.setButtonText()})}open(){let b=this,T=b.chart,E=T.options.chart;p(T,"fullscreenOpen",null,function(){if(E&&(b.origWidthOption=E.width,b.origHeightOption=E.height),b.origWidth=T.chartWidth,b.origHeight=T.chartHeight,b.browserProps){let k=h(T.container.ownerDocument,b.browserProps.fullscreenChange,function(){b.isOpen?(b.isOpen=!1,b.close()):(T.setSize(null,null,!1),b.isOpen=!0,b.setButtonText())}),v=h(T,"destroy",k);b.unbindFullscreenEvent=()=>{k(),v()};let w=T.renderTo[b.browserProps.requestFullscreen]();w&&w.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){let b=this.chart,T=b.exportDivElements,E=b.options.exporting,k=E&&E.buttons&&E.buttons.contextButton.menuItems,v=b.options.lang;if(E&&E.menuItemDefinitions&&v&&v.exitFullscreen&&v.viewFullscreen&&k&&T){let w=T[k.indexOf("viewFullscreen")];w&&r.setElementHTML(w,this.isOpen?v.exitFullscreen:E.menuItemDefinitions.viewFullscreen.text||v.viewFullscreen)}}toggle(){this.isOpen?this.close():this.open()}}return g}),i(t,"Core/HttpUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,a){let{win:o}=r,{discardElement:s,objectEach:h}=a,p={ajax:function(f){let y={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},g=new XMLHttpRequest;function _(b,T){f.error&&f.error(b,T)}if(!f.url)return!1;g.open((f.type||"get").toUpperCase(),f.url,!0),f.headers&&f.headers["Content-Type"]||g.setRequestHeader("Content-Type",y[f.dataType||"json"]||y.text),h(f.headers,function(b,T){g.setRequestHeader(T,b)}),f.responseType&&(g.responseType=f.responseType),g.onreadystatechange=function(){let b;if(g.readyState===4){if(g.status===200){if(f.responseType!=="blob"&&(b=g.responseText,f.dataType==="json"))try{b=JSON.parse(b)}catch(T){if(T instanceof Error)return _(g,T)}return f.success&&f.success(b,g)}_(g,g.responseText)}},f.data&&typeof f.data!="string"&&(f.data=JSON.stringify(f.data)),g.send(f.data)},getJSON:function(f,y){p.ajax({url:f,success:y,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(f,y,g){let _=new o.FormData;h(y,function(E,k){_.append(k,E)}),_.append("b64","true");let{filename:b,type:T}=y;return o.fetch(f,{method:"POST",body:_,...g}).then(E=>{E.ok&&E.text().then(k=>{let v=document.createElement("a");v.href=`data:${T};base64,${k}`,v.download=b,v.click(),s(v)})})}};return p}),i(t,"Extensions/Exporting/Exporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Extensions/Exporting/ExportingDefaults.js"],t["Extensions/Exporting/ExportingSymbols.js"],t["Extensions/Exporting/Fullscreen.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Core/Utilities.js"]],function(r,a,o,s,h,p,f,y,g,_){var b;let{defaultOptions:T}=s,{doc:E,SVG_NS:k,win:v}=y,{addEvent:w,css:N,createElement:C,discardElement:L,extend:O,find:W,fireEvent:X,isObject:H,merge:$,objectEach:G,pick:j,removeEvent:D,uniqueKey:M}=_;return function(Y){let B,z=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/^(cssRules|ownerRules)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^\d+$/],q=["fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","textAnchor","x","y"];Y.inlineAllowlist=[];let V=["clipPath","defs","desc"];function te(be){let ke,Oe,Ue=this,Xe=Ue.renderer,Pe=$(Ue.options.navigation.buttonOptions,be),_e=Pe.onclick,Ee=Pe.menuItems,Re=Pe.symbolSize||12;if(Ue.btnCount||(Ue.btnCount=0),Ue.exportDivElements||(Ue.exportDivElements=[],Ue.exportSVGElements=[]),Pe.enabled===!1||!Pe.theme)return;let Me=Ue.styledMode?{}:Pe.theme;_e?Oe=function(Ke){Ke&&Ke.stopPropagation(),_e.call(Ue,Ke)}:Ee&&(Oe=function(Ke){Ke&&Ke.stopPropagation(),Ue.contextMenu(ze.menuClassName,Ee,ze.translateX||0,ze.translateY||0,ze.width||0,ze.height||0,ze),ze.setState(2)}),Pe.text&&Pe.symbol?Me.paddingLeft=j(Me.paddingLeft,30):Pe.text||O(Me,{width:Pe.width,height:Pe.height,padding:0});let ze=Xe.button(Pe.text,0,0,Oe,Me,void 0,void 0,void 0,void 0,Pe.useHTML).addClass(be.className).attr({title:j(Ue.options.lang[Pe._titleKey||Pe.titleKey],"")});ze.menuClassName=be.menuClassName||"highcharts-menu-"+Ue.btnCount++,Pe.symbol&&(ke=Xe.symbol(Pe.symbol,Math.round((Pe.symbolX||0)-Re/2),Math.round((Pe.symbolY||0)-Re/2),Re,Re,{width:Re,height:Re}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(ze),Ue.styledMode||ke.attr({stroke:Pe.symbolStroke,fill:Pe.symbolFill,"stroke-width":Pe.symbolStrokeWidth||1})),ze.add(Ue.exportingGroup).align(O(Pe,{width:ze.width,x:j(Pe.x,Ue.buttonOffset)}),!0,"spacingBox"),Ue.buttonOffset+=((ze.width||0)+Pe.buttonSpacing)*(Pe.align==="right"?-1:1),Ue.exportSVGElements.push(ze,ke)}function ce(){if(!this.printReverseInfo)return;let{childNodes:be,origDisplay:ke,resetParams:Oe}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(be,function(Ue,Xe){Ue.nodeType===1&&(Ue.style.display=ke[Xe]||"")}),this.isPrinting=!1,Oe&&this.setSize.apply(this,Oe),delete this.printReverseInfo,B=void 0,X(this,"afterPrint")}function ie(){var Ue;let be=E.body,ke=this.options.exporting.printMaxWidth,Oe={childNodes:be.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,(Ue=this.pointer)==null||Ue.reset(void 0,0),X(this,"beforePrint"),ke&&this.chartWidth>ke&&(Oe.resetParams=[this.options.chart.width,void 0,!1],this.setSize(ke,void 0,!1)),[].forEach.call(Oe.childNodes,function(Xe,Pe){Xe.nodeType===1&&(Oe.origDisplay[Pe]=Xe.style.display,Xe.style.display="none")}),this.moveContainers(be),this.printReverseInfo=Oe}function se(be){be.renderExporting(),w(be,"redraw",be.renderExporting),w(be,"destroy",be.destroyExport)}function Ce(be,ke,Oe,Ue,Xe,Pe,_e){var Tt,$t;let Ee=this,Re=Ee.options.navigation,Me=Ee.chartWidth,ze=Ee.chartHeight,Ke="cache-"+be,tt=Math.max(Xe,Pe),st,ht=Ee[Ke];ht||(Ee.exportContextMenu=Ee[Ke]=ht=C("div",{className:be},{position:"absolute",zIndex:1e3,padding:tt+"px",pointerEvents:"auto",...Ee.renderer.style},((Tt=Ee.scrollablePlotArea)==null?void 0:Tt.fixedDiv)||Ee.container),st=C("ul",{className:"highcharts-menu"},Ee.styledMode?{}:{listStyle:"none",margin:0,padding:0},ht),Ee.styledMode||N(st,O({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},Re.menuStyle)),ht.hideMenu=function(){N(ht,{display:"none"}),_e&&_e.setState(0),Ee.openMenu=!1,N(Ee.renderTo,{overflow:"hidden"}),N(Ee.container,{overflow:"hidden"}),_.clearTimeout(ht.hideTimer),X(Ee,"exportMenuHidden")},Ee.exportEvents.push(w(ht,"mouseleave",function(){ht.hideTimer=v.setTimeout(ht.hideMenu,500)}),w(ht,"mouseenter",function(){_.clearTimeout(ht.hideTimer)}),w(E,"mouseup",function(mt){var Ct;(Ct=Ee.pointer)!=null&&Ct.inClass(mt.target,be)||ht.hideMenu()}),w(ht,"click",function(){Ee.openMenu&&ht.hideMenu()})),ke.forEach(function(mt){if(typeof mt=="string"&&(mt=Ee.options.exporting.menuItemDefinitions[mt]),H(mt,!0)){let Ct;mt.separator?Ct=C("hr",void 0,void 0,st):(mt.textKey==="viewData"&&Ee.isDataTableVisible&&(mt.textKey="hideData"),Ct=C("li",{className:"highcharts-menu-item",onclick:function(St){St&&St.stopPropagation(),ht.hideMenu(),typeof mt!="string"&&mt.onclick&&mt.onclick.apply(Ee,arguments)}},void 0,st),r.setElementHTML(Ct,mt.text||Ee.options.lang[mt.textKey]),Ee.styledMode||(Ct.onmouseover=function(){N(this,Re.menuItemHoverStyle)},Ct.onmouseout=function(){N(this,Re.menuItemStyle)},N(Ct,O({cursor:"pointer"},Re.menuItemStyle||{})))),Ee.exportDivElements.push(Ct)}}),Ee.exportDivElements.push(st,ht),Ee.exportMenuWidth=ht.offsetWidth,Ee.exportMenuHeight=ht.offsetHeight);let gt={display:"block"};Oe+(Ee.exportMenuWidth||0)>Me?gt.right=Me-Oe-Xe-tt+"px":gt.left=Oe-tt+"px",Ue+Pe+(Ee.exportMenuHeight||0)>ze&&(($t=_e.alignOptions)==null?void 0:$t.verticalAlign)!=="top"?gt.bottom=ze-Ue-tt+"px":gt.top=Ue+Pe-tt+"px",N(ht,gt),N(Ee.renderTo,{overflow:""}),N(Ee.container,{overflow:""}),Ee.openMenu=!0,X(Ee,"exportMenuShown")}function pe(be){let ke,Oe=be?be.target:this,Ue=Oe.exportSVGElements,Xe=Oe.exportDivElements,Pe=Oe.exportEvents;Ue&&(Ue.forEach((_e,Ee)=>{_e&&(_e.onclick=_e.ontouchstart=null,Oe[ke="cache-"+_e.menuClassName]&&delete Oe[ke],Ue[Ee]=_e.destroy())}),Ue.length=0),Oe.exportingGroup&&(Oe.exportingGroup.destroy(),delete Oe.exportingGroup),Xe&&(Xe.forEach(function(_e,Ee){_e&&(_.clearTimeout(_e.hideTimer),D(_e,"mouseleave"),Xe[Ee]=_e.onmouseout=_e.onmouseover=_e.ontouchstart=_e.onclick=null,L(_e))}),Xe.length=0),Pe&&(Pe.forEach(function(_e){_e()}),Pe.length=0)}function we(be,ke){let Oe=this.getSVGForExport(be,ke);be=$(this.options.exporting,be),g.post(be.url,{filename:be.filename?be.filename.replace(/\//g,"-"):this.getFilename(),type:be.type,width:be.width,scale:be.scale,svg:Oe},be.fetchOptions)}function K(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function J(){let be=this.userOptions.title&&this.userOptions.title.text,ke=this.options.exporting.filename;return ke?ke.replace(/\//g,"-"):(typeof be=="string"&&(ke=be.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z\d\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!ke||ke.length<5)&&(ke="chart"),ke)}function ae(be){let ke,Oe,Ue=$(this.options,be);Ue.plotOptions=$(this.userOptions.plotOptions,be&&be.plotOptions),Ue.time=$(this.userOptions.time,be&&be.time);let Xe=C("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},E.body),Pe=this.renderTo.style.width,_e=this.renderTo.style.height,Ee=Ue.exporting.sourceWidth||Ue.chart.width||/px$/.test(Pe)&&parseInt(Pe,10)||(Ue.isGantt?800:600),Re=Ue.exporting.sourceHeight||Ue.chart.height||/px$/.test(_e)&&parseInt(_e,10)||400;O(Ue.chart,{animation:!1,renderTo:Xe,forExport:!0,renderer:"SVGRenderer",width:Ee,height:Re}),Ue.exporting.enabled=!1,delete Ue.data,Ue.series=[],this.series.forEach(function(Ke){(Oe=$(Ke.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:Ke.visible})).isInternal||Ue.series.push(Oe)});let Me={};this.axes.forEach(function(Ke){Ke.userOptions.internalKey||(Ke.userOptions.internalKey=M()),Ke.options.isInternal||(Me[Ke.coll]||(Me[Ke.coll]=!0,Ue[Ke.coll]=[]),Ue[Ke.coll].push($(Ke.userOptions,{visible:Ke.visible,type:Ke.type,uniqueNames:Ke.uniqueNames})))}),Ue.colorAxis=this.userOptions.colorAxis;let ze=new this.constructor(Ue,this.callback);return be&&["xAxis","yAxis","series"].forEach(function(Ke){let tt={};be[Ke]&&(tt[Ke]=be[Ke],ze.update(tt))}),this.axes.forEach(function(Ke){let tt=W(ze.axes,function(Tt){return Tt.options.internalKey===Ke.userOptions.internalKey}),st=Ke.getExtremes(),ht=st.userMin,gt=st.userMax;tt&&(ht!==void 0&&ht!==tt.min||gt!==void 0&&gt!==tt.max)&&tt.setExtremes(ht,gt,!0,!1)}),ke=ze.getChartHTML(),X(this,"getSVG",{chartCopy:ze}),ke=this.sanitizeSVG(ke,Ue),Ue=null,ze.destroy(),L(Xe),ke}function ve(be,ke){let Oe=this.options.exporting;return this.getSVG($({chart:{borderRadius:0}},Oe.chartOptions,ke,{exporting:{sourceWidth:be&&be.sourceWidth||Oe.sourceWidth,sourceHeight:be&&be.sourceHeight||Oe.sourceHeight}}))}function Q(){let be,ke=Y.inlineAllowlist,Oe={},Ue=E.createElement("iframe");N(Ue,{width:"1px",height:"1px",visibility:"hidden"}),E.body.appendChild(Ue);let Xe=Ue.contentWindow&&Ue.contentWindow.document;Xe&&Xe.body.appendChild(Xe.createElementNS(k,"svg")),function Pe(_e){let Ee,Re,Me,ze,Ke,tt,st={};if(Xe&&_e.nodeType===1&&V.indexOf(_e.nodeName)===-1){if(Ee=v.getComputedStyle(_e,null),Re=_e.nodeName==="svg"?{}:v.getComputedStyle(_e.parentNode,null),!Oe[_e.nodeName]){be=Xe.getElementsByTagName("svg")[0],Me=Xe.createElementNS(_e.namespaceURI,_e.nodeName),be.appendChild(Me);let ht=v.getComputedStyle(Me,null),gt={};for(let Tt in ht)Tt.length<1e3&&typeof ht[Tt]=="string"&&!/^\d+$/.test(Tt)&&(gt[Tt]=ht[Tt]);Oe[_e.nodeName]=gt,_e.nodeName==="text"&&delete Oe.text.fill,be.removeChild(Me)}for(let ht in Ee)(y.isFirefox||y.isMS||y.isSafari||Object.hasOwnProperty.call(Ee,ht))&&function(gt,Tt){if(ze=Ke=!1,ke.length){for(tt=ke.length;tt--&&!Ke;)Ke=ke[tt].test(Tt);ze=!Ke}for(Tt==="transform"&&gt==="none"&&(ze=!0),tt=z.length;tt--&&!ze;){if(Tt.length>1e3)throw Error("Input too long");ze=z[tt].test(Tt)||typeof gt=="function"}!ze&&(Re[Tt]!==gt||_e.nodeName==="svg")&&Oe[_e.nodeName][Tt]!==gt&&(q.indexOf(Tt)===-1?st[Tt]=gt:gt&&_e.setAttribute(Tt.replace(/[A-Z]/g,function($t){return"-"+$t.toLowerCase()}),gt))}(Ee[ht],ht);if(N(_e,st),_e.nodeName==="svg"&&_e.setAttribute("stroke-width","1px"),_e.nodeName==="text")return;[].forEach.call(_e.children||_e.childNodes,Pe)}}(this.container.querySelector("svg")),be.parentNode.removeChild(be),Ue.parentNode.removeChild(Ue)}function re(be){let{scrollablePlotArea:ke}=this;(ke?[ke.fixedDiv,ke.scrollingContainer]:[this.container]).forEach(function(Oe){be.appendChild(Oe)})}function le(){let be=this,ke=(Oe,Ue,Xe)=>{be.isDirtyExporting=!0,$(!0,be.options[Oe],Ue),j(Xe,!0)&&be.redraw()};be.exporting={update:function(Oe,Ue){ke("exporting",Oe,Ue)}},o.compose(be).navigation.addUpdate((Oe,Ue)=>{ke("navigation",Oe,Ue)})}function fe(){let be=this;be.isPrinting||(B=be,y.isSafari||be.beforePrint(),setTimeout(()=>{v.focus(),v.print(),y.isSafari||setTimeout(()=>{be.afterPrint()},1e3)},1))}function xe(){let be=this,ke=be.options.exporting,Oe=ke.buttons,Ue=be.isDirtyExporting||!be.exportSVGElements;be.buttonOffset=0,be.isDirtyExporting&&be.destroyExport(),Ue&&ke.enabled!==!1&&(be.exportEvents=[],be.exportingGroup=be.exportingGroup||be.renderer.g("exporting-group").attr({zIndex:3}).add(),G(Oe,function(Xe){be.addButton(Xe)}),be.isDirtyExporting=!1)}function Le(be,ke){let Oe=be.indexOf("</svg>")+6,Ue=be.substr(Oe);return be=be.substr(0,Oe),ke&&ke.exporting&&ke.exporting.allowHTML&&Ue&&(Ue='<foreignObject x="0" y="0" width="'+ke.chart.width+'" height="'+ke.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+Ue.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />")+"</body></foreignObject>",be=be.replace("</svg>",Ue+"</svg>")),be=be.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery\d+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;)\;?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS\d+\:)?href=/g," xlink:href=").replace(/\n+/g," ").replace(/(fill|stroke)="rgba\(([ \d]+,[ \d]+,[ \d]+),([ \d\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}Y.compose=function(be,ke){p.compose(ke),f.compose(be);let Oe=be.prototype;Oe.exportChart||(Oe.afterPrint=ce,Oe.exportChart=we,Oe.inlineStyles=Q,Oe.print=fe,Oe.sanitizeSVG=Le,Oe.getChartHTML=K,Oe.getSVG=ae,Oe.getSVGForExport=ve,Oe.getFilename=J,Oe.moveContainers=re,Oe.beforePrint=ie,Oe.contextMenu=Ce,Oe.addButton=te,Oe.destroyExport=pe,Oe.renderExporting=xe,Oe.callbacks.push(se),w(be,"init",le),y.isSafari&&v.matchMedia("print").addListener(function(Ue){B&&(Ue.matches?B.beforePrint():B.afterPrint())}),T.exporting=$(h.exporting,T.exporting),T.lang=$(h.lang,T.lang),T.navigation=$(h.navigation,T.navigation))}}(b||(b={})),b}),i(t,"masters/modules/exporting.src.js",[t["Core/Globals.js"],t["Extensions/Exporting/Exporting.js"],t["Core/HttpUtilities.js"]],function(r,a,o){return r.HttpUtilities=r.HttpUtilities||o,r.ajax=r.HttpUtilities.ajax,r.getJSON=r.HttpUtilities.getJSON,r.post=r.HttpUtilities.post,a.compose(r.Chart,r.Renderer),r})})})(sA);var i4=sA.exports;const r4=Kl(i4);var oA={exports:{}};(function(n,e){(function(t,i){n.exports=i(We)})(typeof self<"u"?self:bo,function(t){return function(i){function r(o){if(a[o])return a[o].exports;var s=a[o]={i:o,l:!1,exports:{}};return i[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var a={};return r.m=i,r.c=a,r.d=function(o,s,h){r.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:h})},r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,"a",s),s},r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},r.p="",r(r.s=0)}([function(i,r,a){function o(){return o=Object.assign?Object.assign.bind():function(v){for(var w=1;w<arguments.length;w++){var N=arguments[w];for(var C in N)Object.prototype.hasOwnProperty.call(N,C)&&(v[C]=N[C])}return v},o.apply(this,arguments)}function s(v){return y(v)||f(v)||p(v)||h()}function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(v,w){{if(typeof v=="string")return g(v,w);var N=Object.prototype.toString.call(v).slice(8,-1);return N==="Object"&&v.constructor&&(N=v.constructor.name),N==="Map"||N==="Set"?Array.from(v):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?g(v,w):void 0}}function f(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function y(v){if(Array.isArray(v))return g(v)}function g(v,w){(w==null||w>v.length)&&(w=v.length);for(var N=0,C=new Array(w);N<w;N++)C[N]=v[N];return C}function _(v){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}Object.defineProperty(r,"__esModule",{value:!0}),a.d(r,"HighchartsReact",function(){return k});var b=a(1),T=a.n(b),E=typeof window<"u"?b.useLayoutEffect:b.useEffect,k=Object(b.memo)(Object(b.forwardRef)(function(v,w){var N=Object(b.useRef)(),C=Object(b.useRef)(),L=Object(b.useRef)(v.constructorType),O=Object(b.useRef)(v.highcharts);return E(function(){function W(){var H=v.highcharts||(typeof window>"u"?"undefined":_(window))==="object"&&window.Highcharts,$=v.constructorType||"chart";H?H[$]?v.options?C.current=H[$](N.current,v.options,v.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(C.current){if(v.allowChartUpdate!==!1)if(v.constructorType!==L.current||v.highcharts!==O.current)L.current=v.constructorType,O.current=v.highcharts,W();else if(!v.immutable&&C.current){var X;(X=C.current).update.apply(X,[v.options].concat(s(v.updateArgs||[!0,!0])))}else W()}else W()},[v.options,v.allowChartUpdate,v.updateArgs,v.containerProps,v.highcharts,v.constructorType]),E(function(){return function(){C.current&&(C.current.destroy(),C.current=null)}},[]),Object(b.useImperativeHandle)(w,function(){return{get chart(){return C.current},container:N}},[]),T.a.createElement("div",o({},v.containerProps,{ref:N}))}));r.default=k},function(i,r){i.exports=t}])})})(oA);var a4=oA.exports;const lA=Kl(a4),s4="_chartContainer_1sr1q_1",o4="_chart_1sr1q_1",l4="_menu_1sr1q_10",Z_={chartContainer:s4,chart:o4,menu:l4},Jw=n=>[...new Set(n.map(e=>e.period))],cA=n=>[...new Set(n.map(e=>e.orgUnit))],c4=n=>[...new Set(n.map(e=>e.dataElement))],u4=(n,e)=>{var t;return(t=e.find(i=>i.orgUnit===n))==null?void 0:t.displayName},ST=n=>{const e=n.toString().slice(0,4),t=n.toString().slice(4,6),r=["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(t)-1];return r===void 0?String(n):`${r} ${e}`};e4(kp);r4(kp);n4(kp);const XE=(n,e)=>{kp.getOptions().colors;const t=n.filter(r=>r.dataElement==="median").map(r=>[r.period,r.value]),i=n.filter(r=>r.dataElement==="quantile_low").map(r=>[r.period,r.value,n.filter(a=>a.dataElement==="quantile_high"&&a.period===r.period)[0].value]);return{title:{text:dt.t(`Prediction for ${e} for ${n[0].displayName}`)},tooltip:{shared:!0},xAxis:{type:"category",labels:{enabled:!0,formatter:function(){return ST(this.value)},style:{fontSize:"0.9rem"}}},yAxis:{title:{text:"Number of cases"}},credits:{text:"CHAP"},chart:{height:490,marginBottom:125},plotOptions:{series:{lineWidth:5}},series:[{type:"line",data:t,name:dt.t("Quantile median"),color:"#004bbd",zIndex:2},{type:"arearange",name:dt.t("Range"),data:i,zIndex:1,lineWidth:0,color:"#004bbd",fillOpacity:.4}]}};function d4(n){return[...new Set(n.map(t=>t.orgUnit))].map(t=>n.filter(i=>i.orgUnit===t))}const h4=({data:n,predictionTargetName:e})=>{const t=d4(n.dataValues),[i,r]=We.useState(XE(t[0],e)),[a,o]=We.useState(0),s=h=>{o(h),r(XE(t[h],e))};return Se.createElement(Se.Fragment,null,Se.createElement("div",{className:Z_.chartContainer},Se.createElement("div",null,Se.createElement(hN,{dense:!0},t.map((h,p)=>Se.createElement($x,{className:Z_.menu,active:a==p,key:p,label:h[0].displayName,onClick:()=>s(p)})))),Se.createElement("div",{className:Z_.chart},Se.createElement(lA,{highcharts:kp,constructorType:"chart",options:i}))))};class ZE extends Error{constructor(e,t,i){super(i),this.name="ApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body,this.request=e}}var Nc=function(n,e,t,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(n,t):r?r.value=t:e.set(n,t),t},sr=function(n,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(n):i?i.value:e.get(n)},Eu,ku,Ic,Oh,Sm,Vg,Rh;class p4 extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}}class m4{constructor(e){Eu.set(this,void 0),ku.set(this,void 0),Ic.set(this,void 0),Oh.set(this,void 0),Sm.set(this,void 0),Vg.set(this,void 0),Rh.set(this,void 0),Nc(this,Eu,!1,"f"),Nc(this,ku,!1,"f"),Nc(this,Ic,!1,"f"),Nc(this,Oh,[],"f"),Nc(this,Sm,new Promise((t,i)=>{Nc(this,Vg,t,"f"),Nc(this,Rh,i,"f");const r=s=>{sr(this,Eu,"f")||sr(this,ku,"f")||sr(this,Ic,"f")||(Nc(this,Eu,!0,"f"),sr(this,Vg,"f")&&sr(this,Vg,"f").call(this,s))},a=s=>{sr(this,Eu,"f")||sr(this,ku,"f")||sr(this,Ic,"f")||(Nc(this,ku,!0,"f"),sr(this,Rh,"f")&&sr(this,Rh,"f").call(this,s))},o=s=>{sr(this,Eu,"f")||sr(this,ku,"f")||sr(this,Ic,"f")||sr(this,Oh,"f").push(s)};return Object.defineProperty(o,"isResolved",{get:()=>sr(this,Eu,"f")}),Object.defineProperty(o,"isRejected",{get:()=>sr(this,ku,"f")}),Object.defineProperty(o,"isCancelled",{get:()=>sr(this,Ic,"f")}),e(r,a,o)}),"f")}get[(Eu=new WeakMap,ku=new WeakMap,Ic=new WeakMap,Oh=new WeakMap,Sm=new WeakMap,Vg=new WeakMap,Rh=new WeakMap,Symbol.toStringTag)](){return"Cancellable Promise"}then(e,t){return sr(this,Sm,"f").then(e,t)}catch(e){return sr(this,Sm,"f").catch(e)}finally(e){return sr(this,Sm,"f").finally(e)}cancel(){if(!(sr(this,Eu,"f")||sr(this,ku,"f")||sr(this,Ic,"f"))){if(Nc(this,Ic,!0,"f"),sr(this,Oh,"f").length)try{for(const e of sr(this,Oh,"f"))e()}catch(e){console.warn("Cancellation threw an error",e);return}sr(this,Oh,"f").length=0,sr(this,Rh,"f")&&sr(this,Rh,"f").call(this,new p4("Request aborted"))}}get isCancelled(){return sr(this,Ic,"f")}}const mo={BASE:"/v1",VERSION:"0.1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};var KE;(function(n){n.WEEK="week",n.MONTH="month",n.ANY="any",n.YEAR="year"})(KE||(KE={}));const CT=n=>n!=null,ev=n=>typeof n=="string",K_=n=>ev(n)&&n!=="",ET=n=>typeof n=="object"&&typeof n.type=="string"&&typeof n.stream=="function"&&typeof n.arrayBuffer=="function"&&typeof n.constructor=="function"&&typeof n.constructor.name=="string"&&/^(Blob|File)$/.test(n.constructor.name)&&/^(Blob|File)$/.test(n[Symbol.toStringTag]),uA=n=>n instanceof FormData,f4=n=>{try{return btoa(n)}catch{return Buffer.from(n).toString("base64")}},g4=n=>{const e=[],t=(r,a)=>{e.push(`${encodeURIComponent(r)}=${encodeURIComponent(String(a))}`)},i=(r,a)=>{CT(a)&&(Array.isArray(a)?a.forEach(o=>{i(r,o)}):typeof a=="object"?Object.entries(a).forEach(([o,s])=>{i(`${r}[${o}]`,s)}):t(r,a))};return Object.entries(n).forEach(([r,a])=>{i(r,a)}),e.length>0?`?${e.join("&")}`:""},y4=(n,e)=>{const t=encodeURI,i=e.url.replace("{api-version}",n.VERSION).replace(/{(.*?)}/g,(a,o)=>{var s;return(s=e.path)!=null&&s.hasOwnProperty(o)?t(String(e.path[o])):a}),r=`${n.BASE}${i}`;return e.query?`${r}${g4(e.query)}`:r},v4=n=>{if(n.formData){const e=new FormData,t=(i,r)=>{ev(r)||ET(r)?e.append(i,r):e.append(i,JSON.stringify(r))};return Object.entries(n.formData).filter(([i,r])=>CT(r)).forEach(([i,r])=>{Array.isArray(r)?r.forEach(a=>t(i,a)):t(i,r)}),e}},xx=async(n,e)=>e,x4=async(n,e)=>{const[t,i,r,a]=await Promise.all([xx(e,n.TOKEN),xx(e,n.USERNAME),xx(e,n.PASSWORD),xx(e,n.HEADERS)]),o=Object.entries({Accept:"application/json",...a,...e.headers}).filter(([s,h])=>CT(h)).reduce((s,[h,p])=>({...s,[h]:String(p)}),{});if(K_(t)&&(o.Authorization=`Bearer ${t}`),K_(i)&&K_(r)){const s=f4(`${i}:${r}`);o.Authorization=`Basic ${s}`}return e.body!==void 0&&(e.mediaType?o["Content-Type"]=e.mediaType:ET(e.body)?o["Content-Type"]=e.body.type||"application/octet-stream":ev(e.body)?o["Content-Type"]="text/plain":uA(e.body)||(o["Content-Type"]="application/json")),new Headers(o)},b4=n=>{var e;if(n.body!==void 0)return(e=n.mediaType)!=null&&e.includes("/json")?JSON.stringify(n.body):ev(n.body)||ET(n.body)||uA(n.body)?n.body:JSON.stringify(n.body)},_4=async(n,e,t,i,r,a,o)=>{const s=new AbortController,h={headers:a,body:i??r,method:e.method,signal:s.signal};return n.WITH_CREDENTIALS&&(h.credentials=n.CREDENTIALS),o(()=>s.abort()),await fetch(t,h)},w4=(n,e)=>{if(e){const t=n.headers.get(e);if(ev(t))return t}},T4=async n=>{if(n.status!==204)try{const e=n.headers.get("Content-Type");if(e)return["application/json","application/problem+json"].some(r=>e.toLowerCase().startsWith(r))?await n.json():await n.text()}catch(e){console.error(e)}},S4=(n,e)=>{const i={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...n.errors}[e.status];if(i)throw new ZE(n,e,i);if(!e.ok){const r=e.status??"unknown",a=e.statusText??"unknown",o=(()=>{try{return JSON.stringify(e.body,null,2)}catch{return}})();throw new ZE(n,e,`Generic Error: status: ${r}; status text: ${a}; body: ${o}`)}},rc=(n,e)=>new m4(async(t,i,r)=>{try{const a=y4(n,e),o=v4(e),s=b4(e),h=await x4(n,e);if(!r.isCancelled){const p=await _4(n,e,a,s,o,h,r),f=await T4(p),y=w4(p,e.responseHeader),g={url:a,ok:p.ok,status:p.status,statusText:p.statusText,body:y??f};S4(e,g),t(g.body)}}catch(a){i(a)}});class Uu{static faviconfaviconIcoGet(){return rc(mo,{method:"GET",url:"favicon.ico"})}static predictPredictPost(e){return rc(mo,{method:"POST",url:"/predict",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static evaluateEvaluatePost(e,t,i=1){return rc(mo,{method:"POST",url:"/evaluate",query:{n_splits:t,stride:i},body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static listModelsListModelsGet(){return rc(mo,{method:"GET",url:"/list-models"})}static getLogsJobsJobIdLogsGet(e,t){return rc(mo,{method:"GET",url:"/jobs/{job_id}/logs",path:{job_id:e},query:{n_lines:t},errors:{422:"Validation Error"}})}static listFeaturesListFeaturesGet(){return rc(mo,{method:"GET",url:"/list-features"})}static getResultsGetResultsGet(){return rc(mo,{method:"GET",url:"/get-results"})}static getEvaluationResultsGetEvaluationResultsGet(){return rc(mo,{method:"GET",url:"/get-evaluation-results"})}static getExceptionGetExceptionGet(){return rc(mo,{method:"GET",url:"/get-exception"})}static cancelCancelPost(){return rc(mo,{method:"POST",url:"/cancel"})}static getStatusStatusGet(){return rc(mo,{method:"GET",url:"/status"})}}function dA(n,e){const t=i=>{if(i.includes("W")){const[r,a]=i.split("W").map(Number),o=new Date(r,0,1),s=(a-1)*7;return new Date(o.setDate(o.getDate()+s))}else{const r=Number(i.slice(0,4)),a=Number(i.slice(4,6))-1;return new Date(r,a)}};return t(n).getTime()-t(e).getTime()}function C4(n,e){const t=n.periods[n.periods.length-1],i=e.map(y=>y.pe).filter(y=>y<=t).sort(dA).slice(-156),r=i.map(y=>{var g;return((g=e.find(_=>_.pe===y))==null?void 0:g.value)??null}),a=r.length-n.averages.length,o=r[a-1],s=Array(a-1).fill(null).concat([[o]]).concat(n.averages),h=Array(a-1).fill(null).concat([[o,o]]).concat(n.ranges),p=Array(a-1).fill(null).concat([[o,o]]).concat(n.midranges);return{periods:i.concat(n.periods),ranges:h,averages:s,realValues:r,midranges:p}}const E4=(n,e,t)=>{const i=Array.from(new Set(n.map(f=>f.quantile))).sort(),r=i[0],a=i[1],o=i[i.length-2],s=i[i.length-1],h=f=>f.quantile===r?"quantile_low":f.quantile===s?"quantile_high":f.quantile===.5?"median":f.quantile===a?"quantile_mid_low":f.quantile===o?"quantile_mid_high":"unknown",p=Array.from(new Set(n.map(f=>f.modelName||t)));return Array.from(new Set(n.map(f=>f.splitPeriod))).map(f=>({splitPoint:f,evaluation:Array.from(new Set(n.map(y=>y.orgUnit))).map(y=>({orgUnitName:y,orgUnitId:y,models:p.map(g=>{const _=k4(n.filter(T=>T.orgUnit===y&&T.splitPeriod===f&&((T==null?void 0:T.modelName)||t)===g),h),b=C4(_,e.filter(T=>T.ou===y));return{modelName:g,data:b}})}))}))};function k4(n,e){const t=Array.from(new Set(n.map(s=>s.period))).sort(dA),i=[],r=[],a=[];return t.forEach(s=>{var _,b,T,E,k;const h=((_=n.find(v=>v.period===s&&e(v)==="quantile_low"))==null?void 0:_.value)||0,p=((b=n.find(v=>v.period===s&&e(v)==="quantile_high"))==null?void 0:b.value)||0,f=((T=n.find(v=>v.period===s&&e(v)==="median"))==null?void 0:T.value)||0,y=((E=n.find(v=>v.period===s&&e(v)==="quantile_mid_high"))==null?void 0:E.value)||0,g=((k=n.find(v=>v.period===s&&e(v)==="quantile_mid_low"))==null?void 0:k.value)||0;i.push([h,p]),r.push([f]),a.push([g,y])}),{periods:t,ranges:i,averages:r,midranges:a}}function L4(n){return Array.from(new Set(n.map(e=>e.splitPeriod)))}function N4(n){kp.charts.forEach(e=>{console.log(e),e&&e.xAxis[0].setExtremes(n.min,n.max)})}const I4=n=>[{name:"Real Cases",data:n.realValues,zIndex:4,lineWidth:2.5,type:"spline",color:"#f68000",marker:{enabled:!1,lineWidth:2}},{name:"Predicted Cases",type:"line",color:"#004bbd",data:n.averages,zIndex:3,opacity:1,lineWidth:2.5,marker:{enabled:!1}},{name:"Quantiles",data:n.ranges,type:"arearange",lineWidth:0,color:"#c4dcf2",fillOpacity:1,zIndex:0,marker:{enabled:!1}},{name:"QuantilesMid",data:n.midranges,type:"arearange",lineWidth:1,color:"#9bbdff",fillOpacity:1,zIndex:1,marker:{enabled:!1}}],A4=(n,e,t)=>({title:{text:""},subtitle:{text:e?"Model: "+e:"",align:"left"},chart:{zoomType:"x"},xAxis:{categories:n.periods,events:t&&{afterSetExtremes:N4},title:{text:"Period"}},yAxis:{title:{text:null},min:0},tooltip:{crosshairs:!0,shared:!0,valueSuffix:" cases"},plotOptions:{series:{animation:{duration:0}}},series:I4(n)}),P4=({data:n,modelName:e,syncZoom:t})=>{const[i,r]=We.useState(!1);return We.useEffect(()=>{console.log(n),r(!0)},[n]),We.useEffect(()=>{i&&r(!1)},[i]),Se.createElement(Se.Fragment,null,!i&&Se.createElement(lA,{highcharts:kp,options:A4(n,e,t)}))},M4="_title_4ki8g_1",D4="_comparionBox_4ki8g_7",O4="_comparionBoxSideBySide_4ki8g_15",R4="_comparionBoxSideBySideItem_4ki8g_22",bx={title:M4,comparionBox:D4,comparionBoxSideBySide:O4,comparionBoxSideBySideItem:R4},QE=({orgUnitsData:n})=>Se.createElement("div",{className:bx.comparionBox},Se.createElement("div",{className:bx.title},n.orgUnitName),Se.createElement("div",{className:bx.comparionBoxSideBySide},n.models.map((e,t)=>Se.createElement("div",{key:t,className:bx.comparionBoxSideBySideItem},Se.createElement(P4,{syncZoom:n.models.length>1,data:e.data,modelName:e.modelName}))))),m0=0,eh=1,Lf=2,hA=4;function pA(n,e){return t=>n(e(t))}function $4(n,e){return e(n)}function mA(n,e){return t=>n(e,t)}function JE(n,e){return()=>n(e)}function f0(n,e){return e(n),n}function Qr(...n){return n}function z4(n){n()}function ek(n){return()=>n}function F4(...n){return()=>{n.map(z4)}}function kT(n){return n!==void 0}function Nf(){}function or(n,e){return n(eh,e)}function Ci(n,e){n(m0,e)}function LT(n){n(Lf)}function Xs(n){return n(hA)}function Un(n,e){return or(n,mA(e,m0))}function Hc(n,e){const t=n(eh,i=>{t(),e(i)});return t}function Yi(){const n=[];return(e,t)=>{switch(e){case Lf:n.splice(0,n.length);return;case eh:return n.push(t),()=>{const i=n.indexOf(t);i>-1&&n.splice(i,1)};case m0:n.slice().forEach(i=>{i(t)});return;default:throw new Error(`unrecognized action ${e}`)}}}function fn(n){let e=n;const t=Yi();return(i,r)=>{switch(i){case eh:r(e);break;case m0:e=r;break;case hA:return e}return t(i,r)}}function B4(n){let e,t;const i=()=>e&&e();return function(r,a){switch(r){case eh:return a?t===a?void 0:(i(),t=a,e=or(n,a),e):(i(),Nf);case Lf:i(),t=null;return;default:throw new Error(`unrecognized action ${r}`)}}}function ul(n){return f0(Yi(),e=>Un(n,e))}function wo(n,e){return f0(fn(e),t=>Un(n,t))}function j4(...n){return e=>n.reduceRight($4,e)}function Kt(n,...e){const t=j4(...e);return(i,r)=>{switch(i){case eh:return or(n,t(r));case Lf:LT(n);return}}}function fA(n,e){return n===e}function qr(n=fA){let e;return t=>i=>{n(e,i)||(e=i,t(i))}}function ci(n){return e=>t=>{n(t)&&e(t)}}function Mn(n){return e=>pA(e,n)}function Fc(n){return e=>()=>e(n)}function jc(n,e){return t=>i=>t(e=n(e,i))}function Xm(n){return e=>t=>{n>0?n--:e(t)}}function Id(n){let e=null,t;return i=>r=>{e=r,!t&&(t=setTimeout(()=>{t=void 0,i(e)},n))}}function tk(n){let e,t;return i=>r=>{e=r,t&&clearTimeout(t),t=setTimeout(()=>{i(e)},n)}}function Li(...n){const e=new Array(n.length);let t=0,i=null;const r=Math.pow(2,n.length)-1;return n.forEach((a,o)=>{const s=Math.pow(2,o);or(a,h=>{const p=t;t=t|s,e[o]=h,p!==r&&t===r&&i&&(i(),i=null)})}),a=>o=>{const s=()=>a([o].concat(e));t===r?s():i=s}}function nk(...n){return function(e,t){switch(e){case eh:return F4(...n.map(i=>or(i,t)));case Lf:return;default:throw new Error(`unrecognized action ${e}`)}}}function mi(n,e=fA){return Kt(n,qr(e))}function Ha(...n){const e=Yi(),t=new Array(n.length);let i=0;const r=Math.pow(2,n.length)-1;return n.forEach((a,o)=>{const s=Math.pow(2,o);or(a,h=>{t[o]=h,i=i|s,i===r&&Ci(e,t)})}),function(a,o){switch(a){case eh:return i===r&&o(t),or(e,o);case Lf:return LT(e);default:throw new Error(`unrecognized action ${a}`)}}}function cr(n,e=[],{singleton:t}={singleton:!0}){return{id:U4(),constructor:n,dependencies:e,singleton:t}}const U4=()=>Symbol();function G4(n){const e=new Map,t=({id:i,constructor:r,dependencies:a,singleton:o})=>{if(o&&e.has(i))return e.get(i);const s=r(a.map(h=>t(h)));return o&&e.set(i,s),s};return t(n)}function Y4(n,e){const t={},i={};let r=0;const a=n.length;for(;r<a;)i[n[r]]=1,r+=1;for(const o in e)i.hasOwnProperty(o)||(t[o]=e[o]);return t}const _x=typeof document<"u"?Se.useLayoutEffect:Se.useEffect;function gA(n,e,t){const i=Object.keys(e.required||{}),r=Object.keys(e.optional||{}),a=Object.keys(e.methods||{}),o=Object.keys(e.events||{}),s=Se.createContext({});function h(k,v){k.propsReady&&Ci(k.propsReady,!1);for(const w of i){const N=k[e.required[w]];Ci(N,v[w])}for(const w of r)if(w in v){const N=k[e.optional[w]];Ci(N,v[w])}k.propsReady&&Ci(k.propsReady,!0)}function p(k){return a.reduce((v,w)=>(v[w]=N=>{const C=k[e.methods[w]];Ci(C,N)},v),{})}function f(k){return o.reduce((v,w)=>(v[w]=B4(k[e.events[w]]),v),{})}const y=Se.forwardRef((k,v)=>{const{children:w,...N}=k,[C]=Se.useState(()=>f0(G4(n),W=>h(W,N))),[L]=Se.useState(JE(f,C));_x(()=>{for(const W of o)W in N&&or(L[W],N[W]);return()=>{Object.values(L).map(LT)}},[N,L,C]),_x(()=>{h(C,N)}),Se.useImperativeHandle(v,ek(p(C)));const O=t;return Ye.jsx(s.Provider,{value:C,children:t?Ye.jsx(O,{...Y4([...i,...r,...o],N),children:w}):w})}),g=k=>Se.useCallback(mA(Ci,Se.useContext(s)[k]),[k]),_=k=>{const w=Se.useContext(s)[k],N=Se.useCallback(C=>or(w,C),[w]);return Se.useSyncExternalStore(N,()=>Xs(w),()=>Xs(w))},b=k=>{const w=Se.useContext(s)[k],[N,C]=Se.useState(JE(Xs,w));return _x(()=>or(w,L=>{L!==N&&C(ek(L))}),[w,N]),N},T=Se.version.startsWith("18")?_:b;return{Component:y,usePublisher:g,useEmitterValue:T,useEmitter:(k,v)=>{const N=Se.useContext(s)[k];_x(()=>or(N,v),[v,N])}}}const yA=typeof document<"u"?Se.useLayoutEffect:Se.useEffect;var dl=(n=>(n[n.DEBUG=0]="DEBUG",n[n.INFO=1]="INFO",n[n.WARN=2]="WARN",n[n.ERROR=3]="ERROR",n))(dl||{});const V4={0:"debug",1:"log",2:"warn",3:"error"},q4=()=>typeof globalThis>"u"?window:globalThis,th=cr(()=>{const n=fn(3);return{log:fn((t,i,r=1)=>{var a;const o=(a=q4().VIRTUOSO_LOG_LEVEL)!=null?a:Xs(n);r>=o&&console[V4[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,i)}),logLevel:n}},[],{singleton:!0});function NT(n,e,t){const i=Se.useRef(null);let r=a=>{};if(typeof ResizeObserver<"u"){const a=Se.useMemo(()=>new ResizeObserver(o=>{const s=()=>{const h=o[0].target;h.offsetParent!==null&&n(h)};t?s():requestAnimationFrame(s)}),[n]);r=o=>{o&&e?(a.observe(o),i.current=o):(i.current&&a.unobserve(i.current),i.current=null)}}return{ref:i,callbackRef:r}}function Lp(n,e,t){return NT(n,e,t).callbackRef}function W4(n,e,t,i,r,a,o,s,h){const p=Se.useCallback(f=>{const y=H4(f.children,e,s?"offsetWidth":"offsetHeight",r);let g=f.parentElement;for(;!g.dataset.virtuosoScroller;)g=g.parentElement;const _=g.lastElementChild.dataset.viewportType==="window",b=o?s?o.scrollLeft:o.scrollTop:_?s?window.pageXOffset||document.documentElement.scrollLeft:window.pageYOffset||document.documentElement.scrollTop:s?g.scrollLeft:g.scrollTop,T=o?s?o.scrollWidth:o.scrollHeight:_?s?document.documentElement.scrollWidth:document.documentElement.scrollHeight:s?g.scrollWidth:g.scrollHeight,E=o?s?o.offsetWidth:o.offsetHeight:_?s?window.innerWidth:window.innerHeight:s?g.offsetWidth:g.offsetHeight;i({scrollTop:Math.max(b,0),scrollHeight:T,viewportHeight:E}),a==null||a(s?ik("column-gap",getComputedStyle(f).columnGap,r):ik("row-gap",getComputedStyle(f).rowGap,r)),y!==null&&n(y)},[n,e,r,a,o,i]);return NT(p,t,h)}function H4(n,e,t,i){const r=n.length;if(r===0)return null;const a=[];for(let o=0;o<r;o++){const s=n.item(o);if(!s||s.dataset.index===void 0)continue;const h=parseInt(s.dataset.index),p=parseFloat(s.dataset.knownSize),f=e(s,t);if(f===0&&i("Zero-sized element, this should not happen",{child:s},dl.ERROR),f===p)continue;const y=a[a.length-1];a.length===0||y.size!==f||y.endIndex!==h-1?a.push({startIndex:h,endIndex:h,size:f}):a[a.length-1].endIndex++}return a}function ik(n,e,t){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&t(`${n} was not resolved to pixel value correctly`,e,dl.WARN),e==="normal"?0:parseInt(e??"0",10)}function Ud(n,e){return Math.round(n.getBoundingClientRect()[e])}function vA(n,e){return Math.abs(n-e)<1.01}function xA(n,e,t,i=Nf,r,a){const o=Se.useRef(null),s=Se.useRef(null),h=Se.useRef(null),p=Se.useCallback(g=>{const _=g.target,b=_===window||_===document,T=a?b?window.pageXOffset||document.documentElement.scrollLeft:_.scrollLeft:b?window.pageYOffset||document.documentElement.scrollTop:_.scrollTop,E=a?b?document.documentElement.scrollWidth:_.scrollWidth:b?document.documentElement.scrollHeight:_.scrollHeight,k=a?b?window.innerWidth:_.offsetWidth:b?window.innerHeight:_.offsetHeight,v=()=>{n({scrollTop:Math.max(T,0),scrollHeight:E,viewportHeight:k})};g.suppressFlushSync?v():sR.flushSync(v),s.current!==null&&(T===s.current||T<=0||T===E-k)&&(s.current=null,e(!0),h.current&&(clearTimeout(h.current),h.current=null))},[n,e]);Se.useEffect(()=>{const g=r||o.current;return i(r||o.current),p({target:g,suppressFlushSync:!0}),g.addEventListener("scroll",p,{passive:!0}),()=>{i(null),g.removeEventListener("scroll",p)}},[o,p,t,i,r]);function f(g){const _=o.current;if(!_||(a?"offsetWidth"in _&&_.offsetWidth===0:"offsetHeight"in _&&_.offsetHeight===0))return;const b=g.behavior==="smooth";let T,E,k;_===window?(E=Math.max(Ud(document.documentElement,a?"width":"height"),a?document.documentElement.scrollWidth:document.documentElement.scrollHeight),T=a?window.innerWidth:window.innerHeight,k=a?document.documentElement.scrollLeft:document.documentElement.scrollTop):(E=_[a?"scrollWidth":"scrollHeight"],T=Ud(_,a?"width":"height"),k=_[a?"scrollLeft":"scrollTop"]);const v=E-T;if(g.top=Math.ceil(Math.max(Math.min(v,g.top),0)),vA(T,E)||g.top===k){n({scrollTop:k,scrollHeight:E,viewportHeight:T}),b&&e(!0);return}b?(s.current=g.top,h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{h.current=null,s.current=null,e(!0)},1e3)):s.current=null,a&&(g={left:g.top,behavior:g.behavior}),_.scrollTo(g)}function y(g){a&&(g={left:g.top,behavior:g.behavior}),o.current.scrollBy(g)}return{scrollerRef:o,scrollByCallback:y,scrollToCallback:f}}const Po=cr(()=>{const n=Yi(),e=Yi(),t=fn(0),i=Yi(),r=fn(0),a=Yi(),o=Yi(),s=fn(0),h=fn(0),p=fn(0),f=fn(0),y=Yi(),g=Yi(),_=fn(!1),b=fn(!1),T=fn(!1);return Un(Kt(n,Mn(({scrollTop:E})=>E)),e),Un(Kt(n,Mn(({scrollHeight:E})=>E)),o),Un(e,r),{scrollContainerState:n,scrollTop:e,viewportHeight:a,headerHeight:s,fixedHeaderHeight:h,fixedFooterHeight:p,footerHeight:f,scrollHeight:o,smoothScrollTargetReached:i,horizontalDirection:b,skipAnimationFrameInResizeObserver:T,scrollTo:y,scrollBy:g,statefulScrollTop:r,deviation:t,scrollingInProgress:_}},[],{singleton:!0}),gy={lvl:0};function bA(n,e,t,i=gy,r=gy){return{k:n,v:e,lvl:t,l:i,r}}function br(n){return n===gy}function Um(){return gy}function e1(n,e){if(br(n))return gy;const{k:t,l:i,r}=n;if(e===t){if(br(i))return r;if(br(r))return i;{const[a,o]=_A(i);return Hx(qa(n,{k:a,v:o,l:wA(i)}))}}else return e<t?Hx(qa(n,{l:e1(i,e)})):Hx(qa(n,{r:e1(r,e)}))}function yy(n,e){if(!br(n))return e===n.k?n.v:e<n.k?yy(n.l,e):yy(n.r,e)}function hc(n,e,t="k"){if(br(n))return[-1/0,void 0];if(Number(n[t])===e)return[n.k,n.v];if(Number(n[t])<e){const i=hc(n.r,e,t);return i[0]===-1/0?[n.k,n.v]:i}return hc(n.l,e,t)}function ol(n,e,t){return br(n)?bA(e,t,1):e===n.k?qa(n,{k:e,v:t}):e<n.k?rk(qa(n,{l:ol(n.l,e,t)})):rk(qa(n,{r:ol(n.r,e,t)}))}function t1(n,e,t){if(br(n))return[];const{k:i,v:r,l:a,r:o}=n;let s=[];return i>e&&(s=s.concat(t1(a,e,t))),i>=e&&i<=t&&s.push({k:i,v:r}),i<=t&&(s=s.concat(t1(o,e,t))),s}function Xh(n){return br(n)?[]:[...Xh(n.l),{k:n.k,v:n.v},...Xh(n.r)]}function _A(n){return br(n.r)?[n.k,n.v]:_A(n.r)}function wA(n){return br(n.r)?n.l:Hx(qa(n,{r:wA(n.r)}))}function qa(n,e){return bA(e.k!==void 0?e.k:n.k,e.v!==void 0?e.v:n.v,e.lvl!==void 0?e.lvl:n.lvl,e.l!==void 0?e.l:n.l,e.r!==void 0?e.r:n.r)}function Q_(n){return br(n)||n.lvl>n.r.lvl}function rk(n){return n1(SA(n))}function Hx(n){const{l:e,r:t,lvl:i}=n;if(t.lvl>=i-1&&e.lvl>=i-1)return n;if(i>t.lvl+1){if(Q_(e))return SA(qa(n,{lvl:i-1}));if(!br(e)&&!br(e.r))return qa(e.r,{l:qa(e,{r:e.r.l}),r:qa(n,{l:e.r.r,lvl:i-1}),lvl:i});throw new Error("Unexpected empty nodes")}else{if(Q_(n))return n1(qa(n,{lvl:i-1}));if(!br(t)&&!br(t.l)){const r=t.l,a=Q_(r)?t.lvl-1:t.lvl;return qa(r,{l:qa(n,{r:r.l,lvl:i-1}),r:n1(qa(t,{l:r.r,lvl:a})),lvl:r.lvl+1})}else throw new Error("Unexpected empty nodes")}}function g0(n,e,t){if(br(n))return[];const i=hc(n,e)[0];return X4(t1(n,i,t))}function TA(n,e){const t=n.length;if(t===0)return[];let{index:i,value:r}=e(n[0]);const a=[];for(let o=1;o<t;o++){const{index:s,value:h}=e(n[o]);a.push({start:i,end:s-1,value:r}),i=s,r=h}return a.push({start:i,end:1/0,value:r}),a}function X4(n){return TA(n,({k:e,v:t})=>({index:e,value:t}))}function n1(n){const{r:e,lvl:t}=n;return!br(e)&&!br(e.r)&&e.lvl===t&&e.r.lvl===t?qa(e,{l:qa(n,{r:e.l}),lvl:t+1}):n}function SA(n){const{l:e}=n;return!br(e)&&e.lvl===n.lvl?qa(e,{r:qa(n,{l:e.r})}):n}function xb(n,e,t,i=0){let r=n.length-1;for(;i<=r;){const a=Math.floor((i+r)/2),o=n[a],s=t(o,e);if(s===0)return a;if(s===-1){if(r-i<2)return a-1;r=a-1}else{if(r===i)return a;i=a+1}}throw new Error(`Failed binary finding record in array - ${n.join(",")}, searched for ${e}`)}function CA(n,e,t){return n[xb(n,e,t)]}function Z4(n,e,t,i){const r=xb(n,e,i),a=xb(n,t,i,r);return n.slice(r,a+1)}const IT=cr(()=>({recalcInProgress:fn(!1)}),[],{singleton:!0});function K4(n){const{size:e,startIndex:t,endIndex:i}=n;return r=>r.start===t&&(r.end===i||r.end===1/0)&&r.value===e}function ak(n,e){let t=0,i=0;for(;t<n;)t+=e[i+1]-e[i]-1,i++;return i-(t===n?0:1)}function Q4(n,e){let t=br(n)?0:1/0;for(const i of e){const{size:r,startIndex:a,endIndex:o}=i;if(t=Math.min(t,a),br(n)){n=ol(n,0,r);continue}const s=g0(n,a-1,o+1);if(s.some(K4(i)))continue;let h=!1,p=!1;for(const{start:f,end:y,value:g}of s)h?(o>=f||r===g)&&(n=e1(n,f)):(p=g!==r,h=!0),y>o&&o>=f&&g!==r&&(n=ol(n,o+1,g));p&&(n=ol(n,a,r))}return[n,t]}function J4(){return{offsetTree:[],sizeTree:Um(),groupOffsetTree:Um(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function AT({index:n},e){return e===n?0:e<n?-1:1}function e5({offset:n},e){return e===n?0:e<n?-1:1}function t5(n){return{index:n.index,value:n}}function n5(n,e,t,i=0){return i>0&&(e=Math.max(e,CA(n,i,AT).offset)),TA(Z4(n,e,t,e5),t5)}function i1(n,e,t,i){let r=n,a=0,o=0,s=0,h=0;if(e!==0){h=xb(r,e-1,AT),s=r[h].offset;const f=hc(t,e-1);a=f[0],o=f[1],r.length&&r[h].size===hc(t,e)[1]&&(h-=1),r=r.slice(0,h+1)}else r=[];for(const{start:p,value:f}of g0(t,e,1/0)){const y=p-a,g=y*o+s+y*i;r.push({offset:g,size:f,index:p}),a=p,s=g,o=f}return{offsetTree:r,lastIndex:a,lastOffset:s,lastSize:o}}function i5(n,[e,t,i,r]){e.length>0&&i("received item sizes",e,dl.DEBUG);const a=n.sizeTree;let o=a,s=0;if(t.length>0&&br(a)&&e.length===2){const g=e[0].size,_=e[1].size;o=t.reduce((b,T)=>ol(ol(b,T,g),T+1,_),o)}else[o,s]=Q4(o,e);if(o===a)return n;const{offsetTree:h,lastIndex:p,lastSize:f,lastOffset:y}=i1(n.offsetTree,s,o,r);return{sizeTree:o,offsetTree:h,lastIndex:p,lastOffset:y,lastSize:f,groupOffsetTree:t.reduce((g,_)=>ol(g,_,vy(_,h,r)),Um()),groupIndices:t}}function vy(n,e,t){if(e.length===0)return 0;const{offset:i,index:r,size:a}=CA(e,n,AT),o=n-r,s=a*o+(o-1)*t+i;return s>0?s+t:s}function r5(n){return typeof n.groupIndex<"u"}function EA(n,e,t){if(r5(n))return e.groupIndices[n.groupIndex]+1;{const i=n.index==="LAST"?t:n.index;let r=kA(i,e);return r=Math.max(0,r,Math.min(t,r)),r}}function kA(n,e){if(!y0(e))return n;let t=0;for(;e.groupIndices[t]<=n+t;)t++;return n+t}function y0(n){return!br(n.groupOffsetTree)}function a5(n){return Xh(n).map(({k:e,v:t},i,r)=>{const a=r[i+1],o=a?a.k-1:1/0;return{startIndex:e,endIndex:o,size:t}})}const s5={offsetHeight:"height",offsetWidth:"width"},su=cr(([{log:n},{recalcInProgress:e}])=>{const t=Yi(),i=Yi(),r=wo(i,0),a=Yi(),o=Yi(),s=fn(0),h=fn([]),p=fn(void 0),f=fn(void 0),y=fn((C,L)=>Ud(C,s5[L])),g=fn(void 0),_=fn(0),b=J4(),T=wo(Kt(t,Li(h,n,_),jc(i5,b),qr()),b),E=wo(Kt(h,qr(),jc((C,L)=>({prev:C.current,current:L}),{prev:[],current:[]}),Mn(({prev:C})=>C)),[]);Un(Kt(h,ci(C=>C.length>0),Li(T,_),Mn(([C,L,O])=>{const W=C.reduce((X,H,$)=>ol(X,H,vy(H,L.offsetTree,O)||$),Um());return{...L,groupIndices:C,groupOffsetTree:W}})),T),Un(Kt(i,Li(T),ci(([C,{lastIndex:L}])=>C<L),Mn(([C,{lastIndex:L,lastSize:O}])=>[{startIndex:C,endIndex:L,size:O}])),t),Un(p,f);const k=wo(Kt(p,Mn(C=>C===void 0)),!0);Un(Kt(f,ci(C=>C!==void 0&&br(Xs(T).sizeTree)),Mn(C=>[{startIndex:0,endIndex:0,size:C}])),t);const v=ul(Kt(t,Li(T),jc(({sizes:C},[L,O])=>({changed:O!==C,sizes:O}),{changed:!1,sizes:b}),Mn(C=>C.changed)));or(Kt(s,jc((C,L)=>({diff:C.prev-L,prev:L}),{diff:0,prev:0}),Mn(C=>C.diff)),C=>{const{groupIndices:L}=Xs(T);if(C>0)Ci(e,!0),Ci(a,C+ak(C,L));else if(C<0){const O=Xs(E);O.length>0&&(C-=ak(-C,O)),Ci(o,C)}}),or(Kt(s,Li(n)),([C,L])=>{C<0&&L("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},dl.ERROR)});const w=ul(a);Un(Kt(a,Li(T),Mn(([C,L])=>{const O=L.groupIndices.length>0,W=[],X=L.lastSize;if(O){const H=yy(L.sizeTree,0);let $=0,G=0;for(;$<C;){const M=L.groupIndices[G],Y=L.groupIndices.length===G+1?1/0:L.groupIndices[G+1]-M-1;W.push({startIndex:M,endIndex:M,size:H}),W.push({startIndex:M+1,endIndex:M+1+Y-1,size:X}),G++,$+=Y+1}const j=Xh(L.sizeTree);return $!==C&&j.shift(),j.reduce((M,{k:Y,v:B})=>{let z=M.ranges;return M.prevSize!==0&&(z=[...M.ranges,{startIndex:M.prevIndex,endIndex:Y+C-1,size:M.prevSize}]),{ranges:z,prevIndex:Y+C,prevSize:B}},{ranges:W,prevIndex:C,prevSize:0}).ranges}return Xh(L.sizeTree).reduce((H,{k:$,v:G})=>({ranges:[...H.ranges,{startIndex:H.prevIndex,endIndex:$+C-1,size:H.prevSize}],prevIndex:$+C,prevSize:G}),{ranges:[],prevIndex:0,prevSize:X}).ranges})),t);const N=ul(Kt(o,Li(T,_),Mn(([C,{offsetTree:L},O])=>{const W=-C;return vy(W,L,O)})));return Un(Kt(o,Li(T,_),Mn(([C,L,O])=>{if(L.groupIndices.length>0){if(br(L.sizeTree))return L;let X=Um();const H=Xs(E);let $=0,G=0,j=0;for(;$<-C;){j=H[G];const M=H[G+1]-j-1;G++,$+=M+1}if(X=Xh(L.sizeTree).reduce((M,{k:Y,v:B})=>ol(M,Math.max(0,Y+C),B),X),$!==-C){const M=yy(L.sizeTree,j);X=ol(X,0,M);const Y=hc(L.sizeTree,-C+1)[1];X=ol(X,1,Y)}return{...L,sizeTree:X,...i1(L.offsetTree,0,X,O)}}else{const X=Xh(L.sizeTree).reduce((H,{k:$,v:G})=>ol(H,Math.max(0,$+C),G),Um());return{...L,sizeTree:X,...i1(L.offsetTree,0,X,O)}}})),T),{data:g,totalCount:i,sizeRanges:t,groupIndices:h,defaultItemSize:f,fixedItemSize:p,unshiftWith:a,shiftWith:o,shiftWithOffset:N,beforeUnshiftWith:w,firstItemIndex:s,gap:_,sizes:T,listRefresh:v,statefulTotalCount:r,trackItemSizes:k,itemSize:y}},Qr(th,IT),{singleton:!0}),o5=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function LA(n){const e=typeof n=="number"?{index:n}:n;return e.align||(e.align="start"),(!e.behavior||!o5)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const tv=cr(([{sizes:n,totalCount:e,listRefresh:t,gap:i},{scrollingInProgress:r,viewportHeight:a,scrollTo:o,smoothScrollTargetReached:s,headerHeight:h,footerHeight:p,fixedHeaderHeight:f,fixedFooterHeight:y},{log:g}])=>{const _=Yi(),b=Yi(),T=fn(0);let E=null,k=null,v=null;function w(){E&&(E(),E=null),v&&(v(),v=null),k&&(clearTimeout(k),k=null),Ci(r,!1)}return Un(Kt(_,Li(n,a,e,T,h,p,g),Li(i,f,y),Mn(([[N,C,L,O,W,X,H,$],G,j,D])=>{const M=LA(N),{align:Y,behavior:B,offset:z}=M,q=O-1,V=EA(M,C,q);let te=vy(V,C.offsetTree,G)+X;Y==="end"?(te+=j+hc(C.sizeTree,V)[1]-L+D,V===q&&(te+=H)):Y==="center"?te+=(j+hc(C.sizeTree,V)[1]-L+D)/2:te-=W,z&&(te+=z);const ce=ie=>{w(),ie?($("retrying to scroll to",{location:N},dl.DEBUG),Ci(_,N)):(Ci(b,!0),$("list did not change, scroll successful",{},dl.DEBUG))};if(w(),B==="smooth"){let ie=!1;v=or(t,se=>{ie=ie||se}),E=Hc(s,()=>{ce(ie)})}else E=Hc(Kt(t,l5(150)),ce);return k=setTimeout(()=>{w()},1200),Ci(r,!0),$("scrolling from index to",{index:V,top:te,behavior:B},dl.DEBUG),{top:te,behavior:B}})),o),{scrollToIndex:_,scrollTargetReached:b,topListHeight:T}},Qr(su,Po,th),{singleton:!0});function l5(n){return e=>{const t=setTimeout(()=>{e(!1)},n);return i=>{i&&(e(!0),clearTimeout(t))}}}const xy="up",ay="down",c5="none",u5={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},d5=0,nv=cr(([{scrollContainerState:n,scrollTop:e,viewportHeight:t,headerHeight:i,footerHeight:r,scrollBy:a}])=>{const o=fn(!1),s=fn(!0),h=Yi(),p=Yi(),f=fn(4),y=fn(d5),g=wo(Kt(nk(Kt(mi(e),Xm(1),Fc(!0)),Kt(mi(e),Xm(1),Fc(!1),tk(100))),qr()),!1),_=wo(Kt(nk(Kt(a,Fc(!0)),Kt(a,Fc(!1),tk(200))),qr()),!1);Un(Kt(Ha(mi(e),mi(y)),Mn(([v,w])=>v<=w),qr()),s),Un(Kt(s,Id(50)),p);const b=ul(Kt(Ha(n,mi(t),mi(i),mi(r),mi(f)),jc((v,[{scrollTop:w,scrollHeight:N},C,L,O,W])=>{const X=w+C-N>-W,H={viewportHeight:C,scrollTop:w,scrollHeight:N};if(X){let G,j;return w>v.state.scrollTop?(G="SCROLLED_DOWN",j=v.state.scrollTop-w):(G="SIZE_DECREASED",j=v.state.scrollTop-w||v.scrollTopDelta),{atBottom:!0,state:H,atBottomBecause:G,scrollTopDelta:j}}let $;return H.scrollHeight>v.state.scrollHeight?$="SIZE_INCREASED":C<v.state.viewportHeight?$="VIEWPORT_HEIGHT_DECREASING":w<v.state.scrollTop?$="SCROLLING_UPWARDS":$="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:$,state:H}},u5),qr((v,w)=>v&&v.atBottom===w.atBottom))),T=wo(Kt(n,jc((v,{scrollTop:w,scrollHeight:N,viewportHeight:C})=>{if(vA(v.scrollHeight,N))return{scrollTop:w,scrollHeight:N,jump:0,changed:!1};{const L=N-(w+C)<1;return v.scrollTop!==w&&L?{scrollHeight:N,scrollTop:w,jump:v.scrollTop-w,changed:!0}:{scrollHeight:N,scrollTop:w,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),ci(v=>v.changed),Mn(v=>v.jump)),0);Un(Kt(b,Mn(v=>v.atBottom)),o),Un(Kt(o,Id(50)),h);const E=fn(ay);Un(Kt(n,Mn(({scrollTop:v})=>v),qr(),jc((v,w)=>Xs(_)?{direction:v.direction,prevScrollTop:w}:{direction:w<v.prevScrollTop?xy:ay,prevScrollTop:w},{direction:ay,prevScrollTop:0}),Mn(v=>v.direction)),E),Un(Kt(n,Id(50),Fc(c5)),E);const k=fn(0);return Un(Kt(g,ci(v=>!v),Fc(0)),k),Un(Kt(e,Id(100),Li(g),ci(([v,w])=>!!w),jc(([v,w],[N])=>[w,N],[0,0]),Mn(([v,w])=>w-v)),k),{isScrolling:g,isAtTop:s,isAtBottom:o,atBottomState:b,atTopStateChange:p,atBottomStateChange:h,scrollDirection:E,atBottomThreshold:f,atTopThreshold:y,scrollVelocity:k,lastJumpDueToItemResize:T}},Qr(Po)),nh=cr(([{log:n}])=>{const e=fn(!1),t=ul(Kt(e,ci(i=>i),qr()));return or(e,i=>{i&&Xs(n)("props updated",{},dl.DEBUG)}),{propsReady:e,didMount:t}},Qr(th),{singleton:!0});function PT(n,e){n==0?e():requestAnimationFrame(()=>PT(n-1,e))}function MT(n,e){const t=e-1;return typeof n=="number"?n:n.index==="LAST"?t:n.index}const iv=cr(([{sizes:n,listRefresh:e,defaultItemSize:t},{scrollTop:i},{scrollToIndex:r,scrollTargetReached:a},{didMount:o}])=>{const s=fn(!0),h=fn(0),p=fn(!0);return Un(Kt(o,Li(h),ci(([f,y])=>!!y),Fc(!1)),s),Un(Kt(o,Li(h),ci(([f,y])=>!!y),Fc(!1)),p),or(Kt(Ha(e,o),Li(s,n,t,p),ci(([[,f],y,{sizeTree:g},_,b])=>f&&(!br(g)||kT(_))&&!y&&!b),Li(h)),([,f])=>{Hc(a,()=>{Ci(p,!0)}),PT(4,()=>{Hc(i,()=>{Ci(s,!0)}),Ci(r,f)})}),{scrolledToInitialItem:s,initialTopMostItemIndex:h,initialItemFinalLocationReached:p}},Qr(su,Po,tv,nh),{singleton:!0});function sk(n){return n?n==="smooth"?"smooth":"auto":!1}const h5=(n,e)=>typeof n=="function"?sk(n(e)):e&&sk(n),p5=cr(([{totalCount:n,listRefresh:e},{isAtBottom:t,atBottomState:i},{scrollToIndex:r},{scrolledToInitialItem:a},{propsReady:o,didMount:s},{log:h},{scrollingInProgress:p}])=>{const f=fn(!1),y=Yi();let g=null;function _(T){Ci(r,{index:"LAST",align:"end",behavior:T})}or(Kt(Ha(Kt(mi(n),Xm(1)),s),Li(mi(f),t,a,p),Mn(([[T,E],k,v,w,N])=>{let C=E&&w,L="auto";return C&&(L=h5(k,v||N),C=C&&!!L),{totalCount:T,shouldFollow:C,followOutputBehavior:L}}),ci(({shouldFollow:T})=>T)),({totalCount:T,followOutputBehavior:E})=>{g&&(g(),g=null),g=Hc(e,()=>{Xs(h)("following output to ",{totalCount:T},dl.DEBUG),_(E),g=null})});function b(T){const E=Hc(i,k=>{T&&!k.atBottom&&k.notAtBottomBecause==="SIZE_INCREASED"&&!g&&(Xs(h)("scrolling to bottom due to increased size",{},dl.DEBUG),_("auto"))});setTimeout(E,100)}return or(Kt(Ha(mi(f),n,o),ci(([T,,E])=>T&&E),jc(({value:T},[,E])=>({refreshed:T===E,value:E}),{refreshed:!1,value:0}),ci(({refreshed:T})=>T),Li(f,n)),([,T])=>{Xs(a)&&b(T!==!1)}),or(y,()=>{b(Xs(f)!==!1)}),or(Ha(mi(f),i),([T,E])=>{T&&!E.atBottom&&E.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&_("auto")}),{followOutput:f,autoscrollToBottom:y}},Qr(su,nv,tv,iv,nh,th,Po));function m5(n){return n.reduce((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e),{totalCount:0,groupIndices:[]})}const NA=cr(([{totalCount:n,groupIndices:e,sizes:t},{scrollTop:i,headerHeight:r}])=>{const a=Yi(),o=Yi(),s=ul(Kt(a,Mn(m5)));return Un(Kt(s,Mn(h=>h.totalCount)),n),Un(Kt(s,Mn(h=>h.groupIndices)),e),Un(Kt(Ha(i,t,r),ci(([h,p])=>y0(p)),Mn(([h,p,f])=>hc(p.groupOffsetTree,Math.max(h-f,0),"v")[0]),qr(),Mn(h=>[h])),o),{groupCounts:a,topItemsIndexes:o}},Qr(su,Po));function by(n,e){return!!(n&&n[0]===e[0]&&n[1]===e[1])}function IA(n,e){return!!(n&&n.startIndex===e.startIndex&&n.endIndex===e.endIndex)}const bb="top",_b="bottom",ok="none";function lk(n,e,t){return typeof n=="number"?t===xy&&e===bb||t===ay&&e===_b?n:0:t===xy?e===bb?n.main:n.reverse:e===_b?n.main:n.reverse}function ck(n,e){return typeof n=="number"?n:n[e]||0}const DT=cr(([{scrollTop:n,viewportHeight:e,deviation:t,headerHeight:i,fixedHeaderHeight:r}])=>{const a=Yi(),o=fn(0),s=fn(0),h=fn(0),p=wo(Kt(Ha(mi(n),mi(e),mi(i),mi(a,by),mi(h),mi(o),mi(r),mi(t),mi(s)),Mn(([f,y,g,[_,b],T,E,k,v,w])=>{const N=f-v,C=E+k,L=Math.max(g-N,0);let O=ok;const W=ck(w,bb),X=ck(w,_b);return _-=v,_+=g+k,b+=g+k,b-=v,_>f+C-W&&(O=xy),b<f-L+y+X&&(O=ay),O!==ok?[Math.max(N-g-lk(T,bb,O)-W,0),N-L-k+y+lk(T,_b,O)+X]:null}),ci(f=>f!=null),qr(by)),[0,0]);return{listBoundary:a,overscan:h,topListHeight:o,increaseViewportBy:s,visibleRange:p}},Qr(Po),{singleton:!0});function f5(n,e,t){if(y0(e)){const i=kA(n,e);return[{index:hc(e.groupOffsetTree,i)[0],size:0,offset:0},{index:i,size:0,offset:0,data:t&&t[0]}]}return[{index:n,size:0,offset:0,data:t&&t[0]}]}const J_={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function uk(n,e,t){if(n.length===0)return[];if(!y0(e))return n.map(p=>({...p,index:p.index+t,originalIndex:p.index}));const i=n[0].index,r=n[n.length-1].index,a=[],o=g0(e.groupOffsetTree,i,r);let s,h=0;for(const p of n){(!s||s.end<p.index)&&(s=o.shift(),h=e.groupIndices.indexOf(s.start));let f;p.index===s.start?f={type:"group",index:h}:f={index:p.index-(h+1)+t,groupIndex:h},a.push({...f,size:p.size,offset:p.offset,originalIndex:p.index,data:p.data})}return a}function Xx(n,e,t,i,r,a){const{lastSize:o,lastOffset:s,lastIndex:h}=r;let p=0,f=0;if(n.length>0){p=n[0].offset;const T=n[n.length-1];f=T.offset+T.size}const y=t-h,g=s+y*o+(y-1)*i,_=p,b=g-f;return{items:uk(n,r,a),topItems:uk(e,r,a),topListHeight:e.reduce((T,E)=>E.size+T,0),offsetTop:p,offsetBottom:b,top:_,bottom:f,totalCount:t,firstItemIndex:a}}function AA(n,e,t,i,r,a){let o=0;if(t.groupIndices.length>0)for(const f of t.groupIndices){if(f-o>=n)break;o++}const s=n+o,h=MT(e,s),p=Array.from({length:s}).map((f,y)=>({index:y+h,size:0,offset:0,data:a[y+h]}));return Xx(p,[],s,r,t,i)}const Np=cr(([{sizes:n,totalCount:e,data:t,firstItemIndex:i,gap:r},a,{visibleRange:o,listBoundary:s,topListHeight:h},{scrolledToInitialItem:p,initialTopMostItemIndex:f},{topListHeight:y},g,{didMount:_},{recalcInProgress:b}])=>{const T=fn([]),E=fn(0),k=Yi();Un(a.topItemsIndexes,T);const v=wo(Kt(Ha(_,b,mi(o,by),mi(e),mi(n),mi(f),p,mi(T),mi(i),mi(r),t),ci(([L,O,,W,,,,,,,X])=>{const H=X&&X.length!==W;return L&&!O&&!H}),Mn(([,,[L,O],W,X,H,$,G,j,D,M])=>{const Y=X,{sizeTree:B,offsetTree:z}=Y,q=Xs(E);if(W===0)return{...J_,totalCount:W};if(L===0&&O===0)return q===0?{...J_,totalCount:W}:AA(q,H,X,j,D,M||[]);if(br(B))return q>0?null:Xx(f5(MT(H,W),Y,M),[],W,D,Y,j);const V=[];if(G.length>0){const Ce=G[0],pe=G[G.length-1];let we=0;for(const K of g0(B,Ce,pe)){const J=K.value,ae=Math.max(K.start,Ce),ve=Math.min(K.end,pe);for(let Q=ae;Q<=ve;Q++)V.push({index:Q,size:J,offset:we,data:M&&M[Q]}),we+=J}}if(!$)return Xx([],V,W,D,Y,j);const te=G.length>0?G[G.length-1]+1:0,ce=n5(z,L,O,te);if(ce.length===0)return null;const ie=W-1,se=f0([],Ce=>{for(const pe of ce){const we=pe.value;let K=we.offset,J=pe.start;const ae=we.size;if(we.offset<L){J+=Math.floor((L-we.offset+D)/(ae+D));const Q=J-pe.start;K+=Q*ae+Q*D}J<te&&(K+=(te-J)*ae,J=te);const ve=Math.min(pe.end,ie);for(let Q=J;Q<=ve&&!(K>=O);Q++)Ce.push({index:Q,size:ae,offset:K,data:M&&M[Q]}),K+=ae+D}});return Xx(se,V,W,D,Y,j)}),ci(L=>L!==null),qr()),J_);Un(Kt(t,ci(kT),Mn(L=>L==null?void 0:L.length)),e),Un(Kt(v,Mn(L=>L.topListHeight)),y),Un(y,h),Un(Kt(v,Mn(L=>[L.top,L.bottom])),s),Un(Kt(v,Mn(L=>L.items)),k);const w=ul(Kt(v,ci(({items:L})=>L.length>0),Li(e,t),ci(([{items:L},O])=>L[L.length-1].originalIndex===O-1),Mn(([,L,O])=>[L-1,O]),qr(by),Mn(([L])=>L))),N=ul(Kt(v,Id(200),ci(({items:L,topItems:O})=>L.length>0&&L[0].originalIndex===O.length),Mn(({items:L})=>L[0].index),qr())),C=ul(Kt(v,ci(({items:L})=>L.length>0),Mn(({items:L})=>{let O=0,W=L.length-1;for(;L[O].type==="group"&&O<W;)O++;for(;L[W].type==="group"&&W>O;)W--;return{startIndex:L[O].index,endIndex:L[W].index}}),qr(IA)));return{listState:v,topItemsIndexes:T,endReached:w,startReached:N,rangeChanged:C,itemsRendered:k,initialItemCount:E,...g}},Qr(su,NA,DT,iv,tv,nv,nh,IT),{singleton:!0}),g5=cr(([{sizes:n,firstItemIndex:e,data:t,gap:i},{initialTopMostItemIndex:r},{initialItemCount:a,listState:o},{didMount:s}])=>(Un(Kt(s,Li(a),ci(([,h])=>h!==0),Li(r,n,e,i,t),Mn(([[,h],p,f,y,g,_=[]])=>AA(h,p,f,y,g,_))),o),{}),Qr(su,iv,Np,nh),{singleton:!0}),PA=cr(([{scrollVelocity:n}])=>{const e=fn(!1),t=Yi(),i=fn(!1);return Un(Kt(n,Li(i,e,t),ci(([r,a])=>!!a),Mn(([r,a,o,s])=>{const{exit:h,enter:p}=a;if(o){if(h(r,s))return!1}else if(p(r,s))return!0;return o}),qr()),e),or(Kt(Ha(e,n,t),Li(i)),([[r,a,o],s])=>r&&s&&s.change&&s.change(a,o)),{isSeeking:e,scrollSeekConfiguration:i,scrollVelocity:n,scrollSeekRangeChanged:t}},Qr(nv),{singleton:!0}),y5=cr(([{topItemsIndexes:n}])=>{const e=fn(0);return Un(Kt(e,ci(t=>t>=0),Mn(t=>Array.from({length:t}).map((i,r)=>r))),n),{topItemCount:e}},Qr(Np)),MA=cr(([{footerHeight:n,headerHeight:e,fixedHeaderHeight:t,fixedFooterHeight:i},{listState:r}])=>{const a=Yi(),o=wo(Kt(Ha(n,i,e,t,r),Mn(([s,h,p,f,y])=>s+h+p+f+y.offsetBottom+y.bottom)),0);return Un(mi(o),a),{totalListHeight:o,totalListHeightChanged:a}},Qr(Po,Np),{singleton:!0});function DA(n){let e=!1,t;return()=>(e||(e=!0,t=n()),t)}const v5=DA(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),x5=cr(([{scrollBy:n,scrollTop:e,deviation:t,scrollingInProgress:i},{isScrolling:r,isAtBottom:a,scrollDirection:o,lastJumpDueToItemResize:s},{listState:h},{beforeUnshiftWith:p,shiftWithOffset:f,sizes:y,gap:g},{log:_},{recalcInProgress:b}])=>{const T=ul(Kt(h,Li(s),jc(([,k,v,w],[{items:N,totalCount:C,bottom:L,offsetBottom:O},W])=>{const X=L+O;let H=0;return v===C&&k.length>0&&N.length>0&&(N[0].originalIndex===0&&k[0].originalIndex===0||(H=X-w,H!==0&&(H+=W))),[H,N,C,X]},[0,[],0,0]),ci(([k])=>k!==0),Li(e,o,i,a,_,b),ci(([,k,v,w,,,N])=>!N&&!w&&k!==0&&v===xy),Mn(([[k],,,,,v])=>(v("Upward scrolling compensation",{amount:k},dl.DEBUG),k))));function E(k){k>0?(Ci(n,{top:-k,behavior:"auto"}),Ci(t,0)):(Ci(t,0),Ci(n,{top:-k,behavior:"auto"}))}return or(Kt(T,Li(t,r)),([k,v,w])=>{w&&v5()?Ci(t,v-k):E(-k)}),or(Kt(Ha(wo(r,!1),t,b),ci(([k,v,w])=>!k&&!w&&v!==0),Mn(([k,v])=>v),Id(1)),E),Un(Kt(f,Mn(k=>({top:-k}))),n),or(Kt(p,Li(y,g),Mn(([k,{lastSize:v,groupIndices:w,sizeTree:N},C])=>{function L(O){return O*(v+C)}if(w.length===0)return L(k);{let O=0;const W=yy(N,0);let X=0,H=0;for(;X<k;){X++,O+=W;let $=w.length===H+1?1/0:w[H+1]-w[H]-1;X+$>k&&(O-=W,$=k-X+1),X+=$,O+=L($),H++}return O}})),k=>{Ci(t,k),requestAnimationFrame(()=>{Ci(n,{top:k}),requestAnimationFrame(()=>{Ci(t,0),Ci(b,!1)})})}),{deviation:t}},Qr(Po,nv,Np,su,th,IT)),b5=cr(([{didMount:n},{scrollTo:e},{listState:t}])=>{const i=fn(0);return or(Kt(n,Li(i),ci(([,r])=>r!==0),Mn(([,r])=>({top:r}))),r=>{Hc(Kt(t,Xm(1),ci(a=>a.items.length>1)),()=>{requestAnimationFrame(()=>{Ci(e,r)})})}),{initialScrollTop:i}},Qr(nh,Po,Np),{singleton:!0}),_5=cr(([{viewportHeight:n},{totalListHeight:e}])=>{const t=fn(!1),i=wo(Kt(Ha(t,n,e),ci(([r])=>r),Mn(([,r,a])=>Math.max(0,r-a)),Id(0),qr()),0);return{alignToBottom:t,paddingTopAddition:i}},Qr(Po,MA),{singleton:!0}),OT=cr(([{scrollTo:n,scrollContainerState:e}])=>{const t=Yi(),i=Yi(),r=Yi(),a=fn(!1),o=fn(void 0);return Un(Kt(Ha(t,i),Mn(([{viewportHeight:s,scrollTop:h,scrollHeight:p},{offsetTop:f}])=>({scrollTop:Math.max(0,h-f),scrollHeight:p,viewportHeight:s}))),e),Un(Kt(n,Li(i),Mn(([s,{offsetTop:h}])=>({...s,top:s.top+h}))),r),{useWindowScroll:a,customScrollParent:o,windowScrollContainerState:t,windowViewportRect:i,windowScrollTo:r}},Qr(Po)),w5=({itemTop:n,itemBottom:e,viewportTop:t,viewportBottom:i,locationParams:{behavior:r,align:a,...o}})=>n<t?{...o,behavior:r,align:a??"start"}:e>i?{...o,behavior:r,align:a??"end"}:null,T5=cr(([{sizes:n,totalCount:e,gap:t},{scrollTop:i,viewportHeight:r,headerHeight:a,fixedHeaderHeight:o,fixedFooterHeight:s,scrollingInProgress:h},{scrollToIndex:p}])=>{const f=Yi();return Un(Kt(f,Li(n,r,e,a,o,s,i),Li(t),Mn(([[y,g,_,b,T,E,k,v],w])=>{const{done:N,behavior:C,align:L,calculateViewLocation:O=w5,...W}=y,X=EA(y,g,b-1),H=vy(X,g.offsetTree,w)+T+E,$=H+hc(g.sizeTree,X)[1],G=v+E,j=v+_-k,D=O({itemTop:H,itemBottom:$,viewportTop:G,viewportBottom:j,locationParams:{behavior:C,align:L,...W}});return D?N&&Hc(Kt(h,ci(M=>M===!1),Xm(Xs(h)?1:2)),N):N&&N(),D}),ci(y=>y!==null)),p),{scrollIntoView:f}},Qr(su,Po,tv,Np,th),{singleton:!0}),S5=cr(([{sizes:n,sizeRanges:e},{scrollTop:t,headerHeight:i},{initialTopMostItemIndex:r},{didMount:a},{useWindowScroll:o,windowScrollContainerState:s,windowViewportRect:h}])=>{const p=Yi(),f=fn(void 0),y=fn(null),g=fn(null);return Un(s,y),Un(h,g),or(Kt(p,Li(n,t,o,y,g,i)),([_,b,T,E,k,v,w])=>{const N=a5(b.sizeTree);E&&k!==null&&v!==null&&(T=k.scrollTop-v.offsetTop),T-=w,_({ranges:N,scrollTop:T})}),Un(Kt(f,ci(kT),Mn(C5)),r),Un(Kt(a,Li(f),ci(([,_])=>_!==void 0),qr(),Mn(([,_])=>_.ranges)),e),{getState:p,restoreStateFrom:f}},Qr(su,Po,iv,nh,OT));function C5(n){return{offset:n.scrollTop,index:0,align:"start"}}const E5=cr(([n,e,t,i,r,a,o,s,h,p])=>({...n,...e,...t,...i,...r,...a,...o,...s,...h,...p}),Qr(DT,g5,nh,PA,MA,b5,_5,OT,T5,th)),k5=cr(([{totalCount:n,sizeRanges:e,fixedItemSize:t,defaultItemSize:i,trackItemSizes:r,itemSize:a,data:o,firstItemIndex:s,groupIndices:h,statefulTotalCount:p,gap:f,sizes:y},{initialTopMostItemIndex:g,scrolledToInitialItem:_,initialItemFinalLocationReached:b},T,E,k,{listState:v,topItemsIndexes:w,...N},{scrollToIndex:C},L,{topItemCount:O},{groupCounts:W},X])=>(Un(N.rangeChanged,X.scrollSeekRangeChanged),Un(Kt(X.windowViewportRect,Mn(H=>H.visibleHeight)),T.viewportHeight),{totalCount:n,data:o,firstItemIndex:s,sizeRanges:e,initialTopMostItemIndex:g,scrolledToInitialItem:_,initialItemFinalLocationReached:b,topItemsIndexes:w,topItemCount:O,groupCounts:W,fixedItemHeight:t,defaultItemHeight:i,gap:f,...k,statefulTotalCount:p,listState:v,scrollToIndex:C,trackItemSizes:r,itemSize:a,groupIndices:h,...N,...X,...T,sizes:y,...E}),Qr(su,iv,Po,S5,p5,Np,tv,x5,y5,NA,E5)),ew="-webkit-sticky",dk="sticky",OA=DA(()=>{if(typeof document>"u")return dk;const n=document.createElement("div");return n.style.position=ew,n.style.position===ew?ew:dk});function RA(n,e,t){const i=Se.useRef(null),r=Se.useCallback(h=>{if(h===null||!h.offsetParent)return;const p=h.getBoundingClientRect(),f=p.width;let y,g;if(e){const _=e.getBoundingClientRect(),b=p.top-_.top;y=_.height-Math.max(0,b),g=b+e.scrollTop}else y=window.innerHeight-Math.max(0,p.top),g=p.top+window.pageYOffset;i.current={offsetTop:g,visibleHeight:y,visibleWidth:f},n(i.current)},[n,e]),{callbackRef:a,ref:o}=NT(r,!0,t),s=Se.useCallback(()=>{r(o.current)},[r,o]);return Se.useEffect(()=>{if(e){e.addEventListener("scroll",s);const h=new ResizeObserver(()=>{requestAnimationFrame(s)});return h.observe(e),()=>{e.removeEventListener("scroll",s),h.unobserve(e)}}else return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[s,e]),a}const $A=Se.createContext(void 0),zA=Se.createContext(void 0);function FA(n){return n}const L5=cr(()=>{const n=fn(h=>`Item ${h}`),e=fn(null),t=fn(h=>`Group ${h}`),i=fn({}),r=fn(FA),a=fn("div"),o=fn(Nf),s=(h,p=null)=>wo(Kt(i,Mn(f=>f[h]),qr()),p);return{context:e,itemContent:n,groupContent:t,components:i,computeItemKey:r,HeaderFooterTag:a,scrollerRef:o,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}}),N5=cr(([n,e])=>({...n,...e}),Qr(k5,L5)),I5=({height:n})=>Ye.jsx("div",{style:{height:n}}),A5={position:OA(),zIndex:1,overflowAnchor:"none"},BA={overflowAnchor:"none"},P5={...BA,display:"inline-block",height:"100%"},hk=Se.memo(function({showTopList:e=!1}){const t=vi("listState"),i=Ol("sizeRanges"),r=vi("useWindowScroll"),a=vi("customScrollParent"),o=Ol("windowScrollContainerState"),s=Ol("scrollContainerState"),h=a||r?o:s,p=vi("itemContent"),f=vi("context"),y=vi("groupContent"),g=vi("trackItemSizes"),_=vi("itemSize"),b=vi("log"),T=Ol("gap"),E=vi("horizontalDirection"),{callbackRef:k}=W4(i,_,g,e?Nf:h,b,T,a,E,vi("skipAnimationFrameInResizeObserver")),[v,w]=Se.useState(0);RT("deviation",M=>{v!==M&&w(M)});const N=vi("EmptyPlaceholder"),C=vi("ScrollSeekPlaceholder")||I5,L=vi("ListComponent"),O=vi("ItemComponent"),W=vi("GroupComponent"),X=vi("computeItemKey"),H=vi("isSeeking"),$=vi("groupIndices").length>0,G=vi("alignToBottom"),j=vi("initialItemFinalLocationReached"),D=e?{}:{boxSizing:"border-box",...E?{whiteSpace:"nowrap",display:"inline-block",height:"100%",paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,marginLeft:v!==0?v:G?"auto":0}:{marginTop:v!==0?v:G?"auto":0,paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},...j?{}:{visibility:"hidden"}};return!e&&t.totalCount===0&&N?Ye.jsx(N,{..._o(N,f)}):Ye.jsx(L,{..._o(L,f),ref:k,style:D,"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",children:(e?t.topItems:t.items).map(M=>{const Y=M.originalIndex,B=X(Y+t.firstItemIndex,M.data,f);return H?We.createElement(C,{..._o(C,f),key:B,index:M.index,height:M.size,type:M.type||"item",...M.type==="group"?{}:{groupIndex:M.groupIndex}}):M.type==="group"?We.createElement(W,{..._o(W,f),key:B,"data-index":Y,"data-known-size":M.size,"data-item-index":M.index,style:A5},y(M.index,f)):We.createElement(O,{..._o(O,f),...R5(O,M.data),key:B,"data-index":Y,"data-known-size":M.size,"data-item-index":M.index,"data-item-group-index":M.groupIndex,style:E?P5:BA},$?p(M.index,M.groupIndex,M.data,f):p(M.index,M.data,f))})})}),M5={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},D5={outline:"none",overflowX:"auto",position:"relative"},v0=n=>({width:"100%",height:"100%",position:"absolute",top:0,...n?{display:"flex",flexDirection:"column"}:{}}),O5={width:"100%",position:OA(),top:0,zIndex:1};function _o(n,e){if(typeof n!="string")return{context:e}}function R5(n,e){return{item:typeof n=="string"?void 0:e}}const $5=Se.memo(function(){const e=vi("HeaderComponent"),t=Ol("headerHeight"),i=vi("HeaderFooterTag"),r=Lp(Se.useMemo(()=>o=>t(Ud(o,"height")),[t]),!0,vi("skipAnimationFrameInResizeObserver")),a=vi("context");return e?Ye.jsx(i,{ref:r,children:Ye.jsx(e,{..._o(e,a)})}):null}),z5=Se.memo(function(){const e=vi("FooterComponent"),t=Ol("footerHeight"),i=vi("HeaderFooterTag"),r=Lp(Se.useMemo(()=>o=>t(Ud(o,"height")),[t]),!0,vi("skipAnimationFrameInResizeObserver")),a=vi("context");return e?Ye.jsx(i,{ref:r,children:Ye.jsx(e,{..._o(e,a)})}):null});function jA({usePublisher:n,useEmitter:e,useEmitterValue:t}){return Se.memo(function({style:a,children:o,...s}){const h=n("scrollContainerState"),p=t("ScrollerComponent"),f=n("smoothScrollTargetReached"),y=t("scrollerRef"),g=t("context"),_=t("horizontalDirection")||!1,{scrollerRef:b,scrollByCallback:T,scrollToCallback:E}=xA(h,f,p,y,void 0,_);e("scrollTo",E),e("scrollBy",T);const k=_?D5:M5;return Ye.jsx(p,{ref:b,style:{...k,...a},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...s,..._o(p,g),children:o})})}function UA({usePublisher:n,useEmitter:e,useEmitterValue:t}){return Se.memo(function({style:a,children:o,...s}){const h=n("windowScrollContainerState"),p=t("ScrollerComponent"),f=n("smoothScrollTargetReached"),y=t("totalListHeight"),g=t("deviation"),_=t("customScrollParent"),b=t("context"),{scrollerRef:T,scrollByCallback:E,scrollToCallback:k}=xA(h,f,p,Nf,_);return yA(()=>(T.current=_||window,()=>{T.current=null}),[T,_]),e("windowScrollTo",k),e("scrollBy",E),Ye.jsx(p,{style:{position:"relative",...a,...y!==0?{height:y+g}:{}},"data-virtuoso-scroller":!0,...s,..._o(p,b),children:o})})}const F5=({children:n})=>{const e=Se.useContext($A),t=Ol("viewportHeight"),i=Ol("fixedItemHeight"),r=vi("alignToBottom"),a=vi("horizontalDirection"),o=Se.useMemo(()=>pA(t,h=>Ud(h,a?"width":"height")),[t,a]),s=Lp(o,!0,vi("skipAnimationFrameInResizeObserver"));return Se.useEffect(()=>{e&&(t(e.viewportHeight),i(e.itemHeight))},[e,t,i]),Ye.jsx("div",{style:v0(r),ref:s,"data-viewport-type":"element",children:n})},B5=({children:n})=>{const e=Se.useContext($A),t=Ol("windowViewportRect"),i=Ol("fixedItemHeight"),r=vi("customScrollParent"),a=RA(t,r,vi("skipAnimationFrameInResizeObserver")),o=vi("alignToBottom");return Se.useEffect(()=>{e&&(i(e.itemHeight),t({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,t,i]),Ye.jsx("div",{ref:a,style:v0(o),"data-viewport-type":"window",children:n})},j5=({children:n})=>{const e=vi("TopItemListComponent")||"div",t=vi("headerHeight"),i={...O5,marginTop:`${t}px`},r=vi("context");return Ye.jsx(e,{style:i,..._o(e,r),children:n})},U5=Se.memo(function(e){const t=vi("useWindowScroll"),i=vi("topItemsIndexes").length>0,r=vi("customScrollParent"),a=r||t?V5:Y5,o=r||t?B5:F5;return Ye.jsxs(a,{...e,children:[i&&Ye.jsx(j5,{children:Ye.jsx(hk,{showTopList:!0})}),Ye.jsxs(o,{children:[Ye.jsx($5,{}),Ye.jsx(hk,{}),Ye.jsx(z5,{})]})]})}),{Component:G5,usePublisher:Ol,useEmitterValue:vi,useEmitter:RT}=gA(N5,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},U5),Y5=jA({usePublisher:Ol,useEmitterValue:vi,useEmitter:RT}),V5=UA({usePublisher:Ol,useEmitterValue:vi,useEmitter:RT}),q5=G5,pk={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},W5={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:mk,ceil:fk,floor:wb,min:tw,max:sy}=Math;function H5(n){return{...W5,items:n}}function gk(n,e,t){return Array.from({length:e-n+1}).map((i,r)=>{const a=t===null?null:t[r+n];return{index:r+n,data:a}})}function X5(n,e){return n&&n.column===e.column&&n.row===e.row}function wx(n,e){return n&&n.width===e.width&&n.height===e.height}const Z5=cr(([{overscan:n,visibleRange:e,listBoundary:t,increaseViewportBy:i},{scrollTop:r,viewportHeight:a,scrollBy:o,scrollTo:s,smoothScrollTargetReached:h,scrollContainerState:p,footerHeight:f,headerHeight:y},g,_,{propsReady:b,didMount:T},{windowViewportRect:E,useWindowScroll:k,customScrollParent:v,windowScrollContainerState:w,windowScrollTo:N},C])=>{const L=fn(0),O=fn(0),W=fn(pk),X=fn({height:0,width:0}),H=fn({height:0,width:0}),$=Yi(),G=Yi(),j=fn(0),D=fn(null),M=fn({row:0,column:0}),Y=Yi(),B=Yi(),z=fn(!1),q=fn(0),V=fn(!0),te=fn(!1),ce=fn(!1);or(Kt(T,Li(q),ci(([K,J])=>!!J)),()=>{Ci(V,!1)}),or(Kt(Ha(T,V,H,X,q,te),ci(([K,J,ae,ve,,Q])=>K&&!J&&ae.height!==0&&ve.height!==0&&!Q)),([,,,,K])=>{Ci(te,!0),PT(1,()=>{Ci($,K)}),Hc(Kt(r),()=>{Ci(t,[0,0]),Ci(V,!0)})}),Un(Kt(B,ci(K=>K!=null&&K.scrollTop>0),Fc(0)),O),or(Kt(T,Li(B),ci(([,K])=>K!=null)),([,K])=>{K&&(Ci(X,K.viewport),Ci(H,K==null?void 0:K.item),Ci(M,K.gap),K.scrollTop>0&&(Ci(z,!0),Hc(Kt(r,Xm(1)),J=>{Ci(z,!1)}),Ci(s,{top:K.scrollTop})))}),Un(Kt(X,Mn(({height:K})=>K)),a),Un(Kt(Ha(mi(X,wx),mi(H,wx),mi(M,(K,J)=>K&&K.column===J.column&&K.row===J.row),mi(r)),Mn(([K,J,ae,ve])=>({viewport:K,item:J,gap:ae,scrollTop:ve}))),Y),Un(Kt(Ha(mi(L),e,mi(M,X5),mi(H,wx),mi(X,wx),mi(D),mi(O),mi(z),mi(V),mi(q)),ci(([,,,,,,,K])=>!K),Mn(([K,[J,ae],ve,Q,re,le,fe,,xe,Le])=>{const{row:be,column:ke}=ve,{height:Oe,width:Ue}=Q,{width:Xe}=re;if(fe===0&&(K===0||Xe===0))return pk;if(Ue===0){const ht=MT(Le,K),gt=ht+Math.max(fe-1,0);return H5(gk(ht,gt,le))}const Pe=GA(Xe,Ue,ke);let _e,Ee;xe?J===0&&ae===0&&fe>0?(_e=0,Ee=fe-1):(_e=Pe*wb((J+be)/(Oe+be)),Ee=Pe*fk((ae+be)/(Oe+be))-1,Ee=tw(K-1,sy(Ee,Pe-1)),_e=tw(Ee,sy(0,_e))):(_e=0,Ee=-1);const Re=gk(_e,Ee,le),{top:Me,bottom:ze}=yk(re,ve,Q,Re),Ke=fk(K/Pe),st=Ke*Oe+(Ke-1)*be-ze;return{items:Re,offsetTop:Me,offsetBottom:st,top:Me,bottom:ze,itemHeight:Oe,itemWidth:Ue}})),W),Un(Kt(D,ci(K=>K!==null),Mn(K=>K.length)),L),Un(Kt(Ha(X,H,W,M),ci(([K,J,{items:ae}])=>ae.length>0&&J.height!==0&&K.height!==0),Mn(([K,J,{items:ae},ve])=>{const{top:Q,bottom:re}=yk(K,ve,J,ae);return[Q,re]}),qr(by)),t);const ie=fn(!1);Un(Kt(r,Li(ie),Mn(([K,J])=>J||K!==0)),ie);const se=ul(Kt(Ha(W,L),ci(([{items:K}])=>K.length>0),Li(ie),ci(([[K,J],ae])=>{const Q=K.items[K.items.length-1].index===J-1;return(ae||K.bottom>0&&K.itemHeight>0&&K.offsetBottom===0&&K.items.length===J)&&Q}),Mn(([[,K]])=>K-1),qr())),Ce=ul(Kt(mi(W),ci(({items:K})=>K.length>0&&K[0].index===0),Fc(0),qr())),pe=ul(Kt(mi(W),Li(z),ci(([{items:K},J])=>K.length>0&&!J),Mn(([{items:K}])=>({startIndex:K[0].index,endIndex:K[K.length-1].index})),qr(IA),Id(0)));Un(pe,_.scrollSeekRangeChanged),Un(Kt($,Li(X,H,L,M),Mn(([K,J,ae,ve,Q])=>{const re=LA(K),{align:le,behavior:fe,offset:xe}=re;let Le=re.index;Le==="LAST"&&(Le=ve-1),Le=sy(0,Le,tw(ve-1,Le));let be=r1(J,Q,ae,Le);return le==="end"?be=mk(be-J.height+ae.height):le==="center"&&(be=mk(be-J.height/2+ae.height/2)),xe&&(be+=xe),{top:be,behavior:fe}})),s);const we=wo(Kt(W,Mn(K=>K.offsetBottom+K.bottom)),0);return Un(Kt(E,Mn(K=>({width:K.visibleWidth,height:K.visibleHeight}))),X),{data:D,totalCount:L,viewportDimensions:X,itemDimensions:H,scrollTop:r,scrollHeight:G,overscan:n,increaseViewportBy:i,scrollBy:o,scrollTo:s,scrollToIndex:$,smoothScrollTargetReached:h,windowViewportRect:E,windowScrollTo:N,useWindowScroll:k,customScrollParent:v,windowScrollContainerState:w,deviation:j,scrollContainerState:p,footerHeight:f,headerHeight:y,initialItemCount:O,gap:M,restoreStateFrom:B,..._,initialTopMostItemIndex:q,horizontalDirection:ce,gridState:W,totalListHeight:we,...g,startReached:Ce,endReached:se,rangeChanged:pe,stateChanged:Y,propsReady:b,stateRestoreInProgress:z,...C}},Qr(DT,Po,nv,PA,nh,OT,th));function yk(n,e,t,i){const{height:r}=t;if(r===void 0||i.length===0)return{top:0,bottom:0};const a=r1(n,e,t,i[0].index),o=r1(n,e,t,i[i.length-1].index)+r;return{top:a,bottom:o}}function r1(n,e,t,i){const r=GA(n.width,t.width,e.column),a=wb(i/r),o=a*t.height+sy(0,a-1)*e.row;return o>0?o+e.row:o}function GA(n,e,t){return sy(1,wb((n+t)/(wb(e)+t)))}const K5=cr(()=>{const n=fn(y=>`Item ${y}`),e=fn({}),t=fn(null),i=fn("virtuoso-grid-item"),r=fn("virtuoso-grid-list"),a=fn(FA),o=fn("div"),s=fn(Nf),h=(y,g=null)=>wo(Kt(e,Mn(_=>_[y]),qr()),g),p=fn(!1),f=fn(!1);return Un(mi(f),p),{readyStateChanged:p,reportReadyState:f,context:t,itemContent:n,components:e,computeItemKey:a,itemClassName:i,listClassName:r,headerFooterTag:o,scrollerRef:s,FooterComponent:h("Footer"),HeaderComponent:h("Header"),ListComponent:h("List","div"),ItemComponent:h("Item","div"),ScrollerComponent:h("Scroller","div"),ScrollSeekPlaceholder:h("ScrollSeekPlaceholder","div")}}),Q5=cr(([n,e])=>({...n,...e}),Qr(Z5,K5)),J5=Se.memo(function(){const e=ta("gridState"),t=ta("listClassName"),i=ta("itemClassName"),r=ta("itemContent"),a=ta("computeItemKey"),o=ta("isSeeking"),s=Rl("scrollHeight"),h=ta("ItemComponent"),p=ta("ListComponent"),f=ta("ScrollSeekPlaceholder"),y=ta("context"),g=Rl("itemDimensions"),_=Rl("gap"),b=ta("log"),T=ta("stateRestoreInProgress"),E=Rl("reportReadyState"),k=Lp(Se.useMemo(()=>v=>{const w=v.parentElement.parentElement.scrollHeight;s(w);const N=v.firstChild;if(N){const{width:C,height:L}=N.getBoundingClientRect();g({width:C,height:L})}_({row:vk("row-gap",getComputedStyle(v).rowGap,b),column:vk("column-gap",getComputedStyle(v).columnGap,b)})},[s,g,_,b]),!0,!1);return yA(()=>{e.itemHeight>0&&e.itemWidth>0&&E(!0)},[e]),T?null:Ye.jsx(p,{ref:k,className:t,..._o(p,y),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-testid":"virtuoso-item-list",children:e.items.map(v=>{const w=a(v.index,v.data,y);return o?Ye.jsx(f,{..._o(f,y),index:v.index,height:e.itemHeight,width:e.itemWidth},w):We.createElement(h,{..._o(h,y),className:i,"data-index":v.index,key:w},r(v.index,v.data,y))})})}),e6=Se.memo(function(){const e=ta("HeaderComponent"),t=Rl("headerHeight"),i=ta("headerFooterTag"),r=Lp(Se.useMemo(()=>o=>t(Ud(o,"height")),[t]),!0,!1),a=ta("context");return e?Ye.jsx(i,{ref:r,children:Ye.jsx(e,{..._o(e,a)})}):null}),t6=Se.memo(function(){const e=ta("FooterComponent"),t=Rl("footerHeight"),i=ta("headerFooterTag"),r=Lp(Se.useMemo(()=>o=>t(Ud(o,"height")),[t]),!0,!1),a=ta("context");return e?Ye.jsx(i,{ref:r,children:Ye.jsx(e,{..._o(e,a)})}):null}),n6=({children:n})=>{const e=Se.useContext(zA),t=Rl("itemDimensions"),i=Rl("viewportDimensions"),r=Lp(Se.useMemo(()=>a=>{i(a.getBoundingClientRect())},[i]),!0,!1);return Se.useEffect(()=>{e&&(i({height:e.viewportHeight,width:e.viewportWidth}),t({height:e.itemHeight,width:e.itemWidth}))},[e,i,t]),Ye.jsx("div",{style:v0(!1),ref:r,children:n})},i6=({children:n})=>{const e=Se.useContext(zA),t=Rl("windowViewportRect"),i=Rl("itemDimensions"),r=ta("customScrollParent"),a=RA(t,r,!1);return Se.useEffect(()=>{e&&(i({height:e.itemHeight,width:e.itemWidth}),t({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,t,i]),Ye.jsx("div",{ref:a,style:v0(!1),children:n})},r6=Se.memo(function({...e}){const t=ta("useWindowScroll"),i=ta("customScrollParent"),r=i||t?s6:a6,a=i||t?i6:n6;return Ye.jsx(r,{...e,children:Ye.jsxs(a,{children:[Ye.jsx(e6,{}),Ye.jsx(J5,{}),Ye.jsx(t6,{})]})})}),{Component:nVe,usePublisher:Rl,useEmitterValue:ta,useEmitter:YA}=gA(Q5,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},r6),a6=jA({usePublisher:Rl,useEmitterValue:ta,useEmitter:YA}),s6=UA({usePublisher:Rl,useEmitterValue:ta,useEmitter:YA});function vk(n,e,t){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&t(`${n} was not resolved to pixel value correctly`,e,dl.WARN),e==="normal"?0:parseInt(e??"0",10)}const o6=({evaluationPerOrgUnits:n,useVirtuoso:e=!0,useVirtuosoWindowScroll:t=!1})=>{function i(){return r=>{const a=n[r];return a&&Se.createElement("div",{key:a.orgUnitId},Se.createElement(QE,{orgUnitsData:a}))}}return e?Se.createElement("div",null,Se.createElement(q5,{style:{height:"520px"},useWindowScroll:t,totalCount:n.length,itemContent:i()})):Se.createElement(Se.Fragment,null,n.map((r,a)=>Se.createElement(QE,{orgUnitsData:r})))},l6=({splitPeriods:n,setSelectedSplitPeriod:e,selectedSplitPeriod:t})=>n.includes(t)?Se.createElement("div",null,Se.createElement("div",null,Se.createElement(Ds,{selected:t,onChange:i=>e(i.selected)},n.map((i,r)=>Se.createElement(ju,{key:r,label:i,value:i}))))):Se.createElement(Se.Fragment,null),c6="_orgUnitsSelction_1ms0w_1",u6="_wrapper_1ms0w_7",d6="_filter_1ms0w_14",h6="_plots_1ms0w_20",p6="_searchInput_1ms0w_24",m6="_filterTitle_1ms0w_29",Cm={orgUnitsSelction:c6,wrapper:u6,filter:d6,plots:h6,searchInput:p6,filterTitle:m6},f6=({evaluations:n,splitPeriods:e})=>{var _;const[t,i]=We.useState([]),[r,a]=We.useState(),[o,s]=We.useState([]),[h,p]=We.useState([]),[f,y]=We.useState(e[0]);We.useEffect(()=>{const b=n[0];s(b.evaluation.map(T=>T.orgUnitId)),p(b.evaluation.map(T=>({name:T.orgUnitName,id:T.orgUnitId}))),y(b.splitPoint),i(b.evaluation)},[n,e]),We.useEffect(()=>{const b=n.find(E=>E.splitPoint===f),T=o==null?void 0:o.map(E=>b.evaluation.find(k=>k.orgUnitId===E&&k.orgUnitName.toLocaleLowerCase().includes(r?r.toLocaleLowerCase():"")));i(T)},[f,o,r]);const g=b=>{const T=b.checked?[...o,b.value]:o.filter(E=>E!==b.value);s(T)};return Se.createElement(Se.Fragment,null,Se.createElement("div",{className:Cm.wrapper},Se.createElement("div",{className:Cm.filter},Se.createElement("div",null,Se.createElement("div",{className:Cm.filterTitle},"Split period:"),Se.createElement(l6,{splitPeriods:e,setSelectedSplitPeriod:y,selectedSplitPeriod:f})),Se.createElement("div",null,Se.createElement("div",{className:Cm.filterTitle},"Organization units:"),h.map((b,T)=>Se.createElement(Wb,{checked:o.filter(E=>E==b.id).length>0,onChange:g,label:b.name,key:b.id,value:b.id})))),Se.createElement("div",{className:Cm.plots},Se.createElement("div",{className:Cm.searchInput},Se.createElement(qb,{label:"Search for organization units:",placeholder:((_=h[0])==null?void 0:_.name)+"..",onChange:b=>a(b.value),value:r})),Se.createElement(o6,{evaluationPerOrgUnits:t,useVirtuoso:!0}))))},g6="_table_11vie_1",y6="_quantile_low_11vie_22",v6="_quantile_high_11vie_26",x6={table:g6,quantile_low:y6,quantile_high:v6},b6=({data:n})=>{const e=n.dataValues;return Se.createElement(Se.Fragment,null,cA(e).map(t=>Se.createElement("div",{key:t},Se.createElement("h3",null,dt.t(`Prediction for ${u4(t,e)}`)),Se.createElement("table",{className:x6.table},Se.createElement("thead",null,Se.createElement("tr",null,Se.createElement("th",null,"Quantiles"),Jw(e).map(i=>Se.createElement("th",{key:i},dt.t(ST(i)))))),Se.createElement("tbody",null,c4(e).map(i=>Se.createElement("tr",{key:i},Se.createElement("td",null,i.replaceAll("_"," ")),Jw(e).map(r=>Se.createElement("td",{key:r},e.filter(a=>a.dataElement===i&&a.orgUnit===t&&a.period===r)[0].value)))))))))};var VA={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(bo,function(){var t,i,r;function a(s,h){if(!t)t=h;else if(!i)i=h;else{var p="var sharedChunk = {}; ("+t+")(sharedChunk); ("+i+")(sharedChunk);",f={};t(f),r=h(f),typeof window<"u"&&(r.workerUrl=window.URL.createObjectURL(new Blob([p],{type:"text/javascript"})))}}a(["exports"],function(s){var h=p;function p(u,l,d,x){this.cx=3*u,this.bx=3*(d-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(x-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=d,this.p2y=x}function f(u,l,d,x){const A=new h(u,l,d,x);return function(R){return A.solve(R)}}p.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var d=u,x=0;x<8;x++){var A=this.sampleCurveX(d)-u;if(Math.abs(A)<l)return d;var R=this.sampleCurveDerivativeX(d);if(Math.abs(R)<1e-6)break;d-=A/R}var U=0,ne=1;for(d=u,x=0;x<20&&(A=this.sampleCurveX(d),!(Math.abs(A-u)<l));x++)u>A?U=d:ne=d,d=.5*(ne-U)+U;return d},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};const y=f(.25,.1,.25,1);function g(u,l,d){return Math.min(d,Math.max(l,u))}function _(u,l,d){const x=d-l,A=((u-l)%x+x)%x+l;return A===l?d:A}function b(u,...l){for(const d of l)for(const x in d)u[x]=d[x];return u}let T=1;function E(u,l){u.forEach(d=>{l[d]&&(l[d]=l[d].bind(l))})}function k(u,l,d){const x={};for(const A in u)x[A]=l.call(d||this,u[A],A,u);return x}function v(u,l,d){const x={};for(const A in u)l.call(d||this,u[A],A,u)&&(x[A]=u[A]);return x}function w(u){return Array.isArray(u)?u.map(w):typeof u=="object"&&u?k(u,w):u}const N={};function C(u){N[u]||(typeof console<"u"&&console.warn(u),N[u]=!0)}function L(u,l,d){return(d.y-u.y)*(l.x-u.x)>(l.y-u.y)*(d.x-u.x)}function O(u){let l=0;for(let d,x,A=0,R=u.length,U=R-1;A<R;U=A++)d=u[A],x=u[U],l+=(x.x-d.x)*(d.y+x.y);return l}function W(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function X(u){const l={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,x,A,R)=>{const U=A||R;return l[x]=!U||U.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l}let H,$,G=null;function j(u){if(G==null){const l=u.navigator?u.navigator.userAgent:null;G=!!u.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return G}function D(u){return typeof ImageBitmap<"u"&&u instanceof ImageBitmap}const M={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(u){const l=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(l)}},getImageData(u,l=0){const d=window.document.createElement("canvas"),x=d.getContext("2d");if(!x)throw new Error("failed to create canvas 2d context");return d.width=u.width,d.height=u.height,x.drawImage(u,0,0,u.width,u.height),x.getImageData(-l,-l,u.width+2*l,u.height+2*l)},resolveURL:u=>(H||(H=document.createElement("a")),H.href=u,H.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&($==null&&($=matchMedia("(prefers-reduced-motion: reduce)")),$.matches)}};var Y=B;function B(u,l){this.x=u,this.y=l}B.prototype={clone:function(){return new B(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,l){return this.clone()._rotateAround(u,l)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var l=u.x-this.x,d=u.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,l){return Math.atan2(this.x*l-this.y*u,this.x*u+this.y*l)},_matMult:function(u){var l=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=l,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var l=Math.cos(u),d=Math.sin(u),x=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=x,this},_rotateAround:function(u,l){var d=Math.cos(u),x=Math.sin(u),A=l.y+x*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-x*(this.y-l.y),this.y=A,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},B.convert=function(u){return u instanceof B?u:Array.isArray(u)?new B(u[0],u[1]):u};const z={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},q="mapbox-tiles";let V,te=500,ce=50;function ie(){typeof caches>"u"||V||(V=caches.open(q))}let se=1/0;const Ce={supported:!1,testSupport:function(u){!K&&we&&(J?ae(u):pe=u)}};let pe,we,K=!1,J=!1;function ae(u){const l=u.createTexture();u.bindTexture(u.TEXTURE_2D,l);try{if(u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,we),u.isContextLost())return;Ce.supported=!0}catch{}u.deleteTexture(l),K=!0}typeof document<"u"&&(we=document.createElement("img"),we.onload=function(){pe&&ae(pe),pe=null,J=!0},we.onerror=function(){K=!0,pe=null},we.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const ve={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(ve);class Q extends Error{constructor(l,d,x,A){super(`AJAXError: ${d} (${l}): ${x}`),this.status=l,this.statusText=d,this.url=x,this.body=A}}const re=W()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href;function le(u,l){const d=new AbortController,x=new Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,referrer:re(),signal:d.signal});let A=!1,R=!1;return u.type==="json"&&x.headers.set("Accept","application/json"),((U,ne,oe)=>{R||fetch(x).then(ye=>ye.ok?((Ne,De,Be)=>{(u.type==="arrayBuffer"?Ne.arrayBuffer():u.type==="json"?Ne.json():Ne.text()).then(qe=>{R||(A=!0,l(null,qe,Ne.headers.get("Cache-Control"),Ne.headers.get("Expires")))}).catch(qe=>{R||l(new Error(qe.message))})})(ye):ye.blob().then(Ne=>l(new Q(ye.status,ye.statusText,u.url,Ne)))).catch(ye=>{ye.code!==20&&l(new Error(ye.message))})})(),{cancel:()=>{R=!0,A||d.abort()}}}const fe=function(u,l){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){if(W()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l);if(!W()){const x=u.url.substring(0,u.url.indexOf("://"));return(z.REGISTERED_PROTOCOLS[x]||le)(u,l)}}if(!(/^file:/.test(d=u.url)||/^file:/.test(re())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return le(u,l);if(W()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l,void 0,!0)}var d;return function(x,A){const R=new XMLHttpRequest;R.open(x.method||"GET",x.url,!0),x.type==="arrayBuffer"&&(R.responseType="arraybuffer");for(const U in x.headers)R.setRequestHeader(U,x.headers[U]);return x.type==="json"&&(R.responseType="text",R.setRequestHeader("Accept","application/json")),R.withCredentials=x.credentials==="include",R.onerror=()=>{A(new Error(R.statusText))},R.onload=()=>{if((R.status>=200&&R.status<300||R.status===0)&&R.response!==null){let U=R.response;if(x.type==="json")try{U=JSON.parse(R.response)}catch(ne){return A(ne)}A(null,U,R.getResponseHeader("Cache-Control"),R.getResponseHeader("Expires"))}else{const U=new Blob([R.response],{type:R.getResponseHeader("Content-Type")});A(new Q(R.status,R.statusText,x.url,U))}},R.send(x.body),{cancel:()=>R.abort()}}(u,l)},xe=function(u,l){return fe(b(u,{type:"arrayBuffer"}),l)};function Le(u){const l=window.document.createElement("a");return l.href=u,l.protocol===window.document.location.protocol&&l.host===window.document.location.host}const be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let ke,Oe;ke=[],Oe=0;const Ue=function(u,l){if(Ce.supported&&(u.headers||(u.headers={}),u.headers.accept="image/webp,*/*"),Oe>=z.MAX_PARALLEL_IMAGE_REQUESTS){const R={requestParameters:u,callback:l,cancelled:!1,cancel(){this.cancelled=!0}};return ke.push(R),R}Oe++;let d=!1;const x=()=>{if(!d)for(d=!0,Oe--;ke.length&&Oe<z.MAX_PARALLEL_IMAGE_REQUESTS;){const R=ke.shift(),{requestParameters:U,callback:ne,cancelled:oe}=R;oe||(R.cancel=Ue(U,ne).cancel)}},A=xe(u,(R,U,ne,oe)=>{x(),R?l(R):U&&function(ye,Ne){typeof createImageBitmap=="function"?function(De,Be){const qe=new Blob([new Uint8Array(De)],{type:"image/png"});createImageBitmap(qe).then(He=>{Be(null,He)}).catch(He=>{Be(new Error(`Could not load image because of ${He.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(ye,Ne):function(De,Be){const qe=new Image;qe.onload=()=>{Be(null,qe),URL.revokeObjectURL(qe.src),qe.onload=null,window.requestAnimationFrame(()=>{qe.src=be})},qe.onerror=()=>Be(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const He=new Blob([new Uint8Array(De)],{type:"image/png"});qe.src=De.byteLength?URL.createObjectURL(He):be}(ye,Ne)}(U,(ye,Ne)=>{ye!=null?l(ye):Ne!=null&&l(null,Ne,{cacheControl:ne,expires:oe})})});return{cancel:()=>{A.cancel(),x()}}};function Xe(u,l,d){d[u]&&d[u].indexOf(l)!==-1||(d[u]=d[u]||[],d[u].push(l))}function Pe(u,l,d){if(d&&d[u]){const x=d[u].indexOf(l);x!==-1&&d[u].splice(x,1)}}class _e{constructor(l,d={}){b(this,d),this.type=l}}class Ee extends _e{constructor(l,d={}){super("error",b({error:l},d))}}class Re{on(l,d){return this._listeners=this._listeners||{},Xe(l,d,this._listeners),this}off(l,d){return Pe(l,d,this._listeners),Pe(l,d,this._oneTimeListeners),this}once(l,d){return this._oneTimeListeners=this._oneTimeListeners||{},Xe(l,d,this._oneTimeListeners),this}fire(l,d){typeof l=="string"&&(l=new _e(l,d||{}));const x=l.type;if(this.listens(x)){l.target=this;const A=this._listeners&&this._listeners[x]?this._listeners[x].slice():[];for(const ne of A)ne.call(this,l);const R=this._oneTimeListeners&&this._oneTimeListeners[x]?this._oneTimeListeners[x].slice():[];for(const ne of R)Pe(x,ne,this._oneTimeListeners),ne.call(this,l);const U=this._eventedParent;U&&(b(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),U.fire(l))}else l instanceof Ee&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var Me={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1},elevationOffset:{type:"number",default:450}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class ze{constructor(l,d,x,A){this.message=(l?`${l}: `:"")+x,A&&(this.identifier=A),d!=null&&d.__line__&&(this.line=d.__line__)}}function Ke(u){const l=u.value;return l?[new ze(u.key,l,"constants have been deprecated as of v8")]:[]}function tt(u,...l){for(const d of l)for(const x in d)u[x]=d[x];return u}function st(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function ht(u){if(Array.isArray(u))return u.map(ht);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const l={};for(const d in u)l[d]=ht(u[d]);return l}return st(u)}class gt extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class Tt{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[x,A]of d)this.bindings[x]=A}concat(l){return new Tt(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const $t={kind:"null"},mt={kind:"number"},Ct={kind:"string"},St={kind:"boolean"},sn={kind:"color"},yn={kind:"object"},Zt={kind:"value"},di={kind:"collator"},ni={kind:"formatted"},_i={kind:"padding"},Vi={kind:"resolvedImage"};function oi(u,l){return{kind:"array",itemType:u,N:l}}function ut(u){if(u.kind==="array"){const l=ut(u.itemType);return typeof u.N=="number"?`array<${l}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${l}>`}return u.kind}const xt=[$t,mt,Ct,St,sn,ni,yn,oi(Zt),_i,Vi];function Mt(u,l){if(l.kind==="error")return null;if(u.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!Mt(u.itemType,l.itemType))&&(typeof u.N!="number"||u.N===l.N))return null}else{if(u.kind===l.kind)return null;if(u.kind==="value"){for(const d of xt)if(!Mt(d,l))return null}}return`Expected ${ut(u)} but found ${ut(l)} instead.`}function Gt(u,l){return l.some(d=>d.kind===u.kind)}function Qt(u,l){return l.some(d=>d==="null"?u===null:d==="array"?Array.isArray(u):d==="object"?u&&!Array.isArray(u)&&typeof u=="object":d===typeof u)}var Tn,Gn={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function vn(u){return(u=Math.round(u))<0?0:u>255?255:u}function Ge(u){return vn(u[u.length-1]==="%"?parseFloat(u)/100*255:parseInt(u))}function ge(u){return(l=u[u.length-1]==="%"?parseFloat(u)/100:parseFloat(u))<0?0:l>1?1:l;var l}function Ie(u,l,d){return d<0?d+=1:d>1&&(d-=1),6*d<1?u+(l-u)*d*6:2*d<1?l:3*d<2?u+(l-u)*(2/3-d)*6:u}try{Tn={}.parseCSSColor=function(u){var l,d=u.replace(/ /g,"").toLowerCase();if(d in Gn)return Gn[d].slice();if(d[0]==="#")return d.length===4?(l=parseInt(d.substr(1),16))>=0&&l<=4095?[(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,1]:null:d.length===7&&(l=parseInt(d.substr(1),16))>=0&&l<=16777215?[(16711680&l)>>16,(65280&l)>>8,255&l,1]:null;var x=d.indexOf("("),A=d.indexOf(")");if(x!==-1&&A+1===d.length){var R=d.substr(0,x),U=d.substr(x+1,A-(x+1)).split(","),ne=1;switch(R){case"rgba":if(U.length!==4)return null;ne=ge(U.pop());case"rgb":return U.length!==3?null:[Ge(U[0]),Ge(U[1]),Ge(U[2]),ne];case"hsla":if(U.length!==4)return null;ne=ge(U.pop());case"hsl":if(U.length!==3)return null;var oe=(parseFloat(U[0])%360+360)%360/360,ye=ge(U[1]),Ne=ge(U[2]),De=Ne<=.5?Ne*(ye+1):Ne+ye-Ne*ye,Be=2*Ne-De;return[vn(255*Ie(Be,De,oe+1/3)),vn(255*Ie(Be,De,oe)),vn(255*Ie(Be,De,oe-1/3)),ne];default:return null}}return null}}catch{}class Fe{constructor(l,d,x,A=1){this.r=l,this.g=d,this.b=x,this.a=A}static parse(l){if(!l)return;if(l instanceof Fe)return l;if(typeof l!="string")return;const d=Tn(l);return d?new Fe(d[0]/255*d[3],d[1]/255*d[3],d[2]/255*d[3],d[3]):void 0}toString(){const[l,d,x,A]=this.toArray();return`rgba(${Math.round(l)},${Math.round(d)},${Math.round(x)},${A})`}toArray(){const{r:l,g:d,b:x,a:A}=this;return A===0?[0,0,0,0]:[255*l/A,255*d/A,255*x/A,A]}}Fe.black=new Fe(0,0,0,1),Fe.white=new Fe(1,1,1,1),Fe.transparent=new Fe(0,0,0,0),Fe.red=new Fe(1,0,0,1);class Ze{constructor(l,d,x){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=x,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class it{constructor(l,d,x,A,R){this.text=l,this.image=d,this.scale=x,this.fontStack=A,this.textColor=R}}class lt{constructor(l){this.sections=l}static fromString(l){return new lt([new it(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof lt?l:lt.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class at{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof at)return l;if(typeof l=="number")return new at([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const d of l)if(typeof d!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new at(l)}}toString(){return JSON.stringify(this.values)}}class nt{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new nt({name:l,available:!1}):null}}function ft(u,l,d,x){return typeof u=="number"&&u>=0&&u<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?x===void 0||typeof x=="number"&&x>=0&&x<=1?null:`Invalid rgba value [${[u,l,d,x].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof x=="number"?[u,l,d,x]:[u,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Nt(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof Fe||u instanceof Ze||u instanceof lt||u instanceof at||u instanceof nt)return!0;if(Array.isArray(u)){for(const l of u)if(!Nt(l))return!1;return!0}if(typeof u=="object"){for(const l in u)if(!Nt(u[l]))return!1;return!0}return!1}function Ft(u){if(u===null)return $t;if(typeof u=="string")return Ct;if(typeof u=="boolean")return St;if(typeof u=="number")return mt;if(u instanceof Fe)return sn;if(u instanceof Ze)return di;if(u instanceof lt)return ni;if(u instanceof at)return _i;if(u instanceof nt)return Vi;if(Array.isArray(u)){const l=u.length;let d;for(const x of u){const A=Ft(x);if(d){if(d===A)continue;d=Zt;break}d=A}return oi(d||Zt,l)}return yn}function Rt(u){const l=typeof u;return u===null?"":l==="string"||l==="number"||l==="boolean"?String(u):u instanceof Fe||u instanceof lt||u instanceof at||u instanceof nt?u.toString():JSON.stringify(u)}class pn{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Nt(l[1]))return d.error("invalid value");const x=l[1];let A=Ft(x);const R=d.expectedType;return A.kind!=="array"||A.N!==0||!R||R.kind!=="array"||typeof R.N=="number"&&R.N!==0||(A=R),new pn(A,x)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class rn{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const xn={string:Ct,number:mt,boolean:St,object:yn};class Sn{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let x,A=1;const R=l[0];if(R==="array"){let ne,oe;if(l.length>2){const ye=l[1];if(typeof ye!="string"||!(ye in xn)||ye==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);ne=xn[ye],A++}else ne=Zt;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);oe=l[2],A++}x=oi(ne,oe)}else{if(!xn[R])throw new Error(`Types doesn't contain name = ${R}`);x=xn[R]}const U=[];for(;A<l.length;A++){const ne=d.parse(l[A],A,Zt);if(!ne)return null;U.push(ne)}return new Sn(x,U)}evaluate(l){for(let d=0;d<this.args.length;d++){const x=this.args[d].evaluate(l);if(!Mt(this.type,Ft(x)))return x;if(d===this.args.length-1)throw new rn(`Expected value to be of type ${ut(this.type)}, but found ${ut(Ft(x))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Wn={"to-boolean":St,"to-color":sn,"to-number":mt,"to-string":Ct};class Cn{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const x=l[0];if(!Wn[x])throw new Error(`Can't parse ${x} as it is not part of the known types`);if((x==="to-boolean"||x==="to-string")&&l.length!==2)return d.error("Expected one argument.");const A=Wn[x],R=[];for(let U=1;U<l.length;U++){const ne=d.parse(l[U],U,Zt);if(!ne)return null;R.push(ne)}return new Cn(A,R)}evaluate(l){if(this.type.kind==="boolean")return!!this.args[0].evaluate(l);if(this.type.kind==="color"){let d,x;for(const A of this.args){if(d=A.evaluate(l),x=null,d instanceof Fe)return d;if(typeof d=="string"){const R=l.parseColor(d);if(R)return R}else if(Array.isArray(d)&&(x=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:ft(d[0],d[1],d[2],d[3]),!x))return new Fe(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new rn(x||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}if(this.type.kind==="padding"){let d;for(const x of this.args){d=x.evaluate(l);const A=at.parse(d);if(A)return A}throw new rn(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}if(this.type.kind==="number"){let d=null;for(const x of this.args){if(d=x.evaluate(l),d===null)return 0;const A=Number(d);if(!isNaN(A))return A}throw new rn(`Could not convert ${JSON.stringify(d)} to number.`)}return this.type.kind==="formatted"?lt.fromString(Rt(this.args[0].evaluate(l))):this.type.kind==="resolvedImage"?nt.fromString(Rt(this.args[0].evaluate(l))):Rt(this.args[0].evaluate(l))}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const On=["Unknown","Point","LineString","Polygon"];class Hn{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?On[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=Fe.parse(l)),d}}class Yn{constructor(l,d,x,A){this.name=l,this.type=d,this._evaluate=x,this.args=A}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,d){const x=l[0],A=Yn.definitions[x];if(!A)return d.error(`Unknown expression "${x}". If you wanted a literal array, use ["literal", [...]].`,0);const R=Array.isArray(A)?A[0]:A.type,U=Array.isArray(A)?[[A[1],A[2]]]:A.overloads,ne=U.filter(([ye])=>!Array.isArray(ye)||ye.length===l.length-1);let oe=null;for(const[ye,Ne]of ne){oe=new Fp(d.registry,d.path,null,d.scope);const De=[];let Be=!1;for(let qe=1;qe<l.length;qe++){const He=l[qe],ct=Array.isArray(ye)?ye[qe-1]:ye.type,ot=oe.parse(He,1+De.length,ct);if(!ot){Be=!0;break}De.push(ot)}if(!Be)if(Array.isArray(ye)&&ye.length!==De.length)oe.error(`Expected ${ye.length} arguments, but found ${De.length} instead.`);else{for(let qe=0;qe<De.length;qe++){const He=Array.isArray(ye)?ye[qe]:ye.type,ct=De[qe];oe.concat(qe+1).checkSubtype(He,ct.type)}if(oe.errors.length===0)return new Yn(x,R,Ne,De)}}if(ne.length===1)d.errors.push(...oe.errors);else{const ye=(ne.length?ne:U).map(([De])=>{return Be=De,Array.isArray(Be)?`(${Be.map(ut).join(", ")})`:`(${ut(Be.type)}...)`;var Be}).join(" | "),Ne=[];for(let De=1;De<l.length;De++){const Be=d.parse(l[De],1+Ne.length);if(!Be)return null;Ne.push(ut(Be.type))}d.error(`Expected arguments of type ${ye}, but found (${Ne.join(", ")}) instead.`)}return null}static register(l,d){Yn.definitions=d;for(const x in d)l[x]=Yn}}class fi{constructor(l,d,x){this.type=di,this.locale=x,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const x=l[1];if(typeof x!="object"||Array.isArray(x))return d.error("Collator options argument must be an object.");const A=d.parse(x["case-sensitive"]!==void 0&&x["case-sensitive"],1,St);if(!A)return null;const R=d.parse(x["diacritic-sensitive"]!==void 0&&x["diacritic-sensitive"],1,St);if(!R)return null;let U=null;return x.locale&&(U=d.parse(x.locale,1,Ct),!U)?null:new fi(A,R,U)}evaluate(l){return new Ze(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const Ji=8192;function Pr(u,l){u[0]=Math.min(u[0],l[0]),u[1]=Math.min(u[1],l[1]),u[2]=Math.max(u[2],l[0]),u[3]=Math.max(u[3],l[1])}function ma(u,l){return!(u[0]<=l[0]||u[2]>=l[2]||u[1]<=l[1]||u[3]>=l[3])}function Bf(u,l){const d=(180+u[0])/360,x=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,A=Math.pow(2,l.z);return[Math.round(d*A*Ji),Math.round(x*A*Ji)]}function ah(u,l,d){const x=u[0]-l[0],A=u[1]-l[1],R=u[0]-d[0],U=u[1]-d[1];return x*U-R*A==0&&x*R<=0&&A*U<=0}function qi(u,l){let d=!1;for(let U=0,ne=l.length;U<ne;U++){const oe=l[U];for(let ye=0,Ne=oe.length;ye<Ne-1;ye++){if(ah(u,oe[ye],oe[ye+1]))return!1;(A=oe[ye])[1]>(x=u)[1]!=(R=oe[ye+1])[1]>x[1]&&x[0]<(R[0]-A[0])*(x[1]-A[1])/(R[1]-A[1])+A[0]&&(d=!d)}}var x,A,R;return d}function O0(u,l){for(let d=0;d<l.length;d++)if(qi(u,l[d]))return!0;return!1}function Rp(u,l,d,x){const A=x[0]-d[0],R=x[1]-d[1],U=(u[0]-d[0])*R-A*(u[1]-d[1]),ne=(l[0]-d[0])*R-A*(l[1]-d[1]);return U>0&&ne<0||U<0&&ne>0}function R0(u,l,d){for(const ye of d)for(let Ne=0;Ne<ye.length-1;++Ne)if((ne=[(U=ye[Ne+1])[0]-(R=ye[Ne])[0],U[1]-R[1]])[0]*(oe=[(A=l)[0]-(x=u)[0],A[1]-x[1]])[1]-ne[1]*oe[0]!=0&&Rp(x,A,R,U)&&Rp(R,U,x,A))return!0;var x,A,R,U,ne,oe;return!1}function jf(u,l){for(let d=0;d<u.length;++d)if(!qi(u[d],l))return!1;for(let d=0;d<u.length-1;++d)if(R0(u[d],u[d+1],l))return!1;return!0}function pv(u,l){for(let d=0;d<l.length;d++)if(jf(u,l[d]))return!0;return!1}function Uf(u,l,d){const x=[];for(let A=0;A<u.length;A++){const R=[];for(let U=0;U<u[A].length;U++){const ne=Bf(u[A][U],d);Pr(l,ne),R.push(ne)}x.push(R)}return x}function Gf(u,l,d){const x=[];for(let A=0;A<u.length;A++){const R=Uf(u[A],l,d);x.push(R)}return x}function Yf(u,l,d,x){if(u[0]<d[0]||u[0]>d[2]){const A=.5*x;let R=u[0]-d[0]>A?-x:d[0]-u[0]>A?x:0;R===0&&(R=u[0]-d[2]>A?-x:d[2]-u[0]>A?x:0),u[0]+=R}Pr(l,u)}function mv(u,l,d,x){const A=Math.pow(2,x.z)*Ji,R=[x.x*Ji,x.y*Ji],U=[];for(const ne of u)for(const oe of ne){const ye=[oe.x+R[0],oe.y+R[1]];Yf(ye,l,d,A),U.push(ye)}return U}function fv(u,l,d,x){const A=Math.pow(2,x.z)*Ji,R=[x.x*Ji,x.y*Ji],U=[];for(const oe of u){const ye=[];for(const Ne of oe){const De=[Ne.x+R[0],Ne.y+R[1]];Pr(l,De),ye.push(De)}U.push(ye)}if(l[2]-l[0]<=A/2){(ne=l)[0]=ne[1]=1/0,ne[2]=ne[3]=-1/0;for(const oe of U)for(const ye of oe)Yf(ye,l,d,A)}var ne;return U}class uu{constructor(l,d){this.type=St,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Nt(l[1])){const x=l[1];if(x.type==="FeatureCollection")for(let A=0;A<x.features.length;++A){const R=x.features[A].geometry.type;if(R==="Polygon"||R==="MultiPolygon")return new uu(x,x.features[A].geometry)}else if(x.type==="Feature"){const A=x.geometry.type;if(A==="Polygon"||A==="MultiPolygon")return new uu(x,x.geometry)}else if(x.type==="Polygon"||x.type==="MultiPolygon")return new uu(x,x)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,x){const A=[1/0,1/0,-1/0,-1/0],R=[1/0,1/0,-1/0,-1/0],U=d.canonicalID();if(x.type==="Polygon"){const ne=Uf(x.coordinates,R,U),oe=mv(d.geometry(),A,R,U);if(!ma(A,R))return!1;for(const ye of oe)if(!qi(ye,ne))return!1}if(x.type==="MultiPolygon"){const ne=Gf(x.coordinates,R,U),oe=mv(d.geometry(),A,R,U);if(!ma(A,R))return!1;for(const ye of oe)if(!O0(ye,ne))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,x){const A=[1/0,1/0,-1/0,-1/0],R=[1/0,1/0,-1/0,-1/0],U=d.canonicalID();if(x.type==="Polygon"){const ne=Uf(x.coordinates,R,U),oe=fv(d.geometry(),A,R,U);if(!ma(A,R))return!1;for(const ye of oe)if(!jf(ye,ne))return!1}if(x.type==="MultiPolygon"){const ne=Gf(x.coordinates,R,U),oe=fv(d.geometry(),A,R,U);if(!ma(A,R))return!1;for(const ye of oe)if(!pv(ye,ne))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}function $p(u){if(u instanceof Yn&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof uu)return!1;let l=!0;return u.eachChild(d=>{l&&!$p(d)&&(l=!1)}),l}function td(u){if(u instanceof Yn&&u.name==="feature-state")return!1;let l=!0;return u.eachChild(d=>{l&&!td(d)&&(l=!1)}),l}function sh(u,l){if(u instanceof Yn&&l.indexOf(u.name)>=0)return!1;let d=!0;return u.eachChild(x=>{d&&!sh(x,l)&&(d=!1)}),d}class zp{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const x=l[1];return d.scope.has(x)?new zp(x,d.scope.get(x)):d.error(`Unknown variable "${x}". Make sure "${x}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Fp{constructor(l,d=[],x,A=new Tt,R=[]){this.registry=l,this.path=d,this.key=d.map(U=>`[${U}]`).join(""),this.scope=A,this.errors=R,this.expectedType=x}parse(l,d,x,A,R={}){return d?this.concat(d,x,A)._parse(l,R):this._parse(l,R)}_parse(l,d){function x(A,R,U){return U==="assert"?new Sn(R,[A]):U==="coerce"?new Cn(R,[A]):A}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const A=l[0];if(typeof A!="string")return this.error(`Expression name must be a string, but found ${typeof A} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const R=this.registry[A];if(R){let U=R.parse(l,this);if(!U)return null;if(this.expectedType){const ne=this.expectedType,oe=U.type;if(ne.kind!=="string"&&ne.kind!=="number"&&ne.kind!=="boolean"&&ne.kind!=="object"&&ne.kind!=="array"||oe.kind!=="value")if(ne.kind!=="color"&&ne.kind!=="formatted"&&ne.kind!=="resolvedImage"||oe.kind!=="value"&&oe.kind!=="string")if(ne.kind!=="padding"||oe.kind!=="value"&&oe.kind!=="number"&&oe.kind!=="array"){if(this.checkSubtype(ne,oe))return null}else U=x(U,ne,d.typeAnnotation||"coerce");else U=x(U,ne,d.typeAnnotation||"coerce");else U=x(U,ne,d.typeAnnotation||"assert")}if(!(U instanceof pn)&&U.type.kind!=="resolvedImage"&&oh(U)){const ne=new Hn;try{U=new pn(U.type,U.evaluate(ne))}catch(oe){return this.error(oe.message),null}}return U}return this.error(`Unknown expression "${A}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,x){const A=typeof l=="number"?this.path.concat(l):this.path,R=x?this.scope.concat(x):this.scope;return new Fp(this.registry,A,d||null,R,this.errors)}error(l,...d){const x=`${this.key}${d.map(A=>`[${A}]`).join("")}`;this.errors.push(new gt(x,l))}checkSubtype(l,d){const x=Mt(l,d);return x&&this.error(x),x}}function oh(u){if(u instanceof zp)return oh(u.boundExpression);if(u instanceof Yn&&u.name==="error"||u instanceof fi||u instanceof uu)return!1;const l=u instanceof Cn||u instanceof Sn;let d=!0;return u.eachChild(x=>{d=l?d&&oh(x):d&&x instanceof pn}),!!d&&$p(u)&&sh(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Bp(u,l){const d=u.length-1;let x,A,R=0,U=d,ne=0;for(;R<=U;)if(ne=Math.floor((R+U)/2),x=u[ne],A=u[ne+1],x<=l){if(ne===d||l<A)return ne;R=ne+1}else{if(!(x>l))throw new rn("Input is not a number.");U=ne-1}return 0}class lh{constructor(l,d,x){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[A,R]of x)this.labels.push(A),this.outputs.push(R)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const x=d.parse(l[1],1,mt);if(!x)return null;const A=[];let R=null;d.expectedType&&d.expectedType.kind!=="value"&&(R=d.expectedType);for(let U=1;U<l.length;U+=2){const ne=U===1?-1/0:l[U],oe=l[U+1],ye=U,Ne=U+1;if(typeof ne!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ye);if(A.length&&A[A.length-1][0]>=ne)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ye);const De=d.parse(oe,Ne,R);if(!De)return null;R=R||De.type,A.push([ne,De])}return new lh(R,x,A)}evaluate(l){const d=this.labels,x=this.outputs;if(d.length===1)return x[0].evaluate(l);const A=this.input.evaluate(l);if(A<=d[0])return x[0].evaluate(l);const R=d.length;return A>=d[R-1]?x[R-1].evaluate(l):x[Bp(d,A)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function Tr(u,l,d){return u*(1-d)+l*d}var ch=Object.freeze({__proto__:null,number:Tr,color:function(u,l,d){return new Fe(Tr(u.r,l.r,d),Tr(u.g,l.g,d),Tr(u.b,l.b,d),Tr(u.a,l.a,d))},array:function(u,l,d){return u.map((x,A)=>Tr(x,l[A],d))},padding:function(u,l,d){const x=u.values,A=l.values;return new at([Tr(x[0],A[0],d),Tr(x[1],A[1],d),Tr(x[2],A[2],d),Tr(x[3],A[3],d)])}});const Vf=.95047,gv=1.08883,yv=4/29,jp=6/29,qf=3*jp*jp,$0=Math.PI/180,z0=180/Math.PI;function Wf(u){return u>.008856451679035631?Math.pow(u,1/3):u/qf+yv}function Hf(u){return u>jp?u*u*u:qf*(u-yv)}function Xf(u){return 255*(u<=.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055)}function Zf(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function vv(u){const l=Zf(u.r),d=Zf(u.g),x=Zf(u.b),A=Wf((.4124564*l+.3575761*d+.1804375*x)/Vf),R=Wf((.2126729*l+.7151522*d+.072175*x)/1);return{l:116*R-16,a:500*(A-R),b:200*(R-Wf((.0193339*l+.119192*d+.9503041*x)/gv)),alpha:u.a}}function zi(u){let l=(u.l+16)/116,d=isNaN(u.a)?l:l+u.a/500,x=isNaN(u.b)?l:l-u.b/200;return l=1*Hf(l),d=Vf*Hf(d),x=gv*Hf(x),new Fe(Xf(3.2404542*d-1.5371385*l-.4985314*x),Xf(-.969266*d+1.8760108*l+.041556*x),Xf(.0556434*d-.2040259*l+1.0572252*x),u.alpha)}function F0(u,l,d){const x=l-u;return u+d*(x>180||x<-180?x-360*Math.round(x/360):x)}const uh={forward:vv,reverse:zi,interpolate:function(u,l,d){return{l:Tr(u.l,l.l,d),a:Tr(u.a,l.a,d),b:Tr(u.b,l.b,d),alpha:Tr(u.alpha,l.alpha,d)}}},dh={forward:function(u){const{l,a:d,b:x}=vv(u),A=Math.atan2(x,d)*z0;return{h:A<0?A+360:A,c:Math.sqrt(d*d+x*x),l,alpha:u.a}},reverse:function(u){const l=u.h*$0,d=u.c;return zi({l:u.l,a:Math.cos(l)*d,b:Math.sin(l)*d,alpha:u.alpha})},interpolate:function(u,l,d){return{h:F0(u.h,l.h,d),c:Tr(u.c,l.c,d),l:Tr(u.l,l.l,d),alpha:Tr(u.alpha,l.alpha,d)}}};var xv=Object.freeze({__proto__:null,lab:uh,hcl:dh});class ro{constructor(l,d,x,A,R){this.type=l,this.operator=d,this.interpolation=x,this.input=A,this.labels=[],this.outputs=[];for(const[U,ne]of R)this.labels.push(U),this.outputs.push(ne)}static interpolationFactor(l,d,x,A){let R=0;if(l.name==="exponential")R=Kf(d,l.base,x,A);else if(l.name==="linear")R=Kf(d,1,x,A);else if(l.name==="cubic-bezier"){const U=l.controlPoints;R=new h(U[0],U[1],U[2],U[3]).solve(Kf(d,1,x,A))}return R}static parse(l,d){let[x,A,R,...U]=l;if(!Array.isArray(A)||A.length===0)return d.error("Expected an interpolation type expression.",1);if(A[0]==="linear")A={name:"linear"};else if(A[0]==="exponential"){const ye=A[1];if(typeof ye!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);A={name:"exponential",base:ye}}else{if(A[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(A[0])}`,1,0);{const ye=A.slice(1);if(ye.length!==4||ye.some(Ne=>typeof Ne!="number"||Ne<0||Ne>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);A={name:"cubic-bezier",controlPoints:ye}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(R=d.parse(R,2,mt),!R)return null;const ne=[];let oe=null;x==="interpolate-hcl"||x==="interpolate-lab"?oe=sn:d.expectedType&&d.expectedType.kind!=="value"&&(oe=d.expectedType);for(let ye=0;ye<U.length;ye+=2){const Ne=U[ye],De=U[ye+1],Be=ye+3,qe=ye+4;if(typeof Ne!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Be);if(ne.length&&ne[ne.length-1][0]>=Ne)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Be);const He=d.parse(De,qe,oe);if(!He)return null;oe=oe||He.type,ne.push([Ne,He])}return oe.kind==="number"||oe.kind==="color"||oe.kind==="padding"||oe.kind==="array"&&oe.itemType.kind==="number"&&typeof oe.N=="number"?new ro(oe,x,A,R,ne):d.error(`Type ${ut(oe)} is not interpolatable.`)}evaluate(l){const d=this.labels,x=this.outputs;if(d.length===1)return x[0].evaluate(l);const A=this.input.evaluate(l);if(A<=d[0])return x[0].evaluate(l);const R=d.length;if(A>=d[R-1])return x[R-1].evaluate(l);const U=Bp(d,A),ne=ro.interpolationFactor(this.interpolation,A,d[U],d[U+1]),oe=x[U].evaluate(l),ye=x[U+1].evaluate(l);return this.operator==="interpolate"?ch[this.type.kind.toLowerCase()](oe,ye,ne):this.operator==="interpolate-hcl"?dh.reverse(dh.interpolate(dh.forward(oe),dh.forward(ye),ne)):uh.reverse(uh.interpolate(uh.forward(oe),uh.forward(ye),ne))}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function Kf(u,l,d,x){const A=x-d,R=u-d;return A===0?0:l===1?R/A:(Math.pow(l,R)-1)/(Math.pow(l,A)-1)}class Up{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let x=null;const A=d.expectedType;A&&A.kind!=="value"&&(x=A);const R=[];for(const ne of l.slice(1)){const oe=d.parse(ne,1+R.length,x,void 0,{typeAnnotation:"omit"});if(!oe)return null;x=x||oe.type,R.push(oe)}if(!x)throw new Error("No output type");const U=A&&R.some(ne=>Mt(A,ne.type));return new Up(U?Zt:x,R)}evaluate(l){let d,x=null,A=0;for(const R of this.args)if(A++,x=R.evaluate(l),x&&x instanceof nt&&!x.available&&(d||(d=x.name),x=null,A===this.args.length&&(x=d)),x!==null)break;return x}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class Gp{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const x=[];for(let R=1;R<l.length-1;R+=2){const U=l[R];if(typeof U!="string")return d.error(`Expected string, but found ${typeof U} instead.`,R);if(/[^a-zA-Z0-9_]/.test(U))return d.error("Variable names must contain only alphanumeric characters or '_'.",R);const ne=d.parse(l[R+1],R+1);if(!ne)return null;x.push([U,ne])}const A=d.parse(l[l.length-1],l.length-1,d.expectedType,x);return A?new Gp(x,A):null}outputDefined(){return this.result.outputDefined()}}class Qf{constructor(l,d,x){this.type=l,this.index=d,this.input=x}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const x=d.parse(l[1],1,mt),A=d.parse(l[2],2,oi(d.expectedType||Zt));return x&&A?new Qf(A.type.itemType,x,A):null}evaluate(l){const d=this.index.evaluate(l),x=this.input.evaluate(l);if(d<0)throw new rn(`Array index out of bounds: ${d} < 0.`);if(d>=x.length)throw new rn(`Array index out of bounds: ${d} > ${x.length-1}.`);if(d!==Math.floor(d))throw new rn(`Array index must be an integer, but found ${d} instead.`);return x[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class Jf{constructor(l,d){this.type=St,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const x=d.parse(l[1],1,Zt),A=d.parse(l[2],2,Zt);return x&&A?Gt(x.type,[St,Ct,mt,$t,Zt])?new Jf(x,A):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${ut(x.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),x=this.haystack.evaluate(l);if(!x)return!1;if(!Qt(d,["boolean","string","number","null"]))throw new rn(`Expected first argument to be of type boolean, string, number or null, but found ${ut(Ft(d))} instead.`);if(!Qt(x,["string","array"]))throw new rn(`Expected second argument to be of type array or string, but found ${ut(Ft(x))} instead.`);return x.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Yp{constructor(l,d,x){this.type=mt,this.needle=l,this.haystack=d,this.fromIndex=x}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const x=d.parse(l[1],1,Zt),A=d.parse(l[2],2,Zt);if(!x||!A)return null;if(!Gt(x.type,[St,Ct,mt,$t,Zt]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${ut(x.type)} instead`);if(l.length===4){const R=d.parse(l[3],3,mt);return R?new Yp(x,A,R):null}return new Yp(x,A)}evaluate(l){const d=this.needle.evaluate(l),x=this.haystack.evaluate(l);if(!Qt(d,["boolean","string","number","null"]))throw new rn(`Expected first argument to be of type boolean, string, number or null, but found ${ut(Ft(d))} instead.`);if(!Qt(x,["string","array"]))throw new rn(`Expected second argument to be of type array or string, but found ${ut(Ft(x))} instead.`);if(this.fromIndex){const A=this.fromIndex.evaluate(l);return x.indexOf(d,A)}return x.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class eg{constructor(l,d,x,A,R,U){this.inputType=l,this.type=d,this.input=x,this.cases=A,this.outputs=R,this.otherwise=U}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let x,A;d.expectedType&&d.expectedType.kind!=="value"&&(A=d.expectedType);const R={},U=[];for(let ye=2;ye<l.length-1;ye+=2){let Ne=l[ye];const De=l[ye+1];Array.isArray(Ne)||(Ne=[Ne]);const Be=d.concat(ye);if(Ne.length===0)return Be.error("Expected at least one branch label.");for(const He of Ne){if(typeof He!="number"&&typeof He!="string")return Be.error("Branch labels must be numbers or strings.");if(typeof He=="number"&&Math.abs(He)>Number.MAX_SAFE_INTEGER)return Be.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof He=="number"&&Math.floor(He)!==He)return Be.error("Numeric branch labels must be integer values.");if(x){if(Be.checkSubtype(x,Ft(He)))return null}else x=Ft(He);if(R[String(He)]!==void 0)return Be.error("Branch labels must be unique.");R[String(He)]=U.length}const qe=d.parse(De,ye,A);if(!qe)return null;A=A||qe.type,U.push(qe)}const ne=d.parse(l[1],1,Zt);if(!ne)return null;const oe=d.parse(l[l.length-1],l.length-1,A);return oe?ne.type.kind!=="value"&&d.concat(1).checkSubtype(x,ne.type)?null:new eg(x,A,ne,R,U,oe):null}evaluate(l){const d=this.input.evaluate(l);return(Ft(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class tg{constructor(l,d,x){this.type=l,this.branches=d,this.otherwise=x}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let x;d.expectedType&&d.expectedType.kind!=="value"&&(x=d.expectedType);const A=[];for(let U=1;U<l.length-1;U+=2){const ne=d.parse(l[U],U,St);if(!ne)return null;const oe=d.parse(l[U+1],U+1,x);if(!oe)return null;A.push([ne,oe]),x=x||oe.type}const R=d.parse(l[l.length-1],l.length-1,x);if(!R)return null;if(!x)throw new Error("Can't infer output type");return new tg(x,A,R)}evaluate(l){for(const[d,x]of this.branches)if(d.evaluate(l))return x.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,x]of this.branches)l(d),l(x);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class Vp{constructor(l,d,x,A){this.type=l,this.input=d,this.beginIndex=x,this.endIndex=A}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const x=d.parse(l[1],1,Zt),A=d.parse(l[2],2,mt);if(!x||!A)return null;if(!Gt(x.type,[oi(Zt),Ct,Zt]))return d.error(`Expected first argument to be of type array or string, but found ${ut(x.type)} instead`);if(l.length===4){const R=d.parse(l[3],3,mt);return R?new Vp(x.type,x,A,R):null}return new Vp(x.type,x,A)}evaluate(l){const d=this.input.evaluate(l),x=this.beginIndex.evaluate(l);if(!Qt(d,["string","array"]))throw new rn(`Expected first argument to be of type array or string, but found ${ut(Ft(d))} instead.`);if(this.endIndex){const A=this.endIndex.evaluate(l);return d.slice(x,A)}return d.slice(x)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function bv(u,l){return u==="=="||u==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function _v(u,l,d,x){return x.compare(l,d)===0}function nd(u,l,d){const x=u!=="=="&&u!=="!=";return class qA{constructor(R,U,ne){this.type=St,this.lhs=R,this.rhs=U,this.collator=ne,this.hasUntypedArgument=R.type.kind==="value"||U.type.kind==="value"}static parse(R,U){if(R.length!==3&&R.length!==4)return U.error("Expected two or three arguments.");const ne=R[0];let oe=U.parse(R[1],1,Zt);if(!oe)return null;if(!bv(ne,oe.type))return U.concat(1).error(`"${ne}" comparisons are not supported for type '${ut(oe.type)}'.`);let ye=U.parse(R[2],2,Zt);if(!ye)return null;if(!bv(ne,ye.type))return U.concat(2).error(`"${ne}" comparisons are not supported for type '${ut(ye.type)}'.`);if(oe.type.kind!==ye.type.kind&&oe.type.kind!=="value"&&ye.type.kind!=="value")return U.error(`Cannot compare types '${ut(oe.type)}' and '${ut(ye.type)}'.`);x&&(oe.type.kind==="value"&&ye.type.kind!=="value"?oe=new Sn(ye.type,[oe]):oe.type.kind!=="value"&&ye.type.kind==="value"&&(ye=new Sn(oe.type,[ye])));let Ne=null;if(R.length===4){if(oe.type.kind!=="string"&&ye.type.kind!=="string"&&oe.type.kind!=="value"&&ye.type.kind!=="value")return U.error("Cannot use collator to compare non-string types.");if(Ne=U.parse(R[3],3,di),!Ne)return null}return new qA(oe,ye,Ne)}evaluate(R){const U=this.lhs.evaluate(R),ne=this.rhs.evaluate(R);if(x&&this.hasUntypedArgument){const oe=Ft(U),ye=Ft(ne);if(oe.kind!==ye.kind||oe.kind!=="string"&&oe.kind!=="number")throw new rn(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${oe.kind}, ${ye.kind}) instead.`)}if(this.collator&&!x&&this.hasUntypedArgument){const oe=Ft(U),ye=Ft(ne);if(oe.kind!=="string"||ye.kind!=="string")return l(R,U,ne)}return this.collator?d(R,U,ne,this.collator.evaluate(R)):l(R,U,ne)}eachChild(R){R(this.lhs),R(this.rhs),this.collator&&R(this.collator)}outputDefined(){return!0}}}const B0=nd("==",function(u,l,d){return l===d},_v),j0=nd("!=",function(u,l,d){return l!==d},function(u,l,d,x){return!_v(0,l,d,x)}),U0=nd("<",function(u,l,d){return l<d},function(u,l,d,x){return x.compare(l,d)<0}),G0=nd(">",function(u,l,d){return l>d},function(u,l,d,x){return x.compare(l,d)>0}),Y0=nd("<=",function(u,l,d){return l<=d},function(u,l,d,x){return x.compare(l,d)<=0}),V0=nd(">=",function(u,l,d){return l>=d},function(u,l,d,x){return x.compare(l,d)>=0});class ng{constructor(l,d,x,A,R){this.type=Ct,this.number=l,this.locale=d,this.currency=x,this.minFractionDigits=A,this.maxFractionDigits=R}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const x=d.parse(l[1],1,mt);if(!x)return null;const A=l[2];if(typeof A!="object"||Array.isArray(A))return d.error("NumberFormat options argument must be an object.");let R=null;if(A.locale&&(R=d.parse(A.locale,1,Ct),!R))return null;let U=null;if(A.currency&&(U=d.parse(A.currency,1,Ct),!U))return null;let ne=null;if(A["min-fraction-digits"]&&(ne=d.parse(A["min-fraction-digits"],1,mt),!ne))return null;let oe=null;return A["max-fraction-digits"]&&(oe=d.parse(A["max-fraction-digits"],1,mt),!oe)?null:new ng(x,R,U,ne,oe)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class qp{constructor(l){this.type=ni,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const x=l[1];if(!Array.isArray(x)&&typeof x=="object")return d.error("First argument must be an image or text section.");const A=[];let R=!1;for(let U=1;U<=l.length-1;++U){const ne=l[U];if(R&&typeof ne=="object"&&!Array.isArray(ne)){R=!1;let oe=null;if(ne["font-scale"]&&(oe=d.parse(ne["font-scale"],1,mt),!oe))return null;let ye=null;if(ne["text-font"]&&(ye=d.parse(ne["text-font"],1,oi(Ct)),!ye))return null;let Ne=null;if(ne["text-color"]&&(Ne=d.parse(ne["text-color"],1,sn),!Ne))return null;const De=A[A.length-1];De.scale=oe,De.font=ye,De.textColor=Ne}else{const oe=d.parse(l[U],1,Zt);if(!oe)return null;const ye=oe.type.kind;if(ye!=="string"&&ye!=="value"&&ye!=="null"&&ye!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");R=!0,A.push({content:oe,scale:null,font:null,textColor:null})}}return new qp(A)}evaluate(l){return new lt(this.sections.map(d=>{const x=d.content.evaluate(l);return Ft(x)===Vi?new it("",x,null,null,null):new it(Rt(x),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}}class ig{constructor(l){this.type=Vi,this.input=l}static parse(l,d){if(l.length!==2)return d.error("Expected two arguments.");const x=d.parse(l[1],1,Ct);return x?new ig(x):d.error("No image name provided.")}evaluate(l){const d=this.input.evaluate(l),x=nt.fromString(d);return x&&l.availableImages&&(x.available=l.availableImages.indexOf(d)>-1),x}eachChild(l){l(this.input)}outputDefined(){return!1}}class rg{constructor(l){this.type=mt,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const x=d.parse(l[1],1);return x?x.type.kind!=="array"&&x.type.kind!=="string"&&x.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${ut(x.type)} instead.`):new rg(x):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new rn(`Expected value to be of type string or array, but found ${ut(Ft(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const id={"==":B0,"!=":j0,">":G0,"<":U0,">=":V0,"<=":Y0,array:Sn,at:Qf,boolean:Sn,case:tg,coalesce:Up,collator:fi,format:qp,image:ig,in:Jf,"index-of":Yp,interpolate:ro,"interpolate-hcl":ro,"interpolate-lab":ro,length:rg,let:Gp,literal:pn,match:eg,number:Sn,"number-format":ng,object:Sn,slice:Vp,step:lh,string:Sn,"to-boolean":Cn,"to-color":Cn,"to-number":Cn,"to-string":Cn,var:zp,within:uu};function wv(u,[l,d,x,A]){l=l.evaluate(u),d=d.evaluate(u),x=x.evaluate(u);const R=A?A.evaluate(u):1,U=ft(l,d,x,R);if(U)throw new rn(U);return new Fe(l/255*R,d/255*R,x/255*R,R)}function Tv(u,l){return u in l}function ag(u,l){const d=l[u];return d===void 0?null:d}function Tc(u){return{type:u}}function Sv(u){return{result:"success",value:u}}function rd(u){return{result:"error",value:u}}function ad(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function Br(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function sg(u){return!!u.expression&&u.expression.interpolated}function kn(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function sd(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function Sr(u){return u}function ur(u,l){const d=l.type==="color",x=u.stops&&typeof u.stops[0][0]=="object",A=x||!(x||u.property!==void 0),R=u.type||(sg(l)?"exponential":"interval");if(d||l.type==="padding"){const ye=d?Fe.parse:at.parse;(u=tt({},u)).stops&&(u.stops=u.stops.map(Ne=>[Ne[0],ye(Ne[1])])),u.default=ye(u.default?u.default:l.default)}if(u.colorSpace&&u.colorSpace!=="rgb"&&!xv[u.colorSpace])throw new Error(`Unknown color space: ${u.colorSpace}`);let U,ne,oe;if(R==="exponential")U=Ev;else if(R==="interval")U=q0;else if(R==="categorical"){U=Cv,ne=Object.create(null);for(const ye of u.stops)ne[ye[0]]=ye[1];oe=typeof u.stops[0][0]}else{if(R!=="identity")throw new Error(`Unknown function type "${R}"`);U=W0}if(x){const ye={},Ne=[];for(let qe=0;qe<u.stops.length;qe++){const He=u.stops[qe],ct=He[0].zoom;ye[ct]===void 0&&(ye[ct]={zoom:ct,type:u.type,property:u.property,default:u.default,stops:[]},Ne.push(ct)),ye[ct].stops.push([He[0].value,He[1]])}const De=[];for(const qe of Ne)De.push([ye[qe].zoom,ur(ye[qe],l)]);const Be={name:"linear"};return{kind:"composite",interpolationType:Be,interpolationFactor:ro.interpolationFactor.bind(void 0,Be),zoomStops:De.map(qe=>qe[0]),evaluate:({zoom:qe},He)=>Ev({stops:De,base:u.base},l,qe).evaluate(qe,He)}}if(A){const ye=R==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:ye,interpolationFactor:ro.interpolationFactor.bind(void 0,ye),zoomStops:u.stops.map(Ne=>Ne[0]),evaluate:({zoom:Ne})=>U(u,l,Ne,ne,oe)}}return{kind:"source",evaluate(ye,Ne){const De=Ne&&Ne.properties?Ne.properties[u.property]:void 0;return De===void 0?Sc(u.default,l.default):U(u,l,De,ne,oe)}}}function Sc(u,l,d){return u!==void 0?u:l!==void 0?l:d!==void 0?d:void 0}function Cv(u,l,d,x,A){return Sc(typeof d===A?x[d]:void 0,u.default,l.default)}function q0(u,l,d){if(kn(d)!=="number")return Sc(u.default,l.default);const x=u.stops.length;if(x===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[x-1][0])return u.stops[x-1][1];const A=Bp(u.stops.map(R=>R[0]),d);return u.stops[A][1]}function Ev(u,l,d){const x=u.base!==void 0?u.base:1;if(kn(d)!=="number")return Sc(u.default,l.default);const A=u.stops.length;if(A===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[A-1][0])return u.stops[A-1][1];const R=Bp(u.stops.map(Ne=>Ne[0]),d),U=function(Ne,De,Be,qe){const He=qe-Be,ct=Ne-Be;return He===0?0:De===1?ct/He:(Math.pow(De,ct)-1)/(Math.pow(De,He)-1)}(d,x,u.stops[R][0],u.stops[R+1][0]),ne=u.stops[R][1],oe=u.stops[R+1][1];let ye=ch[l.type]||Sr;if(u.colorSpace&&u.colorSpace!=="rgb"){const Ne=xv[u.colorSpace];ye=(De,Be)=>Ne.reverse(Ne.interpolate(Ne.forward(De),Ne.forward(Be),U))}return typeof ne.evaluate=="function"?{evaluate(...Ne){const De=ne.evaluate.apply(void 0,Ne),Be=oe.evaluate.apply(void 0,Ne);if(De!==void 0&&Be!==void 0)return ye(De,Be,U)}}:ye(ne,oe,U)}function W0(u,l,d){switch(l.type){case"color":d=Fe.parse(d);break;case"formatted":d=lt.fromString(d.toString());break;case"resolvedImage":d=nt.fromString(d.toString());break;case"padding":d=at.parse(d);break;default:kn(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0)}return Sc(d,u.default,l.default)}Yn.register(id,{error:[{kind:"error"},[Ct],(u,[l])=>{throw new rn(l.evaluate(u))}],typeof:[Ct,[Zt],(u,[l])=>ut(Ft(l.evaluate(u)))],"to-rgba":[oi(mt,4),[sn],(u,[l])=>l.evaluate(u).toArray()],rgb:[sn,[mt,mt,mt],wv],rgba:[sn,[mt,mt,mt,mt],wv],has:{type:St,overloads:[[[Ct],(u,[l])=>Tv(l.evaluate(u),u.properties())],[[Ct,yn],(u,[l,d])=>Tv(l.evaluate(u),d.evaluate(u))]]},get:{type:Zt,overloads:[[[Ct],(u,[l])=>ag(l.evaluate(u),u.properties())],[[Ct,yn],(u,[l,d])=>ag(l.evaluate(u),d.evaluate(u))]]},"feature-state":[Zt,[Ct],(u,[l])=>ag(l.evaluate(u),u.featureState||{})],properties:[yn,[],u=>u.properties()],"geometry-type":[Ct,[],u=>u.geometryType()],id:[Zt,[],u=>u.id()],zoom:[mt,[],u=>u.globals.zoom],"heatmap-density":[mt,[],u=>u.globals.heatmapDensity||0],"line-progress":[mt,[],u=>u.globals.lineProgress||0],accumulated:[Zt,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[mt,Tc(mt),(u,l)=>{let d=0;for(const x of l)d+=x.evaluate(u);return d}],"*":[mt,Tc(mt),(u,l)=>{let d=1;for(const x of l)d*=x.evaluate(u);return d}],"-":{type:mt,overloads:[[[mt,mt],(u,[l,d])=>l.evaluate(u)-d.evaluate(u)],[[mt],(u,[l])=>-l.evaluate(u)]]},"/":[mt,[mt,mt],(u,[l,d])=>l.evaluate(u)/d.evaluate(u)],"%":[mt,[mt,mt],(u,[l,d])=>l.evaluate(u)%d.evaluate(u)],ln2:[mt,[],()=>Math.LN2],pi:[mt,[],()=>Math.PI],e:[mt,[],()=>Math.E],"^":[mt,[mt,mt],(u,[l,d])=>Math.pow(l.evaluate(u),d.evaluate(u))],sqrt:[mt,[mt],(u,[l])=>Math.sqrt(l.evaluate(u))],log10:[mt,[mt],(u,[l])=>Math.log(l.evaluate(u))/Math.LN10],ln:[mt,[mt],(u,[l])=>Math.log(l.evaluate(u))],log2:[mt,[mt],(u,[l])=>Math.log(l.evaluate(u))/Math.LN2],sin:[mt,[mt],(u,[l])=>Math.sin(l.evaluate(u))],cos:[mt,[mt],(u,[l])=>Math.cos(l.evaluate(u))],tan:[mt,[mt],(u,[l])=>Math.tan(l.evaluate(u))],asin:[mt,[mt],(u,[l])=>Math.asin(l.evaluate(u))],acos:[mt,[mt],(u,[l])=>Math.acos(l.evaluate(u))],atan:[mt,[mt],(u,[l])=>Math.atan(l.evaluate(u))],min:[mt,Tc(mt),(u,l)=>Math.min(...l.map(d=>d.evaluate(u)))],max:[mt,Tc(mt),(u,l)=>Math.max(...l.map(d=>d.evaluate(u)))],abs:[mt,[mt],(u,[l])=>Math.abs(l.evaluate(u))],round:[mt,[mt],(u,[l])=>{const d=l.evaluate(u);return d<0?-Math.round(-d):Math.round(d)}],floor:[mt,[mt],(u,[l])=>Math.floor(l.evaluate(u))],ceil:[mt,[mt],(u,[l])=>Math.ceil(l.evaluate(u))],"filter-==":[St,[Ct,Zt],(u,[l,d])=>u.properties()[l.value]===d.value],"filter-id-==":[St,[Zt],(u,[l])=>u.id()===l.value],"filter-type-==":[St,[Ct],(u,[l])=>u.geometryType()===l.value],"filter-<":[St,[Ct,Zt],(u,[l,d])=>{const x=u.properties()[l.value],A=d.value;return typeof x==typeof A&&x<A}],"filter-id-<":[St,[Zt],(u,[l])=>{const d=u.id(),x=l.value;return typeof d==typeof x&&d<x}],"filter->":[St,[Ct,Zt],(u,[l,d])=>{const x=u.properties()[l.value],A=d.value;return typeof x==typeof A&&x>A}],"filter-id->":[St,[Zt],(u,[l])=>{const d=u.id(),x=l.value;return typeof d==typeof x&&d>x}],"filter-<=":[St,[Ct,Zt],(u,[l,d])=>{const x=u.properties()[l.value],A=d.value;return typeof x==typeof A&&x<=A}],"filter-id-<=":[St,[Zt],(u,[l])=>{const d=u.id(),x=l.value;return typeof d==typeof x&&d<=x}],"filter->=":[St,[Ct,Zt],(u,[l,d])=>{const x=u.properties()[l.value],A=d.value;return typeof x==typeof A&&x>=A}],"filter-id->=":[St,[Zt],(u,[l])=>{const d=u.id(),x=l.value;return typeof d==typeof x&&d>=x}],"filter-has":[St,[Zt],(u,[l])=>l.value in u.properties()],"filter-has-id":[St,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[St,[oi(Ct)],(u,[l])=>l.value.indexOf(u.geometryType())>=0],"filter-id-in":[St,[oi(Zt)],(u,[l])=>l.value.indexOf(u.id())>=0],"filter-in-small":[St,[Ct,oi(Zt)],(u,[l,d])=>d.value.indexOf(u.properties()[l.value])>=0],"filter-in-large":[St,[Ct,oi(Zt)],(u,[l,d])=>function(x,A,R,U){for(;R<=U;){const ne=R+U>>1;if(A[ne]===x)return!0;A[ne]>x?U=ne-1:R=ne+1}return!1}(u.properties()[l.value],d.value,0,d.value.length-1)],all:{type:St,overloads:[[[St,St],(u,[l,d])=>l.evaluate(u)&&d.evaluate(u)],[Tc(St),(u,l)=>{for(const d of l)if(!d.evaluate(u))return!1;return!0}]]},any:{type:St,overloads:[[[St,St],(u,[l,d])=>l.evaluate(u)||d.evaluate(u)],[Tc(St),(u,l)=>{for(const d of l)if(d.evaluate(u))return!0;return!1}]]},"!":[St,[St],(u,[l])=>!l.evaluate(u)],"is-supported-script":[St,[Ct],(u,[l])=>{const d=u.globals&&u.globals.isSupportedScript;return!d||d(l.evaluate(u))}],upcase:[Ct,[Ct],(u,[l])=>l.evaluate(u).toUpperCase()],downcase:[Ct,[Ct],(u,[l])=>l.evaluate(u).toLowerCase()],concat:[Ct,Tc(Zt),(u,l)=>l.map(d=>Rt(d.evaluate(u))).join("")],"resolved-locale":[Ct,[di],(u,[l])=>l.evaluate(u).resolvedLocale()]});class og{constructor(l,d){this.expression=l,this._warningHistory={},this._evaluator=new Hn,this._defaultValue=d?function(x){return x.type==="color"&&sd(x.default)?new Fe(0,0,0,0):x.type==="color"?Fe.parse(x.default)||null:x.type==="padding"?at.parse(x.default)||null:x.default===void 0?null:x.default}(d):null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,x,A,R,U){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=x,this._evaluator.canonical=A,this._evaluator.availableImages=R||null,this._evaluator.formattedSection=U,this.expression.evaluate(this._evaluator)}evaluate(l,d,x,A,R,U){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=x||null,this._evaluator.canonical=A,this._evaluator.availableImages=R||null,this._evaluator.formattedSection=U||null;try{const ne=this.expression.evaluate(this._evaluator);if(ne==null||typeof ne=="number"&&ne!=ne)return this._defaultValue;if(this._enumValues&&!(ne in this._enumValues))throw new rn(`Expected value to be one of ${Object.keys(this._enumValues).map(oe=>JSON.stringify(oe)).join(", ")}, but found ${JSON.stringify(ne)} instead.`);return ne}catch(ne){return this._warningHistory[ne.message]||(this._warningHistory[ne.message]=!0,typeof console<"u"&&console.warn(ne.message)),this._defaultValue}}}function hh(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in id}function ph(u,l){const d=new Fp(id,[],l?function(A){const R={color:sn,string:Ct,number:mt,enum:Ct,boolean:St,formatted:ni,padding:_i,resolvedImage:Vi};return A.type==="array"?oi(R[A.value]||Zt,A.length):R[A.type]}(l):void 0),x=d.parse(u,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return x?Sv(new og(x,l)):rd(d.errors)}class Wp{constructor(l,d){this.kind=l,this._styleExpression=d,this.isStateDependent=l!=="constant"&&!td(d.expression)}evaluateWithoutErrorHandling(l,d,x,A,R,U){return this._styleExpression.evaluateWithoutErrorHandling(l,d,x,A,R,U)}evaluate(l,d,x,A,R,U){return this._styleExpression.evaluate(l,d,x,A,R,U)}}class mh{constructor(l,d,x,A){this.kind=l,this.zoomStops=x,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!td(d.expression),this.interpolationType=A}evaluateWithoutErrorHandling(l,d,x,A,R,U){return this._styleExpression.evaluateWithoutErrorHandling(l,d,x,A,R,U)}evaluate(l,d,x,A,R,U){return this._styleExpression.evaluate(l,d,x,A,R,U)}interpolationFactor(l,d,x){return this.interpolationType?ro.interpolationFactor(this.interpolationType,l,d,x):0}}function kv(u,l){const d=ph(u,l);if(d.result==="error")return d;const x=d.value.expression,A=$p(x);if(!A&&!ad(l))return rd([new gt("","data expressions not supported")]);const R=sh(x,["zoom"]);if(!R&&!Br(l))return rd([new gt("","zoom expressions not supported")]);const U=Xp(x);return U||R?U instanceof gt?rd([U]):U instanceof ro&&!sg(l)?rd([new gt("",'"interpolate" expressions cannot be used with this property')]):Sv(U?new mh(A?"camera":"composite",d.value,U.labels,U instanceof ro?U.interpolation:void 0):new Wp(A?"constant":"source",d.value)):rd([new gt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Hp{constructor(l,d){this._parameters=l,this._specification=d,tt(this,ur(this._parameters,this._specification))}static deserialize(l){return new Hp(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Xp(u){let l=null;if(u instanceof Gp)l=Xp(u.result);else if(u instanceof Up){for(const d of u.args)if(l=Xp(d),l)break}else(u instanceof lh||u instanceof ro)&&u.input instanceof Yn&&u.input.name==="zoom"&&(l=u);return l instanceof gt||u.eachChild(d=>{const x=Xp(d);x instanceof gt?l=x:!l&&x?l=new gt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&x&&l!==x&&(l=new gt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function Xo(u){const l=u.key,d=u.value,x=u.valueSpec||{},A=u.objectElementValidators||{},R=u.style,U=u.styleSpec;let ne=[];const oe=kn(d);if(oe!=="object")return[new ze(l,d,`object expected, ${oe} found`)];for(const ye in d){const Ne=ye.split(".")[0],De=x[Ne]||x["*"];let Be;if(A[Ne])Be=A[Ne];else if(x[Ne])Be=ts;else if(A["*"])Be=A["*"];else{if(!x["*"]){ne.push(new ze(l,d[ye],`unknown property "${ye}"`));continue}Be=ts}ne=ne.concat(Be({key:(l&&`${l}.`)+ye,value:d[ye],valueSpec:De,style:R,styleSpec:U,object:d,objectKey:ye},d))}for(const ye in x)A[ye]||x[ye].required&&x[ye].default===void 0&&d[ye]===void 0&&ne.push(new ze(l,d,`missing required property "${ye}"`));return ne}function Lv(u){const l=u.value,d=u.valueSpec,x=u.style,A=u.styleSpec,R=u.key,U=u.arrayElementValidator||ts;if(kn(l)!=="array")return[new ze(R,l,`array expected, ${kn(l)} found`)];if(d.length&&l.length!==d.length)return[new ze(R,l,`array length ${d.length} expected, length ${l.length} found`)];if(d["min-length"]&&l.length<d["min-length"])return[new ze(R,l,`array length at least ${d["min-length"]} expected, length ${l.length} found`)];let ne={type:d.value,values:d.values};A.$version<7&&(ne.function=d.function),kn(d.value)==="object"&&(ne=d.value);let oe=[];for(let ye=0;ye<l.length;ye++)oe=oe.concat(U({array:l,arrayIndex:ye,value:l[ye],valueSpec:ne,style:x,styleSpec:A,key:`${R}[${ye}]`}));return oe}function lg(u){const l=u.key,d=u.value,x=u.valueSpec;let A=kn(d);return A==="number"&&d!=d&&(A="NaN"),A!=="number"?[new ze(l,d,`number expected, ${A} found`)]:"minimum"in x&&d<x.minimum?[new ze(l,d,`${d} is less than the minimum value ${x.minimum}`)]:"maximum"in x&&d>x.maximum?[new ze(l,d,`${d} is greater than the maximum value ${x.maximum}`)]:[]}function Nv(u){const l=u.valueSpec,d=st(u.value.type);let x,A,R,U={};const ne=d!=="categorical"&&u.value.property===void 0,oe=!ne,ye=kn(u.value.stops)==="array"&&kn(u.value.stops[0])==="array"&&kn(u.value.stops[0][0])==="object",Ne=Xo({key:u.key,value:u.value,valueSpec:u.styleSpec.function,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(qe){if(d==="identity")return[new ze(qe.key,qe.value,'identity function may not have a "stops" property')];let He=[];const ct=qe.value;return He=He.concat(Lv({key:qe.key,value:ct,valueSpec:qe.valueSpec,style:qe.style,styleSpec:qe.styleSpec,arrayElementValidator:De})),kn(ct)==="array"&&ct.length===0&&He.push(new ze(qe.key,ct,"array must have at least one stop")),He},default:function(qe){return ts({key:qe.key,value:qe.value,valueSpec:l,style:qe.style,styleSpec:qe.styleSpec})}}});return d==="identity"&&ne&&Ne.push(new ze(u.key,u.value,'missing required property "property"')),d==="identity"||u.value.stops||Ne.push(new ze(u.key,u.value,'missing required property "stops"')),d==="exponential"&&u.valueSpec.expression&&!sg(u.valueSpec)&&Ne.push(new ze(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(oe&&!ad(u.valueSpec)?Ne.push(new ze(u.key,u.value,"property functions not supported")):ne&&!Br(u.valueSpec)&&Ne.push(new ze(u.key,u.value,"zoom functions not supported"))),d!=="categorical"&&!ye||u.value.property!==void 0||Ne.push(new ze(u.key,u.value,'"property" property is required')),Ne;function De(qe){let He=[];const ct=qe.value,ot=qe.key;if(kn(ct)!=="array")return[new ze(ot,ct,`array expected, ${kn(ct)} found`)];if(ct.length!==2)return[new ze(ot,ct,`array length 2 expected, length ${ct.length} found`)];if(ye){if(kn(ct[0])!=="object")return[new ze(ot,ct,`object expected, ${kn(ct[0])} found`)];if(ct[0].zoom===void 0)return[new ze(ot,ct,"object stop key must have zoom")];if(ct[0].value===void 0)return[new ze(ot,ct,"object stop key must have value")];if(R&&R>st(ct[0].zoom))return[new ze(ot,ct[0].zoom,"stop zoom values must appear in ascending order")];st(ct[0].zoom)!==R&&(R=st(ct[0].zoom),A=void 0,U={}),He=He.concat(Xo({key:`${ot}[0]`,value:ct[0],valueSpec:{zoom:{}},style:qe.style,styleSpec:qe.styleSpec,objectElementValidators:{zoom:lg,value:Be}}))}else He=He.concat(Be({key:`${ot}[0]`,value:ct[0],valueSpec:{},style:qe.style,styleSpec:qe.styleSpec},ct));return hh(ht(ct[1]))?He.concat([new ze(`${ot}[1]`,ct[1],"expressions are not allowed in function stops.")]):He.concat(ts({key:`${ot}[1]`,value:ct[1],valueSpec:l,style:qe.style,styleSpec:qe.styleSpec}))}function Be(qe,He){const ct=kn(qe.value),ot=st(qe.value),_t=qe.value!==null?qe.value:He;if(x){if(ct!==x)return[new ze(qe.key,_t,`${ct} stop domain type must match previous stop domain type ${x}`)]}else x=ct;if(ct!=="number"&&ct!=="string"&&ct!=="boolean")return[new ze(qe.key,_t,"stop domain value must be a number, string, or boolean")];if(ct!=="number"&&d!=="categorical"){let Dt=`number expected, ${ct} found`;return ad(l)&&d===void 0&&(Dt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ze(qe.key,_t,Dt)]}return d!=="categorical"||ct!=="number"||isFinite(ot)&&Math.floor(ot)===ot?d!=="categorical"&&ct==="number"&&A!==void 0&&ot<A?[new ze(qe.key,_t,"stop domain values must appear in ascending order")]:(A=ot,d==="categorical"&&ot in U?[new ze(qe.key,_t,"stop domain values must be unique")]:(U[ot]=!0,[])):[new ze(qe.key,_t,`integer expected, found ${ot}`)]}}function od(u){const l=(u.expressionContext==="property"?kv:ph)(ht(u.value),u.valueSpec);if(l.result==="error")return l.value.map(x=>new ze(`${u.key}${x.key}`,u.value,x.message));const d=l.value.expression||l.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!d.outputDefined())return[new ze(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!td(d))return[new ze(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter"&&!td(d))return[new ze(u.key,u.value,'"feature-state" data expressions are not supported with filters.')];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!sh(d,["zoom","feature-state"]))return[new ze(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!$p(d))return[new ze(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function fh(u){const l=u.key,d=u.value,x=u.valueSpec,A=[];return Array.isArray(x.values)?x.values.indexOf(st(d))===-1&&A.push(new ze(l,d,`expected one of [${x.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(x.values).indexOf(st(d))===-1&&A.push(new ze(l,d,`expected one of [${Object.keys(x.values).join(", ")}], ${JSON.stringify(d)} found`)),A}function Zp(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const l of u.slice(1))if(!Zp(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const Kp={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function cg(u){if(u==null)return{filter:()=>!0,needGeometry:!1};Zp(u)||(u=Qp(u));const l=ph(u,Kp);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,x,A)=>l.value.evaluate(d,x,{},A),needGeometry:ug(u)}}function Iv(u,l){return u<l?-1:u>l?1:0}function ug(u){if(!Array.isArray(u))return!1;if(u[0]==="within")return!0;for(let l=1;l<u.length;l++)if(ug(u[l]))return!0;return!1}function Qp(u){if(!u)return!0;const l=u[0];return u.length<=1?l!=="any":l==="=="?Jp(u[1],u[2],"=="):l==="!="?du(Jp(u[1],u[2],"==")):l==="<"||l===">"||l==="<="||l===">="?Jp(u[1],u[2],l):l==="any"?(d=u.slice(1),["any"].concat(d.map(Qp))):l==="all"?["all"].concat(u.slice(1).map(Qp)):l==="none"?["all"].concat(u.slice(1).map(Qp).map(du)):l==="in"?Av(u[1],u.slice(2)):l==="!in"?du(Av(u[1],u.slice(2))):l==="has"?em(u[1]):l==="!has"?du(em(u[1])):l!=="within"||u;var d}function Jp(u,l,d){switch(u){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,u,l]}}function Av(u,l){if(l.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",u,["literal",l.sort(Iv)]]:["filter-in-small",u,["literal",l]]}}function em(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function du(u){return["!",u]}function gh(u){return Zp(ht(u.value))?od(tt({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):tm(u)}function tm(u){const l=u.value,d=u.key;if(kn(l)!=="array")return[new ze(d,l,`array expected, ${kn(l)} found`)];const x=u.styleSpec;let A,R=[];if(l.length<1)return[new ze(d,l,"filter array must have at least 1 element")];switch(R=R.concat(fh({key:`${d}[0]`,value:l[0],valueSpec:x.filter_operator,style:u.style,styleSpec:u.styleSpec})),st(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&st(l[1])==="$type"&&R.push(new ze(d,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&R.push(new ze(d,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(A=kn(l[1]),A!=="string"&&R.push(new ze(`${d}[1]`,l[1],`string expected, ${A} found`)));for(let U=2;U<l.length;U++)A=kn(l[U]),st(l[1])==="$type"?R=R.concat(fh({key:`${d}[${U}]`,value:l[U],valueSpec:x.geometry_type,style:u.style,styleSpec:u.styleSpec})):A!=="string"&&A!=="number"&&A!=="boolean"&&R.push(new ze(`${d}[${U}]`,l[U],`string, number, or boolean expected, ${A} found`));break;case"any":case"all":case"none":for(let U=1;U<l.length;U++)R=R.concat(tm({key:`${d}[${U}]`,value:l[U],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":A=kn(l[1]),l.length!==2?R.push(new ze(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):A!=="string"&&R.push(new ze(`${d}[1]`,l[1],`string expected, ${A} found`));break;case"within":A=kn(l[1]),l.length!==2?R.push(new ze(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):A!=="object"&&R.push(new ze(`${d}[1]`,l[1],`object expected, ${A} found`))}return R}function Pv(u,l){const d=u.key,x=u.style,A=u.styleSpec,R=u.value,U=u.objectKey,ne=A[`${l}_${u.layerType}`];if(!ne)return[];const oe=U.match(/^(.*)-transition$/);if(l==="paint"&&oe&&ne[oe[1]]&&ne[oe[1]].transition)return ts({key:d,value:R,valueSpec:A.transition,style:x,styleSpec:A});const ye=u.valueSpec||ne[U];if(!ye)return[new ze(d,R,`unknown property "${U}"`)];let Ne;if(kn(R)==="string"&&ad(ye)&&!ye.tokens&&(Ne=/^{([^}]+)}$/.exec(R)))return[new ze(d,R,`"${U}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Ne[1])} }\`.`)];const De=[];return u.layerType==="symbol"&&(U==="text-field"&&x&&!x.glyphs&&De.push(new ze(d,R,'use of "text-field" requires a style "glyphs" property')),U==="text-font"&&sd(ht(R))&&st(R.type)==="identity"&&De.push(new ze(d,R,'"text-font" does not support identity functions'))),De.concat(ts({key:u.key,value:R,valueSpec:ye,style:x,styleSpec:A,expressionContext:"property",propertyType:l,propertyKey:U}))}function yh(u){return Pv(u,"paint")}function Mv(u){return Pv(u,"layout")}function Dv(u){let l=[];const d=u.value,x=u.key,A=u.style,R=u.styleSpec;d.type||d.ref||l.push(new ze(x,d,'either "type" or "ref" is required'));let U=st(d.type);const ne=st(d.ref);if(d.id){const oe=st(d.id);for(let ye=0;ye<u.arrayIndex;ye++){const Ne=A.layers[ye];st(Ne.id)===oe&&l.push(new ze(x,d.id,`duplicate layer id "${d.id}", previously used at line ${Ne.id.__line__}`))}}if("ref"in d){let oe;["type","source","source-layer","filter","layout"].forEach(ye=>{ye in d&&l.push(new ze(x,d[ye],`"${ye}" is prohibited for ref layers`))}),A.layers.forEach(ye=>{st(ye.id)===ne&&(oe=ye)}),oe?oe.ref?l.push(new ze(x,d.ref,"ref cannot reference another ref layer")):U=st(oe.type):l.push(new ze(x,d.ref,`ref layer "${ne}" not found`))}else if(U!=="background")if(d.source){const oe=A.sources&&A.sources[d.source],ye=oe&&st(oe.type);oe?ye==="vector"&&U==="raster"?l.push(new ze(x,d.source,`layer "${d.id}" requires a raster source`)):ye==="raster"&&U!=="raster"?l.push(new ze(x,d.source,`layer "${d.id}" requires a vector source`)):ye!=="vector"||d["source-layer"]?ye==="raster-dem"&&U!=="hillshade"?l.push(new ze(x,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):U!=="line"||!d.paint||!d.paint["line-gradient"]||ye==="geojson"&&oe.lineMetrics||l.push(new ze(x,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new ze(x,d,`layer "${d.id}" must specify a "source-layer"`)):l.push(new ze(x,d.source,`source "${d.source}" not found`))}else l.push(new ze(x,d,'missing required property "source"'));return l=l.concat(Xo({key:x,value:d,valueSpec:R.layer,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{"*":()=>[],type:()=>ts({key:`${x}.type`,value:d.type,valueSpec:R.layer.type,style:u.style,styleSpec:u.styleSpec,object:d,objectKey:"type"}),filter:gh,layout:oe=>Xo({layer:d,key:oe.key,value:oe.value,style:oe.style,styleSpec:oe.styleSpec,objectElementValidators:{"*":ye=>Mv(tt({layerType:U},ye))}}),paint:oe=>Xo({layer:d,key:oe.key,value:oe.value,style:oe.style,styleSpec:oe.styleSpec,objectElementValidators:{"*":ye=>yh(tt({layerType:U},ye))}})}})),l}function ld(u){const l=u.value,d=u.key,x=kn(l);return x!=="string"?[new ze(d,l,`string expected, ${x} found`)]:[]}const Ov={promoteId:function({key:u,value:l}){if(kn(l)==="string")return ld({key:u,value:l});{const d=[];for(const x in l)d.push(...ld({key:`${u}.${x}`,value:l[x]}));return d}}};function Rv(u){const l=u.value,d=u.key,x=u.styleSpec,A=u.style;if(!l.type)return[new ze(d,l,'"type" is required')];const R=st(l.type);let U;switch(R){case"vector":case"raster":case"raster-dem":return U=Xo({key:d,value:l,valueSpec:x[`source_${R.replace("-","_")}`],style:u.style,styleSpec:x,objectElementValidators:Ov}),U;case"geojson":if(U=Xo({key:d,value:l,valueSpec:x.source_geojson,style:A,styleSpec:x,objectElementValidators:Ov}),l.cluster)for(const ne in l.clusterProperties){const[oe,ye]=l.clusterProperties[ne],Ne=typeof oe=="string"?[oe,["accumulated"],["get",ne]]:oe;U.push(...od({key:`${d}.${ne}.map`,value:ye,expressionContext:"cluster-map"})),U.push(...od({key:`${d}.${ne}.reduce`,value:Ne,expressionContext:"cluster-reduce"}))}return U;case"video":return Xo({key:d,value:l,valueSpec:x.source_video,style:A,styleSpec:x});case"image":return Xo({key:d,value:l,valueSpec:x.source_image,style:A,styleSpec:x});case"canvas":return[new ze(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return fh({key:`${d}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:A,styleSpec:x})}}function vh(u){const l=u.value,d=u.styleSpec,x=d.light,A=u.style;let R=[];const U=kn(l);if(l===void 0)return R;if(U!=="object")return R=R.concat([new ze("light",l,`object expected, ${U} found`)]),R;for(const ne in l){const oe=ne.match(/^(.*)-transition$/);R=R.concat(oe&&x[oe[1]]&&x[oe[1]].transition?ts({key:ne,value:l[ne],valueSpec:d.transition,style:A,styleSpec:d}):x[ne]?ts({key:ne,value:l[ne],valueSpec:x[ne],style:A,styleSpec:d}):[new ze(ne,l[ne],`unknown property "${ne}"`)])}return R}function xh(u){const l=u.value,d=u.styleSpec,x=d.terrain,A=u.style;let R=[];const U=kn(l);if(l===void 0)return R;if(U!=="object")return R=R.concat([new ze("terrain",l,`object expected, ${U} found`)]),R;for(const ne in l)R=R.concat(x[ne]?ts({key:ne,value:l[ne],valueSpec:x[ne],style:A,styleSpec:d}):[new ze(ne,l[ne],`unknown property "${ne}"`)]);return R}const ao={"*":()=>[],array:Lv,boolean:function(u){const l=u.value,d=u.key,x=kn(l);return x!=="boolean"?[new ze(d,l,`boolean expected, ${x} found`)]:[]},number:lg,color:function(u){const l=u.key,d=u.value,x=kn(d);return x!=="string"?[new ze(l,d,`color expected, ${x} found`)]:Tn(d)===null?[new ze(l,d,`color expected, "${d}" found`)]:[]},constants:Ke,enum:fh,filter:gh,function:Nv,layer:Dv,object:Xo,source:Rv,light:vh,terrain:xh,string:ld,formatted:function(u){return ld(u).length===0?[]:od(u)},resolvedImage:function(u){return ld(u).length===0?[]:od(u)},padding:function(u){const l=u.key,d=u.value;if(kn(d)==="array"){if(d.length<1||d.length>4)return[new ze(l,d,`padding requires 1 to 4 values; ${d.length} values found`)];const x={type:"number"};let A=[];for(let R=0;R<d.length;R++)A=A.concat(ts({key:`${l}[${R}]`,value:d[R],valueSpec:x}));return A}return lg({key:l,value:d,valueSpec:{}})}};function ts(u){const l=u.value,d=u.valueSpec,x=u.styleSpec;return d.expression&&sd(st(l))?Nv(u):d.expression&&hh(ht(l))?od(u):d.type&&ao[d.type]?ao[d.type](u):Xo(tt({},u,{valueSpec:d.type?x[d.type]:d}))}function H0(u){const l=u.value,d=u.key,x=ld(u);return x.length||(l.indexOf("{fontstack}")===-1&&x.push(new ze(d,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&x.push(new ze(d,l,'"glyphs" url must include a "{range}" token'))),x}function Cc(u,l=Me){let d=[];return d=d.concat(ts({key:"",value:u,valueSpec:l.$root,styleSpec:l,style:u,objectElementValidators:{glyphs:H0,"*":()=>[]}})),u.constants&&(d=d.concat(Ke({key:"constants",value:u.constants,style:u,styleSpec:l}))),$v(d)}function $v(u){return[].concat(u).sort((l,d)=>l.line-d.line)}function hu(u){return function(...l){return $v(u.apply(this,l))}}Cc.source=hu(Rv),Cc.light=hu(vh),Cc.terrain=hu(xh),Cc.layer=hu(Dv),Cc.filter=hu(gh),Cc.paintProperty=hu(yh),Cc.layoutProperty=hu(Mv);const pu=Cc,X0=pu.light,dg=pu.paintProperty,Z0=pu.layoutProperty;function zv(u,l){let d=!1;if(l&&l.length)for(const x of l)u.fire(new Ee(new Error(x.message))),d=!0;return d}class mu{constructor(l,d,x){const A=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const U=new Int32Array(this.arrayBuffer);l=U[0],this.d=(d=U[1])+2*(x=U[2]);for(let oe=0;oe<this.d*this.d;oe++){const ye=U[3+oe],Ne=U[3+oe+1];A.push(ye===Ne?null:U.subarray(ye,Ne))}const ne=U[3+A.length+1];this.keys=U.subarray(U[3+A.length],ne),this.bboxes=U.subarray(ne),this.insert=this._insertReadonly}else{this.d=d+2*x;for(let U=0;U<this.d*this.d;U++)A.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=l,this.padding=x,this.scale=d/l,this.uid=0;const R=x/d*l;this.min=-R,this.max=l+R}insert(l,d,x,A,R){this._forEachCell(d,x,A,R,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(d),this.bboxes.push(x),this.bboxes.push(A),this.bboxes.push(R)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,d,x,A,R,U){this.cells[R].push(U)}query(l,d,x,A,R){const U=this.min,ne=this.max;if(l<=U&&d<=U&&ne<=x&&ne<=A&&!R)return Array.prototype.slice.call(this.keys);{const oe=[];return this._forEachCell(l,d,x,A,this._queryCell,oe,{},R),oe}}_queryCell(l,d,x,A,R,U,ne,oe){const ye=this.cells[R];if(ye!==null){const Ne=this.keys,De=this.bboxes;for(let Be=0;Be<ye.length;Be++){const qe=ye[Be];if(ne[qe]===void 0){const He=4*qe;(oe?oe(De[He+0],De[He+1],De[He+2],De[He+3]):l<=De[He+2]&&d<=De[He+3]&&x>=De[He+0]&&A>=De[He+1])?(ne[qe]=!0,U.push(Ne[qe])):ne[qe]=!1}}}}_forEachCell(l,d,x,A,R,U,ne,oe){const ye=this._convertToCellCoord(l),Ne=this._convertToCellCoord(d),De=this._convertToCellCoord(x),Be=this._convertToCellCoord(A);for(let qe=ye;qe<=De;qe++)for(let He=Ne;He<=Be;He++){const ct=this.d*He+qe;if((!oe||oe(this._convertFromCellCoord(qe),this._convertFromCellCoord(He),this._convertFromCellCoord(qe+1),this._convertFromCellCoord(He+1)))&&R.call(this,l,d,x,A,ct,U,ne,oe))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,d=3+this.cells.length+1+1;let x=0;for(let U=0;U<this.cells.length;U++)x+=this.cells[U].length;const A=new Int32Array(d+x+this.keys.length+this.bboxes.length);A[0]=this.extent,A[1]=this.n,A[2]=this.padding;let R=d;for(let U=0;U<l.length;U++){const ne=l[U];A[3+U]=R,A.set(ne,R),R+=ne.length}return A[3+l.length]=R,A.set(this.keys,R),R+=this.keys.length,A[3+l.length+1]=R,A.set(this.bboxes,R),R+=this.bboxes.length,A.buffer}static serialize(l,d){const x=l.toArrayBuffer();return d&&d.push(x),{buffer:x}}static deserialize(l){return new mu(l.buffer)}}const Ec={};function bn(u,l,d={}){if(Ec[u])throw new Error(`${u} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:u,writeable:!1}),Ec[u]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}bn("Object",Object),bn("TransferableGridIndex",mu),bn("Color",Fe),bn("Error",Error),bn("AJAXError",Q),bn("ResolvedImage",nt),bn("StylePropertyFunction",Hp),bn("StyleExpression",og,{omit:["_evaluator"]}),bn("ZoomDependentExpression",mh),bn("ZoomConstantExpression",Wp),bn("CompoundExpression",Yn,{omit:["_evaluate"]});for(const u in id)id[u]._classRegistryKey||bn(`Expression_${u}`,id[u]);function hg(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function bh(u,l){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob)return u;if(hg(u)||D(u))return l&&l.push(u),u;if(ArrayBuffer.isView(u)){const d=u;return l&&l.push(d.buffer),d}if(u instanceof ImageData)return l&&l.push(u.data.buffer),u;if(Array.isArray(u)){const d=[];for(const x of u)d.push(bh(x,l));return d}if(typeof u=="object"){const d=u.constructor,x=d._classRegistryKey;if(!x)throw new Error("can't serialize object of unregistered class");if(!Ec[x])throw new Error(`${x} is not registered.`);const A=d.serialize?d.serialize(u,l):{};if(d.serialize){if(l&&A===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const R in u){if(!u.hasOwnProperty(R)||Ec[x].omit.indexOf(R)>=0)continue;const U=u[R];A[R]=Ec[x].shallow.indexOf(R)>=0?U:bh(U,l)}u instanceof Error&&(A.message=u.message)}if(A.$name)throw new Error("$name property is reserved for worker serialization logic.");return x!=="Object"&&(A.$name=x),A}throw new Error("can't serialize object of type "+typeof u)}function fu(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||hg(u)||D(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(fu);if(typeof u=="object"){const l=u.$name||"Object";if(!Ec[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:d}=Ec[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(u);const x=Object.create(d.prototype);for(const A of Object.keys(u)){if(A==="$name")continue;const R=u[A];x[A]=Ec[l].shallow.indexOf(A)>=0?R:fu(R)}return x}throw new Error("can't deserialize object of type "+typeof u)}class _h{constructor(){this.first=!0}update(l,d){const x=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=x,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=x,!0):(this.lastFloorZoom>x?(this.lastIntegerZoom=x+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<x&&(this.lastIntegerZoom=x,this.lastIntegerZoomTime=d),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=x,!0))}}const on={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function pg(u){for(const l of u)if(wh(l.charCodeAt(0)))return!0;return!1}function Fv(u){for(const l of u)if(!K0(l.charCodeAt(0)))return!1;return!0}function K0(u){return!(on.Arabic(u)||on["Arabic Supplement"](u)||on["Arabic Extended-A"](u)||on["Arabic Presentation Forms-A"](u)||on["Arabic Presentation Forms-B"](u))}function wh(u){return!(u!==746&&u!==747&&(u<4352||!(on["Bopomofo Extended"](u)||on.Bopomofo(u)||on["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||on["CJK Compatibility Ideographs"](u)||on["CJK Compatibility"](u)||on["CJK Radicals Supplement"](u)||on["CJK Strokes"](u)||!(!on["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||on["CJK Unified Ideographs Extension A"](u)||on["CJK Unified Ideographs"](u)||on["Enclosed CJK Letters and Months"](u)||on["Hangul Compatibility Jamo"](u)||on["Hangul Jamo Extended-A"](u)||on["Hangul Jamo Extended-B"](u)||on["Hangul Jamo"](u)||on["Hangul Syllables"](u)||on.Hiragana(u)||on["Ideographic Description Characters"](u)||on.Kanbun(u)||on["Kangxi Radicals"](u)||on["Katakana Phonetic Extensions"](u)||on.Katakana(u)&&u!==12540||!(!on["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!on["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||on["Unified Canadian Aboriginal Syllabics"](u)||on["Unified Canadian Aboriginal Syllabics Extended"](u)||on["Vertical Forms"](u)||on["Yijing Hexagram Symbols"](u)||on["Yi Syllables"](u)||on["Yi Radicals"](u))))}function Bv(u){return!(wh(u)||function(l){return!!(on["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||on["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||on["Letterlike Symbols"](l)||on["Number Forms"](l)||on["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||on["Control Pictures"](l)&&l!==9251||on["Optical Character Recognition"](l)||on["Enclosed Alphanumerics"](l)||on["Geometric Shapes"](l)||on["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||on["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||on["CJK Symbols and Punctuation"](l)||on.Katakana(l)||on["Private Use Area"](l)||on["CJK Compatibility Forms"](l)||on["Small Form Variants"](l)||on["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(u))}function jv(u){return u>=1424&&u<=2303||on["Arabic Presentation Forms-A"](u)||on["Arabic Presentation Forms-B"](u)}function Q0(u,l){return!(!l&&jv(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||on.Khmer(u))}function J0(u){for(const l of u)if(jv(l.charCodeAt(0)))return!0;return!1}const nm="deferred",mg="loading",fg="loaded";let gg=null,Us="unavailable",kc=null;const Uv=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(Us="error"),gg&&gg(u)};function yg(){cd.fire(new _e("pluginStateChange",{pluginStatus:Us,pluginURL:kc}))}const cd=new Re,vg=function(){return Us},im=function(){if(Us!==nm||!kc)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Us=mg,yg(),kc&&xe({url:kc},u=>{u?Uv(u):(Us=fg,yg())})},Mo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Us===fg||Mo.applyArabicShaping!=null,isLoading:()=>Us===mg,setState(u){if(!W())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Us=u.pluginStatus,kc=u.pluginURL},isParsed(){if(!W())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return Mo.applyArabicShaping!=null&&Mo.processBidirectionalText!=null&&Mo.processStyledBidirectionalText!=null},getPluginURL(){if(!W())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return kc}};class gr{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new _h,this.transition={})}isSupportedScript(l){return function(d,x){for(const A of d)if(!Q0(A.charCodeAt(0),x))return!1;return!0}(l,Mo.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,d=l-Math.floor(l),x=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*x}:{fromScale:.5,toScale:1,t:1-(1-x)*d}}}class rm{constructor(l,d){this.property=l,this.value=d,this.expression=function(x,A){if(sd(x))return new Hp(x,A);if(hh(x)){const R=kv(x,A);if(R.result==="error")throw new Error(R.value.map(U=>`${U.key}: ${U.message}`).join(", "));return R.value}{let R=x;return A.type==="color"&&typeof x=="string"?R=Fe.parse(x):A.type!=="padding"||typeof x!="number"&&!Array.isArray(x)||(R=at.parse(x)),{kind:"constant",evaluate:()=>R}}}(d===void 0?l.specification.default:d,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,x){return this.property.possiblyEvaluate(this,l,d,x)}}class am{constructor(l){this.property=l,this.value=new rm(l,void 0)}transitioned(l,d){return new Gv(this.property,this.value,d,b({},l.transition,this.transition),l.now)}untransitioned(){return new Gv(this.property,this.value,null,{},0)}}class xg{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return w(this._values[l].value.value)}setValue(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new am(this._values[l].property)),this._values[l].value=new rm(this._values[l].property,d===null?void 0:w(d))}getTransition(l){return w(this._values[l].transition)}setTransition(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new am(this._values[l].property)),this._values[l].transition=w(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const x=this.getValue(d);x!==void 0&&(l[d]=x);const A=this.getTransition(d);A!==void 0&&(l[`${d}-transition`]=A)}return l}transitioned(l,d){const x=new Yv(this._properties);for(const A of Object.keys(this._values))x._values[A]=this._values[A].transitioned(l,d._values[A]);return x}untransitioned(){const l=new Yv(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class Gv{constructor(l,d,x,A,R){this.property=l,this.value=d,this.begin=R+A.delay||0,this.end=this.begin+A.duration||0,l.specification.transition&&(A.delay||A.duration)&&(this.prior=x)}possiblyEvaluate(l,d,x){const A=l.now||0,R=this.value.possiblyEvaluate(l,d,x),U=this.prior;if(U){if(A>this.end)return this.prior=null,R;if(this.value.isDataDriven())return this.prior=null,R;if(A<this.begin)return U.possiblyEvaluate(l,d,x);{const ne=(A-this.begin)/(this.end-this.begin);return this.property.interpolate(U.possiblyEvaluate(l,d,x),R,function(oe){if(oe<=0)return 0;if(oe>=1)return 1;const ye=oe*oe,Ne=ye*oe;return 4*(oe<.5?Ne:3*(oe-ye)+Ne-.75)}(ne))}}return R}}class Yv{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,x){const A=new sm(this._properties);for(const R of Object.keys(this._values))A._values[R]=this._values[R].possiblyEvaluate(l,d,x);return A}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class e_{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}getValue(l){return w(this._values[l].value)}setValue(l,d){this._values[l]=new rm(this._values[l].property,d===null?void 0:w(d))}serialize(){const l={};for(const d of Object.keys(this._values)){const x=this.getValue(d);x!==void 0&&(l[d]=x)}return l}possiblyEvaluate(l,d,x){const A=new sm(this._properties);for(const R of Object.keys(this._values))A._values[R]=this._values[R].possiblyEvaluate(l,d,x);return A}}class Sl{constructor(l,d,x){this.property=l,this.value=d,this.parameters=x}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,x,A){return this.property.evaluate(this.value,this.parameters,l,d,x,A)}}class sm{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class Nn{constructor(l){this.specification=l}possiblyEvaluate(l,d){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(d)}interpolate(l,d,x){const A=ch[this.specification.type];return A?A(l,d,x):l}}class $n{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,x,A){return new Sl(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},x,A)}:l.expression,d)}interpolate(l,d,x){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new Sl(this,{kind:"constant",value:void 0},l.parameters);const A=ch[this.specification.type];return A?new Sl(this,{kind:"constant",value:A(l.value.value,d.value.value,x)},l.parameters):l}evaluate(l,d,x,A,R,U){return l.kind==="constant"?l.value:l.evaluate(d,x,A,R,U)}}class Th extends $n{possiblyEvaluate(l,d,x,A){if(l.value===void 0)return new Sl(this,{kind:"constant",value:void 0},d);if(l.expression.kind==="constant"){const R=l.expression.evaluate(d,null,{},x,A),U=l.property.specification.type==="resolvedImage"&&typeof R!="string"?R.name:R,ne=this._calculate(U,U,U,d);return new Sl(this,{kind:"constant",value:ne},d)}if(l.expression.kind==="camera"){const R=this._calculate(l.expression.evaluate({zoom:d.zoom-1}),l.expression.evaluate({zoom:d.zoom}),l.expression.evaluate({zoom:d.zoom+1}),d);return new Sl(this,{kind:"constant",value:R},d)}return new Sl(this,l.expression,d)}evaluate(l,d,x,A,R,U){if(l.kind==="source"){const ne=l.evaluate(d,x,A,R,U);return this._calculate(ne,ne,ne,d)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(d.zoom)-1},x,A),l.evaluate({zoom:Math.floor(d.zoom)},x,A),l.evaluate({zoom:Math.floor(d.zoom)+1},x,A),d):l.value}_calculate(l,d,x,A){return A.zoom>A.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:x,to:d}}interpolate(l){return l}}class Sh{constructor(l){this.specification=l}possiblyEvaluate(l,d,x,A){if(l.value!==void 0){if(l.expression.kind==="constant"){const R=l.expression.evaluate(d,null,{},x,A);return this._calculate(R,R,R,d)}return this._calculate(l.expression.evaluate(new gr(Math.floor(d.zoom-1),d)),l.expression.evaluate(new gr(Math.floor(d.zoom),d)),l.expression.evaluate(new gr(Math.floor(d.zoom+1),d)),d)}}_calculate(l,d,x,A){return A.zoom>A.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:x,to:d}}interpolate(l){return l}}class bg{constructor(l){this.specification=l}possiblyEvaluate(l,d,x,A){return!!l.expression.evaluate(d,null,{},x,A)}interpolate(){return!1}}class fa{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in l){const x=l[d];x.specification.overridable&&this.overridableProperties.push(d);const A=this.defaultPropertyValues[d]=new rm(x,void 0),R=this.defaultTransitionablePropertyValues[d]=new am(x);this.defaultTransitioningPropertyValues[d]=R.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=A.possiblyEvaluate({})}}}bn("DataDrivenProperty",$n),bn("DataConstantProperty",Nn),bn("CrossFadedDataDrivenProperty",Th),bn("CrossFadedProperty",Sh),bn("ColorRampProperty",bg);const gu="-transition";class Gs extends Re{constructor(l,d){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),d.layout&&(this._unevaluatedLayout=new e_(d.layout)),d.paint)){this._transitionablePaint=new xg(d.paint);for(const x in l.paint)this.setPaintProperty(x,l.paint[x],{validate:!1});for(const x in l.layout)this.setLayoutProperty(x,l.layout[x],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new sm(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d,x={}){d!=null&&this._validate(Z0,`layers.${this.id}.layout.${l}`,l,d,x)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,d):this.visibility=d)}getPaintProperty(l){return l.endsWith(gu)?this._transitionablePaint.getTransition(l.slice(0,-gu.length)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d,x={}){if(d!=null&&this._validate(dg,`layers.${this.id}.paint.${l}`,l,d,x))return!1;if(l.endsWith(gu))return this._transitionablePaint.setTransition(l.slice(0,-gu.length),d||void 0),!1;{const A=this._transitionablePaint._values[l],R=A.property.specification["property-type"]==="cross-faded-data-driven",U=A.value.isDataDriven(),ne=A.value;this._transitionablePaint.setValue(l,d),this._handleSpecialPaintPropertyUpdate(l);const oe=this._transitionablePaint._values[l].value;return oe.isDataDriven()||U||R||this._handleOverridablePaintPropertyUpdate(l,ne,oe)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,d,x){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),v(l,(d,x)=>!(d===void 0||x==="layout"&&!Object.keys(d).length||x==="paint"&&!Object.keys(d).length))}_validate(l,d,x,A,R={}){return(!R||R.validate!==!1)&&zv(this,l.call(pu,{key:d,layerType:this.type,objectKey:x,value:A,styleSpec:Me,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof Sl&&ad(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const t_={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ch{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class dr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function ca(u,l=1){let d=0,x=0;return{members:u.map(A=>{const R=t_[A.type].BYTES_PER_ELEMENT,U=d=Vv(d,Math.max(l,R)),ne=A.components||1;return x=Math.max(x,R),d+=R*ne,{name:A.name,type:A.type,components:ne,offset:U}}),size:Vv(d,Math.max(x,l)),alignment:l}}function Vv(u,l){return Math.ceil(u/l)*l}class ud extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const x=this.length;return this.resize(x+1),this.emplace(x,l,d)}emplace(l,d,x){const A=2*l;return this.int16[A+0]=d,this.int16[A+1]=x,l}}ud.prototype.bytesPerElement=4,bn("StructArrayLayout2i4",ud);class Eh extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,x,A){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,x,A)}emplace(l,d,x,A,R){const U=4*l;return this.int16[U+0]=d,this.int16[U+1]=x,this.int16[U+2]=A,this.int16[U+3]=R,l}}Eh.prototype.bytesPerElement=8,bn("StructArrayLayout4i8",Eh);class I extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,x,A,R,U){const ne=this.length;return this.resize(ne+1),this.emplace(ne,l,d,x,A,R,U)}emplace(l,d,x,A,R,U,ne){const oe=6*l;return this.int16[oe+0]=d,this.int16[oe+1]=x,this.int16[oe+2]=A,this.int16[oe+3]=R,this.int16[oe+4]=U,this.int16[oe+5]=ne,l}}I.prototype.bytesPerElement=12,bn("StructArrayLayout2i4i12",I);class c extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,x,A,R,U){const ne=this.length;return this.resize(ne+1),this.emplace(ne,l,d,x,A,R,U)}emplace(l,d,x,A,R,U,ne){const oe=4*l,ye=8*l;return this.int16[oe+0]=d,this.int16[oe+1]=x,this.uint8[ye+4]=A,this.uint8[ye+5]=R,this.uint8[ye+6]=U,this.uint8[ye+7]=ne,l}}c.prototype.bytesPerElement=8,bn("StructArrayLayout2i4ub8",c);class m extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const x=this.length;return this.resize(x+1),this.emplace(x,l,d)}emplace(l,d,x){const A=2*l;return this.float32[A+0]=d,this.float32[A+1]=x,l}}m.prototype.bytesPerElement=8,bn("StructArrayLayout2f8",m);class S extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,x,A,R,U,ne,oe,ye,Ne){const De=this.length;return this.resize(De+1),this.emplace(De,l,d,x,A,R,U,ne,oe,ye,Ne)}emplace(l,d,x,A,R,U,ne,oe,ye,Ne,De){const Be=10*l;return this.uint16[Be+0]=d,this.uint16[Be+1]=x,this.uint16[Be+2]=A,this.uint16[Be+3]=R,this.uint16[Be+4]=U,this.uint16[Be+5]=ne,this.uint16[Be+6]=oe,this.uint16[Be+7]=ye,this.uint16[Be+8]=Ne,this.uint16[Be+9]=De,l}}S.prototype.bytesPerElement=20,bn("StructArrayLayout10ui20",S);class P extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,x,A,R,U,ne,oe,ye,Ne,De,Be){const qe=this.length;return this.resize(qe+1),this.emplace(qe,l,d,x,A,R,U,ne,oe,ye,Ne,De,Be)}emplace(l,d,x,A,R,U,ne,oe,ye,Ne,De,Be,qe){const He=12*l;return this.int16[He+0]=d,this.int16[He+1]=x,this.int16[He+2]=A,this.int16[He+3]=R,this.uint16[He+4]=U,this.uint16[He+5]=ne,this.uint16[He+6]=oe,this.uint16[He+7]=ye,this.int16[He+8]=Ne,this.int16[He+9]=De,this.int16[He+10]=Be,this.int16[He+11]=qe,l}}P.prototype.bytesPerElement=24,bn("StructArrayLayout4i4ui4i24",P);class F extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,x){const A=this.length;return this.resize(A+1),this.emplace(A,l,d,x)}emplace(l,d,x,A){const R=3*l;return this.float32[R+0]=d,this.float32[R+1]=x,this.float32[R+2]=A,l}}F.prototype.bytesPerElement=12,bn("StructArrayLayout3f12",F);class ee extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}ee.prototype.bytesPerElement=4,bn("StructArrayLayout1ul4",ee);class ue extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,x,A,R,U,ne,oe,ye){const Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,l,d,x,A,R,U,ne,oe,ye)}emplace(l,d,x,A,R,U,ne,oe,ye,Ne){const De=10*l,Be=5*l;return this.int16[De+0]=d,this.int16[De+1]=x,this.int16[De+2]=A,this.int16[De+3]=R,this.int16[De+4]=U,this.int16[De+5]=ne,this.uint32[Be+3]=oe,this.uint16[De+8]=ye,this.uint16[De+9]=Ne,l}}ue.prototype.bytesPerElement=20,bn("StructArrayLayout6i1ul2ui20",ue);class me extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,x,A,R,U){const ne=this.length;return this.resize(ne+1),this.emplace(ne,l,d,x,A,R,U)}emplace(l,d,x,A,R,U,ne){const oe=6*l;return this.int16[oe+0]=d,this.int16[oe+1]=x,this.int16[oe+2]=A,this.int16[oe+3]=R,this.int16[oe+4]=U,this.int16[oe+5]=ne,l}}me.prototype.bytesPerElement=12,bn("StructArrayLayout2i2i2i12",me);class Te extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,x,A,R){const U=this.length;return this.resize(U+1),this.emplace(U,l,d,x,A,R)}emplace(l,d,x,A,R,U){const ne=4*l,oe=8*l;return this.float32[ne+0]=d,this.float32[ne+1]=x,this.float32[ne+2]=A,this.int16[oe+6]=R,this.int16[oe+7]=U,l}}Te.prototype.bytesPerElement=16,bn("StructArrayLayout2f1f2i16",Te);class Ae extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,x,A){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,x,A)}emplace(l,d,x,A,R){const U=12*l,ne=3*l;return this.uint8[U+0]=d,this.uint8[U+1]=x,this.float32[ne+1]=A,this.float32[ne+2]=R,l}}Ae.prototype.bytesPerElement=12,bn("StructArrayLayout2ub2f12",Ae);class $e extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,x){const A=this.length;return this.resize(A+1),this.emplace(A,l,d,x)}emplace(l,d,x,A){const R=3*l;return this.uint16[R+0]=d,this.uint16[R+1]=x,this.uint16[R+2]=A,l}}$e.prototype.bytesPerElement=6,bn("StructArrayLayout3ui6",$e);class Ve extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,x,A,R,U,ne,oe,ye,Ne,De,Be,qe,He,ct,ot,_t){const Dt=this.length;return this.resize(Dt+1),this.emplace(Dt,l,d,x,A,R,U,ne,oe,ye,Ne,De,Be,qe,He,ct,ot,_t)}emplace(l,d,x,A,R,U,ne,oe,ye,Ne,De,Be,qe,He,ct,ot,_t,Dt){const vt=24*l,At=12*l,Vt=48*l;return this.int16[vt+0]=d,this.int16[vt+1]=x,this.uint16[vt+2]=A,this.uint16[vt+3]=R,this.uint32[At+2]=U,this.uint32[At+3]=ne,this.uint32[At+4]=oe,this.uint16[vt+10]=ye,this.uint16[vt+11]=Ne,this.uint16[vt+12]=De,this.float32[At+7]=Be,this.float32[At+8]=qe,this.uint8[Vt+36]=He,this.uint8[Vt+37]=ct,this.uint8[Vt+38]=ot,this.uint32[At+10]=_t,this.int16[vt+22]=Dt,l}}Ve.prototype.bytesPerElement=48,bn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ve);class et extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,x,A,R,U,ne,oe,ye,Ne,De,Be,qe,He,ct,ot,_t,Dt,vt,At,Vt,Yt,wn,Ln,cn,nn,Jt,un){const an=this.length;return this.resize(an+1),this.emplace(an,l,d,x,A,R,U,ne,oe,ye,Ne,De,Be,qe,He,ct,ot,_t,Dt,vt,At,Vt,Yt,wn,Ln,cn,nn,Jt,un)}emplace(l,d,x,A,R,U,ne,oe,ye,Ne,De,Be,qe,He,ct,ot,_t,Dt,vt,At,Vt,Yt,wn,Ln,cn,nn,Jt,un,an){const Ht=34*l,Dn=17*l;return this.int16[Ht+0]=d,this.int16[Ht+1]=x,this.int16[Ht+2]=A,this.int16[Ht+3]=R,this.int16[Ht+4]=U,this.int16[Ht+5]=ne,this.int16[Ht+6]=oe,this.int16[Ht+7]=ye,this.uint16[Ht+8]=Ne,this.uint16[Ht+9]=De,this.uint16[Ht+10]=Be,this.uint16[Ht+11]=qe,this.uint16[Ht+12]=He,this.uint16[Ht+13]=ct,this.uint16[Ht+14]=ot,this.uint16[Ht+15]=_t,this.uint16[Ht+16]=Dt,this.uint16[Ht+17]=vt,this.uint16[Ht+18]=At,this.uint16[Ht+19]=Vt,this.uint16[Ht+20]=Yt,this.uint16[Ht+21]=wn,this.uint16[Ht+22]=Ln,this.uint32[Dn+12]=cn,this.float32[Dn+13]=nn,this.float32[Dn+14]=Jt,this.float32[Dn+15]=un,this.float32[Dn+16]=an,l}}et.prototype.bytesPerElement=68,bn("StructArrayLayout8i15ui1ul4f68",et);class Qe extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}Qe.prototype.bytesPerElement=4,bn("StructArrayLayout1f4",Qe);class Je extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,x){const A=this.length;return this.resize(A+1),this.emplace(A,l,d,x)}emplace(l,d,x,A){const R=3*l;return this.int16[R+0]=d,this.int16[R+1]=x,this.int16[R+2]=A,l}}Je.prototype.bytesPerElement=6,bn("StructArrayLayout3i6",Je);class pt extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,x){const A=this.length;return this.resize(A+1),this.emplace(A,l,d,x)}emplace(l,d,x,A){const R=4*l;return this.uint32[2*l+0]=d,this.uint16[R+2]=x,this.uint16[R+3]=A,l}}pt.prototype.bytesPerElement=8,bn("StructArrayLayout1ul2ui8",pt);class yt extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const x=this.length;return this.resize(x+1),this.emplace(x,l,d)}emplace(l,d,x){const A=2*l;return this.uint16[A+0]=d,this.uint16[A+1]=x,l}}yt.prototype.bytesPerElement=4,bn("StructArrayLayout2ui4",yt);class wt extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}wt.prototype.bytesPerElement=2,bn("StructArrayLayout1ui2",wt);class rt extends dr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,x,A){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,x,A)}emplace(l,d,x,A,R){const U=4*l;return this.float32[U+0]=d,this.float32[U+1]=x,this.float32[U+2]=A,this.float32[U+3]=R,l}}rt.prototype.bytesPerElement=16,bn("StructArrayLayout4f16",rt);class It extends Ch{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new Y(this.anchorPointX,this.anchorPointY)}}It.prototype.size=20;class Et extends ue{get(l){return new It(this,l)}}bn("CollisionBoxArray",Et);class jt extends Ch{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}jt.prototype.size=48;class Ut extends Ve{get(l){return new jt(this,l)}}bn("PlacedSymbolArray",Ut);class qt extends Ch{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}qt.prototype.size=68;class zt extends et{get(l){return new qt(this,l)}}bn("SymbolInstanceArray",zt);class hn extends Qe{getoffsetX(l){return this.float32[1*l+0]}}bn("GlyphOffsetArray",hn);class tn extends Je{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}bn("SymbolLineVertexArray",tn);class mn extends Ch{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}mn.prototype.size=8;class ii extends pt{get(l){return new mn(this,l)}}bn("FeatureIndexArray",ii);class hi extends ud{}class Rn extends ud{}class Wi extends ud{}class Hi extends I{}class Si extends c{}class Ei extends m{}class Ii extends S{}class so extends P{}class Cl extends F{}class Zo extends ee{}class Ko extends me{}class yu extends Ae{}class Ga extends $e{}class Qo extends yt{}const vu=ca([{name:"a_pos",components:2,type:"Int16"}],4),{members:om}=vu;class Ai{constructor(l=[]){this.segments=l}prepareSegment(l,d,x,A){let R=this.segments[this.segments.length-1];return l>Ai.MAX_VERTEX_ARRAY_LENGTH&&C(`Max vertices per segment is ${Ai.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!R||R.vertexLength+l>Ai.MAX_VERTEX_ARRAY_LENGTH||R.sortKey!==A)&&(R={vertexOffset:d.length,primitiveOffset:x.length,vertexLength:0,primitiveLength:0},A!==void 0&&(R.sortKey=A),this.segments.push(R)),R}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,x,A){return new Ai([{vertexOffset:l,primitiveOffset:d,vertexLength:x,primitiveLength:A,vaos:{},sortKey:0}])}}function hr(u,l){return 256*(u=g(Math.floor(u),0,255))+g(Math.floor(l),0,255)}Ai.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,bn("SegmentVector",Ai);const $i=ca([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ua={exports:{}},Ys={exports:{}};Ys.exports=function(u,l){var d,x,A,R,U,ne,oe,ye;for(x=u.length-(d=3&u.length),A=l,U=3432918353,ne=461845907,ye=0;ye<x;)oe=255&u.charCodeAt(ye)|(255&u.charCodeAt(++ye))<<8|(255&u.charCodeAt(++ye))<<16|(255&u.charCodeAt(++ye))<<24,++ye,A=27492+(65535&(R=5*(65535&(A=(A^=oe=(65535&(oe=(oe=(65535&oe)*U+(((oe>>>16)*U&65535)<<16)&4294967295)<<15|oe>>>17))*ne+(((oe>>>16)*ne&65535)<<16)&4294967295)<<13|A>>>19))+((5*(A>>>16)&65535)<<16)&4294967295))+((58964+(R>>>16)&65535)<<16);switch(oe=0,d){case 3:oe^=(255&u.charCodeAt(ye+2))<<16;case 2:oe^=(255&u.charCodeAt(ye+1))<<8;case 1:A^=oe=(65535&(oe=(oe=(65535&(oe^=255&u.charCodeAt(ye)))*U+(((oe>>>16)*U&65535)<<16)&4294967295)<<15|oe>>>17))*ne+(((oe>>>16)*ne&65535)<<16)&4294967295}return A^=u.length,A=2246822507*(65535&(A^=A>>>16))+((2246822507*(A>>>16)&65535)<<16)&4294967295,A=3266489909*(65535&(A^=A>>>13))+((3266489909*(A>>>16)&65535)<<16)&4294967295,(A^=A>>>16)>>>0};var yr={exports:{}};yr.exports=function(u,l){for(var d,x=u.length,A=l^x,R=0;x>=4;)d=1540483477*(65535&(d=255&u.charCodeAt(R)|(255&u.charCodeAt(++R))<<8|(255&u.charCodeAt(++R))<<16|(255&u.charCodeAt(++R))<<24))+((1540483477*(d>>>16)&65535)<<16),A=1540483477*(65535&A)+((1540483477*(A>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),x-=4,++R;switch(x){case 3:A^=(255&u.charCodeAt(R+2))<<16;case 2:A^=(255&u.charCodeAt(R+1))<<8;case 1:A=1540483477*(65535&(A^=255&u.charCodeAt(R)))+((1540483477*(A>>>16)&65535)<<16)}return A=1540483477*(65535&(A^=A>>>13))+((1540483477*(A>>>16)&65535)<<16),(A^=A>>>15)>>>0};var Do=Ys.exports,dd=yr.exports;ua.exports=Do,ua.exports.murmur3=Do,ua.exports.murmur2=dd;class hd{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,d,x,A){this.ids.push(lm(l)),this.positions.push(d,x,A)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=lm(l);let x=0,A=this.ids.length-1;for(;x<A;){const U=x+A>>1;this.ids[U]>=d?A=U:x=U+1}const R=[];for(;this.ids[x]===d;)R.push({index:this.positions[3*x],start:this.positions[3*x+1],end:this.positions[3*x+2]}),x++;return R}static serialize(l,d){const x=new Float64Array(l.ids),A=new Uint32Array(l.positions);return _g(x,A,0,x.length-1),d&&d.push(x.buffer,A.buffer),{ids:x,positions:A}}static deserialize(l){const d=new hd;return d.ids=l.ids,d.positions=l.positions,d.indexed=!0,d}}function lm(u){const l=+u;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:ua.exports(String(u))}function _g(u,l,d,x){for(;d<x;){const A=u[d+x>>1];let R=d-1,U=x+1;for(;;){do R++;while(u[R]<A);do U--;while(u[U]>A);if(R>=U)break;cm(u,R,U),cm(l,3*R,3*U),cm(l,3*R+1,3*U+1),cm(l,3*R+2,3*U+2)}U-d<x-U?(_g(u,l,d,U),d=U+1):(_g(u,l,U+1,x),x=U)}}function cm(u,l,d){const x=u[l];u[l]=u[d],u[d]=x}bn("FeaturePositionMap",hd);class Jo{constructor(l,d){this.gl=l.gl,this.location=d}}class um extends Jo{constructor(l,d){super(l,d),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class kh extends Jo{constructor(l,d){super(l,d),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class dm extends Jo{constructor(l,d){super(l,d),this.current=Fe.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const sD=new Float32Array(16);function n_(u){return[hr(255*u.r,255*u.g),hr(255*u.b,255*u.a)]}class wg{constructor(l,d,x){this.value=l,this.uniformNames=d.map(A=>`u_${A}`),this.type=x}setUniform(l,d,x){l.set(x.constantOr(this.value))}getBinding(l,d,x){return this.type==="color"?new dm(l,d):new um(l,d)}}class hm{constructor(l,d){this.uniformNames=d.map(x=>`u_${x}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=l.tlbr}setUniform(l,d,x,A){const R=A==="u_pattern_to"?this.patternTo:A==="u_pattern_from"?this.patternFrom:A==="u_pixel_ratio_to"?this.pixelRatioTo:A==="u_pixel_ratio_from"?this.pixelRatioFrom:null;R&&l.set(R)}getBinding(l,d,x){return x.substr(0,9)==="u_pattern"?new kh(l,d):new um(l,d)}}class xu{constructor(l,d,x,A){this.expression=l,this.type=x,this.maxValue=0,this.paintVertexAttributes=d.map(R=>({name:`a_${R}`,type:"Float32",components:x==="color"?2:1,offset:0})),this.paintVertexArray=new A}populatePaintArray(l,d,x,A,R){const U=this.paintVertexArray.length,ne=this.expression.evaluate(new gr(0),d,{},A,[],R);this.paintVertexArray.resize(l),this._setPaintValue(U,l,ne)}updatePaintArray(l,d,x,A){const R=this.expression.evaluate({zoom:0},x,A);this._setPaintValue(l,d,R)}_setPaintValue(l,d,x){if(this.type==="color"){const A=n_(x);for(let R=l;R<d;R++)this.paintVertexArray.emplace(R,A[0],A[1])}else{for(let A=l;A<d;A++)this.paintVertexArray.emplace(A,x);this.maxValue=Math.max(this.maxValue,Math.abs(x))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ec{constructor(l,d,x,A,R,U){this.expression=l,this.uniformNames=d.map(ne=>`u_${ne}_t`),this.type=x,this.useIntegerZoom=A,this.zoom=R,this.maxValue=0,this.paintVertexAttributes=d.map(ne=>({name:`a_${ne}`,type:"Float32",components:x==="color"?4:2,offset:0})),this.paintVertexArray=new U}populatePaintArray(l,d,x,A,R){const U=this.expression.evaluate(new gr(this.zoom),d,{},A,[],R),ne=this.expression.evaluate(new gr(this.zoom+1),d,{},A,[],R),oe=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(oe,l,U,ne)}updatePaintArray(l,d,x,A){const R=this.expression.evaluate({zoom:this.zoom},x,A),U=this.expression.evaluate({zoom:this.zoom+1},x,A);this._setPaintValue(l,d,R,U)}_setPaintValue(l,d,x,A){if(this.type==="color"){const R=n_(x),U=n_(A);for(let ne=l;ne<d;ne++)this.paintVertexArray.emplace(ne,R[0],R[1],U[0],U[1])}else{for(let R=l;R<d;R++)this.paintVertexArray.emplace(R,x,A);this.maxValue=Math.max(this.maxValue,Math.abs(x),Math.abs(A))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d){const x=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,A=g(this.expression.interpolationFactor(x,this.zoom,this.zoom+1),0,1);l.set(A)}getBinding(l,d,x){return new um(l,d)}}class pd{constructor(l,d,x,A,R,U){this.expression=l,this.type=d,this.useIntegerZoom=x,this.zoom=A,this.layerId=U,this.zoomInPaintVertexArray=new R,this.zoomOutPaintVertexArray=new R}populatePaintArray(l,d,x){const A=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(A,l,d.patterns&&d.patterns[this.layerId],x)}updatePaintArray(l,d,x,A,R){this._setPaintValues(l,d,x.patterns&&x.patterns[this.layerId],R)}_setPaintValues(l,d,x,A){if(!A||!x)return;const{min:R,mid:U,max:ne}=x,oe=A[R],ye=A[U],Ne=A[ne];if(oe&&ye&&Ne)for(let De=l;De<d;De++)this.zoomInPaintVertexArray.emplace(De,ye.tl[0],ye.tl[1],ye.br[0],ye.br[1],oe.tl[0],oe.tl[1],oe.br[0],oe.br[1],ye.pixelRatio,oe.pixelRatio),this.zoomOutPaintVertexArray.emplace(De,ye.tl[0],ye.tl[1],ye.br[0],ye.br[1],Ne.tl[0],Ne.tl[1],Ne.br[0],Ne.br[1],ye.pixelRatio,Ne.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,$i.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,$i.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class gS{constructor(l,d,x){this.binders={},this._buffers=[];const A=[];for(const R in l.paint._values){if(!x(R))continue;const U=l.paint.get(R);if(!(U instanceof Sl&&ad(U.property.specification)))continue;const ne=oD(R,l.type),oe=U.value,ye=U.property.specification.type,Ne=U.property.useIntegerZoom,De=U.property.specification["property-type"],Be=De==="cross-faded"||De==="cross-faded-data-driven";if(oe.kind==="constant")this.binders[R]=Be?new hm(oe.value,ne):new wg(oe.value,ne,ye),A.push(`/u_${R}`);else if(oe.kind==="source"||Be){const qe=yS(R,ye,"source");this.binders[R]=Be?new pd(oe,ye,Ne,d,qe,l.id):new xu(oe,ne,ye,qe),A.push(`/a_${R}`)}else{const qe=yS(R,ye,"composite");this.binders[R]=new ec(oe,ne,ye,Ne,d,qe),A.push(`/z_${R}`)}}this.cacheKey=A.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof xu||d instanceof ec?d.maxValue:0}populatePaintArrays(l,d,x,A,R){for(const U in this.binders){const ne=this.binders[U];(ne instanceof xu||ne instanceof ec||ne instanceof pd)&&ne.populatePaintArray(l,d,x,A,R)}}setConstantPatternPositions(l,d){for(const x in this.binders){const A=this.binders[x];A instanceof hm&&A.setConstantPatternPositions(l,d)}}updatePaintArrays(l,d,x,A,R){let U=!1;for(const ne in l){const oe=d.getPositions(ne);for(const ye of oe){const Ne=x.feature(ye.index);for(const De in this.binders){const Be=this.binders[De];if((Be instanceof xu||Be instanceof ec||Be instanceof pd)&&Be.expression.isStateDependent===!0){const qe=A.paint.get(De);Be.expression=qe.value,Be.updatePaintArray(ye.start,ye.end,Ne,l[ne],R),U=!0}}}}return U}defines(){const l=[];for(const d in this.binders){const x=this.binders[d];(x instanceof wg||x instanceof hm)&&l.push(...x.uniformNames.map(A=>`#define HAS_UNIFORM_${A}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const x=this.binders[d];if(x instanceof xu||x instanceof ec)for(let A=0;A<x.paintVertexAttributes.length;A++)l.push(x.paintVertexAttributes[A].name);else if(x instanceof pd)for(let A=0;A<$i.members.length;A++)l.push($i.members[A].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const x=this.binders[d];if(x instanceof wg||x instanceof hm||x instanceof ec)for(const A of x.uniformNames)l.push(A)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,d){const x=[];for(const A in this.binders){const R=this.binders[A];if(R instanceof wg||R instanceof hm||R instanceof ec){for(const U of R.uniformNames)if(d[U]){const ne=R.getBinding(l,d[U],U);x.push({name:U,property:A,binding:ne})}}}return x}setUniforms(l,d,x,A){for(const{name:R,property:U,binding:ne}of d)this.binders[U].setUniform(ne,A,x.get(U),R)}updatePaintBuffers(l){this._buffers=[];for(const d in this.binders){const x=this.binders[d];if(l&&x instanceof pd){const A=l.fromScale===2?x.zoomInPaintVertexBuffer:x.zoomOutPaintVertexBuffer;A&&this._buffers.push(A)}else(x instanceof xu||x instanceof ec)&&x.paintVertexBuffer&&this._buffers.push(x.paintVertexBuffer)}}upload(l){for(const d in this.binders){const x=this.binders[d];(x instanceof xu||x instanceof ec||x instanceof pd)&&x.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof xu||d instanceof ec||d instanceof pd)&&d.destroy()}}}class Lh{constructor(l,d,x=()=>!0){this.programConfigurations={};for(const A of l)this.programConfigurations[A.id]=new gS(A,d,x);this.needsUpload=!1,this._featureMap=new hd,this._bufferOffset=0}populatePaintArrays(l,d,x,A,R,U){for(const ne in this.programConfigurations)this.programConfigurations[ne].populatePaintArrays(l,d,A,R,U);d.id!==void 0&&this._featureMap.add(d.id,x,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,x,A){for(const R of x)this.needsUpload=this.programConfigurations[R.id].updatePaintArrays(l,this._featureMap,d,R,A)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function oD(u,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${l}-`,"").replace(/-/g,"_")]}function yS(u,l,d){const x={color:{source:m,composite:rt},number:{source:Qe,composite:m}},A=function(R){return{"line-pattern":{source:Ii,composite:Ii},"fill-pattern":{source:Ii,composite:Ii},"fill-extrusion-pattern":{source:Ii,composite:Ii}}[R]}(u);return A&&A[d]||x[l][d]}bn("ConstantBinder",wg),bn("CrossFadedConstantBinder",hm),bn("SourceExpressionBinder",xu),bn("CrossFadedCompositeBinder",pd),bn("CompositeExpressionBinder",ec),bn("ProgramConfiguration",gS,{omit:["_buffers"]}),bn("ProgramConfigurationSet",Lh);var ga=8192;const i_=Math.pow(2,14)-1,vS=-i_-1;function Nh(u){const l=ga/u.extent,d=u.loadGeometry();for(let x=0;x<d.length;x++){const A=d[x];for(let R=0;R<A.length;R++){const U=A[R],ne=Math.round(U.x*l),oe=Math.round(U.y*l);U.x=g(ne,vS,i_),U.y=g(oe,vS,i_),(ne<U.x||ne>U.x+1||oe<U.y||oe>U.y+1)&&C("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function Ih(u,l){return{type:u.type,id:u.id,properties:u.properties,geometry:l?Nh(u):[]}}function qv(u,l,d,x,A){u.emplaceBack(2*l+(x+1)/2,2*d+(A+1)/2)}class r_{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Rn,this.indexArray=new Ga,this.segments=new Ai,this.programConfigurations=new Lh(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,x){const A=this.layers[0],R=[];let U=null,ne=!1;A.type==="circle"&&(U=A.layout.get("circle-sort-key"),ne=!U.isConstant());for(const{feature:oe,id:ye,index:Ne,sourceLayerIndex:De}of l){const Be=this.layers[0]._featureFilter.needGeometry,qe=Ih(oe,Be);if(!this.layers[0]._featureFilter.filter(new gr(this.zoom),qe,x))continue;const He=ne?U.evaluate(qe,{},x):void 0,ct={id:ye,properties:oe.properties,type:oe.type,sourceLayerIndex:De,index:Ne,geometry:Be?qe.geometry:Nh(oe),patterns:{},sortKey:He};R.push(ct)}ne&&R.sort((oe,ye)=>oe.sortKey-ye.sortKey);for(const oe of R){const{geometry:ye,index:Ne,sourceLayerIndex:De}=oe,Be=l[Ne].feature;this.addFeature(oe,ye,Ne,x),d.featureIndex.insert(Be,ye,Ne,De,this.index)}}update(l,d,x){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,x)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,om),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,x,A){for(const R of d)for(const U of R){const ne=U.x,oe=U.y;if(ne<0||ne>=ga||oe<0||oe>=ga)continue;const ye=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),Ne=ye.vertexLength;qv(this.layoutVertexArray,ne,oe,-1,-1),qv(this.layoutVertexArray,ne,oe,1,-1),qv(this.layoutVertexArray,ne,oe,1,1),qv(this.layoutVertexArray,ne,oe,-1,1),this.indexArray.emplaceBack(Ne,Ne+1,Ne+2),this.indexArray.emplaceBack(Ne,Ne+3,Ne+2),ye.vertexLength+=4,ye.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,x,{},A)}}function xS(u,l){for(let d=0;d<u.length;d++)if(pm(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(pm(u,l[d]))return!0;return!!a_(u,l)}function lD(u,l,d){return!!pm(u,l)||!!s_(l,u,d)}function bS(u,l){if(u.length===1)return wS(l,u[0]);for(let d=0;d<l.length;d++){const x=l[d];for(let A=0;A<x.length;A++)if(pm(u,x[A]))return!0}for(let d=0;d<u.length;d++)if(wS(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(a_(u,l[d]))return!0;return!1}function cD(u,l,d){if(u.length>1){if(a_(u,l))return!0;for(let x=0;x<l.length;x++)if(s_(l[x],u,d))return!0}for(let x=0;x<u.length;x++)if(s_(u[x],l,d))return!0;return!1}function a_(u,l){if(u.length===0||l.length===0)return!1;for(let d=0;d<u.length-1;d++){const x=u[d],A=u[d+1];for(let R=0;R<l.length-1;R++)if(uD(x,A,l[R],l[R+1]))return!0}return!1}function uD(u,l,d,x){return L(u,d,x)!==L(l,d,x)&&L(u,l,d)!==L(u,l,x)}function s_(u,l,d){const x=d*d;if(l.length===1)return u.distSqr(l[0])<x;for(let A=1;A<l.length;A++)if(_S(u,l[A-1],l[A])<x)return!0;return!1}function _S(u,l,d){const x=l.distSqr(d);if(x===0)return u.distSqr(l);const A=((u.x-l.x)*(d.x-l.x)+(u.y-l.y)*(d.y-l.y))/x;return u.distSqr(A<0?l:A>1?d:d.sub(l)._mult(A)._add(l))}function wS(u,l){let d,x,A,R=!1;for(let U=0;U<u.length;U++){d=u[U];for(let ne=0,oe=d.length-1;ne<d.length;oe=ne++)x=d[ne],A=d[oe],x.y>l.y!=A.y>l.y&&l.x<(A.x-x.x)*(l.y-x.y)/(A.y-x.y)+x.x&&(R=!R)}return R}function pm(u,l){let d=!1;for(let x=0,A=u.length-1;x<u.length;A=x++){const R=u[x],U=u[A];R.y>l.y!=U.y>l.y&&l.x<(U.x-R.x)*(l.y-R.y)/(U.y-R.y)+R.x&&(d=!d)}return d}function dD(u,l,d){const x=d[0],A=d[2];if(u.x<x.x&&l.x<x.x||u.x>A.x&&l.x>A.x||u.y<x.y&&l.y<x.y||u.y>A.y&&l.y>A.y)return!1;const R=L(u,l,d[0]);return R!==L(u,l,d[1])||R!==L(u,l,d[2])||R!==L(u,l,d[3])}function Tg(u,l,d){const x=l.paint.get(u).value;return x.kind==="constant"?x.value:d.programConfigurations.get(l.id).getMaxValue(u)}function Wv(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function Hv(u,l,d,x,A){if(!l[0]&&!l[1])return u;const R=Y.convert(l)._mult(A);d==="viewport"&&R._rotate(-x);const U=[];for(let ne=0;ne<u.length;ne++)U.push(u[ne].sub(R));return U}bn("CircleBucket",r_,{omit:["layers"]});const hD=new fa({"circle-sort-key":new $n(Me.layout_circle["circle-sort-key"])});var pD={paint:new fa({"circle-radius":new $n(Me.paint_circle["circle-radius"]),"circle-color":new $n(Me.paint_circle["circle-color"]),"circle-blur":new $n(Me.paint_circle["circle-blur"]),"circle-opacity":new $n(Me.paint_circle["circle-opacity"]),"circle-translate":new Nn(Me.paint_circle["circle-translate"]),"circle-translate-anchor":new Nn(Me.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Nn(Me.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Nn(Me.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new $n(Me.paint_circle["circle-stroke-width"]),"circle-stroke-color":new $n(Me.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new $n(Me.paint_circle["circle-stroke-opacity"])}),layout:hD},Vs=1e-6,qs=typeof Float32Array<"u"?Float32Array:Array;function TS(){var u=new qs(9);return qs!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[5]=0,u[6]=0,u[7]=0),u[0]=1,u[4]=1,u[8]=1,u}function o_(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function SS(u,l,d){var x=l[0],A=l[1],R=l[2],U=l[3],ne=l[4],oe=l[5],ye=l[6],Ne=l[7],De=l[8],Be=l[9],qe=l[10],He=l[11],ct=l[12],ot=l[13],_t=l[14],Dt=l[15],vt=d[0],At=d[1],Vt=d[2],Yt=d[3];return u[0]=vt*x+At*ne+Vt*De+Yt*ct,u[1]=vt*A+At*oe+Vt*Be+Yt*ot,u[2]=vt*R+At*ye+Vt*qe+Yt*_t,u[3]=vt*U+At*Ne+Vt*He+Yt*Dt,u[4]=(vt=d[4])*x+(At=d[5])*ne+(Vt=d[6])*De+(Yt=d[7])*ct,u[5]=vt*A+At*oe+Vt*Be+Yt*ot,u[6]=vt*R+At*ye+Vt*qe+Yt*_t,u[7]=vt*U+At*Ne+Vt*He+Yt*Dt,u[8]=(vt=d[8])*x+(At=d[9])*ne+(Vt=d[10])*De+(Yt=d[11])*ct,u[9]=vt*A+At*oe+Vt*Be+Yt*ot,u[10]=vt*R+At*ye+Vt*qe+Yt*_t,u[11]=vt*U+At*Ne+Vt*He+Yt*Dt,u[12]=(vt=d[12])*x+(At=d[13])*ne+(Vt=d[14])*De+(Yt=d[15])*ct,u[13]=vt*A+At*oe+Vt*Be+Yt*ot,u[14]=vt*R+At*ye+Vt*qe+Yt*_t,u[15]=vt*U+At*Ne+Vt*He+Yt*Dt,u}Math.hypot||(Math.hypot=function(){for(var u=0,l=arguments.length;l--;)u+=arguments[l]*arguments[l];return Math.sqrt(u)});var Sg,mD=SS;function CS(){var u=new qs(3);return qs!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u}function ES(u,l,d){var x=new qs(3);return x[0]=u,x[1]=l,x[2]=d,x}function Xv(u,l,d){var x=l[0],A=l[1],R=l[2],U=l[3];return u[0]=d[0]*x+d[4]*A+d[8]*R+d[12]*U,u[1]=d[1]*x+d[5]*A+d[9]*R+d[13]*U,u[2]=d[2]*x+d[6]*A+d[10]*R+d[14]*U,u[3]=d[3]*x+d[7]*A+d[11]*R+d[15]*U,u}function kS(){var u=new qs(4);return qs!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u[3]=1,u}function LS(u,l){const d=Xv([],[u.x,u.y,0,1],l);return new Y(d[0]/d[3],d[1]/d[3])}CS(),Sg=new qs(4),qs!=Float32Array&&(Sg[0]=0,Sg[1]=0,Sg[2]=0,Sg[3]=0),CS(),ES(1,0,0),ES(0,1,0),kS(),kS(),TS(),function(){var u;u=new qs(2),qs!=Float32Array&&(u[0]=0,u[1]=0)}();class NS extends r_{}bn("HeatmapBucket",NS,{omit:["layers"]});var fD={paint:new fa({"heatmap-radius":new $n(Me.paint_heatmap["heatmap-radius"]),"heatmap-weight":new $n(Me.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Nn(Me.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bg(Me.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Nn(Me.paint_heatmap["heatmap-opacity"])})};function l_(u,{width:l,height:d},x,A){if(A){if(A instanceof Uint8ClampedArray)A=new Uint8Array(A.buffer);else if(A.length!==l*d*x)throw new RangeError(`mismatched image size. expected: ${A.length} but got: ${l*d*x}`)}else A=new Uint8Array(l*d*x);return u.width=l,u.height=d,u.data=A,u}function IS(u,{width:l,height:d},x){if(l===u.width&&d===u.height)return;const A=l_({},{width:l,height:d},x);c_(u,A,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,l),height:Math.min(u.height,d)},x),u.width=l,u.height=d,u.data=A.data}function c_(u,l,d,x,A,R){if(A.width===0||A.height===0)return l;if(A.width>u.width||A.height>u.height||d.x>u.width-A.width||d.y>u.height-A.height)throw new RangeError("out of range source coordinates for image copy");if(A.width>l.width||A.height>l.height||x.x>l.width-A.width||x.y>l.height-A.height)throw new RangeError("out of range destination coordinates for image copy");const U=u.data,ne=l.data;if(U===ne)throw new Error("srcData equals dstData, so image is already copied");for(let oe=0;oe<A.height;oe++){const ye=((d.y+oe)*u.width+d.x)*R,Ne=((x.y+oe)*l.width+x.x)*R;for(let De=0;De<A.width*R;De++)ne[Ne+De]=U[ye+De]}return l}class Cg{constructor(l,d){l_(this,l,1,d)}resize(l){IS(this,l,1)}clone(){return new Cg({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,x,A,R){c_(l,d,x,A,R,1)}}class el{constructor(l,d){l_(this,l,4,d)}resize(l){IS(this,l,4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new el({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,x,A,R){c_(l,d,x,A,R,4)}}function AS(u){const l={},d=u.resolution||256,x=u.clips?u.clips.length:1,A=u.image||new el({width:d,height:x});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const R=(U,ne,oe)=>{l[u.evaluationKey]=oe;const ye=u.expression.evaluate(l);A.data[U+ne+0]=Math.floor(255*ye.r/ye.a),A.data[U+ne+1]=Math.floor(255*ye.g/ye.a),A.data[U+ne+2]=Math.floor(255*ye.b/ye.a),A.data[U+ne+3]=Math.floor(255*ye.a)};if(u.clips)for(let U=0,ne=0;U<x;++U,ne+=4*d)for(let oe=0,ye=0;oe<d;oe++,ye+=4){const Ne=oe/(d-1),{start:De,end:Be}=u.clips[U];R(ne,ye,De*(1-Ne)+Be*Ne)}else for(let U=0,ne=0;U<d;U++,ne+=4)R(0,ne,U/(d-1));return A}bn("AlphaImage",Cg),bn("RGBAImage",el);var gD={paint:new fa({"hillshade-illumination-direction":new Nn(Me.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Nn(Me.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Nn(Me.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Nn(Me.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Nn(Me.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Nn(Me.paint_hillshade["hillshade-accent-color"])})};const yD=ca([{name:"a_pos",components:2,type:"Int16"}],4),{members:vD}=yD;var Zv={exports:{}};function Kv(u,l,d){d=d||2;var x,A,R,U,ne,oe,ye,Ne=l&&l.length,De=Ne?l[0]*d:u.length,Be=PS(u,0,De,d,!0),qe=[];if(!Be||Be.next===Be.prev)return qe;if(Ne&&(Be=function(ct,ot,_t,Dt){var vt,At,Vt,Yt=[];for(vt=0,At=ot.length;vt<At;vt++)(Vt=PS(ct,ot[vt]*Dt,vt<At-1?ot[vt+1]*Dt:ct.length,Dt,!1))===Vt.next&&(Vt.steiner=!0),Yt.push(ED(Vt));for(Yt.sort(TD),vt=0;vt<Yt.length;vt++)_t=SD(Yt[vt],_t);return _t}(u,l,Be,d)),u.length>80*d){x=R=u[0],A=U=u[1];for(var He=d;He<De;He+=d)(ne=u[He])<x&&(x=ne),(oe=u[He+1])<A&&(A=oe),ne>R&&(R=ne),oe>U&&(U=oe);ye=(ye=Math.max(R-x,U-A))!==0?32767/ye:0}return Eg(Be,qe,d,x,A,ye,0),qe}function PS(u,l,d,x,A){var R,U;if(A===h_(u,l,d,x)>0)for(R=l;R<d;R+=x)U=OS(R,u[R],u[R+1],U);else for(R=d-x;R>=l;R-=x)U=OS(R,u[R],u[R+1],U);return U&&Qv(U,U.next)&&(Lg(U),U=U.next),U}function Ah(u,l){if(!u)return u;l||(l=u);var d,x=u;do if(d=!1,x.steiner||!Qv(x,x.next)&&Jr(x.prev,x,x.next)!==0)x=x.next;else{if(Lg(x),(x=l=x.prev)===x.next)break;d=!0}while(d||x!==l);return l}function Eg(u,l,d,x,A,R,U){if(u){!U&&R&&function(Ne,De,Be,qe){var He=Ne;do He.z===0&&(He.z=u_(He.x,He.y,De,Be,qe)),He.prevZ=He.prev,He.nextZ=He.next,He=He.next;while(He!==Ne);He.prevZ.nextZ=null,He.prevZ=null,function(ct){var ot,_t,Dt,vt,At,Vt,Yt,wn,Ln=1;do{for(_t=ct,ct=null,At=null,Vt=0;_t;){for(Vt++,Dt=_t,Yt=0,ot=0;ot<Ln&&(Yt++,Dt=Dt.nextZ);ot++);for(wn=Ln;Yt>0||wn>0&&Dt;)Yt!==0&&(wn===0||!Dt||_t.z<=Dt.z)?(vt=_t,_t=_t.nextZ,Yt--):(vt=Dt,Dt=Dt.nextZ,wn--),At?At.nextZ=vt:ct=vt,vt.prevZ=At,At=vt;_t=Dt}At.nextZ=null,Ln*=2}while(Vt>1)}(He)}(u,x,A,R);for(var ne,oe,ye=u;u.prev!==u.next;)if(ne=u.prev,oe=u.next,R?bD(u,x,A,R):xD(u))l.push(ne.i/d|0),l.push(u.i/d|0),l.push(oe.i/d|0),Lg(u),u=oe.next,ye=oe.next;else if((u=oe)===ye){U?U===1?Eg(u=_D(Ah(u),l,d),l,d,x,A,R,2):U===2&&wD(u,l,d,x,A,R):Eg(Ah(u),l,d,x,A,R,1);break}}}function xD(u){var l=u.prev,d=u,x=u.next;if(Jr(l,d,x)>=0)return!1;for(var A=l.x,R=d.x,U=x.x,ne=l.y,oe=d.y,ye=x.y,Ne=A<R?A<U?A:U:R<U?R:U,De=ne<oe?ne<ye?ne:ye:oe<ye?oe:ye,Be=A>R?A>U?A:U:R>U?R:U,qe=ne>oe?ne>ye?ne:ye:oe>ye?oe:ye,He=x.next;He!==l;){if(He.x>=Ne&&He.x<=Be&&He.y>=De&&He.y<=qe&&mm(A,ne,R,oe,U,ye,He.x,He.y)&&Jr(He.prev,He,He.next)>=0)return!1;He=He.next}return!0}function bD(u,l,d,x){var A=u.prev,R=u,U=u.next;if(Jr(A,R,U)>=0)return!1;for(var ne=A.x,oe=R.x,ye=U.x,Ne=A.y,De=R.y,Be=U.y,qe=ne<oe?ne<ye?ne:ye:oe<ye?oe:ye,He=Ne<De?Ne<Be?Ne:Be:De<Be?De:Be,ct=ne>oe?ne>ye?ne:ye:oe>ye?oe:ye,ot=Ne>De?Ne>Be?Ne:Be:De>Be?De:Be,_t=u_(qe,He,l,d,x),Dt=u_(ct,ot,l,d,x),vt=u.prevZ,At=u.nextZ;vt&&vt.z>=_t&&At&&At.z<=Dt;){if(vt.x>=qe&&vt.x<=ct&&vt.y>=He&&vt.y<=ot&&vt!==A&&vt!==U&&mm(ne,Ne,oe,De,ye,Be,vt.x,vt.y)&&Jr(vt.prev,vt,vt.next)>=0||(vt=vt.prevZ,At.x>=qe&&At.x<=ct&&At.y>=He&&At.y<=ot&&At!==A&&At!==U&&mm(ne,Ne,oe,De,ye,Be,At.x,At.y)&&Jr(At.prev,At,At.next)>=0))return!1;At=At.nextZ}for(;vt&&vt.z>=_t;){if(vt.x>=qe&&vt.x<=ct&&vt.y>=He&&vt.y<=ot&&vt!==A&&vt!==U&&mm(ne,Ne,oe,De,ye,Be,vt.x,vt.y)&&Jr(vt.prev,vt,vt.next)>=0)return!1;vt=vt.prevZ}for(;At&&At.z<=Dt;){if(At.x>=qe&&At.x<=ct&&At.y>=He&&At.y<=ot&&At!==A&&At!==U&&mm(ne,Ne,oe,De,ye,Be,At.x,At.y)&&Jr(At.prev,At,At.next)>=0)return!1;At=At.nextZ}return!0}function _D(u,l,d){var x=u;do{var A=x.prev,R=x.next.next;!Qv(A,R)&&MS(A,x,x.next,R)&&kg(A,R)&&kg(R,A)&&(l.push(A.i/d|0),l.push(x.i/d|0),l.push(R.i/d|0),Lg(x),Lg(x.next),x=u=R),x=x.next}while(x!==u);return Ah(x)}function wD(u,l,d,x,A,R){var U=u;do{for(var ne=U.next.next;ne!==U.prev;){if(U.i!==ne.i&&kD(U,ne)){var oe=DS(U,ne);return U=Ah(U,U.next),oe=Ah(oe,oe.next),Eg(U,l,d,x,A,R,0),void Eg(oe,l,d,x,A,R,0)}ne=ne.next}U=U.next}while(U!==u)}function TD(u,l){return u.x-l.x}function SD(u,l){var d=function(A,R){var U,ne=R,oe=A.x,ye=A.y,Ne=-1/0;do{if(ye<=ne.y&&ye>=ne.next.y&&ne.next.y!==ne.y){var De=ne.x+(ye-ne.y)*(ne.next.x-ne.x)/(ne.next.y-ne.y);if(De<=oe&&De>Ne&&(Ne=De,U=ne.x<ne.next.x?ne:ne.next,De===oe))return U}ne=ne.next}while(ne!==R);if(!U)return null;var Be,qe=U,He=U.x,ct=U.y,ot=1/0;ne=U;do oe>=ne.x&&ne.x>=He&&oe!==ne.x&&mm(ye<ct?oe:Ne,ye,He,ct,ye<ct?Ne:oe,ye,ne.x,ne.y)&&(Be=Math.abs(ye-ne.y)/(oe-ne.x),kg(ne,A)&&(Be<ot||Be===ot&&(ne.x>U.x||ne.x===U.x&&CD(U,ne)))&&(U=ne,ot=Be)),ne=ne.next;while(ne!==qe);return U}(u,l);if(!d)return l;var x=DS(d,u);return Ah(x,x.next),Ah(d,d.next)}function CD(u,l){return Jr(u.prev,u,l.prev)<0&&Jr(l.next,u,u.next)<0}function u_(u,l,d,x,A){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-d)*A|0)|u<<8))|u<<4))|u<<2))|u<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-x)*A|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function ED(u){var l=u,d=u;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==u);return d}function mm(u,l,d,x,A,R,U,ne){return(A-U)*(l-ne)>=(u-U)*(R-ne)&&(u-U)*(x-ne)>=(d-U)*(l-ne)&&(d-U)*(R-ne)>=(A-U)*(x-ne)}function kD(u,l){return u.next.i!==l.i&&u.prev.i!==l.i&&!function(d,x){var A=d;do{if(A.i!==d.i&&A.next.i!==d.i&&A.i!==x.i&&A.next.i!==x.i&&MS(A,A.next,d,x))return!0;A=A.next}while(A!==d);return!1}(u,l)&&(kg(u,l)&&kg(l,u)&&function(d,x){var A=d,R=!1,U=(d.x+x.x)/2,ne=(d.y+x.y)/2;do A.y>ne!=A.next.y>ne&&A.next.y!==A.y&&U<(A.next.x-A.x)*(ne-A.y)/(A.next.y-A.y)+A.x&&(R=!R),A=A.next;while(A!==d);return R}(u,l)&&(Jr(u.prev,u,l.prev)||Jr(u,l.prev,l))||Qv(u,l)&&Jr(u.prev,u,u.next)>0&&Jr(l.prev,l,l.next)>0)}function Jr(u,l,d){return(l.y-u.y)*(d.x-l.x)-(l.x-u.x)*(d.y-l.y)}function Qv(u,l){return u.x===l.x&&u.y===l.y}function MS(u,l,d,x){var A=ex(Jr(u,l,d)),R=ex(Jr(u,l,x)),U=ex(Jr(d,x,u)),ne=ex(Jr(d,x,l));return A!==R&&U!==ne||!(A!==0||!Jv(u,d,l))||!(R!==0||!Jv(u,x,l))||!(U!==0||!Jv(d,u,x))||!(ne!==0||!Jv(d,l,x))}function Jv(u,l,d){return l.x<=Math.max(u.x,d.x)&&l.x>=Math.min(u.x,d.x)&&l.y<=Math.max(u.y,d.y)&&l.y>=Math.min(u.y,d.y)}function ex(u){return u>0?1:u<0?-1:0}function kg(u,l){return Jr(u.prev,u,u.next)<0?Jr(u,l,u.next)>=0&&Jr(u,u.prev,l)>=0:Jr(u,l,u.prev)<0||Jr(u,u.next,l)<0}function DS(u,l){var d=new d_(u.i,u.x,u.y),x=new d_(l.i,l.x,l.y),A=u.next,R=l.prev;return u.next=l,l.prev=u,d.next=A,A.prev=d,x.next=d,d.prev=x,R.next=x,x.prev=R,x}function OS(u,l,d,x){var A=new d_(u,l,d);return x?(A.next=x.next,A.prev=x,x.next.prev=A,x.next=A):(A.prev=A,A.next=A),A}function Lg(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function d_(u,l,d){this.i=u,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function h_(u,l,d,x){for(var A=0,R=l,U=d-x;R<d;R+=x)A+=(u[U]-u[R])*(u[R+1]+u[U+1]),U=R;return A}function LD(u,l,d,x,A){RS(u,l,d,x||u.length-1,A)}function RS(u,l,d,x,A){for(;x>d;){if(x-d>600){var R=x-d+1,U=l-d+1,ne=Math.log(R),oe=.5*Math.exp(2*ne/3),ye=.5*Math.sqrt(ne*oe*(R-oe)/R)*(U-R/2<0?-1:1);RS(u,l,Math.max(d,Math.floor(l-U*oe/R+ye)),Math.min(x,Math.floor(l+(R-U)*oe/R+ye)),A)}var Ne=u[l],De=d,Be=x;for(Ng(u,d,l),A(u[x],Ne)>0&&Ng(u,d,x);De<Be;){for(Ng(u,De,Be),De++,Be--;A(u[De],Ne)<0;)De++;for(;A(u[Be],Ne)>0;)Be--}A(u[d],Ne)===0?Ng(u,d,Be):Ng(u,++Be,x),Be<=l&&(d=Be+1),l<=Be&&(x=Be-1)}}function Ng(u,l,d){var x=u[l];u[l]=u[d],u[d]=x}function p_(u,l){const d=u.length;if(d<=1)return[u];const x=[];let A,R;for(let U=0;U<d;U++){const ne=O(u[U]);ne!==0&&(u[U].area=Math.abs(ne),R===void 0&&(R=ne<0),R===ne<0?(A&&x.push(A),A=[u[U]]):A.push(u[U]))}if(A&&x.push(A),l>1)for(let U=0;U<x.length;U++)x[U].length<=l||(LD(x[U],l,1,x[U].length-1,ND),x[U]=x[U].slice(0,l));return x}function ND(u,l){return l.area-u.area}function m_(u,l,d){const x=d.patternDependencies;let A=!1;for(const R of l){const U=R.paint.get(`${u}-pattern`);U.isConstant()||(A=!0);const ne=U.constantOr(null);ne&&(A=!0,x[ne.to]=!0,x[ne.from]=!0)}return A}function f_(u,l,d,x,A){const R=A.patternDependencies;for(const U of l){const ne=U.paint.get(`${u}-pattern`).value;if(ne.kind!=="constant"){let oe=ne.evaluate({zoom:x-1},d,{},A.availableImages),ye=ne.evaluate({zoom:x},d,{},A.availableImages),Ne=ne.evaluate({zoom:x+1},d,{},A.availableImages);oe=oe&&oe.name?oe.name:oe,ye=ye&&ye.name?ye.name:ye,Ne=Ne&&Ne.name?Ne.name:Ne,R[oe]=!0,R[ye]=!0,R[Ne]=!0,d.patterns[U.id]={min:oe,mid:ye,max:Ne}}}return d}Zv.exports=Kv,Zv.exports.default=Kv,Kv.deviation=function(u,l,d,x){var A=l&&l.length,R=Math.abs(h_(u,0,A?l[0]*d:u.length,d));if(A)for(var U=0,ne=l.length;U<ne;U++)R-=Math.abs(h_(u,l[U]*d,U<ne-1?l[U+1]*d:u.length,d));var oe=0;for(U=0;U<x.length;U+=3){var ye=x[U]*d,Ne=x[U+1]*d,De=x[U+2]*d;oe+=Math.abs((u[ye]-u[De])*(u[Ne+1]-u[ye+1])-(u[ye]-u[Ne])*(u[De+1]-u[ye+1]))}return R===0&&oe===0?0:Math.abs((oe-R)/R)},Kv.flatten=function(u){for(var l=u[0][0].length,d={vertices:[],holes:[],dimensions:l},x=0,A=0;A<u.length;A++){for(var R=0;R<u[A].length;R++)for(var U=0;U<l;U++)d.vertices.push(u[A][R][U]);A>0&&d.holes.push(x+=u[A-1].length)}return d};class g_{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Wi,this.indexArray=new Ga,this.indexArray2=new Qo,this.programConfigurations=new Lh(l.layers,l.zoom),this.segments=new Ai,this.segments2=new Ai,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,x){this.hasPattern=m_("fill",this.layers,d);const A=this.layers[0].layout.get("fill-sort-key"),R=!A.isConstant(),U=[];for(const{feature:ne,id:oe,index:ye,sourceLayerIndex:Ne}of l){const De=this.layers[0]._featureFilter.needGeometry,Be=Ih(ne,De);if(!this.layers[0]._featureFilter.filter(new gr(this.zoom),Be,x))continue;const qe=R?A.evaluate(Be,{},x,d.availableImages):void 0,He={id:oe,properties:ne.properties,type:ne.type,sourceLayerIndex:Ne,index:ye,geometry:De?Be.geometry:Nh(ne),patterns:{},sortKey:qe};U.push(He)}R&&U.sort((ne,oe)=>ne.sortKey-oe.sortKey);for(const ne of U){const{geometry:oe,index:ye,sourceLayerIndex:Ne}=ne;if(this.hasPattern){const De=f_("fill",this.layers,ne,this.zoom,d);this.patternFeatures.push(De)}else this.addFeature(ne,oe,ye,x,{});d.featureIndex.insert(l[ye].feature,oe,ye,Ne,this.index)}}update(l,d,x){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,x)}addFeatures(l,d,x){for(const A of this.patternFeatures)this.addFeature(A,A.geometry,A.index,d,x)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,vD),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,x,A,R){for(const U of p_(d,500)){let ne=0;for(const qe of U)ne+=qe.length;const oe=this.segments.prepareSegment(ne,this.layoutVertexArray,this.indexArray),ye=oe.vertexLength,Ne=[],De=[];for(const qe of U){if(qe.length===0)continue;qe!==U[0]&&De.push(Ne.length/2);const He=this.segments2.prepareSegment(qe.length,this.layoutVertexArray,this.indexArray2),ct=He.vertexLength;this.layoutVertexArray.emplaceBack(qe[0].x,qe[0].y),this.indexArray2.emplaceBack(ct+qe.length-1,ct),Ne.push(qe[0].x),Ne.push(qe[0].y);for(let ot=1;ot<qe.length;ot++)this.layoutVertexArray.emplaceBack(qe[ot].x,qe[ot].y),this.indexArray2.emplaceBack(ct+ot-1,ct+ot),Ne.push(qe[ot].x),Ne.push(qe[ot].y);He.vertexLength+=qe.length,He.primitiveLength+=qe.length}const Be=Zv.exports(Ne,De);for(let qe=0;qe<Be.length;qe+=3)this.indexArray.emplaceBack(ye+Be[qe],ye+Be[qe+1],ye+Be[qe+2]);oe.vertexLength+=ne,oe.primitiveLength+=Be.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,x,R,A)}}bn("FillBucket",g_,{omit:["layers","patternFeatures"]});const ID=new fa({"fill-sort-key":new $n(Me.layout_fill["fill-sort-key"])});var AD={paint:new fa({"fill-antialias":new Nn(Me.paint_fill["fill-antialias"]),"fill-opacity":new $n(Me.paint_fill["fill-opacity"]),"fill-color":new $n(Me.paint_fill["fill-color"]),"fill-outline-color":new $n(Me.paint_fill["fill-outline-color"]),"fill-translate":new Nn(Me.paint_fill["fill-translate"]),"fill-translate-anchor":new Nn(Me.paint_fill["fill-translate-anchor"]),"fill-pattern":new Th(Me.paint_fill["fill-pattern"])}),layout:ID};const PD=ca([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),MD=ca([{name:"a_centroid",components:2,type:"Int16"}],4),{members:DD}=PD;var md={},OD=Y,$S=fm;function fm(u,l,d,x,A){this.properties={},this.extent=d,this.type=0,this._pbf=u,this._geometry=-1,this._keys=x,this._values=A,u.readFields(RD,this,l)}function RD(u,l,d){u==1?l.id=d.readVarint():u==2?function(x,A){for(var R=x.readVarint()+x.pos;x.pos<R;){var U=A._keys[x.readVarint()],ne=A._values[x.readVarint()];A.properties[U]=ne}}(d,l):u==3?l.type=d.readVarint():u==4&&(l._geometry=d.pos)}function $D(u){for(var l,d,x=0,A=0,R=u.length,U=R-1;A<R;U=A++)x+=((d=u[U]).x-(l=u[A]).x)*(l.y+d.y);return x}fm.types=["Unknown","Point","LineString","Polygon"],fm.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var l,d=u.readVarint()+u.pos,x=1,A=0,R=0,U=0,ne=[];u.pos<d;){if(A<=0){var oe=u.readVarint();x=7&oe,A=oe>>3}if(A--,x===1||x===2)R+=u.readSVarint(),U+=u.readSVarint(),x===1&&(l&&ne.push(l),l=[]),l.push(new OD(R,U));else{if(x!==7)throw new Error("unknown command "+x);l&&l.push(l[0].clone())}}return l&&ne.push(l),ne},fm.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var l=u.readVarint()+u.pos,d=1,x=0,A=0,R=0,U=1/0,ne=-1/0,oe=1/0,ye=-1/0;u.pos<l;){if(x<=0){var Ne=u.readVarint();d=7&Ne,x=Ne>>3}if(x--,d===1||d===2)(A+=u.readSVarint())<U&&(U=A),A>ne&&(ne=A),(R+=u.readSVarint())<oe&&(oe=R),R>ye&&(ye=R);else if(d!==7)throw new Error("unknown command "+d)}return[U,oe,ne,ye]},fm.prototype.toGeoJSON=function(u,l,d){var x,A,R=this.extent*Math.pow(2,d),U=this.extent*u,ne=this.extent*l,oe=this.loadGeometry(),ye=fm.types[this.type];function Ne(qe){for(var He=0;He<qe.length;He++){var ct=qe[He];qe[He]=[360*(ct.x+U)/R-180,360/Math.PI*Math.atan(Math.exp((180-360*(ct.y+ne)/R)*Math.PI/180))-90]}}switch(this.type){case 1:var De=[];for(x=0;x<oe.length;x++)De[x]=oe[x][0];Ne(oe=De);break;case 2:for(x=0;x<oe.length;x++)Ne(oe[x]);break;case 3:for(oe=function(qe){var He=qe.length;if(He<=1)return[qe];for(var ct,ot,_t=[],Dt=0;Dt<He;Dt++){var vt=$D(qe[Dt]);vt!==0&&(ot===void 0&&(ot=vt<0),ot===vt<0?(ct&&_t.push(ct),ct=[qe[Dt]]):ct.push(qe[Dt]))}return ct&&_t.push(ct),_t}(oe),x=0;x<oe.length;x++)for(A=0;A<oe[x].length;A++)Ne(oe[x][A])}oe.length===1?oe=oe[0]:ye="Multi"+ye;var Be={type:"Feature",geometry:{type:ye,coordinates:oe},properties:this.properties};return"id"in this&&(Be.id=this.id),Be};var zD=$S,zS=FS;function FS(u,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(FD,this,l),this.length=this._features.length}function FD(u,l,d){u===15?l.version=d.readVarint():u===1?l.name=d.readString():u===5?l.extent=d.readVarint():u===2?l._features.push(d.pos):u===3?l._keys.push(d.readString()):u===4&&l._values.push(function(x){for(var A=null,R=x.readVarint()+x.pos;x.pos<R;){var U=x.readVarint()>>3;A=U===1?x.readString():U===2?x.readFloat():U===3?x.readDouble():U===4?x.readVarint64():U===5?x.readVarint():U===6?x.readSVarint():U===7?x.readBoolean():null}return A}(d))}FS.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var l=this._pbf.readVarint()+this._pbf.pos;return new zD(this._pbf,l,this.extent,this._keys,this._values)};var BD=zS;function jD(u,l,d){if(u===3){var x=new BD(d,d.readVarint()+d.pos);x.length&&(l[x.name]=x)}}md.VectorTile=function(u,l){this.layers=u.readFields(jD,{},l)},md.VectorTileFeature=$S,md.VectorTileLayer=zS;const UD=md.VectorTileFeature.types,y_=Math.pow(2,13);function Ig(u,l,d,x,A,R,U,ne){u.emplaceBack(l,d,2*Math.floor(x*y_)+U,A*y_*2,R*y_*2,Math.round(ne))}class v_{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Hi,this.centroidVertexArray=new hi,this.indexArray=new Ga,this.programConfigurations=new Lh(l.layers,l.zoom),this.segments=new Ai,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,x){this.features=[],this.hasPattern=m_("fill-extrusion",this.layers,d);for(const{feature:A,id:R,index:U,sourceLayerIndex:ne}of l){const oe=this.layers[0]._featureFilter.needGeometry,ye=Ih(A,oe);if(!this.layers[0]._featureFilter.filter(new gr(this.zoom),ye,x))continue;const Ne={id:R,sourceLayerIndex:ne,index:U,geometry:oe?ye.geometry:Nh(A),properties:A.properties,type:A.type,patterns:{}};this.hasPattern?this.features.push(f_("fill-extrusion",this.layers,Ne,this.zoom,d)):this.addFeature(Ne,Ne.geometry,U,x,{}),d.featureIndex.insert(A,Ne.geometry,U,ne,this.index,!0)}}addFeatures(l,d,x){for(const A of this.features){const{geometry:R}=A;this.addFeature(A,R,A.index,d,x)}}update(l,d,x){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,x)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,DD),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,MD.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,d,x,A,R){const U={x:0,y:0,vertexCount:0};for(const ne of p_(d,500)){let oe=0;for(const He of ne)oe+=He.length;let ye=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const He of ne){if(He.length===0||YD(He))continue;let ct=0;for(let ot=0;ot<He.length;ot++){const _t=He[ot];if(ot>=1){const Dt=He[ot-1];if(!GD(_t,Dt)){ye.vertexLength+4>Ai.MAX_VERTEX_ARRAY_LENGTH&&(ye=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const vt=_t.sub(Dt)._perp()._unit(),At=Dt.dist(_t);ct+At>32768&&(ct=0),Ig(this.layoutVertexArray,_t.x,_t.y,vt.x,vt.y,0,0,ct),Ig(this.layoutVertexArray,_t.x,_t.y,vt.x,vt.y,0,1,ct),U.x+=2*_t.x,U.y+=2*_t.y,U.vertexCount+=2,ct+=At,Ig(this.layoutVertexArray,Dt.x,Dt.y,vt.x,vt.y,0,0,ct),Ig(this.layoutVertexArray,Dt.x,Dt.y,vt.x,vt.y,0,1,ct),U.x+=2*Dt.x,U.y+=2*Dt.y,U.vertexCount+=2;const Vt=ye.vertexLength;this.indexArray.emplaceBack(Vt,Vt+2,Vt+1),this.indexArray.emplaceBack(Vt+1,Vt+2,Vt+3),ye.vertexLength+=4,ye.primitiveLength+=2}}}}if(ye.vertexLength+oe>Ai.MAX_VERTEX_ARRAY_LENGTH&&(ye=this.segments.prepareSegment(oe,this.layoutVertexArray,this.indexArray)),UD[l.type]!=="Polygon")continue;const Ne=[],De=[],Be=ye.vertexLength;for(const He of ne)if(He.length!==0){He!==ne[0]&&De.push(Ne.length/2);for(let ct=0;ct<He.length;ct++){const ot=He[ct];Ig(this.layoutVertexArray,ot.x,ot.y,0,0,1,1,0),U.x+=ot.x,U.y+=ot.y,U.vertexCount+=1,Ne.push(ot.x),Ne.push(ot.y)}}const qe=Zv.exports(Ne,De);for(let He=0;He<qe.length;He+=3)this.indexArray.emplaceBack(Be+qe[He],Be+qe[He+2],Be+qe[He+1]);ye.primitiveLength+=qe.length/3,ye.vertexLength+=oe}for(let ne=0;ne<U.vertexCount;ne++)this.centroidVertexArray.emplaceBack(Math.floor(U.x/U.vertexCount),Math.floor(U.y/U.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,x,R,A)}}function GD(u,l){return u.x===l.x&&(u.x<0||u.x>ga)||u.y===l.y&&(u.y<0||u.y>ga)}function YD(u){return u.every(l=>l.x<0)||u.every(l=>l.x>ga)||u.every(l=>l.y<0)||u.every(l=>l.y>ga)}bn("FillExtrusionBucket",v_,{omit:["layers","features"]});var VD={paint:new fa({"fill-extrusion-opacity":new Nn(Me["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new $n(Me["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Nn(Me["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Nn(Me["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Th(Me["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new $n(Me["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new $n(Me["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Nn(Me["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Ag(u,l){return u.x*l.x+u.y*l.y}function BS(u,l){if(u.length===1){let d=0;const x=l[d++];let A;for(;!A||x.equals(A);)if(A=l[d++],!A)return 1/0;for(;d<l.length;d++){const R=l[d],U=u[0],ne=A.sub(x),oe=R.sub(x),ye=U.sub(x),Ne=Ag(ne,ne),De=Ag(ne,oe),Be=Ag(oe,oe),qe=Ag(ye,ne),He=Ag(ye,oe),ct=Ne*Be-De*De,ot=(Be*qe-De*He)/ct,_t=(Ne*He-De*qe)/ct,Dt=x.z*(1-ot-_t)+A.z*ot+R.z*_t;if(isFinite(Dt))return Dt}return 1/0}{let d=1/0;for(const x of l)d=Math.min(d,x.z);return d}}const qD=ca([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:WD}=qD,HD=ca([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:XD}=HD,ZD=md.VectorTileFeature.types,KD=Math.cos(Math.PI/180*37.5),jS=Math.pow(2,14)/.5;class x_{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new Si,this.layoutVertexArray2=new Ei,this.indexArray=new Ga,this.programConfigurations=new Lh(l.layers,l.zoom),this.segments=new Ai,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,x){this.hasPattern=m_("line",this.layers,d);const A=this.layers[0].layout.get("line-sort-key"),R=!A.isConstant(),U=[];for(const{feature:ne,id:oe,index:ye,sourceLayerIndex:Ne}of l){const De=this.layers[0]._featureFilter.needGeometry,Be=Ih(ne,De);if(!this.layers[0]._featureFilter.filter(new gr(this.zoom),Be,x))continue;const qe=R?A.evaluate(Be,{},x):void 0,He={id:oe,properties:ne.properties,type:ne.type,sourceLayerIndex:Ne,index:ye,geometry:De?Be.geometry:Nh(ne),patterns:{},sortKey:qe};U.push(He)}R&&U.sort((ne,oe)=>ne.sortKey-oe.sortKey);for(const ne of U){const{geometry:oe,index:ye,sourceLayerIndex:Ne}=ne;if(this.hasPattern){const De=f_("line",this.layers,ne,this.zoom,d);this.patternFeatures.push(De)}else this.addFeature(ne,oe,ye,x,{});d.featureIndex.insert(l[ye].feature,oe,ye,Ne,this.index)}}update(l,d,x){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,x)}addFeatures(l,d,x){for(const A of this.patternFeatures)this.addFeature(A,A.geometry,A.index,d,x)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,XD)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,WD),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,x,A,R){const U=this.layers[0].layout,ne=U.get("line-join").evaluate(l,{}),oe=U.get("line-cap"),ye=U.get("line-miter-limit"),Ne=U.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const De of d)this.addLine(De,l,ne,oe,ye,Ne);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,x,R,A)}addLine(l,d,x,A,R,U){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let _t=0;_t<l.length-1;_t++)this.totalDistance+=l[_t].dist(l[_t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const ne=ZD[d.type]==="Polygon";let oe=l.length;for(;oe>=2&&l[oe-1].equals(l[oe-2]);)oe--;let ye=0;for(;ye<oe-1&&l[ye].equals(l[ye+1]);)ye++;if(oe<(ne?3:2))return;x==="bevel"&&(R=1.05);const Ne=this.overscaling<=16?122880/(512*this.overscaling):0,De=this.segments.prepareSegment(10*oe,this.layoutVertexArray,this.indexArray);let Be,qe,He,ct,ot;this.e1=this.e2=-1,ne&&(Be=l[oe-2],ot=l[ye].sub(Be)._unit()._perp());for(let _t=ye;_t<oe;_t++){if(He=_t===oe-1?ne?l[ye+1]:void 0:l[_t+1],He&&l[_t].equals(He))continue;ot&&(ct=ot),Be&&(qe=Be),Be=l[_t],ot=He?He.sub(Be)._unit()._perp():ct,ct=ct||ot;let Dt=ct.add(ot);Dt.x===0&&Dt.y===0||Dt._unit();const vt=ct.x*ot.x+ct.y*ot.y,At=Dt.x*ot.x+Dt.y*ot.y,Vt=At!==0?1/At:1/0,Yt=2*Math.sqrt(2-2*At),wn=At<KD&&qe&&He,Ln=ct.x*ot.y-ct.y*ot.x>0;if(wn&&_t>ye){const Jt=Be.dist(qe);if(Jt>2*Ne){const un=Be.sub(Be.sub(qe)._mult(Ne/Jt)._round());this.updateDistance(qe,un),this.addCurrentVertex(un,ct,0,0,De),qe=un}}const cn=qe&&He;let nn=cn?x:ne?"butt":A;if(cn&&nn==="round"&&(Vt<U?nn="miter":Vt<=2&&(nn="fakeround")),nn==="miter"&&Vt>R&&(nn="bevel"),nn==="bevel"&&(Vt>2&&(nn="flipbevel"),Vt<R&&(nn="miter")),qe&&this.updateDistance(qe,Be),nn==="miter")Dt._mult(Vt),this.addCurrentVertex(Be,Dt,0,0,De);else if(nn==="flipbevel"){if(Vt>100)Dt=ot.mult(-1);else{const Jt=Vt*ct.add(ot).mag()/ct.sub(ot).mag();Dt._perp()._mult(Jt*(Ln?-1:1))}this.addCurrentVertex(Be,Dt,0,0,De),this.addCurrentVertex(Be,Dt.mult(-1),0,0,De)}else if(nn==="bevel"||nn==="fakeround"){const Jt=-Math.sqrt(Vt*Vt-1),un=Ln?Jt:0,an=Ln?0:Jt;if(qe&&this.addCurrentVertex(Be,ct,un,an,De),nn==="fakeround"){const Ht=Math.round(180*Yt/Math.PI/20);for(let Dn=1;Dn<Ht;Dn++){let In=Dn/Ht;if(In!==.5){const pr=In-.5;In+=In*pr*(In-1)*((1.0904+vt*(vt*(3.55645-1.43519*vt)-3.2452))*pr*pr+(.848013+vt*(.215638*vt-1.06021)))}const pi=ot.sub(ct)._mult(In)._add(ct)._unit()._mult(Ln?-1:1);this.addHalfVertex(Be,pi.x,pi.y,!1,Ln,0,De)}}He&&this.addCurrentVertex(Be,ot,-un,-an,De)}else if(nn==="butt")this.addCurrentVertex(Be,Dt,0,0,De);else if(nn==="square"){const Jt=qe?1:-1;this.addCurrentVertex(Be,Dt,Jt,Jt,De)}else nn==="round"&&(qe&&(this.addCurrentVertex(Be,ct,0,0,De),this.addCurrentVertex(Be,ct,1,1,De,!0)),He&&(this.addCurrentVertex(Be,ot,-1,-1,De,!0),this.addCurrentVertex(Be,ot,0,0,De)));if(wn&&_t<oe-1){const Jt=Be.dist(He);if(Jt>2*Ne){const un=Be.add(He.sub(Be)._mult(Ne/Jt)._round());this.updateDistance(Be,un),this.addCurrentVertex(un,ot,0,0,De),Be=un}}}}addCurrentVertex(l,d,x,A,R,U=!1){const ne=d.y*A-d.x,oe=-d.y-d.x*A;this.addHalfVertex(l,d.x+d.y*x,d.y-d.x*x,U,!1,x,R),this.addHalfVertex(l,ne,oe,U,!0,-A,R),this.distance>jS/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(l,d,x,A,R,U))}addHalfVertex({x:l,y:d},x,A,R,U,ne,oe){const ye=.5*(this.lineClips?this.scaledDistance*(jS-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(R?1:0),(d<<1)+(U?1:0),Math.round(63*x)+128,Math.round(63*A)+128,1+(ne===0?0:ne<0?-1:1)|(63&ye)<<2,ye>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const Ne=oe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Ne),oe.primitiveLength++),U?this.e2=Ne:this.e1=Ne}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}bn("LineBucket",x_,{omit:["layers","patternFeatures"]});const QD=new fa({"line-cap":new Nn(Me.layout_line["line-cap"]),"line-join":new $n(Me.layout_line["line-join"]),"line-miter-limit":new Nn(Me.layout_line["line-miter-limit"]),"line-round-limit":new Nn(Me.layout_line["line-round-limit"]),"line-sort-key":new $n(Me.layout_line["line-sort-key"])});var US={paint:new fa({"line-opacity":new $n(Me.paint_line["line-opacity"]),"line-color":new $n(Me.paint_line["line-color"]),"line-translate":new Nn(Me.paint_line["line-translate"]),"line-translate-anchor":new Nn(Me.paint_line["line-translate-anchor"]),"line-width":new $n(Me.paint_line["line-width"]),"line-gap-width":new $n(Me.paint_line["line-gap-width"]),"line-offset":new $n(Me.paint_line["line-offset"]),"line-blur":new $n(Me.paint_line["line-blur"]),"line-dasharray":new Sh(Me.paint_line["line-dasharray"]),"line-pattern":new Th(Me.paint_line["line-pattern"]),"line-gradient":new bg(Me.paint_line["line-gradient"])}),layout:QD};const GS=new class extends $n{possiblyEvaluate(u,l){return l=new gr(Math.floor(l.zoom),{now:l.now,fadeDuration:l.fadeDuration,zoomHistory:l.zoomHistory,transition:l.transition}),super.possiblyEvaluate(u,l)}evaluate(u,l,d,x){return l=b({},l,{zoom:Math.floor(l.zoom)}),super.evaluate(u,l,d,x)}}(US.paint.properties["line-width"].specification);function YS(u,l){return l>0?l+2*u:u}GS.useIntegerZoom=!0;const JD=ca([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),eO=ca([{name:"a_projected_pos",components:3,type:"Float32"}],4);ca([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const tO=ca([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);ca([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const VS=ca([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),nO=ca([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function iO(u,l,d){return u.sections.forEach(x=>{x.text=function(A,R,U){const ne=R.layout.get("text-transform").evaluate(U,{});return ne==="uppercase"?A=A.toLocaleUpperCase():ne==="lowercase"&&(A=A.toLocaleLowerCase()),Mo.applyArabicShaping&&(A=Mo.applyArabicShaping(A)),A}(x.text,l,d)}),u}ca([{name:"triangle",components:3,type:"Uint16"}]),ca([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ca([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ca([{type:"Float32",name:"offsetX"}]),ca([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const Pg={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var Ya=24,b_=er,qS=function(u,l,d,x,A){var R,U,ne=8*A-x-1,oe=(1<<ne)-1,ye=oe>>1,Ne=-7,De=A-1,Be=-1,qe=u[l+De];for(De+=Be,R=qe&(1<<-Ne)-1,qe>>=-Ne,Ne+=ne;Ne>0;R=256*R+u[l+De],De+=Be,Ne-=8);for(U=R&(1<<-Ne)-1,R>>=-Ne,Ne+=x;Ne>0;U=256*U+u[l+De],De+=Be,Ne-=8);if(R===0)R=1-ye;else{if(R===oe)return U?NaN:1/0*(qe?-1:1);U+=Math.pow(2,x),R-=ye}return(qe?-1:1)*U*Math.pow(2,R-x)},WS=function(u,l,d,x,A,R){var U,ne,oe,ye=8*R-A-1,Ne=(1<<ye)-1,De=Ne>>1,Be=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,qe=0,He=1,ct=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(ne=isNaN(l)?1:0,U=Ne):(U=Math.floor(Math.log(l)/Math.LN2),l*(oe=Math.pow(2,-U))<1&&(U--,oe*=2),(l+=U+De>=1?Be/oe:Be*Math.pow(2,1-De))*oe>=2&&(U++,oe/=2),U+De>=Ne?(ne=0,U=Ne):U+De>=1?(ne=(l*oe-1)*Math.pow(2,A),U+=De):(ne=l*Math.pow(2,De-1)*Math.pow(2,A),U=0));A>=8;u[d+qe]=255&ne,qe+=He,ne/=256,A-=8);for(U=U<<A|ne,ye+=A;ye>0;u[d+qe]=255&U,qe+=He,U/=256,ye-=8);u[d+qe-He]|=128*ct};function er(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}er.Varint=0,er.Fixed64=1,er.Bytes=2,er.Fixed32=5;var fd,__=4294967296,HS=1/__,XS=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function bu(u){return u.type===er.Bytes?u.readVarint()+u.pos:u.pos+1}function gm(u,l,d){return d?4294967296*l+(u>>>0):4294967296*(l>>>0)+(u>>>0)}function ZS(u,l,d){var x=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(x);for(var A=d.pos-1;A>=u;A--)d.buf[A+x]=d.buf[A]}function rO(u,l){for(var d=0;d<u.length;d++)l.writeVarint(u[d])}function aO(u,l){for(var d=0;d<u.length;d++)l.writeSVarint(u[d])}function sO(u,l){for(var d=0;d<u.length;d++)l.writeFloat(u[d])}function oO(u,l){for(var d=0;d<u.length;d++)l.writeDouble(u[d])}function lO(u,l){for(var d=0;d<u.length;d++)l.writeBoolean(u[d])}function cO(u,l){for(var d=0;d<u.length;d++)l.writeFixed32(u[d])}function uO(u,l){for(var d=0;d<u.length;d++)l.writeSFixed32(u[d])}function dO(u,l){for(var d=0;d<u.length;d++)l.writeFixed64(u[d])}function hO(u,l){for(var d=0;d<u.length;d++)l.writeSFixed64(u[d])}function tx(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+16777216*u[l+3]}function ym(u,l,d){u[d]=l,u[d+1]=l>>>8,u[d+2]=l>>>16,u[d+3]=l>>>24}function KS(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+(u[l+3]<<24)}function pO(u,l,d){u===1&&d.readMessage(mO,l)}function mO(u,l,d){if(u===3){const{id:x,bitmap:A,width:R,height:U,left:ne,top:oe,advance:ye}=d.readMessage(fO,{});l.push({id:x,bitmap:new Cg({width:R+6,height:U+6},A),metrics:{width:R,height:U,left:ne,top:oe,advance:ye}})}}function fO(u,l,d){u===1?l.id=d.readVarint():u===2?l.bitmap=d.readBytes():u===3?l.width=d.readVarint():u===4?l.height=d.readVarint():u===5?l.left=d.readSVarint():u===6?l.top=d.readSVarint():u===7&&(l.advance=d.readVarint())}function QS(u){let l=0,d=0;for(const U of u)l+=U.w*U.h,d=Math.max(d,U.w);u.sort((U,ne)=>ne.h-U.h);const x=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let A=0,R=0;for(const U of u)for(let ne=x.length-1;ne>=0;ne--){const oe=x[ne];if(!(U.w>oe.w||U.h>oe.h)){if(U.x=oe.x,U.y=oe.y,R=Math.max(R,U.y+U.h),A=Math.max(A,U.x+U.w),U.w===oe.w&&U.h===oe.h){const ye=x.pop();ne<x.length&&(x[ne]=ye)}else U.h===oe.h?(oe.x+=U.w,oe.w-=U.w):U.w===oe.w?(oe.y+=U.h,oe.h-=U.h):(x.push({x:oe.x+U.w,y:oe.y,w:oe.w-U.w,h:U.h}),oe.y+=U.h,oe.h-=U.h);break}}return{w:A,h:R,fill:l/(A*R)||0}}er.prototype={destroy:function(){this.buf=null},readFields:function(u,l,d){for(d=d||this.length;this.pos<d;){var x=this.readVarint(),A=x>>3,R=this.pos;this.type=7&x,u(A,l,this),this.pos===R&&this.skip(x)}return l},readMessage:function(u,l){return this.readFields(u,l,this.readVarint()+this.pos)},readFixed32:function(){var u=tx(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=KS(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=tx(this.buf,this.pos)+tx(this.buf,this.pos+4)*__;return this.pos+=8,u},readSFixed64:function(){var u=tx(this.buf,this.pos)+KS(this.buf,this.pos+4)*__;return this.pos+=8,u},readFloat:function(){var u=qS(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=qS(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var l,d,x=this.buf;return l=127&(d=x[this.pos++]),d<128?l:(l|=(127&(d=x[this.pos++]))<<7,d<128?l:(l|=(127&(d=x[this.pos++]))<<14,d<128?l:(l|=(127&(d=x[this.pos++]))<<21,d<128?l:function(A,R,U){var ne,oe,ye=U.buf;if(ne=(112&(oe=ye[U.pos++]))>>4,oe<128||(ne|=(127&(oe=ye[U.pos++]))<<3,oe<128)||(ne|=(127&(oe=ye[U.pos++]))<<10,oe<128)||(ne|=(127&(oe=ye[U.pos++]))<<17,oe<128)||(ne|=(127&(oe=ye[U.pos++]))<<24,oe<128)||(ne|=(1&(oe=ye[U.pos++]))<<31,oe<128))return gm(A,ne,R);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=x[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,l=this.pos;return this.pos=u,u-l>=12&&XS?function(d,x,A){return XS.decode(d.subarray(x,A))}(this.buf,l,u):function(d,x,A){for(var R="",U=x;U<A;){var ne,oe,ye,Ne=d[U],De=null,Be=Ne>239?4:Ne>223?3:Ne>191?2:1;if(U+Be>A)break;Be===1?Ne<128&&(De=Ne):Be===2?(192&(ne=d[U+1]))==128&&(De=(31&Ne)<<6|63&ne)<=127&&(De=null):Be===3?(oe=d[U+2],(192&(ne=d[U+1]))==128&&(192&oe)==128&&((De=(15&Ne)<<12|(63&ne)<<6|63&oe)<=2047||De>=55296&&De<=57343)&&(De=null)):Be===4&&(oe=d[U+2],ye=d[U+3],(192&(ne=d[U+1]))==128&&(192&oe)==128&&(192&ye)==128&&((De=(15&Ne)<<18|(63&ne)<<12|(63&oe)<<6|63&ye)<=65535||De>=1114112)&&(De=null)),De===null?(De=65533,Be=1):De>65535&&(De-=65536,R+=String.fromCharCode(De>>>10&1023|55296),De=56320|1023&De),R+=String.fromCharCode(De),U+=Be}return R}(this.buf,l,u)},readBytes:function(){var u=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,u);return this.pos=u,l},readPackedVarint:function(u,l){if(this.type!==er.Bytes)return u.push(this.readVarint(l));var d=bu(this);for(u=u||[];this.pos<d;)u.push(this.readVarint(l));return u},readPackedSVarint:function(u){if(this.type!==er.Bytes)return u.push(this.readSVarint());var l=bu(this);for(u=u||[];this.pos<l;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==er.Bytes)return u.push(this.readBoolean());var l=bu(this);for(u=u||[];this.pos<l;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==er.Bytes)return u.push(this.readFloat());var l=bu(this);for(u=u||[];this.pos<l;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==er.Bytes)return u.push(this.readDouble());var l=bu(this);for(u=u||[];this.pos<l;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==er.Bytes)return u.push(this.readFixed32());var l=bu(this);for(u=u||[];this.pos<l;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==er.Bytes)return u.push(this.readSFixed32());var l=bu(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==er.Bytes)return u.push(this.readFixed64());var l=bu(this);for(u=u||[];this.pos<l;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==er.Bytes)return u.push(this.readSFixed64());var l=bu(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed64());return u},skip:function(u){var l=7&u;if(l===er.Varint)for(;this.buf[this.pos++]>127;);else if(l===er.Bytes)this.pos=this.readVarint()+this.pos;else if(l===er.Fixed32)this.pos+=4;else{if(l!==er.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(u,l){this.writeVarint(u<<3|l)},realloc:function(u){for(var l=this.length||16;l<this.pos+u;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),ym(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),ym(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),ym(this.buf,-1&u,this.pos),ym(this.buf,Math.floor(u*HS),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),ym(this.buf,-1&u,this.pos),ym(this.buf,Math.floor(u*HS),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(l,d){var x,A;if(l>=0?(x=l%4294967296|0,A=l/4294967296|0):(A=~(-l/4294967296),4294967295^(x=~(-l%4294967296))?x=x+1|0:(x=0,A=A+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(R,U,ne){ne.buf[ne.pos++]=127&R|128,R>>>=7,ne.buf[ne.pos++]=127&R|128,R>>>=7,ne.buf[ne.pos++]=127&R|128,R>>>=7,ne.buf[ne.pos++]=127&R|128,ne.buf[ne.pos]=127&(R>>>=7)}(x,0,d),function(R,U){var ne=(7&R)<<4;U.buf[U.pos++]|=ne|((R>>>=3)?128:0),R&&(U.buf[U.pos++]=127&R|((R>>>=7)?128:0),R&&(U.buf[U.pos++]=127&R|((R>>>=7)?128:0),R&&(U.buf[U.pos++]=127&R|((R>>>=7)?128:0),R&&(U.buf[U.pos++]=127&R|((R>>>=7)?128:0),R&&(U.buf[U.pos++]=127&R)))))}(A,d)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var l=this.pos;this.pos=function(x,A,R){for(var U,ne,oe=0;oe<A.length;oe++){if((U=A.charCodeAt(oe))>55295&&U<57344){if(!ne){U>56319||oe+1===A.length?(x[R++]=239,x[R++]=191,x[R++]=189):ne=U;continue}if(U<56320){x[R++]=239,x[R++]=191,x[R++]=189,ne=U;continue}U=ne-55296<<10|U-56320|65536,ne=null}else ne&&(x[R++]=239,x[R++]=191,x[R++]=189,ne=null);U<128?x[R++]=U:(U<2048?x[R++]=U>>6|192:(U<65536?x[R++]=U>>12|224:(x[R++]=U>>18|240,x[R++]=U>>12&63|128),x[R++]=U>>6&63|128),x[R++]=63&U|128)}return R}(this.buf,u,this.pos);var d=this.pos-l;d>=128&&ZS(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(u){this.realloc(4),WS(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),WS(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var l=u.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=u[d]},writeRawMessage:function(u,l){this.pos++;var d=this.pos;u(l,this);var x=this.pos-d;x>=128&&ZS(d,x,this),this.pos=d-1,this.writeVarint(x),this.pos+=x},writeMessage:function(u,l,d){this.writeTag(u,er.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(u,l){l.length&&this.writeMessage(u,rO,l)},writePackedSVarint:function(u,l){l.length&&this.writeMessage(u,aO,l)},writePackedBoolean:function(u,l){l.length&&this.writeMessage(u,lO,l)},writePackedFloat:function(u,l){l.length&&this.writeMessage(u,sO,l)},writePackedDouble:function(u,l){l.length&&this.writeMessage(u,oO,l)},writePackedFixed32:function(u,l){l.length&&this.writeMessage(u,cO,l)},writePackedSFixed32:function(u,l){l.length&&this.writeMessage(u,uO,l)},writePackedFixed64:function(u,l){l.length&&this.writeMessage(u,dO,l)},writePackedSFixed64:function(u,l){l.length&&this.writeMessage(u,hO,l)},writeBytesField:function(u,l){this.writeTag(u,er.Bytes),this.writeBytes(l)},writeFixed32Field:function(u,l){this.writeTag(u,er.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(u,l){this.writeTag(u,er.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(u,l){this.writeTag(u,er.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(u,l){this.writeTag(u,er.Fixed64),this.writeSFixed64(l)},writeVarintField:function(u,l){this.writeTag(u,er.Varint),this.writeVarint(l)},writeSVarintField:function(u,l){this.writeTag(u,er.Varint),this.writeSVarint(l)},writeStringField:function(u,l){this.writeTag(u,er.Bytes),this.writeString(l)},writeFloatField:function(u,l){this.writeTag(u,er.Fixed32),this.writeFloat(l)},writeDoubleField:function(u,l){this.writeTag(u,er.Fixed64),this.writeDouble(l)},writeBooleanField:function(u,l){this.writeVarintField(u,!!l)}};class w_{constructor(l,{pixelRatio:d,version:x,stretchX:A,stretchY:R,content:U}){this.paddedRect=l,this.pixelRatio=d,this.stretchX=A,this.stretchY=R,this.content=U,this.version=x}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class JS{constructor(l,d){const x={},A={};this.haveRenderCallbacks=[];const R=[];this.addImages(l,x,R),this.addImages(d,A,R);const{w:U,h:ne}=QS(R),oe=new el({width:U||1,height:ne||1});for(const ye in l){const Ne=l[ye],De=x[ye].paddedRect;el.copy(Ne.data,oe,{x:0,y:0},{x:De.x+1,y:De.y+1},Ne.data)}for(const ye in d){const Ne=d[ye],De=A[ye].paddedRect,Be=De.x+1,qe=De.y+1,He=Ne.data.width,ct=Ne.data.height;el.copy(Ne.data,oe,{x:0,y:0},{x:Be,y:qe},Ne.data),el.copy(Ne.data,oe,{x:0,y:ct-1},{x:Be,y:qe-1},{width:He,height:1}),el.copy(Ne.data,oe,{x:0,y:0},{x:Be,y:qe+ct},{width:He,height:1}),el.copy(Ne.data,oe,{x:He-1,y:0},{x:Be-1,y:qe},{width:1,height:ct}),el.copy(Ne.data,oe,{x:0,y:0},{x:Be+He,y:qe},{width:1,height:ct})}this.image=oe,this.iconPositions=x,this.patternPositions=A}addImages(l,d,x){for(const A in l){const R=l[A],U={x:0,y:0,w:R.data.width+2,h:R.data.height+2};x.push(U),d[A]=new w_(U,R),R.hasRenderCallback&&this.haveRenderCallbacks.push(A)}}patchUpdatedImages(l,d){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const x in l.updatedImages)this.patchUpdatedImage(this.iconPositions[x],l.getImage(x),d),this.patchUpdatedImage(this.patternPositions[x],l.getImage(x),d)}patchUpdatedImage(l,d,x){if(!l||!d||l.version===d.version)return;l.version=d.version;const[A,R]=l.tl;x.update(d.data,void 0,{x:A,y:R})}}bn("ImagePosition",w_),bn("ImageAtlas",JS),s.WritingMode=void 0,(fd=s.WritingMode||(s.WritingMode={}))[fd.none=0]="none",fd[fd.horizontal=1]="horizontal",fd[fd.vertical=2]="vertical",fd[fd.horizontalOnly=3]="horizontalOnly";const nx=-17;class Mg{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const x=new Mg;return x.scale=l||1,x.fontStack=d,x}static forImage(l){const d=new Mg;return d.imageName=l,d}}class vm{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const x=new vm;for(let A=0;A<l.sections.length;A++){const R=l.sections[A];R.image?x.addImageSection(R):x.addTextSection(R,d)}return x}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let d="";for(let x=0;x<l.length;x++){const A=l.charCodeAt(x+1)||null,R=l.charCodeAt(x-1)||null;d+=A&&Bv(A)&&!Pg[l[x+1]]||R&&Bv(R)&&!Pg[l[x-1]]||!Pg[l[x]]?l[x]:Pg[l[x]]}return d}(this.text)}trim(){let l=0;for(let x=0;x<this.text.length&&rx[this.text.charCodeAt(x)];x++)l++;let d=this.text.length;for(let x=this.text.length-1;x>=0&&x>=l&&rx[this.text.charCodeAt(x)];x--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const x=new vm;return x.text=this.text.substring(l,d),x.sectionIndex=this.sectionIndex.slice(l,d),x.sections=this.sections,x}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(Mg.forText(l.scale,l.fontStack||d));const x=this.sections.length-1;for(let A=0;A<l.text.length;++A)this.sectionIndex.push(x)}addImageSection(l){const d=l.image?l.image.name:"";if(d.length===0)return void C("Can't add FormattedSection with an empty image.");const x=this.getNextImageSectionCharCode();x?(this.text+=String.fromCharCode(x),this.sections.push(Mg.forImage(d)),this.sectionIndex.push(this.sections.length-1)):C("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function ix(u,l,d,x,A,R,U,ne,oe,ye,Ne,De,Be,qe,He,ct){const ot=vm.fromFeature(u,A);let _t;De===s.WritingMode.vertical&&ot.verticalizePunctuation();const{processBidirectionalText:Dt,processStyledBidirectionalText:vt}=Mo;if(Dt&&ot.sections.length===1){_t=[];const Yt=Dt(ot.toString(),T_(ot,ye,R,l,x,qe,He));for(const wn of Yt){const Ln=new vm;Ln.text=wn,Ln.sections=ot.sections;for(let cn=0;cn<wn.length;cn++)Ln.sectionIndex.push(0);_t.push(Ln)}}else if(vt){_t=[];const Yt=vt(ot.text,ot.sectionIndex,T_(ot,ye,R,l,x,qe,He));for(const wn of Yt){const Ln=new vm;Ln.text=wn[0],Ln.sectionIndex=wn[1],Ln.sections=ot.sections,_t.push(Ln)}}else _t=function(Yt,wn){const Ln=[],cn=Yt.text;let nn=0;for(const Jt of wn)Ln.push(Yt.substring(nn,Jt)),nn=Jt;return nn<cn.length&&Ln.push(Yt.substring(nn,cn.length)),Ln}(ot,T_(ot,ye,R,l,x,qe,He));const At=[],Vt={positionedLines:At,text:ot.toString(),top:Ne[1],bottom:Ne[1],left:Ne[0],right:Ne[0],writingMode:De,iconsInText:!1,verticalizable:!1};return function(Yt,wn,Ln,cn,nn,Jt,un,an,Ht,Dn,In,pi){let pr=0,vr=nx,ya=0,nl=0;const ns=an==="right"?1:an==="left"?0:.5;let da=0;for(const ha of nn){ha.trim();const rs=ha.getMaxScale(),_s=(rs-1)*Ya,Ws={positionedGlyphs:[],lineOffset:0};Yt.positionedLines[da]=Ws;const lo=Ws.positionedGlyphs;let co=0;if(!ha.length()){vr+=Jt,++da;continue}for(let La=0;La<ha.length();La++){const xi=ha.getSection(La),Oo=ha.getSectionIndex(La),as=ha.getCharCode(La);let ws=0,El=null,tc=null,nc=null,wu=Ya;const kl=!(Ht===s.WritingMode.horizontal||!In&&!wh(as)||In&&(rx[as]||(ka=as,on.Arabic(ka)||on["Arabic Supplement"](ka)||on["Arabic Extended-A"](ka)||on["Arabic Presentation Forms-A"](ka)||on["Arabic Presentation Forms-B"](ka))));if(xi.imageName){const il=cn[xi.imageName];if(!il)continue;nc=xi.imageName,Yt.iconsInText=Yt.iconsInText||!0,tc=il.paddedRect;const uo=il.displaySize;xi.scale=xi.scale*Ya/pi,El={width:uo[0],height:uo[1],left:1,top:-3,advance:kl?uo[1]:uo[0]},ws=_s+(Ya-uo[1]*xi.scale),wu=El.advance;const Tu=kl?uo[0]*xi.scale-Ya*rs:uo[1]*xi.scale-Ya*rs;Tu>0&&Tu>co&&(co=Tu)}else{const il=Ln[xi.fontStack],uo=il&&il[as];if(uo&&uo.rect)tc=uo.rect,El=uo.metrics;else{const Tu=wn[xi.fontStack],Rg=Tu&&Tu[as];if(!Rg)continue;El=Rg.metrics}ws=(rs-xi.scale)*Ya}kl?(Yt.verticalizable=!0,lo.push({glyph:as,imageName:nc,x:pr,y:vr+ws,vertical:kl,scale:xi.scale,fontStack:xi.fontStack,sectionIndex:Oo,metrics:El,rect:tc}),pr+=wu*xi.scale+Dn):(lo.push({glyph:as,imageName:nc,x:pr,y:vr+ws,vertical:kl,scale:xi.scale,fontStack:xi.fontStack,sectionIndex:Oo,metrics:El,rect:tc}),pr+=El.advance*xi.scale+Dn)}lo.length!==0&&(ya=Math.max(pr-Dn,ya),vO(lo,0,lo.length-1,ns,co)),pr=0;const Cr=Jt*rs+co;Ws.lineOffset=Math.max(co,_s),vr+=Cr,nl=Math.max(Cr,nl),++da}var ka;const is=vr-nx,{horizontalAlign:bs,verticalAlign:oo}=S_(un);(function(ha,rs,_s,Ws,lo,co,Cr,La,xi){const Oo=(rs-_s)*lo;let as=0;as=co!==Cr?-La*Ws-nx:(-Ws*xi+.5)*Cr;for(const ws of ha)for(const El of ws.positionedGlyphs)El.x+=Oo,El.y+=as})(Yt.positionedLines,ns,bs,oo,ya,nl,Jt,is,nn.length),Yt.top+=-oo*is,Yt.bottom=Yt.top+is,Yt.left+=-bs*ya,Yt.right=Yt.left+ya}(Vt,l,d,x,_t,U,ne,oe,De,ye,Be,ct),!function(Yt){for(const wn of Yt)if(wn.positionedGlyphs.length!==0)return!1;return!0}(At)&&Vt}const rx={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},gO={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function eC(u,l,d,x,A,R){if(l.imageName){const U=x[l.imageName];return U?U.displaySize[0]*l.scale*Ya/R+A:0}{const U=d[l.fontStack],ne=U&&U[u];return ne?ne.metrics.advance*l.scale+A:0}}function tC(u,l,d,x){const A=Math.pow(u-l,2);return x?u<l?A/2:2*A:A+Math.abs(d)*d}function yO(u,l,d){let x=0;return u===10&&(x-=1e4),d&&(x+=150),u!==40&&u!==65288||(x+=50),l!==41&&l!==65289||(x+=50),x}function nC(u,l,d,x,A,R){let U=null,ne=tC(l,d,A,R);for(const oe of x){const ye=tC(l-oe.x,d,A,R)+oe.badness;ye<=ne&&(U=oe,ne=ye)}return{index:u,x:l,priorBreak:U,badness:ne}}function iC(u){return u?iC(u.priorBreak).concat(u.index):[]}function T_(u,l,d,x,A,R,U){if(R!=="point")return[];if(!u)return[];const ne=[],oe=function(Be,qe,He,ct,ot,_t){let Dt=0;for(let vt=0;vt<Be.length();vt++){const At=Be.getSection(vt);Dt+=eC(Be.getCharCode(vt),At,ct,ot,qe,_t)}return Dt/Math.max(1,Math.ceil(Dt/He))}(u,l,d,x,A,U),ye=u.text.indexOf("​")>=0;let Ne=0;for(let Be=0;Be<u.length();Be++){const qe=u.getSection(Be),He=u.getCharCode(Be);if(rx[He]||(Ne+=eC(He,qe,x,A,l,U)),Be<u.length()-1){const ct=!((De=He)<11904||!(on["Bopomofo Extended"](De)||on.Bopomofo(De)||on["CJK Compatibility Forms"](De)||on["CJK Compatibility Ideographs"](De)||on["CJK Compatibility"](De)||on["CJK Radicals Supplement"](De)||on["CJK Strokes"](De)||on["CJK Symbols and Punctuation"](De)||on["CJK Unified Ideographs Extension A"](De)||on["CJK Unified Ideographs"](De)||on["Enclosed CJK Letters and Months"](De)||on["Halfwidth and Fullwidth Forms"](De)||on.Hiragana(De)||on["Ideographic Description Characters"](De)||on["Kangxi Radicals"](De)||on["Katakana Phonetic Extensions"](De)||on.Katakana(De)||on["Vertical Forms"](De)||on["Yi Radicals"](De)||on["Yi Syllables"](De)));(gO[He]||ct||qe.imageName)&&ne.push(nC(Be+1,Ne,oe,ne,yO(He,u.getCharCode(Be+1),ct&&ye),!1))}}var De;return iC(nC(u.length(),Ne,oe,ne,0,!0))}function S_(u){let l=.5,d=.5;switch(u){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function vO(u,l,d,x,A){if(!x&&!A)return;const R=u[d],U=(u[d].x+R.metrics.advance*R.scale)*x;for(let ne=l;ne<=d;ne++)u[ne].x-=U,u[ne].y+=A}function xO(u,l,d){const{horizontalAlign:x,verticalAlign:A}=S_(d),R=l[0]-u.displaySize[0]*x,U=l[1]-u.displaySize[1]*A;return{image:u,top:U,bottom:U+u.displaySize[1],left:R,right:R+u.displaySize[0]}}function rC(u,l,d,x,A,R){const U=u.image;let ne;if(U.content){const ot=U.content,_t=U.pixelRatio||1;ne=[ot[0]/_t,ot[1]/_t,U.displaySize[0]-ot[2]/_t,U.displaySize[1]-ot[3]/_t]}const oe=l.left*R,ye=l.right*R;let Ne,De,Be,qe;d==="width"||d==="both"?(qe=A[0]+oe-x[3],De=A[0]+ye+x[1]):(qe=A[0]+(oe+ye-U.displaySize[0])/2,De=qe+U.displaySize[0]);const He=l.top*R,ct=l.bottom*R;return d==="height"||d==="both"?(Ne=A[1]+He-x[0],Be=A[1]+ct+x[2]):(Ne=A[1]+(He+ct-U.displaySize[1])/2,Be=Ne+U.displaySize[1]),{image:U,top:Ne,right:De,bottom:Be,left:qe,collisionPadding:ne}}const _u=128;function aC(u,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new gr(u+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:x,interpolationType:A}=d;let R=0;for(;R<x.length&&x[R]<=u;)R++;R=Math.max(0,R-1);let U=R;for(;U<x.length&&x[U]<u+1;)U++;U=Math.min(x.length-1,U);const ne=x[R],oe=x[U];return d.kind==="composite"?{kind:"composite",minZoom:ne,maxZoom:oe,interpolationType:A}:{kind:"camera",minZoom:ne,maxZoom:oe,minSize:d.evaluate(new gr(ne)),maxSize:d.evaluate(new gr(oe)),interpolationType:A}}}class gd extends Y{constructor(l,d,x,A){super(l,d),this.angle=x,A!==void 0&&(this.segment=A)}clone(){return new gd(this.x,this.y,this.angle,this.segment)}}function sC(u,l,d,x,A){if(l.segment===void 0)return!0;let R=l,U=l.segment+1,ne=0;for(;ne>-d/2;){if(U--,U<0)return!1;ne-=u[U].dist(R),R=u[U]}ne+=u[U].dist(u[U+1]),U++;const oe=[];let ye=0;for(;ne<d/2;){const Ne=u[U],De=u[U+1];if(!De)return!1;let Be=u[U-1].angleTo(Ne)-Ne.angleTo(De);for(Be=Math.abs((Be+3*Math.PI)%(2*Math.PI)-Math.PI),oe.push({distance:ne,angleDelta:Be}),ye+=Be;ne-oe[0].distance>x;)ye-=oe.shift().angleDelta;if(ye>A)return!1;U++,ne+=Ne.dist(De)}return!0}function oC(u){let l=0;for(let d=0;d<u.length-1;d++)l+=u[d].dist(u[d+1]);return l}function lC(u,l,d){return u?.6*l*d:0}function cC(u,l){return Math.max(u?u.right-u.left:0,l?l.right-l.left:0)}function bO(u,l,d,x,A,R){const U=lC(d,A,R),ne=cC(d,x)*R;let oe=0;const ye=oC(u)/2;for(let Ne=0;Ne<u.length-1;Ne++){const De=u[Ne],Be=u[Ne+1],qe=De.dist(Be);if(oe+qe>ye){const He=(ye-oe)/qe,ct=Tr(De.x,Be.x,He),ot=Tr(De.y,Be.y,He),_t=new gd(ct,ot,Be.angleTo(De),Ne);return _t._round(),!U||sC(u,_t,ne,U,l)?_t:void 0}oe+=qe}}function _O(u,l,d,x,A,R,U,ne,oe){const ye=lC(x,R,U),Ne=cC(x,A),De=Ne*U,Be=u[0].x===0||u[0].x===oe||u[0].y===0||u[0].y===oe;return l-De<l/4&&(l=De+l/4),uC(u,Be?l/2*ne%l:(Ne/2+2*R)*U*ne%l,l,ye,d,De,Be,!1,oe)}function uC(u,l,d,x,A,R,U,ne,oe){const ye=R/2,Ne=oC(u);let De=0,Be=l-d,qe=[];for(let He=0;He<u.length-1;He++){const ct=u[He],ot=u[He+1],_t=ct.dist(ot),Dt=ot.angleTo(ct);for(;Be+d<De+_t;){Be+=d;const vt=(Be-De)/_t,At=Tr(ct.x,ot.x,vt),Vt=Tr(ct.y,ot.y,vt);if(At>=0&&At<oe&&Vt>=0&&Vt<oe&&Be-ye>=0&&Be+ye<=Ne){const Yt=new gd(At,Vt,Dt,He);Yt._round(),x&&!sC(u,Yt,R,x,A)||qe.push(Yt)}}De+=_t}return ne||qe.length||U||(qe=uC(u,De/2,d,x,A,R,U,!0,oe)),qe}function dC(u,l,d,x,A){const R=[];for(let U=0;U<u.length;U++){const ne=u[U];let oe;for(let ye=0;ye<ne.length-1;ye++){let Ne=ne[ye],De=ne[ye+1];Ne.x<l&&De.x<l||(Ne.x<l?Ne=new Y(l,Ne.y+(l-Ne.x)/(De.x-Ne.x)*(De.y-Ne.y))._round():De.x<l&&(De=new Y(l,Ne.y+(l-Ne.x)/(De.x-Ne.x)*(De.y-Ne.y))._round()),Ne.y<d&&De.y<d||(Ne.y<d?Ne=new Y(Ne.x+(d-Ne.y)/(De.y-Ne.y)*(De.x-Ne.x),d)._round():De.y<d&&(De=new Y(Ne.x+(d-Ne.y)/(De.y-Ne.y)*(De.x-Ne.x),d)._round()),Ne.x>=x&&De.x>=x||(Ne.x>=x?Ne=new Y(x,Ne.y+(x-Ne.x)/(De.x-Ne.x)*(De.y-Ne.y))._round():De.x>=x&&(De=new Y(x,Ne.y+(x-Ne.x)/(De.x-Ne.x)*(De.y-Ne.y))._round()),Ne.y>=A&&De.y>=A||(Ne.y>=A?Ne=new Y(Ne.x+(A-Ne.y)/(De.y-Ne.y)*(De.x-Ne.x),A)._round():De.y>=A&&(De=new Y(Ne.x+(A-Ne.y)/(De.y-Ne.y)*(De.x-Ne.x),A)._round()),oe&&Ne.equals(oe[oe.length-1])||(oe=[Ne],R.push(oe)),oe.push(De)))))}}return R}function hC(u,l,d,x){const A=[],R=u.image,U=R.pixelRatio,ne=R.paddedRect.w-2,oe=R.paddedRect.h-2,ye=u.right-u.left,Ne=u.bottom-u.top,De=R.stretchX||[[0,ne]],Be=R.stretchY||[[0,oe]],qe=(Jt,un)=>Jt+un[1]-un[0],He=De.reduce(qe,0),ct=Be.reduce(qe,0),ot=ne-He,_t=oe-ct;let Dt=0,vt=He,At=0,Vt=ct,Yt=0,wn=ot,Ln=0,cn=_t;if(R.content&&x){const Jt=R.content;Dt=ax(De,0,Jt[0]),At=ax(Be,0,Jt[1]),vt=ax(De,Jt[0],Jt[2]),Vt=ax(Be,Jt[1],Jt[3]),Yt=Jt[0]-Dt,Ln=Jt[1]-At,wn=Jt[2]-Jt[0]-vt,cn=Jt[3]-Jt[1]-Vt}const nn=(Jt,un,an,Ht)=>{const Dn=sx(Jt.stretch-Dt,vt,ye,u.left),In=ox(Jt.fixed-Yt,wn,Jt.stretch,He),pi=sx(un.stretch-At,Vt,Ne,u.top),pr=ox(un.fixed-Ln,cn,un.stretch,ct),vr=sx(an.stretch-Dt,vt,ye,u.left),ya=ox(an.fixed-Yt,wn,an.stretch,He),nl=sx(Ht.stretch-At,Vt,Ne,u.top),ns=ox(Ht.fixed-Ln,cn,Ht.stretch,ct),da=new Y(Dn,pi),ka=new Y(vr,pi),is=new Y(vr,nl),bs=new Y(Dn,nl),oo=new Y(In/U,pr/U),ha=new Y(ya/U,ns/U),rs=l*Math.PI/180;if(rs){const lo=Math.sin(rs),co=Math.cos(rs),Cr=[co,-lo,lo,co];da._matMult(Cr),ka._matMult(Cr),bs._matMult(Cr),is._matMult(Cr)}const _s=Jt.stretch+Jt.fixed,Ws=un.stretch+un.fixed;return{tl:da,tr:ka,bl:bs,br:is,tex:{x:R.paddedRect.x+1+_s,y:R.paddedRect.y+1+Ws,w:an.stretch+an.fixed-_s,h:Ht.stretch+Ht.fixed-Ws},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:oo,pixelOffsetBR:ha,minFontScaleX:wn/U/ye,minFontScaleY:cn/U/Ne,isSDF:d}};if(x&&(R.stretchX||R.stretchY)){const Jt=pC(De,ot,He),un=pC(Be,_t,ct);for(let an=0;an<Jt.length-1;an++){const Ht=Jt[an],Dn=Jt[an+1];for(let In=0;In<un.length-1;In++)A.push(nn(Ht,un[In],Dn,un[In+1]))}}else A.push(nn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:ne+1},{fixed:0,stretch:oe+1}));return A}function ax(u,l,d){let x=0;for(const A of u)x+=Math.max(l,Math.min(d,A[1]))-Math.max(l,Math.min(d,A[0]));return x}function pC(u,l,d){const x=[{fixed:-1,stretch:0}];for(const[A,R]of u){const U=x[x.length-1];x.push({fixed:A-U.stretch,stretch:U.stretch}),x.push({fixed:A-U.stretch,stretch:U.stretch+(R-A)})}return x.push({fixed:l+1,stretch:d}),x}function sx(u,l,d,x){return u/l*d+x}function ox(u,l,d,x){return u-l*d/x}bn("Anchor",gd);class lx{constructor(l,d,x,A,R,U,ne,oe,ye,Ne){if(this.boxStartIndex=l.length,ye){let De=U.top,Be=U.bottom;const qe=U.collisionPadding;qe&&(De-=qe[1],Be+=qe[3]);let He=Be-De;He>0&&(He=Math.max(10,He),this.circleDiameter=He)}else{let De=U.top*ne-oe[0],Be=U.bottom*ne+oe[2],qe=U.left*ne-oe[3],He=U.right*ne+oe[1];const ct=U.collisionPadding;if(ct&&(qe-=ct[0]*ne,De-=ct[1]*ne,He+=ct[2]*ne,Be+=ct[3]*ne),Ne){const ot=new Y(qe,De),_t=new Y(He,De),Dt=new Y(qe,Be),vt=new Y(He,Be),At=Ne*Math.PI/180;ot._rotate(At),_t._rotate(At),Dt._rotate(At),vt._rotate(At),qe=Math.min(ot.x,_t.x,Dt.x,vt.x),He=Math.max(ot.x,_t.x,Dt.x,vt.x),De=Math.min(ot.y,_t.y,Dt.y,vt.y),Be=Math.max(ot.y,_t.y,Dt.y,vt.y)}l.emplaceBack(d.x,d.y,qe,De,He,Be,x,A,R)}this.boxEndIndex=l.length}}class wO{constructor(l=[],d=TO){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let x=(this.length>>1)-1;x>=0;x--)this._down(x)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return this.length--,this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:x}=this,A=d[l];for(;l>0;){const R=l-1>>1,U=d[R];if(x(A,U)>=0)break;d[l]=U,l=R}d[l]=A}_down(l){const{data:d,compare:x}=this,A=this.length>>1,R=d[l];for(;l<A;){let U=1+(l<<1),ne=d[U];const oe=U+1;if(oe<this.length&&x(d[oe],ne)<0&&(U=oe,ne=d[oe]),x(ne,R)>=0)break;d[l]=ne,l=U}d[l]=R}}function TO(u,l){return u<l?-1:u>l?1:0}function SO(u,l=1,d=!1){let x=1/0,A=1/0,R=-1/0,U=-1/0;const ne=u[0];for(let qe=0;qe<ne.length;qe++){const He=ne[qe];(!qe||He.x<x)&&(x=He.x),(!qe||He.y<A)&&(A=He.y),(!qe||He.x>R)&&(R=He.x),(!qe||He.y>U)&&(U=He.y)}const oe=Math.min(R-x,U-A);let ye=oe/2;const Ne=new wO([],CO);if(oe===0)return new Y(x,A);for(let qe=x;qe<R;qe+=oe)for(let He=A;He<U;He+=oe)Ne.push(new xm(qe+ye,He+ye,ye,u));let De=function(qe){let He=0,ct=0,ot=0;const _t=qe[0];for(let Dt=0,vt=_t.length,At=vt-1;Dt<vt;At=Dt++){const Vt=_t[Dt],Yt=_t[At],wn=Vt.x*Yt.y-Yt.x*Vt.y;ct+=(Vt.x+Yt.x)*wn,ot+=(Vt.y+Yt.y)*wn,He+=3*wn}return new xm(ct/He,ot/He,0,qe)}(u),Be=Ne.length;for(;Ne.length;){const qe=Ne.pop();(qe.d>De.d||!De.d)&&(De=qe,d&&console.log("found best %d after %d probes",Math.round(1e4*qe.d)/1e4,Be)),qe.max-De.d<=l||(ye=qe.h/2,Ne.push(new xm(qe.p.x-ye,qe.p.y-ye,ye,u)),Ne.push(new xm(qe.p.x+ye,qe.p.y-ye,ye,u)),Ne.push(new xm(qe.p.x-ye,qe.p.y+ye,ye,u)),Ne.push(new xm(qe.p.x+ye,qe.p.y+ye,ye,u)),Be+=4)}return d&&(console.log(`num probes: ${Be}`),console.log(`best distance: ${De.d}`)),De.p}function CO(u,l){return l.max-u.max}function xm(u,l,d,x){this.p=new Y(u,l),this.h=d,this.d=function(A,R){let U=!1,ne=1/0;for(let oe=0;oe<R.length;oe++){const ye=R[oe];for(let Ne=0,De=ye.length,Be=De-1;Ne<De;Be=Ne++){const qe=ye[Ne],He=ye[Be];qe.y>A.y!=He.y>A.y&&A.x<(He.x-qe.x)*(A.y-qe.y)/(He.y-qe.y)+qe.x&&(U=!U),ne=Math.min(ne,_S(A,qe,He))}}return(U?1:-1)*Math.sqrt(ne)}(this.p,x),this.max=this.d+this.h*Math.SQRT2}const C_=Number.POSITIVE_INFINITY;function mC(u,l){return l[1]!==C_?function(d,x,A){let R=0,U=0;switch(x=Math.abs(x),A=Math.abs(A),d){case"top-right":case"top-left":case"top":U=A-7;break;case"bottom-right":case"bottom-left":case"bottom":U=7-A}switch(d){case"top-right":case"bottom-right":case"right":R=-x;break;case"top-left":case"bottom-left":case"left":R=x}return[R,U]}(u,l[0],l[1]):function(d,x){let A=0,R=0;x<0&&(x=0);const U=x/Math.sqrt(2);switch(d){case"top-right":case"top-left":R=U-7;break;case"bottom-right":case"bottom-left":R=7-U;break;case"bottom":R=7-x;break;case"top":R=x-7}switch(d){case"top-right":case"bottom-right":A=-U;break;case"top-left":case"bottom-left":A=U;break;case"left":A=x;break;case"right":A=-x}return[A,R]}(u,l[0])}function E_(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function EO(u,l,d,x,A,R,U,ne,oe,ye,Ne){let De=R.textMaxSize.evaluate(l,{});De===void 0&&(De=U);const Be=u.layers[0].layout,qe=Be.get("icon-offset").evaluate(l,{},Ne),He=gC(d.horizontal),ct=U/24,ot=u.tilePixelRatio*ct,_t=u.tilePixelRatio*De/24,Dt=u.tilePixelRatio*ne,vt=u.tilePixelRatio*Be.get("symbol-spacing"),At=Be.get("text-padding")*u.tilePixelRatio,Vt=function(Ht,Dn,In,pi=1){const pr=Ht.get("icon-padding").evaluate(Dn,{},In),vr=pr&&pr.values;return[vr[0]*pi,vr[1]*pi,vr[2]*pi,vr[3]*pi]}(Be,l,Ne,u.tilePixelRatio),Yt=Be.get("text-max-angle")/180*Math.PI,wn=Be.get("text-rotation-alignment")!=="viewport"&&Be.get("symbol-placement")!=="point",Ln=Be.get("icon-rotation-alignment")==="map"&&Be.get("symbol-placement")!=="point",cn=Be.get("symbol-placement"),nn=vt/2,Jt=Be.get("icon-text-fit");let un;x&&Jt!=="none"&&(u.allowVerticalPlacement&&d.vertical&&(un=rC(x,d.vertical,Jt,Be.get("icon-text-fit-padding"),qe,ct)),He&&(x=rC(x,He,Jt,Be.get("icon-text-fit-padding"),qe,ct)));const an=(Ht,Dn)=>{Dn.x<0||Dn.x>=ga||Dn.y<0||Dn.y>=ga||function(In,pi,pr,vr,ya,nl,ns,da,ka,is,bs,oo,ha,rs,_s,Ws,lo,co,Cr,La,xi,Oo,as,ws,El){const tc=In.addToLineVertexArray(pi,pr);let nc,wu,kl,il,uo=0,Tu=0,Rg=0,PC=0,R_=-1,$_=-1;const Su={};let MC=ua.exports(""),z_=0,F_=0;if(da._unevaluatedLayout.getValue("text-radial-offset")===void 0?[z_,F_]=da.layout.get("text-offset").evaluate(xi,{},ws).map(ho=>ho*Ya):(z_=da.layout.get("text-radial-offset").evaluate(xi,{},ws)*Ya,F_=C_),In.allowVerticalPlacement&&vr.vertical){const ho=da.layout.get("text-rotate").evaluate(xi,{},ws)+90;kl=new lx(ka,pi,is,bs,oo,vr.vertical,ha,rs,_s,ho),ns&&(il=new lx(ka,pi,is,bs,oo,ns,lo,co,_s,ho))}if(ya){const ho=da.layout.get("icon-rotate").evaluate(xi,{}),Lc=da.layout.get("icon-text-fit")!=="none",$g=hC(ya,ho,as,Lc),zg=ns?hC(ns,ho,as,Lc):void 0;wu=new lx(ka,pi,is,bs,oo,ya,lo,co,!1,ho),uo=4*$g.length;const RC=In.iconSizeData;let Mh=null;RC.kind==="source"?(Mh=[_u*da.layout.get("icon-size").evaluate(xi,{})],Mh[0]>yd&&C(`${In.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):RC.kind==="composite"&&(Mh=[_u*Oo.compositeIconSizes[0].evaluate(xi,{},ws),_u*Oo.compositeIconSizes[1].evaluate(xi,{},ws)],(Mh[0]>yd||Mh[1]>yd)&&C(`${In.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),In.addSymbols(In.icon,$g,Mh,La,Cr,xi,s.WritingMode.none,pi,tc.lineStartIndex,tc.lineLength,-1,ws),R_=In.icon.placedSymbolArray.length-1,zg&&(Tu=4*zg.length,In.addSymbols(In.icon,zg,Mh,La,Cr,xi,s.WritingMode.vertical,pi,tc.lineStartIndex,tc.lineLength,-1,ws),$_=In.icon.placedSymbolArray.length-1)}const DC=Object.keys(vr.horizontal);for(const ho of DC){const Lc=vr.horizontal[ho];if(!nc){MC=ua.exports(Lc.text);const zg=da.layout.get("text-rotate").evaluate(xi,{},ws);nc=new lx(ka,pi,is,bs,oo,Lc,ha,rs,_s,zg)}const $g=Lc.positionedLines.length===1;if(Rg+=fC(In,pi,Lc,nl,da,_s,xi,Ws,tc,vr.vertical?s.WritingMode.horizontal:s.WritingMode.horizontalOnly,$g?DC:[ho],Su,R_,Oo,ws),$g)break}vr.vertical&&(PC+=fC(In,pi,vr.vertical,nl,da,_s,xi,Ws,tc,s.WritingMode.vertical,["vertical"],Su,$_,Oo,ws));const FO=nc?nc.boxStartIndex:In.collisionBoxArray.length,BO=nc?nc.boxEndIndex:In.collisionBoxArray.length,jO=kl?kl.boxStartIndex:In.collisionBoxArray.length,UO=kl?kl.boxEndIndex:In.collisionBoxArray.length,GO=wu?wu.boxStartIndex:In.collisionBoxArray.length,YO=wu?wu.boxEndIndex:In.collisionBoxArray.length,VO=il?il.boxStartIndex:In.collisionBoxArray.length,qO=il?il.boxEndIndex:In.collisionBoxArray.length;let ic=-1;const px=(ho,Lc)=>ho&&ho.circleDiameter?Math.max(ho.circleDiameter,Lc):Lc;ic=px(nc,ic),ic=px(kl,ic),ic=px(wu,ic),ic=px(il,ic);const OC=ic>-1?1:0;OC&&(ic*=El/Ya),In.glyphOffsetArray.length>=bm.MAX_GLYPHS&&C("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),xi.sortKey!==void 0&&In.addToSortKeyRanges(In.symbolInstances.length,xi.sortKey),In.symbolInstances.emplaceBack(pi.x,pi.y,Su.right>=0?Su.right:-1,Su.center>=0?Su.center:-1,Su.left>=0?Su.left:-1,Su.vertical||-1,R_,$_,MC,FO,BO,jO,UO,GO,YO,VO,qO,is,Rg,PC,uo,Tu,OC,0,ha,z_,F_,ic)}(u,Dn,Ht,d,x,A,un,u.layers[0],u.collisionBoxArray,l.index,l.sourceLayerIndex,u.index,ot,[At,At,At,At],wn,oe,Dt,Vt,Ln,qe,l,R,ye,Ne,U)};if(cn==="line")for(const Ht of dC(l.geometry,0,0,ga,ga)){const Dn=_O(Ht,vt,Yt,d.vertical||He,x,24,_t,u.overscaling,ga);for(const In of Dn){const pi=He;pi&&kO(u,pi.text,nn,In)||an(Ht,In)}}else if(cn==="line-center"){for(const Ht of l.geometry)if(Ht.length>1){const Dn=bO(Ht,Yt,d.vertical||He,x,24,_t);Dn&&an(Ht,Dn)}}else if(l.type==="Polygon")for(const Ht of p_(l.geometry,0)){const Dn=SO(Ht,16);an(Ht[0],new gd(Dn.x,Dn.y,0))}else if(l.type==="LineString")for(const Ht of l.geometry)an(Ht,new gd(Ht[0].x,Ht[0].y,0));else if(l.type==="Point")for(const Ht of l.geometry)for(const Dn of Ht)an([Dn],new gd(Dn.x,Dn.y,0))}const yd=32640;function fC(u,l,d,x,A,R,U,ne,oe,ye,Ne,De,Be,qe,He){const ct=function(Dt,vt,At,Vt,Yt,wn,Ln,cn){const nn=Vt.layout.get("text-rotate").evaluate(wn,{})*Math.PI/180,Jt=[];for(const un of vt.positionedLines)for(const an of un.positionedGlyphs){if(!an.rect)continue;const Ht=an.rect||{};let Dn=4,In=!0,pi=1,pr=0;const vr=(Yt||cn)&&an.vertical,ya=an.metrics.advance*an.scale/2;if(cn&&vt.verticalizable){const Cr=(an.scale-1)*Ya,La=(Ya-an.metrics.width*an.scale)/2;pr=un.lineOffset/2-(an.imageName?-La:Cr)}if(an.imageName){const Cr=Ln[an.imageName];In=Cr.sdf,pi=Cr.pixelRatio,Dn=1/pi}const nl=Yt?[an.x+ya,an.y]:[0,0];let ns=Yt?[0,0]:[an.x+ya+At[0],an.y+At[1]-pr],da=[0,0];vr&&(da=ns,ns=[0,0]);const ka=(an.metrics.left-Dn)*an.scale-ya+ns[0],is=(-an.metrics.top-Dn)*an.scale+ns[1],bs=ka+Ht.w*an.scale/pi,oo=is+Ht.h*an.scale/pi,ha=new Y(ka,is),rs=new Y(bs,is),_s=new Y(ka,oo),Ws=new Y(bs,oo);if(vr){const Cr=new Y(-ya,ya-nx),La=-Math.PI/2,xi=12-ya,Oo=new Y(22-xi,-(an.imageName?xi:0)),as=new Y(...da);ha._rotateAround(La,Cr)._add(Oo)._add(as),rs._rotateAround(La,Cr)._add(Oo)._add(as),_s._rotateAround(La,Cr)._add(Oo)._add(as),Ws._rotateAround(La,Cr)._add(Oo)._add(as)}if(nn){const Cr=Math.sin(nn),La=Math.cos(nn),xi=[La,-Cr,Cr,La];ha._matMult(xi),rs._matMult(xi),_s._matMult(xi),Ws._matMult(xi)}const lo=new Y(0,0),co=new Y(0,0);Jt.push({tl:ha,tr:rs,bl:_s,br:Ws,tex:Ht,writingMode:vt.writingMode,glyphOffset:nl,sectionIndex:an.sectionIndex,isSDF:In,pixelOffsetTL:lo,pixelOffsetBR:co,minFontScaleX:0,minFontScaleY:0})}return Jt}(0,d,ne,A,R,U,x,u.allowVerticalPlacement),ot=u.textSizeData;let _t=null;ot.kind==="source"?(_t=[_u*A.layout.get("text-size").evaluate(U,{})],_t[0]>yd&&C(`${u.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):ot.kind==="composite"&&(_t=[_u*qe.compositeTextSizes[0].evaluate(U,{},He),_u*qe.compositeTextSizes[1].evaluate(U,{},He)],(_t[0]>yd||_t[1]>yd)&&C(`${u.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),u.addSymbols(u.text,ct,_t,ne,R,U,ye,l,oe.lineStartIndex,oe.lineLength,Be,He);for(const Dt of Ne)De[Dt]=u.text.placedSymbolArray.length-1;return 4*ct.length}function gC(u){for(const l in u)return u[l];return null}function kO(u,l,d,x){const A=u.compareText;if(l in A){const R=A[l];for(let U=R.length-1;U>=0;U--)if(x.dist(R[U])<d)return!0}else A[l]=[];return A[l].push(x),!1}const LO=md.VectorTileFeature.types,NO=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function cx(u,l,d,x,A,R,U,ne,oe,ye,Ne,De,Be){const qe=ne?Math.min(yd,Math.round(ne[0])):0,He=ne?Math.min(yd,Math.round(ne[1])):0;u.emplaceBack(l,d,Math.round(32*x),Math.round(32*A),R,U,(qe<<1)+(oe?1:0),He,16*ye,16*Ne,256*De,256*Be)}function k_(u,l,d){u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d)}function IO(u){for(const l of u.sections)if(J0(l.text))return!0;return!1}class L_{constructor(l){this.layoutVertexArray=new so,this.indexArray=new Ga,this.programConfigurations=l,this.segments=new Ai,this.dynamicLayoutVertexArray=new Cl,this.opacityVertexArray=new Zo,this.placedSymbolArray=new Ut}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,d,x,A){this.isEmpty()||(x&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,JD.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,eO.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,NO,!0),this.opacityVertexBuffer.itemSize=1),(x||A)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}bn("SymbolBuffers",L_);class N_{constructor(l,d,x){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new x,this.segments=new Ai,this.collisionVertexArray=new yu}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,tO.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}bn("CollisionBuffers",N_);class bm{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(U=>U.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=o_([]),this.placementViewportMatrix=o_([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=aC(this.zoom,d["text-size"]),this.iconSizeData=aC(this.zoom,d["icon-size"]);const x=this.layers[0].layout,A=x.get("symbol-sort-key"),R=x.get("symbol-z-order");this.canOverlap=A_(x,"text-overlap","text-allow-overlap")!=="never"||A_(x,"icon-overlap","icon-allow-overlap")!=="never"||x.get("text-ignore-placement")||x.get("icon-ignore-placement"),this.sortFeaturesByKey=R!=="viewport-y"&&!A.isConstant(),this.sortFeaturesByY=(R==="viewport-y"||R==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,x.get("symbol-placement")==="point"&&(this.writingModes=x.get("text-writing-mode").map(U=>s.WritingMode[U])),this.stateDependentLayerIds=this.layers.filter(U=>U.isStateDependent()).map(U=>U.id),this.sourceID=l.sourceID}createArrays(){this.text=new L_(new Lh(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new L_(new Lh(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new hn,this.lineVertexArray=new tn,this.symbolInstances=new zt}calculateGlyphDependencies(l,d,x,A,R){for(let U=0;U<l.length;U++)if(d[l.charCodeAt(U)]=!0,(x||A)&&R){const ne=Pg[l.charAt(U)];ne&&(d[ne.charCodeAt(0)]=!0)}}populate(l,d,x){const A=this.layers[0],R=A.layout,U=R.get("text-font"),ne=R.get("text-field"),oe=R.get("icon-image"),ye=(ne.value.kind!=="constant"||ne.value.value instanceof lt&&!ne.value.value.isEmpty()||ne.value.value.toString().length>0)&&(U.value.kind!=="constant"||U.value.value.length>0),Ne=oe.value.kind!=="constant"||!!oe.value.value||Object.keys(oe.parameters).length>0,De=R.get("symbol-sort-key");if(this.features=[],!ye&&!Ne)return;const Be=d.iconDependencies,qe=d.glyphDependencies,He=d.availableImages,ct=new gr(this.zoom);for(const{feature:ot,id:_t,index:Dt,sourceLayerIndex:vt}of l){const At=A._featureFilter.needGeometry,Vt=Ih(ot,At);if(!A._featureFilter.filter(ct,Vt,x))continue;let Yt,wn;if(At||(Vt.geometry=Nh(ot)),ye){const cn=A.getValueAndResolveTokens("text-field",Vt,x,He),nn=lt.factory(cn);IO(nn)&&(this.hasRTLText=!0),(!this.hasRTLText||vg()==="unavailable"||this.hasRTLText&&Mo.isParsed())&&(Yt=iO(nn,A,Vt))}if(Ne){const cn=A.getValueAndResolveTokens("icon-image",Vt,x,He);wn=cn instanceof nt?cn:nt.fromString(cn)}if(!Yt&&!wn)continue;const Ln=this.sortFeaturesByKey?De.evaluate(Vt,{},x):void 0;if(this.features.push({id:_t,text:Yt,icon:wn,index:Dt,sourceLayerIndex:vt,geometry:Vt.geometry,properties:ot.properties,type:LO[ot.type],sortKey:Ln}),wn&&(Be[wn.name]=!0),Yt){const cn=U.evaluate(Vt,{},x).join(","),nn=R.get("text-rotation-alignment")!=="viewport"&&R.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(s.WritingMode.vertical)>=0;for(const Jt of Yt.sections)if(Jt.image)Be[Jt.image.name]=!0;else{const un=pg(Yt.toString()),an=Jt.fontStack||cn,Ht=qe[an]=qe[an]||{};this.calculateGlyphDependencies(Jt.text,Ht,nn,this.allowVerticalPlacement,un)}}}R.get("symbol-placement")==="line"&&(this.features=function(ot){const _t={},Dt={},vt=[];let At=0;function Vt(cn){vt.push(ot[cn]),At++}function Yt(cn,nn,Jt){const un=Dt[cn];return delete Dt[cn],Dt[nn]=un,vt[un].geometry[0].pop(),vt[un].geometry[0]=vt[un].geometry[0].concat(Jt[0]),un}function wn(cn,nn,Jt){const un=_t[nn];return delete _t[nn],_t[cn]=un,vt[un].geometry[0].shift(),vt[un].geometry[0]=Jt[0].concat(vt[un].geometry[0]),un}function Ln(cn,nn,Jt){const un=Jt?nn[0][nn[0].length-1]:nn[0][0];return`${cn}:${un.x}:${un.y}`}for(let cn=0;cn<ot.length;cn++){const nn=ot[cn],Jt=nn.geometry,un=nn.text?nn.text.toString():null;if(!un){Vt(cn);continue}const an=Ln(un,Jt),Ht=Ln(un,Jt,!0);if(an in Dt&&Ht in _t&&Dt[an]!==_t[Ht]){const Dn=wn(an,Ht,Jt),In=Yt(an,Ht,vt[Dn].geometry);delete _t[an],delete Dt[Ht],Dt[Ln(un,vt[In].geometry,!0)]=In,vt[Dn].geometry=null}else an in Dt?Yt(an,Ht,Jt):Ht in _t?wn(an,Ht,Jt):(Vt(cn),_t[an]=At-1,Dt[Ht]=At-1)}return vt.filter(cn=>cn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ot,_t)=>ot.sortKey-_t.sortKey)}update(l,d,x){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,d,this.layers,x),this.icon.programConfigurations.updatePaintArrays(l,d,this.layers,x))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const x=this.lineVertexArray.length;if(l.segment!==void 0){let A=l.dist(d[l.segment+1]),R=l.dist(d[l.segment]);const U={};for(let ne=l.segment+1;ne<d.length;ne++)U[ne]={x:d[ne].x,y:d[ne].y,tileUnitDistanceFromAnchor:A},ne<d.length-1&&(A+=d[ne+1].dist(d[ne]));for(let ne=l.segment||0;ne>=0;ne--)U[ne]={x:d[ne].x,y:d[ne].y,tileUnitDistanceFromAnchor:R},ne>0&&(R+=d[ne-1].dist(d[ne]));for(let ne=0;ne<d.length;ne++){const oe=U[ne];this.lineVertexArray.emplaceBack(oe.x,oe.y,oe.tileUnitDistanceFromAnchor)}}return{lineStartIndex:x,lineLength:this.lineVertexArray.length-x}}addSymbols(l,d,x,A,R,U,ne,oe,ye,Ne,De,Be){const qe=l.indexArray,He=l.layoutVertexArray,ct=l.segments.prepareSegment(4*d.length,He,qe,this.canOverlap?U.sortKey:void 0),ot=this.glyphOffsetArray.length,_t=ct.vertexLength,Dt=this.allowVerticalPlacement&&ne===s.WritingMode.vertical?Math.PI/2:0,vt=U.text&&U.text.sections;for(let At=0;At<d.length;At++){const{tl:Vt,tr:Yt,bl:wn,br:Ln,tex:cn,pixelOffsetTL:nn,pixelOffsetBR:Jt,minFontScaleX:un,minFontScaleY:an,glyphOffset:Ht,isSDF:Dn,sectionIndex:In}=d[At],pi=ct.vertexLength,pr=Ht[1];cx(He,oe.x,oe.y,Vt.x,pr+Vt.y,cn.x,cn.y,x,Dn,nn.x,nn.y,un,an),cx(He,oe.x,oe.y,Yt.x,pr+Yt.y,cn.x+cn.w,cn.y,x,Dn,Jt.x,nn.y,un,an),cx(He,oe.x,oe.y,wn.x,pr+wn.y,cn.x,cn.y+cn.h,x,Dn,nn.x,Jt.y,un,an),cx(He,oe.x,oe.y,Ln.x,pr+Ln.y,cn.x+cn.w,cn.y+cn.h,x,Dn,Jt.x,Jt.y,un,an),k_(l.dynamicLayoutVertexArray,oe,Dt),qe.emplaceBack(pi,pi+1,pi+2),qe.emplaceBack(pi+1,pi+2,pi+3),ct.vertexLength+=4,ct.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ht[0]),At!==d.length-1&&In===d[At+1].sectionIndex||l.programConfigurations.populatePaintArrays(He.length,U,U.index,{},Be,vt&&vt[In])}l.placedSymbolArray.emplaceBack(oe.x,oe.y,ot,this.glyphOffsetArray.length-ot,_t,ye,Ne,oe.segment,x?x[0]:0,x?x[1]:0,A[0],A[1],ne,0,!1,0,De)}_addCollisionDebugVertex(l,d,x,A,R,U){return d.emplaceBack(0,0),l.emplaceBack(x.x,x.y,A,R,Math.round(U.x),Math.round(U.y))}addCollisionDebugVertices(l,d,x,A,R,U,ne){const oe=R.segments.prepareSegment(4,R.layoutVertexArray,R.indexArray),ye=oe.vertexLength,Ne=R.layoutVertexArray,De=R.collisionVertexArray,Be=ne.anchorX,qe=ne.anchorY;this._addCollisionDebugVertex(Ne,De,U,Be,qe,new Y(l,d)),this._addCollisionDebugVertex(Ne,De,U,Be,qe,new Y(x,d)),this._addCollisionDebugVertex(Ne,De,U,Be,qe,new Y(x,A)),this._addCollisionDebugVertex(Ne,De,U,Be,qe,new Y(l,A)),oe.vertexLength+=4;const He=R.indexArray;He.emplaceBack(ye,ye+1),He.emplaceBack(ye+1,ye+2),He.emplaceBack(ye+2,ye+3),He.emplaceBack(ye+3,ye),oe.primitiveLength+=4}addDebugCollisionBoxes(l,d,x,A){for(let R=l;R<d;R++){const U=this.collisionBoxArray.get(R);this.addCollisionDebugVertices(U.x1,U.y1,U.x2,U.y2,A?this.textCollisionBox:this.iconCollisionBox,U.anchorPoint,x)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new N_(Ko,VS.members,Qo),this.iconCollisionBox=new N_(Ko,VS.members,Qo);for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(l,d,x,A,R,U,ne,oe,ye){const Ne={};for(let De=d;De<x;De++){const Be=l.get(De);Ne.textBox={x1:Be.x1,y1:Be.y1,x2:Be.x2,y2:Be.y2,anchorPointX:Be.anchorPointX,anchorPointY:Be.anchorPointY},Ne.textFeatureIndex=Be.featureIndex;break}for(let De=A;De<R;De++){const Be=l.get(De);Ne.verticalTextBox={x1:Be.x1,y1:Be.y1,x2:Be.x2,y2:Be.y2,anchorPointX:Be.anchorPointX,anchorPointY:Be.anchorPointY},Ne.verticalTextFeatureIndex=Be.featureIndex;break}for(let De=U;De<ne;De++){const Be=l.get(De);Ne.iconBox={x1:Be.x1,y1:Be.y1,x2:Be.x2,y2:Be.y2,anchorPointX:Be.anchorPointX,anchorPointY:Be.anchorPointY},Ne.iconFeatureIndex=Be.featureIndex;break}for(let De=oe;De<ye;De++){const Be=l.get(De);Ne.verticalIconBox={x1:Be.x1,y1:Be.y1,x2:Be.x2,y2:Be.y2,anchorPointX:Be.anchorPointX,anchorPointY:Be.anchorPointY},Ne.verticalIconFeatureIndex=Be.featureIndex;break}return Ne}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const x=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,x.textBoxStartIndex,x.textBoxEndIndex,x.verticalTextBoxStartIndex,x.verticalTextBoxEndIndex,x.iconBoxStartIndex,x.iconBoxEndIndex,x.verticalIconBoxStartIndex,x.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,d){const x=l.placedSymbolArray.get(d),A=x.vertexStartIndex+4*x.numGlyphs;for(let R=x.vertexStartIndex;R<A;R+=4)l.indexArray.emplaceBack(R,R+1,R+2),l.indexArray.emplaceBack(R+1,R+2,R+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),x=Math.cos(l),A=[],R=[],U=[];for(let ne=0;ne<this.symbolInstances.length;++ne){U.push(ne);const oe=this.symbolInstances.get(ne);A.push(0|Math.round(d*oe.anchorX+x*oe.anchorY)),R.push(oe.featureIndex)}return U.sort((ne,oe)=>A[ne]-A[oe]||R[oe]-R[ne]),U}addToSortKeyRanges(l,d){const x=this.sortKeyRanges[this.sortKeyRanges.length-1];x&&x.sortKey===d?x.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const x=this.symbolInstances.get(d);this.featureSortOrder.push(x.featureIndex),[x.rightJustifiedTextSymbolIndex,x.centerJustifiedTextSymbolIndex,x.leftJustifiedTextSymbolIndex].forEach((A,R,U)=>{A>=0&&U.indexOf(A)===R&&this.addIndicesForPlacedSymbol(this.text,A)}),x.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,x.verticalPlacedTextSymbolIndex),x.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,x.placedIconSymbolIndex),x.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,x.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}bn("SymbolBucket",bm,{omit:["layers","collisionBoxArray","features","compareText"]}),bm.MAX_GLYPHS=65535,bm.addDynamicAttributes=k_;const AO=new fa({"symbol-placement":new Nn(Me.layout_symbol["symbol-placement"]),"symbol-spacing":new Nn(Me.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Nn(Me.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new $n(Me.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Nn(Me.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Nn(Me.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Nn(Me.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Nn(Me.layout_symbol["icon-ignore-placement"]),"icon-optional":new Nn(Me.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Nn(Me.layout_symbol["icon-rotation-alignment"]),"icon-size":new $n(Me.layout_symbol["icon-size"]),"icon-text-fit":new Nn(Me.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Nn(Me.layout_symbol["icon-text-fit-padding"]),"icon-image":new $n(Me.layout_symbol["icon-image"]),"icon-rotate":new $n(Me.layout_symbol["icon-rotate"]),"icon-padding":new $n(Me.layout_symbol["icon-padding"]),"icon-keep-upright":new Nn(Me.layout_symbol["icon-keep-upright"]),"icon-offset":new $n(Me.layout_symbol["icon-offset"]),"icon-anchor":new $n(Me.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Nn(Me.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Nn(Me.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Nn(Me.layout_symbol["text-rotation-alignment"]),"text-field":new $n(Me.layout_symbol["text-field"]),"text-font":new $n(Me.layout_symbol["text-font"]),"text-size":new $n(Me.layout_symbol["text-size"]),"text-max-width":new $n(Me.layout_symbol["text-max-width"]),"text-line-height":new Nn(Me.layout_symbol["text-line-height"]),"text-letter-spacing":new $n(Me.layout_symbol["text-letter-spacing"]),"text-justify":new $n(Me.layout_symbol["text-justify"]),"text-radial-offset":new $n(Me.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Nn(Me.layout_symbol["text-variable-anchor"]),"text-anchor":new $n(Me.layout_symbol["text-anchor"]),"text-max-angle":new Nn(Me.layout_symbol["text-max-angle"]),"text-writing-mode":new Nn(Me.layout_symbol["text-writing-mode"]),"text-rotate":new $n(Me.layout_symbol["text-rotate"]),"text-padding":new Nn(Me.layout_symbol["text-padding"]),"text-keep-upright":new Nn(Me.layout_symbol["text-keep-upright"]),"text-transform":new $n(Me.layout_symbol["text-transform"]),"text-offset":new $n(Me.layout_symbol["text-offset"]),"text-allow-overlap":new Nn(Me.layout_symbol["text-allow-overlap"]),"text-overlap":new Nn(Me.layout_symbol["text-overlap"]),"text-ignore-placement":new Nn(Me.layout_symbol["text-ignore-placement"]),"text-optional":new Nn(Me.layout_symbol["text-optional"])});var I_={paint:new fa({"icon-opacity":new $n(Me.paint_symbol["icon-opacity"]),"icon-color":new $n(Me.paint_symbol["icon-color"]),"icon-halo-color":new $n(Me.paint_symbol["icon-halo-color"]),"icon-halo-width":new $n(Me.paint_symbol["icon-halo-width"]),"icon-halo-blur":new $n(Me.paint_symbol["icon-halo-blur"]),"icon-translate":new Nn(Me.paint_symbol["icon-translate"]),"icon-translate-anchor":new Nn(Me.paint_symbol["icon-translate-anchor"]),"text-opacity":new $n(Me.paint_symbol["text-opacity"]),"text-color":new $n(Me.paint_symbol["text-color"],{runtimeType:sn,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new $n(Me.paint_symbol["text-halo-color"]),"text-halo-width":new $n(Me.paint_symbol["text-halo-width"]),"text-halo-blur":new $n(Me.paint_symbol["text-halo-blur"]),"text-translate":new Nn(Me.paint_symbol["text-translate"]),"text-translate-anchor":new Nn(Me.paint_symbol["text-translate-anchor"])}),layout:AO};class yC{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:$t,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}bn("FormatSectionOverride",yC,{omit:["defaultValue"]});class ux extends Gs{constructor(l){super(l,I_)}recalculate(l,d){if(super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const x=this.layout.get("text-writing-mode");if(x){const A=[];for(const R of x)A.indexOf(R)<0&&A.push(R);this.layout._values["text-writing-mode"]=A}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,d,x,A){const R=this.layout.get(l).evaluate(d,{},x,A),U=this._unevaluatedLayout._values[l];return U.isDataDriven()||hh(U.value)||!R?R:function(ne,oe){return oe.replace(/{([^{}]+)}/g,(ye,Ne)=>Ne in ne?String(ne[Ne]):"")}(d.properties,R)}createBucket(l){return new bm(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of I_.paint.overridableProperties){if(!ux.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),x=new yC(d),A=new og(x,d.property.specification);let R=null;R=d.value.kind==="constant"||d.value.kind==="source"?new Wp("source",A):new mh("composite",A,d.value.zoomStops),this.paint._values[l]=new Sl(d.property,R,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,x){return!(!this.layout||d.isDataDriven()||x.isDataDriven())&&ux.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const x=l.get("text-field"),A=I_.paint.properties[d];let R=!1;const U=ne=>{for(const oe of ne)if(A.overrides&&A.overrides.hasOverride(oe))return void(R=!0)};if(x.value.kind==="constant"&&x.value.value instanceof lt)U(x.value.value.sections);else if(x.value.kind==="source"){const ne=ye=>{R||(ye instanceof pn&&Ft(ye.value)===ni?U(ye.value.sections):ye instanceof qp?U(ye.sections):ye.eachChild(ne))},oe=x.value;oe._styleExpression&&ne(oe._styleExpression.expression)}return R}}function A_(u,l,d){let x="never";const A=u.get(l);return A?x=A:u.get(d)&&(x="always"),x}var PO={paint:new fa({"background-color":new Nn(Me.paint_background["background-color"]),"background-pattern":new Sh(Me.paint_background["background-pattern"]),"background-opacity":new Nn(Me.paint_background["background-opacity"])})},MO={paint:new fa({"raster-opacity":new Nn(Me.paint_raster["raster-opacity"]),"raster-hue-rotate":new Nn(Me.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Nn(Me.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Nn(Me.paint_raster["raster-brightness-max"]),"raster-saturation":new Nn(Me.paint_raster["raster-saturation"]),"raster-contrast":new Nn(Me.paint_raster["raster-contrast"]),"raster-resampling":new Nn(Me.paint_raster["raster-resampling"]),"raster-fade-duration":new Nn(Me.paint_raster["raster-fade-duration"])})};class DO extends Gs{constructor(l){super(l,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const OO={circle:class extends Gs{constructor(u){super(u,pD)}createBucket(u){return new r_(u)}queryRadius(u){const l=u;return Tg("circle-radius",this,l)+Tg("circle-stroke-width",this,l)+Wv(this.paint.get("circle-translate"))}queryIntersectsFeature(u,l,d,x,A,R,U,ne){const oe=Hv(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),R.angle,U),ye=this.paint.get("circle-radius").evaluate(l,d)+this.paint.get("circle-stroke-width").evaluate(l,d),Ne=this.paint.get("circle-pitch-alignment")==="map",De=Ne?oe:function(qe,He){return qe.map(ct=>LS(ct,He))}(oe,ne),Be=Ne?ye*U:ye;for(const qe of x)for(const He of qe){const ct=Ne?He:LS(He,ne);let ot=Be;const _t=Xv([],[He.x,He.y,0,1],ne);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ot*=_t[3]/R.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ot*=R.cameraToCenterDistance/_t[3]),lD(De,ct,ot))return!0}return!1}},heatmap:class extends Gs{constructor(u){super(u,fD),this._updateColorRamp()}createBucket(u){return new NS(u)}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=AS({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}},hillshade:class extends Gs{constructor(u){super(u,gD)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}},fill:class extends Gs{constructor(u){super(u,AD)}recalculate(u,l){super.recalculate(u,l);const d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new g_(u)}queryRadius(){return Wv(this.paint.get("fill-translate"))}queryIntersectsFeature(u,l,d,x,A,R,U){return bS(Hv(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),R.angle,U),x)}isTileClipped(){return!0}},"fill-extrusion":class extends Gs{constructor(u){super(u,VD)}createBucket(u){return new v_(u)}queryRadius(){return Wv(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(u,l,d,x,A,R,U,ne){const oe=Hv(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),R.angle,U),ye=this.paint.get("fill-extrusion-height").evaluate(l,d),Ne=this.paint.get("fill-extrusion-base").evaluate(l,d),De=function(qe,He,ct,ot){const _t=[];for(const Dt of qe){const vt=[Dt.x,Dt.y,0,1];Xv(vt,vt,He),_t.push(new Y(vt[0]/vt[3],vt[1]/vt[3]))}return _t}(oe,ne),Be=function(qe,He,ct,ot){const _t=[],Dt=[],vt=ot[8]*He,At=ot[9]*He,Vt=ot[10]*He,Yt=ot[11]*He,wn=ot[8]*ct,Ln=ot[9]*ct,cn=ot[10]*ct,nn=ot[11]*ct;for(const Jt of qe){const un=[],an=[];for(const Ht of Jt){const Dn=Ht.x,In=Ht.y,pi=ot[0]*Dn+ot[4]*In+ot[12],pr=ot[1]*Dn+ot[5]*In+ot[13],vr=ot[2]*Dn+ot[6]*In+ot[14],ya=ot[3]*Dn+ot[7]*In+ot[15],nl=vr+Vt,ns=ya+Yt,da=pi+wn,ka=pr+Ln,is=vr+cn,bs=ya+nn,oo=new Y((pi+vt)/ns,(pr+At)/ns);oo.z=nl/ns,un.push(oo);const ha=new Y(da/bs,ka/bs);ha.z=is/bs,an.push(ha)}_t.push(un),Dt.push(an)}return[_t,Dt]}(x,Ne,ye,ne);return function(qe,He,ct){let ot=1/0;bS(ct,He)&&(ot=BS(ct,He[0]));for(let _t=0;_t<He.length;_t++){const Dt=He[_t],vt=qe[_t];for(let At=0;At<Dt.length-1;At++){const Vt=Dt[At],Yt=[Vt,Dt[At+1],vt[At+1],vt[At],Vt];xS(ct,Yt)&&(ot=Math.min(ot,BS(ct,Yt)))}}return ot!==1/0&&ot}(Be[0],Be[1],De)}},line:class extends Gs{constructor(u){super(u,US),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(u){u==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof lh,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(u,l){super.recalculate(u,l),this.paint._values["line-floorwidth"]=GS.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new x_(u)}queryRadius(u){const l=u,d=YS(Tg("line-width",this,l),Tg("line-gap-width",this,l)),x=Tg("line-offset",this,l);return d/2+Math.abs(x)+Wv(this.paint.get("line-translate"))}queryIntersectsFeature(u,l,d,x,A,R,U){const ne=Hv(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),R.angle,U),oe=U/2*YS(this.paint.get("line-width").evaluate(l,d),this.paint.get("line-gap-width").evaluate(l,d)),ye=this.paint.get("line-offset").evaluate(l,d);return ye&&(x=function(Ne,De){const Be=[];for(let qe=0;qe<Ne.length;qe++){const He=Ne[qe],ct=[];for(let ot=0;ot<He.length;ot++){const _t=He[ot-1],Dt=He[ot],vt=He[ot+1],At=ot===0?new Y(0,0):Dt.sub(_t)._unit()._perp(),Vt=ot===He.length-1?new Y(0,0):vt.sub(Dt)._unit()._perp(),Yt=At._add(Vt)._unit(),wn=Yt.x*Vt.x+Yt.y*Vt.y;wn!==0&&Yt._mult(1/wn),ct.push(Yt._mult(De)._add(Dt))}Be.push(ct)}return Be}(x,ye*U)),function(Ne,De,Be){for(let qe=0;qe<De.length;qe++){const He=De[qe];if(Ne.length>=3){for(let ct=0;ct<He.length;ct++)if(pm(Ne,He[ct]))return!0}if(cD(Ne,He,Be))return!0}return!1}(ne,x,oe)}isTileClipped(){return!0}},symbol:ux,background:class extends Gs{constructor(u){super(u,PO)}},raster:class extends Gs{constructor(u){super(u,MO)}}};class RO{constructor(l){this._callback=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const vC=63710088e-1;class jr{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new jr(_(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,x=this.lat*d,A=l.lat*d,R=Math.sin(x)*Math.sin(A)+Math.cos(x)*Math.cos(A)*Math.cos((l.lng-this.lng)*d);return vC*Math.acos(Math.min(R,1))}toBounds(l=0){const d=360*l/40075017,x=d/Math.cos(Math.PI/180*this.lat);return new Ph(new jr(this.lng-x,this.lat-d),new jr(this.lng+x,this.lat+d))}static convert(l){if(l instanceof jr)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new jr(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new jr(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Ph{constructor(l,d){l&&(d?this.setSouthWest(l).setNorthEast(d):l.length===4?this.setSouthWest([l[0],l[1]]).setNorthEast([l[2],l[3]]):this.setSouthWest(l[0]).setNorthEast(l[1]))}setNorthEast(l){return this._ne=l instanceof jr?new jr(l.lng,l.lat):jr.convert(l),this}setSouthWest(l){return this._sw=l instanceof jr?new jr(l.lng,l.lat):jr.convert(l),this}extend(l){const d=this._sw,x=this._ne;let A,R;if(l instanceof jr)A=l,R=l;else{if(!(l instanceof Ph))return Array.isArray(l)?l.length===4||l.every(Array.isArray)?this.extend(Ph.convert(l)):this.extend(jr.convert(l)):this;if(A=l._sw,R=l._ne,!A||!R)return this}return d||x?(d.lng=Math.min(A.lng,d.lng),d.lat=Math.min(A.lat,d.lat),x.lng=Math.max(R.lng,x.lng),x.lat=Math.max(R.lat,x.lat)):(this._sw=new jr(A.lng,A.lat),this._ne=new jr(R.lng,R.lat)),this}getCenter(){return new jr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new jr(this.getWest(),this.getNorth())}getSouthEast(){return new jr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(l){const{lng:d,lat:x}=jr.convert(l);let A=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(A=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=x&&x<=this._ne.lat&&A}static convert(l){return l instanceof Ph?l:l&&new Ph(l)}}const xC=2*Math.PI*vC;function bC(u){return xC*Math.cos(u*Math.PI/180)}function _C(u){return(180+u)/360}function wC(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function TC(u,l){return u/bC(l)}function P_(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class dx{constructor(l,d,x=0){this.x=+l,this.y=+d,this.z=+x}static fromLngLat(l,d=0){const x=jr.convert(l);return new dx(_C(x.lng),wC(x.lat),TC(d,x.lat))}toLngLat(){return new jr(360*this.x-180,P_(this.y))}toAltitude(){return this.z*bC(P_(this.y))}meterInMercatorCoordinateUnits(){return 1/xC*(l=P_(this.y),1/Math.cos(l*Math.PI/180));var l}}function SC(u,l,d){var x=2*Math.PI*6378137/256/Math.pow(2,d);return[u*x-2*Math.PI*6378137/2,l*x-2*Math.PI*6378137/2]}class M_{constructor(l,d,x){if(l<0||l>25||x<0||x>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))throw new Error(`x=${d}, y=${x}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=d,this.y=x,this.key=Dg(0,l,l,d,x)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d,x){const A=(U=this.y,ne=this.z,oe=SC(256*(R=this.x),256*(U=Math.pow(2,ne)-U-1),ne),ye=SC(256*(R+1),256*(U+1),ne),oe[0]+","+oe[1]+","+ye[0]+","+ye[1]);var R,U,ne,oe,ye;const Ne=function(De,Be,qe){let He,ct="";for(let ot=De;ot>0;ot--)He=1<<ot-1,ct+=(Be&He?1:0)+(qe&He?2:0);return ct}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(x==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,Ne).replace(/{bbox-epsg-3857}/g,A)}isChildOf(l){const d=this.z-l.z;return d>0&&l.x===this.x>>d&&l.y===this.y>>d}getTilePoint(l){const d=Math.pow(2,this.z);return new Y((l.x*d-this.x)*ga,(l.y*d-this.y)*ga)}toString(){return`${this.z}/${this.x}/${this.y}`}}class CC{constructor(l,d){this.wrap=l,this.canonical=d,this.key=Dg(l,d.z,d.z,d.x,d.y)}}class tl{constructor(l,d,x,A,R){if(l<x)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${x}`);this.overscaledZ=l,this.wrap=d,this.canonical=new M_(x,+A,+R),this.key=Dg(d,l,x,A,R)}clone(){return new tl(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-l;return l>this.canonical.z?new tl(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new tl(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const x=this.canonical.z-l;return l>this.canonical.z?Dg(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y):Dg(this.wrap*+d,l,l,this.canonical.x>>x,this.canonical.y>>x)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new tl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,x=2*this.canonical.x,A=2*this.canonical.y;return[new tl(d,this.wrap,d,x,A),new tl(d,this.wrap,d,x+1,A),new tl(d,this.wrap,d,x,A+1),new tl(d,this.wrap,d,x+1,A+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new tl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new tl(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new CC(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new dx(l.x-this.wrap,l.y))}}function Dg(u,l,d,x,A){(u*=2)<0&&(u=-1*u-1);const R=1<<d;return(R*R*u+R*A+x).toString(36)+d.toString(36)+l.toString(36)}bn("CanonicalTileID",M_),bn("OverscaledTileID",tl,{omit:["posMatrix"]});class EC{constructor(l,d,x){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(x&&x!=="mapbox"&&x!=="terrarium")return void C(`"${x}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=d.height;const A=this.dim=d.height-2;this.data=new Uint32Array(d.data.buffer),this.encoding=x||"mapbox";for(let R=0;R<A;R++)this.data[this._idx(-1,R)]=this.data[this._idx(0,R)],this.data[this._idx(A,R)]=this.data[this._idx(A-1,R)],this.data[this._idx(R,-1)]=this.data[this._idx(R,0)],this.data[this._idx(R,A)]=this.data[this._idx(R,A-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(A,-1)]=this.data[this._idx(A-1,0)],this.data[this._idx(-1,A)]=this.data[this._idx(0,A-1)],this.data[this._idx(A,A)]=this.data[this._idx(A-1,A-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let R=0;R<A;R++)for(let U=0;U<A;U++){const ne=this.get(R,U);ne>this.max&&(this.max=ne),ne<this.min&&(this.min=ne)}}get(l,d){const x=new Uint8Array(this.data.buffer),A=4*this._idx(l,d);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(x[A],x[A+1],x[A+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}_unpackMapbox(l,d,x){return(256*l*256+256*d+x)/10-1e4}_unpackTerrarium(l,d,x){return 256*l+d+x/256-32768}getPixels(){return new el({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,d,x){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let A=d*this.dim,R=d*this.dim+this.dim,U=x*this.dim,ne=x*this.dim+this.dim;switch(d){case-1:A=R-1;break;case 1:R=A+1}switch(x){case-1:U=ne-1;break;case 1:ne=U+1}const oe=-d*this.dim,ye=-x*this.dim;for(let Ne=U;Ne<ne;Ne++)for(let De=A;De<R;De++)this.data[this._idx(De,Ne)]=l.data[this._idx(De+oe,Ne+ye)]}}bn("DEMData",EC);class kC{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const x=l[d];this._stringToNumber[x]=d,this._numberToString[d]=x}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class LC{constructor(l,d,x,A,R){this.type="Feature",this._vectorTileFeature=l,l._z=d,l._x=x,l._y=A,this.properties=l.properties,this.id=R}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(l[d]=this[d]);return l}}class NC{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new mu(ga,16,0),this.grid3D=new mu(ga,16,0),this.featureIndexArray=new ii,this.promoteId=d}insert(l,d,x,A,R,U){const ne=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(x,A,R);const oe=U?this.grid3D:this.grid;for(let ye=0;ye<d.length;ye++){const Ne=d[ye],De=[1/0,1/0,-1/0,-1/0];for(let Be=0;Be<Ne.length;Be++){const qe=Ne[Be];De[0]=Math.min(De[0],qe.x),De[1]=Math.min(De[1],qe.y),De[2]=Math.max(De[2],qe.x),De[3]=Math.max(De[3],qe.y)}De[0]<ga&&De[1]<ga&&De[2]>=0&&De[3]>=0&&oe.insert(ne,De[0],De[1],De[2],De[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new md.VectorTile(new b_(this.rawTileData)).layers,this.sourceLayerCoder=new kC(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,d,x,A){this.loadVTLayers();const R=l.params||{},U=ga/l.tileSize/l.scale,ne=cg(R.filter),oe=l.queryGeometry,ye=l.queryPadding*U,Ne=AC(oe),De=this.grid.query(Ne.minX-ye,Ne.minY-ye,Ne.maxX+ye,Ne.maxY+ye),Be=AC(l.cameraQueryGeometry),qe=this.grid3D.query(Be.minX-ye,Be.minY-ye,Be.maxX+ye,Be.maxY+ye,(ot,_t,Dt,vt)=>function(At,Vt,Yt,wn,Ln){for(const nn of At)if(Vt<=nn.x&&Yt<=nn.y&&wn>=nn.x&&Ln>=nn.y)return!0;const cn=[new Y(Vt,Yt),new Y(Vt,Ln),new Y(wn,Ln),new Y(wn,Yt)];if(At.length>2){for(const nn of cn)if(pm(At,nn))return!0}for(let nn=0;nn<At.length-1;nn++)if(dD(At[nn],At[nn+1],cn))return!0;return!1}(l.cameraQueryGeometry,ot-ye,_t-ye,Dt+ye,vt+ye));for(const ot of qe)De.push(ot);De.sort($O);const He={};let ct;for(let ot=0;ot<De.length;ot++){const _t=De[ot];if(_t===ct)continue;ct=_t;const Dt=this.featureIndexArray.get(_t);let vt=null;this.loadMatchingFeature(He,Dt.bucketIndex,Dt.sourceLayerIndex,Dt.featureIndex,ne,R.layers,R.availableImages,d,x,A,(At,Vt,Yt)=>(vt||(vt=Nh(At)),Vt.queryIntersectsFeature(oe,At,Yt,vt,this.z,l.transform,U,l.pixelPosMatrix)))}return He}loadMatchingFeature(l,d,x,A,R,U,ne,oe,ye,Ne,De){const Be=this.bucketLayerIDs[d];if(U&&!function(ot,_t){for(let Dt=0;Dt<ot.length;Dt++)if(_t.indexOf(ot[Dt])>=0)return!0;return!1}(U,Be))return;const qe=this.sourceLayerCoder.decode(x),He=this.vtLayers[qe].feature(A);if(R.needGeometry){const ot=Ih(He,!0);if(!R.filter(new gr(this.tileID.overscaledZ),ot,this.tileID.canonical))return}else if(!R.filter(new gr(this.tileID.overscaledZ),He))return;const ct=this.getId(He,qe);for(let ot=0;ot<Be.length;ot++){const _t=Be[ot];if(U&&U.indexOf(_t)<0)continue;const Dt=oe[_t];if(!Dt)continue;let vt={};ct&&Ne&&(vt=Ne.getState(Dt.sourceLayer||"_geojsonTileLayer",ct));const At=b({},ye[_t]);At.paint=IC(At.paint,Dt.paint,He,vt,ne),At.layout=IC(At.layout,Dt.layout,He,vt,ne);const Vt=!De||De(He,Dt,vt);if(!Vt)continue;const Yt=new LC(He,this.z,this.x,this.y,ct);Yt.layer=At;let wn=l[_t];wn===void 0&&(wn=l[_t]=[]),wn.push({featureIndex:A,feature:Yt,intersectionZ:Vt})}}lookupSymbolFeatures(l,d,x,A,R,U,ne,oe){const ye={};this.loadVTLayers();const Ne=cg(R);for(const De of l)this.loadMatchingFeature(ye,x,A,De,Ne,U,ne,oe,d);return ye}hasLayer(l){for(const d of this.bucketLayerIDs)for(const x of d)if(l===x)return!0;return!1}getId(l,d){let x=l.id;return this.promoteId&&(x=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof x=="boolean"&&(x=Number(x))),x}}function IC(u,l,d,x,A){return k(u,(R,U)=>{const ne=l instanceof sm?l.get(U):null;return ne&&ne.evaluate?ne.evaluate(d,x,A):ne})}function AC(u){let l=1/0,d=1/0,x=-1/0,A=-1/0;for(const R of u)l=Math.min(l,R.x),d=Math.min(d,R.y),x=Math.max(x,R.x),A=Math.max(A,R.y);return{minX:l,minY:d,maxX:x,maxY:A}}function $O(u,l){return l-u}var D_;bn("FeatureIndex",NC,{omit:["rawTileData","sourceLayerCoder"]}),s.PerformanceMarkers=void 0,(D_=s.PerformanceMarkers||(s.PerformanceMarkers={})).create="create",D_.load="load",D_.fullLoad="fullLoad";let hx=null,Og=[];const O_=1e3/30,zO={mark(u){performance.mark(u)},frame(u){const l=u;hx!=null&&Og.push(l-hx),hx=l},clearMetrics(){hx=null,Og=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const u in s.PerformanceMarkers)performance.clearMarks(s.PerformanceMarkers[u])},getPerformanceMetrics(){performance.measure("loadTime",s.PerformanceMarkers.create,s.PerformanceMarkers.load),performance.measure("fullLoadTime",s.PerformanceMarkers.create,s.PerformanceMarkers.fullLoad);const u=performance.getEntriesByName("loadTime")[0].duration,l=performance.getEntriesByName("fullLoadTime")[0].duration,d=Og.length,x=1/(Og.reduce((R,U)=>R+U,0)/d/1e3),A=Og.filter(R=>R>O_).reduce((R,U)=>R+(U-O_)/O_,0);return{loadTime:u,fullLoadTime:l,fps:x,percentDroppedFrames:A/(d+A)*100}}};s.AJAXError=Q,s.ARRAY_TYPE=qs,s.Actor=class{constructor(u,l,d){this.target=u,this.parent=l,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new RO(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=W()?u:window}send(u,l,d,x,A=!1){const R=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[R]=d);const U=j(this.globalScope)?void 0:[];return this.target.postMessage({id:R,type:u,hasCallback:!!d,targetMapId:x,mustQueue:A,sourceMapId:this.mapId,data:bh(l,U)},U),{cancel:()=>{d&&delete this.callbacks[R],this.target.postMessage({id:R,type:"<cancel>",targetMapId:x,sourceMapId:this.mapId})}}}receive(u){const l=u.data,d=l.id;if(d&&(!l.targetMapId||this.mapId===l.targetMapId))if(l.type==="<cancel>"){delete this.tasks[d];const x=this.cancelCallbacks[d];delete this.cancelCallbacks[d],x&&x()}else W()||l.mustQueue?(this.tasks[d]=l,this.taskQueue.push(d),this.invoker.trigger()):this.processTask(d,l)}process(){if(!this.taskQueue.length)return;const u=this.taskQueue.shift(),l=this.tasks[u];delete this.tasks[u],this.taskQueue.length&&this.invoker.trigger(),l&&this.processTask(u,l)}processTask(u,l){if(l.type==="<response>"){const d=this.callbacks[u];delete this.callbacks[u],d&&(l.error?d(fu(l.error)):d(null,fu(l.data)))}else{let d=!1;const x=j(this.globalScope)?void 0:[],A=l.hasCallback?(ne,oe)=>{d=!0,delete this.cancelCallbacks[u],this.target.postMessage({id:u,type:"<response>",sourceMapId:this.mapId,error:ne?bh(ne):null,data:bh(oe,x)},x)}:ne=>{d=!0};let R=null;const U=fu(l.data);if(this.parent[l.type])R=this.parent[l.type](l.sourceMapId,U,A);else if(this.parent.getWorkerSource){const ne=l.type.split(".");R=this.parent.getWorkerSource(l.sourceMapId,ne[0],U.source)[ne[1]](U,A)}else A(new Error(`Could not find function ${l.type}`));!d&&R&&R.cancel&&(this.cancelCallbacks[u]=R.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},s.AlphaImage=Cg,s.CanonicalTileID=M_,s.CollisionBoxArray=Et,s.CollisionCircleLayoutArray=class extends Te{},s.Color=Fe,s.DEMData=EC,s.DataConstantProperty=Nn,s.DictionaryCoder=kC,s.EXTENT=ga,s.ErrorEvent=Ee,s.EvaluationParameters=gr,s.Event=_e,s.Evented=Re,s.FeatureIndex=NC,s.FillBucket=g_,s.FillExtrusionBucket=v_,s.GeoJSONFeature=LC,s.ImageAtlas=JS,s.ImagePosition=w_,s.LineBucket=x_,s.LineStripIndexArray=class extends wt{},s.LngLat=jr,s.LngLatBounds=Ph,s.MercatorCoordinate=dx,s.ONE_EM=Ya,s.OverscaledTileID=tl,s.PerformanceUtils=zO,s.PosArray=hi,s.Properties=fa,s.QuadTriangleArray=class extends $e{},s.RGBAImage=el,s.RasterBoundsArray=class extends Eh{},s.RequestPerformance=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},s.ResourceType=ve,s.SegmentVector=Ai,s.SymbolBucket=bm,s.Transitionable=xg,s.TriangleIndexArray=Ga,s.Uniform1f=um,s.Uniform1i=class extends Jo{constructor(u,l){super(u,l),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},s.Uniform2f=class extends Jo{constructor(u,l){super(u,l),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},s.Uniform3f=class extends Jo{constructor(u,l){super(u,l),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},s.Uniform4f=kh,s.UniformColor=dm,s.UniformMatrix4f=class extends Jo{constructor(u,l){super(u,l),this.current=sD}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let l=1;l<16;l++)if(u[l]!==this.current[l]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},s.UnwrappedTileID=CC,s.ValidationError=ze,s.ZoomHistory=_h,s.add=function(u,l,d){return u[0]=l[0]+d[0],u[1]=l[1]+d[1],u[2]=l[2]+d[2],u},s.addDynamicAttributes=k_,s.asyncAll=function(u,l,d){if(!u.length)return d(null,[]);let x=u.length;const A=new Array(u.length);let R=null;u.forEach((U,ne)=>{l(U,(oe,ye)=>{oe&&(R=oe),A[ne]=ye,--x==0&&d(R,A)})})},s.bezier=f,s.bindAll=E,s.cacheEntryPossiblyAdded=function(u){se++,se>ce&&(u.getActor().send("enforceCacheSizeLimit",te),se=0)},s.clamp=g,s.clearTileCache=function(u){const l=caches.delete(q);u&&l.catch(u).then(()=>u())},s.clipLine=dC,s.clone=function(u){var l=new qs(16);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=u[6],l[7]=u[7],l[8]=u[8],l[9]=u[9],l[10]=u[10],l[11]=u[11],l[12]=u[12],l[13]=u[13],l[14]=u[14],l[15]=u[15],l},s.clone$1=w,s.clone$2=function(u){var l=new qs(3);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l},s.collisionCircleLayout=nO,s.config=z,s.copy=function(u,l){return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},s.create=function(){var u=new qs(16);return qs!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},s.create$1=TS,s.createExpression=ph,s.createFilter=cg,s.createLayout=ca,s.createStyleLayer=function(u){return u.type==="custom"?new DO(u):new OO[u.type](u)},s.cross=function(u,l,d){var x=l[0],A=l[1],R=l[2],U=d[0],ne=d[1],oe=d[2];return u[0]=A*oe-R*ne,u[1]=R*U-x*oe,u[2]=x*ne-A*U,u},s.dot=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]},s.dot$1=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3]},s.ease=y,s.emitValidationErrors=zv,s.enforceCacheSizeLimit=function(u){ie(),V&&V.then(l=>{l.keys().then(d=>{for(let x=0;x<d.length-u;x++)l.delete(d[x])})})},s.equals=function(u,l){var d=u[0],x=u[1],A=u[2],R=u[3],U=u[4],ne=u[5],oe=u[6],ye=u[7],Ne=u[8],De=u[9],Be=u[10],qe=u[11],He=u[12],ct=u[13],ot=u[14],_t=u[15],Dt=l[0],vt=l[1],At=l[2],Vt=l[3],Yt=l[4],wn=l[5],Ln=l[6],cn=l[7],nn=l[8],Jt=l[9],un=l[10],an=l[11],Ht=l[12],Dn=l[13],In=l[14],pi=l[15];return Math.abs(d-Dt)<=Vs*Math.max(1,Math.abs(d),Math.abs(Dt))&&Math.abs(x-vt)<=Vs*Math.max(1,Math.abs(x),Math.abs(vt))&&Math.abs(A-At)<=Vs*Math.max(1,Math.abs(A),Math.abs(At))&&Math.abs(R-Vt)<=Vs*Math.max(1,Math.abs(R),Math.abs(Vt))&&Math.abs(U-Yt)<=Vs*Math.max(1,Math.abs(U),Math.abs(Yt))&&Math.abs(ne-wn)<=Vs*Math.max(1,Math.abs(ne),Math.abs(wn))&&Math.abs(oe-Ln)<=Vs*Math.max(1,Math.abs(oe),Math.abs(Ln))&&Math.abs(ye-cn)<=Vs*Math.max(1,Math.abs(ye),Math.abs(cn))&&Math.abs(Ne-nn)<=Vs*Math.max(1,Math.abs(Ne),Math.abs(nn))&&Math.abs(De-Jt)<=Vs*Math.max(1,Math.abs(De),Math.abs(Jt))&&Math.abs(Be-un)<=Vs*Math.max(1,Math.abs(Be),Math.abs(un))&&Math.abs(qe-an)<=Vs*Math.max(1,Math.abs(qe),Math.abs(an))&&Math.abs(He-Ht)<=Vs*Math.max(1,Math.abs(He),Math.abs(Ht))&&Math.abs(ct-Dn)<=Vs*Math.max(1,Math.abs(ct),Math.abs(Dn))&&Math.abs(ot-In)<=Vs*Math.max(1,Math.abs(ot),Math.abs(In))&&Math.abs(_t-pi)<=Vs*Math.max(1,Math.abs(_t),Math.abs(pi))},s.evaluateSizeForFeature=function(u,{uSize:l,uSizeT:d},{lowerSize:x,upperSize:A}){return u.kind==="source"?x/_u:u.kind==="composite"?Tr(x/_u,A/_u,d):l},s.evaluateSizeForZoom=function(u,l){let d=0,x=0;if(u.kind==="constant")x=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:A,minZoom:R,maxZoom:U}=u,ne=A?g(ro.interpolationFactor(A,l,R,U),0,1):0;u.kind==="camera"?x=Tr(u.minSize,u.maxSize,ne):d=ne}return{uSizeT:d,uSize:x}},s.evaluateVariableOffset=mC,s.evented=cd,s.exported=M,s.exported$1=Ce,s.extend=b,s.filterObject=v,s.fromRotation=function(u,l){var d=Math.sin(l),x=Math.cos(l);return u[0]=x,u[1]=d,u[2]=0,u[3]=-d,u[4]=x,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u},s.fromScaling=function(u,l){return u[0]=l[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=l[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},s.getAnchorAlignment=S_,s.getAnchorJustification=E_,s.getArrayBuffer=xe,s.getImage=Ue,s.getJSON=function(u,l){return fe(b(u,{type:"json"}),l)},s.getOverlapMode=A_,s.getRTLTextPluginStatus=vg,s.getReferrer=re,s.getVideo=function(u,l){const d=window.document.createElement("video");d.muted=!0,d.onloadstart=function(){l(null,d)};for(let x=0;x<u.length;x++){const A=window.document.createElement("source");Le(u[x])||(d.crossOrigin="Anonymous"),A.src=u[x],d.appendChild(A)}return{cancel:()=>{}}},s.identity=o_,s.invert=function(u,l){var d=l[0],x=l[1],A=l[2],R=l[3],U=l[4],ne=l[5],oe=l[6],ye=l[7],Ne=l[8],De=l[9],Be=l[10],qe=l[11],He=l[12],ct=l[13],ot=l[14],_t=l[15],Dt=d*ne-x*U,vt=d*oe-A*U,At=d*ye-R*U,Vt=x*oe-A*ne,Yt=x*ye-R*ne,wn=A*ye-R*oe,Ln=Ne*ct-De*He,cn=Ne*ot-Be*He,nn=Ne*_t-qe*He,Jt=De*ot-Be*ct,un=De*_t-qe*ct,an=Be*_t-qe*ot,Ht=Dt*an-vt*un+At*Jt+Vt*nn-Yt*cn+wn*Ln;return Ht?(u[0]=(ne*an-oe*un+ye*Jt)*(Ht=1/Ht),u[1]=(A*un-x*an-R*Jt)*Ht,u[2]=(ct*wn-ot*Yt+_t*Vt)*Ht,u[3]=(Be*Yt-De*wn-qe*Vt)*Ht,u[4]=(oe*nn-U*an-ye*cn)*Ht,u[5]=(d*an-A*nn+R*cn)*Ht,u[6]=(ot*At-He*wn-_t*vt)*Ht,u[7]=(Ne*wn-Be*At+qe*vt)*Ht,u[8]=(U*un-ne*nn+ye*Ln)*Ht,u[9]=(x*nn-d*un-R*Ln)*Ht,u[10]=(He*Yt-ct*At+_t*Dt)*Ht,u[11]=(De*At-Ne*Yt-qe*Dt)*Ht,u[12]=(ne*cn-U*Jt-oe*Ln)*Ht,u[13]=(d*Jt-x*cn+A*Ln)*Ht,u[14]=(ct*vt-He*Vt-ot*Dt)*Ht,u[15]=(Ne*Vt-De*vt+Be*Dt)*Ht,u):null},s.isImageBitmap=D,s.isSafari=j,s.isWorker=W,s.keysDifference=function(u,l){const d=[];for(const x in u)x in l||d.push(x);return d},s.lazyLoadRTLTextPlugin=function(){Mo.isLoading()||Mo.isLoaded()||vg()!=="deferred"||im()},s.makeRequest=fe,s.mapObject=k,s.mercatorXfromLng=_C,s.mercatorYfromLat=wC,s.mercatorZfromAltitude=TC,s.mul=mD,s.mul$1=function(u,l,d){return u[0]=l[0]*d[0],u[1]=l[1]*d[1],u[2]=l[2]*d[2],u[3]=l[3]*d[3],u},s.multiply=SS,s.nextPowerOfTwo=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},s.normalize=function(u,l){var d=l[0],x=l[1],A=l[2],R=d*d+x*x+A*A;return R>0&&(R=1/Math.sqrt(R)),u[0]=l[0]*R,u[1]=l[1]*R,u[2]=l[2]*R,u},s.number=Tr,s.ortho=function(u,l,d,x,A,R,U){var ne=1/(l-d),oe=1/(x-A),ye=1/(R-U);return u[0]=-2*ne,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*oe,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*ye,u[11]=0,u[12]=(l+d)*ne,u[13]=(A+x)*oe,u[14]=(U+R)*ye,u[15]=1,u},s.parseCacheControl=X,s.parseGlyphPbf=function(u){return new b_(u).readFields(pO,[])},s.pbf=b_,s.performSymbolLayout=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=ga/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;const l=u.bucket.layers[0].layout,d=u.bucket.layers[0]._unevaluatedLayout._values,x={layoutIconSize:d["icon-size"].possiblyEvaluate(new gr(u.bucket.zoom+1),u.canonical),layoutTextSize:d["text-size"].possiblyEvaluate(new gr(u.bucket.zoom+1),u.canonical),textMaxSize:d["text-size"].possiblyEvaluate(new gr(18))};if(u.bucket.textSizeData.kind==="composite"){const{minZoom:oe,maxZoom:ye}=u.bucket.textSizeData;x.compositeTextSizes=[d["text-size"].possiblyEvaluate(new gr(oe),u.canonical),d["text-size"].possiblyEvaluate(new gr(ye),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){const{minZoom:oe,maxZoom:ye}=u.bucket.iconSizeData;x.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new gr(oe),u.canonical),d["icon-size"].possiblyEvaluate(new gr(ye),u.canonical)]}const A=l.get("text-line-height")*Ya,R=l.get("text-rotation-alignment")!=="viewport"&&l.get("symbol-placement")!=="point",U=l.get("text-keep-upright"),ne=l.get("text-size");for(const oe of u.bucket.features){const ye=l.get("text-font").evaluate(oe,{},u.canonical).join(","),Ne=ne.evaluate(oe,{},u.canonical),De=x.layoutTextSize.evaluate(oe,{},u.canonical),Be=x.layoutIconSize.evaluate(oe,{},u.canonical),qe={horizontal:{},vertical:void 0},He=oe.text;let ct,ot=[0,0];if(He){const vt=He.toString(),At=l.get("text-letter-spacing").evaluate(oe,{},u.canonical)*Ya,Vt=Fv(vt)?At:0,Yt=l.get("text-anchor").evaluate(oe,{},u.canonical),wn=l.get("text-variable-anchor");if(!wn){const un=l.get("text-radial-offset").evaluate(oe,{},u.canonical);ot=un?mC(Yt,[un*Ya,C_]):l.get("text-offset").evaluate(oe,{},u.canonical).map(an=>an*Ya)}let Ln=R?"center":l.get("text-justify").evaluate(oe,{},u.canonical);const cn=l.get("symbol-placement"),nn=cn==="point"?l.get("text-max-width").evaluate(oe,{},u.canonical)*Ya:0,Jt=()=>{u.bucket.allowVerticalPlacement&&pg(vt)&&(qe.vertical=ix(He,u.glyphMap,u.glyphPositions,u.imagePositions,ye,nn,A,Yt,"left",Vt,ot,s.WritingMode.vertical,!0,cn,De,Ne))};if(!R&&wn){const un=Ln==="auto"?wn.map(Ht=>E_(Ht)):[Ln];let an=!1;for(let Ht=0;Ht<un.length;Ht++){const Dn=un[Ht];if(!qe.horizontal[Dn])if(an)qe.horizontal[Dn]=qe.horizontal[0];else{const In=ix(He,u.glyphMap,u.glyphPositions,u.imagePositions,ye,nn,A,"center",Dn,Vt,ot,s.WritingMode.horizontal,!1,cn,De,Ne);In&&(qe.horizontal[Dn]=In,an=In.positionedLines.length===1)}}Jt()}else{Ln==="auto"&&(Ln=E_(Yt));const un=ix(He,u.glyphMap,u.glyphPositions,u.imagePositions,ye,nn,A,Yt,Ln,Vt,ot,s.WritingMode.horizontal,!1,cn,De,Ne);un&&(qe.horizontal[Ln]=un),Jt(),pg(vt)&&R&&U&&(qe.vertical=ix(He,u.glyphMap,u.glyphPositions,u.imagePositions,ye,nn,A,Yt,Ln,Vt,ot,s.WritingMode.vertical,!1,cn,De,Ne))}}let _t=!1;if(oe.icon&&oe.icon.name){const vt=u.imageMap[oe.icon.name];vt&&(ct=xO(u.imagePositions[oe.icon.name],l.get("icon-offset").evaluate(oe,{},u.canonical),l.get("icon-anchor").evaluate(oe,{},u.canonical)),_t=!!vt.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=_t:u.bucket.sdfIcons!==_t&&C("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(vt.pixelRatio!==u.bucket.pixelRatio||l.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}const Dt=gC(qe.horizontal)||qe.vertical;u.bucket.iconsInText=!!Dt&&Dt.iconsInText,(Dt||ct)&&EO(u.bucket,oe,qe,ct,u.imageMap,x,De,Be,ot,_t,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},s.perspective=function(u,l,d,x,A){var R,U=1/Math.tan(l/2);return u[0]=U/d,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=U,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,A!=null&&A!==1/0?(u[10]=(A+x)*(R=1/(x-A)),u[14]=2*A*x*R):(u[10]=-1,u[14]=-2*x),u},s.pick=function(u,l){const d={};for(let x=0;x<l.length;x++){const A=l[x];A in u&&(d[A]=u[A])}return d},s.plugin=Mo,s.pointGeometry=Y,s.polygonIntersectsPolygon=xS,s.potpack=QS,s.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.register=bn,s.registerForPluginStateChange=function(u){return u({pluginStatus:Us,pluginURL:kc}),cd.on("pluginStateChange",u),u},s.renderColorRamp=AS,s.rotateX=function(u,l,d){var x=Math.sin(d),A=Math.cos(d),R=l[4],U=l[5],ne=l[6],oe=l[7],ye=l[8],Ne=l[9],De=l[10],Be=l[11];return l!==u&&(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[4]=R*A+ye*x,u[5]=U*A+Ne*x,u[6]=ne*A+De*x,u[7]=oe*A+Be*x,u[8]=ye*A-R*x,u[9]=Ne*A-U*x,u[10]=De*A-ne*x,u[11]=Be*A-oe*x,u},s.rotateZ=function(u,l,d){var x=Math.sin(d),A=Math.cos(d),R=l[0],U=l[1],ne=l[2],oe=l[3],ye=l[4],Ne=l[5],De=l[6],Be=l[7];return l!==u&&(u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[0]=R*A+ye*x,u[1]=U*A+Ne*x,u[2]=ne*A+De*x,u[3]=oe*A+Be*x,u[4]=ye*A-R*x,u[5]=Ne*A-U*x,u[6]=De*A-ne*x,u[7]=Be*A-oe*x,u},s.scale=function(u,l,d){var x=d[0],A=d[1],R=d[2];return u[0]=l[0]*x,u[1]=l[1]*x,u[2]=l[2]*x,u[3]=l[3]*x,u[4]=l[4]*A,u[5]=l[5]*A,u[6]=l[6]*A,u[7]=l[7]*A,u[8]=l[8]*R,u[9]=l[9]*R,u[10]=l[10]*R,u[11]=l[11]*R,u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},s.scale$1=function(u,l,d){return u[0]=l[0]*d,u[1]=l[1]*d,u[2]=l[2]*d,u},s.setCacheLimits=function(u,l){te=u,ce=l},s.setRTLTextPlugin=function(u,l,d=!1){if(Us===nm||Us===mg||Us===fg)throw new Error("setRTLTextPlugin cannot be called multiple times.");kc=M.resolveURL(u),Us=nm,gg=l,yg(),d||im()},s.spec=Me,s.sphericalToCartesian=function([u,l,d]){return l+=90,l*=Math.PI/180,d*=Math.PI/180,{x:u*Math.cos(l)*Math.sin(d),y:u*Math.sin(l)*Math.sin(d),z:u*Math.cos(d)}},s.sqrLen=function(u){var l=u[0],d=u[1];return l*l+d*d},s.sub=function(u,l,d){return u[0]=l[0]-d[0],u[1]=l[1]-d[1],u[2]=l[2]-d[2],u},s.toEvaluationFeature=Ih,s.transformMat3=function(u,l,d){var x=l[0],A=l[1],R=l[2];return u[0]=x*d[0]+A*d[3]+R*d[6],u[1]=x*d[1]+A*d[4]+R*d[7],u[2]=x*d[2]+A*d[5]+R*d[8],u},s.transformMat4=Xv,s.transformMat4$1=function(u,l,d){var x=l[0],A=l[1];return u[0]=d[0]*x+d[4]*A+d[12],u[1]=d[1]*x+d[5]*A+d[13],u},s.translate=function(u,l,d){var x,A,R,U,ne,oe,ye,Ne,De,Be,qe,He,ct=d[0],ot=d[1],_t=d[2];return l===u?(u[12]=l[0]*ct+l[4]*ot+l[8]*_t+l[12],u[13]=l[1]*ct+l[5]*ot+l[9]*_t+l[13],u[14]=l[2]*ct+l[6]*ot+l[10]*_t+l[14],u[15]=l[3]*ct+l[7]*ot+l[11]*_t+l[15]):(A=l[1],R=l[2],U=l[3],ne=l[4],oe=l[5],ye=l[6],Ne=l[7],De=l[8],Be=l[9],qe=l[10],He=l[11],u[0]=x=l[0],u[1]=A,u[2]=R,u[3]=U,u[4]=ne,u[5]=oe,u[6]=ye,u[7]=Ne,u[8]=De,u[9]=Be,u[10]=qe,u[11]=He,u[12]=x*ct+ne*ot+De*_t+l[12],u[13]=A*ct+oe*ot+Be*_t+l[13],u[14]=R*ct+ye*ot+qe*_t+l[14],u[15]=U*ct+Ne*ot+He*_t+l[15]),u},s.triggerPluginCompletionEvent=Uv,s.unicodeBlockLookup=on,s.uniqueId=function(){return T++},s.validateCustomStyleLayer=function(u){const l=[],d=u.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),u.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},s.validateLight=X0,s.validateStyle=pu,s.vectorTile=md,s.warnOnce=C,s.wrap=_}),a(["./shared"],function(s){function h(Ge){const ge=typeof Ge;if(ge==="number"||ge==="boolean"||ge==="string"||Ge==null)return JSON.stringify(Ge);if(Array.isArray(Ge)){let Ze="[";for(const it of Ge)Ze+=`${h(it)},`;return`${Ze}]`}const Ie=Object.keys(Ge).sort();let Fe="{";for(let Ze=0;Ze<Ie.length;Ze++)Fe+=`${JSON.stringify(Ie[Ze])}:${h(Ge[Ie[Ze]])},`;return`${Fe}}`}function p(Ge){let ge="";for(const Ie of s.refProperties)ge+=`/${h(Ge[Ie])}`;return ge}class f{constructor(ge){this.keyCache={},ge&&this.replace(ge)}replace(ge){this._layerConfigs={},this._layers={},this.update(ge,[])}update(ge,Ie){for(const Ze of ge){this._layerConfigs[Ze.id]=Ze;const it=this._layers[Ze.id]=s.createStyleLayer(Ze);it._featureFilter=s.createFilter(it.filter),this.keyCache[Ze.id]&&delete this.keyCache[Ze.id]}for(const Ze of Ie)delete this.keyCache[Ze],delete this._layerConfigs[Ze],delete this._layers[Ze];this.familiesBySource={};const Fe=function(Ze,it){const lt={};for(let nt=0;nt<Ze.length;nt++){const ft=it&&it[Ze[nt].id]||p(Ze[nt]);it&&(it[Ze[nt].id]=ft);let Nt=lt[ft];Nt||(Nt=lt[ft]=[]),Nt.push(Ze[nt])}const at=[];for(const nt in lt)at.push(lt[nt]);return at}(Object.values(this._layerConfigs),this.keyCache);for(const Ze of Fe){const it=Ze.map(Ft=>this._layers[Ft.id]),lt=it[0];if(lt.visibility==="none")continue;const at=lt.source||"";let nt=this.familiesBySource[at];nt||(nt=this.familiesBySource[at]={});const ft=lt.sourceLayer||"_geojsonTileLayer";let Nt=nt[ft];Nt||(Nt=nt[ft]=[]),Nt.push(it)}}}class y{constructor(ge){const Ie={},Fe=[];for(const at in ge){const nt=ge[at],ft=Ie[at]={};for(const Nt in nt){const Ft=nt[+Nt];if(!Ft||Ft.bitmap.width===0||Ft.bitmap.height===0)continue;const Rt={x:0,y:0,w:Ft.bitmap.width+2,h:Ft.bitmap.height+2};Fe.push(Rt),ft[Nt]={rect:Rt,metrics:Ft.metrics}}}const{w:Ze,h:it}=s.potpack(Fe),lt=new s.AlphaImage({width:Ze||1,height:it||1});for(const at in ge){const nt=ge[at];for(const ft in nt){const Nt=nt[+ft];if(!Nt||Nt.bitmap.width===0||Nt.bitmap.height===0)continue;const Ft=Ie[at][ft].rect;s.AlphaImage.copy(Nt.bitmap,lt,{x:0,y:0},{x:Ft.x+1,y:Ft.y+1},Nt.bitmap)}}this.image=lt,this.positions=Ie}}s.register("GlyphAtlas",y);class g{constructor(ge){this.tileID=new s.OverscaledTileID(ge.tileID.overscaledZ,ge.tileID.wrap,ge.tileID.canonical.z,ge.tileID.canonical.x,ge.tileID.canonical.y),this.uid=ge.uid,this.zoom=ge.zoom,this.pixelRatio=ge.pixelRatio,this.tileSize=ge.tileSize,this.source=ge.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ge.showCollisionBoxes,this.collectResourceTiming=!!ge.collectResourceTiming,this.returnDependencies=!!ge.returnDependencies,this.promoteId=ge.promoteId}parse(ge,Ie,Fe,Ze,it){this.status="parsing",this.data=ge,this.collisionBoxArray=new s.CollisionBoxArray;const lt=new s.DictionaryCoder(Object.keys(ge.layers).sort()),at=new s.FeatureIndex(this.tileID,this.promoteId);at.bucketLayerIDs=[];const nt={},ft={featureIndex:at,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Fe},Nt=Ie.familiesBySource[this.source];for(const On in Nt){const Hn=ge.layers[On];if(!Hn)continue;Hn.version===1&&s.warnOnce(`Vector tile source "${this.source}" layer "${On}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Yn=lt.encode(On),fi=[];for(let Ji=0;Ji<Hn.length;Ji++){const Pr=Hn.feature(Ji),ma=at.getId(Pr,On);fi.push({feature:Pr,id:ma,index:Ji,sourceLayerIndex:Yn})}for(const Ji of Nt[On]){const Pr=Ji[0];Pr.source!==this.source&&s.warnOnce(`layer.source = ${Pr.source} does not equal this.source = ${this.source}`),Pr.minzoom&&this.zoom<Math.floor(Pr.minzoom)||Pr.maxzoom&&this.zoom>=Pr.maxzoom||Pr.visibility!=="none"&&(_(Ji,this.zoom,Fe),(nt[Pr.id]=Pr.createBucket({index:at.bucketLayerIDs.length,layers:Ji,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Yn,sourceID:this.source})).populate(fi,ft,this.tileID.canonical),at.bucketLayerIDs.push(Ji.map(ma=>ma.id)))}}let Ft,Rt,pn,rn;const xn=s.mapObject(ft.glyphDependencies,On=>Object.keys(On).map(Number));Object.keys(xn).length?Ze.send("getGlyphs",{uid:this.uid,stacks:xn},(On,Hn)=>{Ft||(Ft=On,Rt=Hn,Cn.call(this))}):Rt={};const Sn=Object.keys(ft.iconDependencies);Sn.length?Ze.send("getImages",{icons:Sn,source:this.source,tileID:this.tileID,type:"icons"},(On,Hn)=>{Ft||(Ft=On,pn=Hn,Cn.call(this))}):pn={};const Wn=Object.keys(ft.patternDependencies);function Cn(){if(Ft)return it(Ft);if(Rt&&pn&&rn){const On=new y(Rt),Hn=new s.ImageAtlas(pn,rn);for(const Yn in nt){const fi=nt[Yn];fi instanceof s.SymbolBucket?(_(fi.layers,this.zoom,Fe),s.performSymbolLayout({bucket:fi,glyphMap:Rt,glyphPositions:On.positions,imageMap:pn,imagePositions:Hn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):fi.hasPattern&&(fi instanceof s.LineBucket||fi instanceof s.FillBucket||fi instanceof s.FillExtrusionBucket)&&(_(fi.layers,this.zoom,Fe),fi.addFeatures(ft,this.tileID.canonical,Hn.patternPositions))}this.status="done",it(null,{buckets:Object.values(nt).filter(Yn=>!Yn.isEmpty()),featureIndex:at,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:On.image,imageAtlas:Hn,glyphMap:this.returnDependencies?Rt:null,iconMap:this.returnDependencies?pn:null,glyphPositions:this.returnDependencies?On.positions:null})}}Wn.length?Ze.send("getImages",{icons:Wn,source:this.source,tileID:this.tileID,type:"patterns"},(On,Hn)=>{Ft||(Ft=On,rn=Hn,Cn.call(this))}):rn={},Cn.call(this)}}function _(Ge,ge,Ie){const Fe=new s.EvaluationParameters(ge);for(const Ze of Ge)Ze.recalculate(Fe,Ie)}function b(Ge,ge){const Ie=s.getArrayBuffer(Ge.request,(Fe,Ze,it,lt)=>{Fe?ge(Fe):Ze&&ge(null,{vectorTile:new s.vectorTile.VectorTile(new s.pbf(Ze)),rawData:Ze,cacheControl:it,expires:lt})});return()=>{Ie.cancel(),ge()}}class T{constructor(ge,Ie,Fe,Ze){this.actor=ge,this.layerIndex=Ie,this.availableImages=Fe,this.loadVectorData=Ze||b,this.loading={},this.loaded={}}loadTile(ge,Ie){const Fe=ge.uid;this.loading||(this.loading={});const Ze=!!(ge&&ge.request&&ge.request.collectResourceTiming)&&new s.RequestPerformance(ge.request),it=this.loading[Fe]=new g(ge);it.abort=this.loadVectorData(ge,(lt,at)=>{if(delete this.loading[Fe],lt||!at)return it.status="done",this.loaded[Fe]=it,Ie(lt);const nt=at.rawData,ft={};at.expires&&(ft.expires=at.expires),at.cacheControl&&(ft.cacheControl=at.cacheControl);const Nt={};if(Ze){const Ft=Ze.finish();Ft&&(Nt.resourceTiming=JSON.parse(JSON.stringify(Ft)))}it.vectorTile=at.vectorTile,it.parse(at.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ft,Rt)=>{if(Ft||!Rt)return Ie(Ft);Ie(null,s.extend({rawTileData:nt.slice(0)},Rt,ft,Nt))}),this.loaded=this.loaded||{},this.loaded[Fe]=it})}reloadTile(ge,Ie){const Fe=this.loaded,Ze=ge.uid,it=this;if(Fe&&Fe[Ze]){const lt=Fe[Ze];lt.showCollisionBoxes=ge.showCollisionBoxes;const at=(nt,ft)=>{const Nt=lt.reloadCallback;Nt&&(delete lt.reloadCallback,lt.parse(lt.vectorTile,it.layerIndex,this.availableImages,it.actor,Nt)),Ie(nt,ft)};lt.status==="parsing"?lt.reloadCallback=at:lt.status==="done"&&(lt.vectorTile?lt.parse(lt.vectorTile,this.layerIndex,this.availableImages,this.actor,at):at())}}abortTile(ge,Ie){const Fe=this.loading,Ze=ge.uid;Fe&&Fe[Ze]&&Fe[Ze].abort&&(Fe[Ze].abort(),delete Fe[Ze]),Ie()}removeTile(ge,Ie){const Fe=this.loaded,Ze=ge.uid;Fe&&Fe[Ze]&&delete Fe[Ze],Ie()}}class E{constructor(){this.loaded={}}loadTile(ge,Ie){const{uid:Fe,encoding:Ze,rawImageData:it}=ge,lt=s.isImageBitmap(it)?this.getImageData(it):it,at=new s.DEMData(Fe,lt,Ze);this.loaded=this.loaded||{},this.loaded[Fe]=at,Ie(null,at)}getImageData(ge){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(ge.width,ge.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ge.width,this.offscreenCanvas.height=ge.height,this.offscreenCanvasContext.drawImage(ge,0,0,ge.width,ge.height);const Ie=this.offscreenCanvasContext.getImageData(-1,-1,ge.width+2,ge.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new s.RGBAImage({width:Ie.width,height:Ie.height},Ie.data)}removeTile(ge){const Ie=this.loaded,Fe=ge.uid;Ie&&Ie[Fe]&&delete Ie[Fe]}}var k=function Ge(ge,Ie){var Fe,Ze=ge&&ge.type;if(Ze==="FeatureCollection")for(Fe=0;Fe<ge.features.length;Fe++)Ge(ge.features[Fe],Ie);else if(Ze==="GeometryCollection")for(Fe=0;Fe<ge.geometries.length;Fe++)Ge(ge.geometries[Fe],Ie);else if(Ze==="Feature")Ge(ge.geometry,Ie);else if(Ze==="Polygon")v(ge.coordinates,Ie);else if(Ze==="MultiPolygon")for(Fe=0;Fe<ge.coordinates.length;Fe++)v(ge.coordinates[Fe],Ie);return ge};function v(Ge,ge){if(Ge.length!==0){w(Ge[0],ge);for(var Ie=1;Ie<Ge.length;Ie++)w(Ge[Ie],!1)}}function w(Ge,ge){for(var Ie=0,Fe=0,Ze=0,it=Ge.length,lt=it-1;Ze<it;lt=Ze++){var at=(Ge[Ze][0]-Ge[lt][0])*(Ge[lt][1]+Ge[Ze][1]),nt=Ie+at;Fe+=Math.abs(Ie)>=Math.abs(at)?Ie-nt+at:at-nt+Ie,Ie=nt}Ie+Fe>=0!=!!ge&&Ge.reverse()}const N=s.vectorTile.VectorTileFeature.prototype.toGeoJSON;class C{constructor(ge){this._feature=ge,this.extent=s.EXTENT,this.type=ge.type,this.properties=ge.tags,"id"in ge&&!isNaN(ge.id)&&(this.id=parseInt(ge.id,10))}loadGeometry(){if(this._feature.type===1){const ge=[];for(const Ie of this._feature.geometry)ge.push([new s.pointGeometry(Ie[0],Ie[1])]);return ge}{const ge=[];for(const Ie of this._feature.geometry){const Fe=[];for(const Ze of Ie)Fe.push(new s.pointGeometry(Ze[0],Ze[1]));ge.push(Fe)}return ge}}toGeoJSON(ge,Ie,Fe){return N.call(this,ge,Ie,Fe)}}class L{constructor(ge){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=ge.length,this._features=ge}feature(ge){return new C(this._features[ge])}}var O={exports:{}},W=s.pointGeometry,X=s.vectorTile.VectorTileFeature,H=$;function $(Ge,ge){this.options=ge||{},this.features=Ge,this.length=Ge.length}function G(Ge,ge){this.id=typeof Ge.id=="number"?Ge.id:void 0,this.type=Ge.type,this.rawGeometry=Ge.type===1?[Ge.geometry]:Ge.geometry,this.properties=Ge.tags,this.extent=ge||4096}$.prototype.feature=function(Ge){return new G(this.features[Ge],this.options.extent)},G.prototype.loadGeometry=function(){var Ge=this.rawGeometry;this.geometry=[];for(var ge=0;ge<Ge.length;ge++){for(var Ie=Ge[ge],Fe=[],Ze=0;Ze<Ie.length;Ze++)Fe.push(new W(Ie[Ze][0],Ie[Ze][1]));this.geometry.push(Fe)}return this.geometry},G.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ge=this.geometry,ge=1/0,Ie=-1/0,Fe=1/0,Ze=-1/0,it=0;it<Ge.length;it++)for(var lt=Ge[it],at=0;at<lt.length;at++){var nt=lt[at];ge=Math.min(ge,nt.x),Ie=Math.max(Ie,nt.x),Fe=Math.min(Fe,nt.y),Ze=Math.max(Ze,nt.y)}return[ge,Fe,Ie,Ze]},G.prototype.toGeoJSON=X.prototype.toGeoJSON;var j=s.pbf,D=H;function M(Ge){var ge=new j;return function(Ie,Fe){for(var Ze in Ie.layers)Fe.writeMessage(3,Y,Ie.layers[Ze])}(Ge,ge),ge.finish()}function Y(Ge,ge){var Ie;ge.writeVarintField(15,Ge.version||1),ge.writeStringField(1,Ge.name||""),ge.writeVarintField(5,Ge.extent||4096);var Fe={keys:[],values:[],keycache:{},valuecache:{}};for(Ie=0;Ie<Ge.length;Ie++)Fe.feature=Ge.feature(Ie),ge.writeMessage(2,B,Fe);var Ze=Fe.keys;for(Ie=0;Ie<Ze.length;Ie++)ge.writeStringField(3,Ze[Ie]);var it=Fe.values;for(Ie=0;Ie<it.length;Ie++)ge.writeMessage(4,ce,it[Ie])}function B(Ge,ge){var Ie=Ge.feature;Ie.id!==void 0&&ge.writeVarintField(1,Ie.id),ge.writeMessage(2,z,Ge),ge.writeVarintField(3,Ie.type),ge.writeMessage(4,te,Ie)}function z(Ge,ge){var Ie=Ge.feature,Fe=Ge.keys,Ze=Ge.values,it=Ge.keycache,lt=Ge.valuecache;for(var at in Ie.properties){var nt=Ie.properties[at],ft=it[at];if(nt!==null){ft===void 0&&(Fe.push(at),it[at]=ft=Fe.length-1),ge.writeVarint(ft);var Nt=typeof nt;Nt!=="string"&&Nt!=="boolean"&&Nt!=="number"&&(nt=JSON.stringify(nt));var Ft=Nt+":"+nt,Rt=lt[Ft];Rt===void 0&&(Ze.push(nt),lt[Ft]=Rt=Ze.length-1),ge.writeVarint(Rt)}}}function q(Ge,ge){return(ge<<3)+(7&Ge)}function V(Ge){return Ge<<1^Ge>>31}function te(Ge,ge){for(var Ie=Ge.loadGeometry(),Fe=Ge.type,Ze=0,it=0,lt=Ie.length,at=0;at<lt;at++){var nt=Ie[at],ft=1;Fe===1&&(ft=nt.length),ge.writeVarint(q(1,ft));for(var Nt=Fe===3?nt.length-1:nt.length,Ft=0;Ft<Nt;Ft++){Ft===1&&Fe!==1&&ge.writeVarint(q(2,Nt-1));var Rt=nt[Ft].x-Ze,pn=nt[Ft].y-it;ge.writeVarint(V(Rt)),ge.writeVarint(V(pn)),Ze+=Rt,it+=pn}Fe===3&&ge.writeVarint(q(7,1))}}function ce(Ge,ge){var Ie=typeof Ge;Ie==="string"?ge.writeStringField(1,Ge):Ie==="boolean"?ge.writeBooleanField(7,Ge):Ie==="number"&&(Ge%1!=0?ge.writeDoubleField(3,Ge):Ge<0?ge.writeSVarintField(6,Ge):ge.writeVarintField(5,Ge))}function ie(Ge,ge,Ie,Fe,Ze,it){if(Ze-Fe<=Ie)return;const lt=Fe+Ze>>1;se(Ge,ge,lt,Fe,Ze,it%2),ie(Ge,ge,Ie,Fe,lt-1,it+1),ie(Ge,ge,Ie,lt+1,Ze,it+1)}function se(Ge,ge,Ie,Fe,Ze,it){for(;Ze>Fe;){if(Ze-Fe>600){const ft=Ze-Fe+1,Nt=Ie-Fe+1,Ft=Math.log(ft),Rt=.5*Math.exp(2*Ft/3),pn=.5*Math.sqrt(Ft*Rt*(ft-Rt)/ft)*(Nt-ft/2<0?-1:1);se(Ge,ge,Ie,Math.max(Fe,Math.floor(Ie-Nt*Rt/ft+pn)),Math.min(Ze,Math.floor(Ie+(ft-Nt)*Rt/ft+pn)),it)}const lt=ge[2*Ie+it];let at=Fe,nt=Ze;for(Ce(Ge,ge,Fe,Ie),ge[2*Ze+it]>lt&&Ce(Ge,ge,Fe,Ze);at<nt;){for(Ce(Ge,ge,at,nt),at++,nt--;ge[2*at+it]<lt;)at++;for(;ge[2*nt+it]>lt;)nt--}ge[2*Fe+it]===lt?Ce(Ge,ge,Fe,nt):(nt++,Ce(Ge,ge,nt,Ze)),nt<=Ie&&(Fe=nt+1),Ie<=nt&&(Ze=nt-1)}}function Ce(Ge,ge,Ie,Fe){pe(Ge,Ie,Fe),pe(ge,2*Ie,2*Fe),pe(ge,2*Ie+1,2*Fe+1)}function pe(Ge,ge,Ie){const Fe=Ge[ge];Ge[ge]=Ge[Ie],Ge[Ie]=Fe}function we(Ge,ge,Ie,Fe){const Ze=Ge-Ie,it=ge-Fe;return Ze*Ze+it*it}O.exports=M,O.exports.fromVectorTileJs=M,O.exports.fromGeojsonVt=function(Ge,ge){ge=ge||{};var Ie={};for(var Fe in Ge)Ie[Fe]=new D(Ge[Fe].features,ge),Ie[Fe].name=Fe,Ie[Fe].version=ge.version,Ie[Fe].extent=ge.extent;return M({layers:Ie})},O.exports.GeoJSONWrapper=D;const K=Ge=>Ge[0],J=Ge=>Ge[1];class ae{constructor(ge,Ie=K,Fe=J,Ze=64,it=Float64Array){this.nodeSize=Ze,this.points=ge;const lt=ge.length<65536?Uint16Array:Uint32Array,at=this.ids=new lt(ge.length),nt=this.coords=new it(2*ge.length);for(let ft=0;ft<ge.length;ft++)at[ft]=ft,nt[2*ft]=Ie(ge[ft]),nt[2*ft+1]=Fe(ge[ft]);ie(at,nt,Ze,0,at.length-1,0)}range(ge,Ie,Fe,Ze){return function(it,lt,at,nt,ft,Nt,Ft){const Rt=[0,it.length-1,0],pn=[];let rn,xn;for(;Rt.length;){const Sn=Rt.pop(),Wn=Rt.pop(),Cn=Rt.pop();if(Wn-Cn<=Ft){for(let Yn=Cn;Yn<=Wn;Yn++)rn=lt[2*Yn],xn=lt[2*Yn+1],rn>=at&&rn<=ft&&xn>=nt&&xn<=Nt&&pn.push(it[Yn]);continue}const On=Math.floor((Cn+Wn)/2);rn=lt[2*On],xn=lt[2*On+1],rn>=at&&rn<=ft&&xn>=nt&&xn<=Nt&&pn.push(it[On]);const Hn=(Sn+1)%2;(Sn===0?at<=rn:nt<=xn)&&(Rt.push(Cn),Rt.push(On-1),Rt.push(Hn)),(Sn===0?ft>=rn:Nt>=xn)&&(Rt.push(On+1),Rt.push(Wn),Rt.push(Hn))}return pn}(this.ids,this.coords,ge,Ie,Fe,Ze,this.nodeSize)}within(ge,Ie,Fe){return function(Ze,it,lt,at,nt,ft){const Nt=[0,Ze.length-1,0],Ft=[],Rt=nt*nt;for(;Nt.length;){const pn=Nt.pop(),rn=Nt.pop(),xn=Nt.pop();if(rn-xn<=ft){for(let Hn=xn;Hn<=rn;Hn++)we(it[2*Hn],it[2*Hn+1],lt,at)<=Rt&&Ft.push(Ze[Hn]);continue}const Sn=Math.floor((xn+rn)/2),Wn=it[2*Sn],Cn=it[2*Sn+1];we(Wn,Cn,lt,at)<=Rt&&Ft.push(Ze[Sn]);const On=(pn+1)%2;(pn===0?lt-nt<=Wn:at-nt<=Cn)&&(Nt.push(xn),Nt.push(Sn-1),Nt.push(On)),(pn===0?lt+nt>=Wn:at+nt>=Cn)&&(Nt.push(Sn+1),Nt.push(rn),Nt.push(On))}return Ft}(this.ids,this.coords,ge,Ie,Fe,this.nodeSize)}}const ve={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ge=>Ge},Q=Math.fround||(re=new Float32Array(1),Ge=>(re[0]=+Ge,re[0]));var re;class le{constructor(ge){this.options=Xe(Object.create(ve),ge),this.trees=new Array(this.options.maxZoom+1)}load(ge){const{log:Ie,minZoom:Fe,maxZoom:Ze,nodeSize:it}=this.options;Ie&&console.time("total time");const lt=`prepare ${ge.length} points`;Ie&&console.time(lt),this.points=ge;let at=[];for(let nt=0;nt<ge.length;nt++)ge[nt].geometry&&at.push(xe(ge[nt],nt));this.trees[Ze+1]=new ae(at,Pe,_e,it,Float32Array),Ie&&console.timeEnd(lt);for(let nt=Ze;nt>=Fe;nt--){const ft=+Date.now();at=this._cluster(at,nt),this.trees[nt]=new ae(at,Pe,_e,it,Float32Array),Ie&&console.log("z%d: %d clusters in %dms",nt,at.length,+Date.now()-ft)}return Ie&&console.timeEnd("total time"),this}getClusters(ge,Ie){let Fe=((ge[0]+180)%360+360)%360-180;const Ze=Math.max(-90,Math.min(90,ge[1]));let it=ge[2]===180?180:((ge[2]+180)%360+360)%360-180;const lt=Math.max(-90,Math.min(90,ge[3]));if(ge[2]-ge[0]>=360)Fe=-180,it=180;else if(Fe>it){const Nt=this.getClusters([Fe,Ze,180,lt],Ie),Ft=this.getClusters([-180,Ze,it,lt],Ie);return Nt.concat(Ft)}const at=this.trees[this._limitZoom(Ie)],nt=at.range(ke(Fe),Oe(lt),ke(it),Oe(Ze)),ft=[];for(const Nt of nt){const Ft=at.points[Nt];ft.push(Ft.numPoints?Le(Ft):this.points[Ft.index])}return ft}getChildren(ge){const Ie=this._getOriginId(ge),Fe=this._getOriginZoom(ge),Ze="No cluster with the specified id.",it=this.trees[Fe];if(!it)throw new Error(Ze);const lt=it.points[Ie];if(!lt)throw new Error(Ze);const at=this.options.radius/(this.options.extent*Math.pow(2,Fe-1)),nt=it.within(lt.x,lt.y,at),ft=[];for(const Nt of nt){const Ft=it.points[Nt];Ft.parentId===ge&&ft.push(Ft.numPoints?Le(Ft):this.points[Ft.index])}if(ft.length===0)throw new Error(Ze);return ft}getLeaves(ge,Ie,Fe){const Ze=[];return this._appendLeaves(Ze,ge,Ie=Ie||10,Fe=Fe||0,0),Ze}getTile(ge,Ie,Fe){const Ze=this.trees[this._limitZoom(ge)],it=Math.pow(2,ge),{extent:lt,radius:at}=this.options,nt=at/lt,ft=(Fe-nt)/it,Nt=(Fe+1+nt)/it,Ft={features:[]};return this._addTileFeatures(Ze.range((Ie-nt)/it,ft,(Ie+1+nt)/it,Nt),Ze.points,Ie,Fe,it,Ft),Ie===0&&this._addTileFeatures(Ze.range(1-nt/it,ft,1,Nt),Ze.points,it,Fe,it,Ft),Ie===it-1&&this._addTileFeatures(Ze.range(0,ft,nt/it,Nt),Ze.points,-1,Fe,it,Ft),Ft.features.length?Ft:null}getClusterExpansionZoom(ge){let Ie=this._getOriginZoom(ge)-1;for(;Ie<=this.options.maxZoom;){const Fe=this.getChildren(ge);if(Ie++,Fe.length!==1)break;ge=Fe[0].properties.cluster_id}return Ie}_appendLeaves(ge,Ie,Fe,Ze,it){const lt=this.getChildren(Ie);for(const at of lt){const nt=at.properties;if(nt&&nt.cluster?it+nt.point_count<=Ze?it+=nt.point_count:it=this._appendLeaves(ge,nt.cluster_id,Fe,Ze,it):it<Ze?it++:ge.push(at),ge.length===Fe)break}return it}_addTileFeatures(ge,Ie,Fe,Ze,it,lt){for(const at of ge){const nt=Ie[at],ft=nt.numPoints;let Nt,Ft,Rt;if(ft)Nt=be(nt),Ft=nt.x,Rt=nt.y;else{const xn=this.points[nt.index];Nt=xn.properties,Ft=ke(xn.geometry.coordinates[0]),Rt=Oe(xn.geometry.coordinates[1])}const pn={type:1,geometry:[[Math.round(this.options.extent*(Ft*it-Fe)),Math.round(this.options.extent*(Rt*it-Ze))]],tags:Nt};let rn;ft?rn=nt.id:this.options.generateId?rn=nt.index:this.points[nt.index].id&&(rn=this.points[nt.index].id),rn!==void 0&&(pn.id=rn),lt.features.push(pn)}}_limitZoom(ge){return Math.max(this.options.minZoom,Math.min(Math.floor(+ge),this.options.maxZoom+1))}_cluster(ge,Ie){const Fe=[],{radius:Ze,extent:it,reduce:lt,minPoints:at}=this.options,nt=Ze/(it*Math.pow(2,Ie));for(let ft=0;ft<ge.length;ft++){const Nt=ge[ft];if(Nt.zoom<=Ie)continue;Nt.zoom=Ie;const Ft=this.trees[Ie+1],Rt=Ft.within(Nt.x,Nt.y,nt),pn=Nt.numPoints||1;let rn=pn;for(const xn of Rt){const Sn=Ft.points[xn];Sn.zoom>Ie&&(rn+=Sn.numPoints||1)}if(rn>pn&&rn>=at){let xn=Nt.x*pn,Sn=Nt.y*pn,Wn=lt&&pn>1?this._map(Nt,!0):null;const Cn=(ft<<5)+(Ie+1)+this.points.length;for(const On of Rt){const Hn=Ft.points[On];if(Hn.zoom<=Ie)continue;Hn.zoom=Ie;const Yn=Hn.numPoints||1;xn+=Hn.x*Yn,Sn+=Hn.y*Yn,Hn.parentId=Cn,lt&&(Wn||(Wn=this._map(Nt,!0)),lt(Wn,this._map(Hn)))}Nt.parentId=Cn,Fe.push(fe(xn/rn,Sn/rn,Cn,rn,Wn))}else if(Fe.push(Nt),rn>1)for(const xn of Rt){const Sn=Ft.points[xn];Sn.zoom<=Ie||(Sn.zoom=Ie,Fe.push(Sn))}}return Fe}_getOriginId(ge){return ge-this.points.length>>5}_getOriginZoom(ge){return(ge-this.points.length)%32}_map(ge,Ie){if(ge.numPoints)return Ie?Xe({},ge.properties):ge.properties;const Fe=this.points[ge.index].properties,Ze=this.options.map(Fe);return Ie&&Ze===Fe?Xe({},Ze):Ze}}function fe(Ge,ge,Ie,Fe,Ze){return{x:Q(Ge),y:Q(ge),zoom:1/0,id:Ie,parentId:-1,numPoints:Fe,properties:Ze}}function xe(Ge,ge){const[Ie,Fe]=Ge.geometry.coordinates;return{x:Q(ke(Ie)),y:Q(Oe(Fe)),zoom:1/0,index:ge,parentId:-1}}function Le(Ge){return{type:"Feature",id:Ge.id,properties:be(Ge),geometry:{type:"Point",coordinates:[(ge=Ge.x,360*(ge-.5)),Ue(Ge.y)]}};var ge}function be(Ge){const ge=Ge.numPoints,Ie=ge>=1e4?`${Math.round(ge/1e3)}k`:ge>=1e3?Math.round(ge/100)/10+"k":ge;return Xe(Xe({},Ge.properties),{cluster:!0,cluster_id:Ge.id,point_count:ge,point_count_abbreviated:Ie})}function ke(Ge){return Ge/360+.5}function Oe(Ge){const ge=Math.sin(Ge*Math.PI/180),Ie=.5-.25*Math.log((1+ge)/(1-ge))/Math.PI;return Ie<0?0:Ie>1?1:Ie}function Ue(Ge){const ge=(180-360*Ge)*Math.PI/180;return 360*Math.atan(Math.exp(ge))/Math.PI-90}function Xe(Ge,ge){for(const Ie in ge)Ge[Ie]=ge[Ie];return Ge}function Pe(Ge){return Ge.x}function _e(Ge){return Ge.y}function Ee(Ge,ge,Ie,Fe){for(var Ze,it=Fe,lt=Ie-ge>>1,at=Ie-ge,nt=Ge[ge],ft=Ge[ge+1],Nt=Ge[Ie],Ft=Ge[Ie+1],Rt=ge+3;Rt<Ie;Rt+=3){var pn=Re(Ge[Rt],Ge[Rt+1],nt,ft,Nt,Ft);if(pn>it)Ze=Rt,it=pn;else if(pn===it){var rn=Math.abs(Rt-lt);rn<at&&(Ze=Rt,at=rn)}}it>Fe&&(Ze-ge>3&&Ee(Ge,ge,Ze,Fe),Ge[Ze+2]=it,Ie-Ze>3&&Ee(Ge,Ze,Ie,Fe))}function Re(Ge,ge,Ie,Fe,Ze,it){var lt=Ze-Ie,at=it-Fe;if(lt!==0||at!==0){var nt=((Ge-Ie)*lt+(ge-Fe)*at)/(lt*lt+at*at);nt>1?(Ie=Ze,Fe=it):nt>0&&(Ie+=lt*nt,Fe+=at*nt)}return(lt=Ge-Ie)*lt+(at=ge-Fe)*at}function Me(Ge,ge,Ie,Fe){var Ze={id:Ge===void 0?null:Ge,type:ge,geometry:Ie,tags:Fe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(it){var lt=it.geometry,at=it.type;if(at==="Point"||at==="MultiPoint"||at==="LineString")ze(it,lt);else if(at==="Polygon"||at==="MultiLineString")for(var nt=0;nt<lt.length;nt++)ze(it,lt[nt]);else if(at==="MultiPolygon")for(nt=0;nt<lt.length;nt++)for(var ft=0;ft<lt[nt].length;ft++)ze(it,lt[nt][ft])}(Ze),Ze}function ze(Ge,ge){for(var Ie=0;Ie<ge.length;Ie+=3)Ge.minX=Math.min(Ge.minX,ge[Ie]),Ge.minY=Math.min(Ge.minY,ge[Ie+1]),Ge.maxX=Math.max(Ge.maxX,ge[Ie]),Ge.maxY=Math.max(Ge.maxY,ge[Ie+1])}function Ke(Ge,ge,Ie,Fe){if(ge.geometry){var Ze=ge.geometry.coordinates,it=ge.geometry.type,lt=Math.pow(Ie.tolerance/((1<<Ie.maxZoom)*Ie.extent),2),at=[],nt=ge.id;if(Ie.promoteId?nt=ge.properties[Ie.promoteId]:Ie.generateId&&(nt=Fe||0),it==="Point")tt(Ze,at);else if(it==="MultiPoint")for(var ft=0;ft<Ze.length;ft++)tt(Ze[ft],at);else if(it==="LineString")st(Ze,at,lt,!1);else if(it==="MultiLineString"){if(Ie.lineMetrics){for(ft=0;ft<Ze.length;ft++)st(Ze[ft],at=[],lt,!1),Ge.push(Me(nt,"LineString",at,ge.properties));return}ht(Ze,at,lt,!1)}else if(it==="Polygon")ht(Ze,at,lt,!0);else{if(it!=="MultiPolygon"){if(it==="GeometryCollection"){for(ft=0;ft<ge.geometry.geometries.length;ft++)Ke(Ge,{id:nt,geometry:ge.geometry.geometries[ft],properties:ge.properties},Ie,Fe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ft=0;ft<Ze.length;ft++){var Nt=[];ht(Ze[ft],Nt,lt,!0),at.push(Nt)}}Ge.push(Me(nt,it,at,ge.properties))}}function tt(Ge,ge){ge.push(gt(Ge[0])),ge.push(Tt(Ge[1])),ge.push(0)}function st(Ge,ge,Ie,Fe){for(var Ze,it,lt=0,at=0;at<Ge.length;at++){var nt=gt(Ge[at][0]),ft=Tt(Ge[at][1]);ge.push(nt),ge.push(ft),ge.push(0),at>0&&(lt+=Fe?(Ze*ft-nt*it)/2:Math.sqrt(Math.pow(nt-Ze,2)+Math.pow(ft-it,2))),Ze=nt,it=ft}var Nt=ge.length-3;ge[2]=1,Ee(ge,0,Nt,Ie),ge[Nt+2]=1,ge.size=Math.abs(lt),ge.start=0,ge.end=ge.size}function ht(Ge,ge,Ie,Fe){for(var Ze=0;Ze<Ge.length;Ze++){var it=[];st(Ge[Ze],it,Ie,Fe),ge.push(it)}}function gt(Ge){return Ge/360+.5}function Tt(Ge){var ge=Math.sin(Ge*Math.PI/180),Ie=.5-.25*Math.log((1+ge)/(1-ge))/Math.PI;return Ie<0?0:Ie>1?1:Ie}function $t(Ge,ge,Ie,Fe,Ze,it,lt,at){if(Fe/=ge,it>=(Ie/=ge)&&lt<Fe)return Ge;if(lt<Ie||it>=Fe)return null;for(var nt=[],ft=0;ft<Ge.length;ft++){var Nt=Ge[ft],Ft=Nt.geometry,Rt=Nt.type,pn=Ze===0?Nt.minX:Nt.minY,rn=Ze===0?Nt.maxX:Nt.maxY;if(pn>=Ie&&rn<Fe)nt.push(Nt);else if(!(rn<Ie||pn>=Fe)){var xn=[];if(Rt==="Point"||Rt==="MultiPoint")mt(Ft,xn,Ie,Fe,Ze);else if(Rt==="LineString")Ct(Ft,xn,Ie,Fe,Ze,!1,at.lineMetrics);else if(Rt==="MultiLineString")sn(Ft,xn,Ie,Fe,Ze,!1);else if(Rt==="Polygon")sn(Ft,xn,Ie,Fe,Ze,!0);else if(Rt==="MultiPolygon")for(var Sn=0;Sn<Ft.length;Sn++){var Wn=[];sn(Ft[Sn],Wn,Ie,Fe,Ze,!0),Wn.length&&xn.push(Wn)}if(xn.length){if(at.lineMetrics&&Rt==="LineString"){for(Sn=0;Sn<xn.length;Sn++)nt.push(Me(Nt.id,Rt,xn[Sn],Nt.tags));continue}Rt!=="LineString"&&Rt!=="MultiLineString"||(xn.length===1?(Rt="LineString",xn=xn[0]):Rt="MultiLineString"),Rt!=="Point"&&Rt!=="MultiPoint"||(Rt=xn.length===3?"Point":"MultiPoint"),nt.push(Me(Nt.id,Rt,xn,Nt.tags))}}}return nt.length?nt:null}function mt(Ge,ge,Ie,Fe,Ze){for(var it=0;it<Ge.length;it+=3){var lt=Ge[it+Ze];lt>=Ie&&lt<=Fe&&(ge.push(Ge[it]),ge.push(Ge[it+1]),ge.push(Ge[it+2]))}}function Ct(Ge,ge,Ie,Fe,Ze,it,lt){for(var at,nt,ft=St(Ge),Nt=Ze===0?Zt:di,Ft=Ge.start,Rt=0;Rt<Ge.length-3;Rt+=3){var pn=Ge[Rt],rn=Ge[Rt+1],xn=Ge[Rt+2],Sn=Ge[Rt+3],Wn=Ge[Rt+4],Cn=Ze===0?pn:rn,On=Ze===0?Sn:Wn,Hn=!1;lt&&(at=Math.sqrt(Math.pow(pn-Sn,2)+Math.pow(rn-Wn,2))),Cn<Ie?On>Ie&&(nt=Nt(ft,pn,rn,Sn,Wn,Ie),lt&&(ft.start=Ft+at*nt)):Cn>Fe?On<Fe&&(nt=Nt(ft,pn,rn,Sn,Wn,Fe),lt&&(ft.start=Ft+at*nt)):yn(ft,pn,rn,xn),On<Ie&&Cn>=Ie&&(nt=Nt(ft,pn,rn,Sn,Wn,Ie),Hn=!0),On>Fe&&Cn<=Fe&&(nt=Nt(ft,pn,rn,Sn,Wn,Fe),Hn=!0),!it&&Hn&&(lt&&(ft.end=Ft+at*nt),ge.push(ft),ft=St(Ge)),lt&&(Ft+=at)}var Yn=Ge.length-3;pn=Ge[Yn],rn=Ge[Yn+1],xn=Ge[Yn+2],(Cn=Ze===0?pn:rn)>=Ie&&Cn<=Fe&&yn(ft,pn,rn,xn),Yn=ft.length-3,it&&Yn>=3&&(ft[Yn]!==ft[0]||ft[Yn+1]!==ft[1])&&yn(ft,ft[0],ft[1],ft[2]),ft.length&&ge.push(ft)}function St(Ge){var ge=[];return ge.size=Ge.size,ge.start=Ge.start,ge.end=Ge.end,ge}function sn(Ge,ge,Ie,Fe,Ze,it){for(var lt=0;lt<Ge.length;lt++)Ct(Ge[lt],ge,Ie,Fe,Ze,it,!1)}function yn(Ge,ge,Ie,Fe){Ge.push(ge),Ge.push(Ie),Ge.push(Fe)}function Zt(Ge,ge,Ie,Fe,Ze,it){var lt=(it-ge)/(Fe-ge);return Ge.push(it),Ge.push(Ie+(Ze-Ie)*lt),Ge.push(1),lt}function di(Ge,ge,Ie,Fe,Ze,it){var lt=(it-Ie)/(Ze-Ie);return Ge.push(ge+(Fe-ge)*lt),Ge.push(it),Ge.push(1),lt}function ni(Ge,ge){for(var Ie=[],Fe=0;Fe<Ge.length;Fe++){var Ze,it=Ge[Fe],lt=it.type;if(lt==="Point"||lt==="MultiPoint"||lt==="LineString")Ze=_i(it.geometry,ge);else if(lt==="MultiLineString"||lt==="Polygon"){Ze=[];for(var at=0;at<it.geometry.length;at++)Ze.push(_i(it.geometry[at],ge))}else if(lt==="MultiPolygon")for(Ze=[],at=0;at<it.geometry.length;at++){for(var nt=[],ft=0;ft<it.geometry[at].length;ft++)nt.push(_i(it.geometry[at][ft],ge));Ze.push(nt)}Ie.push(Me(it.id,lt,Ze,it.tags))}return Ie}function _i(Ge,ge){var Ie=[];Ie.size=Ge.size,Ge.start!==void 0&&(Ie.start=Ge.start,Ie.end=Ge.end);for(var Fe=0;Fe<Ge.length;Fe+=3)Ie.push(Ge[Fe]+ge,Ge[Fe+1],Ge[Fe+2]);return Ie}function Vi(Ge,ge){if(Ge.transformed)return Ge;var Ie,Fe,Ze,it=1<<Ge.z,lt=Ge.x,at=Ge.y;for(Ie=0;Ie<Ge.features.length;Ie++){var nt=Ge.features[Ie],ft=nt.geometry,Nt=nt.type;if(nt.geometry=[],Nt===1)for(Fe=0;Fe<ft.length;Fe+=2)nt.geometry.push(oi(ft[Fe],ft[Fe+1],ge,it,lt,at));else for(Fe=0;Fe<ft.length;Fe++){var Ft=[];for(Ze=0;Ze<ft[Fe].length;Ze+=2)Ft.push(oi(ft[Fe][Ze],ft[Fe][Ze+1],ge,it,lt,at));nt.geometry.push(Ft)}}return Ge.transformed=!0,Ge}function oi(Ge,ge,Ie,Fe,Ze,it){return[Math.round(Ie*(Ge*Fe-Ze)),Math.round(Ie*(ge*Fe-it))]}function ut(Ge,ge,Ie,Fe,Ze){for(var it=ge===Ze.maxZoom?0:Ze.tolerance/((1<<ge)*Ze.extent),lt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ie,y:Fe,z:ge,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},at=0;at<Ge.length;at++){lt.numFeatures++,xt(lt,Ge[at],it,Ze);var nt=Ge[at].minX,ft=Ge[at].minY,Nt=Ge[at].maxX,Ft=Ge[at].maxY;nt<lt.minX&&(lt.minX=nt),ft<lt.minY&&(lt.minY=ft),Nt>lt.maxX&&(lt.maxX=Nt),Ft>lt.maxY&&(lt.maxY=Ft)}return lt}function xt(Ge,ge,Ie,Fe){var Ze=ge.geometry,it=ge.type,lt=[];if(it==="Point"||it==="MultiPoint")for(var at=0;at<Ze.length;at+=3)lt.push(Ze[at]),lt.push(Ze[at+1]),Ge.numPoints++,Ge.numSimplified++;else if(it==="LineString")Mt(lt,Ze,Ge,Ie,!1,!1);else if(it==="MultiLineString"||it==="Polygon")for(at=0;at<Ze.length;at++)Mt(lt,Ze[at],Ge,Ie,it==="Polygon",at===0);else if(it==="MultiPolygon")for(var nt=0;nt<Ze.length;nt++){var ft=Ze[nt];for(at=0;at<ft.length;at++)Mt(lt,ft[at],Ge,Ie,!0,at===0)}if(lt.length){var Nt=ge.tags||null;if(it==="LineString"&&Fe.lineMetrics){for(var Ft in Nt={},ge.tags)Nt[Ft]=ge.tags[Ft];Nt.mapbox_clip_start=Ze.start/Ze.size,Nt.mapbox_clip_end=Ze.end/Ze.size}var Rt={geometry:lt,type:it==="Polygon"||it==="MultiPolygon"?3:it==="LineString"||it==="MultiLineString"?2:1,tags:Nt};ge.id!==null&&(Rt.id=ge.id),Ge.features.push(Rt)}}function Mt(Ge,ge,Ie,Fe,Ze,it){var lt=Fe*Fe;if(Fe>0&&ge.size<(Ze?lt:Fe))Ie.numPoints+=ge.length/3;else{for(var at=[],nt=0;nt<ge.length;nt+=3)(Fe===0||ge[nt+2]>lt)&&(Ie.numSimplified++,at.push(ge[nt]),at.push(ge[nt+1])),Ie.numPoints++;Ze&&function(ft,Nt){for(var Ft=0,Rt=0,pn=ft.length,rn=pn-2;Rt<pn;rn=Rt,Rt+=2)Ft+=(ft[Rt]-ft[rn])*(ft[Rt+1]+ft[rn+1]);if(Ft>0===Nt)for(Rt=0,pn=ft.length;Rt<pn/2;Rt+=2){var xn=ft[Rt],Sn=ft[Rt+1];ft[Rt]=ft[pn-2-Rt],ft[Rt+1]=ft[pn-1-Rt],ft[pn-2-Rt]=xn,ft[pn-1-Rt]=Sn}}(at,it),Ge.push(at)}}function Gt(Ge,ge){var Ie=(ge=this.options=function(Ze,it){for(var lt in it)Ze[lt]=it[lt];return Ze}(Object.create(this.options),ge)).debug;if(Ie&&console.time("preprocess data"),ge.maxZoom<0||ge.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ge.promoteId&&ge.generateId)throw new Error("promoteId and generateId cannot be used together.");var Fe=function(Ze,it){var lt=[];if(Ze.type==="FeatureCollection")for(var at=0;at<Ze.features.length;at++)Ke(lt,Ze.features[at],it,at);else Ke(lt,Ze.type==="Feature"?Ze:{geometry:Ze},it);return lt}(Ge,ge);this.tiles={},this.tileCoords=[],Ie&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ge.indexMaxZoom,ge.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Fe=function(Ze,it){var lt=it.buffer/it.extent,at=Ze,nt=$t(Ze,1,-1-lt,lt,0,-1,2,it),ft=$t(Ze,1,1-lt,2+lt,0,-1,2,it);return(nt||ft)&&(at=$t(Ze,1,-lt,1+lt,0,-1,2,it)||[],nt&&(at=ni(nt,1).concat(at)),ft&&(at=at.concat(ni(ft,-1)))),at}(Fe,ge),Fe.length&&this.splitTile(Fe,0,0,0),Ie&&(Fe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Qt(Ge,ge,Ie){return 32*((1<<Ge)*Ie+ge)+Ge}function Tn(Ge,ge){const Ie=Ge.tileID.canonical;if(!this._geoJSONIndex)return ge(null,null);const Fe=this._geoJSONIndex.getTile(Ie.z,Ie.x,Ie.y);if(!Fe)return ge(null,null);const Ze=new L(Fe.features);let it=O.exports(Ze);it.byteOffset===0&&it.byteLength===it.buffer.byteLength||(it=new Uint8Array(it)),ge(null,{vectorTile:Ze,rawData:it.buffer})}Gt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Gt.prototype.splitTile=function(Ge,ge,Ie,Fe,Ze,it,lt){for(var at=[Ge,ge,Ie,Fe],nt=this.options,ft=nt.debug;at.length;){Fe=at.pop(),Ie=at.pop(),ge=at.pop(),Ge=at.pop();var Nt=1<<ge,Ft=Qt(ge,Ie,Fe),Rt=this.tiles[Ft];if(!Rt&&(ft>1&&console.time("creation"),Rt=this.tiles[Ft]=ut(Ge,ge,Ie,Fe,nt),this.tileCoords.push({z:ge,x:Ie,y:Fe}),ft)){ft>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ge,Ie,Fe,Rt.numFeatures,Rt.numPoints,Rt.numSimplified),console.timeEnd("creation"));var pn="z"+ge;this.stats[pn]=(this.stats[pn]||0)+1,this.total++}if(Rt.source=Ge,Ze){if(ge===nt.maxZoom||ge===Ze)continue;var rn=1<<Ze-ge;if(Ie!==Math.floor(it/rn)||Fe!==Math.floor(lt/rn))continue}else if(ge===nt.indexMaxZoom||Rt.numPoints<=nt.indexMaxPoints)continue;if(Rt.source=null,Ge.length!==0){ft>1&&console.time("clipping");var xn,Sn,Wn,Cn,On,Hn,Yn=.5*nt.buffer/nt.extent,fi=.5-Yn,Ji=.5+Yn,Pr=1+Yn;xn=Sn=Wn=Cn=null,On=$t(Ge,Nt,Ie-Yn,Ie+Ji,0,Rt.minX,Rt.maxX,nt),Hn=$t(Ge,Nt,Ie+fi,Ie+Pr,0,Rt.minX,Rt.maxX,nt),Ge=null,On&&(xn=$t(On,Nt,Fe-Yn,Fe+Ji,1,Rt.minY,Rt.maxY,nt),Sn=$t(On,Nt,Fe+fi,Fe+Pr,1,Rt.minY,Rt.maxY,nt),On=null),Hn&&(Wn=$t(Hn,Nt,Fe-Yn,Fe+Ji,1,Rt.minY,Rt.maxY,nt),Cn=$t(Hn,Nt,Fe+fi,Fe+Pr,1,Rt.minY,Rt.maxY,nt),Hn=null),ft>1&&console.timeEnd("clipping"),at.push(xn||[],ge+1,2*Ie,2*Fe),at.push(Sn||[],ge+1,2*Ie,2*Fe+1),at.push(Wn||[],ge+1,2*Ie+1,2*Fe),at.push(Cn||[],ge+1,2*Ie+1,2*Fe+1)}}},Gt.prototype.getTile=function(Ge,ge,Ie){var Fe=this.options,Ze=Fe.extent,it=Fe.debug;if(Ge<0||Ge>24)return null;var lt=1<<Ge,at=Qt(Ge,ge=(ge%lt+lt)%lt,Ie);if(this.tiles[at])return Vi(this.tiles[at],Ze);it>1&&console.log("drilling down to z%d-%d-%d",Ge,ge,Ie);for(var nt,ft=Ge,Nt=ge,Ft=Ie;!nt&&ft>0;)ft--,Nt=Math.floor(Nt/2),Ft=Math.floor(Ft/2),nt=this.tiles[Qt(ft,Nt,Ft)];return nt&&nt.source?(it>1&&console.log("found parent tile z%d-%d-%d",ft,Nt,Ft),it>1&&console.time("drilling down"),this.splitTile(nt.source,ft,Nt,Ft,Ge,ge,Ie),it>1&&console.timeEnd("drilling down"),this.tiles[at]?Vi(this.tiles[at],Ze):null):null};class Gn extends T{constructor(ge,Ie,Fe,Ze){super(ge,Ie,Fe,Tn),Ze&&(this.loadGeoJSON=Ze)}loadData(ge,Ie){var Fe;(Fe=this._pendingRequest)===null||Fe===void 0||Fe.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const Ze=!!(ge&&ge.request&&ge.request.collectResourceTiming)&&new s.RequestPerformance(ge.request);this._pendingCallback=Ie,this._pendingRequest=this.loadGeoJSON(ge,(it,lt)=>{if(delete this._pendingCallback,delete this._pendingRequest,it||!lt)return Ie(it);if(typeof lt!="object")return Ie(new Error(`Input data given to '${ge.source}' is not a valid GeoJSON object.`));{k(lt,!0);try{if(ge.filter){const nt=s.createExpression(ge.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(nt.result==="error")throw new Error(nt.value.map(Nt=>`${Nt.key}: ${Nt.message}`).join(", "));lt={type:"FeatureCollection",features:lt.features.filter(Nt=>nt.value.evaluate({zoom:0},Nt))}}this._geoJSONIndex=ge.cluster?new le(function({superclusterOptions:nt,clusterProperties:ft}){if(!ft||!nt)return nt;const Nt={},Ft={},Rt={accumulated:null,zoom:0},pn={properties:null},rn=Object.keys(ft);for(const xn of rn){const[Sn,Wn]=ft[xn],Cn=s.createExpression(Wn),On=s.createExpression(typeof Sn=="string"?[Sn,["accumulated"],["get",xn]]:Sn);Nt[xn]=Cn.value,Ft[xn]=On.value}return nt.map=xn=>{pn.properties=xn;const Sn={};for(const Wn of rn)Sn[Wn]=Nt[Wn].evaluate(Rt,pn);return Sn},nt.reduce=(xn,Sn)=>{pn.properties=Sn;for(const Wn of rn)Rt.accumulated=xn[Wn],xn[Wn]=Ft[Wn].evaluate(Rt,pn)},nt}(ge)).load(lt.features):function(nt,ft){return new Gt(nt,ft)}(lt,ge.geojsonVtOptions)}catch(nt){return Ie(nt)}this.loaded={};const at={};if(Ze){const nt=Ze.finish();nt&&(at.resourceTiming={},at.resourceTiming[ge.source]=JSON.parse(JSON.stringify(nt)))}Ie(null,at)}})}reloadTile(ge,Ie){const Fe=this.loaded;return Fe&&Fe[ge.uid]?super.reloadTile(ge,Ie):this.loadTile(ge,Ie)}loadGeoJSON(ge,Ie){if(ge.request)return s.getJSON(ge.request,Ie);if(typeof ge.data=="string")try{Ie(null,JSON.parse(ge.data))}catch{Ie(new Error(`Input data given to '${ge.source}' is not a valid GeoJSON object.`))}else Ie(new Error(`Input data given to '${ge.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}}removeSource(ge,Ie){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ie()}getClusterExpansionZoom(ge,Ie){try{Ie(null,this._geoJSONIndex.getClusterExpansionZoom(ge.clusterId))}catch(Fe){Ie(Fe)}}getClusterChildren(ge,Ie){try{Ie(null,this._geoJSONIndex.getChildren(ge.clusterId))}catch(Fe){Ie(Fe)}}getClusterLeaves(ge,Ie){try{Ie(null,this._geoJSONIndex.getLeaves(ge.clusterId,ge.limit,ge.offset))}catch(Fe){Ie(Fe)}}}class vn{constructor(ge){this.self=ge,this.actor=new s.Actor(ge,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:T,geojson:Gn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Ie,Fe)=>{if(this.workerSourceTypes[Ie])throw new Error(`Worker source with name "${Ie}" already registered.`);this.workerSourceTypes[Ie]=Fe},this.self.registerRTLTextPlugin=Ie=>{if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=Ie.applyArabicShaping,s.plugin.processBidirectionalText=Ie.processBidirectionalText,s.plugin.processStyledBidirectionalText=Ie.processStyledBidirectionalText}}setReferrer(ge,Ie){this.referrer=Ie}setImages(ge,Ie,Fe){this.availableImages[ge]=Ie;for(const Ze in this.workerSources[ge]){const it=this.workerSources[ge][Ze];for(const lt in it)it[lt].availableImages=Ie}Fe()}setLayers(ge,Ie,Fe){this.getLayerIndex(ge).replace(Ie),Fe()}updateLayers(ge,Ie,Fe){this.getLayerIndex(ge).update(Ie.layers,Ie.removedIds),Fe()}loadTile(ge,Ie,Fe){this.getWorkerSource(ge,Ie.type,Ie.source).loadTile(Ie,Fe)}loadDEMTile(ge,Ie,Fe){this.getDEMWorkerSource(ge,Ie.source).loadTile(Ie,Fe)}reloadTile(ge,Ie,Fe){this.getWorkerSource(ge,Ie.type,Ie.source).reloadTile(Ie,Fe)}abortTile(ge,Ie,Fe){this.getWorkerSource(ge,Ie.type,Ie.source).abortTile(Ie,Fe)}removeTile(ge,Ie,Fe){this.getWorkerSource(ge,Ie.type,Ie.source).removeTile(Ie,Fe)}removeDEMTile(ge,Ie){this.getDEMWorkerSource(ge,Ie.source).removeTile(Ie)}removeSource(ge,Ie,Fe){if(!this.workerSources[ge]||!this.workerSources[ge][Ie.type]||!this.workerSources[ge][Ie.type][Ie.source])return;const Ze=this.workerSources[ge][Ie.type][Ie.source];delete this.workerSources[ge][Ie.type][Ie.source],Ze.removeSource!==void 0?Ze.removeSource(Ie,Fe):Fe()}loadWorkerSource(ge,Ie,Fe){try{this.self.importScripts(Ie.url),Fe()}catch(Ze){Fe(Ze.toString())}}syncRTLPluginState(ge,Ie,Fe){try{s.plugin.setState(Ie);const Ze=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&Ze!=null){this.self.importScripts(Ze);const it=s.plugin.isParsed();Fe(it?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Ze}`),it)}}catch(Ze){Fe(Ze.toString())}}getAvailableImages(ge){let Ie=this.availableImages[ge];return Ie||(Ie=[]),Ie}getLayerIndex(ge){let Ie=this.layerIndexes[ge];return Ie||(Ie=this.layerIndexes[ge]=new f),Ie}getWorkerSource(ge,Ie,Fe){if(this.workerSources[ge]||(this.workerSources[ge]={}),this.workerSources[ge][Ie]||(this.workerSources[ge][Ie]={}),!this.workerSources[ge][Ie][Fe]){const Ze={send:(it,lt,at)=>{this.actor.send(it,lt,at,ge)}};this.workerSources[ge][Ie][Fe]=new this.workerSourceTypes[Ie](Ze,this.getLayerIndex(ge),this.getAvailableImages(ge))}return this.workerSources[ge][Ie][Fe]}getDEMWorkerSource(ge,Ie){return this.demWorkerSources[ge]||(this.demWorkerSources[ge]={}),this.demWorkerSources[ge][Ie]||(this.demWorkerSources[ge][Ie]=new E),this.demWorkerSources[ge][Ie]}enforceCacheSizeLimit(ge,Ie){s.enforceCacheSizeLimit(Ie)}}return s.isWorker()&&(self.worker=new vn(self)),vn}),a(["./shared"],function(s){var h=p;function p(I){return!function(c){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var S,P,F=new Blob([""],{type:"text/javascript"}),ee=URL.createObjectURL(F);try{P=new Worker(ee),S=!0}catch{S=!1}return P&&P.terminate(),URL.revokeObjectURL(ee),S}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var S=document.createElement("canvas");S.width=S.height=1;var P=S.getContext("2d");if(!P)return!1;var F=P.getImageData(0,0,1,1);return F&&F.width===S.width}()?(f[m=c&&c.failIfMajorPerformanceCaveat]===void 0&&(f[m]=function(S){var P,F=function(ee){var ue=document.createElement("canvas"),me=Object.create(p.webGLContextAttributes);return me.failIfMajorPerformanceCaveat=ee,ue.getContext("webgl",me)||ue.getContext("experimental-webgl",me)}(S);if(!F)return!1;try{P=F.createShader(F.VERTEX_SHADER)}catch{return!1}return!(!P||F.isContextLost())&&(F.shaderSource(P,"void main() {}"),F.compileShader(P),F.getShaderParameter(P,F.COMPILE_STATUS)===!0)}(m)),f[m]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var m}(I)}var f={};function y(I,c){if(Array.isArray(I)){if(!Array.isArray(c)||I.length!==c.length)return!1;for(let m=0;m<I.length;m++)if(!y(I[m],c[m]))return!1;return!0}if(typeof I=="object"&&I!==null&&c!==null){if(typeof c!="object"||Object.keys(I).length!==Object.keys(c).length)return!1;for(const m in I)if(!y(I[m],c[m]))return!1;return!0}return I===c}p.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class g{static testProp(c){if(!g.docStyle)return c[0];for(let m=0;m<c.length;m++)if(c[m]in g.docStyle)return c[m];return c[0]}static create(c,m,S){const P=window.document.createElement(c);return m!==void 0&&(P.className=m),S&&S.appendChild(P),P}static createNS(c,m){return window.document.createElementNS(c,m)}static disableDrag(){g.docStyle&&g.selectProp&&(g.userSelect=g.docStyle[g.selectProp],g.docStyle[g.selectProp]="none")}static enableDrag(){g.docStyle&&g.selectProp&&(g.docStyle[g.selectProp]=g.userSelect)}static setTransform(c,m){c.style[g.transformProp]=m}static addEventListener(c,m,S,P={}){c.addEventListener(m,S,"passive"in P?P:P.capture)}static removeEventListener(c,m,S,P={}){c.removeEventListener(m,S,"passive"in P?P:P.capture)}static suppressClickInternal(c){c.preventDefault(),c.stopPropagation(),window.removeEventListener("click",g.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",g.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",g.suppressClickInternal,!0)},0)}static mousePos(c,m){const S=c.getBoundingClientRect();return new s.pointGeometry(m.clientX-S.left-c.clientLeft,m.clientY-S.top-c.clientTop)}static touchPos(c,m){const S=c.getBoundingClientRect(),P=[];for(let F=0;F<m.length;F++)P.push(new s.pointGeometry(m[F].clientX-S.left-c.clientLeft,m[F].clientY-S.top-c.clientTop));return P}static mouseButton(c){return c.button}static remove(c){c.parentNode&&c.parentNode.removeChild(c)}}g.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,g.selectProp=g.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),g.transformProp=g.testProp(["transform","WebkitTransform"]);class _{constructor(c){this._transformRequestFn=c}transformRequest(c,m){return this._transformRequestFn&&this._transformRequestFn(c,m)||{url:c}}normalizeSpriteURL(c,m,S){const P=function(F){const ee=F.match(b);if(!ee)throw new Error(`Unable to parse URL "${F}"`);return{protocol:ee[1],authority:ee[2],path:ee[3]||"/",params:ee[4]?ee[4].split("&"):[]}}(c);return P.path+=`${m}${S}`,function(F){const ee=F.params.length?`?${F.params.join("&")}`:"";return`${F.protocol}://${F.authority}${F.path}${ee}`}(P)}setTransformRequest(c){this._transformRequestFn=c}}const b=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;class T{constructor(c,m,S,P){this.context=c,this.format=S,this.texture=c.gl.createTexture(),this.update(m,P)}update(c,m,S){const{width:P,height:F}=c,ee=!(this.size&&this.size[0]===P&&this.size[1]===F||S),{context:ue}=this,{gl:me}=ue;if(this.useMipmap=!!(m&&m.useMipmap),me.bindTexture(me.TEXTURE_2D,this.texture),ue.pixelStoreUnpackFlipY.set(!1),ue.pixelStoreUnpack.set(1),ue.pixelStoreUnpackPremultiplyAlpha.set(this.format===me.RGBA&&(!m||m.premultiply!==!1)),ee)this.size=[P,F],c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||s.isImageBitmap(c)?me.texImage2D(me.TEXTURE_2D,0,this.format,this.format,me.UNSIGNED_BYTE,c):me.texImage2D(me.TEXTURE_2D,0,this.format,P,F,0,this.format,me.UNSIGNED_BYTE,c.data);else{const{x:Te,y:Ae}=S||{x:0,y:0};c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||s.isImageBitmap(c)?me.texSubImage2D(me.TEXTURE_2D,0,Te,Ae,me.RGBA,me.UNSIGNED_BYTE,c):me.texSubImage2D(me.TEXTURE_2D,0,Te,Ae,P,F,me.RGBA,me.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&me.generateMipmap(me.TEXTURE_2D)}bind(c,m,S){const{context:P}=this,{gl:F}=P;F.bindTexture(F.TEXTURE_2D,this.texture),S!==F.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(S=F.LINEAR),c!==this.filter&&(F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,c),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,S||c),this.filter=c),m!==this.wrap&&(F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,m),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,m),this.wrap=m)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}function E(I){const{userImage:c}=I;return!!(c&&c.render&&c.render())&&(I.data.replace(new Uint8Array(c.data.buffer)),!0)}class k extends s.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:m,callback:S}of this.requestors)this._notify(m,S);this.requestors=[]}}getImage(c){return this.images[c]}addImage(c,m){if(this.images[c])throw new Error(`Image id ${c} already exist, use updateImage instead`);this._validate(c,m)&&(this.images[c]=m)}_validate(c,m){let S=!0;return this._validateStretch(m.stretchX,m.data&&m.data.width)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),S=!1),this._validateStretch(m.stretchY,m.data&&m.data.height)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),S=!1),this._validateContent(m.content,m)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),S=!1),S}_validateStretch(c,m){if(!c)return!0;let S=0;for(const P of c){if(P[0]<S||P[1]<P[0]||m<P[1])return!1;S=P[1]}return!0}_validateContent(c,m){return!(c&&(c.length!==4||c[0]<0||m.data.width<c[0]||c[1]<0||m.data.height<c[1]||c[2]<0||m.data.width<c[2]||c[3]<0||m.data.height<c[3]||c[2]<c[0]||c[3]<c[1]))}updateImage(c,m){const S=this.images[c];if(S.data.width!==m.data.width||S.data.height!==m.data.height)throw new Error(`size mismatch between old image (${S.data.width}x${S.data.height}) and new image (${m.data.width}x${m.data.height}).`);m.version=S.version+1,this.images[c]=m,this.updatedImages[c]=!0}removeImage(c){const m=this.images[c];delete this.images[c],delete this.patterns[c],m.userImage&&m.userImage.onRemove&&m.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,m){let S=!0;if(!this.isLoaded())for(const P of c)this.images[P]||(S=!1);this.isLoaded()||S?this._notify(c,m):this.requestors.push({ids:c,callback:m})}_notify(c,m){const S={};for(const P of c){this.images[P]||this.fire(new s.Event("styleimagemissing",{id:P}));const F=this.images[P];F?S[P]={data:F.data.clone(),pixelRatio:F.pixelRatio,sdf:F.sdf,version:F.version,stretchX:F.stretchX,stretchY:F.stretchY,content:F.content,hasRenderCallback:!!(F.userImage&&F.userImage.render)}:s.warnOnce(`Image "${P}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}m(null,S)}getPixelSize(){const{width:c,height:m}=this.atlasImage;return{width:c,height:m}}getPattern(c){const m=this.patterns[c],S=this.getImage(c);if(!S)return null;if(m&&m.position.version===S.version)return m.position;if(m)m.position.version=S.version;else{const P={w:S.data.width+2,h:S.data.height+2,x:0,y:0},F=new s.ImagePosition(P,S);this.patterns[c]={bin:P,position:F}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const m=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new T(c,this.atlasImage,m.RGBA),this.atlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const F in this.patterns)c.push(this.patterns[F].bin);const{w:m,h:S}=s.potpack(c),P=this.atlasImage;P.resize({width:m||1,height:S||1});for(const F in this.patterns){const{bin:ee}=this.patterns[F],ue=ee.x+1,me=ee.y+1,Te=this.images[F].data,Ae=Te.width,$e=Te.height;s.RGBAImage.copy(Te,P,{x:0,y:0},{x:ue,y:me},{width:Ae,height:$e}),s.RGBAImage.copy(Te,P,{x:0,y:$e-1},{x:ue,y:me-1},{width:Ae,height:1}),s.RGBAImage.copy(Te,P,{x:0,y:0},{x:ue,y:me+$e},{width:Ae,height:1}),s.RGBAImage.copy(Te,P,{x:Ae-1,y:0},{x:ue-1,y:me},{width:1,height:$e}),s.RGBAImage.copy(Te,P,{x:0,y:0},{x:ue+Ae,y:me},{width:1,height:$e})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const m of c){if(this.callbackDispatchedThisFrame[m])continue;this.callbackDispatchedThisFrame[m]=!0;const S=this.images[m];S||s.warnOnce(`Image with ID: "${m}" was not found`),E(S)&&this.updateImage(m,S)}}}const v=1e20;function w(I,c,m,S,P,F,ee,ue,me){for(let Te=c;Te<c+S;Te++)N(I,m*F+Te,F,P,ee,ue,me);for(let Te=m;Te<m+P;Te++)N(I,Te*F+c,1,S,ee,ue,me)}function N(I,c,m,S,P,F,ee){F[0]=0,ee[0]=-1e20,ee[1]=v,P[0]=I[c];for(let ue=1,me=0,Te=0;ue<S;ue++){P[ue]=I[c+ue*m];const Ae=ue*ue;do{const $e=F[me];Te=(P[ue]-P[$e]+Ae-$e*$e)/(ue-$e)/2}while(Te<=ee[me]&&--me>-1);me++,F[me]=ue,ee[me]=Te,ee[me+1]=v}for(let ue=0,me=0;ue<S;ue++){for(;ee[me+1]<ue;)me++;const Te=F[me],Ae=ue-Te;I[c+ue*m]=P[Te]+Ae*Ae}}class C{constructor(c,m){this.requestManager=c,this.localIdeographFontFamily=m,this.entries={}}setURL(c){this.url=c}getGlyphs(c,m){const S=[];for(const P in c)for(const F of c[P])S.push({stack:P,id:F});s.asyncAll(S,({stack:P,id:F},ee)=>{let ue=this.entries[P];ue||(ue=this.entries[P]={glyphs:{},requests:{},ranges:{}});let me=ue.glyphs[F];if(me!==void 0)return void ee(null,{stack:P,id:F,glyph:me});if(me=this._tinySDF(ue,P,F),me)return ue.glyphs[F]=me,void ee(null,{stack:P,id:F,glyph:me});const Te=Math.floor(F/256);if(256*Te>65535)return void ee(new Error("glyphs > 65535 not supported"));if(ue.ranges[Te])return void ee(null,{stack:P,id:F,glyph:me});let Ae=ue.requests[Te];Ae||(Ae=ue.requests[Te]=[],C.loadGlyphRange(P,Te,this.url,this.requestManager,($e,Ve)=>{if(Ve){for(const et in Ve)this._doesCharSupportLocalGlyph(+et)||(ue.glyphs[+et]=Ve[+et]);ue.ranges[Te]=!0}for(const et of Ae)et($e,Ve);delete ue.requests[Te]})),Ae.push(($e,Ve)=>{$e?ee($e):Ve&&ee(null,{stack:P,id:F,glyph:Ve[F]||null})})},(P,F)=>{if(P)m(P);else if(F){const ee={};for(const{stack:ue,id:me,glyph:Te}of F)(ee[ue]||(ee[ue]={}))[me]=Te&&{id:Te.id,bitmap:Te.bitmap.clone(),metrics:Te.metrics};m(null,ee)}})}_doesCharSupportLocalGlyph(c){return!!this.localIdeographFontFamily&&(s.unicodeBlockLookup["CJK Unified Ideographs"](c)||s.unicodeBlockLookup["Hangul Syllables"](c)||s.unicodeBlockLookup.Hiragana(c)||s.unicodeBlockLookup.Katakana(c))}_tinySDF(c,m,S){const P=this.localIdeographFontFamily;if(!P||!this._doesCharSupportLocalGlyph(S))return;let F=c.tinySDF;if(!F){let ue="400";/bold/i.test(m)?ue="900":/medium/i.test(m)?ue="500":/light/i.test(m)&&(ue="200"),F=c.tinySDF=new C.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:P,fontWeight:ue})}const ee=F.draw(String.fromCharCode(S));return{id:S,bitmap:new s.AlphaImage({width:ee.width||30,height:ee.height||30},ee.data),metrics:{width:ee.glyphWidth||24,height:ee.glyphHeight||24,left:ee.glyphLeft||0,top:ee.glyphTop-27||-8,advance:ee.glyphAdvance||24}}}}C.loadGlyphRange=function(I,c,m,S,P){const F=256*c,ee=F+255,ue=S.transformRequest(m.replace("{fontstack}",I).replace("{range}",`${F}-${ee}`),s.ResourceType.Glyphs);s.getArrayBuffer(ue,(me,Te)=>{if(me)P(me);else if(Te){const Ae={};for(const $e of s.parseGlyphPbf(Te))Ae[$e.id]=$e;P(null,Ae)}})},C.TinySDF=class{constructor({fontSize:I=24,buffer:c=3,radius:m=8,cutoff:S=.25,fontFamily:P="sans-serif",fontWeight:F="normal",fontStyle:ee="normal"}={}){this.buffer=c,this.cutoff=S,this.radius=m;const ue=this.size=I+4*c,me=this._createCanvas(ue),Te=this.ctx=me.getContext("2d",{willReadFrequently:!0});Te.font=`${ee} ${F} ${I}px ${P}`,Te.textBaseline="alphabetic",Te.textAlign="left",Te.fillStyle="black",this.gridOuter=new Float64Array(ue*ue),this.gridInner=new Float64Array(ue*ue),this.f=new Float64Array(ue),this.z=new Float64Array(ue+1),this.v=new Uint16Array(ue)}_createCanvas(I){const c=document.createElement("canvas");return c.width=c.height=I,c}draw(I){const{width:c,actualBoundingBoxAscent:m,actualBoundingBoxDescent:S,actualBoundingBoxLeft:P,actualBoundingBoxRight:F}=this.ctx.measureText(I),ee=Math.ceil(m),ue=Math.min(this.size-this.buffer,Math.ceil(F-P)),me=Math.min(this.size-this.buffer,ee+Math.ceil(S)),Te=ue+2*this.buffer,Ae=me+2*this.buffer,$e=Math.max(Te*Ae,0),Ve=new Uint8ClampedArray($e),et={data:Ve,width:Te,height:Ae,glyphWidth:ue,glyphHeight:me,glyphTop:ee,glyphLeft:0,glyphAdvance:c};if(ue===0||me===0)return et;const{ctx:Qe,buffer:Je,gridInner:pt,gridOuter:yt}=this;Qe.clearRect(Je,Je,ue,me),Qe.fillText(I,Je,Je+ee);const wt=Qe.getImageData(Je,Je,ue,me);yt.fill(v,0,$e),pt.fill(0,0,$e);for(let rt=0;rt<me;rt++)for(let It=0;It<ue;It++){const Et=wt.data[4*(rt*ue+It)+3]/255;if(Et===0)continue;const jt=(rt+Je)*Te+It+Je;if(Et===1)yt[jt]=0,pt[jt]=v;else{const Ut=.5-Et;yt[jt]=Ut>0?Ut*Ut:0,pt[jt]=Ut<0?Ut*Ut:0}}w(yt,0,0,Te,Ae,Te,this.f,this.v,this.z),w(pt,Je,Je,ue,me,Te,this.f,this.v,this.z);for(let rt=0;rt<$e;rt++){const It=Math.sqrt(yt[rt])-Math.sqrt(pt[rt]);Ve[rt]=Math.round(255-255*(It/this.radius+this.cutoff))}return et}};const L=new s.Properties({anchor:new s.DataConstantProperty(s.spec.light.anchor),position:new class{constructor(){this.specification=s.spec.light.position}possiblyEvaluate(I,c){return s.sphericalToCartesian(I.expression.evaluate(c))}interpolate(I,c,m){return{x:s.number(I.x,c.x,m),y:s.number(I.y,c.y,m),z:s.number(I.z,c.z,m)}}},color:new s.DataConstantProperty(s.spec.light.color),intensity:new s.DataConstantProperty(s.spec.light.intensity)}),O="-transition";class W extends s.Evented{constructor(c){super(),this._transitionable=new s.Transitionable(L),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,m={}){if(!this._validate(s.validateLight,c,m))for(const S in c){const P=c[S];S.endsWith(O)?this._transitionable.setTransition(S.slice(0,-O.length),P):this._transitionable.setValue(S,P)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,m,S){return(!S||S.validate!==!1)&&s.emitValidationErrors(this,c.call(s.validateStyle,s.extend({value:m,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}class X{constructor(c,m){this.width=c,this.height=m,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(c,m){const S=c.join(",")+String(m);return this.dashEntry[S]||(this.dashEntry[S]=this.addDash(c,m)),this.dashEntry[S]}getDashRanges(c,m,S){const P=[];let F=c.length%2==1?-c[c.length-1]*S:0,ee=c[0]*S,ue=!0;P.push({left:F,right:ee,isDash:ue,zeroLength:c[0]===0});let me=c[0];for(let Te=1;Te<c.length;Te++){ue=!ue;const Ae=c[Te];F=me*S,me+=Ae,ee=me*S,P.push({left:F,right:ee,isDash:ue,zeroLength:Ae===0})}return P}addRoundDash(c,m,S){const P=m/2;for(let F=-S;F<=S;F++){const ee=this.width*(this.nextRow+S+F);let ue=0,me=c[ue];for(let Te=0;Te<this.width;Te++){Te/me.right>1&&(me=c[++ue]);const Ae=Math.abs(Te-me.left),$e=Math.abs(Te-me.right),Ve=Math.min(Ae,$e);let et;const Qe=F/S*(P+1);if(me.isDash){const Je=P-Math.abs(Qe);et=Math.sqrt(Ve*Ve+Je*Je)}else et=P-Math.sqrt(Ve*Ve+Qe*Qe);this.data[ee+Te]=Math.max(0,Math.min(255,et+128))}}}addRegularDash(c){for(let ue=c.length-1;ue>=0;--ue){const me=c[ue],Te=c[ue+1];me.zeroLength?c.splice(ue,1):Te&&Te.isDash===me.isDash&&(Te.left=me.left,c.splice(ue,1))}const m=c[0],S=c[c.length-1];m.isDash===S.isDash&&(m.left=S.left-this.width,S.right=m.right+this.width);const P=this.width*this.nextRow;let F=0,ee=c[F];for(let ue=0;ue<this.width;ue++){ue/ee.right>1&&(ee=c[++F]);const me=Math.abs(ue-ee.left),Te=Math.abs(ue-ee.right),Ae=Math.min(me,Te);this.data[P+ue]=Math.max(0,Math.min(255,(ee.isDash?Ae:-Ae)+128))}}addDash(c,m){const S=m?7:0,P=2*S+1;if(this.nextRow+P>this.height)return s.warnOnce("LineAtlas out of space"),null;let F=0;for(let ue=0;ue<c.length;ue++)F+=c[ue];if(F!==0){const ue=this.width/F,me=this.getDashRanges(c,this.width,ue);m?this.addRoundDash(me,ue,S):this.addRegularDash(me)}const ee={y:(this.nextRow+S+.5)/this.height,height:2*S/this.height,width:F};return this.nextRow+=P,this.dirty=!0,ee}bind(c){const m=c.gl;this.texture?(m.bindTexture(m.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,m.texSubImage2D(m.TEXTURE_2D,0,0,0,this.width,this.height,m.ALPHA,m.UNSIGNED_BYTE,this.data))):(this.texture=m.createTexture(),m.bindTexture(m.TEXTURE_2D,this.texture),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.REPEAT),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.REPEAT),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),m.texImage2D(m.TEXTURE_2D,0,m.ALPHA,this.width,this.height,0,m.ALPHA,m.UNSIGNED_BYTE,this.data))}}class H{constructor(c,m){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=s.uniqueId();const S=this.workerPool.acquire(this.id);for(let P=0;P<S.length;P++){const F=new H.Actor(S[P],m,this.id);F.name=`Worker ${P}`,this.actors.push(F)}if(!this.actors.length)throw new Error("No actors found")}broadcast(c,m,S){s.asyncAll(this.actors,(P,F)=>{P.send(c,m,F)},S=S||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(c=>{c.remove()}),this.actors=[],this.workerPool.release(this.id)}}function $(I,c,m){const S=function(P,F){if(P)return m(P);if(F){const ee=s.pick(s.extend(F,I),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);F.vector_layers&&(ee.vectorLayers=F.vector_layers,ee.vectorLayerIds=ee.vectorLayers.map(ue=>ue.id)),m(null,ee)}};return I.url?s.getJSON(c.transformRequest(I.url,s.ResourceType.Source),S):s.exported.frame(()=>S(null,I))}H.Actor=s.Actor;class G{constructor(c,m,S){this.bounds=s.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=m||0,this.maxzoom=S||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const m=Math.pow(2,c.z),S=Math.floor(s.mercatorXfromLng(this.bounds.getWest())*m),P=Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*m),F=Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*m),ee=Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*m);return c.x>=S&&c.x<F&&c.y>=P&&c.y<ee}}class j extends s.Evented{constructor(c,m,S,P){if(super(),this.id=c,this.dispatcher=S,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(m,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},m),this._collectResourceTiming=m.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(P)}load(){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=$(this._options,this.map._requestManager,(c,m)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),c?this.fire(new s.ErrorEvent(c)):m&&(s.extend(this,m),m.bounds&&(this.tileBounds=new G(m.bounds,this.minzoom,this.maxzoom)),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}setUrl(c){return this.setSourceProperty(()=>{this.url=c,this._options.url=c}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return s.extend({},this._options)}loadTile(c,m){const S=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),P={request:this.map._requestManager.transformRequest(S,s.ResourceType.Tile),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function F(ee,ue){return delete c.request,c.aborted?m(null):ee&&ee.status!==404?m(ee):(ue&&ue.resourceTiming&&(c.resourceTiming=ue.resourceTiming),this.map._refreshExpiredTiles&&ue&&c.setExpiryData(ue),c.loadVectorData(ue,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),m(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}P.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired"?c.state==="loading"?c.reloadCallback=m:c.request=c.actor.send("reloadTile",P,F.bind(this)):(c.actor=this.dispatcher.getActor(),c.request=c.actor.send("loadTile",P,F.bind(this)))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id},void 0)}unloadTile(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class D extends s.Evented{constructor(c,m,S,P){super(),this.id=c,this.dispatcher=S,this.setEventedParent(P),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},m),s.extend(this,s.pick(m,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=$(this._options,this.map._requestManager,(c,m)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new s.ErrorEvent(c)):m&&(s.extend(this,m),m.bounds&&(this.tileBounds=new G(m.bounds,this.minzoom,this.maxzoom)),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return s.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,m){const S=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);c.request=s.getImage(this.map._requestManager.transformRequest(S,s.ResourceType.Tile),(P,F,ee)=>{if(delete c.request,c.aborted)c.state="unloaded",m(null);else if(P)c.state="errored",m(P);else if(F){this.map._refreshExpiredTiles&&c.setExpiryData(ee);const ue=this.map.painter.context,me=ue.gl;c.texture=this.map.painter.getTileTexture(F.width),c.texture?c.texture.update(F,{useMipmap:!0}):(c.texture=new T(ue,F,me.RGBA,{useMipmap:!0}),c.texture.bind(me.LINEAR,me.CLAMP_TO_EDGE,me.LINEAR_MIPMAP_NEAREST),ue.extTextureFilterAnisotropic&&me.texParameterf(me.TEXTURE_2D,ue.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ue.extTextureFilterAnisotropicMax)),c.state="loaded",s.cacheEntryPossiblyAdded(this.dispatcher),m(null)}})}abortTile(c,m){c.request&&(c.request.cancel(),delete c.request),m()}unloadTile(c,m){c.texture&&this.map.painter.saveTileTexture(c.texture),m()}hasTransition(){return!1}}let M;class Y extends D{constructor(c,m,S,P){super(c,m,S,P),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},m),this.encoding=m.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(c,m){const S=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function P(F,ee){F&&(c.state="errored",m(F)),ee&&(c.dem=ee,c.needsHillshadePrepare=!0,c.needsTerrainPrepare=!0,c.state="loaded",m(null))}c.request=s.getImage(this.map._requestManager.transformRequest(S,s.ResourceType.Tile),(function(F,ee){if(delete c.request,c.aborted)c.state="unloaded",m(null);else if(F)c.state="errored",m(F);else if(ee){this.map._refreshExpiredTiles&&c.setExpiryData(ee),delete ee.cacheControl,delete ee.expires;const ue=s.isImageBitmap(ee)&&(M==null&&(M=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),M)?ee:s.exported.getImageData(ee,1),me={uid:c.uid,coord:c.tileID,source:this.id,rawImageData:ue,encoding:this.encoding};c.actor&&c.state!=="expired"||(c.actor=this.dispatcher.getActor(),c.actor.send("loadDEMTile",me,P.bind(this)))}}).bind(this)),c.neighboringTiles=this._getNeighboringTiles(c.tileID)}_getNeighboringTiles(c){const m=c.canonical,S=Math.pow(2,m.z),P=(m.x-1+S)%S,F=m.x===0?c.wrap-1:c.wrap,ee=(m.x+1+S)%S,ue=m.x+1===S?c.wrap+1:c.wrap,me={};return me[new s.OverscaledTileID(c.overscaledZ,F,m.z,P,m.y).key]={backfilled:!1},me[new s.OverscaledTileID(c.overscaledZ,ue,m.z,ee,m.y).key]={backfilled:!1},m.y>0&&(me[new s.OverscaledTileID(c.overscaledZ,F,m.z,P,m.y-1).key]={backfilled:!1},me[new s.OverscaledTileID(c.overscaledZ,c.wrap,m.z,m.x,m.y-1).key]={backfilled:!1},me[new s.OverscaledTileID(c.overscaledZ,ue,m.z,ee,m.y-1).key]={backfilled:!1}),m.y+1<S&&(me[new s.OverscaledTileID(c.overscaledZ,F,m.z,P,m.y+1).key]={backfilled:!1},me[new s.OverscaledTileID(c.overscaledZ,c.wrap,m.z,m.x,m.y+1).key]={backfilled:!1},me[new s.OverscaledTileID(c.overscaledZ,ue,m.z,ee,m.y+1).key]={backfilled:!1}),me}unloadTile(c){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&c.actor.send("removeDEMTile",{uid:c.uid,source:this.id})}}class B extends s.Evented{constructor(c,m,S,P){super(),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=S.getActor(),this.setEventedParent(P),this._data=m.data,this._options=s.extend({},m),this._collectResourceTiming=m.collectResourceTiming,m.maxzoom!==void 0&&(this.maxzoom=m.maxzoom),m.type&&(this.type=m.type),m.attribution&&(this.attribution=m.attribution),this.promoteId=m.promoteId;const F=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:m.cluster||!1,geojsonVtOptions:{buffer:(m.buffer!==void 0?m.buffer:128)*F,tolerance:(m.tolerance!==void 0?m.tolerance:.375)*F,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:m.lineMetrics||!1,generateId:m.generateId||!1},superclusterOptions:{maxZoom:m.clusterMaxZoom!==void 0?m.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,m.clusterMinPoints||2),extent:s.EXTENT,radius:(m.clusterRadius||50)*F,log:!1,generateId:m.generateId||!1},clusterProperties:m.clusterProperties,filter:m.filter},m.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(c){this.map=c,this.load()}setData(c){return this._data=c,this._updateWorkerData("content"),this}getClusterExpansionZoom(c,m){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:c,source:this.id},m),this}getClusterChildren(c,m){return this.actor.send("geojson.getClusterChildren",{clusterId:c,source:this.id},m),this}getClusterLeaves(c,m,S,P){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:c,limit:m,offset:S},P),this}_updateWorkerData(c){const m=s.extend({},this.workerOptions),S=this._data;typeof S=="string"?(m.request=this.map._requestManager.transformRequest(s.exported.resolveURL(S),s.ResourceType.Source),m.request.collectResourceTiming=this._collectResourceTiming):m.data=JSON.stringify(S),this._pendingLoads++,this.fire(new s.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,m,(P,F)=>{if(this._pendingLoads--,this._removed||F&&F.abandoned)return void this.fire(new s.Event("dataabort",{dataType:"source",sourceDataType:c}));let ee=null;if(F&&F.resourceTiming&&F.resourceTiming[this.id]&&(ee=F.resourceTiming[this.id].slice(0)),P)return void this.fire(new s.ErrorEvent(P));const ue={dataType:"source",sourceDataType:c};this._collectResourceTiming&&ee&&ee.length>0&&s.extend(ue,{resourceTiming:ee}),this.fire(new s.Event("data",ue))})}loaded(){return this._pendingLoads===0}loadTile(c,m){const S=c.actor?"reloadTile":"loadTile";c.actor=this.actor;const P={type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};c.request=this.actor.send(S,P,(F,ee)=>(delete c.request,c.unloadVectorData(),c.aborted?m(null):F?m(F):(c.loadVectorData(ee,this.map.painter,S==="reloadTile"),m(null))))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.aborted=!0}unloadTile(c){c.unloadVectorData(),this.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return s.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var z=s.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class q extends s.Evented{constructor(c,m,S,P){super(),this.id=c,this.dispatcher=S,this.coordinates=m.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(P),this.options=m}load(c,m){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),(S,P)=>{this._loaded=!0,S?this.fire(new s.ErrorEvent(S)):P&&(this.image=P,c&&(this.coordinates=c),m&&m(),this._finishLoading())})}loaded(){return this._loaded}updateImage(c){return this.image&&c.url?(this.options.url=c.url,this.load(c.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}setCoordinates(c){this.coordinates=c;const m=c.map(s.MercatorCoordinate.fromLngLat);this.tileID=function(P){let F=1/0,ee=1/0,ue=-1/0,me=-1/0;for(const Ve of P)F=Math.min(F,Ve.x),ee=Math.min(ee,Ve.y),ue=Math.max(ue,Ve.x),me=Math.max(me,Ve.y);const Te=Math.max(ue-F,me-ee),Ae=Math.max(0,Math.floor(-Math.log(Te)/Math.LN2)),$e=Math.pow(2,Ae);return new s.CanonicalTileID(Ae,Math.floor((F+ue)/2*$e),Math.floor((ee+me)/2*$e))}(m),this.minzoom=this.maxzoom=this.tileID.z;const S=m.map(P=>this.tileID.getTilePoint(P)._round());return this._boundsArray=new s.RasterBoundsArray,this._boundsArray.emplaceBack(S[0].x,S[0].y,0,0),this._boundsArray.emplaceBack(S[1].x,S[1].y,s.EXTENT,0),this._boundsArray.emplaceBack(S[3].x,S[3].y,0,s.EXTENT),this._boundsArray.emplaceBack(S[2].x,S[2].y,s.EXTENT,s.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const c=this.map.painter.context,m=c.gl;this.boundsBuffer||(this.boundsBuffer=c.createVertexBuffer(this._boundsArray,z.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new T(c,this.image,m.RGBA),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE));for(const S in this.tiles){const P=this.tiles[S];P.state!=="loaded"&&(P.state="loaded",P.texture=this.texture)}}loadTile(c,m){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},m(null)):(c.state="errored",m(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class V extends q{constructor(c,m,S,P){super(c,m,S,P),this.roundZoom=!0,this.type="video",this.options=m}load(){this._loaded=!1;const c=this.options;this.urls=[];for(const m of c.urls)this.urls.push(this.map._requestManager.transformRequest(m,s.ResourceType.Source).url);s.getVideo(this.urls,(m,S)=>{this._loaded=!0,m?this.fire(new s.ErrorEvent(m)):S&&(this.video=S,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const m=this.video.seekable;c<m.start(0)||c>m.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${m.start(0)} and ${m.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const c=this.map.painter.context,m=c.gl;this.boundsBuffer||(this.boundsBuffer=c.createVertexBuffer(this._boundsArray,z.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE),m.texSubImage2D(m.TEXTURE_2D,0,0,0,m.RGBA,m.UNSIGNED_BYTE,this.video)):(this.texture=new T(c,this.video,m.RGBA),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE));for(const S in this.tiles){const P=this.tiles[S];P.state!=="loaded"&&(P.state="loaded",P.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class te extends q{constructor(c,m,S,P){super(c,m,S,P),m.coordinates?Array.isArray(m.coordinates)&&m.coordinates.length===4&&!m.coordinates.some(F=>!Array.isArray(F)||F.length!==2||F.some(ee=>typeof ee!="number"))||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${c}`,null,'missing required property "coordinates"'))),m.animate&&typeof m.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),m.canvas?typeof m.canvas=="string"||m.canvas instanceof HTMLCanvasElement||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${c}`,null,'missing required property "canvas"'))),this.options=m,this.animate=m.animate===void 0||m.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let c=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,c=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,c=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const m=this.map.painter.context,S=m.gl;this.boundsBuffer||(this.boundsBuffer=m.createVertexBuffer(this._boundsArray,z.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(c||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new T(m,this.canvas,S.RGBA,{premultiply:!0});for(const P in this.tiles){const F=this.tiles[P];F.state!=="loaded"&&(F.state="loaded",F.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}const ce={vector:j,raster:D,"raster-dem":Y,geojson:B,video:V,image:q,canvas:te};function ie(I,c){const m=s.create();return s.translate(m,m,[1,1,0]),s.scale(m,m,[.5*I.width,.5*I.height,1]),s.multiply(m,m,I.calculatePosMatrix(c.toUnwrapped()))}function se(I,c,m,S,P,F){const ee=function($e,Ve,et){if($e)for(const Qe of $e){const Je=Ve[Qe];if(Je&&Je.source===et&&Je.type==="fill-extrusion")return!0}else for(const Qe in Ve){const Je=Ve[Qe];if(Je.source===et&&Je.type==="fill-extrusion")return!0}return!1}(P&&P.layers,c,I.id),ue=F.maxPitchScaleFactor(),me=I.tilesIn(S,ue,ee);me.sort(Ce);const Te=[];for(const $e of me)Te.push({wrappedTileID:$e.tileID.wrapped().key,queryResults:$e.tile.queryRenderedFeatures(c,m,I._state,$e.queryGeometry,$e.cameraQueryGeometry,$e.scale,P,F,ue,ie(I.transform,$e.tileID))});const Ae=function($e){const Ve={},et={};for(const Qe of $e){const Je=Qe.queryResults,pt=Qe.wrappedTileID,yt=et[pt]=et[pt]||{};for(const wt in Je){const rt=Je[wt],It=yt[wt]=yt[wt]||{},Et=Ve[wt]=Ve[wt]||[];for(const jt of rt)It[jt.featureIndex]||(It[jt.featureIndex]=!0,Et.push(jt))}}return Ve}(Te);for(const $e in Ae)Ae[$e].forEach(Ve=>{const et=Ve.feature,Qe=I.getFeatureState(et.layer["source-layer"],et.id);et.source=et.layer.source,et.layer["source-layer"]&&(et.sourceLayer=et.layer["source-layer"]),et.state=Qe});return Ae}function Ce(I,c){const m=I.tileID,S=c.tileID;return m.overscaledZ-S.overscaledZ||m.canonical.y-S.canonical.y||m.wrap-S.wrap||m.canonical.x-S.canonical.x}class pe{constructor(c,m){this.tileID=c,this.uid=s.uniqueId(),this.uses=0,this.tileSize=m,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.textures=[],this.textureCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const m=c+this.timeAdded;m<s.exported.now()||this.fadeEndTime&&m<this.fadeEndTime||(this.fadeEndTime=m)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(c){this.demTexture&&c.saveTileTexture(this.demTexture),this.textures.forEach(m=>c.saveTileTexture(m)),this.demTexture=null,this.textures=[],this.textureCoords={}}loadVectorData(c,m,S){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(P,F){const ee={};if(!F)return ee;for(const ue of P){const me=ue.layerIds.map(Te=>F.getLayer(Te)).filter(Boolean);if(me.length!==0){ue.layers=me,ue.stateDependentLayerIds&&(ue.stateDependentLayers=ue.stateDependentLayerIds.map(Te=>me.filter(Ae=>Ae.id===Te)[0]));for(const Te of me)ee[Te.id]=ue}}return ee}(c.buckets,m.style),this.hasSymbolBuckets=!1;for(const P in this.buckets){const F=this.buckets[P];if(F instanceof s.SymbolBucket){if(this.hasSymbolBuckets=!0,!S)break;F.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const P in this.buckets){const F=this.buckets[P];if(F instanceof s.SymbolBucket&&F.hasRTLText){this.hasRTLText=!0,s.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const P in this.buckets){const F=this.buckets[P];this.queryPadding=Math.max(this.queryPadding,m.style.getLayer(P).queryRadius(F))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage)}else this.collisionBoxArray=new s.CollisionBoxArray}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const S in this.buckets){const P=this.buckets[S];P.uploadPending()&&P.upload(c)}const m=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new T(c,this.imageAtlas.image,m.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new T(c,this.glyphAtlasImage,m.ALPHA),this.glyphAtlasImage=null)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,m,S,P,F,ee,ue,me,Te,Ae){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:P,cameraQueryGeometry:F,scale:ee,tileSize:this.tileSize,pixelPosMatrix:Ae,transform:me,params:ue,queryPadding:this.queryPadding*Te},c,m,S):{}}querySourceFeatures(c,m){const S=this.latestFeatureIndex;if(!S||!S.rawTileData)return;const P=S.loadVTLayers(),F=m?m.sourceLayer:"",ee=P._geojsonTileLayer||P[F];if(!ee)return;const ue=s.createFilter(m&&m.filter),{z:me,x:Te,y:Ae}=this.tileID.canonical,$e={z:me,x:Te,y:Ae};for(let Ve=0;Ve<ee.length;Ve++){const et=ee.feature(Ve);if(ue.needGeometry){const pt=s.toEvaluationFeature(et,!0);if(!ue.filter(new s.EvaluationParameters(this.tileID.overscaledZ),pt,this.tileID.canonical))continue}else if(!ue.filter(new s.EvaluationParameters(this.tileID.overscaledZ),et))continue;const Qe=S.getId(et,F),Je=new s.GeoJSONFeature(et,me,Te,Ae,Qe);Je.tile=$e,c.push(Je)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const m=this.expirationTime;if(c.cacheControl){const S=s.parseCacheControl(c.cacheControl);S["max-age"]&&(this.expirationTime=Date.now()+1e3*S["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const S=Date.now();let P=!1;if(this.expirationTime>S)P=!1;else if(m)if(this.expirationTime<m)P=!0;else{const F=this.expirationTime-m;F?this.expirationTime=S+Math.max(F,3e4):P=!0}else P=!0;P?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,m){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(c).length===0)return;const S=this.latestFeatureIndex.loadVTLayers();for(const P in this.buckets){if(!m.style.hasLayer(P))continue;const F=this.buckets[P],ee=F.layers[0].sourceLayer||"_geojsonTileLayer",ue=S[ee],me=c[ee];if(!ue||!me||Object.keys(me).length===0)continue;F.update(me,ue,this.imageAtlas&&this.imageAtlas.patternPositions||{});const Te=m&&m.style&&m.style.getLayer(P);Te&&(this.queryPadding=Math.max(this.queryPadding,Te.queryRadius(F)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<s.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=s.exported.now()+c}setDependencies(c,m){const S={};for(const P of m)S[P]=!0;this.dependencies[c]=S}hasDependency(c,m){for(const S of c){const P=this.dependencies[S];if(P){for(const F of m)if(P[F])return!0}}return!1}}class we{constructor(c,m){this.max=c,this.onRemove=m,this.reset()}reset(){for(const c in this.data)for(const m of this.data[c])m.timeout&&clearTimeout(m.timeout),this.onRemove(m.value);return this.data={},this.order=[],this}add(c,m,S){const P=c.wrapped().key;this.data[P]===void 0&&(this.data[P]=[]);const F={value:m,timeout:void 0};if(S!==void 0&&(F.timeout=setTimeout(()=>{this.remove(c,F)},S)),this.data[P].push(F),this.order.push(P),this.order.length>this.max){const ee=this._getAndRemoveByKey(this.order[0]);ee&&this.onRemove(ee)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const m=this.data[c].shift();return m.timeout&&clearTimeout(m.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),m.value}getByKey(c){const m=this.data[c];return m?m[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,m){if(!this.has(c))return this;const S=c.wrapped().key,P=m===void 0?0:this.data[S].indexOf(m),F=this.data[S][P];return this.data[S].splice(P,1),F.timeout&&clearTimeout(F.timeout),this.data[S].length===0&&delete this.data[S],this.onRemove(F.value),this.order.splice(this.order.indexOf(S),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const m=this._getAndRemoveByKey(this.order[0]);m&&this.onRemove(m)}return this}filter(c){const m=[];for(const S in this.data)for(const P of this.data[S])c(P.value)||m.push(P);for(const S of m)this.remove(S.value.tileID,S)}}class K{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,m,S){const P=String(m);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][P]=this.stateChanges[c][P]||{},s.extend(this.stateChanges[c][P],S),this.deletedStates[c]===null){this.deletedStates[c]={};for(const F in this.state[c])F!==P&&(this.deletedStates[c][F]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][P]===null){this.deletedStates[c][P]={};for(const F in this.state[c][P])S[F]||(this.deletedStates[c][P][F]=null)}else for(const F in S)this.deletedStates[c]&&this.deletedStates[c][P]&&this.deletedStates[c][P][F]===null&&delete this.deletedStates[c][P][F]}removeFeatureState(c,m,S){if(this.deletedStates[c]===null)return;const P=String(m);if(this.deletedStates[c]=this.deletedStates[c]||{},S&&m!==void 0)this.deletedStates[c][P]!==null&&(this.deletedStates[c][P]=this.deletedStates[c][P]||{},this.deletedStates[c][P][S]=null);else if(m!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][P])for(S in this.deletedStates[c][P]={},this.stateChanges[c][P])this.deletedStates[c][P][S]=null;else this.deletedStates[c][P]=null;else this.deletedStates[c]=null}getState(c,m){const S=String(m),P=s.extend({},(this.state[c]||{})[S],(this.stateChanges[c]||{})[S]);if(this.deletedStates[c]===null)return{};if(this.deletedStates[c]){const F=this.deletedStates[c][m];if(F===null)return{};for(const ee in F)delete P[ee]}return P}initializeTileState(c,m){c.setFeatureState(this.state,m)}coalesceChanges(c,m){const S={};for(const P in this.stateChanges){this.state[P]=this.state[P]||{};const F={};for(const ee in this.stateChanges[P])this.state[P][ee]||(this.state[P][ee]={}),s.extend(this.state[P][ee],this.stateChanges[P][ee]),F[ee]=this.state[P][ee];S[P]=F}for(const P in this.deletedStates){this.state[P]=this.state[P]||{};const F={};if(this.deletedStates[P]===null)for(const ee in this.state[P])F[ee]={},this.state[P][ee]={};else for(const ee in this.deletedStates[P]){if(this.deletedStates[P][ee]===null)this.state[P][ee]={};else for(const ue of Object.keys(this.deletedStates[P][ee]))delete this.state[P][ee][ue];F[ee]=this.state[P][ee]}S[P]=S[P]||{},s.extend(S[P],F)}if(this.stateChanges={},this.deletedStates={},Object.keys(S).length!==0)for(const P in c)c[P].setFeatureState(S,m)}}class J extends s.Evented{constructor(c,m,S){super(),this.id=c,this.dispatcher=S,this.on("data",P=>{P.dataType==="source"&&P.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&P.dataType==="source"&&P.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain))}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function(P,F,ee,ue){const me=new ce[F.type](P,F,ee,ue);if(me.id!==P)throw new Error(`Expected Source id to be ${P} instead of ${me.id}`);return s.bindAll(["load","abort","unload","serialize","prepare"],me),me}(c,m,S,this),this._tiles={},this._cache=new we(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new K}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(c)}onRemove(c){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(c)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const c in this._tiles){const m=this._tiles[c];if(m.state!=="loaded"&&m.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(c,m){return this._source.loadTile(c,m)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c,()=>{})}_abortTile(c){this._source.abortTile&&this._source.abortTile(c,()=>{}),this._source.fire(new s.Event("dataabort",{tile:c,coord:c.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const m in this._tiles){const S=this._tiles[m];S.upload(c),S.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(c=>c.tileID).sort(ae).map(c=>c.key)}getRenderableIds(c){const m=[];for(const S in this._tiles)this._isIdRenderable(S,c)&&m.push(this._tiles[S]);return c?m.sort((S,P)=>{const F=S.tileID,ee=P.tileID,ue=new s.pointGeometry(F.canonical.x,F.canonical.y)._rotate(this.transform.angle),me=new s.pointGeometry(ee.canonical.x,ee.canonical.y)._rotate(this.transform.angle);return F.overscaledZ-ee.overscaledZ||me.y-ue.y||me.x-ue.x}).map(S=>S.tileID.key):m.map(S=>S.tileID).sort(ae).map(S=>S.key)}hasRenderableParent(c){const m=this.findLoadedParent(c,0);return!!m&&this._isIdRenderable(m.tileID.key)}_isIdRenderable(c,m){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(m||!this._tiles[c].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)this._tiles[c].state!=="errored"&&this._reloadTile(c,"reloading")}}_reloadTile(c,m){const S=this._tiles[c];S&&(S.state!=="loading"&&(S.state=m),this._loadTile(S,this._tileLoaded.bind(this,S,c,m)))}_tileLoaded(c,m,S,P){if(P)return c.state="errored",void(P.status!==404?this._source.fire(new s.ErrorEvent(P,{tile:c})):this.update(this.transform,this.terrain));c.timeAdded=s.exported.now(),S==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(m,c),this.getSource().type==="raster-dem"&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),c.aborted||this._source.fire(new s.Event("data",{dataType:"source",tile:c,coord:c.tileID}))}_backfillDEM(c){const m=this.getRenderableIds();for(let P=0;P<m.length;P++){const F=m[P];if(c.neighboringTiles&&c.neighboringTiles[F]){const ee=this.getTileByID(F);S(c,ee),S(ee,c)}}function S(P,F){P.needsHillshadePrepare=!0,P.needsTerrainPrepare=!0;let ee=F.tileID.canonical.x-P.tileID.canonical.x;const ue=F.tileID.canonical.y-P.tileID.canonical.y,me=Math.pow(2,P.tileID.canonical.z),Te=F.tileID.key;ee===0&&ue===0||Math.abs(ue)>1||(Math.abs(ee)>1&&(Math.abs(ee+me)===1?ee+=me:Math.abs(ee-me)===1&&(ee-=me)),F.dem&&P.dem&&(P.dem.backfillBorder(F.dem,ee,ue),P.neighboringTiles&&P.neighboringTiles[Te]&&(P.neighboringTiles[Te].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,m,S,P){for(const F in this._tiles){let ee=this._tiles[F];if(P[F]||!ee.hasData()||ee.tileID.overscaledZ<=m||ee.tileID.overscaledZ>S)continue;let ue=ee.tileID;for(;ee&&ee.tileID.overscaledZ>m+1;){const Te=ee.tileID.scaledTo(ee.tileID.overscaledZ-1);ee=this._tiles[Te.key],ee&&ee.hasData()&&(ue=Te)}let me=ue;for(;me.overscaledZ>m;)if(me=me.scaledTo(me.overscaledZ-1),c[me.key]){P[ue.key]=ue;break}}}findLoadedParent(c,m){if(c.key in this._loadedParentTiles){const S=this._loadedParentTiles[c.key];return S&&S.tileID.overscaledZ>=m?S:null}for(let S=c.overscaledZ-1;S>=m;S--){const P=c.scaledTo(S),F=this._getLoadedTile(P);if(F)return F}}_getLoadedTile(c){const m=this._tiles[c.key];return m&&m.hasData()?m:this._cache.getByKey(c.wrapped().key)}updateCacheSize(c){const m=Math.ceil(c.width/this._source.tileSize)+1,S=Math.ceil(c.height/this._source.tileSize)+1,P=Math.floor(m*S*5),F=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,P):P;this._cache.setMaxSize(F)}handleWrapJump(c){const m=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);if(this._prevLng=c,m){const S={};for(const P in this._tiles){const F=this._tiles[P];F.tileID=F.tileID.unwrapTo(F.tileID.wrap+m),S[F.tileID.key]=F}this._tiles=S;for(const P in this._timers)clearTimeout(this._timers[P]),delete this._timers[P];for(const P in this._tiles)this._setTileReloadTimer(P,this._tiles[P])}}update(c,m){if(this.transform=c,this.terrain=m,!this._sourceLoaded||this._paused)return;let S;this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?S=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(Te=>new s.OverscaledTileID(Te.canonical.z,Te.wrap,Te.canonical.z,Te.canonical.x,Te.canonical.y)):(S=c.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:m}),this._source.hasTile&&(S=S.filter(Te=>this._source.hasTile(Te)))):S=[];const P=c.coveringZoomLevel(this._source),F=Math.max(P-J.maxOverzooming,this._source.minzoom),ee=Math.max(P+J.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const Te={};for(const Ae of S)if(Ae.canonical.z>this._source.minzoom){const $e=Ae.scaledTo(Ae.canonical.z-1);Te[$e.key]=$e;const Ve=Ae.scaledTo(Math.max(this._source.minzoom,Math.min(Ae.canonical.z,5)));Te[Ve.key]=Ve}S=S.concat(Object.values(Te))}const ue=this._updateRetainedTiles(S,P);if(ve(this._source.type)){const Te={},Ae={},$e=Object.keys(ue);for(const Ve of $e){const et=ue[Ve],Qe=this._tiles[Ve];if(!Qe||Qe.fadeEndTime&&Qe.fadeEndTime<=s.exported.now())continue;const Je=this.findLoadedParent(et,F);Je&&(this._addTile(Je.tileID),Te[Je.tileID.key]=Je.tileID),Ae[Ve]=et}this._retainLoadedChildren(Ae,P,ee,ue);for(const Ve in Te)ue[Ve]||(this._coveredTiles[Ve]=!0,ue[Ve]=Te[Ve]);if(m){const Ve={},et={};for(const Qe of S)this._tiles[Qe.key].hasData()?Ve[Qe.key]=Qe:et[Qe.key]=Qe;for(const Qe in et){const Je=et[Qe].children(this._source.maxzoom);this._tiles[Je[0].key]&&this._tiles[Je[1].key]&&this._tiles[Je[2].key]&&this._tiles[Je[3].key]&&(Ve[Je[0].key]=ue[Je[0].key]=Je[0],Ve[Je[1].key]=ue[Je[1].key]=Je[1],Ve[Je[2].key]=ue[Je[2].key]=Je[2],Ve[Je[3].key]=ue[Je[3].key]=Je[3],delete et[Qe])}for(const Qe in et){const Je=this.findLoadedParent(et[Qe],this._source.minzoom);if(Je){Ve[Je.tileID.key]=ue[Je.tileID.key]=Je.tileID;for(const pt in Ve)Ve[pt].isChildOf(Je.tileID)&&delete Ve[pt]}}for(const Qe in this._tiles)Ve[Qe]||(this._coveredTiles[Qe]=!0)}}for(const Te in ue)this._tiles[Te].clearFadeHold();const me=s.keysDifference(this._tiles,ue);for(const Te of me){const Ae=this._tiles[Te];Ae.hasSymbolBuckets&&!Ae.holdingForFade()?Ae.setHoldDuration(this.map._fadeDuration):Ae.hasSymbolBuckets&&!Ae.symbolFadeFinished()||this._removeTile(Te)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(c)}_updateRetainedTiles(c,m){const S={},P={},F=Math.max(m-J.maxOverzooming,this._source.minzoom),ee=Math.max(m+J.maxUnderzooming,this._source.minzoom),ue={};for(const me of c){const Te=this._addTile(me);S[me.key]=me,Te.hasData()||m<this._source.maxzoom&&(ue[me.key]=me)}this._retainLoadedChildren(ue,m,ee,S);for(const me of c){let Te=this._tiles[me.key];if(Te.hasData())continue;if(m+1>this._source.maxzoom){const $e=me.children(this._source.maxzoom)[0],Ve=this.getTile($e);if(Ve&&Ve.hasData()){S[$e.key]=$e;continue}}else{const $e=me.children(this._source.maxzoom);if(S[$e[0].key]&&S[$e[1].key]&&S[$e[2].key]&&S[$e[3].key])continue}let Ae=Te.wasRequested();for(let $e=me.overscaledZ-1;$e>=F;--$e){const Ve=me.scaledTo($e);if(P[Ve.key]||(P[Ve.key]=!0,Te=this.getTile(Ve),!Te&&Ae&&(Te=this._addTile(Ve)),Te&&(S[Ve.key]=Ve,Ae=Te.wasRequested(),Te.hasData())))break}}return S}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const m=[];let S,P=this._tiles[c].tileID;for(;P.overscaledZ>0;){if(P.key in this._loadedParentTiles){S=this._loadedParentTiles[P.key];break}m.push(P.key);const F=P.scaledTo(P.overscaledZ-1);if(S=this._getLoadedTile(F),S)break;P=F}for(const F of m)this._loadedParentTiles[F]=S}}_addTile(c){let m=this._tiles[c.key];if(m)return m;m=this._cache.getAndRemove(c),m&&(this._setTileReloadTimer(c.key,m),m.tileID=c,this._state.initializeTileState(m,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,m)));const S=m;return m||(m=new pe(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(m,this._tileLoaded.bind(this,m,c.key,m.state))),m.uses++,this._tiles[c.key]=m,S||this._source.fire(new s.Event("dataloading",{tile:m,coord:m.tileID,dataType:"source"})),m}_setTileReloadTimer(c,m){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const S=m.getExpiryTimeout();S&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},S))}_removeTile(c){const m=this._tiles[c];m&&(m.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),m.uses>0||(m.hasData()&&m.state!=="reloading"?this._cache.add(m.tileID,m,m.getExpiryTimeout()):(m.aborted=!0,this._abortTile(m),this._unloadTile(m))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(c);this._cache.reset()}tilesIn(c,m,S){const P=[],F=this.transform;if(!F)return P;const ee=S?F.getCameraQueryGeometry(c):c,ue=c.map(Qe=>F.pointCoordinate(Qe,this.terrain)),me=ee.map(Qe=>F.pointCoordinate(Qe,this.terrain)),Te=this.getIds();let Ae=1/0,$e=1/0,Ve=-1/0,et=-1/0;for(const Qe of me)Ae=Math.min(Ae,Qe.x),$e=Math.min($e,Qe.y),Ve=Math.max(Ve,Qe.x),et=Math.max(et,Qe.y);for(let Qe=0;Qe<Te.length;Qe++){const Je=this._tiles[Te[Qe]];if(Je.holdingForFade())continue;const pt=Je.tileID,yt=Math.pow(2,F.zoom-Je.tileID.overscaledZ),wt=m*Je.queryPadding*s.EXTENT/Je.tileSize/yt,rt=[pt.getTilePoint(new s.MercatorCoordinate(Ae,$e)),pt.getTilePoint(new s.MercatorCoordinate(Ve,et))];if(rt[0].x-wt<s.EXTENT&&rt[0].y-wt<s.EXTENT&&rt[1].x+wt>=0&&rt[1].y+wt>=0){const It=ue.map(jt=>pt.getTilePoint(jt)),Et=me.map(jt=>pt.getTilePoint(jt));P.push({tile:Je,tileID:pt,queryGeometry:It,cameraQueryGeometry:Et,scale:yt})}}return P}getVisibleCoordinates(c){const m=this.getRenderableIds(c).map(S=>this._tiles[S].tileID);for(const S of m)S.posMatrix=this.transform.calculatePosMatrix(S.toUnwrapped());return m}hasTransition(){if(this._source.hasTransition())return!0;if(ve(this._source.type))for(const c in this._tiles){const m=this._tiles[c];if(m.fadeEndTime!==void 0&&m.fadeEndTime>=s.exported.now())return!0}return!1}setFeatureState(c,m,S){this._state.updateState(c=c||"_geojsonTileLayer",m,S)}removeFeatureState(c,m,S){this._state.removeFeatureState(c=c||"_geojsonTileLayer",m,S)}getFeatureState(c,m){return this._state.getState(c=c||"_geojsonTileLayer",m)}setDependencies(c,m,S){const P=this._tiles[c];P&&P.setDependencies(m,S)}reloadTilesForDependencies(c,m){for(const S in this._tiles)this._tiles[S].hasDependency(c,m)&&this._reloadTile(S,"reloading");this._cache.filter(S=>!S.hasDependency(c,m))}}function ae(I,c){const m=Math.abs(2*I.wrap)-+(I.wrap<0),S=Math.abs(2*c.wrap)-+(c.wrap<0);return I.overscaledZ-c.overscaledZ||S-m||c.canonical.y-I.canonical.y||c.canonical.x-I.canonical.x}function ve(I){return I==="raster"||I==="image"||I==="video"}J.maxOverzooming=10,J.maxUnderzooming=3;const Q="mapboxgl_preloaded_worker_pool";class re{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<re.workerCount;)this.workers.push(new Worker(Eh.workerUrl));return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(m=>{m.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Q]}numActive(){return Object.keys(this.active).length}}const le=Math.floor(s.exported.hardwareConcurrency/2);let fe;function xe(){return fe||(fe=new re),fe}function Le(I,c){const m={};for(const S in I)S!=="ref"&&(m[S]=I[S]);return s.refProperties.forEach(S=>{S in c&&(m[S]=c[S])}),m}function be(I){I=I.slice();const c=Object.create(null);for(let m=0;m<I.length;m++)c[I[m].id]=I[m];for(let m=0;m<I.length;m++)"ref"in I[m]&&(I[m]=Le(I[m],c[I[m].ref]));return I}re.workerCount=Math.max(Math.min(le,6),1);const ke={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Oe(I,c,m){m.push({command:ke.addSource,args:[I,c[I]]})}function Ue(I,c,m){c.push({command:ke.removeSource,args:[I]}),m[I]=!0}function Xe(I,c,m,S){Ue(I,m,S),Oe(I,c,m)}function Pe(I,c,m){let S;for(S in I[m])if(Object.prototype.hasOwnProperty.call(I[m],S)&&S!=="data"&&!y(I[m][S],c[m][S]))return!1;for(S in c[m])if(Object.prototype.hasOwnProperty.call(c[m],S)&&S!=="data"&&!y(I[m][S],c[m][S]))return!1;return!0}function _e(I,c,m,S,P,F){let ee;for(ee in c=c||{},I=I||{})Object.prototype.hasOwnProperty.call(I,ee)&&(y(I[ee],c[ee])||m.push({command:F,args:[S,ee,c[ee],P]}));for(ee in c)Object.prototype.hasOwnProperty.call(c,ee)&&!Object.prototype.hasOwnProperty.call(I,ee)&&(y(I[ee],c[ee])||m.push({command:F,args:[S,ee,c[ee],P]}))}function Ee(I){return I.id}function Re(I,c){return I[c.id]=c,I}class Me{constructor(c,m){this.reset(c,m)}reset(c,m){this.points=c||[],this._distances=[0];for(let S=1;S<this.points.length;S++)this._distances[S]=this._distances[S-1]+this.points[S].dist(this.points[S-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(m||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=s.clamp(c,0,1);let m=1,S=this._distances[m];const P=c*this.paddedLength+this.padding;for(;S<P&&m<this._distances.length;)S=this._distances[++m];const F=m-1,ee=this._distances[F],ue=S-ee,me=ue>0?(P-ee)/ue:0;return this.points[F].mult(1-me).add(this.points[m].mult(me))}}function ze(I,c){let m=!0;return I==="always"||I!=="never"&&c!=="never"||(m=!1),m}class Ke{constructor(c,m,S){const P=this.boxCells=[],F=this.circleCells=[];this.xCellCount=Math.ceil(c/S),this.yCellCount=Math.ceil(m/S);for(let ee=0;ee<this.xCellCount*this.yCellCount;ee++)P.push([]),F.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=m,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/m,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,m,S,P,F){this._forEachCell(m,S,P,F,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(m),this.bboxes.push(S),this.bboxes.push(P),this.bboxes.push(F)}insertCircle(c,m,S,P){this._forEachCell(m-P,S-P,m+P,S+P,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(m),this.circles.push(S),this.circles.push(P)}_insertBoxCell(c,m,S,P,F,ee){this.boxCells[F].push(ee)}_insertCircleCell(c,m,S,P,F,ee){this.circleCells[F].push(ee)}_query(c,m,S,P,F,ee,ue){if(S<0||c>this.width||P<0||m>this.height)return[];const me=[];if(c<=0&&m<=0&&this.width<=S&&this.height<=P){if(F)return[{key:null,x1:c,y1:m,x2:S,y2:P}];for(let Te=0;Te<this.boxKeys.length;Te++)me.push({key:this.boxKeys[Te],x1:this.bboxes[4*Te],y1:this.bboxes[4*Te+1],x2:this.bboxes[4*Te+2],y2:this.bboxes[4*Te+3]});for(let Te=0;Te<this.circleKeys.length;Te++){const Ae=this.circles[3*Te],$e=this.circles[3*Te+1],Ve=this.circles[3*Te+2];me.push({key:this.circleKeys[Te],x1:Ae-Ve,y1:$e-Ve,x2:Ae+Ve,y2:$e+Ve})}}else this._forEachCell(c,m,S,P,this._queryCell,me,{hitTest:F,overlapMode:ee,seenUids:{box:{},circle:{}}},ue);return me}query(c,m,S,P){return this._query(c,m,S,P,!1,null)}hitTest(c,m,S,P,F,ee){return this._query(c,m,S,P,!0,F,ee).length>0}hitTestCircle(c,m,S,P,F){const ee=c-S,ue=c+S,me=m-S,Te=m+S;if(ue<0||ee>this.width||Te<0||me>this.height)return!1;const Ae=[];return this._forEachCell(ee,me,ue,Te,this._queryCellCircle,Ae,{hitTest:!0,overlapMode:P,circle:{x:c,y:m,radius:S},seenUids:{box:{},circle:{}}},F),Ae.length>0}_queryCell(c,m,S,P,F,ee,ue,me){const{seenUids:Te,hitTest:Ae,overlapMode:$e}=ue,Ve=this.boxCells[F];if(Ve!==null){const Qe=this.bboxes;for(const Je of Ve)if(!Te.box[Je]){Te.box[Je]=!0;const pt=4*Je,yt=this.boxKeys[Je];if(c<=Qe[pt+2]&&m<=Qe[pt+3]&&S>=Qe[pt+0]&&P>=Qe[pt+1]&&(!me||me(yt))&&(!Ae||!ze($e,yt.overlapMode))&&(ee.push({key:yt,x1:Qe[pt],y1:Qe[pt+1],x2:Qe[pt+2],y2:Qe[pt+3]}),Ae))return!0}}const et=this.circleCells[F];if(et!==null){const Qe=this.circles;for(const Je of et)if(!Te.circle[Je]){Te.circle[Je]=!0;const pt=3*Je,yt=this.circleKeys[Je];if(this._circleAndRectCollide(Qe[pt],Qe[pt+1],Qe[pt+2],c,m,S,P)&&(!me||me(yt))&&(!Ae||!ze($e,yt.overlapMode))){const wt=Qe[pt],rt=Qe[pt+1],It=Qe[pt+2];if(ee.push({key:yt,x1:wt-It,y1:rt-It,x2:wt+It,y2:rt+It}),Ae)return!0}}}return!1}_queryCellCircle(c,m,S,P,F,ee,ue,me){const{circle:Te,seenUids:Ae,overlapMode:$e}=ue,Ve=this.boxCells[F];if(Ve!==null){const Qe=this.bboxes;for(const Je of Ve)if(!Ae.box[Je]){Ae.box[Je]=!0;const pt=4*Je,yt=this.boxKeys[Je];if(this._circleAndRectCollide(Te.x,Te.y,Te.radius,Qe[pt+0],Qe[pt+1],Qe[pt+2],Qe[pt+3])&&(!me||me(yt))&&!ze($e,yt.overlapMode))return ee.push(!0),!0}}const et=this.circleCells[F];if(et!==null){const Qe=this.circles;for(const Je of et)if(!Ae.circle[Je]){Ae.circle[Je]=!0;const pt=3*Je,yt=this.circleKeys[Je];if(this._circlesCollide(Qe[pt],Qe[pt+1],Qe[pt+2],Te.x,Te.y,Te.radius)&&(!me||me(yt))&&!ze($e,yt.overlapMode))return ee.push(!0),!0}}}_forEachCell(c,m,S,P,F,ee,ue,me){const Te=this._convertToXCellCoord(c),Ae=this._convertToYCellCoord(m),$e=this._convertToXCellCoord(S),Ve=this._convertToYCellCoord(P);for(let et=Te;et<=$e;et++)for(let Qe=Ae;Qe<=Ve;Qe++)if(F.call(this,c,m,S,P,this.xCellCount*Qe+et,ee,ue,me))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,m,S,P,F,ee){const ue=P-c,me=F-m,Te=S+ee;return Te*Te>ue*ue+me*me}_circleAndRectCollide(c,m,S,P,F,ee,ue){const me=(ee-P)/2,Te=Math.abs(c-(P+me));if(Te>me+S)return!1;const Ae=(ue-F)/2,$e=Math.abs(m-(F+Ae));if($e>Ae+S)return!1;if(Te<=me||$e<=Ae)return!0;const Ve=Te-me,et=$e-Ae;return Ve*Ve+et*et<=S*S}}function tt(I,c,m,S,P){const F=s.create();return c?(s.scale(F,F,[1/P,1/P,1]),m||s.rotateZ(F,F,S.angle)):s.multiply(F,S.labelPlaneMatrix,I),F}function st(I,c,m,S,P){if(c){const F=s.clone(I);return s.scale(F,F,[P,P,1]),m||s.rotateZ(F,F,-S.angle),F}return S.glCoordMatrix}function ht(I,c,m){let S;m?(S=[I.x,I.y,m(I.x,I.y),1],s.transformMat4(S,S,c)):(S=[I.x,I.y,0,1],ni(S,S,c));const P=S[3];return{point:new s.pointGeometry(S[0]/P,S[1]/P),signedDistanceFromCamera:P}}function gt(I,c){return .5+I/c*.5}function Tt(I,c){const m=I[0]/I[3],S=I[1]/I[3];return m>=-c[0]&&m<=c[0]&&S>=-c[1]&&S<=c[1]}function $t(I,c,m,S,P,F,ee,ue,me,Te){const Ae=S?I.textSizeData:I.iconSizeData,$e=s.evaluateSizeForZoom(Ae,m.transform.zoom),Ve=[256/m.width*2+1,256/m.height*2+1],et=S?I.text.dynamicLayoutVertexArray:I.icon.dynamicLayoutVertexArray;et.clear();const Qe=I.lineVertexArray,Je=S?I.text.placedSymbolArray:I.icon.placedSymbolArray,pt=m.transform.width/m.transform.height;let yt=!1;for(let wt=0;wt<Je.length;wt++){const rt=Je.get(wt);if(rt.hidden||rt.writingMode===s.WritingMode.vertical&&!yt){di(rt.numGlyphs,et);continue}let It;if(yt=!1,Te?(It=[rt.anchorX,rt.anchorY,Te(rt.anchorX,rt.anchorY),1],s.transformMat4(It,It,c)):(It=[rt.anchorX,rt.anchorY,0,1],ni(It,It,c)),!Tt(It,Ve)){di(rt.numGlyphs,et);continue}const Et=gt(m.transform.cameraToCenterDistance,It[3]),jt=s.evaluateSizeForFeature(Ae,$e,rt),Ut=ee?jt/Et:jt*Et,qt=new s.pointGeometry(rt.anchorX,rt.anchorY),zt=ht(qt,P,Te).point,hn={},tn=St(rt,Ut,!1,ue,c,P,F,I.glyphOffsetArray,Qe,et,zt,qt,hn,pt,me,Te);yt=tn.useVertical,(tn.notEnoughRoom||yt||tn.needsFlipping&&St(rt,Ut,!0,ue,c,P,F,I.glyphOffsetArray,Qe,et,zt,qt,hn,pt,me,Te).notEnoughRoom)&&di(rt.numGlyphs,et)}S?I.text.dynamicLayoutVertexBuffer.updateData(et):I.icon.dynamicLayoutVertexBuffer.updateData(et)}function mt(I,c,m,S,P,F,ee,ue,me,Te,Ae,$e,Ve){const et=ue.glyphStartIndex+ue.numGlyphs,Qe=ue.lineStartIndex,Je=ue.lineStartIndex+ue.lineLength,pt=c.getoffsetX(ue.glyphStartIndex),yt=c.getoffsetX(et-1),wt=yn(I*pt,m,S,P,F,ee,ue.segment,Qe,Je,me,Te,Ae,$e,Ve);if(!wt)return null;const rt=yn(I*yt,m,S,P,F,ee,ue.segment,Qe,Je,me,Te,Ae,$e,Ve);return rt?{first:wt,last:rt}:null}function Ct(I,c,m,S){return I===s.WritingMode.horizontal&&Math.abs(m.y-c.y)>Math.abs(m.x-c.x)*S?{useVertical:!0}:(I===s.WritingMode.vertical?c.y<m.y:c.x>m.x)?{needsFlipping:!0}:null}function St(I,c,m,S,P,F,ee,ue,me,Te,Ae,$e,Ve,et,Qe,Je){const pt=c/24,yt=I.lineOffsetX*pt,wt=I.lineOffsetY*pt;let rt;if(I.numGlyphs>1){const It=I.glyphStartIndex+I.numGlyphs,Et=I.lineStartIndex,jt=I.lineStartIndex+I.lineLength,Ut=mt(pt,ue,yt,wt,m,Ae,$e,I,me,F,Ve,Qe,Je);if(!Ut)return{notEnoughRoom:!0};const qt=ht(Ut.first.point,ee,Je).point,zt=ht(Ut.last.point,ee,Je).point;if(S&&!m){const hn=Ct(I.writingMode,qt,zt,et);if(hn)return hn}rt=[Ut.first];for(let hn=I.glyphStartIndex+1;hn<It-1;hn++)rt.push(yn(pt*ue.getoffsetX(hn),yt,wt,m,Ae,$e,I.segment,Et,jt,me,F,Ve,Qe,Je));rt.push(Ut.last)}else{if(S&&!m){const Et=ht($e,P,Je).point,jt=I.lineStartIndex+I.segment+1,Ut=new s.pointGeometry(me.getx(jt),me.gety(jt)),qt=ht(Ut,P,Je),zt=qt.signedDistanceFromCamera>0?qt.point:sn($e,Ut,Et,1,P,Je),hn=Ct(I.writingMode,Et,zt,et);if(hn)return hn}const It=yn(pt*ue.getoffsetX(I.glyphStartIndex),yt,wt,m,Ae,$e,I.segment,I.lineStartIndex,I.lineStartIndex+I.lineLength,me,F,Ve,Qe,Je);if(!It)return{notEnoughRoom:!0};rt=[It]}for(const It of rt)s.addDynamicAttributes(Te,It.point,It.angle);return{}}function sn(I,c,m,S,P,F){const ee=ht(I.add(I.sub(c)._unit()),P,F).point,ue=m.sub(ee);return m.add(ue._mult(S/ue.mag()))}function yn(I,c,m,S,P,F,ee,ue,me,Te,Ae,$e,Ve,et){const Qe=S?I-c:I+c;let Je=Qe>0?1:-1,pt=0;S&&(Je*=-1,pt=Math.PI),Je<0&&(pt+=Math.PI);let yt=Je>0?ue+ee:ue+ee+1,wt=P,rt=P,It=0,Et=0;const jt=Math.abs(Qe),Ut=[];for(;It+Et<=jt;){if(yt+=Je,yt<ue||yt>=me)return null;if(rt=wt,Ut.push(wt),wt=$e[yt],wt===void 0){const mn=new s.pointGeometry(Te.getx(yt),Te.gety(yt)),ii=ht(mn,Ae,et);if(ii.signedDistanceFromCamera>0)wt=$e[yt]=ii.point;else{const hi=yt-Je;wt=sn(It===0?F:new s.pointGeometry(Te.getx(hi),Te.gety(hi)),mn,rt,jt-It+1,Ae,et)}}It+=Et,Et=rt.dist(wt)}const qt=(jt-It)/Et,zt=wt.sub(rt),hn=zt.mult(qt)._add(rt);hn._add(zt._unit()._perp()._mult(m*Je));const tn=pt+Math.atan2(wt.y-rt.y,wt.x-rt.x);return Ut.push(hn),{point:hn,angle:Ve?tn:0,path:Ut}}const Zt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function di(I,c){for(let m=0;m<I;m++){const S=c.length;c.resize(S+4),c.float32.set(Zt,3*S)}}function ni(I,c,m){const S=c[0],P=c[1];return I[0]=m[0]*S+m[4]*P+m[12],I[1]=m[1]*S+m[5]*P+m[13],I[3]=m[3]*S+m[7]*P+m[15],I}const _i=100;class Vi{constructor(c,m=new Ke(c.width+200,c.height+200,25),S=new Ke(c.width+200,c.height+200,25)){this.transform=c,this.grid=m,this.ignoredGrid=S,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+_i,this.screenBottomBoundary=c.height+_i,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(c,m,S,P,F,ee){const ue=this.projectAndGetPerspectiveRatio(P,c.anchorPointX,c.anchorPointY,ee),me=S*ue.perspectiveRatio,Te=c.x1*me+ue.point.x,Ae=c.y1*me+ue.point.y,$e=c.x2*me+ue.point.x,Ve=c.y2*me+ue.point.y;return!this.isInsideGrid(Te,Ae,$e,Ve)||m!=="always"&&this.grid.hitTest(Te,Ae,$e,Ve,m,F)||ue.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[Te,Ae,$e,Ve],offscreen:this.isOffscreen(Te,Ae,$e,Ve)}}placeCollisionCircles(c,m,S,P,F,ee,ue,me,Te,Ae,$e,Ve,et,Qe){const Je=[],pt=new s.pointGeometry(m.anchorX,m.anchorY),yt=ht(pt,ee,Qe),wt=gt(this.transform.cameraToCenterDistance,yt.signedDistanceFromCamera),rt=(Ae?F/wt:F*wt)/s.ONE_EM,It=ht(pt,ue,Qe).point,Et=mt(rt,P,m.lineOffsetX*rt,m.lineOffsetY*rt,!1,It,pt,m,S,ue,{},!1,Qe);let jt=!1,Ut=!1,qt=!0;if(Et){const zt=.5*Ve*wt+et,hn=new s.pointGeometry(-100,-100),tn=new s.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),mn=new Me,ii=Et.first,hi=Et.last;let Rn=[];for(let Si=ii.path.length-1;Si>=1;Si--)Rn.push(ii.path[Si]);for(let Si=1;Si<hi.path.length;Si++)Rn.push(hi.path[Si]);const Wi=2.5*zt;if(me){const Si=Rn.map(Ei=>ht(Ei,me,Qe));Rn=Si.some(Ei=>Ei.signedDistanceFromCamera<=0)?[]:Si.map(Ei=>Ei.point)}let Hi=[];if(Rn.length>0){const Si=Rn[0].clone(),Ei=Rn[0].clone();for(let Ii=1;Ii<Rn.length;Ii++)Si.x=Math.min(Si.x,Rn[Ii].x),Si.y=Math.min(Si.y,Rn[Ii].y),Ei.x=Math.max(Ei.x,Rn[Ii].x),Ei.y=Math.max(Ei.y,Rn[Ii].y);Hi=Si.x>=hn.x&&Ei.x<=tn.x&&Si.y>=hn.y&&Ei.y<=tn.y?[Rn]:Ei.x<hn.x||Si.x>tn.x||Ei.y<hn.y||Si.y>tn.y?[]:s.clipLine([Rn],hn.x,hn.y,tn.x,tn.y)}for(const Si of Hi){mn.reset(Si,.25*zt);let Ei=0;Ei=mn.length<=.5*zt?1:Math.ceil(mn.paddedLength/Wi)+1;for(let Ii=0;Ii<Ei;Ii++){const so=Ii/Math.max(Ei-1,1),Cl=mn.lerp(so),Zo=Cl.x+_i,Ko=Cl.y+_i;Je.push(Zo,Ko,zt,0);const yu=Zo-zt,Ga=Ko-zt,Qo=Zo+zt,vu=Ko+zt;if(qt=qt&&this.isOffscreen(yu,Ga,Qo,vu),Ut=Ut||this.isInsideGrid(yu,Ga,Qo,vu),c!=="always"&&this.grid.hitTestCircle(Zo,Ko,zt,c,$e)&&(jt=!0,!Te))return{circles:[],offscreen:!1,collisionDetected:jt}}}}return{circles:!Te&&jt||!Ut||wt<this.perspectiveRatioCutoff?[]:Je,offscreen:qt,collisionDetected:jt}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const m=[];let S=1/0,P=1/0,F=-1/0,ee=-1/0;for(const Ae of c){const $e=new s.pointGeometry(Ae.x+_i,Ae.y+_i);S=Math.min(S,$e.x),P=Math.min(P,$e.y),F=Math.max(F,$e.x),ee=Math.max(ee,$e.y),m.push($e)}const ue=this.grid.query(S,P,F,ee).concat(this.ignoredGrid.query(S,P,F,ee)),me={},Te={};for(const Ae of ue){const $e=Ae.key;if(me[$e.bucketInstanceId]===void 0&&(me[$e.bucketInstanceId]={}),me[$e.bucketInstanceId][$e.featureIndex])continue;const Ve=[new s.pointGeometry(Ae.x1,Ae.y1),new s.pointGeometry(Ae.x2,Ae.y1),new s.pointGeometry(Ae.x2,Ae.y2),new s.pointGeometry(Ae.x1,Ae.y2)];s.polygonIntersectsPolygon(m,Ve)&&(me[$e.bucketInstanceId][$e.featureIndex]=!0,Te[$e.bucketInstanceId]===void 0&&(Te[$e.bucketInstanceId]=[]),Te[$e.bucketInstanceId].push($e.featureIndex))}return Te}insertCollisionBox(c,m,S,P,F,ee){(S?this.ignoredGrid:this.grid).insert({bucketInstanceId:P,featureIndex:F,collisionGroupID:ee,overlapMode:m},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,m,S,P,F,ee){const ue=S?this.ignoredGrid:this.grid,me={bucketInstanceId:P,featureIndex:F,collisionGroupID:ee,overlapMode:m};for(let Te=0;Te<c.length;Te+=4)ue.insertCircle(me,c[Te],c[Te+1],c[Te+2])}projectAndGetPerspectiveRatio(c,m,S,P){let F;return P?(F=[m,S,P(m,S),1],s.transformMat4(F,F,c)):(F=[m,S,0,1],ni(F,F,c)),{point:new s.pointGeometry((F[0]/F[3]+1)/2*this.transform.width+_i,(-F[1]/F[3]+1)/2*this.transform.height+_i),perspectiveRatio:.5+this.transform.cameraToCenterDistance/F[3]*.5}}isOffscreen(c,m,S,P){return S<_i||c>=this.screenRightBoundary||P<_i||m>this.screenBottomBoundary}isInsideGrid(c,m,S,P){return S>=0&&c<this.gridRightBoundary&&P>=0&&m<this.gridBottomBoundary}getViewportMatrix(){const c=s.identity([]);return s.translate(c,c,[-100,-100,0]),c}}function oi(I,c,m){return c*(s.EXTENT/(I.tileSize*Math.pow(2,m-I.tileID.overscaledZ)))}class ut{constructor(c,m,S,P){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?m:-m))):P&&S?1:0,this.placed=S}isHidden(){return this.opacity===0&&!this.placed}}class xt{constructor(c,m,S,P,F){this.text=new ut(c?c.text:null,m,S,F),this.icon=new ut(c?c.icon:null,m,P,F)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Mt{constructor(c,m,S){this.text=c,this.icon=m,this.skipFade=S}}class Gt{constructor(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]}}class Qt{constructor(c,m,S,P,F){this.bucketInstanceId=c,this.featureIndex=m,this.sourceLayerIndex=S,this.bucketIndex=P,this.tileID=F}}class Tn{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const m=++this.maxGroupID;this.collisionGroups[c]={ID:m,predicate:S=>S.collisionGroupID===m}}return this.collisionGroups[c]}}function Gn(I,c,m,S,P){const{horizontalAlign:F,verticalAlign:ee}=s.getAnchorAlignment(I),ue=-(F-.5)*c,me=-(ee-.5)*m,Te=s.evaluateVariableOffset(I,S);return new s.pointGeometry(ue+Te[0]*P,me+Te[1]*P)}function vn(I,c,m,S,P,F){const{x1:ee,x2:ue,y1:me,y2:Te,anchorPointX:Ae,anchorPointY:$e}=I,Ve=new s.pointGeometry(c,m);return S&&Ve._rotate(P?F:-F),{x1:ee+Ve.x,y1:me+Ve.y,x2:ue+Ve.x,y2:Te+Ve.y,anchorPointX:Ae,anchorPointY:$e}}class Ge{constructor(c,m,S,P,F){this.transform=c.clone(),this.terrain=m,this.collisionIndex=new Vi(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=S,this.retainedQueryData={},this.collisionGroups=new Tn(P),this.collisionCircleArrays={},this.prevPlacement=F,F&&(F.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,m,S,P){const F=S.getBucket(m),ee=S.latestFeatureIndex;if(!F||!ee||m.id!==F.layerIds[0])return;const ue=S.collisionBoxArray,me=F.layers[0].layout,Te=Math.pow(2,this.transform.zoom-S.tileID.overscaledZ),Ae=S.tileSize/s.EXTENT,$e=this.transform.calculatePosMatrix(S.tileID.toUnwrapped()),Ve=me.get("text-pitch-alignment")==="map",et=me.get("text-rotation-alignment")==="map",Qe=oi(S,1,this.transform.zoom),Je=tt($e,Ve,et,this.transform,Qe);let pt=null;if(Ve){const wt=st($e,Ve,et,this.transform,Qe);pt=s.multiply([],this.transform.labelPlaneMatrix,wt)}this.retainedQueryData[F.bucketInstanceId]=new Qt(F.bucketInstanceId,ee,F.sourceLayerIndex,F.index,S.tileID);const yt={bucket:F,layout:me,posMatrix:$e,textLabelPlaneMatrix:Je,labelToScreenMatrix:pt,scale:Te,textPixelRatio:Ae,holdingForFade:S.holdingForFade(),collisionBoxArray:ue,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(F.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(F.sourceID)};if(P)for(const wt of F.sortKeyRanges){const{sortKey:rt,symbolInstanceStart:It,symbolInstanceEnd:Et}=wt;c.push({sortKey:rt,symbolInstanceStart:It,symbolInstanceEnd:Et,parameters:yt})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:F.symbolInstances.length,parameters:yt})}attemptAnchorPlacement(c,m,S,P,F,ee,ue,me,Te,Ae,$e,Ve,et,Qe,Je,pt){const yt=[Ve.textOffset0,Ve.textOffset1],wt=Gn(c,S,P,yt,F),rt=this.collisionIndex.placeCollisionBox(vn(m,wt.x,wt.y,ee,ue,this.transform.angle),$e,me,Te,Ae.predicate,pt);if((!Je||this.collisionIndex.placeCollisionBox(vn(Je,wt.x,wt.y,ee,ue,this.transform.angle),$e,me,Te,Ae.predicate,pt).box.length!==0)&&rt.box.length>0){let It;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ve.crossTileID]&&this.prevPlacement.placements[Ve.crossTileID]&&this.prevPlacement.placements[Ve.crossTileID].text&&(It=this.prevPlacement.variableOffsets[Ve.crossTileID].anchor),Ve.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Ve.crossTileID]={textOffset:yt,width:S,height:P,anchor:c,textBoxScale:F,prevAnchor:It},this.markUsedJustification(et,c,Ve,Qe),et.allowVerticalPlacement&&(this.markUsedOrientation(et,Qe,Ve),this.placedOrientations[Ve.crossTileID]=Qe),{shift:wt,placedGlyphBoxes:rt}}}placeLayerBucketPart(c,m,S){const{bucket:P,layout:F,posMatrix:ee,textLabelPlaneMatrix:ue,labelToScreenMatrix:me,textPixelRatio:Te,holdingForFade:Ae,collisionBoxArray:$e,partiallyEvaluatedTextSize:Ve,collisionGroup:et}=c.parameters,Qe=F.get("text-optional"),Je=F.get("icon-optional"),pt=s.getOverlapMode(F,"text-overlap","text-allow-overlap"),yt=pt==="always",wt=s.getOverlapMode(F,"icon-overlap","icon-allow-overlap"),rt=wt==="always",It=F.get("text-rotation-alignment")==="map",Et=F.get("text-pitch-alignment")==="map",jt=F.get("icon-text-fit")!=="none",Ut=F.get("symbol-z-order")==="viewport-y",qt=yt&&(rt||!P.hasIconData()||Je),zt=rt&&(yt||!P.hasTextData()||Qe);!P.collisionArrays&&$e&&P.deserializeCollisionBoxes($e);const hn=(tn,mn)=>{if(m[tn.crossTileID])return;if(Ae)return void(this.placements[tn.crossTileID]=new Mt(!1,!1,!1));let ii=!1,hi=!1,Rn=!0,Wi=null,Hi={box:null,offscreen:null},Si={box:null,offscreen:null},Ei=null,Ii=null,so=null,Cl=0,Zo=0,Ko=0;mn.textFeatureIndex?Cl=mn.textFeatureIndex:tn.useRuntimeCollisionCircles&&(Cl=tn.featureIndex),mn.verticalTextFeatureIndex&&(Zo=mn.verticalTextFeatureIndex);const yu=this.retainedQueryData[P.bucketInstanceId].tileID,Ga=this.terrain?(Ai,hr)=>this.terrain.getElevation(yu,Ai,hr):null;for(const Ai of["textBox","verticalTextBox","iconBox","verticalIconBox"]){const hr=mn[Ai];hr&&(hr.elevation=Ga?Ga(hr.anchorPointX,hr.anchorPointY):0)}const Qo=mn.textBox;if(Qo){const Ai=$i=>{let ua=s.WritingMode.horizontal;if(P.allowVerticalPlacement&&!$i&&this.prevPlacement){const Ys=this.prevPlacement.placedOrientations[tn.crossTileID];Ys&&(this.placedOrientations[tn.crossTileID]=Ys,ua=Ys,this.markUsedOrientation(P,ua,tn))}return ua},hr=($i,ua)=>{if(P.allowVerticalPlacement&&tn.numVerticalGlyphVertices>0&&mn.verticalTextBox){for(const Ys of P.writingModes)if(Ys===s.WritingMode.vertical?(Hi=ua(),Si=Hi):Hi=$i(),Hi&&Hi.box&&Hi.box.length)break}else Hi=$i()};if(F.get("text-variable-anchor")){let $i=F.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[tn.crossTileID]){const yr=this.prevPlacement.variableOffsets[tn.crossTileID];$i.indexOf(yr.anchor)>0&&($i=$i.filter(Do=>Do!==yr.anchor),$i.unshift(yr.anchor))}const ua=(yr,Do,dd)=>{const hd=yr.x2-yr.x1,lm=yr.y2-yr.y1,_g=tn.textBoxScale,cm=jt&&wt==="never"?Do:null;let Jo={box:[],offscreen:!1};const um=pt!=="never"?2*$i.length:$i.length;for(let kh=0;kh<um;++kh){const dm=this.attemptAnchorPlacement($i[kh%$i.length],yr,hd,lm,_g,It,Et,Te,ee,et,kh>=$i.length?pt:"never",tn,P,dd,cm,Ga);if(dm&&(Jo=dm.placedGlyphBoxes,Jo&&Jo.box&&Jo.box.length)){ii=!0,Wi=dm.shift;break}}return Jo};hr(()=>ua(Qo,mn.iconBox,s.WritingMode.horizontal),()=>{const yr=mn.verticalTextBox;return P.allowVerticalPlacement&&!(Hi&&Hi.box&&Hi.box.length)&&tn.numVerticalGlyphVertices>0&&yr?ua(yr,mn.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null}}),Hi&&(ii=Hi.box,Rn=Hi.offscreen);const Ys=Ai(Hi&&Hi.box);if(!ii&&this.prevPlacement){const yr=this.prevPlacement.variableOffsets[tn.crossTileID];yr&&(this.variableOffsets[tn.crossTileID]=yr,this.markUsedJustification(P,yr.anchor,tn,Ys))}}else{const $i=(ua,Ys)=>{const yr=this.collisionIndex.placeCollisionBox(ua,pt,Te,ee,et.predicate,Ga);return yr&&yr.box&&yr.box.length&&(this.markUsedOrientation(P,Ys,tn),this.placedOrientations[tn.crossTileID]=Ys),yr};hr(()=>$i(Qo,s.WritingMode.horizontal),()=>{const ua=mn.verticalTextBox;return P.allowVerticalPlacement&&tn.numVerticalGlyphVertices>0&&ua?$i(ua,s.WritingMode.vertical):{box:null,offscreen:null}}),Ai(Hi&&Hi.box&&Hi.box.length)}}if(Ei=Hi,ii=Ei&&Ei.box&&Ei.box.length>0,Rn=Ei&&Ei.offscreen,tn.useRuntimeCollisionCircles){const Ai=P.text.placedSymbolArray.get(tn.centerJustifiedTextSymbolIndex),hr=s.evaluateSizeForFeature(P.textSizeData,Ve,Ai),$i=F.get("text-padding");Ii=this.collisionIndex.placeCollisionCircles(pt,Ai,P.lineVertexArray,P.glyphOffsetArray,hr,ee,ue,me,S,Et,et.predicate,tn.collisionCircleDiameter,$i,Ga),Ii.circles.length&&Ii.collisionDetected&&!S&&s.warnOnce("Collisions detected, but collision boxes are not shown"),ii=yt||Ii.circles.length>0&&!Ii.collisionDetected,Rn=Rn&&Ii.offscreen}if(mn.iconFeatureIndex&&(Ko=mn.iconFeatureIndex),mn.iconBox){const Ai=hr=>{const $i=jt&&Wi?vn(hr,Wi.x,Wi.y,It,Et,this.transform.angle):hr;return this.collisionIndex.placeCollisionBox($i,wt,Te,ee,et.predicate,Ga)};Si&&Si.box&&Si.box.length&&mn.verticalIconBox?(so=Ai(mn.verticalIconBox),hi=so.box.length>0):(so=Ai(mn.iconBox),hi=so.box.length>0),Rn=Rn&&so.offscreen}const vu=Qe||tn.numHorizontalGlyphVertices===0&&tn.numVerticalGlyphVertices===0,om=Je||tn.numIconVertices===0;if(vu||om?om?vu||(hi=hi&&ii):ii=hi&&ii:hi=ii=hi&&ii,ii&&Ei&&Ei.box&&this.collisionIndex.insertCollisionBox(Ei.box,pt,F.get("text-ignore-placement"),P.bucketInstanceId,Si&&Si.box&&Zo?Zo:Cl,et.ID),hi&&so&&this.collisionIndex.insertCollisionBox(so.box,wt,F.get("icon-ignore-placement"),P.bucketInstanceId,Ko,et.ID),Ii&&(ii&&this.collisionIndex.insertCollisionCircles(Ii.circles,pt,F.get("text-ignore-placement"),P.bucketInstanceId,Cl,et.ID),S)){const Ai=P.bucketInstanceId;let hr=this.collisionCircleArrays[Ai];hr===void 0&&(hr=this.collisionCircleArrays[Ai]=new Gt);for(let $i=0;$i<Ii.circles.length;$i+=4)hr.circles.push(Ii.circles[$i+0]),hr.circles.push(Ii.circles[$i+1]),hr.circles.push(Ii.circles[$i+2]),hr.circles.push(Ii.collisionDetected?1:0)}if(tn.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(P.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[tn.crossTileID]=new Mt(ii||qt,hi||zt,Rn||P.justReloaded),m[tn.crossTileID]=!0};if(Ut){if(c.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const tn=P.getSortedSymbolIndexes(this.transform.angle);for(let mn=tn.length-1;mn>=0;--mn){const ii=tn[mn];hn(P.symbolInstances.get(ii),P.collisionArrays[ii])}}else for(let tn=c.symbolInstanceStart;tn<c.symbolInstanceEnd;tn++)hn(P.symbolInstances.get(tn),P.collisionArrays[tn]);if(S&&P.bucketInstanceId in this.collisionCircleArrays){const tn=this.collisionCircleArrays[P.bucketInstanceId];s.invert(tn.invProjMatrix,ee),tn.viewportMatrix=this.collisionIndex.getViewportMatrix()}P.justReloaded=!1}markUsedJustification(c,m,S,P){let F;F=P===s.WritingMode.vertical?S.verticalPlacedTextSymbolIndex:{left:S.leftJustifiedTextSymbolIndex,center:S.centerJustifiedTextSymbolIndex,right:S.rightJustifiedTextSymbolIndex}[s.getAnchorJustification(m)];const ee=[S.leftJustifiedTextSymbolIndex,S.centerJustifiedTextSymbolIndex,S.rightJustifiedTextSymbolIndex,S.verticalPlacedTextSymbolIndex];for(const ue of ee)ue>=0&&(c.text.placedSymbolArray.get(ue).crossTileID=F>=0&&ue!==F?0:S.crossTileID)}markUsedOrientation(c,m,S){const P=m===s.WritingMode.horizontal||m===s.WritingMode.horizontalOnly?m:0,F=m===s.WritingMode.vertical?m:0,ee=[S.leftJustifiedTextSymbolIndex,S.centerJustifiedTextSymbolIndex,S.rightJustifiedTextSymbolIndex];for(const ue of ee)c.text.placedSymbolArray.get(ue).placedOrientation=P;S.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(S.verticalPlacedTextSymbolIndex).placedOrientation=F)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const m=this.prevPlacement;let S=!1;this.prevZoomAdjustment=m?m.zoomAdjustment(this.transform.zoom):0;const P=m?m.symbolFadeChange(c):1,F=m?m.opacities:{},ee=m?m.variableOffsets:{},ue=m?m.placedOrientations:{};for(const me in this.placements){const Te=this.placements[me],Ae=F[me];Ae?(this.opacities[me]=new xt(Ae,P,Te.text,Te.icon),S=S||Te.text!==Ae.text.placed||Te.icon!==Ae.icon.placed):(this.opacities[me]=new xt(null,P,Te.text,Te.icon,Te.skipFade),S=S||Te.text||Te.icon)}for(const me in F){const Te=F[me];if(!this.opacities[me]){const Ae=new xt(Te,P,!1,!1);Ae.isHidden()||(this.opacities[me]=Ae,S=S||Te.text.placed||Te.icon.placed)}}for(const me in ee)this.variableOffsets[me]||!this.opacities[me]||this.opacities[me].isHidden()||(this.variableOffsets[me]=ee[me]);for(const me in ue)this.placedOrientations[me]||!this.opacities[me]||this.opacities[me].isHidden()||(this.placedOrientations[me]=ue[me]);if(m&&m.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");S?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=m?m.lastPlacementChangeTime:c)}updateLayerOpacities(c,m){const S={};for(const P of m){const F=P.getBucket(c);F&&P.latestFeatureIndex&&c.id===F.layerIds[0]&&this.updateBucketOpacities(F,S,P.collisionBoxArray)}}updateBucketOpacities(c,m,S){c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const P=c.layers[0].layout,F=new xt(null,0,!1,!1,!0),ee=P.get("text-allow-overlap"),ue=P.get("icon-allow-overlap"),me=P.get("text-variable-anchor"),Te=P.get("text-rotation-alignment")==="map",Ae=P.get("text-pitch-alignment")==="map",$e=P.get("icon-text-fit")!=="none",Ve=new xt(null,0,ee&&(ue||!c.hasIconData()||P.get("icon-optional")),ue&&(ee||!c.hasTextData()||P.get("text-optional")),!0);!c.collisionArrays&&S&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(S);const et=(Qe,Je,pt)=>{for(let yt=0;yt<Je/4;yt++)Qe.opacityVertexArray.emplaceBack(pt)};for(let Qe=0;Qe<c.symbolInstances.length;Qe++){const Je=c.symbolInstances.get(Qe),{numHorizontalGlyphVertices:pt,numVerticalGlyphVertices:yt,crossTileID:wt}=Je;let rt=this.opacities[wt];m[wt]?rt=F:rt||(rt=Ve,this.opacities[wt]=rt),m[wt]=!0;const It=Je.numIconVertices>0,Et=this.placedOrientations[Je.crossTileID],jt=Et===s.WritingMode.vertical,Ut=Et===s.WritingMode.horizontal||Et===s.WritingMode.horizontalOnly;if(pt>0||yt>0){const qt=ft(rt.text);et(c.text,pt,jt?Nt:qt),et(c.text,yt,Ut?Nt:qt);const zt=rt.text.isHidden();[Je.rightJustifiedTextSymbolIndex,Je.centerJustifiedTextSymbolIndex,Je.leftJustifiedTextSymbolIndex].forEach(mn=>{mn>=0&&(c.text.placedSymbolArray.get(mn).hidden=zt||jt?1:0)}),Je.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(Je.verticalPlacedTextSymbolIndex).hidden=zt||Ut?1:0);const hn=this.variableOffsets[Je.crossTileID];hn&&this.markUsedJustification(c,hn.anchor,Je,Et);const tn=this.placedOrientations[Je.crossTileID];tn&&(this.markUsedJustification(c,"left",Je,tn),this.markUsedOrientation(c,tn,Je))}if(It){const qt=ft(rt.icon),zt=!($e&&Je.verticalPlacedIconSymbolIndex&&jt);Je.placedIconSymbolIndex>=0&&(et(c.icon,Je.numIconVertices,zt?qt:Nt),c.icon.placedSymbolArray.get(Je.placedIconSymbolIndex).hidden=rt.icon.isHidden()),Je.verticalPlacedIconSymbolIndex>=0&&(et(c.icon,Je.numVerticalIconVertices,zt?Nt:qt),c.icon.placedSymbolArray.get(Je.verticalPlacedIconSymbolIndex).hidden=rt.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const qt=c.collisionArrays[Qe];if(qt){let zt=new s.pointGeometry(0,0);if(qt.textBox||qt.verticalTextBox){let tn=!0;if(me){const mn=this.variableOffsets[wt];mn?(zt=Gn(mn.anchor,mn.width,mn.height,mn.textOffset,mn.textBoxScale),Te&&zt._rotate(Ae?this.transform.angle:-this.transform.angle)):tn=!1}qt.textBox&&ge(c.textCollisionBox.collisionVertexArray,rt.text.placed,!tn||jt,zt.x,zt.y),qt.verticalTextBox&&ge(c.textCollisionBox.collisionVertexArray,rt.text.placed,!tn||Ut,zt.x,zt.y)}const hn=!!(!Ut&&qt.verticalIconBox);qt.iconBox&&ge(c.iconCollisionBox.collisionVertexArray,rt.icon.placed,hn,$e?zt.x:0,$e?zt.y:0),qt.verticalIconBox&&ge(c.iconCollisionBox.collisionVertexArray,rt.icon.placed,!hn,$e?zt.x:0,$e?zt.y:0)}}}if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.text.opacityVertexArray.length!==c.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${c.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${c.text.layoutVertexArray.length}) / 4`);if(c.icon.opacityVertexArray.length!==c.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${c.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${c.icon.layoutVertexArray.length}) / 4`);if(c.bucketInstanceId in this.collisionCircleArrays){const Qe=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=Qe.invProjMatrix,c.placementViewportMatrix=Qe.viewportMatrix,c.collisionCircleArray=Qe.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,m){const S=this.zoomAtLastRecencyCheck===m?1-this.zoomAdjustment(m):1;return this.zoomAtLastRecencyCheck=m,this.commitTime+this.fadeDuration*S>c}setStale(){this.stale=!0}}function ge(I,c,m,S,P){I.emplaceBack(c?1:0,m?1:0,S||0,P||0),I.emplaceBack(c?1:0,m?1:0,S||0,P||0),I.emplaceBack(c?1:0,m?1:0,S||0,P||0),I.emplaceBack(c?1:0,m?1:0,S||0,P||0)}const Ie=Math.pow(2,25),Fe=Math.pow(2,24),Ze=Math.pow(2,17),it=Math.pow(2,16),lt=Math.pow(2,9),at=Math.pow(2,8),nt=Math.pow(2,1);function ft(I){if(I.opacity===0&&!I.placed)return 0;if(I.opacity===1&&I.placed)return 4294967295;const c=I.placed?1:0,m=Math.floor(127*I.opacity);return m*Ie+c*Fe+m*Ze+c*it+m*lt+c*at+m*nt+c}const Nt=0;class Ft{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,m,S,P,F){const ee=this._bucketParts;for(;this._currentTileIndex<c.length;)if(m.getBucketParts(ee,P,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,F())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ee.sort((ue,me)=>ue.sortKey-me.sortKey));this._currentPartIndex<ee.length;)if(m.placeLayerBucketPart(ee[this._currentPartIndex],this._seenCrossTileIDs,S),this._currentPartIndex++,F())return!0;return!1}}class Rt{constructor(c,m,S,P,F,ee,ue,me){this.placement=new Ge(c,m,ee,ue,me),this._currentPlacementIndex=S.length-1,this._forceFullPlacement=P,this._showCollisionBoxes=F,this._done=!1}isDone(){return this._done}continuePlacement(c,m,S){const P=s.exported.now(),F=()=>{const ee=s.exported.now()-P;return!this._forceFullPlacement&&ee>2};for(;this._currentPlacementIndex>=0;){const ee=m[c[this._currentPlacementIndex]],ue=this.placement.collisionIndex.transform.zoom;if(ee.type==="symbol"&&(!ee.minzoom||ee.minzoom<=ue)&&(!ee.maxzoom||ee.maxzoom>ue)){if(this._inProgressLayer||(this._inProgressLayer=new Ft(ee)),this._inProgressLayer.continuePlacement(S[ee.source],this.placement,this._showCollisionBoxes,ee,F))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const pn=512/s.EXTENT/2;class rn{constructor(c,m,S){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=S;for(let P=0;P<m.length;P++){const F=m.get(P),ee=F.key;this.indexedSymbolInstances[ee]||(this.indexedSymbolInstances[ee]=[]),this.indexedSymbolInstances[ee].push({crossTileID:F.crossTileID,coord:this.getScaledCoordinates(F,c)})}}getScaledCoordinates(c,m){const S=pn/Math.pow(2,m.canonical.z-this.tileID.canonical.z);return{x:Math.floor((m.canonical.x*s.EXTENT+c.anchorX)*S),y:Math.floor((m.canonical.y*s.EXTENT+c.anchorY)*S)}}findMatches(c,m,S){const P=this.tileID.canonical.z<m.canonical.z?1:Math.pow(2,this.tileID.canonical.z-m.canonical.z);for(let F=0;F<c.length;F++){const ee=c.get(F);if(ee.crossTileID)continue;const ue=this.indexedSymbolInstances[ee.key];if(!ue)continue;const me=this.getScaledCoordinates(ee,m);for(const Te of ue)if(Math.abs(Te.coord.x-me.x)<=P&&Math.abs(Te.coord.y-me.y)<=P&&!S[Te.crossTileID]){S[Te.crossTileID]=!0,ee.crossTileID=Te.crossTileID;break}}}}class xn{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Sn{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const m=Math.round((c-this.lng)/360);if(m!==0)for(const S in this.indexes){const P=this.indexes[S],F={};for(const ee in P){const ue=P[ee];ue.tileID=ue.tileID.unwrapTo(ue.tileID.wrap+m),F[ue.tileID.key]=ue}this.indexes[S]=F}this.lng=c}addBucket(c,m,S){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===m.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let F=0;F<m.symbolInstances.length;F++)m.symbolInstances.get(F).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const P=this.usedCrossTileIDs[c.overscaledZ];for(const F in this.indexes){const ee=this.indexes[F];if(Number(F)>c.overscaledZ)for(const ue in ee){const me=ee[ue];me.tileID.isChildOf(c)&&me.findMatches(m.symbolInstances,c,P)}else{const ue=ee[c.scaledTo(Number(F)).key];ue&&ue.findMatches(m.symbolInstances,c,P)}}for(let F=0;F<m.symbolInstances.length;F++){const ee=m.symbolInstances.get(F);ee.crossTileID||(ee.crossTileID=S.generate(),P[ee.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new rn(c,m.symbolInstances,m.bucketInstanceId),!0}removeBucketCrossTileIDs(c,m){for(const S in m.indexedSymbolInstances)for(const P of m.indexedSymbolInstances[S])delete this.usedCrossTileIDs[c][P.crossTileID]}removeStaleBuckets(c){let m=!1;for(const S in this.indexes){const P=this.indexes[S];for(const F in P)c[P[F].bucketInstanceId]||(this.removeBucketCrossTileIDs(S,P[F]),delete P[F],m=!0)}return m}}class Wn{constructor(){this.layerIndexes={},this.crossTileIDs=new xn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,m,S){let P=this.layerIndexes[c.id];P===void 0&&(P=this.layerIndexes[c.id]=new Sn);let F=!1;const ee={};P.handleWrapJump(S);for(const ue of m){const me=ue.getBucket(c);me&&c.id===me.layerIds[0]&&(me.bucketInstanceId||(me.bucketInstanceId=++this.maxBucketInstanceId),P.addBucket(ue.tileID,me,this.crossTileIDs)&&(F=!0),ee[me.bucketInstanceId]=!0)}return P.removeStaleBuckets(ee)&&(F=!0),F}pruneUnusedLayers(c){const m={};c.forEach(S=>{m[S]=!0});for(const S in this.layerIndexes)m[S]||delete this.layerIndexes[S]}}var Cn=s.createLayout([{name:"a_pos",type:"Int16",components:2}]);class On extends s.Evented{constructor(c){super(),this.sourceCache=c,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.renderHistory=[],this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,this.renderHistorySize=c._cache.max,c.usedForTerrain=!0,c.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null;for(const c in this._tiles){const m=this._tiles[c];m.textures.forEach(S=>S.destroy()),m.textures=[]}}update(c,m){this.sourceCache.update(c,m),this._renderableTilesKeys=[];for(const S of c.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:m}))this._renderableTilesKeys.push(S.key),this._tiles[S.key]||(S.posMatrix=new Float64Array(16),s.ortho(S.posMatrix,0,s.EXTENT,0,s.EXTENT,0,1),this._tiles[S.key]=new pe(S,this.tileSize))}removeOutdated(c){const m={};this.renderHistory=this.renderHistory.filter((S,P)=>this.renderHistory.indexOf(S)===P).slice(0,this.renderHistorySize);for(const S of this._renderableTilesKeys)m[S]=!0;for(const S of this.renderHistory)m[S]=!0;for(const S in this._tiles)m[S]||(this._tiles[S].clearTextures(c),delete this._tiles[S])}getRenderableTiles(){return this._renderableTilesKeys.map(c=>this.getTileByID(c))}getTileByID(c){return this._tiles[c]}getTerrainCoords(c){const m={};for(const S of this._renderableTilesKeys){const P=this._tiles[S].tileID;if(P.canonical.equals(c.canonical)){const F=c.clone();F.posMatrix=new Float64Array(16),s.ortho(F.posMatrix,0,s.EXTENT,0,s.EXTENT,0,1),m[S]=F}else if(P.canonical.isChildOf(c.canonical)){const F=c.clone();F.posMatrix=new Float64Array(16);const ee=P.canonical.z-c.canonical.z,ue=P.canonical.x-(P.canonical.x>>ee<<ee),me=P.canonical.y-(P.canonical.y>>ee<<ee),Te=s.EXTENT>>ee;s.ortho(F.posMatrix,0,Te,0,Te,0,1),s.translate(F.posMatrix,F.posMatrix,[-ue*Te,-me*Te,0]),m[S]=F}else if(c.canonical.isChildOf(P.canonical)){const F=c.clone();F.posMatrix=new Float64Array(16);const ee=c.canonical.z-P.canonical.z,ue=c.canonical.x-(c.canonical.x>>ee<<ee),me=c.canonical.y-(c.canonical.y>>ee<<ee),Te=s.EXTENT>>ee;s.ortho(F.posMatrix,0,s.EXTENT,0,s.EXTENT,0,1),s.translate(F.posMatrix,F.posMatrix,[ue*Te,me*Te,0]),s.scale(F.posMatrix,F.posMatrix,[1/2**ee,1/2**ee,0]),m[S]=F}}return m}getSourceTile(c,m){const S=this.sourceCache._source;let P=c.overscaledZ-this.deltaZoom;if(P>S.maxzoom&&(P=S.maxzoom),P<S.minzoom)return null;this._sourceTileCache[c.key]||(this._sourceTileCache[c.key]=c.scaledTo(P).key);let F=this.sourceCache.getTileByID(this._sourceTileCache[c.key]);if((!F||!F.dem)&&m)for(;P>=S.minzoom&&(!F||!F.dem);)F=this.sourceCache.getTileByID(c.scaledTo(P--).key);return F}tilesAfterTime(c=Date.now()){return Object.values(this._tiles).filter(m=>m.timeLoaded>=c)}}class Hn{constructor(c,m,S){this.style=c,this.sourceCache=new On(m),this.options=S,this.exaggeration=typeof S.exaggeration=="number"?S.exaggeration:1,this.elevationOffset=typeof S.elevationOffset=="number"?S.elevationOffset:450,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024,this.clearRerenderCache()}getDEMElevation(c,m,S,P=s.EXTENT){if(!(m>=0&&m<P&&S>=0&&S<P))return this.elevationOffset;let F=0;const ee=this.getTerrainData(c);if(ee.tile&&ee.tile.dem){const ue=s.transformMat4$1([],[m/P*s.EXTENT,S/P*s.EXTENT],ee.u_terrain_matrix),me=[ue[0]*ee.tile.dem.dim,ue[1]*ee.tile.dem.dim],Te=[Math.floor(me[0]),Math.floor(me[1])],Ae=ee.tile.dem.get(Te[0],Te[1]),$e=ee.tile.dem.get(Te[0],Te[1]+1),Ve=ee.tile.dem.get(Te[0]+1,Te[1]),et=ee.tile.dem.get(Te[0]+1,Te[1]+1);F=s.number(s.number(Ae,$e,me[0]-Te[0]),s.number(Ve,et,me[0]-Te[0]),me[1]-Te[1])}return F}rememberForRerender(c,m){for(const S in this.sourceCache._tiles){const P=this.sourceCache._tiles[S];(P.tileID.equals(m)||P.tileID.isChildOf(m))&&(c===this.sourceCache.sourceCache.id&&(P.timeLoaded=Date.now()),this._rerender[c]=this._rerender[c]||{},this._rerender[c][P.tileID.key]=!0)}}needsRerender(c,m){return this._rerender[c]&&this._rerender[c][m.key]}clearRerenderCache(){this._rerender={}}getElevation(c,m,S,P=s.EXTENT){return(this.getDEMElevation(c,m,S,P)+this.elevationOffset)*this.exaggeration}getTerrainData(c){if(!this._emptyDemTexture){const P=this.style.map.painter.context,F=new s.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new T(P,F,P.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new T(P,new s.RGBAImage({width:1,height:1}),P.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(P.gl.NEAREST,P.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=s.identity([])}const m=this.sourceCache.getSourceTile(c,!0);if(m&&m.dem&&(!m.demTexture||m.needsTerrainPrepare)){const P=this.style.map.painter.context;m.demTexture=this.style.map.painter.getTileTexture(m.dem.stride),m.demTexture?m.demTexture.update(m.dem.getPixels(),{premultiply:!1}):m.demTexture=new T(P,m.dem.getPixels(),P.gl.RGBA,{premultiply:!1}),m.demTexture.bind(P.gl.NEAREST,P.gl.CLAMP_TO_EDGE),m.needsTerrainPrepare=!1}const S=m&&m+m.tileID.key+c.key;if(S&&!this._demMatrixCache[S]){const P=this.sourceCache.sourceCache._source.maxzoom;let F=c.canonical.z-m.tileID.canonical.z;c.overscaledZ>c.canonical.z&&(c.canonical.z>=P?F=c.canonical.z-P:s.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const ee=c.canonical.x-(c.canonical.x>>F<<F),ue=c.canonical.y-(c.canonical.y>>F<<F),me=s.fromScaling(new Float64Array(16),[1/(s.EXTENT<<F),1/(s.EXTENT<<F),0]);s.translate(me,me,[ee*s.EXTENT,ue*s.EXTENT,0]),this._demMatrixCache[c.key]={matrix:me,coord:c}}return{u_depth:2,u_terrain:3,u_terrain_dim:m&&m.dem&&m.dem.dim||1,u_terrain_matrix:S?this._demMatrixCache[c.key].matrix:this._emptyDemMatrix,u_terrain_unpack:m&&m.dem&&m.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_offset:this.elevationOffset,u_terrain_exaggeration:this.exaggeration,texture:(m&&m.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:m}}getRTTFramebuffer(){const c=this.style.map.painter;if(!this._rttFramebuffer){const m=this.sourceCache.tileSize*this.qualityFactor;this._rttFramebuffer=c.context.createFramebuffer(m,m,!0),this._rttFramebuffer.depthAttachment.set(c.context.createRenderbuffer(c.context.gl.DEPTH_COMPONENT16,m,m))}return this._rttFramebuffer}getFramebuffer(c){const m=this.style.map.painter,S=m.width/devicePixelRatio,P=m.height/devicePixelRatio;return!this._fbo||this._fbo.width===S&&this._fbo.height===P||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new T(m.context,{width:S,height:P,data:null},m.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(m.context.gl.NEAREST,m.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new T(m.context,{width:S,height:P,data:null},m.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(m.context.gl.NEAREST,m.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=m.context.createFramebuffer(S,P,!0),this._fbo.depthAttachment.set(m.context.createRenderbuffer(m.context.gl.DEPTH_COMPONENT16,S,P))),this._fbo.colorAttachment.set(c==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const c=this.style.map.painter.context;if(this._coordsTexture)return this._coordsTexture;const m=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let F=0,ee=0;F<this._coordsTextureSize;F++)for(let ue=0;ue<this._coordsTextureSize;ue++,ee+=4)m[ee+0]=255&ue,m[ee+1]=255&F,m[ee+2]=ue>>8<<4|F>>8,m[ee+3]=0;const S=new s.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(m.buffer)),P=new T(c,S,c.gl.RGBA,{premultiply:!1});return P.bind(c.gl.NEAREST,c.gl.CLAMP_TO_EDGE),this._coordsTexture=P,P}pointCoordinate(c){const m=new Uint8Array(4),S=this.style.map.painter,P=S.context,F=P.gl;P.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),F.readPixels(c.x,S.height/devicePixelRatio-c.y-1,1,1,F.RGBA,F.UNSIGNED_BYTE,m),P.bindFramebuffer.set(null);const ee=m[0]+(m[2]>>4<<8),ue=m[1]+((15&m[2])<<8),me=this.coordsIndex[255-m[3]],Te=me&&this.sourceCache.getTileByID(me);if(!Te)return null;const Ae=this._coordsTextureSize,$e=(1<<Te.tileID.canonical.z)*Ae;return new s.MercatorCoordinate((Te.tileID.canonical.x*Ae+ee)/$e,(Te.tileID.canonical.y*Ae+ue)/$e,this.getElevation(Te.tileID,ee,ue,Ae))}getTerrainMesh(){if(this._mesh)return this._mesh;const c=this.style.map.painter.context,m=new s.PosArray,S=new s.TriangleIndexArray,P=this.meshSize,F=s.EXTENT/P,ee=P*P;for(let ue=0;ue<=P;ue++)for(let me=0;me<=P;me++)m.emplaceBack(me*F,ue*F);for(let ue=0;ue<ee;ue+=P+1)for(let me=0;me<P;me++)S.emplaceBack(me+ue,P+me+ue+1,P+me+ue+2),S.emplaceBack(me+ue,P+me+ue+2,me+ue+1);return this._mesh={indexBuffer:c.createIndexBuffer(S),vertexBuffer:c.createVertexBuffer(m,Cn.members),segments:s.SegmentVector.simpleSegment(0,0,m.length,S.length)},this._mesh}getMinMaxElevation(c){const m=this.getTerrainData(c).tile,S={minElevation:null,maxElevation:null};return m&&m.dem&&(S.minElevation=(m.dem.min+this.elevationOffset)*this.exaggeration,S.maxElevation=(m.dem.max+this.elevationOffset)*this.exaggeration),S}}const Yn=(I,c)=>s.emitValidationErrors(I,c&&c.filter(m=>m.identifier!=="source.canvas")),fi=s.pick(ke,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ji=s.pick(ke,["setCenter","setZoom","setBearing","setPitch"]),Pr=function(){const I={},c=s.spec.$version;for(const m in s.spec.$root){const S=s.spec.$root[m];if(S.required){let P=null;P=m==="version"?c:S.type==="array"?[]:{},P!=null&&(I[m]=P)}}return I}();class ma extends s.Evented{constructor(c,m={}){super(),this.map=c,this.dispatcher=new H(xe(),this),this.imageManager=new k,this.imageManager.setEventedParent(this),this.glyphManager=new C(c._requestManager,m.localIdeographFontFamily),this.lineAtlas=new X(256,512),this.crossTileSymbolIndex=new Wn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());const S=this;this._rtlTextPluginCallback=ma.registerForPluginStateChange(P=>{S.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:P.pluginStatus,pluginURL:P.pluginURL},(F,ee)=>{if(s.triggerPluginCompletionEvent(F),ee&&ee.every(ue=>ue))for(const ue in S.sourceCaches)S.sourceCaches[ue].reload()})}),this.on("data",P=>{if(P.dataType!=="source"||P.sourceDataType!=="metadata")return;const F=this.sourceCaches[P.sourceId];if(!F)return;const ee=F.getSource();if(ee&&ee.vectorLayerIds)for(const ue in this._layers){const me=this._layers[ue];me.source===ee.id&&this._validateLayer(me)}})}loadURL(c,m={}){this.fire(new s.Event("dataloading",{dataType:"style"}));const S=typeof m.validate!="boolean"||m.validate,P=this.map._requestManager.transformRequest(c,s.ResourceType.Style);this._request=s.getJSON(P,(F,ee)=>{this._request=null,F?this.fire(new s.ErrorEvent(F)):ee&&this._load(ee,S)})}loadJSON(c,m={}){this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.exported.frame(()=>{this._request=null,this._load(c,m.validate!==!1)})}loadEmpty(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(Pr,!1)}_load(c,m){if(m&&Yn(this,s.validateStyle(c)))return;this._loaded=!0,this.stylesheet=c;for(const P in c.sources)this.addSource(P,c.sources[P],{validate:!1});c.sprite?this._loadSprite(c.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(c.glyphs);const S=be(this.stylesheet.layers);this._order=S.map(P=>P.id),this._layers={},this._serializedLayers={};for(let P of S)P=s.createStyleLayer(P),P.setEventedParent(this,{layer:{id:P.id}}),this._layers[P.id]=P,this._serializedLayers[P.id]=P.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new W(this.stylesheet.light),this.setTerrain(this.stylesheet.terrain),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}_loadSprite(c){this._spriteRequest=function(m,S,P,F){let ee,ue,me;const Te=P>1?"@2x":"";let Ae=s.getJSON(S.transformRequest(S.normalizeSpriteURL(m,Te,".json"),s.ResourceType.SpriteJSON),(et,Qe)=>{Ae=null,me||(me=et,ee=Qe,Ve())}),$e=s.getImage(S.transformRequest(S.normalizeSpriteURL(m,Te,".png"),s.ResourceType.SpriteImage),(et,Qe)=>{$e=null,me||(me=et,ue=Qe,Ve())});function Ve(){if(me)F(me);else if(ee&&ue){const et=s.exported.getImageData(ue),Qe={};for(const Je in ee){const{width:pt,height:yt,x:wt,y:rt,sdf:It,pixelRatio:Et,stretchX:jt,stretchY:Ut,content:qt}=ee[Je],zt=new s.RGBAImage({width:pt,height:yt});s.RGBAImage.copy(et,zt,{x:wt,y:rt},{x:0,y:0},{width:pt,height:yt}),Qe[Je]={data:zt,pixelRatio:Et,sdf:It,stretchX:jt,stretchY:Ut,content:qt}}F(null,Qe)}}return{cancel(){Ae&&(Ae.cancel(),Ae=null),$e&&($e.cancel(),$e=null)}}}(c,this.map._requestManager,this.map.getPixelRatio(),(m,S)=>{if(this._spriteRequest=null,m)this.fire(new s.ErrorEvent(m));else if(S)for(const P in S)this.imageManager.addImage(P,S[P]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))})}_validateLayer(c){const m=this.sourceCaches[c.source];if(!m)return;const S=c.sourceLayer;if(!S)return;const P=m.getSource();(P.type==="geojson"||P.vectorLayerIds&&P.vectorLayerIds.indexOf(S)===-1)&&this.fire(new s.ErrorEvent(new Error(`Source layer "${S}" does not exist on source "${P.id}" as specified by style layer "${c.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this.sourceCaches)if(!this.sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(c){const m=[];for(const S of c){const P=this._layers[S];P.type!=="custom"&&m.push(P.serialize())}return m}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const c in this.sourceCaches)if(this.sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(c){if(!this._loaded)return;const m=this._changed;if(this._changed){const P=Object.keys(this._updatedLayers),F=Object.keys(this._removedLayers);(P.length||F.length)&&this._updateWorkerLayers(P,F);for(const ee in this._updatedSources){const ue=this._updatedSources[ee];if(ue==="reload")this._reloadSource(ee);else{if(ue!=="clear")throw new Error(`Invalid action ${ue}`);this._clearSource(ee)}}this._updateTilesForChangedImages();for(const ee in this._updatedPaintProps)this._layers[ee].updateTransitions(c);this.light.updateTransitions(c),this._resetUpdates()}const S={};for(const P in this.sourceCaches){const F=this.sourceCaches[P];S[P]=F.used,F.used=!1}for(const P of this._order){const F=this._layers[P];F.recalculate(c,this._availableImages),!F.isHidden(c.zoom)&&F.source&&(this.sourceCaches[F.source].used=!0)}for(const P in S){const F=this.sourceCaches[P];S[P]!==F.used&&F.fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:P}))}this.light.recalculate(c),this.z=c.zoom,m&&this.fire(new s.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const m in this.sourceCaches)this.sourceCaches[m].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateWorkerLayers(c,m){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(c),removedIds:m})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setTerrain(c){if(this._checkLoaded(),this._terrainDataCallback&&this.off("data",this._terrainDataCallback),this._terrainfreezeElevationCallback&&this.map.off("freezeElevation",this._terrainfreezeElevationCallback),c){const m=this.sourceCaches[c.source];if(!m)throw new Error(`cannot load terrain, because there exists no source with ID: ${c.source}`);this.terrain=new Hn(this,m,c),this.map.transform.updateElevation(this.terrain),this._terrainfreezeElevationCallback=S=>{S.freeze?this.map.transform.freezeElevation=!0:(this.map.transform.freezeElevation=!1,this.map.transform.recalculateZoom(this.terrain))},this._terrainDataCallback=S=>{S.tile&&(S.sourceId===c.source?(this.map.transform.updateElevation(this.terrain),this.terrain.rememberForRerender(S.sourceId,S.tile.tileID)):S.source.type==="geojson"&&this.terrain.rememberForRerender(S.sourceId,S.tile.tileID))},this.on("data",this._terrainDataCallback),this.map.on("freezeElevation",this._terrainfreezeElevationCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.map.transform.updateElevation(this.terrain);this.map.fire(new s.Event("terrain",{terrain:c}))}setState(c){if(this._checkLoaded(),Yn(this,s.validateStyle(c)))return!1;(c=s.clone$1(c)).layers=be(c.layers);const m=function(P,F){if(!P)return[{command:ke.setStyle,args:[F]}];let ee=[];try{if(!y(P.version,F.version))return[{command:ke.setStyle,args:[F]}];y(P.center,F.center)||ee.push({command:ke.setCenter,args:[F.center]}),y(P.zoom,F.zoom)||ee.push({command:ke.setZoom,args:[F.zoom]}),y(P.bearing,F.bearing)||ee.push({command:ke.setBearing,args:[F.bearing]}),y(P.pitch,F.pitch)||ee.push({command:ke.setPitch,args:[F.pitch]}),y(P.sprite,F.sprite)||ee.push({command:ke.setSprite,args:[F.sprite]}),y(P.glyphs,F.glyphs)||ee.push({command:ke.setGlyphs,args:[F.glyphs]}),y(P.transition,F.transition)||ee.push({command:ke.setTransition,args:[F.transition]}),y(P.light,F.light)||ee.push({command:ke.setLight,args:[F.light]});const ue={},me=[];(function(Ae,$e,Ve,et){let Qe;for(Qe in $e=$e||{},Ae=Ae||{})Object.prototype.hasOwnProperty.call(Ae,Qe)&&(Object.prototype.hasOwnProperty.call($e,Qe)||Ue(Qe,Ve,et));for(Qe in $e)Object.prototype.hasOwnProperty.call($e,Qe)&&(Object.prototype.hasOwnProperty.call(Ae,Qe)?y(Ae[Qe],$e[Qe])||(Ae[Qe].type==="geojson"&&$e[Qe].type==="geojson"&&Pe(Ae,$e,Qe)?Ve.push({command:ke.setGeoJSONSourceData,args:[Qe,$e[Qe].data]}):Xe(Qe,$e,Ve,et)):Oe(Qe,$e,Ve))})(P.sources,F.sources,me,ue);const Te=[];P.layers&&P.layers.forEach(Ae=>{ue[Ae.source]?ee.push({command:ke.removeLayer,args:[Ae.id]}):Te.push(Ae)}),ee=ee.concat(me),function(Ae,$e,Ve){$e=$e||[];const et=(Ae=Ae||[]).map(Ee),Qe=$e.map(Ee),Je=Ae.reduce(Re,{}),pt=$e.reduce(Re,{}),yt=et.slice(),wt=Object.create(null);let rt,It,Et,jt,Ut,qt,zt;for(rt=0,It=0;rt<et.length;rt++)Et=et[rt],Object.prototype.hasOwnProperty.call(pt,Et)?It++:(Ve.push({command:ke.removeLayer,args:[Et]}),yt.splice(yt.indexOf(Et,It),1));for(rt=0,It=0;rt<Qe.length;rt++)Et=Qe[Qe.length-1-rt],yt[yt.length-1-rt]!==Et&&(Object.prototype.hasOwnProperty.call(Je,Et)?(Ve.push({command:ke.removeLayer,args:[Et]}),yt.splice(yt.lastIndexOf(Et,yt.length-It),1)):It++,qt=yt[yt.length-rt],Ve.push({command:ke.addLayer,args:[pt[Et],qt]}),yt.splice(yt.length-rt,0,Et),wt[Et]=!0);for(rt=0;rt<Qe.length;rt++)if(Et=Qe[rt],jt=Je[Et],Ut=pt[Et],!wt[Et]&&!y(jt,Ut))if(y(jt.source,Ut.source)&&y(jt["source-layer"],Ut["source-layer"])&&y(jt.type,Ut.type)){for(zt in _e(jt.layout,Ut.layout,Ve,Et,null,ke.setLayoutProperty),_e(jt.paint,Ut.paint,Ve,Et,null,ke.setPaintProperty),y(jt.filter,Ut.filter)||Ve.push({command:ke.setFilter,args:[Et,Ut.filter]}),y(jt.minzoom,Ut.minzoom)&&y(jt.maxzoom,Ut.maxzoom)||Ve.push({command:ke.setLayerZoomRange,args:[Et,Ut.minzoom,Ut.maxzoom]}),jt)Object.prototype.hasOwnProperty.call(jt,zt)&&zt!=="layout"&&zt!=="paint"&&zt!=="filter"&&zt!=="metadata"&&zt!=="minzoom"&&zt!=="maxzoom"&&(zt.indexOf("paint.")===0?_e(jt[zt],Ut[zt],Ve,Et,zt.slice(6),ke.setPaintProperty):y(jt[zt],Ut[zt])||Ve.push({command:ke.setLayerProperty,args:[Et,zt,Ut[zt]]}));for(zt in Ut)Object.prototype.hasOwnProperty.call(Ut,zt)&&!Object.prototype.hasOwnProperty.call(jt,zt)&&zt!=="layout"&&zt!=="paint"&&zt!=="filter"&&zt!=="metadata"&&zt!=="minzoom"&&zt!=="maxzoom"&&(zt.indexOf("paint.")===0?_e(jt[zt],Ut[zt],Ve,Et,zt.slice(6),ke.setPaintProperty):y(jt[zt],Ut[zt])||Ve.push({command:ke.setLayerProperty,args:[Et,zt,Ut[zt]]}))}else Ve.push({command:ke.removeLayer,args:[Et]}),qt=yt[yt.lastIndexOf(Et)+1],Ve.push({command:ke.addLayer,args:[Ut,qt]})}(Te,F.layers,ee)}catch(ue){console.warn("Unable to compute style diff:",ue),ee=[{command:ke.setStyle,args:[F]}]}return ee}(this.serialize(),c).filter(P=>!(P.command in Ji));if(m.length===0)return!1;const S=m.filter(P=>!(P.command in fi));if(S.length>0)throw new Error(`Unimplemented: ${S.map(P=>P.command).join(", ")}.`);return m.forEach(P=>{P.command!=="setTransition"&&this[P.command].apply(this,P.args)}),this.stylesheet=c,!0}addImage(c,m){if(this.getImage(c))return this.fire(new s.ErrorEvent(new Error(`An image named "${c}" already exists.`)));this.imageManager.addImage(c,m),this._afterImageUpdated(c)}updateImage(c,m){this.imageManager.updateImage(c,m)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){if(!this.getImage(c))return this.fire(new s.ErrorEvent(new Error(`An image named "${c}" does not exist.`)));this.imageManager.removeImage(c),this._afterImageUpdated(c)}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(c,m,S={}){if(this._checkLoaded(),this.sourceCaches[c]!==void 0)throw new Error(`Source "${c}" already exists.`);if(!m.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(m).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(m.type)>=0&&this._validate(s.validateStyle.source,`sources.${c}`,m,null,S))return;this.map&&this.map._collectResourceTiming&&(m.collectResourceTiming=!0);const P=this.sourceCaches[c]=new J(c,m,this.dispatcher);P.style=this,P.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:P.serialize(),sourceId:c})),P.onAdd(this.map),this._changed=!0}removeSource(c){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error("There is no source with this ID");for(const S in this._layers)if(this._layers[S].source===c)return this.fire(new s.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${S}" is using it.`)));const m=this.sourceCaches[c];delete this.sourceCaches[c],delete this._updatedSources[c],m.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),m.setEventedParent(null),m.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(c,m){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error(`There is no source with this ID=${c}`);const S=this.sourceCaches[c].getSource();if(S.type!=="geojson")throw new Error(`geojsonSource.type is ${S.type}, which is !== 'geojson`);S.setData(m),this._changed=!0}getSource(c){return this.sourceCaches[c]&&this.sourceCaches[c].getSource()}addLayer(c,m,S={}){this._checkLoaded();const P=c.id;if(this.getLayer(P))return void this.fire(new s.ErrorEvent(new Error(`Layer "${P}" already exists on this map.`)));let F;if(c.type==="custom"){if(Yn(this,s.validateCustomStyleLayer(c)))return;F=s.createStyleLayer(c)}else{if(typeof c.source=="object"&&(this.addSource(P,c.source),c=s.clone$1(c),c=s.extend(c,{source:P})),this._validate(s.validateStyle.layer,`layers.${P}`,c,{arrayIndex:-1},S))return;F=s.createStyleLayer(c),this._validateLayer(F),F.setEventedParent(this,{layer:{id:P}}),this._serializedLayers[F.id]=F.serialize()}const ee=m?this._order.indexOf(m):this._order.length;if(m&&ee===-1)this.fire(new s.ErrorEvent(new Error(`Cannot add layer "${P}" before non-existing layer "${m}".`)));else{if(this._order.splice(ee,0,P),this._layerOrderChanged=!0,this._layers[P]=F,this._removedLayers[P]&&F.source&&F.type!=="custom"){const ue=this._removedLayers[P];delete this._removedLayers[P],ue.type!==F.type?this._updatedSources[F.source]="clear":(this._updatedSources[F.source]="reload",this.sourceCaches[F.source].pause())}this._updateLayer(F),F.onAdd&&F.onAdd(this.map)}}moveLayer(c,m){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===m)return;const S=this._order.indexOf(c);this._order.splice(S,1);const P=m?this._order.indexOf(m):this._order.length;m&&P===-1?this.fire(new s.ErrorEvent(new Error(`Cannot move layer "${c}" before non-existing layer "${m}".`))):(this._order.splice(P,0,c),this._layerOrderChanged=!0)}removeLayer(c){this._checkLoaded();const m=this._layers[c];if(!m)return void this.fire(new s.ErrorEvent(new Error(`Cannot remove non-existing layer "${c}".`)));m.setEventedParent(null);const S=this._order.indexOf(c);this._order.splice(S,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=m,delete this._layers[c],delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],m.onRemove&&m.onRemove(this.map)}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}setLayerZoomRange(c,m,S){this._checkLoaded();const P=this.getLayer(c);P?P.minzoom===m&&P.maxzoom===S||(m!=null&&(P.minzoom=m),S!=null&&(P.maxzoom=S),this._updateLayer(P)):this.fire(new s.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${c}".`)))}setFilter(c,m,S={}){this._checkLoaded();const P=this.getLayer(c);if(P){if(!y(P.filter,m))return m==null?(P.filter=void 0,void this._updateLayer(P)):void(this._validate(s.validateStyle.filter,`layers.${P.id}.filter`,m,null,S)||(P.filter=s.clone$1(m),this._updateLayer(P)))}else this.fire(new s.ErrorEvent(new Error(`Cannot filter non-existing layer "${c}".`)))}getFilter(c){return s.clone$1(this.getLayer(c).filter)}setLayoutProperty(c,m,S,P={}){this._checkLoaded();const F=this.getLayer(c);F?y(F.getLayoutProperty(m),S)||(F.setLayoutProperty(m,S,P),this._updateLayer(F)):this.fire(new s.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getLayoutProperty(c,m){const S=this.getLayer(c);if(S)return S.getLayoutProperty(m);this.fire(new s.ErrorEvent(new Error(`Cannot get style of non-existing layer "${c}".`)))}setPaintProperty(c,m,S,P={}){this._checkLoaded();const F=this.getLayer(c);F?y(F.getPaintProperty(m),S)||(F.setPaintProperty(m,S,P)&&this._updateLayer(F),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new s.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getPaintProperty(c,m){return this.getLayer(c).getPaintProperty(m)}setFeatureState(c,m){this._checkLoaded();const S=c.source,P=c.sourceLayer,F=this.sourceCaches[S];if(F===void 0)return void this.fire(new s.ErrorEvent(new Error(`The source '${S}' does not exist in the map's style.`)));const ee=F.getSource().type;ee==="geojson"&&P?this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):ee!=="vector"||P?(c.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),F.setFeatureState(P,c.id,m)):this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(c,m){this._checkLoaded();const S=c.source,P=this.sourceCaches[S];if(P===void 0)return void this.fire(new s.ErrorEvent(new Error(`The source '${S}' does not exist in the map's style.`)));const F=P.getSource().type,ee=F==="vector"?c.sourceLayer:void 0;F!=="vector"||ee?m&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):P.removeFeatureState(ee,c.id,m):this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(c){this._checkLoaded();const m=c.source,S=c.sourceLayer,P=this.sourceCaches[m];if(P!==void 0)return P.getSource().type!=="vector"||S?(c.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),P.getFeatureState(S,c.id)):void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new s.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)))}getTransition(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:s.mapObject(this.sourceCaches,c=>c.serialize()),layers:this._serializeLayers(this._order)},c=>c!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.sourceCaches[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.sourceCaches[c.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(c){const m=ee=>this._layers[ee].type==="fill-extrusion",S={},P=[];for(let ee=this._order.length-1;ee>=0;ee--){const ue=this._order[ee];if(m(ue)){S[ue]=ee;for(const me of c){const Te=me[ue];if(Te)for(const Ae of Te)P.push(Ae)}}}P.sort((ee,ue)=>ue.intersectionZ-ee.intersectionZ);const F=[];for(let ee=this._order.length-1;ee>=0;ee--){const ue=this._order[ee];if(m(ue))for(let me=P.length-1;me>=0;me--){const Te=P[me].feature;if(S[Te.layer.id]<ee)break;F.push(Te),P.pop()}else for(const me of c){const Te=me[ue];if(Te)for(const Ae of Te)F.push(Ae.feature)}}return F}queryRenderedFeatures(c,m,S){m&&m.filter&&this._validate(s.validateStyle.filter,"queryRenderedFeatures.filter",m.filter,null,m);const P={};if(m&&m.layers){if(!Array.isArray(m.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const ee of m.layers){const ue=this._layers[ee];if(!ue)return this.fire(new s.ErrorEvent(new Error(`The layer '${ee}' does not exist in the map's style and cannot be queried for features.`))),[];P[ue.source]=!0}}const F=[];m.availableImages=this._availableImages;for(const ee in this.sourceCaches)m.layers&&!P[ee]||F.push(se(this.sourceCaches[ee],this._layers,this._serializedLayers,c,m,S));return this.placement&&F.push(function(ee,ue,me,Te,Ae,$e,Ve){const et={},Qe=$e.queryRenderedSymbols(Te),Je=[];for(const pt of Object.keys(Qe).map(Number))Je.push(Ve[pt]);Je.sort(Ce);for(const pt of Je){const yt=pt.featureIndex.lookupSymbolFeatures(Qe[pt.bucketInstanceId],ue,pt.bucketIndex,pt.sourceLayerIndex,Ae.filter,Ae.layers,Ae.availableImages,ee);for(const wt in yt){const rt=et[wt]=et[wt]||[],It=yt[wt];It.sort((Et,jt)=>{const Ut=pt.featureSortOrder;if(Ut){const qt=Ut.indexOf(Et.featureIndex);return Ut.indexOf(jt.featureIndex)-qt}return jt.featureIndex-Et.featureIndex});for(const Et of It)rt.push(Et)}}for(const pt in et)et[pt].forEach(yt=>{const wt=yt.feature,rt=me[ee[pt].source].getFeatureState(wt.layer["source-layer"],wt.id);wt.source=wt.layer.source,wt.layer["source-layer"]&&(wt.sourceLayer=wt.layer["source-layer"]),wt.state=rt});return et}(this._layers,this._serializedLayers,this.sourceCaches,c,m,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(F)}querySourceFeatures(c,m){m&&m.filter&&this._validate(s.validateStyle.filter,"querySourceFeatures.filter",m.filter,null,m);const S=this.sourceCaches[c];return S?function(P,F){const ee=P.getRenderableIds().map(Te=>P.getTileByID(Te)),ue=[],me={};for(let Te=0;Te<ee.length;Te++){const Ae=ee[Te],$e=Ae.tileID.canonical.key;me[$e]||(me[$e]=!0,Ae.querySourceFeatures(ue,F))}return ue}(S,m):[]}addSourceType(c,m,S){return ma.getSourceType(c)?S(new Error(`A source type called "${c}" already exists.`)):(ma.setSourceType(c,m),m.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:m.workerSourceURL},S):S(null,null))}getLight(){return this.light.getLight()}setLight(c,m={}){this._checkLoaded();const S=this.light.getLight();let P=!1;for(const ee in c)if(!y(c[ee],S[ee])){P=!0;break}if(!P)return;const F={now:s.exported.now(),transition:s.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,m),this.light.updateTransitions(F)}_validate(c,m,S,P,F={}){return(!F||F.validate!==!1)&&Yn(this,c.call(s.validateStyle,s.extend({key:m,style:this.serialize(),value:S,styleSpec:s.spec},P)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this.sourceCaches){const m=this.sourceCaches[c];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(c){this.sourceCaches[c].clearTiles()}_reloadSource(c){this.sourceCaches[c].resume(),this.sourceCaches[c].reload()}_updateSources(c){for(const m in this.sourceCaches)this.sourceCaches[m].update(c,this.terrain)}_generateCollisionBoxes(){for(const c in this.sourceCaches)this._reloadSource(c)}_updatePlacement(c,m,S,P,F=!1){let ee=!1,ue=!1;const me={};for(const Te of this._order){const Ae=this._layers[Te];if(Ae.type!=="symbol")continue;if(!me[Ae.source]){const Ve=this.sourceCaches[Ae.source];me[Ae.source]=Ve.getRenderableIds(!0).map(et=>Ve.getTileByID(et)).sort((et,Qe)=>Qe.tileID.overscaledZ-et.tileID.overscaledZ||(et.tileID.isLessThan(Qe.tileID)?-1:1))}const $e=this.crossTileSymbolIndex.addLayer(Ae,me[Ae.source],c.center.lng);ee=ee||$e}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((F=F||this._layerOrderChanged||S===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.exported.now(),c.zoom))&&(this.pauseablePlacement=new Rt(c,this.terrain,this._order,F,m,S,P,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,me),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.exported.now()),ue=!0),ee&&this.pauseablePlacement.placement.setStale()),ue||ee)for(const Te of this._order){const Ae=this._layers[Te];Ae.type==="symbol"&&this.placement.updateLayerOpacities(Ae,me[Ae.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.exported.now())}_releaseSymbolFadeTiles(){for(const c in this.sourceCaches)this.sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,m,S){this.imageManager.getImages(m.icons,S),this._updateTilesForChangedImages();const P=this.sourceCaches[m.source];P&&P.setDependencies(m.tileID.key,m.type,m.icons)}getGlyphs(c,m,S){this.glyphManager.getGlyphs(m.stacks,S)}getResource(c,m,S){return s.makeRequest(m,S)}}ma.getSourceType=function(I){return ce[I]},ma.setSourceType=function(I,c){ce[I]=c},ma.registerForPluginStateChange=s.registerForPluginStateChange;var Bf="attribute vec2 a_pos;uniform mat4 u_matrix;varying vec2 v_texture_pos;varying float v_depth;void main() {v_texture_pos=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);v_depth=gl_Position.z/gl_Position.w;}";const ah={prelude:qi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_offset;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return (elevation+u_terrain_offset)*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:qi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:qi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:qi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:qi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:qi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:qi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:qi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:qi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:qi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:qi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:qi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:qi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:qi(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:qi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:qi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:qi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:qi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:qi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:qi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:qi(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:qi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:qi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:qi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:qi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:qi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:qi("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Bf),terrainDepth:qi("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Bf),terrainCoords:qi("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Bf)};function qi(I,c){const m=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,S=c.match(/attribute ([\w]+) ([\w]+)/g),P=I.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),F=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ee=F?F.concat(P):P,ue={};return{fragmentSource:I=I.replace(m,(me,Te,Ae,$e,Ve)=>(ue[Ve]=!0,Te==="define"?`
#ifndef HAS_UNIFORM_u_${Ve}
varying ${Ae} ${$e} ${Ve};
#else
uniform ${Ae} ${$e} u_${Ve};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ve}
    ${Ae} ${$e} ${Ve} = u_${Ve};
#endif
`)),vertexSource:c=c.replace(m,(me,Te,Ae,$e,Ve)=>{const et=$e==="float"?"vec2":"vec4",Qe=Ve.match(/color/)?"color":et;return ue[Ve]?Te==="define"?`
#ifndef HAS_UNIFORM_u_${Ve}
uniform lowp float u_${Ve}_t;
attribute ${Ae} ${et} a_${Ve};
varying ${Ae} ${$e} ${Ve};
#else
uniform ${Ae} ${$e} u_${Ve};
#endif
`:Qe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ve}
    ${Ve} = a_${Ve};
#else
    ${Ae} ${$e} ${Ve} = u_${Ve};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ve}
    ${Ve} = unpack_mix_${Qe}(a_${Ve}, u_${Ve}_t);
#else
    ${Ae} ${$e} ${Ve} = u_${Ve};
#endif
`:Te==="define"?`
#ifndef HAS_UNIFORM_u_${Ve}
uniform lowp float u_${Ve}_t;
attribute ${Ae} ${et} a_${Ve};
#else
uniform ${Ae} ${$e} u_${Ve};
#endif
`:Qe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ve}
    ${Ae} ${$e} ${Ve} = a_${Ve};
#else
    ${Ae} ${$e} ${Ve} = u_${Ve};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ve}
    ${Ae} ${$e} ${Ve} = unpack_mix_${Qe}(a_${Ve}, u_${Ve}_t);
#else
    ${Ae} ${$e} ${Ve} = u_${Ve};
#endif
`}),staticAttributes:S,staticUniforms:ee}}class O0{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(c,m,S,P,F,ee,ue,me,Te){this.context=c;let Ae=this.boundPaintVertexBuffers.length!==P.length;for(let $e=0;!Ae&&$e<P.length;$e++)this.boundPaintVertexBuffers[$e]!==P[$e]&&(Ae=!0);c.extVertexArrayObject&&this.vao&&this.boundProgram===m&&this.boundLayoutVertexBuffer===S&&!Ae&&this.boundIndexBuffer===F&&this.boundVertexOffset===ee&&this.boundDynamicVertexBuffer===ue&&this.boundDynamicVertexBuffer2===me&&this.boundDynamicVertexBuffer3===Te?(c.bindVertexArrayOES.set(this.vao),ue&&ue.bind(),F&&F.dynamicDraw&&F.bind(),me&&me.bind(),Te&&Te.bind()):this.freshBind(m,S,P,F,ee,ue,me,Te)}freshBind(c,m,S,P,F,ee,ue,me){let Te;const Ae=c.numAttributes,$e=this.context,Ve=$e.gl;if($e.extVertexArrayObject)this.vao&&this.destroy(),this.vao=$e.extVertexArrayObject.createVertexArrayOES(),$e.bindVertexArrayOES.set(this.vao),Te=0,this.boundProgram=c,this.boundLayoutVertexBuffer=m,this.boundPaintVertexBuffers=S,this.boundIndexBuffer=P,this.boundVertexOffset=F,this.boundDynamicVertexBuffer=ee,this.boundDynamicVertexBuffer2=ue,this.boundDynamicVertexBuffer3=me;else{Te=$e.currentNumAttributes||0;for(let et=Ae;et<Te;et++)Ve.disableVertexAttribArray(et)}m.enableAttributes(Ve,c);for(const et of S)et.enableAttributes(Ve,c);ee&&ee.enableAttributes(Ve,c),ue&&ue.enableAttributes(Ve,c),me&&me.enableAttributes(Ve,c),m.bind(),m.setVertexAttribPointers(Ve,c,F);for(const et of S)et.bind(),et.setVertexAttribPointers(Ve,c,F);ee&&(ee.bind(),ee.setVertexAttribPointers(Ve,c,F)),P&&P.bind(),ue&&(ue.bind(),ue.setVertexAttribPointers(Ve,c,F)),me&&(me.bind(),me.setVertexAttribPointers(Ve,c,F)),$e.currentNumAttributes=Ae}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Rp(I){const c=[];for(let m=0;m<I.length;m++){if(I[m]===null)continue;const S=I[m].split(" ");c.push(S.pop())}return c}class R0{constructor(c,m,S,P,F,ee,ue){const me=c.gl;this.program=me.createProgram();const Te=Rp(S.staticAttributes),Ae=P?P.getBinderAttributes():[],$e=Te.concat(Ae),Ve=ah.prelude.staticUniforms?Rp(ah.prelude.staticUniforms):[],et=S.staticUniforms?Rp(S.staticUniforms):[],Qe=P?P.getBinderUniforms():[],Je=Ve.concat(et).concat(Qe),pt=[];for(const Ut of Je)pt.indexOf(Ut)<0&&pt.push(Ut);const yt=P?P.defines():[];ee&&yt.push("#define OVERDRAW_INSPECTOR;"),ue&&yt.push("#define TERRAIN3D;");const wt=yt.concat(ah.prelude.fragmentSource,S.fragmentSource).join(`
`),rt=yt.concat(ah.prelude.vertexSource,S.vertexSource).join(`
`),It=me.createShader(me.FRAGMENT_SHADER);if(me.isContextLost())return void(this.failedToCreate=!0);me.shaderSource(It,wt),me.compileShader(It),me.attachShader(this.program,It);const Et=me.createShader(me.VERTEX_SHADER);if(me.isContextLost())return void(this.failedToCreate=!0);me.shaderSource(Et,rt),me.compileShader(Et),me.attachShader(this.program,Et),this.attributes={};const jt={};this.numAttributes=$e.length;for(let Ut=0;Ut<this.numAttributes;Ut++)$e[Ut]&&(me.bindAttribLocation(this.program,Ut,$e[Ut]),this.attributes[$e[Ut]]=Ut);me.linkProgram(this.program),me.deleteShader(Et),me.deleteShader(It);for(let Ut=0;Ut<pt.length;Ut++){const qt=pt[Ut];if(qt&&!jt[qt]){const zt=me.getUniformLocation(this.program,qt);zt&&(jt[qt]=zt)}}this.fixedUniforms=F(c,jt),this.terrainUniforms=((Ut,qt)=>({u_depth:new s.Uniform1i(Ut,qt.u_depth),u_terrain:new s.Uniform1i(Ut,qt.u_terrain),u_terrain_dim:new s.Uniform1f(Ut,qt.u_terrain_dim),u_terrain_matrix:new s.UniformMatrix4f(Ut,qt.u_terrain_matrix),u_terrain_unpack:new s.Uniform4f(Ut,qt.u_terrain_unpack),u_terrain_offset:new s.Uniform1f(Ut,qt.u_terrain_offset),u_terrain_exaggeration:new s.Uniform1f(Ut,qt.u_terrain_exaggeration)}))(c,jt),this.binderUniforms=P?P.getUniforms(c,jt):[]}draw(c,m,S,P,F,ee,ue,me,Te,Ae,$e,Ve,et,Qe,Je,pt,yt,wt){const rt=c.gl;if(this.failedToCreate)return;if(c.program.set(this.program),c.setDepthMode(S),c.setStencilMode(P),c.setColorMode(F),c.setCullFace(ee),me){c.activeTexture.set(rt.TEXTURE2),rt.bindTexture(rt.TEXTURE_2D,me.depthTexture),c.activeTexture.set(rt.TEXTURE3),rt.bindTexture(rt.TEXTURE_2D,me.texture);for(const Et in this.terrainUniforms)this.terrainUniforms[Et].set(me[Et])}for(const Et in this.fixedUniforms)this.fixedUniforms[Et].set(ue[Et]);Je&&Je.setUniforms(c,this.binderUniforms,et,{zoom:Qe});let It=0;switch(m){case rt.LINES:It=2;break;case rt.TRIANGLES:It=3;break;case rt.LINE_STRIP:It=1}for(const Et of Ve.get()){const jt=Et.vaos||(Et.vaos={});(jt[Te]||(jt[Te]=new O0)).bind(c,this,Ae,Je?Je.getPaintVertexBuffers():[],$e,Et.vertexOffset,pt,yt,wt),rt.drawElements(m,Et.primitiveLength*It,rt.UNSIGNED_SHORT,Et.primitiveOffset*It*2)}}}function jf(I,c,m){const S=1/oi(m,1,c.transform.tileZoom),P=Math.pow(2,m.tileID.overscaledZ),F=m.tileSize*Math.pow(2,c.transform.tileZoom)/P,ee=F*(m.tileID.canonical.x+m.tileID.wrap*P),ue=F*m.tileID.canonical.y;return{u_image:0,u_texsize:m.imageAtlasTexture.size,u_scale:[S,I.fromScale,I.toScale],u_fade:I.t,u_pixel_coord_upper:[ee>>16,ue>>16],u_pixel_coord_lower:[65535&ee,65535&ue]}}const pv=(I,c,m,S)=>{const P=c.style.light,F=P.properties.get("position"),ee=[F.x,F.y,F.z],ue=s.create$1();P.properties.get("anchor")==="viewport"&&s.fromRotation(ue,-c.transform.angle),s.transformMat3(ee,ee,ue);const me=P.properties.get("color");return{u_matrix:I,u_lightpos:ee,u_lightintensity:P.properties.get("intensity"),u_lightcolor:[me.r,me.g,me.b],u_vertical_gradient:+m,u_opacity:S}},Uf=(I,c,m,S,P,F,ee)=>s.extend(pv(I,c,m,S),jf(F,c,ee),{u_height_factor:-Math.pow(2,P.overscaledZ)/ee.tileSize/8}),Gf=I=>({u_matrix:I}),Yf=(I,c,m,S)=>s.extend(Gf(I),jf(m,c,S)),mv=(I,c)=>({u_matrix:I,u_world:c}),fv=(I,c,m,S,P)=>s.extend(Yf(I,c,m,S),{u_world:P}),uu=(I,c,m,S)=>{const P=I.transform;let F,ee;if(S.paint.get("circle-pitch-alignment")==="map"){const ue=oi(m,1,P.zoom);F=!0,ee=[ue,ue]}else F=!1,ee=P.pixelsToGLUnits;return{u_camera_to_center_distance:P.cameraToCenterDistance,u_scale_with_map:+(S.paint.get("circle-pitch-scale")==="map"),u_matrix:I.translatePosMatrix(c.posMatrix,m,S.paint.get("circle-translate"),S.paint.get("circle-translate-anchor")),u_pitch_with_map:+F,u_device_pixel_ratio:I.pixelRatio,u_extrude_scale:ee}},$p=(I,c,m)=>{const S=oi(m,1,c.zoom),P=Math.pow(2,c.zoom-m.tileID.overscaledZ),F=m.tileID.overscaleFactor();return{u_matrix:I,u_camera_to_center_distance:c.cameraToCenterDistance,u_pixels_to_tile_units:S,u_extrude_scale:[c.pixelsToGLUnits[0]/(S*P),c.pixelsToGLUnits[1]/(S*P)],u_overscale_factor:F}},td=(I,c,m=1)=>({u_matrix:I,u_color:c,u_overlay:0,u_overlay_scale:m}),sh=I=>({u_matrix:I}),zp=(I,c,m,S)=>({u_matrix:I,u_extrude_scale:oi(c,1,m),u_intensity:S});function Fp(I,c){const m=Math.pow(2,c.canonical.z),S=c.canonical.y;return[new s.MercatorCoordinate(0,S/m).toLngLat().lat,new s.MercatorCoordinate(0,(S+1)/m).toLngLat().lat]}const oh=(I,c,m,S)=>{const P=I.transform;return{u_matrix:Vf(I,c,m,S),u_ratio:1/oi(c,1,P.zoom),u_device_pixel_ratio:I.pixelRatio,u_units_to_pixels:[1/P.pixelsToGLUnits[0],1/P.pixelsToGLUnits[1]]}},Bp=(I,c,m,S,P)=>s.extend(oh(I,c,m,P),{u_image:0,u_image_height:S}),lh=(I,c,m,S,P)=>{const F=I.transform,ee=ch(c,F);return{u_matrix:Vf(I,c,m,P),u_texsize:c.imageAtlasTexture.size,u_ratio:1/oi(c,1,F.zoom),u_device_pixel_ratio:I.pixelRatio,u_image:0,u_scale:[ee,S.fromScale,S.toScale],u_fade:S.t,u_units_to_pixels:[1/F.pixelsToGLUnits[0],1/F.pixelsToGLUnits[1]]}},Tr=(I,c,m,S,P,F)=>{const ee=I.lineAtlas,ue=ch(c,I.transform),me=m.layout.get("line-cap")==="round",Te=ee.getDash(S.from,me),Ae=ee.getDash(S.to,me),$e=Te.width*P.fromScale,Ve=Ae.width*P.toScale;return s.extend(oh(I,c,m,F),{u_patternscale_a:[ue/$e,-Te.height/2],u_patternscale_b:[ue/Ve,-Ae.height/2],u_sdfgamma:ee.width/(256*Math.min($e,Ve)*I.pixelRatio)/2,u_image:0,u_tex_y_a:Te.y,u_tex_y_b:Ae.y,u_mix:P.t})};function ch(I,c){return 1/oi(I,1,c.tileZoom)}function Vf(I,c,m,S){return I.translatePosMatrix(S?S.posMatrix:c.tileID.posMatrix,c,m.paint.get("line-translate"),m.paint.get("line-translate-anchor"))}const gv=(I,c,m,S,P)=>{return{u_matrix:I,u_tl_parent:c,u_scale_parent:m,u_buffer_scale:1,u_fade_t:S.mix,u_opacity:S.opacity*P.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:P.paint.get("raster-brightness-min"),u_brightness_high:P.paint.get("raster-brightness-max"),u_saturation_factor:(ee=P.paint.get("raster-saturation"),ee>0?1-1/(1.001-ee):-ee),u_contrast_factor:(F=P.paint.get("raster-contrast"),F>0?1/(1-F):1+F),u_spin_weights:yv(P.paint.get("raster-hue-rotate"))};var F,ee};function yv(I){I*=Math.PI/180;const c=Math.sin(I),m=Math.cos(I);return[(2*m+1)/3,(-Math.sqrt(3)*c-m+1)/3,(Math.sqrt(3)*c-m+1)/3]}const jp=(I,c,m,S,P,F,ee,ue,me,Te)=>{const Ae=P.transform;return{u_is_size_zoom_constant:+(I==="constant"||I==="source"),u_is_size_feature_constant:+(I==="constant"||I==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:Ae.cameraToCenterDistance,u_pitch:Ae.pitch/360*2*Math.PI,u_rotate_symbol:+m,u_aspect_ratio:Ae.width/Ae.height,u_fade_change:P.options.fadeDuration?P.symbolFadeChange:1,u_matrix:F,u_label_plane_matrix:ee,u_coord_matrix:ue,u_is_text:+me,u_pitch_with_map:+S,u_texsize:Te,u_texture:0}},qf=(I,c,m,S,P,F,ee,ue,me,Te,Ae)=>{const $e=P.transform;return s.extend(jp(I,c,m,S,P,F,ee,ue,me,Te),{u_gamma_scale:S?Math.cos($e._pitch)*$e.cameraToCenterDistance:1,u_device_pixel_ratio:P.pixelRatio,u_is_halo:1})},$0=(I,c,m,S,P,F,ee,ue,me,Te)=>s.extend(qf(I,c,m,S,P,F,ee,ue,!0,me),{u_texsize_icon:Te,u_texture_icon:1}),z0=(I,c,m)=>({u_matrix:I,u_opacity:c,u_color:m}),Wf=(I,c,m,S,P,F)=>s.extend(function(ee,ue,me,Te){const Ae=me.imageManager.getPattern(ee.from.toString()),$e=me.imageManager.getPattern(ee.to.toString()),{width:Ve,height:et}=me.imageManager.getPixelSize(),Qe=Math.pow(2,Te.tileID.overscaledZ),Je=Te.tileSize*Math.pow(2,me.transform.tileZoom)/Qe,pt=Je*(Te.tileID.canonical.x+Te.tileID.wrap*Qe),yt=Je*Te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Ae.tl,u_pattern_br_a:Ae.br,u_pattern_tl_b:$e.tl,u_pattern_br_b:$e.br,u_texsize:[Ve,et],u_mix:ue.t,u_pattern_size_a:Ae.displaySize,u_pattern_size_b:$e.displaySize,u_scale_a:ue.fromScale,u_scale_b:ue.toScale,u_tile_units_to_pixels:1/oi(Te,1,me.transform.tileZoom),u_pixel_coord_upper:[pt>>16,yt>>16],u_pixel_coord_lower:[65535&pt,65535&yt]}}(S,F,m,P),{u_matrix:I,u_opacity:c}),Hf={fillExtrusion:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_lightpos:new s.Uniform3f(I,c.u_lightpos),u_lightintensity:new s.Uniform1f(I,c.u_lightintensity),u_lightcolor:new s.Uniform3f(I,c.u_lightcolor),u_vertical_gradient:new s.Uniform1f(I,c.u_vertical_gradient),u_opacity:new s.Uniform1f(I,c.u_opacity)}),fillExtrusionPattern:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_lightpos:new s.Uniform3f(I,c.u_lightpos),u_lightintensity:new s.Uniform1f(I,c.u_lightintensity),u_lightcolor:new s.Uniform3f(I,c.u_lightcolor),u_vertical_gradient:new s.Uniform1f(I,c.u_vertical_gradient),u_height_factor:new s.Uniform1f(I,c.u_height_factor),u_image:new s.Uniform1i(I,c.u_image),u_texsize:new s.Uniform2f(I,c.u_texsize),u_pixel_coord_upper:new s.Uniform2f(I,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(I,c.u_pixel_coord_lower),u_scale:new s.Uniform3f(I,c.u_scale),u_fade:new s.Uniform1f(I,c.u_fade),u_opacity:new s.Uniform1f(I,c.u_opacity)}),fill:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix)}),fillPattern:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_image:new s.Uniform1i(I,c.u_image),u_texsize:new s.Uniform2f(I,c.u_texsize),u_pixel_coord_upper:new s.Uniform2f(I,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(I,c.u_pixel_coord_lower),u_scale:new s.Uniform3f(I,c.u_scale),u_fade:new s.Uniform1f(I,c.u_fade)}),fillOutline:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_world:new s.Uniform2f(I,c.u_world)}),fillOutlinePattern:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_world:new s.Uniform2f(I,c.u_world),u_image:new s.Uniform1i(I,c.u_image),u_texsize:new s.Uniform2f(I,c.u_texsize),u_pixel_coord_upper:new s.Uniform2f(I,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(I,c.u_pixel_coord_lower),u_scale:new s.Uniform3f(I,c.u_scale),u_fade:new s.Uniform1f(I,c.u_fade)}),circle:(I,c)=>({u_camera_to_center_distance:new s.Uniform1f(I,c.u_camera_to_center_distance),u_scale_with_map:new s.Uniform1i(I,c.u_scale_with_map),u_pitch_with_map:new s.Uniform1i(I,c.u_pitch_with_map),u_extrude_scale:new s.Uniform2f(I,c.u_extrude_scale),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_matrix:new s.UniformMatrix4f(I,c.u_matrix)}),collisionBox:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_camera_to_center_distance:new s.Uniform1f(I,c.u_camera_to_center_distance),u_pixels_to_tile_units:new s.Uniform1f(I,c.u_pixels_to_tile_units),u_extrude_scale:new s.Uniform2f(I,c.u_extrude_scale),u_overscale_factor:new s.Uniform1f(I,c.u_overscale_factor)}),collisionCircle:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_inv_matrix:new s.UniformMatrix4f(I,c.u_inv_matrix),u_camera_to_center_distance:new s.Uniform1f(I,c.u_camera_to_center_distance),u_viewport_size:new s.Uniform2f(I,c.u_viewport_size)}),debug:(I,c)=>({u_color:new s.UniformColor(I,c.u_color),u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_overlay:new s.Uniform1i(I,c.u_overlay),u_overlay_scale:new s.Uniform1f(I,c.u_overlay_scale)}),clippingMask:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix)}),heatmap:(I,c)=>({u_extrude_scale:new s.Uniform1f(I,c.u_extrude_scale),u_intensity:new s.Uniform1f(I,c.u_intensity),u_matrix:new s.UniformMatrix4f(I,c.u_matrix)}),heatmapTexture:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_world:new s.Uniform2f(I,c.u_world),u_image:new s.Uniform1i(I,c.u_image),u_color_ramp:new s.Uniform1i(I,c.u_color_ramp),u_opacity:new s.Uniform1f(I,c.u_opacity)}),hillshade:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_image:new s.Uniform1i(I,c.u_image),u_latrange:new s.Uniform2f(I,c.u_latrange),u_light:new s.Uniform2f(I,c.u_light),u_shadow:new s.UniformColor(I,c.u_shadow),u_highlight:new s.UniformColor(I,c.u_highlight),u_accent:new s.UniformColor(I,c.u_accent)}),hillshadePrepare:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_image:new s.Uniform1i(I,c.u_image),u_dimension:new s.Uniform2f(I,c.u_dimension),u_zoom:new s.Uniform1f(I,c.u_zoom),u_unpack:new s.Uniform4f(I,c.u_unpack)}),line:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_ratio:new s.Uniform1f(I,c.u_ratio),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(I,c.u_units_to_pixels)}),lineGradient:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_ratio:new s.Uniform1f(I,c.u_ratio),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(I,c.u_units_to_pixels),u_image:new s.Uniform1i(I,c.u_image),u_image_height:new s.Uniform1f(I,c.u_image_height)}),linePattern:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_texsize:new s.Uniform2f(I,c.u_texsize),u_ratio:new s.Uniform1f(I,c.u_ratio),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_image:new s.Uniform1i(I,c.u_image),u_units_to_pixels:new s.Uniform2f(I,c.u_units_to_pixels),u_scale:new s.Uniform3f(I,c.u_scale),u_fade:new s.Uniform1f(I,c.u_fade)}),lineSDF:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_ratio:new s.Uniform1f(I,c.u_ratio),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(I,c.u_units_to_pixels),u_patternscale_a:new s.Uniform2f(I,c.u_patternscale_a),u_patternscale_b:new s.Uniform2f(I,c.u_patternscale_b),u_sdfgamma:new s.Uniform1f(I,c.u_sdfgamma),u_image:new s.Uniform1i(I,c.u_image),u_tex_y_a:new s.Uniform1f(I,c.u_tex_y_a),u_tex_y_b:new s.Uniform1f(I,c.u_tex_y_b),u_mix:new s.Uniform1f(I,c.u_mix)}),raster:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_tl_parent:new s.Uniform2f(I,c.u_tl_parent),u_scale_parent:new s.Uniform1f(I,c.u_scale_parent),u_buffer_scale:new s.Uniform1f(I,c.u_buffer_scale),u_fade_t:new s.Uniform1f(I,c.u_fade_t),u_opacity:new s.Uniform1f(I,c.u_opacity),u_image0:new s.Uniform1i(I,c.u_image0),u_image1:new s.Uniform1i(I,c.u_image1),u_brightness_low:new s.Uniform1f(I,c.u_brightness_low),u_brightness_high:new s.Uniform1f(I,c.u_brightness_high),u_saturation_factor:new s.Uniform1f(I,c.u_saturation_factor),u_contrast_factor:new s.Uniform1f(I,c.u_contrast_factor),u_spin_weights:new s.Uniform3f(I,c.u_spin_weights)}),symbolIcon:(I,c)=>({u_is_size_zoom_constant:new s.Uniform1i(I,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(I,c.u_is_size_feature_constant),u_size_t:new s.Uniform1f(I,c.u_size_t),u_size:new s.Uniform1f(I,c.u_size),u_camera_to_center_distance:new s.Uniform1f(I,c.u_camera_to_center_distance),u_pitch:new s.Uniform1f(I,c.u_pitch),u_rotate_symbol:new s.Uniform1i(I,c.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(I,c.u_aspect_ratio),u_fade_change:new s.Uniform1f(I,c.u_fade_change),u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(I,c.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(I,c.u_coord_matrix),u_is_text:new s.Uniform1i(I,c.u_is_text),u_pitch_with_map:new s.Uniform1i(I,c.u_pitch_with_map),u_texsize:new s.Uniform2f(I,c.u_texsize),u_texture:new s.Uniform1i(I,c.u_texture)}),symbolSDF:(I,c)=>({u_is_size_zoom_constant:new s.Uniform1i(I,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(I,c.u_is_size_feature_constant),u_size_t:new s.Uniform1f(I,c.u_size_t),u_size:new s.Uniform1f(I,c.u_size),u_camera_to_center_distance:new s.Uniform1f(I,c.u_camera_to_center_distance),u_pitch:new s.Uniform1f(I,c.u_pitch),u_rotate_symbol:new s.Uniform1i(I,c.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(I,c.u_aspect_ratio),u_fade_change:new s.Uniform1f(I,c.u_fade_change),u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(I,c.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(I,c.u_coord_matrix),u_is_text:new s.Uniform1i(I,c.u_is_text),u_pitch_with_map:new s.Uniform1i(I,c.u_pitch_with_map),u_texsize:new s.Uniform2f(I,c.u_texsize),u_texture:new s.Uniform1i(I,c.u_texture),u_gamma_scale:new s.Uniform1f(I,c.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(I,c.u_is_halo)}),symbolTextAndIcon:(I,c)=>({u_is_size_zoom_constant:new s.Uniform1i(I,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(I,c.u_is_size_feature_constant),u_size_t:new s.Uniform1f(I,c.u_size_t),u_size:new s.Uniform1f(I,c.u_size),u_camera_to_center_distance:new s.Uniform1f(I,c.u_camera_to_center_distance),u_pitch:new s.Uniform1f(I,c.u_pitch),u_rotate_symbol:new s.Uniform1i(I,c.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(I,c.u_aspect_ratio),u_fade_change:new s.Uniform1f(I,c.u_fade_change),u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(I,c.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(I,c.u_coord_matrix),u_is_text:new s.Uniform1i(I,c.u_is_text),u_pitch_with_map:new s.Uniform1i(I,c.u_pitch_with_map),u_texsize:new s.Uniform2f(I,c.u_texsize),u_texsize_icon:new s.Uniform2f(I,c.u_texsize_icon),u_texture:new s.Uniform1i(I,c.u_texture),u_texture_icon:new s.Uniform1i(I,c.u_texture_icon),u_gamma_scale:new s.Uniform1f(I,c.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(I,c.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(I,c.u_is_halo)}),background:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_opacity:new s.Uniform1f(I,c.u_opacity),u_color:new s.UniformColor(I,c.u_color)}),backgroundPattern:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_opacity:new s.Uniform1f(I,c.u_opacity),u_image:new s.Uniform1i(I,c.u_image),u_pattern_tl_a:new s.Uniform2f(I,c.u_pattern_tl_a),u_pattern_br_a:new s.Uniform2f(I,c.u_pattern_br_a),u_pattern_tl_b:new s.Uniform2f(I,c.u_pattern_tl_b),u_pattern_br_b:new s.Uniform2f(I,c.u_pattern_br_b),u_texsize:new s.Uniform2f(I,c.u_texsize),u_mix:new s.Uniform1f(I,c.u_mix),u_pattern_size_a:new s.Uniform2f(I,c.u_pattern_size_a),u_pattern_size_b:new s.Uniform2f(I,c.u_pattern_size_b),u_scale_a:new s.Uniform1f(I,c.u_scale_a),u_scale_b:new s.Uniform1f(I,c.u_scale_b),u_pixel_coord_upper:new s.Uniform2f(I,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(I,c.u_pixel_coord_lower),u_tile_units_to_pixels:new s.Uniform1f(I,c.u_tile_units_to_pixels)}),terrain:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_texture:new s.Uniform1i(I,c.u_texture)}),terrainDepth:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix)}),terrainCoords:(I,c)=>({u_matrix:new s.UniformMatrix4f(I,c.u_matrix),u_texture:new s.Uniform1i(I,c.u_texture),u_terrain_coords_id:new s.Uniform1f(I,c.u_terrain_coords_id)})};class Xf{constructor(c,m,S){this.context=c;const P=c.gl;this.buffer=P.createBuffer(),this.dynamicDraw=!!S,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),P.bufferData(P.ELEMENT_ARRAY_BUFFER,m.arrayBuffer,this.dynamicDraw?P.DYNAMIC_DRAW:P.STATIC_DRAW),this.dynamicDraw||delete m.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const m=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),m.bufferSubData(m.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Zf={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class vv{constructor(c,m,S,P){this.length=m.length,this.attributes=S,this.itemSize=m.bytesPerElement,this.dynamicDraw=P,this.context=c;const F=c.gl;this.buffer=F.createBuffer(),c.bindVertexBuffer.set(this.buffer),F.bufferData(F.ARRAY_BUFFER,m.arrayBuffer,this.dynamicDraw?F.DYNAMIC_DRAW:F.STATIC_DRAW),this.dynamicDraw||delete m.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){if(c.length!==this.length)throw new Error(`Length of new data is ${c.length}, which doesn't match current length of ${this.length}`);const m=this.context.gl;this.bind(),m.bufferSubData(m.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,m){for(let S=0;S<this.attributes.length;S++){const P=m.attributes[this.attributes[S].name];P!==void 0&&c.enableVertexAttribArray(P)}}setVertexAttribPointers(c,m,S){for(let P=0;P<this.attributes.length;P++){const F=this.attributes[P],ee=m.attributes[F.name];ee!==void 0&&c.vertexAttribPointer(ee,F.components,c[Zf[F.type]],!1,this.itemSize,F.offset+this.itemSize*(S||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class zi{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class F0 extends zi{getDefault(){return s.Color.transparent}set(c){const m=this.current;(c.r!==m.r||c.g!==m.g||c.b!==m.b||c.a!==m.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class uh extends zi{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class dh extends zi{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class xv extends zi{getDefault(){return[!0,!0,!0,!0]}set(c){const m=this.current;(c[0]!==m[0]||c[1]!==m[1]||c[2]!==m[2]||c[3]!==m[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class ro extends zi{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class Kf extends zi{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class Up extends zi{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const m=this.current;(c.func!==m.func||c.ref!==m.ref||c.mask!==m.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class Gp extends zi{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const m=this.current;(c[0]!==m[0]||c[1]!==m[1]||c[2]!==m[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class Qf extends zi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;c?m.enable(m.STENCIL_TEST):m.disable(m.STENCIL_TEST),this.current=c,this.dirty=!1}}class Jf extends zi{getDefault(){return[0,1]}set(c){const m=this.current;(c[0]!==m[0]||c[1]!==m[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class Yp extends zi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;c?m.enable(m.DEPTH_TEST):m.disable(m.DEPTH_TEST),this.current=c,this.dirty=!1}}class eg extends zi{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class tg extends zi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;c?m.enable(m.BLEND):m.disable(m.BLEND),this.current=c,this.dirty=!1}}class Vp extends zi{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const m=this.current;(c[0]!==m[0]||c[1]!==m[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class bv extends zi{getDefault(){return s.Color.transparent}set(c){const m=this.current;(c.r!==m.r||c.g!==m.g||c.b!==m.b||c.a!==m.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class _v extends zi{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class nd extends zi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;c?m.enable(m.CULL_FACE):m.disable(m.CULL_FACE),this.current=c,this.dirty=!1}}class B0 extends zi{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class j0 extends zi{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class U0 extends zi{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class G0 extends zi{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class Y0 extends zi{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const m=this.current;(c[0]!==m[0]||c[1]!==m[1]||c[2]!==m[2]||c[3]!==m[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class V0 extends zi{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.bindFramebuffer(m.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class ng extends zi{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.bindRenderbuffer(m.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class qp extends zi{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.bindTexture(m.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class ig extends zi{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.bindBuffer(m.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class rg extends zi{getDefault(){return null}set(c){const m=this.gl;m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class id extends zi{constructor(c){super(c),this.vao=c.extVertexArrayObject}getDefault(){return null}set(c){this.vao&&(c!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(c),this.current=c,this.dirty=!1)}}class wv extends zi{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class Tv extends zi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class ag extends zi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class Tc extends zi{constructor(c,m){super(c),this.context=c,this.parent=m}getDefault(){return null}}class Sv extends Tc{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class rd extends Tc{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class ad{constructor(c,m,S,P){this.context=c,this.width=m,this.height=S;const F=c.gl,ee=this.framebuffer=F.createFramebuffer();if(this.colorAttachment=new Sv(c,ee),P&&(this.depthAttachment=new rd(c,ee)),F.checkFramebufferStatus(F.FRAMEBUFFER)!==F.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const c=this.context.gl,m=this.colorAttachment.get();if(m&&c.deleteTexture(m),this.depthAttachment){const S=this.depthAttachment.get();S&&c.deleteRenderbuffer(S)}c.deleteFramebuffer(this.framebuffer)}}class Br{constructor(c,m,S){this.blendFunction=c,this.blendColor=m,this.mask=S}}Br.Replace=[1,0],Br.disabled=new Br(Br.Replace,s.Color.transparent,[!1,!1,!1,!1]),Br.unblended=new Br(Br.Replace,s.Color.transparent,[!0,!0,!0,!0]),Br.alphaBlended=new Br([1,771],s.Color.transparent,[!0,!0,!0,!0]);class sg{constructor(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new F0(this),this.clearDepth=new uh(this),this.clearStencil=new dh(this),this.colorMask=new xv(this),this.depthMask=new ro(this),this.stencilMask=new Kf(this),this.stencilFunc=new Up(this),this.stencilOp=new Gp(this),this.stencilTest=new Qf(this),this.depthRange=new Jf(this),this.depthTest=new Yp(this),this.depthFunc=new eg(this),this.blend=new tg(this),this.blendFunc=new Vp(this),this.blendColor=new bv(this),this.blendEquation=new _v(this),this.cullFace=new nd(this),this.cullFaceSide=new B0(this),this.frontFace=new j0(this),this.program=new U0(this),this.activeTexture=new G0(this),this.viewport=new Y0(this),this.bindFramebuffer=new V0(this),this.bindRenderbuffer=new ng(this),this.bindTexture=new qp(this),this.bindVertexBuffer=new ig(this),this.bindElementBuffer=new rg(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new id(this),this.pixelStoreUnpack=new wv(this),this.pixelStoreUnpackPremultiplyAlpha=new Tv(this),this.pixelStoreUnpackFlipY=new ag(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,m){return new Xf(this,c,m)}createVertexBuffer(c,m,S){return new vv(this,c,m,S)}createRenderbuffer(c,m,S){const P=this.gl,F=P.createRenderbuffer();return this.bindRenderbuffer.set(F),P.renderbufferStorage(P.RENDERBUFFER,c,m,S),this.bindRenderbuffer.set(null),F}createFramebuffer(c,m,S){return new ad(this,c,m,S)}clear({color:c,depth:m}){const S=this.gl;let P=0;c&&(P|=S.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),m!==void 0&&(P|=S.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(m),this.depthMask.set(!0)),S.clear(P)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){y(c.blendFunction,Br.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class kn{constructor(c,m,S){this.func=c,this.mask=m,this.range=S}}kn.ReadOnly=!1,kn.ReadWrite=!0,kn.disabled=new kn(519,kn.ReadOnly,[0,1]);const sd=7680;class Sr{constructor(c,m,S,P,F,ee){this.test=c,this.ref=m,this.mask=S,this.fail=P,this.depthFail=F,this.pass=ee}}Sr.disabled=new Sr({func:519,mask:0},0,0,sd,sd,sd);class ur{constructor(c,m,S){this.enable=c,this.mode=m,this.frontFace=S}}let Sc;function Cv(I,c,m,S,P,F,ee){const ue=I.context,me=ue.gl,Te=I.useProgram("collisionBox"),Ae=[];let $e=0,Ve=0;for(let rt=0;rt<S.length;rt++){const It=S[rt],Et=c.getTile(It),jt=Et.getBucket(m);if(!jt)continue;let Ut=It.posMatrix;P[0]===0&&P[1]===0||(Ut=I.translatePosMatrix(It.posMatrix,Et,P,F));const qt=ee?jt.textCollisionBox:jt.iconCollisionBox,zt=jt.collisionCircleArray;if(zt.length>0){const hn=s.create(),tn=Ut;s.mul(hn,jt.placementInvProjMatrix,I.transform.glCoordMatrix),s.mul(hn,hn,jt.placementViewportMatrix),Ae.push({circleArray:zt,circleOffset:Ve,transform:tn,invTransform:hn,coord:It}),$e+=zt.length/4,Ve=$e}qt&&Te.draw(ue,me.LINES,kn.disabled,Sr.disabled,I.colorModeForRenderPass(),ur.disabled,$p(Ut,I.transform,Et),I.style.terrain&&I.style.terrain.getTerrainData(It),m.id,qt.layoutVertexBuffer,qt.indexBuffer,qt.segments,null,I.transform.zoom,null,null,qt.collisionVertexBuffer)}if(!ee||!Ae.length)return;const et=I.useProgram("collisionCircle"),Qe=new s.CollisionCircleLayoutArray;Qe.resize(4*$e),Qe._trim();let Je=0;for(const rt of Ae)for(let It=0;It<rt.circleArray.length/4;It++){const Et=4*It,jt=rt.circleArray[Et+0],Ut=rt.circleArray[Et+1],qt=rt.circleArray[Et+2],zt=rt.circleArray[Et+3];Qe.emplace(Je++,jt,Ut,qt,zt,0),Qe.emplace(Je++,jt,Ut,qt,zt,1),Qe.emplace(Je++,jt,Ut,qt,zt,2),Qe.emplace(Je++,jt,Ut,qt,zt,3)}(!Sc||Sc.length<2*$e)&&(Sc=function(rt){const It=2*rt,Et=new s.QuadTriangleArray;Et.resize(It),Et._trim();for(let jt=0;jt<It;jt++){const Ut=6*jt;Et.uint16[Ut+0]=4*jt+0,Et.uint16[Ut+1]=4*jt+1,Et.uint16[Ut+2]=4*jt+2,Et.uint16[Ut+3]=4*jt+2,Et.uint16[Ut+4]=4*jt+3,Et.uint16[Ut+5]=4*jt+0}return Et}($e));const pt=ue.createIndexBuffer(Sc,!0),yt=ue.createVertexBuffer(Qe,s.collisionCircleLayout.members,!0);for(const rt of Ae){const It={u_matrix:rt.transform,u_inv_matrix:rt.invTransform,u_camera_to_center_distance:(wt=I.transform).cameraToCenterDistance,u_viewport_size:[wt.width,wt.height]};et.draw(ue,me.TRIANGLES,kn.disabled,Sr.disabled,I.colorModeForRenderPass(),ur.disabled,It,I.style.terrain&&I.style.terrain.getTerrainData(rt.coord),m.id,yt,pt,s.SegmentVector.simpleSegment(0,2*rt.circleOffset,rt.circleArray.length,rt.circleArray.length/2),null,I.transform.zoom,null,null,null)}var wt;yt.destroy(),pt.destroy()}ur.disabled=new ur(!1,1029,2305),ur.backCCW=new ur(!0,1029,2305);const q0=s.identity(new Float32Array(16));function Ev(I,c,m,S,P,F){const{horizontalAlign:ee,verticalAlign:ue}=s.getAnchorAlignment(I),me=-(ee-.5)*c,Te=-(ue-.5)*m,Ae=s.evaluateVariableOffset(I,S);return new s.pointGeometry((me/P+Ae[0])*F,(Te/P+Ae[1])*F)}function W0(I,c,m,S,P,F,ee,ue,me,Te,Ae){const $e=I.text.placedSymbolArray,Ve=I.text.dynamicLayoutVertexArray,et=I.icon.dynamicLayoutVertexArray,Qe={};Ve.clear();for(let Je=0;Je<$e.length;Je++){const pt=$e.get(Je),yt=I.allowVerticalPlacement&&!pt.placedOrientation,wt=pt.hidden||!pt.crossTileID||yt?null:S[pt.crossTileID];if(wt){const rt=new s.pointGeometry(pt.anchorX,pt.anchorY),It=ht(rt,m?ee:F,Ae),Et=gt(P.cameraToCenterDistance,It.signedDistanceFromCamera);let jt=s.evaluateSizeForFeature(I.textSizeData,me,pt)*Et/s.ONE_EM;m&&(jt*=I.tilePixelRatio/ue);const{width:Ut,height:qt,anchor:zt,textOffset:hn,textBoxScale:tn}=wt,mn=Ev(zt,Ut,qt,hn,tn,jt),ii=m?ht(rt.add(mn),F,Ae).point:It.point.add(c?mn.rotate(-P.angle):mn),hi=I.allowVerticalPlacement&&pt.placedOrientation===s.WritingMode.vertical?Math.PI/2:0;for(let Rn=0;Rn<pt.numGlyphs;Rn++)s.addDynamicAttributes(Ve,ii,hi);Te&&pt.associatedIconIndex>=0&&(Qe[pt.associatedIconIndex]={shiftedAnchor:ii,angle:hi})}else di(pt.numGlyphs,Ve)}if(Te){et.clear();const Je=I.icon.placedSymbolArray;for(let pt=0;pt<Je.length;pt++){const yt=Je.get(pt);if(yt.hidden)di(yt.numGlyphs,et);else{const wt=Qe[pt];if(wt)for(let rt=0;rt<yt.numGlyphs;rt++)s.addDynamicAttributes(et,wt.shiftedAnchor,wt.angle);else di(yt.numGlyphs,et)}}I.icon.dynamicLayoutVertexBuffer.updateData(et)}I.text.dynamicLayoutVertexBuffer.updateData(Ve)}function og(I,c,m){return m.iconsInText&&c?"symbolTextAndIcon":I?"symbolSDF":"symbolIcon"}function hh(I,c,m,S,P,F,ee,ue,me,Te,Ae,$e){const Ve=I.context,et=Ve.gl,Qe=I.transform,Je=ue==="map",pt=me==="map",yt=ue!=="viewport"&&m.layout.get("symbol-placement")!=="point",wt=Je&&!pt&&!yt,rt=!m.layout.get("symbol-sort-key").isConstant();let It=!1;const Et=I.depthModeForSublayer(0,kn.ReadOnly),jt=m.layout.get("text-variable-anchor"),Ut=[];for(const qt of S){const zt=c.getTile(qt),hn=zt.getBucket(m);if(!hn)continue;const tn=P?hn.text:hn.icon;if(!tn||!tn.segments.get().length)continue;const mn=tn.programConfigurations.get(m.id),ii=P||hn.sdfIcons,hi=P?hn.textSizeData:hn.iconSizeData,Rn=pt||Qe.pitch!==0,Wi=I.useProgram(og(ii,P,hn),mn),Hi=s.evaluateSizeForZoom(hi,Qe.zoom),Si=I.style.terrain&&I.style.terrain.getTerrainData(qt);let Ei,Ii,so,Cl,Zo=[0,0],Ko=null;if(P){if(Ii=zt.glyphAtlasTexture,so=et.LINEAR,Ei=zt.glyphAtlasTexture.size,hn.iconsInText){Zo=zt.imageAtlasTexture.size,Ko=zt.imageAtlasTexture;const Do=hi.kind==="composite"||hi.kind==="camera";Cl=Rn||I.options.rotating||I.options.zooming||Do?et.LINEAR:et.NEAREST}}else{const Do=m.layout.get("icon-size").constantOr(0)!==1||hn.iconsNeedLinear;Ii=zt.imageAtlasTexture,so=ii||I.options.rotating||I.options.zooming||Do||Rn?et.LINEAR:et.NEAREST,Ei=zt.imageAtlasTexture.size}const yu=oi(zt,1,I.transform.zoom),Ga=tt(qt.posMatrix,pt,Je,I.transform,yu),Qo=st(qt.posMatrix,pt,Je,I.transform,yu),vu=jt&&hn.hasTextData(),om=m.layout.get("icon-text-fit")!=="none"&&vu&&hn.hasIconData();if(yt){const Do=I.style.terrain?(hd,lm)=>I.style.terrain.getElevation(qt,hd,lm):null,dd=m.layout.get("text-rotation-alignment")==="map";$t(hn,qt.posMatrix,I,P,Ga,Qo,pt,Te,dd,Do)}const Ai=I.translatePosMatrix(qt.posMatrix,zt,F,ee),hr=yt||P&&jt||om?q0:Ga,$i=I.translatePosMatrix(Qo,zt,F,ee,!0),ua=ii&&m.paint.get(P?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ys;Ys=ii?hn.iconsInText?$0(hi.kind,Hi,wt,pt,I,Ai,hr,$i,Ei,Zo):qf(hi.kind,Hi,wt,pt,I,Ai,hr,$i,P,Ei):jp(hi.kind,Hi,wt,pt,I,Ai,hr,$i,P,Ei);const yr={program:Wi,buffers:tn,uniformValues:Ys,atlasTexture:Ii,atlasTextureIcon:Ko,atlasInterpolation:so,atlasInterpolationIcon:Cl,isSDF:ii,hasHalo:ua};if(rt&&hn.canOverlap){It=!0;const Do=tn.segments.get();for(const dd of Do)Ut.push({segments:new s.SegmentVector([dd]),sortKey:dd.sortKey,state:yr,terrainData:Si})}else Ut.push({segments:tn.segments,sortKey:0,state:yr,terrainData:Si})}It&&Ut.sort((qt,zt)=>qt.sortKey-zt.sortKey);for(const qt of Ut){const zt=qt.state;if(Ve.activeTexture.set(et.TEXTURE0),zt.atlasTexture.bind(zt.atlasInterpolation,et.CLAMP_TO_EDGE),zt.atlasTextureIcon&&(Ve.activeTexture.set(et.TEXTURE1),zt.atlasTextureIcon&&zt.atlasTextureIcon.bind(zt.atlasInterpolationIcon,et.CLAMP_TO_EDGE)),zt.isSDF){const hn=zt.uniformValues;zt.hasHalo&&(hn.u_is_halo=1,ph(zt.buffers,qt.segments,m,I,zt.program,Et,Ae,$e,hn,qt.terrainData)),hn.u_is_halo=0}ph(zt.buffers,qt.segments,m,I,zt.program,Et,Ae,$e,zt.uniformValues,qt.terrainData)}}function ph(I,c,m,S,P,F,ee,ue,me,Te){const Ae=S.context;P.draw(Ae,Ae.gl.TRIANGLES,F,ee,ue,ur.disabled,me,Te,m.id,I.layoutVertexBuffer,I.indexBuffer,c,m.paint,S.transform.zoom,I.programConfigurations.get(m.id),I.dynamicLayoutVertexBuffer,I.opacityVertexBuffer)}function Wp(I,c,m,S,P,F,ee){const ue=I.context.gl,me=m.paint.get("fill-pattern"),Te=me&&me.constantOr(1),Ae=m.getCrossfadeParameters();let $e,Ve,et,Qe,Je;ee?(Ve=Te&&!m.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",$e=ue.LINES):(Ve=Te?"fillPattern":"fill",$e=ue.TRIANGLES);for(const pt of S){const yt=c.getTile(pt);if(Te&&!yt.patternsLoaded())continue;const wt=yt.getBucket(m);if(!wt)continue;const rt=wt.programConfigurations.get(m.id),It=I.useProgram(Ve,rt),Et=I.style.terrain&&I.style.terrain.getTerrainData(pt);Te&&(I.context.activeTexture.set(ue.TEXTURE0),yt.imageAtlasTexture.bind(ue.LINEAR,ue.CLAMP_TO_EDGE),rt.updatePaintBuffers(Ae));const jt=me.constantOr(null);if(jt&&yt.imageAtlas){const zt=yt.imageAtlas,hn=zt.patternPositions[jt.to.toString()],tn=zt.patternPositions[jt.from.toString()];hn&&tn&&rt.setConstantPatternPositions(hn,tn)}const Ut=Et?pt:null,qt=I.translatePosMatrix(Ut?Ut.posMatrix:pt.posMatrix,yt,m.paint.get("fill-translate"),m.paint.get("fill-translate-anchor"));if(ee){Qe=wt.indexBuffer2,Je=wt.segments2;const zt=[ue.drawingBufferWidth,ue.drawingBufferHeight];et=Ve==="fillOutlinePattern"&&Te?fv(qt,I,Ae,yt,zt):mv(qt,zt)}else Qe=wt.indexBuffer,Je=wt.segments,et=Te?Yf(qt,I,Ae,yt):Gf(qt);It.draw(I.context,$e,P,I.stencilModeForClipping(pt),F,ur.disabled,et,Et,m.id,wt.layoutVertexBuffer,Qe,Je,m.paint,I.transform.zoom,rt)}}function mh(I,c,m,S,P,F,ee){const ue=I.context,me=ue.gl,Te=m.paint.get("fill-extrusion-pattern"),Ae=Te.constantOr(1),$e=m.getCrossfadeParameters(),Ve=m.paint.get("fill-extrusion-opacity");for(const et of S){const Qe=c.getTile(et),Je=Qe.getBucket(m);if(!Je)continue;const pt=I.style.terrain&&I.style.terrain.getTerrainData(et),yt=Je.programConfigurations.get(m.id),wt=I.useProgram(Ae?"fillExtrusionPattern":"fillExtrusion",yt);Ae&&(I.context.activeTexture.set(me.TEXTURE0),Qe.imageAtlasTexture.bind(me.LINEAR,me.CLAMP_TO_EDGE),yt.updatePaintBuffers($e));const rt=Te.constantOr(null);if(rt&&Qe.imageAtlas){const Ut=Qe.imageAtlas,qt=Ut.patternPositions[rt.to.toString()],zt=Ut.patternPositions[rt.from.toString()];qt&&zt&&yt.setConstantPatternPositions(qt,zt)}const It=I.translatePosMatrix(et.posMatrix,Qe,m.paint.get("fill-extrusion-translate"),m.paint.get("fill-extrusion-translate-anchor")),Et=m.paint.get("fill-extrusion-vertical-gradient"),jt=Ae?Uf(It,I,Et,Ve,et,$e,Qe):pv(It,I,Et,Ve);wt.draw(ue,ue.gl.TRIANGLES,P,F,ee,ur.backCCW,jt,pt,m.id,Je.layoutVertexBuffer,Je.indexBuffer,Je.segments,m.paint,I.transform.zoom,yt,I.style.terrain&&Je.centroidVertexBuffer)}}function kv(I,c,m,S,P,F,ee){const ue=I.context,me=ue.gl,Te=m.fbo;if(!Te)return;const Ae=I.useProgram("hillshade"),$e=I.style.terrain&&I.style.terrain.getTerrainData(c);ue.activeTexture.set(me.TEXTURE0),me.bindTexture(me.TEXTURE_2D,Te.colorAttachment.get()),Ae.draw(ue,me.TRIANGLES,P,F,ee,ur.disabled,((Ve,et,Qe,Je)=>{const pt=Qe.paint.get("hillshade-shadow-color"),yt=Qe.paint.get("hillshade-highlight-color"),wt=Qe.paint.get("hillshade-accent-color");let rt=Qe.paint.get("hillshade-illumination-direction")*(Math.PI/180);Qe.paint.get("hillshade-illumination-anchor")==="viewport"&&(rt-=Ve.transform.angle);const It=!Ve.options.moving;return{u_matrix:Je?Je.posMatrix:Ve.transform.calculatePosMatrix(et.tileID.toUnwrapped(),It),u_image:0,u_latrange:Fp(0,et.tileID),u_light:[Qe.paint.get("hillshade-exaggeration"),rt],u_shadow:pt,u_highlight:yt,u_accent:wt}})(I,m,S,$e?c:null),$e,S.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments)}function Hp(I,c,m,S,P,F){const ee=I.context,ue=ee.gl,me=c.dem;if(me&&me.data){const Te=me.dim,Ae=me.stride,$e=me.getPixels();if(ee.activeTexture.set(ue.TEXTURE1),ee.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||I.getTileTexture(Ae),c.demTexture){const et=c.demTexture;et.update($e,{premultiply:!1}),et.bind(ue.NEAREST,ue.CLAMP_TO_EDGE)}else c.demTexture=new T(ee,$e,ue.RGBA,{premultiply:!1}),c.demTexture.bind(ue.NEAREST,ue.CLAMP_TO_EDGE);ee.activeTexture.set(ue.TEXTURE0);let Ve=c.fbo;if(!Ve){const et=new T(ee,{width:Te,height:Te,data:null},ue.RGBA);et.bind(ue.LINEAR,ue.CLAMP_TO_EDGE),Ve=c.fbo=ee.createFramebuffer(Te,Te,!0),Ve.colorAttachment.set(et.texture)}ee.bindFramebuffer.set(Ve.framebuffer),ee.viewport.set([0,0,Te,Te]),I.useProgram("hillshadePrepare").draw(ee,ue.TRIANGLES,S,P,F,ur.disabled,((et,Qe)=>{const Je=Qe.stride,pt=s.create();return s.ortho(pt,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(pt,pt,[0,-s.EXTENT,0]),{u_matrix:pt,u_image:1,u_dimension:[Je,Je],u_zoom:et.overscaledZ,u_unpack:Qe.getUnpackVector()}})(c.tileID,me),null,m.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function Xp(I,c,m,S,P,F){const ee=S.paint.get("raster-fade-duration");if(!F&&ee>0){const ue=s.exported.now(),me=(ue-I.timeAdded)/ee,Te=c?(ue-c.timeAdded)/ee:-1,Ae=m.getSource(),$e=P.coveringZoomLevel({tileSize:Ae.tileSize,roundZoom:Ae.roundZoom}),Ve=!c||Math.abs(c.tileID.overscaledZ-$e)>Math.abs(I.tileID.overscaledZ-$e),et=Ve&&I.refreshedUponExpiration?1:s.clamp(Ve?me:1-Te,0,1);return I.refreshedUponExpiration&&me>=1&&(I.refreshedUponExpiration=!1),c?{opacity:1,mix:1-et}:{opacity:et,mix:0}}return{opacity:1,mix:0}}const Xo=new s.Color(1,0,0,1),Lv=new s.Color(0,1,0,1),lg=new s.Color(0,0,1,1),Nv=new s.Color(1,0,1,1),od=new s.Color(0,1,1,1);function fh(I,c,m,S){Kp(I,0,c+m/2,I.transform.width,m,S)}function Zp(I,c,m,S){Kp(I,c-m/2,0,m,I.transform.height,S)}function Kp(I,c,m,S,P,F){const ee=I.context,ue=ee.gl;ue.enable(ue.SCISSOR_TEST),ue.scissor(c*I.pixelRatio,m*I.pixelRatio,S*I.pixelRatio,P*I.pixelRatio),ee.clear({color:F}),ue.disable(ue.SCISSOR_TEST)}function cg(I,c,m){const S=I.context,P=S.gl,F=m.posMatrix,ee=I.useProgram("debug"),ue=kn.disabled,me=Sr.disabled,Te=I.colorModeForRenderPass(),Ae="$debug",$e=I.style.terrain&&I.style.terrain.getTerrainData(m);S.activeTexture.set(P.TEXTURE0),I.emptyTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE);const Ve=c.getTileByID(m.key).latestRawTileData,et=Math.floor((Ve&&Ve.byteLength||0)/1024),Qe=c.getTile(m).tileSize,Je=512/Math.min(Qe,512)*(m.overscaledZ/I.transform.zoom)*.5;let pt=m.canonical.toString();m.overscaledZ!==m.canonical.z&&(pt+=` => ${m.overscaledZ}`),function(yt,wt){yt.initDebugOverlayCanvas();const rt=yt.debugOverlayCanvas,It=yt.context.gl,Et=yt.debugOverlayCanvas.getContext("2d");Et.clearRect(0,0,rt.width,rt.height),Et.shadowColor="white",Et.shadowBlur=2,Et.lineWidth=1.5,Et.strokeStyle="white",Et.textBaseline="top",Et.font="bold 36px Open Sans, sans-serif",Et.fillText(wt,5,5),Et.strokeText(wt,5,5),yt.debugOverlayTexture.update(rt),yt.debugOverlayTexture.bind(It.LINEAR,It.CLAMP_TO_EDGE)}(I,`${pt} ${et}kB`),ee.draw(S,P.TRIANGLES,ue,me,Br.alphaBlended,ur.disabled,td(F,s.Color.transparent,Je),null,Ae,I.debugBuffer,I.quadTriangleIndexBuffer,I.debugSegments),ee.draw(S,P.LINE_STRIP,ue,me,Te,ur.disabled,td(F,s.Color.red),$e,Ae,I.debugBuffer,I.tileBorderIndexBuffer,I.debugSegments)}function Iv(I,c,m){const S=I.context,P=S.gl,F=I.colorModeForRenderPass(),ee=new kn(P.LEQUAL,kn.ReadWrite,I.depthRangeFor3D),ue=I.useProgram("terrain"),me=c.getTerrainMesh(),Te=c.getTerrainData(m.tileID);S.bindFramebuffer.set(null),S.viewport.set([0,0,I.width,I.height]),S.activeTexture.set(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,c.getRTTFramebuffer().colorAttachment.get());const Ae=I.transform.calculatePosMatrix(m.tileID.toUnwrapped());ue.draw(S,P.TRIANGLES,ee,Sr.disabled,F,ur.backCCW,{u_matrix:Ae,u_texture:0},Te,"terrain",me.vertexBuffer,me.indexBuffer,me.segments)}function ug(I,c,m,S){const P=I.context,F=m.tileSize*c.qualityFactor;m.textures[S]||(m.textures[S]=I.getTileTexture(F)||new T(P,{width:F,height:F,data:null},P.gl.RGBA),m.textures[S].bind(P.gl.LINEAR,P.gl.CLAMP_TO_EDGE),S===0&&c.sourceCache.renderHistory.unshift(m.tileID.key));const ee=c.getRTTFramebuffer();ee.colorAttachment.set(m.textures[S].texture),P.bindFramebuffer.set(ee.framebuffer),P.viewport.set([0,0,F,F])}class Qp{constructor(c){this._coordsDescendingInv={},this._coordsDescendingInvStr={},this.painter=c,this._renderToTexture={background:!0,fill:!0,line:!0,raster:!0},this._coordsDescendingInv={},this._coordsDescendingInvStr={},this._stacks=[],this._prevType=null,this._rerender={},this._renderableTiles=c.style.terrain.sourceCache.getRenderableTiles(),this._init()}_init(){const c=this.painter.style,m=c.terrain;for(const S in c.sourceCaches){this._coordsDescendingInv[S]={};const P=c.sourceCaches[S].getVisibleCoordinates();for(const F of P){const ee=m.sourceCache.getTerrainCoords(F);for(const ue in ee)this._coordsDescendingInv[S][ue]||(this._coordsDescendingInv[S][ue]=[]),this._coordsDescendingInv[S][ue].push(ee[ue])}}for(const S of c._order){const P=c._layers[S],F=P.source;if(this._renderToTexture[P.type]&&!this._coordsDescendingInvStr[F]){this._coordsDescendingInvStr[F]={};for(const ee in this._coordsDescendingInv[F])this._coordsDescendingInvStr[F][ee]=this._coordsDescendingInv[F][ee].map(ue=>ue.key).sort().join()}}return this._renderableTiles.forEach(S=>{for(const P in this._coordsDescendingInvStr){const F=this._coordsDescendingInvStr[P][S.tileID.key];F&&F!==S.textureCoords[P]&&S.clearTextures(this.painter),m.needsRerender(P,S.tileID)&&S.clearTextures(this.painter)}this._rerender[S.tileID.key]=!S.textures.length}),m.clearRerenderCache(),m.sourceCache.removeOutdated(this.painter),this}renderLayer(c){const m=c.type,S=this.painter,P=S.style._order,F=S.currentLayer,ee=F+1===P.length;if(this._renderToTexture[m]&&(this._prevType&&this._renderToTexture[this._prevType]||this._stacks.push([]),this._prevType=m,this._stacks[this._stacks.length-1].push(P[F]),!ee))return!0;if(this._renderToTexture[this._prevType]||m==="hillshade"||this._renderToTexture[m]&&ee){this._prevType=m;const ue=this._stacks.length-1,me=this._stacks[ue]||[];for(const Te of this._renderableTiles){if(ug(S,S.style.terrain,Te,ue),this._rerender[Te.tileID.key]){S.context.clear({color:s.Color.transparent});for(let Ae=0;Ae<me.length;Ae++){const $e=S.style._layers[me[Ae]],Ve=$e.source?this._coordsDescendingInv[$e.source][Te.tileID.key]:[Te.tileID];S._renderTileClippingMasks($e,Ve),S.renderLayer(S,S.style.sourceCaches[$e.source],$e,Ve),$e.source&&(Te.textureCoords[$e.source]=this._coordsDescendingInvStr[$e.source][Te.tileID.key])}}Iv(S,S.style.terrain,Te)}if(m==="hillshade"){this._stacks.push([P[F]]);for(const Te of this._renderableTiles){const Ae=this._coordsDescendingInv[c.source][Te.tileID.key];ug(S,S.style.terrain,Te,this._stacks.length-1),S.context.clear({color:s.Color.transparent}),S._renderTileClippingMasks(c,Ae),S.renderLayer(S,S.style.sourceCaches[c.source],c,Ae),Iv(S,S.style.terrain,Te)}return!0}return this._renderToTexture[m]}return!1}}const Jp={symbol:function(I,c,m,S,P){if(I.renderPass!=="translucent")return;const F=Sr.disabled,ee=I.colorModeForRenderPass();m.layout.get("text-variable-anchor")&&function(ue,me,Te,Ae,$e,Ve,et){const Qe=me.transform,Je=$e==="map",pt=Ve==="map";for(const yt of ue){const wt=Ae.getTile(yt),rt=wt.getBucket(Te);if(!rt||!rt.text||!rt.text.segments.get().length)continue;const It=s.evaluateSizeForZoom(rt.textSizeData,Qe.zoom),Et=oi(wt,1,me.transform.zoom),jt=tt(yt.posMatrix,pt,Je,me.transform,Et),Ut=Te.layout.get("icon-text-fit")!=="none"&&rt.hasIconData();if(It){const qt=Math.pow(2,Qe.zoom-wt.tileID.overscaledZ);W0(rt,Je,pt,et,Qe,jt,yt.posMatrix,qt,It,Ut,me.style.terrain?(zt,hn)=>me.style.terrain.getElevation(yt,zt,hn):null)}}}(S,I,m,c,m.layout.get("text-rotation-alignment"),m.layout.get("text-pitch-alignment"),P),m.paint.get("icon-opacity").constantOr(1)!==0&&hh(I,c,m,S,!1,m.paint.get("icon-translate"),m.paint.get("icon-translate-anchor"),m.layout.get("icon-rotation-alignment"),m.layout.get("icon-pitch-alignment"),m.layout.get("icon-keep-upright"),F,ee),m.paint.get("text-opacity").constantOr(1)!==0&&hh(I,c,m,S,!0,m.paint.get("text-translate"),m.paint.get("text-translate-anchor"),m.layout.get("text-rotation-alignment"),m.layout.get("text-pitch-alignment"),m.layout.get("text-keep-upright"),F,ee),c.map.showCollisionBoxes&&(Cv(I,c,m,S,m.paint.get("text-translate"),m.paint.get("text-translate-anchor"),!0),Cv(I,c,m,S,m.paint.get("icon-translate"),m.paint.get("icon-translate-anchor"),!1))},circle:function(I,c,m,S){if(I.renderPass!=="translucent")return;const P=m.paint.get("circle-opacity"),F=m.paint.get("circle-stroke-width"),ee=m.paint.get("circle-stroke-opacity"),ue=!m.layout.get("circle-sort-key").isConstant();if(P.constantOr(1)===0&&(F.constantOr(1)===0||ee.constantOr(1)===0))return;const me=I.context,Te=me.gl,Ae=I.depthModeForSublayer(0,kn.ReadOnly),$e=Sr.disabled,Ve=I.colorModeForRenderPass(),et=[];for(let Qe=0;Qe<S.length;Qe++){const Je=S[Qe],pt=c.getTile(Je),yt=pt.getBucket(m);if(!yt)continue;const wt=yt.programConfigurations.get(m.id),rt=I.useProgram("circle",wt),It=yt.layoutVertexBuffer,Et=yt.indexBuffer,jt=I.style.terrain&&I.style.terrain.getTerrainData(Je),Ut={programConfiguration:wt,program:rt,layoutVertexBuffer:It,indexBuffer:Et,uniformValues:uu(I,Je,pt,m),terrainData:jt};if(ue){const qt=yt.segments.get();for(const zt of qt)et.push({segments:new s.SegmentVector([zt]),sortKey:zt.sortKey,state:Ut})}else et.push({segments:yt.segments,sortKey:0,state:Ut})}ue&&et.sort((Qe,Je)=>Qe.sortKey-Je.sortKey);for(const Qe of et){const{programConfiguration:Je,program:pt,layoutVertexBuffer:yt,indexBuffer:wt,uniformValues:rt,terrainData:It}=Qe.state;pt.draw(me,Te.TRIANGLES,Ae,$e,Ve,ur.disabled,rt,It,m.id,yt,wt,Qe.segments,m.paint,I.transform.zoom,Je)}},heatmap:function(I,c,m,S){if(m.paint.get("heatmap-opacity")!==0)if(I.renderPass==="offscreen"){const P=I.context,F=P.gl,ee=Sr.disabled,ue=new Br([F.ONE,F.ONE],s.Color.transparent,[!0,!0,!0,!0]);(function(me,Te,Ae){const $e=me.gl;me.activeTexture.set($e.TEXTURE1),me.viewport.set([0,0,Te.width/4,Te.height/4]);let Ve=Ae.heatmapFbo;if(Ve)$e.bindTexture($e.TEXTURE_2D,Ve.colorAttachment.get()),me.bindFramebuffer.set(Ve.framebuffer);else{const et=$e.createTexture();$e.bindTexture($e.TEXTURE_2D,et),$e.texParameteri($e.TEXTURE_2D,$e.TEXTURE_WRAP_S,$e.CLAMP_TO_EDGE),$e.texParameteri($e.TEXTURE_2D,$e.TEXTURE_WRAP_T,$e.CLAMP_TO_EDGE),$e.texParameteri($e.TEXTURE_2D,$e.TEXTURE_MIN_FILTER,$e.LINEAR),$e.texParameteri($e.TEXTURE_2D,$e.TEXTURE_MAG_FILTER,$e.LINEAR),Ve=Ae.heatmapFbo=me.createFramebuffer(Te.width/4,Te.height/4,!1),function(Qe,Je,pt,yt){const wt=Qe.gl;wt.texImage2D(wt.TEXTURE_2D,0,wt.RGBA,Je.width/4,Je.height/4,0,wt.RGBA,Qe.extRenderToTextureHalfFloat?Qe.extTextureHalfFloat.HALF_FLOAT_OES:wt.UNSIGNED_BYTE,null),yt.colorAttachment.set(pt)}(me,Te,et,Ve)}})(P,I,m),P.clear({color:s.Color.transparent});for(let me=0;me<S.length;me++){const Te=S[me];if(c.hasRenderableParent(Te))continue;const Ae=c.getTile(Te),$e=Ae.getBucket(m);if(!$e)continue;const Ve=$e.programConfigurations.get(m.id),et=I.useProgram("heatmap",Ve),{zoom:Qe}=I.transform;et.draw(P,F.TRIANGLES,kn.disabled,ee,ue,ur.disabled,zp(Te.posMatrix,Ae,Qe,m.paint.get("heatmap-intensity")),null,m.id,$e.layoutVertexBuffer,$e.indexBuffer,$e.segments,m.paint,I.transform.zoom,Ve)}P.viewport.set([0,0,I.width,I.height])}else I.renderPass==="translucent"&&(I.context.setColorMode(I.colorModeForRenderPass()),function(P,F){const ee=P.context,ue=ee.gl,me=F.heatmapFbo;if(!me)return;ee.activeTexture.set(ue.TEXTURE0),ue.bindTexture(ue.TEXTURE_2D,me.colorAttachment.get()),ee.activeTexture.set(ue.TEXTURE1);let Te=F.colorRampTexture;Te||(Te=F.colorRampTexture=new T(ee,F.colorRamp,ue.RGBA)),Te.bind(ue.LINEAR,ue.CLAMP_TO_EDGE),P.useProgram("heatmapTexture").draw(ee,ue.TRIANGLES,kn.disabled,Sr.disabled,P.colorModeForRenderPass(),ur.disabled,((Ae,$e,Ve,et)=>{const Qe=s.create();s.ortho(Qe,0,Ae.width,Ae.height,0,0,1);const Je=Ae.context.gl;return{u_matrix:Qe,u_world:[Je.drawingBufferWidth,Je.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:$e.paint.get("heatmap-opacity")}})(P,F),null,F.id,P.viewportBuffer,P.quadTriangleIndexBuffer,P.viewportSegments,F.paint,P.transform.zoom)}(I,m))},line:function(I,c,m,S){if(I.renderPass!=="translucent")return;const P=m.paint.get("line-opacity"),F=m.paint.get("line-width");if(P.constantOr(1)===0||F.constantOr(1)===0)return;const ee=I.depthModeForSublayer(0,kn.ReadOnly),ue=I.colorModeForRenderPass(),me=m.paint.get("line-dasharray"),Te=m.paint.get("line-pattern"),Ae=Te.constantOr(1),$e=m.paint.get("line-gradient"),Ve=m.getCrossfadeParameters(),et=Ae?"linePattern":me?"lineSDF":$e?"lineGradient":"line",Qe=I.context,Je=Qe.gl;let pt=!0;for(const yt of S){const wt=c.getTile(yt);if(Ae&&!wt.patternsLoaded())continue;const rt=wt.getBucket(m);if(!rt)continue;const It=rt.programConfigurations.get(m.id),Et=I.context.program.get(),jt=I.useProgram(et,It),Ut=pt||jt.program!==Et,qt=I.style.terrain&&I.style.terrain.getTerrainData(yt),zt=Te.constantOr(null);if(zt&&wt.imageAtlas){const mn=wt.imageAtlas,ii=mn.patternPositions[zt.to.toString()],hi=mn.patternPositions[zt.from.toString()];ii&&hi&&It.setConstantPatternPositions(ii,hi)}const hn=qt?yt:null,tn=Ae?lh(I,wt,m,Ve,hn):me?Tr(I,wt,m,me,Ve,hn):$e?Bp(I,wt,m,rt.lineClipsArray.length,hn):oh(I,wt,m,hn);if(Ae)Qe.activeTexture.set(Je.TEXTURE0),wt.imageAtlasTexture.bind(Je.LINEAR,Je.CLAMP_TO_EDGE),It.updatePaintBuffers(Ve);else if(me&&(Ut||I.lineAtlas.dirty))Qe.activeTexture.set(Je.TEXTURE0),I.lineAtlas.bind(Qe);else if($e){const mn=rt.gradients[m.id];let ii=mn.texture;if(m.gradientVersion!==mn.version){let hi=256;if(m.stepInterpolant){const Rn=c.getSource().maxzoom,Wi=yt.canonical.z===Rn?Math.ceil(1<<I.transform.maxZoom-yt.canonical.z):1;hi=s.clamp(s.nextPowerOfTwo(rt.maxLineLength/s.EXTENT*1024*Wi),256,Qe.maxTextureSize)}mn.gradient=s.renderColorRamp({expression:m.gradientExpression(),evaluationKey:"lineProgress",resolution:hi,image:mn.gradient||void 0,clips:rt.lineClipsArray}),mn.texture?mn.texture.update(mn.gradient):mn.texture=new T(Qe,mn.gradient,Je.RGBA),mn.version=m.gradientVersion,ii=mn.texture}Qe.activeTexture.set(Je.TEXTURE0),ii.bind(m.stepInterpolant?Je.NEAREST:Je.LINEAR,Je.CLAMP_TO_EDGE)}jt.draw(Qe,Je.TRIANGLES,ee,I.stencilModeForClipping(yt),ue,ur.disabled,tn,qt,m.id,rt.layoutVertexBuffer,rt.indexBuffer,rt.segments,m.paint,I.transform.zoom,It,rt.layoutVertexBuffer2),pt=!1}},fill:function(I,c,m,S){const P=m.paint.get("fill-color"),F=m.paint.get("fill-opacity");if(F.constantOr(1)===0)return;const ee=I.colorModeForRenderPass(),ue=m.paint.get("fill-pattern"),me=I.opaquePassEnabledForLayer()&&!ue.constantOr(1)&&P.constantOr(s.Color.transparent).a===1&&F.constantOr(0)===1?"opaque":"translucent";if(I.renderPass===me){const Te=I.depthModeForSublayer(1,I.renderPass==="opaque"?kn.ReadWrite:kn.ReadOnly);Wp(I,c,m,S,Te,ee,!1)}if(I.renderPass==="translucent"&&m.paint.get("fill-antialias")){const Te=I.depthModeForSublayer(m.getPaintProperty("fill-outline-color")?2:0,kn.ReadOnly);Wp(I,c,m,S,Te,ee,!0)}},"fill-extrusion":function(I,c,m,S){const P=m.paint.get("fill-extrusion-opacity");if(P!==0&&I.renderPass==="translucent"){const F=new kn(I.context.gl.LEQUAL,kn.ReadWrite,I.depthRangeFor3D);if(P!==1||m.paint.get("fill-extrusion-pattern").constantOr(1))mh(I,c,m,S,F,Sr.disabled,Br.disabled),mh(I,c,m,S,F,I.stencilModeFor3D(),I.colorModeForRenderPass());else{const ee=I.colorModeForRenderPass();mh(I,c,m,S,F,Sr.disabled,ee)}}},hillshade:function(I,c,m,S){if(I.renderPass!=="offscreen"&&I.renderPass!=="translucent")return;const P=I.context,F=I.depthModeForSublayer(0,kn.ReadOnly),ee=I.colorModeForRenderPass(),[ue,me]=I.renderPass==="translucent"?I.stencilConfigForOverlap(S):[{},S];for(const Te of me){const Ae=c.getTile(Te);Ae.needsHillshadePrepare!==void 0&&Ae.needsHillshadePrepare&&I.renderPass==="offscreen"?Hp(I,Ae,m,F,Sr.disabled,ee):I.renderPass==="translucent"&&kv(I,Te,Ae,m,F,ue[Te.overscaledZ],ee)}P.viewport.set([0,0,I.width,I.height])},raster:function(I,c,m,S){if(I.renderPass!=="translucent"||m.paint.get("raster-opacity")===0||!S.length)return;const P=I.context,F=P.gl,ee=c.getSource(),ue=I.useProgram("raster"),me=I.colorModeForRenderPass(),[Te,Ae]=ee instanceof q?[{},S]:I.stencilConfigForOverlap(S),$e=Ae[Ae.length-1].overscaledZ,Ve=!I.options.moving;for(const et of Ae){const Qe=I.depthModeForSublayer(et.overscaledZ-$e,m.paint.get("raster-opacity")===1?kn.ReadWrite:kn.ReadOnly,F.LESS),Je=c.getTile(et);Je.registerFadeDuration(m.paint.get("raster-fade-duration"));const pt=c.findLoadedParent(et,0),yt=Xp(Je,pt,c,m,I.transform,I.style.terrain);let wt,rt;const It=m.paint.get("raster-resampling")==="nearest"?F.NEAREST:F.LINEAR;P.activeTexture.set(F.TEXTURE0),Je.texture.bind(It,F.CLAMP_TO_EDGE,F.LINEAR_MIPMAP_NEAREST),P.activeTexture.set(F.TEXTURE1),pt?(pt.texture.bind(It,F.CLAMP_TO_EDGE,F.LINEAR_MIPMAP_NEAREST),wt=Math.pow(2,pt.tileID.overscaledZ-Je.tileID.overscaledZ),rt=[Je.tileID.canonical.x*wt%1,Je.tileID.canonical.y*wt%1]):Je.texture.bind(It,F.CLAMP_TO_EDGE,F.LINEAR_MIPMAP_NEAREST);const Et=I.style.terrain&&I.style.terrain.getTerrainData(et),jt=Et?et:null,Ut=jt?jt.posMatrix:I.transform.calculatePosMatrix(et.toUnwrapped(),Ve),qt=gv(Ut,rt||[0,0],wt||1,yt,m);ee instanceof q?ue.draw(P,F.TRIANGLES,Qe,Sr.disabled,me,ur.disabled,qt,Et,m.id,ee.boundsBuffer,I.quadTriangleIndexBuffer,ee.boundsSegments):ue.draw(P,F.TRIANGLES,Qe,Te[et.overscaledZ],me,ur.disabled,qt,Et,m.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments)}},background:function(I,c,m,S){const P=m.paint.get("background-color"),F=m.paint.get("background-opacity");if(F===0)return;const ee=I.context,ue=ee.gl,me=I.transform,Te=me.tileSize,Ae=m.paint.get("background-pattern");if(I.isPatternMissing(Ae))return;const $e=!Ae&&P.a===1&&F===1&&I.opaquePassEnabledForLayer()?"opaque":"translucent";if(I.renderPass!==$e)return;const Ve=Sr.disabled,et=I.depthModeForSublayer(0,$e==="opaque"?kn.ReadWrite:kn.ReadOnly),Qe=I.colorModeForRenderPass(),Je=I.useProgram(Ae?"backgroundPattern":"background"),pt=S||me.coveringTiles({tileSize:Te,terrain:I.style.terrain});Ae&&(ee.activeTexture.set(ue.TEXTURE0),I.imageManager.bind(I.context));const yt=m.getCrossfadeParameters();for(const wt of pt){const rt=S?wt.posMatrix:I.transform.calculatePosMatrix(wt.toUnwrapped()),It=Ae?Wf(rt,F,I,Ae,{tileID:wt,tileSize:Te},yt):z0(rt,F,P),Et=I.style.terrain&&I.style.terrain.getTerrainData(wt);Je.draw(ee,ue.TRIANGLES,et,Ve,Qe,ur.disabled,It,Et,m.id,I.tileExtentBuffer,I.quadTriangleIndexBuffer,I.tileExtentSegments)}},debug:function(I,c,m){for(let S=0;S<m.length;S++)cg(I,c,m[S])},custom:function(I,c,m){const S=I.context,P=m.implementation;if(I.renderPass==="offscreen"){const F=P.prerender;F&&(I.setCustomLayerDefaults(),S.setColorMode(I.colorModeForRenderPass()),F.call(P,S.gl,I.transform.customLayerMatrix()),S.setDirty(),I.setBaseState())}else if(I.renderPass==="translucent"){I.setCustomLayerDefaults(),S.setColorMode(I.colorModeForRenderPass()),S.setStencilMode(Sr.disabled);const F=P.renderingMode==="3d"?new kn(I.context.gl.LEQUAL,kn.ReadWrite,I.depthRangeFor3D):I.depthModeForSublayer(0,kn.ReadOnly);S.setDepthMode(F),P.render(S.gl,I.transform.customLayerMatrix()),S.setDirty(),I.setBaseState(),S.bindFramebuffer.set(null)}}};class Av{constructor(c,m){this.context=new sg(c),this.transform=m,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:s.create(),renderTime:0},this.setup(),this.numSublayers=J.maxUnderzooming+J.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Wn,this.gpuTimers={}}resize(c,m,S){if(this.width=c*S,this.height=m*S,this.pixelRatio=S,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const P of this.style._order)this.style._layers[P].resize()}setup(){const c=this.context,m=new s.PosArray;m.emplaceBack(0,0),m.emplaceBack(s.EXTENT,0),m.emplaceBack(0,s.EXTENT),m.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(m,Cn.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);const S=new s.PosArray;S.emplaceBack(0,0),S.emplaceBack(s.EXTENT,0),S.emplaceBack(0,s.EXTENT),S.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=c.createVertexBuffer(S,Cn.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);const P=new s.RasterBoundsArray;P.emplaceBack(0,0,0,0),P.emplaceBack(s.EXTENT,0,s.EXTENT,0),P.emplaceBack(0,s.EXTENT,0,s.EXTENT),P.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(P,z.members),this.rasterBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);const F=new s.PosArray;F.emplaceBack(0,0),F.emplaceBack(1,0),F.emplaceBack(0,1),F.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(F,Cn.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);const ee=new s.LineStripIndexArray;ee.emplaceBack(0),ee.emplaceBack(1),ee.emplaceBack(3),ee.emplaceBack(2),ee.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(ee);const ue=new s.TriangleIndexArray;ue.emplaceBack(0,1,2),ue.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(ue),this.emptyTexture=new T(c,{width:1,height:1,data:new Uint8Array([0,0,0,0])},c.gl.RGBA);const me=this.context.gl;this.stencilClearMode=new Sr({func:me.ALWAYS,mask:0},0,255,me.ZERO,me.ZERO,me.ZERO)}clearStencil(){const c=this.context,m=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const S=s.create();s.ortho(S,0,this.width,this.height,0,0,1),s.scale(S,S,[m.drawingBufferWidth,m.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,m.TRIANGLES,kn.disabled,this.stencilClearMode,Br.disabled,ur.disabled,sh(S),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(c,m){if(this.currentStencilSource===c.source||!c.isTileClipped()||!m||!m.length)return;this.currentStencilSource=c.source;const S=this.context,P=S.gl;this.nextStencilID+m.length>256&&this.clearStencil(),S.setColorMode(Br.disabled),S.setDepthMode(kn.disabled);const F=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const ee of m){const ue=this._tileClippingMaskIDs[ee.key]=this.nextStencilID++,me=this.style.terrain&&this.style.terrain.getTerrainData(ee);F.draw(S,P.TRIANGLES,kn.disabled,new Sr({func:P.ALWAYS,mask:0},ue,255,P.KEEP,P.KEEP,P.REPLACE),Br.disabled,ur.disabled,sh(ee.posMatrix),me,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,m=this.context.gl;return new Sr({func:m.NOTEQUAL,mask:255},c,255,m.KEEP,m.KEEP,m.REPLACE)}stencilModeForClipping(c){const m=this.context.gl;return new Sr({func:m.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,m.KEEP,m.KEEP,m.REPLACE)}stencilConfigForOverlap(c){const m=this.context.gl,S=c.sort((ee,ue)=>ue.overscaledZ-ee.overscaledZ),P=S[S.length-1].overscaledZ,F=S[0].overscaledZ-P+1;if(F>1){this.currentStencilSource=void 0,this.nextStencilID+F>256&&this.clearStencil();const ee={};for(let ue=0;ue<F;ue++)ee[ue+P]=new Sr({func:m.GEQUAL,mask:255},ue+this.nextStencilID,255,m.KEEP,m.KEEP,m.REPLACE);return this.nextStencilID+=F,[ee,S]}return[{[P]:Sr.disabled},S]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new Br([c.CONSTANT_COLOR,c.ONE],new s.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Br.unblended:Br.alphaBlended}depthModeForSublayer(c,m,S){if(!this.opaquePassEnabledForLayer())return kn.disabled;const P=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new kn(S||this.context.gl.LEQUAL,m,[P,P])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,m){this.style=c,this.options=m,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(s.exported.now()),this.imageManager.beginFrame();const S=this.style._order,P=this.style.sourceCaches,F=this.style.terrain&&new Qp(this);for(const Te in P){const Ae=P[Te];Ae.used&&Ae.prepare(this.context)}const ee={},ue={},me={};for(const Te in P){const Ae=P[Te];ee[Te]=Ae.getVisibleCoordinates(),ue[Te]=ee[Te].slice().reverse(),me[Te]=Ae.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Te=0;Te<S.length;Te++)if(this.style._layers[S[Te]].is3D()){this.opaquePassCutoff=Te;break}if(F){this.opaquePassCutoff=0;const Te=this.style.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!s.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||Te.length)&&(s.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(Ae,$e){const Ve=Ae.context,et=Ve.gl,Qe=Br.unblended,Je=new kn(et.LEQUAL,kn.ReadWrite,[0,1]),pt=$e.getTerrainMesh(),yt=$e.sourceCache.getRenderableTiles(),wt=Ae.useProgram("terrainDepth");Ve.bindFramebuffer.set($e.getFramebuffer("depth").framebuffer),Ve.viewport.set([0,0,Ae.width/devicePixelRatio,Ae.height/devicePixelRatio]),Ve.clear({color:s.Color.transparent,depth:1});for(const rt of yt){const It=$e.getTerrainData(rt.tileID),Et=Ae.transform.calculatePosMatrix(rt.tileID.toUnwrapped());wt.draw(Ve,et.TRIANGLES,Je,Sr.disabled,Qe,ur.backCCW,{u_matrix:Et},It,"terrain",pt.vertexBuffer,pt.indexBuffer,pt.segments)}Ve.bindFramebuffer.set(null),Ve.viewport.set([0,0,Ae.width,Ae.height])}(this,this.style.terrain),function(Ae,$e){const Ve=Ae.context,et=Ve.gl,Qe=Br.unblended,Je=new kn(et.LEQUAL,kn.ReadWrite,[0,1]),pt=$e.getTerrainMesh(),yt=$e.getCoordsTexture(),wt=$e.sourceCache.getRenderableTiles(),rt=Ae.useProgram("terrainCoords");Ve.bindFramebuffer.set($e.getFramebuffer("coords").framebuffer),Ve.viewport.set([0,0,Ae.width/devicePixelRatio,Ae.height/devicePixelRatio]),Ve.clear({color:s.Color.transparent,depth:1}),$e.coordsIndex=[];for(const It of wt){const Et=$e.getTerrainData(It.tileID);Ve.activeTexture.set(et.TEXTURE0),et.bindTexture(et.TEXTURE_2D,yt.texture);const jt=Ae.transform.calculatePosMatrix(It.tileID.toUnwrapped());rt.draw(Ve,et.TRIANGLES,Je,Sr.disabled,Qe,ur.backCCW,{u_matrix:jt,u_terrain_coords_id:(255-$e.coordsIndex.length)/255,u_texture:0},Et,"terrain",pt.vertexBuffer,pt.indexBuffer,pt.segments),$e.coordsIndex.push(It.tileID.key)}Ve.bindFramebuffer.set(null),Ve.viewport.set([0,0,Ae.width,Ae.height])}(this,this.style.terrain))}this.renderPass="offscreen";for(const Te of S){const Ae=this.style._layers[Te];if(!Ae.hasOffscreenPass()||Ae.isHidden(this.transform.zoom))continue;const $e=ue[Ae.source];(Ae.type==="custom"||$e.length)&&this.renderLayer(this,P[Ae.source],Ae,$e)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:m.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=m.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],!F)for(this.renderPass="opaque",this.currentLayer=S.length-1;this.currentLayer>=0;this.currentLayer--){const Te=this.style._layers[S[this.currentLayer]],Ae=P[Te.source],$e=ee[Te.source];this._renderTileClippingMasks(Te,$e),this.renderLayer(this,Ae,Te,$e)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<S.length;this.currentLayer++){const Te=this.style._layers[S[this.currentLayer]],Ae=P[Te.source];if(F&&F.renderLayer(Te))continue;const $e=(Te.type==="symbol"?me:ue)[Te.source];this._renderTileClippingMasks(Te,ee[Te.source]),this.renderLayer(this,Ae,Te,$e)}if(this.options.showTileBoundaries){let Te,Ae;Object.values(this.style._layers).forEach($e=>{$e.source&&!$e.isHidden(this.transform.zoom)&&($e.source!==(Ae&&Ae.id)&&(Ae=this.style.sourceCaches[$e.source]),(!Te||Te.getSource().maxzoom<Ae.getSource().maxzoom)&&(Te=Ae))}),Te&&Jp.debug(this,Te,Te.getVisibleCoordinates())}this.options.showPadding&&function(Te){const Ae=Te.transform.padding;fh(Te,Te.transform.height-(Ae.top||0),3,Xo),fh(Te,Ae.bottom||0,3,Lv),Zp(Te,Ae.left||0,3,lg),Zp(Te,Te.transform.width-(Ae.right||0),3,Nv);const $e=Te.transform.centerPoint;(function(Ve,et,Qe,Je){Kp(Ve,et-1,Qe-10,2,20,Je),Kp(Ve,et-10,Qe-1,20,2,Je)})(Te,$e.x,Te.transform.height-$e.y,od)}(this),this.context.setDefault()}renderLayer(c,m,S,P){S.isHidden(this.transform.zoom)||(S.type==="background"||S.type==="custom"||(P||[]).length)&&(this.id=S.id,this.gpuTimingStart(S),Jp[S.type](c,m,S,P,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(c){if(!this.options.gpuTiming)return;const m=this.context.extTimerQuery;let S=this.gpuTimers[c.id];S||(S=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:m.createQueryEXT()}),S.calls++,m.beginQueryEXT(m.TIME_ELAPSED_EXT,S.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}collectGpuTimers(){const c=this.gpuTimers;return this.gpuTimers={},c}queryGpuTimers(c){const m={};for(const S in c){const P=c[S],F=this.context.extTimerQuery,ee=F.getQueryObjectEXT(P.query,F.QUERY_RESULT_EXT)/1e6;F.deleteQueryEXT(P.query),m[S]=ee}return m}translatePosMatrix(c,m,S,P,F){if(!S[0]&&!S[1])return c;const ee=F?P==="map"?this.transform.angle:0:P==="viewport"?-this.transform.angle:0;if(ee){const Te=Math.sin(ee),Ae=Math.cos(ee);S=[S[0]*Ae-S[1]*Te,S[0]*Te+S[1]*Ae]}const ue=[F?S[0]:oi(m,S[0],this.transform.zoom),F?S[1]:oi(m,S[1],this.transform.zoom),0],me=new Float32Array(16);return s.translate(me,c,ue),me}saveTileTexture(c){const m=this._tileTextures[c.size[0]];m?m.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const m=this._tileTextures[c];return m&&m.length>0?m.pop():null}isPatternMissing(c){if(!c)return!1;if(!c.from||!c.to)return!0;const m=this.imageManager.getPattern(c.from.toString()),S=this.imageManager.getPattern(c.to.toString());return!m||!S}useProgram(c,m){this.cache=this.cache||{};const S=c+(m?m.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.terrain?"/terrain":"");return this.cache[S]||(this.cache[S]=new R0(this.context,c,ah[c],m,Hf[c],this._showOverdrawInspector,this.style.terrain)),this.cache[S]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class em{constructor(c,m){this.points=c,this.planes=m}static fromInvProjectionMatrix(c,m,S){const P=Math.pow(2,S),F=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(ue=>{const me=1/(ue=s.transformMat4([],ue,c))[3]/m*P;return s.mul$1(ue,ue,[me,me,1/ue[3],me])}),ee=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(ue=>{const me=s.sub([],F[ue[0]],F[ue[1]]),Te=s.sub([],F[ue[2]],F[ue[1]]),Ae=s.normalize([],s.cross([],me,Te)),$e=-s.dot(Ae,F[ue[1]]);return Ae.concat($e)});return new em(F,ee)}}class du{constructor(c,m){this.min=c,this.max=m,this.center=s.scale$1([],s.add([],this.min,this.max),.5)}quadrant(c){const m=[c%2==0,c<2],S=s.clone$2(this.min),P=s.clone$2(this.max);for(let F=0;F<m.length;F++)S[F]=m[F]?this.min[F]:this.center[F],P[F]=m[F]?this.center[F]:this.max[F];return P[2]=this.max[2],new du(S,P)}distanceX(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]}distanceY(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]}intersects(c){const m=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let S=!0;for(let P=0;P<c.planes.length;P++){const F=c.planes[P];let ee=0;for(let ue=0;ue<m.length;ue++)s.dot$1(F,m[ue])>=0&&ee++;if(ee===0)return 0;ee!==m.length&&(S=!1)}if(S)return 2;for(let P=0;P<3;P++){let F=Number.MAX_VALUE,ee=-Number.MAX_VALUE;for(let ue=0;ue<c.points.length;ue++){const me=c.points[ue][P]-this.min[P];F=Math.min(F,me),ee=Math.max(ee,me)}if(ee<0||F>this.max[P]-this.min[P])return 0}return 1}}class gh{constructor(c=0,m=0,S=0,P=0){if(isNaN(c)||c<0||isNaN(m)||m<0||isNaN(S)||S<0||isNaN(P)||P<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=m,this.left=S,this.right=P}interpolate(c,m,S){return m.top!=null&&c.top!=null&&(this.top=s.number(c.top,m.top,S)),m.bottom!=null&&c.bottom!=null&&(this.bottom=s.number(c.bottom,m.bottom,S)),m.left!=null&&c.left!=null&&(this.left=s.number(c.left,m.left,S)),m.right!=null&&c.right!=null&&(this.right=s.number(c.right,m.right,S)),this}getCenter(c,m){const S=s.clamp((this.left+c-this.right)/2,0,c),P=s.clamp((this.top+m-this.bottom)/2,0,m);return new s.pointGeometry(S,P)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new gh(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class tm{constructor(c,m,S,P,F){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=F===void 0||!!F,this._minZoom=c||0,this._maxZoom=m||22,this._minPitch=S??0,this._maxPitch=P??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new gh,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const c=new tm(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.tileSize=this.tileSize,c.latRange=this.latRange,c.width=this.width,c.height=this.height,c._center=this._center,c._elevation=this._elevation,c.zoom=this.zoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._calcMatrices(),c}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(c){const m=-s.wrap(c,-180,180)*Math.PI/180;var S;this.angle!==m&&(this._unmodified=!1,this.angle=m,this._calcMatrices(),this.rotationMatrix=(S=new s.ARRAY_TYPE(4),s.ARRAY_TYPE!=Float32Array&&(S[1]=0,S[2]=0),S[0]=1,S[3]=1,S),function(P,F,ee){var ue=F[0],me=F[1],Te=F[2],Ae=F[3],$e=Math.sin(ee),Ve=Math.cos(ee);P[0]=ue*Ve+Te*$e,P[1]=me*Ve+Ae*$e,P[2]=ue*-$e+Te*Ve,P[3]=me*-$e+Ae*Ve}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const m=s.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==m&&(this._unmodified=!1,this._pitch=m,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(c){const m=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==m&&(this._unmodified=!1,this._zoom=m,this.scale=this.zoomScale(m),this.tileZoom=Math.floor(m),this.zoomFraction=m-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(c){c!==this._elevation&&(this._elevation=c,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,m,S){this._unmodified=!1,this._edgeInsets.interpolate(c,m,S),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const m=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,m)}getVisibleUnwrappedCoordinates(c){const m=[new s.UnwrappedTileID(0,c)];if(this._renderWorldCopies){const S=this.pointCoordinate(new s.pointGeometry(0,0)),P=this.pointCoordinate(new s.pointGeometry(this.width,0)),F=this.pointCoordinate(new s.pointGeometry(this.width,this.height)),ee=this.pointCoordinate(new s.pointGeometry(0,this.height)),ue=Math.floor(Math.min(S.x,P.x,F.x,ee.x)),me=Math.floor(Math.max(S.x,P.x,F.x,ee.x)),Te=1;for(let Ae=ue-Te;Ae<=me+Te;Ae++)Ae!==0&&m.push(new s.UnwrappedTileID(Ae,c))}return m}coveringTiles(c){var m,S;let P=this.coveringZoomLevel(c);const F=P;if(c.minzoom!==void 0&&P<c.minzoom)return[];c.maxzoom!==void 0&&P>c.maxzoom&&(P=c.maxzoom);const ee=this.pointCoordinate(this.getCameraPoint()),ue=s.MercatorCoordinate.fromLngLat(this.center),me=Math.pow(2,P),Te=[me*ee.x,me*ee.y,0],Ae=[me*ue.x,me*ue.y,0],$e=em.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,P);let Ve=c.minzoom||0;!c.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(Ve=P);const et=c.terrain?2/Math.min(this.tileSize,c.tileSize)*this.tileSize:3,Qe=rt=>({aabb:new du([rt*me,0,0],[(rt+1)*me,me,0]),zoom:0,x:0,y:0,wrap:rt,fullyVisible:!1}),Je=[],pt=[],yt=P,wt=c.reparseOverscaled?F:P;if(this._renderWorldCopies)for(let rt=1;rt<=3;rt++)Je.push(Qe(-rt)),Je.push(Qe(rt));for(Je.push(Qe(0));Je.length>0;){const rt=Je.pop(),It=rt.x,Et=rt.y;let jt=rt.fullyVisible;if(!jt){const mn=rt.aabb.intersects($e);if(mn===0)continue;jt=mn===2}const Ut=c.terrain?Te:Ae,qt=rt.aabb.distanceX(Ut),zt=rt.aabb.distanceY(Ut),hn=Math.max(Math.abs(qt),Math.abs(zt)),tn=et+(1<<yt-rt.zoom)-2;if(rt.zoom===yt||hn>tn&&rt.zoom>=Ve){const mn=yt-rt.zoom,ii=Te[0]-.5-(It<<mn),hi=Te[1]-.5-(Et<<mn);pt.push({tileID:new s.OverscaledTileID(rt.zoom===yt?wt:rt.zoom,rt.wrap,rt.zoom,It,Et),distanceSq:s.sqrLen([Ae[0]-.5-It,Ae[1]-.5-Et]),tileDistanceToCamera:Math.sqrt(ii*ii+hi*hi)})}else for(let mn=0;mn<4;mn++){const ii=(It<<1)+mn%2,hi=(Et<<1)+(mn>>1),Rn=rt.zoom+1;let Wi=rt.aabb.quadrant(mn);if(c.terrain){const Hi=new s.OverscaledTileID(Rn,rt.wrap,Rn,ii,hi),Si=c.terrain.getMinMaxElevation(Hi),Ei=(m=Si.minElevation)!==null&&m!==void 0?m:this.elevation,Ii=(S=Si.maxElevation)!==null&&S!==void 0?S:this.elevation;Wi=new du([Wi.min[0],Wi.min[1],Ei],[Wi.max[0],Wi.max[1],Ii])}Je.push({aabb:Wi,zoom:Rn,x:ii,y:hi,wrap:rt.wrap,fullyVisible:jt})}}return pt.sort((rt,It)=>rt.distanceSq-It.distanceSq).map(rt=>rt.tileID)}resize(c,m){this.width=c,this.height=m,this.pixelsToGLUnits=[2/c,-2/m],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const m=s.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new s.pointGeometry(s.mercatorXfromLng(c.lng)*this.worldSize,s.mercatorYfromLat(m)*this.worldSize)}unproject(c){return new s.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(c){this.freezeElevation||(this.elevation=c?this.getElevation(this._center,c):0)}getElevation(c,m){const S=s.MercatorCoordinate.fromLngLat(c),P=(1<<this.tileZoom)*s.EXTENT,F=S.x*P,ee=S.y*P,ue=Math.floor(F/s.EXTENT),me=Math.floor(ee/s.EXTENT),Te=new s.OverscaledTileID(this.tileZoom,0,this.tileZoom,ue,me);return m.getElevation(Te,F%s.EXTENT,ee%s.EXTENT,s.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(c){const m=this.pointLocation(this.centerPoint,c),S=this.getElevation(m,c);if(!(this.elevation-S))return;const P=this.getCameraPosition(),F=s.MercatorCoordinate.fromLngLat(P.lngLat,P.altitude),ee=s.MercatorCoordinate.fromLngLat(m,S),ue=F.x-ee.x,me=F.y-ee.y,Te=F.z-ee.z,Ae=Math.sqrt(ue*ue+me*me+Te*Te),$e=this.scaleZoom(this.cameraToCenterDistance/Ae/this.tileSize);this._elevation=S,this._center=m,this.zoom=$e}setLocationAtPoint(c,m){const S=this.pointCoordinate(m),P=this.pointCoordinate(this.centerPoint),F=this.locationCoordinate(c),ee=new s.MercatorCoordinate(F.x-(S.x-P.x),F.y-(S.y-P.y));this.center=this.coordinateLocation(ee),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(c,m){return m?this.coordinatePoint(this.locationCoordinate(c),this.getElevation(c,m),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(c))}pointLocation(c,m){return this.coordinateLocation(this.pointCoordinate(c,m))}locationCoordinate(c){return s.MercatorCoordinate.fromLngLat(c)}coordinateLocation(c){return c&&c.toLngLat()}pointCoordinate(c,m){if(m){const Ve=m.pointCoordinate(c);if(Ve!=null)return Ve}const S=[c.x,c.y,0,1],P=[c.x,c.y,1,1];s.transformMat4(S,S,this.pixelMatrixInverse),s.transformMat4(P,P,this.pixelMatrixInverse);const F=S[3],ee=P[3],ue=S[1]/F,me=P[1]/ee,Te=S[2]/F,Ae=P[2]/ee,$e=Te===Ae?0:(0-Te)/(Ae-Te);return new s.MercatorCoordinate(s.number(S[0]/F,P[0]/ee,$e)/this.worldSize,s.number(ue,me,$e)/this.worldSize)}coordinatePoint(c,m=0,S=this.pixelMatrix){const P=[c.x*this.worldSize,c.y*this.worldSize,m,1];return s.transformMat4(P,P,S),new s.pointGeometry(P[0]/P[3],P[1]/P[3])}getBounds(){const c=Math.max(0,this.height/2-this.getHorizon());return new s.LngLatBounds().extend(this.pointLocation(new s.pointGeometry(0,c))).extend(this.pointLocation(new s.pointGeometry(this.width,c))).extend(this.pointLocation(new s.pointGeometry(this.width,this.height))).extend(this.pointLocation(new s.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new s.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(c,m=!1){const S=c.key,P=m?this._alignedPosMatrixCache:this._posMatrixCache;if(P[S])return P[S];const F=c.canonical,ee=this.worldSize/this.zoomScale(F.z),ue=F.x+Math.pow(2,F.z)*c.wrap,me=s.identity(new Float64Array(16));return s.translate(me,me,[ue*ee,F.y*ee,0]),s.scale(me,me,[ee/s.EXTENT,ee/s.EXTENT,1]),s.multiply(me,m?this.alignedProjMatrix:this.projMatrix,me),P[S]=new Float32Array(me),P[S]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let c,m,S,P,F=-90,ee=90,ue=-180,me=180;const Te=this.size,Ae=this._unmodified;if(this.latRange){const et=this.latRange;F=s.mercatorYfromLat(et[1])*this.worldSize,ee=s.mercatorYfromLat(et[0])*this.worldSize,c=ee-F<Te.y?Te.y/(ee-F):0}if(this.lngRange){const et=this.lngRange;ue=s.wrap(s.mercatorXfromLng(et[0])*this.worldSize,0,this.worldSize),me=s.wrap(s.mercatorXfromLng(et[1])*this.worldSize,0,this.worldSize),me<ue&&(me+=this.worldSize),m=me-ue<Te.x?Te.x/(me-ue):0}const $e=this.point,Ve=Math.max(m||0,c||0);if(Ve)return this.center=this.unproject(new s.pointGeometry(m?(me+ue)/2:$e.x,c?(ee+F)/2:$e.y)),this.zoom+=this.scaleZoom(Ve),this._unmodified=Ae,void(this._constraining=!1);if(this.latRange){const et=$e.y,Qe=Te.y/2;et-Qe<F&&(P=F+Qe),et+Qe>ee&&(P=ee-Qe)}if(this.lngRange){const et=(ue+me)/2,Qe=s.wrap($e.x,et-this.worldSize/2,et+this.worldSize/2),Je=Te.x/2;Qe-Je<ue&&(S=ue+Je),Qe+Je>me&&(S=me-Je)}S===void 0&&P===void 0||(this.center=this.unproject(new s.pointGeometry(S!==void 0?S:$e.x,P!==void 0?P:$e.y)).wrap()),this._unmodified=Ae,this._constraining=!1}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,m=this.point.x,S=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=s.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let P=s.identity(new Float64Array(16));s.scale(P,P,[this.width/2,-this.height/2,1]),s.translate(P,P,[1,-1,0]),this.labelPlaneMatrix=P,P=s.identity(new Float64Array(16)),s.scale(P,P,[1,-1,1]),s.translate(P,P,[-1,-1,0]),s.scale(P,P,[2/this.width,2/this.height,1]),this.glCoordMatrix=P,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const F=Math.PI/2+this._pitch,ee=this._fov*(.5+c.y/this.height),ue=Math.sin(ee)*this.cameraToSeaLevelDistance/Math.sin(s.clamp(Math.PI-F-ee,.01,Math.PI-.01)),me=this.getHorizon(),Te=2*Math.atan(me/this.cameraToCenterDistance)*(.5+c.y/(2*me)),Ae=Math.sin(Te)*this.cameraToSeaLevelDistance/Math.sin(s.clamp(Math.PI-F-Te,.01,Math.PI-.01)),$e=Math.cos(Math.PI/2-this._pitch)*ue+this.cameraToSeaLevelDistance,Ve=Math.cos(Math.PI/2-this._pitch)*Ae+this.cameraToSeaLevelDistance,et=1.01*Math.min($e,Ve),Qe=this.height/50;P=new Float64Array(16),s.perspective(P,this._fov,this.width/this.height,Qe,et),P[8]=2*-c.x/this.width,P[9]=2*c.y/this.height,s.scale(P,P,[1,-1,1]),s.translate(P,P,[0,0,-this.cameraToCenterDistance]),s.rotateX(P,P,this._pitch),s.rotateZ(P,P,this.angle),s.translate(P,P,[-m,-S,0]),this.mercatorMatrix=s.scale([],P,[this.worldSize,this.worldSize,this.worldSize]),s.scale(P,P,[1,1,this._pixelPerMeter]),this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,P),s.translate(P,P,[0,0,-this.elevation]),this.projMatrix=P,this.invProjMatrix=s.invert([],P),this.pixelMatrix3D=s.multiply(new Float64Array(16),this.labelPlaneMatrix,P);const Je=this.width%2/2,pt=this.height%2/2,yt=Math.cos(this.angle),wt=Math.sin(this.angle),rt=m-Math.round(m)+yt*Je+wt*pt,It=S-Math.round(S)+yt*pt+wt*Je,Et=new Float64Array(P);if(s.translate(Et,Et,[rt>.5?rt-1:rt,It>.5?It-1:It,0]),this.alignedProjMatrix=Et,P=s.invert(new Float64Array(16),this.pixelMatrix),!P)throw new Error("failed to invert matrix");this.pixelMatrixInverse=P,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const c=this.pointCoordinate(new s.pointGeometry(0,0)),m=[c.x*this.worldSize,c.y*this.worldSize,0,1];return s.transformMat4(m,m,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.pointGeometry(0,c))}getCameraQueryGeometry(c){const m=this.getCameraPoint();if(c.length===1)return[c[0],m];{let S=m.x,P=m.y,F=m.x,ee=m.y;for(const ue of c)S=Math.min(S,ue.x),P=Math.min(P,ue.y),F=Math.max(F,ue.x),ee=Math.max(ee,ue.y);return[new s.pointGeometry(S,P),new s.pointGeometry(F,P),new s.pointGeometry(F,ee),new s.pointGeometry(S,ee),new s.pointGeometry(S,P)]}}}class Pv{constructor(c){this._hashName=c&&encodeURIComponent(c),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(m,S){let P=!1,F=null;const ee=()=>{F=null,P&&(m(),F=setTimeout(ee,300),P=!1)};return()=>(P=!0,F||ee(),F)}(this._updateHashUnthrottled.bind(this))}addTo(c){return this._map=c,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(c){const m=this._map.getCenter(),S=Math.round(100*this._map.getZoom())/100,P=Math.ceil((S*Math.LN2+Math.log(512/360/.5))/Math.LN10),F=Math.pow(10,P),ee=Math.round(m.lng*F)/F,ue=Math.round(m.lat*F)/F,me=this._map.getBearing(),Te=this._map.getPitch();let Ae="";if(Ae+=c?`/${ee}/${ue}/${S}`:`${S}/${ue}/${ee}`,(me||Te)&&(Ae+="/"+Math.round(10*me)/10),Te&&(Ae+=`/${Math.round(Te)}`),this._hashName){const $e=this._hashName;let Ve=!1;const et=window.location.hash.slice(1).split("&").map(Qe=>{const Je=Qe.split("=")[0];return Je===$e?(Ve=!0,`${Je}=${Ae}`):Qe}).filter(Qe=>Qe);return Ve||et.push(`${$e}=${Ae}`),`#${et.join("&")}`}return`#${Ae}`}_getCurrentHash(){const c=window.location.hash.replace("#","");if(this._hashName){let m;return c.split("&").map(S=>S.split("=")).forEach(S=>{S[0]===this._hashName&&(m=S)}),(m&&m[1]||"").split("/")}return c.split("/")}_onHashChange(){const c=this._getCurrentHash();if(c.length>=3&&!c.some(m=>isNaN(m))){const m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:m,pitch:+(c[4]||0)}),!0}return!1}_updateHashUnthrottled(){const c=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,c)}catch{}}}const yh={linearity:.3,easing:s.bezier(0,0,.3,1)},Mv=s.extend({deceleration:2500,maxSpeed:1400},yh),Dv=s.extend({deceleration:20,maxSpeed:1400},yh),ld=s.extend({deceleration:1e3,maxSpeed:360},yh),Ov=s.extend({deceleration:1e3,maxSpeed:90},yh);class Rv{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.exported.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,m=s.exported.now();for(;c.length>0&&m-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const m={zoom:0,bearing:0,pitch:0,pan:new s.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:F}of this._inertiaBuffer)m.zoom+=F.zoomDelta||0,m.bearing+=F.bearingDelta||0,m.pitch+=F.pitchDelta||0,F.panDelta&&m.pan._add(F.panDelta),F.around&&(m.around=F.around),F.pinchAround&&(m.pinchAround=F.pinchAround);const S=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,P={};if(m.pan.mag()){const F=xh(m.pan.mag(),S,s.extend({},Mv,c||{}));P.offset=m.pan.mult(F.amount/m.pan.mag()),P.center=this._map.transform.center,vh(P,F)}if(m.zoom){const F=xh(m.zoom,S,Dv);P.zoom=this._map.transform.zoom+F.amount,vh(P,F)}if(m.bearing){const F=xh(m.bearing,S,ld);P.bearing=this._map.transform.bearing+s.clamp(F.amount,-179,179),vh(P,F)}if(m.pitch){const F=xh(m.pitch,S,Ov);P.pitch=this._map.transform.pitch+F.amount,vh(P,F)}if(P.zoom||P.bearing){const F=m.pinchAround===void 0?m.around:m.pinchAround;P.around=F?this._map.unproject(F):this._map.getCenter()}return this.clear(),s.extend(P,{noMoveStart:!0})}}function vh(I,c){(!I.duration||I.duration<c.duration)&&(I.duration=c.duration,I.easing=c.easing)}function xh(I,c,m){const{maxSpeed:S,linearity:P,deceleration:F}=m,ee=s.clamp(I*P/(c/1e3),-S,S),ue=Math.abs(ee)/(F*P);return{easing:m.easing,duration:1e3*ue,amount:ee*(ue/2)}}class ao extends s.Event{constructor(c,m,S,P={}){const F=g.mousePos(m.getCanvasContainer(),S),ee=m.unproject(F);super(c,s.extend({point:F,lngLat:ee,originalEvent:S},P)),this._defaultPrevented=!1,this.target=m}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class ts extends s.Event{constructor(c,m,S){const P=c==="touchend"?S.changedTouches:S.touches,F=g.touchPos(m.getCanvasContainer(),P),ee=F.map(me=>m.unproject(me)),ue=F.reduce((me,Te,Ae,$e)=>me.add(Te.div($e.length)),new s.pointGeometry(0,0));super(c,{points:F,point:ue,lngLats:ee,lngLat:m.unproject(ue),originalEvent:S}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class H0 extends s.Event{constructor(c,m,S){super(c,{originalEvent:S}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class Cc{constructor(c,m){this._map=c,this._clickTolerance=m.clickTolerance}reset(){delete this._mousedownPos}wheel(c){return this._firePreventable(new H0(c.type,this._map,c))}mousedown(c,m){return this._mousedownPos=m,this._firePreventable(new ao(c.type,this._map,c))}mouseup(c){this._map.fire(new ao(c.type,this._map,c))}click(c,m){this._mousedownPos&&this._mousedownPos.dist(m)>=this._clickTolerance||this._map.fire(new ao(c.type,this._map,c))}dblclick(c){return this._firePreventable(new ao(c.type,this._map,c))}mouseover(c){this._map.fire(new ao(c.type,this._map,c))}mouseout(c){this._map.fire(new ao(c.type,this._map,c))}touchstart(c){return this._firePreventable(new ts(c.type,this._map,c))}touchmove(c){this._map.fire(new ts(c.type,this._map,c))}touchend(c){this._map.fire(new ts(c.type,this._map,c))}touchcancel(c){this._map.fire(new ts(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class $v{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(c){this._map.fire(new ao(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ao("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._ignoreContextMenu||this._map.fire(new ao(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class hu{constructor(c,m){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=m.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,m){this.isEnabled()&&c.shiftKey&&c.button===0&&(g.disableDrag(),this._startPos=this._lastPos=m,this._active=!0)}mousemoveWindow(c,m){if(!this._active)return;const S=m;if(this._lastPos.equals(S)||!this._box&&S.dist(this._startPos)<this._clickTolerance)return;const P=this._startPos;this._lastPos=S,this._box||(this._box=g.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));const F=Math.min(P.x,S.x),ee=Math.max(P.x,S.x),ue=Math.min(P.y,S.y),me=Math.max(P.y,S.y);g.setTransform(this._box,`translate(${F}px,${ue}px)`),this._box.style.width=ee-F+"px",this._box.style.height=me-ue+"px"}mouseupWindow(c,m){if(!this._active||c.button!==0)return;const S=this._startPos,P=m;if(this.reset(),g.suppressClick(),S.x!==P.x||S.y!==P.y)return this._map.fire(new s.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:F=>F.fitScreenCoordinates(S,P,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",c)}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(g.remove(this._box),this._box=null),g.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(c,m){return this._map.fire(new s.Event(c,{originalEvent:m}))}}function pu(I,c){if(I.length!==c.length)throw new Error(`The number of touches and points are not equal - touches ${I.length}, points ${c.length}`);const m={};for(let S=0;S<I.length;S++)m[I[S].identifier]=c[S];return m}class X0{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(c,m,S){(this.centroid||S.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),S.length===this.numTouches&&(this.centroid=function(P){const F=new s.pointGeometry(0,0);for(const ee of P)F._add(ee);return F.div(P.length)}(m),this.touches=pu(S,m)))}touchmove(c,m,S){if(this.aborted||!this.centroid)return;const P=pu(S,m);for(const F in this.touches){const ee=this.touches[F],ue=P[F];(!ue||ue.dist(ee)>30)&&(this.aborted=!0)}}touchend(c,m,S){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),S.length===0){const P=!this.aborted&&this.centroid;if(this.reset(),P)return P}}}class dg{constructor(c){this.singleTap=new X0(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(c,m,S){this.singleTap.touchstart(c,m,S)}touchmove(c,m,S){this.singleTap.touchmove(c,m,S)}touchend(c,m,S){const P=this.singleTap.touchend(c,m,S);if(P){const F=c.timeStamp-this.lastTime<500,ee=!this.lastTap||this.lastTap.dist(P)<30;if(F&&ee||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=P,this.count===this.numTaps)return this.reset(),P}}}class Z0{constructor(){this._zoomIn=new dg({numTouches:1,numTaps:2}),this._zoomOut=new dg({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,m,S){this._zoomIn.touchstart(c,m,S),this._zoomOut.touchstart(c,m,S)}touchmove(c,m,S){this._zoomIn.touchmove(c,m,S),this._zoomOut.touchmove(c,m,S)}touchend(c,m,S){const P=this._zoomIn.touchend(c,m,S),F=this._zoomOut.touchend(c,m,S);return P?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ee=>ee.easeTo({duration:300,zoom:ee.getZoom()+1,around:ee.unproject(P)},{originalEvent:c})}):F?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ee=>ee.easeTo({duration:300,zoom:ee.getZoom()-1,around:ee.unproject(F)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const zv={0:1,2:2};class mu{constructor(c){this.reset(),this._clickTolerance=c.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(c,m){return!1}_move(c,m){return{}}mousedown(c,m){if(this._lastPoint)return;const S=g.mouseButton(c);this._correctButton(c,S)&&(this._lastPoint=m,this._eventButton=S)}mousemoveWindow(c,m){const S=this._lastPoint;if(S){if(c.preventDefault(),function(P,F){const ee=zv[F];return P.buttons===void 0||(P.buttons&ee)!==ee}(c,this._eventButton))this.reset();else if(this._moved||!(m.dist(S)<this._clickTolerance))return this._moved=!0,this._lastPoint=m,this._move(S,m)}}mouseupWindow(c){this._lastPoint&&g.mouseButton(c)===this._eventButton&&(this._moved&&g.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ec extends mu{mousedown(c,m){super.mousedown(c,m),this._lastPoint&&(this._active=!0)}_correctButton(c,m){return m===0&&!c.ctrlKey}_move(c,m){return{around:m,panDelta:m.sub(c)}}}class bn extends mu{_correctButton(c,m){return m===0&&c.ctrlKey||m===2}_move(c,m){const S=.8*(m.x-c.x);if(S)return this._active=!0,{bearingDelta:S}}contextmenu(c){c.preventDefault()}}class hg extends mu{_correctButton(c,m){return m===0&&c.ctrlKey||m===2}_move(c,m){const S=-.5*(m.y-c.y);if(S)return this._active=!0,{pitchDelta:S}}contextmenu(c){c.preventDefault()}}class bh{constructor(c,m){this._minTouches=c.cooperativeGestures?2:1,this._clickTolerance=c.clickTolerance||1,this._map=m,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s.pointGeometry(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(c,m,S){return this._calculateTransform(c,m,S)}touchmove(c,m,S){if(this._map._cooperativeGestures&&(this._minTouches===2&&S.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(c,!1,S.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(S.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,m,S)}touchend(c,m,S){this._calculateTransform(c,m,S),this._active&&S.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,m,S){S.length>0&&(this._active=!0);const P=pu(S,m),F=new s.pointGeometry(0,0),ee=new s.pointGeometry(0,0);let ue=0;for(const Te in P){const Ae=P[Te],$e=this._touches[Te];$e&&(F._add(Ae),ee._add(Ae.sub($e)),ue++,P[Te]=Ae)}if(this._touches=P,ue<this._minTouches||!ee.mag())return;const me=ee.div(ue);return this._sum._add(me),this._sum.mag()<this._clickTolerance?void 0:{around:F.div(ue),panDelta:me}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class fu{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(c){}_move(c,m,S){return{}}touchstart(c,m,S){this._firstTwoTouches||S.length<2||(this._firstTwoTouches=[S[0].identifier,S[1].identifier],this._start([m[0],m[1]]))}touchmove(c,m,S){if(!this._firstTwoTouches)return;c.preventDefault();const[P,F]=this._firstTwoTouches,ee=_h(S,m,P),ue=_h(S,m,F);if(!ee||!ue)return;const me=this._aroundCenter?null:ee.add(ue).div(2);return this._move([ee,ue],me,c)}touchend(c,m,S){if(!this._firstTwoTouches)return;const[P,F]=this._firstTwoTouches,ee=_h(S,m,P),ue=_h(S,m,F);ee&&ue||(this._active&&g.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function _h(I,c,m){for(let S=0;S<I.length;S++)if(I[S].identifier===m)return c[S]}function on(I,c){return Math.log(I/c)/Math.LN2}class pg extends fu{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,m){const S=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(on(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:on(this._distance,S),pinchAround:m}}}function Fv(I,c){return 180*I.angleWith(c)/Math.PI}class K0 extends fu{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,m){const S=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Fv(this._vector,S),pinchAround:m}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const m=25/(Math.PI*this._minDiameter)*360,S=Fv(c,this._startVector);return Math.abs(S)<m}}function wh(I){return Math.abs(I.y)>Math.abs(I.x)}class Bv extends fu{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(c,m,S){super.touchstart(c,m,S),this._currentTouchCount=S.length}_start(c){this._lastPoints=c,wh(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,m,S){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const P=c[0].sub(this._lastPoints[0]),F=c[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(P,F,S.timeStamp),this._valid?(this._lastPoints=c,this._active=!0,{pitchDelta:(P.y+F.y)/2*-.5}):void 0}gestureBeginsVertically(c,m,S){if(this._valid!==void 0)return this._valid;const P=c.mag()>=2,F=m.mag()>=2;if(!P&&!F)return;if(!P||!F)return this._firstMove===void 0&&(this._firstMove=S),S-this._firstMove<100&&void 0;const ee=c.y>0==m.y>0;return wh(c)&&wh(m)&&ee}}const jv={panStep:100,bearingStep:15,pitchStep:10};class Q0{constructor(){const c=jv;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let m=0,S=0,P=0,F=0,ee=0;switch(c.keyCode){case 61:case 107:case 171:case 187:m=1;break;case 189:case 109:case 173:m=-1;break;case 37:c.shiftKey?S=-1:(c.preventDefault(),F=-1);break;case 39:c.shiftKey?S=1:(c.preventDefault(),F=1);break;case 38:c.shiftKey?P=1:(c.preventDefault(),ee=-1);break;case 40:c.shiftKey?P=-1:(c.preventDefault(),ee=1);break;default:return}return this._rotationDisabled&&(S=0,P=0),{cameraAnimation:ue=>{const me=ue.getZoom();ue.easeTo({duration:300,easeId:"keyboardHandler",easing:J0,zoom:m?Math.round(me)+m*(c.shiftKey?2:1):me,bearing:ue.getBearing()+S*this._bearingStep,pitch:ue.getPitch()+P*this._pitchStep,offset:[-F*this._panStep,-ee*this._panStep],center:ue.getCenter()},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function J0(I){return I*(2-I)}const nm=4.000244140625;class mg{constructor(c,m){this._map=c,this._el=c.getCanvasContainer(),this._handler=m,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,s.bindAll(["_onTimeout"],this)}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=c&&c.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!this._map._metaPress)return;c.preventDefault()}let m=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const S=s.exported.now(),P=S-(this._lastWheelEventTime||0);this._lastWheelEventTime=S,m!==0&&m%nm==0?this._type="wheel":m!==0&&Math.abs(m)<4?this._type="trackpad":P>400?(this._type=null,this._lastValue=m,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(P*m)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,m+=this._lastValue)),c.shiftKey&&m&&(m/=4),this._type&&(this._lastWheelEvent=c,this._delta-=m,this._active||this._start(c)),c.preventDefault()}_onTimeout(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const m=g.mousePos(this._el,c);this._around=s.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(m)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._map.transform;if(this._delta!==0){const ue=this._type==="wheel"&&Math.abs(this._delta)>nm?this._wheelZoomRate:this._defaultZoomRate;let me=2/(1+Math.exp(-Math.abs(this._delta*ue)));this._delta<0&&me!==0&&(me=1/me);const Te=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(Te*me))),this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const m=typeof this._targetZoom=="number"?this._targetZoom:c.zoom,S=this._startZoom,P=this._easing;let F,ee=!1;if(this._type==="wheel"&&S&&P){const ue=Math.min((s.exported.now()-this._lastWheelEventTime)/200,1),me=P(ue);F=s.number(S,m,me),ue<1?this._frameId||(this._frameId=!0):ee=!0}else F=m,ee=!0;return this._active=!0,ee&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ee,zoomDelta:F-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let m=s.ease;if(this._prevEase){const S=this._prevEase,P=(s.exported.now()-S.start)/S.duration,F=S.easing(P+.01)-S.easing(P),ee=.27/Math.sqrt(F*F+1e-4)*.01,ue=Math.sqrt(.0729-ee*ee);m=s.bezier(ee,ue,.25,1)}return this._prevEase={start:s.exported.now(),duration:c,easing:m},m}reset(){this._active=!1}}class fg{constructor(c,m){this._clickZoom=c,this._tapZoom=m}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class gg{constructor(){this.reset()}reset(){this._active=!1}dblclick(c,m){return c.preventDefault(),{cameraAnimation:S=>{S.easeTo({duration:300,zoom:S.getZoom()+(c.shiftKey?-1:1),around:S.unproject(m)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Us{constructor(){this._tap=new dg({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(c,m,S){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?S.length>0&&(this._swipePoint=m[0],this._swipeTouch=S[0].identifier):this._tap.touchstart(c,m,S))}touchmove(c,m,S){if(this._tapTime){if(this._swipePoint){if(S[0].identifier!==this._swipeTouch)return;const P=m[0],F=P.y-this._swipePoint.y;return this._swipePoint=P,c.preventDefault(),this._active=!0,{zoomDelta:F/128}}}else this._tap.touchmove(c,m,S)}touchend(c,m,S){this._tapTime?this._swipePoint&&S.length===0&&this.reset():this._tap.touchend(c,m,S)&&(this._tapTime=c.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class kc{constructor(c,m,S){this._el=c,this._mousePan=m,this._touchPan=S}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Uv{constructor(c,m,S){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=m,this._mousePitch=S}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class yg{constructor(c,m,S,P){this._el=c,this._touchZoom=m,this._touchRotate=S,this._tapDragZoom=P,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const cd=I=>I.zoom||I.drag||I.pitch||I.rotate;class vg extends s.Event{}function im(I){return I.panDelta&&I.panDelta.mag()||I.zoomDelta||I.bearingDelta||I.pitchDelta}class Mo{constructor(c,m){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Rv(c),this._bearingSnap=m.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(m),s.bindAll(["handleEvent","handleWindowEvent"],this);const S=this._el;this._listeners=[[S,"touchstart",{passive:!0}],[S,"touchmove",{passive:!1}],[S,"touchend",void 0],[S,"touchcancel",void 0],[S,"mousedown",void 0],[S,"mousemove",void 0],[S,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[S,"mouseover",void 0],[S,"mouseout",void 0],[S,"dblclick",void 0],[S,"click",void 0],[S,"keydown",{capture:!1}],[S,"keyup",void 0],[S,"wheel",{passive:!1}],[S,"contextmenu",void 0],[window,"blur",void 0]];for(const[P,F,ee]of this._listeners)g.addEventListener(P,F,P===document?this.handleWindowEvent:this.handleEvent,ee)}destroy(){for(const[c,m,S]of this._listeners)g.removeEventListener(c,m,c===document?this.handleWindowEvent:this.handleEvent,S)}_addDefaultHandlers(c){const m=this._map,S=m.getCanvasContainer();this._add("mapEvent",new Cc(m,c));const P=m.boxZoom=new hu(m,c);this._add("boxZoom",P);const F=new Z0,ee=new gg;m.doubleClickZoom=new fg(ee,F),this._add("tapZoom",F),this._add("clickZoom",ee);const ue=new Us;this._add("tapDragZoom",ue);const me=m.touchPitch=new Bv(m);this._add("touchPitch",me);const Te=new bn(c),Ae=new hg(c);m.dragRotate=new Uv(c,Te,Ae),this._add("mouseRotate",Te,["mousePitch"]),this._add("mousePitch",Ae,["mouseRotate"]);const $e=new Ec(c),Ve=new bh(c,m);m.dragPan=new kc(S,$e,Ve),this._add("mousePan",$e),this._add("touchPan",Ve,["touchZoom","touchRotate"]);const et=new K0,Qe=new pg;m.touchZoomRotate=new yg(S,Qe,et,ue),this._add("touchRotate",et,["touchPan","touchZoom"]),this._add("touchZoom",Qe,["touchPan","touchRotate"]);const Je=m.scrollZoom=new mg(m,this);this._add("scrollZoom",Je,["mousePan"]);const pt=m.keyboard=new Q0;this._add("keyboard",pt),this._add("blockableMapEvent",new $v(m));for(const yt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])c.interactive&&c[yt]&&m[yt].enable(c[yt])}_add(c,m,S){this._handlers.push({handlerName:c,handler:m,allowed:S}),this._handlersById[c]=m}stop(c){if(!this._updatingCamera){for(const{handler:m}of this._handlers)m.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!cd(this._eventsInProgress)||this.isZooming()}_blockedByActive(c,m,S){for(const P in c)if(P!==S&&(!m||m.indexOf(P)<0))return!0;return!1}handleWindowEvent(c){this.handleEvent(c,`${c.type}Window`)}_getMapTouches(c){const m=[];for(const S of c)this._el.contains(S.target)&&m.push(S);return m}handleEvent(c,m){if(c.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const S=c.type==="renderFrame"?void 0:c,P={needsRenderFrame:!1},F={},ee={},ue=c.touches,me=ue?this._getMapTouches(ue):void 0,Te=me?g.touchPos(this._el,me):g.mousePos(this._el,c);for(const{handlerName:Ve,handler:et,allowed:Qe}of this._handlers){if(!et.isEnabled())continue;let Je;this._blockedByActive(ee,Qe,Ve)?et.reset():et[m||c.type]&&(Je=et[m||c.type](c,Te,me),this.mergeHandlerResult(P,F,Je,Ve,S),Je&&Je.needsRenderFrame&&this._triggerRenderFrame()),(Je||et.isActive())&&(ee[Ve]=et)}const Ae={};for(const Ve in this._previousActiveHandlers)ee[Ve]||(Ae[Ve]=S);this._previousActiveHandlers=ee,(Object.keys(Ae).length||im(P))&&(this._changes.push([P,F,Ae]),this._triggerRenderFrame()),(Object.keys(ee).length||im(P))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:$e}=P;$e&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],$e(this._map))}mergeHandlerResult(c,m,S,P,F){if(!S)return;s.extend(c,S);const ee={handlerName:P,originalEvent:S.originalEvent||F};S.zoomDelta!==void 0&&(m.zoom=ee),S.panDelta!==void 0&&(m.drag=ee),S.pitchDelta!==void 0&&(m.pitch=ee),S.bearingDelta!==void 0&&(m.rotate=ee)}_applyChanges(){const c={},m={},S={};for(const[P,F,ee]of this._changes)P.panDelta&&(c.panDelta=(c.panDelta||new s.pointGeometry(0,0))._add(P.panDelta)),P.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+P.zoomDelta),P.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+P.bearingDelta),P.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+P.pitchDelta),P.around!==void 0&&(c.around=P.around),P.pinchAround!==void 0&&(c.pinchAround=P.pinchAround),P.noInertia&&(c.noInertia=P.noInertia),s.extend(m,F),s.extend(S,ee);this._updateMapTransform(c,m,S),this._changes=[]}_updateMapTransform(c,m,S){const P=this._map,F=P.transform,ee=P.style&&P.style.terrain;if(!(im(c)||ee&&this._drag))return this._fireEvents(m,S,!0);let{panDelta:ue,zoomDelta:me,bearingDelta:Te,pitchDelta:Ae,around:$e,pinchAround:Ve}=c;Ve!==void 0&&($e=Ve),P._stop(!0),$e=$e||P.transform.centerPoint;const et=F.pointLocation(ue?$e.sub(ue):$e);Te&&(F.bearing+=Te),Ae&&(F.pitch+=Ae),me&&(F.zoom+=me),ee?m.drag&&!this._drag?(this._drag={center:F.centerPoint,lngLat:F.pointLocation($e),point:$e,handlerName:m.drag.handlerName},P.fire(new s.Event("freezeElevation",{freeze:!0}))):this._drag&&S[this._drag.handlerName]?(P.fire(new s.Event("freezeElevation",{freeze:!1})),this._drag=null):m.drag&&this._drag&&(F.center=F.pointLocation(F.centerPoint.sub(ue))):F.setLocationAtPoint(et,$e),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(m,S,!0)}_fireEvents(c,m,S){const P=cd(this._eventsInProgress),F=cd(c),ee={};for(const Ae in c){const{originalEvent:$e}=c[Ae];this._eventsInProgress[Ae]||(ee[`${Ae}start`]=$e),this._eventsInProgress[Ae]=c[Ae]}!P&&F&&this._fireEvent("movestart",F.originalEvent);for(const Ae in ee)this._fireEvent(Ae,ee[Ae]);F&&this._fireEvent("move",F.originalEvent);for(const Ae in c){const{originalEvent:$e}=c[Ae];this._fireEvent(Ae,$e)}const ue={};let me;for(const Ae in this._eventsInProgress){const{handlerName:$e,originalEvent:Ve}=this._eventsInProgress[Ae];this._handlersById[$e].isActive()||(delete this._eventsInProgress[Ae],me=m[$e]||Ve,ue[`${Ae}end`]=me)}for(const Ae in ue)this._fireEvent(Ae,ue[Ae]);const Te=cd(this._eventsInProgress);if(S&&(P||F)&&!Te){this._updatingCamera=!0;const Ae=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),$e=Ve=>Ve!==0&&-this._bearingSnap<Ve&&Ve<this._bearingSnap;Ae?($e(Ae.bearing||this._map.getBearing())&&(Ae.bearing=0),this._map.easeTo(Ae,{originalEvent:me})):(this._map.fire(new s.Event("moveend",{originalEvent:me})),$e(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,m){this._map.fire(new s.Event(c,m?{originalEvent:m}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{delete this._frameId,this.handleEvent(new vg("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const gr={extend:(I,...c)=>s.extend(I,...c),run(I){I()},logToElement(I,c=!1,m="log"){const S=window.document.getElementById(m);S&&(c&&(S.innerHTML=""),S.innerHTML+=`<br>${I}`)}};class rm extends s.Evented{constructor(c,m){super(),this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=m.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}getCenter(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,m){return this.jumpTo({center:c},m)}panBy(c,m,S){return c=s.pointGeometry.convert(c).mult(-1),this.panTo(this.transform.center,s.extend({offset:c},m),S)}panTo(c,m,S){return this.easeTo(s.extend({center:c},m),S)}getZoom(){return this.transform.zoom}setZoom(c,m){return this.jumpTo({zoom:c},m),this}zoomTo(c,m,S){return this.easeTo(s.extend({zoom:c},m),S)}zoomIn(c,m){return this.zoomTo(this.getZoom()+1,c,m),this}zoomOut(c,m){return this.zoomTo(this.getZoom()-1,c,m),this}getBearing(){return this.transform.bearing}setBearing(c,m){return this.jumpTo({bearing:c},m),this}getPadding(){return this.transform.padding}setPadding(c,m){return this.jumpTo({padding:c},m),this}rotateTo(c,m,S){return this.easeTo(s.extend({bearing:c},m),S)}resetNorth(c,m){return this.rotateTo(0,s.extend({duration:1e3},c),m),this}resetNorthPitch(c,m){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},c),m),this}snapToNorth(c,m){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,m):this}getPitch(){return this.transform.pitch}setPitch(c,m){return this.jumpTo({pitch:c},m),this}cameraForBounds(c,m){c=s.LngLatBounds.convert(c);const S=m&&m.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),S,m)}_cameraForBoxAndBearing(c,m,S,P){const F={top:0,bottom:0,right:0,left:0};if(typeof(P=s.extend({padding:F,offset:[0,0],maxZoom:this.transform.maxZoom},P)).padding=="number"){const Et=P.padding;P.padding={top:Et,bottom:Et,right:Et,left:Et}}P.padding=s.extend(F,P.padding);const ee=this.transform,ue=ee.padding,me=ee.project(s.LngLat.convert(c)),Te=ee.project(s.LngLat.convert(m)),Ae=me.rotate(-S*Math.PI/180),$e=Te.rotate(-S*Math.PI/180),Ve=new s.pointGeometry(Math.max(Ae.x,$e.x),Math.max(Ae.y,$e.y)),et=new s.pointGeometry(Math.min(Ae.x,$e.x),Math.min(Ae.y,$e.y)),Qe=Ve.sub(et),Je=(ee.width-(ue.left+ue.right+P.padding.left+P.padding.right))/Qe.x,pt=(ee.height-(ue.top+ue.bottom+P.padding.top+P.padding.bottom))/Qe.y;if(pt<0||Je<0)return void s.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const yt=Math.min(ee.scaleZoom(ee.scale*Math.min(Je,pt)),P.maxZoom),wt=s.pointGeometry.convert(P.offset),rt=new s.pointGeometry((P.padding.left-P.padding.right)/2,(P.padding.top-P.padding.bottom)/2).rotate(S*Math.PI/180),It=wt.add(rt).mult(ee.scale/ee.zoomScale(yt));return{center:ee.unproject(me.add(Te).div(2).sub(It)),zoom:yt,bearing:S}}fitBounds(c,m,S){return this._fitInternal(this.cameraForBounds(c,m),m,S)}fitScreenCoordinates(c,m,S,P,F){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.pointGeometry.convert(c)),this.transform.pointLocation(s.pointGeometry.convert(m)),S,P),P,F)}_fitInternal(c,m,S){return c?(delete(m=s.extend(c,m)).padding,m.linear?this.easeTo(m,S):this.flyTo(m,S)):this}jumpTo(c,m){this.stop();const S=this.transform;let P=!1,F=!1,ee=!1;return"zoom"in c&&S.zoom!==+c.zoom&&(P=!0,S.zoom=+c.zoom),c.center!==void 0&&(S.center=s.LngLat.convert(c.center)),"bearing"in c&&S.bearing!==+c.bearing&&(F=!0,S.bearing=+c.bearing),"pitch"in c&&S.pitch!==+c.pitch&&(ee=!0,S.pitch=+c.pitch),c.padding==null||S.isPaddingEqual(c.padding)||(S.padding=c.padding),this.fire(new s.Event("movestart",m)).fire(new s.Event("move",m)),P&&this.fire(new s.Event("zoomstart",m)).fire(new s.Event("zoom",m)).fire(new s.Event("zoomend",m)),F&&this.fire(new s.Event("rotatestart",m)).fire(new s.Event("rotate",m)).fire(new s.Event("rotateend",m)),ee&&this.fire(new s.Event("pitchstart",m)).fire(new s.Event("pitch",m)).fire(new s.Event("pitchend",m)),this.fire(new s.Event("moveend",m))}calculateCameraOptionsFromTo(c,m,S,P=0){const F=s.MercatorCoordinate.fromLngLat(c,m),ee=s.MercatorCoordinate.fromLngLat(S,P),ue=ee.x-F.x,me=ee.y-F.y,Te=ee.z-F.z,Ae=Math.hypot(ue,me,Te);if(Ae===0)throw new Error("Can't calculate camera options with same From and To");const $e=Math.hypot(ue,me),Ve=this.transform.scaleZoom(this.transform.cameraToCenterDistance/Ae/this.transform.tileSize),et=180*Math.atan2(ue,-me)/Math.PI;let Qe=180*Math.acos($e/Ae)/Math.PI;return Qe=Te<0?90-Qe:90+Qe,{center:ee.toLngLat(),zoom:Ve,pitch:Qe,bearing:et}}easeTo(c,m){this._stop(!1,c.easeId),((c=s.extend({offset:[0,0],duration:500,easing:s.ease},c)).animate===!1||!c.essential&&s.exported.prefersReducedMotion)&&(c.duration=0);const S=this.transform,P=this.getZoom(),F=this.getBearing(),ee=this.getPitch(),ue=this.getPadding(),me="zoom"in c?+c.zoom:P,Te="bearing"in c?this._normalizeBearing(c.bearing,F):F,Ae="pitch"in c?+c.pitch:ee,$e="padding"in c?c.padding:S.padding,Ve=s.pointGeometry.convert(c.offset);let et=S.centerPoint.add(Ve);const Qe=S.pointLocation(et),Je=s.LngLat.convert(c.center||Qe);this._normalizeCenter(Je);const pt=S.project(Qe),yt=S.project(Je).sub(pt),wt=S.zoomScale(me-P);let rt,It;c.around&&(rt=s.LngLat.convert(c.around),It=S.locationPoint(rt));const Et={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||me!==P,this._rotating=this._rotating||F!==Te,this._pitching=this._pitching||Ae!==ee,this._padding=!S.isPaddingEqual($e),this._easeId=c.easeId,this._prepareEase(m,c.noMoveStart,Et),this._ease(jt=>{if(this._zooming&&(S.zoom=s.number(P,me,jt)),this._rotating&&(S.bearing=s.number(F,Te,jt)),this._pitching&&(S.pitch=s.number(ee,Ae,jt)),this._padding&&(S.interpolatePadding(ue,$e,jt),et=S.centerPoint.add(Ve)),rt)S.setLocationAtPoint(rt,It);else{const Ut=S.zoomScale(S.zoom-P),qt=me>P?Math.min(2,wt):Math.max(.5,wt),zt=Math.pow(qt,1-jt),hn=S.unproject(pt.add(yt.mult(jt*zt)).mult(Ut));S.setLocationAtPoint(S.renderWorldCopies?hn.wrap():hn,et)}this._fireMoveEvents(m)},jt=>{this._afterEase(m,jt)},c),this}_prepareEase(c,m,S={}){this._moving=!0,this.fire(new s.Event("freezeElevation",{freeze:!0})),m||S.moving||this.fire(new s.Event("movestart",c)),this._zooming&&!S.zooming&&this.fire(new s.Event("zoomstart",c)),this._rotating&&!S.rotating&&this.fire(new s.Event("rotatestart",c)),this._pitching&&!S.pitching&&this.fire(new s.Event("pitchstart",c))}_fireMoveEvents(c){this.fire(new s.Event("move",c)),this._zooming&&this.fire(new s.Event("zoom",c)),this._rotating&&this.fire(new s.Event("rotate",c)),this._pitching&&this.fire(new s.Event("pitch",c))}_afterEase(c,m){if(this._easeId&&m&&this._easeId===m)return;delete this._easeId,this.fire(new s.Event("freezeElevation",{freeze:!1}));const S=this._zooming,P=this._rotating,F=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,S&&this.fire(new s.Event("zoomend",c)),P&&this.fire(new s.Event("rotateend",c)),F&&this.fire(new s.Event("pitchend",c)),this.fire(new s.Event("moveend",c))}flyTo(c,m){if(!c.essential&&s.exported.prefersReducedMotion){const Rn=s.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Rn,m)}this.stop(),c=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},c);const S=this.transform,P=this.getZoom(),F=this.getBearing(),ee=this.getPitch(),ue=this.getPadding(),me="zoom"in c?s.clamp(+c.zoom,S.minZoom,S.maxZoom):P,Te="bearing"in c?this._normalizeBearing(c.bearing,F):F,Ae="pitch"in c?+c.pitch:ee,$e="padding"in c?c.padding:S.padding,Ve=S.zoomScale(me-P),et=s.pointGeometry.convert(c.offset);let Qe=S.centerPoint.add(et);const Je=S.pointLocation(Qe),pt=s.LngLat.convert(c.center||Je);this._normalizeCenter(pt);const yt=S.project(Je),wt=S.project(pt).sub(yt);let rt=c.curve;const It=Math.max(S.width,S.height),Et=It/Ve,jt=wt.mag();if("minZoom"in c){const Rn=s.clamp(Math.min(c.minZoom,P,me),S.minZoom,S.maxZoom),Wi=It/S.zoomScale(Rn-P);rt=Math.sqrt(Wi/jt*2)}const Ut=rt*rt;function qt(Rn){const Wi=(Et*Et-It*It+(Rn?-1:1)*Ut*Ut*jt*jt)/(2*(Rn?Et:It)*Ut*jt);return Math.log(Math.sqrt(Wi*Wi+1)-Wi)}function zt(Rn){return(Math.exp(Rn)-Math.exp(-Rn))/2}function hn(Rn){return(Math.exp(Rn)+Math.exp(-Rn))/2}const tn=qt(0);let mn=function(Rn){return hn(tn)/hn(tn+rt*Rn)},ii=function(Rn){return It*((hn(tn)*(zt(Wi=tn+rt*Rn)/hn(Wi))-zt(tn))/Ut)/jt;var Wi},hi=(qt(1)-tn)/rt;if(Math.abs(jt)<1e-6||!isFinite(hi)){if(Math.abs(It-Et)<1e-6)return this.easeTo(c,m);const Rn=Et<It?-1:1;hi=Math.abs(Math.log(Et/It))/rt,ii=function(){return 0},mn=function(Wi){return Math.exp(Rn*rt*Wi)}}return c.duration="duration"in c?+c.duration:1e3*hi/("screenSpeed"in c?+c.screenSpeed/rt:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=F!==Te,this._pitching=Ae!==ee,this._padding=!S.isPaddingEqual($e),this._prepareEase(m,!1),this._ease(Rn=>{const Wi=Rn*hi,Hi=1/mn(Wi);S.zoom=Rn===1?me:P+S.scaleZoom(Hi),this._rotating&&(S.bearing=s.number(F,Te,Rn)),this._pitching&&(S.pitch=s.number(ee,Ae,Rn)),this._padding&&(S.interpolatePadding(ue,$e,Rn),Qe=S.centerPoint.add(et));const Si=Rn===1?pt:S.unproject(yt.add(wt.mult(ii(Wi))).mult(Hi));S.setLocationAtPoint(S.renderWorldCopies?Si.wrap():Si,Qe),this._fireMoveEvents(m)},()=>this._afterEase(m),c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,m){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const S=this._onEaseEnd;delete this._onEaseEnd,S.call(this,m)}if(!c){const S=this.handlers;S&&S.stop(!1)}return this}_ease(c,m,S){S.animate===!1||S.duration===0?(c(1),m()):(this._easeStart=s.exported.now(),this._easeOptions=S,this._onEaseFrame=c,this._onEaseEnd=m,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const c=Math.min((s.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(c)),c<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(c,m){c=s.wrap(c,-180,180);const S=Math.abs(c-m);return Math.abs(c-360-m)<S&&(c-=360),Math.abs(c+360-m)<S&&(c+=360),c}_normalizeCenter(c){const m=this.transform;if(!m.renderWorldCopies||m.lngRange)return;const S=c.lng-m.center.lng;c.lng+=S>180?-360:S<-180?360:0}}class am{constructor(c={}){this.options=c,s.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(c){return this._map=c,this._compact=this.options&&this.options.compact,this._container=g.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=g.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=g.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){g.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(c,m){const S=this._map._getUIString(`AttributionControl.${m}`);c.title=S,c.setAttribute("aria-label",S)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"&&c.type!=="terrain"||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(P=>typeof P!="string"?"":P)):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){const P=this._map.style.stylesheet;this.styleOwner=P.owner,this.styleId=P.id}const m=this._map.style.sourceCaches;for(const P in m){const F=m[P];if(F.used||F.usedForTerrain){const ee=F.getSource();ee.attribution&&c.indexOf(ee.attribution)<0&&c.push(ee.attribution)}}c=c.filter(P=>String(P).trim()),c.sort((P,F)=>P.length-F.length),c=c.filter((P,F)=>{for(let ee=F+1;ee<c.length;ee++)if(c[ee].indexOf(P)>=0)return!1;return!0});const S=c.join(" | ");S!==this._attribHTML&&(this._attribHTML=S,c.length?(this._innerContainer.innerHTML=S,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class xg{constructor(c={}){this.options=c,s.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(c){this._map=c,this._compact=this.options&&this.options.compact,this._container=g.create("div","maplibregl-ctrl mapboxgl-ctrl");const m=g.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return m.target="_blank",m.rel="noopener nofollow",m.href="https://maplibre.org/",m.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),m.setAttribute("rel","noopener nofollow"),this._container.appendChild(m),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){g.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const c=this._container.children;if(c.length){const m=c[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&m.classList.add("maplibregl-compact","mapboxgl-compact"):m.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class Gv{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const m=++this._id;return this._queue.push({callback:c,id:m,cancelled:!1}),m}remove(c){const m=this._currentlyRunning,S=m?this._queue.concat(m):this._queue;for(const P of S)if(P.id===c)return void(P.cancelled=!0)}run(c=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const m=this._currentlyRunning=this._queue;this._queue=[];for(const S of m)if(!S.cancelled&&(S.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Yv={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"},e_={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Sl={showCompass:!0,showZoom:!0,visualizePitch:!1};class sm{constructor(c,m,S=!1){this._clickTolerance=10,this.element=m,this.mouseRotate=new bn({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,S&&(this.mousePitch=new hg({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),g.addEventListener(m,"mousedown",this.mousedown),g.addEventListener(m,"touchstart",this.touchstart,{passive:!1}),g.addEventListener(m,"touchmove",this.touchmove),g.addEventListener(m,"touchend",this.touchend),g.addEventListener(m,"touchcancel",this.reset)}down(c,m){this.mouseRotate.mousedown(c,m),this.mousePitch&&this.mousePitch.mousedown(c,m),g.disableDrag()}move(c,m){const S=this.map,P=this.mouseRotate.mousemoveWindow(c,m);if(P&&P.bearingDelta&&S.setBearing(S.getBearing()+P.bearingDelta),this.mousePitch){const F=this.mousePitch.mousemoveWindow(c,m);F&&F.pitchDelta&&S.setPitch(S.getPitch()+F.pitchDelta)}}off(){const c=this.element;g.removeEventListener(c,"mousedown",this.mousedown),g.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),g.removeEventListener(c,"touchmove",this.touchmove),g.removeEventListener(c,"touchend",this.touchend),g.removeEventListener(c,"touchcancel",this.reset),this.offTemp()}offTemp(){g.enableDrag(),g.removeEventListener(window,"mousemove",this.mousemove),g.removeEventListener(window,"mouseup",this.mouseup)}mousedown(c){this.down(s.extend({},c,{ctrlKey:!0,preventDefault:()=>c.preventDefault()}),g.mousePos(this.element,c)),g.addEventListener(window,"mousemove",this.mousemove),g.addEventListener(window,"mouseup",this.mouseup)}mousemove(c){this.move(c,g.mousePos(this.element,c))}mouseup(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()}touchstart(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=g.touchPos(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>c.preventDefault()},this._startPos))}touchmove(c){c.targetTouches.length!==1?this.reset():(this._lastPos=g.touchPos(this.element,c.targetTouches)[0],this.move({preventDefault:()=>c.preventDefault()},this._lastPos))}touchend(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function Nn(I,c,m){if(I=new s.LngLat(I.lng,I.lat),c){const S=new s.LngLat(I.lng-360,I.lat),P=new s.LngLat(I.lng+360,I.lat),F=m.locationPoint(I).distSqr(c);m.locationPoint(S).distSqr(c)<F?I=S:m.locationPoint(P).distSqr(c)<F&&(I=P)}for(;Math.abs(I.lng-m.center.lng)>180;){const S=m.locationPoint(I);if(S.x>=0&&S.y>=0&&S.x<=m.width&&S.y<=m.height)break;I.lng>m.center.lng?I.lng-=360:I.lng+=360}return I}const $n={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Th(I,c,m){const S=I.classList;for(const P in $n)S.remove(`maplibregl-${m}-anchor-${P}`,`mapboxgl-${m}-anchor-${P}`);S.add(`maplibregl-${m}-anchor-${c}`,`mapboxgl-${m}-anchor-${c}`)}class Sh extends s.Evented{constructor(c,m){if(super(),(c instanceof HTMLElement||m)&&(c=s.extend({element:c},m)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,c&&c.element)this._element=c.element,this._offset=s.pointGeometry.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=g.create("div"),this._element.setAttribute("aria-label","Map marker");const S=g.createNS("http://www.w3.org/2000/svg","svg"),P=41,F=27;S.setAttributeNS(null,"display","block"),S.setAttributeNS(null,"height",`${P}px`),S.setAttributeNS(null,"width",`${F}px`),S.setAttributeNS(null,"viewBox",`0 0 ${F} ${P}`);const ee=g.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"stroke","none"),ee.setAttributeNS(null,"stroke-width","1"),ee.setAttributeNS(null,"fill","none"),ee.setAttributeNS(null,"fill-rule","evenodd");const ue=g.createNS("http://www.w3.org/2000/svg","g");ue.setAttributeNS(null,"fill-rule","nonzero");const me=g.createNS("http://www.w3.org/2000/svg","g");me.setAttributeNS(null,"transform","translate(3.0, 29.0)"),me.setAttributeNS(null,"fill","#000000");const Te=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const wt of Te){const rt=g.createNS("http://www.w3.org/2000/svg","ellipse");rt.setAttributeNS(null,"opacity","0.04"),rt.setAttributeNS(null,"cx","10.5"),rt.setAttributeNS(null,"cy","5.80029008"),rt.setAttributeNS(null,"rx",wt.rx),rt.setAttributeNS(null,"ry",wt.ry),me.appendChild(rt)}const Ae=g.createNS("http://www.w3.org/2000/svg","g");Ae.setAttributeNS(null,"fill",this._color);const $e=g.createNS("http://www.w3.org/2000/svg","path");$e.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ae.appendChild($e);const Ve=g.createNS("http://www.w3.org/2000/svg","g");Ve.setAttributeNS(null,"opacity","0.25"),Ve.setAttributeNS(null,"fill","#000000");const et=g.createNS("http://www.w3.org/2000/svg","path");et.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Ve.appendChild(et);const Qe=g.createNS("http://www.w3.org/2000/svg","g");Qe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Qe.setAttributeNS(null,"fill","#FFFFFF");const Je=g.createNS("http://www.w3.org/2000/svg","g");Je.setAttributeNS(null,"transform","translate(8.0, 8.0)");const pt=g.createNS("http://www.w3.org/2000/svg","circle");pt.setAttributeNS(null,"fill","#000000"),pt.setAttributeNS(null,"opacity","0.25"),pt.setAttributeNS(null,"cx","5.5"),pt.setAttributeNS(null,"cy","5.5"),pt.setAttributeNS(null,"r","5.4999962");const yt=g.createNS("http://www.w3.org/2000/svg","circle");yt.setAttributeNS(null,"fill","#FFFFFF"),yt.setAttributeNS(null,"cx","5.5"),yt.setAttributeNS(null,"cy","5.5"),yt.setAttributeNS(null,"r","5.4999962"),Je.appendChild(pt),Je.appendChild(yt),ue.appendChild(me),ue.appendChild(Ae),ue.appendChild(Ve),ue.appendChild(Qe),ue.appendChild(Je),S.appendChild(ue),S.setAttributeNS(null,"height",P*this._scale+"px"),S.setAttributeNS(null,"width",F*this._scale+"px"),this._element.appendChild(S),this._offset=s.pointGeometry.convert(c&&c.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",S=>{S.preventDefault()}),this._element.addEventListener("mousedown",S=>{S.preventDefault()}),Th(this._element,this._anchor,"marker"),this._popup=null}addTo(c){return this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),g.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=s.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const P=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[P,-1*(38.1-13.5+P)],"bottom-right":[-P,-1*(38.1-13.5+P)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(c){const m=c.code,S=c.charCode||c.keyCode;m!=="Space"&&m!=="Enter"&&S!==32&&S!==13||this.togglePopup()}_onMapClick(c){const m=c.originalEvent.target,S=this._element;this._popup&&(m===S||S.contains(m))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?c.remove():c.addTo(this._map),this):this}_update(c){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=Nn(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let m="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?m=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(m=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let S="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?S="rotateX(0deg)":this._pitchAlignment==="map"&&(S=`rotateX(${this._map.getPitch()}deg)`),c&&c.type!=="moveend"||(this._pos=this._pos.round()),g.setTransform(this._element,`${$n[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${S} ${m}`),this._map.style&&this._map.style.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const P=this._map.unproject(this._pos),F=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=P.distanceTo(this._lngLat)>20*F?"0.2":"1.0",this._opacityTimeout=null},100))}getOffset(){return this._offset}setOffset(c){return this._offset=s.pointGeometry.convert(c),this._update(),this}_onMove(c){if(!this._isDragging){const m=this._clickTolerance||this._map._clickTolerance;this._isDragging=c.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=c.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"}_addDragHandler(c){this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(this._pos).add(this._offset),this._pointerdownPos=c.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const bg={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let fa,gu=0,Gs=!1;const t_={maxWidth:100,unit:"metric"};function Ch(I,c,m){const S=m&&m.maxWidth||100,P=I._container.clientHeight/2,F=I.unproject([0,P]),ee=I.unproject([S,P]),ue=F.distanceTo(ee);if(m&&m.unit==="imperial"){const me=3.2808*ue;me>5280?dr(c,S,me/5280,I._getUIString("ScaleControl.Miles")):dr(c,S,me,I._getUIString("ScaleControl.Feet"))}else m&&m.unit==="nautical"?dr(c,S,ue/1852,I._getUIString("ScaleControl.NauticalMiles")):ue>=1e3?dr(c,S,ue/1e3,I._getUIString("ScaleControl.Kilometers")):dr(c,S,ue,I._getUIString("ScaleControl.Meters"))}function dr(I,c,m,S){const P=function(F){const ee=Math.pow(10,`${Math.floor(F)}`.length-1);let ue=F/ee;return ue=ue>=10?10:ue>=5?5:ue>=3?3:ue>=2?2:ue>=1?1:function(me){const Te=Math.pow(10,Math.ceil(-Math.log(me)/Math.LN10));return Math.round(me*Te)/Te}(ue),ee*ue}(m);I.style.width=c*(P/m)+"px",I.innerHTML=`${P}&nbsp;${S}`}const ca={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Vv=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ud(I){if(I){if(typeof I=="number"){const c=Math.round(Math.sqrt(.5*Math.pow(I,2)));return{center:new s.pointGeometry(0,0),top:new s.pointGeometry(0,I),"top-left":new s.pointGeometry(c,c),"top-right":new s.pointGeometry(-c,c),bottom:new s.pointGeometry(0,-I),"bottom-left":new s.pointGeometry(c,-c),"bottom-right":new s.pointGeometry(-c,-c),left:new s.pointGeometry(I,0),right:new s.pointGeometry(-I,0)}}if(I instanceof s.pointGeometry||Array.isArray(I)){const c=s.pointGeometry.convert(I);return{center:c,top:c,"top-left":c,"top-right":c,bottom:c,"bottom-left":c,"bottom-right":c,left:c,right:c}}return{center:s.pointGeometry.convert(I.center||[0,0]),top:s.pointGeometry.convert(I.top||[0,0]),"top-left":s.pointGeometry.convert(I["top-left"]||[0,0]),"top-right":s.pointGeometry.convert(I["top-right"]||[0,0]),bottom:s.pointGeometry.convert(I.bottom||[0,0]),"bottom-left":s.pointGeometry.convert(I["bottom-left"]||[0,0]),"bottom-right":s.pointGeometry.convert(I["bottom-right"]||[0,0]),left:s.pointGeometry.convert(I.left||[0,0]),right:s.pointGeometry.convert(I.right||[0,0])}}return ud(new s.pointGeometry(0,0))}const Eh={supported:h,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:class extends rm{constructor(I){var c;if(s.PerformanceUtils.mark(s.PerformanceMarkers.create),(I=s.extend({},e_,I)).minZoom!=null&&I.maxZoom!=null&&I.minZoom>I.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(I.minPitch!=null&&I.maxPitch!=null&&I.minPitch>I.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(I.minPitch!=null&&I.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(I.maxPitch!=null&&I.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new tm(I.minZoom,I.maxZoom,I.minPitch,I.maxPitch,I.renderWorldCopies),{bearingSnap:I.bearingSnap}),this._interactive=I.interactive,this._cooperativeGestures=I.cooperativeGestures,this._maxTileCacheSize=I.maxTileCacheSize,this._failIfMajorPerformanceCaveat=I.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=I.preserveDrawingBuffer,this._antialias=I.antialias,this._trackResize=I.trackResize,this._bearingSnap=I.bearingSnap,this._refreshExpiredTiles=I.refreshExpiredTiles,this._fadeDuration=I.fadeDuration,this._crossSourceCollisions=I.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=I.collectResourceTiming,this._renderTaskQueue=new Gv,this._controls=[],this._mapId=s.uniqueId(),this._locale=s.extend({},Yv,I.locale),this._clickTolerance=I.clickTolerance,this._pixelRatio=(c=I.pixelRatio)!==null&&c!==void 0?c:devicePixelRatio,this._requestManager=new _(I.transformRequest),typeof I.container=="string"){if(this._container=document.getElementById(I.container),!this._container)throw new Error(`Container '${I.container}' not found.`)}else{if(!(I.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=I.container}if(I.maxBounds&&this.setMaxBounds(I.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),typeof window<"u"&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Mo(this,I),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=I.hash&&new Pv(typeof I.hash=="string"&&I.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:I.center,zoom:I.zoom,bearing:I.bearing,pitch:I.pitch}),I.bounds&&(this.resize(),this.fitBounds(I.bounds,s.extend({},I.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=I.localIdeographFontFamily,I.style&&this.setStyle(I.style,{localIdeographFontFamily:I.localIdeographFontFamily}),I.attributionControl&&this.addControl(new am({customAttribution:I.customAttribution})),I.maplibreLogo&&this.addControl(new xg,I.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",m=>{this._update(m.dataType==="style"),this.fire(new s.Event(`${m.dataType}data`,m))}),this.on("dataloading",m=>{this.fire(new s.Event(`${m.dataType}dataloading`,m))}),this.on("dataabort",m=>{this.fire(new s.Event("sourcedataabort",m))})}_getMapId(){return this._mapId}addControl(I,c){if(c===void 0&&(c=I.getDefaultPosition?I.getDefaultPosition():"top-right"),!I||!I.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const m=I.onAdd(this);this._controls.push(I);const S=this._controlPositions[c];return c.indexOf("bottom")!==-1?S.insertBefore(m,S.firstChild):S.appendChild(m),this}removeControl(I){if(!I||!I.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(I);return c>-1&&this._controls.splice(c,1),I.onRemove(this),this}hasControl(I){return this._controls.indexOf(I)>-1}calculateCameraOptionsFromTo(I,c,m,S){return S==null&&this.style.terrain&&(S=this.transform.getElevation(m,this.style.terrain)),super.calculateCameraOptionsFromTo(I,c,m,S)}resize(I){const c=this._containerDimensions(),m=c[0],S=c[1];this._resizeCanvas(m,S,this.getPixelRatio()),this.transform.resize(m,S),this.painter.resize(m,S,this.getPixelRatio());const P=!this._moving;return P&&(this.stop(),this.fire(new s.Event("movestart",I)).fire(new s.Event("move",I))),this.fire(new s.Event("resize",I)),P&&this.fire(new s.Event("moveend",I)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(I){const[c,m]=this._containerDimensions();this._pixelRatio=I,this._resizeCanvas(c,m,I),this.painter.resize(c,m,I)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(I){return this.transform.setMaxBounds(s.LngLatBounds.convert(I)),this._update()}setMinZoom(I){if((I=I??-2)>=-2&&I<=this.transform.maxZoom)return this.transform.minZoom=I,this._update(),this.getZoom()<I&&this.setZoom(I),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(I){if((I=I??22)>=this.transform.minZoom)return this.transform.maxZoom=I,this._update(),this.getZoom()>I&&this.setZoom(I),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(I){if((I=I??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(I>=0&&I<=this.transform.maxPitch)return this.transform.minPitch=I,this._update(),this.getPitch()<I&&this.setPitch(I),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(I){if((I=I??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(I>=this.transform.minPitch)return this.transform.maxPitch=I,this._update(),this.getPitch()>I&&this.setPitch(I),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(I){return this.transform.renderWorldCopies=I,this._update()}project(I){return this.transform.locationPoint(s.LngLat.convert(I),this.style&&this.style.terrain)}unproject(I){return this.transform.pointLocation(s.pointGeometry.convert(I),this.style&&this.style.terrain)}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(I,c,m){if(I==="mouseenter"||I==="mouseover"){let S=!1;return{layer:c,listener:m,delegates:{mousemove:F=>{const ee=this.getLayer(c)?this.queryRenderedFeatures(F.point,{layers:[c]}):[];ee.length?S||(S=!0,m.call(this,new ao(I,this,F.originalEvent,{features:ee}))):S=!1},mouseout:()=>{S=!1}}}}if(I==="mouseleave"||I==="mouseout"){let S=!1;return{layer:c,listener:m,delegates:{mousemove:ee=>{(this.getLayer(c)?this.queryRenderedFeatures(ee.point,{layers:[c]}):[]).length?S=!0:S&&(S=!1,m.call(this,new ao(I,this,ee.originalEvent)))},mouseout:ee=>{S&&(S=!1,m.call(this,new ao(I,this,ee.originalEvent)))}}}}{const S=P=>{const F=this.getLayer(c)?this.queryRenderedFeatures(P.point,{layers:[c]}):[];F.length&&(P.features=F,m.call(this,P),delete P.features)};return{layer:c,listener:m,delegates:{[I]:S}}}}on(I,c,m){if(m===void 0)return super.on(I,c);const S=this._createDelegatedListener(I,c,m);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[I]=this._delegatedListeners[I]||[],this._delegatedListeners[I].push(S);for(const P in S.delegates)this.on(P,S.delegates[P]);return this}once(I,c,m){if(m===void 0)return super.once(I,c);const S=this._createDelegatedListener(I,c,m);for(const P in S.delegates)this.once(P,S.delegates[P]);return this}off(I,c,m){return m===void 0?super.off(I,c):(this._delegatedListeners&&this._delegatedListeners[I]&&(S=>{const P=this._delegatedListeners[I];for(let F=0;F<P.length;F++){const ee=P[F];if(ee.layer===c&&ee.listener===m){for(const ue in ee.delegates)this.off(ue,ee.delegates[ue]);return P.splice(F,1),this}}})(),this)}queryRenderedFeatures(I,c){if(!this.style)return[];let m;if(c!==void 0||I===void 0||I instanceof s.pointGeometry||Array.isArray(I)||(c=I,I=void 0),c=c||{},(I=I||[[0,0],[this.transform.width,this.transform.height]])instanceof s.pointGeometry||typeof I[0]=="number")m=[s.pointGeometry.convert(I)];else{const S=s.pointGeometry.convert(I[0]),P=s.pointGeometry.convert(I[1]);m=[S,new s.pointGeometry(P.x,S.y),P,new s.pointGeometry(S.x,P.y),S]}return this.style.queryRenderedFeatures(m,c,this.transform)}querySourceFeatures(I,c){return this.style.querySourceFeatures(I,c)}setStyle(I,c){return(c=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&I?(this._diffStyle(I,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(I,c))}setTransformRequest(I){return this._requestManager.setTransformRequest(I),this}_getUIString(I){const c=this._locale[I];if(c==null)throw new Error(`Missing UI string '${I}'`);return c}_updateStyle(I,c){return this.style&&(this.style.setEventedParent(null),this.style._remove()),I?(this.style=new ma(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof I=="string"?this.style.loadURL(I):this.style.loadJSON(I),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ma(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(I,c){if(typeof I=="string"){const m=this._requestManager.transformRequest(I,s.ResourceType.Style);s.getJSON(m,(S,P)=>{S?this.fire(new s.ErrorEvent(S)):P&&this._updateDiff(P,c)})}else typeof I=="object"&&this._updateDiff(I,c)}_updateDiff(I,c){try{this.style.setState(I)&&this._update(!0)}catch(m){s.warnOnce(`Unable to perform style diff: ${m.message||m.error||m}.  Rebuilding the style from scratch.`),this._updateStyle(I,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():s.warnOnce("There is no style added to the map.")}addSource(I,c){return this._lazyInitEmptyStyle(),this.style.addSource(I,c),this._update(!0)}isSourceLoaded(I){const c=this.style&&this.style.sourceCaches[I];if(c!==void 0)return c.loaded();this.fire(new s.ErrorEvent(new Error(`There is no source with ID '${I}'`)))}setTerrain(I){return this.style.setTerrain(I),this}getTerrain(){return this.style.terrain&&this.style.terrain.options}areTilesLoaded(){const I=this.style&&this.style.sourceCaches;for(const c in I){const m=I[c]._tiles;for(const S in m){const P=m[S];if(P.state!=="loaded"&&P.state!=="errored")return!1}}return!0}addSourceType(I,c,m){return this._lazyInitEmptyStyle(),this.style.addSourceType(I,c,m)}removeSource(I){return this.style.removeSource(I),this._update(!0)}getSource(I){return this.style.getSource(I)}addImage(I,c,{pixelRatio:m=1,sdf:S=!1,stretchX:P,stretchY:F,content:ee}={}){if(this._lazyInitEmptyStyle(),c instanceof HTMLImageElement||s.isImageBitmap(c)){const{width:ue,height:me,data:Te}=s.exported.getImageData(c);this.style.addImage(I,{data:new s.RGBAImage({width:ue,height:me},Te),pixelRatio:m,stretchX:P,stretchY:F,content:ee,sdf:S,version:0})}else{if(c.width===void 0||c.height===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:ue,height:me,data:Te}=c,Ae=c;this.style.addImage(I,{data:new s.RGBAImage({width:ue,height:me},new Uint8Array(Te)),pixelRatio:m,stretchX:P,stretchY:F,content:ee,sdf:S,version:0,userImage:Ae}),Ae.onAdd&&Ae.onAdd(this,I)}}}updateImage(I,c){const m=this.style.getImage(I);if(!m)return this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const S=c instanceof HTMLImageElement||s.isImageBitmap(c)?s.exported.getImageData(c):c,{width:P,height:F,data:ee}=S;if(P===void 0||F===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(P!==m.data.width||F!==m.data.height)return this.fire(new s.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const ue=!(c instanceof HTMLImageElement||s.isImageBitmap(c));m.data.replace(ee,ue),this.style.updateImage(I,m)}hasImage(I){return I?!!this.style.getImage(I):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(I){this.style.removeImage(I)}loadImage(I,c){s.getImage(this._requestManager.transformRequest(I,s.ResourceType.Image),c)}listImages(){return this.style.listImages()}addLayer(I,c){return this._lazyInitEmptyStyle(),this.style.addLayer(I,c),this._update(!0)}moveLayer(I,c){return this.style.moveLayer(I,c),this._update(!0)}removeLayer(I){return this.style.removeLayer(I),this._update(!0)}getLayer(I){return this.style.getLayer(I)}setLayerZoomRange(I,c,m){return this.style.setLayerZoomRange(I,c,m),this._update(!0)}setFilter(I,c,m={}){return this.style.setFilter(I,c,m),this._update(!0)}getFilter(I){return this.style.getFilter(I)}setPaintProperty(I,c,m,S={}){return this.style.setPaintProperty(I,c,m,S),this._update(!0)}getPaintProperty(I,c){return this.style.getPaintProperty(I,c)}setLayoutProperty(I,c,m,S={}){return this.style.setLayoutProperty(I,c,m,S),this._update(!0)}getLayoutProperty(I,c){return this.style.getLayoutProperty(I,c)}setLight(I,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(I,c),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(I,c){return this.style.setFeatureState(I,c),this._update()}removeFeatureState(I,c){return this.style.removeFeatureState(I,c),this._update()}getFeatureState(I){return this.style.getFeatureState(I)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let I=0,c=0;return this._container&&(I=this._container.clientWidth||400,c=this._container.clientHeight||300),[I,c]}_setupContainer(){const I=this._container;I.classList.add("maplibregl-map","mapboxgl-map");const c=this._canvasContainer=g.create("div","maplibregl-canvas-container mapboxgl-canvas-container",I);this._interactive&&c.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=g.create("canvas","maplibregl-canvas mapboxgl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const m=this._containerDimensions();this._resizeCanvas(m[0],m[1],this.getPixelRatio());const S=this._controlContainer=g.create("div","maplibregl-control-container mapboxgl-control-container",I),P=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(F=>{P[F]=g.create("div",`maplibregl-ctrl-${F} mapboxgl-ctrl-${F}`,S)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){const I=this._container;this._metaPress=!1,this._cooperativeGesturesScreen=g.create("div","maplibregl-cooperative-gesture-screen",I);let c="Control",m=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(m=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map",c="Meta"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${m}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,document.addEventListener("keydown",S=>{S.key===c&&(this._metaPress=!0)}),document.addEventListener("keyup",S=>{S.key===c&&(this._metaPress=!1)}),this._canvasContainer.addEventListener("wheel",S=>{this._onCooperativeGesture(S,this._metaPress,1)},!1),this._canvasContainer.classList.remove("mapboxgl-touch-drag-pan","maplibregl-touch-drag-pan")}_resizeCanvas(I,c,m){this._canvas.width=m*I,this._canvas.height=m*c,this._canvas.style.width=`${I}px`,this._canvas.style.height=`${c}px`}_setupPainter(){const I=s.extend({},h.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),c=this._canvas.getContext("webgl",I)||this._canvas.getContext("experimental-webgl",I);c?(this.painter=new Av(c,this.transform),s.exported$1.testSupport(c)):this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(I){I.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:I}))}_contextRestored(I){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:I}))}_onMapScroll(I){if(I.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(I,c,m){return!c&&m<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(I){return this.style?(this._styleDirty=this._styleDirty||I,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(I){return this._update(),this._renderTaskQueue.add(I)}_cancelRenderFrame(I){this._renderTaskQueue.remove(I)}_render(I){let c,m=0;const S=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(c=S.createQueryEXT(),S.beginQueryEXT(S.TIME_ELAPSED_EXT,c),m=s.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(I),this._removed)return;let P=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const ee=this.transform.zoom,ue=s.exported.now();this.style.zoomHistory.update(ee,ue);const me=new s.EvaluationParameters(ee,{now:ue,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Te=me.crossFadingFactor();Te===1&&Te===this._crossFadingFactor||(P=!0,this._crossFadingFactor=Te),this.style.update(me)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.style.terrain&&this.style.terrain.sourceCache.update(this.transform,this.style.terrain),this.transform.updateElevation(this.style.terrain),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,s.PerformanceUtils.mark(s.PerformanceMarkers.load),this.fire(new s.Event("load"))),this.style&&(this.style.hasTransitions()||P)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const ee=s.exported.now()-m;S.endQueryEXT(S.TIME_ELAPSED_EXT,c),setTimeout(()=>{const ue=S.getQueryObjectEXT(c,S.QUERY_RESULT_EXT)/1e6;S.deleteQueryEXT(c),this.fire(new s.Event("gpu-timing-frame",{cpuTime:ee,gpuTime:ue}))},50)}if(this.listens("gpu-timing-layer")){const ee=this.painter.collectGpuTimers();setTimeout(()=>{const ue=this.painter.queryGpuTimers(ee);this.fire(new s.Event("gpu-timing-layer",{layerTimes:ue}))},50)}const F=this._sourcesDirty||this._styleDirty||this._placementDirty;return F||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.Event("idle")),!this._loaded||this._fullyLoaded||F||(this._fullyLoaded=!0,s.PerformanceUtils.mark(s.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const I=this.painter.context.gl.getExtension("WEBGL_lose_context");I&&I.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),g.remove(this._canvasContainer),g.remove(this._controlContainer),this._cooperativeGestures&&g.remove(this._cooperativeGesturesScreen),this._container.classList.remove("maplibregl-map","mapboxgl-map"),s.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new s.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=s.exported.frame(I=>{s.PerformanceUtils.frame(I),this._frame=null,this._render(I)}))}_onWindowOnline(){this._update()}_onWindowResize(I){this._trackResize&&this.resize({originalEvent:I})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(I){this._showTileBoundaries!==I&&(this._showTileBoundaries=I,this._update())}get showPadding(){return!!this._showPadding}set showPadding(I){this._showPadding!==I&&(this._showPadding=I,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(I){this._showCollisionBoxes!==I&&(this._showCollisionBoxes=I,I?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(I){this._showOverdrawInspector!==I&&(this._showOverdrawInspector=I,this._update())}get repaint(){return!!this._repaint}set repaint(I){this._repaint!==I&&(this._repaint=I,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(I){this._vertices=I,this._update()}_setCacheLimits(I,c){s.setCacheLimits(I,c)}get version(){return"2.4.0"}},NavigationControl:class{constructor(I){this.options=s.extend({},Sl,I),this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",c=>this._map.zoomIn({},{originalEvent:c})),g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",c=>this._map.zoomOut({},{originalEvent:c})),g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",c=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:c}):this._map.resetNorth({},{originalEvent:c})}),this._compassIcon=g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const I=this._map.getZoom(),c=I===this._map.getMaxZoom(),m=I===this._map.getMinZoom();this._zoomInButton.disabled=c,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",c.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())}_rotateCompassArrow(){const I=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=I}onAdd(I){return this._map=I,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new sm(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){g.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(I,c){const m=g.create("button",I,this._container);return m.type="button",m.addEventListener("click",c),m}_setButtonTitle(I,c){const m=this._map._getUIString(`NavigationControl.${c}`);I.title=m,I.setAttribute("aria-label",m)}},GeolocateControl:class extends s.Evented{constructor(I){super(),this.options=s.extend({},bg,I),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(I){var c;return this._map=I,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),c=this._setupUI,fa!==void 0?c(fa):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(m=>{fa=m.state!=="denied",c(fa)}):(fa=!!window.navigator.geolocation,c(fa)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),g.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,gu=0,Gs=!1}_isOutOfMapMaxBounds(I){const c=this._map.getMaxBounds(),m=I.coords;return c&&(m.longitude<c.getWest()||m.longitude>c.getEast()||m.latitude<c.getSouth()||m.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(I){if(this._map){if(this._isOutOfMapMaxBounds(I))return this._setErrorState(),this.fire(new s.Event("outofmaxbounds",I)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=I,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(I),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(I),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",I)),this._finish()}}_updateCamera(I){const c=new s.LngLat(I.coords.longitude,I.coords.latitude),m=I.coords.accuracy,S=this._map.getBearing(),P=s.extend({bearing:S},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(m),P,{geolocateSource:!0})}_updateMarker(I){if(I){const c=new s.LngLat(I.coords.longitude,I.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=I.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const I=this._map._container.clientHeight/2,c=this._map.unproject([0,I]),m=this._map.unproject([1,I]),S=c.distanceTo(m),P=Math.ceil(2*this._accuracy/S);this._circleElement.style.width=`${P}px`,this._circleElement.style.height=`${P}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(I){if(this._map){if(this.options.trackUserLocation)if(I.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(I.code===3&&Gs)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",I)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(I){if(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=g.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",I===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=g.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new Sh(this._dotElement),this._circleElement=g.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Sh({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new s.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":gu--,Gs=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let I;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),gu++,gu>1?(I={maximumAge:6e5,timeout:0},Gs=!0):(I=this.options.positionOptions,Gs=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,I)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:am,LogoControl:xg,ScaleControl:class{constructor(I){this.options=s.extend({},t_,I),s.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Ch(this._map,this._container,this.options)}onAdd(I){return this._map=I,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",I.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){g.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(I){this.options.unit=I,Ch(this._map,this._container,this.options)}},FullscreenControl:class{constructor(I){this._fullscreen=!1,I&&I.container&&(I.container instanceof HTMLElement?this._container=I.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(I){return this._map=I,this._container||(this._container=this._map.getContainer()),this._controlContainer=g.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){g.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const I=this._fullscreenButton=g.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",I).setAttribute("aria-hidden","true"),I.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const I=this._getTitle();this._fullscreenButton.setAttribute("aria-label",I),this._fullscreenButton.title=I}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},TerrainControl:class{constructor(I){this.options=I,s.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(I){return this._map=I,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._terrainButton=g.create("button","maplibregl-ctrl-terrain mapboxgl-ctrl-terrain",this._container),g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){g.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._map.style.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends s.Evented{constructor(I){super(),this.options=s.extend(Object.create(ca),I),s.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(I){return this._map&&this.remove(),this._map=I,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new s.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&g.remove(this._content),this._container&&(g.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new s.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(I){return this._lngLat=s.LngLat.convert(I),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(I){return this.setDOMContent(document.createTextNode(I))}setHTML(I){const c=document.createDocumentFragment(),m=document.createElement("body");let S;for(m.innerHTML=I;S=m.firstChild,S;)c.appendChild(S);return this.setDOMContent(c)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(I){return this.options.maxWidth=I,this._update(),this}setDOMContent(I){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=g.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(I),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(I){this._container&&this._container.classList.add(I)}removeClassName(I){this._container&&this._container.classList.remove(I)}setOffset(I){return this.options.offset=I,this._update(),this}toggleClassName(I){if(this._container)return this._container.classList.toggle(I)}_createCloseButton(){this.options.closeButton&&(this._closeButton=g.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(I){this._update(I.point)}_onMouseMove(I){this._update(I.point)}_onDrag(I){this._update(I.point)}_update(I){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=g.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=g.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(F=>this._container.classList.add(F)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Nn(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!I))return;const c=this._pos=this._trackPointer&&I?I:this._map.project(this._lngLat);let m=this.options.anchor;const S=ud(this.options.offset);if(!m){const F=this._container.offsetWidth,ee=this._container.offsetHeight;let ue;ue=c.y+S.bottom.y<ee?["top"]:c.y>this._map.transform.height-ee?["bottom"]:[],c.x<F/2?ue.push("left"):c.x>this._map.transform.width-F/2&&ue.push("right"),m=ue.length===0?"bottom":ue.join("-")}const P=c.add(S[m]).round();g.setTransform(this._container,`${$n[m]} translate(${P.x}px,${P.y}px)`),Th(this._container,m,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const I=this._container.querySelector(Vv);I&&I.focus()}_onClose(){this.remove()}},Marker:Sh,Style:ma,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.pointGeometry,MercatorCoordinate:s.MercatorCoordinate,Evented:s.Evented,AJAXError:s.AJAXError,config:s.config,CanvasSource:te,GeoJSONSource:B,ImageSource:q,RasterDEMTileSource:Y,RasterTileSource:D,VectorTileSource:j,VideoSource:V,prewarm:function(){xe().acquire(Q)},clearPrewarmedResources:function(){const I=fe;I&&(I.isPreloaded()&&I.numActive()===1?(I.release(Q),fe=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return"2.4.0"},get workerCount(){return re.workerCount},set workerCount(I){re.workerCount=I},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(I){s.config.MAX_PARALLEL_IMAGE_REQUESTS=I},clearStorage(I){s.clearTileCache(I)},workerUrl:"",addProtocol(I,c){s.config.REGISTERED_PROTOCOLS[I]=c},removeProtocol(I){delete s.config.REGISTERED_PROTOCOLS[I]}};return gr.extend(Eh,{isSafari:s.isSafari,getPerformanceMetrics:s.PerformanceUtils.getPerformanceMetrics}),Eh});var o=r;return o})})(VA);var Qs=VA.exports,po=63710088e-1,WA={centimeters:po*100,centimetres:po*100,degrees:po/111325,feet:po*3.28084,inches:po*39.37,kilometers:po/1e3,kilometres:po/1e3,meters:po,metres:po,miles:po/1609.344,millimeters:po*1e3,millimetres:po*1e3,nauticalmiles:po/1852,radians:1,yards:po*1.0936};function Zm(n,e,t){t===void 0&&(t={});var i={type:"Feature"};return(t.id===0||t.id)&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.properties=e||{},i.geometry=n,i}function _y(n,e,t){if(t===void 0&&(t={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!bk(n[0])||!bk(n[1]))throw new Error("coordinates must contain numbers");var i={type:"Point",coordinates:n};return Zm(i,e,t)}function HA(n,e,t){t===void 0&&(t={});for(var i=0,r=n;i<r.length;i++){var a=r[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:n};return Zm(s,e,t)}function _6(n,e,t){if(t===void 0&&(t={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");var i={type:"LineString",coordinates:n};return Zm(i,e,t)}function a1(n,e){e===void 0&&(e={});var t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=n,t}function XA(n,e){e===void 0&&(e="kilometers");var t=WA[e];if(!t)throw new Error(e+" units is invalid");return n*t}function ZA(n,e){e===void 0&&(e="kilometers");var t=WA[e];if(!t)throw new Error(e+" units is invalid");return n/t}function xk(n){var e=n%(2*Math.PI);return e*180/Math.PI}function Zh(n){var e=n%360;return e*Math.PI/180}function bk(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function If(n,e,t){if(n!==null)for(var i,r,a,o,s,h,p,f=0,y=0,g,_=n.type,b=_==="FeatureCollection",T=_==="Feature",E=b?n.features.length:1,k=0;k<E;k++){p=b?n.features[k].geometry:T?n.geometry:n,g=p?p.type==="GeometryCollection":!1,s=g?p.geometries.length:1;for(var v=0;v<s;v++){var w=0,N=0;if(o=g?p.geometries[v]:p,o!==null){h=o.coordinates;var C=o.type;switch(f=t&&(C==="Polygon"||C==="MultiPolygon")?1:0,C){case null:break;case"Point":if(e(h,y,k,w,N)===!1)return!1;y++,w++;break;case"LineString":case"MultiPoint":for(i=0;i<h.length;i++){if(e(h[i],y,k,w,N)===!1)return!1;y++,C==="MultiPoint"&&w++}C==="LineString"&&w++;break;case"Polygon":case"MultiLineString":for(i=0;i<h.length;i++){for(r=0;r<h[i].length-f;r++){if(e(h[i][r],y,k,w,N)===!1)return!1;y++}C==="MultiLineString"&&w++,C==="Polygon"&&N++}C==="Polygon"&&w++;break;case"MultiPolygon":for(i=0;i<h.length;i++){for(N=0,r=0;r<h[i].length;r++){for(a=0;a<h[i][r].length-f;a++){if(e(h[i][r][a],y,k,w,N)===!1)return!1;y++}N++}w++}break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(If(o.geometries[i],e,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function _k(n,e){if(n.type==="Feature")e(n,0);else if(n.type==="FeatureCollection")for(var t=0;t<n.features.length&&e(n.features[t],t)!==!1;t++);}function x0(n,e){var t,i,r,a,o,s,h,p,f,y,g=0,_=n.type==="FeatureCollection",b=n.type==="Feature",T=_?n.features.length:1;for(t=0;t<T;t++){for(s=_?n.features[t].geometry:b?n.geometry:n,p=_?n.features[t].properties:b?n.properties:{},f=_?n.features[t].bbox:b?n.bbox:void 0,y=_?n.features[t].id:b?n.id:void 0,h=s?s.type==="GeometryCollection":!1,o=h?s.geometries.length:1,r=0;r<o;r++){if(a=h?s.geometries[r]:s,a===null){if(e(null,g,p,f,y)===!1)return!1;continue}switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(a,g,p,f,y)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<a.geometries.length;i++)if(e(a.geometries[i],g,p,f,y)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}function w6(n,e,t){var i=t;return x0(n,function(r,a,o,s,h){i=e(i,r,a,o,s,h)}),i}function T6(n,e){x0(n,function(t,i,r,a,o){var s=t===null?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return e(Zm(t,r,{bbox:a,id:o}),i,0)===!1?!1:void 0}var h;switch(s){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon";break}for(var p=0;p<t.coordinates.length;p++){var f=t.coordinates[p],y={type:h,coordinates:f};if(e(Zm(y,r),i,p)===!1)return!1}})}function S6(n,e){T6(n,function(t,i,r){var a=0;if(t.geometry){var o=t.geometry.type;if(!(o==="Point"||o==="MultiPoint")){var s,h=0,p=0,f=0;if(If(t,function(y,g,_,b,T){if(s===void 0||i>h||b>p||T>f){s=y,h=i,p=b,f=T,a=0;return}var E=_6([s,y],t.properties);if(e(E,i,r,T,a)===!1)return!1;a++,s=y})===!1)return!1}}})}function C6(n,e,t){var i=t,r=!1;return S6(n,function(a,o,s,h,p){r===!1&&t===void 0?i=a:i=e(i,a,o,s,h,p),r=!0}),i}function wy(n){var e=[1/0,1/0,-1/0,-1/0];return If(n,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}wy.default=wy;let Tx;const E6=new Uint8Array(16);function k6(){if(!Tx&&(Tx=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Tx))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Tx(E6)}const Ss=[];for(let n=0;n<256;++n)Ss.push((n+256).toString(16).slice(1));function L6(n,e=0){return Ss[n[e+0]]+Ss[n[e+1]]+Ss[n[e+2]]+Ss[n[e+3]]+"-"+Ss[n[e+4]]+Ss[n[e+5]]+"-"+Ss[n[e+6]]+Ss[n[e+7]]+"-"+Ss[n[e+8]]+Ss[n[e+9]]+"-"+Ss[n[e+10]]+Ss[n[e+11]]+Ss[n[e+12]]+Ss[n[e+13]]+Ss[n[e+14]]+Ss[n[e+15]]}const N6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wk={randomUUID:N6};function I6(n,e,t){if(wk.randomUUID&&!n)return wk.randomUUID();n=n||{};const i=n.random||(n.rng||k6)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,L6(i)}function Tb(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return n.geometry.coordinates;if(n.type==="Point")return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function A6(n,e){return n.type==="FeatureCollection"?"FeatureCollection":n.type==="GeometryCollection"?"GeometryCollection":n.type==="Feature"&&n.geometry!==null?n.geometry.type:n.type}function P6(n,e,t,i){i===void 0&&(i={});var r=Tb(n),a=Zh(r[0]),o=Zh(r[1]),s=Zh(t),h=ZA(e,i.units),p=Math.asin(Math.sin(o)*Math.cos(h)+Math.cos(o)*Math.sin(h)*Math.cos(s)),f=a+Math.atan2(Math.sin(s)*Math.sin(h)*Math.cos(o),Math.cos(h)-Math.sin(o)*Math.sin(p)),y=xk(f),g=xk(p);return _y([y,g],i.properties)}function M6(n,e,t){t===void 0&&(t={});for(var i=t.steps||64,r=t.properties?t.properties:!Array.isArray(n)&&n.type==="Feature"&&n.properties?n.properties:{},a=[],o=0;o<i;o++)a.push(P6(n,e,o*-360/i,t).geometry.coordinates);return a.push(a[0]),HA([a],r)}function D6(n,e){e===void 0&&(e={});var t=wy(n),i=(t[0]+t[2])/2,r=(t[1]+t[3])/2;return _y([i,r],e.properties,e)}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(this===void 0||this===null)throw new TypeError(this+" is not an object");var t=Object(this),i=Math.max(Math.min(t.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(i+r,0):Math.min(r,i);var a=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:i;for(a=a<0?Math.max(i+arguments[2],0):Math.min(a,i);r<a;)t[r]=e,++r;return t},writable:!0});Number.isFinite=Number.isFinite||function(n){return typeof n=="number"&&isFinite(n)};Number.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};Number.parseFloat=Number.parseFloat||parseFloat;Number.isNaN=Number.isNaN||function(n){return n!==n};Math.trunc=Math.trunc||function(n){return n<0?Math.ceil(n):Math.floor(n)};var cp=function(){};cp.prototype.interfaces_=function(){return[]};cp.prototype.getClass=function(){return cp};cp.prototype.equalsWithTolerance=function(e,t,i){return Math.abs(e-t)<=i};var fr=function(n){function e(t){n.call(this,t),this.name="IllegalArgumentException",this.message=t,this.stack=new n().stack}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),qn=function(){},KA={MAX_VALUE:{configurable:!0}};qn.isNaN=function(e){return Number.isNaN(e)};qn.doubleToLongBits=function(e){return e};qn.longBitsToDouble=function(e){return e};qn.isInfinite=function(e){return!Number.isFinite(e)};KA.MAX_VALUE.get=function(){return Number.MAX_VALUE};Object.defineProperties(qn,KA);var qo=function(){},b0=function(){},Km=function(){};function Wo(){}var bt=function n(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=n.NULL_ORDINATE;else if(arguments.length===1){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=n.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Ip={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};bt.prototype.setOrdinate=function(e,t){switch(e){case bt.X:this.x=t;break;case bt.Y:this.y=t;break;case bt.Z:this.z=t;break;default:throw new fr("Invalid ordinate index: "+e)}};bt.prototype.equals2D=function(){if(arguments.length===1){var e=arguments[0];return!(this.x!==e.x||this.y!==e.y)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];return!(!cp.equalsWithTolerance(this.x,t.x,i)||!cp.equalsWithTolerance(this.y,t.y,i))}};bt.prototype.getOrdinate=function(e){switch(e){case bt.X:return this.x;case bt.Y:return this.y;case bt.Z:return this.z}throw new fr("Invalid ordinate index: "+e)};bt.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||qn.isNaN(this.z))&&qn.isNaN(e.z)};bt.prototype.equals=function(e){return e instanceof bt?this.equals2D(e):!1};bt.prototype.equalInZ=function(e,t){return cp.equalsWithTolerance(this.z,e.z,t)};bt.prototype.compareTo=function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0};bt.prototype.clone=function(){};bt.prototype.copy=function(){return new bt(this)};bt.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};bt.prototype.distance3D=function(e){var t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return Math.sqrt(t*t+i*i+r*r)};bt.prototype.distance=function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)};bt.prototype.hashCode=function(){var e=17;return e=37*e+bt.hashCode(this.x),e=37*e+bt.hashCode(this.y),e};bt.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z};bt.prototype.interfaces_=function(){return[qo,b0,Wo]};bt.prototype.getClass=function(){return bt};bt.hashCode=function(){if(arguments.length===1){var e=arguments[0],t=qn.doubleToLongBits(e);return Math.trunc((t^t)>>>32)}};Ip.DimensionalComparator.get=function(){return Ou};Ip.serialVersionUID.get=function(){return 6683108902428367e3};Ip.NULL_ORDINATE.get=function(){return qn.NaN};Ip.X.get=function(){return 0};Ip.Y.get=function(){return 1};Ip.Z.get=function(){return 2};Object.defineProperties(bt,Ip);var Ou=function(e){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var t=arguments[0];if(t!==2&&t!==3)throw new fr("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}}};Ou.prototype.compare=function(e,t){var i=e,r=t,a=Ou.compare(i.x,r.x);if(a!==0)return a;var o=Ou.compare(i.y,r.y);if(o!==0)return o;if(this._dimensionsToTest<=2)return 0;var s=Ou.compare(i.z,r.z);return s};Ou.prototype.interfaces_=function(){return[Km]};Ou.prototype.getClass=function(){return Ou};Ou.compare=function(e,t){return e<t?-1:e>t?1:qn.isNaN(e)?qn.isNaN(t)?0:-1:qn.isNaN(t)?1:0};var Qm=function(){};Qm.prototype.create=function(){};Qm.prototype.interfaces_=function(){return[]};Qm.prototype.getClass=function(){return Qm};var kt=function(){},rv={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};kt.prototype.interfaces_=function(){return[]};kt.prototype.getClass=function(){return kt};kt.toLocationSymbol=function(e){switch(e){case kt.EXTERIOR:return"e";case kt.BOUNDARY:return"b";case kt.INTERIOR:return"i";case kt.NONE:return"-"}throw new fr("Unknown location value: "+e)};rv.INTERIOR.get=function(){return 0};rv.BOUNDARY.get=function(){return 1};rv.EXTERIOR.get=function(){return 2};rv.NONE.get=function(){return-1};Object.defineProperties(kt,rv);var jn=function(n,e){return n.interfaces_&&n.interfaces_().indexOf(e)>-1},Eo=function(){},QA={LOG_10:{configurable:!0}};Eo.prototype.interfaces_=function(){return[]};Eo.prototype.getClass=function(){return Eo};Eo.log10=function(e){var t=Math.log(e);return qn.isInfinite(t)||qn.isNaN(t)?t:t/Eo.LOG_10};Eo.min=function(e,t,i,r){var a=e;return t<a&&(a=t),i<a&&(a=i),r<a&&(a=r),a};Eo.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],t=arguments[1],i=arguments[2];return e<t?t:e>i?i:e}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],a=arguments[1],o=arguments[2];return r<a?a:r>o?o:r}};Eo.wrap=function(e,t){return e<0?t- -e%t:e%t};Eo.max=function(){if(arguments.length===3){var e=arguments[0],t=arguments[1],i=arguments[2],r=e;return t>r&&(r=t),i>r&&(r=i),r}else if(arguments.length===4){var a=arguments[0],o=arguments[1],s=arguments[2],h=arguments[3],p=a;return o>p&&(p=o),s>p&&(p=s),h>p&&(p=h),p}};Eo.average=function(e,t){return(e+t)/2};QA.LOG_10.get=function(){return Math.log(10)};Object.defineProperties(Eo,QA);var Ql=function(e){this.str=e};Ql.prototype.append=function(e){this.str+=e};Ql.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)};Ql.prototype.toString=function(e){return this.str};var jl=function(e){this.value=e};jl.prototype.intValue=function(){return this.value};jl.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0};jl.isNaN=function(e){return Number.isNaN(e)};var Ty=function(){};Ty.isWhitespace=function(e){return e<=32&&e>=0||e===127};Ty.toUpperCase=function(e){return e.toUpperCase()};var Ot=function n(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof n){var t=arguments[0];this.init(t)}else if(typeof arguments[0]=="string"){var i=arguments[0];n.call(this,n.parse(i))}}else if(arguments.length===2){var r=arguments[0],a=arguments[1];this.init(r,a)}},_l={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Ot.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo};Ot.prototype.extractSignificantDigits=function(e,t){var i=this.abs(),r=Ot.magnitude(i._hi),a=Ot.TEN.pow(r);i=i.divide(a),i.gt(Ot.TEN)?(i=i.divide(Ot.TEN),r+=1):i.lt(Ot.ONE)&&(i=i.multiply(Ot.TEN),r-=1);for(var o=r+1,s=new Ql,h=Ot.MAX_PRINT_DIGITS-1,p=0;p<=h;p++){e&&p===o&&s.append(".");var f=Math.trunc(i._hi);if(f<0)break;var y=!1,g=0;f>9?(y=!0,g="9"):g="0"+f,s.append(g),i=i.subtract(Ot.valueOf(f)).multiply(Ot.TEN),y&&i.selfAdd(Ot.TEN);var _=!0,b=Ot.magnitude(i._hi);if(b<0&&Math.abs(b)>=h-p&&(_=!1),!_)break}return t[0]=r,s.toString()};Ot.prototype.sqr=function(){return this.multiply(this)};Ot.prototype.doubleValue=function(){return this._hi+this._lo};Ot.prototype.subtract=function(){if(arguments[0]instanceof Ot){var e=arguments[0];return this.add(e.negate())}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.add(-t)}};Ot.prototype.equals=function(){if(arguments.length===1){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}};Ot.prototype.isZero=function(){return this._hi===0&&this._lo===0};Ot.prototype.selfSubtract=function(){if(arguments[0]instanceof Ot){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}};Ot.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null};Ot.prototype.min=function(e){return this.le(e)?this:e};Ot.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof Ot){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.selfDivide(t,0)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1],a=null,o=null,s=null,h=null,p=null,f=null,y=null,g=null;return p=this._hi/i,f=Ot.SPLIT*p,a=f-p,g=Ot.SPLIT*i,a=f-a,o=p-a,s=g-i,y=p*i,s=g-s,h=i-s,g=a*s-y+a*h+o*s+o*h,f=(this._hi-y-g+this._lo-p*r)/i,g=p+f,this._hi=g,this._lo=p-g+f,this}};Ot.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"};Ot.prototype.divide=function(){if(arguments[0]instanceof Ot){var e=arguments[0],t=null,i=null,r=null,a=null,o=null,s=null,h=null,p=null;o=this._hi/e._hi,s=Ot.SPLIT*o,t=s-o,p=Ot.SPLIT*e._hi,t=s-t,i=o-t,r=p-e._hi,h=o*e._hi,r=p-r,a=e._hi-r,p=t*r-h+t*a+i*r+i*a,s=(this._hi-h-p+this._lo-o*e._lo)/e._hi,p=o+s;var f=p,y=o-p+s;return new Ot(f,y)}else if(typeof arguments[0]=="number"){var g=arguments[0];return qn.isNaN(g)?Ot.createNaN():Ot.copy(this).selfDivide(g,0)}};Ot.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo};Ot.prototype.pow=function(e){if(e===0)return Ot.valueOf(1);var t=new Ot(this),i=Ot.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2===1&&i.selfMultiply(t),r/=2,r>0&&(t=t.sqr());else i=t;return e<0?i.reciprocal():i};Ot.prototype.ceil=function(){if(this.isNaN())return Ot.NaN;var e=Math.ceil(this._hi),t=0;return e===this._hi&&(t=Math.ceil(this._lo)),new Ot(e,t)};Ot.prototype.compareTo=function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0};Ot.prototype.rint=function(){if(this.isNaN())return this;var e=this.add(.5);return e.floor()};Ot.prototype.setValue=function(){if(arguments[0]instanceof Ot){var e=arguments[0];return this.init(e),this}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.init(t),this}};Ot.prototype.max=function(e){return this.ge(e)?this:e};Ot.prototype.sqrt=function(){if(this.isZero())return Ot.valueOf(0);if(this.isNegative())return Ot.NaN;var e=1/Math.sqrt(this._hi),t=this._hi*e,i=Ot.valueOf(t),r=this.subtract(i.sqr()),a=r._hi*(e*.5);return i.add(a)};Ot.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof Ot){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}else if(typeof arguments[0]=="number"){var t=arguments[0],i=null,r=null,a=null,o=null,s=null,h=null;return a=this._hi+t,s=a-this._hi,o=a-s,o=t-s+(this._hi-o),h=o+this._lo,i=a+h,r=h+(a-i),this._hi=i+r,this._lo=r+(i-this._hi),this}}else if(arguments.length===2){var p=arguments[0],f=arguments[1],y=null,g=null,_=null,b=null,T=null,E=null,k=null,v=null;T=this._hi+p,_=this._lo+f,k=T-this._hi,v=_-this._lo,E=T-k,b=_-v,E=p-k+(this._hi-E),b=f-v+(this._lo-b),k=E+_,y=T+k,g=k+(T-y),k=b+g;var w=y+k,N=k+(y-w);return this._hi=w,this._lo=N,this}};Ot.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof Ot){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.selfMultiply(t,0)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1],a=null,o=null,s=null,h=null,p=null,f=null;p=Ot.SPLIT*this._hi,a=p-this._hi,f=Ot.SPLIT*i,a=p-a,o=this._hi-a,s=f-i,p=this._hi*i,s=f-s,h=i-s,f=a*s-p+a*h+o*s+o*h+(this._hi*r+this._lo*i);var y=p+f;a=p-y;var g=f+a;return this._hi=y,this._lo=g,this}};Ot.prototype.selfSqr=function(){return this.selfMultiply(this)};Ot.prototype.floor=function(){if(this.isNaN())return Ot.NaN;var e=Math.floor(this._hi),t=0;return e===this._hi&&(t=Math.floor(this._lo)),new Ot(e,t)};Ot.prototype.negate=function(){return this.isNaN()?this:new Ot(-this._hi,-this._lo)};Ot.prototype.clone=function(){};Ot.prototype.multiply=function(){if(arguments[0]instanceof Ot){var e=arguments[0];return e.isNaN()?Ot.createNaN():Ot.copy(this).selfMultiply(e)}else if(typeof arguments[0]=="number"){var t=arguments[0];return qn.isNaN(t)?Ot.createNaN():Ot.copy(this).selfMultiply(t,0)}};Ot.prototype.isNaN=function(){return qn.isNaN(this._hi)};Ot.prototype.intValue=function(){return Math.trunc(this._hi)};Ot.prototype.toString=function(){var e=Ot.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()};Ot.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(e!==null)return e;var t=new Array(1).fill(null),i=this.extractSignificantDigits(!0,t),r=t[0]+1,a=i;if(i.charAt(0)===".")a="0"+i;else if(r<0)a="0."+Ot.stringOfChar("0",-r)+i;else if(i.indexOf(".")===-1){var o=r-i.length,s=Ot.stringOfChar("0",o);a=i+s+".0"}return this.isNegative()?"-"+a:a};Ot.prototype.reciprocal=function(){var e=null,t=null,i=null,r=null,a=null,o=null,s=null,h=null;a=1/this._hi,o=Ot.SPLIT*a,e=o-a,h=Ot.SPLIT*this._hi,e=o-e,t=a-e,i=h-this._hi,s=a*this._hi,i=h-i,r=this._hi-i,h=e*i-s+e*r+t*i+t*r,o=(1-s-h-a*this._lo)/this._hi;var p=a+o,f=a-p+o;return new Ot(p,f)};Ot.prototype.toSciNotation=function(){if(this.isZero())return Ot.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(e!==null)return e;var t=new Array(1).fill(null),i=this.extractSignificantDigits(!1,t),r=Ot.SCI_NOT_EXPONENT_CHAR+t[0];if(i.charAt(0)==="0")throw new Error("Found leading zero: "+i);var a="";i.length>1&&(a=i.substring(1));var o=i.charAt(0)+"."+a;return this.isNegative()?"-"+o+r:o+r};Ot.prototype.abs=function(){return this.isNaN()?Ot.NaN:this.isNegative()?this.negate():new Ot(this)};Ot.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0};Ot.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo};Ot.prototype.add=function(){if(arguments[0]instanceof Ot){var e=arguments[0];return Ot.copy(this).selfAdd(e)}else if(typeof arguments[0]=="number"){var t=arguments[0];return Ot.copy(this).selfAdd(t)}};Ot.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof Ot){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this._hi=i,this._lo=r}};Ot.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo};Ot.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0};Ot.prototype.trunc=function(){return this.isNaN()?Ot.NaN:this.isPositive()?this.floor():this.ceil()};Ot.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0};Ot.prototype.interfaces_=function(){return[Wo,qo,b0]};Ot.prototype.getClass=function(){return Ot};Ot.sqr=function(e){return Ot.valueOf(e).selfMultiply(e)};Ot.valueOf=function(){if(typeof arguments[0]=="string"){var e=arguments[0];return Ot.parse(e)}else if(typeof arguments[0]=="number"){var t=arguments[0];return new Ot(t)}};Ot.sqrt=function(e){return Ot.valueOf(e).sqrt()};Ot.parse=function(e){for(var t=0,i=e.length;Ty.isWhitespace(e.charAt(t));)t++;var r=!1;if(t<i){var a=e.charAt(t);(a==="-"||a==="+")&&(t++,a==="-"&&(r=!0))}for(var o=new Ot,s=0,h=0,p=0;!(t>=i);){var f=e.charAt(t);if(t++,Ty.isDigit(f)){var y=f-"0";o.selfMultiply(Ot.TEN),o.selfAdd(y),s++;continue}if(f==="."){h=s;continue}if(f==="e"||f==="E"){var g=e.substring(t);try{p=jl.parseInt(g)}catch(k){throw k instanceof Error?new Error("Invalid exponent "+g+" in string "+e):k}finally{}break}throw new Error("Unexpected character '"+f+"' at position "+t+" in string "+e)}var _=o,b=s-h-p;if(b===0)_=o;else if(b>0){var T=Ot.TEN.pow(b);_=o.divide(T)}else if(b<0){var E=Ot.TEN.pow(-b);_=o.multiply(E)}return r?_.negate():_};Ot.createNaN=function(){return new Ot(qn.NaN,qn.NaN)};Ot.copy=function(e){return new Ot(e)};Ot.magnitude=function(e){var t=Math.abs(e),i=Math.log(t)/Math.log(10),r=Math.trunc(Math.floor(i)),a=Math.pow(10,r);return a*10<=t&&(r+=1),r};Ot.stringOfChar=function(e,t){for(var i=new Ql,r=0;r<t;r++)i.append(e);return i.toString()};_l.PI.get=function(){return new Ot(3.141592653589793,12246467991473532e-32)};_l.TWO_PI.get=function(){return new Ot(6.283185307179586,24492935982947064e-32)};_l.PI_2.get=function(){return new Ot(1.5707963267948966,6123233995736766e-32)};_l.E.get=function(){return new Ot(2.718281828459045,14456468917292502e-32)};_l.NaN.get=function(){return new Ot(qn.NaN,qn.NaN)};_l.EPS.get=function(){return 123259516440783e-46};_l.SPLIT.get=function(){return 134217729};_l.MAX_PRINT_DIGITS.get=function(){return 32};_l.TEN.get=function(){return Ot.valueOf(10)};_l.ONE.get=function(){return Ot.valueOf(1)};_l.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"};_l.SCI_NOT_ZERO.get=function(){return"0.0E0"};Object.defineProperties(Ot,_l);var $s=function(){},JA={DP_SAFE_EPSILON:{configurable:!0}};$s.prototype.interfaces_=function(){return[]};$s.prototype.getClass=function(){return $s};$s.orientationIndex=function(e,t,i){var r=$s.orientationIndexFilter(e,t,i);if(r<=1)return r;var a=Ot.valueOf(t.x).selfAdd(-e.x),o=Ot.valueOf(t.y).selfAdd(-e.y),s=Ot.valueOf(i.x).selfAdd(-t.x),h=Ot.valueOf(i.y).selfAdd(-t.y);return a.selfMultiply(h).selfSubtract(o.selfMultiply(s)).signum()};$s.signOfDet2x2=function(e,t,i,r){var a=e.multiply(r).selfSubtract(t.multiply(i));return a.signum()};$s.intersection=function(e,t,i,r){var a=Ot.valueOf(r.y).selfSubtract(i.y).selfMultiply(Ot.valueOf(t.x).selfSubtract(e.x)),o=Ot.valueOf(r.x).selfSubtract(i.x).selfMultiply(Ot.valueOf(t.y).selfSubtract(e.y)),s=a.subtract(o),h=Ot.valueOf(r.x).selfSubtract(i.x).selfMultiply(Ot.valueOf(e.y).selfSubtract(i.y)),p=Ot.valueOf(r.y).selfSubtract(i.y).selfMultiply(Ot.valueOf(e.x).selfSubtract(i.x)),f=h.subtract(p),y=f.selfDivide(s).doubleValue(),g=Ot.valueOf(e.x).selfAdd(Ot.valueOf(t.x).selfSubtract(e.x).selfMultiply(y)).doubleValue(),_=Ot.valueOf(t.x).selfSubtract(e.x).selfMultiply(Ot.valueOf(e.y).selfSubtract(i.y)),b=Ot.valueOf(t.y).selfSubtract(e.y).selfMultiply(Ot.valueOf(e.x).selfSubtract(i.x)),T=_.subtract(b),E=T.selfDivide(s).doubleValue(),k=Ot.valueOf(i.y).selfAdd(Ot.valueOf(r.y).selfSubtract(i.y).selfMultiply(E)).doubleValue();return new bt(g,k)};$s.orientationIndexFilter=function(e,t,i){var r=null,a=(e.x-i.x)*(t.y-i.y),o=(e.y-i.y)*(t.x-i.x),s=a-o;if(a>0){if(o<=0)return $s.signum(s);r=a+o}else if(a<0){if(o>=0)return $s.signum(s);r=-a-o}else return $s.signum(s);var h=$s.DP_SAFE_EPSILON*r;return s>=h||-s>=h?$s.signum(s):2};$s.signum=function(e){return e>0?1:e<0?-1:0};JA.DP_SAFE_EPSILON.get=function(){return 1e-15};Object.defineProperties($s,JA);var Ti=function(){},av={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};av.X.get=function(){return 0};av.Y.get=function(){return 1};av.Z.get=function(){return 2};av.M.get=function(){return 3};Ti.prototype.setOrdinate=function(e,t,i){};Ti.prototype.size=function(){};Ti.prototype.getOrdinate=function(e,t){};Ti.prototype.getCoordinate=function(){};Ti.prototype.getCoordinateCopy=function(e){};Ti.prototype.getDimension=function(){};Ti.prototype.getX=function(e){};Ti.prototype.clone=function(){};Ti.prototype.expandEnvelope=function(e){};Ti.prototype.copy=function(){};Ti.prototype.getY=function(e){};Ti.prototype.toCoordinateArray=function(){};Ti.prototype.interfaces_=function(){return[b0]};Ti.prototype.getClass=function(){return Ti};Object.defineProperties(Ti,av);var eP=function(){},Af=function(n){function e(){n.call(this,"Projective point not representable on the Cartesian plane.")}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(eP),za=function(){};za.arraycopy=function(e,t,i,r,a){for(var o=0,s=t;s<t+a;s++)i[r+o]=e[s],o++};za.getProperty=function(e){return{"line.separator":`
`}[e]};var hl=function n(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],i=arguments[1];this.x=t,this.y=i,this.w=1}else if(arguments[0]instanceof n&&arguments[1]instanceof n){var r=arguments[0],a=arguments[1];this.x=r.y*a.w-a.y*r.w,this.y=a.x*r.w-r.x*a.w,this.w=r.x*a.y-a.x*r.y}else if(arguments[0]instanceof bt&&arguments[1]instanceof bt){var o=arguments[0],s=arguments[1];this.x=o.y-s.y,this.y=s.x-o.x,this.w=o.x*s.y-s.x*o.y}}else if(arguments.length===3){var h=arguments[0],p=arguments[1],f=arguments[2];this.x=h,this.y=p,this.w=f}else if(arguments.length===4){var y=arguments[0],g=arguments[1],_=arguments[2],b=arguments[3],T=y.y-g.y,E=g.x-y.x,k=y.x*g.y-g.x*y.y,v=_.y-b.y,w=b.x-_.x,N=_.x*b.y-b.x*_.y;this.x=E*N-w*k,this.y=v*k-T*N,this.w=T*w-v*E}};hl.prototype.getY=function(){var e=this.y/this.w;if(qn.isNaN(e)||qn.isInfinite(e))throw new Af;return e};hl.prototype.getX=function(){var e=this.x/this.w;if(qn.isNaN(e)||qn.isInfinite(e))throw new Af;return e};hl.prototype.getCoordinate=function(){var e=new bt;return e.x=this.getX(),e.y=this.getY(),e};hl.prototype.interfaces_=function(){return[]};hl.prototype.getClass=function(){return hl};hl.intersection=function(e,t,i,r){var a=e.y-t.y,o=t.x-e.x,s=e.x*t.y-t.x*e.y,h=i.y-r.y,p=r.x-i.x,f=i.x*r.y-r.x*i.y,y=o*f-p*s,g=h*s-a*f,_=a*p-h*o,b=y/_,T=g/_;if(qn.isNaN(b)||qn.isInfinite(b)||qn.isNaN(T)||qn.isInfinite(T))throw new Af;return new bt(b,T)};var An=function n(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof bt){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof n){var t=arguments[0];this.init(t)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(arguments.length===4){var a=arguments[0],o=arguments[1],s=arguments[2],h=arguments[3];this.init(a,o,s,h)}},tP={serialVersionUID:{configurable:!0}};An.prototype.getArea=function(){return this.getWidth()*this.getHeight()};An.prototype.equals=function(e){if(!(e instanceof An))return!1;var t=e;return this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY()};An.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new An;var t=this._minx>e._minx?this._minx:e._minx,i=this._miny>e._miny?this._miny:e._miny,r=this._maxx<e._maxx?this._maxx:e._maxx,a=this._maxy<e._maxy?this._maxy:e._maxy;return new An(t,r,i,a)};An.prototype.isNull=function(){return this._maxx<this._minx};An.prototype.getMaxX=function(){return this._maxx};An.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof bt){var e=arguments[0];return this.covers(e.x,e.y)}else if(arguments[0]instanceof An){var t=arguments[0];return this.isNull()||t.isNull()?!1:t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.isNull()?!1:i>=this._minx&&i<=this._maxx&&r>=this._miny&&r<=this._maxy}};An.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof An){var e=arguments[0];return this.isNull()||e.isNull()?!1:!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}else if(arguments[0]instanceof bt){var t=arguments[0];return this.intersects(t.x,t.y)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.isNull()?!1:!(i>this._maxx||i<this._minx||r>this._maxy||r<this._miny)}};An.prototype.getMinY=function(){return this._miny};An.prototype.getMinX=function(){return this._minx};An.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof bt){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof An){var t=arguments[0];if(t.isNull())return null;this.isNull()?(this._minx=t.getMinX(),this._maxx=t.getMaxX(),this._miny=t.getMinY(),this._maxy=t.getMaxY()):(t._minx<this._minx&&(this._minx=t._minx),t._maxx>this._maxx&&(this._maxx=t._maxx),t._miny<this._miny&&(this._miny=t._miny),t._maxy>this._maxy&&(this._maxy=t._maxy))}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.isNull()?(this._minx=i,this._maxx=i,this._miny=r,this._maxy=r):(i<this._minx&&(this._minx=i),i>this._maxx&&(this._maxx=i),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}};An.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t};An.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx};An.prototype.compareTo=function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0};An.prototype.translate=function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)};An.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"};An.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1};An.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny};An.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t};An.prototype.expandBy=function(){if(arguments.length===1){var e=arguments[0];this.expandBy(e,e)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=i,this._maxy+=i,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}};An.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof An){var e=arguments[0];return this.covers(e)}else if(arguments[0]instanceof bt){var t=arguments[0];return this.covers(t)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.covers(i,r)}};An.prototype.centre=function(){return this.isNull()?null:new bt((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)};An.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof bt){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof An){var t=arguments[0];this._minx=t._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(arguments.length===4){var a=arguments[0],o=arguments[1],s=arguments[2],h=arguments[3];a<o?(this._minx=a,this._maxx=o):(this._minx=o,this._maxx=a),s<h?(this._miny=s,this._maxy=h):(this._miny=h,this._maxy=s)}};An.prototype.getMaxY=function(){return this._maxy};An.prototype.distance=function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var i=0;return this._maxy<e._miny?i=e._miny-this._maxy:this._miny>e._maxy&&(i=this._miny-e._maxy),t===0?i:i===0?t:Math.sqrt(t*t+i*i)};An.prototype.hashCode=function(){var e=17;return e=37*e+bt.hashCode(this._minx),e=37*e+bt.hashCode(this._maxx),e=37*e+bt.hashCode(this._miny),e=37*e+bt.hashCode(this._maxy),e};An.prototype.interfaces_=function(){return[qo,Wo]};An.prototype.getClass=function(){return An};An.intersects=function(){if(arguments.length===3){var e=arguments[0],t=arguments[1],i=arguments[2];return i.x>=(e.x<t.x?e.x:t.x)&&i.x<=(e.x>t.x?e.x:t.x)&&i.y>=(e.y<t.y?e.y:t.y)&&i.y<=(e.y>t.y?e.y:t.y)}else if(arguments.length===4){var r=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3],h=Math.min(o.x,s.x),p=Math.max(o.x,s.x),f=Math.min(r.x,a.x),y=Math.max(r.x,a.x);return!(f>p||y<h||(h=Math.min(o.y,s.y),p=Math.max(o.y,s.y),f=Math.min(r.y,a.y),y=Math.max(r.y,a.y),f>p)||y<h)}};tP.serialVersionUID.get=function(){return 5873921885273102e3};Object.defineProperties(An,tP);var Il={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},_0=function(e){this.geometryFactory=e||new gi};_0.prototype.read=function(e){var t,i,r;e=e.replace(/[\n\r]/g," ");var a=Il.typeStr.exec(e);if(e.search("EMPTY")!==-1&&(a=Il.emptyTypeStr.exec(e),a[2]=void 0),a&&(i=a[1].toLowerCase(),r=a[2],Mm[i]&&(t=Mm[i].apply(this,[r]))),t===void 0)throw new Error("Could not parse WKT "+e);return t};_0.prototype.write=function(e){return this.extractGeometry(e)};_0.prototype.extractGeometry=function(e){var t=e.getGeometryType().toLowerCase();if(!Rc[t])return null;var i=t.toUpperCase(),r;return e.isEmpty()?r=i+" EMPTY":r=i+"("+Rc[t].apply(this,[e])+")",r};var Rc={coordinate:function(e){return e.x+" "+e.y},point:function(e){return Rc.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var t=this,i=[],r=0,a=e._geometries.length;r<a;++r)i.push("("+Rc.point.apply(t,[e._geometries[r]])+")");return i.join(",")},linestring:function(e){for(var t=this,i=[],r=0,a=e._points._coordinates.length;r<a;++r)i.push(Rc.coordinate.apply(t,[e._points._coordinates[r]]));return i.join(",")},linearring:function(e){for(var t=this,i=[],r=0,a=e._points._coordinates.length;r<a;++r)i.push(Rc.coordinate.apply(t,[e._points._coordinates[r]]));return i.join(",")},multilinestring:function(e){for(var t=this,i=[],r=0,a=e._geometries.length;r<a;++r)i.push("("+Rc.linestring.apply(t,[e._geometries[r]])+")");return i.join(",")},polygon:function(e){var t=this,i=[];i.push("("+Rc.linestring.apply(this,[e._shell])+")");for(var r=0,a=e._holes.length;r<a;++r)i.push("("+Rc.linestring.apply(t,[e._holes[r]])+")");return i.join(",")},multipolygon:function(e){for(var t=this,i=[],r=0,a=e._geometries.length;r<a;++r)i.push("("+Rc.polygon.apply(t,[e._geometries[r]])+")");return i.join(",")},geometrycollection:function(e){for(var t=this,i=[],r=0,a=e._geometries.length;r<a;++r)i.push(t.extractGeometry(e._geometries[r]));return i.join(",")}},Mm={point:function(e){if(e===void 0)return this.geometryFactory.createPoint();var t=e.trim().split(Il.spaces);return this.geometryFactory.createPoint(new bt(Number.parseFloat(t[0]),Number.parseFloat(t[1])))},multipoint:function(e){var t=this;if(e===void 0)return this.geometryFactory.createMultiPoint();for(var i,r=e.trim().split(","),a=[],o=0,s=r.length;o<s;++o)i=r[o].replace(Il.trimParens,"$1"),a.push(Mm.point.apply(t,[i]));return this.geometryFactory.createMultiPoint(a)},linestring:function(e){if(e===void 0)return this.geometryFactory.createLineString();for(var t=e.trim().split(","),i=[],r,a=0,o=t.length;a<o;++a)r=t[a].trim().split(Il.spaces),i.push(new bt(Number.parseFloat(r[0]),Number.parseFloat(r[1])));return this.geometryFactory.createLineString(i)},linearring:function(e){if(e===void 0)return this.geometryFactory.createLinearRing();for(var t=e.trim().split(","),i=[],r,a=0,o=t.length;a<o;++a)r=t[a].trim().split(Il.spaces),i.push(new bt(Number.parseFloat(r[0]),Number.parseFloat(r[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(e){var t=this;if(e===void 0)return this.geometryFactory.createMultiLineString();for(var i,r=e.trim().split(Il.parenComma),a=[],o=0,s=r.length;o<s;++o)i=r[o].replace(Il.trimParens,"$1"),a.push(Mm.linestring.apply(t,[i]));return this.geometryFactory.createMultiLineString(a)},polygon:function(e){var t=this;if(e===void 0)return this.geometryFactory.createPolygon();for(var i,r,a,o=e.trim().split(Il.parenComma),s,h=[],p=0,f=o.length;p<f;++p)i=o[p].replace(Il.trimParens,"$1"),r=Mm.linestring.apply(t,[i]),a=t.geometryFactory.createLinearRing(r._points),p===0?s=a:h.push(a);return this.geometryFactory.createPolygon(s,h)},multipolygon:function(e){var t=this;if(e===void 0)return this.geometryFactory.createMultiPolygon();for(var i,r=e.trim().split(Il.doubleParenComma),a=[],o=0,s=r.length;o<s;++o)i=r[o].replace(Il.trimParens,"$1"),a.push(Mm.polygon.apply(t,[i]));return this.geometryFactory.createMultiPolygon(a)},geometrycollection:function(e){var t=this;if(e===void 0)return this.geometryFactory.createGeometryCollection();e=e.replace(/,\s*([A-Za-z])/g,"|$1");for(var i=e.trim().split("|"),r=[],a=0,o=i.length;a<o;++a)r.push(t.read(i[a]));return this.geometryFactory.createGeometryCollection(r)}},ml=function(e){this.parser=new _0(e)};ml.prototype.write=function(e){return this.parser.write(e)};ml.toLineString=function(e,t){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"};var Xc=function(n){function e(t){n.call(this,t),this.name="RuntimeException",this.message=t,this.stack=new n().stack}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),Sb=function(n){function e(){if(n.call(this),arguments.length===0)n.call(this);else if(arguments.length===1){var t=arguments[0];n.call(this,t)}}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xc),si=function(){};si.prototype.interfaces_=function(){return[]};si.prototype.getClass=function(){return si};si.shouldNeverReachHere=function(){if(arguments.length===0)si.shouldNeverReachHere(null);else if(arguments.length===1){var e=arguments[0];throw new Sb("Should never reach here"+(e!==null?": "+e:""))}};si.isTrue=function(){var e,t;if(arguments.length===1)e=arguments[0],si.isTrue(e,null);else if(arguments.length===2&&(e=arguments[0],t=arguments[1],!e))throw t===null?new Sb:new Sb(t)};si.equals=function(){var e,t,i;if(arguments.length===2)e=arguments[0],t=arguments[1],si.equals(e,t,null);else if(arguments.length===3&&(e=arguments[0],t=arguments[1],i=arguments[2],!t.equals(e)))throw new Sb("Expected "+e+" but encountered "+t+(i!==null?": "+i:""))};var _r=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new bt,this._intPt[1]=new bt,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Ap={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};_r.prototype.getIndexAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]};_r.prototype.getTopologySummary=function(){var e=new Ql;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()};_r.prototype.computeIntersection=function(e,t,i,r){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=i,this._inputLines[1][1]=r,this._result=this.computeIntersect(e,t,i,r)};_r.prototype.getIntersectionNum=function(){return this._result};_r.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var e=arguments[0],t=this.getEdgeDistance(e,0),i=this.getEdgeDistance(e,1);t>i?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}};_r.prototype.isProper=function(){return this.hasIntersection()&&this._isProper};_r.prototype.setPrecisionModel=function(e){this._precisionModel=e};_r.prototype.isInteriorIntersection=function(){var e=this;if(arguments.length===0)return!!(this.isInteriorIntersection(0)||this.isInteriorIntersection(1));if(arguments.length===1){for(var t=arguments[0],i=0;i<this._result;i++)if(!(e._intPt[i].equals2D(e._inputLines[t][0])||e._intPt[i].equals2D(e._inputLines[t][1])))return!0;return!1}};_r.prototype.getIntersection=function(e){return this._intPt[e]};_r.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper};_r.prototype.hasIntersection=function(){return this._result!==_r.NO_INTERSECTION};_r.prototype.getEdgeDistance=function(e,t){var i=_r.computeEdgeDistance(this._intPt[t],this._inputLines[e][0],this._inputLines[e][1]);return i};_r.prototype.isCollinear=function(){return this._result===_r.COLLINEAR_INTERSECTION};_r.prototype.toString=function(){return ml.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+ml.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()};_r.prototype.getEndpoint=function(e,t){return this._inputLines[e][t]};_r.prototype.isIntersection=function(e){for(var t=this,i=0;i<this._result;i++)if(t._intPt[i].equals2D(e))return!0;return!1};_r.prototype.getIntersectionAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]};_r.prototype.interfaces_=function(){return[]};_r.prototype.getClass=function(){return _r};_r.computeEdgeDistance=function(e,t,i){var r=Math.abs(i.x-t.x),a=Math.abs(i.y-t.y),o=-1;if(e.equals(t))o=0;else if(e.equals(i))r>a?o=r:o=a;else{var s=Math.abs(e.x-t.x),h=Math.abs(e.y-t.y);r>a?o=s:o=h,o===0&&!e.equals(t)&&(o=Math.max(s,h))}return si.isTrue(!(o===0&&!e.equals(t)),"Bad distance calculation"),o};_r.nonRobustComputeEdgeDistance=function(e,t,i){var r=e.x-t.x,a=e.y-t.y,o=Math.sqrt(r*r+a*a);return si.isTrue(!(o===0&&!e.equals(t)),"Invalid distance calculation"),o};Ap.DONT_INTERSECT.get=function(){return 0};Ap.DO_INTERSECT.get=function(){return 1};Ap.COLLINEAR.get=function(){return 2};Ap.NO_INTERSECTION.get=function(){return 0};Ap.POINT_INTERSECTION.get=function(){return 1};Ap.COLLINEAR_INTERSECTION.get=function(){return 2};Object.defineProperties(_r,Ap);var ih=function(n){function e(){n.apply(this,arguments)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(i){var r=new An(this._inputLines[0][0],this._inputLines[0][1]),a=new An(this._inputLines[1][0],this._inputLines[1][1]);return r.contains(i)&&a.contains(i)},e.prototype.computeIntersection=function(){if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];if(this._isProper=!1,An.intersects(r,a,i)&&ln.orientationIndex(r,a,i)===0&&ln.orientationIndex(a,r,i)===0)return this._isProper=!0,(i.equals(r)||i.equals(a))&&(this._isProper=!1),this._result=n.POINT_INTERSECTION,null;this._result=n.NO_INTERSECTION}else return n.prototype.computeIntersection.apply(this,arguments)},e.prototype.normalizeToMinimum=function(i,r,a,o,s){s.x=this.smallestInAbsValue(i.x,r.x,a.x,o.x),s.y=this.smallestInAbsValue(i.y,r.y,a.y,o.y),i.x-=s.x,i.y-=s.y,r.x-=s.x,r.y-=s.y,a.x-=s.x,a.y-=s.y,o.x-=s.x,o.y-=s.y},e.prototype.safeHCoordinateIntersection=function(i,r,a,o){var s=null;try{s=hl.intersection(i,r,a,o)}catch(h){if(h instanceof Af)s=e.nearestEndpoint(i,r,a,o);else throw h}finally{}return s},e.prototype.intersection=function(i,r,a,o){var s=this.intersectionWithNormalization(i,r,a,o);return this.isInSegmentEnvelopes(s)||(s=new bt(e.nearestEndpoint(i,r,a,o))),this._precisionModel!==null&&this._precisionModel.makePrecise(s),s},e.prototype.smallestInAbsValue=function(i,r,a,o){var s=i,h=Math.abs(s);return Math.abs(r)<h&&(s=r,h=Math.abs(r)),Math.abs(a)<h&&(s=a,h=Math.abs(a)),Math.abs(o)<h&&(s=o),s},e.prototype.checkDD=function(i,r,a,o,s){var h=$s.intersection(i,r,a,o),p=this.isInSegmentEnvelopes(h);za.out.println("DD in env = "+p+"  --------------------- "+h),s.distance(h)>1e-4&&za.out.println("Distance = "+s.distance(h))},e.prototype.intersectionWithNormalization=function(i,r,a,o){var s=new bt(i),h=new bt(r),p=new bt(a),f=new bt(o),y=new bt;this.normalizeToEnvCentre(s,h,p,f,y);var g=this.safeHCoordinateIntersection(s,h,p,f);return g.x+=y.x,g.y+=y.y,g},e.prototype.computeCollinearIntersection=function(i,r,a,o){var s=An.intersects(i,r,a),h=An.intersects(i,r,o),p=An.intersects(a,o,i),f=An.intersects(a,o,r);return s&&h?(this._intPt[0]=a,this._intPt[1]=o,n.COLLINEAR_INTERSECTION):p&&f?(this._intPt[0]=i,this._intPt[1]=r,n.COLLINEAR_INTERSECTION):s&&p?(this._intPt[0]=a,this._intPt[1]=i,a.equals(i)&&!h&&!f?n.POINT_INTERSECTION:n.COLLINEAR_INTERSECTION):s&&f?(this._intPt[0]=a,this._intPt[1]=r,a.equals(r)&&!h&&!p?n.POINT_INTERSECTION:n.COLLINEAR_INTERSECTION):h&&p?(this._intPt[0]=o,this._intPt[1]=i,o.equals(i)&&!s&&!f?n.POINT_INTERSECTION:n.COLLINEAR_INTERSECTION):h&&f?(this._intPt[0]=o,this._intPt[1]=r,o.equals(r)&&!s&&!p?n.POINT_INTERSECTION:n.COLLINEAR_INTERSECTION):n.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(i,r,a,o,s){var h=i.x<r.x?i.x:r.x,p=i.y<r.y?i.y:r.y,f=i.x>r.x?i.x:r.x,y=i.y>r.y?i.y:r.y,g=a.x<o.x?a.x:o.x,_=a.y<o.y?a.y:o.y,b=a.x>o.x?a.x:o.x,T=a.y>o.y?a.y:o.y,E=h>g?h:g,k=f<b?f:b,v=p>_?p:_,w=y<T?y:T,N=(E+k)/2,C=(v+w)/2;s.x=N,s.y=C,i.x-=s.x,i.y-=s.y,r.x-=s.x,r.y-=s.y,a.x-=s.x,a.y-=s.y,o.x-=s.x,o.y-=s.y},e.prototype.computeIntersect=function(i,r,a,o){if(this._isProper=!1,!An.intersects(i,r,a,o))return n.NO_INTERSECTION;var s=ln.orientationIndex(i,r,a),h=ln.orientationIndex(i,r,o);if(s>0&&h>0||s<0&&h<0)return n.NO_INTERSECTION;var p=ln.orientationIndex(a,o,i),f=ln.orientationIndex(a,o,r);if(p>0&&f>0||p<0&&f<0)return n.NO_INTERSECTION;var y=s===0&&h===0&&p===0&&f===0;return y?this.computeCollinearIntersection(i,r,a,o):(s===0||h===0||p===0||f===0?(this._isProper=!1,i.equals2D(a)||i.equals2D(o)?this._intPt[0]=i:r.equals2D(a)||r.equals2D(o)?this._intPt[0]=r:s===0?this._intPt[0]=new bt(a):h===0?this._intPt[0]=new bt(o):p===0?this._intPt[0]=new bt(i):f===0&&(this._intPt[0]=new bt(r))):(this._isProper=!0,this._intPt[0]=this.intersection(i,r,a,o)),n.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(i,r,a,o){var s=i,h=ln.distancePointLine(i,a,o),p=ln.distancePointLine(r,a,o);return p<h&&(h=p,s=r),p=ln.distancePointLine(a,i,r),p<h&&(h=p,s=a),p=ln.distancePointLine(o,i,r),p<h&&(h=p,s=o),s},e}(_r),up=function(){};up.prototype.interfaces_=function(){return[]};up.prototype.getClass=function(){return up};up.orientationIndex=function(e,t,i){var r=t.x-e.x,a=t.y-e.y,o=i.x-t.x,s=i.y-t.y;return up.signOfDet2x2(r,a,o,s)};up.signOfDet2x2=function(e,t,i,r){var a=null,o=null,s=null;if(a=1,e===0||r===0)return t===0||i===0?0:t>0?i>0?-a:a:i>0?a:-a;if(t===0||i===0)return r>0?e>0?a:-a:e>0?-a:a;if(t>0?r>0?t<=r||(a=-a,o=e,e=i,i=o,o=t,t=r,r=o):t<=-r?(a=-a,i=-i,r=-r):(o=e,e=-i,i=o,o=t,t=-r,r=o):r>0?-t<=r?(a=-a,e=-e,t=-t):(o=-e,e=i,i=o,o=-t,t=r,r=o):t>=r?(e=-e,t=-t,i=-i,r=-r):(a=-a,o=-e,e=-i,i=o,o=-t,t=-r,r=o),e>0)if(i>0){if(!(e<=i))return a}else return a;else{if(i>0)return-a;if(e>=i)a=-a,e=-e,i=-i;else return-a}for(;;){if(s=Math.floor(i/e),i=i-s*e,r=r-s*t,r<0)return-a;if(r>t)return a;if(e>i+i){if(t<r+r)return a}else{if(t>r+r)return-a;i=e-i,r=t-r,a=-a}if(r===0)return i===0?0:-a;if(i===0||(s=Math.floor(e/i),e=e-s*i,t=t-s*r,t<0))return a;if(t>r)return-a;if(i>e+e){if(r<t+t)return-a}else{if(r>t+t)return a;e=i-e,t=r-t,a=-a}if(t===0)return e===0?0:a;if(e===0)return-a}};var zl=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};zl.prototype.countSegment=function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var i=e.x,r=t.x;return i>r&&(i=t.x,r=e.x),this._p.x>=i&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var a=e.x-this._p.x,o=e.y-this._p.y,s=t.x-this._p.x,h=t.y-this._p.y,p=up.signOfDet2x2(a,o,s,h);if(p===0)return this._isPointOnSegment=!0,null;h<o&&(p=-p),p>0&&this._crossingCount++}};zl.prototype.isPointInPolygon=function(){return this.getLocation()!==kt.EXTERIOR};zl.prototype.getLocation=function(){return this._isPointOnSegment?kt.BOUNDARY:this._crossingCount%2===1?kt.INTERIOR:kt.EXTERIOR};zl.prototype.isOnSegment=function(){return this._isPointOnSegment};zl.prototype.interfaces_=function(){return[]};zl.prototype.getClass=function(){return zl};zl.locatePointInRing=function(){if(arguments[0]instanceof bt&&jn(arguments[1],Ti)){for(var e=arguments[0],t=arguments[1],i=new zl(e),r=new bt,a=new bt,o=1;o<t.size();o++)if(t.getCoordinate(o,r),t.getCoordinate(o-1,a),i.countSegment(r,a),i.isOnSegment())return i.getLocation();return i.getLocation()}else if(arguments[0]instanceof bt&&arguments[1]instanceof Array){for(var s=arguments[0],h=arguments[1],p=new zl(s),f=1;f<h.length;f++){var y=h[f],g=h[f-1];if(p.countSegment(y,g),p.isOnSegment())return p.getLocation()}return p.getLocation()}};var ln=function(){},Pp={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};ln.prototype.interfaces_=function(){return[]};ln.prototype.getClass=function(){return ln};ln.orientationIndex=function(e,t,i){return $s.orientationIndex(e,t,i)};ln.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,i=e[0].x,r=1;r<e.length-1;r++){var a=e[r].x-i,o=e[r+1].y,s=e[r-1].y;t+=a*(s-o)}return t/2}else if(jn(arguments[0],Ti)){var h=arguments[0],p=h.size();if(p<3)return 0;var f=new bt,y=new bt,g=new bt;h.getCoordinate(0,y),h.getCoordinate(1,g);var _=y.x;g.x-=_;for(var b=0,T=1;T<p-1;T++)f.y=y.y,y.x=g.x,y.y=g.y,h.getCoordinate(T+1,g),g.x-=_,b+=y.x*(f.y-g.y);return b/2}};ln.distanceLineLine=function(e,t,i,r){if(e.equals(t))return ln.distancePointLine(e,i,r);if(i.equals(r))return ln.distancePointLine(r,e,t);var a=!1;if(!An.intersects(e,t,i,r))a=!0;else{var o=(t.x-e.x)*(r.y-i.y)-(t.y-e.y)*(r.x-i.x);if(o===0)a=!0;else{var s=(e.y-i.y)*(r.x-i.x)-(e.x-i.x)*(r.y-i.y),h=(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y),p=h/o,f=s/o;(f<0||f>1||p<0||p>1)&&(a=!0)}}return a?Eo.min(ln.distancePointLine(e,i,r),ln.distancePointLine(t,i,r),ln.distancePointLine(i,e,t),ln.distancePointLine(r,e,t)):0};ln.isPointInRing=function(e,t){return ln.locatePointInRing(e,t)!==kt.EXTERIOR};ln.computeLength=function(e){var t=e.size();if(t<=1)return 0;var i=0,r=new bt;e.getCoordinate(0,r);for(var a=r.x,o=r.y,s=1;s<t;s++){e.getCoordinate(s,r);var h=r.x,p=r.y,f=h-a,y=p-o;i+=Math.sqrt(f*f+y*y),a=h,o=p}return i};ln.isCCW=function(e){var t=e.length-1;if(t<3)throw new fr("Ring has fewer than 4 points, so orientation cannot be determined");for(var i=e[0],r=0,a=1;a<=t;a++){var o=e[a];o.y>i.y&&(i=o,r=a)}var s=r;do s=s-1,s<0&&(s=t);while(e[s].equals2D(i)&&s!==r);var h=r;do h=(h+1)%t;while(e[h].equals2D(i)&&h!==r);var p=e[s],f=e[h];if(p.equals2D(i)||f.equals2D(i)||p.equals2D(f))return!1;var y=ln.computeOrientation(p,i,f),g=!1;return y===0?g=p.x>f.x:g=y>0,g};ln.locatePointInRing=function(e,t){return zl.locatePointInRing(e,t)};ln.distancePointLinePerpendicular=function(e,t,i){var r=(i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y),a=((t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y))/r;return Math.abs(a)*Math.sqrt(r)};ln.computeOrientation=function(e,t,i){return ln.orientationIndex(e,t,i)};ln.distancePointLine=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1];if(t.length===0)throw new fr("Line array must contain at least one vertex");for(var i=e.distance(t[0]),r=0;r<t.length-1;r++){var a=ln.distancePointLine(e,t[r],t[r+1]);a<i&&(i=a)}return i}else if(arguments.length===3){var o=arguments[0],s=arguments[1],h=arguments[2];if(s.x===h.x&&s.y===h.y)return o.distance(s);var p=(h.x-s.x)*(h.x-s.x)+(h.y-s.y)*(h.y-s.y),f=((o.x-s.x)*(h.x-s.x)+(o.y-s.y)*(h.y-s.y))/p;if(f<=0)return o.distance(s);if(f>=1)return o.distance(h);var y=((s.y-o.y)*(h.x-s.x)-(s.x-o.x)*(h.y-s.y))/p;return Math.abs(y)*Math.sqrt(p)}};ln.isOnLine=function(e,t){for(var i=new ih,r=1;r<t.length;r++){var a=t[r-1],o=t[r];if(i.computeIntersection(e,a,o),i.hasIntersection())return!0}return!1};Pp.CLOCKWISE.get=function(){return-1};Pp.RIGHT.get=function(){return ln.CLOCKWISE};Pp.COUNTERCLOCKWISE.get=function(){return 1};Pp.LEFT.get=function(){return ln.COUNTERCLOCKWISE};Pp.COLLINEAR.get=function(){return 0};Pp.STRAIGHT.get=function(){return ln.COLLINEAR};Object.defineProperties(ln,Pp);var Zc=function(){};Zc.prototype.filter=function(e){};Zc.prototype.interfaces_=function(){return[]};Zc.prototype.getClass=function(){return Zc};var Bn=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},wc={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Bn.prototype.isGeometryCollection=function(){return this.getSortIndex()===Bn.SORTINDEX_GEOMETRYCOLLECTION};Bn.prototype.getFactory=function(){return this._factory};Bn.prototype.getGeometryN=function(e){return this};Bn.prototype.getArea=function(){return 0};Bn.prototype.isRectangle=function(){return!1};Bn.prototype.equals=function(){if(arguments[0]instanceof Bn){var e=arguments[0];return e===null?!1:this.equalsTopo(e)}else if(arguments[0]instanceof Object){var t=arguments[0];if(!(t instanceof Bn))return!1;var i=t;return this.equalsExact(i)}};Bn.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)};Bn.prototype.geometryChanged=function(){this.apply(Bn.geometryChangedFilter)};Bn.prototype.geometryChangedAction=function(){this._envelope=null};Bn.prototype.equalsNorm=function(e){return e===null?!1:this.norm().equalsExact(e.norm())};Bn.prototype.getLength=function(){return 0};Bn.prototype.getNumGeometries=function(){return 1};Bn.prototype.compareTo=function(){if(arguments.length===1){var e=arguments[0],t=e;return this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.getSortIndex()!==i.getSortIndex()?this.getSortIndex()-i.getSortIndex():this.isEmpty()&&i.isEmpty()?0:this.isEmpty()?-1:i.isEmpty()?1:this.compareToSameClass(i,r)}};Bn.prototype.getUserData=function(){return this._userData};Bn.prototype.getSRID=function(){return this._SRID};Bn.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())};Bn.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===Bn.SORTINDEX_GEOMETRYCOLLECTION)throw new fr("This method does not support GeometryCollection arguments")};Bn.prototype.equal=function(e,t,i){return i===0?e.equals(t):e.distance(t)<=i};Bn.prototype.norm=function(){var e=this.copy();return e.normalize(),e};Bn.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()};Bn.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new An(this._envelope)};Bn.prototype.setSRID=function(e){this._SRID=e};Bn.prototype.setUserData=function(e){this._userData=e};Bn.prototype.compare=function(e,t){for(var i=e.iterator(),r=t.iterator();i.hasNext()&&r.hasNext();){var a=i.next(),o=r.next(),s=a.compareTo(o);if(s!==0)return s}return i.hasNext()?1:r.hasNext()?-1:0};Bn.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()};Bn.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Bn.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Bn.SORTINDEX_MULTIPOINT||this.getSortIndex()===Bn.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Bn.SORTINDEX_MULTIPOLYGON};Bn.prototype.interfaces_=function(){return[b0,qo,Wo]};Bn.prototype.getClass=function(){return Bn};Bn.hasNonEmptyElements=function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1};Bn.hasNullElements=function(e){for(var t=0;t<e.length;t++)if(e[t]===null)return!0;return!1};wc.serialVersionUID.get=function(){return 8763622679187377e3};wc.SORTINDEX_POINT.get=function(){return 0};wc.SORTINDEX_MULTIPOINT.get=function(){return 1};wc.SORTINDEX_LINESTRING.get=function(){return 2};wc.SORTINDEX_LINEARRING.get=function(){return 3};wc.SORTINDEX_MULTILINESTRING.get=function(){return 4};wc.SORTINDEX_POLYGON.get=function(){return 5};wc.SORTINDEX_MULTIPOLYGON.get=function(){return 6};wc.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7};wc.geometryChangedFilter.get=function(){return $T};Object.defineProperties(Bn,wc);var $T=function(){};$T.interfaces_=function(){return[Zc]};$T.filter=function(e){e.geometryChangedAction()};var pc=function(){};pc.prototype.filter=function(e){};pc.prototype.interfaces_=function(){return[]};pc.prototype.getClass=function(){return pc};var Go=function(){},ou={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Go.prototype.isInBoundary=function(e){};Go.prototype.interfaces_=function(){return[]};Go.prototype.getClass=function(){return Go};ou.Mod2BoundaryNodeRule.get=function(){return Jm};ou.EndPointBoundaryNodeRule.get=function(){return ef};ou.MultiValentEndPointBoundaryNodeRule.get=function(){return tf};ou.MonoValentEndPointBoundaryNodeRule.get=function(){return nf};ou.MOD2_BOUNDARY_RULE.get=function(){return new Jm};ou.ENDPOINT_BOUNDARY_RULE.get=function(){return new ef};ou.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new tf};ou.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new nf};ou.OGC_SFS_BOUNDARY_RULE.get=function(){return Go.MOD2_BOUNDARY_RULE};Object.defineProperties(Go,ou);var Jm=function(){};Jm.prototype.isInBoundary=function(e){return e%2===1};Jm.prototype.interfaces_=function(){return[Go]};Jm.prototype.getClass=function(){return Jm};var ef=function(){};ef.prototype.isInBoundary=function(e){return e>0};ef.prototype.interfaces_=function(){return[Go]};ef.prototype.getClass=function(){return ef};var tf=function(){};tf.prototype.isInBoundary=function(e){return e>1};tf.prototype.interfaces_=function(){return[Go]};tf.prototype.getClass=function(){return tf};var nf=function(){};nf.prototype.isInBoundary=function(e){return e===1};nf.prototype.interfaces_=function(){return[Go]};nf.prototype.getClass=function(){return nf};var na=function(){};na.prototype.add=function(){};na.prototype.addAll=function(){};na.prototype.isEmpty=function(){};na.prototype.iterator=function(){};na.prototype.size=function(){};na.prototype.toArray=function(){};na.prototype.remove=function(){};function zT(n){this.message=n||""}zT.prototype=new Error;zT.prototype.name="IndexOutOfBoundsException";var Pf=function(){};Pf.prototype.hasNext=function(){};Pf.prototype.next=function(){};Pf.prototype.remove=function(){};var pl=function(n){function e(){n.apply(this,arguments)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(na);function Mf(n){this.message=n||""}Mf.prototype=new Error;Mf.prototype.name="NoSuchElementException";var en=function(n){function e(){n.call(this),this.array_=[],arguments[0]instanceof na&&this.addAll(arguments[0])}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[n,na]},e.prototype.add=function(i){return arguments.length===1?this.array_.push(i):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(i){for(var r=this,a=i.iterator();a.hasNext();)r.add(a.next());return!0},e.prototype.set=function(i,r){var a=this.array_[i];return this.array_[i]=r,a},e.prototype.iterator=function(){return new O6(this)},e.prototype.get=function(i){if(i<0||i>=this.size())throw new zT;return this.array_[i]},e.prototype.isEmpty=function(){return this.array_.length===0},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var i=this,r=[],a=0,o=this.array_.length;a<o;a++)r.push(i.array_[a]);return r},e.prototype.remove=function(i){for(var r=this,a=!1,o=0,s=this.array_.length;o<s;o++)if(r.array_[o]===i){r.array_.splice(o,1),a=!0;break}return a},e}(pl),O6=function(n){function e(t){n.call(this),this.arrayList_=t,this.position_=0}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Mf;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(i){return this.arrayList_.set(this.position_-1,i)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Pf),sv=function(n){function e(){if(n.call(this),arguments.length!==0){if(arguments.length===1){var i=arguments[0];this.ensureCapacity(i.length),this.add(i,!0)}else if(arguments.length===2){var r=arguments[0],a=arguments[1];this.ensureCapacity(r.length),this.add(r,a)}}}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={coordArrayType:{configurable:!0}};return t.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(r){return this.get(r)},e.prototype.addAll=function(){var r=this;if(arguments.length===2){for(var a=arguments[0],o=arguments[1],s=!1,h=a.iterator();h.hasNext();)r.add(h.next(),o),s=!0;return s}else return n.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var r=this,a=n.prototype.clone.call(this),o=0;o<this.size();o++)a.add(o,r.get(o).copy());return a},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){var r=this;if(arguments.length===1){var a=arguments[0];n.prototype.add.call(this,a)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var o=arguments[0],s=arguments[1];return this.add(o,s,!0),!0}else if(arguments[0]instanceof bt&&typeof arguments[1]=="boolean"){var h=arguments[0],p=arguments[1];if(!p&&this.size()>=1){var f=this.get(this.size()-1);if(f.equals2D(h))return null}n.prototype.add.call(this,h)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var y=arguments[0],g=arguments[1];return this.add(y,g),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var _=arguments[0],b=arguments[1],T=arguments[2];if(T)for(var E=0;E<_.length;E++)r.add(_[E],b);else for(var k=_.length-1;k>=0;k--)r.add(_[k],b);return!0}else if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof bt){var v=arguments[0],w=arguments[1],N=arguments[2];if(!N){var C=this.size();if(C>0){if(v>0){var L=this.get(v-1);if(L.equals2D(w))return null}if(v<C){var O=this.get(v);if(O.equals2D(w))return null}}}n.prototype.add.call(this,v,w)}}else if(arguments.length===4){var W=arguments[0],X=arguments[1],H=arguments[2],$=arguments[3],G=1;H>$&&(G=-1);for(var j=H;j!==$;j+=G)r.add(W[j],X);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new bt(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,t),e}(en),yi=function(){},w0={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};w0.ForwardComparator.get=function(){return Sy};w0.BidirectionalComparator.get=function(){return rf};w0.coordArrayType.get=function(){return new Array(0).fill(null)};yi.prototype.interfaces_=function(){return[]};yi.prototype.getClass=function(){return yi};yi.isRing=function(e){return!(e.length<4||!e[0].equals2D(e[e.length-1]))};yi.ptNotInList=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(yi.indexOf(r,t)<0)return r}return null};yi.scroll=function(e,t){var i=yi.indexOf(t,e);if(i<0)return null;var r=new Array(e.length).fill(null);za.arraycopy(e,i,r,0,e.length-i),za.arraycopy(e,0,r,e.length-i,i),za.arraycopy(r,0,e,0,e.length)};yi.equals=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(e===null||t===null||e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!e[i].equals(t[i]))return!1;return!0}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2];if(r===a)return!0;if(r===null||a===null||r.length!==a.length)return!1;for(var s=0;s<r.length;s++)if(o.compare(r[s],a[s])!==0)return!1;return!0}};yi.intersection=function(e,t){for(var i=new sv,r=0;r<e.length;r++)t.intersects(e[r])&&i.add(e[r],!0);return i.toCoordinateArray()};yi.hasRepeatedPoints=function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1};yi.removeRepeatedPoints=function(e){if(!yi.hasRepeatedPoints(e))return e;var t=new sv(e,!1);return t.toCoordinateArray()};yi.reverse=function(e){for(var t=e.length-1,i=Math.trunc(t/2),r=0;r<=i;r++){var a=e[r];e[r]=e[t-r],e[t-r]=a}};yi.removeNull=function(e){for(var t=0,i=0;i<e.length;i++)e[i]!==null&&t++;var r=new Array(t).fill(null);if(t===0)return r;for(var a=0,o=0;o<e.length;o++)e[o]!==null&&(r[a++]=e[o]);return r};yi.copyDeep=function(){if(arguments.length===1){for(var e=arguments[0],t=new Array(e.length).fill(null),i=0;i<e.length;i++)t[i]=new bt(e[i]);return t}else if(arguments.length===5)for(var r=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3],h=arguments[4],p=0;p<h;p++)o[s+p]=new bt(r[a+p])};yi.isEqualReversed=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],a=t[e.length-i-1];if(r.compareTo(a)!==0)return!1}return!0};yi.envelope=function(e){for(var t=new An,i=0;i<e.length;i++)t.expandToInclude(e[i]);return t};yi.toCoordinateArray=function(e){return e.toArray(yi.coordArrayType)};yi.atLeastNCoordinatesOrNothing=function(e,t){return t.length>=e?t:[]};yi.indexOf=function(e,t){for(var i=0;i<t.length;i++)if(e.equals(t[i]))return i;return-1};yi.increasingDirection=function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var i=e.length-1-t,r=e[t].compareTo(e[i]);if(r!==0)return r}return 1};yi.compare=function(e,t){for(var i=0;i<e.length&&i<t.length;){var r=e[i].compareTo(t[i]);if(r!==0)return r;i++}return i<t.length?-1:i<e.length?1:0};yi.minCoordinate=function(e){for(var t=null,i=0;i<e.length;i++)(t===null||t.compareTo(e[i])>0)&&(t=e[i]);return t};yi.extract=function(e,t,i){t=Eo.clamp(t,0,e.length),i=Eo.clamp(i,-1,e.length);var r=i-t+1;i<0&&(r=0),t>=e.length&&(r=0),i<t&&(r=0);var a=new Array(r).fill(null);if(r===0)return a;for(var o=0,s=t;s<=i;s++)a[o++]=e[s];return a};Object.defineProperties(yi,w0);var Sy=function(){};Sy.prototype.compare=function(e,t){var i=e,r=t;return yi.compare(i,r)};Sy.prototype.interfaces_=function(){return[Km]};Sy.prototype.getClass=function(){return Sy};var rf=function(){};rf.prototype.compare=function(e,t){var i=e,r=t;if(i.length<r.length)return-1;if(i.length>r.length)return 1;if(i.length===0)return 0;var a=yi.compare(i,r),o=yi.isEqualReversed(i,r);return o?0:a};rf.prototype.OLDcompare=function(e,t){var i=e,r=t;if(i.length<r.length)return-1;if(i.length>r.length)return 1;if(i.length===0)return 0;for(var a=yi.increasingDirection(i),o=yi.increasingDirection(r),s=a>0?0:i.length-1,h=o>0?0:i.length-1,p=0;p<i.length;p++){var f=i[s].compareTo(r[h]);if(f!==0)return f;s+=a,h+=o}return 0};rf.prototype.interfaces_=function(){return[Km]};rf.prototype.getClass=function(){return rf};var Mp=function(){};Mp.prototype.get=function(){};Mp.prototype.put=function(){};Mp.prototype.size=function(){};Mp.prototype.values=function(){};Mp.prototype.entrySet=function(){};var R6=function(n){function e(){n.apply(this,arguments)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e}(Mp);function ov(n){this.message=n||""}ov.prototype=new Error;ov.prototype.name="OperationNotSupported";function T0(){}T0.prototype=new na;T0.prototype.contains=function(){};var FT=function(n){function e(){n.call(this),this.array_=[],arguments[0]instanceof na&&this.addAll(arguments[0])}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.contains=function(i){for(var r=this,a=0,o=this.array_.length;a<o;a++){var s=r.array_[a];if(s===i)return!0}return!1},e.prototype.add=function(i){return this.contains(i)?!1:(this.array_.push(i),!0)},e.prototype.addAll=function(i){for(var r=this,a=i.iterator();a.hasNext();)r.add(a.next());return!0},e.prototype.remove=function(i){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return this.array_.length===0},e.prototype.toArray=function(){for(var i=this,r=[],a=0,o=this.array_.length;a<o;a++)r.push(i.array_[a]);return r},e.prototype.iterator=function(){return new $6(this)},e}(T0),$6=function(n){function e(t){n.call(this),this.hashSet_=t,this.position_=0}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Mf;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new ov},e}(Pf),zc=0,vd=1;function Tk(n){return n===null?zc:n.color}function tr(n){return n===null?null:n.parent}function Ac(n,e){n!==null&&(n.color=e)}function nw(n){return n===null?null:n.left}function Sk(n){return n===null?null:n.right}function Ka(){this.root_=null,this.size_=0}Ka.prototype=new R6;Ka.prototype.get=function(n){for(var e=this.root_;e!==null;){var t=n.compareTo(e.key);if(t<0)e=e.left;else if(t>0)e=e.right;else return e.value}return null};Ka.prototype.put=function(n,e){if(this.root_===null)return this.root_={key:n,value:e,left:null,right:null,parent:null,color:zc,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var t=this.root_,i,r;do if(i=t,r=n.compareTo(t.key),r<0)t=t.left;else if(r>0)t=t.right;else{var a=t.value;return t.value=e,a}while(t!==null);var o={key:n,left:null,right:null,value:e,parent:i,color:zc,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?i.left=o:i.right=o,this.fixAfterInsertion(o),this.size_++,null};Ka.prototype.fixAfterInsertion=function(n){var e=this;for(n.color=vd;n!=null&&n!==this.root_&&n.parent.color===vd;)if(tr(n)===nw(tr(tr(n)))){var t=Sk(tr(tr(n)));Tk(t)===vd?(Ac(tr(n),zc),Ac(t,zc),Ac(tr(tr(n)),vd),n=tr(tr(n))):(n===Sk(tr(n))&&(n=tr(n),e.rotateLeft(n)),Ac(tr(n),zc),Ac(tr(tr(n)),vd),e.rotateRight(tr(tr(n))))}else{var i=nw(tr(tr(n)));Tk(i)===vd?(Ac(tr(n),zc),Ac(i,zc),Ac(tr(tr(n)),vd),n=tr(tr(n))):(n===nw(tr(n))&&(n=tr(n),e.rotateRight(n)),Ac(tr(n),zc),Ac(tr(tr(n)),vd),e.rotateLeft(tr(tr(n))))}this.root_.color=zc};Ka.prototype.values=function(){var n=new en,e=this.getFirstEntry();if(e!==null)for(n.add(e.value);(e=Ka.successor(e))!==null;)n.add(e.value);return n};Ka.prototype.entrySet=function(){var n=new FT,e=this.getFirstEntry();if(e!==null)for(n.add(e);(e=Ka.successor(e))!==null;)n.add(e);return n};Ka.prototype.rotateLeft=function(n){if(n!=null){var e=n.right;n.right=e.left,e.left!=null&&(e.left.parent=n),e.parent=n.parent,n.parent===null?this.root_=e:n.parent.left===n?n.parent.left=e:n.parent.right=e,e.left=n,n.parent=e}};Ka.prototype.rotateRight=function(n){if(n!=null){var e=n.left;n.left=e.right,e.right!=null&&(e.right.parent=n),e.parent=n.parent,n.parent===null?this.root_=e:n.parent.right===n?n.parent.right=e:n.parent.left=e,e.right=n,n.parent=e}};Ka.prototype.getFirstEntry=function(){var n=this.root_;if(n!=null)for(;n.left!=null;)n=n.left;return n};Ka.successor=function(n){if(n===null)return null;if(n.right!==null){for(var e=n.right;e.left!==null;)e=e.left;return e}else{for(var t=n.parent,i=n;t!==null&&i===t.right;)i=t,t=t.parent;return t}};Ka.prototype.size=function(){return this.size_};var Cy=function(){};Cy.prototype.interfaces_=function(){return[]};Cy.prototype.getClass=function(){return Cy};function nP(){}nP.prototype=new T0;function Ul(){this.array_=[],arguments[0]instanceof na&&this.addAll(arguments[0])}Ul.prototype=new nP;Ul.prototype.contains=function(n){for(var e=this,t=0,i=this.array_.length;t<i;t++){var r=e.array_[t];if(r.compareTo(n)===0)return!0}return!1};Ul.prototype.add=function(n){var e=this;if(this.contains(n))return!1;for(var t=0,i=this.array_.length;t<i;t++){var r=e.array_[t];if(r.compareTo(n)===1)return e.array_.splice(t,0,n),!0}return this.array_.push(n),!0};Ul.prototype.addAll=function(n){for(var e=this,t=n.iterator();t.hasNext();)e.add(t.next());return!0};Ul.prototype.remove=function(n){throw new ov};Ul.prototype.size=function(){return this.array_.length};Ul.prototype.isEmpty=function(){return this.array_.length===0};Ul.prototype.toArray=function(){for(var n=this,e=[],t=0,i=this.array_.length;t<i;t++)e.push(n.array_[t]);return e};Ul.prototype.iterator=function(){return new S0(this)};var S0=function(n){this.treeSet_=n,this.position_=0};S0.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Mf;return this.treeSet_.array_[this.position_++]};S0.prototype.hasNext=function(){return this.position_<this.treeSet_.size()};S0.prototype.remove=function(){throw new ov};var Md=function(){};Md.sort=function(){var e=arguments[0],t,i,r,a;if(arguments.length===1)a=function(s,h){return s.compareTo(h)},e.sort(a);else if(arguments.length===2)r=arguments[1],a=function(s,h){return r.compare(s,h)},e.sort(a);else if(arguments.length===3){i=e.slice(arguments[1],arguments[2]),i.sort();var o=e.slice(0,arguments[1]).concat(i,e.slice(arguments[2],e.length));for(e.splice(0,e.length),t=0;t<o.length;t++)e.push(o[t])}else if(arguments.length===4)for(i=e.slice(arguments[1],arguments[2]),r=arguments[3],a=function(s,h){return r.compare(s,h)},i.sort(a),o=e.slice(0,arguments[1]).concat(i,e.slice(arguments[2],e.length)),e.splice(0,e.length),t=0;t<o.length;t++)e.push(o[t])};Md.asList=function(e){for(var t=new en,i=0,r=e.length;i<r;i++)t.add(e[i]);return t};var Mi=function(){},wl={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};wl.P.get=function(){return 0};wl.L.get=function(){return 1};wl.A.get=function(){return 2};wl.FALSE.get=function(){return-1};wl.TRUE.get=function(){return-2};wl.DONTCARE.get=function(){return-3};wl.SYM_FALSE.get=function(){return"F"};wl.SYM_TRUE.get=function(){return"T"};wl.SYM_DONTCARE.get=function(){return"*"};wl.SYM_P.get=function(){return"0"};wl.SYM_L.get=function(){return"1"};wl.SYM_A.get=function(){return"2"};Mi.prototype.interfaces_=function(){return[]};Mi.prototype.getClass=function(){return Mi};Mi.toDimensionSymbol=function(e){switch(e){case Mi.FALSE:return Mi.SYM_FALSE;case Mi.TRUE:return Mi.SYM_TRUE;case Mi.DONTCARE:return Mi.SYM_DONTCARE;case Mi.P:return Mi.SYM_P;case Mi.L:return Mi.SYM_L;case Mi.A:return Mi.SYM_A}throw new fr("Unknown dimension value: "+e)};Mi.toDimensionValue=function(e){switch(Ty.toUpperCase(e)){case Mi.SYM_FALSE:return Mi.FALSE;case Mi.SYM_TRUE:return Mi.TRUE;case Mi.SYM_DONTCARE:return Mi.DONTCARE;case Mi.SYM_P:return Mi.P;case Mi.SYM_L:return Mi.L;case Mi.SYM_A:return Mi.A}throw new fr("Unknown dimension symbol: "+e)};Object.defineProperties(Mi,wl);var Gl=function(){};Gl.prototype.filter=function(e){};Gl.prototype.interfaces_=function(){return[]};Gl.prototype.getClass=function(){return Gl};var fl=function(){};fl.prototype.filter=function(e,t){};fl.prototype.isDone=function(){};fl.prototype.isGeometryChanged=function(){};fl.prototype.interfaces_=function(){return[]};fl.prototype.getClass=function(){return fl};var fs=function(n){function e(i,r){if(n.call(this,r),this._geometries=i||[],n.hasNullElements(this._geometries))throw new fr("geometries must not contain null elements")}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var r=this,a=new An,o=0;o<this._geometries.length;o++)a.expandToInclude(r._geometries[o].getEnvelopeInternal());return a},e.prototype.getGeometryN=function(r){return this._geometries[r]},e.prototype.getSortIndex=function(){return n.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var r=this,a=new Array(this.getNumPoints()).fill(null),o=-1,s=0;s<this._geometries.length;s++)for(var h=r._geometries[s].getCoordinates(),p=0;p<h.length;p++)o++,a[o]=h[p];return a},e.prototype.getArea=function(){for(var r=this,a=0,o=0;o<this._geometries.length;o++)a+=r._geometries[o].getArea();return a},e.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var a=arguments[0],o=arguments[1];if(!this.isEquivalentClass(a))return!1;var s=a;if(this._geometries.length!==s._geometries.length)return!1;for(var h=0;h<this._geometries.length;h++)if(!r._geometries[h].equalsExact(s._geometries[h],o))return!1;return!0}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var r=this,a=0;a<this._geometries.length;a++)r._geometries[a].normalize();Md.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var r=this,a=Mi.FALSE,o=0;o<this._geometries.length;o++)a=Math.max(a,r._geometries[o].getBoundaryDimension());return a},e.prototype.getDimension=function(){for(var r=this,a=Mi.FALSE,o=0;o<this._geometries.length;o++)a=Math.max(a,r._geometries[o].getDimension());return a},e.prototype.getLength=function(){for(var r=this,a=0,o=0;o<this._geometries.length;o++)a+=r._geometries[o].getLength();return a},e.prototype.getNumPoints=function(){for(var r=this,a=0,o=0;o<this._geometries.length;o++)a+=r._geometries[o].getNumPoints();return a},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var r=this,a=this._geometries.length,o=new Array(a).fill(null),s=0;s<this._geometries.length;s++)o[s]=r._geometries[s].reverse();return this.getFactory().createGeometryCollection(o)},e.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){var a=arguments[0],o=new Ul(Md.asList(this._geometries)),s=new Ul(Md.asList(a._geometries));return this.compare(o,s)}else if(arguments.length===2){for(var h=arguments[0],p=arguments[1],f=h,y=this.getNumGeometries(),g=f.getNumGeometries(),_=0;_<y&&_<g;){var b=r.getGeometryN(_),T=f.getGeometryN(_),E=b.compareToSameClass(T,p);if(E!==0)return E;_++}return _<y?1:_<g?-1:0}},e.prototype.apply=function(){var r=this;if(jn(arguments[0],pc))for(var a=arguments[0],o=0;o<this._geometries.length;o++)r._geometries[o].apply(a);else if(jn(arguments[0],fl)){var s=arguments[0];if(this._geometries.length===0)return null;for(var h=0;h<this._geometries.length&&(r._geometries[h].apply(s),!s.isDone());h++);s.isGeometryChanged()&&this.geometryChanged()}else if(jn(arguments[0],Gl)){var p=arguments[0];p.filter(this);for(var f=0;f<this._geometries.length;f++)r._geometries[f].apply(p)}else if(jn(arguments[0],Zc)){var y=arguments[0];y.filter(this);for(var g=0;g<this._geometries.length;g++)r._geometries[g].apply(y)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),si.shouldNeverReachHere(),null},e.prototype.clone=function(){var r=this,a=n.prototype.clone.call(this);a._geometries=new Array(this._geometries.length).fill(null);for(var o=0;o<this._geometries.length;o++)a._geometries[o]=r._geometries[o].clone();return a},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var r=this,a=new Array(this._geometries.length).fill(null),o=0;o<a.length;o++)a[o]=r._geometries[o].copy();return new e(a,this._factory)},e.prototype.isEmpty=function(){for(var r=this,a=0;a<this._geometries.length;a++)if(!r._geometries[a].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(e,t),e}(Bn),Gd=function(n){function e(){n.apply(this,arguments)}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Bn.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],a=arguments[1];return this.isEquivalentClass(r)?n.prototype.equalsExact.call(this,r,a):!1}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Mi.FALSE:0},e.prototype.isClosed=function(){var r=this;if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!r._geometries[a].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var r=this,a=this._geometries.length,o=new Array(a).fill(null),s=0;s<this._geometries.length;s++)o[a-1-s]=r._geometries[s].reverse();return this.getFactory().createMultiLineString(o)},e.prototype.getBoundary=function(){return new zo(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var r=this,a=new Array(this._geometries.length).fill(null),o=0;o<a.length;o++)a[o]=r._geometries[o].copy();return new e(a,this._factory)},e.prototype.interfaces_=function(){return[Cy]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(e,t),e}(fs),zo=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var e=arguments[0],t=Go.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=t}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this._geom=i,this._geomFact=i.getFactory(),this._bnRule=r}};zo.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var t=this.computeBoundaryCoordinates(e);return t.length===1?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)};zo.prototype.getBoundary=function(){return this._geom instanceof Ir?this.boundaryLineString(this._geom):this._geom instanceof Gd?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()};zo.prototype.boundaryLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(e.isClosed()){var t=this._bnRule.isInBoundary(2);return t?e.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])};zo.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()};zo.prototype.computeBoundaryCoordinates=function(e){var t=this,i=new en;this._endpointMap=new Ka;for(var r=0;r<e.getNumGeometries();r++){var a=e.getGeometryN(r);a.getNumPoints()!==0&&(t.addEndpoint(a.getCoordinateN(0)),t.addEndpoint(a.getCoordinateN(a.getNumPoints()-1)))}for(var o=this._endpointMap.entrySet().iterator();o.hasNext();){var s=o.next(),h=s.getValue(),p=h.count;t._bnRule.isInBoundary(p)&&i.add(s.getKey())}return yi.toCoordinateArray(i)};zo.prototype.addEndpoint=function(e){var t=this._endpointMap.get(e);t===null&&(t=new Cb,this._endpointMap.put(e,t)),t.count++};zo.prototype.interfaces_=function(){return[]};zo.prototype.getClass=function(){return zo};zo.getBoundary=function(){if(arguments.length===1){var e=arguments[0],t=new zo(e);return t.getBoundary()}else if(arguments.length===2){var i=arguments[0],r=arguments[1],a=new zo(i,r);return a.getBoundary()}};var Cb=function(){this.count=null};Cb.prototype.interfaces_=function(){return[]};Cb.prototype.getClass=function(){return Cb};function z6(){}function F6(){}var B6=function(){};function j6(){}function U6(){}function G6(){}var Fo=function(){},BT={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Fo.prototype.interfaces_=function(){return[]};Fo.prototype.getClass=function(){return Fo};Fo.chars=function(e,t){for(var i=new Array(t).fill(null),r=0;r<t;r++)i[r]=e;return String(i)};Fo.getStackTrace=function(){if(arguments.length===1){var e=arguments[0],t=new j6,i=new z6;return e.printStackTrace(i),t.toString()}else if(arguments.length===2){var r=arguments[0],a=arguments[1],o="";new F6(Fo.getStackTrace(r));for(var s=new G6,h=0;h<a;h++)try{o+=s.readLine()+Fo.NEWLINE}catch(p){if(p instanceof U6)si.shouldNeverReachHere();else throw p}finally{}return o}};Fo.split=function(e,t){for(var i=t.length,r=new en,a=""+e,o=a.indexOf(t);o>=0;){var s=a.substring(0,o);r.add(s),a=a.substring(o+i),o=a.indexOf(t)}a.length>0&&r.add(a);for(var h=new Array(r.size()).fill(null),p=0;p<h.length;p++)h[p]=r.get(p);return h};Fo.toString=function(){if(arguments.length===1){var e=arguments[0];return Fo.SIMPLE_ORDINATE_FORMAT.format(e)}};Fo.spaces=function(e){return Fo.chars(" ",e)};BT.NEWLINE.get=function(){return za.getProperty("line.separator")};BT.SIMPLE_ORDINATE_FORMAT.get=function(){return new B6};Object.defineProperties(Fo,BT);var zr=function(){};zr.prototype.interfaces_=function(){return[]};zr.prototype.getClass=function(){return zr};zr.copyCoord=function(e,t,i,r){for(var a=Math.min(e.getDimension(),i.getDimension()),o=0;o<a;o++)i.setOrdinate(r,o,e.getOrdinate(t,o))};zr.isRing=function(e){var t=e.size();return t===0?!0:t<=3?!1:e.getOrdinate(0,Ti.X)===e.getOrdinate(t-1,Ti.X)&&e.getOrdinate(0,Ti.Y)===e.getOrdinate(t-1,Ti.Y)};zr.isEqual=function(e,t){var i=e.size(),r=t.size();if(i!==r)return!1;for(var a=Math.min(e.getDimension(),t.getDimension()),o=0;o<i;o++)for(var s=0;s<a;s++){var h=e.getOrdinate(o,s),p=t.getOrdinate(o,s);if(e.getOrdinate(o,s)!==t.getOrdinate(o,s)&&!(qn.isNaN(h)&&qn.isNaN(p)))return!1}return!0};zr.extend=function(e,t,i){var r=e.create(i,t.getDimension()),a=t.size();if(zr.copy(t,0,r,0,a),a>0)for(var o=a;o<i;o++)zr.copy(t,a-1,r,o,1);return r};zr.reverse=function(e){for(var t=e.size()-1,i=Math.trunc(t/2),r=0;r<=i;r++)zr.swap(e,r,t-r)};zr.swap=function(e,t,i){if(t===i)return null;for(var r=0;r<e.getDimension();r++){var a=e.getOrdinate(t,r);e.setOrdinate(t,r,e.getOrdinate(i,r)),e.setOrdinate(i,r,a)}};zr.copy=function(e,t,i,r,a){for(var o=0;o<a;o++)zr.copyCoord(e,t+o,i,r+o)};zr.toString=function(){if(arguments.length===1){var e=arguments[0],t=e.size();if(t===0)return"()";var i=e.getDimension(),r=new Ql;r.append("(");for(var a=0;a<t;a++){a>0&&r.append(" ");for(var o=0;o<i;o++)o>0&&r.append(","),r.append(Fo.toString(e.getOrdinate(a,o)))}return r.append(")"),r.toString()}};zr.ensureValidRing=function(e,t){var i=t.size();if(i===0)return t;if(i<=3)return zr.createClosedRing(e,t,4);var r=t.getOrdinate(0,Ti.X)===t.getOrdinate(i-1,Ti.X)&&t.getOrdinate(0,Ti.Y)===t.getOrdinate(i-1,Ti.Y);return r?t:zr.createClosedRing(e,t,i+1)};zr.createClosedRing=function(e,t,i){var r=e.create(i,t.getDimension()),a=t.size();zr.copy(t,0,r,0,a);for(var o=a;o<i;o++)zr.copy(t,0,r,o,1);return r};var Ir=function(n){function e(i,r){n.call(this,r),this._points=null,this.init(i)}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new An:this._points.expandEnvelope(new An)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return n.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var a=arguments[0],o=arguments[1];if(!this.isEquivalentClass(a))return!1;var s=a;if(this._points.size()!==s._points.size())return!1;for(var h=0;h<this._points.size();h++)if(!r.equal(r._points.getCoordinate(h),s._points.getCoordinate(h),o))return!1;return!0}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var r=this,a=0;a<Math.trunc(this._points.size()/2);a++){var o=r._points.size()-1-a;if(!r._points.getCoordinate(a).equals(r._points.getCoordinate(o)))return r._points.getCoordinate(a).compareTo(r._points.getCoordinate(o))>0&&zr.reverse(r._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Mi.FALSE:0},e.prototype.isClosed=function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return ln.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var r=this._points.copy();zr.reverse(r);var a=this.getFactory().createLineString(r);return a},e.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){for(var a=arguments[0],o=a,s=0,h=0;s<this._points.size()&&h<o._points.size();){var p=r._points.getCoordinate(s).compareTo(o._points.getCoordinate(h));if(p!==0)return p;s++,h++}return s<this._points.size()?1:h<o._points.size()?-1:0}else if(arguments.length===2){var f=arguments[0],y=arguments[1],g=f;return y.compare(this._points,g._points)}},e.prototype.apply=function(){var r=this;if(jn(arguments[0],pc))for(var a=arguments[0],o=0;o<this._points.size();o++)a.filter(r._points.getCoordinate(o));else if(jn(arguments[0],fl)){var s=arguments[0];if(this._points.size()===0)return null;for(var h=0;h<this._points.size()&&(s.filter(r._points,h),!s.isDone());h++);s.isGeometryChanged()&&this.geometryChanged()}else if(jn(arguments[0],Gl)){var p=arguments[0];p.filter(this)}else if(jn(arguments[0],Zc)){var f=arguments[0];f.filter(this)}},e.prototype.getBoundary=function(){return new zo(this).getBoundary()},e.prototype.isEquivalentClass=function(r){return r instanceof e},e.prototype.clone=function(){var r=n.prototype.clone.call(this);return r._points=this._points.clone(),r},e.prototype.getCoordinateN=function(r){return this._points.getCoordinate(r)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return this._points.size()===0},e.prototype.init=function(r){if(r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),r.size()===1)throw new fr("Invalid number of points in LineString (found "+r.size()+" - must be 0 or >= 2)");this._points=r},e.prototype.isCoordinate=function(r){for(var a=this,o=0;o<this._points.size();o++)if(a._points.getCoordinate(o).equals(r))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(r){return this.getFactory().createPoint(this._points.getCoordinate(r))},e.prototype.interfaces_=function(){return[Cy]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,t),e}(Bn),Ey=function(){};Ey.prototype.interfaces_=function(){return[]};Ey.prototype.getClass=function(){return Ey};var Js=function(n){function e(i,r){n.call(this,r),this._coordinates=i||null,this.init(this._coordinates)}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new An;var r=new An;return r.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),r},e.prototype.getSortIndex=function(){return n.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],a=arguments[1];return this.isEquivalentClass(r)?this.isEmpty()&&r.isEmpty()?!0:this.isEmpty()!==r.isEmpty()?!1:this.equal(r.getCoordinate(),this.getCoordinate(),a):!1}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Mi.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(arguments.length===1){var r=arguments[0],a=r;return this.getCoordinate().compareTo(a.getCoordinate())}else if(arguments.length===2){var o=arguments[0],s=arguments[1],h=o;return s.compare(this._coordinates,h._coordinates)}},e.prototype.apply=function(){if(jn(arguments[0],pc)){var r=arguments[0];if(this.isEmpty())return null;r.filter(this.getCoordinate())}else if(jn(arguments[0],fl)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this._coordinates,0),a.isGeometryChanged()&&this.geometryChanged()}else if(jn(arguments[0],Gl)){var o=arguments[0];o.filter(this)}else if(jn(arguments[0],Zc)){var s=arguments[0];s.filter(this)}},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var r=n.prototype.clone.call(this);return r._coordinates=this._coordinates.clone(),r},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return this._coordinates.size()===0},e.prototype.init=function(r){r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),si.isTrue(r.size()<=1),this._coordinates=r},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Ey]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(e,t),e}(Bn),Gu=function(){};Gu.prototype.interfaces_=function(){return[]};Gu.prototype.getClass=function(){return Gu};var oa=function(n){function e(i,r,a){if(n.call(this,a),this._shell=null,this._holes=null,i===null&&(i=this.getFactory().createLinearRing()),r===null&&(r=[]),n.hasNullElements(r))throw new fr("holes must not contain null elements");if(i.isEmpty()&&n.hasNonEmptyElements(r))throw new fr("shell is empty but holes are not");this._shell=i,this._holes=r}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return n.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){var r=this;if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),o=-1,s=this._shell.getCoordinates(),h=0;h<s.length;h++)o++,a[o]=s[h];for(var p=0;p<this._holes.length;p++)for(var f=r._holes[p].getCoordinates(),y=0;y<f.length;y++)o++,a[o]=f[y];return a},e.prototype.getArea=function(){var r=this,a=0;a+=Math.abs(ln.signedArea(this._shell.getCoordinateSequence()));for(var o=0;o<this._holes.length;o++)a-=Math.abs(ln.signedArea(r._holes[o].getCoordinateSequence()));return a},e.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var r=this._shell.getCoordinateSequence(),a=this.getEnvelopeInternal(),o=0;o<5;o++){var s=r.getX(o);if(!(s===a.getMinX()||s===a.getMaxX()))return!1;var h=r.getY(o);if(!(h===a.getMinY()||h===a.getMaxY()))return!1}for(var p=r.getX(0),f=r.getY(0),y=1;y<=4;y++){var g=r.getX(y),_=r.getY(y),b=g!==p,T=_!==f;if(b===T)return!1;p=g,f=_}return!0},e.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var a=arguments[0],o=arguments[1];if(!this.isEquivalentClass(a))return!1;var s=a,h=this._shell,p=s._shell;if(!h.equalsExact(p,o)||this._holes.length!==s._holes.length)return!1;for(var f=0;f<this._holes.length;f++)if(!r._holes[f].equalsExact(s._holes[f],o))return!1;return!0}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){var r=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var a=0;a<this._holes.length;a++)r.normalize(r._holes[a],!1);Md.sort(this._holes)}else if(arguments.length===2){var o=arguments[0],s=arguments[1];if(o.isEmpty())return null;var h=new Array(o.getCoordinates().length-1).fill(null);za.arraycopy(o.getCoordinates(),0,h,0,h.length);var p=yi.minCoordinate(o.getCoordinates());yi.scroll(h,p),za.arraycopy(h,0,o.getCoordinates(),0,h.length),o.getCoordinates()[h.length]=h[0],ln.isCCW(o.getCoordinates())===s&&yi.reverse(o.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var r=this,a=0;a+=this._shell.getLength();for(var o=0;o<this._holes.length;o++)a+=r._holes[o].getLength();return a},e.prototype.getNumPoints=function(){for(var r=this,a=this._shell.getNumPoints(),o=0;o<this._holes.length;o++)a+=r._holes[o].getNumPoints();return a},e.prototype.reverse=function(){var r=this,a=this.copy();a._shell=this._shell.copy().reverse(),a._holes=new Array(this._holes.length).fill(null);for(var o=0;o<this._holes.length;o++)a._holes[o]=r._holes[o].copy().reverse();return a},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){var a=arguments[0],o=this._shell,s=a._shell;return o.compareToSameClass(s)}else if(arguments.length===2){var h=arguments[0],p=arguments[1],f=h,y=this._shell,g=f._shell,_=y.compareToSameClass(g,p);if(_!==0)return _;for(var b=this.getNumInteriorRing(),T=f.getNumInteriorRing(),E=0;E<b&&E<T;){var k=r.getInteriorRingN(E),v=f.getInteriorRingN(E),w=k.compareToSameClass(v,p);if(w!==0)return w;E++}return E<b?1:E<T?-1:0}},e.prototype.apply=function(r){var a=this;if(jn(r,pc)){this._shell.apply(r);for(var o=0;o<this._holes.length;o++)a._holes[o].apply(r)}else if(jn(r,fl)){if(this._shell.apply(r),!r.isDone())for(var s=0;s<this._holes.length&&(a._holes[s].apply(r),!r.isDone());s++);r.isGeometryChanged()&&this.geometryChanged()}else if(jn(r,Gl))r.filter(this);else if(jn(r,Zc)){r.filter(this),this._shell.apply(r);for(var h=0;h<this._holes.length;h++)a._holes[h].apply(r)}},e.prototype.getBoundary=function(){var r=this;if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var o=0;o<this._holes.length;o++)a[o+1]=r._holes[o];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},e.prototype.clone=function(){var r=this,a=n.prototype.clone.call(this);a._shell=this._shell.clone(),a._holes=new Array(this._holes.length).fill(null);for(var o=0;o<this._holes.length;o++)a._holes[o]=r._holes[o].clone();return a},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var r=this,a=this._shell.copy(),o=new Array(this._holes.length).fill(null),s=0;s<o.length;s++)o[s]=r._holes[s].copy();return new e(a,o,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(r){return this._holes[r]},e.prototype.interfaces_=function(){return[Gu]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,t),e}(Bn),af=function(n){function e(){n.apply(this,arguments)}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Bn.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],a=arguments[1];return this.isEquivalentClass(r)?n.prototype.equalsExact.call(this,r,a):!1}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(arguments.length===1){var r=arguments[0];return this._geometries[r].getCoordinate()}else return n.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Mi.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var r=this,a=new Array(this._geometries.length).fill(null),o=0;o<a.length;o++)a[o]=r._geometries[o].copy();return new e(a,this._factory)},e.prototype.interfaces_=function(){return[Ey]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(e,t),e}(fs),mc=function(n){function e(i,r){i instanceof bt&&r instanceof gi&&(i=r.getCoordinateSequenceFactory().create(i)),n.call(this,i,r),this.validateConstruction()}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Bn.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Mi.FALSE},e.prototype.isClosed=function(){return this.isEmpty()?!0:n.prototype.isClosed.call(this)},e.prototype.reverse=function(){var r=this._points.copy();zr.reverse(r);var a=this.getFactory().createLinearRing(r);return a},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!n.prototype.isClosed.call(this))throw new fr("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new fr("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},t.MINIMUM_VALID_SIZE.get=function(){return 4},t.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,t),e}(Ir),lc=function(n){function e(){n.apply(this,arguments)}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Bn.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],a=arguments[1];return this.isEquivalentClass(r)?n.prototype.equalsExact.call(this,r,a):!1}else return n.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var r=this,a=this._geometries.length,o=new Array(a).fill(null),s=0;s<this._geometries.length;s++)o[s]=r._geometries[s].reverse();return this.getFactory().createMultiPolygon(o)},e.prototype.getBoundary=function(){var r=this;if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new en,o=0;o<this._geometries.length;o++)for(var s=r._geometries[o],h=s.getBoundary(),p=0;p<h.getNumGeometries();p++)a.add(h.getGeometryN(p));var f=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(f))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var r=this,a=new Array(this._geometries.length).fill(null),o=0;o<a.length;o++)a[o]=r._geometries[o].copy();return new e(a,this._factory)},e.prototype.interfaces_=function(){return[Gu]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,t),e}(fs),Yo=function(e){this._factory=e||null,this._isUserDataCopied=!1},C0={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Yo.prototype.setCopyUserData=function(e){this._isUserDataCopied=e};Yo.prototype.edit=function(e,t){if(e===null)return null;var i=this.editInternal(e,t);return this._isUserDataCopied&&i.setUserData(e.getUserData()),i};Yo.prototype.editInternal=function(e,t){return this._factory===null&&(this._factory=e.getFactory()),e instanceof fs?this.editGeometryCollection(e,t):e instanceof oa?this.editPolygon(e,t):e instanceof Js?t.edit(e,this._factory):e instanceof Ir?t.edit(e,this._factory):(si.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)};Yo.prototype.editGeometryCollection=function(e,t){for(var i=this,r=t.edit(e,this._factory),a=new en,o=0;o<r.getNumGeometries();o++){var s=i.edit(r.getGeometryN(o),t);s===null||s.isEmpty()||a.add(s)}return r.getClass()===af?this._factory.createMultiPoint(a.toArray([])):r.getClass()===Gd?this._factory.createMultiLineString(a.toArray([])):r.getClass()===lc?this._factory.createMultiPolygon(a.toArray([])):this._factory.createGeometryCollection(a.toArray([]))};Yo.prototype.editPolygon=function(e,t){var i=this,r=t.edit(e,this._factory);if(r===null&&(r=this._factory.createPolygon(null)),r.isEmpty())return r;var a=this.edit(r.getExteriorRing(),t);if(a===null||a.isEmpty())return this._factory.createPolygon();for(var o=new en,s=0;s<r.getNumInteriorRing();s++){var h=i.edit(r.getInteriorRingN(s),t);h===null||h.isEmpty()||o.add(h)}return this._factory.createPolygon(a,o.toArray([]))};Yo.prototype.interfaces_=function(){return[]};Yo.prototype.getClass=function(){return Yo};Yo.GeometryEditorOperation=function(){};C0.NoOpGeometryOperation.get=function(){return ky};C0.CoordinateOperation.get=function(){return Ly};C0.CoordinateSequenceOperation.get=function(){return Ny};Object.defineProperties(Yo,C0);var ky=function(){};ky.prototype.edit=function(e,t){return e};ky.prototype.interfaces_=function(){return[Yo.GeometryEditorOperation]};ky.prototype.getClass=function(){return ky};var Ly=function(){};Ly.prototype.edit=function(e,t){var i=this.editCoordinates(e.getCoordinates(),e);return i===null?e:e instanceof mc?t.createLinearRing(i):e instanceof Ir?t.createLineString(i):e instanceof Js?i.length>0?t.createPoint(i[0]):t.createPoint():e};Ly.prototype.interfaces_=function(){return[Yo.GeometryEditorOperation]};Ly.prototype.getClass=function(){return Ly};var Ny=function(){};Ny.prototype.edit=function(e,t){return e instanceof mc?t.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Ir?t.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof Js?t.createPoint(this.edit(e.getCoordinateSequence(),e)):e};Ny.prototype.interfaces_=function(){return[Yo.GeometryEditorOperation]};Ny.prototype.getClass=function(){return Ny};var Rr=function(){var e=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var i=0;i<t;i++)e._coordinates[i]=new bt}else if(jn(arguments[0],Ti)){var r=arguments[0];if(r===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._coordinates=new Array(r.size()).fill(null);for(var a=0;a<this._coordinates.length;a++)e._coordinates[a]=r.getCoordinateCopy(a)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],s=arguments[1];this._coordinates=o,this._dimension=s,o===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var h=arguments[0],p=arguments[1];this._coordinates=new Array(h).fill(null),this._dimension=p;for(var f=0;f<h;f++)e._coordinates[f]=new bt}}},iP={serialVersionUID:{configurable:!0}};Rr.prototype.setOrdinate=function(e,t,i){switch(t){case Ti.X:this._coordinates[e].x=i;break;case Ti.Y:this._coordinates[e].y=i;break;case Ti.Z:this._coordinates[e].z=i;break;default:throw new fr("invalid ordinateIndex")}};Rr.prototype.size=function(){return this._coordinates.length};Rr.prototype.getOrdinate=function(e,t){switch(t){case Ti.X:return this._coordinates[e].x;case Ti.Y:return this._coordinates[e].y;case Ti.Z:return this._coordinates[e].z}return qn.NaN};Rr.prototype.getCoordinate=function(){if(arguments.length===1){var e=arguments[0];return this._coordinates[e]}else if(arguments.length===2){var t=arguments[0],i=arguments[1];i.x=this._coordinates[t].x,i.y=this._coordinates[t].y,i.z=this._coordinates[t].z}};Rr.prototype.getCoordinateCopy=function(e){return new bt(this._coordinates[e])};Rr.prototype.getDimension=function(){return this._dimension};Rr.prototype.getX=function(e){return this._coordinates[e].x};Rr.prototype.clone=function(){for(var e=this,t=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)t[i]=e._coordinates[i].clone();return new Rr(t,this._dimension)};Rr.prototype.expandEnvelope=function(e){for(var t=this,i=0;i<this._coordinates.length;i++)e.expandToInclude(t._coordinates[i]);return e};Rr.prototype.copy=function(){for(var e=this,t=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)t[i]=e._coordinates[i].copy();return new Rr(t,this._dimension)};Rr.prototype.toString=function(){var e=this;if(this._coordinates.length>0){var t=new Ql(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var i=1;i<this._coordinates.length;i++)t.append(", "),t.append(e._coordinates[i]);return t.append(")"),t.toString()}else return"()"};Rr.prototype.getY=function(e){return this._coordinates[e].y};Rr.prototype.toCoordinateArray=function(){return this._coordinates};Rr.prototype.interfaces_=function(){return[Ti,Wo]};Rr.prototype.getClass=function(){return Rr};iP.serialVersionUID.get=function(){return-0xcb44a778db18e00};Object.defineProperties(Rr,iP);var fc=function(){},jT={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};fc.prototype.readResolve=function(){return fc.instance()};fc.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return new Rr(e)}else if(jn(arguments[0],Ti)){var t=arguments[0];return new Rr(t)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new Rr(i):new Rr(i,r)}};fc.prototype.interfaces_=function(){return[Qm,Wo]};fc.prototype.getClass=function(){return fc};fc.instance=function(){return fc.instanceObject};jT.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00};jT.instanceObject.get=function(){return new fc};Object.defineProperties(fc,jT);var rP=function(n){function e(){n.call(this),this.map_=new Map}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.get=function(i){return this.map_.get(i)||null},e.prototype.put=function(i,r){return this.map_.set(i,r),r},e.prototype.values=function(){for(var i=new en,r=this.map_.values(),a=r.next();!a.done;)i.add(a.value),a=r.next();return i},e.prototype.entrySet=function(){var i=new FT;return this.map_.entries().forEach(function(r){return i.add(r)}),i},e.prototype.size=function(){return this.map_.size()},e}(Mp),Oi=function n(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=n.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Yl){var e=arguments[0];this._modelType=e,e===n.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var t=arguments[0];this._modelType=n.FIXED,this.setScale(t)}else if(arguments[0]instanceof n){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}}},UT={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Oi.prototype.equals=function(e){if(!(e instanceof Oi))return!1;var t=e;return this._modelType===t._modelType&&this._scale===t._scale};Oi.prototype.compareTo=function(e){var t=e,i=this.getMaximumSignificantDigits(),r=t.getMaximumSignificantDigits();return new jl(i).compareTo(new jl(r))};Oi.prototype.getScale=function(){return this._scale};Oi.prototype.isFloating=function(){return this._modelType===Oi.FLOATING||this._modelType===Oi.FLOATING_SINGLE};Oi.prototype.getType=function(){return this._modelType};Oi.prototype.toString=function(){var e="UNKNOWN";return this._modelType===Oi.FLOATING?e="Floating":this._modelType===Oi.FLOATING_SINGLE?e="Floating-Single":this._modelType===Oi.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e};Oi.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var e=arguments[0];if(qn.isNaN(e))return e;if(this._modelType===Oi.FLOATING_SINGLE){var t=e;return t}return this._modelType===Oi.FIXED?Math.round(e*this._scale)/this._scale:e}else if(arguments[0]instanceof bt){var i=arguments[0];if(this._modelType===Oi.FLOATING)return null;i.x=this.makePrecise(i.x),i.y=this.makePrecise(i.y)}};Oi.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===Oi.FLOATING?e=16:this._modelType===Oi.FLOATING_SINGLE?e=6:this._modelType===Oi.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e};Oi.prototype.setScale=function(e){this._scale=Math.abs(e)};Oi.prototype.interfaces_=function(){return[Wo,qo]};Oi.prototype.getClass=function(){return Oi};Oi.mostPrecise=function(e,t){return e.compareTo(t)>=0?e:t};UT.serialVersionUID.get=function(){return 7777263578777804e3};UT.maximumPreciseValue.get=function(){return 9007199254740992};Object.defineProperties(Oi,UT);var Yl=function n(e){this._name=e||null,n.nameToTypeMap.put(e,this)},GT={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Yl.prototype.readResolve=function(){return Yl.nameToTypeMap.get(this._name)};Yl.prototype.toString=function(){return this._name};Yl.prototype.interfaces_=function(){return[Wo]};Yl.prototype.getClass=function(){return Yl};GT.serialVersionUID.get=function(){return-552860263173159e4};GT.nameToTypeMap.get=function(){return new rP};Object.defineProperties(Yl,GT);Oi.Type=Yl;Oi.FIXED=new Yl("FIXED");Oi.FLOATING=new Yl("FLOATING");Oi.FLOATING_SINGLE=new Yl("FLOATING SINGLE");var gi=function n(){this._precisionModel=new Oi,this._SRID=0,this._coordinateSequenceFactory=n.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?jn(arguments[0],Qm)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Oi&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},aP={serialVersionUID:{configurable:!0}};gi.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new bt(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new bt(e.getMinX(),e.getMinY()),new bt(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new bt(e.getMinX(),e.getMinY()),new bt(e.getMinX(),e.getMaxY()),new bt(e.getMaxX(),e.getMaxY()),new bt(e.getMaxX(),e.getMinY()),new bt(e.getMinX(),e.getMinY())]),null)};gi.prototype.createLineString=function(e){if(e){if(e instanceof Array)return new Ir(this.getCoordinateSequenceFactory().create(e),this);if(jn(e,Ti))return new Ir(e,this)}else return new Ir(this.getCoordinateSequenceFactory().create([]),this)};gi.prototype.createMultiLineString=function(){if(arguments.length===0)return new Gd(null,this);if(arguments.length===1){var e=arguments[0];return new Gd(e,this)}};gi.prototype.buildGeometry=function(e){for(var t=null,i=!1,r=!1,a=e.iterator();a.hasNext();){var o=a.next(),s=o.getClass();t===null&&(t=s),s!==t&&(i=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(t===null)return this.createGeometryCollection();if(i||r)return this.createGeometryCollection(gi.toGeometryArray(e));var h=e.iterator().next(),p=e.size()>1;if(p){if(h instanceof oa)return this.createMultiPolygon(gi.toPolygonArray(e));if(h instanceof Ir)return this.createMultiLineString(gi.toLineStringArray(e));if(h instanceof Js)return this.createMultiPoint(gi.toPointArray(e));si.shouldNeverReachHere("Unhandled class: "+h.getClass().getName())}return h};gi.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(e!==null?this.getCoordinateSequenceFactory().create(e):null)};gi.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof bt){var e=arguments[0];return this.createPoint(e!==null?this.getCoordinateSequenceFactory().create([e]):null)}else if(jn(arguments[0],Ti)){var t=arguments[0];return new Js(t,this)}}};gi.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory};gi.prototype.createPolygon=function(){if(arguments.length===0)return new oa(null,null,this);if(arguments.length===1){if(jn(arguments[0],Ti)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}else if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}else if(arguments[0]instanceof mc){var i=arguments[0];return this.createPolygon(i,null)}}else if(arguments.length===2){var r=arguments[0],a=arguments[1];return new oa(r,a,this)}};gi.prototype.getSRID=function(){return this._SRID};gi.prototype.createGeometryCollection=function(){if(arguments.length===0)return new fs(null,this);if(arguments.length===1){var e=arguments[0];return new fs(e,this)}};gi.prototype.createGeometry=function(e){var t=new Yo(this);return t.edit(e,{edit:function(){if(arguments.length===2){var i=arguments[0];return this._coordinateSequenceFactory.create(i)}}})};gi.prototype.getPrecisionModel=function(){return this._precisionModel};gi.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(e!==null?this.getCoordinateSequenceFactory().create(e):null)}else if(jn(arguments[0],Ti)){var t=arguments[0];return new mc(t,this)}}};gi.prototype.createMultiPolygon=function(){if(arguments.length===0)return new lc(null,this);if(arguments.length===1){var e=arguments[0];return new lc(e,this)}};gi.prototype.createMultiPoint=function(){var e=this;if(arguments.length===0)return new af(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new af(t,this)}else if(arguments[0]instanceof Array){var i=arguments[0];return this.createMultiPoint(i!==null?this.getCoordinateSequenceFactory().create(i):null)}else if(jn(arguments[0],Ti)){var r=arguments[0];if(r===null)return this.createMultiPoint(new Array(0).fill(null));for(var a=new Array(r.size()).fill(null),o=0;o<r.size();o++){var s=e.getCoordinateSequenceFactory().create(1,r.getDimension());zr.copy(r,o,s,0,1),a[o]=e.createPoint(s)}return this.createMultiPoint(a)}}};gi.prototype.interfaces_=function(){return[Wo]};gi.prototype.getClass=function(){return gi};gi.toMultiPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};gi.toGeometryArray=function(e){if(e===null)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)};gi.getDefaultCoordinateSequenceFactory=function(){return fc.instance()};gi.toMultiLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};gi.toLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};gi.toMultiPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};gi.toLinearRingArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};gi.toPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};gi.toPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};gi.createPointFromInternalCoord=function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)};aP.serialVersionUID.get=function(){return-6820524753094096e3};Object.defineProperties(gi,aP);var Y6=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],E0=function(e){this.geometryFactory=e||new gi};E0.prototype.read=function(e){var t;typeof e=="string"?t=JSON.parse(e):t=e;var i=t.type;if(!Ml[i])throw new Error("Unknown GeoJSON type: "+t.type);return Y6.indexOf(i)!==-1?Ml[i].apply(this,[t.coordinates]):i==="GeometryCollection"?Ml[i].apply(this,[t.geometries]):Ml[i].apply(this,[t])};E0.prototype.write=function(e){var t=e.getGeometryType();if(!$c[t])throw new Error("Geometry is not supported");return $c[t].apply(this,[e])};var Ml={Feature:function(n){var e={};for(var t in n)e[t]=n[t];if(n.geometry){var i=n.geometry.type;if(!Ml[i])throw new Error("Unknown GeoJSON type: "+n.type);e.geometry=this.read(n.geometry)}return n.bbox&&(e.bbox=Ml.bbox.apply(this,[n.bbox])),e},FeatureCollection:function(n){var e=this,t={};if(n.features){t.features=[];for(var i=0;i<n.features.length;++i)t.features.push(e.read(n.features[i]))}return n.bbox&&(t.bbox=this.parse.bbox.apply(this,[n.bbox])),t},coordinates:function(n){for(var e=[],t=0;t<n.length;++t){var i=n[t];e.push(new bt(i[0],i[1]))}return e},bbox:function(n){return this.geometryFactory.createLinearRing([new bt(n[0],n[1]),new bt(n[2],n[1]),new bt(n[2],n[3]),new bt(n[0],n[3]),new bt(n[0],n[1])])},Point:function(n){var e=new bt(n[0],n[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(n){for(var e=this,t=[],i=0;i<n.length;++i)t.push(Ml.Point.apply(e,[n[i]]));return this.geometryFactory.createMultiPoint(t)},LineString:function(n){var e=Ml.coordinates.apply(this,[n]);return this.geometryFactory.createLineString(e)},MultiLineString:function(n){for(var e=this,t=[],i=0;i<n.length;++i)t.push(Ml.LineString.apply(e,[n[i]]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(n){for(var e=this,t=Ml.coordinates.apply(this,[n[0]]),i=this.geometryFactory.createLinearRing(t),r=[],a=1;a<n.length;++a){var o=n[a],s=Ml.coordinates.apply(e,[o]),h=e.geometryFactory.createLinearRing(s);r.push(h)}return this.geometryFactory.createPolygon(i,r)},MultiPolygon:function(n){for(var e=this,t=[],i=0;i<n.length;++i){var r=n[i];t.push(Ml.Polygon.apply(e,[r]))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(n){for(var e=this,t=[],i=0;i<n.length;++i){var r=n[i];t.push(e.read(r))}return this.geometryFactory.createGeometryCollection(t)}},$c={coordinate:function(n){return[n.x,n.y]},Point:function(n){var e=$c.coordinate.apply(this,[n.getCoordinate()]);return{type:"Point",coordinates:e}},MultiPoint:function(n){for(var e=this,t=[],i=0;i<n._geometries.length;++i){var r=n._geometries[i],a=$c.Point.apply(e,[r]);t.push(a.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(n){for(var e=this,t=[],i=n.getCoordinates(),r=0;r<i.length;++r){var a=i[r];t.push($c.coordinate.apply(e,[a]))}return{type:"LineString",coordinates:t}},MultiLineString:function(n){for(var e=this,t=[],i=0;i<n._geometries.length;++i){var r=n._geometries[i],a=$c.LineString.apply(e,[r]);t.push(a.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(n){var e=this,t=[],i=$c.LineString.apply(this,[n._shell]);t.push(i.coordinates);for(var r=0;r<n._holes.length;++r){var a=n._holes[r],o=$c.LineString.apply(e,[a]);t.push(o.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(n){for(var e=this,t=[],i=0;i<n._geometries.length;++i){var r=n._geometries[i],a=$c.Polygon.apply(e,[r]);t.push(a.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(n){for(var e=this,t=[],i=0;i<n._geometries.length;++i){var r=n._geometries[i],a=r.getGeometryType();t.push($c[a].apply(e,[r]))}return{type:"GeometryCollection",geometries:t}}},YT=function(e){this.geometryFactory=e||new gi,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new E0(this.geometryFactory)};YT.prototype.read=function(e){var t=this.parser.read(e);return this.precisionModel.getType()===Oi.FIXED&&this.reducePrecision(t),t};YT.prototype.reducePrecision=function(e){var t=this,i,r;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(i=0,r=e.points.length;i<r;i++)t.precisionModel.makePrecise(e.points[i]);else if(e.geometries)for(i=0,r=e.geometries.length;i<r;i++)t.reducePrecision(e.geometries[i])};var sP=function(){this.parser=new E0(this.geometryFactory)};sP.prototype.write=function(e){return this.parser.write(e)};var Xt=function(){},k0={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Xt.prototype.interfaces_=function(){return[]};Xt.prototype.getClass=function(){return Xt};Xt.opposite=function(e){return e===Xt.LEFT?Xt.RIGHT:e===Xt.RIGHT?Xt.LEFT:e};k0.ON.get=function(){return 0};k0.LEFT.get=function(){return 1};k0.RIGHT.get=function(){return 2};Object.defineProperties(Xt,k0);function L0(n){this.message=n||""}L0.prototype=new Error;L0.prototype.name="EmptyStackException";function Jl(){this.array_=[]}Jl.prototype=new pl;Jl.prototype.add=function(n){return this.array_.push(n),!0};Jl.prototype.get=function(n){if(n<0||n>=this.size())throw new Error;return this.array_[n]};Jl.prototype.push=function(n){return this.array_.push(n),n};Jl.prototype.pop=function(n){if(this.array_.length===0)throw new L0;return this.array_.pop()};Jl.prototype.peek=function(){if(this.array_.length===0)throw new L0;return this.array_[this.array_.length-1]};Jl.prototype.empty=function(){return this.array_.length===0};Jl.prototype.isEmpty=function(){return this.empty()};Jl.prototype.search=function(n){return this.array_.indexOf(n)};Jl.prototype.size=function(){return this.array_.length};Jl.prototype.toArray=function(){for(var n=this,e=[],t=0,i=this.array_.length;t<i;t++)e.push(n.array_[t]);return e};var Vl=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Vl.prototype.getCoordinate=function(){return this._minCoord};Vl.prototype.getRightmostSide=function(e,t){var i=this.getRightmostSideOfSegment(e,t);return i<0&&(i=this.getRightmostSideOfSegment(e,t-1)),i<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),i};Vl.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();si.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],i=e[this._minIndex+1],r=ln.computeOrientation(this._minCoord,i,t),a=!1;(t.y<this._minCoord.y&&i.y<this._minCoord.y&&r===ln.COUNTERCLOCKWISE||t.y>this._minCoord.y&&i.y>this._minCoord.y&&r===ln.CLOCKWISE)&&(a=!0),a&&(this._minIndex=this._minIndex-1)};Vl.prototype.getRightmostSideOfSegment=function(e,t){var i=e.getEdge(),r=i.getCoordinates();if(t<0||t+1>=r.length||r[t].y===r[t+1].y)return-1;var a=Xt.LEFT;return r[t].y<r[t+1].y&&(a=Xt.RIGHT),a};Vl.prototype.getEdge=function(){return this._orientedDe};Vl.prototype.checkForRightmostCoordinate=function(e){for(var t=this,i=e.getEdge().getCoordinates(),r=0;r<i.length-1;r++)(t._minCoord===null||i[r].x>t._minCoord.x)&&(t._minDe=e,t._minIndex=r,t._minCoord=i[r])};Vl.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode(),t=e.getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)};Vl.prototype.findEdge=function(e){for(var t=this,i=e.iterator();i.hasNext();){var r=i.next();r.isForward()&&t.checkForRightmostCoordinate(r)}si.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe;var a=this.getRightmostSide(this._minDe,this._minIndex);a===Xt.LEFT&&(this._orientedDe=this._minDe.getSym())};Vl.prototype.interfaces_=function(){return[]};Vl.prototype.getClass=function(){return Vl};var Kc=function(n){function e(t,i){n.call(this,e.msgWithCoord(t,i)),this.pt=i?new bt(i):null,this.name="TopologyException"}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(i,r){return r?i:i+" [ "+r+" ]"},e}(Xc),N0=function(){this.array_=[]};N0.prototype.addLast=function(e){this.array_.push(e)};N0.prototype.removeFirst=function(){return this.array_.shift()};N0.prototype.isEmpty=function(){return this.array_.length===0};var gs=function(){this._finder=null,this._dirEdgeList=new en,this._nodes=new en,this._rightMostCoord=null,this._env=null,this._finder=new Vl};gs.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.setVisited(!1)}};gs.prototype.getRightmostCoordinate=function(){return this._rightMostCoord};gs.prototype.computeNodeDepth=function(e){for(var t=this,i=null,r=e.getEdges().iterator();r.hasNext();){var a=r.next();if(a.isVisited()||a.getSym().isVisited()){i=a;break}}if(i===null)throw new Kc("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(i);for(var o=e.getEdges().iterator();o.hasNext();){var s=o.next();s.setVisited(!0),t.copySymDepths(s)}};gs.prototype.computeDepth=function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.setEdgeDepths(Xt.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)};gs.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()};gs.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth(Xt.RIGHT)>=1&&t.getDepth(Xt.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}};gs.prototype.computeDepths=function(e){var t=this,i=new FT,r=new N0,a=e.getNode();for(r.addLast(a),i.add(a),e.setVisited(!0);!r.isEmpty();){var o=r.removeFirst();i.add(o),t.computeNodeDepth(o);for(var s=o.getEdges().iterator();s.hasNext();){var h=s.next(),p=h.getSym();if(!p.isVisited()){var f=p.getNode();i.contains(f)||(r.addLast(f),i.add(f))}}}};gs.prototype.compareTo=function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0};gs.prototype.getEnvelope=function(){if(this._env===null){for(var e=new An,t=this._dirEdgeList.iterator();t.hasNext();)for(var i=t.next(),r=i.getEdge().getCoordinates(),a=0;a<r.length-1;a++)e.expandToInclude(r[a]);this._env=e}return this._env};gs.prototype.addReachable=function(e){var t=this,i=new Jl;for(i.add(e);!i.empty();){var r=i.pop();t.add(r,i)}};gs.prototype.copySymDepths=function(e){var t=e.getSym();t.setDepth(Xt.LEFT,e.getDepth(Xt.RIGHT)),t.setDepth(Xt.RIGHT,e.getDepth(Xt.LEFT))};gs.prototype.add=function(e,t){var i=this;e.setVisited(!0),this._nodes.add(e);for(var r=e.getEdges().iterator();r.hasNext();){var a=r.next();i._dirEdgeList.add(a);var o=a.getSym(),s=o.getNode();s.isVisited()||t.push(s)}};gs.prototype.getNodes=function(){return this._nodes};gs.prototype.getDirectedEdges=function(){return this._dirEdgeList};gs.prototype.interfaces_=function(){return[qo]};gs.prototype.getClass=function(){return gs};var nr=function n(){var e=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var i=arguments[0];this.init(1),this.location[Xt.ON]=i}else if(arguments[0]instanceof n){var r=arguments[0];if(this.init(r.location.length),r!==null)for(var a=0;a<this.location.length;a++)e.location[a]=r.location[a]}}else if(arguments.length===3){var o=arguments[0],s=arguments[1],h=arguments[2];this.init(3),this.location[Xt.ON]=o,this.location[Xt.LEFT]=s,this.location[Xt.RIGHT]=h}};nr.prototype.setAllLocations=function(e){for(var t=this,i=0;i<this.location.length;i++)t.location[i]=e};nr.prototype.isNull=function(){for(var e=this,t=0;t<this.location.length;t++)if(e.location[t]!==kt.NONE)return!1;return!0};nr.prototype.setAllLocationsIfNull=function(e){for(var t=this,i=0;i<this.location.length;i++)t.location[i]===kt.NONE&&(t.location[i]=e)};nr.prototype.isLine=function(){return this.location.length===1};nr.prototype.merge=function(e){var t=this;if(e.location.length>this.location.length){var i=new Array(3).fill(null);i[Xt.ON]=this.location[Xt.ON],i[Xt.LEFT]=kt.NONE,i[Xt.RIGHT]=kt.NONE,this.location=i}for(var r=0;r<this.location.length;r++)t.location[r]===kt.NONE&&r<e.location.length&&(t.location[r]=e.location[r])};nr.prototype.getLocations=function(){return this.location};nr.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[Xt.LEFT];this.location[Xt.LEFT]=this.location[Xt.RIGHT],this.location[Xt.RIGHT]=e};nr.prototype.toString=function(){var e=new Ql;return this.location.length>1&&e.append(kt.toLocationSymbol(this.location[Xt.LEFT])),e.append(kt.toLocationSymbol(this.location[Xt.ON])),this.location.length>1&&e.append(kt.toLocationSymbol(this.location[Xt.RIGHT])),e.toString()};nr.prototype.setLocations=function(e,t,i){this.location[Xt.ON]=e,this.location[Xt.LEFT]=t,this.location[Xt.RIGHT]=i};nr.prototype.get=function(e){return e<this.location.length?this.location[e]:kt.NONE};nr.prototype.isArea=function(){return this.location.length>1};nr.prototype.isAnyNull=function(){for(var e=this,t=0;t<this.location.length;t++)if(e.location[t]===kt.NONE)return!0;return!1};nr.prototype.setLocation=function(){if(arguments.length===1){var e=arguments[0];this.setLocation(Xt.ON,e)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];this.location[t]=i}};nr.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(kt.NONE)};nr.prototype.isEqualOnSide=function(e,t){return this.location[t]===e.location[t]};nr.prototype.allPositionsEqual=function(e){for(var t=this,i=0;i<this.location.length;i++)if(t.location[i]!==e)return!1;return!0};nr.prototype.interfaces_=function(){return[]};nr.prototype.getClass=function(){return nr};var Gi=function n(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new nr(e),this.elt[1]=new nr(e)}else if(arguments[0]instanceof n){var t=arguments[0];this.elt[0]=new nr(t.elt[0]),this.elt[1]=new nr(t.elt[1])}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.elt[0]=new nr(kt.NONE),this.elt[1]=new nr(kt.NONE),this.elt[i].setLocation(r)}else if(arguments.length===3){var a=arguments[0],o=arguments[1],s=arguments[2];this.elt[0]=new nr(a,o,s),this.elt[1]=new nr(a,o,s)}else if(arguments.length===4){var h=arguments[0],p=arguments[1],f=arguments[2],y=arguments[3];this.elt[0]=new nr(kt.NONE,kt.NONE,kt.NONE),this.elt[1]=new nr(kt.NONE,kt.NONE,kt.NONE),this.elt[h].setLocations(p,f,y)}};Gi.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e};Gi.prototype.setAllLocations=function(e,t){this.elt[e].setAllLocations(t)};Gi.prototype.isNull=function(e){return this.elt[e].isNull()};Gi.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];this.elt[t].setAllLocationsIfNull(i)}};Gi.prototype.isLine=function(e){return this.elt[e].isLine()};Gi.prototype.merge=function(e){for(var t=this,i=0;i<2;i++)t.elt[i]===null&&e.elt[i]!==null?t.elt[i]=new nr(e.elt[i]):t.elt[i].merge(e.elt[i])};Gi.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()};Gi.prototype.getLocation=function(){if(arguments.length===1){var e=arguments[0];return this.elt[e].get(Xt.ON)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];return this.elt[t].get(i)}};Gi.prototype.toString=function(){var e=new Ql;return this.elt[0]!==null&&(e.append("A:"),e.append(this.elt[0].toString())),this.elt[1]!==null&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()};Gi.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var e=arguments[0];return this.elt[e].isArea()}};Gi.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()};Gi.prototype.setLocation=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1];this.elt[e].setLocation(Xt.ON,t)}else if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];this.elt[i].setLocation(r,a)}};Gi.prototype.isEqualOnSide=function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)};Gi.prototype.allPositionsEqual=function(e,t){return this.elt[e].allPositionsEqual(t)};Gi.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new nr(this.elt[e].location[0]))};Gi.prototype.interfaces_=function(){return[]};Gi.prototype.getClass=function(){return Gi};Gi.toLineLabel=function(e){for(var t=new Gi(kt.NONE),i=0;i<2;i++)t.setLocation(i,e.getLocation(i));return t};var Kr=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new en,this._pts=new en,this._label=new Gi(kt.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new en,this._geometryFactory=null;var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()};Kr.prototype.computeRing=function(){var e=this;if(this._ring!==null)return null;for(var t=new Array(this._pts.size()).fill(null),i=0;i<this._pts.size();i++)t[i]=e._pts.get(i);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=ln.isCCW(this._ring.getCoordinates())};Kr.prototype.isIsolated=function(){return this._label.getGeometryCount()===1};Kr.prototype.computePoints=function(e){var t=this;this._startDe=e;var i=e,r=!0;do{if(i===null)throw new Kc("Found null DirectedEdge");if(i.getEdgeRing()===t)throw new Kc("Directed Edge visited twice during ring-building at "+i.getCoordinate());t._edges.add(i);var a=i.getLabel();si.isTrue(a.isArea()),t.mergeLabel(a),t.addPoints(i.getEdge(),i.isForward(),r),r=!1,t.setEdgeRing(i,t),i=t.getNext(i)}while(i!==this._startDe)};Kr.prototype.getLinearRing=function(){return this._ring};Kr.prototype.getCoordinate=function(e){return this._pts.get(e)};Kr.prototype.computeMaxNodeDegree=function(){var e=this;this._maxNodeDegree=0;var t=this._startDe;do{var i=t.getNode(),r=i.getEdges().getOutgoingDegree(e);r>e._maxNodeDegree&&(e._maxNodeDegree=r),t=e.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2};Kr.prototype.addPoints=function(e,t,i){var r=this,a=e.getCoordinates();if(t){var o=1;i&&(o=0);for(var s=o;s<a.length;s++)r._pts.add(a[s])}else{var h=a.length-2;i&&(h=a.length-1);for(var p=h;p>=0;p--)r._pts.add(a[p])}};Kr.prototype.isHole=function(){return this._isHole};Kr.prototype.setInResult=function(){var e=this._startDe;do e.getEdge().setInResult(!0),e=e.getNext();while(e!==this._startDe)};Kr.prototype.containsPoint=function(e){var t=this.getLinearRing(),i=t.getEnvelopeInternal();if(!i.contains(e)||!ln.isPointInRing(e,t.getCoordinates()))return!1;for(var r=this._holes.iterator();r.hasNext();){var a=r.next();if(a.containsPoint(e))return!1}return!0};Kr.prototype.addHole=function(e){this._holes.add(e)};Kr.prototype.isShell=function(){return this._shell===null};Kr.prototype.getLabel=function(){return this._label};Kr.prototype.getEdges=function(){return this._edges};Kr.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree};Kr.prototype.getShell=function(){return this._shell};Kr.prototype.mergeLabel=function(){if(arguments.length===1){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(arguments.length===2){var t=arguments[0],i=arguments[1],r=t.getLocation(i,Xt.RIGHT);if(r===kt.NONE)return null;if(this._label.getLocation(i)===kt.NONE)return this._label.setLocation(i,r),null}};Kr.prototype.setShell=function(e){this._shell=e,e!==null&&e.addHole(this)};Kr.prototype.toPolygon=function(e){for(var t=this,i=new Array(this._holes.size()).fill(null),r=0;r<this._holes.size();r++)i[r]=t._holes.get(r).getLinearRing();var a=e.createPolygon(this.getLinearRing(),i);return a};Kr.prototype.interfaces_=function(){return[]};Kr.prototype.getClass=function(){return Kr};var V6=function(n){function e(){var t=arguments[0],i=arguments[1];n.call(this,t,i)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(i,r){i.setMinEdgeRing(r)},e.prototype.getNext=function(i){return i.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Kr),q6=function(n){function e(){var t=arguments[0],i=arguments[1];n.call(this,t,i)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var i=this,r=new en,a=this._startDe;do{if(a.getMinEdgeRing()===null){var o=new V6(a,i._geometryFactory);r.add(o)}a=a.getNext()}while(a!==this._startDe);return r},e.prototype.setEdgeRing=function(i,r){i.setEdgeRing(r)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var i=this,r=this._startDe;do{var a=r.getNode();a.getEdges().linkMinimalDirectedEdges(i),r=r.getNext()}while(r!==this._startDe)},e.prototype.getNext=function(i){return i.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Kr),ko=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._label=e}}};ko.prototype.setVisited=function(e){this._isVisited=e};ko.prototype.setInResult=function(e){this._isInResult=e};ko.prototype.isCovered=function(){return this._isCovered};ko.prototype.isCoveredSet=function(){return this._isCoveredSet};ko.prototype.setLabel=function(e){this._label=e};ko.prototype.getLabel=function(){return this._label};ko.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0};ko.prototype.updateIM=function(e){si.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)};ko.prototype.isInResult=function(){return this._isInResult};ko.prototype.isVisited=function(){return this._isVisited};ko.prototype.interfaces_=function(){return[]};ko.prototype.getClass=function(){return ko};var I0=function(n){function e(){n.call(this),this._coord=null,this._edges=null;var t=arguments[0],i=arguments[1];this._coord=t,this._edges=i,this._label=new Gi(0,kt.NONE)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var i=this.getEdges().getEdges().iterator();i.hasNext();){var r=i.next();if(r.getEdge().isInResult())return!0}return!1},e.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(i){i.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(i){},e.prototype.computeMergedLocation=function(i,r){var a=kt.NONE;if(a=this._label.getLocation(r),!i.isNull(r)){var o=i.getLocation(r);a!==kt.BOUNDARY&&(a=o)}return a},e.prototype.setLabel=function(){if(arguments.length===2){var i=arguments[0],r=arguments[1];this._label===null?this._label=new Gi(i,r):this._label.setLocation(i,r)}else return n.prototype.setLabel.apply(this,arguments)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){var i=this;if(arguments[0]instanceof e){var r=arguments[0];this.mergeLabel(r._label)}else if(arguments[0]instanceof Gi)for(var a=arguments[0],o=0;o<2;o++){var s=i.computeMergedLocation(a,o),h=i._label.getLocation(o);h===kt.NONE&&i._label.setLocation(o,s)}},e.prototype.add=function(i){this._edges.insert(i),i.setNode(this)},e.prototype.setLabelBoundary=function(i){if(this._label===null)return null;var r=kt.NONE;this._label!==null&&(r=this._label.getLocation(i));var a=null;switch(r){case kt.BOUNDARY:a=kt.INTERIOR;break;case kt.INTERIOR:a=kt.BOUNDARY;break;default:a=kt.BOUNDARY;break}this._label.setLocation(i,a)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ko),ql=function(){this.nodeMap=new Ka,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};ql.prototype.find=function(e){return this.nodeMap.get(e)};ql.prototype.addNode=function(){if(arguments[0]instanceof bt){var e=arguments[0],t=this.nodeMap.get(e);return t===null&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}else if(arguments[0]instanceof I0){var i=arguments[0],r=this.nodeMap.get(i.getCoordinate());return r===null?(this.nodeMap.put(i.getCoordinate(),i),i):(r.mergeLabel(i),r)}};ql.prototype.print=function(e){for(var t=this.iterator();t.hasNext();){var i=t.next();i.print(e)}};ql.prototype.iterator=function(){return this.nodeMap.values().iterator()};ql.prototype.values=function(){return this.nodeMap.values()};ql.prototype.getBoundaryNodes=function(e){for(var t=new en,i=this.iterator();i.hasNext();){var r=i.next();r.getLabel().getLocation(e)===kt.BOUNDARY&&t.add(r)}return t};ql.prototype.add=function(e){var t=e.getCoordinate(),i=this.addNode(t);i.add(e)};ql.prototype.interfaces_=function(){return[]};ql.prototype.getClass=function(){return ql};var Ki=function(){},lv={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Ki.prototype.interfaces_=function(){return[]};Ki.prototype.getClass=function(){return Ki};Ki.isNorthern=function(e){return e===Ki.NE||e===Ki.NW};Ki.isOpposite=function(e,t){if(e===t)return!1;var i=(e-t+4)%4;return i===2};Ki.commonHalfPlane=function(e,t){if(e===t)return e;var i=(e-t+4)%4;if(i===2)return-1;var r=e<t?e:t,a=e>t?e:t;return r===0&&a===3?3:r};Ki.isInHalfPlane=function(e,t){return t===Ki.SE?e===Ki.SE||e===Ki.SW:e===t||e===t+1};Ki.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],t=arguments[1];if(e===0&&t===0)throw new fr("Cannot compute the quadrant for point ( "+e+", "+t+" )");return e>=0?t>=0?Ki.NE:Ki.SE:t>=0?Ki.NW:Ki.SW}else if(arguments[0]instanceof bt&&arguments[1]instanceof bt){var i=arguments[0],r=arguments[1];if(r.x===i.x&&r.y===i.y)throw new fr("Cannot compute the quadrant for two identical points "+i);return r.x>=i.x?r.y>=i.y?Ki.NE:Ki.SE:r.y>=i.y?Ki.NW:Ki.SW}};lv.NE.get=function(){return 0};lv.NW.get=function(){return 1};lv.SW.get=function(){return 2};lv.SE.get=function(){return 3};Object.defineProperties(Ki,lv);var Qa=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var e=arguments[0];this._edge=e}else if(arguments.length===3){var t=arguments[0],i=arguments[1],r=arguments[2],a=null;this._edge=t,this.init(i,r),this._label=a}else if(arguments.length===4){var o=arguments[0],s=arguments[1],h=arguments[2],p=arguments[3];this._edge=o,this.init(s,h),this._label=p}};Qa.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:ln.computeOrientation(e._p0,e._p1,this._p1)};Qa.prototype.getDy=function(){return this._dy};Qa.prototype.getCoordinate=function(){return this._p0};Qa.prototype.setNode=function(e){this._node=e};Qa.prototype.print=function(e){var t=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),r=i.lastIndexOf("."),a=i.substring(r+1);e.print("  "+a+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)};Qa.prototype.compareTo=function(e){var t=e;return this.compareDirection(t)};Qa.prototype.getDirectedCoordinate=function(){return this._p1};Qa.prototype.getDx=function(){return this._dx};Qa.prototype.getLabel=function(){return this._label};Qa.prototype.getEdge=function(){return this._edge};Qa.prototype.getQuadrant=function(){return this._quadrant};Qa.prototype.getNode=function(){return this._node};Qa.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),i=t.lastIndexOf("."),r=t.substring(i+1);return"  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label};Qa.prototype.computeLabel=function(e){};Qa.prototype.init=function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=Ki.quadrant(this._dx,this._dy),si.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")};Qa.prototype.interfaces_=function(){return[qo]};Qa.prototype.getClass=function(){return Qa};var s1=function(n){function e(){var t=arguments[0],i=arguments[1];if(n.call(this,t),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=i,i)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var r=t.getNumPoints()-1;this.init(t.getCoordinate(r),t.getCoordinate(r-1))}this.computeDirectedLabel()}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(i){return this._depth[i]},e.prototype.setVisited=function(i){this._isVisited=i},e.prototype.computeDirectedLabel=function(){this._label=new Gi(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(i,r){if(this._depth[i]!==-999&&this._depth[i]!==r)throw new Kc("assigned depths do not match",this.getCoordinate());this._depth[i]=r},e.prototype.isInteriorAreaEdge=function(){for(var i=this,r=!0,a=0;a<2;a++)i._label.isArea(a)&&i._label.getLocation(a,Xt.LEFT)===kt.INTERIOR&&i._label.getLocation(a,Xt.RIGHT)===kt.INTERIOR||(r=!1);return r},e.prototype.setNextMin=function(i){this._nextMin=i},e.prototype.print=function(i){n.prototype.print.call(this,i),i.print(" "+this._depth[Xt.LEFT]+"/"+this._depth[Xt.RIGHT]),i.print(" ("+this.getDepthDelta()+")"),this._isInResult&&i.print(" inResult")},e.prototype.setMinEdgeRing=function(i){this._minEdgeRing=i},e.prototype.isLineEdge=function(){var i=this._label.isLine(0)||this._label.isLine(1),r=!this._label.isArea(0)||this._label.allPositionsEqual(0,kt.EXTERIOR),a=!this._label.isArea(1)||this._label.allPositionsEqual(1,kt.EXTERIOR);return i&&r&&a},e.prototype.setEdgeRing=function(i){this._edgeRing=i},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var i=this._edge.getDepthDelta();return this._isForward||(i=-i),i},e.prototype.setInResult=function(i){this._isInResult=i},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(i){this.print(i),i.print(" "),this._isForward?this._edge.print(i):this._edge.printReverse(i)},e.prototype.setSym=function(i){this._sym=i},e.prototype.setVisitedEdge=function(i){this.setVisited(i),this._sym.setVisited(i)},e.prototype.setEdgeDepths=function(i,r){var a=this.getEdge().getDepthDelta();this._isForward||(a=-a);var o=1;i===Xt.LEFT&&(o=-1);var s=Xt.opposite(i),h=a*o,p=r+h;this.setDepth(i,r),this.setDepth(s,p)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(i){this._next=i},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(i,r){return i===kt.EXTERIOR&&r===kt.INTERIOR?1:i===kt.INTERIOR&&r===kt.EXTERIOR?-1:0},e}(Qa),sf=function(){};sf.prototype.createNode=function(e){return new I0(e,null)};sf.prototype.interfaces_=function(){return[]};sf.prototype.getClass=function(){return sf};var wr=function(){if(this._edges=new en,this._nodes=null,this._edgeEndList=new en,arguments.length===0)this._nodes=new ql(new sf);else if(arguments.length===1){var e=arguments[0];this._nodes=new ql(e)}};wr.prototype.printEdges=function(e){var t=this;e.println("Edges:");for(var i=0;i<this._edges.size();i++){e.println("edge "+i+":");var r=t._edges.get(i);r.print(e),r.eiList.print(e)}};wr.prototype.find=function(e){return this._nodes.find(e)};wr.prototype.addNode=function(){if(arguments[0]instanceof I0){var e=arguments[0];return this._nodes.addNode(e)}else if(arguments[0]instanceof bt){var t=arguments[0];return this._nodes.addNode(t)}};wr.prototype.getNodeIterator=function(){return this._nodes.iterator()};wr.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();){var t=e.next();t.getEdges().linkResultDirectedEdges()}};wr.prototype.debugPrintln=function(e){za.out.println(e)};wr.prototype.isBoundaryNode=function(e,t){var i=this._nodes.find(t);if(i===null)return!1;var r=i.getLabel();return r!==null&&r.getLocation(e)===kt.BOUNDARY};wr.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();){var t=e.next();t.getEdges().linkAllDirectedEdges()}};wr.prototype.matchInSameDirection=function(e,t,i,r){return e.equals(i)?ln.computeOrientation(e,t,r)===ln.COLLINEAR&&Ki.quadrant(e,t)===Ki.quadrant(i,r):!1};wr.prototype.getEdgeEnds=function(){return this._edgeEndList};wr.prototype.debugPrint=function(e){za.out.print(e)};wr.prototype.getEdgeIterator=function(){return this._edges.iterator()};wr.prototype.findEdgeInSameDirection=function(e,t){for(var i=this,r=0;r<this._edges.size();r++){var a=i._edges.get(r),o=a.getCoordinates();if(i.matchInSameDirection(e,t,o[0],o[1])||i.matchInSameDirection(e,t,o[o.length-1],o[o.length-2]))return a}return null};wr.prototype.insertEdge=function(e){this._edges.add(e)};wr.prototype.findEdgeEnd=function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var i=t.next();if(i.getEdge()===e)return i}return null};wr.prototype.addEdges=function(e){for(var t=this,i=e.iterator();i.hasNext();){var r=i.next();t._edges.add(r);var a=new s1(r,!0),o=new s1(r,!1);a.setSym(o),o.setSym(a),t.add(a),t.add(o)}};wr.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)};wr.prototype.getNodes=function(){return this._nodes.values()};wr.prototype.findEdge=function(e,t){for(var i=this,r=0;r<this._edges.size();r++){var a=i._edges.get(r),o=a.getCoordinates();if(e.equals(o[0])&&t.equals(o[1]))return a}return null};wr.prototype.interfaces_=function(){return[]};wr.prototype.getClass=function(){return wr};wr.linkResultDirectedEdges=function(e){for(var t=e.iterator();t.hasNext();){var i=t.next();i.getEdges().linkResultDirectedEdges()}};var eo=function(){this._geometryFactory=null,this._shellList=new en;var e=arguments[0];this._geometryFactory=e};eo.prototype.sortShellsAndHoles=function(e,t,i){for(var r=e.iterator();r.hasNext();){var a=r.next();a.isHole()?i.add(a):t.add(a)}};eo.prototype.computePolygons=function(e){for(var t=this,i=new en,r=e.iterator();r.hasNext();){var a=r.next(),o=a.toPolygon(t._geometryFactory);i.add(o)}return i};eo.prototype.placeFreeHoles=function(e,t){for(var i=this,r=t.iterator();r.hasNext();){var a=r.next();if(a.getShell()===null){var o=i.findEdgeRingContaining(a,e);if(o===null)throw new Kc("unable to assign hole to a shell",a.getCoordinate(0));a.setShell(o)}}};eo.prototype.buildMinimalEdgeRings=function(e,t,i){for(var r=this,a=new en,o=e.iterator();o.hasNext();){var s=o.next();if(s.getMaxNodeDegree()>2){s.linkDirectedEdgesForMinimalEdgeRings();var h=s.buildMinimalRings(),p=r.findShell(h);p!==null?(r.placePolygonHoles(p,h),t.add(p)):i.addAll(h)}else a.add(s)}return a};eo.prototype.containsPoint=function(e){for(var t=this._shellList.iterator();t.hasNext();){var i=t.next();if(i.containsPoint(e))return!0}return!1};eo.prototype.buildMaximalEdgeRings=function(e){for(var t=this,i=new en,r=e.iterator();r.hasNext();){var a=r.next();if(a.isInResult()&&a.getLabel().isArea()&&a.getEdgeRing()===null){var o=new q6(a,t._geometryFactory);i.add(o),o.setInResult()}}return i};eo.prototype.placePolygonHoles=function(e,t){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()&&r.setShell(e)}};eo.prototype.getPolygons=function(){var e=this.computePolygons(this._shellList);return e};eo.prototype.findEdgeRingContaining=function(e,t){for(var i=e.getLinearRing(),r=i.getEnvelopeInternal(),a=i.getCoordinateN(0),o=null,s=null,h=t.iterator();h.hasNext();){var p=h.next(),f=p.getLinearRing(),y=f.getEnvelopeInternal();o!==null&&(s=o.getLinearRing().getEnvelopeInternal());var g=!1;y.contains(r)&&ln.isPointInRing(a,f.getCoordinates())&&(g=!0),g&&(o===null||s.contains(y))&&(o=p)}return o};eo.prototype.findShell=function(e){for(var t=0,i=null,r=e.iterator();r.hasNext();){var a=r.next();a.isHole()||(i=a,t++)}return si.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),i};eo.prototype.add=function(){if(arguments.length===1){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(arguments.length===2){var t=arguments[0],i=arguments[1];wr.linkResultDirectedEdges(i);var r=this.buildMaximalEdgeRings(t),a=new en,o=this.buildMinimalEdgeRings(r,this._shellList,a);this.sortShellsAndHoles(o,this._shellList,a),this.placeFreeHoles(this._shellList,a)}};eo.prototype.interfaces_=function(){return[]};eo.prototype.getClass=function(){return eo};var of=function(){};of.prototype.getBounds=function(){};of.prototype.interfaces_=function(){return[]};of.prototype.getClass=function(){return of};var gl=function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t};gl.prototype.getItem=function(){return this._item};gl.prototype.getBounds=function(){return this._bounds};gl.prototype.interfaces_=function(){return[of,Wo]};gl.prototype.getClass=function(){return gl};var Qc=function(){this._size=null,this._items=null,this._size=0,this._items=new en,this._items.add(null)};Qc.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e};Qc.prototype.size=function(){return this._size};Qc.prototype.reorder=function(e){for(var t=this,i=null,r=this._items.get(e);e*2<=this._size&&(i=e*2,i!==t._size&&t._items.get(i+1).compareTo(t._items.get(i))<0&&i++,t._items.get(i).compareTo(r)<0);e=i)t._items.set(e,t._items.get(i));this._items.set(e,r)};Qc.prototype.clear=function(){this._size=0,this._items.clear()};Qc.prototype.isEmpty=function(){return this._size===0};Qc.prototype.add=function(e){var t=this;this._items.add(null),this._size+=1;var i=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(i/2)))<0;i/=2)t._items.set(i,t._items.get(Math.trunc(i/2)));this._items.set(i,e)};Qc.prototype.interfaces_=function(){return[]};Qc.prototype.getClass=function(){return Qc};var Yu=function(){};Yu.prototype.visitItem=function(e){};Yu.prototype.interfaces_=function(){return[]};Yu.prototype.getClass=function(){return Yu};var dp=function(){};dp.prototype.insert=function(e,t){};dp.prototype.remove=function(e,t){};dp.prototype.query=function(){};dp.prototype.interfaces_=function(){return[]};dp.prototype.getClass=function(){return dp};var aa=function(){if(this._childBoundables=new en,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._level=e}}},oP={serialVersionUID:{configurable:!0}};aa.prototype.getLevel=function(){return this._level};aa.prototype.size=function(){return this._childBoundables.size()};aa.prototype.getChildBoundables=function(){return this._childBoundables};aa.prototype.addChildBoundable=function(e){si.isTrue(this._bounds===null),this._childBoundables.add(e)};aa.prototype.isEmpty=function(){return this._childBoundables.isEmpty()};aa.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds};aa.prototype.interfaces_=function(){return[of,Wo]};aa.prototype.getClass=function(){return aa};oP.serialVersionUID.get=function(){return 6493722185909574e3};Object.defineProperties(aa,oP);var yl=function(){};yl.reverseOrder=function(){return{compare:function(t,i){return i.compareTo(t)}}};yl.min=function(e){return yl.sort(e),e.get(0)};yl.sort=function(e,t){var i=e.toArray();t?Md.sort(i,t):Md.sort(i);for(var r=e.iterator(),a=0,o=i.length;a<o;a++)r.next(),r.set(i[a])};yl.singletonList=function(e){var t=new en;return t.add(e),t};var Wr=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],i=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=i,this._distance=this.distance()};Wr.prototype.expandToQueue=function(e,t){var i=Wr.isComposite(this._boundable1),r=Wr.isComposite(this._boundable2);if(i&&r)return Wr.area(this._boundable1)>Wr.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,t),null):(this.expand(this._boundable2,this._boundable1,e,t),null);if(i)return this.expand(this._boundable1,this._boundable2,e,t),null;if(r)return this.expand(this._boundable2,this._boundable1,e,t),null;throw new fr("neither boundable is composite")};Wr.prototype.isLeaves=function(){return!(Wr.isComposite(this._boundable1)||Wr.isComposite(this._boundable2))};Wr.prototype.compareTo=function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0};Wr.prototype.expand=function(e,t,i,r){for(var a=this,o=e.getChildBoundables(),s=o.iterator();s.hasNext();){var h=s.next(),p=new Wr(h,t,a._itemDistance);p.getDistance()<r&&i.add(p)}};Wr.prototype.getBoundable=function(e){return e===0?this._boundable1:this._boundable2};Wr.prototype.getDistance=function(){return this._distance};Wr.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())};Wr.prototype.interfaces_=function(){return[qo]};Wr.prototype.getClass=function(){return Wr};Wr.area=function(e){return e.getBounds().getArea()};Wr.isComposite=function(e){return e instanceof aa};var Sa=function n(){if(this._root=null,this._built=!1,this._itemBoundables=new en,this._nodeCapacity=null,arguments.length===0){var e=n.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(arguments.length===1){var t=arguments[0];si.isTrue(t>1,"Node capacity must be greater than 1"),this._nodeCapacity=t}},A0={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Sa.prototype.getNodeCapacity=function(){return this._nodeCapacity};Sa.prototype.lastNode=function(e){return e.get(e.size()-1)};Sa.prototype.size=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var t=arguments[0],i=0,r=t.getChildBoundables().iterator();r.hasNext();){var a=r.next();a instanceof aa?i+=e.size(a):a instanceof gl&&(i+=1)}return i}};Sa.prototype.removeItem=function(e,t){for(var i=null,r=e.getChildBoundables().iterator();r.hasNext();){var a=r.next();a instanceof gl&&a.getItem()===t&&(i=a)}return i!==null?(e.getChildBoundables().remove(i),!0):!1};Sa.prototype.itemsTree=function(){var e=this;if(arguments.length===0){this.build();var t=this.itemsTree(this._root);return t===null?new en:t}else if(arguments.length===1){for(var i=arguments[0],r=new en,a=i.getChildBoundables().iterator();a.hasNext();){var o=a.next();if(o instanceof aa){var s=e.itemsTree(o);s!==null&&r.add(s)}else o instanceof gl?r.add(o.getItem()):si.shouldNeverReachHere()}return r.size()<=0?null:r}};Sa.prototype.insert=function(e,t){si.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new gl(e,t))};Sa.prototype.boundablesAtLevel=function(){var e=this;if(arguments.length===1){var t=arguments[0],i=new en;return this.boundablesAtLevel(t,this._root,i),i}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2];if(si.isTrue(r>-2),a.getLevel()===r)return o.add(a),null;for(var s=a.getChildBoundables().iterator();s.hasNext();){var h=s.next();h instanceof aa?e.boundablesAtLevel(r,h,o):(si.isTrue(h instanceof gl),r===-1&&o.add(h))}return null}};Sa.prototype.query=function(){var e=this;if(arguments.length===1){var t=arguments[0];this.build();var i=new en;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,i),i}else if(arguments.length===2){var r=arguments[0],a=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),r)&&this.query(r,this._root,a)}else if(arguments.length===3){if(jn(arguments[2],Yu)&&arguments[0]instanceof Object&&arguments[1]instanceof aa)for(var o=arguments[0],s=arguments[1],h=arguments[2],p=s.getChildBoundables(),f=0;f<p.size();f++){var y=p.get(f);e.getIntersectsOp().intersects(y.getBounds(),o)&&(y instanceof aa?e.query(o,y,h):y instanceof gl?h.visitItem(y.getItem()):si.shouldNeverReachHere())}else if(jn(arguments[2],pl)&&arguments[0]instanceof Object&&arguments[1]instanceof aa)for(var g=arguments[0],_=arguments[1],b=arguments[2],T=_.getChildBoundables(),E=0;E<T.size();E++){var k=T.get(E);e.getIntersectsOp().intersects(k.getBounds(),g)&&(k instanceof aa?e.query(g,k,b):k instanceof gl?b.add(k.getItem()):si.shouldNeverReachHere())}}};Sa.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0};Sa.prototype.getRoot=function(){return this.build(),this._root};Sa.prototype.remove=function(){var e=this;if(arguments.length===2){var t=arguments[0],i=arguments[1];return this.build(),this.getIntersectsOp().intersects(this._root.getBounds(),t)?this.remove(t,this._root,i):!1}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2],s=this.removeItem(a,o);if(s)return!0;for(var h=null,p=a.getChildBoundables().iterator();p.hasNext();){var f=p.next();if(e.getIntersectsOp().intersects(f.getBounds(),r)&&f instanceof aa&&(s=e.remove(r,f,o),s)){h=f;break}}return h!==null&&h.getChildBoundables().isEmpty()&&a.getChildBoundables().remove(h),s}};Sa.prototype.createHigherLevels=function(e,t){si.isTrue(!e.isEmpty());var i=this.createParentBoundables(e,t+1);return i.size()===1?i.get(0):this.createHigherLevels(i,t+1)};Sa.prototype.depth=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var t=arguments[0],i=0,r=t.getChildBoundables().iterator();r.hasNext();){var a=r.next();if(a instanceof aa){var o=e.depth(a);o>i&&(i=o)}}return i+1}};Sa.prototype.createParentBoundables=function(e,t){var i=this;si.isTrue(!e.isEmpty());var r=new en;r.add(this.createNode(t));var a=new en(e);yl.sort(a,this.getComparator());for(var o=a.iterator();o.hasNext();){var s=o.next();i.lastNode(r).getChildBoundables().size()===i.getNodeCapacity()&&r.add(i.createNode(t)),i.lastNode(r).addChildBoundable(s)}return r};Sa.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()};Sa.prototype.interfaces_=function(){return[Wo]};Sa.prototype.getClass=function(){return Sa};Sa.compareDoubles=function(e,t){return e>t?1:e<t?-1:0};A0.IntersectsOp.get=function(){return W6};A0.serialVersionUID.get=function(){return-3886435814360241e3};A0.DEFAULT_NODE_CAPACITY.get=function(){return 10};Object.defineProperties(Sa,A0);var W6=function(){},lf=function(){};lf.prototype.distance=function(e,t){};lf.prototype.interfaces_=function(){return[]};lf.prototype.getClass=function(){return lf};var lP=function(n){function e(i){i=i||e.DEFAULT_NODE_CAPACITY,n.call(this,i)}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(r,a){var o=this;si.isTrue(r.length>0);for(var s=new en,h=0;h<r.length;h++)s.addAll(o.createParentBoundablesFromVerticalSlice(r[h],a));return s},e.prototype.createNode=function(r){return new Ck(r)},e.prototype.size=function(){return arguments.length===0?n.prototype.size.call(this):n.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(arguments.length===2){var r=arguments[0],a=arguments[1];if(r.isNull())return null;n.prototype.insert.call(this,r,a)}else return n.prototype.insert.apply(this,arguments)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(r,a){for(var o=Math.trunc(Math.ceil(r.size()/a)),s=new Array(a).fill(null),h=r.iterator(),p=0;p<a;p++){s[p]=new en;for(var f=0;h.hasNext()&&f<o;){var y=h.next();s[p].add(y),f++}}return s},e.prototype.query=function(){if(arguments.length===1){var r=arguments[0];return n.prototype.query.call(this,r)}else if(arguments.length===2){var a=arguments[0],o=arguments[1];n.prototype.query.call(this,a,o)}else if(arguments.length===3){if(jn(arguments[2],Yu)&&arguments[0]instanceof Object&&arguments[1]instanceof aa){var s=arguments[0],h=arguments[1],p=arguments[2];n.prototype.query.call(this,s,h,p)}else if(jn(arguments[2],pl)&&arguments[0]instanceof Object&&arguments[1]instanceof aa){var f=arguments[0],y=arguments[1],g=arguments[2];n.prototype.query.call(this,f,y,g)}}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(r,a){return n.prototype.createParentBoundables.call(this,r,a)},e.prototype.remove=function(){if(arguments.length===2){var r=arguments[0],a=arguments[1];return n.prototype.remove.call(this,r,a)}else return n.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return arguments.length===0?n.prototype.depth.call(this):n.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(r,a){si.isTrue(!r.isEmpty());var o=Math.trunc(Math.ceil(r.size()/this.getNodeCapacity())),s=new en(r);yl.sort(s,e.xComparator);var h=this.verticalSlices(s,Math.trunc(Math.ceil(Math.sqrt(o))));return this.createParentBoundablesFromVerticalSlices(h,a)},e.prototype.nearestNeighbour=function(){if(arguments.length===1){if(jn(arguments[0],lf)){var r=arguments[0],a=new Wr(this.getRoot(),this.getRoot(),r);return this.nearestNeighbour(a)}else if(arguments[0]instanceof Wr){var o=arguments[0];return this.nearestNeighbour(o,qn.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof e&&jn(arguments[1],lf)){var s=arguments[0],h=arguments[1],p=new Wr(this.getRoot(),s.getRoot(),h);return this.nearestNeighbour(p)}else if(arguments[0]instanceof Wr&&typeof arguments[1]=="number"){var f=arguments[0],y=arguments[1],g=y,_=null,b=new Qc;for(b.add(f);!b.isEmpty()&&g>0;){var T=b.poll(),E=T.getDistance();if(E>=g)break;T.isLeaves()?(g=E,_=T):T.expandToQueue(b,g)}return[_.getBoundable(0).getItem(),_.getBoundable(1).getItem()]}}else if(arguments.length===3){var k=arguments[0],v=arguments[1],w=arguments[2],N=new gl(k,v),C=new Wr(this.getRoot(),N,w);return this.nearestNeighbour(C)[0]}},e.prototype.interfaces_=function(){return[dp,Wo]},e.prototype.getClass=function(){return e},e.centreX=function(r){return e.avg(r.getMinX(),r.getMaxX())},e.avg=function(r,a){return(r+a)/2},e.centreY=function(r){return e.avg(r.getMinY(),r.getMaxY())},t.STRtreeNode.get=function(){return Ck},t.serialVersionUID.get=function(){return 0x39920f7d5f261e0},t.xComparator.get=function(){return{interfaces_:function(){return[Km]},compare:function(i,r){return n.compareDoubles(e.centreX(i.getBounds()),e.centreX(r.getBounds()))}}},t.yComparator.get=function(){return{interfaces_:function(){return[Km]},compare:function(i,r){return n.compareDoubles(e.centreY(i.getBounds()),e.centreY(r.getBounds()))}}},t.intersectsOp.get=function(){return{interfaces_:function(){return[n.IntersectsOp]},intersects:function(i,r){return i.intersects(r)}}},t.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,t),e}(Sa),Ck=function(n){function e(){var t=arguments[0];n.call(this,t)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var i=null,r=this.getChildBoundables().iterator();r.hasNext();){var a=r.next();i===null?i=new An(a.getBounds()):i.expandToInclude(a.getBounds())}return i},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(aa),Ms=function(){};Ms.prototype.interfaces_=function(){return[]};Ms.prototype.getClass=function(){return Ms};Ms.relativeSign=function(e,t){return e<t?-1:e>t?1:0};Ms.compare=function(e,t,i){if(t.equals2D(i))return 0;var r=Ms.relativeSign(t.x,i.x),a=Ms.relativeSign(t.y,i.y);switch(e){case 0:return Ms.compareValue(r,a);case 1:return Ms.compareValue(a,r);case 2:return Ms.compareValue(a,-r);case 3:return Ms.compareValue(-r,a);case 4:return Ms.compareValue(-r,-a);case 5:return Ms.compareValue(-a,-r);case 6:return Ms.compareValue(-a,r);case 7:return Ms.compareValue(r,-a)}return si.shouldNeverReachHere("invalid octant value"),0};Ms.compareValue=function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0};var Vu=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],i=arguments[2],r=arguments[3];this._segString=e,this.coord=new bt(t),this.segmentIndex=i,this._segmentOctant=r,this._isInterior=!t.equals2D(e.getCoordinate(i))};Vu.prototype.getCoordinate=function(){return this.coord};Vu.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)};Vu.prototype.compareTo=function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:Ms.compare(this._segmentOctant,this.coord,t.coord)};Vu.prototype.isEndPoint=function(e){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===e};Vu.prototype.isInterior=function(){return this._isInterior};Vu.prototype.interfaces_=function(){return[qo]};Vu.prototype.getClass=function(){return Vu};var ys=function(){this._nodeMap=new Ka,this._edge=null;var e=arguments[0];this._edge=e};ys.prototype.getSplitCoordinates=function(){var e=this,t=new sv;this.addEndpoints();for(var i=this.iterator(),r=i.next();i.hasNext();){var a=i.next();e.addEdgeCoordinates(r,a,t),r=a}return t.toCoordinateArray()};ys.prototype.addCollapsedNodes=function(){var e=this,t=new en;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var i=t.iterator();i.hasNext();){var r=i.next().intValue();e.add(e._edge.getCoordinate(r),r)}};ys.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();){var i=t.next();i.print(e)}};ys.prototype.findCollapsesFromExistingVertices=function(e){for(var t=this,i=0;i<this._edge.size()-2;i++){var r=t._edge.getCoordinate(i),a=t._edge.getCoordinate(i+2);r.equals2D(a)&&e.add(new jl(i+1))}};ys.prototype.addEdgeCoordinates=function(e,t,i){var r=this,a=this._edge.getCoordinate(t.segmentIndex),o=t.isInterior()||!t.coord.equals2D(a);i.add(new bt(e.coord),!1);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)i.add(r._edge.getCoordinate(s));o&&i.add(new bt(t.coord))};ys.prototype.iterator=function(){return this._nodeMap.values().iterator()};ys.prototype.addSplitEdges=function(e){var t=this;this.addEndpoints(),this.addCollapsedNodes();for(var i=this.iterator(),r=i.next();i.hasNext();){var a=i.next(),o=t.createSplitEdge(r,a);e.add(o),r=a}};ys.prototype.findCollapseIndex=function(e,t,i){if(!e.coord.equals2D(t.coord))return!1;var r=t.segmentIndex-e.segmentIndex;return t.isInterior()||r--,r===1?(i[0]=e.segmentIndex+1,!0):!1};ys.prototype.findCollapsesFromInsertedNodes=function(e){for(var t=this,i=new Array(1).fill(null),r=this.iterator(),a=r.next();r.hasNext();){var o=r.next(),s=t.findCollapseIndex(a,o,i);s&&e.add(new jl(i[0])),a=o}};ys.prototype.getEdge=function(){return this._edge};ys.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)};ys.prototype.createSplitEdge=function(e,t){var i=this,r=t.segmentIndex-e.segmentIndex+2,a=this._edge.getCoordinate(t.segmentIndex),o=t.isInterior()||!t.coord.equals2D(a);o||r--;var s=new Array(r).fill(null),h=0;s[h++]=new bt(e.coord);for(var p=e.segmentIndex+1;p<=t.segmentIndex;p++)s[h++]=i._edge.getCoordinate(p);return o&&(s[h]=new bt(t.coord)),new Fr(s,this._edge.getData())};ys.prototype.add=function(e,t){var i=new Vu(this._edge,e,t,this._edge.getSegmentOctant(t)),r=this._nodeMap.get(i);return r!==null?(si.isTrue(r.coord.equals2D(e),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(i,i),i)};ys.prototype.checkSplitEdgesCorrectness=function(e){var t=this._edge.getCoordinates(),i=e.get(0),r=i.getCoordinate(0);if(!r.equals2D(t[0]))throw new Xc("bad split edge start point at "+r);var a=e.get(e.size()-1),o=a.getCoordinates(),s=o[o.length-1];if(!s.equals2D(t[t.length-1]))throw new Xc("bad split edge end point at "+s)};ys.prototype.interfaces_=function(){return[]};ys.prototype.getClass=function(){return ys};var hp=function(){};hp.prototype.interfaces_=function(){return[]};hp.prototype.getClass=function(){return hp};hp.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],t=arguments[1];if(e===0&&t===0)throw new fr("Cannot compute the octant for point ( "+e+", "+t+" )");var i=Math.abs(e),r=Math.abs(t);return e>=0?t>=0?i>=r?0:1:i>=r?7:6:t>=0?i>=r?3:2:i>=r?4:5}else if(arguments[0]instanceof bt&&arguments[1]instanceof bt){var a=arguments[0],o=arguments[1],s=o.x-a.x,h=o.y-a.y;if(s===0&&h===0)throw new fr("Cannot compute the octant for two identical points "+a);return hp.octant(s,h)}};var gc=function(){};gc.prototype.getCoordinates=function(){};gc.prototype.size=function(){};gc.prototype.getCoordinate=function(e){};gc.prototype.isClosed=function(){};gc.prototype.setData=function(e){};gc.prototype.getData=function(){};gc.prototype.interfaces_=function(){return[]};gc.prototype.getClass=function(){return gc};var Iy=function(){};Iy.prototype.addIntersection=function(e,t){};Iy.prototype.interfaces_=function(){return[gc]};Iy.prototype.getClass=function(){return Iy};var Fr=function(){this._nodeList=new ys(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};Fr.prototype.getCoordinates=function(){return this._pts};Fr.prototype.size=function(){return this._pts.length};Fr.prototype.getCoordinate=function(e){return this._pts[e]};Fr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};Fr.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))};Fr.prototype.setData=function(e){this._data=e};Fr.prototype.safeOctant=function(e,t){return e.equals2D(t)?0:hp.octant(e,t)};Fr.prototype.getData=function(){return this._data};Fr.prototype.addIntersection=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(arguments.length===4){var i=arguments[0],r=arguments[1],a=arguments[3],o=new bt(i.getIntersection(a));this.addIntersection(o,r)}};Fr.prototype.toString=function(){return ml.toLineString(new Rr(this._pts))};Fr.prototype.getNodeList=function(){return this._nodeList};Fr.prototype.addIntersectionNode=function(e,t){var i=t,r=i+1;if(r<this._pts.length){var a=this._pts[r];e.equals2D(a)&&(i=r)}var o=this._nodeList.add(e,i);return o};Fr.prototype.addIntersections=function(e,t,i){for(var r=this,a=0;a<e.getIntersectionNum();a++)r.addIntersection(e,t,i,a)};Fr.prototype.interfaces_=function(){return[Iy]};Fr.prototype.getClass=function(){return Fr};Fr.getNodedSubstrings=function(){if(arguments.length===1){var e=arguments[0],t=new en;return Fr.getNodedSubstrings(e,t),t}else if(arguments.length===2)for(var i=arguments[0],r=arguments[1],a=i.iterator();a.hasNext();){var o=a.next();o.getNodeList().addSplitEdges(r)}};var Pn=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new bt,this.p1=new bt;else if(arguments.length===1){var e=arguments[0];this.p0=new bt(e.p0),this.p1=new bt(e.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var t=arguments[0],i=arguments[1],r=arguments[2],a=arguments[3];this.p0=new bt(t,i),this.p1=new bt(r,a)}},cP={serialVersionUID:{configurable:!0}};Pn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)};Pn.prototype.orientationIndex=function(){if(arguments[0]instanceof Pn){var e=arguments[0],t=ln.orientationIndex(this.p0,this.p1,e.p0),i=ln.orientationIndex(this.p0,this.p1,e.p1);return t>=0&&i>=0||t<=0&&i<=0?Math.max(t,i):0}else if(arguments[0]instanceof bt){var r=arguments[0];return ln.orientationIndex(this.p0,this.p1,r)}};Pn.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])};Pn.prototype.isVertical=function(){return this.p0.x===this.p1.x};Pn.prototype.equals=function(e){if(!(e instanceof Pn))return!1;var t=e;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)};Pn.prototype.intersection=function(e){var t=new ih;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null};Pn.prototype.project=function(){if(arguments[0]instanceof bt){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new bt(e);var t=this.projectionFactor(e),i=new bt;return i.x=this.p0.x+t*(this.p1.x-this.p0.x),i.y=this.p0.y+t*(this.p1.y-this.p0.y),i}else if(arguments[0]instanceof Pn){var r=arguments[0],a=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(a>=1&&o>=1||a<=0&&o<=0)return null;var s=this.project(r.p0);a<0&&(s=this.p0),a>1&&(s=this.p1);var h=this.project(r.p1);return o<0&&(h=this.p0),o>1&&(h=this.p1),new Pn(s,h)}};Pn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()};Pn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)};Pn.prototype.getCoordinate=function(e){return e===0?this.p0:this.p1};Pn.prototype.distancePerpendicular=function(e){return ln.distancePointLinePerpendicular(e,this.p0,this.p1)};Pn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)};Pn.prototype.midPoint=function(){return Pn.midPoint(this.p0,this.p1)};Pn.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,r=t*t+i*i;if(r<=0)return qn.NaN;var a=((e.x-this.p0.x)*t+(e.y-this.p0.y)*i)/r;return a};Pn.prototype.closestPoints=function(e){var t=this.intersection(e);if(t!==null)return[t,t];var i=new Array(2).fill(null),r=qn.MAX_VALUE,a=null,o=this.closestPoint(e.p0);r=o.distance(e.p0),i[0]=o,i[1]=e.p0;var s=this.closestPoint(e.p1);a=s.distance(e.p1),a<r&&(r=a,i[0]=s,i[1]=e.p1);var h=e.closestPoint(this.p0);a=h.distance(this.p0),a<r&&(r=a,i[0]=this.p0,i[1]=h);var p=e.closestPoint(this.p1);return a=p.distance(this.p1),a<r&&(r=a,i[0]=this.p1,i[1]=p),i};Pn.prototype.closestPoint=function(e){var t=this.projectionFactor(e);if(t>0&&t<1)return this.project(e);var i=this.p0.distance(e),r=this.p1.distance(e);return i<r?this.p0:this.p1};Pn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)};Pn.prototype.getLength=function(){return this.p0.distance(this.p1)};Pn.prototype.compareTo=function(e){var t=e,i=this.p0.compareTo(t.p0);return i!==0?i:this.p1.compareTo(t.p1)};Pn.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e};Pn.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)};Pn.prototype.lineIntersection=function(e){try{var t=hl.intersection(this.p0,this.p1,e.p0,e.p1);return t}catch(i){if(!(i instanceof Af))throw i}finally{}return null};Pn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)};Pn.prototype.pointAlongOffset=function(e,t){var i=this.p0.x+e*(this.p1.x-this.p0.x),r=this.p0.y+e*(this.p1.y-this.p0.y),a=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(a*a+o*o),h=0,p=0;if(t!==0){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");h=t*a/s,p=t*o/s}var f=i-p,y=r+h,g=new bt(f,y);return g};Pn.prototype.setCoordinates=function(){if(arguments.length===1){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=i.x,this.p1.y=i.y}};Pn.prototype.segmentFraction=function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||qn.isNaN(t))&&(t=1),t};Pn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"};Pn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y};Pn.prototype.distance=function(){if(arguments[0]instanceof Pn){var e=arguments[0];return ln.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}else if(arguments[0]instanceof bt){var t=arguments[0];return ln.distancePointLine(t,this.p0,this.p1)}};Pn.prototype.pointAlong=function(e){var t=new bt;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t};Pn.prototype.hashCode=function(){var e=qn.doubleToLongBits(this.p0.x);e^=qn.doubleToLongBits(this.p0.y)*31;var t=Math.trunc(e)^Math.trunc(e>>32),i=qn.doubleToLongBits(this.p1.x);i^=qn.doubleToLongBits(this.p1.y)*31;var r=Math.trunc(i)^Math.trunc(i>>32);return t^r};Pn.prototype.interfaces_=function(){return[qo,Wo]};Pn.prototype.getClass=function(){return Pn};Pn.midPoint=function(e,t){return new bt((e.x+t.x)/2,(e.y+t.y)/2)};cP.serialVersionUID.get=function(){return 0x2d2172135f411c00};Object.defineProperties(Pn,cP);var Ay=function(){this.tempEnv1=new An,this.tempEnv2=new An,this._overlapSeg1=new Pn,this._overlapSeg2=new Pn};Ay.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var e=arguments[0],t=arguments[1],i=arguments[2],r=arguments[3];e.getLineSegment(t,this._overlapSeg1),i.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}};Ay.prototype.interfaces_=function(){return[]};Ay.prototype.getClass=function(){return Ay};var to=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],i=arguments[2],r=arguments[3];this._pts=e,this._start=t,this._end=i,this._context=r};to.prototype.getLineSegment=function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]};to.prototype.computeSelect=function(e,t,i,r){var a=this._pts[t],o=this._pts[i];if(r.tempEnv1.init(a,o),i-t===1)return r.select(this,t),null;if(!e.intersects(r.tempEnv1))return null;var s=Math.trunc((t+i)/2);t<s&&this.computeSelect(e,t,s,r),s<i&&this.computeSelect(e,s,i,r)};to.prototype.getCoordinates=function(){for(var e=this,t=new Array(this._end-this._start+1).fill(null),i=0,r=this._start;r<=this._end;r++)t[i++]=e._pts[r];return t};to.prototype.computeOverlaps=function(e,t){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,t)};to.prototype.setId=function(e){this._id=e};to.prototype.select=function(e,t){this.computeSelect(e,this._start,this._end,t)};to.prototype.getEnvelope=function(){if(this._env===null){var e=this._pts[this._start],t=this._pts[this._end];this._env=new An(e,t)}return this._env};to.prototype.getEndIndex=function(){return this._end};to.prototype.getStartIndex=function(){return this._start};to.prototype.getContext=function(){return this._context};to.prototype.getId=function(){return this._id};to.prototype.computeOverlapsInternal=function(e,t,i,r,a,o){var s=this._pts[e],h=this._pts[t],p=i._pts[r],f=i._pts[a];if(t-e===1&&a-r===1)return o.overlap(this,e,i,r),null;if(o.tempEnv1.init(s,h),o.tempEnv2.init(p,f),!o.tempEnv1.intersects(o.tempEnv2))return null;var y=Math.trunc((e+t)/2),g=Math.trunc((r+a)/2);e<y&&(r<g&&this.computeOverlapsInternal(e,y,i,r,g,o),g<a&&this.computeOverlapsInternal(e,y,i,g,a,o)),y<t&&(r<g&&this.computeOverlapsInternal(y,t,i,r,g,o),g<a&&this.computeOverlapsInternal(y,t,i,g,a,o))};to.prototype.interfaces_=function(){return[]};to.prototype.getClass=function(){return to};var Fl=function(){};Fl.prototype.interfaces_=function(){return[]};Fl.prototype.getClass=function(){return Fl};Fl.getChainStartIndices=function(e){var t=0,i=new en;i.add(new jl(t));do{var r=Fl.findChainEnd(e,t);i.add(new jl(r)),t=r}while(t<e.length-1);var a=Fl.toIntArray(i);return a};Fl.findChainEnd=function(e,t){for(var i=t;i<e.length-1&&e[i].equals2D(e[i+1]);)i++;if(i>=e.length-1)return e.length-1;for(var r=Ki.quadrant(e[i],e[i+1]),a=t+1;a<e.length;){if(!e[a-1].equals2D(e[a])){var o=Ki.quadrant(e[a-1],e[a]);if(o!==r)break}a++}return a-1};Fl.getChains=function(){if(arguments.length===1){var e=arguments[0];return Fl.getChains(e,null)}else if(arguments.length===2){for(var t=arguments[0],i=arguments[1],r=new en,a=Fl.getChainStartIndices(t),o=0;o<a.length-1;o++){var s=new to(t,a[o],a[o+1],i);r.add(s)}return r}};Fl.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),i=0;i<t.length;i++)t[i]=e.get(i).intValue();return t};var Yd=function(){};Yd.prototype.computeNodes=function(e){};Yd.prototype.getNodedSubstrings=function(){};Yd.prototype.interfaces_=function(){return[]};Yd.prototype.getClass=function(){return Yd};var Py=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this.setSegmentIntersector(e)}}};Py.prototype.setSegmentIntersector=function(e){this._segInt=e};Py.prototype.interfaces_=function(){return[Yd]};Py.prototype.getClass=function(){return Py};var VT=function(n){function e(i){i?n.call(this,i):n.call(this),this._monoChains=new en,this._index=new lP,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Fr.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(r){for(var a=this,o=Fl.getChains(r.getCoordinates(),r),s=o.iterator();s.hasNext();){var h=s.next();h.setId(a._idCounter++),a._index.insert(h.getEnvelope(),h),a._monoChains.add(h)}},e.prototype.computeNodes=function(r){var a=this;this._nodedSegStrings=r;for(var o=r.iterator();o.hasNext();)a.add(o.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var r=this,a=new Ek(this._segInt),o=this._monoChains.iterator();o.hasNext();)for(var s=o.next(),h=r._index.query(s.getEnvelope()),p=h.iterator();p.hasNext();){var f=p.next();if(f.getId()>s.getId()&&(s.computeOverlaps(f,a),r._nOverlaps++),r._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},t.SegmentOverlapAction.get=function(){return Ek},Object.defineProperties(e,t),e}(Py),Ek=function(n){function e(){n.call(this),this._si=null;var t=arguments[0];this._si=t}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(arguments.length===4){var i=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3],s=i.getContext(),h=a.getContext();this._si.processIntersections(s,r,h,o)}else return n.prototype.overlap.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ay),Di=function n(){if(this._quadrantSegments=n.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=n.CAP_ROUND,this._joinStyle=n.JOIN_ROUND,this._mitreLimit=n.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=n.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this.setQuadrantSegments(e)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];this.setQuadrantSegments(t),this.setEndCapStyle(i)}else if(arguments.length===4){var r=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(a),this.setJoinStyle(o),this.setMitreLimit(s)}}},lu={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Di.prototype.getEndCapStyle=function(){return this._endCapStyle};Di.prototype.isSingleSided=function(){return this._isSingleSided};Di.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,this._quadrantSegments===0&&(this._joinStyle=Di.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Di.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==Di.JOIN_ROUND&&(this._quadrantSegments=Di.DEFAULT_QUADRANT_SEGMENTS)};Di.prototype.getJoinStyle=function(){return this._joinStyle};Di.prototype.setJoinStyle=function(e){this._joinStyle=e};Di.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e};Di.prototype.getSimplifyFactor=function(){return this._simplifyFactor};Di.prototype.getQuadrantSegments=function(){return this._quadrantSegments};Di.prototype.setEndCapStyle=function(e){this._endCapStyle=e};Di.prototype.getMitreLimit=function(){return this._mitreLimit};Di.prototype.setMitreLimit=function(e){this._mitreLimit=e};Di.prototype.setSingleSided=function(e){this._isSingleSided=e};Di.prototype.interfaces_=function(){return[]};Di.prototype.getClass=function(){return Di};Di.bufferDistanceError=function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)};lu.CAP_ROUND.get=function(){return 1};lu.CAP_FLAT.get=function(){return 2};lu.CAP_SQUARE.get=function(){return 3};lu.JOIN_ROUND.get=function(){return 1};lu.JOIN_MITRE.get=function(){return 2};lu.JOIN_BEVEL.get=function(){return 3};lu.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8};lu.DEFAULT_MITRE_LIMIT.get=function(){return 5};lu.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01};Object.defineProperties(Di,lu);var Ar=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ln.COUNTERCLOCKWISE,this._inputLine=e||null},cv={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Ar.prototype.isDeletable=function(e,t,i,r){var a=this._inputLine[e],o=this._inputLine[t],s=this._inputLine[i];return!this.isConcave(a,o,s)||!this.isShallow(a,o,s,r)?!1:this.isShallowSampled(a,o,e,i,r)};Ar.prototype.deleteShallowConcavities=function(){for(var e=this,t=1,i=this.findNextNonDeletedIndex(t),r=this.findNextNonDeletedIndex(i),a=!1;r<this._inputLine.length;){var o=!1;e.isDeletable(t,i,r,e._distanceTol)&&(e._isDeleted[i]=Ar.DELETE,o=!0,a=!0),o?t=r:t=i,i=e.findNextNonDeletedIndex(t),r=e.findNextNonDeletedIndex(i)}return a};Ar.prototype.isShallowConcavity=function(e,t,i,r){var a=ln.computeOrientation(e,t,i),o=a===this._angleOrientation;if(!o)return!1;var s=ln.distancePointLine(t,e,i);return s<r};Ar.prototype.isShallowSampled=function(e,t,i,r,a){var o=this,s=Math.trunc((r-i)/Ar.NUM_PTS_TO_CHECK);s<=0&&(s=1);for(var h=i;h<r;h+=s)if(!o.isShallow(e,t,o._inputLine[h],a))return!1;return!0};Ar.prototype.isConcave=function(e,t,i){var r=ln.computeOrientation(e,t,i),a=r===this._angleOrientation;return a};Ar.prototype.simplify=function(e){var t=this;this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=ln.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var i=!1;do i=t.deleteShallowConcavities();while(i);return this.collapseLine()};Ar.prototype.findNextNonDeletedIndex=function(e){for(var t=e+1;t<this._inputLine.length&&this._isDeleted[t]===Ar.DELETE;)t++;return t};Ar.prototype.isShallow=function(e,t,i,r){var a=ln.distancePointLine(t,e,i);return a<r};Ar.prototype.collapseLine=function(){for(var e=this,t=new sv,i=0;i<this._inputLine.length;i++)e._isDeleted[i]!==Ar.DELETE&&t.add(e._inputLine[i]);return t.toCoordinateArray()};Ar.prototype.interfaces_=function(){return[]};Ar.prototype.getClass=function(){return Ar};Ar.simplify=function(e,t){var i=new Ar(e);return i.simplify(t)};cv.INIT.get=function(){return 0};cv.DELETE.get=function(){return 1};cv.KEEP.get=function(){return 1};cv.NUM_PTS_TO_CHECK.get=function(){return 10};Object.defineProperties(Ar,cv);var Lo=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new en},uP={COORDINATE_ARRAY_TYPE:{configurable:!0}};Lo.prototype.getCoordinates=function(){var e=this._ptList.toArray(Lo.COORDINATE_ARRAY_TYPE);return e};Lo.prototype.setPrecisionModel=function(e){this._precisionModel=e};Lo.prototype.addPt=function(e){var t=new bt(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)};Lo.prototype.revere=function(){};Lo.prototype.addPts=function(e,t){var i=this;if(t)for(var r=0;r<e.length;r++)i.addPt(e[r]);else for(var a=e.length-1;a>=0;a--)i.addPt(e[a])};Lo.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1),i=e.distance(t);return i<this._minimimVertexDistance};Lo.prototype.toString=function(){var e=new gi,t=e.createLineString(this.getCoordinates());return t.toString()};Lo.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new bt(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)};Lo.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e};Lo.prototype.interfaces_=function(){return[]};Lo.prototype.getClass=function(){return Lo};uP.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)};Object.defineProperties(Lo,uP);var wi=function(){},Dp={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};wi.prototype.interfaces_=function(){return[]};wi.prototype.getClass=function(){return wi};wi.toDegrees=function(e){return e*180/Math.PI};wi.normalize=function(e){for(;e>Math.PI;)e-=wi.PI_TIMES_2;for(;e<=-Math.PI;)e+=wi.PI_TIMES_2;return e};wi.angle=function(){if(arguments.length===1){var e=arguments[0];return Math.atan2(e.y,e.x)}else if(arguments.length===2){var t=arguments[0],i=arguments[1],r=i.x-t.x,a=i.y-t.y;return Math.atan2(a,r)}};wi.isAcute=function(e,t,i){var r=e.x-t.x,a=e.y-t.y,o=i.x-t.x,s=i.y-t.y,h=r*o+a*s;return h>0};wi.isObtuse=function(e,t,i){var r=e.x-t.x,a=e.y-t.y,o=i.x-t.x,s=i.y-t.y,h=r*o+a*s;return h<0};wi.interiorAngle=function(e,t,i){var r=wi.angle(t,e),a=wi.angle(t,i);return Math.abs(a-r)};wi.normalizePositive=function(e){if(e<0){for(;e<0;)e+=wi.PI_TIMES_2;e>=wi.PI_TIMES_2&&(e=0)}else{for(;e>=wi.PI_TIMES_2;)e-=wi.PI_TIMES_2;e<0&&(e=0)}return e};wi.angleBetween=function(e,t,i){var r=wi.angle(t,e),a=wi.angle(t,i);return wi.diff(r,a)};wi.diff=function(e,t){var i=null;return e<t?i=t-e:i=e-t,i>Math.PI&&(i=2*Math.PI-i),i};wi.toRadians=function(e){return e*Math.PI/180};wi.getTurn=function(e,t){var i=Math.sin(t-e);return i>0?wi.COUNTERCLOCKWISE:i<0?wi.CLOCKWISE:wi.NONE};wi.angleBetweenOriented=function(e,t,i){var r=wi.angle(t,e),a=wi.angle(t,i),o=a-r;return o<=-Math.PI?o+wi.PI_TIMES_2:o>Math.PI?o-wi.PI_TIMES_2:o};Dp.PI_TIMES_2.get=function(){return 2*Math.PI};Dp.PI_OVER_2.get=function(){return Math.PI/2};Dp.PI_OVER_4.get=function(){return Math.PI/4};Dp.COUNTERCLOCKWISE.get=function(){return ln.COUNTERCLOCKWISE};Dp.CLOCKWISE.get=function(){return ln.CLOCKWISE};Dp.NONE.get=function(){return ln.COLLINEAR};Object.defineProperties(wi,Dp);var lr=function n(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Pn,this._seg1=new Pn,this._offset0=new Pn,this._offset1=new Pn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],t=arguments[1],i=arguments[2];this._precisionModel=e,this._bufParams=t,this._li=new ih,this._filletAngleQuantum=Math.PI/2/t.getQuadrantSegments(),t.getQuadrantSegments()>=8&&t.getJoinStyle()===Di.JOIN_ROUND&&(this._closingSegLengthFactor=n.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)},uv={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};lr.prototype.addNextSegment=function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var i=ln.computeOrientation(this._s0,this._s1,this._s2),r=i===ln.CLOCKWISE&&this._side===Xt.LEFT||i===ln.COUNTERCLOCKWISE&&this._side===Xt.RIGHT;i===0?this.addCollinear(t):r?this.addOutsideTurn(i,t):this.addInsideTurn(i,t)};lr.prototype.addLineEndCap=function(e,t){var i=new Pn(e,t),r=new Pn;this.computeOffsetSegment(i,Xt.LEFT,this._distance,r);var a=new Pn;this.computeOffsetSegment(i,Xt.RIGHT,this._distance,a);var o=t.x-e.x,s=t.y-e.y,h=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case Di.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(t,h+Math.PI/2,h-Math.PI/2,ln.CLOCKWISE,this._distance),this._segList.addPt(a.p1);break;case Di.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(a.p1);break;case Di.CAP_SQUARE:var p=new bt;p.x=Math.abs(this._distance)*Math.cos(h),p.y=Math.abs(this._distance)*Math.sin(h);var f=new bt(r.p1.x+p.x,r.p1.y+p.y),y=new bt(a.p1.x+p.x,a.p1.y+p.y);this._segList.addPt(f),this._segList.addPt(y);break}};lr.prototype.getCoordinates=function(){var e=this._segList.getCoordinates();return e};lr.prototype.addMitreJoin=function(e,t,i,r){var a=!0,o=null;try{o=hl.intersection(t.p0,t.p1,i.p0,i.p1);var s=r<=0?1:o.distance(e)/Math.abs(r);s>this._bufParams.getMitreLimit()&&(a=!1)}catch(h){if(h instanceof Af)o=new bt(0,0),a=!1;else throw h}finally{}a?this._segList.addPt(o):this.addLimitedMitreJoin(t,i,r,this._bufParams.getMitreLimit())};lr.prototype.addFilletCorner=function(e,t,i,r,a){var o=t.x-e.x,s=t.y-e.y,h=Math.atan2(s,o),p=i.x-e.x,f=i.y-e.y,y=Math.atan2(f,p);r===ln.CLOCKWISE?h<=y&&(h+=2*Math.PI):h>=y&&(h-=2*Math.PI),this._segList.addPt(t),this.addFilletArc(e,h,y,r,a),this._segList.addPt(i)};lr.prototype.addOutsideTurn=function(e,t){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*lr.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Di.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Di.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(t&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))};lr.prototype.createSquare=function(e){this._segList.addPt(new bt(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new bt(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new bt(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new bt(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()};lr.prototype.addSegments=function(e,t){this._segList.addPts(e,t)};lr.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)};lr.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)};lr.prototype.initSideSegments=function(e,t,i){this._s1=e,this._s2=t,this._side=i,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,i,this._distance,this._offset1)};lr.prototype.addLimitedMitreJoin=function(e,t,i,r){var a=this._seg0.p1,o=wi.angle(a,this._seg0.p0),s=wi.angleBetweenOriented(this._seg0.p0,a,this._seg1.p1),h=s/2,p=wi.normalize(o+h),f=wi.normalize(p+Math.PI),y=r*i,g=y*Math.abs(Math.sin(h)),_=i-g,b=a.x+y*Math.cos(f),T=a.y+y*Math.sin(f),E=new bt(b,T),k=new Pn(a,E),v=k.pointAlongOffset(1,_),w=k.pointAlongOffset(1,-_);this._side===Xt.LEFT?(this._segList.addPt(v),this._segList.addPt(w)):(this._segList.addPt(w),this._segList.addPt(v))};lr.prototype.computeOffsetSegment=function(e,t,i,r){var a=t===Xt.LEFT?1:-1,o=e.p1.x-e.p0.x,s=e.p1.y-e.p0.y,h=Math.sqrt(o*o+s*s),p=a*i*o/h,f=a*i*s/h;r.p0.x=e.p0.x-f,r.p0.y=e.p0.y+p,r.p1.x=e.p1.x-f,r.p1.y=e.p1.y+p};lr.prototype.addFilletArc=function(e,t,i,r,a){var o=this,s=r===ln.CLOCKWISE?-1:1,h=Math.abs(t-i),p=Math.trunc(h/this._filletAngleQuantum+.5);if(p<1)return null;for(var f=0,y=h/p,g=f,_=new bt;g<h;){var b=t+s*g;_.x=e.x+a*Math.cos(b),_.y=e.y+a*Math.sin(b),o._segList.addPt(_),g+=y}};lr.prototype.addInsideTurn=function(e,t){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*lr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var i=new bt((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i);var r=new bt((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}};lr.prototype.createCircle=function(e){var t=new bt(e.x+this._distance,e.y);this._segList.addPt(t),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()};lr.prototype.addBevelJoin=function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)};lr.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Lo,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*lr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)};lr.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);var t=this._li.getIntersectionNum();t>=2&&(this._bufParams.getJoinStyle()===Di.JOIN_BEVEL||this._bufParams.getJoinStyle()===Di.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,ln.CLOCKWISE,this._distance))};lr.prototype.closeRing=function(){this._segList.closeRing()};lr.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle};lr.prototype.interfaces_=function(){return[]};lr.prototype.getClass=function(){return lr};uv.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001};uv.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001};uv.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6};uv.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80};Object.defineProperties(lr,uv);var Fs=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t};Fs.prototype.getOffsetCurve=function(e,t){if(this._distance=t,t===0)return null;var i=t<0,r=Math.abs(t),a=this.getSegGen(r);e.length<=1?this.computePointCurve(e[0],a):this.computeOffsetCurve(e,i,a);var o=a.getCoordinates();return i&&yi.reverse(o),o};Fs.prototype.computeSingleSidedBufferCurve=function(e,t,i){var r=this.simplifyTolerance(this._distance);if(t){i.addSegments(e,!0);var a=Ar.simplify(e,-r),o=a.length-1;i.initSideSegments(a[o],a[o-1],Xt.LEFT),i.addFirstSegment();for(var s=o-2;s>=0;s--)i.addNextSegment(a[s],!0)}else{i.addSegments(e,!1);var h=Ar.simplify(e,r),p=h.length-1;i.initSideSegments(h[0],h[1],Xt.LEFT),i.addFirstSegment();for(var f=2;f<=p;f++)i.addNextSegment(h[f],!0)}i.addLastSegment(),i.closeRing()};Fs.prototype.computeRingBufferCurve=function(e,t,i){var r=this.simplifyTolerance(this._distance);t===Xt.RIGHT&&(r=-r);var a=Ar.simplify(e,r),o=a.length-1;i.initSideSegments(a[o-1],a[0],t);for(var s=1;s<=o;s++){var h=s!==1;i.addNextSegment(a[s],h)}i.closeRing()};Fs.prototype.computeLineBufferCurve=function(e,t){var i=this.simplifyTolerance(this._distance),r=Ar.simplify(e,i),a=r.length-1;t.initSideSegments(r[0],r[1],Xt.LEFT);for(var o=2;o<=a;o++)t.addNextSegment(r[o],!0);t.addLastSegment(),t.addLineEndCap(r[a-1],r[a]);var s=Ar.simplify(e,-i),h=s.length-1;t.initSideSegments(s[h],s[h-1],Xt.LEFT);for(var p=h-2;p>=0;p--)t.addNextSegment(s[p],!0);t.addLastSegment(),t.addLineEndCap(s[1],s[0]),t.closeRing()};Fs.prototype.computePointCurve=function(e,t){switch(this._bufParams.getEndCapStyle()){case Di.CAP_ROUND:t.createCircle(e);break;case Di.CAP_SQUARE:t.createSquare(e);break}};Fs.prototype.getLineCurve=function(e,t){if(this._distance=t,t<0&&!this._bufParams.isSingleSided()||t===0)return null;var i=Math.abs(t),r=this.getSegGen(i);if(e.length<=1)this.computePointCurve(e[0],r);else if(this._bufParams.isSingleSided()){var a=t<0;this.computeSingleSidedBufferCurve(e,a,r)}else this.computeLineBufferCurve(e,r);var o=r.getCoordinates();return o};Fs.prototype.getBufferParameters=function(){return this._bufParams};Fs.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()};Fs.prototype.getRingCurve=function(e,t,i){if(this._distance=i,e.length<=2)return this.getLineCurve(e,i);if(i===0)return Fs.copyCoordinates(e);var r=this.getSegGen(i);return this.computeRingBufferCurve(e,t,r),r.getCoordinates()};Fs.prototype.computeOffsetCurve=function(e,t,i){var r=this.simplifyTolerance(this._distance);if(t){var a=Ar.simplify(e,-r),o=a.length-1;i.initSideSegments(a[o],a[o-1],Xt.LEFT),i.addFirstSegment();for(var s=o-2;s>=0;s--)i.addNextSegment(a[s],!0)}else{var h=Ar.simplify(e,r),p=h.length-1;i.initSideSegments(h[0],h[1],Xt.LEFT),i.addFirstSegment();for(var f=2;f<=p;f++)i.addNextSegment(h[f],!0)}i.addLastSegment()};Fs.prototype.getSegGen=function(e){return new lr(this._precisionModel,this._bufParams,e)};Fs.prototype.interfaces_=function(){return[]};Fs.prototype.getClass=function(){return Fs};Fs.copyCoordinates=function(e){for(var t=new Array(e.length).fill(null),i=0;i<t.length;i++)t[i]=new bt(e[i]);return t};var pp=function(){this._subgraphs=null,this._seg=new Pn,this._cga=new ln;var e=arguments[0];this._subgraphs=e},dP={DepthSegment:{configurable:!0}};pp.prototype.findStabbedSegments=function(){var e=this;if(arguments.length===1){for(var t=arguments[0],i=new en,r=this._subgraphs.iterator();r.hasNext();){var a=r.next(),o=a.getEnvelope();t.y<o.getMinY()||t.y>o.getMaxY()||e.findStabbedSegments(t,a.getDirectedEdges(),i)}return i}else if(arguments.length===3){if(jn(arguments[2],pl)&&arguments[0]instanceof bt&&arguments[1]instanceof s1)for(var s=arguments[0],h=arguments[1],p=arguments[2],f=h.getEdge().getCoordinates(),y=0;y<f.length-1;y++){e._seg.p0=f[y],e._seg.p1=f[y+1],e._seg.p0.y>e._seg.p1.y&&e._seg.reverse();var g=Math.max(e._seg.p0.x,e._seg.p1.x);if(!(g<s.x)&&!e._seg.isHorizontal()&&!(s.y<e._seg.p0.y||s.y>e._seg.p1.y)&&ln.computeOrientation(e._seg.p0,e._seg.p1,s)!==ln.RIGHT){var _=h.getDepth(Xt.LEFT);e._seg.p0.equals(f[y])||(_=h.getDepth(Xt.RIGHT));var b=new Vd(e._seg,_);p.add(b)}}else if(jn(arguments[2],pl)&&arguments[0]instanceof bt&&jn(arguments[1],pl))for(var T=arguments[0],E=arguments[1],k=arguments[2],v=E.iterator();v.hasNext();){var w=v.next();w.isForward()&&e.findStabbedSegments(T,w,k)}}};pp.prototype.getDepth=function(e){var t=this.findStabbedSegments(e);if(t.size()===0)return 0;var i=yl.min(t);return i._leftDepth};pp.prototype.interfaces_=function(){return[]};pp.prototype.getClass=function(){return pp};dP.DepthSegment.get=function(){return Vd};Object.defineProperties(pp,dP);var Vd=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new Pn(e),this._leftDepth=t};Vd.prototype.compareTo=function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var i=this._upwardSeg.orientationIndex(t._upwardSeg);return i!==0||(i=-1*t._upwardSeg.orientationIndex(this._upwardSeg),i!==0)?i:this._upwardSeg.compareTo(t._upwardSeg)};Vd.prototype.compareX=function(e,t){var i=e.p0.compareTo(t.p0);return i!==0?i:e.p1.compareTo(t.p1)};Vd.prototype.toString=function(){return this._upwardSeg.toString()};Vd.prototype.interfaces_=function(){return[qo]};Vd.prototype.getClass=function(){return Vd};var Ri=function(e,t,i){this.p0=e||null,this.p1=t||null,this.p2=i||null};Ri.prototype.area=function(){return Ri.area(this.p0,this.p1,this.p2)};Ri.prototype.signedArea=function(){return Ri.signedArea(this.p0,this.p1,this.p2)};Ri.prototype.interpolateZ=function(e){if(e===null)throw new fr("Supplied point is null.");return Ri.interpolateZ(e,this.p0,this.p1,this.p2)};Ri.prototype.longestSideLength=function(){return Ri.longestSideLength(this.p0,this.p1,this.p2)};Ri.prototype.isAcute=function(){return Ri.isAcute(this.p0,this.p1,this.p2)};Ri.prototype.circumcentre=function(){return Ri.circumcentre(this.p0,this.p1,this.p2)};Ri.prototype.area3D=function(){return Ri.area3D(this.p0,this.p1,this.p2)};Ri.prototype.centroid=function(){return Ri.centroid(this.p0,this.p1,this.p2)};Ri.prototype.inCentre=function(){return Ri.inCentre(this.p0,this.p1,this.p2)};Ri.prototype.interfaces_=function(){return[]};Ri.prototype.getClass=function(){return Ri};Ri.area=function(e,t,i){return Math.abs(((i.x-e.x)*(t.y-e.y)-(t.x-e.x)*(i.y-e.y))/2)};Ri.signedArea=function(e,t,i){return((i.x-e.x)*(t.y-e.y)-(t.x-e.x)*(i.y-e.y))/2};Ri.det=function(e,t,i,r){return e*r-t*i};Ri.interpolateZ=function(e,t,i,r){var a=t.x,o=t.y,s=i.x-a,h=r.x-a,p=i.y-o,f=r.y-o,y=s*f-h*p,g=e.x-a,_=e.y-o,b=(f*g-h*_)/y,T=(-p*g+s*_)/y,E=t.z+b*(i.z-t.z)+T*(r.z-t.z);return E};Ri.longestSideLength=function(e,t,i){var r=e.distance(t),a=t.distance(i),o=i.distance(e),s=r;return a>s&&(s=a),o>s&&(s=o),s};Ri.isAcute=function(e,t,i){return!(!wi.isAcute(e,t,i)||!wi.isAcute(t,i,e)||!wi.isAcute(i,e,t))};Ri.circumcentre=function(e,t,i){var r=i.x,a=i.y,o=e.x-r,s=e.y-a,h=t.x-r,p=t.y-a,f=2*Ri.det(o,s,h,p),y=Ri.det(s,o*o+s*s,p,h*h+p*p),g=Ri.det(o,o*o+s*s,h,h*h+p*p),_=r-y/f,b=a+g/f;return new bt(_,b)};Ri.perpendicularBisector=function(e,t){var i=t.x-e.x,r=t.y-e.y,a=new hl(e.x+i/2,e.y+r/2,1),o=new hl(e.x-r+i/2,e.y+i+r/2,1);return new hl(a,o)};Ri.angleBisector=function(e,t,i){var r=t.distance(e),a=t.distance(i),o=r/(r+a),s=i.x-e.x,h=i.y-e.y,p=new bt(e.x+o*s,e.y+o*h);return p};Ri.area3D=function(e,t,i){var r=t.x-e.x,a=t.y-e.y,o=t.z-e.z,s=i.x-e.x,h=i.y-e.y,p=i.z-e.z,f=a*p-o*h,y=o*s-r*p,g=r*h-a*s,_=f*f+y*y+g*g,b=Math.sqrt(_)/2;return b};Ri.centroid=function(e,t,i){var r=(e.x+t.x+i.x)/3,a=(e.y+t.y+i.y)/3;return new bt(r,a)};Ri.inCentre=function(e,t,i){var r=t.distance(i),a=e.distance(i),o=e.distance(t),s=r+a+o,h=(r*e.x+a*t.x+o*i.x)/s,p=(r*e.y+a*t.y+o*i.y)/s;return new bt(h,p)};var Vo=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new en;var e=arguments[0],t=arguments[1],i=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=i};Vo.prototype.addPoint=function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),i=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(i,kt.EXTERIOR,kt.INTERIOR)};Vo.prototype.addPolygon=function(e){var t=this,i=this._distance,r=Xt.LEFT;this._distance<0&&(i=-this._distance,r=Xt.RIGHT);var a=e.getExteriorRing(),o=yi.removeRepeatedPoints(a.getCoordinates());if(this._distance<0&&this.isErodedCompletely(a,this._distance)||this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,i,r,kt.EXTERIOR,kt.INTERIOR);for(var s=0;s<e.getNumInteriorRing();s++){var h=e.getInteriorRingN(s),p=yi.removeRepeatedPoints(h.getCoordinates());t._distance>0&&t.isErodedCompletely(h,-t._distance)||t.addPolygonRing(p,i,Xt.opposite(r),kt.INTERIOR,kt.EXTERIOR)}};Vo.prototype.isTriangleErodedCompletely=function(e,t){var i=new Ri(e[0],e[1],e[2]),r=i.inCentre(),a=ln.distancePointLine(r,i.p0,i.p1);return a<Math.abs(t)};Vo.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var t=yi.removeRepeatedPoints(e.getCoordinates()),i=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(i,kt.EXTERIOR,kt.INTERIOR)};Vo.prototype.addCurve=function(e,t,i){if(e===null||e.length<2)return null;var r=new Fr(e,new Gi(0,kt.BOUNDARY,t,i));this._curveList.add(r)};Vo.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList};Vo.prototype.addPolygonRing=function(e,t,i,r,a){if(t===0&&e.length<mc.MINIMUM_VALID_SIZE)return null;var o=r,s=a;e.length>=mc.MINIMUM_VALID_SIZE&&ln.isCCW(e)&&(o=a,s=r,i=Xt.opposite(i));var h=this._curveBuilder.getRingCurve(e,i,t);this.addCurve(h,o,s)};Vo.prototype.add=function(e){if(e.isEmpty())return null;e instanceof oa?this.addPolygon(e):e instanceof Ir?this.addLineString(e):e instanceof Js?this.addPoint(e):e instanceof af?this.addCollection(e):e instanceof Gd?this.addCollection(e):e instanceof lc?this.addCollection(e):e instanceof fs&&this.addCollection(e)};Vo.prototype.isErodedCompletely=function(e,t){var i=e.getCoordinates();if(i.length<4)return t<0;if(i.length===4)return this.isTriangleErodedCompletely(i,t);var r=e.getEnvelopeInternal(),a=Math.min(r.getHeight(),r.getWidth());return t<0&&2*Math.abs(t)>a};Vo.prototype.addCollection=function(e){for(var t=this,i=0;i<e.getNumGeometries();i++){var r=e.getGeometryN(i);t.add(r)}};Vo.prototype.interfaces_=function(){return[]};Vo.prototype.getClass=function(){return Vo};var cf=function(){};cf.prototype.locate=function(e){};cf.prototype.interfaces_=function(){return[]};cf.prototype.getClass=function(){return cf};var cc=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};cc.prototype.next=function(){if(this._atStart)return this._atStart=!1,cc.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Mf;var e=this._parent.getGeometryN(this._index++);return e instanceof fs?(this._subcollectionIterator=new cc(e),this._subcollectionIterator.next()):e};cc.prototype.remove=function(){throw new Error(this.getClass().getName())};cc.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)};cc.prototype.interfaces_=function(){return[Pf]};cc.prototype.getClass=function(){return cc};cc.isAtomic=function(e){return!(e instanceof fs)};var So=function(){this._geom=null;var e=arguments[0];this._geom=e};So.prototype.locate=function(e){return So.locate(e,this._geom)};So.prototype.interfaces_=function(){return[cf]};So.prototype.getClass=function(){return So};So.isPointInRing=function(e,t){return t.getEnvelopeInternal().intersects(e)?ln.isPointInRing(e,t.getCoordinates()):!1};So.containsPointInPolygon=function(e,t){if(t.isEmpty())return!1;var i=t.getExteriorRing();if(!So.isPointInRing(e,i))return!1;for(var r=0;r<t.getNumInteriorRing();r++){var a=t.getInteriorRingN(r);if(So.isPointInRing(e,a))return!1}return!0};So.containsPoint=function(e,t){if(t instanceof oa)return So.containsPointInPolygon(e,t);if(t instanceof fs)for(var i=new cc(t);i.hasNext();){var r=i.next();if(r!==t&&So.containsPoint(e,r))return!0}return!1};So.locate=function(e,t){return t.isEmpty()?kt.EXTERIOR:So.containsPoint(e,t)?kt.INTERIOR:kt.EXTERIOR};var Ja=function(){this._edgeMap=new Ka,this._edgeList=null,this._ptInAreaLocation=[kt.NONE,kt.NONE]};Ja.prototype.getNextCW=function(e){this.getEdges();var t=this._edgeList.indexOf(e),i=t-1;return t===0&&(i=this._edgeList.size()-1),this._edgeList.get(i)};Ja.prototype.propagateSideLabels=function(e){for(var t=kt.NONE,i=this.iterator();i.hasNext();){var r=i.next(),a=r.getLabel();a.isArea(e)&&a.getLocation(e,Xt.LEFT)!==kt.NONE&&(t=a.getLocation(e,Xt.LEFT))}if(t===kt.NONE)return null;for(var o=t,s=this.iterator();s.hasNext();){var h=s.next(),p=h.getLabel();if(p.getLocation(e,Xt.ON)===kt.NONE&&p.setLocation(e,Xt.ON,o),p.isArea(e)){var f=p.getLocation(e,Xt.LEFT),y=p.getLocation(e,Xt.RIGHT);if(y!==kt.NONE){if(y!==o)throw new Kc("side location conflict",h.getCoordinate());f===kt.NONE&&si.shouldNeverReachHere("found single null side (at "+h.getCoordinate()+")"),o=f}else si.isTrue(p.getLocation(e,Xt.LEFT)===kt.NONE,"found single null side"),p.setLocation(e,Xt.RIGHT,o),p.setLocation(e,Xt.LEFT,o)}}};Ja.prototype.getCoordinate=function(){var e=this.iterator();if(!e.hasNext())return null;var t=e.next();return t.getCoordinate()};Ja.prototype.print=function(e){za.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var i=t.next();i.print(e)}};Ja.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)};Ja.prototype.checkAreaLabelsConsistent=function(e){var t=this.getEdges();if(t.size()<=0)return!0;var i=t.size()-1,r=t.get(i).getLabel(),a=r.getLocation(e,Xt.LEFT);si.isTrue(a!==kt.NONE,"Found unlabelled area edge");for(var o=a,s=this.iterator();s.hasNext();){var h=s.next(),p=h.getLabel();si.isTrue(p.isArea(e),"Found non-area edge");var f=p.getLocation(e,Xt.LEFT),y=p.getLocation(e,Xt.RIGHT);if(f===y||y!==o)return!1;o=f}return!0};Ja.prototype.findIndex=function(e){var t=this;this.iterator();for(var i=0;i<this._edgeList.size();i++){var r=t._edgeList.get(i);if(r===e)return i}return-1};Ja.prototype.iterator=function(){return this.getEdges().iterator()};Ja.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new en(this._edgeMap.values())),this._edgeList};Ja.prototype.getLocation=function(e,t,i){return this._ptInAreaLocation[e]===kt.NONE&&(this._ptInAreaLocation[e]=So.locate(t,i[e].getGeometry())),this._ptInAreaLocation[e]};Ja.prototype.toString=function(){var e=new Ql;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append(`
`);for(var t=this.iterator();t.hasNext();){var i=t.next();e.append(i),e.append(`
`)}return e.toString()};Ja.prototype.computeEdgeEndLabels=function(e){for(var t=this.iterator();t.hasNext();){var i=t.next();i.computeLabel(e)}};Ja.prototype.computeLabelling=function(e){var t=this;this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var i=[!1,!1],r=this.iterator();r.hasNext();)for(var a=r.next(),o=a.getLabel(),s=0;s<2;s++)o.isLine(s)&&o.getLocation(s)===kt.BOUNDARY&&(i[s]=!0);for(var h=this.iterator();h.hasNext();)for(var p=h.next(),f=p.getLabel(),y=0;y<2;y++)if(f.isAnyNull(y)){var g=kt.NONE;if(i[y])g=kt.EXTERIOR;else{var _=p.getCoordinate();g=t.getLocation(y,_,e)}f.setAllLocationsIfNull(y,g)}};Ja.prototype.getDegree=function(){return this._edgeMap.size()};Ja.prototype.insertEdgeEnd=function(e,t){this._edgeMap.put(e,t),this._edgeList=null};Ja.prototype.interfaces_=function(){return[]};Ja.prototype.getClass=function(){return Ja};var H6=function(n){function e(){n.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){var i=this;this.getResultAreaEdges();for(var r=null,a=null,o=this._SCANNING_FOR_INCOMING,s=0;s<this._resultAreaEdgeList.size();s++){var h=i._resultAreaEdgeList.get(s),p=h.getSym();if(h.getLabel().isArea())switch(r===null&&h.isInResult()&&(r=h),o){case i._SCANNING_FOR_INCOMING:if(!p.isInResult())continue;a=p,o=i._LINKING_TO_OUTGOING;break;case i._LINKING_TO_OUTGOING:if(!h.isInResult())continue;a.setNext(h),o=i._SCANNING_FOR_INCOMING;break}}if(o===this._LINKING_TO_OUTGOING){if(r===null)throw new Kc("no outgoing dirEdge found",this.getCoordinate());si.isTrue(r.isInResult(),"unable to link last incoming dirEdge"),a.setNext(r)}},e.prototype.insert=function(i){var r=i;this.insertEdgeEnd(r,r)},e.prototype.getRightmostEdge=function(){var i=this.getEdges(),r=i.size();if(r<1)return null;var a=i.get(0);if(r===1)return a;var o=i.get(r-1),s=a.getQuadrant(),h=o.getQuadrant();return Ki.isNorthern(s)&&Ki.isNorthern(h)?a:!Ki.isNorthern(s)&&!Ki.isNorthern(h)?o:a.getDy()!==0?a:o.getDy()!==0?o:(si.shouldNeverReachHere("found two horizontal edges incident on node"),null)},e.prototype.print=function(i){za.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var r=this.iterator();r.hasNext();){var a=r.next();i.print("out "),a.print(i),i.println(),i.print("in "),a.getSym().print(i),i.println()}},e.prototype.getResultAreaEdges=function(){var i=this;if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new en;for(var r=this.iterator();r.hasNext();){var a=r.next();(a.isInResult()||a.getSym().isInResult())&&i._resultAreaEdgeList.add(a)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(i){for(var r=this.iterator();r.hasNext();){var a=r.next(),o=a.getLabel();o.setAllLocationsIfNull(0,i.getLocation(0)),o.setAllLocationsIfNull(1,i.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){var i=this;this.getEdges();for(var r=null,a=null,o=this._edgeList.size()-1;o>=0;o--){var s=i._edgeList.get(o),h=s.getSym();a===null&&(a=h),r!==null&&h.setNext(r),r=s}a.setNext(r)},e.prototype.computeDepths=function(){var i=this;if(arguments.length===1){var r=arguments[0],a=this.findIndex(r),o=r.getDepth(Xt.LEFT),s=r.getDepth(Xt.RIGHT),h=this.computeDepths(a+1,this._edgeList.size(),o),p=this.computeDepths(0,a,h);if(p!==s)throw new Kc("depth mismatch at "+r.getCoordinate())}else if(arguments.length===3){for(var f=arguments[0],y=arguments[1],g=arguments[2],_=g,b=f;b<y;b++){var T=i._edgeList.get(b);T.setEdgeDepths(Xt.RIGHT,_),_=T.getDepth(Xt.LEFT)}return _}},e.prototype.mergeSymLabels=function(){for(var i=this.iterator();i.hasNext();){var r=i.next(),a=r.getLabel();a.merge(r.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(i){for(var r=this,a=null,o=null,s=this._SCANNING_FOR_INCOMING,h=this._resultAreaEdgeList.size()-1;h>=0;h--){var p=r._resultAreaEdgeList.get(h),f=p.getSym();switch(a===null&&p.getEdgeRing()===i&&(a=p),s){case r._SCANNING_FOR_INCOMING:if(f.getEdgeRing()!==i)continue;o=f,s=r._LINKING_TO_OUTGOING;break;case r._LINKING_TO_OUTGOING:if(p.getEdgeRing()!==i)continue;o.setNextMin(p),s=r._SCANNING_FOR_INCOMING;break}}s===this._LINKING_TO_OUTGOING&&(si.isTrue(a!==null,"found null for first outgoing dirEdge"),si.isTrue(a.getEdgeRing()===i,"unable to link last incoming dirEdge"),o.setNextMin(a))},e.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var i=0,r=this.iterator();r.hasNext();){var a=r.next();a.isInResult()&&i++}return i}else if(arguments.length===1){for(var o=arguments[0],s=0,h=this.iterator();h.hasNext();){var p=h.next();p.getEdgeRing()===o&&s++}return s}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var i=kt.NONE,r=this.iterator();r.hasNext();){var a=r.next(),o=a.getSym();if(!a.isLineEdge()){if(a.isInResult()){i=kt.INTERIOR;break}if(o.isInResult()){i=kt.EXTERIOR;break}}}if(i===kt.NONE)return null;for(var s=i,h=this.iterator();h.hasNext();){var p=h.next(),f=p.getSym();p.isLineEdge()?p.getEdge().setCovered(s===kt.INTERIOR):(p.isInResult()&&(s=kt.EXTERIOR),f.isInResult()&&(s=kt.INTERIOR))}},e.prototype.computeLabelling=function(i){var r=this;n.prototype.computeLabelling.call(this,i),this._label=new Gi(kt.NONE);for(var a=this.iterator();a.hasNext();)for(var o=a.next(),s=o.getEdge(),h=s.getLabel(),p=0;p<2;p++){var f=h.getLocation(p);(f===kt.INTERIOR||f===kt.BOUNDARY)&&r._label.setLocation(p,kt.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ja),hP=function(n){function e(){n.apply(this,arguments)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.createNode=function(i){return new I0(i,new H6)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(sf),qu=function n(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=n.orientation(e)};qu.prototype.compareTo=function(e){var t=e,i=qu.compareOriented(this._pts,this._orientation,t._pts,t._orientation);return i};qu.prototype.interfaces_=function(){return[qo]};qu.prototype.getClass=function(){return qu};qu.orientation=function(e){return yi.increasingDirection(e)===1};qu.compareOriented=function(e,t,i,r){for(var a=t?1:-1,o=r?1:-1,s=t?e.length:-1,h=r?i.length:-1,p=t?0:e.length-1,f=r?0:i.length-1;;){var y=e[p].compareTo(i[f]);if(y!==0)return y;p+=a,f+=o;var g=p===s,_=f===h;if(g&&!_)return-1;if(!g&&_)return 1;if(g&&_)return 0}};var vl=function(){this._edges=new en,this._ocaMap=new Ka};vl.prototype.print=function(e){var t=this;e.print("MULTILINESTRING ( ");for(var i=0;i<this._edges.size();i++){var r=t._edges.get(i);i>0&&e.print(","),e.print("(");for(var a=r.getCoordinates(),o=0;o<a.length;o++)o>0&&e.print(","),e.print(a[o].x+" "+a[o].y);e.println(")")}e.print(")  ")};vl.prototype.addAll=function(e){for(var t=this,i=e.iterator();i.hasNext();)t.add(i.next())};vl.prototype.findEdgeIndex=function(e){for(var t=this,i=0;i<this._edges.size();i++)if(t._edges.get(i).equals(e))return i;return-1};vl.prototype.iterator=function(){return this._edges.iterator()};vl.prototype.getEdges=function(){return this._edges};vl.prototype.get=function(e){return this._edges.get(e)};vl.prototype.findEqualEdge=function(e){var t=new qu(e.getCoordinates()),i=this._ocaMap.get(t);return i};vl.prototype.add=function(e){this._edges.add(e);var t=new qu(e.getCoordinates());this._ocaMap.put(t,e)};vl.prototype.interfaces_=function(){return[]};vl.prototype.getClass=function(){return vl};var qd=function(){};qd.prototype.processIntersections=function(e,t,i,r){};qd.prototype.isDone=function(){};qd.prototype.interfaces_=function(){return[]};qd.prototype.getClass=function(){return qd};var No=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};No.prototype.isTrivialIntersection=function(e,t,i,r){if(e===i&&this._li.getIntersectionNum()===1){if(No.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var a=e.size()-1;if(t===0&&r===a||r===0&&t===a)return!0}}return!1};No.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};No.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};No.prototype.getLineIntersector=function(){return this._li};No.prototype.hasProperIntersection=function(){return this._hasProper};No.prototype.processIntersections=function(e,t,i,r){if(e===i&&t===r)return null;this.numTests++;var a=e.getCoordinates()[t],o=e.getCoordinates()[t+1],s=i.getCoordinates()[r],h=i.getCoordinates()[r+1];this._li.computeIntersection(a,o,s,h),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,i,r)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),i.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))};No.prototype.hasIntersection=function(){return this._hasIntersection};No.prototype.isDone=function(){return!1};No.prototype.hasInteriorIntersection=function(){return this._hasInterior};No.prototype.interfaces_=function(){return[qd]};No.prototype.getClass=function(){return No};No.isAdjacentSegments=function(e,t){return Math.abs(e-t)===1};var Wl=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],i=arguments[2];this.coord=new bt(e),this.segmentIndex=t,this.dist=i};Wl.prototype.getSegmentIndex=function(){return this.segmentIndex};Wl.prototype.getCoordinate=function(){return this.coord};Wl.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)};Wl.prototype.compareTo=function(e){var t=e;return this.compare(t.segmentIndex,t.dist)};Wl.prototype.isEndPoint=function(e){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===e};Wl.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist};Wl.prototype.getDistance=function(){return this.dist};Wl.prototype.compare=function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0};Wl.prototype.interfaces_=function(){return[qo]};Wl.prototype.getClass=function(){return Wl};var yc=function(){this._nodeMap=new Ka,this.edge=null;var e=arguments[0];this.edge=e};yc.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();){var i=t.next();i.print(e)}};yc.prototype.iterator=function(){return this._nodeMap.values().iterator()};yc.prototype.addSplitEdges=function(e){var t=this;this.addEndpoints();for(var i=this.iterator(),r=i.next();i.hasNext();){var a=i.next(),o=t.createSplitEdge(r,a);e.add(o),r=a}};yc.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)};yc.prototype.createSplitEdge=function(e,t){var i=this,r=t.segmentIndex-e.segmentIndex+2,a=this.edge.pts[t.segmentIndex],o=t.dist>0||!t.coord.equals2D(a);o||r--;var s=new Array(r).fill(null),h=0;s[h++]=new bt(e.coord);for(var p=e.segmentIndex+1;p<=t.segmentIndex;p++)s[h++]=i.edge.pts[p];return o&&(s[h]=t.coord),new Eb(s,new Gi(this.edge._label))};yc.prototype.add=function(e,t,i){var r=new Wl(e,t,i),a=this._nodeMap.get(r);return a!==null?a:(this._nodeMap.put(r,r),r)};yc.prototype.isIntersection=function(e){for(var t=this.iterator();t.hasNext();){var i=t.next();if(i.coord.equals(e))return!0}return!1};yc.prototype.interfaces_=function(){return[]};yc.prototype.getClass=function(){return yc};var Wd=function(){};Wd.prototype.getChainStartIndices=function(e){var t=this,i=0,r=new en;r.add(new jl(i));do{var a=t.findChainEnd(e,i);r.add(new jl(a)),i=a}while(i<e.length-1);var o=Wd.toIntArray(r);return o};Wd.prototype.findChainEnd=function(e,t){for(var i=Ki.quadrant(e[t],e[t+1]),r=t+1;r<e.length;){var a=Ki.quadrant(e[r-1],e[r]);if(a!==i)break;r++}return r-1};Wd.prototype.interfaces_=function(){return[]};Wd.prototype.getClass=function(){return Wd};Wd.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),i=0;i<t.length;i++)t[i]=e.get(i).intValue();return t};var Jc=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new An,this.env2=new An;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new Wd;this.startIndex=t.getChainStartIndices(this.pts)};Jc.prototype.getCoordinates=function(){return this.pts};Jc.prototype.getMaxX=function(e){var t=this.pts[this.startIndex[e]].x,i=this.pts[this.startIndex[e+1]].x;return t>i?t:i};Jc.prototype.getMinX=function(e){var t=this.pts[this.startIndex[e]].x,i=this.pts[this.startIndex[e+1]].x;return t<i?t:i};Jc.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var e=arguments[0],t=arguments[1],i=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[i],t.startIndex[i+1],r)}else if(arguments.length===6){var a=arguments[0],o=arguments[1],s=arguments[2],h=arguments[3],p=arguments[4],f=arguments[5],y=this.pts[a],g=this.pts[o],_=s.pts[h],b=s.pts[p];if(o-a===1&&p-h===1)return f.addIntersections(this.e,a,s.e,h),null;if(this.env1.init(y,g),this.env2.init(_,b),!this.env1.intersects(this.env2))return null;var T=Math.trunc((a+o)/2),E=Math.trunc((h+p)/2);a<T&&(h<E&&this.computeIntersectsForChain(a,T,s,h,E,f),E<p&&this.computeIntersectsForChain(a,T,s,E,p,f)),T<o&&(h<E&&this.computeIntersectsForChain(T,o,s,h,E,f),E<p&&this.computeIntersectsForChain(T,o,s,E,p,f))}};Jc.prototype.getStartIndexes=function(){return this.startIndex};Jc.prototype.computeIntersects=function(e,t){for(var i=this,r=0;r<this.startIndex.length-1;r++)for(var a=0;a<e.startIndex.length-1;a++)i.computeIntersectsForChain(r,e,a,t)};Jc.prototype.interfaces_=function(){return[]};Jc.prototype.getClass=function(){return Jc};var Ra=function n(){var e=this;this._depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;t<2;t++)for(var i=0;i<3;i++)e._depth[t][i]=n.NULL_VALUE},pP={NULL_VALUE:{configurable:!0}};Ra.prototype.getDepth=function(e,t){return this._depth[e][t]};Ra.prototype.setDepth=function(e,t,i){this._depth[e][t]=i};Ra.prototype.isNull=function(){var e=this;if(arguments.length===0){for(var t=0;t<2;t++)for(var i=0;i<3;i++)if(e._depth[t][i]!==Ra.NULL_VALUE)return!1;return!0}else if(arguments.length===1){var r=arguments[0];return this._depth[r][1]===Ra.NULL_VALUE}else if(arguments.length===2){var a=arguments[0],o=arguments[1];return this._depth[a][o]===Ra.NULL_VALUE}};Ra.prototype.normalize=function(){for(var e=this,t=0;t<2;t++)if(!e.isNull(t)){var i=e._depth[t][1];e._depth[t][2]<i&&(i=e._depth[t][2]),i<0&&(i=0);for(var r=1;r<3;r++){var a=0;e._depth[t][r]>i&&(a=1),e._depth[t][r]=a}}};Ra.prototype.getDelta=function(e){return this._depth[e][Xt.RIGHT]-this._depth[e][Xt.LEFT]};Ra.prototype.getLocation=function(e,t){return this._depth[e][t]<=0?kt.EXTERIOR:kt.INTERIOR};Ra.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]};Ra.prototype.add=function(){var e=this;if(arguments.length===1)for(var t=arguments[0],i=0;i<2;i++)for(var r=1;r<3;r++){var a=t.getLocation(i,r);(a===kt.EXTERIOR||a===kt.INTERIOR)&&(e.isNull(i,r)?e._depth[i][r]=Ra.depthAtLocation(a):e._depth[i][r]+=Ra.depthAtLocation(a))}else if(arguments.length===3){var o=arguments[0],s=arguments[1],h=arguments[2];h===kt.INTERIOR&&this._depth[o][s]++}};Ra.prototype.interfaces_=function(){return[]};Ra.prototype.getClass=function(){return Ra};Ra.depthAtLocation=function(e){return e===kt.EXTERIOR?0:e===kt.INTERIOR?1:Ra.NULL_VALUE};pP.NULL_VALUE.get=function(){return-1};Object.defineProperties(Ra,pP);var Eb=function(n){function e(){if(n.call(this),this.pts=null,this._env=null,this.eiList=new yc(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Ra,this._depthDelta=0,arguments.length===1){var t=arguments[0];e.call(this,t,null)}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.pts=i,this._label=r}}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var i=new Array(2).fill(null);i[0]=this.pts[0],i[1]=this.pts[1];var r=new e(i,Gi.toLineLabel(this._label));return r},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(i){this._isIsolated=i},e.prototype.setName=function(i){this._name=i},e.prototype.equals=function(i){var r=this;if(!(i instanceof e))return!1;var a=i;if(this.pts.length!==a.pts.length)return!1;for(var o=!0,s=!0,h=this.pts.length,p=0;p<this.pts.length;p++)if(r.pts[p].equals2D(a.pts[p])||(o=!1),r.pts[p].equals2D(a.pts[--h])||(s=!1),!o&&!s)return!1;return!0},e.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var i=arguments[0];return this.pts[i]}},e.prototype.print=function(i){var r=this;i.print("edge "+this._name+": "),i.print("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&i.print(","),i.print(r.pts[a].x+" "+r.pts[a].y);i.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(i){e.updateIM(this._label,i)},e.prototype.isCollapsed=function(){return!this._label.isArea()||this.pts.length!==3?!1:!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(i){var r=this;i.print("edge "+this._name+": ");for(var a=this.pts.length-1;a>=0;a--)i.print(r.pts[a]+" ");i.println("")},e.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new Jc(this)),this._mce},e.prototype.getEnvelope=function(){var i=this;if(this._env===null){this._env=new An;for(var r=0;r<this.pts.length;r++)i._env.expandToInclude(i.pts[r])}return this._env},e.prototype.addIntersection=function(i,r,a,o){var s=new bt(i.getIntersection(o)),h=r,p=i.getEdgeDistance(a,o),f=h+1;if(f<this.pts.length){var y=this.pts[f];s.equals2D(y)&&(h=f,p=0)}this.eiList.add(s,h,p)},e.prototype.toString=function(){var i=this,r=new Ql;r.append("edge "+this._name+": "),r.append("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&r.append(","),r.append(i.pts[a].x+" "+i.pts[a].y);return r.append(")  "+this._label+" "+this._depthDelta),r.toString()},e.prototype.isPointwiseEqual=function(i){var r=this;if(this.pts.length!==i.pts.length)return!1;for(var a=0;a<this.pts.length;a++)if(!r.pts[a].equals2D(i.pts[a]))return!1;return!0},e.prototype.setDepthDelta=function(i){this._depthDelta=i},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(i,r,a){for(var o=this,s=0;s<i.getIntersectionNum();s++)o.addIntersection(i,r,a,s)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(arguments.length===2){var i=arguments[0],r=arguments[1];r.setAtLeastIfValid(i.getLocation(0,Xt.ON),i.getLocation(1,Xt.ON),1),i.isArea()&&(r.setAtLeastIfValid(i.getLocation(0,Xt.LEFT),i.getLocation(1,Xt.LEFT),2),r.setAtLeastIfValid(i.getLocation(0,Xt.RIGHT),i.getLocation(1,Xt.RIGHT),2))}else return n.prototype.updateIM.apply(this,arguments)},e}(ko),ms=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new vl,this._bufParams=e||null};ms.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e};ms.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(t!==null){var i=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new Gi(e.getLabel()),r.flip()),i.merge(r);var a=ms.depthDelta(r),o=t.getDepthDelta(),s=o+a;t.setDepthDelta(s)}else this._edgeList.add(e),e.setDepthDelta(ms.depthDelta(e.getLabel()))};ms.prototype.buildSubgraphs=function(e,t){for(var i=new en,r=e.iterator();r.hasNext();){var a=r.next(),o=a.getRightmostCoordinate(),s=new pp(i),h=s.getDepth(o);a.computeDepth(h),a.findResultEdges(),i.add(a),t.add(a.getDirectedEdges(),a.getNodes())}};ms.prototype.createSubgraphs=function(e){for(var t=new en,i=e.getNodes().iterator();i.hasNext();){var r=i.next();if(!r.isVisited()){var a=new gs;a.create(r),t.add(a)}}return yl.sort(t,yl.reverseOrder()),t};ms.prototype.createEmptyResultGeometry=function(){var e=this._geomFact.createPolygon();return e};ms.prototype.getNoder=function(e){if(this._workingNoder!==null)return this._workingNoder;var t=new VT,i=new ih;return i.setPrecisionModel(e),t.setSegmentIntersector(new No(i)),t};ms.prototype.buffer=function(e,t){var i=this._workingPrecisionModel;i===null&&(i=e.getPrecisionModel()),this._geomFact=e.getFactory();var r=new Fs(i,this._bufParams),a=new Vo(e,t,r),o=a.getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,i),this._graph=new wr(new hP),this._graph.addEdges(this._edgeList.getEdges());var s=this.createSubgraphs(this._graph),h=new eo(this._geomFact);this.buildSubgraphs(s,h);var p=h.getPolygons();if(p.size()<=0)return this.createEmptyResultGeometry();var f=this._geomFact.buildGeometry(p);return f};ms.prototype.computeNodedEdges=function(e,t){var i=this,r=this.getNoder(t);r.computeNodes(e);for(var a=r.getNodedSubstrings(),o=a.iterator();o.hasNext();){var s=o.next(),h=s.getCoordinates();if(!(h.length===2&&h[0].equals2D(h[1]))){var p=s.getData(),f=new Eb(s.getCoordinates(),new Gi(p));i.insertUniqueEdge(f)}}};ms.prototype.setNoder=function(e){this._workingNoder=e};ms.prototype.interfaces_=function(){return[]};ms.prototype.getClass=function(){return ms};ms.depthDelta=function(e){var t=e.getLocation(0,Xt.LEFT),i=e.getLocation(0,Xt.RIGHT);return t===kt.INTERIOR&&i===kt.EXTERIOR?1:t===kt.EXTERIOR&&i===kt.INTERIOR?-1:0};ms.convertSegStrings=function(e){for(var t=new gi,i=new en;e.hasNext();){var r=e.next(),a=t.createLineString(r.getCoordinates());i.add(a)}return t.buildGeometry(i)};var Wu=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var e=arguments[0],t=arguments[1];this._noder=e,this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var i=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3];this._noder=i,this._scaleFactor=r,this._offsetX=a,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};Wu.prototype.rescale=function(){var e=this;if(jn(arguments[0],na))for(var t=arguments[0],i=t.iterator();i.hasNext();){var r=i.next();e.rescale(r.getCoordinates())}else if(arguments[0]instanceof Array){for(var a=arguments[0],o=0;o<a.length;o++)a[o].x=a[o].x/e._scaleFactor+e._offsetX,a[o].y=a[o].y/e._scaleFactor+e._offsetY;a.length===2&&a[0].equals2D(a[1])&&za.out.println(a)}};Wu.prototype.scale=function(){var e=this;if(jn(arguments[0],na)){for(var t=arguments[0],i=new en,r=t.iterator();r.hasNext();){var a=r.next();i.add(new Fr(e.scale(a.getCoordinates()),a.getData()))}return i}else if(arguments[0]instanceof Array){for(var o=arguments[0],s=new Array(o.length).fill(null),h=0;h<o.length;h++)s[h]=new bt(Math.round((o[h].x-e._offsetX)*e._scaleFactor),Math.round((o[h].y-e._offsetY)*e._scaleFactor),o[h].z);var p=yi.removeRepeatedPoints(s);return p}};Wu.prototype.isIntegerPrecision=function(){return this._scaleFactor===1};Wu.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e};Wu.prototype.computeNodes=function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)};Wu.prototype.interfaces_=function(){return[Yd]};Wu.prototype.getClass=function(){return Wu};var Hl=function(){this._li=new ih,this._segStrings=null;var e=arguments[0];this._segStrings=e},mP={fact:{configurable:!0}};Hl.prototype.checkEndPtVertexIntersections=function(){var e=this;if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();){var i=t.next(),r=i.getCoordinates();e.checkEndPtVertexIntersections(r[0],e._segStrings),e.checkEndPtVertexIntersections(r[r.length-1],e._segStrings)}else if(arguments.length===2){for(var a=arguments[0],o=arguments[1],s=o.iterator();s.hasNext();)for(var h=s.next(),p=h.getCoordinates(),f=1;f<p.length-1;f++)if(p[f].equals(a))throw new Xc("found endpt/interior pt intersection at index "+f+" :pt "+a)}};Hl.prototype.checkInteriorIntersections=function(){var e=this;if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();)for(var i=t.next(),r=this._segStrings.iterator();r.hasNext();){var a=r.next();e.checkInteriorIntersections(i,a)}else if(arguments.length===2)for(var o=arguments[0],s=arguments[1],h=o.getCoordinates(),p=s.getCoordinates(),f=0;f<h.length-1;f++)for(var y=0;y<p.length-1;y++)e.checkInteriorIntersections(o,f,s,y);else if(arguments.length===4){var g=arguments[0],_=arguments[1],b=arguments[2],T=arguments[3];if(g===b&&_===T)return null;var E=g.getCoordinates()[_],k=g.getCoordinates()[_+1],v=b.getCoordinates()[T],w=b.getCoordinates()[T+1];if(this._li.computeIntersection(E,k,v,w),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,E,k)||this.hasInteriorIntersection(this._li,v,w)))throw new Xc("found non-noded intersection at "+E+"-"+k+" and "+v+"-"+w)}};Hl.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()};Hl.prototype.checkCollapses=function(){var e=this;if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();){var i=t.next();e.checkCollapses(i)}else if(arguments.length===1)for(var r=arguments[0],a=r.getCoordinates(),o=0;o<a.length-2;o++)e.checkCollapse(a[o],a[o+1],a[o+2])};Hl.prototype.hasInteriorIntersection=function(e,t,i){for(var r=0;r<e.getIntersectionNum();r++){var a=e.getIntersection(r);if(!(a.equals(t)||a.equals(i)))return!0}return!1};Hl.prototype.checkCollapse=function(e,t,i){if(e.equals(i))throw new Xc("found non-noded collapse at "+Hl.fact.createLineString([e,t,i]))};Hl.prototype.interfaces_=function(){return[]};Hl.prototype.getClass=function(){return Hl};mP.fact.get=function(){return new gi};Object.defineProperties(Hl,mP);var Bs=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],i=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=i,t<=0)throw new fr("Scale factor must be non-zero");t!==1&&(this._pt=new bt(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new bt,this._p1Scaled=new bt),this.initCorners(this._pt)},fP={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Bs.prototype.intersectsScaled=function(e,t){var i=Math.min(e.x,t.x),r=Math.max(e.x,t.x),a=Math.min(e.y,t.y),o=Math.max(e.y,t.y),s=this._maxx<i||this._minx>r||this._maxy<a||this._miny>o;if(s)return!1;var h=this.intersectsToleranceSquare(e,t);return si.isTrue(!(s&&h),"Found bad envelope test"),h};Bs.prototype.initCorners=function(e){var t=.5;this._minx=e.x-t,this._maxx=e.x+t,this._miny=e.y-t,this._maxy=e.y+t,this._corner[0]=new bt(this._maxx,this._maxy),this._corner[1]=new bt(this._minx,this._maxy),this._corner[2]=new bt(this._minx,this._miny),this._corner[3]=new bt(this._maxx,this._miny)};Bs.prototype.intersects=function(e,t){return this._scaleFactor===1?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))};Bs.prototype.scale=function(e){return Math.round(e*this._scaleFactor)};Bs.prototype.getCoordinate=function(){return this._originalPt};Bs.prototype.copyScaled=function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)};Bs.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var e=Bs.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new An(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv};Bs.prototype.intersectsPixelClosure=function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.hasIntersection())||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.hasIntersection())||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.hasIntersection()))};Bs.prototype.intersectsToleranceSquare=function(e,t){var i=!1,r=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.isProper())||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.isProper())||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.isProper())||i&&r||e.equals(this._pt)||t.equals(this._pt))};Bs.prototype.addSnappedNode=function(e,t){var i=e.getCoordinate(t),r=e.getCoordinate(t+1);return this.intersects(i,r)?(e.addIntersection(this.getCoordinate(),t),!0):!1};Bs.prototype.interfaces_=function(){return[]};Bs.prototype.getClass=function(){return Bs};fP.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75};Object.defineProperties(Bs,fP);var My=function(){this.tempEnv1=new An,this.selectedSegment=new Pn};My.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var e=arguments[0],t=arguments[1];e.getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}}};My.prototype.interfaces_=function(){return[]};My.prototype.getClass=function(){return My};var uf=function(){this._index=null;var e=arguments[0];this._index=e},gP={HotPixelSnapAction:{configurable:!0}};uf.prototype.snap=function(){if(arguments.length===1){var e=arguments[0];return this.snap(e,null,-1)}else if(arguments.length===3){var t=arguments[0],i=arguments[1],r=arguments[2],a=t.getSafeEnvelope(),o=new yP(t,i,r);return this._index.query(a,{interfaces_:function(){return[Yu]},visitItem:function(s){var h=s;h.select(a,o)}}),o.isNodeAdded()}};uf.prototype.interfaces_=function(){return[]};uf.prototype.getClass=function(){return uf};gP.HotPixelSnapAction.get=function(){return yP};Object.defineProperties(uf,gP);var yP=function(n){function e(){n.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],i=arguments[1],r=arguments[2];this._hotPixel=t,this._parentEdge=i,this._hotPixelVertexIndex=r}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(arguments.length===2){var i=arguments[0],r=arguments[1],a=i.getContext();if(this._parentEdge!==null&&a===this._parentEdge&&r===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(a,r)}else return n.prototype.select.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(My),mp=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new en};mp.prototype.processIntersections=function(e,t,i,r){var a=this;if(e===i&&t===r)return null;var o=e.getCoordinates()[t],s=e.getCoordinates()[t+1],h=i.getCoordinates()[r],p=i.getCoordinates()[r+1];if(this._li.computeIntersection(o,s,h,p),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var f=0;f<this._li.getIntersectionNum();f++)a._interiorIntersections.add(a._li.getIntersection(f));e.addIntersections(this._li,t,0),i.addIntersections(this._li,r,1)}};mp.prototype.isDone=function(){return!1};mp.prototype.getInteriorIntersections=function(){return this._interiorIntersections};mp.prototype.interfaces_=function(){return[qd]};mp.prototype.getClass=function(){return mp};var vc=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new ih,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};vc.prototype.checkCorrectness=function(e){var t=Fr.getNodedSubstrings(e),i=new Hl(t);try{i.checkValid()}catch(r){if(r instanceof eP)r.printStackTrace();else throw r}finally{}};vc.prototype.getNodedSubstrings=function(){return Fr.getNodedSubstrings(this._nodedSegStrings)};vc.prototype.snapRound=function(e,t){var i=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(i),this.computeVertexSnaps(e)};vc.prototype.findInteriorIntersections=function(e,t){var i=new mp(t);return this._noder.setSegmentIntersector(i),this._noder.computeNodes(e),i.getInteriorIntersections()};vc.prototype.computeVertexSnaps=function(){var e=this;if(jn(arguments[0],na))for(var t=arguments[0],i=t.iterator();i.hasNext();){var r=i.next();e.computeVertexSnaps(r)}else if(arguments[0]instanceof Fr)for(var a=arguments[0],o=a.getCoordinates(),s=0;s<o.length;s++){var h=new Bs(o[s],e._scaleFactor,e._li),p=e._pointSnapper.snap(h,a,s);p&&a.addIntersection(o[s],s)}};vc.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new VT,this._pointSnapper=new uf(this._noder.getIndex()),this.snapRound(e,this._li)};vc.prototype.computeIntersectionSnaps=function(e){for(var t=this,i=e.iterator();i.hasNext();){var r=i.next(),a=new Bs(r,t._scaleFactor,t._li);t._pointSnapper.snap(a)}};vc.prototype.interfaces_=function(){return[Yd]};vc.prototype.getClass=function(){return vc};var Da=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Di,this._resultGeometry=null,this._saveException=null,arguments.length===1){var e=arguments[0];this._argGeom=e}else if(arguments.length===2){var t=arguments[0],i=arguments[1];this._argGeom=t,this._bufParams=i}},Df={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Da.prototype.bufferFixedPrecision=function(e){var t=new Wu(new vc(new Oi(1)),e.getScale()),i=new ms(this._bufParams);i.setWorkingPrecisionModel(e),i.setNoder(t),this._resultGeometry=i.buffer(this._argGeom,this._distance)};Da.prototype.bufferReducedPrecision=function(){var e=this;if(arguments.length===0){for(var t=Da.MAX_PRECISION_DIGITS;t>=0;t--){try{e.bufferReducedPrecision(t)}catch(o){if(o instanceof Kc)e._saveException=o;else throw o}finally{}if(e._resultGeometry!==null)return null}throw this._saveException}else if(arguments.length===1){var i=arguments[0],r=Da.precisionScaleFactor(this._argGeom,this._distance,i),a=new Oi(r);this.bufferFixedPrecision(a)}};Da.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===Oi.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()};Da.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)};Da.prototype.bufferOriginalPrecision=function(){try{var e=new ms(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(t){if(t instanceof Xc)this._saveException=t;else throw t}finally{}};Da.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry};Da.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)};Da.prototype.interfaces_=function(){return[]};Da.prototype.getClass=function(){return Da};Da.bufferOp=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],i=new Da(e),r=i.getResultGeometry(t);return r}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Bn&&typeof arguments[1]=="number"){var a=arguments[0],o=arguments[1],s=arguments[2],h=new Da(a);h.setQuadrantSegments(s);var p=h.getResultGeometry(o);return p}else if(arguments[2]instanceof Di&&arguments[0]instanceof Bn&&typeof arguments[1]=="number"){var f=arguments[0],y=arguments[1],g=arguments[2],_=new Da(f,g),b=_.getResultGeometry(y);return b}}else if(arguments.length===4){var T=arguments[0],E=arguments[1],k=arguments[2],v=arguments[3],w=new Da(T);w.setQuadrantSegments(k),w.setEndCapStyle(v);var N=w.getResultGeometry(E);return N}};Da.precisionScaleFactor=function(e,t,i){var r=e.getEnvelopeInternal(),a=Eo.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY())),o=t>0?t:0,s=a+2*o,h=Math.trunc(Math.log(s)/Math.log(10)+1),p=i-h,f=Math.pow(10,p);return f};Df.CAP_ROUND.get=function(){return Di.CAP_ROUND};Df.CAP_BUTT.get=function(){return Di.CAP_FLAT};Df.CAP_FLAT.get=function(){return Di.CAP_FLAT};Df.CAP_SQUARE.get=function(){return Di.CAP_SQUARE};Df.MAX_PRECISION_DIGITS.get=function(){return 12};Object.defineProperties(Da,Df);var cs=function(){this._pt=[new bt,new bt],this._distance=qn.NaN,this._isNull=!0};cs.prototype.getCoordinates=function(){return this._pt};cs.prototype.getCoordinate=function(e){return this._pt[e]};cs.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var t=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(t,i),null;var r=t.distance(i);r<this._distance&&this.initialize(t,i,r)}};cs.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];this._pt[0].setCoordinate(i),this._pt[1].setCoordinate(r),this._distance=a,this._isNull=!1}};cs.prototype.getDistance=function(){return this._distance};cs.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var t=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(t,i),null;var r=t.distance(i);r>this._distance&&this.initialize(t,i,r)}};cs.prototype.interfaces_=function(){return[]};cs.prototype.getClass=function(){return cs};var oc=function(){};oc.prototype.interfaces_=function(){return[]};oc.prototype.getClass=function(){return oc};oc.computeDistance=function(){if(arguments[2]instanceof cs&&arguments[0]instanceof Ir&&arguments[1]instanceof bt)for(var e=arguments[0],t=arguments[1],i=arguments[2],r=e.getCoordinates(),a=new Pn,o=0;o<r.length-1;o++){a.setCoordinates(r[o],r[o+1]);var s=a.closestPoint(t);i.setMinimum(s,t)}else if(arguments[2]instanceof cs&&arguments[0]instanceof oa&&arguments[1]instanceof bt){var h=arguments[0],p=arguments[1],f=arguments[2];oc.computeDistance(h.getExteriorRing(),p,f);for(var y=0;y<h.getNumInteriorRing();y++)oc.computeDistance(h.getInteriorRingN(y),p,f)}else if(arguments[2]instanceof cs&&arguments[0]instanceof Bn&&arguments[1]instanceof bt){var g=arguments[0],_=arguments[1],b=arguments[2];if(g instanceof Ir)oc.computeDistance(g,_,b);else if(g instanceof oa)oc.computeDistance(g,_,b);else if(g instanceof fs)for(var T=g,E=0;E<T.getNumGeometries();E++){var k=T.getGeometryN(E);oc.computeDistance(k,_,b)}else b.setMinimum(g.getCoordinate(),_)}else if(arguments[2]instanceof cs&&arguments[0]instanceof Pn&&arguments[1]instanceof bt){var v=arguments[0],w=arguments[1],N=arguments[2],C=v.closestPoint(w);N.setMinimum(C,w)}};var Hd=function(e){this._maxPtDist=new cs,this._inputGeom=e||null},qT={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Hd.prototype.computeMaxMidpointDistance=function(e){var t=new Hu(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())};Hd.prototype.computeMaxVertexDistance=function(e){var t=new fp(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())};Hd.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()};Hd.prototype.getDistancePoints=function(){return this._maxPtDist};Hd.prototype.interfaces_=function(){return[]};Hd.prototype.getClass=function(){return Hd};qT.MaxPointDistanceFilter.get=function(){return fp};qT.MaxMidpointDistanceFilter.get=function(){return Hu};Object.defineProperties(Hd,qT);var fp=function(e){this._maxPtDist=new cs,this._minPtDist=new cs,this._geom=e||null};fp.prototype.filter=function(e){this._minPtDist.initialize(),oc.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};fp.prototype.getMaxPointDistance=function(){return this._maxPtDist};fp.prototype.interfaces_=function(){return[pc]};fp.prototype.getClass=function(){return fp};var Hu=function(e){this._maxPtDist=new cs,this._minPtDist=new cs,this._geom=e||null};Hu.prototype.filter=function(e,t){if(t===0)return null;var i=e.getCoordinate(t-1),r=e.getCoordinate(t),a=new bt((i.x+r.x)/2,(i.y+r.y)/2);this._minPtDist.initialize(),oc.computeDistance(this._geom,a,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};Hu.prototype.isDone=function(){return!1};Hu.prototype.isGeometryChanged=function(){return!1};Hu.prototype.getMaxPointDistance=function(){return this._maxPtDist};Hu.prototype.interfaces_=function(){return[fl]};Hu.prototype.getClass=function(){return Hu};var Vc=function(e){this._comps=e||null};Vc.prototype.filter=function(e){e instanceof oa&&this._comps.add(e)};Vc.prototype.interfaces_=function(){return[Gl]};Vc.prototype.getClass=function(){return Vc};Vc.getPolygons=function(){if(arguments.length===1){var e=arguments[0];return Vc.getPolygons(e,new en)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];return t instanceof oa?i.add(t):t instanceof fs&&t.apply(new Vc(i)),i}};var Pa=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var e=arguments[0];this._lines=e}else if(arguments.length===2){var t=arguments[0],i=arguments[1];this._lines=t,this._isForcedToLineString=i}};Pa.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof mc){var t=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(t),null}e instanceof Ir&&this._lines.add(e)};Pa.prototype.setForceToLineString=function(e){this._isForcedToLineString=e};Pa.prototype.interfaces_=function(){return[Zc]};Pa.prototype.getClass=function(){return Pa};Pa.getGeometry=function(){if(arguments.length===1){var e=arguments[0];return e.getFactory().buildGeometry(Pa.getLines(e))}else if(arguments.length===2){var t=arguments[0],i=arguments[1];return t.getFactory().buildGeometry(Pa.getLines(t,i))}};Pa.getLines=function(){if(arguments.length===1){var e=arguments[0];return Pa.getLines(e,!1)}else if(arguments.length===2){if(jn(arguments[0],na)&&jn(arguments[1],na)){for(var t=arguments[0],i=arguments[1],r=t.iterator();r.hasNext();){var a=r.next();Pa.getLines(a,i)}return i}else if(arguments[0]instanceof Bn&&typeof arguments[1]=="boolean"){var o=arguments[0],s=arguments[1],h=new en;return o.apply(new Pa(h,s)),h}else if(arguments[0]instanceof Bn&&jn(arguments[1],na)){var p=arguments[0],f=arguments[1];return p instanceof Ir?f.add(p):p.apply(new Pa(f)),f}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&jn(arguments[0],na)&&jn(arguments[1],na)){for(var y=arguments[0],g=arguments[1],_=arguments[2],b=y.iterator();b.hasNext();){var T=b.next();Pa.getLines(T,g,_)}return g}else if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Bn&&jn(arguments[1],na)){var E=arguments[0],k=arguments[1],v=arguments[2];return E.apply(new Pa(k,v)),k}}};var xl=function(){if(this._boundaryRule=Go.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];if(e===null)throw new fr("Rule must be non-null");this._boundaryRule=e}}};xl.prototype.locateInternal=function(){var e=this;if(arguments[0]instanceof bt&&arguments[1]instanceof oa){var t=arguments[0],i=arguments[1];if(i.isEmpty())return kt.EXTERIOR;var r=i.getExteriorRing(),a=this.locateInPolygonRing(t,r);if(a===kt.EXTERIOR)return kt.EXTERIOR;if(a===kt.BOUNDARY)return kt.BOUNDARY;for(var o=0;o<i.getNumInteriorRing();o++){var s=i.getInteriorRingN(o),h=e.locateInPolygonRing(t,s);if(h===kt.INTERIOR)return kt.EXTERIOR;if(h===kt.BOUNDARY)return kt.BOUNDARY}return kt.INTERIOR}else if(arguments[0]instanceof bt&&arguments[1]instanceof Ir){var p=arguments[0],f=arguments[1];if(!f.getEnvelopeInternal().intersects(p))return kt.EXTERIOR;var y=f.getCoordinates();return!f.isClosed()&&(p.equals(y[0])||p.equals(y[y.length-1]))?kt.BOUNDARY:ln.isOnLine(p,y)?kt.INTERIOR:kt.EXTERIOR}else if(arguments[0]instanceof bt&&arguments[1]instanceof Js){var g=arguments[0],_=arguments[1],b=_.getCoordinate();return b.equals2D(g)?kt.INTERIOR:kt.EXTERIOR}};xl.prototype.locateInPolygonRing=function(e,t){return t.getEnvelopeInternal().intersects(e)?ln.locatePointInRing(e,t.getCoordinates()):kt.EXTERIOR};xl.prototype.intersects=function(e,t){return this.locate(e,t)!==kt.EXTERIOR};xl.prototype.updateLocationInfo=function(e){e===kt.INTERIOR&&(this._isIn=!0),e===kt.BOUNDARY&&this._numBoundaries++};xl.prototype.computeLocation=function(e,t){var i=this;if(t instanceof Js&&this.updateLocationInfo(this.locateInternal(e,t)),t instanceof Ir)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof oa)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof Gd)for(var r=t,a=0;a<r.getNumGeometries();a++){var o=r.getGeometryN(a);i.updateLocationInfo(i.locateInternal(e,o))}else if(t instanceof lc)for(var s=t,h=0;h<s.getNumGeometries();h++){var p=s.getGeometryN(h);i.updateLocationInfo(i.locateInternal(e,p))}else if(t instanceof fs)for(var f=new cc(t);f.hasNext();){var y=f.next();y!==t&&i.computeLocation(e,y)}};xl.prototype.locate=function(e,t){return t.isEmpty()?kt.EXTERIOR:t instanceof Ir?this.locateInternal(e,t):t instanceof oa?this.locateInternal(e,t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,t),this._boundaryRule.isInBoundary(this._numBoundaries)?kt.BOUNDARY:this._numBoundaries>0||this._isIn?kt.INTERIOR:kt.EXTERIOR)};xl.prototype.interfaces_=function(){return[]};xl.prototype.getClass=function(){return xl};var us=function n(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var e=arguments[0],t=arguments[1];n.call(this,e,n.INSIDE_AREA,t)}else if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];this._component=i,this._segIndex=r,this._pt=a}},vP={INSIDE_AREA:{configurable:!0}};us.prototype.isInsideArea=function(){return this._segIndex===us.INSIDE_AREA};us.prototype.getCoordinate=function(){return this._pt};us.prototype.getGeometryComponent=function(){return this._component};us.prototype.getSegmentIndex=function(){return this._segIndex};us.prototype.interfaces_=function(){return[]};us.prototype.getClass=function(){return us};vP.INSIDE_AREA.get=function(){return-1};Object.defineProperties(us,vP);var Fu=function(e){this._pts=e||null};Fu.prototype.filter=function(e){e instanceof Js&&this._pts.add(e)};Fu.prototype.interfaces_=function(){return[Gl]};Fu.prototype.getClass=function(){return Fu};Fu.getPoints=function(){if(arguments.length===1){var e=arguments[0];return e instanceof Js?yl.singletonList(e):Fu.getPoints(e,new en)}else if(arguments.length===2){var t=arguments[0],i=arguments[1];return t instanceof Js?i.add(t):t instanceof fs&&t.apply(new Fu(i)),i}};var gp=function(){this._locations=null;var e=arguments[0];this._locations=e};gp.prototype.filter=function(e){(e instanceof Js||e instanceof Ir||e instanceof oa)&&this._locations.add(new us(e,0,e.getCoordinate()))};gp.prototype.interfaces_=function(){return[Gl]};gp.prototype.getClass=function(){return gp};gp.getLocations=function(e){var t=new en;return e.apply(new gp(t)),t};var Ba=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new xl,this._minDistanceLocation=null,this._minDistance=qn.MAX_VALUE,arguments.length===2){var e=arguments[0],t=arguments[1];this._geom=[e,t],this._terminateDistance=0}else if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=i,this._geom[1]=r,this._terminateDistance=a}};Ba.prototype.computeContainmentDistance=function(){var e=this;if(arguments.length===0){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(arguments.length===2){var i=arguments[0],r=arguments[1],a=1-i,o=Vc.getPolygons(this._geom[i]);if(o.size()>0){var s=gp.getLocations(this._geom[a]);if(this.computeContainmentDistance(s,o,r),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[a]=r[0],this._minDistanceLocation[i]=r[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&jn(arguments[0],pl)&&jn(arguments[1],pl)){for(var h=arguments[0],p=arguments[1],f=arguments[2],y=0;y<h.size();y++)for(var g=h.get(y),_=0;_<p.size();_++)if(e.computeContainmentDistance(g,p.get(_),f),e._minDistance<=e._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof us&&arguments[1]instanceof oa){var b=arguments[0],T=arguments[1],E=arguments[2],k=b.getCoordinate();if(kt.EXTERIOR!==this._ptLocator.locate(k,T))return this._minDistance=0,E[0]=b,E[1]=new us(T,k),null}}};Ba.prototype.computeMinDistanceLinesPoints=function(e,t,i){for(var r=this,a=0;a<e.size();a++)for(var o=e.get(a),s=0;s<t.size();s++){var h=t.get(s);if(r.computeMinDistance(o,h,i),r._minDistance<=r._terminateDistance)return null}};Ba.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),t=Pa.getLines(this._geom[0]),i=Pa.getLines(this._geom[1]),r=Fu.getPoints(this._geom[0]),a=Fu.getPoints(this._geom[1]);if(this.computeMinDistanceLines(t,i,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance||(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(t,a,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance)||(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(i,r,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance))return null;e[0]=null,e[1]=null,this.computeMinDistancePoints(r,a,e),this.updateMinDistance(e,!1)};Ba.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation};Ba.prototype.updateMinDistance=function(e,t){if(e[0]===null)return null;t?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])};Ba.prototype.nearestPoints=function(){this.computeMinDistance();var e=[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()];return e};Ba.prototype.computeMinDistance=function(){var e=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof Ir&&arguments[1]instanceof Js){var t=arguments[0],i=arguments[1],r=arguments[2];if(t.getEnvelopeInternal().distance(i.getEnvelopeInternal())>this._minDistance)return null;for(var a=t.getCoordinates(),o=i.getCoordinate(),s=0;s<a.length-1;s++){var h=ln.distancePointLine(o,a[s],a[s+1]);if(h<e._minDistance){e._minDistance=h;var p=new Pn(a[s],a[s+1]),f=p.closestPoint(o);r[0]=new us(t,s,f),r[1]=new us(i,0,o)}if(e._minDistance<=e._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ir&&arguments[1]instanceof Ir){var y=arguments[0],g=arguments[1],_=arguments[2];if(y.getEnvelopeInternal().distance(g.getEnvelopeInternal())>this._minDistance)return null;for(var b=y.getCoordinates(),T=g.getCoordinates(),E=0;E<b.length-1;E++)for(var k=0;k<T.length-1;k++){var v=ln.distanceLineLine(b[E],b[E+1],T[k],T[k+1]);if(v<e._minDistance){e._minDistance=v;var w=new Pn(b[E],b[E+1]),N=new Pn(T[k],T[k+1]),C=w.closestPoints(N);_[0]=new us(y,E,C[0]),_[1]=new us(g,k,C[1])}if(e._minDistance<=e._terminateDistance)return null}}}};Ba.prototype.computeMinDistancePoints=function(e,t,i){for(var r=this,a=0;a<e.size();a++)for(var o=e.get(a),s=0;s<t.size();s++){var h=t.get(s),p=o.getCoordinate().distance(h.getCoordinate());if(p<r._minDistance&&(r._minDistance=p,i[0]=new us(o,0,o.getCoordinate()),i[1]=new us(h,0,h.getCoordinate())),r._minDistance<=r._terminateDistance)return null}};Ba.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new fr("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)};Ba.prototype.computeMinDistanceLines=function(e,t,i){for(var r=this,a=0;a<e.size();a++)for(var o=e.get(a),s=0;s<t.size();s++){var h=t.get(s);if(r.computeMinDistance(o,h,i),r._minDistance<=r._terminateDistance)return null}};Ba.prototype.interfaces_=function(){return[]};Ba.prototype.getClass=function(){return Ba};Ba.distance=function(e,t){var i=new Ba(e,t);return i.distance()};Ba.isWithinDistance=function(e,t,i){var r=new Ba(e,t,i);return r.distance()<=i};Ba.nearestPoints=function(e,t){var i=new Ba(e,t);return i.nearestPoints()};var Xa=function(){this._pt=[new bt,new bt],this._distance=qn.NaN,this._isNull=!0};Xa.prototype.getCoordinates=function(){return this._pt};Xa.prototype.getCoordinate=function(e){return this._pt[e]};Xa.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var t=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(t,i),null;var r=t.distance(i);r<this._distance&&this.initialize(t,i,r)}};Xa.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];this._pt[0].setCoordinate(i),this._pt[1].setCoordinate(r),this._distance=a,this._isNull=!1}};Xa.prototype.toString=function(){return ml.toLineString(this._pt[0],this._pt[1])};Xa.prototype.getDistance=function(){return this._distance};Xa.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var t=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(t,i),null;var r=t.distance(i);r>this._distance&&this.initialize(t,i,r)}};Xa.prototype.interfaces_=function(){return[]};Xa.prototype.getClass=function(){return Xa};var Dl=function(){};Dl.prototype.interfaces_=function(){return[]};Dl.prototype.getClass=function(){return Dl};Dl.computeDistance=function(){if(arguments[2]instanceof Xa&&arguments[0]instanceof Ir&&arguments[1]instanceof bt)for(var e=arguments[0],t=arguments[1],i=arguments[2],r=new Pn,a=e.getCoordinates(),o=0;o<a.length-1;o++){r.setCoordinates(a[o],a[o+1]);var s=r.closestPoint(t);i.setMinimum(s,t)}else if(arguments[2]instanceof Xa&&arguments[0]instanceof oa&&arguments[1]instanceof bt){var h=arguments[0],p=arguments[1],f=arguments[2];Dl.computeDistance(h.getExteriorRing(),p,f);for(var y=0;y<h.getNumInteriorRing();y++)Dl.computeDistance(h.getInteriorRingN(y),p,f)}else if(arguments[2]instanceof Xa&&arguments[0]instanceof Bn&&arguments[1]instanceof bt){var g=arguments[0],_=arguments[1],b=arguments[2];if(g instanceof Ir)Dl.computeDistance(g,_,b);else if(g instanceof oa)Dl.computeDistance(g,_,b);else if(g instanceof fs)for(var T=g,E=0;E<T.getNumGeometries();E++){var k=T.getGeometryN(E);Dl.computeDistance(k,_,b)}else b.setMinimum(g.getCoordinate(),_)}else if(arguments[2]instanceof Xa&&arguments[0]instanceof Pn&&arguments[1]instanceof bt){var v=arguments[0],w=arguments[1],N=arguments[2],C=v.closestPoint(w);N.setMinimum(C,w)}};var Bo=function(){this._g0=null,this._g1=null,this._ptDist=new Xa,this._densifyFrac=0;var e=arguments[0],t=arguments[1];this._g0=e,this._g1=t},WT={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Bo.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()};Bo.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new fr("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e};Bo.prototype.compute=function(e,t){this.computeOrientedDistance(e,t,this._ptDist),this.computeOrientedDistance(t,e,this._ptDist)};Bo.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()};Bo.prototype.computeOrientedDistance=function(e,t,i){var r=new yp(t);if(e.apply(r),i.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var a=new Xu(t,this._densifyFrac);e.apply(a),i.setMaximum(a.getMaxPointDistance())}};Bo.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()};Bo.prototype.interfaces_=function(){return[]};Bo.prototype.getClass=function(){return Bo};Bo.distance=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],i=new Bo(e,t);return i.distance()}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2],s=new Bo(r,a);return s.setDensifyFraction(o),s.distance()}};WT.MaxPointDistanceFilter.get=function(){return yp};WT.MaxDensifiedByFractionDistanceFilter.get=function(){return Xu};Object.defineProperties(Bo,WT);var yp=function(){this._maxPtDist=new Xa,this._minPtDist=new Xa,this._euclideanDist=new Dl,this._geom=null;var e=arguments[0];this._geom=e};yp.prototype.filter=function(e){this._minPtDist.initialize(),Dl.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};yp.prototype.getMaxPointDistance=function(){return this._maxPtDist};yp.prototype.interfaces_=function(){return[pc]};yp.prototype.getClass=function(){return yp};var Xu=function(){this._maxPtDist=new Xa,this._minPtDist=new Xa,this._geom=null,this._numSubSegs=0;var e=arguments[0],t=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/t))};Xu.prototype.filter=function(e,t){var i=this;if(t===0)return null;for(var r=e.getCoordinate(t-1),a=e.getCoordinate(t),o=(a.x-r.x)/this._numSubSegs,s=(a.y-r.y)/this._numSubSegs,h=0;h<this._numSubSegs;h++){var p=r.x+h*o,f=r.y+h*s,y=new bt(p,f);i._minPtDist.initialize(),Dl.computeDistance(i._geom,y,i._minPtDist),i._maxPtDist.setMaximum(i._minPtDist)}};Xu.prototype.isDone=function(){return!1};Xu.prototype.isGeometryChanged=function(){return!1};Xu.prototype.getMaxPointDistance=function(){return this._maxPtDist};Xu.prototype.interfaces_=function(){return[fl]};Xu.prototype.getClass=function(){return Xu};var Zs=function(e,t,i){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=t||null,this._result=i||null},HT={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Zs.prototype.checkMaximumDistance=function(e,t,i){var r=new Bo(t,e);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>i){this._isValid=!1;var a=r.getCoordinates();this._errorLocation=a[1],this._errorIndicator=e.getFactory().createLineString(a),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+ml.toLineString(a[0],a[1])+")"}};Zs.prototype.isValid=function(){var e=Math.abs(this._bufDistance),t=Zs.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-t,this._maxValidDistance=e+t,this._input.isEmpty()||this._result.isEmpty()?!0:(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Zs.VERBOSE&&za.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)};Zs.prototype.checkNegativeValid=function(){if(!(this._input instanceof oa||this._input instanceof lc||this._input instanceof fs))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)};Zs.prototype.getErrorIndicator=function(){return this._errorIndicator};Zs.prototype.checkMinimumDistance=function(e,t,i){var r=new Ba(e,t,i);if(this._minDistanceFound=r.distance(),this._minDistanceFound<i){this._isValid=!1;var a=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(a),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+ml.toLineString(a[0],a[1])+" )"}};Zs.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)};Zs.prototype.getErrorLocation=function(){return this._errorLocation};Zs.prototype.getPolygonLines=function(e){for(var t=new en,i=new Pa(t),r=Vc.getPolygons(e),a=r.iterator();a.hasNext();){var o=a.next();o.apply(i)}return e.getFactory().buildGeometry(t)};Zs.prototype.getErrorMessage=function(){return this._errMsg};Zs.prototype.interfaces_=function(){return[]};Zs.prototype.getClass=function(){return Zs};HT.VERBOSE.get=function(){return!1};HT.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012};Object.defineProperties(Zs,HT);var ja=function(e,t,i){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=t||null,this._result=i||null},XT={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};ja.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid};ja.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*ja.MAX_ENV_DIFF_FRAC;e===0&&(e=.001);var t=new An(this._input.getEnvelopeInternal());t.expandBy(this._distance);var i=new An(this._result.getEnvelopeInternal());i.expandBy(e),i.contains(t)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(i)),this.report("Envelope")};ja.prototype.checkDistance=function(){var e=new Zs(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")};ja.prototype.checkArea=function(){var e=this._input.getArea(),t=this._result.getArea();this._distance>0&&e>t&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<t&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")};ja.prototype.checkPolygonal=function(){this._result instanceof oa||this._result instanceof lc||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")};ja.prototype.getErrorIndicator=function(){return this._errorIndicator};ja.prototype.getErrorLocation=function(){return this._errorLocation};ja.prototype.checkExpectedEmpty=function(){if(this._input.getDimension()>=2||this._distance>0)return null;this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),this.report("ExpectedEmpty")};ja.prototype.report=function(e){if(!ja.VERBOSE)return null;za.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))};ja.prototype.getErrorMessage=function(){return this._errorMsg};ja.prototype.interfaces_=function(){return[]};ja.prototype.getClass=function(){return ja};ja.isValidMsg=function(e,t,i){var r=new ja(e,t,i);return r.isValid()?null:r.getErrorMessage()};ja.isValid=function(e,t,i){var r=new ja(e,t,i);return!!r.isValid()};XT.VERBOSE.get=function(){return!1};XT.MAX_ENV_DIFF_FRAC.get=function(){return .012};Object.defineProperties(ja,XT);var Xl=function(){this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};Xl.prototype.getCoordinates=function(){return this._pts};Xl.prototype.size=function(){return this._pts.length};Xl.prototype.getCoordinate=function(e){return this._pts[e]};Xl.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};Xl.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:hp.octant(this.getCoordinate(e),this.getCoordinate(e+1))};Xl.prototype.setData=function(e){this._data=e};Xl.prototype.getData=function(){return this._data};Xl.prototype.toString=function(){return ml.toLineString(new Rr(this._pts))};Xl.prototype.interfaces_=function(){return[gc]};Xl.prototype.getClass=function(){return Xl};var Ca=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new en,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};Ca.prototype.getInteriorIntersection=function(){return this._interiorIntersection};Ca.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e};Ca.prototype.getIntersectionSegments=function(){return this._intSegments};Ca.prototype.count=function(){return this._intersectionCount};Ca.prototype.getIntersections=function(){return this._intersections};Ca.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e};Ca.prototype.setKeepIntersections=function(e){this._keepIntersections=e};Ca.prototype.processIntersections=function(e,t,i,r){if(!this._findAllIntersections&&this.hasIntersection()||e===i&&t===r)return null;if(this._isCheckEndSegmentsOnly){var a=this.isEndSegment(e,t)||this.isEndSegment(i,r);if(!a)return null}var o=e.getCoordinates()[t],s=e.getCoordinates()[t+1],h=i.getCoordinates()[r],p=i.getCoordinates()[r+1];this._li.computeIntersection(o,s,h,p),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=o,this._intSegments[1]=s,this._intSegments[2]=h,this._intSegments[3]=p,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)};Ca.prototype.isEndSegment=function(e,t){return t===0||t>=e.size()-2};Ca.prototype.hasIntersection=function(){return this._interiorIntersection!==null};Ca.prototype.isDone=function(){return this._findAllIntersections?!1:this._interiorIntersection!==null};Ca.prototype.interfaces_=function(){return[qd]};Ca.prototype.getClass=function(){return Ca};Ca.createAllIntersectionsFinder=function(e){var t=new Ca(e);return t.setFindAllIntersections(!0),t};Ca.createAnyIntersectionFinder=function(e){return new Ca(e)};Ca.createIntersectionCounter=function(e){var t=new Ca(e);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t};var bl=function(){this._li=new ih,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};bl.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()};bl.prototype.getIntersections=function(){return this._segInt.getIntersections()};bl.prototype.isValid=function(){return this.execute(),this._isValid};bl.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e};bl.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Ca(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new VT;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null};bl.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Kc(this.getErrorMessage(),this._segInt.getInteriorIntersection())};bl.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+ml.toLineString(e[0],e[1])+" and "+ml.toLineString(e[2],e[3])};bl.prototype.interfaces_=function(){return[]};bl.prototype.getClass=function(){return bl};bl.computeIntersections=function(e){var t=new bl(e);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()};var Xd=function n(){this._nv=null;var e=arguments[0];this._nv=new bl(n.toSegmentStrings(e))};Xd.prototype.checkValid=function(){this._nv.checkValid()};Xd.prototype.interfaces_=function(){return[]};Xd.prototype.getClass=function(){return Xd};Xd.toSegmentStrings=function(e){for(var t=new en,i=e.iterator();i.hasNext();){var r=i.next();t.add(new Xl(r.getCoordinates(),r))}return t};Xd.checkValid=function(e){var t=new Xd(e);t.checkValid()};var vp=function(e){this._mapOp=e};vp.prototype.map=function(e){for(var t=this,i=new en,r=0;r<e.getNumGeometries();r++){var a=t._mapOp.map(e.getGeometryN(r));a.isEmpty()||i.add(a)}return e.getFactory().createGeometryCollection(gi.toGeometryArray(i))};vp.prototype.interfaces_=function(){return[]};vp.prototype.getClass=function(){return vp};vp.map=function(e,t){var i=new vp(t);return i.map(e)};var Zl=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new en,this._resultLineList=new en;var e=arguments[0],t=arguments[1],i=arguments[2];this._op=e,this._geometryFactory=t,this._ptLocator=i};Zl.prototype.collectLines=function(e){for(var t=this,i=this._op.getGraph().getEdgeEnds().iterator();i.hasNext();){var r=i.next();t.collectLineEdge(r,e,t._lineEdgesList),t.collectBoundaryTouchEdge(r,e,t._lineEdgesList)}};Zl.prototype.labelIsolatedLine=function(e,t){var i=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(t));e.getLabel().setLocation(t,i)};Zl.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList};Zl.prototype.collectLineEdge=function(e,t,i){var r=e.getLabel(),a=e.getEdge();e.isLineEdge()&&!e.isVisited()&&ti.isResultOfOp(r,t)&&!a.isCovered()&&(i.add(a),e.setVisitedEdge(!0))};Zl.prototype.findCoveredLineEdges=function(){for(var e=this,t=this._op.getGraph().getNodes().iterator();t.hasNext();){var i=t.next();i.getEdges().findCoveredLineEdges()}for(var r=this._op.getGraph().getEdgeEnds().iterator();r.hasNext();){var a=r.next(),o=a.getEdge();if(a.isLineEdge()&&!o.isCoveredSet()){var s=e._op.isCoveredByA(a.getCoordinate());o.setCovered(s)}}};Zl.prototype.labelIsolatedLines=function(e){for(var t=this,i=e.iterator();i.hasNext();){var r=i.next(),a=r.getLabel();r.isIsolated()&&(a.isNull(0)?t.labelIsolatedLine(r,0):t.labelIsolatedLine(r,1))}};Zl.prototype.buildLines=function(e){for(var t=this,i=this._lineEdgesList.iterator();i.hasNext();){var r=i.next(),a=t._geometryFactory.createLineString(r.getCoordinates());t._resultLineList.add(a),r.setInResult(!0)}};Zl.prototype.collectBoundaryTouchEdge=function(e,t,i){var r=e.getLabel();if(e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult())return null;si.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),ti.isResultOfOp(r,t)&&t===ti.INTERSECTION&&(i.add(e.getEdge()),e.setVisitedEdge(!0))};Zl.prototype.interfaces_=function(){return[]};Zl.prototype.getClass=function(){return Zl};var xp=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new en;var e=arguments[0],t=arguments[1];this._op=e,this._geometryFactory=t};xp.prototype.filterCoveredNodeToPoint=function(e){var t=e.getCoordinate();if(!this._op.isCoveredByLA(t)){var i=this._geometryFactory.createPoint(t);this._resultPointList.add(i)}};xp.prototype.extractNonCoveredResultNodes=function(e){for(var t=this,i=this._op.getGraph().getNodes().iterator();i.hasNext();){var r=i.next();if(!r.isInResult()&&!r.isIncidentEdgeInResult()&&(r.getEdges().getDegree()===0||e===ti.INTERSECTION)){var a=r.getLabel();ti.isResultOfOp(a,e)&&t.filterCoveredNodeToPoint(r)}}};xp.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList};xp.prototype.interfaces_=function(){return[]};xp.prototype.getClass=function(){return xp};var js=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};js.prototype.transformPoint=function(e,t){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))};js.prototype.transformPolygon=function(e,t){var i=this,r=!0,a=this.transformLinearRing(e.getExteriorRing(),e);(a===null||!(a instanceof mc)||a.isEmpty())&&(r=!1);for(var o=new en,s=0;s<e.getNumInteriorRing();s++){var h=i.transformLinearRing(e.getInteriorRingN(s),e);h===null||h.isEmpty()||(h instanceof mc||(r=!1),o.add(h))}if(r)return this._factory.createPolygon(a,o.toArray([]));var p=new en;return a!==null&&p.add(a),p.addAll(o),this._factory.buildGeometry(p)};js.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)};js.prototype.getInputGeometry=function(){return this._inputGeom};js.prototype.transformMultiLineString=function(e,t){for(var i=this,r=new en,a=0;a<e.getNumGeometries();a++){var o=i.transformLineString(e.getGeometryN(a),e);o!==null&&(o.isEmpty()||r.add(o))}return this._factory.buildGeometry(r)};js.prototype.transformCoordinates=function(e,t){return this.copy(e)};js.prototype.transformLineString=function(e,t){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))};js.prototype.transformMultiPoint=function(e,t){for(var i=this,r=new en,a=0;a<e.getNumGeometries();a++){var o=i.transformPoint(e.getGeometryN(a),e);o!==null&&(o.isEmpty()||r.add(o))}return this._factory.buildGeometry(r)};js.prototype.transformMultiPolygon=function(e,t){for(var i=this,r=new en,a=0;a<e.getNumGeometries();a++){var o=i.transformPolygon(e.getGeometryN(a),e);o!==null&&(o.isEmpty()||r.add(o))}return this._factory.buildGeometry(r)};js.prototype.copy=function(e){return e.copy()};js.prototype.transformGeometryCollection=function(e,t){for(var i=this,r=new en,a=0;a<e.getNumGeometries();a++){var o=i.transform(e.getGeometryN(a));o!==null&&(i._pruneEmptyGeometry&&o.isEmpty()||r.add(o))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(gi.toGeometryArray(r)):this._factory.buildGeometry(r)};js.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof Js)return this.transformPoint(e,null);if(e instanceof af)return this.transformMultiPoint(e,null);if(e instanceof mc)return this.transformLinearRing(e,null);if(e instanceof Ir)return this.transformLineString(e,null);if(e instanceof Gd)return this.transformMultiLineString(e,null);if(e instanceof oa)return this.transformPolygon(e,null);if(e instanceof lc)return this.transformMultiPolygon(e,null);if(e instanceof fs)return this.transformGeometryCollection(e,null);throw new fr("Unknown Geometry subtype: "+e.getClass().getName())};js.prototype.transformLinearRing=function(e,t){var i=this.transformCoordinates(e.getCoordinateSequence(),e);if(i===null)return this._factory.createLinearRing(null);var r=i.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(i):this._factory.createLinearRing(i)};js.prototype.interfaces_=function(){return[]};js.prototype.getClass=function(){return js};var xc=function n(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Pn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ir&&typeof arguments[1]=="number"){var e=arguments[0],t=arguments[1];n.call(this,e.getCoordinates(),t)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var i=arguments[0],r=arguments[1];this._srcPts=i,this._isClosed=n.isClosed(i),this._snapTolerance=r}};xc.prototype.snapVertices=function(e,t){for(var i=this,r=this._isClosed?e.size()-1:e.size(),a=0;a<r;a++){var o=e.get(a),s=i.findSnapForVertex(o,t);s!==null&&(e.set(a,new bt(s)),a===0&&i._isClosed&&e.set(e.size()-1,new bt(s)))}};xc.prototype.findSnapForVertex=function(e,t){for(var i=this,r=0;r<t.length;r++){if(e.equals2D(t[r]))return null;if(e.distance(t[r])<i._snapTolerance)return t[r]}return null};xc.prototype.snapTo=function(e){var t=new sv(this._srcPts);this.snapVertices(t,e),this.snapSegments(t,e);var i=t.toCoordinateArray();return i};xc.prototype.snapSegments=function(e,t){var i=this;if(t.length===0)return null;var r=t.length;t[0].equals2D(t[t.length-1])&&(r=t.length-1);for(var a=0;a<r;a++){var o=t[a],s=i.findSegmentIndexToSnap(o,e);s>=0&&e.add(s+1,new bt(o),!1)}};xc.prototype.findSegmentIndexToSnap=function(e,t){for(var i=this,r=qn.MAX_VALUE,a=-1,o=0;o<t.size()-1;o++){if(i._seg.p0=t.get(o),i._seg.p1=t.get(o+1),i._seg.p0.equals2D(e)||i._seg.p1.equals2D(e)){if(i._allowSnappingToSourceVertices)continue;return-1}var s=i._seg.distance(e);s<i._snapTolerance&&s<r&&(r=s,a=o)}return a};xc.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e};xc.prototype.interfaces_=function(){return[]};xc.prototype.getClass=function(){return xc};xc.isClosed=function(e){return e.length<=1?!1:e[0].equals2D(e[e.length-1])};var $r=function(e){this._srcGeom=e||null},xP={SNAP_PRECISION_FACTOR:{configurable:!0}};$r.prototype.snapTo=function(e,t){var i=this.extractTargetCoordinates(e),r=new bP(t,i);return r.transform(this._srcGeom)};$r.prototype.snapToSelf=function(e,t){var i=this.extractTargetCoordinates(this._srcGeom),r=new bP(e,i,!0),a=r.transform(this._srcGeom),o=a;return t&&jn(o,Gu)&&(o=a.buffer(0)),o};$r.prototype.computeSnapTolerance=function(e){var t=this.computeMinimumSegmentLength(e),i=t/10;return i};$r.prototype.extractTargetCoordinates=function(e){for(var t=new Ul,i=e.getCoordinates(),r=0;r<i.length;r++)t.add(i[r]);return t.toArray(new Array(0).fill(null))};$r.prototype.computeMinimumSegmentLength=function(e){for(var t=qn.MAX_VALUE,i=0;i<e.length-1;i++){var r=e[i].distance(e[i+1]);r<t&&(t=r)}return t};$r.prototype.interfaces_=function(){return[]};$r.prototype.getClass=function(){return $r};$r.snap=function(e,t,i){var r=new Array(2).fill(null),a=new $r(e);r[0]=a.snapTo(t,i);var o=new $r(t);return r[1]=o.snapTo(r[0],i),r};$r.computeOverlaySnapTolerance=function(){if(arguments.length===1){var e=arguments[0],t=$r.computeSizeBasedSnapTolerance(e),i=e.getPrecisionModel();if(i.getType()===Oi.FIXED){var r=1/i.getScale()*2/1.415;r>t&&(t=r)}return t}else if(arguments.length===2){var a=arguments[0],o=arguments[1];return Math.min($r.computeOverlaySnapTolerance(a),$r.computeOverlaySnapTolerance(o))}};$r.computeSizeBasedSnapTolerance=function(e){var t=e.getEnvelopeInternal(),i=Math.min(t.getHeight(),t.getWidth()),r=i*$r.SNAP_PRECISION_FACTOR;return r};$r.snapToSelf=function(e,t,i){var r=new $r(e);return r.snapToSelf(t,i)};xP.SNAP_PRECISION_FACTOR.get=function(){return 1e-9};Object.defineProperties($r,xP);var bP=function(n){function e(t,i,r){n.call(this),this._snapTolerance=t||null,this._snapPts=i||null,this._isSelfSnap=r!==void 0?r:!1}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(i,r){var a=new xc(i,this._snapTolerance);return a.setAllowSnappingToSourceVertices(this._isSelfSnap),a.snapTo(r)},e.prototype.transformCoordinates=function(i,r){var a=i.toCoordinateArray(),o=this.snapLine(a,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(o)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(js),os=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};os.prototype.getCommon=function(){return qn.longBitsToDouble(this._commonBits)};os.prototype.add=function(e){var t=qn.doubleToLongBits(e);if(this._isFirst)return this._commonBits=t,this._commonSignExp=os.signExpBits(this._commonBits),this._isFirst=!1,null;var i=os.signExpBits(t);if(i!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=os.numCommonMostSigMantissaBits(this._commonBits,t),this._commonBits=os.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))};os.prototype.toString=function(){if(arguments.length===1){var e=arguments[0],t=qn.longBitsToDouble(e),i=qn.toBinaryString(e),r="0000000000000000000000000000000000000000000000000000000000000000"+i,a=r.substring(r.length-64),o=a.substring(0,1)+"  "+a.substring(1,12)+"(exp) "+a.substring(12)+" [ "+t+" ]";return o}};os.prototype.interfaces_=function(){return[]};os.prototype.getClass=function(){return os};os.getBit=function(e,t){var i=1<<t;return e&i?1:0};os.signExpBits=function(e){return e>>52};os.zeroLowerBits=function(e,t){var i=(1<<t)-1,r=~i,a=e&r;return a};os.numCommonMostSigMantissaBits=function(e,t){for(var i=0,r=52;r>=0;r--){if(os.getBit(e,r)!==os.getBit(t,r))return i;i++}return 52};var Zu=function(){this._commonCoord=null,this._ccFilter=new bp},ZT={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Zu.prototype.addCommonBits=function(e){var t=new Ku(this._commonCoord);e.apply(t),e.geometryChanged()};Zu.prototype.removeCommonBits=function(e){if(this._commonCoord.x===0&&this._commonCoord.y===0)return e;var t=new bt(this._commonCoord);t.x=-t.x,t.y=-t.y;var i=new Ku(t);return e.apply(i),e.geometryChanged(),e};Zu.prototype.getCommonCoordinate=function(){return this._commonCoord};Zu.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()};Zu.prototype.interfaces_=function(){return[]};Zu.prototype.getClass=function(){return Zu};ZT.CommonCoordinateFilter.get=function(){return bp};ZT.Translater.get=function(){return Ku};Object.defineProperties(Zu,ZT);var bp=function(){this._commonBitsX=new os,this._commonBitsY=new os};bp.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)};bp.prototype.getCommonCoordinate=function(){return new bt(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())};bp.prototype.interfaces_=function(){return[pc]};bp.prototype.getClass=function(){return bp};var Ku=function(){this.trans=null;var e=arguments[0];this.trans=e};Ku.prototype.filter=function(e,t){var i=e.getOrdinate(t,0)+this.trans.x,r=e.getOrdinate(t,1)+this.trans.y;e.setOrdinate(t,0,i),e.setOrdinate(t,1,r)};Ku.prototype.isDone=function(){return!1};Ku.prototype.isGeometryChanged=function(){return!0};Ku.prototype.interfaces_=function(){return[fl]};Ku.prototype.getClass=function(){return Ku};var Ea=function(e,t){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=t,this.computeSnapTolerance()};Ea.prototype.selfSnap=function(e){var t=new $r(e),i=t.snapTo(e,this._snapTolerance);return i};Ea.prototype.removeCommonBits=function(e){this._cbr=new Zu,this._cbr.add(e[0]),this._cbr.add(e[1]);var t=new Array(2).fill(null);return t[0]=this._cbr.removeCommonBits(e[0].copy()),t[1]=this._cbr.removeCommonBits(e[1].copy()),t};Ea.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e};Ea.prototype.getResultGeometry=function(e){var t=this.snap(this._geom),i=ti.overlayOp(t[0],t[1],e);return this.prepareResult(i)};Ea.prototype.checkValid=function(e){e.isValid()||za.out.println("Snapped geometry is invalid")};Ea.prototype.computeSnapTolerance=function(){this._snapTolerance=$r.computeOverlaySnapTolerance(this._geom[0],this._geom[1])};Ea.prototype.snap=function(e){var t=this.removeCommonBits(e),i=$r.snap(t[0],t[1],this._snapTolerance);return i};Ea.prototype.interfaces_=function(){return[]};Ea.prototype.getClass=function(){return Ea};Ea.overlayOp=function(e,t,i){var r=new Ea(e,t);return r.getResultGeometry(i)};Ea.union=function(e,t){return Ea.overlayOp(e,t,ti.UNION)};Ea.intersection=function(e,t){return Ea.overlayOp(e,t,ti.INTERSECTION)};Ea.symDifference=function(e,t){return Ea.overlayOp(e,t,ti.SYMDIFFERENCE)};Ea.difference=function(e,t){return Ea.overlayOp(e,t,ti.DIFFERENCE)};var vs=function(e,t){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=t};vs.prototype.getResultGeometry=function(e){var t=null,i=!1,r=null;try{t=ti.overlayOp(this._geom[0],this._geom[1],e);var a=!0;a&&(i=!0)}catch(o){if(o instanceof Xc)r=o;else throw o}finally{}if(!i)try{t=Ea.overlayOp(this._geom[0],this._geom[1],e)}catch(o){throw o instanceof Xc?r:o}finally{}return t};vs.prototype.interfaces_=function(){return[]};vs.prototype.getClass=function(){return vs};vs.overlayOp=function(e,t,i){var r=new vs(e,t);return r.getResultGeometry(i)};vs.union=function(e,t){return vs.overlayOp(e,t,ti.UNION)};vs.intersection=function(e,t){return vs.overlayOp(e,t,ti.INTERSECTION)};vs.symDifference=function(e,t){return vs.overlayOp(e,t,ti.SYMDIFFERENCE)};vs.difference=function(e,t){return vs.overlayOp(e,t,ti.DIFFERENCE)};var Dy=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],t=arguments[1];this.mce=e,this.chainIndex=t};Dy.prototype.computeIntersections=function(e,t){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,t)};Dy.prototype.interfaces_=function(){return[]};Dy.prototype.getClass=function(){return Dy};var no=function n(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var e=arguments[0],t=arguments[1];this._eventType=n.DELETE,this._xValue=e,this._insertEvent=t}else if(arguments.length===3){var i=arguments[0],r=arguments[1],a=arguments[2];this._eventType=n.INSERT,this._label=i,this._xValue=r,this._obj=a}},KT={INSERT:{configurable:!0},DELETE:{configurable:!0}};no.prototype.isDelete=function(){return this._eventType===no.DELETE};no.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e};no.prototype.getObject=function(){return this._obj};no.prototype.compareTo=function(e){var t=e;return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0};no.prototype.getInsertEvent=function(){return this._insertEvent};no.prototype.isInsert=function(){return this._eventType===no.INSERT};no.prototype.isSameLabel=function(e){return this._label===null?!1:this._label===e._label};no.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex};no.prototype.interfaces_=function(){return[qo]};no.prototype.getClass=function(){return no};KT.INSERT.get=function(){return 1};KT.DELETE.get=function(){return 2};Object.defineProperties(no,KT);var kb=function(){};kb.prototype.interfaces_=function(){return[]};kb.prototype.getClass=function(){return kb};var Ua=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],t=arguments[1],i=arguments[2];this._li=e,this._includeProper=t,this._recordIsolated=i};Ua.prototype.isTrivialIntersection=function(e,t,i,r){if(e===i&&this._li.getIntersectionNum()===1){if(Ua.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var a=e.getNumPoints()-1;if(t===0&&r===a||r===0&&t===a)return!0}}return!1};Ua.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};Ua.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e};Ua.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};Ua.prototype.isBoundaryPointInternal=function(e,t){for(var i=t.iterator();i.hasNext();){var r=i.next(),a=r.getCoordinate();if(e.isIntersection(a))return!0}return!1};Ua.prototype.hasProperIntersection=function(){return this._hasProper};Ua.prototype.hasIntersection=function(){return this._hasIntersection};Ua.prototype.isDone=function(){return this._isDone};Ua.prototype.isBoundaryPoint=function(e,t){return t===null?!1:!!(this.isBoundaryPointInternal(e,t[0])||this.isBoundaryPointInternal(e,t[1]))};Ua.prototype.setBoundaryNodes=function(e,t){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=t};Ua.prototype.addIntersections=function(e,t,i,r){if(e===i&&t===r)return null;this.numTests++;var a=e.getCoordinates()[t],o=e.getCoordinates()[t+1],s=i.getCoordinates()[r],h=i.getCoordinates()[r+1];this._li.computeIntersection(a,o,s,h),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),i.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,t,i,r)||(this._hasIntersection=!0,(this._includeProper||!this._li.isProper())&&(e.addIntersections(this._li,t,0),i.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))};Ua.prototype.interfaces_=function(){return[]};Ua.prototype.getClass=function(){return Ua};Ua.isAdjacentSegments=function(e,t){return Math.abs(e-t)===1};var X6=function(n){function e(){n.call(this),this.events=new en,this.nOverlaps=null}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){var i=this;yl.sort(this.events);for(var r=0;r<this.events.size();r++){var a=i.events.get(r);a.isDelete()&&a.getInsertEvent().setDeleteEventIndex(r)}},e.prototype.computeIntersections=function(){var i=this;if(arguments.length===1){var r=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var a=0;a<this.events.size();a++){var o=i.events.get(a);if(o.isInsert()&&i.processOverlaps(a,o.getDeleteEventIndex(),o,r),r.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof Ua&&jn(arguments[0],pl)&&jn(arguments[1],pl)){var s=arguments[0],h=arguments[1],p=arguments[2];this.addEdges(s,s),this.addEdges(h,h),this.computeIntersections(p)}else if(typeof arguments[2]=="boolean"&&jn(arguments[0],pl)&&arguments[1]instanceof Ua){var f=arguments[0],y=arguments[1],g=arguments[2];g?this.addEdges(f,null):this.addEdges(f),this.computeIntersections(y)}}},e.prototype.addEdge=function(i,r){for(var a=this,o=i.getMonotoneChainEdge(),s=o.getStartIndexes(),h=0;h<s.length-1;h++){var p=new Dy(o,h),f=new no(r,o.getMinX(h),p);a.events.add(f),a.events.add(new no(o.getMaxX(h),f))}},e.prototype.processOverlaps=function(i,r,a,o){for(var s=this,h=a.getObject(),p=i;p<r;p++){var f=s.events.get(p);if(f.isInsert()){var y=f.getObject();a.isSameLabel(f)||(h.computeIntersections(y,o),s.nOverlaps++)}}},e.prototype.addEdges=function(){var i=this;if(arguments.length===1)for(var r=arguments[0],a=r.iterator();a.hasNext();){var o=a.next();i.addEdge(o,o)}else if(arguments.length===2)for(var s=arguments[0],h=arguments[1],p=s.iterator();p.hasNext();){var f=p.next();i.addEdge(f,h)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(kb),bc=function(){this._min=qn.POSITIVE_INFINITY,this._max=qn.NEGATIVE_INFINITY},_P={NodeComparator:{configurable:!0}};bc.prototype.getMin=function(){return this._min};bc.prototype.intersects=function(e,t){return!(this._min>t||this._max<e)};bc.prototype.getMax=function(){return this._max};bc.prototype.toString=function(){return ml.toLineString(new bt(this._min,0),new bt(this._max,0))};bc.prototype.interfaces_=function(){return[]};bc.prototype.getClass=function(){return bc};_P.NodeComparator.get=function(){return Oy};Object.defineProperties(bc,_P);var Oy=function(){};Oy.prototype.compare=function(e,t){var i=e,r=t,a=(i._min+i._max)/2,o=(r._min+r._max)/2;return a<o?-1:a>o?1:0};Oy.prototype.interfaces_=function(){return[Km]};Oy.prototype.getClass=function(){return Oy};var Z6=function(n){function e(){n.call(this),this._item=null;var t=arguments[0],i=arguments[1],r=arguments[2];this._min=t,this._max=i,this._item=r}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.query=function(i,r,a){if(!this.intersects(i,r))return null;a.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(bc),K6=function(n){function e(){n.call(this),this._node1=null,this._node2=null;var t=arguments[0],i=arguments[1];this._node1=t,this._node2=i,this.buildExtent(this._node1,this._node2)}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(i,r){this._min=Math.min(i._min,r._min),this._max=Math.max(i._max,r._max)},e.prototype.query=function(i,r,a){if(!this.intersects(i,r))return null;this._node1!==null&&this._node1.query(i,r,a),this._node2!==null&&this._node2.query(i,r,a)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(bc),_c=function(){this._leaves=new en,this._root=null,this._level=0};_c.prototype.buildTree=function(){var e=this;yl.sort(this._leaves,new bc.NodeComparator);for(var t=this._leaves,i=null,r=new en;;){if(e.buildLevel(t,r),r.size()===1)return r.get(0);i=t,t=r,r=i}};_c.prototype.insert=function(e,t,i){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Z6(e,t,i))};_c.prototype.query=function(e,t,i){this.init(),this._root.query(e,t,i)};_c.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()};_c.prototype.printNode=function(e){za.out.println(ml.toLineString(new bt(e._min,this._level),new bt(e._max,this._level)))};_c.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()};_c.prototype.buildLevel=function(e,t){this._level++,t.clear();for(var i=0;i<e.size();i+=2){var r=e.get(i),a=i+1<e.size()?e.get(i):null;if(a===null)t.add(r);else{var o=new K6(e.get(i),e.get(i+1));t.add(o)}}};_c.prototype.interfaces_=function(){return[]};_c.prototype.getClass=function(){return _c};var df=function(){this._items=new en};df.prototype.visitItem=function(e){this._items.add(e)};df.prototype.getItems=function(){return this._items};df.prototype.interfaces_=function(){return[Yu]};df.prototype.getClass=function(){return df};var hf=function(){this._index=null;var e=arguments[0];if(!jn(e,Gu))throw new fr("Argument must be Polygonal");this._index=new Zd(e)},QT={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};hf.prototype.locate=function(e){var t=new zl(e),i=new pf(t);return this._index.query(e.y,e.y,i),t.getLocation()};hf.prototype.interfaces_=function(){return[cf]};hf.prototype.getClass=function(){return hf};QT.SegmentVisitor.get=function(){return pf};QT.IntervalIndexedGeometry.get=function(){return Zd};Object.defineProperties(hf,QT);var pf=function(){this._counter=null;var e=arguments[0];this._counter=e};pf.prototype.visitItem=function(e){var t=e;this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))};pf.prototype.interfaces_=function(){return[Yu]};pf.prototype.getClass=function(){return pf};var Zd=function(){this._index=new _c;var e=arguments[0];this.init(e)};Zd.prototype.init=function(e){for(var t=this,i=Pa.getLines(e),r=i.iterator();r.hasNext();){var a=r.next(),o=a.getCoordinates();t.addLine(o)}};Zd.prototype.addLine=function(e){for(var t=this,i=1;i<e.length;i++){var r=new Pn(e[i-1],e[i]),a=Math.min(r.p0.y,r.p1.y),o=Math.max(r.p0.y,r.p1.y);t._index.insert(a,o,r)}};Zd.prototype.query=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],i=new df;return this._index.query(e,t,i),i.getItems()}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2];this._index.query(r,a,o)}};Zd.prototype.interfaces_=function(){return[]};Zd.prototype.getClass=function(){return Zd};var qg=function(n){function e(){if(n.call(this),this._parentGeom=null,this._lineEdgeMap=new rP,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new xl,arguments.length===2){var t=arguments[0],i=arguments[1],r=Go.OGC_SFS_BOUNDARY_RULE;this._argIndex=t,this._parentGeom=i,this._boundaryNodeRule=r,i!==null&&this.add(i)}else if(arguments.length===3){var a=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=a,this._parentGeom=o,this._boundaryNodeRule=s,o!==null&&this.add(o)}}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(i,r){var a=this._nodes.addNode(r),o=a.getLabel(),s=1,h=kt.NONE;h=o.getLocation(i,Xt.ON),h===kt.BOUNDARY&&s++;var p=e.determineBoundary(this._boundaryNodeRule,s);o.setLocation(i,p)},e.prototype.computeSelfNodes=function(){if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.computeSelfNodes(i,r,!1)}else if(arguments.length===3){var a=arguments[0],o=arguments[1],s=arguments[2],h=new Ua(a,!0,!1);h.setIsDoneIfProperInt(s);var p=this.createEdgeSetIntersector(),f=this._parentGeom instanceof mc||this._parentGeom instanceof oa||this._parentGeom instanceof lc,y=o||!f;return p.computeIntersections(this._edges,h,y),this.addSelfIntersectionNodes(this._argIndex),h}},e.prototype.computeSplitEdges=function(i){for(var r=this._edges.iterator();r.hasNext();){var a=r.next();a.eiList.addSplitEdges(i)}},e.prototype.computeEdgeIntersections=function(i,r,a){var o=new Ua(r,a,!0);o.setBoundaryNodes(this.getBoundaryNodes(),i.getBoundaryNodes());var s=this.createEdgeSetIntersector();return s.computeIntersections(this._edges,i._edges,o),o},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Js){var i=arguments[0],r=i.getCoordinate();this.insertPoint(this._argIndex,r,kt.INTERIOR)}else if(arguments[0]instanceof bt){var a=arguments[0];this.insertPoint(this._argIndex,a,kt.INTERIOR)}},e.prototype.addPolygon=function(i){var r=this;this.addPolygonRing(i.getExteriorRing(),kt.EXTERIOR,kt.INTERIOR);for(var a=0;a<i.getNumInteriorRing();a++){var o=i.getInteriorRingN(a);r.addPolygonRing(o,kt.INTERIOR,kt.EXTERIOR)}},e.prototype.addEdge=function(i){this.insertEdge(i);var r=i.getCoordinates();this.insertPoint(this._argIndex,r[0],kt.BOUNDARY),this.insertPoint(this._argIndex,r[r.length-1],kt.BOUNDARY)},e.prototype.addLineString=function(i){var r=yi.removeRepeatedPoints(i.getCoordinates());if(r.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var a=new Eb(r,new Gi(this._argIndex,kt.INTERIOR));this._lineEdgeMap.put(i,a),this.insertEdge(a),si.isTrue(r.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,r[0]),this.insertBoundaryPoint(this._argIndex,r[r.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var i=this.getBoundaryNodes(),r=new Array(i.size()).fill(null),a=0,o=i.iterator();o.hasNext();){var s=o.next();r[a++]=s.getCoordinate().copy()}return r},e.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(i,r,a){if(this.isBoundaryNode(i,r))return null;a===kt.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(i,r):this.insertPoint(i,r,a)},e.prototype.addPolygonRing=function(i,r,a){if(i.isEmpty())return null;var o=yi.removeRepeatedPoints(i.getCoordinates());if(o.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=o[0],null;var s=r,h=a;ln.isCCW(o)&&(s=a,h=r);var p=new Eb(o,new Gi(this._argIndex,kt.BOUNDARY,s,h));this._lineEdgeMap.put(i,p),this.insertEdge(p),this.insertPoint(this._argIndex,o[0],kt.BOUNDARY)},e.prototype.insertPoint=function(i,r,a){var o=this._nodes.addNode(r),s=o.getLabel();s===null?o._label=new Gi(i,a):s.setLocation(i,a)},e.prototype.createEdgeSetIntersector=function(){return new X6},e.prototype.addSelfIntersectionNodes=function(i){for(var r=this,a=this._edges.iterator();a.hasNext();)for(var o=a.next(),s=o.getLabel().getLocation(i),h=o.eiList.iterator();h.hasNext();){var p=h.next();r.addSelfIntersectionNode(i,p.coord,s)}},e.prototype.add=function(){if(arguments.length===1){var i=arguments[0];if(i.isEmpty())return null;if(i instanceof lc&&(this._useBoundaryDeterminationRule=!1),i instanceof oa)this.addPolygon(i);else if(i instanceof Ir)this.addLineString(i);else if(i instanceof Js)this.addPoint(i);else if(i instanceof af)this.addCollection(i);else if(i instanceof Gd)this.addCollection(i);else if(i instanceof lc)this.addCollection(i);else if(i instanceof fs)this.addCollection(i);else throw new Error(i.getClass().getName())}else return n.prototype.add.apply(this,arguments)},e.prototype.addCollection=function(i){for(var r=this,a=0;a<i.getNumGeometries();a++){var o=i.getGeometryN(a);r.add(o)}},e.prototype.locate=function(i){return jn(this._parentGeom,Gu)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new hf(this._parentGeom)),this._areaPtLocator.locate(i)):this._ptLocator.locate(i,this._parentGeom)},e.prototype.findEdge=function(){if(arguments.length===1){var i=arguments[0];return this._lineEdgeMap.get(i)}else return n.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(i,r){return i.isInBoundary(r)?kt.BOUNDARY:kt.INTERIOR},e}(wr),mf=function(){if(this._li=new ih,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new qg(0,e)}else if(arguments.length===2){var t=arguments[0],i=arguments[1],r=Go.OGC_SFS_BOUNDARY_RULE;t.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new qg(0,t,r),this._arg[1]=new qg(1,i,r)}else if(arguments.length===3){var a=arguments[0],o=arguments[1],s=arguments[2];a.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(a.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new qg(0,a,s),this._arg[1]=new qg(1,o,s)}};mf.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()};mf.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)};mf.prototype.interfaces_=function(){return[]};mf.prototype.getClass=function(){return mf};var Dd=function(){};Dd.prototype.interfaces_=function(){return[]};Dd.prototype.getClass=function(){return Dd};Dd.map=function(){if(arguments[0]instanceof Bn&&jn(arguments[1],Dd.MapOp)){for(var e=arguments[0],t=arguments[1],i=new en,r=0;r<e.getNumGeometries();r++){var a=t.map(e.getGeometryN(r));a!==null&&i.add(a)}return e.getFactory().buildGeometry(i)}else if(jn(arguments[0],na)&&jn(arguments[1],Dd.MapOp)){for(var o=arguments[0],s=arguments[1],h=new en,p=o.iterator();p.hasNext();){var f=p.next(),y=s.map(f);y!==null&&h.add(y)}return h}};Dd.MapOp=function(){};var ti=function(n){function e(){var t=arguments[0],i=arguments[1];n.call(this,t,i),this._ptLocator=new xl,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new vl,this._resultPolyList=new en,this._resultLineList=new en,this._resultPointList=new en,this._graph=new wr(new hP),this._geomFact=t.getFactory()}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(i){var r=this._edgeList.findEqualEdge(i);if(r!==null){var a=r.getLabel(),o=i.getLabel();r.isPointwiseEqual(i)||(o=new Gi(i.getLabel()),o.flip());var s=r.getDepth();s.isNull()&&s.add(a),s.add(o),a.merge(o)}else this._edgeList.add(i)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var i=this._graph.getEdgeEnds().iterator();i.hasNext();){var r=i.next(),a=r.getSym();r.isInResult()&&a.isInResult()&&(r.setInResult(!1),a.setInResult(!1))}},e.prototype.isCoveredByLA=function(i){return!!(this.isCovered(i,this._resultLineList)||this.isCovered(i,this._resultPolyList))},e.prototype.computeGeometry=function(i,r,a,o){var s=new en;return s.addAll(i),s.addAll(r),s.addAll(a),s.isEmpty()?e.createEmptyResult(o,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(s)},e.prototype.mergeSymLabels=function(){for(var i=this._graph.getNodes().iterator();i.hasNext();){var r=i.next();r.getEdges().mergeSymLabels()}},e.prototype.isCovered=function(i,r){for(var a=this,o=r.iterator();o.hasNext();){var s=o.next(),h=a._ptLocator.locate(i,s);if(h!==kt.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var i=new en,r=this._edgeList.iterator();r.hasNext();){var a=r.next();a.isCollapsed()&&(r.remove(),i.add(a.getCollapsedEdge()))}this._edgeList.addAll(i)},e.prototype.updateNodeLabelling=function(){for(var i=this._graph.getNodes().iterator();i.hasNext();){var r=i.next(),a=r.getEdges().getLabel();r.getLabel().merge(a)}},e.prototype.getResultGeometry=function(i){return this.computeOverlay(i),this._resultGeom},e.prototype.insertUniqueEdges=function(i){for(var r=this,a=i.iterator();a.hasNext();){var o=a.next();r.insertUniqueEdge(o)}},e.prototype.computeOverlay=function(i){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var r=new en;this._arg[0].computeSplitEdges(r),this._arg[1].computeSplitEdges(r),this.insertUniqueEdges(r),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Xd.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(i),this.cancelDuplicateResultEdges();var a=new eo(this._geomFact);a.add(this._graph),this._resultPolyList=a.getPolygons();var o=new Zl(this,this._geomFact,this._ptLocator);this._resultLineList=o.build(i);var s=new xp(this,this._geomFact,this._ptLocator);this._resultPointList=s.build(i),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,i)},e.prototype.labelIncompleteNode=function(i,r){var a=this._ptLocator.locate(i.getCoordinate(),this._arg[r].getGeometry());i.getLabel().setLocation(r,a)},e.prototype.copyPoints=function(i){for(var r=this,a=this._arg[i].getNodeIterator();a.hasNext();){var o=a.next(),s=r._graph.addNode(o.getCoordinate());s.setLabel(i,o.getLabel().getLocation(i))}},e.prototype.findResultAreaEdges=function(i){for(var r=this._graph.getEdgeEnds().iterator();r.hasNext();){var a=r.next(),o=a.getLabel();o.isArea()&&!a.isInteriorAreaEdge()&&e.isResultOfOp(o.getLocation(0,Xt.RIGHT),o.getLocation(1,Xt.RIGHT),i)&&a.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var i=this._edgeList.iterator();i.hasNext();){var r=i.next(),a=r.getLabel(),o=r.getDepth();if(!o.isNull()){o.normalize();for(var s=0;s<2;s++)!a.isNull(s)&&a.isArea()&&!o.isNull(s)&&(o.getDelta(s)===0?a.toLine(s):(si.isTrue(!o.isNull(s,Xt.LEFT),"depth of LEFT side has not been initialized"),a.setLocation(s,Xt.LEFT,o.getLocation(s,Xt.LEFT)),si.isTrue(!o.isNull(s,Xt.RIGHT),"depth of RIGHT side has not been initialized"),a.setLocation(s,Xt.RIGHT,o.getLocation(s,Xt.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var i=this,r=this._graph.getNodes().iterator();r.hasNext();){var a=r.next();a.getEdges().computeLabelling(i._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var i=this,r=this._graph.getNodes().iterator();r.hasNext();){var a=r.next(),o=a.getLabel();a.isIsolated()&&(o.isNull(0)?i.labelIncompleteNode(a,0):i.labelIncompleteNode(a,1)),a.getEdges().updateLabelling(o)}},e.prototype.isCoveredByA=function(i){return!!this.isCovered(i,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(mf);ti.overlayOp=function(n,e,t){var i=new ti(n,e),r=i.getResultGeometry(t);return r};ti.intersection=function(n,e){if(n.isEmpty()||e.isEmpty())return ti.createEmptyResult(ti.INTERSECTION,n,e,n.getFactory());if(n.isGeometryCollection()){var t=e;return vp.map(n,{interfaces_:function(){return[Dd.MapOp]},map:function(i){return i.intersection(t)}})}return n.checkNotGeometryCollection(n),n.checkNotGeometryCollection(e),vs.overlayOp(n,e,ti.INTERSECTION)};ti.symDifference=function(n,e){if(n.isEmpty()||e.isEmpty()){if(n.isEmpty()&&e.isEmpty())return ti.createEmptyResult(ti.SYMDIFFERENCE,n,e,n.getFactory());if(n.isEmpty())return e.copy();if(e.isEmpty())return n.copy()}return n.checkNotGeometryCollection(n),n.checkNotGeometryCollection(e),vs.overlayOp(n,e,ti.SYMDIFFERENCE)};ti.resultDimension=function(n,e,t){var i=e.getDimension(),r=t.getDimension(),a=-1;switch(n){case ti.INTERSECTION:a=Math.min(i,r);break;case ti.UNION:a=Math.max(i,r);break;case ti.DIFFERENCE:a=i;break;case ti.SYMDIFFERENCE:a=Math.max(i,r);break}return a};ti.createEmptyResult=function(n,e,t,i){var r=null;switch(ti.resultDimension(n,e,t)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon();break}return r};ti.difference=function(n,e){return n.isEmpty()?ti.createEmptyResult(ti.DIFFERENCE,n,e,n.getFactory()):e.isEmpty()?n.copy():(n.checkNotGeometryCollection(n),n.checkNotGeometryCollection(e),vs.overlayOp(n,e,ti.DIFFERENCE))};ti.isResultOfOp=function(){if(arguments.length===2){var n=arguments[0],e=arguments[1],t=n.getLocation(0),i=n.getLocation(1);return ti.isResultOfOp(t,i,e)}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2];switch(r===kt.BOUNDARY&&(r=kt.INTERIOR),a===kt.BOUNDARY&&(a=kt.INTERIOR),o){case ti.INTERSECTION:return r===kt.INTERIOR&&a===kt.INTERIOR;case ti.UNION:return r===kt.INTERIOR||a===kt.INTERIOR;case ti.DIFFERENCE:return r===kt.INTERIOR&&a!==kt.INTERIOR;case ti.SYMDIFFERENCE:return r===kt.INTERIOR&&a!==kt.INTERIOR||r!==kt.INTERIOR&&a===kt.INTERIOR}return!1}};ti.INTERSECTION=1;ti.UNION=2;ti.DIFFERENCE=3;ti.SYMDIFFERENCE=4;var Bu=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new xl,this._seg=new Pn;var e=arguments[0],t=arguments[1];this._g=e,this._boundaryDistanceTolerance=t,this._linework=this.extractLinework(e)};Bu.prototype.isWithinToleranceOfBoundary=function(e){for(var t=this,i=0;i<this._linework.getNumGeometries();i++)for(var r=t._linework.getGeometryN(i),a=r.getCoordinateSequence(),o=0;o<a.size()-1;o++){a.getCoordinate(o,t._seg.p0),a.getCoordinate(o+1,t._seg.p1);var s=t._seg.distance(e);if(s<=t._boundaryDistanceTolerance)return!0}return!1};Bu.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?kt.BOUNDARY:this._ptLocator.locate(e,this._g)};Bu.prototype.extractLinework=function(e){var t=new ff;e.apply(t);var i=t.getLinework(),r=gi.toLineStringArray(i);return e.getFactory().createMultiLineString(r)};Bu.prototype.interfaces_=function(){return[]};Bu.prototype.getClass=function(){return Bu};var ff=function(){this._linework=null,this._linework=new en};ff.prototype.getLinework=function(){return this._linework};ff.prototype.filter=function(e){var t=this;if(e instanceof oa){var i=e;this._linework.add(i.getExteriorRing());for(var r=0;r<i.getNumInteriorRing();r++)t._linework.add(i.getInteriorRingN(r))}};ff.prototype.interfaces_=function(){return[Gl]};ff.prototype.getClass=function(){return ff};var Kd=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Kd.prototype.extractPoints=function(e,t,i){for(var r=this,a=e.getCoordinates(),o=0;o<a.length-1;o++)r.computeOffsetPoints(a[o],a[o+1],t,i)};Kd.prototype.setSidesToGenerate=function(e,t){this._doLeft=e,this._doRight=t};Kd.prototype.getPoints=function(e){for(var t=this,i=new en,r=Pa.getLines(this._g),a=r.iterator();a.hasNext();){var o=a.next();t.extractPoints(o,e,i)}return i};Kd.prototype.computeOffsetPoints=function(e,t,i,r){var a=t.x-e.x,o=t.y-e.y,s=Math.sqrt(a*a+o*o),h=i*a/s,p=i*o/s,f=(t.x+e.x)/2,y=(t.y+e.y)/2;if(this._doLeft){var g=new bt(f-p,y+h);r.add(g)}if(this._doRight){var _=new bt(f+p,y-h);r.add(_)}};Kd.prototype.interfaces_=function(){return[]};Kd.prototype.getClass=function(){return Kd};var Io=function n(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=n.TOLERANCE,this._testCoords=new en;var e=arguments[0],t=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=n.computeBoundaryDistanceTolerance(e,t),this._geom=[e,t,i],this._locFinder=[new Bu(this._geom[0],this._boundaryDistanceTolerance),new Bu(this._geom[1],this._boundaryDistanceTolerance),new Bu(this._geom[2],this._boundaryDistanceTolerance)]},wP={TOLERANCE:{configurable:!0}};Io.prototype.reportResult=function(e,t,i){za.out.println("Overlay result invalid - A:"+kt.toLocationSymbol(t[0])+" B:"+kt.toLocationSymbol(t[1])+" expected:"+(i?"i":"e")+" actual:"+kt.toLocationSymbol(t[2]))};Io.prototype.isValid=function(e){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var t=this.checkValid(e);return t};Io.prototype.checkValid=function(){var e=this;if(arguments.length===1){for(var t=arguments[0],i=0;i<this._testCoords.size();i++){var r=e._testCoords.get(i);if(!e.checkValid(t,r))return e._invalidLocation=r,!1}return!0}else if(arguments.length===2){var a=arguments[0],o=arguments[1];return this._location[0]=this._locFinder[0].getLocation(o),this._location[1]=this._locFinder[1].getLocation(o),this._location[2]=this._locFinder[2].getLocation(o),Io.hasLocation(this._location,kt.BOUNDARY)?!0:this.isValidResult(a,this._location)}};Io.prototype.addTestPts=function(e){var t=new Kd(e);this._testCoords.addAll(t.getPoints(5*this._boundaryDistanceTolerance))};Io.prototype.isValidResult=function(e,t){var i=ti.isResultOfOp(t[0],t[1],e),r=t[2]===kt.INTERIOR,a=!(i^r);return a||this.reportResult(e,t,i),a};Io.prototype.getInvalidLocation=function(){return this._invalidLocation};Io.prototype.interfaces_=function(){return[]};Io.prototype.getClass=function(){return Io};Io.hasLocation=function(e,t){for(var i=0;i<3;i++)if(e[i]===t)return!0;return!1};Io.computeBoundaryDistanceTolerance=function(e,t){return Math.min($r.computeSizeBasedSnapTolerance(e),$r.computeSizeBasedSnapTolerance(t))};Io.isValid=function(e,t,i,r){var a=new Io(e,t,r);return a.isValid(i)};wP.TOLERANCE.get=function(){return 1e-6};Object.defineProperties(Io,wP);var xo=function n(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=n.extractFactory(e),this._inputGeoms=e};xo.prototype.extractElements=function(e,t){var i=this;if(e===null)return null;for(var r=0;r<e.getNumGeometries();r++){var a=e.getGeometryN(r);i._skipEmpty&&a.isEmpty()||t.add(a)}};xo.prototype.combine=function(){for(var e=this,t=new en,i=this._inputGeoms.iterator();i.hasNext();){var r=i.next();e.extractElements(r,t)}return t.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)};xo.prototype.interfaces_=function(){return[]};xo.prototype.getClass=function(){return xo};xo.combine=function(){if(arguments.length===1){var e=arguments[0],t=new xo(e);return t.combine()}else if(arguments.length===2){var i=arguments[0],r=arguments[1],a=new xo(xo.createList(i,r));return a.combine()}else if(arguments.length===3){var o=arguments[0],s=arguments[1],h=arguments[2],p=new xo(xo.createList(o,s,h));return p.combine()}};xo.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()};xo.createList=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],i=new en;return i.add(e),i.add(t),i}else if(arguments.length===3){var r=arguments[0],a=arguments[1],o=arguments[2],s=new en;return s.add(r),s.add(a),s.add(o),s}};var Hr=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,this._inputPolys===null&&(this._inputPolys=new en)},TP={STRTREE_NODE_CAPACITY:{configurable:!0}};Hr.prototype.reduceToGeometries=function(e){for(var t=this,i=new en,r=e.iterator();r.hasNext();){var a=r.next(),o=null;jn(a,pl)?o=t.unionTree(a):a instanceof Bn&&(o=a),i.add(o)}return i};Hr.prototype.extractByEnvelope=function(e,t,i){for(var r=new en,a=0;a<t.getNumGeometries();a++){var o=t.getGeometryN(a);o.getEnvelopeInternal().intersects(e)?r.add(o):i.add(o)}return this._geomFactory.buildGeometry(r)};Hr.prototype.unionOptimized=function(e,t){var i=e.getEnvelopeInternal(),r=t.getEnvelopeInternal();if(!i.intersects(r)){var a=xo.combine(e,t);return a}if(e.getNumGeometries()<=1&&t.getNumGeometries()<=1)return this.unionActual(e,t);var o=i.intersection(r);return this.unionUsingEnvelopeIntersection(e,t,o)};Hr.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new lP(Hr.STRTREE_NODE_CAPACITY),t=this._inputPolys.iterator();t.hasNext();){var i=t.next();e.insert(i.getEnvelopeInternal(),i)}this._inputPolys=null;var r=e.itemsTree(),a=this.unionTree(r);return a};Hr.prototype.binaryUnion=function(){if(arguments.length===1){var e=arguments[0];return this.binaryUnion(e,0,e.size())}else if(arguments.length===3){var t=arguments[0],i=arguments[1],r=arguments[2];if(r-i<=1){var a=Hr.getGeometry(t,i);return this.unionSafe(a,null)}else{if(r-i===2)return this.unionSafe(Hr.getGeometry(t,i),Hr.getGeometry(t,i+1));var o=Math.trunc((r+i)/2),s=this.binaryUnion(t,i,o),h=this.binaryUnion(t,o,r);return this.unionSafe(s,h)}}};Hr.prototype.repeatedUnion=function(e){for(var t=null,i=e.iterator();i.hasNext();){var r=i.next();t===null?t=r.copy():t=t.union(r)}return t};Hr.prototype.unionSafe=function(e,t){return e===null&&t===null?null:e===null?t.copy():t===null?e.copy():this.unionOptimized(e,t)};Hr.prototype.unionActual=function(e,t){return Hr.restrictToPolygons(e.union(t))};Hr.prototype.unionTree=function(e){var t=this.reduceToGeometries(e),i=this.binaryUnion(t);return i};Hr.prototype.unionUsingEnvelopeIntersection=function(e,t,i){var r=new en,a=this.extractByEnvelope(i,e,r),o=this.extractByEnvelope(i,t,r),s=this.unionActual(a,o);r.add(s);var h=xo.combine(r);return h};Hr.prototype.bufferUnion=function(){if(arguments.length===1){var e=arguments[0],t=e.get(0).getFactory(),i=t.buildGeometry(e),r=i.buffer(0);return r}else if(arguments.length===2){var a=arguments[0],o=arguments[1],s=a.getFactory(),h=s.createGeometryCollection([a,o]),p=h.buffer(0);return p}};Hr.prototype.interfaces_=function(){return[]};Hr.prototype.getClass=function(){return Hr};Hr.restrictToPolygons=function(e){if(jn(e,Gu))return e;var t=Vc.getPolygons(e);return t.size()===1?t.get(0):e.getFactory().createMultiPolygon(gi.toPolygonArray(t))};Hr.getGeometry=function(e,t){return t>=e.size()?null:e.get(t)};Hr.union=function(e){var t=new Hr(e);return t.union()};TP.STRTREE_NODE_CAPACITY.get=function(){return 4};Object.defineProperties(Hr,TP);var Lb=function(){};Lb.prototype.interfaces_=function(){return[]};Lb.prototype.getClass=function(){return Lb};Lb.union=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return ti.createEmptyResult(ti.UNION,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),vs.overlayOp(e,t,ti.UNION)};function rh(){return new Nb}function Nb(){this.reset()}Nb.prototype={constructor:Nb,reset:function(){this.s=this.t=0},add:function(n){kk(Sx,n,this.t),kk(this,Sx.s,this.s),this.s?this.t+=Sx.t:this.s=Sx.t},valueOf:function(){return this.s}};var Sx=new Nb;function kk(n,e,t){var i=n.s=e+t,r=i-e,a=i-r;n.t=e-a+(t-r)}var Vr=1e-6,Qi=Math.PI,Uc=Qi/2,Lk=Qi/4,eu=Qi*2,xd=180/Qi,Al=Qi/180,ds=Math.abs,Q6=Math.atan,gf=Math.atan2,ia=Math.cos,ra=Math.sin,Of=Math.sqrt;function SP(n){return n>1?0:n<-1?Qi:Math.acos(n)}function _p(n){return n>1?Uc:n<-1?-Uc:Math.asin(n)}function ey(){}function Ib(n,e){n&&Ik.hasOwnProperty(n.type)&&Ik[n.type](n,e)}var Nk={Feature:function(n,e){Ib(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,i=-1,r=t.length;++i<r;)Ib(t[i].geometry,e)}},Ik={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)n=t[i],e.point(n[0],n[1],n[2])},LineString:function(n,e){o1(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)o1(t[i],e,0)},Polygon:function(n,e){Ak(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)Ak(t[i],e)},GeometryCollection:function(n,e){for(var t=n.geometries,i=-1,r=t.length;++i<r;)Ib(t[i],e)}};function o1(n,e,t){var i=-1,r=n.length-t,a;for(e.lineStart();++i<r;)a=n[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function Ak(n,e){var t=-1,i=n.length;for(e.polygonStart();++t<i;)o1(n[t],e,1);e.polygonEnd()}function J6(n,e){n&&Nk.hasOwnProperty(n.type)?Nk[n.type](n,e):Ib(n,e)}rh();rh();function l1(n){return[gf(n[1],n[0]),_p(n[2])]}function yf(n){var e=n[0],t=n[1],i=ia(t);return[i*ia(e),i*ra(e),ra(t)]}function Cx(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Ab(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function iw(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function Ex(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function c1(n){var e=Of(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}rh();function CP(n,e){function t(i,r){return i=n(i,r),e(i[0],i[1])}return n.invert&&e.invert&&(t.invert=function(i,r){return i=e.invert(i,r),i&&n.invert(i[0],i[1])}),t}function u1(n,e){return[n>Qi?n-eu:n<-Qi?n+eu:n,e]}u1.invert=u1;function eU(n,e,t){return(n%=eu)?e||t?CP(Mk(n),Dk(e,t)):Mk(n):e||t?Dk(e,t):u1}function Pk(n){return function(e,t){return e+=n,[e>Qi?e-eu:e<-Qi?e+eu:e,t]}}function Mk(n){var e=Pk(n);return e.invert=Pk(-n),e}function Dk(n,e){var t=ia(n),i=ra(n),r=ia(e),a=ra(e);function o(s,h){var p=ia(h),f=ia(s)*p,y=ra(s)*p,g=ra(h),_=g*t+f*i;return[gf(y*r-_*a,f*t-g*i),_p(_*r+y*a)]}return o.invert=function(s,h){var p=ia(h),f=ia(s)*p,y=ra(s)*p,g=ra(h),_=g*r-y*a;return[gf(y*r+g*a,f*t+_*i),_p(_*t-f*i)]},o}function tU(n,e,t,i,r,a){if(t){var o=ia(e),s=ra(e),h=i*t;r==null?(r=e+i*eu,a=e-h/2):(r=Ok(o,r),a=Ok(o,a),(i>0?r<a:r>a)&&(r+=i*eu));for(var p,f=r;i>0?f>a:f<a;f-=h)p=l1([o,-s*ia(f),-s*ra(f)]),n.point(p[0],p[1])}}function Ok(n,e){e=yf(e),e[0]-=n,c1(e);var t=SP(-e[1]);return((-e[2]<0?-t:t)+eu-Vr)%eu}function EP(){var n=[],e;return{point:function(t,i){e.push([t,i])},lineStart:function(){n.push(e=[])},lineEnd:ey,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function nU(n,e,t,i,r,a){var o=n[0],s=n[1],h=e[0],p=e[1],f=0,y=1,g=h-o,_=p-s,b;if(b=t-o,!(!g&&b>0)){if(b/=g,g<0){if(b<f)return;b<y&&(y=b)}else if(g>0){if(b>y)return;b>f&&(f=b)}if(b=r-o,!(!g&&b<0)){if(b/=g,g<0){if(b>y)return;b>f&&(f=b)}else if(g>0){if(b<f)return;b<y&&(y=b)}if(b=i-s,!(!_&&b>0)){if(b/=_,_<0){if(b<f)return;b<y&&(y=b)}else if(_>0){if(b>y)return;b>f&&(f=b)}if(b=a-s,!(!_&&b<0)){if(b/=_,_<0){if(b>y)return;b>f&&(f=b)}else if(_>0){if(b<f)return;b<y&&(y=b)}return f>0&&(n[0]=o+f*g,n[1]=s+f*_),y<1&&(e[0]=o+y*g,e[1]=s+y*_),!0}}}}}function Zx(n,e){return ds(n[0]-e[0])<Vr&&ds(n[1]-e[1])<Vr}function kx(n,e,t,i){this.x=n,this.z=e,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function kP(n,e,t,i,r){var a=[],o=[],s,h;if(n.forEach(function(b){if(!((T=b.length-1)<=0)){var T,E=b[0],k=b[T],v;if(Zx(E,k)){for(r.lineStart(),s=0;s<T;++s)r.point((E=b[s])[0],E[1]);r.lineEnd();return}a.push(v=new kx(E,b,null,!0)),o.push(v.o=new kx(E,null,v,!1)),a.push(v=new kx(k,b,null,!1)),o.push(v.o=new kx(k,null,v,!0))}}),!!a.length){for(o.sort(e),Rk(a),Rk(o),s=0,h=o.length;s<h;++s)o[s].e=t=!t;for(var p=a[0],f,y;;){for(var g=p,_=!0;g.v;)if((g=g.n)===p)return;f=g.z,r.lineStart();do{if(g.v=g.o.v=!0,g.e){if(_)for(s=0,h=f.length;s<h;++s)r.point((y=f[s])[0],y[1]);else i(g.x,g.n.x,1,r);g=g.n}else{if(_)for(f=g.p.z,s=f.length-1;s>=0;--s)r.point((y=f[s])[0],y[1]);else i(g.x,g.p.x,-1,r);g=g.p}g=g.o,f=g.z,_=!_}while(!g.v);r.lineEnd()}}}function Rk(n){if(e=n.length){for(var e,t=0,i=n[0],r;++t<e;)i.n=r=n[t],r.p=i,i=r;i.n=r=n[0],r.p=i}}function LP(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function iU(n){return n.length===1&&(n=rU(n)),{left:function(e,t,i,r){for(i==null&&(i=0),r==null&&(r=e.length);i<r;){var a=i+r>>>1;n(e[a],t)<0?i=a+1:r=a}return i},right:function(e,t,i,r){for(i==null&&(i=0),r==null&&(r=e.length);i<r;){var a=i+r>>>1;n(e[a],t)>0?r=a:i=a+1}return i}}}function rU(n){return function(e,t){return LP(n(e),t)}}iU(LP);function NP(n){for(var e=n.length,t,i=-1,r=0,a,o;++i<e;)r+=n[i].length;for(a=new Array(r);--e>=0;)for(o=n[e],t=o.length;--t>=0;)a[--r]=o[t];return a}var Lx=1e9,Nx=-1e9;function aU(n,e,t,i){function r(p,f){return n<=p&&p<=t&&e<=f&&f<=i}function a(p,f,y,g){var _=0,b=0;if(p==null||(_=o(p,y))!==(b=o(f,y))||h(p,f)<0^y>0)do g.point(_===0||_===3?n:t,_>1?i:e);while((_=(_+y+4)%4)!==b);else g.point(f[0],f[1])}function o(p,f){return ds(p[0]-n)<Vr?f>0?0:3:ds(p[0]-t)<Vr?f>0?2:1:ds(p[1]-e)<Vr?f>0?1:0:f>0?3:2}function s(p,f){return h(p.x,f.x)}function h(p,f){var y=o(p,1),g=o(f,1);return y!==g?y-g:y===0?f[1]-p[1]:y===1?p[0]-f[0]:y===2?p[1]-f[1]:f[0]-p[0]}return function(p){var f=p,y=EP(),g,_,b,T,E,k,v,w,N,C,L,O={point:W,lineStart:G,lineEnd:j,polygonStart:H,polygonEnd:$};function W(M,Y){r(M,Y)&&f.point(M,Y)}function X(){for(var M=0,Y=0,B=_.length;Y<B;++Y)for(var z=_[Y],q=1,V=z.length,te=z[0],ce,ie,se=te[0],Ce=te[1];q<V;++q)ce=se,ie=Ce,te=z[q],se=te[0],Ce=te[1],ie<=i?Ce>i&&(se-ce)*(i-ie)>(Ce-ie)*(n-ce)&&++M:Ce<=i&&(se-ce)*(i-ie)<(Ce-ie)*(n-ce)&&--M;return M}function H(){f=y,g=[],_=[],L=!0}function $(){var M=X(),Y=L&&M,B=(g=NP(g)).length;(Y||B)&&(p.polygonStart(),Y&&(p.lineStart(),a(null,null,1,p),p.lineEnd()),B&&kP(g,s,M,a,p),p.polygonEnd()),f=p,g=_=b=null}function G(){O.point=D,_&&_.push(b=[]),C=!0,N=!1,v=w=NaN}function j(){g&&(D(T,E),k&&N&&y.rejoin(),g.push(y.result())),O.point=W,N&&f.lineEnd()}function D(M,Y){var B=r(M,Y);if(_&&b.push([M,Y]),C)T=M,E=Y,k=B,C=!1,B&&(f.lineStart(),f.point(M,Y));else if(B&&N)f.point(M,Y);else{var z=[v=Math.max(Nx,Math.min(Lx,v)),w=Math.max(Nx,Math.min(Lx,w))],q=[M=Math.max(Nx,Math.min(Lx,M)),Y=Math.max(Nx,Math.min(Lx,Y))];nU(z,q,n,e,t,i)?(N||(f.lineStart(),f.point(z[0],z[1])),f.point(q[0],q[1]),B||f.lineEnd(),L=!1):B&&(f.lineStart(),f.point(M,Y),L=!1)}v=M,w=Y,N=B}return O}}var rw=rh();function sU(n,e){var t=e[0],i=e[1],r=[ra(t),-ia(t),0],a=0,o=0;rw.reset();for(var s=0,h=n.length;s<h;++s)if(f=(p=n[s]).length)for(var p,f,y=p[f-1],g=y[0],_=y[1]/2+Lk,b=ra(_),T=ia(_),E=0;E<f;++E,g=v,b=N,T=C,y=k){var k=p[E],v=k[0],w=k[1]/2+Lk,N=ra(w),C=ia(w),L=v-g,O=L>=0?1:-1,W=O*L,X=W>Qi,H=b*N;if(rw.add(gf(H*O*ra(W),T*C+H*ia(W))),a+=X?L+O*eu:L,X^g>=t^v>=t){var $=Ab(yf(y),yf(k));c1($);var G=Ab(r,$);c1(G);var j=(X^L>=0?-1:1)*_p(G[2]);(i>j||i===j&&($[0]||$[1]))&&(o+=X^L>=0?1:-1)}}return(a<-1e-6||a<Vr&&rw<-1e-6)^o&1}rh();function $k(n){return n}rh();rh();var vf=1/0,Pb=vf,Ry=-vf,Mb=Ry,zk={point:oU,lineStart:ey,lineEnd:ey,polygonStart:ey,polygonEnd:ey,result:function(){var n=[[vf,Pb],[Ry,Mb]];return Ry=Mb=-(Pb=vf=1/0),n}};function oU(n,e){n<vf&&(vf=n),n>Ry&&(Ry=n),e<Pb&&(Pb=e),e>Mb&&(Mb=e)}rh();function IP(n,e,t,i){return function(r,a){var o=e(a),s=r.invert(i[0],i[1]),h=EP(),p=e(h),f=!1,y,g,_,b={point:T,lineStart:k,lineEnd:v,polygonStart:function(){b.point=w,b.lineStart=N,b.lineEnd=C,g=[],y=[]},polygonEnd:function(){b.point=T,b.lineStart=k,b.lineEnd=v,g=NP(g);var L=sU(y,s);g.length?(f||(a.polygonStart(),f=!0),kP(g,cU,L,t,a)):L&&(f||(a.polygonStart(),f=!0),a.lineStart(),t(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),g=y=null},sphere:function(){a.polygonStart(),a.lineStart(),t(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function T(L,O){var W=r(L,O);n(L=W[0],O=W[1])&&a.point(L,O)}function E(L,O){var W=r(L,O);o.point(W[0],W[1])}function k(){b.point=E,o.lineStart()}function v(){b.point=T,o.lineEnd()}function w(L,O){_.push([L,O]);var W=r(L,O);p.point(W[0],W[1])}function N(){p.lineStart(),_=[]}function C(){w(_[0][0],_[0][1]),p.lineEnd();var L=p.clean(),O=h.result(),W,X=O.length,H,$,G;if(_.pop(),y.push(_),_=null,!!X){if(L&1){if($=O[0],(H=$.length-1)>0){for(f||(a.polygonStart(),f=!0),a.lineStart(),W=0;W<H;++W)a.point((G=$[W])[0],G[1]);a.lineEnd()}return}X>1&&L&2&&O.push(O.pop().concat(O.shift())),g.push(O.filter(lU))}}return b}}function lU(n){return n.length>1}function cU(n,e){return((n=n.x)[0]<0?n[1]-Uc-Vr:Uc-n[1])-((e=e.x)[0]<0?e[1]-Uc-Vr:Uc-e[1])}const Fk=IP(function(){return!0},uU,hU,[-Qi,-Uc]);function uU(n){var e=NaN,t=NaN,i=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(a,o){var s=a>0?Qi:-Qi,h=ds(a-e);ds(h-Qi)<Vr?(n.point(e,t=(t+o)/2>0?Uc:-Uc),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(s,t),n.point(a,t),r=0):i!==s&&h>=Qi&&(ds(e-i)<Vr&&(e-=i*Vr),ds(a-s)<Vr&&(a-=s*Vr),t=dU(e,t,a,o),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(s,t),r=0),n.point(e=a,t=o),i=s},lineEnd:function(){n.lineEnd(),e=t=NaN},clean:function(){return 2-r}}}function dU(n,e,t,i){var r,a,o=ra(n-t);return ds(o)>Vr?Q6((ra(e)*(a=ia(i))*ra(t)-ra(i)*(r=ia(e))*ra(n))/(r*a*o)):(e+i)/2}function hU(n,e,t,i){var r;if(n==null)r=t*Uc,i.point(-Qi,r),i.point(0,r),i.point(Qi,r),i.point(Qi,0),i.point(Qi,-r),i.point(0,-r),i.point(-Qi,-r),i.point(-Qi,0),i.point(-Qi,r);else if(ds(n[0]-e[0])>Vr){var a=n[0]<e[0]?Qi:-Qi;r=t*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}function pU(n,e){var t=ia(n),i=t>0,r=ds(t)>Vr;function a(f,y,g,_){tU(_,n,e,g,f,y)}function o(f,y){return ia(f)*ia(y)>t}function s(f){var y,g,_,b,T;return{lineStart:function(){b=_=!1,T=1},point:function(E,k){var v=[E,k],w,N=o(E,k),C=i?N?0:p(E,k):N?p(E+(E<0?Qi:-Qi),k):0;if(!y&&(b=_=N)&&f.lineStart(),N!==_&&(w=h(y,v),(!w||Zx(y,w)||Zx(v,w))&&(v[0]+=Vr,v[1]+=Vr,N=o(v[0],v[1]))),N!==_)T=0,N?(f.lineStart(),w=h(v,y),f.point(w[0],w[1])):(w=h(y,v),f.point(w[0],w[1]),f.lineEnd()),y=w;else if(r&&y&&i^N){var L;!(C&g)&&(L=h(v,y,!0))&&(T=0,i?(f.lineStart(),f.point(L[0][0],L[0][1]),f.point(L[1][0],L[1][1]),f.lineEnd()):(f.point(L[1][0],L[1][1]),f.lineEnd(),f.lineStart(),f.point(L[0][0],L[0][1])))}N&&(!y||!Zx(y,v))&&f.point(v[0],v[1]),y=v,_=N,g=C},lineEnd:function(){_&&f.lineEnd(),y=null},clean:function(){return T|(b&&_)<<1}}}function h(f,y,g){var _=yf(f),b=yf(y),T=[1,0,0],E=Ab(_,b),k=Cx(E,E),v=E[0],w=k-v*v;if(!w)return!g&&f;var N=t*k/w,C=-t*v/w,L=Ab(T,E),O=Ex(T,N),W=Ex(E,C);iw(O,W);var X=L,H=Cx(O,X),$=Cx(X,X),G=H*H-$*(Cx(O,O)-1);if(!(G<0)){var j=Of(G),D=Ex(X,(-H-j)/$);if(iw(D,O),D=l1(D),!g)return D;var M=f[0],Y=y[0],B=f[1],z=y[1],q;Y<M&&(q=M,M=Y,Y=q);var V=Y-M,te=ds(V-Qi)<Vr,ce=te||V<Vr;if(!te&&z<B&&(q=B,B=z,z=q),ce?te?B+z>0^D[1]<(ds(D[0]-M)<Vr?B:z):B<=D[1]&&D[1]<=z:V>Qi^(M<=D[0]&&D[0]<=Y)){var ie=Ex(X,(-H+j)/$);return iw(ie,O),[D,l1(ie)]}}}function p(f,y){var g=i?n:Qi-n,_=0;return f<-g?_|=1:f>g&&(_|=2),y<-g?_|=4:y>g&&(_|=8),_}return IP(o,s,a,i?[0,-n]:[-Qi,n-Qi])}function AP(n){return function(e){var t=new d1;for(var i in n)t[i]=n[i];return t.stream=e,t}}function d1(){}d1.prototype={constructor:d1,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function PP(n,e,t){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],a=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),a!=null&&n.clipExtent(null),J6(t,n.stream(zk));var o=zk.result(),s=Math.min(i/(o[1][0]-o[0][0]),r/(o[1][1]-o[0][1])),h=+e[0][0]+(i-s*(o[1][0]+o[0][0]))/2,p=+e[0][1]+(r-s*(o[1][1]+o[0][1]))/2;return a!=null&&n.clipExtent(a),n.scale(s*150).translate([h,p])}function mU(n,e,t){return PP(n,[[0,0],e],t)}var Bk=16,fU=ia(30*Al);function jk(n,e){return+e?yU(n,e):gU(n)}function gU(n){return AP({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}function yU(n,e){function t(i,r,a,o,s,h,p,f,y,g,_,b,T,E){var k=p-i,v=f-r,w=k*k+v*v;if(w>4*e&&T--){var N=o+g,C=s+_,L=h+b,O=Of(N*N+C*C+L*L),W=_p(L/=O),X=ds(ds(L)-1)<Vr||ds(a-y)<Vr?(a+y)/2:gf(C,N),H=n(X,W),$=H[0],G=H[1],j=$-i,D=G-r,M=v*j-k*D;(M*M/w>e||ds((k*j+v*D)/w-.5)>.3||o*g+s*_+h*b<fU)&&(t(i,r,a,o,s,h,$,G,X,N/=O,C/=O,L,T,E),E.point($,G),t($,G,X,N,C,L,p,f,y,g,_,b,T,E))}}return function(i){var r,a,o,s,h,p,f,y,g,_,b,T,E={point:k,lineStart:v,lineEnd:N,polygonStart:function(){i.polygonStart(),E.lineStart=C},polygonEnd:function(){i.polygonEnd(),E.lineStart=v}};function k(W,X){W=n(W,X),i.point(W[0],W[1])}function v(){y=NaN,E.point=w,i.lineStart()}function w(W,X){var H=yf([W,X]),$=n(W,X);t(y,g,f,_,b,T,y=$[0],g=$[1],f=W,_=H[0],b=H[1],T=H[2],Bk,i),i.point(y,g)}function N(){E.point=k,i.lineEnd()}function C(){v(),E.point=L,E.lineEnd=O}function L(W,X){w(r=W,X),a=y,o=g,s=_,h=b,p=T,E.point=w}function O(){t(y,g,f,_,b,T,a,o,r,s,h,p,Bk,i),E.lineEnd=N,N()}return E}}var vU=AP({point:function(n,e){this.stream.point(n*Al,e*Al)}});function xU(n){return bU(function(){return n})()}function bU(n){var e,t=150,i=480,r=250,a,o,s=0,h=0,p=0,f=0,y=0,g,_,b=null,T=Fk,E=null,k,v,w,N=$k,C=.5,L=jk($,C),O,W;function X(D){return D=_(D[0]*Al,D[1]*Al),[D[0]*t+a,o-D[1]*t]}function H(D){return D=_.invert((D[0]-a)/t,(o-D[1])/t),D&&[D[0]*xd,D[1]*xd]}function $(D,M){return D=e(D,M),[D[0]*t+a,o-D[1]*t]}X.stream=function(D){return O&&W===D?O:O=vU(T(g,L(N(W=D))))},X.clipAngle=function(D){return arguments.length?(T=+D?pU(b=D*Al,6*Al):(b=null,Fk),j()):b*xd},X.clipExtent=function(D){return arguments.length?(N=D==null?(E=k=v=w=null,$k):aU(E=+D[0][0],k=+D[0][1],v=+D[1][0],w=+D[1][1]),j()):E==null?null:[[E,k],[v,w]]},X.scale=function(D){return arguments.length?(t=+D,G()):t},X.translate=function(D){return arguments.length?(i=+D[0],r=+D[1],G()):[i,r]},X.center=function(D){return arguments.length?(s=D[0]%360*Al,h=D[1]%360*Al,G()):[s*xd,h*xd]},X.rotate=function(D){return arguments.length?(p=D[0]%360*Al,f=D[1]%360*Al,y=D.length>2?D[2]%360*Al:0,G()):[p*xd,f*xd,y*xd]},X.precision=function(D){return arguments.length?(L=jk($,C=D*D),j()):Of(C)},X.fitExtent=function(D,M){return PP(X,D,M)},X.fitSize=function(D,M){return mU(X,D,M)};function G(){_=CP(g=eU(p,f,y),e);var D=e(s,h);return a=i-D[0]*t,o=r+D[1]*t,j()}function j(){return O=W=null,X}return function(){return e=n.apply(this,arguments),X.invert=e.invert&&H,G()}}function MP(n){return function(e,t){var i=ia(e),r=ia(t),a=n(i*r);return[a*r*ra(e),a*ra(t)]}}function DP(n){return function(e,t){var i=Of(e*e+t*t),r=n(i),a=ra(r),o=ia(r);return[gf(e*a,i*o),_p(i&&t*a/i)]}}var _U=MP(function(n){return Of(2/(1+n))});_U.invert=DP(function(n){return 2*_p(n/2)});var OP=MP(function(n){return(n=SP(n))&&n/ra(n)});OP.invert=DP(function(n){return n});function wU(){return xU(OP).scale(79.4188).clipAngle(180-.001)}function Uk(n,e){return[n,e]}Uk.invert=Uk;function TU(n,e,t){t=t||{};var i=t.units||"kilometers",r=t.steps||8;if(!n)throw new Error("geojson is required");if(typeof t!="object")throw new Error("options must be an object");if(typeof r!="number")throw new Error("steps must be an number");if(e===void 0)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var a=[];switch(n.type){case"GeometryCollection":return x0(n,function(o){var s=Kx(o,e,i,r);s&&a.push(s)}),a1(a);case"FeatureCollection":return _k(n,function(o){var s=Kx(o,e,i,r);s&&_k(s,function(h){h&&a.push(h)})}),a1(a)}return Kx(n,e,i,r)}function Kx(n,e,t,i){var r=n.properties||{},a=n.type==="Feature"?n.geometry:n;if(a.type==="GeometryCollection"){var o=[];return x0(n,function(T){var E=Kx(T,e,t,i);E&&o.push(E)}),a1(o)}var s=SU(a),h={type:a.type,coordinates:$P(a.coordinates,s)},p=new YT,f=p.read(h),y=XA(ZA(e,t),"meters"),g=Da.bufferOp(f,y,i),_=new sP;if(g=_.write(g),!RP(g.coordinates)){var b={type:g.type,coordinates:zP(g.coordinates,s)};return Zm(b,r)}}function RP(n){return Array.isArray(n[0])?RP(n[0]):isNaN(n[0])}function $P(n,e){return typeof n[0]!="object"?e(n):n.map(function(t){return $P(t,e)})}function zP(n,e){return typeof n[0]!="object"?e.invert(n):n.map(function(t){return zP(t,e)})}function SU(n){var e=D6(n).geometry.coordinates,t=[-e[0],-e[1]];return wU().rotate(t).scale(po)}const CU=n=>n.geometry.type==="Point",FP=(n=[])=>{const e=n.reduce((t,i)=>{if(i.getBounds){const r=i.getBounds();if(r)return t.extend(r)}return t},new Qs.LngLatBounds);return e.isEmpty()?null:e.toArray()},jo=(n=[])=>({type:"FeatureCollection",features:n}),BP=["get","cluster"],EU=["get","isPolygon"],jP=["has","iconUrl"],JT=["==",["geometry-type"],"Point"],UP=["==",["geometry-type"],"Polygon"],kU=["==",["geometry-type"],"LineString"],LU=["all",JT,jP],NU=["all",JT,["==",jP,!1]],GP=["==",BP,!0],IU=["!=",BP,!0],YP=["all",JT,IU,["!=",EU,!0]],AU=["boolean",["feature-state","hover"],!1],PU=["Open Sans Bold"],MU=16,DU="#FFFFFF",OU=6,RU="#CCCCCC",$U="#333333",eS=1,VP=3,Rf="#333333",tS="#000000",zU=1,FU="https://fonts.openmaptiles.org/{fontstack}/{range}.pbf",qP=({glyphs:n=FU})=>({version:8,sources:{},layers:[],glyphs:n}),Oa={textFont:PU,textSize:MU,textColor:DU,opacity:zU,radius:OU,noDataColor:RU,strokeColor:$U,strokeWidth:eS,hoverStrokeMultiplier:VP,eventStrokeColor:Rf,clusterCountColor:tS},P0=n=>["case",["has","color"],["get","color"],n],nS=(n=eS)=>["*",["case",["has","weight"],["get","weight"],n],["case",AU,VP,1]],BU=n=>["case",["has","radius"],["get","radius"],n],jU=["step",["get","point_count"],15,10,20,1e3,25,1e4,30];function Gk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Yk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(t),!0).forEach(function(i){UU(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Gk(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function UU(n,e,t){return(e=GU(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GU(n){var e=YU(n,"string");return typeof e=="symbol"?e:e+""}function YU(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const h1={color:"#95c8fb",width:1},WP=({geometry:n},e)=>(n.type==="Point"?M6(n,e):TU(n,e)).geometry,VU=(n,e)=>({type:"geojson",data:jo(n.map(t=>Yk(Yk({},t),{},{geometry:WP(t,e)})))}),iS=({id:n,color:e})=>({id:`${n}-buffer`,type:"fill",source:`${n}-buffer`,paint:{"fill-color":P0(e||h1.color)}}),rS=({id:n,color:e,width:t})=>({id:`${n}-buffer-outline`,type:"line",source:`${n}-buffer`,paint:{"line-color":P0(e||h1.color),"line-width":t||h1.width}}),qU=16,WU=16,HP="include",Vk=(n,e,t)=>{n.hasImage(e)||n.addImage(e,t)},HU=n=>new Promise((e,t)=>{const i=new Image(qU,WU);i.onload=()=>e(i),i.onerror=t,i.src=n}),XU=n=>fetch(n,{credentials:HP}).then(e=>e.text()).then(e=>`data:image/svg+xml;charset=utf-8;base64,${window.btoa(e)}`).then(HU),ZU=n=>e=>new Promise(t=>{e.endsWith(".svg")?XU(e).then(i=>{Vk(n,e,i),t(i)}).catch(()=>{t()}):n.loadImage(e,(i,r)=>{r&&Vk(n,e,r),t(r)})}),KU=async(n,e)=>{const i=(await Promise.all(e.map(ZU(n)))).indexOf(void 0);if(i!==-1)throw`Symbol not found: ${e[i]}`},QU=(n,e)=>e==="Image"?{url:n,credentials:HP}:null;var qk=6378137;function XP(n){return w6(n,function(e,t){return e+JU(t)},0)}function JU(n){var e=0,t;switch(n.type){case"Polygon":return Wk(n.coordinates);case"MultiPolygon":for(t=0;t<n.coordinates.length;t++)e+=Wk(n.coordinates[t]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function Wk(n){var e=0;if(n&&n.length>0){e+=Math.abs(Hk(n[0]));for(var t=1;t<n.length;t++)e-=Math.abs(Hk(n[t]))}return e}function Hk(n){var e,t,i,r,a,o,s,h=0,p=n.length;if(p>2){for(s=0;s<p;s++)s===p-2?(r=p-2,a=p-1,o=0):s===p-1?(r=p-1,a=0,o=1):(r=s,a=s+1,o=s+2),e=n[r],t=n[a],i=n[o],h+=(aw(i[0])-aw(e[0]))*Math.sin(aw(t[1]));h=h*qk*qk/2}return h}function aw(n){return n*Math.PI/180}var aS={exports:{}};class e9{constructor(e=[],t=t9){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:i}=this,r=t[e];for(;e>0;){const a=e-1>>1,o=t[a];if(i(r,o)>=0)break;t[e]=o,e=a}t[e]=r}_down(e){const{data:t,compare:i}=this,r=this.length>>1,a=t[e];for(;e<r;){let o=(e<<1)+1,s=t[o];const h=o+1;if(h<this.length&&i(t[h],s)<0&&(o=h,s=t[h]),i(s,a)>=0)break;t[e]=s,e=o}t[e]=a}}function t9(n,e){return n<e?-1:n>e?1:0}const n9=Object.freeze(Object.defineProperty({__proto__:null,default:e9},Symbol.toStringTag,{value:"Module"})),ZP=oR(n9);var Qx=ZP;Qx.default&&(Qx=Qx.default);aS.exports=KP;aS.exports.default=KP;function KP(n,e,t){e=e||1;for(var i,r,a,o,s=0;s<n[0].length;s++){var h=n[0][s];(!s||h[0]<i)&&(i=h[0]),(!s||h[1]<r)&&(r=h[1]),(!s||h[0]>a)&&(a=h[0]),(!s||h[1]>o)&&(o=h[1])}var p=a-i,f=o-r,y=Math.min(p,f),g=y/2;if(y===0){var _=[i,r];return _.distance=0,_}for(var b=new Qx(void 0,i9),T=i;T<a;T+=y)for(var E=r;E<o;E+=y)b.push(new Sd(T+g,E+g,g,n));var k=a9(n),v=new Sd(i+p/2,r+f/2,0,n);v.d>k.d&&(k=v);for(var w=b.length;b.length;){var N=b.pop();N.d>k.d&&(k=N,t&&console.log("found best %d after %d probes",Math.round(1e4*N.d)/1e4,w)),!(N.max-k.d<=e)&&(g=N.h/2,b.push(new Sd(N.x-g,N.y-g,g,n)),b.push(new Sd(N.x+g,N.y-g,g,n)),b.push(new Sd(N.x-g,N.y+g,g,n)),b.push(new Sd(N.x+g,N.y+g,g,n)),w+=4)}t&&(console.log("num probes: "+w),console.log("best distance: "+k.d));var C=[k.x,k.y];return C.distance=k.d,C}function i9(n,e){return e.max-n.max}function Sd(n,e,t,i){this.x=n,this.y=e,this.h=t,this.d=r9(n,e,i),this.max=this.d+this.h*Math.SQRT2}function r9(n,e,t){for(var i=!1,r=1/0,a=0;a<t.length;a++)for(var o=t[a],s=0,h=o.length,p=h-1;s<h;p=s++){var f=o[s],y=o[p];f[1]>e!=y[1]>e&&n<(y[0]-f[0])*(e-f[1])/(y[1]-f[1])+f[0]&&(i=!i),r=Math.min(r,s9(n,e,f,y))}return r===0?0:(i?1:-1)*Math.sqrt(r)}function a9(n){for(var e=0,t=0,i=0,r=n[0],a=0,o=r.length,s=o-1;a<o;s=a++){var h=r[a],p=r[s],f=h[0]*p[1]-p[0]*h[1];t+=(h[0]+p[0])*f,i+=(h[1]+p[1])*f,e+=f*3}return e===0?new Sd(r[0][0],r[0][1],0,n):new Sd(t/e,i/e,0,n)}function s9(n,e,t,i){var r=t[0],a=t[1],o=i[0]-r,s=i[1]-a;if(o!==0||s!==0){var h=((n-r)*o+(e-a)*s)/(o*o+s*s);h>1?(r=i[0],a=i[1]):h>0&&(r+=o*h,a+=s*h)}return o=n-r,s=e-a,o*o+s*s}var o9=aS.exports;const l9=Kl(o9),c9={"normal-normal":"Open Sans Regular","normal-bold":"Open Sans Bold","italic-normal":"Open Sans Italic","italic-bold":"Open Sans Bold Italic"},u9=(n,e=5,t=11)=>n==="Point"?e/parseInt(t,10)+.4:0,d9=(n,{fontSize:e,labelNoData:t=""},i)=>({type:"geojson",data:jo(n.map(({geometry:r,properties:a})=>({type:"Feature",geometry:{type:"Point",coordinates:h9(r)},properties:{name:a.name,anchor:r.type==="Point"?"top":"center",offset:[0,u9(r.type,a.radius,e)],color:"#333",value:a.value??t}})))}),M0=({id:n,label:e,fontSize:t,fontStyle:i,fontWeight:r,color:a,opacity:o})=>{const s=`${i||"normal"}-${r||"normal"}`,h=t?parseInt(t,10):12;return{type:"symbol",id:`${n}-label`,source:`${n}-label`,layout:{"text-field":e||"{name}","text-font":[c9[s]],"text-size":h,"text-anchor":["get","anchor"],"text-offset":["get","offset"]},paint:{"text-color":a||["get","color"],"text-opacity":o??Oa.opacity}}},h9=({type:n,coordinates:e})=>{if(n==="Point")return e;let t=e;if(n==="MultiPolygon"){const i=e.map(a=>XP({type:"Polygon",coordinates:a})),r=i.indexOf(Math.max.apply(null,i));t=e[r]}return l9(t,.1)},Xk={raster:["raster-opacity"],point:["circle-opacity","circle-stroke-opacity"],polygon:["fill-opacity"],line:["line-opacity"],outline:["line-opacity"],buffer:["fill-opacity"],"buffer-outline":["line-opacity"],label:["text-opacity"],symbol:["icon-opacity","text-opacity"],cluster:["circle-opacity","circle-stroke-opacity"],count:["text-opacity"]},p9={buffer:.2,"buffer-outline":.2},m9=(n,e)=>e*(p9[n]||1),f9=(n,e,t)=>{Object.keys(Xk).forEach(i=>{const r=`${e}-${i}`;n.getLayer(r)&&Xk[i].forEach(a=>n.setPaintProperty(r,a,m9(i,t)))})};function Zk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ix(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(t),!0).forEach(function(i){QP(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Zk(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function QP(n,e,t){return(e=g9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g9(n){var e=y9(n,"string");return typeof e=="symbol"?e:e+""}function y9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class cu extends Qs.Evented{constructor(e={}){super(),QP(this,"onClick",t=>this.fire("click",t)),this._id=I6(),this._source={},this._layers=[],this._features=[],this._isVisible=!0,this._interactiveIds=[],this.options=e,e.data&&this.setFeatures(e.data)}async addTo(e){const{opacity:t,onClick:i,onRightClick:r}=this.options;this._map=e;const a=e.getMapGL(),o=this.getImages(),s=this.getSource(),h=this.getLayers(),p=e.getBeforeLayerId();if(this.locale=a._getUIString.bind(a),o)try{await KU(a,o)}catch(f){this.onError(f)}Object.keys(s).forEach(f=>{e.styleIsLoaded()&&!a.getSource(f)&&a.addSource(f,s[f])}),h.forEach(f=>{e.styleIsLoaded()&&!a.getLayer(f.id)&&a.addLayer(f,p)}),this.isVisible()||this.setVisibility(!1),t!==void 0&&this.setOpacity(t),i&&this.on("click",i),r&&this.on("contextmenu",r),this.onAdd()}removeFrom(e){const t=e.getMapGL(),i=this.getSource(),r=this.getLayers(),{onClick:a,onRightClick:o}=this.options;this.onRemove(),t&&(r.forEach(s=>{t.getLayer(s.id)&&t.removeLayer(s.id)}),Object.keys(i).forEach(s=>{t.getSource(s)&&t.removeSource(s)})),a&&this.off("click",a),o&&this.off("contextmenu",o),this._map=null}createSource(){const e=this.getId(),t=this.getFeatures(),{buffer:i,label:r,labelStyle:a}=this.options;this.setSource(e,{type:"geojson",data:jo(t)}),i&&this.setSource(`${e}-buffer`,VU(t,i/1e3)),r&&this.setSource(`${e}-label`,d9(t,a))}setVisibility(e){if(this.isOnMap()){const t=this.getMapGL(),i=e?"visible":"none",r=this.getLayers();t&&r&&r.forEach(a=>t.setLayoutProperty(a.id,"visibility",i))}this._isVisible=e}getId(){return this._id}getMap(){return this._map}getMapGL(){return this._map&&this._map.getMapGL()}isOnMap(){const e=this.getMap(),t=this.getMapGL();return!!(e&&e.styleIsLoaded()&&this._layers.find(i=>t.getLayer(i.id)))}isVisible(){return this._isVisible}isInteractive(){return!!(this._interactiveIds.length&&this.isOnMap()&&this.isVisible())}setSource(e,t){this._source[e]=t}getSource(){return this._source}getInteractiveIds(){return this.isInteractive()?this._interactiveIds:[]}addLayer(e,t={}){const{isInteractive:i,opacityFactor:r}=t;this._layers.push(e),i&&this._interactiveIds.push(e.id),r&&(this._opacityFactor=r)}getLayers(){return this._layers}hasLayerId(e){return this.getLayers().some(t=>t.id===e)}move(){const e=this.getMapGL(),t=this._map.getBeforeLayerId();this.getLayers().forEach(i=>{e.moveLayer(i.id,t)})}getFeatures(){return this._features}getFeaturesById(e){return(typeof e=="string"?this._features.filter(i=>i.properties.id===e):this._features.filter(i=>i.id===e)).map(i=>Ix(Ix({},i),{},{source:this.getId()}))}setFeatures(e=[]){this._features=e.map((t,i)=>Ix(Ix({},t),{},{id:i+1}))}getImages(){return this._images}getType(){return this.options.type}setImages(e){this._images=e||[...new Set(this.getFeatures().filter(t=>t.properties.iconUrl).map(t=>t.properties.iconUrl))]}setIndex(e=0){this.options.index=e;const t=this.getMap();t&&t.orderOverlays()}getIndex(){return this.options.index||0}setOpacity(e){const t=this.getMapGL(),i=this._opacityFactor!==void 0?this._opacityFactor:1;t&&f9(t,this.getId(),e*i),this.options.opacity=e}getBounds(){const e=this.getFeatures();if(e.length){const[t,i,r,a]=wy(jo(e));return[[t,i],[r,a]]}}isMaxZoom(){const e=this.getMapGL();return e.getZoom()===e.getMaxZoom()}highlight(e){const t=this.getMap();t&&t.setHoverState(e?this.getFeaturesById(e):null)}filter(){}onAdd(){}onRemove(){}onLoad(){this.fire("load"),this.options.onLoad&&this.options.onLoad()}onRightClick(e){}onMouseMove(e,t){const{label:i,hoverLabel:r}=this.options;if(r||i){const{properties:a}=t,o=(r||i).replace(/\{ *([\w_-]+) *\}/g,(s,h)=>a[h]??(h==="value"?this.locale("Label.NoData"):""));this._map.showLabel(o,e.lngLat)}else this._map.hideLabel()}onError(e){const{onError:t}=this.options;t?t(e):console.error(e)}}const Kk=0,v9=1,$f=({id:n,color:e,strokeColor:t,width:i,radius:r,opacity:a,source:o,filter:s})=>({id:`${n}-point`,type:"circle",source:o||n,paint:{"circle-color":P0(e||Oa.noDataColor),"circle-radius":BU(r||Oa.radius),"circle-opacity":a??Oa.opacity,"circle-stroke-width":nS(i),"circle-stroke-color":t||Oa.strokeColor,"circle-stroke-opacity":a??Oa.opacity},filter:s||NU}),x9=({id:n,color:e,width:t,opacity:i,source:r,filter:a})=>({id:`${n}-line`,type:"line",source:r||n,paint:{"line-color":e||Oa.strokeColor,"line-width":nS(t),"line-opacity":i??Oa.opacity},layout:{"line-join":"round","line-cap":"round"},filter:a||kU}),zf=({id:n,color:e,opacity:t,source:i,filter:r})=>({id:`${n}-polygon`,type:"fill",source:i||n,paint:{"fill-color":P0(e||Oa.noDataColor),"fill-opacity":t??Oa.opacity},filter:r||UP}),Ff=({id:n,color:e,width:t,opacity:i,source:r,filter:a})=>({id:`${n}-outline`,type:"line",source:r||n,paint:{"line-color":e||Oa.strokeColor,"line-width":nS(t),"line-opacity":i??Oa.opacity},layout:{"line-join":"round","line-cap":"round"},filter:a||UP}),JP=({id:n,opacity:e,source:t,filter:i})=>({id:`${n}-symbol`,type:"symbol",source:t||n,layout:{"icon-image":["get","iconUrl"],"icon-size":1,"icon-allow-overlap":!0},paint:{"icon-opacity":e??Oa.opacity},filter:i||LU}),eM=({id:n,color:e,strokeColor:t,opacity:i})=>({id:`${n}-cluster`,type:"circle",source:n,filter:GP,paint:{"circle-color":e,"circle-radius":jU,"circle-opacity":i??Oa.opacity,"circle-stroke-color":t,"circle-stroke-width":Oa.strokeWidth,"circle-stroke-opacity":i??Oa.opacity}}),tM=({id:n,color:e,opacity:t})=>({id:`${n}-count`,type:"symbol",source:n,filter:GP,layout:{"text-field":"{point_count_abbreviated}","text-font":Oa.textFont,"text-size":Oa.textSize,"text-allow-overlap":!0},paint:{"text-color":e||Oa.textColor,"text-opacity":t??Oa.opacity}});class Db extends Qs.Evented{constructor(e={}){super(),this.options=e,this._visibleLayers=[],this._isOnMap=!1}async toggleVectorStyle(e,t,i){await this.removeOtherLayers(),this._map.setBeforeLayerId(i),(e||!this.mapHasVectorStyle())&&(this._map._styleIsLoading=!0,await this.setStyle(t),this._map._styleIsLoading=!1,this._visibleLayers=this._map.getMapGL().getStyle().layers.filter(r=>{var a;return((a=r.layout)==null?void 0:a.visibility)!=="none"}).map(r=>r.id)),this._isOnMap=e,await this.addOtherLayers()}async addTo(e){this._map=e;const{url:t,beforeId:i,isVisible:r}=this.options;await this.toggleVectorStyle(!0,t,i),(this.isVisible()===!1||this.isVisible()===void 0&&r===!1)&&this.setVisibility(!1)}async removeFrom(){const e=this._map._glyphs;this._map.getMapGL()&&await this.toggleVectorStyle(!1,qP({glyphs:e}))}setStyle(e){return new Promise((t,i)=>{this._map.getMapGL().once("idle",t).setStyle(e,{diff:!1}).once("error",r=>{let a;r.error.message.includes("missing required property")?a="The vector style is malformed or invalid.":r.error.message.includes("r.blob is not a function")?a="The vector style was not found.":a="An error occured while loading the vector style.",i(a)})})}getOtherLayers(){return this._map.getLayers().filter(e=>!(e instanceof Db))}async addOtherLayers(){this.getOtherLayers().forEach(async e=>{e.isOnMap()||(await e.addTo(this._map),e.setVisibility(e.isVisible()))})}async removeOtherLayers(){this.getOtherLayers().forEach(async e=>{e.isOnMap()&&await e.removeFrom(this._map,!0)})}mapHasVectorStyle(){return this._map.getLayers().some(e=>e instanceof Db)}setIndex(e=Kk){this.options.index=e}setOpacity(){}setVisibility(e){if(this.isOnMap()){const t=this._map.getMapGL(),i=e?"visible":"none";this._visibleLayers.forEach(r=>t.setLayoutProperty(r,"visibility",i))}this._isVisible=e}isVisible(){return this._isVisible}isInteractive(){return!1}hasLayerId(){return!1}isOnMap(){return this._isOnMap}getIndex(){return Kk}}class Qk extends cu{constructor(e){super(e),this.createSource(),this.createLayer()}createSource(){const{url:e,layers:t,format:i="image/png",attribution:r=""}=this.options;let a;t?a=[`${e}?bbox={bbox-epsg-3857}&format=${i}&service=WMS&version=1.1.1&request=GetMap&srs=EPSG:3857&transparent=true&width=256&height=256&layers=${t}`]:e.includes("{s}")?a=["a","b","c"].map(o=>e.replace("{s}",o)):a=[e],this.setSource(this.getId(),{type:"raster",tiles:a,tileSize:256,attribution:r})}createLayer(){const e=this.getId();this.addLayer({id:`${e}-raster`,type:"raster",source:e})}}function Jk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function eL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(t),!0).forEach(function(i){b9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jk(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function b9(n,e,t){return(e=_9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _9(n){var e=w9(n,"string");return typeof e=="symbol"?e:e+""}function w9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}let T9=class extends cu{constructor(e){super(e),this.createSource(),this.createLayers()}createLayers(){const e=this.getId(),{color:t,opacity:i,label:r,labelStyle:a}=this.options,o=!0;this.addLayer(zf({id:e,color:t,opacity:i}),{isInteractive:o}),this.addLayer(Ff({id:e,opacity:i})),this.addLayer($f({id:e,color:t,opacity:i}),{isInteractive:o}),r&&this.addLayer(M0(eL(eL({id:e,label:r},a),{},{opacity:i})))}};function tL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Wg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(t),!0).forEach(function(i){S9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function S9(n,e,t){return(e=C9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function C9(n){var e=E9(n,"string");return typeof e=="symbol"?e:e+""}function E9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class k9 extends cu{constructor(e){super(e),this.createSource(),this.createLayers()}setFeatures(e=[]){const{radius:t=6}=this.options.style;this._features=e.map((i,r)=>Wg(Wg({},i),{},{id:r+1,properties:Wg(Wg({},i.properties),{},{color:i.properties.style.color,width:i.properties.style.weight,radius:t})}))}createLayers(){const e=this.getId(),{label:t,labelStyle:i}=this.options,r=!0;this.addLayer({id:`${e}-line`,type:"line",source:e,paint:{"line-color":["get","color"],"line-width":["case",["boolean",["feature-state","hover"],!1],["+",["get","width"],2],["get","width"]]},filter:["==","$type","Polygon"]},{isInteractive:r}),this.addLayer({id:`${e}-point`,type:"circle",source:e,paint:{"circle-color":"transparent","circle-radius":["get","radius"],"circle-stroke-color":["get","color"],"circle-stroke-width":["case",["boolean",["feature-state","hover"],!1],["+",["get","width"],2],["get","width"]]},filter:["==","$type","Point"]},{isInteractive:r}),t&&this.addLayer(M0(Wg({id:e,label:t},i)))}}function nL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function sw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(t),!0).forEach(function(i){L9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function L9(n,e,t){return(e=N9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function N9(n){var e=I9(n,"string");return typeof e=="symbol"?e:e+""}function I9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class A9 extends cu{constructor(e){super(e),this.setImages(),this.createSource(),this.createLayer()}createLayer(){const e=this.getId(),{buffer:t,bufferStyle:i,label:r,labelStyle:a}=this.options,o=!0;t&&(this.addLayer(iS(sw({id:e},i))),this.addLayer(rS(sw({id:e},i)))),this.addLayer(JP({id:e}),{isInteractive:o}),r&&this.addLayer(M0(sw({id:e,label:r},a)))}}function iL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(t),!0).forEach(function(i){P9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function P9(n,e,t){return(e=M9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function M9(n){var e=D9(n,"string");return typeof e=="symbol"?e:e+""}function D9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class O9 extends cu{constructor(e){super(e),this.createSource(),this.createLayers()}createLayers(){const e=this.getId(),{fillColor:t,strokeColor:i=Rf,radius:r,buffer:a,bufferStyle:o}=this.options,s=!0;a&&(this.addLayer(iS(rL({id:e},o))),this.addLayer(rS(rL({id:e},o)))),this.addLayer($f({id:e,color:t,radius:r,strokeColor:i}),{isInteractive:s}),this.addLayer(zf({id:e,color:t}),{isInteractive:s}),this.addLayer(Ff({id:e,color:i}))}}var sS={exports:{}},nM={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(bo,function(){function t(v,w,N,C,L){(function O(W,X,H,$,G){for(;$>H;){if($-H>600){var j=$-H+1,D=X-H+1,M=Math.log(j),Y=.5*Math.exp(2*M/3),B=.5*Math.sqrt(M*Y*(j-Y)/j)*(D-j/2<0?-1:1),z=Math.max(H,Math.floor(X-D*Y/j+B)),q=Math.min($,Math.floor(X+(j-D)*Y/j+B));O(W,X,z,q,G)}var V=W[X],te=H,ce=$;for(i(W,H,X),G(W[$],V)>0&&i(W,H,$);te<ce;){for(i(W,te,ce),te++,ce--;G(W[te],V)<0;)te++;for(;G(W[ce],V)>0;)ce--}G(W[H],V)===0?i(W,H,ce):i(W,++ce,$),ce<=X&&(H=ce+1),X<=ce&&($=ce-1)}})(v,w,N||0,C||v.length-1,L||r)}function i(v,w,N){var C=v[w];v[w]=v[N],v[N]=C}function r(v,w){return v<w?-1:v>w?1:0}var a=function(v){v===void 0&&(v=9),this._maxEntries=Math.max(4,v),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(v,w,N){if(!N)return w.indexOf(v);for(var C=0;C<w.length;C++)if(N(v,w[C]))return C;return-1}function s(v,w){h(v,0,v.children.length,w,v)}function h(v,w,N,C,L){L||(L=E(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var O=w;O<N;O++){var W=v.children[O];p(L,v.leaf?C(W):W)}return L}function p(v,w){return v.minX=Math.min(v.minX,w.minX),v.minY=Math.min(v.minY,w.minY),v.maxX=Math.max(v.maxX,w.maxX),v.maxY=Math.max(v.maxY,w.maxY),v}function f(v,w){return v.minX-w.minX}function y(v,w){return v.minY-w.minY}function g(v){return(v.maxX-v.minX)*(v.maxY-v.minY)}function _(v){return v.maxX-v.minX+(v.maxY-v.minY)}function b(v,w){return v.minX<=w.minX&&v.minY<=w.minY&&w.maxX<=v.maxX&&w.maxY<=v.maxY}function T(v,w){return w.minX<=v.maxX&&w.minY<=v.maxY&&w.maxX>=v.minX&&w.maxY>=v.minY}function E(v){return{children:v,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function k(v,w,N,C,L){for(var O=[w,N];O.length;)if(!((N=O.pop())-(w=O.pop())<=C)){var W=w+Math.ceil((N-w)/C/2)*C;t(v,W,w,N,L),O.push(w,W,W,N)}}return a.prototype.all=function(){return this._all(this.data,[])},a.prototype.search=function(v){var w=this.data,N=[];if(!T(v,w))return N;for(var C=this.toBBox,L=[];w;){for(var O=0;O<w.children.length;O++){var W=w.children[O],X=w.leaf?C(W):W;T(v,X)&&(w.leaf?N.push(W):b(v,X)?this._all(W,N):L.push(W))}w=L.pop()}return N},a.prototype.collides=function(v){var w=this.data;if(!T(v,w))return!1;for(var N=[];w;){for(var C=0;C<w.children.length;C++){var L=w.children[C],O=w.leaf?this.toBBox(L):L;if(T(v,O)){if(w.leaf||b(v,O))return!0;N.push(L)}}w=N.pop()}return!1},a.prototype.load=function(v){if(!v||!v.length)return this;if(v.length<this._minEntries){for(var w=0;w<v.length;w++)this.insert(v[w]);return this}var N=this._build(v.slice(),0,v.length-1,0);if(this.data.children.length)if(this.data.height===N.height)this._splitRoot(this.data,N);else{if(this.data.height<N.height){var C=this.data;this.data=N,N=C}this._insert(N,this.data.height-N.height-1,!0)}else this.data=N;return this},a.prototype.insert=function(v){return v&&this._insert(v,this.data.height-1),this},a.prototype.clear=function(){return this.data=E([]),this},a.prototype.remove=function(v,w){if(!v)return this;for(var N,C,L,O=this.data,W=this.toBBox(v),X=[],H=[];O||X.length;){if(O||(O=X.pop(),C=X[X.length-1],N=H.pop(),L=!0),O.leaf){var $=o(v,O.children,w);if($!==-1)return O.children.splice($,1),X.push(O),this._condense(X),this}L||O.leaf||!b(O,W)?C?(N++,O=C.children[N],L=!1):O=null:(X.push(O),H.push(N),N=0,C=O,O=O.children[0])}return this},a.prototype.toBBox=function(v){return v},a.prototype.compareMinX=function(v,w){return v.minX-w.minX},a.prototype.compareMinY=function(v,w){return v.minY-w.minY},a.prototype.toJSON=function(){return this.data},a.prototype.fromJSON=function(v){return this.data=v,this},a.prototype._all=function(v,w){for(var N=[];v;)v.leaf?w.push.apply(w,v.children):N.push.apply(N,v.children),v=N.pop();return w},a.prototype._build=function(v,w,N,C){var L,O=N-w+1,W=this._maxEntries;if(O<=W)return s(L=E(v.slice(w,N+1)),this.toBBox),L;C||(C=Math.ceil(Math.log(O)/Math.log(W)),W=Math.ceil(O/Math.pow(W,C-1))),(L=E([])).leaf=!1,L.height=C;var X=Math.ceil(O/W),H=X*Math.ceil(Math.sqrt(W));k(v,w,N,H,this.compareMinX);for(var $=w;$<=N;$+=H){var G=Math.min($+H-1,N);k(v,$,G,X,this.compareMinY);for(var j=$;j<=G;j+=X){var D=Math.min(j+X-1,G);L.children.push(this._build(v,j,D,C-1))}}return s(L,this.toBBox),L},a.prototype._chooseSubtree=function(v,w,N,C){for(;C.push(w),!w.leaf&&C.length-1!==N;){for(var L=1/0,O=1/0,W=void 0,X=0;X<w.children.length;X++){var H=w.children[X],$=g(H),G=(j=v,D=H,(Math.max(D.maxX,j.maxX)-Math.min(D.minX,j.minX))*(Math.max(D.maxY,j.maxY)-Math.min(D.minY,j.minY))-$);G<O?(O=G,L=$<L?$:L,W=H):G===O&&$<L&&(L=$,W=H)}w=W||w.children[0]}var j,D;return w},a.prototype._insert=function(v,w,N){var C=N?v:this.toBBox(v),L=[],O=this._chooseSubtree(C,this.data,w,L);for(O.children.push(v),p(O,C);w>=0&&L[w].children.length>this._maxEntries;)this._split(L,w),w--;this._adjustParentBBoxes(C,L,w)},a.prototype._split=function(v,w){var N=v[w],C=N.children.length,L=this._minEntries;this._chooseSplitAxis(N,L,C);var O=this._chooseSplitIndex(N,L,C),W=E(N.children.splice(O,N.children.length-O));W.height=N.height,W.leaf=N.leaf,s(N,this.toBBox),s(W,this.toBBox),w?v[w-1].children.push(W):this._splitRoot(N,W)},a.prototype._splitRoot=function(v,w){this.data=E([v,w]),this.data.height=v.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},a.prototype._chooseSplitIndex=function(v,w,N){for(var C,L,O,W,X,H,$,G=1/0,j=1/0,D=w;D<=N-w;D++){var M=h(v,0,D,this.toBBox),Y=h(v,D,N,this.toBBox),B=(L=M,O=Y,W=void 0,X=void 0,H=void 0,$=void 0,W=Math.max(L.minX,O.minX),X=Math.max(L.minY,O.minY),H=Math.min(L.maxX,O.maxX),$=Math.min(L.maxY,O.maxY),Math.max(0,H-W)*Math.max(0,$-X)),z=g(M)+g(Y);B<G?(G=B,C=D,j=z<j?z:j):B===G&&z<j&&(j=z,C=D)}return C||N-w},a.prototype._chooseSplitAxis=function(v,w,N){var C=v.leaf?this.compareMinX:f,L=v.leaf?this.compareMinY:y;this._allDistMargin(v,w,N,C)<this._allDistMargin(v,w,N,L)&&v.children.sort(C)},a.prototype._allDistMargin=function(v,w,N,C){v.children.sort(C);for(var L=this.toBBox,O=h(v,0,w,L),W=h(v,N-w,N,L),X=_(O)+_(W),H=w;H<N-w;H++){var $=v.children[H];p(O,v.leaf?L($):$),X+=_(O)}for(var G=N-w-1;G>=w;G--){var j=v.children[G];p(W,v.leaf?L(j):j),X+=_(W)}return X},a.prototype._adjustParentBBoxes=function(v,w,N){for(var C=N;C>=0;C--)p(w[C],v)},a.prototype._condense=function(v){for(var w=v.length-1,N=void 0;w>=0;w--)v[w].children.length===0?w>0?(N=v[w-1].children).splice(N.indexOf(v[w]),1):this.clear():s(v[w],this.toBBox)},a})})(nM);var R9=nM.exports,D0={exports:{}},$9=function(e,t,i,r){var a=e[0],o=e[1],s=!1;i===void 0&&(i=0),r===void 0&&(r=t.length);for(var h=(r-i)/2,p=0,f=h-1;p<h;f=p++){var y=t[i+p*2+0],g=t[i+p*2+1],_=t[i+f*2+0],b=t[i+f*2+1],T=g>o!=b>o&&a<(_-y)*(o-g)/(b-g)+y;T&&(s=!s)}return s},z9=function(e,t,i,r){var a=e[0],o=e[1],s=!1;i===void 0&&(i=0),r===void 0&&(r=t.length);for(var h=r-i,p=0,f=h-1;p<h;f=p++){var y=t[p+i][0],g=t[p+i][1],_=t[f+i][0],b=t[f+i][1],T=g>o!=b>o&&a<(_-y)*(o-g)/(b-g)+y;T&&(s=!s)}return s},iM=$9,rM=z9;D0.exports=function(e,t,i,r){return t.length>0&&Array.isArray(t[0])?rM(e,t,i,r):iM(e,t,i,r)};D0.exports.nested=rM;D0.exports.flat=iM;var F9=D0.exports,p1={exports:{}};(function(n,e){(function(t,i){i(e)})(bo,function(t){const r=33306690738754706e-32;function a(T,E,k,v,w){let N,C,L,O,W=E[0],X=v[0],H=0,$=0;X>W==X>-W?(N=W,W=E[++H]):(N=X,X=v[++$]);let G=0;if(H<T&&$<k)for(X>W==X>-W?(L=N-((C=W+N)-W),W=E[++H]):(L=N-((C=X+N)-X),X=v[++$]),N=C,L!==0&&(w[G++]=L);H<T&&$<k;)X>W==X>-W?(L=N-((C=N+W)-(O=C-N))+(W-O),W=E[++H]):(L=N-((C=N+X)-(O=C-N))+(X-O),X=v[++$]),N=C,L!==0&&(w[G++]=L);for(;H<T;)L=N-((C=N+W)-(O=C-N))+(W-O),W=E[++H],N=C,L!==0&&(w[G++]=L);for(;$<k;)L=N-((C=N+X)-(O=C-N))+(X-O),X=v[++$],N=C,L!==0&&(w[G++]=L);return N===0&&G!==0||(w[G++]=N),G}function o(T){return new Float64Array(T)}const s=33306690738754716e-32,h=22204460492503146e-32,p=11093356479670487e-47,f=o(4),y=o(8),g=o(12),_=o(16),b=o(4);t.orient2d=function(T,E,k,v,w,N){const C=(E-N)*(k-w),L=(T-w)*(v-N),O=C-L;if(C===0||L===0||C>0!=L>0)return O;const W=Math.abs(C+L);return Math.abs(O)>=s*W?O:-function(X,H,$,G,j,D,M){let Y,B,z,q,V,te,ce,ie,se,Ce,pe,we,K,J,ae,ve,Q,re;const le=X-j,fe=$-j,xe=H-D,Le=G-D;V=(ae=(ie=le-(ce=(te=134217729*le)-(te-le)))*(Ce=Le-(se=(te=134217729*Le)-(te-Le)))-((J=le*Le)-ce*se-ie*se-ce*Ce))-(pe=ae-(Q=(ie=xe-(ce=(te=134217729*xe)-(te-xe)))*(Ce=fe-(se=(te=134217729*fe)-(te-fe)))-((ve=xe*fe)-ce*se-ie*se-ce*Ce))),f[0]=ae-(pe+V)+(V-Q),V=(K=J-((we=J+pe)-(V=we-J))+(pe-V))-(pe=K-ve),f[1]=K-(pe+V)+(V-ve),V=(re=we+pe)-we,f[2]=we-(re-V)+(pe-V),f[3]=re;let be=function(Pe,_e){let Ee=_e[0];for(let Re=1;Re<Pe;Re++)Ee+=_e[Re];return Ee}(4,f),ke=h*M;if(be>=ke||-be>=ke||(Y=X-(le+(V=X-le))+(V-j),z=$-(fe+(V=$-fe))+(V-j),B=H-(xe+(V=H-xe))+(V-D),q=G-(Le+(V=G-Le))+(V-D),Y===0&&B===0&&z===0&&q===0)||(ke=p*M+r*Math.abs(be),(be+=le*q+Le*Y-(xe*z+fe*B))>=ke||-be>=ke))return be;V=(ae=(ie=Y-(ce=(te=134217729*Y)-(te-Y)))*(Ce=Le-(se=(te=134217729*Le)-(te-Le)))-((J=Y*Le)-ce*se-ie*se-ce*Ce))-(pe=ae-(Q=(ie=B-(ce=(te=134217729*B)-(te-B)))*(Ce=fe-(se=(te=134217729*fe)-(te-fe)))-((ve=B*fe)-ce*se-ie*se-ce*Ce))),b[0]=ae-(pe+V)+(V-Q),V=(K=J-((we=J+pe)-(V=we-J))+(pe-V))-(pe=K-ve),b[1]=K-(pe+V)+(V-ve),V=(re=we+pe)-we,b[2]=we-(re-V)+(pe-V),b[3]=re;const Oe=a(4,f,4,b,y);V=(ae=(ie=le-(ce=(te=134217729*le)-(te-le)))*(Ce=q-(se=(te=134217729*q)-(te-q)))-((J=le*q)-ce*se-ie*se-ce*Ce))-(pe=ae-(Q=(ie=xe-(ce=(te=134217729*xe)-(te-xe)))*(Ce=z-(se=(te=134217729*z)-(te-z)))-((ve=xe*z)-ce*se-ie*se-ce*Ce))),b[0]=ae-(pe+V)+(V-Q),V=(K=J-((we=J+pe)-(V=we-J))+(pe-V))-(pe=K-ve),b[1]=K-(pe+V)+(V-ve),V=(re=we+pe)-we,b[2]=we-(re-V)+(pe-V),b[3]=re;const Ue=a(Oe,y,4,b,g);V=(ae=(ie=Y-(ce=(te=134217729*Y)-(te-Y)))*(Ce=q-(se=(te=134217729*q)-(te-q)))-((J=Y*q)-ce*se-ie*se-ce*Ce))-(pe=ae-(Q=(ie=B-(ce=(te=134217729*B)-(te-B)))*(Ce=z-(se=(te=134217729*z)-(te-z)))-((ve=B*z)-ce*se-ie*se-ce*Ce))),b[0]=ae-(pe+V)+(V-Q),V=(K=J-((we=J+pe)-(V=we-J))+(pe-V))-(pe=K-ve),b[1]=K-(pe+V)+(V-ve),V=(re=we+pe)-we,b[2]=we-(re-V)+(pe-V),b[3]=re;const Xe=a(Ue,g,4,b,_);return _[Xe-1]}(T,E,k,v,w,N,W)},t.orient2dfast=function(T,E,k,v,w,N){return(E-N)*(k-w)-(T-w)*(v-N)},Object.defineProperty(t,"__esModule",{value:!0})})})(p1,p1.exports);var B9=p1.exports,aL=R9,Jx=ZP,j9=F9,U9=B9.orient2d;Jx.default&&(Jx=Jx.default);sS.exports=aM;sS.exports.default=aM;function aM(n,e,t){e=Math.max(0,e===void 0?2:e),t=t||0;var i=W9(n),r=new aL(16);r.toBBox=function(v){return{minX:v[0],minY:v[1],maxX:v[0],maxY:v[1]}},r.compareMinX=function(v,w){return v[0]-w[0]},r.compareMinY=function(v,w){return v[1]-w[1]},r.load(n);for(var a=[],o=0,s;o<i.length;o++){var h=i[o];r.remove(h),s=lL(h,s),a.push(s)}var p=new aL(16);for(o=0;o<a.length;o++)p.insert(ow(a[o]));for(var f=e*e,y=t*t;a.length;){var g=a.shift(),_=g.p,b=g.next.p,T=lw(_,b);if(!(T<y)){var E=T/f;h=G9(r,g.prev.p,_,b,g.next.next.p,E,p),h&&Math.min(lw(h,_),lw(h,b))<=E&&(a.push(g),a.push(lL(h,g)),r.remove(h),p.remove(g),p.insert(ow(g)),p.insert(ow(g.next)))}}g=s;var k=[];do k.push(g.p),g=g.next;while(g!==s);return k.push(g.p),k}function G9(n,e,t,i,r,a,o){for(var s=new Jx([],Y9),h=n.data;h;){for(var p=0;p<h.children.length;p++){var f=h.children[p],y=h.leaf?cw(f,t,i):V9(t,i,f);y>a||s.push({node:f,dist:y})}for(;s.length&&!s.peek().node.children;){var g=s.pop(),_=g.node,b=cw(_,e,t),T=cw(_,i,r);if(g.dist<b&&g.dist<T&&oL(t,_,o)&&oL(i,_,o))return _}h=s.pop(),h&&(h=h.node)}return null}function Y9(n,e){return n.dist-e.dist}function V9(n,e,t){if(sL(n,t)||sL(e,t))return 0;var i=Ax(n[0],n[1],e[0],e[1],t.minX,t.minY,t.maxX,t.minY);if(i===0)return 0;var r=Ax(n[0],n[1],e[0],e[1],t.minX,t.minY,t.minX,t.maxY);if(r===0)return 0;var a=Ax(n[0],n[1],e[0],e[1],t.maxX,t.minY,t.maxX,t.maxY);if(a===0)return 0;var o=Ax(n[0],n[1],e[0],e[1],t.minX,t.maxY,t.maxX,t.maxY);return o===0?0:Math.min(i,r,a,o)}function sL(n,e){return n[0]>=e.minX&&n[0]<=e.maxX&&n[1]>=e.minY&&n[1]<=e.maxY}function oL(n,e,t){for(var i=Math.min(n[0],e[0]),r=Math.min(n[1],e[1]),a=Math.max(n[0],e[0]),o=Math.max(n[1],e[1]),s=t.search({minX:i,minY:r,maxX:a,maxY:o}),h=0;h<s.length;h++)if(q9(s[h].p,s[h].next.p,n,e))return!1;return!0}function Dm(n,e,t){return U9(n[0],n[1],e[0],e[1],t[0],t[1])}function q9(n,e,t,i){return n!==i&&e!==t&&Dm(n,e,t)>0!=Dm(n,e,i)>0&&Dm(t,i,n)>0!=Dm(t,i,e)>0}function ow(n){var e=n.p,t=n.next.p;return n.minX=Math.min(e[0],t[0]),n.minY=Math.min(e[1],t[1]),n.maxX=Math.max(e[0],t[0]),n.maxY=Math.max(e[1],t[1]),n}function W9(n){for(var e=n[0],t=n[0],i=n[0],r=n[0],a=0;a<n.length;a++){var o=n[a];o[0]<e[0]&&(e=o),o[0]>i[0]&&(i=o),o[1]<t[1]&&(t=o),o[1]>r[1]&&(r=o)}var s=[e,t,i,r],h=s.slice();for(a=0;a<n.length;a++)j9(n[a],s)||h.push(n[a]);return X9(h)}function lL(n,e){var t={p:n,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(t.next=e.next,t.prev=e,e.next.prev=t,e.next=t):(t.prev=t,t.next=t),t}function lw(n,e){var t=n[0]-e[0],i=n[1]-e[1];return t*t+i*i}function cw(n,e,t){var i=e[0],r=e[1],a=t[0]-i,o=t[1]-r;if(a!==0||o!==0){var s=((n[0]-i)*a+(n[1]-r)*o)/(a*a+o*o);s>1?(i=t[0],r=t[1]):s>0&&(i+=a*s,r+=o*s)}return a=n[0]-i,o=n[1]-r,a*a+o*o}function Ax(n,e,t,i,r,a,o,s){var h=t-n,p=i-e,f=o-r,y=s-a,g=n-r,_=e-a,b=h*h+p*p,T=h*f+p*y,E=f*f+y*y,k=h*g+p*_,v=f*g+y*_,w=b*E-T*T,N,C,L,O,W=w,X=w;w===0?(C=0,W=1,O=v,X=E):(C=T*v-E*k,O=b*v-T*k,C<0?(C=0,O=v,X=E):C>W&&(C=W,O=v+T,X=E)),O<0?(O=0,-k<0?C=0:-k>b?C=W:(C=-k,W=b)):O>X&&(O=X,-k+T<0?C=0:-k+T>b?C=W:(C=-k+T,W=b)),N=C===0?0:C/W,L=O===0?0:O/X;var H=(1-N)*n+N*t,$=(1-N)*e+N*i,G=(1-L)*r+L*o,j=(1-L)*a+L*s,D=G-H,M=j-$;return D*D+M*M}function H9(n,e){return n[0]===e[0]?n[1]-e[1]:n[0]-e[0]}function X9(n){n.sort(H9);for(var e=[],t=0;t<n.length;t++){for(;e.length>=2&&Dm(e[e.length-2],e[e.length-1],n[t])<=0;)e.pop();e.push(n[t])}for(var i=[],r=n.length-1;r>=0;r--){for(;i.length>=2&&Dm(i[i.length-2],i[i.length-1],n[r])<=0;)i.pop();i.push(n[r])}return i.pop(),e.pop(),e.concat(i)}var Z9=sS.exports;const K9=Kl(Z9);function Q9(n,e){e===void 0&&(e={}),e.concavity=e.concavity||1/0;var t=[];if(If(n,function(r){t.push([r[0],r[1]])}),!t.length)return null;var i=K9(t,e.concavity);return i.length>3?HA([i]):null}function m1(n,e){e===void 0&&(e={});var t=0,i=0,r=0;return If(n,function(a){t+=a[0],i+=a[1],r++},!0),_y([t/r,i/r],e.properties)}function sM(n,e){switch(e===void 0&&(e={}),A6(n)){case"Point":return _y(Tb(n),e.properties);case"Polygon":var t=[];If(n,function(N){t.push(N)});var i=m1(n,{properties:e.properties}),r=i.geometry.coordinates,a=0,o=0,s=0,h,p,f,y,g,_,b,T,E=t.map(function(N){return[N[0]-r[0],N[1]-r[1]]});for(h=0;h<t.length-1;h++)p=E[h],y=p[0],_=p[1],f=E[h+1],g=f[0],b=f[1],T=y*b-g*_,s+=T,a+=(y+g)*T,o+=(_+b)*T;if(s===0)return i;var k=s*.5,v=1/(6*k);return _y([r[0]+v*a,r[1]+v*o],e.properties);default:var w=Q9(n);return w?sM(w,{properties:e.properties}):m1(n,{properties:e.properties})}}function cL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function J9(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(t),!0).forEach(function(i){e8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function e8(n,e,t){return(e=t8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function t8(n){var e=n8(n,"string");return typeof e=="symbol"?e:e+""}function n8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const Au={each:(n,e)=>{if(!n||!n.length)return[];for(let t=0;t<n.length;t++)e(n[t],t)},eachTimes:(n,e)=>{if(!n)return[];for(let t=0;t<n;t++)e(t)},map:(n,e)=>{const t=[];return Au.each(n,(i,r)=>t.push(e(i,r))),t},mapTimes:(n,e)=>{const t=[];return Au.eachTimes(n,i=>t.push(e(i))),t}},i8=(n,e)=>{const t=J9({animate:!1,animationSpeed:0,customPin:!1,initializeLeg:()=>{},onClick:()=>{},circleSpiralSwitchover:9,circleFootSeparation:25,spiralFootSeparation:28,spiralLengthStart:15,spiralLengthFactor:4},e),i=Math.PI*2;let r=[];const a=()=>{Au.each(r.reverse(),(y,g)=>{t.animate?(y.elements.container.style.transitionDelay=t.animationSpeed/1e3/r.length*g+"s",y.elements.container.className+=" exit",setTimeout(()=>y.marker.remove(),t.animationSpeed+100)):y.marker.remove()}),r=[]},o=(y,g)=>{const _=s(g.length);a();const b=Au.map(g,(T,E)=>{const k=_[E],v=f(k),w=new Qs.Marker(v.container).setLngLat(y),N={feature:T,elements:v,marker:w,param:k};return t.initializeLeg(N),v.container.onclick=C=>t.onClick(C,N),N});Au.each(b.reverse(),T=>T.marker.addTo(n)),t.animate&&setTimeout(()=>{Au.each(b.reverse(),(T,E)=>{T.elements.container.className=(T.elements.container.className||"").replace("initial",""),T.elements.container.style.transitionDelay=t.animationSpeed/1e3/b.length*E+"s"})}),r=b},s=y=>y>=t.circleSpiralSwitchover?h(y):p(y),h=y=>{let g=t.spiralLengthStart,_=0;return Au.mapTimes(y,b=>{_=_+(t.spiralFootSeparation/g+b*5e-4);const T={x:g*Math.cos(_),y:g*Math.sin(_),angle:_,legLength:g,index:b};return g=g+i*t.spiralLengthFactor/_,T})},p=y=>{const _=t.circleFootSeparation*(2+y)/i,b=i/y;return Au.mapTimes(y,T=>{const E=T*b,k=_*Math.cos(E),v=_*Math.sin(E);return{x:k,y:v,angle:E,legLength:_,index:T}})},f=y=>{const g=document.createElement("div"),_=document.createElement("div"),b=document.createElement("div");return g.className="spider-leg-container"+(t.animate?" animate initial ":" "),b.className="spider-leg-line",_.className="spider-leg-pin"+(t.customPin?"":" default-spider-pin"),g.appendChild(b),g.appendChild(_),g.style["margin-left"]=y.x+"px",g.style["margin-top"]=y.y+"px",b.style.height=y.legLength+"px",b.style.transform="rotate("+(y.angle-Math.PI/2)+"rad)",{container:g,line:b,pin:_}};return{spiderfy:o,unspiderfy:a,each:y=>Au.each(r,y)}},r8=function(n,e){let t,i;const r=y=>{const{feature:g,elements:_,param:b}=y,{radius:T,fillColor:E,opacity:k}=e,v=g.properties.color||E,w=document.createElement("div"),{angle:N}=b,C=Math.cos(N)*T,L=Math.sin(N)*T;w.setAttribute("style",`
            width: ${T*2}px;
            height: ${T*2}px;
            margin-left: -${T}px;
            margin-top: -${T}px;
            background-color: ${v};
            border: ${eS}px solid ${Rf};
            border-radius: 50%;
            transform: translate(${C}px, ${L}px);`),_.container.style.opacity=k,_.pin.appendChild(w)},a=y=>{i&&t.each(g=>g.elements.container.style.opacity=y)},o=(y,g,_)=>{y!==i&&(t.spiderfy(g,_),i=y,n.on("click",s))},s=()=>{i&&(t.unspiderfy(),e.onClose&&e.onClose(i),i=null,n.off("click",s))},h=y=>y===i,p=()=>i;return t=i8(n,{animate:!0,animationSpeed:200,customPin:!0,initializeLeg:r,onClick:(y,g)=>{y.stopPropagation();const{feature:_,marker:b,param:T}=g,{angle:E,legLength:k}=T,v=k+e.radius,w=new Qs.Point(v*Math.cos(E),v*Math.sin(E)),N=n.project(b.getLngLat()).add(w),{lng:C,lat:L}=n.unproject(N);e.onClick({type:"click",coordinates:[C,L],position:[y.x,y.pageY||y.y],feature:_})}}),{spiderfy:o,unspiderfy:s,setOpacity:a,isExpanded:h,getId:p}};function uL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Hg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(t),!0).forEach(function(i){Bh(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Bh(n,e,t){return(e=a8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a8(n){var e=s8(n,"string");return typeof e=="symbol"?e:e+""}function s8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class oS extends cu{constructor(e){super(e),Bh(this,"zoomToCluster",(t,i)=>{if(this.isMaxZoom())this.spiderfy(t,i);else{const r=this.getMapGL();r.getSource(this.getId()).getClusterExpansionZoom(t,(o,s)=>{o||r.easeTo({center:i,zoom:s+1})})}}),Bh(this,"unspiderfy",()=>{if(this.spider){this.spider.unspiderfy();const t=this.getMapGL();t&&t.off("zoom",this.unspiderfy)}}),Bh(this,"getClusterFeatures",t=>new Promise((i,r)=>{this.getMapGL().getSource(this.getId()).getClusterLeaves(t,null,null,(s,h)=>s?r(s):i(this.sortClusterFeatures(h)))})),Bh(this,"sortClusterFeatures",t=>t),Bh(this,"updatePolygons",()=>{const t=this.getSourceFeatures().filter(r=>r.properties.isPolygon);let i=[];if(t.length&&(i=[...new Set(t.map(r=>r.id))].sort()),i.length!==this._polygonsOnMap.length||i.some((r,a)=>r!==this._polygonsOnMap[a])){this._polygonsOnMap=i;const r=i.map(o=>this._polygons[o]);this.getMapGL().getSource(`${this.getId()}-polygons`).setData(jo(r))}}),Bh(this,"onSpiderClose",t=>{this.setClusterOpacity(t)}),this.createSource(),this.createLayers()}setFeatures(e=[]){super.setFeatures(e),this._hasPolygons=e.some(t=>t.geometry.type==="Polygon"),this._hasPolygons&&(this._polygons={},this._polygonsOnMap=[],this._features=this._features.map(t=>t.geometry.type==="Polygon"?(this._polygons[t.id]=t,Hg(Hg({},t),{},{geometry:sM(t).geometry,properties:Hg(Hg({},t.properties),{},{isPolygon:!0})})):t))}createSource(e){const t=this.getId();this.setSource(t,Hg({type:"geojson",clusterMaxZoom:19,clusterRadius:50},e)),this.setSource(`${t}-polygons`,{type:"geojson",data:jo()})}createLayers(){const e=this.getId(),{fillColor:t,strokeColor:i=Rf,radius:r}=this.options,a=!0;this.addLayer($f({id:e,color:t,strokeColor:i,radius:r,filter:YP}),{isInteractive:a}),this.addLayer(zf({id:e,color:t,source:`${e}-polygons`}),{isInteractive:a}),this.addLayer(Ff({id:e,color:i,source:`${e}-polygons`}))}setOpacity(e){super.setOpacity(e),this.spider&&(this.setClusterOpacity(this.spider.getId(),!0),this.spider.setOpacity(e))}async spiderfy(e,t){if(this.spider&&!this.spider.isExpanded(e)){this.spider.unspiderfy();const i=await this.getClusterFeatures(e);this.spider.spiderfy(e,t,i),this.setClusterOpacity(e,!0),this.getMapGL().on("zoom",this.unspiderfy)}}setClusterOpacity(e,t){if(e){const{opacity:i}=this.options;this.getMapGL().setPaintProperty(`${this.getId()}-cluster`,"circle-opacity",t&&i>=.1?["case",["==",["get","cluster_id"],e],.1,i]:i)}}getSourceFeatures(){return this.getMapGL().querySourceFeatures(this.getId())}onAdd(){const e=this.getMapGL(),{radius:t,fillColor:i,opacity:r}=this.options;this.spider=new r8(e,{onClick:this.onClick,radius:t,fillColor:i,opacity:r,onClose:this.onSpiderClose}),this.setOpacity(this.options.opacity)}onRemove(){this.unspiderfy(),this.spider=null}}function uw(n,e,t){return(e=o8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o8(n){var e=l8(n,"string");return typeof e=="symbol"?e:e+""}function l8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class c8 extends oS{constructor(...e){super(...e),uw(this,"onClick",t=>{const{feature:i}=t;if(i.properties.cluster)this.zoomToCluster(i.properties.cluster_id,i.geometry.coordinates);else{if(typeof i.id=="number"&&typeof i.properties.id=="string"){const{type:r,properties:a,geometry:o}=i,{id:s}=a;t.feature={type:r,id:s,properties:a,geometry:o}}this.fire("click",t)}}),uw(this,"onSourceData",t=>{t.sourceId===this.getId()&&this.getSourceFeatures().length&&(this.getMapGL().off("sourcedata",this.onSourceData),this.updatePolygons())}),uw(this,"getClusterFeatures",t=>new Promise((i,r)=>{this.getMapGL().getSource(this.getId()).getClusterLeaves(t,null,null,(s,h)=>s?r(s):i(h))}))}createSource(){super.createSource({cluster:!0,data:jo(this.getFeatures())})}createLayers(){const e=this.getId(),{fillColor:t,strokeColor:i=Rf,countColor:r=tS}=this.options,a=!0;super.createLayers(),this.addLayer(eM({id:e,color:t,strokeColor:i}),{isInteractive:a}),this.addLayer(tM({id:e,color:r}))}onAdd(){if(super.onAdd(),this._hasPolygons){const e=this.getMapGL();e.on("sourcedata",this.onSourceData),e.on("moveend",this.updatePolygons),this.updatePolygons()}}onRemove(){if(super.onRemove(),this._hasPolygons){const e=this.getMapGL();e&&(e.off("sourcedata",this.onSourceData),e.off("moveend",this.updatePolygons))}}}var oM="Expected a function",dL=NaN,u8="[object Symbol]",d8=/^\s+|\s+$/g,h8=/^[-+]0x[0-9a-f]+$/i,p8=/^0b[01]+$/i,m8=/^0o[0-7]+$/i,f8=parseInt,g8=typeof bo=="object"&&bo&&bo.Object===Object&&bo,y8=typeof self=="object"&&self&&self.Object===Object&&self,v8=g8||y8||Function("return this")(),x8=Object.prototype,b8=x8.toString,_8=Math.max,w8=Math.min,dw=function(){return v8.Date.now()};function T8(n,e,t){var i,r,a,o,s,h,p=0,f=!1,y=!1,g=!0;if(typeof n!="function")throw new TypeError(oM);e=hL(e)||0,Ob(t)&&(f=!!t.leading,y="maxWait"in t,a=y?_8(hL(t.maxWait)||0,e):a,g="trailing"in t?!!t.trailing:g);function _(L){var O=i,W=r;return i=r=void 0,p=L,o=n.apply(W,O),o}function b(L){return p=L,s=setTimeout(k,e),f?_(L):o}function T(L){var O=L-h,W=L-p,X=e-O;return y?w8(X,a-W):X}function E(L){var O=L-h,W=L-p;return h===void 0||O>=e||O<0||y&&W>=a}function k(){var L=dw();if(E(L))return v(L);s=setTimeout(k,T(L))}function v(L){return s=void 0,g&&i?_(L):(i=r=void 0,o)}function w(){s!==void 0&&clearTimeout(s),p=0,i=h=r=s=void 0}function N(){return s===void 0?o:v(dw())}function C(){var L=dw(),O=E(L);if(i=arguments,r=this,h=L,O){if(s===void 0)return b(h);if(y)return s=setTimeout(k,e),_(h)}return s===void 0&&(s=setTimeout(k,e)),o}return C.cancel=w,C.flush=N,C}function S8(n,e,t){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(oM);return Ob(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),T8(n,e,{leading:i,maxWait:e,trailing:r})}function Ob(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function C8(n){return!!n&&typeof n=="object"}function E8(n){return typeof n=="symbol"||C8(n)&&b8.call(n)==u8}function hL(n){if(typeof n=="number")return n;if(E8(n))return dL;if(Ob(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Ob(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(d8,"");var t=p8.test(n);return t||m8.test(n)?f8(n.slice(2),t?2:8):h8.test(n)?dL:+n}var k8=S8;const L8=Kl(k8);function N8(n,e,t){return(e=I8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function I8(n){var e=A8(n,"string");return typeof e=="symbol"?e:e+""}function A8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class P8 extends Qs.Marker{constructor(e,t={}){const i=M8(e);super({element:i}),N8(this,"onClick",r=>{r.stopPropagation(),this.fire("click")}),this.setOpacity(t.opacity),i.addEventListener("click",this.onClick)}setOpacity(e){typeof e=="number"&&(this.getElement().style.opacity=e)}setVisibility(e){this.getElement().style.display=e?"block":"none"}}const M8=n=>{const e=n.reduce((p,f)=>p+f.count,0),t=e>=1e3?22:e>=100?20:e>=10?18:16,i=e>=1e3?50:e>=100?32:e>=10?24:18,r=Math.round(i*.6),a=i*2;let o=0,s=`<svg width="${a}" height="${a}" viewbox="0 0 ${a} ${a}" text-anchor="middle" style="font:${t}px sans-serif;cursor:pointer;filter:drop-shadow(0 0 2px #777);">`;n.forEach(p=>{s+=D8(o/e,(o+p.count)/e,i,r,p.color),o+=p.count}),s+=`<circle cx="${i}" cy="${i}" r="${r}" fill="white" />`,s+=`<text dominant-baseline="central" transform="translate(${i}, ${i})">${e}</text></svg>`;const h=document.createElement("div");return h.innerHTML=s,h.firstChild},D8=(n,e,t,i,r)=>{e-n===1&&(e-=1e-5);const a=2*Math.PI*(n-.25),o=2*Math.PI*(e-.25),s=Math.cos(a),h=Math.sin(a),p=Math.cos(o),f=Math.sin(o),y=e-n>.5?1:0;return['<path d="M',t+i*s,t+i*h,"L",t+t*s,t+t*h,"A",t,t,0,y,1,t+t*p,t+t*f,"L",t+i*p,t+i*f,"A",i,i,0,y,0,t+i*s,t+i*h,'" fill="'+r+'" />'].join(" ")};function pL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(t),!0).forEach(function(i){jh(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function jh(n,e,t){return(e=O8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function O8(n){var e=R8(n,"string");return typeof e=="symbol"?e:e+""}function R8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class $8 extends oS{constructor(...e){super(...e),jh(this,"clusters",{}),jh(this,"clustersOnScreen",{}),jh(this,"onSourceData",t=>{t.sourceId===this.getId()&&this.getSourceFeatures().length&&this.updateClusters()}),jh(this,"onClick",t=>{const{feature:i}=t;if(i.properties.cluster)this.zoomToCluster(i.properties.cluster_id,i.geometry.coordinates);else{if(typeof i.id=="number"&&typeof i.properties.id=="string"){const{type:r,properties:a,geometry:o}=i,{id:s}=a;t.feature={type:r,id:s,properties:a,geometry:o}}this.fire("click",t)}}),jh(this,"sortClusterFeatures",t=>{const i=this.options.groups.map(r=>r.color);return t.sort((r,a)=>{const o=i.indexOf(r.properties.color),s=i.indexOf(a.properties.color);return(o>s)-(o<s)})}),jh(this,"updateClusters",L8(()=>{const{groups:t,opacity:i}=this.options,r={},a=this.getSourceFeatures();for(let o=0;o<a.length;o++){const{geometry:s,properties:h}=a[o],{coordinates:p}=s,{cluster:f,cluster_id:y}=h;if(!f)continue;let g=this.clusters[y];if(!g){const _=t.map(b=>mL(mL({},b),{},{count:h[b.color]}));g=new P8(_,{opacity:i}),g.setLngLat(p),g.on("click",()=>{this.zoomToCluster(y,p)}),this.clusters[y]=g}r[y]=g,this.clustersOnScreen[y]||g.addTo(this.getMapGL())}for(const o in this.clustersOnScreen)r[o]||this.clustersOnScreen[o].remove();this.clustersOnScreen=r,this._hasPolygons&&this.updatePolygons()},100))}createSource(){super.createSource({cluster:!0,clusterProperties:this.options.groups.reduce((e,{color:t})=>(e[t]=["+",["case",["==",["get","color"],t],1,0]],e),{}),data:jo(this.getFeatures())})}onAdd(){super.onAdd();const e=this.getMapGL();e.on("sourcedata",this.onSourceData),e.on("move",this.updateClusters),e.on("moveend",this.updateClusters),this.updateClusters()}onRemove(){super.onRemove();const e=this.getMapGL();e&&(e.off("sourcedata",this.onSourceData),e.off("move",this.updateClusters),e.off("moveend",this.updateClusters));for(const t in this.clustersOnScreen)this.clustersOnScreen[t].remove();this.clustersOnScreen={},this.clusters={}}setOpacity(e){if(super.setOpacity(e),this.isOnMap())for(const t in this.clusters)this.clusters[t].setOpacity(e)}setClusterOpacity(e,t){if(e){const i=this.clusters[e],{opacity:r}=this.options;i&&i.setOpacity(t?r<.1?r:.1:r)}}setVisibility(e){if(super.setVisibility(e),this.isOnMap())for(const t in this.clusters)this.clusters[t].setVisibility(e)}}var lM={exports:{}};(function(n,e){var t=function(){var i={},r=Math.PI/180,a=180/Math.PI,o=6378137,s=20037508342789244e-9;function h(f){return Number(f)===f&&f%1!==0}function p(f){if(f=f||{},this.size=f.size||256,this.expansion=f.antimeridian===!0?2:1,!i[this.size]){var y=this.size,g=i[this.size]={};g.Bc=[],g.Cc=[],g.zc=[],g.Ac=[];for(var _=0;_<30;_++)g.Bc.push(y/360),g.Cc.push(y/(2*Math.PI)),g.zc.push(y/2),g.Ac.push(y),y*=2}this.Bc=i[this.size].Bc,this.Cc=i[this.size].Cc,this.zc=i[this.size].zc,this.Ac=i[this.size].Ac}return p.prototype.px=function(f,y){if(h(y)){var g=this.size*Math.pow(2,y),_=g/2,b=g/360,T=g/(2*Math.PI),E=g,k=Math.min(Math.max(Math.sin(r*f[1]),-.9999),.9999),v=_+f[0]*b,w=_+.5*Math.log((1+k)/(1-k))*-T;return v>E*this.expansion&&(v=E*this.expansion),w>E&&(w=E),[v,w]}else{var _=this.zc[y],k=Math.min(Math.max(Math.sin(r*f[1]),-.9999),.9999),v=Math.round(_+f[0]*this.Bc[y]),w=Math.round(_+.5*Math.log((1+k)/(1-k))*-this.Cc[y]);return v>this.Ac[y]*this.expansion&&(v=this.Ac[y]*this.expansion),w>this.Ac[y]&&(w=this.Ac[y]),[v,w]}},p.prototype.ll=function(f,y){if(h(y)){var g=this.size*Math.pow(2,y),_=g/360,b=g/(2*Math.PI),T=g/2,E=(f[1]-T)/-b,k=(f[0]-T)/_,v=a*(2*Math.atan(Math.exp(E))-.5*Math.PI);return[k,v]}else{var E=(f[1]-this.zc[y])/-this.Cc[y],k=(f[0]-this.zc[y])/this.Bc[y],v=a*(2*Math.atan(Math.exp(E))-.5*Math.PI);return[k,v]}},p.prototype.bbox=function(f,y,g,_,b){_&&(y=Math.pow(2,g)-1-y);var T=[f*this.size,(+y+1)*this.size],E=[(+f+1)*this.size,y*this.size],k=this.ll(T,g).concat(this.ll(E,g));return b==="900913"?this.convert(k,"900913"):k},p.prototype.xyz=function(f,y,g,_){_==="900913"&&(f=this.convert(f,"WGS84"));var b=[f[0],f[1]],T=[f[2],f[3]],E=this.px(b,y),k=this.px(T,y),v=[Math.floor(E[0]/this.size),Math.floor((k[0]-1)/this.size)],w=[Math.floor(k[1]/this.size),Math.floor((E[1]-1)/this.size)],N={minX:Math.min.apply(Math,v)<0?0:Math.min.apply(Math,v),minY:Math.min.apply(Math,w)<0?0:Math.min.apply(Math,w),maxX:Math.max.apply(Math,v),maxY:Math.max.apply(Math,w)};if(g){var C={minY:Math.pow(2,y)-1-N.maxY,maxY:Math.pow(2,y)-1-N.minY};N.minY=C.minY,N.maxY=C.maxY}return N},p.prototype.convert=function(f,y){return y==="900913"?this.forward(f.slice(0,2)).concat(this.forward(f.slice(2,4))):this.inverse(f.slice(0,2)).concat(this.inverse(f.slice(2,4)))},p.prototype.forward=function(f){var y=[o*f[0]*r,o*Math.log(Math.tan(Math.PI*.25+.5*f[1]*r))];return y[0]>s&&(y[0]=s),y[0]<-20037508342789244e-9&&(y[0]=-20037508342789244e-9),y[1]>s&&(y[1]=s),y[1]<-20037508342789244e-9&&(y[1]=-20037508342789244e-9),y},p.prototype.inverse=function(f){return[f[0]*a/o,(Math.PI*.5-2*Math.atan(Math.exp(-f[1]/o)))*a]},p}();n.exports=t})(lM);var z8=lM.exports;const F8=Kl(z8),B8=6378137,j8=(n,e)=>!(n[0]>e[2]||n[2]<e[0]||n[3]<e[1]||n[1]>e[3]);function fL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function U8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(t),!0).forEach(function(i){Na(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Na(n,e,t){return(e=G8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function G8(n){var e=Y8(n,"string");return typeof e=="symbol"?e:e+""}function Y8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class V8 extends oS{constructor(e){super(U8({tileSize:512,clusterSize:110,maxSpiderSize:500,debug:!0},e)),Na(this,"currentTiles",[]),Na(this,"currentClusters",[]),Na(this,"currentClusterIds",""),Na(this,"currentZoom",0),Na(this,"tileClusters",{}),Na(this,"cluserCount",0),Na(this,"getResolution",i=>Math.PI*B8*2/this.options.tileSize/Math.pow(2,i)),Na(this,"updateClusters",i=>{const r=i.reduce((o,s)=>{const[h,p,f]=s.split("/"),y=this.isOutsideBounds(this.getTileBounds(p,f,h));return[...o.filter(y),...this.tileClusters[s]]},this.currentClusters),a=this.getClusterIds(r);this.currentClusterIds!==a&&(this.getMapGL().getSource(this.getId()).setData(jo(r)),this.currentClusterIds=a,this.currentClusters=r)}),Na(this,"onClick",i=>{const{geometry:r,properties:a}=i.feature,{cluster:o,bounds:s,id:h,cluster_id:p}=a;o?h?this.spiderfy(p,r.coordinates):this.zoomToBounds(s):this.fire("click",i)}),Na(this,"onSourceData",i=>{if(i.sourceId===this.getId()&&i.tile){const r=this.getTileId(i.tile);this.tileClusters[r]||(this.tileClusters[r]="pending",this._isLoading=!0,this.options.load(this.getTileParams(r),this.onTileLoad))}}),Na(this,"onMoveEnd",async()=>{const i=await this.getVisibleTiles();if(i.join("-")!==this.currentTiles.join("-")){this.currentTiles=i;const r=i.filter(a=>Array.isArray(this.tileClusters[a]));r.length&&this.updateClusters(r)}}),Na(this,"onTileLoad",async(i,r)=>{this.tileClusters[i]=r,(await this.getVisibleTiles()).includes(i)&&this.updateClusters([i]),this._isLoading=!1}),Na(this,"getBounds",()=>this.options.bounds),Na(this,"areTilesUpdated",()=>{const i=this._map.getMapGL(),r=Math.floor(i.getZoom());return this.getSourceCacheTiles().every(({tileID:a})=>a.canonical.z===r)}),Na(this,"getSourceCacheTiles",()=>{const r=this._map.getMapGL().style.sourceCaches[this.getId()];return r?Object.values(r._tiles):[]}),Na(this,"getClusterFeatures",i=>{const r=this.currentClusters.find(a=>a.id===i);if(r)return r.properties.id.split(",").slice(0,this.options.maxSpiderSize).map(a=>({type:"Feature",id:a,geometry:r.geometry,properties:{id:a}}))}),Na(this,"isOutsideBounds",i=>({geometry:r})=>{const{coordinates:a}=r.type==="Point"?r:m1(r).geometry,[o,s]=a;return o<=i[0]||o>=i[2]||s<=i[1]||s>=i[3]}),Na(this,"getVisibleTiles",async()=>{for(;!this.areTilesUpdated();)await new Promise(i=>setTimeout(i,100));return this.getSourceCacheTiles().map(this.getTileId).sort()}),Na(this,"getClusterIds",i=>i.map(r=>r.id).sort((r,a)=>r-a).join());const t=new F8({size:this.options.tileSize});this.getTileBounds=(i,r,a)=>t.bbox(i,r,a)}createSource(){super.createSource({data:jo()})}createLayers(){const e=this.getId(),{fillColor:t,strokeColor:i=Rf,countColor:r=tS,radius:a}=this.options,o=!0;this.addLayer($f({id:e,color:t,strokeColor:i,radius:a,filter:YP}),{isInteractive:o}),this.addLayer(zf({id:e,color:t}),{isInteractive:o}),this.addLayer(Ff({id:e,color:i})),this.addLayer(eM({id:e,color:t,strokeColor:i}),{isInteractive:o}),this.addLayer(tM({id:e,color:r}))}getTileId(e){const{x:t,y:i,z:r}=e.tileID.canonical;return`${r}/${t}/${i}`}getTileParams(e){const[t,i,r]=e.split("/"),{clusterSize:a}=this.options,o=this._map.getMapGL();return{tileId:e,bbox:this.getTileBounds(i,r,t).join(","),clusterSize:Math.round(this.getResolution(t)*a),includeClusterPoints:Number(t)===o.getMaxZoom()}}onAdd(){super.onAdd();const e=this._map.getMapGL();e.on("sourcedata",this.onSourceData),e.on("moveend",this.onMoveEnd)}onRemove(){super.onRemove();const e=this._map.getMapGL();e&&(e.off("sourcedata",this.onSourceData),e.off("moveend",this.onMoveEnd))}zoomToBounds(e){if(e){let t;if(Array.isArray(e))t=e;else if(typeof e=="string")try{t=JSON.parse(e)}catch{return}t&&this._map.getMapGL().fitBounds(t,{padding:40})}}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cM=Symbol("Comlink.proxy"),q8=Symbol("Comlink.endpoint"),W8=Symbol("Comlink.releaseProxy"),hw=Symbol("Comlink.finalizer"),eb=Symbol("Comlink.thrown"),uM=n=>typeof n=="object"&&n!==null||typeof n=="function",H8={canHandle:n=>uM(n)&&n[cM],serialize(n){const{port1:e,port2:t}=new MessageChannel;return hM(n,e),[t,[t]]},deserialize(n){return n.start(),mM(n)}},X8={canHandle:n=>uM(n)&&eb in n,serialize({value:n}){let e;return n instanceof Error?e={isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:e={isError:!1,value:n},[e,[]]},deserialize(n){throw n.isError?Object.assign(new Error(n.value.message),n.value):n.value}},dM=new Map([["proxy",H8],["throw",X8]]);function Z8(n,e){for(const t of n)if(e===t||t==="*"||t instanceof RegExp&&t.test(e))return!0;return!1}function hM(n,e=globalThis,t=["*"]){e.addEventListener("message",function i(r){if(!r||!r.data)return;if(!Z8(t,r.origin)){console.warn(`Invalid origin '${r.origin}' for comlink proxy`);return}const{id:a,type:o,path:s}=Object.assign({path:[]},r.data),h=(r.data.argumentList||[]).map(Vh);let p;try{const f=s.slice(0,-1).reduce((g,_)=>g[_],n),y=s.reduce((g,_)=>g[_],n);switch(o){case"GET":p=y;break;case"SET":f[s.slice(-1)[0]]=Vh(r.data.value),p=!0;break;case"APPLY":p=y.apply(f,h);break;case"CONSTRUCT":{const g=new y(...h);p=yM(g)}break;case"ENDPOINT":{const{port1:g,port2:_}=new MessageChannel;hM(n,_),p=tG(g,[g])}break;case"RELEASE":p=void 0;break;default:return}}catch(f){p={value:f,[eb]:0}}Promise.resolve(p).catch(f=>({value:f,[eb]:0})).then(f=>{const[y,g]=zb(f);e.postMessage(Object.assign(Object.assign({},y),{id:a}),g),o==="RELEASE"&&(e.removeEventListener("message",i),pM(e),hw in n&&typeof n[hw]=="function"&&n[hw]())}).catch(f=>{const[y,g]=zb({value:new TypeError("Unserializable return value"),[eb]:0});e.postMessage(Object.assign(Object.assign({},y),{id:a}),g)})}),e.start&&e.start()}function K8(n){return n.constructor.name==="MessagePort"}function pM(n){K8(n)&&n.close()}function mM(n,e){const t=new Map;return n.addEventListener("message",function(r){const{data:a}=r;if(!a||!a.id)return;const o=t.get(a.id);if(o)try{o(a)}finally{t.delete(a.id)}}),f1(n,t,[],e)}function Px(n){if(n)throw new Error("Proxy has been released and is not useable")}function fM(n){return Pm(n,new Map,{type:"RELEASE"}).then(()=>{pM(n)})}const Rb=new WeakMap,$b="FinalizationRegistry"in globalThis&&new FinalizationRegistry(n=>{const e=(Rb.get(n)||0)-1;Rb.set(n,e),e===0&&fM(n)});function Q8(n,e){const t=(Rb.get(e)||0)+1;Rb.set(e,t),$b&&$b.register(n,e,n)}function J8(n){$b&&$b.unregister(n)}function f1(n,e,t=[],i=function(){}){let r=!1;const a=new Proxy(i,{get(o,s){if(Px(r),s===W8)return()=>{J8(a),fM(n),e.clear(),r=!0};if(s==="then"){if(t.length===0)return{then:()=>a};const h=Pm(n,e,{type:"GET",path:t.map(p=>p.toString())}).then(Vh);return h.then.bind(h)}return f1(n,e,[...t,s])},set(o,s,h){Px(r);const[p,f]=zb(h);return Pm(n,e,{type:"SET",path:[...t,s].map(y=>y.toString()),value:p},f).then(Vh)},apply(o,s,h){Px(r);const p=t[t.length-1];if(p===q8)return Pm(n,e,{type:"ENDPOINT"}).then(Vh);if(p==="bind")return f1(n,e,t.slice(0,-1));const[f,y]=gL(h);return Pm(n,e,{type:"APPLY",path:t.map(g=>g.toString()),argumentList:f},y).then(Vh)},construct(o,s){Px(r);const[h,p]=gL(s);return Pm(n,e,{type:"CONSTRUCT",path:t.map(f=>f.toString()),argumentList:h},p).then(Vh)}});return Q8(a,n),a}function eG(n){return Array.prototype.concat.apply([],n)}function gL(n){const e=n.map(zb);return[e.map(t=>t[0]),eG(e.map(t=>t[1]))]}const gM=new WeakMap;function tG(n,e){return gM.set(n,e),n}function yM(n){return Object.assign(n,{[cM]:!0})}function zb(n){for(const[e,t]of dM)if(t.canHandle(n)){const[i,r]=t.serialize(n);return[{type:"HANDLER",name:e,value:i},r]}return[{type:"RAW",value:n},gM.get(n)||[]]}function Vh(n){switch(n.type){case"HANDLER":return dM.get(n.name).deserialize(n.value);case"RAW":return n.value}}function Pm(n,e,t,i){return new Promise(r=>{const a=nG();e.set(a,r),n.start&&n.start(),n.postMessage(Object.assign({id:a},t),i)})}function nG(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}let pw;const iG=n=>new Promise((e,t)=>{if(pw)e(pw);else{const i=mM(typeof SharedWorker<"u"?new SharedWorker(new URL(""+new URL("ee_worker-D6uBXvUX.js",import.meta.url).href,import.meta.url)).port:new Worker(new URL(""+new URL("ee_worker-D6uBXvUX.js",import.meta.url).href,import.meta.url)));i.setAuthToken(yM(n)).then(()=>{pw=i,e(i)}).catch(t)}}),yL=(n,e)=>n.replace(/\{ *([\w_-]+) *\}/g,(t,i)=>e[i]),vL=n=>Array.isArray(n)?n.sort((e,t)=>t.id-e.id).map(({id:e,source:t})=>`${e}-${t}`).join("-"):"",rG={bandReducer:"sum",popup:"{name}: {value} {unit}",nullPopup:"{name}: {noValue}",noValue:"no value"},aG=["aggregationType","band","bandReducer","buffer","cloudScore","data","datasetId","filter","format","legend","maskOperator","methods","mosaic","periodReducer","style","tileScale","unmaskAggregation","useCentroid"],sG=n=>{const e=Object.keys(n).filter(t=>aG.includes(t)).reduce((t,i)=>(t[i]=n[i],t),{});return e.data&&!e.buffer&&(e.data=e.data.filter(t=>t.geometry.type!=="Point")),e},vM=n=>{if(n===void 0)return t=>t;const e=Math.pow(10,n);return t=>Math.round(t*e)/e},oG=n=>n<1?3:n<10?2:n<100?1:0,lG=(n,e)=>vM(typeof e=="number"?e:oG(Math.abs(n)))(n),xL=n=>n*.621371192;function bL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Em(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(t),!0).forEach(function(i){ty(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ty(n,e,t){return(e=cG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cG(n){var e=uG(n,"string");return typeof e=="symbol"?e:e+""}function uG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class dG extends cu{constructor(e){super(Em(Em({},rG),e)),ty(this,"addTo",t=>new Promise((i,r)=>{this._map=t,t.styleIsLoaded()?(this._isLoading=!0,this.getWorkerInstance().then(async a=>{if(this.worker=a,this._tileUrl||(this._tileUrl=await a.getTileUrl()),!this._terminated){this.createSource(),this.createLayers(),super.addTo(t),this.onLoad(),this._isLoading=!1;const{preload:o,data:s}=this.options;o&&s&&this.getAggregations()}i()}).catch(a=>{this._isLoading=!1,r(a)})):i()})),ty(this,"getValue",async t=>{const{band:i,style:r}=this.options,a=await this.worker.getValue(t),o=a[i]||Object.values(a)[0],s=Array.isArray(r)&&r.find(h=>h.value===o);return s?s.name:o}),ty(this,"showValue",(t,i)=>this.getValue(t).then(r=>{const{lng:a,lat:o}=t,s=this.options;let h;r===null?h=yL(s.nullPopup,s):h=yL(s.popup,Em(Em({},s),{},{value:typeof r=="number"?lG(r,i):r})),this._map.openPopup(document.createTextNode(h),[a,o])})),ty(this,"getAggregations",()=>(this._aggregationsPromise||(this._aggregationsPromise=this.worker.getAggregations()),this._aggregationsPromise))}removeFrom(e,t){this._terminated=!t,super.removeFrom(e)}getWorkerInstance(){return this._workerPromise||(this._workerPromise=new Promise((e,t)=>iG(this.options.getAuthToken).then(i=>{new i(sG(this.options)).then(e)}).catch(t))),this._workerPromise}createSource(){const e=this.getId();this.setSource(`${e}-raster`,{type:"raster",tileSize:256,tiles:[this._tileUrl]}),this.options.data&&this.setSource(e,{type:"geojson",data:jo(this.getFilteredFeatures())})}createLayers(){const e=this.getId(),t=e,i=!0;this.addLayer({id:`${e}-raster`,type:"raster",source:`${e}-raster`}),this.options.data&&(this.addLayer(zf({id:e,source:t,opacity:.9}),{isInteractive:i}),this.addLayer(Ff({id:e,source:t})),this.addLayer($f({id:e,source:`${e}-points`,radius:2,color:"#333"})))}setFeatures(e=[]){this.setSource(`${this.getId()}-points`,{type:"geojson",data:jo(e.filter(CU))}),super.setFeatures(e.map(this.createBuffer.bind(this)))}createBuffer(e){const{buffer:t}=this.options;return t&&e.geometry.type==="Point"?Em(Em({},e),{},{geometry:WP(e,t/1e3)}):e}setOpacity(e){super.setOpacity(e);const i=`${this.getId()}-polygon`,r=this.getMapGL();r&&r.getLayer(i)&&r.setPaintProperty(i,"fill-opacity",0)}getFilteredFeatures(){const e=this.getFeatures(),t=this._filteredFeatureIds;return Array.isArray(t)?e.filter(i=>t.includes(i.properties.id)):e}filter(e){this._filteredFeatureIds=e;const t=this.getMapGL().getSource(this.getId());t&&t.setData(jo(this.getFilteredFeatures()))}}var g1={exports:{}};(function(n,e){(function(t,i){i(e,n)})(bo,function(t,i){var r={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function a(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function o(p){try{delete window[p]}catch{window[p]=void 0}}function s(p){var f=document.getElementById(p);f&&document.getElementsByTagName("head")[0].removeChild(f)}function h(p){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],y=p,g=f.timeout||r.timeout,_=f.jsonpCallback||r.jsonpCallback,b=void 0;return new Promise(function(T,E){var k=f.jsonpCallbackFunction||a(),v=_+"_"+k;window[k]=function(N){T({ok:!0,json:function(){return Promise.resolve(N)}}),b&&clearTimeout(b),s(v),o(k)},y+=y.indexOf("?")===-1?"?":"&";var w=document.createElement("script");w.setAttribute("src",""+y+_+"="+k),f.charset&&w.setAttribute("charset",f.charset),f.nonce&&w.setAttribute("nonce",f.nonce),f.referrerPolicy&&w.setAttribute("referrerPolicy",f.referrerPolicy),f.crossorigin&&w.setAttribute("crossorigin","true"),w.id=v,document.getElementsByTagName("head")[0].appendChild(w),b=setTimeout(function(){E(new Error("JSONP request to "+p+" timed out")),o(k),s(v),window[k]=function(){o(k)}},g),w.onerror=function(){E(new Error("JSONP request to "+p+" failed")),o(k),s(v),b&&clearTimeout(b)}})}i.exports=h})})(g1,g1.exports);var hG=g1.exports;const pG=Kl(hG);function mw(n,e,t){return(e=mG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mG(n){var e=fG(n,"string");return typeof e=="symbol"?e:e+""}function fG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class gG extends cu{constructor(...e){super(...e),mw(this,"createLayer",()=>{const t=this.getId();this.addLayer({id:`${t}-raster`,type:"raster",source:t})}),mw(this,"onMetaDataLoad",t=>{if(t.statusCode!==200)throw new Error(`Bing Imagery Metadata error: 
`+JSON.stringify(t,null,"  "));return t.resourceSets[0].resources[0]}),mw(this,"updateAttribution",()=>{const t=this.getMapGL().getSource(this.getId());t&&(t.attribution=this.getAttribution(),this.getMap()._updateAttributions())})}async createSource(){const{imageUrl:e,imageUrlSubdomains:t,imageryProviders:i}=await this.loadMetaData();this._imageryProviders=i,this.setSource(this.getId(),{type:"raster",tiles:t.map(r=>e.replace("{subdomain}",r)),tileSize:256})}async addTo(e){this._isLoading=!0,await this.createSource(),this.createLayer(),await super.addTo(e),this._isLoading=!1,e.orderOverlays(),this.getMapGL().on("moveend",this.updateAttribution),this.updateAttribution(),this.addBingMapsLogo(),this.options.opacity!==void 0&&this.setOpacity(this.options.opacity)}onRemove(){const e=this.getMapGL();if(e&&(e.off("moveend",this.updateAttribution),this._brandLogoImg)){const t=e.getContainer();t.removeChild(this._brandLogoImg),t.classList.remove("dhis2-map-bing")}}async loadMetaData(){const{apiKey:e,style:t="Road"}=this.options,r=`https://dev.virtualearth.net/REST/V1/Imagery/Metadata/${t}?output=json&include=ImageryProviders&culture=en-GB&key=${e}&uriScheme=https`;return pG(r,{jsonpCallback:"jsonp"}).then(a=>a.json()).then(this.onMetaDataLoad)}addBingMapsLogo(){const e=this.getMap().getContainer(),t=document.createElement("div");t.className="dhis2-map-bing-logo",e.appendChild(t),e.classList.add("dhis2-map-bing"),this._brandLogoImg=t}getAttribution(){const e=this.getMapGL(),[t,i]=e.getBounds().toArray(),r=[...t.reverse(),...i.reverse()],a=e.getZoom()<1?1:e.getZoom();return this._imageryProviders.filter(({coverageAreas:s})=>s.some(({bbox:h,zoomMin:p,zoomMax:f})=>j8(h,r)&&a>=p&&a<=f)).map(s=>s.attribution).join(", ")}}function _L(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(t),!0).forEach(function(i){yG(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_L(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function yG(n,e,t){return(e=vG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vG(n){var e=xG(n,"string");return typeof e=="symbol"?e:e+""}function xG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class bG extends cu{constructor(e){super(e),this.setImages(),this.createSource(),this.createLayers()}createLayers(){const e=this.getId(),{style:t={},buffer:i,bufferStyle:r,label:a,labelStyle:o}=this.options,{radius:s,color:h,strokeColor:p,weight:f,opacityFactor:y}=t,g=!0;i&&(this.addLayer(iS(fw({id:e},r))),this.addLayer(rS(fw({id:e},r)))),this.addLayer(zf({id:e,color:h}),{isInteractive:g,opacityFactor:y}),this.addLayer(Ff({id:e,color:p,width:f})),this.addLayer(x9({id:e,color:p||h,width:f}),{isInteractive:g}),this.addLayer($f({id:e,color:h,strokeColor:p,width:f,radius:s}),{isInteractive:g}),this.addLayer(JP({id:e}),{isInteractive:g}),a&&this.addLayer(M0(fw({id:e,label:a},o)))}}function gw(n,e,t){return(e=_G(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _G(n){var e=wG(n,"string");return typeof e=="symbol"?e:e+""}function wG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class TG extends Qs.Evented{constructor(e){super(),gw(this,"onClick",t=>{const{feature:i}=t;if(i){const{id:r}=i.layer,a=this._layers.find(o=>o.hasLayerId(r));a&&a.fire("click",t)}}),gw(this,"onContextMenu",t=>{const{feature:i}=t;if(i){const{id:r}=i.layer,a=this._layers.find(o=>o.hasLayerId(r));a&&a.fire("contextmenu",t)}}),gw(this,"onMouseMove",(t,i)=>{if(i){const{id:r}=i.layer,a=this._layers.find(o=>o.hasLayerId(r));a&&a.onMouseMove(t,i)}}),this.options=e||{},this._layers=[],this._layerConfigs=[],this._isVisible=!0}createLayer(){this._layerConfigs.forEach(e=>this._layers.push(this._map.createLayer(e))),this.options.opacity&&this.setOpacity(this.options.opacity)}addTo(e){this._map=e,this._layers.length||this.createLayer(),this._layers.forEach(t=>t.addTo(e)),this.on("contextmenu",this.onContextMenu)}removeFrom(e){this._layers.forEach(t=>t.removeFrom(e)),this.off("contextmenu",this.onContextMenu)}addLayer(e){this._layerConfigs.push(e)}isOnMap(){return this._layers.some(e=>e.isOnMap())}isInteractive(){return this._layers.some(e=>e.isInteractive())}setIndex(e=0){this.options.index=e,this._layers.forEach(t=>t.setIndex(e))}getIndex(){return this.options.index||0}getBounds(){return FP(this._layers)}getInteractiveIds(){return[].concat(...this._layers.map(e=>e.getInteractiveIds()))}getFeaturesById(e){return this._layers.map(t=>t.getFeaturesById(e)).flat()}setOpacity(e){this._layers.forEach(t=>t.setOpacity(e))}setVisibility(e){this._layers.forEach(t=>t.setVisibility(e)),this._isVisible=e}isVisible(){return this._isVisible}move(){this._layers.forEach(e=>e.move())}hasLayerId(e){return this._layers.some(t=>t.getLayers().some(i=>i.id===e))}}const yw={vectorStyle:Db,tileLayer:Qk,wmsLayer:Qk,choropleth:T9,boundary:k9,markers:A9,events:O9,clientCluster:c8,donutCluster:$8,serverCluster:V8,earthEngine:dG,bingLayer:gG,geoJson:bG,group:TG},SG=130;class CG extends Qs.AttributionControl{_updateAttributions(){super._updateAttributions(),this._isLongAttribution()&&(this._compact===void 0&&(this._compact=!0,this._updateCompact()),this._updateCompactMinimize())}_isLongAttribution(){const e=this._container.clientWidth,t=this._map.getContainer().clientWidth;return e&&t&&e>t-SG}}function wL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function TL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(t),!0).forEach(function(i){EG(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function EG(n,e,t){return(e=kG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kG(n){var e=LG(n,"string");return typeof e=="symbol"?e:e+""}function LG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const NG={visualizePitch:!0};class IG extends Qs.NavigationControl{constructor(e={}){super(TL(TL({},NG),e))}}var AG=MG,PG=Object.prototype.hasOwnProperty;function MG(){for(var n={},e=0;e<arguments.length;e++){var t=arguments[e];for(var i in t)PG.call(t,i)&&(n[i]=t[i])}return n}var xM={exports:{}};(function(n,e){(function(){var t={};n.exports=t,t.simpleFilter=function(i,r){return r.filter(function(a){return t.test(i,a)})},t.test=function(i,r){return t.match(i,r)!==null},t.match=function(i,r,a){a=a||{};var o=0,s=[],h=r.length,p=0,f=0,y=a.pre||"",g=a.post||"",_=a.caseSensitive&&r||r.toLowerCase(),b;i=a.caseSensitive&&i||i.toLowerCase();for(var T=0;T<h;T++)b=r[T],_[T]===i[o]?(b=y+b+g,o+=1,f+=1+f):f=0,p+=f,s[s.length]=b;return o===i.length?(p=_===i?1/0:p,{rendered:s.join(""),score:p}):null},t.filter=function(i,r,a){return!r||r.length===0?[]:typeof i!="string"?r:(a=a||{},r.reduce(function(o,s,h,p){var f=s;a.extract&&(f=a.extract(s));var y=t.match(i,f,a);return y!=null&&(o[o.length]={string:y.rendered,score:y.score,index:h,original:s}),o},[]).sort(function(o,s){var h=s.score-o.score;return h||o.index-s.index}))}})()})(xM);var DG=xM.exports,Ho=function(n){return this.component=n,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,n.el.parentNode.insertBefore(this.wrapper,n.el.nextSibling),this};Ho.prototype.show=function(){this.element.style.display="block"};Ho.prototype.hide=function(){this.element.style.display="none"};Ho.prototype.add=function(n){this.items.push(n)};Ho.prototype.clear=function(){this.items=[],this.active=0};Ho.prototype.isEmpty=function(){return!this.items.length};Ho.prototype.isVisible=function(){return this.element.style.display==="block"};Ho.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var n=0;n<this.items.length;n++)this.drawItem(this.items[n],this.active===n);this.show()};Ho.prototype.drawItem=function(n,e){var t=document.createElement("li"),i=document.createElement("a");e&&(t.className+=" active"),i.innerHTML=n.string,t.appendChild(i),this.element.appendChild(t),t.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),t.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,n)}).bind(this))};Ho.prototype.handleMouseUp=function(n){this.selectingListItem=!1,this.component.value(n.original),this.clear(),this.draw()};Ho.prototype.move=function(n){this.active=n,this.draw()};Ho.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};Ho.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};Ho.prototype.drawError=function(n){var e=document.createElement("li");e.innerHTML=n,this.element.appendChild(e),this.show()};var OG=Ho,RG=AG,$G=DG,zG=OG,io=function(n,e,t){return t=t||{},this.options=RG({minLength:2,limit:5,filter:!0,hideOnBlur:!0},t),this.el=n,this.data=e||[],this.list=new zG(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(i){this.handleKeyUp(i.keyCode)}).bind(this),!1),this.el.addEventListener("keydown",(function(i){this.handleKeyDown(i)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(i){this.handlePaste(i)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};io.prototype.handleKeyUp=function(n){n===40||n===38||n===27||n===13||n===9||this.handleInputChange(this.el.value)};io.prototype.handleKeyDown=function(n){switch(n.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&n.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};io.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};io.prototype.handlePaste=function(n){if(n.clipboardData)this.handleInputChange(n.clipboardData.getData("Text"));else{var e=this;setTimeout(function(){e.handleInputChange(n.target.value)},100)}};io.prototype.handleInputChange=function(n){if(this.query=this.normalize(n),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(e){for(var t=0;t<e.length&&(this.list.add(e[t]),t!==this.options.limit-1);t++);this.list.draw()}).bind(this))};io.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};io.prototype.update=function(n){this.data=n,this.handleKeyUp()};io.prototype.clear=function(){this.data=[],this.list.clear()};io.prototype.normalize=function(n){return n=n.toLowerCase(),n};io.prototype.match=function(n,e){return n.indexOf(e)>-1};io.prototype.value=function(n){if(this.selected=n,this.el.value=this.getItemValue(n),document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.el.dispatchEvent(e)}else this.el.fireEvent("onchange")};io.prototype.getCandidates=function(n){var e={pre:"<strong>",post:"</strong>",extract:(function(i){return this.getItemValue(i)}).bind(this)},t;this.options.filter?(t=$G.filter(this.query,this.data,e),t=t.map((function(i){return{original:i.original,string:this.render(i.original,i.string)}}).bind(this))):t=this.data.map((function(i){var r=this.render(i);return{original:i,string:r}}).bind(this)),n(t)};io.prototype.getItemValue=function(n){return n};io.prototype.render=function(n,e){if(e)return e;for(var t=n.original?this.getItemValue(n.original):this.getItemValue(n),i=this.normalize(t),r=i.lastIndexOf(this.query);r>-1;){var a=r+this.query.length;t=t.slice(0,r)+"<strong>"+t.slice(r,a)+"</strong>"+t.slice(a),r=i.slice(0,r).lastIndexOf(this.query)}return t};io.prototype.renderError=function(n){this.list.drawError(n)};var FG=io,bM=FG,BG=bM;typeof window<"u"&&(window.Suggestions=bM);const jG=Kl(BG);function SL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function CL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(t),!0).forEach(function(i){wd(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wd(n,e,t){return(e=UG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UG(n){var e=GG(n,"string");return typeof e=="symbol"?e:e+""}function GG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const YG={maxZoom:15,limit:5};class VG{constructor(e){wd(this,"_onKeyDown",t=>setTimeout(()=>{const{selected:i}=this._typeahead;i&&this._inputEl.value!==i.name&&(this._inputEl.addEventListener("keydown",this._onKeyDown),this._typeahead.selected=null,this._typeahead.clear(),this._popup.remove())},100)),wd(this,"_onChange",()=>{const{value:t}=this._inputEl,{selected:i}=this._typeahead,{maxZoom:r}=this.options;if(t)if(!i)this._geocode(t);else{const{bounds:a,lng:o,lat:s,name:h}=i;this._map.fitBounds(a,{maxZoom:r}),this._popup.setLngLat([o,s]).setText(h),this._popup.isOpen()||this._popup.addTo(this._map),this._inputEl.addEventListener("keydown",this._onKeyDown)}}),wd(this,"_clear",t=>{t&&t.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._popup.remove(),this._onChange(),this._inputEl.focus(),this._clearEl.style.display="none"}),wd(this,"_showSuggestions",()=>{const{list:t,selected:i}=this._typeahead;i&&t.draw()}),wd(this,"_toggleSearchControl",()=>{this._container.classList.toggle("dhis2-map-ctrl-search-collapsed")}),wd(this,"_collapseSearchControl",()=>{this._toggleSearchControl(),this._container.addEventListener("click",this._expandSearchControl)}),wd(this,"_expandSearchControl",()=>{this._toggleSearchControl(),this._container.removeEventListener("click",this._expandSearchControl),this._map.once("click",this._collapseSearchControl),this._inputEl.focus()}),this.options=CL(CL({},YG),e),this._popup=new Qs.Popup({closeOnClick:!1}),this._collapsed=!0}geocodeRequest(e,t,i){const r={format:"json",q:e,limit:i.limit},a=new URLSearchParams(Object.entries(r));return fetch(`https://nominatim.openstreetmap.org/search?${a}`).then(o=>o.ok?o.json():[]).then(o=>o.map(s=>{const{display_name:h,lon:p,lat:f,boundingbox:y}=s,[g,_,b,T]=y;return{name:h,lat:f,lng:p,bounds:[[b,g],[T,_]]}}))}onAdd(e){this._map=e;const t=e._getUIString("SearchControl.SearchForPlace"),i=this._container=document.createElement("div");i.className="maplibregl-ctrl dhis2-map-ctrl-search";const r=document.createElement("span");r.className="geocoder-icon geocoder-icon-search",r.title=t,r.setAttribute("aria-label",t),this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.placeholder=t,this._inputEl.addEventListener("change",this._onChange),this._inputEl.addEventListener("click",this._showSuggestions);const a=document.createElement("div");return a.classList.add("geocoder-pin-right"),this._clearEl=document.createElement("button"),this._clearEl.className="geocoder-icon geocoder-icon-close",this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this._clear),this._loadingEl=document.createElement("span"),this._loadingEl.className="geocoder-icon geocoder-icon-loading",a.appendChild(this._clearEl),a.appendChild(this._loadingEl),i.appendChild(r),i.appendChild(this._inputEl),i.appendChild(a),this._typeahead=new jG(this._inputEl,[],{filter:!1,limit:this.options.limit}),this._typeahead.getItemValue=o=>o.name,this._collapseSearchControl(),i}onRemove(){return this._container.parentNode.removeChild(this._container),this._map=null,this}_geocode(e){this._loadingEl.style.display="block",this.geocodeRequest(e,this._map.getBounds(),this.options).then(t=>{let i=t;this._loadingEl.style.display="none",i.length?(i=t.slice(0,this.options.limit),this._clearEl.style.display="block"):(this._clearEl.style.display="none",this._typeahead.selected=null),this._typeahead.update(t),i.length===1&&this._typeahead.value(i[0])}).catch(()=>this._loadingEl.style.display="none")}}function qG(n,e,t){t===void 0&&(t={});var i=Tb(n),r=Tb(e),a=Zh(r[1]-i[1]),o=Zh(r[0]-i[0]),s=Zh(i[1]),h=Zh(r[1]),p=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(o/2),2)*Math.cos(s)*Math.cos(h);return XA(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)),t.units)}function EL(n,e){return e===void 0&&(e={}),C6(n,function(t,i){var r=i.geometry.coordinates;return t+qG(r[0],r[1],e)},0)}const Ll=(n,e,t,i)=>{const r=document.createElement(n);return e&&(r.className=e),t&&(r.innerText=t),i&&i.appendChild(r),r};function Pc(n,e,t){return(e=WG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WG(n){var e=HG(n,"string");return typeof e=="symbol"?e:e+""}function HG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class XG{constructor(){Pc(this,"_setupMap",()=>{const e=this._map.getMapGL(),t="#ffa500";this._geojson=jo(),this._linestring={type:"Feature",geometry:{type:"LineString",coordinates:[]}},this._polygon={type:"Feature",geometry:{type:"Polygon",coordinates:[]}},e.addSource("measure",{type:"geojson",data:this._geojson}),e.addLayer({id:"measure-points",type:"circle",source:"measure",paint:{"circle-radius":5,"circle-color":t},filter:["in","$type","Point"]}),e.addLayer({id:"measure-line",type:"line",source:"measure",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":t,"line-width":2.5},filter:["in","$type","LineString"]}),e.addLayer({id:"measure-polygon",type:"fill",source:"measure",paint:{"fill-color":t,"fill-opacity":.1},filter:["in","$type","Polygon"]}),e.on("click",this._onMapClick),e.on("mousemove",this._onMouseMove),this._map.on("layersort",this._onLayerSort)}),Pc(this,"_clearMap",()=>{const e=this._map.getMapGL();e.getLayer("measure-points")&&e.removeLayer("measure-points"),e.getLayer("measure-line")&&e.removeLayer("measure-line"),e.getLayer("measure-polygon")&&e.removeLayer("measure-polygon"),e.getSource("measure")&&e.removeSource("measure"),e.off("click",this._onMapClick),e.off("mousemove",this._onMouseMove),e.getCanvas().style.cursor="grab",this._geojson=null,this._linestring=null,this._polygon=null,this._isActive=!1}),Pc(this,"_startMeasure",()=>{const e=this._map.getMapGL(),t=this.locale;this._button.classList.add("active"),this._geojson||this._setupMapWhenReady(),this._distanceContainer=Ll("div","dhis2-map-ctrl-measure-result","",e.getContainer()),Ll("div","dhis2-map-ctrl-measure-header",t("MeasureControl.MeasureDistancesAndAreas"),this._distanceContainer),this._distanceText=Ll("p","",t("MeasureControl.ClickStartMeasurement"),this._distanceContainer),this._actionsEl=Ll("div","dhis2-map-ctrl-measure-actions","",this._distanceContainer),this._cancelEl=Ll("span","dhis2-map-ctrl-measure-cancel",t("MeasureControl.Cancel"),this._actionsEl),this._cancelEl.addEventListener("click",this._endMeasure),this._finishEl=Ll("span","dhis2-map-ctrl-measure-finish",t("MeasureControl.FinishMeasurement"),this._actionsEl),this._finishEl.addEventListener("click",this._finishMeasure)}),Pc(this,"_finishMeasure",()=>{const e=this._map.getMapGL(),t=this._geojson,i=t.features.filter(o=>o.geometry.type==="Point"),r=this.locale,a=this._numFormat;if(i.length<2)return this._endMeasure();if(i.length>2){const o=t.features.findIndex(f=>f===this._linestring);this._linestring.geometry.coordinates=[...i.map(f=>f.geometry.coordinates),i[0].geometry.coordinates],t.features[o]=this._linestring,e.getSource("measure").setData(t);const s=EL(this._linestring),h=xL(s),p=`${r("MeasureControl.Perimeter")}: ${a(s)} ${r("MeasureControl.Kilometers")} (${a(h)} ${r("MeasureControl.Miles")})`;this._distanceEl.textContent=p}this._actionsEl.innerText="",this._centerEl=Ll("span","dhis2-map-ctrl-measure-center",r(`MeasureControl.CenterMapOn${i.length===2?"Line":"Area"}`),this._actionsEl),this._centerEl.addEventListener("click",this._centerMap),this._deleteEl=Ll("span","dhis2-map-ctrl-measure-delete",r("MeasureControl.Delete"),this._actionsEl),this._deleteEl.addEventListener("click",this._endMeasure),e.off("click",this._onMapClick),e.off("mousemove",this._onMouseMove),e.getCanvas().style.cursor="grab"}),Pc(this,"_endMeasure",()=>{this._button.classList.remove("active"),this._clearMap(),this._distanceContainer&&(this._finishEl.removeEventListener("click",this._endMeasure),this._map.getMapGL().getContainer().removeChild(this._distanceContainer),this._distanceContainer=null)}),Pc(this,"_centerMap",()=>{const[e,t,i,r]=wy(this._geojson);this._map.getMapGL().fitBounds([[e,t],[i,r]],{padding:100})}),Pc(this,"_onButtonClick",()=>{this._isActive=!this._isActive,this._isActive?this._startMeasure():this._endMeasure()}),Pc(this,"_onMapClick",e=>{const t=this._map.getMapGL(),i=this._geojson,r=this.locale,a=this._numFormat;let o=i.features.filter(h=>h.geometry.type==="Point");const s=t.queryRenderedFeatures(e.point,{layers:["measure-points"]})[0];if(s){const{id:h}=s.properties;o=o.filter(p=>p.properties.id!==h)}else o=[...o,{type:"Feature",geometry:{type:"Point",coordinates:[e.lngLat.lng,e.lngLat.lat]},properties:{id:String(new Date().getTime())}}];if(i.features=[...o],o.length===1)this._distanceText.innerText=r("MeasureControl.ClickNextPosition");else{this._linestring.geometry.coordinates=o.map(y=>y.geometry.coordinates),i.features.push(this._linestring);const h=EL(this._linestring),p=xL(h),f=`${r("MeasureControl.Distance")}: ${a(h)} ${r("MeasureControl.Kilometers")} (${a(p)} ${r("MeasureControl.Miles")})`;this._distanceText.innerText="",this._distanceEl=Ll("div","dhis2-map-ctrl-measure-distance",f,this._distanceText)}if(o.length>2){this._polygon.geometry.coordinates=[[...o.map(g=>g.geometry.coordinates),o[0].geometry.coordinates]],i.features.push(this._polygon);const p=XP(this._polygon)/1e4,f=p*2.47105381,y=`${r("MeasureControl.Area")}: ${a(p)} ${r("MeasureControl.Hectares")} (${a(f)} ${r("MeasureControl.Acres")})`;Ll("div","dhis2-map-ctrl-measure-area",y,this._distanceText)}t.getSource("measure").setData(i)}),Pc(this,"_onMouseMove",e=>{const t=this._map.getMapGL(),i=t.queryRenderedFeatures(e.point,{layers:["measure-points"]});t.getCanvas().style.cursor=i.length?"pointer":"crosshair"}),Pc(this,"_onLayerSort",()=>{const e=this._map.getMapGL();["measure-points","measure-line","measure-polygon"].forEach(i=>{e.getLayer(i)&&e.moveLayer(i)})}),this._isActive=!1,this._type="measure",this._numFormat=vM(2)}addTo(e){this._map=e;const t=e.getMapGL();this.locale=t._getUIString.bind(t),t.addControl(this)}onAdd(){return this._container=Ll("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._container}onRemove(){this._clearMap(),this._button.removeEventListener("click",this._onButtonClick),this._container.parentNode.removeChild(this._container),this._map=null}_setupUI(){const e=this.locale("MeasureControl.MeasureDistancesAndAreas");this._button=Ll("button","maplibregl-ctrl-icon dhis2-map-ctrl-measure","",this._container),this._button.type="button",this._button.setAttribute("title",e),this._button.setAttribute("aria-label",e),this._button.addEventListener("click",this._onButtonClick)}_setupMapWhenReady(){const e=this._map.getMapGL();e.isStyleLoaded()?this._setupMap():e.once("styledata",this._setupMap)}}function kL(n,e,t){return(e=ZG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZG(n){var e=KG(n,"string");return typeof e=="symbol"?e:e+""}function KG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class QG{constructor(e){kL(this,"onClick",()=>{const t=this._map.getLayersBounds();t&&this._map.fitBounds(t)}),kL(this,"onLayerChange",()=>{this._container&&(this._container.style.display=this._map.getLayersBounds()?"block":"none")}),this.options=e}getDefaultPosition(){return"top-right"}addTo(e){this._map=e,e.getMapGL().addControl(this),e.on("layeradd",this.onLayerChange),e.on("layerremove",this.onLayerChange)}onAdd(){const t=this._map.getMapGL()._getUIString("FitBoundsControl.ZoomToContent"),i=document.createElement("div");i.className="maplibregl-ctrl maplibregl-ctrl-group";const r=document.createElement("div");return r.className="dhis2-map-ctrl-fitbounds",r.type="button",r.title=t,r.setAttribute("aria-label",t),i.appendChild(r),i.addEventListener("click",this.onClick),this._container=i,i}onRemove(){this._map.on("layeradd",this.onLayerChange),this._map.on("layerremove",this.onLayerChange),this._container.removeEventListener("click",this.onClick),this._container.parentNode.removeChild(this._container),delete this._container,delete this._button,delete this._map,delete this._mapgl}}class JG extends Qs.FullscreenControl{constructor(e={}){super(e),this.options=e}addTo(e){this._eventMap=e,this._map=e.getMapGL(),this._map.addControl(this)}onAdd(e){const{isSplitView:t}=this.options;return this._container=e.getContainer().parentNode.parentNode,t&&(this._container=this._container.parentNode),super.onAdd(e)}_onClickFullscreen(){this._eventMap.fire("fullscreenchange",{isFullscreen:!this._isFullscreen()}),super._onClickFullscreen()}_changeIcon(){this._map.resize(),super._changeIcon()}}const vw={zoom:IG,attribution:CG,scale:Qs.ScaleControl,fullscreen:JG,search:VG,measure:XG,fitBounds:QG},e7={"SearchControl.SearchForPlace":"Search for place or address","FitBoundsControl.ZoomToContent":"Zoom to content","Label.NoData":"No data","MeasureControl.MeasureDistancesAndAreas":"Measure distances and areas","MeasureControl.ClickStartMeasurement":"Click where you want to start the measurement","MeasureControl.ClickNextPosition":"Click the next position","MeasureControl.Cancel":"Cancel","MeasureControl.Delete":"Delete","MeasureControl.FinishMeasurement":"Finish measurement","MeasureControl.CenterMapOnLine":"Center map on line","MeasureControl.CenterMapOnArea":"Center map on area","MeasureControl.Distance":"Distance","MeasureControl.Perimeter":"Perimeter","MeasureControl.Area":"Area","MeasureControl.Kilometers":"km","MeasureControl.Miles":"mi","MeasureControl.Hectares":"ha","MeasureControl.Acres":"acres"};class t7{constructor(){this.state={panStart:{x:0,y:0},scale:1},this.touchStart=this.touchStart.bind(this),this.touchMove=this.touchMove.bind(this)}touchStart(e){if(e.touches.length!==2)return;e.stopImmediatePropagation(),e.preventDefault();let t=0,i=0;[].forEach.call(e.touches,r=>{t+=r.screenX,i+=r.screenY}),this.state.panStart.x=t/e.touches.length,this.state.panStart.y=i/e.touches.length}touchMove(e){if(e.touches.length!==2)return;this.state.scale===e.scale&&(e.stopImmediatePropagation(),e.preventDefault()),this.state.scale=e.scale;let t=0,i=0;[].forEach.call(e.touches,o=>{t+=o.screenX,i+=o.screenY});const r=t/e.touches.length-this.state.panStart.x,a=i/e.touches.length-this.state.panStart.y;this.state.panStart.x=t/e.touches.length,this.state.panStart.y=i/e.touches.length,this.map.panBy([r/-1,a/-1],{animate:!1})}onAdd(e){this.map=e,this._container=document.createElement("div");const t=e.getContainer();return t.addEventListener("touchstart",this.touchStart,!1),t.addEventListener("touchmove",this.touchMove,!1),"ontouchstart"in document.documentElement&&e.dragPan.disable(),this._container}onRemove(){const e=this.map.getContainer();e.removeEventListener("touchstart",this.touchStart),e.removeEventListener("touchmove",this.touchMove),"ontouchstart"in document.documentElement&&this.map.dragPan.enable(),this.map=void 0}}const n7=(n,e)=>{const t=n.getCenter(),i=n.getZoom(),r=n.getBearing(),a=n.getPitch();e.forEach(o=>o.jumpTo({center:t,zoom:i,bearing:r,pitch:a}))},LL=(()=>{const n={},e={},t=f=>{const y=n[f],g=e[f]=[];y.forEach((_,b)=>{const T=y.filter((E,k)=>k!==b);g[b]=p.bind(null,f,_,T)})},i=(f,y)=>{n[f]||(n[f]=[]);const g=n[f];g.includes(y)||a(f,[...g,y])},r=(f,y)=>{const g=n[f];g&&g.includes(y)&&a(f,g.filter(_=>_!==y))},a=(f,y)=>{h(f),n[f]=y,t(f),s(f)},o=(f,y)=>{(n[f]||[]).forEach((g,_)=>g[y?"on":"off"]("move",e[f][_]))},s=f=>o(f,!0),h=f=>o(f,!1),p=(f,y,g)=>{h(f),n7(y,g),s(f)};return{add:i,remove:r}})();function NL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function IL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(t),!0).forEach(function(i){_M(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function _M(n,e,t){return(e=i7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i7(n){var e=r7(n,"string");return typeof e=="symbol"?e:e+""}function r7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const a7={maxWidth:"auto",className:"dhis2-map-popup",closeOnClick:!1};class s7 extends Qs.Popup{constructor(e){super(IL(IL({},a7),e)),_M(this,"onMapClick",t=>{this._mapInstance.getEventFeature(t)||this.remove()})}addTo(e){const t=e.getMapGL();super.addTo(t),this._mapInstance||(t.on("click",this.onMapClick),this._mapInstance=e)}clear(){return this._onCloseFunc&&(this.off("close",this._onCloseFunc),this._onCloseFunc=null),this}onClose(e){return typeof e=="function"&&(this._onCloseFunc=e,this.on("close",e)),this}}function AL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function PL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(t),!0).forEach(function(i){o7(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function o7(n,e,t){return(e=l7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l7(n){var e=c7(n,"string");return typeof e=="symbol"?e:e+""}function c7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const u7={closeButton:!1,closeOnClick:!1,anchor:"left",offset:[10,0],className:"dhis2-map-label"};class d7 extends Qs.Popup{constructor(e){super(PL(PL({},u7),e))}_update(e){const t=this._map;if(t){const r=(this._trackPointer&&e?e:t.project(this._lngLat)).x<t.getContainer().offsetWidth/2?"left":"right";this.options.anchor=r,this.options.offset[0]=r==="left"?10:-10}super._update(e)}}const h7=["locale","glyphs"];function ML(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function p7(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(t),!0).forEach(function(i){Iu(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ML(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function m7(n,e){if(n==null)return{};var t,i,r=f7(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)t=a[i],e.indexOf(t)>=0||{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function f7(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Iu(n,e,t){return(e=g7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g7(n){var e=y7(n,"string");return typeof e=="symbol"?e:e+""}function y7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const DL="dhis2-map-rendered",v7=500;class x7 extends Qs.Evented{static hasLayerSupport(e){return!!yw[e]}static hasControlSupport(e){return!!vw[e]}constructor(e,t={}){super(),Iu(this,"onLoad",()=>{this.fire("ready",this)}),Iu(this,"onClick",s=>{const h=this._createClickEvent(s),{feature:p}=h;if(p){const f=this.getLayerFromId(p.layer.id);f&&f.onClick(h)}this.fire("click",h)}),Iu(this,"onContextMenu",s=>{const h=this._createClickEvent(s);h.feature?this.getLayerFromId(h.feature.layer.id).fire("contextmenu",h):this.fire("contextmenu",h)}),Iu(this,"onMouseMove",s=>{var f;const h=this.getEventFeature(s);let p;h?(p=this.getLayerFromId(h.layer.id),p&&p.onMouseMove(s,h)):this.hideLabel(),this.setHoverState(p&&((f=h==null?void 0:h.properties)!=null&&f.id)?p.getFeaturesById(h.properties.id):null),this.getMapGL().getCanvas().style.cursor=h?"pointer":""}),Iu(this,"onRender",()=>{this._removeClass(DL),this._clearRenderTimeout()}),Iu(this,"onIdle",()=>{this.getLayers().some(s=>s._isLoading)||this._setRenderTimeout()}),Iu(this,"onMouseOut",()=>this.hideLabel()),Iu(this,"onError",s=>{if(s&&s.error&&s.error.message&&console&&console.error){const{message:h}=s.error;console.error(h==="Failed to fetch"?"Failed to fetch map data, are you offline?":h)}});const{locale:i,glyphs:r}=t,a=m7(t,h7),o=new Qs.Map(p7({container:e,style:qP({glyphs:r}),maxZoom:18,preserveDrawingBuffer:!0,attributionControl:!1,locale:e7,transformRequest:QU},a));this._mapgl=o,this._glyphs=r,this._renderTimeout=null,i&&Object.keys(o._locale).forEach(s=>{const h=o._locale[s];i[h]&&(o._locale[s]=i[h])}),o.on("render",this.onRender),o.on("idle",this.onIdle),o.on("load",this.onLoad),o.on("click",this.onClick),o.on("contextmenu",this.onContextMenu),o.on("mousemove",this.onMouseMove),o.on("mouseout",this.onMouseOut),o.on("error",this.onError),o.on("data",this._clearRenderTimeout),o.on("dataloading",this._clearRenderTimeout),this._layers=[],this._controls={},t.attributionControl!==!1&&this.addControl({type:"attribution"})}fitBounds(e,t){e&&this._mapgl.fitBounds(e,t||{padding:10,duration:0})}fitWorld(){this.fitBounds([[-180,-90],[180,90]])}setView(e,t){this._mapgl.setCenter(e),this._mapgl.setZoom(t)}getContainer(){return this._mapgl.getContainer()}getMapGL(){return this._mapgl}async addLayer(e){this._layers.push(e),e.isOnMap()||(await e.addTo(this),this.fire("layeradd",this._layers),this.hasLayer(e)||this.removeLayer(e)),this.orderOverlays()}async removeLayer(e){this._layers=this._layers.filter(t=>t!==e),await e.removeFrom(this),this.fire("layerremove",this._layers)}orderOverlays(){const e=this.getLayers(),t=this.getBeforeLayerId();for(let i=v9;i<e.length;i++){const r=e[i];r.isOnMap()&&r.move(t)}this.fire("layersort")}remove(){const e=this._mapgl;e.off("render",this.onRender),e.off("idle",this.onIdle),e.off("load",this.onLoad),e.off("click",this.onClick),e.off("contextmenu",this.onContextMenu),e.off("mousemove",this.onMouseMove),e.off("mouseout",this.onMouseOut),e.off("error",this.onError),e.off("data",this._clearRenderTimeout),e.off("dataloading",this._clearRenderTimeout),e.remove(),this._mapgl=null}hasLayer(e){return!!this._layers.find(t=>t===e)}addControl(e){const{type:t}=e;if(vw[t]){const i=new vw[t](e);i.addTo?i.addTo(this):this._mapgl.addControl(i),this._controls[t]=i}}removeControl(e){this._mapgl.removeControl(e)}createLayer(e){return yw[e.type]?new yw[e.type](e):(console.log("Unknown layer type",e.type),new cu)}resize(){this._mapgl.resize()}sync(e){LL.add(e,this._mapgl)}unsync(e){LL.remove(e,this._mapgl)}setHoverState(e){vL(e)!==vL(this._hoverFeatures)&&(this._hoverFeatures&&(this._hoverFeatures.forEach(t=>this.setFeatureState(t,{hover:!1})),this._hoverFeatures=null),Array.isArray(e)&&(this._hoverFeatures=e,e.forEach(t=>this.setFeatureState(t,{hover:!0}))))}setFeatureState(e={},t={}){const i=this.getMapGL(),{source:r}=e;r&&i.getSource(r)&&i.setFeatureState(e,t)}getZoom(){return this.getMapGL().getZoom()}getEventFeature(e){const t=this.getLayers().filter(r=>r.isInteractive()).map(r=>r.getInteractiveIds()).reduce((r,a)=>[...r,...a],[]);let i;return t.length&&(i=this._mapgl.queryRenderedFeatures(e.point,{layers:t})[0]),i}getLayerFromId(e){return this._layers.find(t=>t.hasLayerId(e))}getLayerAtIndex(e){return this._layers[e]}getLayers(){return this._layers.sort((e,t)=>e.getIndex()-t.getIndex()),this._layers}getLayersBounds(){return FP(this.getLayers())}getControlContainer(e){const t=this._controls[e];return t?t._controlContainer||t._container:document.createElement("div")}setBeforeLayerId(e){this._beforeId=e}getBeforeLayerId(){return this._beforeId&&this.getMapGL().getStyle().layers.find(e=>e.id===this._beforeId)?this._beforeId:void 0}styleIsLoaded(){return!this._styleIsLoading}openPopup(e,t,i){this._popup||(this._popup=new s7),this._popup.clear(),this._popup.setLngLat(t).setDOMContent(e).addTo(this),this._popup.onClose(i)}closePopup(){this._popup&&this._popup.remove()}showLabel(e,t){this._label||(this._label=new d7),this._label.setText(e).setLngLat(t),this._label.isOpen()||this._label.addTo(this._mapgl)}hideLabel(){this._label&&this._label.remove()}toggleScrollZoom(e){this.getMapGL().scrollZoom[e?"enable":"disable"]()}toggleMultiTouch(e){const t=this.getMapGL();this._multiTouch||(this._multiTouch=new t7);const i=t.hasControl(this._multiTouch);e&&!i?t.addControl(this._multiTouch):!e&&i&&t.removeControl(this._multiTouch)}_updateAttributions(){this._controls.attribution&&this._controls.attribution._updateAttributions()}_createClickEvent(e){const{lngLat:t}=e,i="click",r=[t.lng,t.lat],{x:a,y:o}=this.getMapGL().project(t),s=[a,o],h=this.getEventFeature(e);return{type:i,coordinates:r,position:s,feature:h}}_setRenderTimeout(){this._clearRenderTimeout(),this._renderTimeout=setTimeout(()=>{this._addClass(DL),this._renderTimeout=null},v7)}_clearRenderTimeout(){this._renderTimeout&&(clearTimeout(this._renderTimeout),this._renderTimeout=null)}_addClass(e){if(this._mapgl){const{classList:t}=this._mapgl._container;t.contains(e)||t.add(e)}}_removeClass(e){if(this._mapgl){const{classList:t}=this._mapgl._container;t.contains(e)&&t.remove(e)}}}const b7="_mapItem_1sob4_1",_7={mapItem:b7},lS=We.createContext(null),w7=({syncId:n,children:e})=>{const[t,i]=We.useState(null),r=We.useRef(null);return We.useEffect(()=>{const a=new x7(r.current);return a.once("ready",()=>i(a)),a.sync(n),a.resize(),()=>{a.remove()}},[r,n]),Se.createElement(lS.Provider,{value:t},Se.createElement("div",{ref:r,className:_7.mapItem},t&&e))},T7=({period:n,prediction:e,geojson:t,dataElement:i="median",bins:r,colors:a})=>{const o=We.useContext(lS);return We.useEffect(()=>{if(t.hasOwnProperty("features")){const h={type:"choropleth",data:t.features.map(p=>{var _;const f=(_=e.dataValues.find(b=>b.period===n&&b.orgUnit===p.id&&b.dataElement===i))==null?void 0:_.value,y=r.findIndex(b=>f>=b.startValue&&f<=b.endValue),g=a[y];return{...p,properties:{...p.properties,value:f||"No value",color:g}}}),opacity:.8,hoverLabel:"{name} ({value})"};o.addLayer(o.createLayer(h)),o.fitBounds(o.getLayersBounds())}},[o,n,e,i,t,r]),null},S7="_legend_1q9mv_1",C7="_legendSymbols_1q9mv_6",E7="_legendTitle_1q9mv_12",k7="_classItem_1q9mv_18",L7="_classSymbol_1q9mv_25",N7="_classLabel_1q9mv_31",km={legend:S7,legendSymbols:C7,legendTitle:E7,classItem:k7,classSymbol:L7,classLabel:N7},I7=({title:n,bins:e,colors:t})=>(console.log("Legend:",e,t),Se.createElement("div",{className:km.legend},Se.createElement("br",null),Se.createElement("div",{className:km.legendTitle},n),Se.createElement("div",{className:km.legendSymbols},e.map((i,r)=>Se.createElement("div",{className:km.classItem,key:r},Se.createElement("span",{className:km.classSymbol,style:{backgroundColor:t[r]}}),Se.createElement("span",{className:km.classLabel},i.startValue," - ",i.endValue)))))),A7=()=>{const n=We.useContext(lS);return We.useEffect(()=>{n.addLayer(n.createLayer({type:"tileLayer",url:"//cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'}))},[n]),null},P7=(n,e,t=5)=>{const i=[],r=(e-n)/t;for(let a=0;a<t;a++){const o=n+a*r,s=a<t-1?o+r:e;i.push({startValue:Math.round(o),endValue:Math.round(s)})}return i},M7=n=>({type:"FeatureCollections",features:n.map(e=>{let t="Point";e.ty===2&&(t="Polygon",e.co.substring(0,4)==="[[[["&&(t="MultiPolygon"));const i={type:t,coordinates:JSON.parse(e.co)};return{type:"Feature",id:e.id,properties:{name:e.na},geometry:i}})}),D7={orgUnits:{resource:"geoFeatures.json",params:({orgUnits:n})=>({ou:"ou:"+n.join(";")})}},O7=n=>{const[e,t]=We.useState(),{loading:i,error:r}=Ao(D7,{variables:{orgUnits:n},onComplete:a=>t(M7(a.orgUnits))});return{orgUnits:e,error:r,loading:i}},R7="_predictionMapGroup_19bp5_1",$7="_predictionMapCard_19bp5_8",OL={predictionMapGroup:R7,predictionMapCard:$7},RL=["#FFFFD4","#FED98E","#FE9929","#D95F0E","#993404"],z7=({data:n,predictionTargetName:e})=>{const t=cA(n.dataValues),{orgUnits:i}=O7(t),r=Jw(n.dataValues),a=n.dataValues.map(p=>p.value),o=Math.min(...a),s=Math.max(...a),h=P7(o,s);return i?Se.createElement("div",null,Se.createElement("h3",null,"Prediction Maps for ",e),Se.createElement("div",{className:OL.predictionMapGroup},r.map((p,f)=>Se.createElement("div",{className:OL.predictionMapCard,key:f},Se.createElement("h4",null,"🕑 ",dt.t(ST(p))),Se.createElement(w7,{key:p,index:f,count:r.length,syncId:"prediction-map"},Se.createElement(A7,null),Se.createElement(T7,{period:p,prediction:n,geojson:i,bins:h,colors:RL}))))),Se.createElement(I7,{title:"Median Prediction for "+e,bins:h,colors:RL})):null},F7=[{path:"/",name:"1 | Train and predict"},{path:"/status",name:"2 | CHAP Core status"},{path:"/results",name:"3 | Results"}],B7=()=>{var h;const{pathname:n}=kf({}),[e,t]=We.useState(!1),{error:i,loading:r,url:a,fetching:o}=Kj("backend-url"),s=_f();return r?Ye.jsx(Ye.Fragment,{}):((!a||((h=URL.parse(a))==null?void 0:h.origin)===s.baseUrl)&&(console.log("Adding credentials to OpenAPI"),mo.WITH_CREDENTIALS=!0),a?(console.log("Setting OpenAPI url to: ",a),mo.BASE=a):mo.BASE=s.baseUrl+"/api/routes/chap/run",Ye.jsxs(Ye.Fragment,{children:[Ye.jsx(lR,{}),Ye.jsx(W2,{spacers:!0,colors:!0}),Ye.jsxs("div",{className:Yg.container,children:[Ye.jsx("div",{className:Yg.sidebar,children:Ye.jsxs(hN,{children:[Ye.jsx("div",{className:Yg.menuTitle,children:"Predictions"}),F7.map(({path:p,name:f})=>Ye.jsx(We.Fragment,{children:Ye.jsx($x,{label:f,href:`#${p}`,active:n===p||p!=="/"&&n.startsWith(p)})},p)),Ye.jsx("div",{className:Yg.menuTitle,children:"Settings"}),Ye.jsx(We.Fragment,{children:Ye.jsx($x,{onClick:()=>t(!0),label:"Edit CHAP-Core url"})},"settings"),Ye.jsx(We.Fragment,{children:Ye.jsx($x,{label:"Routes API settings",href:"#/route-settings",active:n==="route-settings"})},"route-settings"),e&&Ye.jsx(Xj,{existingUrl:a,fetching:o,loading:r,setOpen:t})]})}),Ye.jsxs("main",{className:Yg.content,children:[Ye.jsx(Gj,{}),Ye.jsx(QB,{})]})]})]}))},j7={roots:{resource:"organisationUnits",params:()=>({fields:["id","displayName~rename(name)","path"],userDataViewFallback:!0})}},U7=()=>{var i;const{loading:n,error:e,data:t}=Ao(j7);return{roots:(i=t==null?void 0:t.roots)==null?void 0:i.organisationUnits,error:e,loading:n}},wM=({selectedOrgUnits:n,onChange:e})=>{const{roots:t,error:i}=U7();return We.useEffect(()=>{if(t&&!n){const[r]=t;e({...r,selected:[r.path]})}},[t]),t?Ye.jsxs("div",{children:[Ye.jsx("h3",{children:dt.t("Organisation units")}),Ye.jsx(hI,{roots:t.map(r=>r.id),selected:n==null?void 0:n.map(r=>r.path),onChange:e,initiallyExpanded:t.map(r=>r.path)})]}):i?Ye.jsx("div",{children:i.message}):null};wM.propTypes={orgUnit:de.object,onChange:de.func.isRequired};const G7=({orgUnits:n,setOrgUnits:e})=>{const t=i=>{i.checked?e([...n,i]):e(n.filter(r=>r.path!==i.path))};return Ye.jsx(Ye.Fragment,{children:Ye.jsx(wM,{selectedOrgUnits:n,onChange:i=>{t(i)}})})},Y7=({dataElements:n=[],periodes:e=[],orgUnit:t={}}={})=>({request:{resource:"analytics",params:{paging:!1,dimension:`dx:${n.join(";")},ou:${t},pe:${e.join(";")}`}}}),V7=(n,e)=>n.filter(t=>t[0]===e).map(t=>({ou:t[1],pe:t[2],value:parseFloat(t[3])})),q7=(n,e,t)=>{const i=Array.from(n),r=i.map(([h,p])=>p.selectedDataElementId),{loading:a,error:o,data:s}=Ao(Y7({dataElements:r,periodes:e,orgUnit:t}));return!a&&s&&!o?{data:i.map(([p,f])=>({featureId:p,dhis2Id:f.selectedDataElementId,data:V7((s==null?void 0:s.request).rows,f.selectedDataElementId)})),error:o,loading:a}:{data:s,error:o,loading:a}},W7={geojson:{resource:"organisationUnits.geojson",params:({level:n})=>({level:n})}},H7=n=>({features:n.geojson.features.map(({type:e,id:t,geometry:i,properties:r})=>({type:e,id:t,properties:r,geometry:i})),...n}),X7=(n,e)=>({type:"FeatureCollection",features:n.features.filter(t=>e.some(i=>i.id===t.id||t.properties.parentGraph.includes(i.id)))}),Z7=(n,e)=>{const{data:t,loading:i,error:r}=Ao(W7,{variables:{level:n}});return{data:t&&X7(H7(t),e),error:r,loading:i}},K7="_text_1dsf0_1",Q7={text:K7},J7=({period:n,setStartDownload:e,orgUnitLevel:t,orgUnits:i,modelSpesificSelectedDataElements:r,setErrorMessages:a,setJsonResult:o})=>{const s="LEVEL-"+t.id+";"+i.map(E=>E.id).join(";"),h=E=>E.map(k=>k.id),{data:p,error:f,loading:y}=q7(r,h(n),s),{data:g,error:_,loading:b}=Z7(t.level,i),T=()=>({features:p,orgUnitsGeoJson:g});return We.useEffect(()=>{if(!(y||b)&&(p&&g&&(a([]),o(T())),f||_)){const E=[];f&&E.push({description:JSON.stringify(f),title:"Analytics request failed"}),_&&E.push({description:JSON.stringify(_),title:"OrgUnits request failed"}),a(E),e(k=>({...k,startDownload:!1}))}},[y,b]),Ye.jsx("p",{className:Q7.text,children:"Downloading data.."})},eY="_container_1tzso_1",tY="_errorChap_1tzso_13",nY="_error_1tzso_13",iY="_errorBar_1tzso_30",rY="_errorHeader_1tzso_39",aY="_detailedError_1tzso_46",sY="_buttons_1tzso_52",oY="_pickers_1tzso_58",Lu={container:eY,errorChap:tY,error:nY,errorBar:iY,errorHeader:rY,detailedError:aY,buttons:sY,pickers:oY},lY={levels:{resource:"organisationUnitLevels",params:{fields:["id","displayName~rename(name)","level"],order:"level:asc",paging:!1}}},cY=()=>{var i;const{loading:n,error:e,data:t}=Ao(lY);return{levels:(i=t==null?void 0:t.levels)==null?void 0:i.organisationUnitLevels,error:e,loading:n}},uY="_selectField_sod8a_1",dY={selectField:uY},hY=({orgUnitLevels:n,onChange:e})=>{const{levels:t,loading:i,error:r}=cY(),a=o=>{const s={id:o.selected,level:t.find(h=>h.id===o.selected).level};e(s)};return We.useEffect(()=>{var o;(t==null?void 0:t.length)>2&&!n&&e({id:(o=t[1])==null?void 0:o.id,level:t[1].level})},[t,n,e]),t?Ye.jsx("div",{className:dY.selectField,children:Ye.jsx(Ds,{label:dt.t("Organisation unit level"),helpText:dt.t("Organisation unit level to import data to"),tabIndex:"1",selected:n==null?void 0:n.id,loading:i,error:!!r,onChange:a,children:t.map((o,s)=>Ye.jsx(ju,{value:o.id,label:o.name},o.id))})}):null},pY="الإشعارات",mY="",fY="",gY="إلغاء",yY="جار التحميل",vY="تصنيف",xY="",bY="إزالة",_Y="البحث",wY="حذف",TY="ملف",SY="جديد",CY="حفظ",EY="إغلاق",kY="الإسم",LY="الوصف",NY="إعادة التسمية",IY="خريطة",AY="",PY="تعديل",MY="تحديث",DY="التفسيرات",OY="رد",RY="إلغاء الإعجاب",$Y="إعجاب",zY="مشاركة",FY="معاينة",BY="أي شخص",jY="أخرى",UY="تم الإنشاء",GY="النوع",YY="مفتوح",VY="الخيارات",qY="إخفاء",WY="سنة",HY="الفترة الزمنية",XY="يومي",ZY="أسبوعي",KY="شهري",QY="ربعي",JY="سنوي",eV="اليوم",tV="الأمس",nV="‏‏الأيام",iV="الأسابيع",rV="الأشهر",aV="أرباع السنة",sV="السنوات",oV="",lV="سلسلة",cV="الفئة",uV="عامل التصفية",dV="الأعمدة",hV="الصفوف",pV="",mV="البرنامج",fV="المؤشرات",gV="المؤشر",yV="",vV="صغير",xV="عادي",bV="كبير",_V="الأيسر",wV="المركز",TV="الأيمن",SV="البدء",CV="الوسط",EV="النهاية",kV="القمة",LV="الأسفل",NV="بيانات",IV="مساحة",AV="مخطط شريطي",PV="العمود",MV="مخطط قياس",DV="مخطط خطي",OV="مخطط دائري",RV="مخطط رادار",$V="",zV="الاتجاه",FV="الهدف",BV="الأساس",jV={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"لا يوجد وصف","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"","Viewed {{count}} times_4":"","Viewed {{count}} times_5":"",Notifications:pY,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:mY,"Subscribe to get updates about new interpretations.":"",Subscribe:fY,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:gY,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:yY,"Data elements":"عناصر البيانات","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"نوع البيانات","All types":"جميع الأنواع",Disaggregation:vY,"No data":"لا توجد بيانات","Search by data item name":"","No items selected":"لم يتم تحديد عناصر","Selected Items":"العناصر المحددة","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:xY,"Metric type":"","All metrics":"جميع المقاييس","Move to {{axisName}}":"تحريك إلى {{axisName}}","Add to {{axisName}}":"إضافة إلى {{axisName}}","Not available for {{visualizationType}}":"غير متوفر لـ {{visualizationType}}","Remove Assigned Categories":"إزالة الفئات المعينة","Add Assigned Categories":"إضافة فئات معينة",Remove:bY,"Filter dimensions":"تصفية الأبعاد","Main dimensions":"الأبعاد الرئيسية","Your dimensions":"الأبعاد الخاصة بك","Dimension recommended with selected data":"البعد موصى به مع البيانات المحددة","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:_Y,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:wY,File:TY,New:SY,"Open…":"",Save:CY,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"فتح في هذا التطبيق",Close:EY,"Rename {{fileType}}":"",Name:kY,Description:LY,Rename:NY,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"تقارير عن الأحداث","line list":"",map:IY,visualization:AY,Edit:PY,"Write a reply":"كتابة رد","Post reply":"","Delete failed":"فشل الحذف","Could not update comment":"","Enter comment text":"",Update:MY,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"كتابة تفسير","Post interpretation":"",Interpretations:DY,Reply:OY,"{{count}} replies_0":"{{count}} رد","{{count}} replies_1":"{{count}} رد","{{count}} replies_2":"{{count}} رد","{{count}} replies_3":"{{count}} رد","{{count}} replies_4":"{{count}} رد","{{count}} replies_5":"{{count}} رد","View replies":"",Unlike:RY,Like:$Y,Share:zY,"See interpretation":"","Manage sharing":"إدارة المشاركة","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:FY,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"لم يتم العثور على أي نتائج","Not available offline":"غير متوفر في وضع عدم الإتصال","Created by":"تم الإنشاء بواسطة",Anyone:BY,"Only you":"",Others:jY,"Not supported by this app yet":"","Filter by name":"تصفية بواسطة الاسم",Created:UY,"Last updated":"آخر تحديث",Type:GY,"Clear filters":"إلغاء عوامل التصفية","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:YY,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"إنشاء جديد","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:VY,Hide:qY,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} org units_4":"","{{count}} org units_5":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} levels_4":"","{{count}} levels_5":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","{{count}} groups_4":"","{{count}} groups_5":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"وحدة المنظمة للمستخدم","User sub-units":"وحدات المستخدم الفرعية","User sub-x2-units":"وحدات المستخدم الفرعية من المستوى الثاني","Select a level":"حدد مستوى","Select a group":"حدد مجموعة","Deselect all":"إلغاء تحديد الكل","Period type":"نوع الفترة الزمنية",Year:WY,"Select year":"اختر السنة",Period:HY,"Relative periods":"الفترات الزمنية النسبية","Fixed periods":"فترات زمنية ثابتة","Selected Periods":"الفترات المحددة","No periods selected":"لم يتم تحديد أية فترات زمنية",Daily:XY,Weekly:ZY,"Weekly (Start Wednesday)":"اسبوعياً (يبدأ الأربعاء)","Weekly (Start Thursday)":"اسبوعياً (يبدأ الخميس)","Weekly (Start Saturday)":"اسبوعياً (يبدأ السبت)","Weekly (Start Sunday)":"اسبوعياً (يبدأ الأحد)","Bi-weekly":"كل اسبوعين",Monthly:KY,"Bi-monthly":"كل شهرين",Quarterly:QY,"Six-monthly":"كل ستة-أشهر","Six-monthly April":"نصف سنوي، كل ستة أشهر، ابريل",Yearly:JY,"Financial year (Start November)":"السنة المالية (تبدأ في نوفمبر)","Financial year (Start October)":"السنة المالية (تبدأ في اكتوبر)","Financial year (Start July)":"السنة المالية (تبدأ في يوليو)","Financial year (Start April)":"السنة المالية (تبدأ في ابريل)",Today:eV,Yesterday:tV,"Last 3 days":"آخر 3 أيام","Last 7 days":"آخر 7 أيام","Last 14 days":"آخر 14 يوم","Last 30 days":"آخر 30 يوم","Last 60 days":"آخر 60 يومًا","Last 90 days":"آخر 90 يومًا","Last 180 days":"آخر 180 يوم","This week":"هذا الأسبوع","Last week":"الأسبوع الماضي","Last 4 weeks":"آخر 4 أسابيع","Last 12 weeks":"آخر 12 أسبوع","Last 52 weeks":"آخر 52 أسبوع","Weeks this year":"أسابيع السنة الحالية","This bi-week":"الأسبوعين الحاليين","Last bi-week":"آخر اسبوعين","Last 4 bi-weeks":"آخر 4 ثنائي اسابيع","This month":"الشهر الحالي","Last month":"الشهر الماضي","Last 3 months":"آخر 3 أشهر","Last 6 months":"آخر 6 أشهر","Last 12 months":"آخر 12 شهر","Months this year":"أشهر السنة الحالية","This bi-month":"الشهران المزدوجان الحاليان","Last bi-month":"آخر شهرين مزدوجين","Last 6 bi-months":"آخر 6 أشهر مزدوجة","Bi-months this year":"الأشهر المزدوجة في السنة الحالية","This quarter":"ربع السنة الحالي","Last quarter":"ربع السنة الماضي","Last 4 quarters":"آخر 4 أرباع السنة","Quarters this year":"أرباع السنة الحالية","This six-month":"الستة أشهر الحالية","Last six-month":"آخر ستة-أشهر","Last 2 six-month":"آخر نصفي سنة (فترتي ستة-أشهر)","This financial year":"السنة المالية الحالية","Last financial year":"السنة المالية الماضية","Last 5 financial years":"آخر 5 سنوات مالية","This year":"السنة الحالية","Last year":"السنة الماضية","Last 5 years":"آخر 5 سنوات","Last 10 years":"آخر 10 سنوات",Days:nV,Weeks:iV,"Bi-weeks":"كل اسبوعين",Months:rV,"Bi-months":"الأشهر المزدوجة",Quarters:aV,"Six-months":"ستة-أشهر","Financial Years":"السنوات المالية",Years:sV,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:oV,Series:lV,Category:cV,Filter:uV,Columns:dV,Rows:hV,Points:pV,"Reporting rate":"معدل الإبلاغ","Reporting rate on time":"معدل الإبلاغ في الوقت المحدد","Actual reports":"الإبلاغات الفعلية","Actual reports on time":"الإبلاغات الفعلية في الوقت المحدد","Expected reports":"الإبلاغات المتوقعة",Program:mV,"Select a program":"حدد برنامجاً",Indicators:fV,"Indicator group":"مجموعة المؤشرات","All groups":"",Indicator:gV,"No indicator groups found":"","Loading indicator groups":"","Data element group":"مجموعة عناصر البيانات","Data element":"عنصر البيانات","No data element groups found":"","Loading data element groups":"","Data sets":"حزم البيانات","Data set":"حزمة البيانات","All data sets":"","Loading data sets":"تحميل حزم البيانات","Event data items":"عناصر بيانات الحدث","All programs":"","Event data item":"عنصر بيانات حدث","No programs found":"","Loading programs":"","Program indicators":"مؤشرات البرنامج","Program indicator":"مؤشرات البرنامج",Calculations:yV,Number:"العدد","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"صغير جدا",Small:vV,Regular:xV,Large:bV,"Extra Large":"كبير جدا",Left:_V,Center:wV,Right:TV,Start:SV,Middle:CV,End:EV,Top:kV,Bottom:LV,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} و {{lastOuName}}","{{allDynamicOuNames}} levels":"مستويات {{allDynamicOuNames}}","{{allDynamicOuNames}} groups":"مجموعات {{allDynamicOuNames}}","{{allDynamicOuNames}} levels in {{staticOuNames}}":"مستويات {{allDynamicOuNames}} في {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"مجموعات {{allDynamicOuNames}} في {{staticOuNames}}","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:NV,"Organisation unit":"الوحدة التنظيمية","Assigned Categories":"الفئات المعينة","Pivot table":"الجدول المحوري",Area:IV,"Stacked area":"منطقة تراكمية",Bar:AV,"Stacked bar":"شريط تراكمي",Column:PV,"Year over year (column)":"عام بعد عام (عمود)","Stacked column":"عمود تراكمي",Gauge:MV,Line:DV,"Line list":"قائمة سطور","Year over year (line)":"عام بعد عام (خط)",Pie:OV,Radar:RV,Scatter:$V,"Single value":"قيمة مفردة","All charts":"","{{seriesName}} (trend)":"",Trend:zV,"No legend for this series":"لا معلومات مفاتيح إيضاحية لهذه السلسلة","and {{amount}} more...":"","Linear Regression":"",Target:FV,Base:BV,"Axis {{axisId}}":"محور {{axisId}}","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","{{count}} items_4":"","{{count}} items_5":"","Reset zoom":""},UV="",GV="",YV="",VV="",qV="",WV="",HV="",XV="",ZV="",KV="",QV="",JV="",eq="",tq="",nq="",iq="",rq="",aq="",sq="",oq="",lq="",cq="",uq="",dq="",hq="",pq="",mq="",fq="",gq="",yq="",vq="",xq="",bq="",_q="",wq="",Tq="يناير",Sq="فبراير",Cq="مارس",Eq="ابريل",kq="مايو",Lq="يونيو",Nq="يوليو",Iq="أغسطس",Aq="سبتمبر",Pq="اكتوبر",Mq="نوفمبر",Dq="ديسمبر",Oq="",Rq="",$q="",zq="",Fq="",Bq="",jq="",Uq="",Gq="",Yq="",Vq="",qq="",Wq="",Hq="",Xq="",Zq="",Kq="",Qq="",Jq="",eW="",tW="",nW="",iW="",rW="",aW="",sW="",oW="",lW="",cW="",uW="",dW="",hW="",pW="",mW="",fW="",gW="",yW="",vW="",xW="",bW="",_W="",wW="",TW="",SW="",CW="",EW={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"","Viewed {{count}} times_4":"","Viewed {{count}} times_5":"",Notifications:UV,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:GV,"Subscribe to get updates about new interpretations.":"",Subscribe:YV,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"",Disaggregation:VV,"No data":"",Loading:qV,"Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data elements found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:WV,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:HV,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Cancel:XV,Delete:ZV,File:KV,New:QV,"Open…":"",Save:JV,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:eq,"Rename {{fileType}}":"",Name:tq,Description:nq,Rename:iq,"Save {{fileType}} as":"","event report":"","line list":"",map:rq,visualization:aq,Edit:sq,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:oq,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:lq,Unlike:cq,Like:uq,Reply:dq,Share:hq,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:pq,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Created by":"",Anyone:mq,"Only you":"",Others:fq,"Not supported by this app yet":"","Filter by name":"",Created:gq,"Last updated":"",Type:yq,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:vq,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:xq,Hide:bq,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} org units_4":"","{{count}} org units_5":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} levels_4":"","{{count}} levels_5":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","{{count}} groups_4":"","{{count}} groups_5":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:_q,"Select year":"",Period:wq,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",January:Tq,February:Sq,March:Cq,April:Eq,May:kq,June:Lq,July:Nq,August:Iq,September:Aq,October:Pq,November:Mq,December:Dq,"Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"",Daily:Oq,Weekly:Rq,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:$q,"Bi-monthly":"",Quarterly:zq,"Six-monthly":"","Six-monthly April":"",Yearly:Fq,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:Bq,Yesterday:jq,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:Uq,Weeks:Gq,"Bi-weeks":"",Months:Yq,"Bi-months":"",Quarters:Vq,"Six-months":"","Financial Years":"",Years:qq,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"",Retry:Wq,Series:Hq,Category:Xq,Filter:Zq,Columns:Kq,Rows:Qq,Points:Jq,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:eW,"Select a program":"",Indicators:tW,"Indicator group":"","All groups":"",Indicator:nW,"No indicator groups found":"","Loading indicator groups":"","Data elements":"","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"",Small:iW,Regular:rW,Large:aW,"Extra Large":"",Left:sW,Center:oW,Right:lW,Start:cW,Middle:uW,End:dW,Top:hW,Bottom:pW,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:mW,"Organisation unit":"","Assigned Categories":"","Pivot table":"",Area:fW,"Stacked area":"",Bar:gW,"Stacked bar":"",Column:yW,"Year over year (column)":"","Stacked column":"",Gauge:vW,Line:xW,"Line list":"","Year over year (line)":"",Pie:bW,Radar:_W,Scatter:wW,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:TW,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:SW,Base:CW,"Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","{{count}} items_4":"","{{count}} items_5":"","Reset zoom":""},kW="",LW="",NW="",IW="",AW="جار التحميل",PW="إزالة",MW="البحث",DW="إلغاء",OW="حذف",RW="",$W="جديد",zW="حفظ",FW="إغلاق",BW="الاسم",jW="الوصف",UW="إعادة التسمية",GW="",YW="",VW="تعديل",qW="تحديث",WW="التفسيرات",HW="إلغاء الإعجاب",XW="إعجاب",ZW="رد",KW="مشاركة",QW="",JW="أي شخص",eH="",tH="تم الإنشاء",nH="",iH="فتح",rH="الخيارات",aH="إخفاء",sH="",oH="",lH="",cH="",uH="",dH="",hH="",pH="",mH="",fH="",gH="",yH="",vH="",xH="",bH="يومي",_H="أسبوعي",wH="شهري",TH="ربع سنوي",SH="سنوي",CH="اليوم",EH="الأمس",kH="‏‏الأيام",LH="الأسابيع",NH="الأشهر",IH="أرباع السنة",AH="السنوات",PH="",MH="",DH="",OH="",RH="",$H="",zH="",FH="البرنامج",BH="المؤشرات",jH="",UH="صغير",GH="",YH="كبير",VH="",qH="",WH="",HH="",XH="",ZH="",KH="القمة",QH="الأسفل",JH="البيانات",eX="مساحة",tX="",nX="العمود",iX="",rX="",aX="",sX="",oX="",lX="",cX="",uX="",dX={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"لا يوجد وصف","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"","Viewed {{count}} times_4":"","Viewed {{count}} times_5":"",Notifications:kW,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:LW,"Subscribe to get updates about new interpretations.":"",Subscribe:NW,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"",Disaggregation:IW,"No data":"",Loading:AW,"Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data elements found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:PW,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:MW,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Cancel:DW,Delete:OW,File:RW,New:$W,"Open…":"",Save:zW,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:FW,"Rename {{fileType}}":"",Name:BW,Description:jW,Rename:UW,"Save {{fileType}} as":"","event report":"","line list":"",map:GW,visualization:YW,Edit:VW,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:qW,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:WW,Unlike:HW,Like:XW,Reply:ZW,Share:KW,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:QW,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Created by":"تم الإنشاء بواسطة",Anyone:JW,"Only you":"",Others:eH,"Not supported by this app yet":"","Filter by name":"",Created:tH,"Last updated":"آخر تحديث",Type:nH,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:iH,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:rH,Hide:aH,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} org units_4":"","{{count}} org units_5":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} levels_4":"","{{count}} levels_5":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","{{count}} groups_4":"","{{count}} groups_5":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"وحدات المستخدم الفرعية","User sub-x2-units":"وحدات المستخدم الفرعية من المستوى الثاني","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:sH,"Select year":"",Period:oH,"Relative periods":"الفترات الزمنية النسبية","Fixed periods":"","Selected Periods":"","No periods selected":"",January:lH,February:cH,March:uH,April:dH,May:hH,June:pH,July:mH,August:fH,September:gH,October:yH,November:vH,December:xH,"Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"",Daily:bH,Weekly:_H,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"كل اسبوعين",Monthly:wH,"Bi-monthly":"أشهر مزدوجة",Quarterly:TH,"Six-monthly":"ستة أشهر","Six-monthly April":"ستة أشهر نيسان",Yearly:SH,"Financial year (Start November)":"","Financial year (Start October)":"السنة المالية (بداية تشرين الأول)","Financial year (Start July)":"السنة المالية (بداية تموز)","Financial year (Start April)":"السنة المالية (بداية نيسان)",Today:CH,Yesterday:EH,"Last 3 days":"آخر 3 أيام","Last 7 days":"آخر 7 أيام","Last 14 days":"آخر 14 يوم","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"الأسبوع الحالي","Last week":"الأسبوع الماضي","Last 4 weeks":"آخر 4 أسابيع","Last 12 weeks":"آخر 12 أسبوع","Last 52 weeks":"آخر 52 أسبوع","Weeks this year":"أسابيع السنة الحالية","This bi-week":"الأسبوعين الحاليين","Last bi-week":"آخر اسبوعين","Last 4 bi-weeks":"آخر 4 زوج اسابيع","This month":"الشهر الحالي","Last month":"الشهر الماضي","Last 3 months":"آخر 3 أشهر","Last 6 months":"آخر 6 أشهر","Last 12 months":"آخر 12 شهر","Months this year":"أشهر السنة الحالية","This bi-month":"الشهران المزدوجان الحاليان","Last bi-month":"آخر شهرين مزدوجين","Last 6 bi-months":"آخر 6 أشهر مزدوجة","Bi-months this year":"الأشهر المزدوجة في السنة الحالية","This quarter":"ربع السنة الحالي","Last quarter":"ربع السنة الماضي","Last 4 quarters":"آخر 4 أرباع السنة","Quarters this year":"أرباع السنة الحالية","This six-month":"نصف السنة الحالي (فترة من ستة أشهر)","Last six-month":"آخر ستة أشهر","Last 2 six-month":"","This financial year":"السنة المالية الحالية","Last financial year":"السنة المالية الماضية","Last 5 financial years":"آخر 5 سنوات مالية","This year":"السنة الحالية","Last year":"السنة الماضية","Last 5 years":"آخر 5 سنوات","Last 10 years":"",Days:kH,Weeks:LH,"Bi-weeks":"كل اسبوعين",Months:NH,"Bi-months":"الأشهر المزدوجة",Quarters:IH,"Six-months":"ستة أشهر","Financial Years":"",Years:AH,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"",Retry:PH,Series:MH,Category:DH,Filter:OH,Columns:RH,Rows:$H,Points:zH,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:FH,"Select a program":"",Indicators:BH,"Indicator group":"","All groups":"",Indicator:jH,"No indicator groups found":"","Loading indicator groups":"","Data elements":"عناصر البيانات","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"حزم البيانات","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"",Small:UH,Regular:GH,Large:YH,"Extra Large":"",Left:VH,Center:qH,Right:WH,Start:HH,Middle:XH,End:ZH,Top:KH,Bottom:QH,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:JH,"Organisation unit":"الوحدة التنظيمية","Assigned Categories":"","Pivot table":"الجدول المحوري",Area:eX,"Stacked area":"",Bar:tX,"Stacked bar":"",Column:nX,"Year over year (column)":"","Stacked column":"",Gauge:iX,Line:rX,"Line list":"قائمة السطور","Year over year (line)":"",Pie:aX,Radar:sX,Scatter:oX,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:lX,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:cX,Base:uX,"Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","{{count}} items_4":"","{{count}} items_5":"","Reset zoom":""},hX="",pX="",mX="",fX="",gX="",yX="لابردن",vX="گەڕان",xX="لابردن",bX="سڕینەوە",_X="",wX="نوێ",TX="تۆمارکردن",SX="داخستن",CX="",EX="",kX="",LX="",NX="",IX="دةستكاري",AX="نوێ کردنەوە",PX="",MX="",DX="",OX="",RX="",$X="",zX="هەرکەسێک",FX="",BX="",jX="",UX="",GX="",YX="شاردنەوە",VX="",qX="ماوة",WX="",HX="",XX="",ZX="",KX="",QX="",JX="",eZ="",tZ="",nZ="",iZ="",rZ="",aZ="",sZ="",oZ="",lZ="",cZ="",uZ="ئەمڕۆ",dZ="",hZ="رۆژەکان",pZ="",mZ="مانگەکان",fZ="",gZ="ساڵەکان",yZ="",vZ="",xZ="",bZ="",_Z="",wZ="",TZ="",SZ="بةرنامة",CZ="نیشاندەر",EZ="",kZ="",LZ="",NZ="",IZ="",AZ="",PZ="",MZ="",DZ="",OZ="",RZ="",$Z="",zZ="",FZ="ناوچە",BZ="",jZ="ستوون",UZ="",GZ="",YZ="",VZ="",qZ="",WZ="",HZ="",XZ="",ZZ={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"",Notifications:hX,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:pX,"Subscribe to get updates about new interpretations.":"",Subscribe:mX,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"",Disaggregation:fX,"No data":"",Loading:gX,"Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data elements found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:yX,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:vX,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Cancel:xX,Delete:bX,File:_X,New:wX,"Open…":"",Save:TX,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:SX,"Rename {{fileType}}":"",Name:CX,Description:EX,Rename:kX,"Save {{fileType}} as":"","event report":"","line list":"",map:LX,visualization:NX,Edit:IX,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:AX,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:PX,Unlike:MX,Like:DX,Reply:OX,Share:RX,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:$X,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Created by":"",Anyone:zX,"Only you":"",Others:FX,"Not supported by this app yet":"","Filter by name":"",Created:BX,"Last updated":"",Type:jX,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:UX,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:GX,Hide:YX,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} groups_0":"","{{count}} groups_1":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:VX,"Select year":"",Period:qX,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",January:WX,February:HX,March:XX,April:ZX,May:KX,June:QX,July:JX,August:eZ,September:tZ,October:nZ,November:iZ,December:rZ,"Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"",Daily:aZ,Weekly:sZ,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:oZ,"Bi-monthly":"",Quarterly:lZ,"Six-monthly":"","Six-monthly April":"",Yearly:cZ,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:uZ,Yesterday:dZ,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"ئەم هەفتەیە","Last week":"هەفتەی ڕابردوو","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"ئەم مانگە","Last month":"مانگی ڕابردوو","Last 3 months":"٣ مانگ پێشووتر","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:hZ,Weeks:pZ,"Bi-weeks":"",Months:mZ,"Bi-months":"",Quarters:fZ,"Six-months":"","Financial Years":"",Years:gZ,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"",Retry:yZ,Series:vZ,Category:xZ,Filter:bZ,Columns:_Z,Rows:wZ,Points:TZ,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:SZ,"Select a program":"",Indicators:CZ,"Indicator group":"","All groups":"",Indicator:EZ,"No indicator groups found":"","Loading indicator groups":"","Data elements":"","Data element group":"","Data element":"داتاي سةرةكي","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"",Small:kZ,Regular:LZ,Large:NZ,"Extra Large":"",Left:IZ,Center:AZ,Right:PZ,Start:MZ,Middle:DZ,End:OZ,Top:RZ,Bottom:$Z,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:zZ,"Organisation unit":"يةكةي ريكخراو","Assigned Categories":"","Pivot table":"",Area:FZ,"Stacked area":"",Bar:BZ,"Stacked bar":"",Column:jZ,"Year over year (column)":"","Stacked column":"",Gauge:UZ,Line:GZ,"Line list":"","Year over year (line)":"",Pie:YZ,Radar:VZ,Scatter:qZ,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:WZ,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:HZ,Base:XZ,"Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","Reset zoom":""},KZ="Oznámení",QZ="Odhlásit odběr",JZ="Odebírat",eK="Zrušit",tK="Načítání",nK="Rozčlenění",iK="Výpočet",rK="Odebrat",aK="Hledat",sK="Smazat",oK="Soubor",lK="Nový",cK="Uložit",uK="Zavřít",dK="Název",hK="Popis",pK="Přejmenovat",mK="mapa",fK="vizualizace",gK="Upravit",yK="Aktualizovat",vK="Interpretace",xK="Odpovědět",bK="Na rozdíl od",_K="Jako",wK="Sdílet",TK="Náhled",SK="Kdokoliv",CK="Ostatní",EK="Vytvořeno",kK="Typ",LK="Otevřít",NK="Možnosti",IK="Skrýt",AK="Rok",PK="Období",MK="Denně",DK="Týdně",OK="Měsíčně",RK="Čtvrtletně",$K="Ročně",zK="Dnes",FK="Včera",BK="Dnů",jK="Týdnů",UK="Měsíce",GK="Čtvrtletí",YK="Let",VK="Opakovat",qK="Série",WK="Kategorie",HK="Filtr",XK="Sloupce",ZK="Řádky",KK="Body",QK="Program",JK="Indikátory",eQ="Indikátor",tQ="Výpočty",nQ="Malý",iQ="Pravidelný",rQ="Velký",aQ="Vlevo",sQ="střed",oQ="Vpravo",lQ="Start",cQ="Střední",uQ="Konec",dQ="Nahoře",hQ="Dole",pQ="Data",mQ="Oblast",fQ="LIšta",gQ="Sloupec",yQ="Gauge",vQ="Linie",xQ="Výseč",bQ="Radar",_Q="Rozptyl",wQ="Trend",TQ="Cíl",SQ="Základ",CQ={"view only":"pouze zobrazit","view and edit":"zobrazit a upravit","all users ({{accessLevel}})":"všichni uživatelé ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Sdíleno s {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"Nesdíleno s žádnými uživateli ani skupinami","No description":"Bez popisu","Last updated {{time}}":"Poslední aktualizace {{time}}","Created {{time}} by {{author}}":"Vytvořeno {{time}} uživatelem {{author}}","Created {{time}}":"Vytvořeno {{time}}","Viewed {{count}} times_0":"Zobrazeno 1 krát","Viewed {{count}} times_1":"Zobrazeno {{count}}krát","Viewed {{count}} times_2":"Zobrazeno {{count}}krát","Viewed {{count}} times_3":"Zobrazeno {{count}}krát",Notifications:KZ,"You're subscribed and getting updates about new interpretations.":"Jste přihlášeni k odběru a dostáváte aktualizace o nových interpretacích.",Unsubscribe:QZ,"Subscribe to get updates about new interpretations.":"Přihlaste se k odběru novinek o nových interpretacích.",Subscribe:JZ,"About this map":"O této mapě","About this line list":"O seznamu řádků","About this visualization":"O této vizualizaci","This app could not retrieve required data.":"Tato aplikace nemohla načíst požadovaná data.","Network error":"Chyba sítě","Data / Edit calculation":"Data / Upravit výpočet","Data / New calculation":"Data / Nový výpočet","Remove item":"Odebrat položku","Check formula":"Zkontrolujte vzorec","Calculation name":"Název výpočtu","Shown in table headers and chart axes/legends":"Zobrazeno v záhlaví tabulky a osy/legendy grafu","Delete calculation":"Smazat výpočet",Cancel:eK,"The calculation can only be saved with a valid formula":"Výpočet lze uložit pouze s platným vzorcem","Add a name to save this calculation":"Přidejte název pro uložení tohoto výpočtu","Save calculation":"Uložit výpočet","Are you sure you want to delete this calculation? It may be used by other visualizations.":"Opravdu chcete tento výpočet smazat? Může být použit jinými vizualizacemi.","Yes, delete":"Ano, smazat","Totals only":"Pouze součty","Details only":"Pouze podrobnosti",Loading:tK,"Data elements":"Datové prvky","Search by data element name":"Vyhledávání podle názvu datového prvku",'No data elements found for "{{- searchTerm}}"':"Nebyly nalezeny žádné datové prvky pro „{{- searchTerm}}“","No data elements found":"Nebyly nalezeny žádné datové prvky","Drag items here, or double click in the list, to start building a calculation formula":"Přetáhněte položky sem nebo dvakrát klikněte na seznam a začněte vytvářet vzorec výpočtu","Math operators":"Matematické operátory","Data Type":"Typ dat","Only {{dataType}} can be used in {{visType}}":"","All types":"Všechny typy",Disaggregation:nK,"No data":"Nejsou data","Search by data item name":"Hledání podle názvu datové položky","No items selected":"Nevybrány žádné položky","Selected Items":"Vybrané položky","No indicators found":"Nebyly nalezeny žádné indikátory","No data sets found":"Nebyly nalezeny žádné datové soubory","No event data items found":"Nebyly nalezeny žádné datové položky události","No program indicators found":"Nebyly nalezeny žádné programové indikátory","No calculations found":"Nenalezeny žádné výpočty",'No indicators found for "{{- searchTerm}}"':"Nebyly nalezeny žádné indikátory pro „{{- searchTerm}}“",'No data sets found for "{{- searchTerm}}"':"Nebyly nalezeny žádné soubory dat pro „{{- searchTerm}}“",'No event data items found for "{{- searchTerm}}"':"Pro „{{- searchTerm}}“ nebyly nalezeny žádné datové položky události",'No program indicators found for "{{- searchTerm}}"':"Nebyly nalezeny žádné programové indikátory pro „{{- searchTerm}}“",'No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"Pro dotaz „{{- searchTerm}}“ nebylo nic nalezeno",Calculation:iK,"Metric type":"Metrický typ","All metrics":"Všechny metriky","Move to {{axisName}}":"Přesunout na {{axisName}}","Add to {{axisName}}":"Přidat k {{axisName}}","Not available for {{visualizationType}}":"Není k dispozici pro {{visualizationType}}","Remove Assigned Categories":"Odebrat přiřazené kategorie","Add Assigned Categories":"Přidat přiřazené kategorie",Remove:rK,"Filter dimensions":"Rozsahy filtru","Main dimensions":"Hlavní rozměry","Your dimensions":"Vaše rozměry","Dimension recommended with selected data":"U vybraných dat je doporučen rozsah","All items":"Všechny položky","Automatically include all items":"Automaticky zahrnout všechny položky","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Vyberte všechny položky {{- dimensionTitle}}. Díky této možnosti budou automaticky přidány nové položky přidané v budoucnosti.","Manually select items...":"Ručně vybrat položky ...","Nothing found in {{- dimensionTitle}}":"V {{- dimensionTitle}} nebylo nic nalezeno",Search:aK,"Nothing found for {{- searchTerm}}":"Pro {{- searchTerm}} nebylo nic nalezeno.","Delete {{fileType}}":"Smazat {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"Tento {{fileType}} a související interpretace budou smazány. Pokračovat?",Delete:sK,File:oK,New:lK,"Open…":"Otevřít…",Save:cK,"Save…":"Uložit…","Save as…":"Uložit jako…","Rename…":"Přejmenovat…","Translate…":"Přeložit…","Share…":"Sdílet…","Get link…":"Získat odkaz ...","Open in this app":"Otevřít v této aplikaci",Close:uK,"Rename {{fileType}}":"Přejmenovat {{fileType}}",Name:dK,Description:hK,Rename:pK,"{{- objectName}} (copy)":"{{- objectName}} (kopie)","Save {{fileType}} as":"Uložit {{fileType}} jako","event report":"zpráva o události","line list":"seznam řádků",map:mK,visualization:fK,Edit:gK,"Write a reply":"Napsat odpověď","Post reply":"Odpovědět","Delete failed":"Smazání se nezdařilo","Could not update comment":"Komentář se nepodařilo aktualizovat","Enter comment text":"Zadejte text komentáře",Update:yK,"Viewing interpretation: {{- visualisationName}}":"Zobrazení interpretace: {{- visualisationName}}","Could not load interpretation":"Interpretaci nelze načíst","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"Interpretaci se nepodařilo zobrazit. Zkuste to znovu nebo se obraťte na správce systému.","Hide interpretation":"Skrýt interpretaci","Write an interpretation":"Napsat interpretaci","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"Vložit interpretaci",Interpretations:vK,Reply:xK,"{{count}} replies_0":"{{count}} odpověď","{{count}} replies_1":" {{count}} odpovědi","{{count}} replies_2":"{{count}} odpovědí","{{count}} replies_3":"{{count}} odpovědi","View replies":"",Unlike:bK,Like:_K,"See interpretation":"Zobrazit interpretaci","Open in app":"",Share:wK,"Manage sharing":"Spravovat sdílení","Could not update interpretation":"Interpretaci nelze aktualizovat","Enter interpretation text":"Zadejte text interpretace","Bold text":"Tučné písmo","Italic text":"Text kurzívou","Link to a URL":"Odkaz na URL","Mention a user":"Zmínit uživatele","Add emoji":"Přidat emotikony",Preview:TK,"Back to write mode":"Zpět do režimu zápisu","Too many results. Try refining the search.":"Příliš mnoho výsledků. Zkuste upřesnit vyhledávání.","Search for a user":"Vyhledat uživatele",'Searching for "{{- searchText}}"':'Hledání "{{- searchText}}"',"No results found":"Nenalezeny žádné výsledky","Not available offline":"Není k dispozici offline","Created by":"Vytvořil",Anyone:SK,"Only you":"Jen vy",Others:CK,"Not supported by this app yet":"Tato aplikace zatím nepodporuje","Filter by name":"Filtrovat podle názvu",Created:EK,"Last updated":"Naposledy aktualizováno",Type:kK,"Clear filters":"Vymazat filtry","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} z {{totalNumberOfItems}}",Open:LK,"Couldn't load items":"Položky nelze načíst","There was a problem loading items. Try again or contact your system administrator.":"Při načítání položek došlo k problému. Zkuste to znovu nebo se obraťte na správce systému.","No items found. Create a new to get started.":"Žádné položky nenalezeny. Začněte vytvořením nové.","No items found. Try adjusting your search or filter options to find what you're looking for.":"Žádné položky nenalezeny. Zkuste upravit možnosti vyhledávání nebo filtrování, abyste našli to, co hledáte.","Create new":"Vytvořit nový","Open a visualization":"Otevřít vizualizaci","Loading visualizations":"Načítání vizualizací","Couldn't load visualizations":"Nelze načíst vizualizace","There was a problem loading visualizations. Try again or contact your system administrator.":"Při načítání vizualizací došlo k problému. Zkuste to znovu nebo se obraťte na správce systému.","No visualizations found. Click New visualization to get started.":"Nebyly nalezeny žádné vizualizace. Začněte kliknutím na Nová vizualizace.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"Nenalezeny žádné vizualizace. Zkuste upravit možnosti vyhledávání nebo filtrování, abyste našli to, co hledáte.","New visualization":"Nová vizualizace","Open a map":"Otevřít mapu","Loading maps":"Načítání map","Couldn't load maps":"Mapy se nepodařilo načíst","There was a problem loading maps. Try again or contact your system administrator.":"Při načítání map došlo k problému. Zkuste to znovu nebo se obraťte na správce systému.","No maps found. Click New map to get started.":"Nenalezeny žádné mapy. Začněte kliknutím na Nová mapa.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"Nenalezeny žádné mapy. Zkuste upravit možnosti vyhledávání nebo filtrování, abyste našli to, co hledáte.","New map":"Nová mapa","Open a line list":"Otevřít řádkový seznam","Loading line lists":"Načítání řádkových seznamů","Couldn't load line lists":"Řádkové seznamy se nepodařilo načíst","There was a problem loading line lists. Try again or contact your system administrator.":"Při načítání řádkových seznamů došlo k problému. Zkuste to znovu nebo se obraťte na správce systému.","No line lists found. Click New line list to get started.":"Nebyly nalezeny žádné řádkové seznamy. Začněte kliknutím na Nový řádkový seznam.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"Nebyly nalezeny žádné řádkové seznamy. Zkuste upravit možnosti vyhledávání nebo filtru, abyste našli to, co hledáte.","New line list":"Nový řádkový seznam",Options:NK,Hide:IK,"{{count}} org units_0":"{{count}} organizační jednotka","{{count}} org units_1":"{{count}} organizační jednotky","{{count}} org units_2":"{{count}} organizačních jednotek","{{count}} org units_3":"{{count}} organizačních jednotek","{{count}} levels_0":"{{count}} úroveň","{{count}} levels_1":"{{count}} úrovně","{{count}} levels_2":"{{count}} úrovní","{{count}} levels_3":"{{count}} úrovní","{{count}} groups_0":"{{count}} skupina","{{count}} groups_1":"{{count}} skupiny","{{count}} groups_2":"{{count}} skupin","{{count}} groups_3":"{{count}} skupin","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Vybráno: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Není vybráno nic","User organisation unit":"Organizační jednotka uživatele","User sub-units":"Podjednotky uživatele","User sub-x2-units":"Jednotky 2. řádu uživatele","Select a level":"Vybrat úroveň","Select a group":"Vybrat skupinu","Deselect all":"Odznačit vše","Period type":"Typ období",Year:AK,"Select year":"Vybrat rok",Period:PK,"Selected Periods":"Vybraná období","Relative periods":"Relativní období","Fixed periods":"Pevné období","No periods selected":"Nejsou vybrána žádná období",Daily:MK,Weekly:DK,"Weekly (Start Wednesday)":"Týdně (od středy)","Weekly (Start Thursday)":"Týdně (od čtvrtka)","Weekly (Start Saturday)":"Týdně (od soboty)","Weekly (Start Sunday)":"Týdně (začíná nedělí)","Bi-weekly":"po 14ti dnech",Monthly:OK,"Bi-monthly":"Dvakrát za měsíc",Quarterly:RK,"Six-monthly":"Šestiměsíční","Six-monthly April":"Duben šest měsíců",Yearly:$K,"Financial year (Start November)":"Finanční rok (od listopadu)","Financial year (Start October)":"Finanční rok (od října)","Financial year (Start July)":"Finanční rok (od července)","Financial year (Start April)":"Finanční rok (od dubna)",Today:zK,Yesterday:FK,"Last 3 days":"Poslední 3 dny","Last 7 days":"Posledních 7 dní","Last 14 days":"Posledních 14 dní","Last 30 days":"Poledních 30 dní","Last 60 days":"Posledních 60 dní","Last 90 days":"Posledních 90 dní","Last 180 days":"Posledních 180 dní","This week":"Tento týden","Last week":"Minulý týden","Last 4 weeks":"Poslední 4 týdny","Last 12 weeks":"Posledních 12 týdnů","Last 52 weeks":"Posledních 52 týdnů","Weeks this year":"Týdny tohoto roku","This bi-week":"Těchto 14 dní","Last bi-week":"Posledních dní ","Last 4 bi-weeks":"4 poslední dvoutýdny","This month":"Tento měsíc","Last month":"Minulý měsíc","Last 3 months":"Poslední 3 měsíce","Last 6 months":"Posledních 6 měsíců","Last 12 months":"Posledních 12 měsíců","Months this year":"Měsíce tohoto roku","This bi-month":"Těchto 14 dní","Last bi-month":"Poslední dva měsíce","Last 6 bi-months":"Posledních 6 dvou-měsíců","Bi-months this year":"Dvouměsíčně tento rok","This quarter":"Toto čtvrtletí","Last quarter":"Poslední čtvrtletí","Last 4 quarters":"Poslední 4 čtvrtletí ","Quarters this year":"Čtvrtletí tohoto roku","This six-month":"Tento půlrok","Last six-month":"Poslední půlrok","Last 2 six-month":"Poslední 2 půlroky","This financial year":"Tento finanční rok","Last financial year":"Poslední finanční rok","Last 5 financial years":"Posledních 5 finančních roků","This year":"Tento rok","Last year":"Poslední rok","Last 5 years":"Posledních 5 let","Last 10 years":"Posledních 10 let",Days:BK,Weeks:jK,"Bi-weeks":"14 dní",Months:UK,"Bi-months":"Dva měsíce",Quarters:GK,"Six-months":"Půlrok","Financial Years":"Finanční roky",Years:YK,"Interpretations and details":"","Translating to":"Překlad do","Choose a locale":"Vyberte národní prostředí","Base locale reference":"Odkaz na základní národní prostředí","Choose a locale to translate from the menu above":"Z nabídky výše vyberte národní prostředí, které chcete přeložit","Translate: {{objectName}}":"Přeložit: {{objectName}}","Save translations":"Uložit překlady","Cannot save while offline":"Nelze ukládat v režimu offline","Could not load translations":"Nelze načíst překlady",Retry:VK,Series:qK,Category:WK,Filter:HK,Columns:XK,Rows:ZK,Points:KK,"Reporting rate":"Míra hlášení","Reporting rate on time":"Četnost hlášení na čas","Actual reports":"Aktuální zprávy","Actual reports on time":"Aktuální zprávy včas","Expected reports":"Očekávané zprávy",Program:QK,"Select a program":"Vybrat program",Indicators:JK,"Indicator group":"Skupina indikátorů","All groups":"Všechny skupiny",Indicator:eQ,"No indicator groups found":"Nebyly nalezeny žádné skupiny indikátorů","Loading indicator groups":"Načítání skupin indikátorů","Data element group":"Skupina datových prvků","Data element":"Datový prvek","No data element groups found":"Nenalezeny žádné skupiny datových prvků","Loading data element groups":"Načítání skupin datových prvků","Data sets":"Datové sady","Data set":"Datová sada","All data sets":"Všechny datové soubory","Loading data sets":"Načítání datových sad","Event data items":"Položky dat události","All programs":"Všechny programy","Event data item":"Datová položka události","No programs found":"Nebyly nalezeny žádné programy","Loading programs":"Načítání programů","Program indicators":"Indikátory programu","Program indicator":"Indikátor programu",Calculations:tQ,Number:"Číslo","Formula is empty. Add items to the formula from the lists on the left.":"Vzorec je prázdný. Přidejte položky do vzorce ze seznamů vlevo.","Consecutive math operators":"Po sobě jdoucí matematické operátory","Consecutive data elements":"Po sobě jdoucí datové prvky","Starts or ends with a math operator":"Začíná nebo končí matematickým operátorem","Empty parentheses":"Prázdné závorky","Missing right parenthesis )":"Chybí pravá závorka )","Missing left parenthesis (":"Chybí levá závorka (","Extra Small":"Velmi malý",Small:nQ,Regular:iQ,Large:rQ,"Extra Large":"Velmi velký",Left:aQ,Center:sQ,Right:oQ,Start:lQ,Middle:cQ,End:uQ,Top:dQ,Bottom:hQ,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} a {{lastOuName}}","{{allDynamicOuNames}} levels":"úrovně {{allDynamicOuNames}}","{{allDynamicOuNames}} groups":"skupiny {{allDynamicOuNames}}","{{allDynamicOuNames}} levels in {{staticOuNames}}":"úrovně {{allDynamicOuNames}} v {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"Skupiny {{allDynamicOuNames}} v {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% z celkových hodnot x","{{percentage}}% of total y values":"{{percentage}}% z celkových hodnot y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Upravené nízké Z-skóre","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Upravené vysoké Z-skóre","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × nízké Z-skóre","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-skóre vysoké",Data:pQ,"Organisation unit":"Organizační jednotka","Assigned Categories":"Přiřazené kategorie","Pivot table":"Kontingenční tabulka",Area:mQ,"Stacked area":"Skládaná plocha",Bar:fQ,"Stacked bar":"Skládaný lištový graf",Column:gQ,"Year over year (column)":"Rok po roce (sloupce)","Stacked column":"Skládaný sloupec",Gauge:yQ,Line:vQ,"Line list":"Seznam řádků","Year over year (line)":"Rok po roce (řádek)",Pie:xQ,Radar:bQ,Scatter:_Q,"Single value":"Jedna hodnota","Outlier table":"","All charts":"Všechny grafy","{{seriesName}} (trend)":"{{seriesName}} (trend)",Trend:wQ,"No legend for this series":"Pro tuto sérii není legenda","and {{amount}} more...":"a {{amount}} další ...","Linear Regression":"Lineární regrese",Target:TQ,Base:SQ,"Axis {{axisId}}":"Osa {{axisId}}","{{count}} items_0":"{{count}} položka","{{count}} items_1":" {{count}} položky","{{count}} items_2":" {{count}} položek","{{count}} items_3":"{{count}} položek","Reset zoom":"Obnovit přiblížení"},EQ="",kQ="",LQ="",NQ="Cancel",IQ="",AQ="",PQ="",MQ="Remove",DQ="",OQ="Delete",RQ="File",$Q="New",zQ="Save",FQ="Close",BQ="Name",jQ="Description",UQ="",GQ="",YQ="",VQ="",qQ="Update",WQ="Interpretations",HQ="",XQ="",ZQ="",KQ="",QQ="",JQ="",eJ="",tJ="",nJ="",iJ="Open",rJ="",aJ="",sJ="Year",oJ="",lJ="Daily",cJ="Weekly",uJ="Monthly",dJ="Quarterly",hJ="Yearly",pJ="",mJ="",fJ="",gJ="",yJ="",vJ="",xJ="",bJ="",_J="",wJ="Category",TJ="Filter",SJ="",CJ="",EJ="",kJ="",LJ="Indicators",NJ="Indicator",IJ="",AJ="",PJ="",MJ="",DJ="",OJ="",RJ="",$J="",zJ="",FJ="",BJ="",jJ="",UJ="",GJ="",YJ="",VJ="",qJ="",WJ="",HJ="",XJ="",ZJ="",KJ="",QJ="",JJ="",eee={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:EQ,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:kQ,"Subscribe to get updates about new interpretations.":"",Subscribe:LQ,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:NQ,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:IQ,"Data elements":"Data elements","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:AQ,"No data":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:PQ,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:MQ,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:DQ,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:OQ,File:RQ,New:$Q,"Open…":"",Save:zQ,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:FQ,"Rename {{fileType}}":"",Name:BQ,Description:jQ,Rename:UQ,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:GQ,visualization:YQ,Edit:VQ,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:qQ,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:WQ,Unlike:HQ,Like:XQ,Reply:ZQ,Share:KQ,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:QQ,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"No results found","Not available offline":"","Created by":"Created by",Anyone:JQ,"Only you":"",Others:eJ,"Not supported by this app yet":"","Filter by name":"Filter by name",Created:tJ,"Last updated":"",Type:nJ,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:iJ,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:rJ,Hide:aJ,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:sJ,"Select year":"",Period:oJ,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",Daily:lJ,Weekly:cJ,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:uJ,"Bi-monthly":"Bi-monthly",Quarterly:dJ,"Six-monthly":"Six-monthly","Six-monthly April":"",Yearly:hJ,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:pJ,Yesterday:mJ,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Last week","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"Last month","Last 3 months":"Last 3 months","Last 6 months":"Last 6 months","Last 12 months":"Last 12 months","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:fJ,Weeks:gJ,"Bi-weeks":"",Months:yJ,"Bi-months":"",Quarters:vJ,"Six-months":"","Financial Years":"",Years:xJ,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:bJ,Series:_J,Category:wJ,Filter:TJ,Columns:SJ,Rows:CJ,Points:EJ,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:kJ,"Select a program":"",Indicators:LJ,"Indicator group":"Indicator group","All groups":"",Indicator:NJ,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Data element group","Data element":"Data element","No data element groups found":"","Loading data element groups":"","Data sets":"Data sets","Data set":"Data set","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:IJ,Number:"Number","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:AJ,Regular:PJ,Large:MJ,"Extra Large":"",Left:DJ,Center:OJ,Right:RJ,Start:$J,Middle:zJ,End:FJ,Top:BJ,Bottom:jJ,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:UJ,"Organisation unit":"Organisation unit","Assigned Categories":"","Pivot table":"",Area:GJ,"Stacked area":"",Bar:YJ,"Stacked bar":"",Column:VJ,"Year over year (column)":"","Stacked column":"",Gauge:qJ,Line:WJ,"Line list":"","Year over year (line)":"",Pie:HJ,Radar:XJ,Scatter:ZJ,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:KJ,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:QJ,Base:JJ,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},tee="Notifications",nee="Unsubscribe",iee="Subscribe",ree="Cancel",aee="Loading",see="Disaggregation",oee="None",lee="True",cee="False",uee="Indicators",dee="Type",hee="Annualized",pee="Yes",mee="No",fee="Name",gee="Description",yee="Code",vee="ID",xee="Custom",bee="Program",_ee="Enrollment",wee="Event",Tee="Expression",See="Filter",Cee="Calculation",Eee="Remove",kee="Search",Lee="Delete",Nee="File",Iee="New",Aee="Save",Pee="Close",Mee="Rename",Dee="map",Oee="visualization",Ree="Edit",$ee="Update",zee="Interpretations",Fee="Reply",Bee="Unlike",jee="Like",Uee="Share",Gee="Anyone",Yee="Others",Vee="Created",qee="Open",Wee="Options",Hee="Hide",Xee="Year",Zee="Period",Kee="Daily",Qee="Weekly",Jee="Monthly",ete="Quarterly",tte="Yearly",nte="Today",ite="Yesterday",rte="Days",ate="Weeks",ste="Months",ote="Quarters",lte="Years",cte="Preview",ute="Retry",dte="Series",hte="Category",pte="Columns",mte="Rows",fte="Points",gte="Indicator",yte="Calculations",vte="Small",xte="Regular",bte="Large",_te="Left",wte="Center",Tte="Right",Ste="Start",Cte="Middle",Ete="End",kte="Top",Lte="Bottom",Nte="Data",Ite="Text",Ate="Letter",Pte="Email",Mte="Time",Dte="Percentage",Ote="Integer",Rte="Username",$te="Coordinate",zte="Reference",Fte="Age",Bte="URL",jte="Image",Ute="GeoJSON",Gte="Area",Yte="Bar",Vte="Column",qte="Gauge",Wte="Line",Hte="Pie",Xte="Radar",Zte="Scatter",Kte="Trend",Qte="Target",Jte="Base",ene={"view only":"view only","view and edit":"view and edit","all users ({{accessLevel}})":"all users ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Shared with {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"Not shared with any users or groups","No description":"No description","Last updated {{time}}":"Last updated {{time}}","Created {{time}} by {{author}}":"Created {{time}} by {{author}}","Created {{time}}":"Created {{time}}","Viewed {{count}} times":"Viewed 1 time","Viewed {{count}} times_plural":"Viewed {{count}} times",Notifications:tee,"You're subscribed and getting updates about new interpretations.":"You're subscribed and getting updates about new interpretations.",Unsubscribe:nee,"Subscribe to get updates about new interpretations.":"Subscribe to get updates about new interpretations.",Subscribe:iee,"About this map":"About this map","About this line list":"About this line list","About this visualization":"About this visualization","About this event chart":"About this event chart","About this event report":"About this event report","This app could not retrieve required data.":"This app could not retrieve required data.","Network error":"Network error","Data / Edit calculation":"Data / Edit calculation","Data / New calculation":"Data / New calculation","Remove item":"Remove item","Check formula":"Check formula","Calculation name":"Calculation name","Shown in table headers and chart axes/legends":"Shown in table headers and chart axes/legends","Delete calculation":"Delete calculation",Cancel:ree,"The calculation can only be saved with a valid formula":"The calculation can only be saved with a valid formula","Add a name to save this calculation":"Add a name to save this calculation","Save calculation":"Save calculation","Are you sure you want to delete this calculation? It may be used by other visualizations.":"Are you sure you want to delete this calculation? It may be used by other visualizations.","Yes, delete":"Yes, delete","Totals only":"Totals only","Details only":"Details only",Loading:aee,"Data elements":"Data elements","Search by data element name":"Search by data element name",'No data elements found for "{{- searchTerm}}"':'No data elements found for "{{- searchTerm}}"',"No data elements found":"No data elements found","Drag items here, or double click in the list, to start building a calculation formula":"Drag items here, or double click in the list, to start building a calculation formula","Math operators":"Math operators","Data Type":"Data Type","Only {{dataType}} can be used in {{visType}}":"Only {{dataType}} can be used in {{visType}}","All types":"All types",Disaggregation:see,"No data":"No data","Expression description":"Expression description","Error loading value":"Error loading value",None:oee,"Data set(s)":"Data set(s)","Zero is significant":"Zero is significant",True:lee,False:cee,"Value type":"Value type","Aggregation type":"Aggregation type","Category combo":"Category combo","Option set":"Option set","Group membership":"Group membership","Legend set(s)":"Legend set(s)","Category option name":"Category option name","Category combo name":"Category combo name","Categories name":"Categories name","Period type":"Period type",Indicators:uee,"Expiry days":"Expiry days",Type:dee,"Data element":"Data element","Tracked entity attribute":"Tracked entity attribute","Numerator description":"Numerator description","Numerator expression":"Numerator expression","Denominator description":"Denominator description","Denominator expression":"Denominator expression",Annualized:hee,Yes:pee,No:mee,"Indicator type":"Indicator type","Decimals in output":"Decimals in output","There was a problem loading information for this data item.":"There was a problem loading information for this data item.",Name:fee,Description:gee,Code:yee,ID:vee,"Last updated date":"Last updated date","Created date":"Created date","Created by":"Created by",Custom:xee,Program:bee,"Analytics type":"Analytics type",Enrollment:_ee,Event:wee,"Analytics period boundaries":"Analytics period boundaries","{{ offsetPeriodType }} × {{ offsetPeriods }}":"{{ offsetPeriodType }} × {{ offsetPeriods }}",Expression:Tee,Filter:See,"Search by data item name":"Search by data item name","No items selected":"No items selected","Selected Items":"Selected Items","No indicators found":"No indicators found","No data sets found":"No data sets found","No event data items found":"No event data items found","No program indicators found":"No program indicators found","No calculations found":"No calculations found",'No indicators found for "{{- searchTerm}}"':'No indicators found for "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'No data sets found for "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'No event data items found for "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'No program indicators found for "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':'No calculations found for "{{- searchTerm}}"','Nothing found for "{{- searchTerm}}"':'Nothing found for "{{- searchTerm}}"',Calculation:Cee,"Metric type":"Metric type","All metrics":"All metrics","Move to {{axisName}}":"Move to {{axisName}}","Add to {{axisName}}":"Add to {{axisName}}","Not available for {{visualizationType}}":"Not available for {{visualizationType}}","Remove Assigned Categories":"Remove Assigned Categories","Add Assigned Categories":"Add Assigned Categories",Remove:Eee,"Filter dimensions":"Filter dimensions","Main dimensions":"Main dimensions","Your dimensions":"Your dimensions","Dimension recommended with selected data":"Dimension recommended with selected data","All items":"All items","Automatically include all items":"Automatically include all items","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.","Manually select items...":"Manually select items...","Nothing found in {{- dimensionTitle}}":"Nothing found in {{- dimensionTitle}}",Search:kee,"Nothing found for {{- searchTerm}}":"Nothing found for {{- searchTerm}}","Delete {{fileType}}":"Delete {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"This {{fileType}} and related interpretations will be deleted. Continue?",Delete:Lee,File:Nee,New:Iee,"Open…":"Open…",Save:Aee,"Save…":"Save…","Save as…":"Save as…","Rename…":"Rename…","Translate…":"Translate…","Share…":"Share…","Get link…":"Get link…","Open in this app":"Open in this app",Close:Pee,"Rename {{fileType}}":"Rename {{fileType}}",Rename:Mee,"{{- objectName}} (copy)":"{{- objectName}} (copy)","Save {{fileType}} as":"Save {{fileType}} as","event report":"event report","line list":"line list",map:Dee,visualization:Oee,Edit:Ree,"Write a reply":"Write a reply","Post reply":"Post reply","Delete failed":"Delete failed","Could not update comment":"Could not update comment","Enter comment text":"Enter comment text",Update:$ee,"Viewing interpretation: {{- visualisationName}}":"Viewing interpretation: {{- visualisationName}}","Could not load interpretation":"Could not load interpretation","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"The interpretation couldn’t be displayed. Try again or contact your system administrator.","Hide interpretation":"Hide interpretation","Write an interpretation":"Write an interpretation","Other people viewing this interpretation in the future may see more data.":"Other people viewing this interpretation in the future may see more data.","Post interpretation":"Post interpretation",Interpretations:zee,Reply:Fee,"{{count}} replies":"{{count}} reply","{{count}} replies_plural":"{{count}} replies","View replies":"View replies",Unlike:Bee,Like:jee,"See interpretation":"See interpretation","Open in app":"Open in app",Share:Uee,"Manage sharing":"Manage sharing","Could not update interpretation":"Could not update interpretation","Enter interpretation text":"Enter interpretation text","Not available offline":"Not available offline",Anyone:Gee,"Only you":"Only you",Others:Yee,"Not supported by this app yet":"Not supported by this app yet","Filter by name":"Filter by name",Created:Vee,"Last updated":"Last updated","Clear filters":"Clear filters","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}",Open:qee,"Couldn't load items":"Couldn't load items","There was a problem loading items. Try again or contact your system administrator.":"There was a problem loading items. Try again or contact your system administrator.","No items found. Create a new to get started.":"No items found. Create a new to get started.","No items found. Try adjusting your search or filter options to find what you're looking for.":"No items found. Try adjusting your search or filter options to find what you're looking for.","Create new":"Create new","Open a visualization":"Open a visualization","Loading visualizations":"Loading visualizations","Couldn't load visualizations":"Couldn't load visualizations","There was a problem loading visualizations. Try again or contact your system administrator.":"There was a problem loading visualizations. Try again or contact your system administrator.","No visualizations found. Click New visualization to get started.":"No visualizations found. Click New visualization to get started.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"No visualizations found. Try adjusting your search or filter options to find what you're looking for.","New visualization":"New visualization","Open a map":"Open a map","Loading maps":"Loading maps","Couldn't load maps":"Couldn't load maps","There was a problem loading maps. Try again or contact your system administrator.":"There was a problem loading maps. Try again or contact your system administrator.","No maps found. Click New map to get started.":"No maps found. Click New map to get started.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"No maps found. Try adjusting your search or filter options to find what you're looking for.","New map":"New map","Open a line list":"Open a line list","Loading line lists":"Loading line lists","Couldn't load line lists":"Couldn't load line lists","There was a problem loading line lists. Try again or contact your system administrator.":"There was a problem loading line lists. Try again or contact your system administrator.","No line lists found. Click New line list to get started.":"No line lists found. Click New line list to get started.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"No line lists found. Try adjusting your search or filter options to find what you're looking for.","New line list":"New line list",Options:Wee,Hide:Hee,"{{count}} org units":"{{count}} org unit","{{count}} org units_plural":"{{count}} org units","{{count}} levels":"{{count}} level","{{count}} levels_plural":"{{count}} levels","{{count}} groups":"{{count}} group","{{count}} groups_plural":"{{count}} groups","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Selected: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Nothing selected","User organisation unit":"User organisation unit","User sub-units":"User sub-units","User sub-x2-units":"User sub-x2-units","Select a level":"Select a level","Select a group":"Select a group","Deselect all":"Deselect all",Year:Xee,"Select year":"Select year",Period:Zee,"Selected Periods":"Selected Periods","Relative periods":"Relative periods","Fixed periods":"Fixed periods","No periods selected":"No periods selected",Daily:Kee,Weekly:Qee,"Weekly (Start Wednesday)":"Weekly (Start Wednesday)","Weekly (Start Thursday)":"Weekly (Start Thursday)","Weekly (Start Saturday)":"Weekly (Start Saturday)","Weekly (Start Sunday)":"Weekly (Start Sunday)","Bi-weekly":"Bi-weekly",Monthly:Jee,"Bi-monthly":"Bi-monthly",Quarterly:ete,"Six-monthly":"Six-monthly","Six-monthly April":"Six-monthly April",Yearly:tte,"Financial year (Start November)":"Financial year (Start November)","Financial year (Start October)":"Financial year (Start October)","Financial year (Start July)":"Financial year (Start July)","Financial year (Start April)":"Financial year (Start April)",Today:nte,Yesterday:ite,"Last 3 days":"Last 3 days","Last 7 days":"Last 7 days","Last 14 days":"Last 14 days","Last 30 days":"Last 30 days","Last 60 days":"Last 60 days","Last 90 days":"Last 90 days","Last 180 days":"Last 180 days","This week":"This week","Last week":"Last week","Last 4 weeks":"Last 4 weeks","Last 12 weeks":"Last 12 weeks","Last 52 weeks":"Last 52 weeks","Weeks this year":"Weeks this year","This bi-week":"This bi-week","Last bi-week":"Last bi-week","Last 4 bi-weeks":"Last 4 bi-weeks","This month":"This month","Last month":"Last month","Last 3 months":"Last 3 months","Last 6 months":"Last 6 months","Last 12 months":"Last 12 months","Months this year":"Months this year","This bi-month":"This bi-month","Last bi-month":"Last bi-month","Last 6 bi-months":"Last 6 bi-months","Bi-months this year":"Bi-months this year","This quarter":"This quarter","Last quarter":"Last quarter","Last 4 quarters":"Last 4 quarters","Quarters this year":"Quarters this year","This six-month":"This six-month","Last six-month":"Last six-month","Last 2 six-month":"Last 2 six-month","This financial year":"This financial year","Last financial year":"Last financial year","Last 5 financial years":"Last 5 financial years","This year":"This year","Last year":"Last year","Last 5 years":"Last 5 years","Last 10 years":"Last 10 years",Days:rte,Weeks:ate,"Bi-weeks":"Bi-weeks",Months:ste,"Bi-months":"Bi-months",Quarters:ote,"Six-months":"Six-months","Financial Years":"Financial Years",Years:lte,"Value: {{value}}":"Value: {{value}}","Bold text":"Bold text","Italic text":"Italic text","Link to a URL":"Link to a URL","Mention a user":"Mention a user","Add emoji":"Add emoji",Preview:cte,"Back to write mode":"Back to write mode","Interpretations and details":"Interpretations and details","Translating to":"Translating to","Choose a locale":"Choose a locale","Base locale reference":"Base locale reference","Choose a locale to translate from the menu above":"Choose a locale to translate from the menu above","Translate: {{objectName}}":"Translate: {{objectName}}","Save translations":"Save translations","Cannot save while offline":"Cannot save while offline","Could not load translations":"Could not load translations",Retry:ute,"Too many results. Try refining the search.":"Too many results. Try refining the search.","Search for a user":"Search for a user",'Searching for "{{- searchText}}"':'Searching for "{{- searchText}}"',"No results found":"No results found",Series:dte,Category:hte,Columns:pte,Rows:mte,Points:fte,"Reporting rate":"Reporting rate","Reporting rate on time":"Reporting rate on time","Actual reports":"Actual reports","Actual reports on time":"Actual reports on time","Expected reports":"Expected reports","Select a program":"Select a program","Indicator group":"Indicator group","All groups":"All groups",Indicator:gte,"No indicator groups found":"No indicator groups found","Loading indicator groups":"Loading indicator groups","Data element group":"Data element group","No data element groups found":"No data element groups found","Loading data element groups":"Loading data element groups","Data sets":"Data sets","Data set":"Data set","All data sets":"All data sets","Loading data sets":"Loading data sets","Event data items":"Event data items","All programs":"All programs","Event data item":"Event data item","No programs found":"No programs found","Loading programs":"Loading programs","Program indicators":"Program indicators","Program indicator":"Program indicator",Calculations:yte,Number:"Number","Formula is empty. Add items to the formula from the lists on the left.":"Formula is empty. Add items to the formula from the lists on the left.","Consecutive math operators":"Consecutive math operators","Consecutive data elements":"Consecutive data elements","Starts or ends with a math operator":"Starts or ends with a math operator","Empty parentheses":"Empty parentheses","Missing right parenthesis )":"Missing right parenthesis )","Missing left parenthesis (":"Missing left parenthesis (","Extra Small":"Extra Small",Small:vte,Regular:xte,Large:bte,"Extra Large":"Extra Large",Left:_te,Center:wte,Right:Tte,Start:Ste,Middle:Cte,End:Ete,Top:kte,Bottom:Lte,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} and {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} levels","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} groups","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} levels in {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} groups in {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% of total x values","{{percentage}}% of total y values":"{{percentage}}% of total y values","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Modified Z-score low","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Modified Z-score high","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Z-score low","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-score high","Not applicable":"Not applicable",Data:Nte,"Organisation unit":"Organisation unit","Assigned Categories":"Assigned Categories",Text:Ite,"Long text":"Long text","Multi text":"Multi text",Letter:Ate,"Phone number":"Phone number",Email:Pte,"Yes/No":"Yes/No","Yes Only":"Yes Only",Date:"Date","Date & Time":"Date & Time",Time:Mte,"Unit interval":"Unit interval",Percentage:Dte,Integer:Ote,"Positive Integer":"Positive Integer","Negative Integer":"Negative Integer","Positive or Zero Integer":"Positive or Zero Integer","Tracker Associate":"Tracker Associate",Username:Rte,Coordinate:$te,Reference:zte,Age:Fte,URL:Bte,Image:jte,GeoJSON:Ute,"Pivot table":"Pivot table",Area:Gte,"Stacked area":"Stacked area",Bar:Yte,"Stacked bar":"Stacked bar",Column:Vte,"Year over year (column)":"Year over year (column)","Stacked column":"Stacked column",Gauge:qte,Line:Wte,"Line list":"Line list","Year over year (line)":"Year over year (line)",Pie:Hte,Radar:Xte,Scatter:Zte,"Single value":"Single value","Outlier table":"Outlier table","All charts":"All charts","{{seriesName}} (trend)":"{{seriesName}} (trend)",Trend:Kte,"No legend for this series":"No legend for this series","and {{amount}} more...":"and {{amount}} more...","Linear Regression":"Linear Regression",Target:Qte,Base:Jte,"Axis {{axisId}}":"Axis {{axisId}}","{{count}} items":"{{count}} item","{{count}} items_plural":"{{count}} items","Reset zoom":"Reset zoom"},tne="Notificaciones",nne="Cancelar la suscripción",ine="Suscribirse",rne="Cancelar",ane="Cargando",sne="Desagregación",one="Cálculo",lne="Eliminar",cne="Buscar",une="Eliminar",dne="Fichero",hne="Nuevo",pne="Guardar",mne="Cerrar",fne="Nombre",gne="Descripción",yne="Renombrar",vne="mapa",xne="visualización",bne="Editar",_ne="Actualizar",wne="Interpretaciones",Tne="Responder",Sne="diferente a",Cne="como",Ene="Compartir",kne="Todos",Lne="Otros",Nne="Creado",Ine="Tipo",Ane="Abierto",Pne="Opciones",Mne="Ocultar",Dne="Año",One="Periodo",Rne="Diario",$ne="Semanal",zne="Mensual",Fne="Trimestral",Bne="Anual",jne="Hoy",Une="Ayer",Gne="Días",Yne="Semanas",Vne="Meses",qne="Trimestral",Wne="Años",Hne="Vista previa",Xne="Reintentar",Zne="Series",Kne="Categoría",Qne="filtro",Jne="Columnas",eie="Filas",tie="Puntos",nie="Programa",iie="Indicadores",rie="Indicadores",aie="Cálculos",sie="Pequeña",oie="Normal",lie="Grande",cie="Izquierdo",uie="Centrar",die="Derecha",hie="Comienzo",pie="Medio",mie="Fin",fie="Arriba",gie="Abajo",yie="Datos",vie="Área",xie="Barra",bie="Columna",_ie="Calibre",wie="Línea",Tie="Pastel",Sie="Radar",Cie="Dispersión",Eie="Tendencia",kie="Objetivo",Lie="Base",Nie={"view only":"Solo lectura","view and edit":"Ver y editar","all users ({{accessLevel}})":"todos los usuarios ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Compartido con {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"No compartido con ningún usuario o grupo.","No description":"Sin descripción","Last updated {{time}}":"Última actualización {{time}}","Created {{time}} by {{author}}":"Creado {{time}} por {{author}}","Created {{time}}":"Creado {{time}}","Viewed {{count}} times":"Visto 1 vez","Viewed {{count}} times_plural":"Visto {{count}} veces",Notifications:tne,"You're subscribed and getting updates about new interpretations.":"Está suscrito y recibiendo actualizaciones sobre nuevas interpretaciones.",Unsubscribe:nne,"Subscribe to get updates about new interpretations.":"Suscríbase para recibir actualizaciones sobre nuevas interpretaciones.",Subscribe:ine,"About this map":"Acerca de este mapa","About this line list":"Acerca de este listado","About this visualization":"Acerca de esta visualización","About this event chart":"Acerca de este gráfico de eventos","About this event report":"Acerca de este informe","This app could not retrieve required data.":"Esta aplicación no pudo recuperar los datos requeridos.","Network error":"Error de red","Data / Edit calculation":"Datos / Editar cálculo","Data / New calculation":"Datos / Nuevo cálculo","Remove item":"Quitar elemento","Check formula":"Comprobar fórmula","Calculation name":"Nombre del cálculo","Shown in table headers and chart axes/legends":"Se muestra en los encabezados de las tablas y en los ejes/leyendas de los gráficos","Delete calculation":"Eliminar cálculo",Cancel:rne,"The calculation can only be saved with a valid formula":"El cálculo solo puede guardarse con una fórmula válida","Add a name to save this calculation":"Añadir un nombre para guardar este cálculo","Save calculation":"Guardar cálculo","Are you sure you want to delete this calculation? It may be used by other visualizations.":"¿Está seguro de que desea eliminar este cálculo? Puede ser utilizado por otras visualizaciones.","Yes, delete":"si, eliminar","Totals only":"Solo totales","Details only":"Solo detalles",Loading:ane,"Data elements":"Elementos de datos","Search by data element name":"Búsqueda por nombre de elemento de datos",'No data elements found for "{{- searchTerm}}"':'No se han encontrado elementos de datos para "{{- searchTerm}}"',"No data elements found":"No se han encontrado elementos de datos","Drag items here, or double click in the list, to start building a calculation formula":"Arrastre elementos aquí, o haga doble clic en la lista, para comenzar a crear una fórmula de cálculo","Math operators":"Operadores matemáticos","Data Type":"Tipo de datos","Only {{dataType}} can be used in {{visType}}":"Sólo {{dataType}} se puede utilizar en {{visType}}","All types":"Todos los tipos",Disaggregation:sne,"No data":"No hay datos","Search by data item name":"Búsqueda por nombre de item de datos","No items selected":"No hay elementos seleccionados","Selected Items":"Elementos seleccionados","No indicators found":"No se han encontrado indicadores","No data sets found":"No se han encontrado sets de datos","No event data items found":"No se encontraron elementos para datos de eventos","No program indicators found":"No se han encontrado indicadores de programa","No calculations found":"No se encontraron cálculos",'No indicators found for "{{- searchTerm}}"':'No se han encontrado indicadores para "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'No se han encontrado sets de datos para "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'No se encontraron elementos para datos de eventos para "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'No se han encontrado indicadores de programa para "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':'No se encontraron cálculos para "{{- searchTerm}}"','Nothing found for "{{- searchTerm}}"':'No se encontró nada para "{{- searchTerm}}"',Calculation:one,"Metric type":"Tipo de métrica","All metrics":"Todas las métricas","Move to {{axisName}}":"Mover a {{axisName}}","Add to {{axisName}}":"Añadir a {{axisName}}","Not available for {{visualizationType}}":"No disponible para {{visualizationType}}","Remove Assigned Categories":"Eliminar categorías asignadas","Add Assigned Categories":"Añadir categorías asignadas",Remove:lne,"Filter dimensions":"Dimensiones del filtro","Main dimensions":"Dimensiones principales","Your dimensions":"Dimensiones propias","Dimension recommended with selected data":"Dimensión recomendada con datos seleccionados","All items":"Todos los elementos","Automatically include all items":"Incluir automáticamente todos los elementos","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Seleccionar todos los elementos {{- dimensionTitle}}. Con esta opción, los nuevos elementos que se añadan en el futuro se incluirán automáticamente.","Manually select items...":"Seleccionar manualmente los elementos...","Nothing found in {{- dimensionTitle}}":"No se encontró nada en {{- dimensionTitle}}",Search:cne,"Nothing found for {{- searchTerm}}":"No se encontró nada para {{- searchTerm}}","Delete {{fileType}}":"Eliminar {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"Este {{fileType}} y las interpretaciones relacionadas se eliminarán. ¿Continuar?",Delete:une,File:dne,New:hne,"Open…":"Abrir…",Save:pne,"Save…":"Guardar…","Save as…":"Guardar como…","Rename…":"Renombrar…","Translate…":"Traducir…","Share…":"Compartir…","Get link…":"Obtener enlace…","Open in this app":"Abierto en esta aplicación",Close:mne,"Rename {{fileType}}":"Renombrar {{fileType}}",Name:fne,Description:gne,Rename:yne,"{{- objectName}} (copy)":"{{- objectName}} (copia)","Save {{fileType}} as":"Guardar {{fileType}} como","event report":"informe de evento","line list":"listados",map:vne,visualization:xne,Edit:bne,"Write a reply":"Escribe una respuesta","Post reply":"Publicar respuesta","Delete failed":"Fallado el proceso de eliminar","Could not update comment":"No se pudo actualizar el comentario","Enter comment text":"Introducir el texto del comentario",Update:_ne,"Viewing interpretation: {{- visualisationName}}":"Visualización de la interpretación: {{- visualisationName}}","Could not load interpretation":"No se pudo cargar la interpretación","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"No se ha podido mostrar la interpretación. Vuelva a intentarlo o póngase en contacto con el administrador del sistema.","Hide interpretation":"Ocultar interpretación","Write an interpretation":"Escribir una interpretación","Other people viewing this interpretation in the future may see more data.":"Otras personas que vean esta interpretación en el futuro podrían ver más datos.","Post interpretation":"Interpretación posterior",Interpretations:wne,Reply:Tne,"{{count}} replies":"{{contar}} respuesta","{{count}} replies_plural":"{{count}} respuestas","View replies":"Ver respuestas",Unlike:Sne,Like:Cne,"See interpretation":"Ver interpretación","Open in app":"Abrir en la aplicación",Share:Ene,"Manage sharing":"Administrar compartir","Could not update interpretation":"No se pudo actualizar la interpretación","Enter interpretation text":"Introducir el texto de la interpretación","Not available offline":"No disponible sin conexión a internet","Created by":"Creado por",Anyone:kne,"Only you":"Solo tú",Others:Lne,"Not supported by this app yet":"Todavía no es soportado por esta aplicación","Filter by name":"Filtrar por nombre",Created:Nne,"Last updated":"Última actualización",Type:Ine,"Clear filters":"Limpiar filtros","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} de {{totalNumberOfItems}}",Open:Ane,"Couldn't load items":"No se pudieron cargar los elementos","There was a problem loading items. Try again or contact your system administrator.":"Hubo un problema al cargar los elementos. Vuelva a intentarlo o póngase en contacto con el administrador del sistema.","No items found. Create a new to get started.":"No se han encontrado elementos. Cree uno nuevo para comenzar.","No items found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado elementos. Intente ajustar las opciones de búsqueda o filtro para encontrar lo que está buscando.","Create new":"Crear nuevo","Open a visualization":"Abrir una visualización","Loading visualizations":"Cargando visualizaciones","Couldn't load visualizations":"No se pudieron cargar las visualizaciones","There was a problem loading visualizations. Try again or contact your system administrator.":"Hubo un problema al cargar las visualizaciones. Vuelva a intentarlo o póngase en contacto con el administrador del sistema.","No visualizations found. Click New visualization to get started.":"No se han encontrado visualizaciones. Haga clic en Nueva visualización para comenzar.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado visualizaciones. Intente ajustar las opciones de búsqueda o filtro para encontrar lo que está buscando.","New visualization":"Nueva visualización","Open a map":"Abrir un mapa","Loading maps":"Cargando mapas","Couldn't load maps":"No se pudieron cargar los mapas","There was a problem loading maps. Try again or contact your system administrator.":"Hubo un problema al cargar los mapas. Vuelva a intentarlo o póngase en contacto con el administrador del sistema.","No maps found. Click New map to get started.":"No se han encontrado mapas. Haga clic en Nuevo mapa para comenzar.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado mapas. Intente ajustar las opciones de búsqueda o filtro para encontrar lo que está buscando.","New map":"Nuevo mapa","Open a line list":"Abrir un listado","Loading line lists":"Cargar listados","Couldn't load line lists":"No se pudieron cargar los listados","There was a problem loading line lists. Try again or contact your system administrator.":"Hubo un problema al cargar las listas. Vuelva a intentarlo o póngase en contacto con el administrador del sistema.","No line lists found. Click New line list to get started.":"No se encontraron listas. Haga clic en Nueva lista para comenzar.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"No se encontraron listas. Intente ajustar sus opciones de búsqueda o filtro para encontrar lo que está buscando.","New line list":"Nuevo listado",Options:Pne,Hide:Mne,"{{count}} org units":"{{count}} unidad organizativa","{{count}} org units_plural":"{{count}} unidades organizativas","{{count}} levels":"{{count}} nivel","{{count}} levels_plural":"{{count}} niveles","{{count}} groups":"{{count}} grupo","{{count}} groups_plural":"{{count}} grupos","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Seleccionado: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Nada seleccionado","User organisation unit":"Unidad organizativa del usuario","User sub-units":"Subunidades de usuario","User sub-x2-units":"Sub-unidades-x2 de usuario","Select a level":"Selecciona un nivel","Select a group":"Selecciona un grupo","Deselect all":"Deseleccionar todo","Period type":"Tipo de periodo",Year:Dne,"Select year":"Seleccionar año",Period:One,"Selected Periods":"Periodos seleccionados","Relative periods":"Periodos relativos","Fixed periods":"Periodos fijos","No periods selected":"No se ha seleccionado ningún periodo",Daily:Rne,Weekly:$ne,"Weekly (Start Wednesday)":"Semanal (Inicio miércoles)","Weekly (Start Thursday)":"Semanal (Inicio jueves)","Weekly (Start Saturday)":"Semanal (Inicio sábado)","Weekly (Start Sunday)":"Semanal (Inicio domingo)","Bi-weekly":"Quincenal",Monthly:zne,"Bi-monthly":"Bimestral",Quarterly:Fne,"Six-monthly":"Semestral","Six-monthly April":"Semestral Abril",Yearly:Bne,"Financial year (Start November)":"Año fiscal (Inicio noviembre)","Financial year (Start October)":"Año fiscal (inicio octubre)","Financial year (Start July)":"Año fiscal (inicio Julio)","Financial year (Start April)":"Año fiscal (inicio Abril)",Today:jne,Yesterday:Une,"Last 3 days":"Últimos 3 días","Last 7 days":"Últimos 7 diass","Last 14 days":"Últimos 14 días","Last 30 days":"Últimos 30 días","Last 60 days":"Últimos 60 días","Last 90 days":"Últimos 90 días","Last 180 days":"Últimos 180 días","This week":"Esta semana","Last week":"Última semana","Last 4 weeks":"Últimas 4 semanas","Last 12 weeks":"Últimas 12 semanas","Last 52 weeks":"Últimas 52 semanas","Weeks this year":"Semanas de este año","This bi-week":"Esta quincena","Last bi-week":"Última quincena","Last 4 bi-weeks":"Últimas 4 quincenas","This month":"Este mes","Last month":"Mes anterior","Last 3 months":"Últimos 3 meses","Last 6 months":"Últimos 6 meses","Last 12 months":"Ultimos 12 meses","Months this year":"Meses este año","This bi-month":"Este bimestre","Last bi-month":"Bimestre anterior","Last 6 bi-months":"Últimos 6 bimestres","Bi-months this year":"Bimestres de este año","This quarter":"Este trimestre","Last quarter":"El trimestre pasado","Last 4 quarters":"Últimos 4 trimestres","Quarters this year":"Trimestres de este año","This six-month":"Este semestre","Last six-month":"Último semestre","Last 2 six-month":"Últimos 2 semestres","This financial year":"Este año fiscal","Last financial year":"Último ejercicio financiero","Last 5 financial years":"Últimos 5 ejercicios financieros","This year":"Este año","Last year":"El año pasado","Last 5 years":"Últimos 5 años","Last 10 years":"Últimos 10 años",Days:Gne,Weeks:Yne,"Bi-weeks":"Quincenales",Months:Vne,"Bi-months":"Bimestres",Quarters:qne,"Six-months":"Semestres","Financial Years":"Años fiscales",Years:Wne,"Bold text":"Texto en negrita","Italic text":"Texto en cursiva","Link to a URL":"Enlace a una URL","Mention a user":"Mencionar a un usuario","Add emoji":"Añadir emoji",Preview:Hne,"Back to write mode":"Volver al modo de escritura","Interpretations and details":"Interpretaciones y detalles","Translating to":"Traducir a","Choose a locale":"Elegir un idioma","Base locale reference":"Referencia de configuración regional base","Choose a locale to translate from the menu above":"Elegir un idioma para traducir desde el menú de arriba","Translate: {{objectName}}":"Traducir: {{objectName}}","Save translations":"Guardar traducciones","Cannot save while offline":"No se puede guardar sin conexión a internet","Could not load translations":"No se pudieron cargar las traducciones",Retry:Xne,"Too many results. Try refining the search.":"Demasiados resultados. Intenta refinar la búsqueda.","Search for a user":"Buscar un usuario",'Searching for "{{- searchText}}"':'Buscando "{{- searchText}}"',"No results found":"No results found",Series:Zne,Category:Kne,Filter:Qne,Columns:Jne,Rows:eie,Points:tie,"Reporting rate":"Tasa de informes","Reporting rate on time":"Tasa de informes a tiempo","Actual reports":"Informes reales","Actual reports on time":"Informes reales a tiempo","Expected reports":"Informes esperados",Program:nie,"Select a program":"Seleccionar un programa",Indicators:iie,"Indicator group":"Grupo de indicadores","All groups":"Todos los grupos",Indicator:rie,"No indicator groups found":"No se han encontrado grupos de indicadores","Loading indicator groups":"Cargando grupos de indicadores","Data element group":"Grupo de elemento de datos","Data element":"Elemento de datos","No data element groups found":"No se han encontrado grupos de elementos de datos","Loading data element groups":"Cargando grupos de elementos de datos","Data sets":"Sets de datos","Data set":"Set de Datos\\:","All data sets":"Todos los sets de datos","Loading data sets":"Cargando sets de datos","Event data items":"Datos de eventos","All programs":"Todos los programas","Event data item":"Event data item","No programs found":"No se han encontrado programas","Loading programs":"Cargando programas","Program indicators":"Indicadores de programa","Program indicator":"Indicador de Programa",Calculations:aie,Number:"Número","Formula is empty. Add items to the formula from the lists on the left.":"La fórmula está vacía. Añada elementos a la fórmula desde las listas de la izquierda.","Consecutive math operators":"Operadores matemáticos consecutivos","Consecutive data elements":"Elementos de datos consecutivos","Starts or ends with a math operator":"Comienza o termina con un operador matemático","Empty parentheses":"Paréntesis vacíos","Missing right parenthesis )":"Falta el paréntesis derecho )","Missing left parenthesis (":"Falta el paréntesis izquierdo (","Extra Small":"Extra pequeño",Small:sie,Regular:oie,Large:lie,"Extra Large":"Extra grande",Left:cie,Center:uie,Right:die,Start:hie,Middle:pie,End:mie,Top:fie,Bottom:gie,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} y {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} niveles","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} grupos","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} niveles en {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} grupos en {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% del total de valores x","{{percentage}}% of total y values":"{{percentage}}% del total de valores y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Z-score modificado bajo","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Z-score modificado  alto","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Z-score bajo","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-score alto",Data:yie,"Organisation unit":"Unidad organizativa","Assigned Categories":"Categorías asignadas","Pivot table":"Tabla dinámica",Area:vie,"Stacked area":"Área apilada",Bar:xie,"Stacked bar":"Barra apilada",Column:bie,"Year over year (column)":"Año tras año (columna)","Stacked column":"Columna apilada",Gauge:_ie,Line:wie,"Line list":"Listados","Year over year (line)":"Año tras año (línea)",Pie:Tie,Radar:Sie,Scatter:Cie,"Single value":"Valor único","Outlier table":"tabla de valores atípicos","All charts":"Todos los gráficos","{{seriesName}} (trend)":"{{seriesName}} (tendencia)",Trend:Eie,"No legend for this series":"Ninguna leyenda para esta serie","and {{amount}} more...":"y {{amount}} más...","Linear Regression":"Regresión lineal",Target:kie,Base:Lie,"Axis {{axisId}}":"Eje {{axisId}}","{{count}} items":"{{count}} elemento","{{count}} items_plural":"{{count}} artículos","Reset zoom":"Restablecer zoom"},Iie="Notificaciones",Aie="Cancelar suscripción",Pie="Suscríbase a",Mie="Cancelar",Die="Cargando",Oie="Desagregación",Rie="Cálculo",$ie="Eliminar",zie="Buscar",Fie="Borrar",Bie="Archivo",jie="Nuevo",Uie="Guardar",Gie="Cerrar",Yie="Nombre",Vie="Descripción",qie="Cambie el nombre de",Wie="mapa",Hie="visualización",Xie="Editar",Zie="Actualizar",Kie="Interpretaciones",Qie="Respuesta",Jie="A diferencia de",ere="Como",tre="Compartir",nre="Quien sea",ire="Otros",rre="Creado",are="Tipo",sre="Abierto",ore="Opciones",lre="Ocultar",cre="Año",ure="Periodo",dre="Diario",hre="Semanal",pre="Mensual",mre="Trimestral",fre="Anual",gre="Hoy",yre="Ayer",vre="Días",xre="Semanas",bre="Meses",_re="Cuartos",wre="Años",Tre="Vista previa",Sre="Reintentar",Cre="Serie",Ere="Categoría",kre="Filtro",Lre="Columnas",Nre="Filas",Ire="Puntos",Are="Programa",Pre="Indicadores",Mre="Indicador",Dre="Cálculos",Ore="Pequeña",Rre="Regular",$re="Grande",zre="Izquierda",Fre="Centro",Bre="Derecha",jre="Inicio",Ure="Medio",Gre="Fin",Yre="Top",Vre="Fondo",qre="Datos",Wre="Área",Hre="Bar",Xre="Columna",Zre="Indicador",Kre="Línea",Qre="Pastel",Jre="Radar",eae="Dispersión",tae="Tendencia",nae="Objetivo",iae="Base",rae={"view only":"ver sólo","view and edit":"ver y editar","all users ({{accessLevel}})":"todos los usuarios ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Compartido con {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"No se comparte con ningún usuario o grupo","No description":"Sin descripción","Last updated {{time}}":"Última actualización {{time}}","Created {{time}} by {{author}}":"Creado {{time}} por {{author}}","Created {{time}}":"Creado {{time}}","Viewed {{count}} times":"Visto 1 vez","Viewed {{count}} times_plural":"Visto {{count}} veces",Notifications:Iie,"You're subscribed and getting updates about new interpretations.":"Estás suscrito y recibes actualizaciones sobre nuevas interpretaciones.",Unsubscribe:Aie,"Subscribe to get updates about new interpretations.":"Suscríbase para recibir información actualizada sobre nuevas interpretaciones.",Subscribe:Pie,"About this map":"Acerca de este mapa","About this line list":"Acerca de esta lista","About this visualization":"Acerca de esta visualización","This app could not retrieve required data.":"Esta aplicación no pudo recuperar los datos requeridos.","Network error":"Error de red","Data / Edit calculation":"Datos / Editar cálculo","Data / New calculation":"Datos / Nuevo cálculo","Remove item":"Quitar elemento","Check formula":"Verificar fórmula","Calculation name":"Nombre del cálculo","Shown in table headers and chart axes/legends":"Se muestra en los encabezados de las tablas y en los ejes/leyendas de los gráficos","Delete calculation":"Borrar cálculo",Cancel:Mie,"The calculation can only be saved with a valid formula":"El cálculo sólo puede guardarse con una fórmula válida","Add a name to save this calculation":"Añada un nombre para guardar este cálculo","Save calculation":"Guardar cálculo","Are you sure you want to delete this calculation? It may be used by other visualizations.":"¿Está seguro de que desea eliminar este cálculo? Puede ser utilizado por otras visualizaciones.","Yes, delete":"Sí, borrar","Totals only":"Sólo totales","Details only":"Sólo detalles",Loading:Die,"Data elements":"Elementos de datos","Search by data element name":"Búsqueda por nombre de elemento de datos",'No data elements found for "{{- searchTerm}}"':'No se han encontrado datos para "{{- searchTerm}}"',"No data elements found":"No se han encontrado datos","Drag items here, or double click in the list, to start building a calculation formula":"Arrastre los elementos aquí, o haga doble clic en la lista, para empezar a construir una fórmula de cálculo","Math operators":"Operadores matemáticos","Data Type":"Tipo de datos","Only {{dataType}} can be used in {{visType}}":"Sólo {{dataType}} puede utilizarse en {{visType}}","All types":"Todos los tipos",Disaggregation:Oie,"No data":"No hay datos","Search by data item name":"Búsqueda por nombre de elemento de datos","No items selected":"No hay elementos seleccionados","Selected Items":"Artículos seleccionados","No indicators found":"No se han encontrado indicadores","No data sets found":"No se han encontrado conjuntos de datos","No event data items found":"No se han encontrado datos de eventos","No program indicators found":"No se han encontrado indicadores de programa","No calculations found":"No se han encontrado cálculos",'No indicators found for "{{- searchTerm}}"':'No se han encontrado indicadores para "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'No se han encontrado conjuntos de datos para "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'No se han encontrado datos de eventos para "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'No se han encontrado indicadores de programa para "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':'No se han encontrado cálculos para "{{- searchTerm}}"','Nothing found for "{{- searchTerm}}"':'No se ha encontrado nada para "{{- searchTerm}}"',Calculation:Rie,"Metric type":"Tipo de métrica","All metrics":"Todas las métricas","Move to {{axisName}}":"Mover a {{axisName}}","Add to {{axisName}}":"Añadir a {{axisName}}","Not available for {{visualizationType}}":"No disponible para {{visualizationType}}","Remove Assigned Categories":"Eliminar categorías asignadas","Add Assigned Categories":"Añadir categorías asignadas",Remove:$ie,"Filter dimensions":"Dimensiones del filtro","Main dimensions":"Dimensiones principales","Your dimensions":"Sus dimensiones","Dimension recommended with selected data":"Dimensión recomendada con datos seleccionados","All items":"Todos los artículos","Automatically include all items":"Incluir automáticamente todos los elementos","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Seleccionar todos los elementos {{- dimensionTitle}}. Con esta opción, los nuevos elementos que se añadan en el futuro se incluirán automáticamente.","Manually select items...":"Seleccionar elementos manualmente...","Nothing found in {{- dimensionTitle}}":"No se ha encontrado nada en {{- dimensionTitle}}",Search:zie,"Nothing found for {{- searchTerm}}":"No se ha encontrado nada para {{- searchTerm}}","Delete {{fileType}}":"Borrar {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"Este {{fileType}} y las interpretaciones relacionadas serán eliminados. ¿Continuar?",Delete:Fie,File:Bie,New:jie,"Open…":"Abrir...",Save:Uie,"Save…":"Guardar...","Save as…":"Guardar como...","Rename…":"Renombrar...","Translate…":"Traducir...","Share…":"Compartir...","Get link…":"Obtener enlace...","Open in this app":"Abrir en esta aplicación",Close:Gie,"Rename {{fileType}}":"Cambie el nombre de {{fileType}}",Name:Yie,Description:Vie,Rename:qie,"{{- objectName}} (copy)":"{{- objectName}} (copia)","Save {{fileType}} as":"Guardar {{fileType}} como","event report":"informe del evento","line list":"lista",map:Wie,visualization:Hie,Edit:Xie,"Write a reply":"Escribir una respuesta","Post reply":"Respuesta","Delete failed":"Eliminación fallida","Could not update comment":"No se ha podido actualizar el comentario","Enter comment text":"Introduzca el texto del comentario",Update:Zie,"Viewing interpretation: {{- visualisationName}}":"Interpretación de la visualización: {{- visualisationName}}","Could not load interpretation":"No se ha podido cargar la interpretación","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"No se ha podido mostrar la interpretación. Inténtelo de nuevo o póngase en contacto con el administrador del sistema.","Hide interpretation":"Ocultar interpretación","Write an interpretation":"Escribir una interpretación","Other people viewing this interpretation in the future may see more data.":"Otras personas que vean esta interpretación en el futuro podrían ver más datos.","Post interpretation":"Interpretación de puestos",Interpretations:Kie,Reply:Qie,"{{count}} replies":"{{count}} respuesta","{{count}} replies_plural":"{{count}} responde","View replies":"Ver respuestas",Unlike:Jie,Like:ere,"See interpretation":"Ver interpretación","Open in app":"Abrir en aplicación",Share:tre,"Manage sharing":"Gestionar el uso compartido","Could not update interpretation":"No se ha podido actualizar la interpretación","Enter interpretation text":"Introducir texto de interpretación","Not available offline":"No disponible sin conexión","Created by":"Creado por",Anyone:nre,"Only you":"Sólo tú",Others:ire,"Not supported by this app yet":"Esta aplicación aún no es compatible","Filter by name":"Filtrar por nombre",Created:rre,"Last updated":"Última actualización",Type:are,"Clear filters":"Limpiar filtros","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} de {{totalNumberOfItems}}",Open:sre,"Couldn't load items":"No se pueden cargar los artículos","There was a problem loading items. Try again or contact your system administrator.":"Se ha producido un problema al cargar los artículos. Inténtelo de nuevo o póngase en contacto con el administrador del sistema.","No items found. Create a new to get started.":"No se han encontrado artículos. Crea uno nuevo para empezar.","No items found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado artículos. Prueba a ajustar las opciones de búsqueda o filtro para encontrar lo que buscas.","Create new":"Crear nuevo","Open a visualization":"Abrir una visualización","Loading visualizations":"Cargando visualizaciones","Couldn't load visualizations":"No se pueden cargar las visualizaciones","There was a problem loading visualizations. Try again or contact your system administrator.":"Se ha producido un problema al cargar las visualizaciones. Inténtelo de nuevo o póngase en contacto con el administrador del sistema.","No visualizations found. Click New visualization to get started.":"No se han encontrado visualizaciones. Haga clic en Nueva visualización para empezar.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado visualizaciones. Prueba a ajustar las opciones de búsqueda o filtro para encontrar lo que buscas.","New visualization":"Nueva visualización","Open a map":"Abrir un mapa","Loading maps":"Cargando mapas","Couldn't load maps":"No se pueden cargar los mapas","There was a problem loading maps. Try again or contact your system administrator.":"Se ha producido un problema al cargar los mapas. Inténtalo de nuevo o ponte en contacto con el administrador del sistema.","No maps found. Click New map to get started.":"No se han encontrado mapas. Haga clic en Nuevo mapa para empezar.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado mapas. Prueba a ajustar las opciones de búsqueda o filtro para encontrar lo que buscas.","New map":"Nuevo mapa","Open a line list":"Abrir una lista","Loading line lists":"Carga de listas de líneas","Couldn't load line lists":"No se pueden cargar las listas","There was a problem loading line lists. Try again or contact your system administrator.":"Se ha producido un problema al cargar las listas. Inténtelo de nuevo o póngase en contacto con el administrador del sistema.","No line lists found. Click New line list to get started.":"No se ha encontrado ninguna lista. Haga clic en Nueva lista de líneas para empezar.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"No se han encontrado listas. Prueba a ajustar las opciones de búsqueda o filtro para encontrar lo que buscas.","New line list":"Nueva lista",Options:ore,Hide:lre,"{{count}} org units":"{{count}} unidad org","{{count}} org units_plural":"{{count}} unidades org","{{count}} levels":"{{count}} nivel","{{count}} levels_plural":"{{count}} niveles","{{count}} groups":"{{count}} grupo","{{count}} groups_plural":"{{count}} grupos","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Seleccionado: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Nada seleccionado","User organisation unit":"Unidad organizativa del usuario","User sub-units":"Subunidades de usuario","User sub-x2-units":"Subunidadesx2 de usuario","Select a level":"Seleccione un nivel","Select a group":"Seleccione un grupo","Deselect all":"Deseleccionar todo","Period type":"Tipo de período",Year:cre,"Select year":"Seleccione el año",Period:ure,"Selected Periods":"Períodos seleccionados","Relative periods":"Periodos relativos","Fixed periods":"Periodos fijos","No periods selected":"No hay periodos seleccionados",Daily:dre,Weekly:hre,"Weekly (Start Wednesday)":"Semanal (Inicio miércoles)","Weekly (Start Thursday)":"Semanal (Inicio jueves)","Weekly (Start Saturday)":"Semanal (inicio el sábado)","Weekly (Start Sunday)":"Semanal (Inicio el domingo)","Bi-weekly":"Cada dos semanas",Monthly:pre,"Bi-monthly":"Bimensual",Quarterly:mre,"Six-monthly":"Semestral","Six-monthly April":"Semestral Abril",Yearly:fre,"Financial year (Start November)":"Ejercicio financiero (Inicio en noviembre)","Financial year (Start October)":"Ejercicio financiero (Inicio en octubre)","Financial year (Start July)":"Ejercicio financiero (inicio en julio)","Financial year (Start April)":"Ejercicio financiero (Inicio en abril)",Today:gre,Yesterday:yre,"Last 3 days":"Últimos 3 días","Last 7 days":"Últimos 7 días","Last 14 days":"Últimos 14 días","Last 30 days":"Últimos 30 días","Last 60 days":"Últimos 60 días","Last 90 days":"Últimos 90 días","Last 180 days":"Últimos 180 días","This week":"Esta semana","Last week":"Última semana","Last 4 weeks":"Últimas 4 semanas","Last 12 weeks":"Últimas 12 semanas","Last 52 weeks":"Últimas 52 semanas","Weeks this year":"Semanas de este año","This bi-week":"Esta quincena","Last bi-week":"Última quincena","Last 4 bi-weeks":"Últimas 4 bisemanas","This month":"Este mes","Last month":"Mes anterior","Last 3 months":"Últimos 3 meses","Last 6 months":"Últimos 6 meses","Last 12 months":"Últimos 12 meses","Months this year":"Meses este año","This bi-month":"Este bimestre","Last bi-month":"Último bimestre","Last 6 bi-months":"Últimos 6 bimestres","Bi-months this year":"Bimensuales este año","This quarter":"Este trimestre","Last quarter":"El trimestre pasado","Last 4 quarters":"Últimos 4 trimestres","Quarters this year":"Trimestres de este año","This six-month":"Estos seis meses","Last six-month":"Últimos seis meses","Last 2 six-month":"Últimos 2 semestres","This financial year":"Este año fiscal","Last financial year":"Último ejercicio financiero","Last 5 financial years":"Últimos 5 ejercicios","This year":"Este año","Last year":"El año pasado","Last 5 years":"Últimos 5 años","Last 10 years":"Últimos 10 años",Days:vre,Weeks:xre,"Bi-weeks":"Dos semanas",Months:bre,"Bi-months":"Bimensual",Quarters:_re,"Six-months":"Seis meses","Financial Years":"Ejercicios financieros",Years:wre,"Bold text":"Texto en negrita","Italic text":"Texto en cursiva","Link to a URL":"Enlace a una URL","Mention a user":"Mencionar a un usuario","Add emoji":"Añadir emoji",Preview:Tre,"Back to write mode":"Volver al modo de escritura","Interpretations and details":"Interpretaciones y detalles","Translating to":"Traducir a","Choose a locale":"Elija una localidad","Base locale reference":"Referencia de la configuración regional básica","Choose a locale to translate from the menu above":"Elija la configuración regional que desee traducir en el menú superior","Translate: {{objectName}}":"Traduce: {{objectName}}","Save translations":"Guardar traducciones","Cannot save while offline":"No se puede guardar sin conexión","Could not load translations":"No se han podido cargar las traducciones",Retry:Sre,"Too many results. Try refining the search.":"Demasiados resultados. Intenta refinar la búsqueda.","Search for a user":"Buscar un usuario",'Searching for "{{- searchText}}"':'Buscando "{{- searchText}}"',"No results found":"No se han encontrado resultados",Series:Cre,Category:Ere,Filter:kre,Columns:Lre,Rows:Nre,Points:Ire,"Reporting rate":"Índice de notificación","Reporting rate on time":"Tasa de notificación puntual","Actual reports":"Informes reales","Actual reports on time":"Informes reales a tiempo","Expected reports":"Informes previstos",Program:Are,"Select a program":"Seleccione un programa",Indicators:Pre,"Indicator group":"Grupo de indicadores","All groups":"Todos los grupos",Indicator:Mre,"No indicator groups found":"No se han encontrado grupos de indicadores","Loading indicator groups":"Grupos de indicadores de carga","Data element group":"Grupo de elementos de datos","Data element":"Elemento de datos","No data element groups found":"No se han encontrado grupos de elementos de datos","Loading data element groups":"Carga de grupos de elementos de datos","Data sets":"Sets de datos","Data set":"Conjunto de datos","All data sets":"Todos los conjuntos de datos","Loading data sets":"Carga de conjuntos de datos","Event data items":"Datos del evento","All programs":"Todos los programas","Event data item":"Datos del evento","No programs found":"No se han encontrado programas","Loading programs":"Carga de programas","Program indicators":"Indicadores del programa","Program indicator":"Indicador de programa",Calculations:Dre,Number:"Número","Formula is empty. Add items to the formula from the lists on the left.":"La fórmula está vacía. Añada elementos a la fórmula desde las listas de la izquierda.","Consecutive math operators":"Operadores matemáticos consecutivos","Consecutive data elements":"Elementos de datos consecutivos","Starts or ends with a math operator":"Comienza o termina con un operador matemático","Empty parentheses":"Paréntesis vacíos","Missing right parenthesis )":"Falta el paréntesis derecho )","Missing left parenthesis (":"Falta el paréntesis izquierdo (","Extra Small":"Extra pequeña",Small:Ore,Regular:Rre,Large:$re,"Extra Large":"Extra grande",Left:zre,Center:Fre,Right:Bre,Start:jre,Middle:Ure,End:Gre,Top:Yre,Bottom:Vre,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} y {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} niveles","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} grupos","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} niveles en {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} grupos en {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% del total de valores x","{{percentage}}% of total y values":"{{percentage}}% del total de valores y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Puntuación Z modificada baja","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Puntuación Z modificada alta","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Puntuación Z baja","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Puntuación Z alta",Data:qre,"Organisation unit":"Unidad organizativa","Assigned Categories":"Categorías asignadas","Pivot table":"Tabla dinámica",Area:Wre,"Stacked area":"Área apilada",Bar:Hre,"Stacked bar":"Barra apilada",Column:Xre,"Year over year (column)":"Año sobre año (columna)","Stacked column":"Columna apilada",Gauge:Zre,Line:Kre,"Line list":"Lista de líneas","Year over year (line)":"Año sobre año (línea)",Pie:Qre,Radar:Jre,Scatter:eae,"Single value":"Valor único","Outlier table":"Tabla de valores atípicos","All charts":"Todos los gráficos","{{seriesName}} (trend)":"{{seriesName}} (tendencia)",Trend:tae,"No legend for this series":"No hay leyenda para esta serie","and {{amount}} more...":"y {{amount}} más...","Linear Regression":"Regresión lineal",Target:nae,Base:iae,"Axis {{axisId}}":"Eje {{axisId}}","{{count}} items":"{{count}} artículo","{{count}} items_plural":"{{count}} artículos","Reset zoom":"Restablecer zoom"},aae="Notifications",sae="",oae="",lae="Annuler",cae="Chargement",uae="Disaggregation",dae="",hae="Supprimer",pae="Chercher",mae="Supprimer",fae="Fichier",gae="Nouveau",yae="Enregistrer",vae="Fermer",xae="Nom",bae="Description",_ae="Renommer",wae="carte",Tae="",Sae="Modifier",Cae="Mettre à jour",Eae="Interprétations",kae="Répondre",Lae="Je n'aime plus",Nae="J'aime",Iae="Partager",Aae="Toute personne",Pae="Autres",Mae="Créé",Dae="Type",Oae="Ouvrir",Rae="Options",$ae="Masquer",zae="Année",Fae="Période",Bae="Quotidien",jae="Hebdomadaire",Uae="Mensuel",Gae="Trimestriel",Yae="Annuel",Vae="Aujourd'hui",qae="Hier",Wae="Jours",Hae="Semaines",Xae="Mois",Zae="Trimestres",Kae="Années",Qae="Aperçu",Jae="",ese="Séries",tse="Catégorie",nse="Filtrer",ise="Colonnes",rse="Lignes",ase="Points",sse="Programme",ose="Indicateurs",lse="Indicateur",cse="",use="Petit",dse="Régulier",hse="Grand",pse="Gauche",mse="Centre",fse="Droite",gse="Démarrer",yse="Milieu",vse="Fin",xse="Haut",bse="Bas",_se="Données",wse="Aire",Tse="Bar",Sse="Colonne",Cse="Jauge",Ese="Ligne",kse="Tarte",Lse="Radar",Nse="Dispersion",Ise="Tendance",Ase="Cible",Pse="Base",Mse={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Aucune description","Last updated {{time}}":"Dernière mise à jour à {{time}}","Created {{time}} by {{author}}":"Créé à {{time}} par {{author}} ","Created {{time}}":"Créé à {{time}}","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:aae,"You're subscribed and getting updates about new interpretations.":"Vous êtes abonné et recevez les mises à jour pour les nouvelles interprétations.",Unsubscribe:sae,"Subscribe to get updates about new interpretations.":"",Subscribe:oae,"About this map":"À propos de cette carte","About this line list":"","About this visualization":"À propos de cette visualisation","This app could not retrieve required data.":"Cette application n'a pas pu récupérer les données nécessaires.","Network error":"Erreur réseau","Data / Edit calculation":"","Data / New calculation":"","Remove item":"Supprimer l'élément","Check formula":"","Calculation name":"Nom du calcul","Shown in table headers and chart axes/legends":"","Delete calculation":"Supprimer le calcul",Cancel:lae,"The calculation can only be saved with a valid formula":"Le calcul ne peut être sauvegardé qu'avec une formule correcte","Add a name to save this calculation":"Ajouter un nom pour sauvegarder ce calcul","Save calculation":"Sauvegarder le calcul","Are you sure you want to delete this calculation? It may be used by other visualizations.":"Êtes-vous certain de vouloir supprimer ce calcul ? Il est peut être utilisé par d'autres visualisations.","Yes, delete":"Oui, supprimer","Totals only":"Totaux uniquement","Details only":"Détails seulement",Loading:cae,"Data elements":"Eléments de données","Search by data element name":"Rechercher par le nom d'élément de donnée",'No data elements found for "{{- searchTerm}}"':'Aucun élément de données trouvé pour "{{- searchTerm}}"',"No data elements found":"Aucun élément de donnée trouvé","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"Opérateurs mathématiques","Data Type":"Type de données","Only {{dataType}} can be used in {{visType}}":"","All types":"Tous les types",Disaggregation:uae,"No data":"Aucune donnée","Search by data item name":"Rechercher par le nom de la donnée","No items selected":"Aucun élément sélectionné","Selected Items":"Éléments sélectionnés","No indicators found":"Aucun indicateur trouvé","No data sets found":"Aucun ensemble de données trouvé","No event data items found":"Aucun éléments de données événement trouvé","No program indicators found":"Aucun Indicateurs de programme trouvé","No calculations found":"Aucun calcul trouvé",'No indicators found for "{{- searchTerm}}"':'Aucun indicateur trouvé pour "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'Aucune donnée trouvée pour "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'Aucune donnée événement retrouvée pour "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'Aucun Indicateur de programme trouvé pour "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':'Rien retrouvé pour "{{- searchTerm}}"',Calculation:dae,"Metric type":"Type de métrique","All metrics":"Tous les éléments","Move to {{axisName}}":"Déménager à {{axisName}}","Add to {{axisName}}":"Ajouter à {{axisName}} ","Not available for {{visualizationType}}":"Non disponible pour {{visualizationType}}","Remove Assigned Categories":"Supprimer les Catégories Attribuées","Add Assigned Categories":"Ajouter des Catégories Affectées",Remove:hae,"Filter dimensions":"Dimensions du filtre","Main dimensions":"Dimensions principales","Your dimensions":"Vos dimensions","Dimension recommended with selected data":"Dimension recommandée avec les données sélectionnées","All items":"Tous les items","Automatically include all items":"Inclure tous les éléments automatiquement","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:pae,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"Supprimer {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:mae,File:fae,New:gae,"Open…":"Ouvrir",Save:yae,"Save…":"Enregistrer...","Save as…":"Enregistrer sous...","Rename…":"Renommer...","Translate…":"Traduire...","Share…":"Partager...","Get link…":"Obtenir le lien...","Open in this app":"Ouvrir dans cette app",Close:vae,"Rename {{fileType}}":"Renommer {{fileType}}",Name:xae,Description:bae,Rename:_ae,"{{- objectName}} (copy)":"","Save {{fileType}} as":"Enregistrer {{fileType}} comme","event report":"Rapport d'évènements","line list":"",map:wae,visualization:Tae,Edit:Sae,"Write a reply":"Ecrire une réponse","Post reply":"","Delete failed":"Échec de la suppression","Could not update comment":"Échec de l'actualisation du commentaire","Enter comment text":"",Update:Cae,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"Échec du chargement de l'interprétation","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"L'interprétation n'a pas pu être affichée. Veuillez réessayer ou contacter votre administrateur système.","Hide interpretation":"Masquer l'interprétation","Write an interpretation":"Ecrire une interprétation","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:Eae,Reply:kae,"{{count}} replies":"{{count}} réponses","{{count}} replies_plural":"{{count}} réponses","View replies":"Voir les réponses",Unlike:Lae,Like:Nae,"See interpretation":"","Open in app":"Ouvrir dans l'application",Share:Iae,"Manage sharing":"Gérer le partage","Could not update interpretation":"Échec de l'actualisation de l'interprétation","Enter interpretation text":"","Not available offline":"Non disponible hors ligne","Created by":"Créé par",Anyone:Aae,"Only you":"",Others:Pae,"Not supported by this app yet":"","Filter by name":"Filtrer par nom",Created:Mae,"Last updated":"Dernière mise à jour",Type:Dae,"Clear filters":"Effacer les filtres","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:Oae,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Créer nouveau","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"Ouvrir une carte","Loading maps":"Chargement des cartes","Couldn't load maps":"Échec du chargement des cartes","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"Aucune carte trouvée. Cliquez sur Nouvelle carte pour commencer.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:Rae,Hide:$ae,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Sélectionné : {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Rien n'a été sélectionné","User organisation unit":"Unités d'organisation de l'utilisateur","User sub-units":"Sous-unités de l'utilisateur","User sub-x2-units":"Sous-unités utilisateur x2","Select a level":"Sélectionnez un niveau","Select a group":"Sélectionner un groupe","Deselect all":"Desélectionner tout","Period type":"Type de période",Year:zae,"Select year":"Sélectionnez année",Period:Fae,"Selected Periods":"Périodes sélectionnées","Relative periods":"Périodes relatives","Fixed periods":"Périodes fixes","No periods selected":"Aucune périodes n'est sélectionnée",Daily:Bae,Weekly:jae,"Weekly (Start Wednesday)":"Hebdomadaire (début mercredi)","Weekly (Start Thursday)":"Hebdomadaire (début jeudi)","Weekly (Start Saturday)":"Hebdomadaire (début samedi)","Weekly (Start Sunday)":"Hebdomadaire (début dimanche)","Bi-weekly":"Bi-hebdomadaire",Monthly:Uae,"Bi-monthly":"Bimensuel",Quarterly:Gae,"Six-monthly":"Semestriel","Six-monthly April":"Six-mois avril",Yearly:Yae,"Financial year (Start November)":"Fiscale Novembre","Financial year (Start October)":"Financière Octobre","Financial year (Start July)":"Financière Juillet","Financial year (Start April)":"Financière Avril",Today:Vae,Yesterday:qae,"Last 3 days":"3 derniers jours","Last 7 days":"7 derniers jours","Last 14 days":"14 dernier jours","Last 30 days":"Les 30 derniers jours","Last 60 days":"60 derniers jours","Last 90 days":"90 derniers jours","Last 180 days":"180 derniers jours","This week":"Cette semaine","Last week":"Semaine passée","Last 4 weeks":"4 dernières semaines","Last 12 weeks":"12 dernières semaines","Last 52 weeks":"52 dernières semaines","Weeks this year":"Semaines cette année","This bi-week":"Cette quinzaine","Last bi-week":"Dernière quinzaine","Last 4 bi-weeks":"4 dernières quinzaines","This month":"Ce mois-ci","Last month":"Le mois dernier","Last 3 months":"3 derniers mois","Last 6 months":"6 derniers mois","Last 12 months":"12 derniers mois","Months this year":"Mois cette année","This bi-month":"Ces 2 dernières semaines","Last bi-month":"Dernier bi-mestre","Last 6 bi-months":"6 derniers bimestres","Bi-months this year":"Bimensuels cette année","This quarter":"Ce trimestre","Last quarter":"Trimestre précédent","Last 4 quarters":"4 derniers trimestres","Quarters this year":"Trimestres cette année","This six-month":"Ce semestre","Last six-month":"Dernier semestre","Last 2 six-month":"2 derniers semestres","This financial year":"Année fiscale en cours","Last financial year":"Dernière année financière","Last 5 financial years":"5 dernières années financières","This year":"Année en cours","Last year":"L'année passée","Last 5 years":"5 dernières années","Last 10 years":"10 dernières années",Days:Wae,Weeks:Hae,"Bi-weeks":"Bi-hebdomadaires",Months:Xae,"Bi-months":"Bimensuel",Quarters:Zae,"Six-months":"Semestres","Financial Years":"Années fiscales",Years:Kae,"Bold text":"Texte en gras","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:Qae,"Back to write mode":"","Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:Jae,"Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Aucun résultat trouvé",Series:ese,Category:tse,Filter:nse,Columns:ise,Rows:rse,Points:ase,"Reporting rate":"Taux de déclaration","Reporting rate on time":"Taux de notification à temps","Actual reports":"Rapports réels","Actual reports on time":"Rapports réels à temps","Expected reports":"Rapports attendus",Program:sse,"Select a program":"Sélectionnez un programme",Indicators:ose,"Indicator group":"Groupe d'indicateurs","All groups":" Tous les groupes",Indicator:lse,"No indicator groups found":"Aucun groupe d'indicateurs trouvé","Loading indicator groups":"Chargement des groupes d'indicateurs","Data element group":"Groupe d'éléments de données","Data element":"Élément de données","No data element groups found":"Aucun groupe d'éléments de donnée trouvé","Loading data element groups":"Chargement de groupes d'éléments de données","Data sets":"Ensembles de données","Data set":"Ensemble de données","All data sets":"Tous les ensembles de données","Loading data sets":"Chargement d'ensemble de données","Event data items":"Eléments de données évènement","All programs":"Tous les programmes","Event data item":"Elément de données évènement","No programs found":"Aucun programme trouvé","Loading programs":"Chargement des programmes","Program indicators":"Program indicators","Program indicator":"Gestion des indicateurs de programme",Calculations:cse,Number:"Nombre","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Super petit",Small:use,Regular:dse,Large:hse,"Extra Large":"Très grand",Left:pse,Center:mse,Right:fse,Start:gse,Middle:yse,End:vse,Top:xse,Bottom:bse,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} et {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} niveaux","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} groupes","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} niveaux dans {{staticOuNames}} ","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} groupes dans {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% de nombre total de X valeurs","{{percentage}}% of total y values":"{{percentage}}% de nombre total de Y valeurs","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Modifié Z-score faible","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Modifié Z-score élevé","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Z-score faible","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-score élevé",Data:_se,"Organisation unit":"Unité d'organisation","Assigned Categories":"Catégories attribuées","Pivot table":"Tableau croisé dynamique",Area:wse,"Stacked area":"Zone empilée",Bar:Tse,"Stacked bar":"Bar empilé",Column:Sse,"Year over year (column)":"Année après année (colonne)","Stacked column":"Colonne empilée",Gauge:Cse,Line:Ese,"Line list":"Liste des lignes","Year over year (line)":"Année après année (ligne)",Pie:kse,Radar:Lse,Scatter:Nse,"Single value":"Valeur unique","Outlier table":"","All charts":"","{{seriesName}} (trend)":"{{seriesName}} (tendance)",Trend:Ise,"No legend for this series":"Aucune légende pour ces séries","and {{amount}} more...":"et {{amount}} plus...","Linear Regression":"Régression linéaire",Target:Ase,Base:Pse,"Axis {{axisId}}":"Axe {{axisId}}","{{count}} items":"","{{count}} items_plural":"","Reset zoom":"Réinitialiser le zoom"},Dse="",Ose="",Rse="",$se="Batal",zse="Loading",Fse="Disagregasi",Bse="",jse="Hapus",Use="Pencarian",Gse="Hapus",Yse="Mengajukan",Vse="Baru",qse="Simpan",Wse="Tutup",Hse="Nama",Xse="Deskripsi",Zse="Ganti nama",Kse="",Qse="",Jse="Sunting",eoe="Perbarui",toe="Interpretasi",noe="Balas",ioe="Batalkan Suka",roe="Suka",aoe="Bagikan",soe="",ooe="Siapa saja",loe="Yang lain",coe="Dibuat",uoe="Tipe",doe="Buka",hoe="Opsi",poe="Sembunyikan",moe="Tahun",foe="Periode",goe="Harian",yoe="Mingguan",voe="Bulanan",xoe="Triwulanan",boe="Tahunan",_oe="Hari ini",woe="Kemarin",Toe="Hari",Soe="Minggu",Coe="Bulan",Eoe="Triwulan",koe="Tahun",Loe="",Noe="Seri",Ioe="Kategori",Aoe="Saring",Poe="kolom",Moe="Baris",Doe="Poin",Ooe="Program",Roe="Indikator",$oe="Indikator",zoe="",Foe="Kecil",Boe="Reguler",joe="Besar",Uoe="Kiri",Goe="Pusat",Yoe="Kanan",Voe="Mulai",qoe="Tengah",Woe="Akhir",Hoe="Atas",Xoe="Bawah",Zoe="Data",Koe="Area",Qoe="Bar",Joe="Kolom",ele="Meteran",tle="Garis",nle="Pie",ile="Radar",rle="Scatter",ale="Tren",sle="Target",ole="Dasar",lle={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Tidak ada deskripsi","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:Dse,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:Ose,"Subscribe to get updates about new interpretations.":"",Subscribe:Rse,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:$se,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"Total saja","Details only":"Detail saja",Loading:zse,"Data elements":"Data elemen","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':'Tidak ada elemen data yang ditemukan untuk "{{- searchTerm}}"',"No data elements found":"Tidak ada elemen data yang ditemukan","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"Tipe Data","All types":"Semua jenis",Disaggregation:Fse,"No data":"Tidak ada data","Search by data item name":"Cari berdasarkan nama item data","No items selected":"Tidak ada item yang dipilih","Selected Items":"Item yang Dipilih","No indicators found":"Tidak ada indikator yang ditemukan","No data sets found":"Tidak ada kumpulan data yang ditemukan","No event data items found":"Tidak ada item data acara yang ditemukan","No program indicators found":"Tidak ada indikator program yang ditemukan",'No indicators found for "{{- searchTerm}}"':'Tidak ada indikator yang ditemukan untuk "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'Tidak ada kumpulan data yang ditemukan untuk "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'Tidak ditemukan item data peristiwa untuk "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'Tidak ada indikator program yang ditemukan untuk "{{- searchTerm}}"','Nothing found for "{{- searchTerm}}"':'Tidak ada yang ditemukan untuk "{{- searchTerm}}"',Calculation:Bse,"Metric type":"Jenis metrik","All metrics":"Semua metrik","Move to {{axisName}}":"Pindah ke {{axisName}}","Add to {{axisName}}":"Tambahkan ke {{axisName}}","Not available for {{visualizationType}}":"Tidak tersedia untuk {{visualizationType}}","Remove Assigned Categories":"Hapus Kategori yang Ditugaskan","Add Assigned Categories":"Tambahkan Kategori yang Ditugaskan",Remove:jse,"Filter dimensions":"Filter dimensi","Main dimensions":"Dimensi utama","Your dimensions":"Dimensi Anda","Dimension recommended with selected data":"Dimensi yang direkomendasikan dengan data terpilih","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:Use,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"Hapus {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"{{fileType}} ini dan interpretasi terkait akan dihapus. Terus?",Delete:Gse,File:Yse,New:Vse,"Open…":"Buka…",Save:qse,"Save…":"Menyimpan…","Save as…":"Simpan sebagai…","Rename…":"Ganti nama…","Translate…":"Menterjemahkan…","Share…":"Bagikan…","Get link…":"Dapatkan tautan…","Open in this app":"Buka di aplikasi ini",Close:Wse,"Rename {{fileType}}":"Ganti nama {{fileType}}",Name:Hse,Description:Xse,Rename:Zse,"{{- objectName}} (copy)":"","Save {{fileType}} as":"Simpan {{fileType}} sebagai","event report":"","line list":"",map:Kse,visualization:Qse,Edit:Jse,"Write a reply":"","Post reply":"","Delete failed":"Hapus yang gagal","Could not update comment":"","Enter comment text":"",Update:eoe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:toe,Reply:noe,"{{count}} replies":"balasan {{count}} ","View replies":"",Unlike:ioe,Like:roe,Share:aoe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:soe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Tidak ada hasil ditemukan","Not available offline":"","Created by":"Dibuat oleh",Anyone:ooe,"Only you":"Hanya kamu",Others:loe,"Not supported by this app yet":"","Filter by name":"Filter menurut nama",Created:coe,"Last updated":"Terakhir diperbarui",Type:uoe,"Clear filters":"Hapus penyaring","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} dari {{totalNumberOfItems}}",Open:doe,"Couldn't load items":"Tidak dapat memuat item","There was a problem loading items. Try again or contact your system administrator.":"Terjadi masalah saat memuat item. Coba lagi atau hubungi administrator sistem Anda.","No items found. Create a new to get started.":"Tidak ada item yang ditemukan. Buat yang baru untuk memulai.","No items found. Try adjusting your search or filter options to find what you're looking for.":"Tidak ada item yang ditemukan. Coba sesuaikan opsi penelusuran atau filter untuk menemukan apa yang Anda cari.","Create new":"Membuat baru","Open a visualization":"Buka visualisasi","Loading visualizations":"Memuat visualisasi","Couldn't load visualizations":"Tidak dapat memuat visualisasi","There was a problem loading visualizations. Try again or contact your system administrator.":"Terjadi masalah saat memuat visualisasi. Coba lagi atau hubungi administrator sistem Anda.","No visualizations found. Click New visualization to get started.":"Tidak ada visualisasi yang ditemukan. Klik Visualisasi baru untuk memulai.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"Tidak ada visualisasi yang ditemukan. Coba sesuaikan opsi penelusuran atau filter untuk menemukan apa yang Anda cari.","New visualization":"Visualisasi baru","Open a map":"Buka peta","Loading maps":"Memuat peta","Couldn't load maps":"Tidak dapat memuat peta","There was a problem loading maps. Try again or contact your system administrator.":"Terjadi masalah saat memuat peta. Coba lagi atau hubungi administrator sistem Anda.","No maps found. Click New map to get started.":"Tidak ada peta yang ditemukan. Klik Peta baru untuk memulai.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"Tidak ada peta yang ditemukan. Coba sesuaikan opsi penelusuran atau filter untuk menemukan apa yang Anda cari.","New map":"peta baru","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:hoe,Hide:poe,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"Subunit pengguna","User sub-x2-units":"Sub-x2-unit pengguna","Select a level":"","Select a group":"","Deselect all":"Batal pilih semua","Period type":"Tipe periode",Year:moe,"Select year":"Pilih tahun",Period:foe,"Relative periods":"Periode relatif","Fixed periods":"Periode tetap","Selected Periods":"Periode yang Dipilih","No periods selected":"Tidak ada periode yang dipilih",Daily:goe,Weekly:yoe,"Weekly (Start Wednesday)":"Mingguan (Mulai Rabu)","Weekly (Start Thursday)":"Mingguan (Mulai Kamis)","Weekly (Start Saturday)":"Mingguan (Mulai Sabtu)","Weekly (Start Sunday)":"Mingguan (Mulai Minggu)","Bi-weekly":"Dwiwulanan",Monthly:voe,"Bi-monthly":"Dwiwulanan",Quarterly:xoe,"Six-monthly":"Semester","Six-monthly April":"Semester April",Yearly:boe,"Financial year (Start November)":"Keuangan tahunan (Mulai November)","Financial year (Start October)":"Financial October","Financial year (Start July)":"Financial July","Financial year (Start April)":"Financial April",Today:_oe,Yesterday:woe,"Last 3 days":"3 hari terakhir","Last 7 days":"7 hari terakhir","Last 14 days":"14 hari terakhir","Last 30 days":"30 hari terakhir","Last 60 days":"60 hari terakhir","Last 90 days":"90 hari terakhir","Last 180 days":"180 hari terakhir","This week":"Minggu ini","Last week":"Minggu lalu","Last 4 weeks":"4 minggu terakhir","Last 12 weeks":"12 minggu terakhir","Last 52 weeks":"52 minggu terakhir","Weeks this year":"Mingguan tahun ini","This bi-week":"Dwiwulan ini","Last bi-week":"Dwiwulan terakhir","Last 4 bi-weeks":"4 dwiwulan terakhir","This month":"Bulan ini","Last month":"Bulan lalu","Last 3 months":"3 bulan terakhir","Last 6 months":"6 bulan terakhir","Last 12 months":"12 bulan terakhir","Months this year":"Bulanan tahun ini","This bi-month":"2 bulan ini","Last bi-month":"Dwiwulan terakhir","Last 6 bi-months":"6 dwiwulan terakhir","Bi-months this year":"Dwiwulanan tahun ini","This quarter":"Triwulan ini","Last quarter":"Triwulan yang lalu","Last 4 quarters":"4 triwulan terakhir","Quarters this year":"Triwulanan tahun ini","This six-month":"6 bulan ini","Last six-month":"Semester lalu","Last 2 six-month":"2 enam bulan terakhir","This financial year":"Tahun finansial ini","Last financial year":"Tahun finansial kemarin","Last 5 financial years":"5 tahun finansial terakhir","This year":"Tahun ini","Last year":"Tahun kemarin","Last 5 years":"5 tahun terakhir","Last 10 years":"10 tahun terakhir",Days:Toe,Weeks:Soe,"Bi-weeks":"Dwiwulan",Months:Coe,"Bi-months":"Dwiwulan",Quarters:Eoe,"Six-months":"Semester","Financial Years":"Keuangan tahunan",Years:koe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:Loe,Series:Noe,Category:Ioe,Filter:Aoe,Columns:Poe,Rows:Moe,Points:Doe,"Reporting rate":"Tingkat pelaporan","Reporting rate on time":"Tingkat pelaporan tepat waktu","Actual reports":"Laporan sesungguhnya","Actual reports on time":"Laporan sesungguhnya yang tepat waktu","Expected reports":"Laporan yang diharapkan",Program:Ooe,"Select a program":"Pilih program",Indicators:Roe,"Indicator group":"grup indikator","All groups":"Semua grup",Indicator:$oe,"No indicator groups found":"Tidak ada grup indikator yang ditemukan","Loading indicator groups":"Memuat grup indikator","Data element group":"Grup elemen data","Data element":"Elemen data","No data element groups found":"Tidak ada grup elemen data yang ditemukan","Loading data element groups":"Memuat grup elemen data","Data sets":"Data set","Data set":"Data set","All data sets":"Semua kumpulan data","Loading data sets":"Memuat kumpulan data","Event data items":"Item data event","All programs":"Semua program","Event data item":"Data item pada even","No programs found":"Tidak ada program yang ditemukan","Loading programs":"Memuat program","Program indicators":"Indikator program","Program indicator":"Indikator program",Calculations:zoe,Number:"Angka","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Ekstra kecil",Small:Foe,Regular:Boe,Large:joe,"Extra Large":"Ekstra besar",Left:Uoe,Center:Goe,Right:Yoe,Start:Voe,Middle:qoe,End:Woe,Top:Hoe,Bottom:Xoe,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} dan {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} level","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} grup","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} level di {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} grup di {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% dari total nilai x","{{percentage}}% of total y values":"{{percentage}}% dari total nilai y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Modifikasi Z-score rendah","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Modifikasi Z-score tinggi","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Z-skor rendah","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-skor tinggi",Data:Zoe,"Organisation unit":"Unit organisasi","Assigned Categories":"Kategori yang Ditugaskan","Pivot table":"Tabel Pivot",Area:Koe,"Stacked area":"Area bertumpuk",Bar:Qoe,"Stacked bar":"Bar tumpuk",Column:Joe,"Year over year (column)":"Tahun ke tahun (kolom)","Stacked column":"Kolom tumpuk",Gauge:ele,Line:tle,"Line list":"Daftar garis","Year over year (line)":"Tahun ke tahun (garis)",Pie:nle,Radar:ile,Scatter:rle,"Single value":"Nilai tunggal","All charts":"Semua grafik","{{seriesName}} (trend)":"{{seriesName}} (tren)",Trend:ale,"No legend for this series":"Tidak ada legenda untuk seri ini","and {{amount}} more...":"dan {{amount}} lainnya...","Linear Regression":"Regresi linier",Target:sle,Base:ole,"Axis {{axisId}}":"Sumbu {{axisId}}","{{count}} items":"","Reset zoom":"Setel ulang zoom"},cle="",ule="",dle="",hle="បោះបង់",ple="Loading",mle="",fle="",gle="យកចេញ",yle="ស្វែងរក",vle="​លុប​",xle="",ble="ថ្មី",_le="រក្សាទុក​",wle="បិទ",Tle="ឈ្មោះ",Sle="ការ​ពិពណ៌នា",Cle="ប្ដូរ​ឈ្មោះ",Ele="",kle="",Lle="កែសម្រួល​",Nle="ធ្វើ​បច្ចុប្បន្នភាព",Ile="កន្លែងសន្ទនារ",Ale="",Ple="",Mle="ឆ្លើយតប",Dle="ចែករំលែក",Ole="",Rle="",$le="",zle="",Fle="",Ble="បើក",jle="",Ule="",Gle="ឆ្នាំ",Yle="កំឡុងពេល",Vle="រាល់​ថ្ងៃ",qle="រាល់​សប្ដាហ៍",Wle="រាល់​ខែ",Hle="រាល់ត្រីមាស",Xle="ប្រចាំឆ្នាំ",Zle="",Kle="កាលពីម្សិលមិញ",Qle="ថ្ងៃ",Jle="សប្ដាហ៏",ece="ខែ",tce="",nce="ឆ្នាំ",ice="",rce="",ace="",sce="",oce="",lce="",cce="",uce="",dce="Indicators",hce="សួចនាករ",pce="",mce="",fce="",gce="",yce="Left",vce="",xce="Right",bce="",_ce="",wce="",Tce="",Sce="",Cce="Data",Ece="",kce="",Lce="",Nce="",Ice="",Ace="",Pce="",Mce="",Dce="",Oce="",Rce="",$ce={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:cle,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:ule,"Subscribe to get updates about new interpretations.":"",Subscribe:dle,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:hle,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:ple,"Data elements":"Data elements","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:mle,"No data":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:fle,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:gle,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:yle,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:vle,File:xle,New:ble,"Open…":"",Save:_le,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:wle,"Rename {{fileType}}":"",Name:Tle,Description:Sle,Rename:Cle,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:Ele,visualization:kle,Edit:Lle,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:Nle,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:Ile,Unlike:Ale,Like:Ple,Reply:Mle,Share:Dle,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:Ole,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"មិនមានលទ្ធផលបង្ហាញ","Not available offline":"","Created by":"",Anyone:Rle,"Only you":"",Others:$le,"Not supported by this app yet":"","Filter by name":"",Created:zle,"Last updated":"បាន​ធ្វើ​បច្ចុប្បន្នភាព​ចុងក្រោយ",Type:Fle,"Clear filters":"លុបចោលការច្រោះមើលទិន្នន័យ","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:Ble,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:jle,Hide:Ule,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Period type",Year:Gle,"Select year":"",Period:Yle,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",Daily:Vle,Weekly:qle,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:Wle,"Bi-monthly":"រាល់ពីរសប្តាហ៍",Quarterly:Hle,"Six-monthly":"រាល់ឆមាស","Six-monthly April":"ប្រចាំឆមាស​ពីខែមេសា",Yearly:Xle,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:Zle,Yesterday:Kle,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:Qle,Weeks:Jle,"Bi-weeks":"",Months:ece,"Bi-months":"",Quarters:tce,"Six-months":"","Financial Years":"",Years:nce,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:ice,Series:rce,Category:ace,Filter:sce,Columns:oce,Rows:lce,Points:cce,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:uce,"Select a program":"",Indicators:dce,"Indicator group":"Indicator group","All groups":"",Indicator:hce,"No indicator groups found":"","Loading indicator groups":"","Data element group":"","Data element":"ទិន្នន័យធាតុដើម","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"Data set","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:pce,Number:"តួរលេខ","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:mce,Regular:fce,Large:gce,"Extra Large":"",Left:yce,Center:vce,Right:xce,Start:bce,Middle:_ce,End:wce,Top:Tce,Bottom:Sce,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:Cce,"Organisation unit":"ផ្នែក​នៃ​អង្គការ","Assigned Categories":"","Pivot table":"",Area:Ece,"Stacked area":"",Bar:kce,"Stacked bar":"",Column:Lce,"Year over year (column)":"","Stacked column":"",Gauge:Nce,Line:Ice,"Line list":"","Year over year (line)":"",Pie:Ace,Radar:Pce,Scatter:Mce,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:Dce,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:Oce,Base:Rce,"Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""},zce="ການແຈ້ງເຕືອນ",Fce="ຍົກເລີກການສະໝັກ",Bce="ສະໝັກ",jce="ຍົກເລີກ",Uce="ກໍາລັງໂຫຼດ",Gce="Disaggregation",Yce="ການຄິດໄລ່",Vce="ລົບອອກ",qce="ຄົນຫາ",Wce="ລົບ",Hce="ເອກະສານ",Xce="ສ້າງໃຫມ່",Zce="ບັນທຶກ",Kce="ປິດ",Qce="ຊື່",Jce="ລາຍລະອຽດ",eue="ປ່ຽນຊື່",tue="ແຜນທີ່",nue="ການສ້າງພາບຂໍ້ມູນ",iue="ແກ້ໄຂ",rue="ປັບປຸງ",aue="ການແປຂໍ້ມູນ",sue="ຕອບກັບ",oue="ບໍ່ມັກ",lue="ມັກ",cue="ເຜີຍແຜ່",uue="ທຸກຄົນ",due="ອື່ນໆ",hue="ສ້າງແລ້ວ",pue="ຊະນິດ",mue="ເປີດ",fue="ຈັດການ",gue="ເຊື່ອງ",yue="ປີ",vue="ຊ່ວງເວລາ",xue="ທຸກໆມື້",bue="ເປັນອາທິດ",_ue="ລາຍເດືອນ",wue="ໄຕມາດ",Tue="ລາຍປີ",Sue="ມື້ນີ້",Cue="ມື້ວານນີ",Eue="ມື້",kue="ອາທິດ",Lue="ເດືອນ",Nue="ໄຕມາດ",Iue="ປີ",Aue="ເບິ່ງຕົວຢ່າງ",Pue="ລອງໃໝ່",Mue="ແທ່ງ",Due="ລວງນອນ",Oue="ຕົວກອງ",Rue="ຖັນ",$ue="ແຖວ",zue="ຄະແນນ",Fue="ໂປແກຼມ",Bue="ຕົວຊີ້ວັດ",jue="ຕົວຊີ້ວັດ",Uue="ຄິດໄລ່",Gue="ນ້ອຍ",Yue="ທຳມະດາ",Vue="ໃຫຍ່",que="ຊ້າຍ",Wue="ກາງ",Hue="ຂວາ",Xue="Start",Zue="ກາງ",Kue="ຈົບ",Que="ເທິງສຸດ",Jue="ລຸ່ມສຸດ",ede="ຂໍ້ມູນ",tde="ພື້ນທີ່",nde="ແຖບ",ide="ຖັນ",rde="ເຄື່ອງວັດແທກ",ade="ເສັ້ນ",sde="ພາຍ",ode="ເຣດາ",lde="ກະແຈກກະຈາຍ",cde="ແນວໂນ້ມ",ude="ເປົ້າໝາຍ",dde="ຖານ",hde={"view only":"ເບິ່ງຢ່າງດຽວ","view and edit":"ເບິ່ງ ແລະ ແກ້ໄຂ","all users ({{accessLevel}})":"ຜູ້ໃຊ້ທັງໝົດ ( {{accessLevel}} )","{{userOrGroup}} ({{accessLevel}})":" {{userOrGroup}} ({{accessLevel}} )","Shared with {{commaSeparatedListOfUsersAndGroups}}":"ແບ່ງປັນໃຫ້ກັບ {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"ບໍ່ໃຫ້ແບ່ງປັນກັບຜູ້ໃຊ້ ແລະ ກຸ່ມອື່ນ","No description":"ບໍ່ມີລາຍລະອຽດ","Last updated {{time}}":"ແກ້ໄຂລ່າສຸດ {{time}}","Created {{time}} by {{author}}":"ສ້າງ {{time}} ໂດຍ {{author}}","Created {{time}}":"ສ້າງ {{time}}","Viewed {{count}} times":"ກວດເບິ່ງ {{count}} ຄັ້ງ",Notifications:zce,"You're subscribed and getting updates about new interpretations.":"ທ່ານກົດປູ່ມສະໜັກ ເພື່ອຈະໄດ້ອັບເດດ ແລະ ຮັບຂໍ້ມູນໃໝ່",Unsubscribe:Fce,"Subscribe to get updates about new interpretations.":"ສະໝັກເພື່ອທີ່ຈະຮັບຮູ້ຂໍ້ມູນໃໝ່",Subscribe:Bce,"About this map":"ກ່ຽວກັບແຜນທີ່","About this line list":"ກ່ຽວກັບບັນຊີລາຍຊື່","About this visualization":"ກ່ຽວກັບການສ້າງພາບຂໍ້ມູນ","About this event chart":"ກ່ຽວກັບເຫດການແຜນຜັງ","About this event report":"ກ່ຽວກັບບົດລາຍງານເຫດການຕ່າງໆ","This app could not retrieve required data.":"ແອັບນີ້ບໍ່ສາມາດດຶງຂໍ້ມູນທີ່ຕ້ອງການໄດ້","Network error":"ຂໍ້ຜິດພາດທາງເຄື່ອຂ່າຍ","Data / Edit calculation":"ຂໍ້ມູນ / ແກ້ໄຂການຄິດໄລ່","Data / New calculation":"ຂໍ້ມູນ / ຄິດໄລ່ໃໝ່","Remove item":"ເອົາລາຍການອອກ","Check formula":"ກວດເບິ່ງສູດ","Calculation name":"ຊື່ການຄິດໄລ່","Shown in table headers and chart axes/legends":"ສະ​ແດງ​​ຢູ່​ເທິງຕາ​ຕະ​ລາງ​ ແລະ​ ແກນ​ແຜນ​ວາດ","Delete calculation":"ລົບການຄິດໄລ່",Cancel:jce,"The calculation can only be saved with a valid formula":"ການຄິດໄລ່ແມ່ນຖືກບັນທຶກດ້ວຍສູດທີ່ຖືກຕ້ອງເທົ່ານັ້ນ","Add a name to save this calculation":"ເພີ່ມຊື່ເພື່ບັນທຶກການຄິດໄລ່","Save calculation":"ບັນທຶກການຄິດໄລ່","Are you sure you want to delete this calculation? It may be used by other visualizations.":"ເຈົ້າແນ່ໃຈບໍ່ສິລືບຂໍ້ມູນການຄິດໄລ່ນີ້? ຂໍ້ມູນດັ້ງກ່າວອາດຈະຖືກນໍາໃຊ້ໃນການສ້າງພາບຂໍ້ມູນໃໝ່ກໍ່ເປັນໄດ້","Yes, delete":"ຢືນຢັນ, ລົບ","Totals only":"ທັງໝົດເທົ່ານັ້ນ","Details only":"ລາຍລະອຽດເທົ່ານັ້ນ",Loading:Uce,"Data elements":"ອົງປະກອບຂໍ້ມູນ","Search by data element name":"ຄົ້ນຫາໂດຍຊື່ອົງປະກອບຂໍ້ມູນ",'No data elements found for "{{- searchTerm}}"':'ບໍ່ພົບອົງປະກອບຂໍ້ມູນຂອງ "{{- searchTerm}}"',"No data elements found":"ບໍ່ພົບອົງປະກອບຂໍ໊ມູນ","Drag items here, or double click in the list, to start building a calculation formula":"ລາກລາຍການມາບ່ອນນີ້, ຫຼືຄລິກສອງເທື່ອໃນລາຍການເພື່ອສ້າງສູດການຄິດໄລ່","Math operators":"ຕົວປະຕິບັດການຄະນິດສາດ","Data Type":"ຊະນິດຂໍ້ມູນ","Only {{dataType}} can be used in {{visType}}":"ມີພຽງ  {{dataType}} ທີສາມາດໃຊ້ໃນ {{visType}}","All types":"ທຸກຊະນິດ",Disaggregation:Gce,"No data":"ບໍ່ມີຂໍ້ມູນ","Search by data item name":"ຄົ້ນຫາໂດຍຊື່ລາຍການຂໍ້ມູນ","No items selected":"ບໍ່ມີລາຍການທີ່ຖືກເລືອກ","Selected Items":"ລາຍການທີ່ເລືອກ","No indicators found":"ບໍ່ພົບຕົວຊີ້ວັດ","No data sets found":"ບໍ່ພົບຊຸດຂໍ້ມູນ","No event data items found":"ບໍ່ພົບຂໍ້ມູນເຫດການ","No program indicators found":"ບໍ່ພົບໂປຼແກຼມຕົວຊີ້ວັດ","No calculations found":"ບໍ່ພົບການຄິດໄລ່",'No indicators found for "{{- searchTerm}}"':'ບໍ່ພົບຕົວຊີ້ວັດສຳລັບ "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'ບໍ່ພົບຊຸດຂໍ້ມູນສຳລັບ "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'ບໍ່ພົບຂໍ້ມູນເຫດການສຳລັບ "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'ບໍ່ພົບໂປຼແກຼມຕົວຊີ້ວັດສຳລັບ "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':'ບໍ່ພົບການຄິດໄລ່ສຳລັບ "{{- serachTerm}}"','Nothing found for "{{- searchTerm}}"':'ບໍ່ພົບຫຍັງສຳລັບ "{{- searchTerm}}"',Calculation:Yce,"Metric type":"ຫົວໜ່ວຍວັດແທກ","All metrics":"ທຸກການປັບປຸງ","Move to {{axisName}}":"ຍ້າຍໄປ {{axisName}}","Add to {{axisName}}":"ເພີ່ມໃສ່ {{axisName}}","Not available for {{visualizationType}}":"ບໍ່ມີສໍາລັບ {{visualizationType}}","Remove Assigned Categories":"ລົບກຸ່ມທີ່ຖືກມອບໝາຍ","Add Assigned Categories":"ເພີ່ມກຸ່ມທີ່ຖືກມອບໝາຍ",Remove:Vce,"Filter dimensions":"ຂະໜາດຕົວຕອງ","Main dimensions":"ຕົວຕອງທີ່ສຳຄັນ","Your dimensions":"ຂະໜາດຂອງທ່ານ","Dimension recommended with selected data":"ຂະໜາດທີ່ແນະນຳດ້ວຍຂໍ້ມູນທີ່ເລືອກ","All items":"ລາຍການທັງໝົດ","Automatically include all items":"ເພີ່ມລາຍການທັງໝົດໂດຍອັດຕະໂນມັດ","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"ເລືອກລາຍການທັງໝົດ {{- dimensionTitle}}  ດ້ວຍຕົວເລືອກນີ້, ລາຍການໃໝ່ທີ່ເພີ່ມເຂົ້າມາໃນຄັ້ງໜ້າຈະຖືກເພີ່ມຂົ້າໂດຍອັດຕະໂນມັດ.","Manually select items...":"ເລືອກລາຍການດ້ວຍຕົນເອງ...","Nothing found in {{- dimensionTitle}}":"ບໍ່ຖືກຄົ້ນພົບໃນ {{- dimensionTitle}}",Search:qce,"Nothing found for {{- searchTerm}}":"ບໍ່ຖືກຄົ້ນພົບສຳລັບ  {{- searchTerm}}","Delete {{fileType}}":"ລົບ {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"{{fileType}} ນີ້ ແລະ ການຮັບຂໍ້ມູນທີ່ກ່ຽວຂ້ອງຈະຖືກລົບ. ສືບຕໍ່ບໍ່?",Delete:Wce,File:Hce,New:Xce,"Open…":"ເປີດ...",Save:Zce,"Save…":"ບັນທຶກ...","Save as…":"ບັນທຶກເປັນ...","Rename…":"ປ່ຽນຊື່...","Translate…":"ແປ...","Share…":"ແບ່ງປັນ...","Get link…":"ເອົາລິ້ງ...","Open in this app":"ເປີດແອ໋ບນີ້",Close:Kce,"Rename {{fileType}}":"ປ່ຽນຊື່ {{fileType}}",Name:Qce,Description:Jce,Rename:eue,"{{- objectName}} (copy)":"{{- ຊື່ອົງປະກອບ}} (copy)","Save {{fileType}} as":"ບັນທຶກ {{fileType}} ເປັນ","event report":"ລາຍງານເຫດການ","line list":"ບັນຊີລາຍຊື່",map:tue,visualization:nue,Edit:iue,"Write a reply":"ຂຽນການຕອບກັບ","Post reply":"ຕອບກ່ອນໜ້າ","Delete failed":"ການລົບລົ້ມເຫຼວ","Could not update comment":"ບໍ່ສາມາດອັບເດດຄຳເຫັນໄດ້","Enter comment text":"ປ້ອນຄຳເຫັນ",Update:rue,"Viewing interpretation: {{- visualisationName}}":"ເບິ່ງຂໍ້ຄວາມ: {{- visualisationName}}","Could not load interpretation":"ບໍ່ສາມາດໂຫຼດຂໍ້ຄວາມ","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"ຂໍ້ຄວາມບໍ່ສາມາດສະແດງໄດ້, ລອງອີກຄັ້ງ ຫຼື ຕິດຕໍ່ຜູ້ເບິ່ງແຍງລະບົບຂອງທ່ານ","Hide interpretation":"ເຊື່ອງຂໍ້ຄວາມ","Write an interpretation":"ຂຽນຂໍ້ຄວາມ","Other people viewing this interpretation in the future may see more data.":"ຄົນອື່ນໆທີ່ເບິ່ງຂໍ້ຄວາມໃນຄັ້ງໜ້າອາດຈະເຫັນຂໍ້ມູນເພີ່ມ","Post interpretation":"ຮັບຂໍ້ມູນກ່ອນໜ້າ",Interpretations:aue,Reply:sue,"{{count}} replies":"{{count}} ການຕອບກັບ","View replies":"ເບິ່ງການຕອບກັບ",Unlike:oue,Like:lue,"See interpretation":"ສະແດງຂໍ້ຄວາມ","Open in app":"ເປີດໃນແອ໋ບ",Share:cue,"Manage sharing":"ຈັດການການເຜີຍແຜ່","Could not update interpretation":"ບໍ່ສາມາດອັບເດດຂໍ້ຄວາມ","Enter interpretation text":"ປ້ອນຂໍ້ຄວາມ","Not available offline":"ບໍ່ສາມາດໃຊ້ໄດ້ອອບລາຍ","Created by":"ສ້າງໂດຍ",Anyone:uue,"Only you":"ທ່ານຄົນດຽວ",Others:due,"Not supported by this app yet":"ແອັບນີ້ຍັງບໍ່ສາມາດຮອງຮັບເທື່ອ","Filter by name":"ກັ່ນຕອງຈາກຊື່",Created:hue,"Last updated":"ປັບປຸງ​ຄັ້ງຫລ້າສຸດ",Type:pue,"Clear filters":"ປັບປຸງເຄື່ອງມືຄັດຈ້ອນ","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}} {{lastItemIndex}} ຂອງ {{totalNumberOfItems}}",Open:mue,"Couldn't load items":"ບໍ່ສາມາດໂຫຼດລາຍການໄດ້","There was a problem loading items. Try again or contact your system administrator.":"ມີບັນຫາໃນການໂຫຼດລາຍການ. ລອງອີກຄັ້ງ ຫຼື ຕິດຕໍ່ຜູ້ດູແລລະບົບຂອງທ່ານ.","No items found. Create a new to get started.":"ບໍ່ພົບລາຍການທີ່ຄົ້ນຫາ. ສ້າງໃໝ່ເພື່ອເລີ່ມຕົ້ນ.","No items found. Try adjusting your search or filter options to find what you're looking for.":"ບໍ່ພົບລາຍການ. ລອງປັບຕົວເລືອກການຄົ້ນຫາ ຫຼື ຕົວກອງເພື່ອສິ່ງທີ່ທ່ານກໍາລັງຄົ້ນຫາ.","Create new":"ສ້າງໃໝ່","Open a visualization":"ເປີດພາບຂໍ້ມູນ","Loading visualizations":"ໂຫຼດພາບຂໍ້ມູນ","Couldn't load visualizations":"ບໍ່ສາມາດໂຫຼດພາບຂໍ້ມູນ","There was a problem loading visualizations. Try again or contact your system administrator.":"ມີບັນຫາໃນການໂຫຼດພາບຂໍ້ມູນ. ລອງອີກຄັ້ງ ຫຼື ຕິດຕໍ່ຜູ້ດູແລລະບົບຂອງທ່ານ.","No visualizations found. Click New visualization to get started.":"ບໍ່ພົບພາບຂໍ້ມູນ. ຄລິກ ເພີ່ມພາບຂໍ້ມູນໃໝ່ ເພື່ອເລີ່ມຕົ້ນ.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"ບໍ່ພົບພາບຂໍ້ມູນ. ລອງປັບຕົວເລືອກການຄົ້ນຫາ ຫຼື ຕົວກອງເພື່ອສິ່ງທີ່ທ່ານກໍາລັງຄົ້ນຫາ.","New visualization":"ພາບຂໍ້ມູນໃໝ່","Open a map":"ເປີດແຜນທີ່","Loading maps":"ໂຫຼດແຜນທີ່","Couldn't load maps":"ບໍ່ສາມາດໂຫຼດແຜນທີ່","There was a problem loading maps. Try again or contact your system administrator.":"ພົບບັນຫາໃນການ3ຫຼດແຜນທີ່. ລອງໃໝ່ອີກຄັ້ງ ຫຼື ຕິດຕໍ່ຜູ້ດູແລລະບົບ","No maps found. Click New map to get started.":"ບໍ່ພົບແຜນທີ່. ຄລິກສ້າງແຜນທີ່ໃໝ່ເພື່ອເລີ່ມຕົ້ນ","No maps found. Try adjusting your search or filter options to find what you're looking for.":"ບໍ່ພົບແຜນທີ່. ລອງປັບຕົວເລືອກການຄົ້ນຫາ ຫຼື ຕົວກອງເພື່ອສິ່ງທີ່ທ່ານກໍາລັງຄົ້ນຫາ.","New map":"ແຜນທີ່ໃໝ່","Open a line list":"ເປີດບັນຊີລາຍຊື່","Loading line lists":"ໂຫຼດບັນຊີລາຍຊື່","Couldn't load line lists":"ບໍ່ສາມາດໂຫຼດບັນຊີລາຍຊື່","There was a problem loading line lists. Try again or contact your system administrator.":"ພົບບັນຫາໃນການໂຫຼດບັນຊີລາຍຊື່. ລອງອີກຄັ້ງ ຫຼື ຕິດຕໍ່ຜູ້ດູແລລະບົບຂອງທ່ານ.","No line lists found. Click New line list to get started.":"ບໍ່ພົບບັນຊີລາຍຊື່. ຄລິກເພີ່ມບັນຊີລາຍຊື່ໃໝ່ເພື່ອເລີ່ມຕົ້ນ.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"ບໍ່ພົບບັນຊີລາຍຊື່. ລອງປັບຕົວເລືອກການຄົ້ນຫາ ຫຼື ຕົວກອງເພື່ອສິ່ງທີ່ທ່ານກໍາລັງຄົ້ນຫາ.","New line list":"ເພີ່ມບັນຊີລາຍຊື່ໃໝ່",Options:fue,Hide:gue,"{{count}} org units":"{{count}} ໜ່ວຍງານອົງການ","{{count}} levels":"{{count}} ຂັ້ນ","{{count}} groups":"{{count}} ກຸ່ມ","Selected: {{commaSeparatedListOfOrganisationUnits}}":"ເລືອກ {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"ບໍ່ມີຫຍັງເລືອກ","User organisation unit":"ຫນ່ວຍງານການຈັດຕັ້ງຂອງຜູ້ໃຊ້","User sub-units":"ຫົວໜ່ວຍຍ່ອຍຂອງທ່ານ","User sub-x2-units":"ຫົວໜ່ວຍຍ່ອຍຂັ້ນສອງຂອງທ່ານ","Select a level":"ເລືອກຂັ້ນ","Select a group":"ເລືອກກຸ່ມ","Deselect all":"ຍົກເລີກການເລືອກທັງໝົດ","Period type":"ແບບຊ່ວງເວລາ",Year:yue,"Select year":"ເລືອກປີ",Period:vue,"Selected Periods":"ເລືອກຊ່ວງເວລາ","Relative periods":"​ໄລ​ຍະ​ເວ​ລາ​ໄກ້​ຄຽງ","Fixed periods":"ໄລຍະເວລາທີ່ໄດ້ກຳນົດ","No periods selected":"ບໍ່ທັນໄດ້ເລືອກໄລຍະເວລາ",Daily:xue,Weekly:bue,"Weekly (Start Wednesday)":"ເປັນອາທິດ (ເລີ່ມຈາກວັນພຸດ)","Weekly (Start Thursday)":"ເປັນອາທິດ (ເລີ່ມຈາກວັນພະຫັດ)","Weekly (Start Saturday)":"ເປັນອາທິດ (ເລີ່ມຈາກວັນເສົາ)","Weekly (Start Sunday)":"ເປັນອາທິດ (ເລີ່ມຈາກວັນອາທິດ)","Bi-weekly":"ສອງອາທິດຕໍ່ຄັ້ງ",Monthly:_ue,"Bi-monthly":"ທຸກໆສອງເດືອນ",Quarterly:wue,"Six-monthly":"ແຕ່ລະ 6 ເດືອນ","Six-monthly April":"ແຕ່ລະຫົກເດືອນ ແລະ ເດືອນເມສາ",Yearly:Tue,"Financial year (Start November)":"ສົກປີງົບປະມານ (ເລີ່ມແຕ່ເດືອນພະຈິກ)","Financial year (Start October)":"ສົກປີງົບປະມານ (ເລີ່ມແຕ່ເດືອນຕຸລາ)","Financial year (Start July)":"ສົກປີງົບປະມານ (ເລີ່ມແຕ່ເດືອນມິຖຸນາ)","Financial year (Start April)":"ສົກປີງົບປະມານ (ເລີ່ມແຕ່ເດືອນເມສາ)",Today:Sue,Yesterday:Cue,"Last 3 days":"3 ມື້ກ່ອນ","Last 7 days":"7 ມື້ກ່ອນ","Last 14 days":"14 ມື້ກ່ອນ","Last 30 days":"30 ມື້ກ່ອນ","Last 60 days":"60 ມື້ກ່ອນ","Last 90 days":"90 ມື້ກ່ອນ","Last 180 days":"180 ມື້ກ່ອນ","This week":"ທິດນີ້","Last week":"ອາທິດທີ່ຜ່ານມາ","Last 4 weeks":"4 ອາທິດຍ້ອນຫຼັງ","Last 12 weeks":"12 ອາທິດຍ້ອນຫຼັງ","Last 52 weeks":"52 ອາທິດຜ່ານມາ","Weeks this year":"ອາທິດ ຂອງປີນີ້","This bi-week":"ສອງເທື່ອຕໍ່ອາທິດນີ້","Last bi-week":"ສອງຄັ້ງລ່າສຸດຕໍ່ທິດ","Last 4 bi-weeks":"ສອງເດືອນທີ່ຜ່ານມາ","This month":"ເດືອນນີ້","Last month":"ເດືອນຜ່ານມາ","Last 3 months":"3 ເດືອນຍ້ອນຫຼັງ","Last 6 months":"6 ເດືອນຜ່ານມາ","Last 12 months":"12 ເດືອນຍ້ອນຫຼັງ","Months this year":"​ເດືອນ​ໃນ​ປີ","This bi-month":"ສອງເດືອນນີ້","Last bi-month":"ສອງເດືອນກ່ອນທ້າຍປີ","Last 6 bi-months":"6 ຂອງສອງເດືອນສຸດທ້າຍ","Bi-months this year":"ສອງເດືອນ ຂອງປີນີ້","This quarter":"ໄຕມາດນີ້","Last quarter":"ໄຕມາດຜ່ານມາ","Last 4 quarters":"4 ໄຕມາດຍ້ອນຫຼັງ","Quarters this year":"​ໄຕຼມາດ​ໃນ​ປີ","This six-month":"6 ເດືອນນີ້","Last six-month":"6 ເດືອນຜ່ານມາ","Last 2 six-month":"ສອງ 6 ເດືອນຜ່ານມາ","This financial year":"ສົກປີງົບປະມານຂອງປິນີ້","Last financial year":"​ສົກ​ປີ​ງົບ​ປະ​ມານ​ປີ​ກາຍ","Last 5 financial years":"​ສົກ​ປິ​ງົບ​ປະ​ມານ 5ປີ​ຜ່ານ​ມາ","This year":"ປີນີ້","Last year":"ປີກາຍ","Last 5 years":"5 ປີຍ້ອນຫຼັງ","Last 10 years":"10 ປີຍ້ອນຫຼັງ",Days:Eue,Weeks:kue,"Bi-weeks":"ສອງເທື່ອຕໍ່ທິດ",Months:Lue,"Bi-months":"2ເດືອນ",Quarters:Nue,"Six-months":"6 ເດືອນ","Financial Years":"ສົກປີງົບປະມານ",Years:Iue,"Value: {{value}}":"","Bold text":"ຕົວອັກສອນເຂັ້ມ","Italic text":"ຕົວອັກສອນສະຫຼ່ຽງ","Link to a URL":"ເຊື່ອມຕໍ່ກັບ URL","Mention a user":"ກ່າວເຖິງຜູ້ໃຊ້","Add emoji":"ເພີ່ມ emoji",Preview:Aue,"Back to write mode":"ກັບໄປທີ່ໂໝດຂຽນ","Interpretations and details":"ຂໍ້ມູນ ແລະ ລາຍລະອຽດ","Translating to":"ແປເປັນ","Choose a locale":"ເລືອກສະຖານທີ່ເກີດເຫດ","Base locale reference":"ການອ້າງອີງຈາກສະຖານທີ່ເກີດເຫດ","Choose a locale to translate from the menu above":"ເລືອກສະຖານທີ່ເກີດເຫດເພື່ອແປຈາກລາຍການຂັ້ນເທິງ","Translate: {{objectName}}":"ແປ {{objectName}}","Save translations":"ບັນທຶກການແປ","Cannot save while offline":"ບໍ່ສາມາດບັນທຶກແບບອອບລາຍ","Could not load translations":"ບໍ່ສາມາດໂຫຼດການແປ",Retry:Pue,"Too many results. Try refining the search.":"ຜົນໄດ້ຮັບຫຼາຍເກີນໄປ. ປັບປຸງການຄົ້ນຫາ.","Search for a user":"ຄົ້ນຫາຜູ້ໃຊ້",'Searching for "{{- searchText}}"':'ຄົ້ນຫາ "{{- searchText}}"',"No results found":"ບໍ່ພົບຜົນການຊອກຫາ",Series:Mue,Category:Due,Filter:Oue,Columns:Rue,Rows:$ue,Points:zue,"Reporting rate":"ອັດຕາການລາຍງານ","Reporting rate on time":"ອັດຕາການລາຍງານຕົງເວລາ","Actual reports":"ລາຍງານຕົວຈິງ","Actual reports on time":"ລາຍງານຕົວຈິງຕົງເວລາ","Expected reports":"ລາຍງານທີ່ຄາດໄວ້",Program:Fue,"Select a program":"ເລືອກໂປແກຼມ",Indicators:Bue,"Indicator group":"ກຸ່ມຂອງຕົວຊີ້ວັດ","All groups":"ກຸ່ມທັງໝົດ",Indicator:jue,"No indicator groups found":"ບໍ່ພົບກຸ່ມຕົວຊີ້ວັດ","Loading indicator groups":"ໂຫຼດກຸ່ມຕົວຊີ້ວັດ","Data element group":"ກຸ່ມຂອງອົງປະກອບຂໍ້ມູນ","Data element":"ອົງປະກອບຂໍ້ມູນ","No data element groups found":"ບໍ່ພົບກຸ່ມອົງປະກອບຂໍ້ມູນ","Loading data element groups":"ໂຫຼດກຸ່ມອົງປະກອບຂໍ້ມູນ","Data sets":"ແບບຟອມ","Data set":"ແບບຟອມ","All data sets":"ແບບຟອມທັງໝົດ","Loading data sets":"ໂຫຼດແບບຟອມ","Event data items":"ຂໍ້ມູນລາຍບຸກຄົນ","All programs":"ໂປແກຼມທັງໝົດ","Event data item":"ຂໍ້ມູນລາຍບຸກຄົນ","No programs found":"ບໍ່ພົບໂປແກຼມ","Loading programs":"ໂຫຼດໂປແກຼມ","Program indicators":"ຕົວຊີ້ວັດສະເພາະວຽກຂອງຂະແໜງ","Program indicator":"ໂປແກຼມຕົວຊີ້ວັດ",Calculations:Uue,Number:"ຈຳນວນ","Formula is empty. Add items to the formula from the lists on the left.":"ສູດຄຳນວນຫວ່າງເປົ່າ. ເພີ່ມລາຍການໃສ່ສູດຈາກລາຍການຂ້າງຊ້າຍ.","Consecutive math operators":"ຕົວປະຕິບັດການຄະນິດສາດຕາມລຳດັບ","Consecutive data elements":"ອົງປະກອບຂໍ້ມູນຕາມລຳດັບ","Starts or ends with a math operator":"ເລີ່ມຕົ້ນ ຫຼື ສິ້ນສຸດດ້ວຍຕົວປະຕິບັດການຄະນິດສາດ","Empty parentheses":"ວົງເລັບວ່າງເປົ່າ","Missing right parenthesis )":"ຂາດວົງເລັບຂວາ )","Missing left parenthesis (":"ຂາດວົງເລັບຊ້າຍ (","Extra Small":"ນ້ອຍສຸດ",Small:Gue,Regular:Yue,Large:Vue,"Extra Large":"ໃຫຍ່ສຸດ",Left:que,Center:Wue,Right:Hue,Start:Xue,Middle:Zue,End:Kue,Top:Que,Bottom:Jue,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} ແລະ {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} ຂັ້ນ","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} ກຸ່ມ","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} ຂັ້ນໃນ {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} ກຸ່ມໃນ {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}} % ລວມຂອງຄ່າ x","{{percentage}}% of total y values":"{{percentage}} % ລວມຂອງຄ່າ y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} x IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} x IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} x ແກ້ໄຂຄະແນນ z ຕ່ຳ","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} x ແກ້ໄຂຄະແນນ z ສູງ","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} x ຄະແນນ z ຕ່ຳ","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} x ຄະແນນ z ສູງ","Not applicable":"",Data:ede,"Organisation unit":"​ຫົວ​ໜ່ວຍ​ການ​ຈັດ​ຕັ້ງ","Assigned Categories":"ຈັດໝວດໝູ່","Pivot table":"ແບບຕາຕະລາງໄພວ໋ອດ",Area:tde,"Stacked area":"ພື້ນທີ່ຊ້ອນກັນ",Bar:nde,"Stacked bar":"ແຖບຊ້ອນກັນ",Column:ide,"Year over year (column)":"ປີຕໍ່ປີ (ຖັນ)","Stacked column":"ຖັນຊ້ອນກັນ",Gauge:rde,Line:ade,"Line list":"ລາຍການລາຍບຸກຄົນ","Year over year (line)":"ປີຕໍ່ປີ (ເສັ້ນ)",Pie:sde,Radar:ode,Scatter:lde,"Single value":"ຄ່າດຽວ","Outlier table":"ຕາຕະລາງທີ່ເກີນກວ່າ","All charts":"ຕາຕະລາງທັງຫມົດ","{{seriesName}} (trend)":"{{seriesName}} (ແນວໂນ້ມ)",Trend:cde,"No legend for this series":"ບໍ່ມີນິຍາມສຳລັບຊຸດນີ້","and {{amount}} more...":"ແລະ {{amount}} ເພີ່ມ...","Linear Regression":"ການຖົດຖອຍແບບເສັ້ນ",Target:ude,Base:dde,"Axis {{axisId}}":"ແກນ {{axisId}}","{{count}} items":"{{count}} ລາຍການ","Reset zoom":"ຣີເຊັດຊູມ"},pde="",mde="",fde="",gde="ပယ်ဖျက်သည်",yde="Loading, please wait",vde="",xde="",bde="ဖယ်ရှားခြင်း",_de="",wde="ဖျက်ဆီးသည်",Tde="File",Sde="အသစ်",Cde="သိမ်းဆည်းသည်",Ede="ပိတ်သည်",kde="အမည်",Lde="ဖော်ပြချက်",Nde="အမည်သစ်ပေးခြင်း",Ide="",Ade="",Pde="တည်းဖြတ်သည်",Mde="‌နောက်ဆုံးသတင်းကိုရစေခြင်း",Dde="ဘာသာပြန်ခြင်းများ",Ode="Больше не нравится",Rde="Нравится",$de="အကြောင်းပြန်သည်",zde="",Fde="",Bde="",jde="",Ude="",Gde="ပုံစံ",Yde="Open",Vde="",qde="",Wde="ခုနှစ်",Hde="အချိန်ကာလ",Xde="နေ့စဉ်",Zde="အပတ်စဉ်",Kde="လစဉ်",Qde="သုံးလတစ်ကြိမ်",Jde="နှစ်စဉ်",ehe="",the="",nhe="",ihe="",rhe="လများ",ahe="၃လမြောက်",she="နှစ်များ",ohe="",lhe="အစဉ်အတန်းများ",che="category",uhe="ရှာဖွေထုတ်သည်",dhe="",hhe="",phe="",mhe="",fhe="အညွှန်းများ",ghe="indicator",yhe="",vhe="",xhe="",bhe="",_he="Left",whe="",The="Right",She="",Che="",Ehe="",khe="",Lhe="",Nhe="အချက်အလက်",Ihe="",Ahe="",Phe="",Mhe="",Dhe="",Ohe="",Rhe="",$he="",zhe="လမ်းကြောင်း",Fhe="ပစ်မှတ်/ ဦးတည်ချက်",Bhe="အခြေ",jhe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:pde,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:mde,"Subscribe to get updates about new interpretations.":"",Subscribe:fde,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:gde,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:yde,"Data elements":"အချက်အလတ်အစိတ်အပိုင်းများ","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:vde,"No data":"အချက်အလက်မရှိပါ။","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:xde,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:bde,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:_de,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:wde,File:Tde,New:Sde,"Open…":"",Save:Cde,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:Ede,"Rename {{fileType}}":"",Name:kde,Description:Lde,Rename:Nde,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:Ide,visualization:Ade,Edit:Pde,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:Mde,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:Dde,Unlike:Ode,Like:Rde,Reply:$de,Share:zde,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:Fde,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"No results found","Not available offline":"","Created by":"Created by",Anyone:Bde,"Only you":"",Others:jde,"Not supported by this app yet":"","Filter by name":"အမည်ဖြင့်ရှာဖွေထုတ်သည်",Created:Ude,"Last updated":"နောက်ဆုံး အသစ်ဆက်ဆက်",Type:Gde,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:Yde,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:Vde,Hide:qde,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Period type",Year:Wde,"Select year":"",Period:Hde,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"သက်ဆိုင်ရာ အချိန်ကာလကို မရွေးချယ်ထားပါ။",Daily:Xde,Weekly:Zde,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:Kde,"Bi-monthly":"နှစ်လတစ်ကြိမ်",Quarterly:Qde,"Six-monthly":"ခြောက်လတစ်ကြိမ်","Six-monthly April":"",Yearly:Jde,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:ehe,Yesterday:the,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Last week","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"ယခင်လ","Last 3 months":"လွန်ခဲ့သော ၁၂လ","Last 6 months":"Last 6 months","Last 12 months":"လွန်ခဲ့သော ၁၂လ","Months this year":"","This bi-month":"","Last bi-month":"လွန်ခဲ့သော ၆လက","Last 6 bi-months":"လွန်ခဲ့သော ၆လ(၂ကြိမ်)","Bi-months this year":"","This quarter":"","Last quarter":"လွန်ခဲ့သော ၃လက","Last 4 quarters":"လွန်ခဲ့သော ၁၂လက","Quarters this year":"Quarters this year","This six-month":"","Last six-month":"လွန်ခဲ့သော ၆လက","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"ဒီနှစ်","Last year":"ယခင်နှစ်","Last 5 years":"လွန်ခဲ့သော ၅ နှစ်","Last 10 years":"",Days:nhe,Weeks:ihe,"Bi-weeks":"",Months:rhe,"Bi-months":"Двухмесячные промежутки",Quarters:ahe,"Six-months":"၆ လ","Financial Years":"",Years:she,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:ohe,Series:lhe,Category:che,Filter:uhe,Columns:dhe,Rows:hhe,Points:phe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:mhe,"Select a program":"",Indicators:fhe,"Indicator group":"Indicator group","All groups":"",Indicator:ghe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"data element အုပ်စု","Data element":"data element","No data element groups found":"","Loading data element groups":"","Data sets":"စီမံချက်","Data set":"Dataset","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:yhe,Number:"ဂဏန်း","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:vhe,Regular:xhe,Large:bhe,"Extra Large":"",Left:_he,Center:whe,Right:The,Start:She,Middle:Che,End:Ehe,Top:khe,Bottom:Lhe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:Nhe,"Organisation unit":"Organisation unit","Assigned Categories":"","Pivot table":"",Area:Ihe,"Stacked area":"",Bar:Ahe,"Stacked bar":"",Column:Phe,"Year over year (column)":"","Stacked column":"",Gauge:Mhe,Line:Dhe,"Line list":"","Year over year (line)":"",Pie:Ohe,Radar:Rhe,Scatter:$he,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:zhe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:Fhe,Base:Bhe,"Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""},Uhe="Varsler",Ghe="Avslutt abonnementet",Yhe="Abonner",Vhe="Avbryt",qhe="Laster",Whe="Disaggregering",Hhe="",Xhe="Fjern",Zhe="Søk",Khe="Slett",Qhe="Fil",Jhe="Ny",epe="Lagre",tpe="Lukk",npe="Navn",ipe="Beskrivelse",rpe="Gi nytt navn",ape="kart",spe="visualisering",ope="Rediger",lpe="Oppdater",cpe="Tolkninger",upe="Svar",dpe="Fjern like",hpe="Like",ppe="Del",mpe="Forhåndsvisning",fpe="Hvem som helst",gpe="Andre",ype="Opprettet",vpe="Type",xpe="Åpne",bpe="Alternativ",_pe="Skjul",wpe="År",Tpe="Periode",Spe="Daglig",Cpe="Ukentlig",Epe="Månedlig",kpe="Kvartalsvis",Lpe="Årlig",Npe="I dag",Ipe="I går",Ape="Dager",Ppe="Uker",Mpe="Måneder",Dpe="Kvartaler",Ope="År",Rpe="",$pe="Serie",zpe="Kategori",Fpe="Filter",Bpe="Kolonner",jpe="Rader",Upe="Punkter",Gpe="Program",Ype="Indikatorer",Vpe="Indikator",qpe="",Wpe="Liten",Hpe="Regelmessig",Xpe="Stor",Zpe="Venstre",Kpe="Sentrum",Qpe="Høyre",Jpe="Start",eme="Midten",tme="Slutt",nme="Topp",ime="Bunn",rme="Data",ame="Areal",sme="Liggende stolpe",ome="Stolpe",lme="Radialmåler",cme="Linje",ume="Sektor",dme="Radar",hme=" Spredning",pme="Trend",mme="Mål",fme="Grunn",gme={"view only":"kun visning","view and edit":"vis og endre","all users ({{accessLevel}})":"alle brukere ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Delt med {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"Ikke delt med noen brukere eller grupper","No description":"Ingen beskrivelse","Last updated {{time}}":"Sist oppdatert {{time}}","Created {{time}} by {{author}}":"Opprettet {{time}} av {{author}}","Created {{time}}":"","Viewed {{count}} times":"Vist 1 gang","Viewed {{count}} times_plural":"Vist {{count}} ganger",Notifications:Uhe,"You're subscribed and getting updates about new interpretations.":"Du abonnerer og får oppdateringer om nye tolkninger.",Unsubscribe:Ghe,"Subscribe to get updates about new interpretations.":"Abonner for å få oppdateringer om nye tolkninger.",Subscribe:Yhe,"About this map":"","About this line list":"","About this visualization":"Om denne visualiseringen","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:Vhe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"Kun totaler","Details only":"Kun detaljer",Loading:qhe,"Data elements":"Dataelementer","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':'Ingen dataelementer funnet for "{{- searchTerm}}"',"No data elements found":"Ingen dataelementer funnet","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"Datatype","Only {{dataType}} can be used in {{visType}}":"","All types":"Alle typer",Disaggregation:Whe,"No data":"Ingen data","Search by data item name":"Søk etter datapunktnavn","No items selected":"Ingen elementer er valgt","Selected Items":"Valgte elementer","No indicators found":"Ingen indikatorer funnet","No data sets found":"Ingen datasett funnet","No event data items found":"Ingen hendelsesdataelementer funnet","No program indicators found":"Ingen programindikatorer funnet","No calculations found":"",'No indicators found for "{{- searchTerm}}"':'Ingen indikatorer funnet for "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'Ingen datasett funnet for "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'Ingen hendelsesdataelementer funnet for "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'Ingen programindikatorer funnet for "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':'Ingenting funnet for "{{- searchTerm}}"',Calculation:Hhe,"Metric type":"Metrisk type","All metrics":"Alle beregninger","Move to {{axisName}}":"Flytt til {{axisName}}","Add to {{axisName}}":"Legg til {{axisName}}","Not available for {{visualizationType}}":"Ikke tilgjengelig for {{visualizationType}}","Remove Assigned Categories":"Fjern Tildelte Kategorier","Add Assigned Categories":"Legg tildelte kategorier",Remove:Xhe,"Filter dimensions":"Filterdimensjoner","Main dimensions":"Hoveddimensjoner","Your dimensions":"Dine dimensjoner","Dimension recommended with selected data":"Dimensjon anbefalt med valgte data","All items":"Alle elementer","Automatically include all items":"Inkluder automatisk alle elementer","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Velg alle {{- dimensionTitle}} elementer. Med dette alternativet vil nye elementer som legges til i fremtiden automatisk inkluderes.","Manually select items...":"Velg elementer manuelt...","Nothing found in {{- dimensionTitle}}":"Ingenting funnet i {{- dimensionTitle}}",Search:Zhe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"Slett {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"Denne {{fileType}} og relaterte tolkninger vil bli slettet. Fortsette?",Delete:Khe,File:Qhe,New:Jhe,"Open…":"Åpne...",Save:epe,"Save…":"Lagre...","Save as…":"Lagre som...","Rename…":"Gi nytt navn...","Translate…":"Oversette...","Share…":"Dele...","Get link…":"Få lenke…","Open in this app":"Åpne i denne appen",Close:tpe,"Rename {{fileType}}":"Gi nytt navn til {{fileType}}",Name:npe,Description:ipe,Rename:rpe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"Lagre {{fileType}} som","event report":"hendelsesrapport","line list":"",map:ape,visualization:spe,Edit:ope,"Write a reply":"Skriv et svar","Post reply":"","Delete failed":"Kunne ikke slette","Could not update comment":"","Enter comment text":"",Update:lpe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Skriv en tolkning","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:cpe,Reply:upe,"{{count}} replies":"{{count}} svar","{{count}} replies_plural":"{{count}} svar","View replies":"",Unlike:dpe,Like:hpe,"See interpretation":"","Open in app":"",Share:ppe,"Manage sharing":"Administrer deling","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:mpe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Ingen resultater funnet","Not available offline":"Ikke tilgjengelig i frakoblet modus","Created by":"Opprettet av",Anyone:fpe,"Only you":"Bare deg",Others:gpe,"Not supported by this app yet":"","Filter by name":"Filtrer etter navn",Created:ype,"Last updated":"Sist oppdatert",Type:vpe,"Clear filters":"Tøm filtre","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} av {{totalNumberOfItems}}",Open:xpe,"Couldn't load items":"Kunne ikke laste inn elementer","There was a problem loading items. Try again or contact your system administrator.":"Det oppsto et problem med å laste elementer. Prøv igjen eller kontakt systemadministratoren.","No items found. Create a new to get started.":"Ingen elementer funnet. Opprett en ny for å komme i gang.","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Opprett ny","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:bpe,Hide:_pe,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Brukerorganisasjonsenhet","User sub-units":"Underenheter","User sub-x2-units":"Under-x2-enheter","Select a level":"Velg et nivå","Select a group":"Velg en gruppe","Deselect all":"Fjern valg","Period type":"Periodetype",Year:wpe,"Select year":"Velg år",Period:Tpe,"Selected Periods":"Valgte perioder","Relative periods":"Relative perioder","Fixed periods":"Faste perioder","No periods selected":"Ingen perioder er valgt",Daily:Spe,Weekly:Cpe,"Weekly (Start Wednesday)":"Ukentlig (start onsdag)","Weekly (Start Thursday)":"Ukentlig (start torsdag)","Weekly (Start Saturday)":"Ukentlig (start lørdag)","Weekly (Start Sunday)":"Ukentlig (start søndag)","Bi-weekly":"Toukentlig",Monthly:Epe,"Bi-monthly":"Tomånedlig",Quarterly:kpe,"Six-monthly":"Halvårlig","Six-monthly April":"Halvårig April",Yearly:Lpe,"Financial year (Start November)":"Regnskapsår (start november)","Financial year (Start October)":"Regnskapsår (start oktober)","Financial year (Start July)":"Regnskapsår (start juli)","Financial year (Start April)":"Regnskapsår (start april)",Today:Npe,Yesterday:Ipe,"Last 3 days":"Siste 3 dager","Last 7 days":"Siste 7 dager","Last 14 days":"Siste 14 dager","Last 30 days":"Siste 30 dager","Last 60 days":"Siste 60 dager","Last 90 days":"Siste 90 dager","Last 180 days":"Siste 180 dager","This week":"Denne uken","Last week":"Forrige uke","Last 4 weeks":"Siste 4 uker","Last 12 weeks":"Siste 12 uker","Last 52 weeks":"Siste 52 uker","Weeks this year":"Uker inneværende år","This bi-week":"Denne touken","Last bi-week":"Sist touke","Last 4 bi-weeks":"Siste 4 touker","This month":"Denne måneden","Last month":"Forrige måned","Last 3 months":"Siste 3 måneder","Last 6 months":"Siste 6 måneder","Last 12 months":"Siste 12 måneder","Months this year":"Måneder i år","This bi-month":"Denne tomåneden","Last bi-month":"Siste tomåned","Last 6 bi-months":"Siste 6 tomåneder","Bi-months this year":"Tomåneder i år","This quarter":"Dette kvartalet","Last quarter":"Siste kvartal","Last 4 quarters":"Siste 4 kvartaler","Quarters this year":"Kvartaler i år","This six-month":"Dette halvåret","Last six-month":"Siste halvår","Last 2 six-month":"Siste to halvår","This financial year":"Dette regnskapsåret","Last financial year":"Siste regnskapsår","Last 5 financial years":"Siste 5 regnskapsår","This year":"Dette året","Last year":"Forrige år","Last 5 years":"Siste 5 år","Last 10 years":"Siste 10 år",Days:Ape,Weeks:Ppe,"Bi-weeks":"Touker",Months:Mpe,"Bi-months":"Tomåneder",Quarters:Dpe,"Six-months":"Halvår","Financial Years":"Regnskapsår",Years:Ope,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:Rpe,Series:$pe,Category:zpe,Filter:Fpe,Columns:Bpe,Rows:jpe,Points:Upe,"Reporting rate":"Rapporteringfrekvens","Reporting rate on time":"Rapporteringsfrekvens i tide","Actual reports":"Faktiske rapporter","Actual reports on time":"Faktiske rapporter i tide","Expected reports":"Forventede rapporter",Program:Gpe,"Select a program":"Velg et program",Indicators:Ype,"Indicator group":"Indikatorgruppe","All groups":"",Indicator:Vpe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Dataelementgruppe","Data element":"Dataelement","No data element groups found":"","Loading data element groups":"","Data sets":"Datasett","Data set":"Datasett","All data sets":"","Loading data sets":"","Event data items":"Hendelsesdatapunkter","All programs":"","Event data item":"Hendelsesdatapunkt","No programs found":"Ingen programmer funnet","Loading programs":"","Program indicators":"Programindikatorer","Program indicator":"Programindikator",Calculations:qpe,Number:"Nummer","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Ekstra liten",Small:Wpe,Regular:Hpe,Large:Xpe,"Extra Large":"Ekstra stor",Left:Zpe,Center:Kpe,Right:Qpe,Start:Jpe,Middle:eme,End:tme,Top:nme,Bottom:ime,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} og {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}}-nivåer","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}}-grupper","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} nivåer i {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}}-grupper i {{staticOuNames}}","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:rme,"Organisation unit":"Organisasjonsenhet","Assigned Categories":"Tildelte Kategorier","Pivot table":"Pivottabell",Area:ame,"Stacked area":"Stablet område",Bar:sme,"Stacked bar":"Liggende stablet stolpe",Column:ome,"Year over year (column)":"År over år (stolpe)","Stacked column":"Stablet stående stolpe",Gauge:lme,Line:cme,"Line list":"Linjeliste","Year over year (line)":"År over år (linje)",Pie:ume,Radar:dme,Scatter:hme,"Single value":"Enkeltverdi","Outlier table":"","All charts":"Alle diagrammer","{{seriesName}} (trend)":"",Trend:pme,"No legend for this series":"Ingen tegnforklaring for denne serien","and {{amount}} more...":"","Linear Regression":"",Target:mme,Base:fme,"Axis {{axisId}}":"Akse {{axisId}}","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},yme="",vme="",xme="",bme="रद्द गर्नुहोस्",_me="",wme="",Tme="",Sme="",Cme="खोज",Eme="",kme="",Lme="",Nme="",Ime="",Ame="",Pme="",Mme="",Dme="",Ome="",Rme="",$me="",zme="",Fme="जवाफ",Bme="",jme="",Ume="",Gme="",Yme="",Vme="",qme="",Wme="खोल्नुहोस्",Hme="",Xme="",Zme="",Kme="अबधि",Qme="दैनिक",Jme="",efe="",tfe="",nfe="",ife="आज",rfe="हिजो",afe="",sfe="",ofe="",lfe="",cfe="",ufe="",dfe="",hfe="",pfe="",mfe="",ffe="",gfe="",yfe="",vfe="",xfe="",bfe="",_fe="",wfe="",Tfe="",Sfe="",Cfe="",Efe="",kfe="",Lfe="",Nfe="",Ife="",Afe="",Pfe="",Mfe="",Dfe="",Ofe="",Rfe="",$fe="",zfe="",Ffe="",Bfe="",jfe="",Ufe="",Gfe="",Yfe="",Vfe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:yme,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:vme,"Subscribe to get updates about new interpretations.":"",Subscribe:xme,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:bme,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:_me,"Data elements":"","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","Only {{dataType}} can be used in {{visType}}":"","All types":"",Disaggregation:wme,"No data":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No calculations found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:Tme,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:Sme,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:Cme,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:Eme,File:kme,New:Lme,"Open…":"",Save:Nme,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:Ime,"Rename {{fileType}}":"",Name:Ame,Description:Pme,Rename:Mme,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:Dme,visualization:Ome,Edit:Rme,"Write a reply":"","Post reply":"","Delete failed":"","Could not update comment":"","Enter comment text":"",Update:$me,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:zme,Reply:Fme,"{{count}} replies":"","{{count}} replies_plural":"","View replies":"",Unlike:Bme,Like:jme,"See interpretation":"","Open in app":"",Share:Ume,"Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Not available offline":"","Created by":"",Anyone:Gme,"Only you":"",Others:Yme,"Not supported by this app yet":"","Filter by name":"",Created:Vme,"Last updated":"",Type:qme,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:Wme,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:Hme,Hide:Xme,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"सबै चयन उल्टाउनुहोस्","Period type":"",Year:Zme,"Select year":"",Period:Kme,"Selected Periods":"","Relative periods":"","Fixed periods":"","No periods selected":"",Daily:Qme,Weekly:Jme,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:efe,"Bi-monthly":"",Quarterly:tfe,"Six-monthly":"","Six-monthly April":"",Yearly:nfe,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:ife,Yesterday:rfe,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:afe,Weeks:sfe,"Bi-weeks":"",Months:ofe,"Bi-months":"",Quarters:lfe,"Six-months":"","Financial Years":"",Years:cfe,"Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:ufe,"Back to write mode":"","Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:dfe,"Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"कुनै पनि नतिजा भेटिएन",Series:hfe,Category:pfe,Filter:mfe,Columns:ffe,Rows:gfe,Points:yfe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:vfe,"Select a program":"",Indicators:xfe,"Indicator group":"","All groups":"",Indicator:bfe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:_fe,Number:"","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:wfe,Regular:Tfe,Large:Sfe,"Extra Large":"",Left:Cfe,Center:Efe,Right:kfe,Start:Lfe,Middle:Nfe,End:Ife,Top:Afe,Bottom:Pfe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:Mfe,"Organisation unit":"","Assigned Categories":"","Pivot table":"",Area:Dfe,"Stacked area":"",Bar:Ofe,"Stacked bar":"",Column:Rfe,"Year over year (column)":"","Stacked column":"",Gauge:$fe,Line:zfe,"Line list":"","Year over year (line)":"",Pie:Ffe,Radar:Bfe,Scatter:jfe,"Single value":"","Outlier table":"","All charts":"","{{seriesName}} (trend)":"",Trend:Ufe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:Gfe,Base:Yfe,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},qfe="Meldingen",Wfe="Uitschrijven",Hfe="Abonneren",Xfe="Annuleer",Zfe="Bezig met laden",Kfe="desaggregatie",Qfe="Berekening",Jfe="Verwijderen",ege="Zoek",tge="Verwijderen",nge="Bestand",ige="Nieuw",rge="Sla op",age="Sluit",sge="Naam",oge="Beschrijving",lge="Hernoemen",cge="kaart",uge="visualisatie",dge="Bewerk",hge="Bijwerken",pge="Interpretaties",mge="Antwoord",fge="in tegenstelling tot",gge="Leuk vinden",yge="Deel",vge="Voorbeeld",xge="Iedereen",bge="Anderen",_ge="Gemaakt",wge="Soort",Tge="Open",Sge="Opties",Cge="Verbergen",Ege="Jaar",kge="Periode",Lge="Dagelijks",Nge="Wekelijks",Ige="Maandelijks",Age="Driemaandelijks",Pge="Jaarlijks",Mge="Vandaag",Dge="Gisteren",Oge="Dagen",Rge="Weken",$ge="Maanden",zge="Kwartalen",Fge="Jaren",Bge="Opnieuw proberen",jge="Reeks",Uge="Categorie",Gge="Filter",Yge="Kolommen",Vge="Rijen",qge="Punten",Wge="Programma",Hge="Indicatoren",Xge="Indicator",Zge="Berekeningen",Kge="Klein",Qge="Normaal",Jge="Groot",eye="Links",tye="Centrum",nye="Rechts",iye="Begin",rye="Midden",aye="Einde",sye="Bovenkant",oye="Onderkant",lye="Gegevens",cye="Oppervlakte",uye="Staaf",dye="Kolom",hye="Graadmeter",pye="Lijn",mye="Taart",fye="Radar",gye="Verstrooien",yye="Trend",vye="Doel",xye="Baseren",bye={"view only":"alleen bekijken","view and edit":"bekijken en bewerken","all users ({{accessLevel}})":"alle gebruikers ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Gedeeld met {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"Niet gedeeld met gebruikers of groepen","No description":"Geen beschrijving","Last updated {{time}}":"Laatst bijgewerkt {{time}}","Created {{time}} by {{author}}":"Gemaakt {{time}} door {{author}}","Created {{time}}":"Gemaakt {{time}}","Viewed {{count}} times":"1 keer bekeken","Viewed {{count}} times_plural":"{{count}} keer bekeken",Notifications:qfe,"You're subscribed and getting updates about new interpretations.":"Je bent geabonneerd en krijgt updates over nieuwe interpretaties.",Unsubscribe:Wfe,"Subscribe to get updates about new interpretations.":"Abonneer u om updates over nieuwe interpretaties te ontvangen.",Subscribe:Hfe,"About this map":"Over deze kaart","About this line list":"Over deze lijnlijst","About this visualization":"Over deze visualisatie","This app could not retrieve required data.":"Deze app kan de vereiste gegevens niet ophalen.","Network error":"Netwerkfout","Data / Edit calculation":"Gegevens / Berekening bewerken","Data / New calculation":"Gegevens / Nieuwe berekening","Remove item":"Verwijder voorwerp","Check formula":"Formule controleren","Calculation name":"Berekening naam","Shown in table headers and chart axes/legends":"Weergegeven in tabelkoppen en diagramassen/legenda's","Delete calculation":"Berekening verwijderen",Cancel:Xfe,"The calculation can only be saved with a valid formula":"De berekening kan alleen worden opgeslagen met een geldige formule","Add a name to save this calculation":"Voeg een naam toe om deze berekening op te slaan","Save calculation":"Berekening opslaan","Are you sure you want to delete this calculation? It may be used by other visualizations.":"Weet u zeker dat u deze berekening wilt verwijderen? Het kan worden gebruikt door andere visualisaties.","Yes, delete":"Ja, verwijderen","Totals only":"Alleen totalen","Details only":"Alleen details",Loading:Zfe,"Data elements":"Gegevenselementen","Search by data element name":"Zoeken op naam van gegevenselement",'No data elements found for "{{- searchTerm}}"':'Geen gegevenselementen gevonden voor "{{- searchTerm}}"',"No data elements found":"Geen gegevenselementen gevonden","Drag items here, or double click in the list, to start building a calculation formula":"Sleep items hierheen, of dubbelklik in de lijst, om te beginnen met het bouwen van een rekenformule","Math operators":"Wiskundige operatoren","Data Type":"Data type","All types":"Alle typen",Disaggregation:Kfe,"No data":"Geen gegevens","Search by data item name":"Zoeken op naam van gegevensitem","No items selected":"Geen items geselecteerd","Selected Items":"Geselecteerde voorwerpen","No indicators found":"Geen indicatoren gevonden","No data sets found":"Geen datasets gevonden","No event data items found":"Geen item met gebeurtenisgegevens gevonden","No program indicators found":"Geen programma-indicatoren gevonden",'No indicators found for "{{- searchTerm}}"':'Geen indicatoren gevonden voor "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'Geen datasets gevonden voor "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'Geen gebeurtenisgegevensitems gevonden voor "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'Geen programma-indicatoren gevonden voor "{{- searchTerm}}"','Nothing found for "{{- searchTerm}}"':'Niets gevonden voor "{{- searchTerm}}"',Calculation:Qfe,"Metric type":"Metrische soort","All metrics":"Alle statistieken","Move to {{axisName}}":"Ga naar {{axisName}}","Add to {{axisName}}":"Voeg toe aan {{axisName}}","Not available for {{visualizationType}}":"Niet beschikbaar voor {{visualizationType}}","Remove Assigned Categories":"Verwijder toegewezen categorieën","Add Assigned Categories":"Voeg Toegewezen Categorieën toe",Remove:Jfe,"Filter dimensions":"Filter dimensies","Main dimensions":"Hoofddimensies","Your dimensions":"Uw dimensies","Dimension recommended with selected data":"Afmeting aanbevolen bij geselecteerde gegevens","All items":"Alle items","Automatically include all items":"Voeg automatisch alle items toe","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Selecteer alle {{- dimensionTitle}} items. Met deze optie worden nieuwe items die in de toekomst worden toegevoegd automatisch opgenomen.","Manually select items...":"Items handmatig selecteren...","Nothing found in {{- dimensionTitle}}":"Niets gevonden in {{- dimensionTitle}}",Search:ege,"Nothing found for {{- searchTerm}}":"Niets gevonden voor {{- searchTerm}}","Delete {{fileType}}":"Verwijder {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"Deze {{fileType}} en gerelateerde interpretaties worden verwijderd. Doorgaan?",Delete:tge,File:nge,New:ige,"Open…":"Open…",Save:rge,"Save…":"Redden…","Save as…":"Opslaan als…","Rename…":"Hernoemen...","Translate…":"Vertalen…","Share…":"Deel…","Get link…":"Krijg link…","Open in this app":"Openen in deze app",Close:age,"Rename {{fileType}}":"Hernoem {{fileType}}",Name:sge,Description:oge,Rename:lge,"{{- objectName}} (copy)":"{{- objectName}} (kopiëren)","Save {{fileType}} as":"Bewaar {{fileType}} als","event report":"evenement verslag","line list":"lijn lijst",map:cge,visualization:uge,Edit:dge,"Write a reply":"Schrijf een reactie","Post reply":"Reageer","Delete failed":"Verwijderen mislukt","Could not update comment":"Reactie kan niet worden bijgewerkt","Enter comment text":"Voer commentaartekst in",Update:hge,"Viewing interpretation: {{- visualisationName}}":"Interpretatie bekijken: {{- visualisationName}}","Could not load interpretation":"Kan interpretatie niet laden","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"De interpretatie kon niet worden weergegeven. Probeer het opnieuw of neem contact op met uw systeembeheerder.","Hide interpretation":"Interpretatie verbergen","Write an interpretation":"Schrijf een interpretatie","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"Interpretatie posten",Interpretations:pge,Reply:mge,"{{count}} replies":"{{count}} antwoord","{{count}} replies_plural":"{{count}} antwoorden","View replies":"Antwoorden bekijken",Unlike:fge,Like:gge,Share:yge,"See interpretation":"Zie interpretatie","Manage sharing":"Beheer delen","Could not update interpretation":"Kan interpretatie niet updaten","Enter interpretation text":"Voer interpretatietekst in","Bold text":"Vetgedrukte tekst","Italic text":"Cursieve tekst","Link to a URL":"Link naar een URL","Mention a user":"Noem een gebruiker","Add emoji":"Emoji toevoegen",Preview:vge,"Back to write mode":"Terug naar schrijfmodus","Too many results. Try refining the search.":"Te veel resultaten. Probeer de zoekopdracht te verfijnen.","Search for a user":"Zoek een gebruiker",'Searching for "{{- searchText}}"':'Zoeken naar "{{- searchText}}"',"No results found":"Geen resultaten gevonden","Not available offline":"Niet beschikbaar offline","Created by":"Gecreëerd door",Anyone:xge,"Only you":"Alleen jij",Others:bge,"Not supported by this app yet":"Nog niet ondersteund door deze app","Filter by name":"Filteren op naam",Created:_ge,"Last updated":"Laatst bijgewerkt",Type:wge,"Clear filters":"Wis filters","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} van {{totalNumberOfItems}}",Open:Tge,"Couldn't load items":"Kan items niet laden","There was a problem loading items. Try again or contact your system administrator.":"Er is een probleem opgetreden bij het laden van items. Probeer het opnieuw of neem contact op met uw systeembeheerder.","No items found. Create a new to get started.":"Geen items gevonden. Maak een nieuwe aan om aan de slag te gaan.","No items found. Try adjusting your search or filter options to find what you're looking for.":"Geen items gevonden. Probeer uw zoek- of filteropties aan te passen om te vinden wat u zoekt.","Create new":"Maak nieuw","Open a visualization":"Open een visualisatie","Loading visualizations":"Visualisaties laden","Couldn't load visualizations":"Kan visualisaties niet laden","There was a problem loading visualizations. Try again or contact your system administrator.":"Er is een probleem opgetreden bij het laden van visualisaties. Probeer het opnieuw of neem contact op met uw systeembeheerder.","No visualizations found. Click New visualization to get started.":"Geen visualisaties gevonden. Klik op Nieuwe visualisatie om aan de slag te gaan.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"Geen visualisaties gevonden. Probeer uw zoek- of filteropties aan te passen om te vinden wat u zoekt.","New visualization":"Nieuwe visualisatie","Open a map":"Open een kaart","Loading maps":"Kaarten laden","Couldn't load maps":"Kan kaarten niet laden","There was a problem loading maps. Try again or contact your system administrator.":"Er is een probleem opgetreden bij het laden van kaarten. Probeer het opnieuw of neem contact op met uw systeembeheerder.","No maps found. Click New map to get started.":"Geen kaarten gevonden. Klik op Nieuwe kaart om aan de slag te gaan.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"Geen kaarten gevonden. Probeer uw zoek- of filteropties aan te passen om te vinden wat u zoekt.","New map":"Nieuwe kaart","Open a line list":"Open een regellijst","Loading line lists":"Regellijsten laden","Couldn't load line lists":"Kan regellijsten niet laden","There was a problem loading line lists. Try again or contact your system administrator.":"Er is een probleem opgetreden bij het laden van regellijsten. Probeer het opnieuw of neem contact op met uw systeembeheerder.","No line lists found. Click New line list to get started.":"Geen regellijsten gevonden. Klik op Nieuwe regellijst om aan de slag te gaan.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"Geen regellijsten gevonden. Probeer uw zoek- of filteropties aan te passen om te vinden wat u zoekt.","New line list":"Nieuwe lijnlijst",Options:Sge,Hide:Cge,"{{count}} org units":"{{count}} organisatie-eenheid","{{count}} org units_plural":"{{count}} organisatie-eenheden","{{count}} levels":"{{count}} niveau","{{count}} levels_plural":"{{count}} niveaus","{{count}} groups":"{{count}} groep","{{count}} groups_plural":"{{count}} groepen","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Geselecteerd: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Niets geselecteerd","User organisation unit":"Gebruikersorganisatie-eenheid","User sub-units":"Subeenheden van gebruikers","User sub-x2-units":"Gebruiker sub-x2-eenheden","Select a level":"Selecteer een niveau","Select a group":"Selecteer een groep","Deselect all":"Deselecteer alles","Period type":"Soort periode",Year:Ege,"Select year":"Selecteer jaar",Period:kge,"Relative periods":"Relatieve perioden","Fixed periods":"Vaste periodes","Selected Periods":"geselecteerde periodes","No periods selected":"Geen periodes geselecteerd",Daily:Lge,Weekly:Nge,"Weekly (Start Wednesday)":"Wekelijks (Start op woensdag)","Weekly (Start Thursday)":"Wekelijks (Start op donderdag)","Weekly (Start Saturday)":"Wekelijks (Start op zaterdag)","Weekly (Start Sunday)":"Wekelijks (Start op zondag)","Bi-weekly":"Tweewekelijks",Monthly:Ige,"Bi-monthly":"Tweemaandelijks",Quarterly:Age,"Six-monthly":"Zesmaandelijks","Six-monthly April":"Zesmaandelijks april",Yearly:Pge,"Financial year (Start November)":"Financieel jaar (Start november)","Financial year (Start October)":"Financieel jaar (Start oktober)","Financial year (Start July)":"Financieel jaar (Start juli)","Financial year (Start April)":"Financieel jaar (Start april)",Today:Mge,Yesterday:Dge,"Last 3 days":"Laatste 3 dagen","Last 7 days":"Laatste 7 dagen","Last 14 days":"Laatste 14 dagen","Last 30 days":"Laatste 30 dagen","Last 60 days":"Laatste 60 dagen","Last 90 days":"Laatste 90 dagen","Last 180 days":"Laatste 180 dagen","This week":"Deze week","Last week":"Laatste week","Last 4 weeks":"Laatste 4 weken","Last 12 weeks":"Laatste 12 weken","Last 52 weeks":"Laatste 52 weken","Weeks this year":"Weken dit jaar","This bi-week":"Deze tweewekelijkse","Last bi-week":"Afgelopen twee weken","Last 4 bi-weeks":"Laatste 4 twee weken","This month":"Deze maand","Last month":"Laatste maand","Last 3 months":"Laatste 3 maanden","Last 6 months":"Laatste 6 maanden","Last 12 months":"Laatste 12 maanden","Months this year":"Maanden dit jaar","This bi-month":"Deze tweemaandelijkse","Last bi-month":"Laatste twee maanden","Last 6 bi-months":"Laatste 6 bi-maanden","Bi-months this year":"Tweemaandelijks dit jaar","This quarter":"Dit kwartier","Last quarter":"Laatste kwartier","Last 4 quarters":"Laatste 4 kwartieren","Quarters this year":"Kwartieren dit jaar","This six-month":"Dit halfjaar","Last six-month":"Laatste halfjaar","Last 2 six-month":"Laatste 2 zes maanden","This financial year":"Dit financieel jaar","Last financial year":"Laatste financieel jaar","Last 5 financial years":"Laatste 5 financiële jaren","This year":"Dit jaar","Last year":"Laatste jaar","Last 5 years":"Laatste 5 jaren","Last 10 years":"Laatste 10 jaar",Days:Oge,Weeks:Rge,"Bi-weeks":"Twee weken",Months:$ge,"Bi-months":"Twee maanden",Quarters:zge,"Six-months":"Zes maanden","Financial Years":"Boekjaren",Years:Fge,"Interpretations and details":"Interpretaties en details","Translating to":"Vertalen naar","Choose a locale":"Kies een locatie","Base locale reference":"Base locale-referentie","Choose a locale to translate from the menu above":"Kies een landinstelling om te vertalen in het bovenstaande menu","Translate: {{objectName}}":"Vertalen: {{objectName}}","Save translations":"Sla vertalingen op","Cannot save while offline":"Kan offline niet opslaan","Could not load translations":"Kan vertalingen niet laden",Retry:Bge,Series:jge,Category:Uge,Filter:Gge,Columns:Yge,Rows:Vge,Points:qge,"Reporting rate":"Rapportagepercentage","Reporting rate on time":"Rapportagepercentage op tijd","Actual reports":"Actuele rapporten","Actual reports on time":"Actuele rapporten op tijd","Expected reports":"Verwachte rapporten",Program:Wge,"Select a program":"Selecteer een programma",Indicators:Hge,"Indicator group":"Indicatorgroep","All groups":"Alle groepen",Indicator:Xge,"No indicator groups found":"Geen indicatorgroepen gevonden","Loading indicator groups":"Indicatorgroepen laden","Data element group":"Gegevenselementengroep","Data element":"informatie onderdeel","No data element groups found":"Geen gegevenselementgroepen gevonden","Loading data element groups":"Data-elementgroepen laden","Data sets":"Gegevensreeksen","Data set":"Gegevensreeks","All data sets":"Alle datasets","Loading data sets":"Datasets laden","Event data items":"Gebeurtenisgegevensitems","All programs":"Alle programma's","Event data item":"Gebeurtenisgegevensitem","No programs found":"Geen programma's gevonden","Loading programs":"Programma's laden","Program indicators":"Programmaindicators","Program indicator":"Programmaindicator",Calculations:Zge,Number:"Nummer","Formula is empty. Add items to the formula from the lists on the left.":"Formule is leeg. Voeg items toe aan de formule uit de lijsten aan de linkerkant.","Consecutive math operators":"Opeenvolgende wiskundige operatoren","Consecutive data elements":"Opeenvolgende gegevenselementen","Starts or ends with a math operator":"Begint of eindigt met een wiskundige operator","Empty parentheses":"Lege haakjes","Missing right parenthesis )":"Rechter haakje ontbreekt)","Missing left parenthesis (":"Linker haakje ontbreekt (","Extra Small":"Extra klein",Small:Kge,Regular:Qge,Large:Jge,"Extra Large":"Extra groot",Left:eye,Center:tye,Right:nye,Start:iye,Middle:rye,End:aye,Top:sye,Bottom:oye,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} en {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} niveaus","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} groepen","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} niveaus in {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} groepen in {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% van totale x waarden","{{percentage}}% of total y values":"{{percentage}}% van totale y-waarden","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Aangepaste Z-score laag","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Aangepaste Z-score hoog","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Z-score laag","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-score hoog",Data:lye,"Organisation unit":"Organisatieëenheid","Assigned Categories":"Toegewezen categorieën","Pivot table":"Draaitafel",Area:cye,"Stacked area":"Gestapeld gebied",Bar:uye,"Stacked bar":"Gestapelde staaf",Column:dye,"Year over year (column)":"Jaar over jaar (kolom)","Stacked column":"Gestapelde kolom",Gauge:hye,Line:pye,"Line list":"Lijn lijst","Year over year (line)":"Jaar over jaar (lijn)",Pie:mye,Radar:fye,Scatter:gye,"Single value":"Enkele waarde","All charts":"Alle grafieken","{{seriesName}} (trend)":"{{seriesName}} (trend)",Trend:yye,"No legend for this series":"Geen legende voor deze serie","and {{amount}} more...":"en nog {{amount}} meer...","Linear Regression":"Lineaire regressie",Target:vye,Base:xye,"Axis {{axisId}}":"As {{axisId}}","{{count}} items":"{{count}} artikel","{{count}} items_plural":"{{count}} artikelen","Reset zoom":"Zoom resetten"},_ye="",wye="",Tye="",Sye="",Cye="",Eye="",kye="",Lye="",Nye="",Iye="",Aye="",Pye="",Mye="",Dye="",Oye="",Rye="",$ye="",zye="",Fye="",Bye="",jye="",Uye="",Gye="",Yye="",Vye="",qye="",Wye="",Hye="",Xye="",Zye="",Kye="",Qye="",Jye="",eve="",tve="",nve="",ive="",rve="",ave="",sve="",ove="",lve="",cve="",uve="",dve="",hve="",pve="",mve="",fve="ସାପ୍ତାହିକ",gve="ମାସିକ",yve="",vve="ବାର୍ଷିକ",xve="ଆଜି",bve="ଗତକାଲି",_ve="",wve="",Tve="",Sve="",Cve="",Eve="",kve="",Lve="",Nve="",Ive="",Ave="",Pve="",Mve="",Dve="",Ove="",Rve="",$ve="",zve="",Fve="",Bve="",jve="",Uve="",Gve="",Yve="",Vve="",qve="",Wve="",Hve="",Xve="",Zve="",Kve="",Qve="",Jve="",exe="",txe="",nxe="",ixe="",rxe="",axe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:_ye,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:wye,"Subscribe to get updates about new interpretations.":"",Subscribe:Tye,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"",Disaggregation:Sye,"No data":"",Loading:Cye,"Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data elements found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:Eye,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:kye,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Cancel:Lye,Delete:Nye,File:Iye,New:Aye,"Open…":"",Save:Pye,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:Mye,"Rename {{fileType}}":"",Name:Dye,Description:Oye,Rename:Rye,"Save {{fileType}} as":"","event report":"","line list":"",map:$ye,visualization:zye,Edit:Fye,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:Bye,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:jye,Unlike:Uye,Like:Gye,Reply:Yye,Share:Vye,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:qye,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Created by":"",Anyone:Wye,"Only you":"",Others:Hye,"Not supported by this app yet":"","Filter by name":"",Created:Xye,"Last updated":"",Type:Zye,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:Kye,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:Qye,Hide:Jye,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:eve,"Select year":"",Period:tve,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",January:nve,February:ive,March:rve,April:ave,May:sve,June:ove,July:lve,August:cve,September:uve,October:dve,November:hve,December:pve,"Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"",Daily:mve,Weekly:fve,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:gve,"Bi-monthly":"",Quarterly:yve,"Six-monthly":"","Six-monthly April":"",Yearly:vve,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:xve,Yesterday:bve,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"ଚଳିତ ସପ୍ତାହ","Last week":"ଗତ ସପ୍ତାହ","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"ଚଳିତ ମାସ","Last month":"ଗତ ମାସ","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:_ve,Weeks:wve,"Bi-weeks":"",Months:Tve,"Bi-months":"",Quarters:Sve,"Six-months":"","Financial Years":"",Years:Cve,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"",Retry:Eve,Series:kve,Category:Lve,Filter:Nve,Columns:Ive,Rows:Ave,Points:Pve,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:Mve,"Select a program":"",Indicators:Dve,"Indicator group":"","All groups":"",Indicator:Ove,"No indicator groups found":"","Loading indicator groups":"","Data elements":"","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"",Small:Rve,Regular:$ve,Large:zve,"Extra Large":"",Left:Fve,Center:Bve,Right:jve,Start:Uve,Middle:Gve,End:Yve,Top:Vve,Bottom:qve,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:Wve,"Organisation unit":"","Assigned Categories":"","Pivot table":"",Area:Hve,"Stacked area":"",Bar:Xve,"Stacked bar":"",Column:Zve,"Year over year (column)":"","Stacked column":"",Gauge:Kve,Line:Qve,"Line list":"","Year over year (line)":"",Pie:Jve,Radar:exe,Scatter:txe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:nxe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:ixe,Base:rxe,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},sxe="",oxe="",lxe="",cxe="انصراف",uxe="در حال بار کردن",dxe="تکثیر",hxe="",pxe="حذف",mxe="جستجو",fxe="حذف",gxe="فایل",yxe="جدید",vxe="ذخیره",xxe="بستن",bxe="نام",_xe="شرح",wxe="تغییر نام",Txe="",Sxe="",Cxe="تجدید",Exe="تجدید",kxe="تفسیر ها",Lxe="غیرموافق",Nxe="موافق",Ixe="پاسخ",Axe="اشتراک",Pxe="پیش‌نمایش",Mxe="",Dxe="دیگران",Oxe="ایجاد شده",Rxe="نمونه/ډول",$xe="باز کردن",zxe="گزینه‌ها",Fxe="مخفی کردن",Bxe="سال",jxe="دوره",Uxe="روزنه",Gxe="هفته وار",Yxe="ماهانه",Vxe="سه ماهه",qxe="سالانه",Wxe="امروز",Hxe="دیروز",Xxe="روزها",Zxe="هفته ها",Kxe="ماه ها",Qxe="سه ماهه",Jxe="سالانه",ebe="",tbe="سلسله (لړۍ)",nbe="دسته بندی",ibe="فلتر",rbe="",abe="",sbe="",obe="برنامه",lbe="شاخص ها",cbe="شاخص",ube="",dbe="کوچک",hbe="منظم",pbe="بزرگ",mbe="چپ",fbe="",gbe="راست",ybe="شروع",vbe="",xbe="",bbe="بالا",_be="پایین",wbe="دیتا",Tbe="",Sbe="",Cbe="ستون",Ebe="",kbe="",Lbe="",Nbe="",Ibe="",Abe="محاسبه",Pbe="موخه",Mbe="اساس",Dbe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"بدون شرح","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"",Notifications:sxe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:oxe,"Subscribe to get updates about new interpretations.":"",Subscribe:lxe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:cxe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:uxe,"Data elements":"دیتا ایلمنت ها","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:dxe,"No data":"معلوماتی وجود ندارد","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:hxe,"Metric type":"","All metrics":"همه متریکس ها","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:pxe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:mxe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:fxe,File:gxe,New:yxe,"Open…":"",Save:vxe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:xxe,"Rename {{fileType}}":"",Name:bxe,Description:_xe,Rename:wxe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:Txe,visualization:Sxe,Edit:Cxe,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:Exe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:kxe,Unlike:Lxe,Like:Nxe,Reply:Ixe,Share:Axe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:Pxe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"هیج نتیجه ی یافت نشد","Not available offline":"","Created by":"ایجاد شده توسط",Anyone:Mxe,"Only you":"",Others:Dxe,"Not supported by this app yet":"","Filter by name":"فلتر با اسم",Created:Oxe,"Last updated":"تجدید آخیر",Type:Rxe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:$xe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:zxe,Hide:Fxe,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} groups_0":"","{{count}} groups_1":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"د کاروونکي سازمان واحدونه","User sub-units":"زیر-واحد ها استفاده کننده گان","User sub-x2-units":"زیر- x2-واحد های استفاده کننده گان","Select a level":"","Select a group":"","Deselect all":"همه از حالت انتخاب خارج","Period type":"د مودې ډول",Year:Bxe,"Select year":"غوره کال",Period:jxe,"Relative periods":"دوره های ارتباطی","Fixed periods":"ثابتې مودې","Selected Periods":"","No periods selected":"هېڅ مودې نه دي غوره شوې",Daily:Uxe,Weekly:Gxe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:Yxe,"Bi-monthly":"دوبار در- ماه",Quarterly:Vxe,"Six-monthly":"شش-ماهه","Six-monthly April":"شش-ماهه اپریل",Yearly:qxe,"Financial year (Start November)":"","Financial year (Start October)":"اکتوبر مالی","Financial year (Start July)":"مالی جولای","Financial year (Start April)":"مالی اپریل",Today:Wxe,Yesterday:Hxe,"Last 3 days":"3 روز گذشته","Last 7 days":"7 روز گذشته","Last 14 days":"14 روز گذشته","Last 30 days":"30 روز گذشته","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"هفته جاری","Last week":"هفته گذشته","Last 4 weeks":"4 هفته گذشته","Last 12 weeks":"12 هفته گذشته","Last 52 weeks":"52 هفته گذشته","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"ماه جاری","Last month":"ماه گذشته","Last 3 months":"3 ماهه گذشته","Last 6 months":"6 ماه گذشته","Last 12 months":"12 ماهه گذشته","Months this year":"ماه های سال هذا","This bi-month":"دوبار در ماه جاری","Last bi-month":"دوبار در ماه گذشته","Last 6 bi-months":"دروبار در شش-ماه گذشته","Bi-months this year":"","This quarter":"سه ماهه جاری","Last quarter":"سه ماهه آخیر","Last 4 quarters":"4 سه ماهه آخیر","Quarters this year":"ربع های سال هذا","This six-month":"شش-ماه جاری","Last six-month":"شش-ماهه گذشته","Last 2 six-month":"","This financial year":"سال مالی جاری","Last financial year":"سال گذشته مالی","Last 5 financial years":"5 سال گذشته مالی","This year":"سال جاری","Last year":"سال گذشته","Last 5 years":"5 سال گذشته","Last 10 years":"10 سال آخیر",Days:Xxe,Weeks:Zxe,"Bi-weeks":"",Months:Kxe,"Bi-months":"دوبار در ماه",Quarters:Qxe,"Six-months":"شش-ماهه","Financial Years":"",Years:Jxe,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:ebe,Series:tbe,Category:nbe,Filter:ibe,Columns:rbe,Rows:abe,Points:sbe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:obe,"Select a program":"",Indicators:lbe,"Indicator group":"د شاخص ګروپ","All groups":"",Indicator:cbe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"د مالوماتو (ډاټا) د برخې ګروپ","Data element":"عناصر معلومات","No data element groups found":"","Loading data element groups":"","Data sets":"دیتا سیت ها","Data set":"د مالوماتو (ډاټا) ټولګه","All data sets":"","Loading data sets":"","Event data items":"د پېښې د مالوماتو (ډاټا) موضوعات","All programs":"","Event data item":"د پېښې طبقه","No programs found":"","Loading programs":"","Program indicators":"د پروګرام شاخصونه","Program indicator":"ایجاد پروگرام شاخص",Calculations:ube,Number:"نمبر","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:dbe,Regular:hbe,Large:pbe,"Extra Large":"",Left:mbe,Center:fbe,Right:gbe,Start:ybe,Middle:vbe,End:xbe,Top:bbe,Bottom:_be,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:wbe,"Organisation unit":"واحد سازمان","Assigned Categories":"","Pivot table":"",Area:Tbe,"Stacked area":"",Bar:Sbe,"Stacked bar":"",Column:Cbe,"Year over year (column)":"","Stacked column":"",Gauge:Ebe,Line:kbe,"Line list":"","Year over year (line)":"",Pie:Lbe,Radar:Nbe,Scatter:Ibe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:Abe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:Pbe,Base:Mbe,"Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","Reset zoom":""},Obe="",Rbe="",$be="",zbe="رد یې کړئ [ ژباړه ـ ردول ]",Fbe="د پورته کېدو یا لوډینګ په حال کې",Bbe="",jbe="",Ube="لرې کول",Gbe="جستجو",Ybe="خذف یې کړئ",Vbe="فایل",qbe="نوی",Wbe="ثبت یې کړئ [ ژباړه - ثبت کړئ ]",Hbe="بند یې کړئ",Xbe="نوم",Zbe="تشریح [ ژباړه ـ نښه ـ تشریح ]",Kbe="بیا نومول",Qbe="",Jbe="",e0e="درست یې کړئ",t0e="تجدید یا نوي یې کړئ",n0e="شفاهي ژباړې",i0e="نه خوښول.",r0e="د خوښې وړ.",a0e="ځواب ورکړئ",s0e="شریک یې کړئ",o0e="",l0e="",c0e="",u0e="ایجاد شوی دی",d0e="نمونه/ډول",h0e="خلاص یې کړئ",p0e="ګزینه",m0e="پټ یې کړئ",f0e="کال",g0e="معیاد",y0e="ورځني [ د مودې ډول ]",v0e="اوونیز",x0e="میاشتنۍ",b0e="درې میاشتنۍ",_0e="کلنۍ",w0e="نن ورځ",T0e="پرونۍ ورځ",S0e="ورځې",C0e="اونۍ",E0e="میاشت",k0e="ربعې",L0e="کلونه",N0e="",I0e="سلسله (لړۍ)",A0e="کټګوري",P0e="فیلټر",M0e="",D0e="",O0e="",R0e="پروګرام",$0e="شاخصونه",z0e="شاخص",F0e="",B0e="کوچنۍ",j0e="",U0e="لوی",G0e="",Y0e="",V0e="",q0e="",W0e="",H0e="",X0e="پورتنۍ برخه",Z0e="لاندینۍ برخه",K0e="مالومات (ډاټا)",Q0e="",J0e="",e_e="ستون",t_e="",n_e="",i_e="",r_e="",a_e="",s_e="محاسبه",o_e="هدف",l_e="اساس",c_e={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"هېڅ ډول تشریح نه لري","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:Obe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:Rbe,"Subscribe to get updates about new interpretations.":"",Subscribe:$be,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:zbe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:Fbe,"Data elements":"د مالوماتو (ډاټا) برخې","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:Bbe,"No data":"د مالوماتو (ډاټا) نشتوالۍ","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:jbe,"Metric type":"","All metrics":"ټول متریک","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:Ube,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:Gbe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:Ybe,File:Vbe,New:qbe,"Open…":"",Save:Wbe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:Hbe,"Rename {{fileType}}":"",Name:Xbe,Description:Zbe,Rename:Kbe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:Qbe,visualization:Jbe,Edit:e0e,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:t0e,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:n0e,Unlike:i0e,Like:r0e,Reply:a0e,Share:s0e,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:o0e,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"هېڅ پایله ترلاسه نه شوه","Not available offline":"","Created by":"لخوا ایجاد یا رامنځ ته شوی",Anyone:l0e,"Only you":"",Others:c0e,"Not supported by this app yet":"","Filter by name":"د نوم له مخې یې فیلټر کړئ",Created:u0e,"Last updated":"د وروستي ځل لپاره تجدید شوې",Type:d0e,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:h0e,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:p0e,Hide:m0e,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"کارکوڼکی واحدو سازمان","User sub-units":"واحد های فرعی استفاده کننده","User sub-x2-units":"واحد های نیم فرعی استفاده کننده","Select a level":"","Select a group":"","Deselect all":"","Period type":"د مودې ډول",Year:f0e,"Select year":"کال ټاکل",Period:g0e,"Relative periods":"اړونده مودط","Fixed periods":"ثابتې مودې","Selected Periods":"","No periods selected":"هېڅ مودې نه دي غوره شوې",Daily:y0e,Weekly:v0e,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:x0e,"Bi-monthly":"دوه میاشتنۍ",Quarterly:b0e,"Six-monthly":"شپږ- میاشتنۍ","Six-monthly April":"شپږ - د اپرېل میاشتنۍ",Yearly:_0e,"Financial year (Start November)":"","Financial year (Start October)":"مالی کال- اکتوبر","Financial year (Start July)":"مالی کال- جولای","Financial year (Start April)":"مالی کال- آپریل",Today:w0e,Yesterday:T0e,"Last 3 days":"تېرې درې ورځې","Last 7 days":"تېرې اوه ورځې","Last 14 days":"تېرې څورلس ورځې","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"هفته هذا","Last week":"تېره اونۍ","Last 4 weeks":"تېرې 4 اونۍ","Last 12 weeks":"تېرو 12 اونۍ","Last 52 weeks":"تېرې دوه پنځوس اونۍ","Weeks this year":"په روان کال کې اونۍ","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"ماه هذا","Last month":"تېره میاشت","Last 3 months":"تېرې 3 میاشتې","Last 6 months":"تېرې شپږ میاشتې","Last 12 months":"تېرې 12 میاشتې","Months this year":"د روان کال میاشتې","This bi-month":"این دوماهه","Last bi-month":"تېرې دوه میاشتې","Last 6 bi-months":"په تېرو شپږو میاشتو کې ډوه ځلې","Bi-months this year":"په روان کال کې دوه میاشتې","This quarter":"ربع هذا","Last quarter":"تېره ربعه","Last 4 quarters":"تېرې 4ربعې","Quarters this year":"د سږ کال ربعې","This six-month":"شش ماه هذا","Last six-month":"تېرې شپږ میاشتې [ تېرې ـ شپږ ـ میاشتې ]","Last 2 six-month":"","This financial year":"سږنۍ مالي کال","Last financial year":"تېر مالي کال","Last 5 financial years":"تېر 5 مالي کلونه","This year":"روان کال","Last year":"تېر کال","Last 5 years":"تېر 5 کلونه","Last 10 years":"لس کلونه",Days:S0e,Weeks:C0e,"Bi-weeks":"",Months:E0e,"Bi-months":"دوه میاشتنۍ",Quarters:k0e,"Six-months":"شپږ میاشتې","Financial Years":"",Years:L0e,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:N0e,Series:I0e,Category:A0e,Filter:P0e,Columns:M0e,Rows:D0e,Points:O0e,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:R0e,"Select a program":"",Indicators:$0e,"Indicator group":"د شاخص ګروپ","All groups":"",Indicator:z0e,"No indicator groups found":"","Loading indicator groups":"","Data element group":"د مالوماتو (ډاټا) د برخې ګروپ","Data element":"د مالوماتو (ډاټا) برخه","No data element groups found":"","Loading data element groups":"","Data sets":"د مالوماتو یا ډاټا ټولګې","Data set":"د مالوماتو (ډاټا) ټولګه","All data sets":"","Loading data sets":"","Event data items":"د پېښې د ډاټا یا مالوماتو محتویات","All programs":"","Event data item":"لایه رویداد","No programs found":"","Loading programs":"","Program indicators":"د پروګرام شاخص","Program indicator":"",Calculations:F0e,Number:"عدد [ بشپړ عدد ]","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:B0e,Regular:j0e,Large:U0e,"Extra Large":"",Left:G0e,Center:Y0e,Right:V0e,Start:q0e,Middle:W0e,End:H0e,Top:X0e,Bottom:Z0e,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:K0e,"Organisation unit":"د سازمان واحد","Assigned Categories":"","Pivot table":"",Area:Q0e,"Stacked area":"",Bar:J0e,"Stacked bar":"",Column:e_e,"Year over year (column)":"","Stacked column":"",Gauge:t_e,Line:n_e,"Line list":"","Year over year (line)":"",Pie:i_e,Radar:r_e,Scatter:a_e,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:s_e,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:o_e,Base:l_e,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},u_e="Notificação",d_e=" Cancelar a subscrição",h_e="Subcreva",p_e="Cancelar",m_e="Carregando",f_e="Desagregação",g_e=" Cálculo",y_e="Remover",v_e="Pesquisar",x_e="Eliminar",b_e="Arquivo",__e="Novo",w_e="Salvar",T_e="Fechar",S_e="Nome",C_e="Descrição",E_e="Renomear",k_e="mapa",L_e="visualização",N_e="Editar",I_e="Actualizar",A_e="Interpretações",P_e="Responder",M_e="Diferente",D_e="como",O_e=" Partilhar",R_e="Qualquer um",$_e="Outros",z_e="Criado",F_e="Tipo",B_e="Aberto",j_e="Opções",U_e="Ocultar",G_e="Ano",Y_e="Período",V_e="Diário",q_e="Semanal",W_e="Mensal",H_e="Trimestral",X_e="Anualmente",Z_e="Hoje",K_e="Ontém",Q_e="Dias",J_e="Semanas",ewe="Meses",twe="Trimestres",nwe="Anos",iwe="Pré-visualização",rwe="Repetir",awe="Séries",swe="Categoria",owe="Filtro",lwe="Colunas",cwe="Linhas",uwe="Pontos",dwe="Programa",hwe="Indicadores",pwe="Indicador",mwe="Cálculos",fwe="Pequeno",gwe="Regular",ywe="Largo",vwe="Esquerda",xwe="Centro",bwe="Direita",_we="Início",wwe="Meio",Twe="Fim",Swe="Topo",Cwe="Fundo",Ewe="Dados",kwe="Área",Lwe="Barra",Nwe="Coluna",Iwe="Calibre",Awe="Linha",Pwe="Pizza",Mwe="Radar",Dwe="Dispersão",Owe="Tendência",Rwe="Meta",$we="Base",zwe={"view only":" apenas para visualização","view and edit":"visualizar e editar","all users ({{accessLevel}})":"todos utilizadores ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}}({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":" Partilhado com{{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":" Não partilhado com quaisquer utilizadores ou grupos","No description":"Sem descrição","Last updated {{time}}":" Última actualização{{time}}","Created {{time}} by {{author}}":"Criado{{time}} por {{author}}","Created {{time}}":"Criado {{time}}","Viewed {{count}} times":"Visualizado 1 vez","Viewed {{count}} times_plural":"Visualizado {{count}} vezes",Notifications:u_e,"You're subscribed and getting updates about new interpretations.":" Está inscrito para receber actualizações sobre novas interpretações.",Unsubscribe:d_e,"Subscribe to get updates about new interpretations.":" Subscreva para receber actualizações sobre novas interpretações.",Subscribe:h_e,"About this map":" Sobre este mapa","About this line list":" Sobre esta lista de linhas","About this visualization":" Sobre esta visualização","About this event chart":"Sobre esta tabela de eventos","About this event report":"Sobre este relatório de evento","This app could not retrieve required data.":" Esta aplicação não conseguiu obter os dados necessários.","Network error":" Erro de rede","Data / Edit calculation":" Dados / Editar cálculo","Data / New calculation":" Dados / Novo cálculo","Remove item":" Remover item","Check formula":" Verificar a fórmula","Calculation name":"Designação do cálculo","Shown in table headers and chart axes/legends":" Apresentado em cabeçalhos de tabelas e eixos/legendas de gráficos","Delete calculation":"Eliminar cálculo",Cancel:p_e,"The calculation can only be saved with a valid formula":"O cálculo só pode ser guardado com uma fórmula válida","Add a name to save this calculation":" Adicionar um nome para guardar este cálculo","Save calculation":"Gravar cálculo","Are you sure you want to delete this calculation? It may be used by other visualizations.":"Tem a certeza de que pretende eliminar este cálculo? Ele pode ser usado por outras visualizações.","Yes, delete":"Sim, eliminar","Totals only":"Apenas os totais","Details only":"Apenas os detalhes",Loading:m_e,"Data elements":"Elementos de Dados","Search by data element name":" Pesquisa por nome de elemento de dados",'No data elements found for "{{- searchTerm}}"':` Não foram encontrados elementos de dados para "{{- searchTerm}}''`,"No data elements found":"Nenhum elemento de dados encontrado","Drag items here, or double click in the list, to start building a calculation formula":"Arraste os itens para aqui, ou faça duplo clique na lista, para começar a criar uma fórmula de cálculo","Math operators":" Operadores matemáticos","Data Type":"Tipo de dados","Only {{dataType}} can be used in {{visType}}":"Apenas {{dataType}} pode ser usado em{{visType}}","All types":"Todos os tipos",Disaggregation:f_e,"No data":"Não há dados","Search by data item name":" Pesquisa por nome de item de dados","No items selected":" Nenhum item seleccionado","Selected Items":" Itens seleccionados","No indicators found":"Nenhum indicador encontrado","No data sets found":"Nenhum conjunto de dados encontrado","No event data items found":" Nenhum dado de evento encontrado","No program indicators found":" Nenhum indicador de programa encontrado","No calculations found":"Nenhum cálculo encontrado",'No indicators found for "{{- searchTerm}}"':" Nenhum indicador foi encontrado para ''{{- searchTerm}}''",'No data sets found for "{{- searchTerm}}"':" Nenhum conjunto de dados encontrado para ''{{- searchTerm}}''",'No event data items found for "{{- searchTerm}}"':" Nenhum dado de evento encontrado para ''{{- searchTerm}}''",'No program indicators found for "{{- searchTerm}}"':"Nenhum indicador de programa encontrado para ''{{- searchTerm}}''",'No calculations found for "{{- searchTerm}}"':"Nenhum cálculo encontrado para ''{{- searchTerm}}''",'Nothing found for "{{- searchTerm}}"':" Nada encontrado para ''{{- searchTerm}}''",Calculation:g_e,"Metric type":" Tipo de métrica","All metrics":"Todas métricas","Move to {{axisName}}":"Mover para {{axisName}}","Add to {{axisName}}":"Adicionar à {{axisName}}","Not available for {{visualizationType}}":"Não disponível para {{visualizationType}}","Remove Assigned Categories":"Remover categorias atribuídas","Add Assigned Categories":"Adicionar categorias atribuídas",Remove:y_e,"Filter dimensions":"Dimensões do filtro","Main dimensions":"Dimensões principais","Your dimensions":"Suas dimensões","Dimension recommended with selected data":"Dimensão recomendada com dados selecionados","All items":"Todos Itens","Automatically include all items":" Incluir automaticamente todos os itens","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":" Seleccionar todos os itens {{- dimensionTitle}}. Com esta opção, os novos itens adicionados no futuro serão automaticamente incluídos.","Manually select items...":"Seleccionar manualmente os itens...","Nothing found in {{- dimensionTitle}}":" Nada encontrado em {{- dimensionTitle}}",Search:v_e,"Nothing found for {{- searchTerm}}":" Nada encontrado para {{- searchTerm}}","Delete {{fileType}}":" Eliminar  {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":" Este {{fileType}} e as interpretações relacionadas serão eliminados. Continuar?",Delete:x_e,File:b_e,New:__e,"Open…":" Abrir...",Save:w_e,"Save…":"Gravar","Save as…":"Gravar como...","Rename…":"Renomear...","Translate…":"Traduzir...","Share…":"Partilhar...","Get link…":"Obter link...","Open in this app":"Abrir neste aplicativo",Close:T_e,"Rename {{fileType}}":"Renomear {{fileType}}",Name:S_e,Description:C_e,Rename:E_e,"{{- objectName}} (copy)":"{{- objectName}}(cópia)","Save {{fileType}} as":"Gravar {{fileType}} como","event report":"relatório de evento","line list":"lista de linha",map:k_e,visualization:L_e,Edit:N_e,"Write a reply":"Escreva uma resposta","Post reply":"Publicar resposta","Delete failed":"Falha na eliminação","Could not update comment":" Não foi possível actualizar o comentário","Enter comment text":"Introduzir o texto do comentário",Update:I_e,"Viewing interpretation: {{- visualisationName}}":"Ver interpretação: {{- visualisationName}}","Could not load interpretation":" Não foi possível carregar a interpretação","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"Não foi possível visualizar a interpretação. Tente novamente ou contacte o administrador do sistema.","Hide interpretation":" Ocultar interpretação","Write an interpretation":"Escreva uma interpretação","Other people viewing this interpretation in the future may see more data.":"Outras pessoas que vejam esta interpretação no futuro poderão ver mais dados.","Post interpretation":"Publicar interpretação",Interpretations:A_e,Reply:P_e,"{{count}} replies":"{{count}} resposta","{{count}} replies_plural":"{{count}} respostas","View replies":"Ver respostas",Unlike:M_e,Like:D_e,"See interpretation":" Ver interpretação","Open in app":" Abrir na aplicação",Share:O_e,"Manage sharing":"Gerir a partilha","Could not update interpretation":"Não foi possível actualizar a interpretação","Enter interpretation text":"Introduzir texto de interpretação","Not available offline":"Não disponível offline","Created by":"Criado por",Anyone:R_e,"Only you":"Apenas tu",Others:$_e,"Not supported by this app yet":"Ainda não suportado por esta aplicação","Filter by name":"Filtrar por nome",Created:z_e,"Last updated":"Última actualização",Type:F_e,"Clear filters":"Limpar filtros","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} de {{totalNumberOfItems}}",Open:B_e,"Couldn't load items":"Não foi possível carregar itens","There was a problem loading items. Try again or contact your system administrator.":"Houve um problema ao carregar itens. Tente novamente ou contacte o administrador do sistema.","No items found. Create a new to get started.":"Nenhum item encontrado. Criar um novo para começar.","No items found. Try adjusting your search or filter options to find what you're looking for.":"Nenhum item encontrado. Tente ajustar as suas opções de pesquisa ou de filtro para encontrar o que procura.","Create new":"Crie um novo","Open a visualization":"Abrir uma visualização","Loading visualizations":"Carregar visualizações","Couldn't load visualizations":" Não foi possível carregar visualizações","There was a problem loading visualizations. Try again or contact your system administrator.":"Houve um problema ao carregar as visualizações. Tente novamente ou contacte o administrador do sistema.","No visualizations found. Click New visualization to get started.":"Não foram encontradas visualizações. Clique em Nova visualização para começar.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"Não foram encontradas visualizações. Tente ajustar as suas opções de pesquisa ou de filtro para encontrar o que procura.","New visualization":"Nova visualização","Open a map":"Abrir um mapa","Loading maps":"Carregar mapas","Couldn't load maps":"Não foi possível carregar mapas","There was a problem loading maps. Try again or contact your system administrator.":"Houve um problema ao carregar os mapas. Tente novamente ou contacte o administrador do sistema.","No maps found. Click New map to get started.":"Não foram encontrados mapas. Clique em Novo mapa para começar.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"Não foram encontrados mapas. Tente ajustar as suas opções de pesquisa ou de filtro para encontrar o que procura.","New map":"Novo mapa","Open a line list":"Abrir uma lista de linhas","Loading line lists":"Carregar listas de linhas","Couldn't load line lists":"Não foi possível carregar as listas de linhas","There was a problem loading line lists. Try again or contact your system administrator.":"Houve um problema ao carregar as listas de linhas. Tente novamente ou contacte o administrador do sistema.","No line lists found. Click New line list to get started.":"Não foram encontradas listas de linhas. Clique em Nova lista de linhas para começar.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"Não foram encontradas listas de linhas. Tente ajustar as suas opções de pesquisa ou de filtro para encontrar o que procura.","New line list":"Nova lista de linhas",Options:j_e,Hide:U_e,"{{count}} org units":"{{count}} unidade orgânica","{{count}} org units_plural":"{{count}} unidades organizacionais","{{count}} levels":"{{count}} nível","{{count}} levels_plural":"{{count}} níveis","{{count}} groups":"{{count}} grupo","{{count}} groups_plural":"{{count}} grupos","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Seleccionado: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Nada seleccionado","User organisation unit":"Unidade organizacional do utilizador","User sub-units":"Sub-unidades do utilizador","User sub-x2-units":"Sub-unidades nível 2 do utilizador","Select a level":"Seleccione um nível","Select a group":"Seleccione um grupo","Deselect all":"Desmarcar todos","Period type":"Tipo de periodo",Year:G_e,"Select year":"Seleccionar ano",Period:Y_e,"Selected Periods":"Períodos seleccionados","Relative periods":"Períodos relativos","Fixed periods":"Períodos fixos","No periods selected":"Não há períodos relativos seleccionados",Daily:V_e,Weekly:q_e,"Weekly (Start Wednesday)":"Semanalmente (início na Quarta-feira)","Weekly (Start Thursday)":" Semanal (início na Quinta-feira)","Weekly (Start Saturday)":" Semanal (início no Sábado)","Weekly (Start Sunday)":" Semanal (início no Domingo)","Bi-weekly":"Quinzenal",Monthly:W_e,"Bi-monthly":"Bimestre",Quarterly:H_e,"Six-monthly":"Semestral","Six-monthly April":"Semestral a partir de Abril",Yearly:X_e,"Financial year (Start November)":" Ano financeiro (início em Novembro)","Financial year (Start October)":"Ano financeiro (início em Outubro)","Financial year (Start July)":"Ano financeiro (início em Julho)","Financial year (Start April)":"Ano financeiro (início em Abril)",Today:Z_e,Yesterday:K_e,"Last 3 days":"Últimos 3 dias","Last 7 days":"Últimos 7 dias","Last 14 days":"Últimos 14  dias","Last 30 days":"Últimos 30 dias","Last 60 days":"Últimos 60 dias","Last 90 days":"Últimos 90 dias","Last 180 days":"Últimos 180 dias","This week":"Esta semana","Last week":"Última semana","Last 4 weeks":"Últimas 4 semanas","Last 12 weeks":"Últimas 12 semanas","Last 52 weeks":"Últimas 52 semanas","Weeks this year":"Semanas deste ano ","This bi-week":"Esta quinzena","Last bi-week":"Última quinzena","Last 4 bi-weeks":"Últimas 4 semanas","This month":"Este mês","Last month":"Último mês","Last 3 months":"Últimos 3 meses","Last 6 months":"Últimos 6 meses","Last 12 months":"Últimos 12 meses","Months this year":"Meses deste ano","This bi-month":"Este bimestre","Last bi-month":"Último bimestre","Last 6 bi-months":"Últimos 6 bimestres","Bi-months this year":"Bimestres deste ano","This quarter":"Este Trimestre","Last quarter":"Último trimestre","Last 4 quarters":"Últimos 4 trimestres","Quarters this year":"Trimestres deste ano","This six-month":"Estes seis meses","Last six-month":"Último semestre","Last 2 six-month":" Últimos 2 semestres","This financial year":"Ano financeiro","Last financial year":"Último ano fiscal","Last 5 financial years":"Últimos 5 anos fiscais","This year":"Este ano","Last year":"Último ano","Last 5 years":"Últimos 5 anos","Last 10 years":"Últimos 10 anos",Days:Q_e,Weeks:J_e,"Bi-weeks":"Quinzena",Months:ewe,"Bi-months":"Bimestre",Quarters:twe,"Six-months":"Seis meses","Financial Years":"Ano financeiro ",Years:nwe,"Value: {{value}}":"Valor: {{value}}","Bold text":"Texto em negrito","Italic text":"Texto em itálico","Link to a URL":"Ligação a um URL","Mention a user":"Mencionar um utilizador","Add emoji":"Adicionar emoji",Preview:iwe,"Back to write mode":"Voltar ao modo de escrita","Interpretations and details":"Interpretações e pormenores","Translating to":"Traduzir para","Choose a locale":"Escolher um local","Base locale reference":"Referência à localidade de base","Choose a locale to translate from the menu above":"Escolha uma localidade para traduzir no menu acima","Translate: {{objectName}}":"Traduzir: {{objectName}}","Save translations":"Gravar traduções","Cannot save while offline":"Não é possível gravar quando se está offline","Could not load translations":"Não foi possível carregar traduções",Retry:rwe,"Too many results. Try refining the search.":"Demasiados resultados. Tente refinar a pesquisa.","Search for a user":"Procurar um utilizador",'Searching for "{{- searchText}}"':'Procurar por "{{- searchText}}"',"No results found":"Nenhum resultado encontrado",Series:awe,Category:swe,Filter:owe,Columns:lwe,Rows:cwe,Points:uwe,"Reporting rate":"Taxa de relatórios","Reporting rate on time":"Taxa de relatórios no prazo","Actual reports":"Relatórios actuais","Actual reports on time":"Relatórios actuais dentro do prazo","Expected reports":"Relatórios esperados",Program:dwe,"Select a program":"Seleccione um programa",Indicators:hwe,"Indicator group":"Grupo de Indicador","All groups":"Todos os grupos",Indicator:pwe,"No indicator groups found":"Não foram encontrados grupos de indicadores","Loading indicator groups":"Carregando grupos de indicadores","Data element group":"Grupo de Elemento de Dados","Data element":"Elemento de dado","No data element groups found":"Não foram encontrados grupos de elementos de dados","Loading data element groups":"Carregando de grupos de elementos de dados","Data sets":"Agregação de Dados","Data set":"Conjuntos de dados","All data sets":"Todos conjuntos de dados","Loading data sets":"Carregando conjuntos de dados","Event data items":"Itens de dados do evento","All programs":"Todos os programas","Event data item":"Item de dados do evento","No programs found":"Nenhum programa encontrado","Loading programs":"Carregando programas","Program indicators":"Indicador do programa","Program indicator":"Gestão do indicadores de programa",Calculations:mwe,Number:"Número","Formula is empty. Add items to the formula from the lists on the left.":"A fórmula está vazia. Adicione itens à fórmula a partir das listas à esquerda.","Consecutive math operators":"Operadores matemáticos consecutivos","Consecutive data elements":"Elementos de dados consecutivos","Starts or ends with a math operator":"Começa ou termina com um operador matemático","Empty parentheses":"Parênteses vazios","Missing right parenthesis )":"Parêntese direito em falta )","Missing left parenthesis (":"Parêntese esquerdo em falta (","Extra Small":"Extra pequeno",Small:fwe,Regular:gwe,Large:ywe,"Extra Large":"Extra grande",Left:vwe,Center:xwe,Right:bwe,Start:_we,Middle:wwe,End:Twe,Top:Swe,Bottom:Cwe,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} e {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} níveis","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} grupos","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} níveis em {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} grupos em {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% do total de valores x","{{percentage}}% of total y values":"{{percentage}}% do total de valores y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Pontuação-Z baixa modificada","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Pontuação-Z elevada modificada ","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Pontuação-Z baixa","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Pontuação-Z elevada","Not applicable":"Não aplicável",Data:Ewe,"Organisation unit":"Unidade organizacional","Assigned Categories":"Categorias atribuídas","Pivot table":"Tabela dinâmica",Area:kwe,"Stacked area":"Área empilhada",Bar:Lwe,"Stacked bar":"Barra empilhada",Column:Nwe,"Year over year (column)":"Ano após ano (coluna)","Stacked column":"Coluna empilhada",Gauge:Iwe,Line:Awe,"Line list":"Lista de linhas ","Year over year (line)":"Ano após ano (linha)",Pie:Pwe,Radar:Mwe,Scatter:Dwe,"Single value":"Valor único","Outlier table":"Tabela de valores atípicos","All charts":"Todos os gráficos","{{seriesName}} (trend)":"{{seriesName}} (tendência)",Trend:Owe,"No legend for this series":"Não há legenda para esta série","and {{amount}} more...":"e {{amount}} mais...","Linear Regression":"Regressão linear",Target:Rwe,Base:$we,"Axis {{axisId}}":"Eixos {{axisId}}","{{count}} items":"{{count}} item","{{count}} items_plural":"{{count}} itens","Reset zoom":"Repor o zoom"},Fwe="",Bwe="",jwe="",Uwe="Cancelar",Gwe="Carregando..",Ywe="Desagregação",Vwe="",qwe="Remover",Wwe="Pesquisar",Hwe="Apagar",Xwe="Arquivo",Zwe="Novo",Kwe="Salvar",Qwe="Fechar",Jwe="Nome",e1e="Descrição",t1e="Renomear",n1e="",i1e="",r1e="Editar",a1e="Actualizar",s1e="Interpretações",o1e="Responder",l1e="",c1e="como",u1e="Partilhar",d1e="Pré-visualização",h1e="",p1e="Outros",m1e="Criado",f1e="Tipo",g1e="Abrir",y1e="Opções",v1e="",x1e="Ano",b1e="Período",_1e="Diário",w1e="Semanal",T1e="Mensal",S1e="Trimestral",C1e="Anual",E1e="Hoje",k1e="Ontém",L1e="Dias",N1e="",I1e="Meses",A1e="Trimestres",P1e="Anos",M1e="",D1e="Série",O1e="Categoria",R1e="Filtro",$1e="",z1e="",F1e="",B1e="Programa",j1e="Indicadores",U1e="Indicador",G1e="",Y1e="",V1e="Regula",q1e="",W1e="Esquerda",H1e="",X1e="Direita",Z1e="Inicio",K1e="",Q1e="",J1e="",eTe="",tTe="Dados",nTe="",iTe="",rTe="Coluna",aTe="",sTe="",oTe="",lTe="",cTe="",uTe="Tendência",dTe="Meta",hTe="",pTe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:Fwe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:Bwe,"Subscribe to get updates about new interpretations.":"",Subscribe:jwe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"Erro de rede","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:Uwe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"Sim, excluir","Totals only":"","Details only":"",Loading:Gwe,"Data elements":"Os elementos de dados","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:Ywe,"No data":"Não ha dados","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:Vwe,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:qwe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:Wwe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:Hwe,File:Xwe,New:Zwe,"Open…":"",Save:Kwe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:Qwe,"Rename {{fileType}}":"",Name:Jwe,Description:e1e,Rename:t1e,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:n1e,visualization:i1e,Edit:r1e,"Write a reply":"","Post reply":"","Delete failed":"Falha na exclusão","Could not update comment":"","Enter comment text":"",Update:a1e,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:s1e,Reply:o1e,"{{count}} replies":"","{{count}} replies_plural":"","View replies":"",Unlike:l1e,Like:c1e,Share:u1e,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:d1e,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Nenhum resultado encontrado","Not available offline":"","Created by":"Criado por",Anyone:h1e,"Only you":"",Others:p1e,"Not supported by this app yet":"","Filter by name":"Filtrar por nome",Created:m1e,"Last updated":"Última actualização",Type:f1e,"Clear filters":"Limpar filtros","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:g1e,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:y1e,Hide:v1e,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"Desmarcar todos","Period type":"Tipo de período",Year:x1e,"Select year":"",Period:b1e,"Relative periods":"Períodos relativos","Fixed periods":"Periodos fixos","Selected Periods":"","No periods selected":"Não há períodos relativos seleccionados",Daily:_1e,Weekly:w1e,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:T1e,"Bi-monthly":"Bimensal",Quarterly:S1e,"Six-monthly":"Semestral","Six-monthly April":"",Yearly:C1e,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:E1e,Yesterday:k1e,"Last 3 days":"","Last 7 days":"Últimos 7 dias","Last 14 days":"","Last 30 days":"Últimos 30 dias","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Última semana","Last 4 weeks":"Últimas 4 semanas","Last 12 weeks":"Últimoas 12 semanas","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"Mês passado","Last 3 months":"Últimos 3 meses","Last 6 months":"Últimos 6 meses","Last 12 months":"Últimos 12 meses","Months this year":"Meses deste ano","This bi-month":"","Last bi-month":"","Last 6 bi-months":"Últimos 6 bi-meses","Bi-months this year":"","This quarter":"","Last quarter":"Último trimestre","Last 4 quarters":"Últimos 4 trimestresÚltimo 4 trimestre","Quarters this year":"Trimestres deste ano","This six-month":"","Last six-month":"Últimos 6 meses","Last 2 six-month":"","This financial year":"","Last financial year":"último ano financeiro","Last 5 financial years":"Últimos 5 anos financeiros","This year":"Este ano","Last year":"Ano passado","Last 5 years":"Últimos 5 anos","Last 10 years":"",Days:L1e,Weeks:N1e,"Bi-weeks":"",Months:I1e,"Bi-months":"",Quarters:A1e,"Six-months":"","Financial Years":"",Years:P1e,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:M1e,Series:D1e,Category:O1e,Filter:R1e,Columns:$1e,Rows:z1e,Points:F1e,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:B1e,"Select a program":"",Indicators:j1e,"Indicator group":"Grupo do indicador","All groups":"",Indicator:U1e,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Grupo de elemento de dado","Data element":"Elemento de dado","No data element groups found":"","Loading data element groups":"","Data sets":"Agregação de Dados","Data set":"Conjunto de dados","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:G1e,Number:"Número","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:Y1e,Regular:V1e,Large:q1e,"Extra Large":"",Left:W1e,Center:H1e,Right:X1e,Start:Z1e,Middle:K1e,End:Q1e,Top:J1e,Bottom:eTe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:tTe,"Organisation unit":"Unidade organizacional","Assigned Categories":"","Pivot table":"",Area:nTe,"Stacked area":"",Bar:iTe,"Stacked bar":"",Column:rTe,"Year over year (column)":"","Stacked column":"",Gauge:aTe,Line:sTe,"Line list":"","Year over year (line)":"",Pie:oTe,Radar:lTe,Scatter:cTe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:uTe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:dTe,Base:hTe,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},mTe="",fTe="",gTe="",yTe="",vTe="",xTe="",bTe="Căutare",_Te="Anulare",wTe="Lichidare",TTe="Fişier",STe="Nou",CTe="salva",ETe="Închidere",kTe="",LTe="Descriere",NTe="",ITe="",ATe="",PTe="Editare",MTe="Actualizare",DTe="",OTe="",RTe="",$Te="",zTe="Partajare",FTe="",BTe="Oricine",jTe="",UTe="",GTe="",YTe="",VTe="",qTe="",WTe="An",HTe="",XTe="",ZTe="",KTe="",QTe="",JTe="",eSe="",tSe="",nSe="",iSe="",rSe="",aSe="",sSe="",oSe="",lSe="",cSe="Lunar",uSe="Trimestrial",dSe="Anual",hSe="Astăzi",pSe="Ieri",mSe="Zile",fSe="Săptămâni",gSe="Luni",ySe="Trimestre",vSe="Ani",xSe="",bSe="",_Se="",wSe="",TSe="",SSe="",CSe="",ESe="Program",kSe="Indicatori",LSe="Indicator",NSe="",ISe="",ASe="",PSe="",MSe="",DSe="",OSe="",RSe="",$Se="",zSe="",FSe="",BSe="",jSe="",USe="",GSe="Coloană",YSe="",VSe="",qSe="",WSe="",HSe="",XSe="",ZSe="",KSe="",QSe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"",Notifications:mTe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:fTe,"Subscribe to get updates about new interpretations.":"",Subscribe:gTe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"",Disaggregation:yTe,"No data":"",Loading:vTe,"Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data elements found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:xTe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:bTe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Cancel:_Te,Delete:wTe,File:TTe,New:STe,"Open…":"",Save:CTe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:ETe,"Rename {{fileType}}":"",Name:kTe,Description:LTe,Rename:NTe,"Save {{fileType}} as":"","event report":"","line list":"",map:ITe,visualization:ATe,Edit:PTe,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:MTe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:DTe,Unlike:OTe,Like:RTe,Reply:$Te,Share:zTe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:FTe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Nu au fost găsite rezultate","Created by":"",Anyone:BTe,"Only you":"",Others:jTe,"Not supported by this app yet":"","Filter by name":"",Created:UTe,"Last updated":"Ultima actualizare",Type:GTe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:YTe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:VTe,Hide:qTe,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Tipul perioadei",Year:WTe,"Select year":"",Period:HTe,"Relative periods":"Perioade relative","Fixed periods":"","Selected Periods":"","No periods selected":"",January:XTe,February:ZTe,March:KTe,April:QTe,May:JTe,June:eSe,July:tSe,August:nSe,September:iSe,October:rSe,November:aSe,December:sSe,"Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"",Daily:oSe,Weekly:lSe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:cSe,"Bi-monthly":"",Quarterly:uSe,"Six-monthly":"","Six-monthly April":"",Yearly:dSe,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:hSe,Yesterday:pSe,"Last 3 days":"Ultimele 3 zile","Last 7 days":"Ultimele 7 zile","Last 14 days":"Ultimele 14 zile","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"Săptămâna aceasta","Last week":"Săptămâna trecută","Last 4 weeks":"Ultimele 4 săptămâni","Last 12 weeks":"Ultimele 12 săptămâni","Last 52 weeks":"Ultimele 52 de săptămâni","Weeks this year":"Săptămâni în anul curent","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"Luna aceasta","Last month":"Luna trecută","Last 3 months":"Ultimele 3 luni","Last 6 months":"Ultimele 6 luni","Last 12 months":"Ultimele 12 luni","Months this year":"Luni în anul curent","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"Ultimul trimestru","Last 4 quarters":"Ultimele 4 trimestre","Quarters this year":"Trimestre în anul curent","This six-month":"","Last six-month":"Ultimele șase luni","Last 2 six-month":"","This financial year":"","Last financial year":"Ultimul an financiar","Last 5 financial years":"Ultimii 5 ani financiari","This year":"","Last year":"Anul trecut","Last 5 years":"Ultimii 5 ani","Last 10 years":"",Days:mSe,Weeks:fSe,"Bi-weeks":"",Months:gSe,"Bi-months":"Bi-lunar",Quarters:ySe,"Six-months":"Șase luni","Financial Years":"Ani financiari",Years:vSe,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"",Retry:xSe,Series:bSe,Category:_Se,Filter:wSe,Columns:TSe,Rows:SSe,Points:CSe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:ESe,"Select a program":"",Indicators:kSe,"Indicator group":"Grup de indicatori","All groups":"",Indicator:LSe,"No indicator groups found":"","Loading indicator groups":"","Data elements":"Elemente de date","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"Set de date","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"",Small:NSe,Regular:ISe,Large:ASe,"Extra Large":"",Left:PSe,Center:MSe,Right:DSe,Start:OSe,Middle:RSe,End:$Se,Top:zSe,Bottom:FSe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:BSe,"Organisation unit":"Unitate organizațională","Assigned Categories":"","Pivot table":"",Area:jSe,"Stacked area":"",Bar:USe,"Stacked bar":"",Column:GSe,"Year over year (column)":"","Stacked column":"",Gauge:YSe,Line:VSe,"Line list":"","Year over year (line)":"",Pie:qSe,Radar:WSe,Scatter:HSe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:XSe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:ZSe,Base:KSe,"Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","Reset zoom":""},JSe="Уведомления",eCe="",tCe="",nCe="Отмена",iCe="Загрузка",rCe="Разукрупнение",aCe="",sCe="Убрать",oCe="Поиск",lCe="Удалить",cCe="Файл",uCe="Новый",dCe="Сохранить",hCe="Закрыть",pCe="Название",mCe="Описание",fCe="Переименовать",gCe="Карта",yCe="визуализация",vCe="Редактировать",xCe="Обновить",bCe="Interpretations",_Ce="Ответить",wCe="Не нравится",TCe="Нравится",SCe="Поделиться",CCe="Любой",ECe="Другие",kCe="Создано",LCe="Тип",NCe="Открыть",ICe="Параметры",ACe="Скрыть",PCe="Год",MCe="Период",DCe="Ежедневно",OCe="Еженедельно",RCe="Ежемесячно",$Ce="Ежеквартально",zCe="Ежегодно",FCe="Сегодня",BCe="Вчера",jCe="Дни",UCe="Недели",GCe="Месяцы",YCe="Кварталы",VCe="Годы",qCe="Предварительный просмотр",WCe="",HCe="Ряды",XCe="Категория",ZCe="Фильтр",KCe="Колонны",QCe="Строки",JCe="",eEe="Program",tEe="Индикаторы",nEe="Индикатор",iEe="",rEe="Маленький",aEe="регулярный",sEe="Большой",oEe="Слева",lEe="Центр",cEe="Справа",uEe="Начать",dEe="Середина",hEe="Конец",pEe="Верхний",mEe="Нижний",fEe="Данные",gEe="Диаграмма-области",yEe="Гистограмма",vEe="Столбчатая",xEe="Спидометр",bEe="Линейная",_Ee="Круговая",wEe="Радиальная",TEe="Рассеивание",SEe="Тренд",CEe="Цель",EEe="Базовый",kEe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Нет описания","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"",Notifications:JSe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:eCe,"Subscribe to get updates about new interpretations.":"",Subscribe:tCe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:nCe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:iCe,"Data elements":"Элементы данных","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"Тип данных","Only {{dataType}} can be used in {{visType}}":"","All types":"Все типы",Disaggregation:rCe,"No data":"Нет данных","Search by data item name":"","No items selected":"Не выбраны элементы","Selected Items":"Выбранные элементы","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No calculations found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:aCe,"Metric type":"","All metrics":"Все метрики","Move to {{axisName}}":"Переместить в {{axisName}}","Add to {{axisName}}":"Добавить в {{axisName}}","Not available for {{visualizationType}}":"Недоступно для {{visualizationType}}","Remove Assigned Categories":"Удалить назначенные категории","Add Assigned Categories":"Добавить Назначенные категории",Remove:sCe,"Filter dimensions":"Фильтровать измерения","Main dimensions":"Основное измерение","Your dimensions":"Ваши Измерения","Dimension recommended with selected data":"Рекомендованное измерение с выбранными данными","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:oCe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:lCe,File:cCe,New:uCe,"Open…":"",Save:dCe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Открыть в данном приложении",Close:hCe,"Rename {{fileType}}":"",Name:pCe,Description:mCe,Rename:fCe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"Отчет случаев","line list":"",map:gCe,visualization:yCe,Edit:vCe,"Write a reply":"Написать ответ","Post reply":"","Delete failed":"Не удалось удалить","Could not update comment":"","Enter comment text":"",Update:xCe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Написать перевод","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:bCe,Reply:_Ce,"{{count}} replies_0":"{{count}} ответ","{{count}} replies_1":"{{count}} отвечает","{{count}} replies_2":"{{count}} отвечает","{{count}} replies_3":"{{count}} ответов","View replies":"",Unlike:wCe,Like:TCe,"See interpretation":"","Open in app":"",Share:SCe,"Manage sharing":"Управление совместным доступом","Could not update interpretation":"","Enter interpretation text":"","Not available offline":"Недоступно в автономном режиме","Created by":"Создано",Anyone:CCe,"Only you":"",Others:ECe,"Not supported by this app yet":"","Filter by name":"Фильтр по имени",Created:kCe,"Last updated":"Последнее обновление",Type:LCe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:NCe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Создать новый","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:ICe,Hide:ACe,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Организационная единица пользователя","User sub-units":"Пользовательские подразделения","User sub-x2-units":"Пользовательские подразделения на два уровня ниже","Select a level":"Выбрать уровень","Select a group":"Выберите группу","Deselect all":"Отменить выбор всего","Period type":"Виды периода",Year:PCe,"Select year":"Выбрать год",Period:MCe,"Selected Periods":"Выбранные периоды","Relative periods":"Соответствующие периоды","Fixed periods":"Фиксированные периоды","No periods selected":"Периоды не выбраны",Daily:DCe,Weekly:OCe,"Weekly (Start Wednesday)":"Еженедельно(Начало Среда)","Weekly (Start Thursday)":"Еженедельно(Начало Четверг)","Weekly (Start Saturday)":"Еженедельно(Начало Суббота)","Weekly (Start Sunday)":"Еженедельно(Начало Воскресенье)","Bi-weekly":"Каждые две недели",Monthly:RCe,"Bi-monthly":"Раз в два месяца",Quarterly:$Ce,"Six-monthly":"Раз в полугодие","Six-monthly April":"Полугодовой-Апрель",Yearly:zCe,"Financial year (Start November)":"Финансовый год (начало Ноябрь)","Financial year (Start October)":"Финансовый год - Октябрь","Financial year (Start July)":"Финансовый год - Июль","Financial year (Start April)":"Финансовый год - Апрель",Today:FCe,Yesterday:BCe,"Last 3 days":"Последние 3 дня","Last 7 days":"Последние 7 дней","Last 14 days":"Последние 14 дней","Last 30 days":"Последние 30 дней","Last 60 days":"Последние 60 дней","Last 90 days":"Последние 90 дней","Last 180 days":"Последние 180 дней","This week":"Эта неделя","Last week":"Прошлая неделя","Last 4 weeks":"Прошлые 4 недели","Last 12 weeks":"Прошлые 12 недель","Last 52 weeks":"Последние 52 недели","Weeks this year":"Недели этого года","This bi-week":"Эта би-неделя","Last bi-week":"Последняя би-неделя","Last 4 bi-weeks":"Последние 4 би-недель","This month":"Этот месяц","Last month":"Последний месяц","Last 3 months":"Прошлые 3 месяца","Last 6 months":"Последние 6 месяцев","Last 12 months":"Прошлые 12 месяцев","Months this year":"Месяцы этого года","This bi-month":"Этот период по два месяца","Last bi-month":"Прошлый двухмесячный период","Last 6 bi-months":"Последние 6 двухмесячных периодов","Bi-months this year":"Би-месяцы этого года","This quarter":"Этот квартал","Last quarter":"Последний квартал","Last 4 quarters":"Прошлые 4 квартала","Quarters this year":"Кварталы этого года","This six-month":"Это полугодие","Last six-month":"Прошлое полугодие","Last 2 six-month":"Прошлые 2 полугодия","This financial year":"Этот финансовый год","Last financial year":"Прошлый финансовый год","Last 5 financial years":"Прошлые 5 финансовых лет","This year":"Этот год","Last year":"Прошлый год","Last 5 years":"Прошлые 5 лет","Last 10 years":"Последние 10 лет",Days:jCe,Weeks:UCe,"Bi-weeks":"Двухнедельные промежутки",Months:GCe,"Bi-months":"Двухмесячный период",Quarters:YCe,"Six-months":"Полугодие","Financial Years":"Финансовые годы",Years:VCe,"Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:qCe,"Back to write mode":"","Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:WCe,"Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Результаты не найдены",Series:HCe,Category:XCe,Filter:ZCe,Columns:KCe,Rows:QCe,Points:JCe,"Reporting rate":"Показатель отчетности","Reporting rate on time":"Показатель отчетности по времени","Actual reports":"Текущие отчеты","Actual reports on time":"Текущие отчеты по времени","Expected reports":"Ожидаемые отчеты",Program:eEe,"Select a program":"Выбрать программу",Indicators:tEe,"Indicator group":"Группа индикаторов","All groups":"",Indicator:nEe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Группы элемента данных","Data element":"Элемент данных","No data element groups found":"","Loading data element groups":"","Data sets":"Наборы данных","Data set":"Набор данных","All data sets":"","Loading data sets":"","Event data items":"Элементы данных событий","All programs":"","Event data item":"Элемент данных событий","No programs found":"","Loading programs":"","Program indicators":"Индикаторы программы","Program indicator":"Program indicator",Calculations:iEe,Number:"Число","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Очень маленький",Small:rEe,Regular:aEe,Large:sEe,"Extra Large":"Очень большой",Left:oEe,Center:lEe,Right:cEe,Start:uEe,Middle:dEe,End:hEe,Top:pEe,Bottom:mEe,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} и {{lastOuName}}","{{allDynamicOuNames}} levels":"уровень {{allDynamicOuNames}}","{{allDynamicOuNames}} groups":"Группы {{allDynamicOuNames}}","{{allDynamicOuNames}} levels in {{staticOuNames}}":"Уровни {{allDynamicOuNames}} в {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"Группы {{allDynamicOuNames}} в {{staticOuNames}}","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:fEe,"Organisation unit":"Организационная единица","Assigned Categories":"Назначенные категории","Pivot table":"Сводная таблица",Area:gEe,"Stacked area":"Линейчатая с накоплениями",Bar:yEe,"Stacked bar":"Гистограмма с накоплением",Column:vEe,"Year over year (column)":"Год за годом (столбец)","Stacked column":"Столбчатая с накоплением",Gauge:xEe,Line:bEe,"Line list":"Перечень линий","Year over year (line)":"Год за годом (линия)",Pie:_Ee,Radar:wEe,Scatter:TEe,"Single value":"Одиночное значение","Outlier table":"","All charts":"","{{seriesName}} (trend)":"",Trend:SEe,"No legend for this series":"Отсутвует легенда для этого ряда","and {{amount}} more...":"","Linear Regression":"",Target:CEe,Base:EEe,"Axis {{axisId}}":"Ось {{axisId}}","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","Reset zoom":""},LEe="",NEe="",IEe="",AEe="",PEe="",MEe="",DEe="",OEe="ඉවත් කරන්න",REe="සොයන්න",$Ee="ඉවත් කරන්න",zEe="ගොනුව",FEe="නව",BEe="සුරකින්න",jEe="වසන්න",UEe="නම",GEe="විස්තරය",YEe="",VEe="",qEe="",WEe="වෙනස් කරන්න",HEe="",XEe="",ZEe="",KEe="",QEe="",JEe="",eke="",tke="ඕනෑම කෙනෙක්",nke="",ike="",rke="",ake="විවෘත කරන්න",ske="",oke="",lke="වසර",cke="",uke="දිනපතා",dke="සතිපතා",hke="මාස්පතා",pke="කාර්තු පතා",mke="අවුරුදු පතා",fke="අද",gke="ඊයේ",yke="දින",vke="සති",xke="මාස",bke="කාර්තු",_ke="අවුරුදු",wke="නැවත උත්සාහ කරන්න",Tke="",Ske="කාණ්ඩය",Cke="",Eke="",kke="",Lke="",Nke="",Ike="",Ake="",Pke="",Mke="කුඩා",Dke="මධ්‍යස්ථ",Oke="ලොකු",Rke="",$ke="",zke="",Fke="",Bke="",jke="",Uke="",Gke="",Yke="දත්ත",Vke="",qke="",Wke="",Hke="",Xke="",Zke="",Kke="",Qke="",Jke="",eLe="ඉලක්කය",tLe="",nLe={"view only":"නැරඹීම පමණයි","view and edit":"නැරඹීම සහ සංස්කරණය","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"විස්තරයක් නැත","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:LEe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:NEe,"Subscribe to get updates about new interpretations.":"",Subscribe:IEe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:AEe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"ඔව්, මකන්න","Totals only":"","Details only":"",Loading:PEe,"Data elements":"","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:MEe,"No data":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:DEe,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:OEe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:REe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:$Ee,File:zEe,New:FEe,"Open…":"",Save:BEe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:jEe,"Rename {{fileType}}":"",Name:UEe,Description:GEe,Rename:YEe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:VEe,visualization:qEe,Edit:WEe,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:HEe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:XEe,Unlike:ZEe,Like:KEe,Reply:QEe,Share:JEe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:eke,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Not available offline":"මාර්ග අපගතව නොතිබේ","Created by":"",Anyone:tke,"Only you":"",Others:nke,"Not supported by this app yet":"","Filter by name":"",Created:ike,"Last updated":"",Type:rke,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:ake,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:ske,Hide:oke,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:lke,"Select year":"වසර තෝරන්න",Period:cke,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",Daily:uke,Weekly:dke,"Weekly (Start Wednesday)":"සතියකට වරක් (Start Wednesday)","Weekly (Start Thursday)":"සතියකට වරක් (Start Thursday)","Weekly (Start Saturday)":"සතියකට වරක් (Start Saturday)","Weekly (Start Sunday)":"සතියකට වරක් (Start Sunday)","Bi-weekly":"දෙසතියකට වරක්",Monthly:hke,"Bi-monthly":"දෙමසකට වරක්",Quarterly:pke,"Six-monthly":"6 මසකට වරක්","Six-monthly April":"6 මසකට වරක් අප්‍රේල්",Yearly:mke,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:fke,Yesterday:gke,"Last 3 days":"පසුගිය දින 3","Last 7 days":"පසුගිය දින 7","Last 14 days":"පසුගිය දින 14","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"මෙම සතිය","Last week":"පසුගිය සතිය","Last 4 weeks":"පසුගිය සති 4","Last 12 weeks":"පසුගිය සති 12","Last 52 weeks":"පසුගිය සති 52","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"මෙම මාසය","Last month":"පසුගිය මාසය","Last 3 months":"පසුගිය මාස 3","Last 6 months":"පසුගිය මාස 6","Last 12 months":"පසුගිය මාස 12","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"මෙම වසර","Last year":"පසුගිය වසර","Last 5 years":"පසුගිය 5 වසර","Last 10 years":"පසුගිය 10 වසර",Days:yke,Weeks:vke,"Bi-weeks":"",Months:xke,"Bi-months":"",Quarters:bke,"Six-months":"","Financial Years":"",Years:_ke,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:wke,Series:Tke,Category:Ske,Filter:Cke,Columns:Eke,Rows:kke,Points:Lke,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:Nke,"Select a program":"",Indicators:Ike,"Indicator group":"","All groups":"",Indicator:Ake,"No indicator groups found":"","Loading indicator groups":"","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:Pke,Number:"","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"ඉතා කුඩා",Small:Mke,Regular:Dke,Large:Oke,"Extra Large":"",Left:Rke,Center:$ke,Right:zke,Start:Fke,Middle:Bke,End:jke,Top:Uke,Bottom:Gke,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:Yke,"Organisation unit":"","Assigned Categories":"","Pivot table":"",Area:Vke,"Stacked area":"",Bar:qke,"Stacked bar":"",Column:Wke,"Year over year (column)":"","Stacked column":"",Gauge:Hke,Line:Xke,"Line list":"","Year over year (line)":"",Pie:Zke,Radar:Kke,Scatter:Qke,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:Jke,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:eLe,Base:tLe,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},iLe="",rLe="",aLe="",sLe="Avbryt",oLe="",lLe="",cLe="",uLe="Avlägsna",dLe="Sök",hLe="Radera",pLe="File",mLe="Ny",fLe="Spara",gLe="Stänga",yLe="Namn",vLe="Beskrivning",xLe="Döpa om",bLe="",_Le="",wLe="Redigera",TLe="Uppdatera",SLe="tolkningar",CLe="Svar",ELe="",kLe="",LLe="Dela med sig",NLe="",ILe="",ALe="",PLe="Skapad",MLe="Typ",DLe="Öppen",OLe="Alternativ",RLe="Göm",$Le="År",zLe="Period",FLe="Dagligen",BLe="Varje vecka",jLe="En gång i månaden",ULe="Kvartals",GLe="Årlig",YLe="",VLe="",qLe="Dagar",WLe="Veckor",HLe="Månader",XLe="",ZLe="År",KLe="",QLe="",JLe="",eNe="Filtrera",tNe="",nNe="",iNe="",rNe="Program",aNe="indikatorer",sNe="Indikator",oNe="",lNe="",cNe="",uNe="",dNe="",hNe="",pNe="",mNe="",fNe="",gNe="",yNe="",vNe="",xNe="Data",bNe="",_Ne="",wNe="",TNe="",SNe="",CNe="",ENe="",kNe="",LNe="",NNe="Mål",INe="",ANe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Ingen beskrivning","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:iLe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:rLe,"Subscribe to get updates about new interpretations.":"",Subscribe:aLe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:sLe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:oLe,"Data elements":"dataelement","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","Only {{dataType}} can be used in {{visType}}":"","All types":"",Disaggregation:lLe,"No data":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No calculations found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:cLe,"Metric type":"","All metrics":"","Move to {{axisName}}":"Flytta till {{axisName}}","Add to {{axisName}}":"Lägg till i {{axisName}}","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:uLe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:dLe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:hLe,File:pLe,New:mLe,"Open…":"",Save:fLe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:gLe,"Rename {{fileType}}":"",Name:yLe,Description:vLe,Rename:xLe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:bLe,visualization:_Le,Edit:wLe,"Write a reply":"","Post reply":"","Delete failed":"","Could not update comment":"","Enter comment text":"",Update:TLe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:SLe,Reply:CLe,"{{count}} replies":"","{{count}} replies_plural":"","View replies":"",Unlike:ELe,Like:kLe,"See interpretation":"","Open in app":"",Share:LLe,"Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:NLe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Inga resultat hittades","Not available offline":"","Created by":"Skapad av",Anyone:ILe,"Only you":"",Others:ALe,"Not supported by this app yet":"","Filter by name":"Filtrera efter namn",Created:PLe,"Last updated":"",Type:MLe,"Clear filters":"Rensa filter","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:DLe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Skapa ny","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:OLe,Hide:RLe,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Användare organisation enheter","User sub-units":"Användarunderenheter","User sub-x2-units":"Användarunder x2-enheter","Select a level":"","Select a group":"","Deselect all":"Avmarkera alla","Period type":"Periodtyp",Year:$Le,"Select year":"Välj år",Period:zLe,"Selected Periods":"","Relative periods":"","Fixed periods":"","No periods selected":"",Daily:FLe,Weekly:BLe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:jLe,"Bi-monthly":"varannan månad",Quarterly:ULe,"Six-monthly":"Halvårs","Six-monthly April":"Halvårs April",Yearly:GLe,"Financial year (Start November)":"","Financial year (Start October)":"Budgetår - Oktober","Financial year (Start July)":"Budgetår - Juli","Financial year (Start April)":"Budgetår - April",Today:YLe,Yesterday:VLe,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"Denna vecka","Last week":"Förra veckan","Last 4 weeks":"Senaste 4 veckorna","Last 12 weeks":"Senast 12 veckor","Last 52 weeks":"Senast 52 veckor","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"Den här månaden","Last month":"Förra månaden","Last 3 months":"Senaste 3 månaderna","Last 6 months":"Senaste 6 månaderna","Last 12 months":"Senaste 12 månaderna","Months this year":"Månader i år","This bi-month":"Denna bi-månaders","Last bi-month":"Senast bi månad","Last 6 bi-months":"Senaste 6 bi-månader","Bi-months this year":"","This quarter":"detta kvartal","Last quarter":"Förra kvartalet","Last 4 quarters":"Senaste 4 kvartal","Quarters this year":"Kvartalen i år","This six-month":"Denna sexmånaders","Last six-month":"Senast sex månader","Last 2 six-month":"","This financial year":"Detta räkenskapsår","Last financial year":"Föregående räkenskapsår","Last 5 financial years":"Senaste 5 räkenskapsåren","This year":"Det här året","Last year":"Förra året","Last 5 years":"Senaste 5 år","Last 10 years":"",Days:qLe,Weeks:WLe,"Bi-weeks":"",Months:HLe,"Bi-months":"",Quarters:XLe,"Six-months":"","Financial Years":"",Years:ZLe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:KLe,Series:QLe,Category:JLe,Filter:eNe,Columns:tNe,Rows:nNe,Points:iNe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:rNe,"Select a program":"",Indicators:aNe,"Indicator group":"Indikatorgrupp","All groups":"",Indicator:sNe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Dataelementgrupp","Data element":"Uppgift","No data element groups found":"","Loading data element groups":"","Data sets":"dataset","Data set":"datamängd","All data sets":"","Loading data sets":"","Event data items":"Händelsedataposter","All programs":"","Event data item":"händelsedata post","No programs found":"","Loading programs":"","Program indicators":"programindikatorer","Program indicator":"",Calculations:oNe,Number:"Antal","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:lNe,Regular:cNe,Large:uNe,"Extra Large":"",Left:dNe,Center:hNe,Right:pNe,Start:mNe,Middle:fNe,End:gNe,Top:yNe,Bottom:vNe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:xNe,"Organisation unit":"Organisationsenhet","Assigned Categories":"","Pivot table":"",Area:bNe,"Stacked area":"",Bar:_Ne,"Stacked bar":"",Column:wNe,"Year over year (column)":"","Stacked column":"",Gauge:TNe,Line:SNe,"Line list":"","Year over year (line)":"",Pie:CNe,Radar:ENe,Scatter:kNe,"Single value":"","Outlier table":"","All charts":"","{{seriesName}} (trend)":"",Trend:LNe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:NNe,Base:INe,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},PNe="",MNe="",DNe="",ONe="Kansela",RNe="",$Ne="",zNe="",FNe="Hasai",BNe="",jNe="Soe",UNe="",GNe="Foun",YNe="Rai",VNe="Taka",qNe="Naran",WNe="Deskrisaun",HNe="Tau naran foun",XNe="",ZNe="",KNe="Edita",QNe="Atualiza",JNe="Interpretasoens",e2e="",t2e="",n2e="Hatán",i2e="Partilla",r2e="",a2e="",s2e="",o2e="",l2e="Tipu",c2e="",u2e="Opsoens",d2e="Subar",h2e="Tinan",p2e="Períodu",m2e="Diáriu",f2e="Semanal",g2e="Mensal",y2e="Trimestral",v2e="Anual",x2e="",b2e="",_2e="",w2e="Semanas",T2e="Fulan",S2e="Trimestres",C2e="Tinan",E2e="",k2e="Séries",L2e="Kategoria",N2e="Filtru",I2e="",A2e="",P2e="",M2e="",D2e="Indikadores",O2e="Indikador",R2e="",$2e="Kiik",z2e="",F2e="Bo'ot",B2e="",j2e="",U2e="",G2e="",Y2e="",V2e="",q2e="",W2e="",H2e="Dadus",X2e="",Z2e="",K2e="Koluna",Q2e="",J2e="",eIe="",tIe="",nIe="",iIe="Tendensia",rIe="Alvu",aIe="Baze",sIe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:PNe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:MNe,"Subscribe to get updates about new interpretations.":"",Subscribe:DNe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:ONe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:RNe,"Data elements":"Elementus dadus","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:$Ne,"No data":"Laiha dadus","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:zNe,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:FNe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:BNe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:jNe,File:UNe,New:GNe,"Open…":"",Save:YNe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:VNe,"Rename {{fileType}}":"",Name:qNe,Description:WNe,Rename:HNe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:XNe,visualization:ZNe,Edit:KNe,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:QNe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:JNe,Unlike:e2e,Like:t2e,Reply:n2e,Share:i2e,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:r2e,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Not available offline":"","Created by":"Kria husi",Anyone:a2e,"Only you":"",Others:s2e,"Not supported by this app yet":"","Filter by name":"Filtru tuir naran",Created:o2e,"Last updated":"Atualizasaun ikus",Type:l2e,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:c2e,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:u2e,Hide:d2e,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"Utilizador nia  sub-unidades","User sub-x2-units":"Utilizador nia sub-x2-unidades","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:h2e,"Select year":"",Period:p2e,"Relative periods":"Peeríodus relativus","Fixed periods":"Períodus fixus","Selected Periods":"","No periods selected":"Laiha períodu selesionadu",Daily:m2e,Weekly:f2e,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:g2e,"Bi-monthly":"Bimensal",Quarterly:y2e,"Six-monthly":"Semestral","Six-monthly April":"Abril semestral",Yearly:v2e,"Financial year (Start November)":"","Financial year (Start October)":"Outubru finanseiru","Financial year (Start July)":"Jullu finanseiru","Financial year (Start April)":"Abril finanseiru",Today:x2e,Yesterday:b2e,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Semana kotuk","Last 4 weeks":"Semana 4 ikus","Last 12 weeks":"Semana 12 ikus","Last 52 weeks":"Semana 52 ikus","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"Fulan kotuk","Last 3 months":"Fulan 3 ikus","Last 6 months":"Fulan 6 ikus","Last 12 months":"Fulan 12 ikus","Months this year":"Fulan sira tinan ida ne'e","This bi-month":"","Last bi-month":"Bimensal kotuk","Last 6 bi-months":"Bimensal 6 ikus liu","Bi-months this year":"","This quarter":"","Last quarter":"Trimestre kotuk","Last 4 quarters":"Trimestre 4 ikus liu","Quarters this year":"Trimestres sira tinan ida ne'e","This six-month":"","Last six-month":"Fulan-nén ikus","Last 2 six-month":"","This financial year":"Tinan finanseiru ida ne'e","Last financial year":"Tinan finanseiru kotuk","Last 5 financial years":"Tinan finanseiru 5 ikus","This year":"Tina ida ne'e","Last year":"Tinan kotuk","Last 5 years":"Tinan 5 kotuk","Last 10 years":"",Days:_2e,Weeks:w2e,"Bi-weeks":"",Months:T2e,"Bi-months":"Bimensal",Quarters:S2e,"Six-months":"Fulan-nén","Financial Years":"",Years:C2e,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:E2e,Series:k2e,Category:L2e,Filter:N2e,Columns:I2e,Rows:A2e,Points:P2e,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:M2e,"Select a program":"",Indicators:D2e,"Indicator group":"","All groups":"",Indicator:O2e,"No indicator groups found":"","Loading indicator groups":"","Data element group":"","Data element":"Elementu dadus","No data element groups found":"","Loading data element groups":"","Data sets":"Pakote dadus","Data set":"Pakote dadus","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:R2e,Number:"Númeru","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:$2e,Regular:z2e,Large:F2e,"Extra Large":"",Left:B2e,Center:j2e,Right:U2e,Start:G2e,Middle:Y2e,End:V2e,Top:q2e,Bottom:W2e,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:H2e,"Organisation unit":"Unidade organizasional","Assigned Categories":"","Pivot table":"",Area:X2e,"Stacked area":"",Bar:Z2e,"Stacked bar":"",Column:K2e,"Year over year (column)":"","Stacked column":"",Gauge:Q2e,Line:J2e,"Line list":"","Year over year (line)":"",Pie:eIe,Radar:tIe,Scatter:nIe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:iIe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:rIe,Base:aIe,"Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""},oIe="",lIe="",cIe="",uIe="Бекор кардан",dIe="Бор мешавад",hIe="",pIe="",mIe="Тоза кардан",fIe="Ҷустуҷӯ",gIe="Нест кардан",yIe="Файл",vIe="Нав",xIe="Захира кардан",bIe="Пӯшидан",_Ie="Ном",wIe="Тавсиф",TIe="Ивази ном",SIe="",CIe="",EIe="Таҳрир",kIe="Навсозӣ",LIe="Тафсирҳо",NIe="",IIe="",AIe="Ҷавоб додан",PIe="Мубодила",MIe="",DIe="",OIe="Дигарҳо",RIe="",$Ie="Навъ",zIe="",FIe="Имконот",BIe="Пинҳон кардан",jIe="Сол",UIe="Давра",GIe="Ҳаррӯза",YIe="Ҳафтаина",VIe="Моҳона",qIe="Семоҳа",WIe="Солона",HIe="Имрӯз",XIe="Дирӯз",ZIe="",KIe="Ҳафтаҳо",QIe="Моҳҳо",JIe="Семоҳаҳо",eAe="Солҳо",tAe="",nAe="Силсила",iAe="Категория",rAe="Филтр",aAe="",sAe="",oAe="",lAe="Барнома",cAe="Индикаторҳо",uAe="Индикатор",dAe="",hAe="Хурд",pAe="Муқаррарӣ",mAe="Калон",fAe="Чап",gAe="",yAe="Рост",vAe="Оғоз",xAe="",bAe="",_Ae="",wAe="",TAe="Иттилоот",SAe="",CAe="",EAe="Сутун",kAe="",LAe="",NAe="",IAe="",AAe="",PAe="Майлон",MAe="Нақша",DAe="Замина",OAe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:oIe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:lIe,"Subscribe to get updates about new interpretations.":"",Subscribe:cIe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:uIe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:dIe,"Data elements":"Унсурҳои иттилоот","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:hIe,"No data":"Ягон иттилоот нест","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:pIe,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:mIe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:fIe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:gIe,File:yIe,New:vIe,"Open…":"",Save:xIe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:bIe,"Rename {{fileType}}":"",Name:_Ie,Description:wIe,Rename:TIe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:SIe,visualization:CIe,Edit:EIe,"Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"",Update:kIe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:LIe,Unlike:NIe,Like:IIe,Reply:AIe,Share:PIe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:MIe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Not available offline":"","Created by":"",Anyone:DIe,"Only you":"",Others:OIe,"Not supported by this app yet":"","Filter by name":"Филтркунӣ аз рӯи ном",Created:RIe,"Last updated":"Навсозии охирин",Type:$Ie,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:zIe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:FIe,Hide:BIe,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Навъи давара",Year:jIe,"Select year":"",Period:UIe,"Relative periods":"Давраҳои нисбӣ","Fixed periods":"Давраҳои собит","Selected Periods":"","No periods selected":"Ягон давра инитихоб нашудааст",Daily:GIe,Weekly:YIe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:VIe,"Bi-monthly":"Ду маротиба дар як моҳ",Quarterly:qIe,"Six-monthly":"Шашмоҳа","Six-monthly April":"",Yearly:WIe,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:HIe,Yesterday:XIe,"Last 3 days":"","Last 7 days":"7 рӯзи охир","Last 14 days":"","Last 30 days":"30 рӯзи охир","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Ҳафтаи гузашта","Last 4 weeks":"4 ҳафтаи охир","Last 12 weeks":"12 ҳафтаи охир","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"Моҳи гузашта","Last 3 months":"3 моҳи охир","Last 6 months":"6 моҳи охир","Last 12 months":"12 моҳи охир","Months this year":"Моҳҳо дар ин сол","This bi-month":"","Last bi-month":"Думоҳаи охир","Last 6 bi-months":"6 думоҳаи охир","Bi-months this year":"","This quarter":"","Last quarter":"Семоҳаи охир","Last 4 quarters":"4 семоҳаи охир","Quarters this year":"Семоҳаҳои ин сол","This six-month":"","Last six-month":"Шашмоҳаи охир","Last 2 six-month":"","This financial year":"","Last financial year":"Соли молиявии гузашта","Last 5 financial years":"5 соли молиявии гузашта","This year":"Имсол","Last year":"Соли гузашта","Last 5 years":"5 соли охир","Last 10 years":"",Days:ZIe,Weeks:KIe,"Bi-weeks":"",Months:QIe,"Bi-months":"Думоҳаҳо",Quarters:JIe,"Six-months":"Шашмоҳаҳо","Financial Years":"",Years:eAe,"Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:tAe,Series:nAe,Category:iAe,Filter:rAe,Columns:aAe,Rows:sAe,Points:oAe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:lAe,"Select a program":"",Indicators:cAe,"Indicator group":"Гурӯҳи индикаторҳо","All groups":"",Indicator:uAe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Гурӯҳи унсурҳои иттилоот","Data element":"Унсури иттилоот","No data element groups found":"","Loading data element groups":"","Data sets":"Маҷмӯъҳои иттилоот","Data set":"Маҷмӯи иттилоот","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"Идоракунии индикатори барнома",Calculations:dAe,Number:"Рақам","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:hAe,Regular:pAe,Large:mAe,"Extra Large":"",Left:fAe,Center:gAe,Right:yAe,Start:vAe,Middle:xAe,End:bAe,Top:_Ae,Bottom:wAe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:TAe,"Organisation unit":"Воҳиди сохторӣ","Assigned Categories":"","Pivot table":"",Area:SAe,"Stacked area":"",Bar:CAe,"Stacked bar":"",Column:EAe,"Year over year (column)":"","Stacked column":"",Gauge:kAe,Line:LAe,"Line list":"","Year over year (line)":"",Pie:NAe,Radar:IAe,Scatter:AAe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:PAe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:MAe,Base:DAe,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},RAe="",$Ae="",zAe="",FAe="",BAe="",jAe="",UAe="",GAe="",YAe="",VAe="",qAe="",WAe="",HAe="",XAe="",ZAe="",KAe="",QAe="",JAe="",ePe="",tPe="",nPe="",iPe="",rPe="",aPe="",sPe="",oPe="",lPe="",cPe="",uPe="",dPe="",hPe="",pPe="",mPe="",fPe="",gPe="",yPe="",vPe="",xPe="",bPe="",_Pe="",wPe="",TPe="",SPe="",CPe="",EPe="",kPe="",LPe="",NPe="",IPe="",APe="",PPe="",MPe="",DPe="",OPe="",RPe="",$Pe="",zPe="",FPe="",BPe="",jPe="",UPe="",GPe="",YPe="",VPe="",qPe="",WPe="",HPe="",XPe="",ZPe="",KPe="",QPe="",JPe="",eMe="",tMe="",nMe="",iMe="",rMe="",aMe="",sMe="",oMe="",lMe="",cMe="",uMe={"view only":"สำหรับดูเท่านั้น","view and edit":"ดู และ แก้ไข","all users ({{accessLevel}})":"ผู้ใช้ทั้งหมด ( {{accessLevel}} )","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}}  ( {{accessLevel}} )","Shared with {{commaSeparatedListOfUsersAndGroups}}":"แชร์กับ {{commaSeparatedListOfUsersAndGroups}} ","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:RAe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:$Ae,"Subscribe to get updates about new interpretations.":"",Subscribe:zAe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:FAe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:BAe,"Data elements":"","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","Only {{dataType}} can be used in {{visType}}":"","All types":"",Disaggregation:jAe,"No data":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No calculations found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'No calculations found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:UAe,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:GAe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:YAe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:VAe,File:qAe,New:WAe,"Open…":"",Save:HAe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:XAe,"Rename {{fileType}}":"",Name:ZAe,Description:KAe,Rename:QAe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:JAe,visualization:ePe,Edit:tPe,"Write a reply":"","Post reply":"","Delete failed":"","Could not update comment":"","Enter comment text":"",Update:nPe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:iPe,Reply:rPe,"{{count}} replies":"","View replies":"",Unlike:aPe,Like:sPe,"See interpretation":"","Open in app":"",Share:oPe,"Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:lPe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"","Not available offline":"","Created by":"",Anyone:cPe,"Only you":"",Others:uPe,"Not supported by this app yet":"","Filter by name":"",Created:dPe,"Last updated":"",Type:hPe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:pPe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:mPe,Hide:fPe,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"",Year:gPe,"Select year":"",Period:yPe,"Selected Periods":"","Relative periods":"","Fixed periods":"","No periods selected":"",Daily:vPe,Weekly:xPe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"",Monthly:bPe,"Bi-monthly":"",Quarterly:_Pe,"Six-monthly":"","Six-monthly April":"",Yearly:wPe,"Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"",Today:TPe,Yesterday:SPe,"Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"",Days:CPe,Weeks:EPe,"Bi-weeks":"",Months:kPe,"Bi-months":"",Quarters:LPe,"Six-months":"","Financial Years":"",Years:NPe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:IPe,Series:APe,Category:PPe,Filter:MPe,Columns:DPe,Rows:OPe,Points:RPe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"",Program:$Pe,"Select a program":"",Indicators:zPe,"Indicator group":"","All groups":"",Indicator:FPe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"",Calculations:BPe,Number:"","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:jPe,Regular:UPe,Large:GPe,"Extra Large":"",Left:YPe,Center:VPe,Right:qPe,Start:WPe,Middle:HPe,End:XPe,Top:ZPe,Bottom:KPe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:QPe,"Organisation unit":"","Assigned Categories":"","Pivot table":"",Area:JPe,"Stacked area":"",Bar:eMe,"Stacked bar":"",Column:tMe,"Year over year (column)":"","Stacked column":"",Gauge:nMe,Line:iMe,"Line list":"","Year over year (line)":"",Pie:rMe,Radar:aMe,Scatter:sMe,"Single value":"","Outlier table":"","All charts":"","{{seriesName}} (trend)":"",Trend:oMe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:lMe,Base:cMe,"Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""},dMe="",hMe="",pMe="",mMe="Скасувати",fMe="Завантаження",gMe="",yMe="",vMe="Прибрати",xMe="Пошук",bMe="Видалити",_Me="Файл",wMe="Нове",TMe="Зберегти",SMe="Закрити",CMe="Ім'я",EMe="Змалювання",kMe="Перейменувати",LMe="мапа",NMe="",IMe="Редагувати",AMe="Оновити",PMe="Інтерпретації",MMe="Відповісти",DMe="Прибрати вподобання",OMe="Вподобати",RMe="Поділитися",$Me="",zMe="",FMe="",BMe="Створено",jMe="Тип",UMe="Відкрити",GMe="Опції",YMe="Сховати",VMe="Рік",qMe="Період",WMe="Щодня",HMe="Щотижня",XMe="Щомісячно",ZMe="Щоквартально",KMe="Щорічно",QMe="Сьогодні",JMe="Вчора",eDe="Дні",tDe="Тижні",nDe="Місяці",iDe="Квартали",rDe="Роки",aDe="",sDe="Серія",oDe="Категорія",lDe="Фільтр",cDe="",uDe="",dDe="",hDe="Програма",pDe="Показники",mDe="Показник",fDe="",gDe="Маленький",yDe="",vDe="Великий",xDe="",bDe="",_De="",wDe="",TDe="",SDe="",CDe="Верх",EDe="Низ",kDe="Дані",LDe="З областями",NDe="Гістограма",IDe="Стовпчик",ADe="Індикатор",PDe="Лінійна",MDe="Секторна",DDe="Пелюсткова",ODe="Точкова",RDe="",$De="Ціль",zDe="",FDe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Немає опису","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"",Notifications:dMe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:hMe,"Subscribe to get updates about new interpretations.":"",Subscribe:pMe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:mMe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"Так, видалити","Totals only":"","Details only":"",Loading:fMe,"Data elements":"Елементи даних","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"Всі типи",Disaggregation:gMe,"No data":"Немає даних","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:yMe,"Metric type":"","All metrics":"Всі метрики","Move to {{axisName}}":"","Add to {{axisName}}":"Додати до {{axisName}}","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"Додати призначені категорії",Remove:vMe,"Filter dimensions":"Виміри фільтра","Main dimensions":"Основні виміри","Your dimensions":"Ваші виміри","Dimension recommended with selected data":"","All items":"Всі елементи","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:xMe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:bMe,File:_Me,New:wMe,"Open…":"",Save:TMe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Відкрити в цьому додатку",Close:SMe,"Rename {{fileType}}":"",Name:CMe,Description:EMe,Rename:kMe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"звіт про подію","line list":"",map:LMe,visualization:NMe,Edit:IMe,"Write a reply":"Написати відповідь","Post reply":"","Delete failed":"Не вдалося видалити","Could not update comment":"","Enter comment text":"",Update:AMe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Написати інтерпретацію","Post interpretation":"",Interpretations:PMe,Reply:MMe,"{{count}} replies_0":"{{count}} відповідей","{{count}} replies_1":"{{count}} відповідей","{{count}} replies_2":"{{count}} відповідей","{{count}} replies_3":"{{count}} відповідей","View replies":"",Unlike:DMe,Like:OMe,Share:RMe,"See interpretation":"","Manage sharing":"Керування спільним доступом","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:$Me,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Результатів не знайдено","Not available offline":"Недоступно в автономному режимі","Created by":"Створено",Anyone:zMe,"Only you":"",Others:FMe,"Not supported by this app yet":"","Filter by name":"Відфільтрувати за іменем",Created:BMe,"Last updated":"Останнє оновлення",Type:jMe,"Clear filters":"Очистити фільтри","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:UMe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Створити новий","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:GMe,Hide:YMe,"{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Організаційний підрозділ користувачів","User sub-units":"Одиниці підрозділів користувачів","User sub-x2-units":"Підрозділи користувачів 2-го рівня","Select a level":"Вибрати рівень","Select a group":"Вибрати групу","Deselect all":"Скасувати вибір усіх","Period type":"",Year:VMe,"Select year":"",Period:qMe,"Relative periods":"Відносні періоди","Fixed periods":"","Selected Periods":"","No periods selected":"",Daily:WMe,Weekly:HMe,"Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"Щодвотижневий",Monthly:XMe,"Bi-monthly":"Щодва місяці",Quarterly:ZMe,"Six-monthly":"Раз на півріччя","Six-monthly April":"Раз на півріччя квітень",Yearly:KMe,"Financial year (Start November)":"","Financial year (Start October)":"Фінансовий рік (Початок у жовтні)","Financial year (Start July)":"Фінансовий рік (Початок у липні)","Financial year (Start April)":"Фінансовий рік (Початок у квітні)",Today:QMe,Yesterday:JMe,"Last 3 days":"Минулі 3 дні","Last 7 days":"Минулі 7 днів","Last 14 days":"Минулі 14 днів","Last 30 days":"Останні 30 днів","Last 60 days":"Останні 60 днів","Last 90 days":"Останні 90 днів","Last 180 days":"Останні 180 днів","This week":"Поточний тиждень","Last week":"Минулий тиждень","Last 4 weeks":"Останні 4 тижні","Last 12 weeks":"Останні 12 тижнів","Last 52 weeks":"Останні 52 тижні","Weeks this year":"Тижні поточного року","This bi-week":"Теперішній двотижневий проміжок","Last bi-week":"Попередній двотижневий проміжок","Last 4 bi-weeks":"Попередні 4 двотижневі проміжки","This month":"Поточний місяць","Last month":"Останній місяць","Last 3 months":"Останні 3 місяці","Last 6 months":"Останні 6 місяців","Last 12 months":"Останні 12 місяців","Months this year":"Місяців поточного року","This bi-month":"Поточний двомісячний період","Last bi-month":"Останні два місяці","Last 6 bi-months":"Останні 6 двомісячних періоди","Bi-months this year":"Щодва місяці поточного року","This quarter":"Поточний квартал","Last quarter":"Минулий квартал","Last 4 quarters":"Останні 4 квартали","Quarters this year":"Квартали поточного року","This six-month":"Поточне півріччя","Last six-month":"Останнє півріччя","Last 2 six-month":"","This financial year":"Поточний фінансовий рік","Last financial year":"Минулий фінансовий рік","Last 5 financial years":"Останні 5 фінансових років","This year":"Поточний рік","Last year":"Минулий рік","Last 5 years":"Останні 5 років","Last 10 years":"Останні 10 років",Days:eDe,Weeks:tDe,"Bi-weeks":"Двотижневі проміжки",Months:nDe,"Bi-months":"Двомісячні періоди",Quarters:iDe,"Six-months":"Півріччя","Financial Years":"",Years:rDe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:aDe,Series:sDe,Category:oDe,Filter:lDe,Columns:cDe,Rows:uDe,Points:dDe,"Reporting rate":"Частота повідомлень","Reporting rate on time":"Частота повідомлень у часі","Actual reports":"Фактичні звіти","Actual reports on time":"Фактичні звіти за часом","Expected reports":"Очікувані звіти",Program:hDe,"Select a program":"",Indicators:pDe,"Indicator group":"Група показників","All groups":"",Indicator:mDe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Група елементів даних","Data element":"Елемент даних","No data element groups found":"","Loading data element groups":"","Data sets":"Набори даних","Data set":"Набір даних","All data sets":"","Loading data sets":"","Event data items":"Складові дані події","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"Програмні показники","Program indicator":"Program indicator",Calculations:fDe,Number:"Кількість","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:gDe,Regular:yDe,Large:vDe,"Extra Large":"",Left:xDe,Center:bDe,Right:_De,Start:wDe,Middle:TDe,End:SDe,Top:CDe,Bottom:EDe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:kDe,"Organisation unit":"Організаційний підрозділ","Assigned Categories":"","Pivot table":"Зведена таблиця",Area:LDe,"Stacked area":"З областями з накопиченням",Bar:NDe,"Stacked bar":"Гістограма з накопиченням",Column:IDe,"Year over year (column)":"Рік за роком (стовпчик)","Stacked column":"Стовпчаста з накопиченням",Gauge:ADe,Line:PDe,"Line list":"Перелік рядків","Year over year (line)":"Рік за роком (лінія)",Pie:MDe,Radar:DDe,Scatter:ODe,"Single value":"Одне значення","All charts":"","{{seriesName}} (trend)":"",Trend:RDe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:$De,Base:zDe,"Axis {{axisId}}":"Вісь {{axisId}}","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","Reset zoom":""},BDe="",jDe="",UDe="",GDe="منسوخ",YDe="لوڈ کر رہا ہے",VDe="ناجائز",qDe="",WDe="حذف",HDe="تلاش کریں",XDe="حذف",ZDe="فائل",KDe="نیا",QDe="محفوظ",JDe="بند",eOe="ÙØ§Ù",tOe="تفصیلات",nOe="نام بدلو",iOe="",rOe="",aOe="ترمیم",sOe="اپڈیٹ",oOe="تشریحات",lOe="جواب",cOe="برعکس",uOe="کی طرح",dOe="بانٹیں",hOe="پیش نظارہ",pOe="",mOe="دیگر",fOe="تخلیق",gOe="ٹائپ",yOe="کھلا",vOe="اختیارات",xOe="چھپائیں",bOe="سال",_Oe="مدت",wOe="روزانہ",TOe="ہفتہ وار",SOe="ماہانہ",COe="سہ ماہی",EOe="سالانہ",kOe="آج",LOe="کل",NOe="دن",IOe="ہفتوں",AOe="مہینے",POe="چوتھائی",MOe="سال",DOe="",OOe="سیریز",ROe="قسم",$Oe="فلٹر",zOe="",FOe="",BOe="",jOe="پروگرام",UOe="اشارے",GOe="اشارے",YOe="",VOe="چھوٹے",qOe="باقاعدہ",WOe="بڑے",HOe="بائیں",XOe="",ZOe="ٹھیک ہے",KOe="شروع کریں",QOe="",JOe="",eRe="اوپر",tRe="نیچے",nRe="ڈیٹا",iRe="رقبہ",rRe="بار",aRe="کالم",sRe="گیج",oRe="لائن",lRe="پائی",cRe="رڈار",uRe="",dRe="رجحان",hRe="ہدف",pRe="بنیاد",mRe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"کوئی وضاحت نہیں","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"",Notifications:BDe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:jDe,"Subscribe to get updates about new interpretations.":"",Subscribe:UDe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:GDe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:YDe,"Data elements":"ڈیٹا عنصر","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:VDe,"No data":"کوئی مواد نہیں","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:qDe,"Metric type":"","All metrics":"تمام میٹرکس","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:WDe,"Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:HDe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:XDe,File:ZDe,New:KDe,"Open…":"",Save:QDe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:JDe,"Rename {{fileType}}":"",Name:eOe,Description:tOe,Rename:nOe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:iOe,visualization:rOe,Edit:aOe,"Write a reply":"","Post reply":"","Delete failed":"حذف ناکام ہوگیا","Could not update comment":"","Enter comment text":"",Update:sOe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"",Interpretations:oOe,Reply:lOe,"{{count}} replies":"","{{count}} replies_plural":"","View replies":"",Unlike:cOe,Like:uOe,Share:dOe,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:hOe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"کوئی نتیجہ نہیں ملا","Not available offline":"","Created by":"تخلیق کیا",Anyone:pOe,"Only you":"",Others:mOe,"Not supported by this app yet":"","Filter by name":"فلٹر برائے نام",Created:fOe,"Last updated":"آخری اپ ڈیٹ",Type:gOe,"Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:yOe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:vOe,Hide:xOe,"{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"صارف تنظیم یونٹ","User sub-units":"صارف ذیلی یونٹس","User sub-x2-units":"صارف ذیلی X2-یونٹس","Select a level":"","Select a group":"","Deselect all":"سب کو منتخب کریں","Period type":"مدت کی قسم",Year:bOe,"Select year":"سال کو منتخب کریں",Period:_Oe,"Relative periods":"رشتہ دار دور","Fixed periods":"فکسڈ مدت","Selected Periods":"","No periods selected":"کوئی مدت منتخب نہیں",Daily:wOe,Weekly:TOe,"Weekly (Start Wednesday)":"ہفتہ وار (بدھ شروع کریں)","Weekly (Start Thursday)":"ہفتہ وار (جمعرات شروع کریں)","Weekly (Start Saturday)":"ہفتہ وار (ہفتہ شروع کریں)","Weekly (Start Sunday)":"ہفتہ (اتوار شروع کریں)","Bi-weekly":"",Monthly:SOe,"Bi-monthly":"دو ماہی",Quarterly:COe,"Six-monthly":"چھ ماہی","Six-monthly April":"چھ ماہی اپریل",Yearly:EOe,"Financial year (Start November)":"","Financial year (Start October)":"مالی سال (اکتوبر شروع کریں)","Financial year (Start July)":"مالی سال (جولائی شروع کریں)","Financial year (Start April)":"مالی سال (اپریل شروع کریں)",Today:kOe,Yesterday:LOe,"Last 3 days":"آخری 3 دن","Last 7 days":"آخری 7 دن","Last 14 days":"آخری 14 دن","Last 30 days":"آخری 30 دن","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"اس ہفتے","Last week":"آخری ہفتہ","Last 4 weeks":"آخری ۴ ہفتے","Last 12 weeks":"آخری ۱۲ ہفتے","Last 52 weeks":"آخری ۵۲ ہفتے","Weeks this year":"اس سال ہفتہ","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"اس مہینے","Last month":"آخری ماہ","Last 3 months":"آخری ۳ ماہ","Last 6 months":"آخری ۶ ماہ","Last 12 months":"آخری ۱۲ ماہ","Months this year":"ماہ اس سال","This bi-month":"یہ دو ماہ","Last bi-month":"آخری دو ماہ","Last 6 bi-months":"آخری ۶ دو ماہانہ","Bi-months this year":"اس مہینے میں مہینے","This quarter":"اس سہ ماہی","Last quarter":"آخری سہ ماہ","Last 4 quarters":"آخری ۴ سہ ماہی","Quarters this year":"سہ ماہی اس سال","This six-month":"یہ چھ ماہ","Last six-month":"آخری ۶ ماہ","Last 2 six-month":"","This financial year":"اس مالیاتی سال","Last financial year":"آخری مالیاتی سال","Last 5 financial years":"آخری ۵ مالیاتی سال","This year":"اس سال","Last year":"آخری سال","Last 5 years":"آخری ۵ سال","Last 10 years":"آخری 10 سال",Days:NOe,Weeks:IOe,"Bi-weeks":"",Months:AOe,"Bi-months":"دو ماہ",Quarters:POe,"Six-months":"چھ ماہ","Financial Years":"",Years:MOe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:DOe,Series:OOe,Category:ROe,Filter:$Oe,Columns:zOe,Rows:FOe,Points:BOe,"Reporting rate":"","Reporting rate on time":"","Actual reports":"اصل رپورٹ","Actual reports on time":"","Expected reports":"متوقع رپورٹ",Program:jOe,"Select a program":"",Indicators:UOe,"Indicator group":"اشاروں کا گروپ","All groups":"",Indicator:GOe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"ڈیٹا عناصر گروپ","Data element":"ڈیٹا عنصر","No data element groups found":"","Loading data element groups":"","Data sets":"ڈیٹا سیٹس","Data set":"ڈیٹا سیٹ","All data sets":"","Loading data sets":"","Event data items":"واقعہ کے اعداد و شمار کی اشیاء","All programs":"","Event data item":"واقعہ کے اعداد و شمار کے آئٹم","No programs found":"","Loading programs":"","Program indicators":"پروگرام اشارے","Program indicator":"پروگرام کا اشارہ",Calculations:YOe,Number:"نمبر","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:VOe,Regular:qOe,Large:WOe,"Extra Large":"",Left:HOe,Center:XOe,Right:ZOe,Start:KOe,Middle:QOe,End:JOe,Top:eRe,Bottom:tRe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:nRe,"Organisation unit":"تنظیم یونٹ","Assigned Categories":"","Pivot table":"",Area:iRe,"Stacked area":"",Bar:rRe,"Stacked bar":"اسٹیک بار",Column:aRe,"Year over year (column)":"","Stacked column":"اسٹیک کالم",Gauge:sRe,Line:oRe,"Line list":"","Year over year (line)":"",Pie:lRe,Radar:cRe,Scatter:uRe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:dRe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:hRe,Base:pRe,"Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""},fRe="Жами",gRe="Тафсилотлари",yRe="Тафсилот",vRe="Ўчириш",xRe="Излаш",bRe="Йил",_Re="Давр",wRe="Январь",TRe="Февраль",SRe="Март",CRe="Апрель",ERe="Май",kRe="Июнь",LRe="Июль",NRe="Август",IRe="Сентябрь",ARe="Октябрь",PRe="Ноябрь",MRe="Декабрь",DRe="Кунлик",ORe="Ҳафталик",RRe="Ойлик",$Re="Ҳар квартал",zRe="Йиллик",FRe="Бугун",BRe="Кеча",jRe="Кунлар",URe="Ҳафталар",GRe="Ойлар",YRe="Квартал",VRe="Йиллар",qRe="Кетма-кетликлар",WRe="Категория",HRe="Фильтр",XRe="Устунлар",ZRe="Қаторлар",KRe="Программа",QRe="Индикаторлар",JRe="Кичик",e3e="Регуляр",t3e="Катта",n3e="Чап",i3e="Марказ",r3e="Ўнг",a3e="Бошлаш",s3e="Ўртав",o3e="Охири",l3e="Юқоридаги",c3e="Пастки",u3e="Маълумот",d3e="Устун",h3e="Тизимча",p3e="Қатор",m3e="Майдон",f3e="Бутун айлана",g3e="Радар",y3e="Ҳисоблагич",v3e="Нишон",x3e="Асос",b3e={"Data Type":"Маълумот тури",Totals:fRe,Details:gRe,Detail:yRe,"Move to {{axisName}}":"Ҳаракатланинг {{axisName}} га қараб","Add to {{axisName}}":"{{axisName}} га қўшинг",Remove:vRe,"Not available for {{visualizationType}}":"{{visualizationType}} учун мавжуд эмас","Remove Assigned Categories":"Белгиланган категориялар ўчирилсин","Add Assigned Categories":"Белгиланган категориялар қўшилсин","Filter dimensions":"Фильтр созламалари","Main dimensions":"Умумий ўлчамлар","Your dimensions":"Сизнинг созламаларингиз","Dimension recommended with selected data":"Танланган маълумотлар учун созламалар тавсия этилади","No items selected":"Элемент танланмаган","Selected Items":"Элемент танланган",Search:xRe,"Selected Data":"Танланган маълумот","Deselect All":"Барчасини танланганлигини бекор қилиш","Select all":"Барчасини танлаш","Period type":"Давр тури",Year:bRe,"Select year":"Йилни танланг",Period:_Re,"Relative periods":"Нисбий даврлар","Fixed periods":"Белигаланган даврлар","Selected Periods":"Танланган Даврлар","No periods selected":"Давр танланмаган",January:wRe,February:TRe,March:SRe,April:CRe,May:ERe,June:kRe,July:LRe,August:NRe,September:IRe,October:ARe,November:PRe,December:MRe,"Week {{weekNumber}}":"Ҳафта {{ҳафтаРақам}}","Bi-Week {{biWeekNumber}}":"Жуфт ҳафта {{жуфтҲафтаРақам}}",Daily:DRe,Weekly:ORe,"Bi-weekly":"Жуфт ҳафталик","Weekly (Start Wednesday)":"Ҳафталик (Бошланиши Чоршанба)","Weekly (Start Thursday)":"Ҳафталик (Бошланиши Пайшанба)","Weekly (Start Saturday)":"Ҳафталик (Бошланиши Шанба)","Weekly (Start Sunday)":"Ҳафталик (Бошланиши Якшанба)",Monthly:RRe,"Bi-monthly":"Жуфт ойлик",Quarterly:$Re,"Six-monthly":"Ярим йиллик","Six-monthly April":"Ярим йиллик Апрель",Yearly:zRe,"Financial year (Start November)":"Молиявий йил (Бошланиши Ноябрь)","Financial year (Start October)":"Молиявий йил (бошланиши Октябрь)","Financial year (Start July)":"Молиявий йил (бошланиши Июль)","Financial year (Start April)":"Молиявий йил (бошланиши Апрель)",Today:FRe,Yesterday:BRe,"Last 3 days":"Охирги 3 кун","Last 7 days":"Охирги 7 кун","Last 14 days":"Охирги 14 кун","Last 30 days":"Охирги 30 кун","Last 60 days":"Охирги 60 кун","Last 90 days":"Охирги 90 кун","Last 180 days":"Охирги 180 кун","This week":"Ушбу ҳафта","Last week":"Охирги ҳафта","Last 4 weeks":"Охирги 4 ҳафта","Last 12 weeks":"Охирги 12 ҳафта","Last 52 weeks":"Охирги 52 ҳафта","Weeks this year":"Ҳафталар айни йилда ","This bi-week":"Ушбу жуфт ҳафта","Last bi-week":"Охирги жуфт ҳафта","Last 4 bi-weeks":"Охирги 4 жуфт ҳафталар","This month":"Ушбу ой","Last month":"Охирги ой","Last 3 months":"Охирги 3 ой","Last 6 months":"Охирги 6 ой","Last 12 months":"Охирги 12 ой","Months this year":"Ойлар айни йилда","This bi-month":"Ушбу жуфт ой","Last bi-month":"Охирги 2 ой","Last 6 bi-months":"Охирги 6 жуфт ойлар","Bi-months this year":"Айни йилдаги жуфт ойлар","This quarter":"Ушбу квартал","Last quarter":"Охирги квартал","Last 4 quarters":"Охирги 4 квартал","Quarters this year":"Ушбу йилдаги кварталлар","This six-month":"Ушбу ярим йиллик","Last six-month":"Охирги 6 ой","Last 2 six-month":"Охирги жуфт ярим йиллик","This financial year":"Ушбу молиявий йил","Last financial year":"Охирги молиявий йил","Last 5 financial years":"Охирги 5 молиявий йиллар","This year":"Ушбу йил","Last year":"Охирги йил","Last 5 years":"Охирги 5 йил",Days:jRe,Weeks:URe,"Bi-weeks":"Жуфт ҳафталар",Months:GRe,"Bi-months":"2 ой",Quarters:YRe,"Six-months":"Ярим йиллик","Financial Years":"Молиявий йиллар",Years:VRe,Series:qRe,Category:WRe,Filter:HRe,Columns:XRe,Rows:ZRe,"Reporting rate":"Ҳисоботдаги ставка","Reporting rate on time":"Ҳисоботдаги ставка ўз вақтида","Actual reports":"Ҳақиқий ҳисоботлар","Actual reports on time":"Ҳақиқий ҳисоботлар ўз вақтида","Expected reports":"Кутилаётган ҳисоботлар",Program:KRe,"Select a program":"Дастурни танланг",Indicators:QRe,"Select indicator group":"Индикатор гуруҳини танлаш","[ All groups ]":"[Барча гуруҳлар]","Data elements":"Маълумот элементлари","Select data element group":"Маълумотлар элементи гуруҳини танлаш","[ All data elements ]":"[Маълумотлар барча  элементлари]","Data sets":"Маълумотлар тўплами","Select data sets":"Маълумотлар тўпламларини танланг","[ All metrics ]":"[Барча ўлчовлар]","Event data items":"Ҳодисалар ҳақида маълумот элементлари","Program indicators":"Дастур кўрсатгичлари","Extra Small":"Жуда Кичик",Small:JRe,Regular:e3e,Large:t3e,"Extra Large":"Жуда Катта",Left:n3e,Center:i3e,Right:r3e,Start:a3e,Middle:s3e,End:o3e,Top:l3e,Bottom:c3e,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} ва {{lastOuName}}","{{allDynamicOuNames}} levels":"Барча {{allDynamicOuNames}} поғоналар","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} гуруҳлар","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} поғоналар {{staticOuNames}} ичида","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} гуруҳлар {{staticOuNames}} ичида",Data:u3e,"Organisation Unit":"Ташкилий Бўлим","Assigned Categories":"Белгиланган Категориялар","Pivot table":"Таянч жадвал",Column:d3e,"Stacked column":"Йиғилган устун",Bar:h3e,"Stacked bar":"Йиғилган тизимча",Line:p3e,Area:m3e,"Stacked area":"Йиғилган майдон",Pie:f3e,Radar:g3e,Gauge:y3e,"Year over year (line)":"Йилдан йилга (қатор)","Year over year (column)":"Йилдан йилга (устун)","Single value":"Ягона қиймат","View data and indicators in a manipulatable table.":"Бошқариладиган жадвалда индикаторлар ва маълумотларни кўздан кечиринг","Compare sizes of related element, displayed vertically. Recommend period in filter.":"Вертикал кўрсатилаётган боғланган элементлар ўлчамларини солиштиринг. Фильтр учун даврни тавсия этинг.","Compare parts of a whole against related elements, vertically. Recommend data or org. unit as series.":"Яхлитликнинг қисмларини вертикал бўйича боғлиқликларини таққосланг. Серия сифатида маълумот ёки ташкилий бўлимни тавсия этинг. ","Compare sizes of related elements, displayed horizontally. Recommend period in filter.":"Боғлиқ элементлар ўлчамларини таққосланг, горизонтал кўринишдагиларни. Фильтр ичида даврни тавсия этинг.","Compare parts of a whole against related elements, horizontally. Recommend data or org. unit as series.":"Яхлитликнинг қисмларини горизонтал бўйича боғлиқликларини таққосланг. Серия сифатида маълумот ёки ташкилий бўлимни тавсия этинг. ","Track or compare changes over time. Recommend period as the category.":"Доимий равишда кузатинг ва солиштиринг. Даврни категория сифатида тавсия этинг.","Track or compare over time parts of a whole. Recommend data in series and period in category.":"Яхлитлик қисмларини кузатинг ва солиштиринг.Маълумотларни серияларда ва даврий категорияларда тавсия этинг.","Compare parts of a whole at a single point in time. Recommend period in the filter.":"Яхлитликнинг қисмларини айни бир вақт нуқтасида таққосланг. Фильтрда даврни тавсия этинг.","Compare several items against multiple variables.":"Бир неча элементлар ва бир неча ўзгарувчиларга нисбатан таққосланг.","Compare a percentage indicator against a 100% scale. Recommend period in filter.":"100 фоизлик шкала асосида фоизлар нисбатини таққосланг. Фильтрда даврни тавсия этинг.","Compare changes over time between multiple time periods.":"Вақт ўтиши билан бир неча вақт оралиғидаги ўзгаришларни таққосланг.","Display a single value. Recommend relative period to show latest data.":"Битта қийматни кўрсатиш. Охирги маълумотларни кўрсатиш учун боғлиқ даврни таққосланг.","No legend for this series":"",Target:v3e,Base:x3e,"Axis {{axisId}}":"Ўқлар {{axisId}}","No data":"Маълумот йўқ"},_3e="",w3e="",T3e="",S3e="Бекор қилиш",C3e="Yuklanmoqda",E3e="",k3e="",L3e="Olib tashlash",N3e="Izlash",I3e="Oʼchirib tashlash",A3e="Fayl",P3e="Yangi",M3e="Saqlash",D3e="Yopmoq",O3e="Исми",R3e="Tavsif",$3e="Қайта номлаш",z3e="xarita",F3e="",B3e="Tahrirlash",j3e="Янгилаш",U3e="Talqinlar",G3e="Javob",Y3e="Аksincha",V3e="Kabi, oʼxshash",q3e="Улашиш",W3e="",H3e="Kimdir",X3e="",Z3e="Yaratilgan",K3e="Turi",Q3e="Ochiq",J3e="Вариант",e$e="Berkitish",t$e="Yil",n$e="Davr",i$e="Kunlik",r$e="Haftalik",a$e="Oylik",s$e="Har kvartal",o$e="Yillik",l$e="Bugun",c$e="Kecha",u$e="Kunlar",d$e="Haftalar",h$e="Oylar",p$e="Kvartal",m$e="Yillar",f$e="",g$e="Ketma-ketliklar",y$e="Kategoriya",v$e="Filtr",x$e="Ustunlar",b$e="Qatorlar",_$e="Nuqtalar",w$e="Programma",T$e="Indikatorlar",S$e="Indikator",C$e="",E$e="Kichik",k$e="Regulyar",L$e="Katta",N$e="Chap",I$e="Markaz",A$e="Oʼng",P$e="Boshlash",M$e="Oʼrtav",D$e="Oxiri",O$e="Yuqoridagi",R$e="Pastki",$$e="Maʼlumot",z$e="Maydon",F$e="Tizimcha",B$e="Ustun",j$e="Hisoblagich",U$e="Qator",G$e="Butun aylana",Y$e="Radar",V$e="Tarqoqlik",q$e="Yoʼnalish",W$e="Nishon",H$e="Аsos",X$e={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Tavsif yoʼq","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:_3e,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:w3e,"Subscribe to get updates about new interpretations.":"",Subscribe:T3e,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:S3e,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:C3e,"Data elements":"Maʼlumot elementlari","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"Maʼlumot turi","All types":"Barcha turlari",Disaggregation:E3e,"No data":"Maʼlumot yoʼq","Search by data item name":"","No items selected":"Element tanlanmagan","Selected Items":"Element tanlangan","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:k3e,"Metric type":"","All metrics":"Barcha koʼrsatgichlar","Move to {{axisName}}":"Harakatlaning {{axisName}} ga qarab","Add to {{axisName}}":"{{axisName}} ga qoʼshing","Not available for {{visualizationType}}":"{{visualizationType}} uchun mavjud emas","Remove Assigned Categories":"Belgilangan kategoriyalar oʼchirilsin","Add Assigned Categories":"Belgilangan kategoriyalar qoʼshilsin",Remove:L3e,"Filter dimensions":"Filtr sozlamalari","Main dimensions":"Umumiy oʼlchamlar","Your dimensions":"Sizning sozlamalaringiz","Dimension recommended with selected data":"Tanlangan maʼlumotlar uchun sozlamalar tavsiya etiladi","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:N3e,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:I3e,File:A3e,New:P3e,"Open…":"",Save:M3e,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Ushbu ilovada oching",Close:D3e,"Rename {{fileType}}":"",Name:O3e,Description:R3e,Rename:$3e,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"hodisa/tadbir hisoboti","line list":"",map:z3e,visualization:F3e,Edit:B3e,"Write a reply":"Izoh yozing","Post reply":"","Delete failed":"Oʼchirish amalga oshmadi","Could not update comment":"","Enter comment text":"",Update:j3e,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Talqin yozish","Post interpretation":"",Interpretations:U3e,Reply:G3e,"{{count}} replies":"","View replies":"",Unlike:Y3e,Like:V3e,Share:q3e,"See interpretation":"","Manage sharing":"Ulashishni boshqarish","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:W3e,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Hech qanday natija topilmadi","Not available offline":"","Created by":"Томонидан яратилган",Anyone:H3e,"Only you":"",Others:X3e,"Not supported by this app yet":"","Filter by name":"Nomi boʼyicha filtrlash",Created:Z3e,"Last updated":"Oxirgi yangilangan",Type:K3e,"Clear filters":"Filtrlarni tozalash","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:Q3e,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Yangisini yaratish","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:J3e,Hide:e$e,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Ташкилий бўлим фойдаланувчиси","User sub-units":"Фойдаланувчига бўйсунувчи бирликлар","User sub-x2-units":"Фойдаланувчига бўйсунувчи 2 даражали бирликлар","Select a level":"Pogʼonani tanlang","Select a group":"Guruhni tanlang","Deselect all":"Barcha tanlanganni bekor qilish","Period type":"Davr turi",Year:t$e,"Select year":"Yilni tanlang",Period:n$e,"Relative periods":"Nisbiy davrlar","Fixed periods":"Beligalangan davrlar","Selected Periods":"Tanlangan Davrlar","No periods selected":"Davr tanlanmagan",Daily:i$e,Weekly:r$e,"Weekly (Start Wednesday)":"Haftalik (Boshlanishi Chorshanba)","Weekly (Start Thursday)":"Haftalik (Boshlanishi Payshanba)","Weekly (Start Saturday)":"Haftalik (Boshlanishi Shanba)","Weekly (Start Sunday)":"Haftalik (Boshlanishi Yakshanba)","Bi-weekly":"Juft haftalik",Monthly:a$e,"Bi-monthly":"Juft oylik",Quarterly:s$e,"Six-monthly":"Yarim yillik","Six-monthly April":"Yarim yillik Аprel",Yearly:o$e,"Financial year (Start November)":"Moliyaviy yil (Boshlanishi Noyabr)","Financial year (Start October)":"Moliyaviy yil (boshlanishi Oktyabr)","Financial year (Start July)":"Moliyaviy yil (boshlanishi Iyul)","Financial year (Start April)":"Moliyaviy yil (boshlanishi Аprel)",Today:l$e,Yesterday:c$e,"Last 3 days":"Oxirgi 3 kun","Last 7 days":"Oxirgi 7 kun","Last 14 days":"Oxirgi 14 kun","Last 30 days":"Oxirgi 30 kun","Last 60 days":"Oxirgi 60 kun","Last 90 days":"Oxirgi 90 kun","Last 180 days":"Oxirgi 180 kun","This week":"Ushbu hafta","Last week":"Oxirgi hafta","Last 4 weeks":"Oxirgi 4 hafta","Last 12 weeks":"Oxirgi 12 hafta","Last 52 weeks":"Oxirgi 52 hafta","Weeks this year":"Haftalar ayni yilda","This bi-week":"Ushbu juft hafta","Last bi-week":"Oxirgi juft hafta","Last 4 bi-weeks":"Oxirgi 4 juft haftalar","This month":"Ushbu oy","Last month":"Oxirgi oy","Last 3 months":"Oxirgi 3 oy","Last 6 months":"Oxirgi 6 oy","Last 12 months":"Oxirgi 12 oy","Months this year":"Oylar ayni yilda","This bi-month":"Ushbu juft oy","Last bi-month":"Oxirgi 2 oy","Last 6 bi-months":"Oxirgi 6 juft oylar","Bi-months this year":"Аyni yildagi juft oylar","This quarter":"Ushbu kvartal","Last quarter":"Oxirgi kvartal","Last 4 quarters":"Oxirgi 4 kvartal","Quarters this year":"Ushbu yildagi kvartallar","This six-month":"Ushbu yarim yillik","Last six-month":"Oxirgi 6 oy","Last 2 six-month":"Oxirgi juft yarim yillik","This financial year":"Ushbu moliyaviy yil","Last financial year":"Oxirgi moliyaviy yil","Last 5 financial years":"Oxirgi 5 moliyaviy yillar","This year":"Ushbu yil","Last year":"Oxirgi yil","Last 5 years":"Oxirgi 5 yil","Last 10 years":"Oxirgi 10 yil",Days:u$e,Weeks:d$e,"Bi-weeks":"Juft haftalar",Months:h$e,"Bi-months":"2 oy",Quarters:p$e,"Six-months":"Yarim yillik","Financial Years":"Moliyaviy yillar",Years:m$e,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:f$e,Series:g$e,Category:y$e,Filter:v$e,Columns:x$e,Rows:b$e,Points:_$e,"Reporting rate":"Hisobotdagi stavka","Reporting rate on time":"Hisobotdagi stavka oʼz vaqtida","Actual reports":"Haqiqiy hisobotlar","Actual reports on time":"Haqiqiy hisobotlar oʼz vaqtida","Expected reports":"Kutilayotgan hisobotlar",Program:w$e,"Select a program":"Dasturni tanlang",Indicators:T$e,"Indicator group":"Koʼrsatgich guruhi","All groups":"",Indicator:S$e,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Maʼlumotlar elementi guruhi","Data element":"Maʼlumotlar elementi","No data element groups found":"","Loading data element groups":"","Data sets":"Maʼlumotlar toʼplami","Data set":"Maʼlumotlar toʼplami","All data sets":"","Loading data sets":"","Event data items":"Hodisalar haqida maʼlumot elementlari","All programs":"","Event data item":"Hodisa/Tadbir maʼlumoti elementi","No programs found":"","Loading programs":"","Program indicators":"Dastur indikatorlari","Program indicator":"Dastur indikatori",Calculations:C$e,Number:"Tartib raqami","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Juda Kichik",Small:E$e,Regular:k$e,Large:L$e,"Extra Large":"Juda Katta",Left:N$e,Center:I$e,Right:A$e,Start:P$e,Middle:M$e,End:D$e,Top:O$e,Bottom:R$e,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} va {{lastOuName}}","{{allDynamicOuNames}} levels":"Barcha {{allDynamicOuNames}} pogʼonalar","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} guruhlar","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} pogʼonalar {{staticOuNames}} ichida","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} guruhlar {{staticOuNames}} ichida","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:$$e,"Organisation unit":"Ташкилий бирлик","Assigned Categories":"Belgilangan Kategoriyalar","Pivot table":"Solishtirma jadval",Area:z$e,"Stacked area":"Yigʼilgan maydon",Bar:F$e,"Stacked bar":"Yigʼilgan tizimcha",Column:B$e,"Year over year (column)":"Yildan yilga (ustun)","Stacked column":"Yigʼilgan ustun",Gauge:j$e,Line:U$e,"Line list":"Qatorlar roʼyxati","Year over year (line)":"Yildan yilga (qator)",Pie:G$e,Radar:Y$e,Scatter:V$e,"Single value":"Yagona qiymat","All charts":"","{{seriesName}} (trend)":"",Trend:q$e,"No legend for this series":"Ushbu seriya uchun taʼrif mavjud emas","and {{amount}} more...":"","Linear Regression":"",Target:W$e,Base:H$e,"Axis {{axisId}}":"Oʼqlar {{axisId}}","{{count}} items":"","Reset zoom":""},Z$e="Билдиришномалар",K$e="",Q$e="",J$e="Бекор қилиш",eze="Юкланмоқда",tze="Ажратиш",nze="",ize="Олиб ташлаш",rze="Излаш",aze="Ўчириб ташлаш",sze="Файл",oze="Янги",lze="Сақлаш",cze="Ёпиш",uze="Исми",dze="Тавсиф",hze="Қайта номлашч",pze="харита",mze="Визуализация",fze="Таҳрирлаш",gze="Янгилаш",yze="Талқинлар",vze="Изоҳ",xze="Аксинча",bze="Каби, ўхшаш",_ze="Улашиш",wze="Олдиндан кўриш",Tze="Кимдир",Sze="Бошқалар",Cze="Яратилган",Eze="Тури",kze="Очиқ",Lze="Вариант",Nze="Беркитиш",Ize="Йил",Aze="Давр",Pze="Кунлик",Mze="Ҳафталик",Dze="Ойлик",Oze="Ҳар квартал",Rze="Йиллик",$ze="Бугун",zze="Кеча",Fze="Кунлар",Bze="Ҳафталар",jze="Ойлар",Uze="Квартал",Gze="Йиллар",Yze="",Vze="Кетма-кетликлар",qze="Категория",Wze="Фильтр",Hze="Устунлар",Xze="Қаторлар",Zze="Нуқталар",Kze="Программа",Qze="Индикаторлар",Jze="Индикатор",eFe="",tFe="Кичик",nFe="Регуляр",iFe="Катта",rFe="Чап",aFe="Марказ",sFe="Ўнг",oFe="Бошлаш",lFe="Ўртав",cFe="Охири",uFe="Юқоридаги",dFe="Пастки",hFe="Маълумот",pFe="Майдон",mFe="Тизимча",fFe="Устун",gFe="Ҳисоблагич",yFe="Қатор",vFe="Бутун айлана",xFe="Радар",bFe="Тарқоқлик",_Fe="Йўналиш",wFe="Нишон",TFe="Асос",SFe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Тавсиф йўқ","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:Z$e,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:K$e,"Subscribe to get updates about new interpretations.":"",Subscribe:Q$e,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"Тармоқда хатолик","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:J$e,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:eze,"Data elements":"Маълумот элементлари","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"Маълумот тури","All types":"Барча турлари",Disaggregation:tze,"No data":"Маълумот йўқ","Search by data item name":"","No items selected":"Элемент танланмаган","Selected Items":"Элемент танланган","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:nze,"Metric type":"","All metrics":"Барча кўрсатгичлар","Move to {{axisName}}":"Ҳаракатланинг {{axisName}} га қараб","Add to {{axisName}}":"{{axisName}} га қўшинг","Not available for {{visualizationType}}":"{{visualizationType}} учун мавжуд эмас","Remove Assigned Categories":"Белгиланган категориялар ўчирилсин","Add Assigned Categories":"Белгиланган категориялар қўшилсин",Remove:ize,"Filter dimensions":"Фильтр созламалари","Main dimensions":"Умумий ўлчамлар","Your dimensions":"Сизнинг созламаларингиз","Dimension recommended with selected data":"Танланган маълумотлар учун созламалар тавсия этилади","All items":"Барча элементлар","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:rze,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:aze,File:sze,New:oze,"Open…":"",Save:lze,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Ушбу иловада очинг",Close:cze,"Rename {{fileType}}":"",Name:uze,Description:dze,Rename:hze,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"ҳодиса/тадбир ҳисоботи","line list":"",map:pze,visualization:mze,Edit:fze,"Write a reply":"Изоҳ ёзинг","Post reply":"","Delete failed":"Ўчириш амалга ошмади","Could not update comment":"","Enter comment text":"",Update:gze,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Талқин ёзиш","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:yze,Reply:vze,"{{count}} replies":"{{count}} изоҳлар","View replies":"",Unlike:xze,Like:bze,Share:_ze,"See interpretation":"","Manage sharing":"Улашишни бошқариш","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:wze,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Ҳеч қандай натижа топилмади","Not available offline":"Оффлайн режимда мавжуд эмас","Created by":"Томонидан яратилган",Anyone:Tze,"Only you":"",Others:Sze,"Not supported by this app yet":"","Filter by name":"Номи бўйича фильтрлаш",Created:Cze,"Last updated":"Охирги янгиланган",Type:Eze,"Clear filters":"Фильтрларни тозалаш","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:kze,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Янгисини яратиш","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:Lze,Hide:Nze,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Танланган: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Ҳеч нима танланмаган","User organisation unit":"Ташкилий бўлим фойдаланувчиси","User sub-units":"Фойдаланувчига бўйсунувчи бирликлар","User sub-x2-units":"Фойдаланувчига бўйсунувчи 2 поғонадаги бўлимлар","Select a level":"Поғонани танланг","Select a group":"Гуруҳни танланг","Deselect all":"Барча танланганни бекор қилиш","Period type":"Давр тури",Year:Ize,"Select year":"Йилни танланг",Period:Aze,"Relative periods":"Нисбий даврлар","Fixed periods":"Белигаланган даврлар","Selected Periods":"Танланган Даврлар","No periods selected":"Давр танланмаган",Daily:Pze,Weekly:Mze,"Weekly (Start Wednesday)":"Ҳафталик (Бошланиши Чоршанба)","Weekly (Start Thursday)":"Ҳафталик (Бошланиши Пайшанба)","Weekly (Start Saturday)":"Ҳафталик (Бошланиши Шанба)","Weekly (Start Sunday)":"Ҳафталик (Бошланиши Якшанба)","Bi-weekly":"Жуфт ҳафталик",Monthly:Dze,"Bi-monthly":"Жуфт ойлик",Quarterly:Oze,"Six-monthly":"Ярим йиллик","Six-monthly April":"Ярим йиллик Апрель",Yearly:Rze,"Financial year (Start November)":"Молиявий йил (Бошланиши Ноябрь)","Financial year (Start October)":"Молиявий йил (бошланиши Октябрь)","Financial year (Start July)":"Молиявий йил (бошланиши Июль)","Financial year (Start April)":"Молиявий йил (бошланиши Апрель)",Today:$ze,Yesterday:zze,"Last 3 days":"Охирги 3 кун","Last 7 days":"Охирги 7 кун","Last 14 days":"Охирги 14 кун","Last 30 days":"Охирги 30 кун","Last 60 days":"Охирги 60 кун","Last 90 days":"Охирги 90 кун","Last 180 days":"Охирги 180 кун","This week":"Ушбу ҳафта","Last week":"Охирги ҳафта","Last 4 weeks":"Охирги 4 ҳафта","Last 12 weeks":"Охирги 12 ҳафта","Last 52 weeks":"Охирги 52 ҳафта","Weeks this year":"Ҳафталар айни йилда ","This bi-week":"Ушбу жуфт ҳафта","Last bi-week":"Охирги жуфт ҳафта","Last 4 bi-weeks":"Охирги 4 жуфт ҳафталар","This month":"Ушбу ой","Last month":"Охирги ой","Last 3 months":"Охирги 3 ой","Last 6 months":"Охирги 6 ой","Last 12 months":"Охирги 12 ой","Months this year":"Ойлар айни йилда","This bi-month":"Ушбу жуфт ой","Last bi-month":"Охирги 2 ой","Last 6 bi-months":"Охирги 6 жуфт ойлар","Bi-months this year":"Айни йилдаги жуфт ойлар","This quarter":"Ушбу квартал","Last quarter":"Охирги квартал","Last 4 quarters":"Охирги 4 квартал","Quarters this year":"Ушбу йилдаги кварталлар","This six-month":"Ушбу ярим йиллик","Last six-month":"Охирги 6 ой","Last 2 six-month":"Охирги жуфт ярим йиллик","This financial year":"Ушбу молиявий йил","Last financial year":"Охирги молиявий йил","Last 5 financial years":"Охирги 5 молиявий йиллар","This year":"Ушбу йил","Last year":"Охирги йил","Last 5 years":"Охирги 5 йил","Last 10 years":"Охирги 10 йил",Days:Fze,Weeks:Bze,"Bi-weeks":"Жуфт ҳафталар",Months:jze,"Bi-months":"2 ой",Quarters:Uze,"Six-months":"Ярим йиллик","Financial Years":"Молиявий йиллар",Years:Gze,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:Yze,Series:Vze,Category:qze,Filter:Wze,Columns:Hze,Rows:Xze,Points:Zze,"Reporting rate":"Ҳисоботдаги ставка","Reporting rate on time":"Ҳисоботдаги ставка ўз вақтида","Actual reports":"Ҳақиқий ҳисоботлар","Actual reports on time":"Ҳақиқий ҳисоботлар ўз вақтида","Expected reports":"Кутилаётган ҳисоботлар",Program:Kze,"Select a program":"Дастурни танланг",Indicators:Qze,"Indicator group":"Индикатор гуруҳи","All groups":"Барча гуруҳлар",Indicator:Jze,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Маълумотлар элементи гуруҳи","Data element":"Маълумотлар элементи","No data element groups found":"","Loading data element groups":"","Data sets":"Маълумотлар тўплами","Data set":"Маълумотлар тўплами","All data sets":"","Loading data sets":"","Event data items":"Ҳодисалар ҳақида маълумот элементлари","All programs":"","Event data item":"Ҳодиса/Тадбир маълумоти элементи","No programs found":"","Loading programs":"","Program indicators":"Дастур индикаторлари","Program indicator":"Дастур индикатори",Calculations:eFe,Number:"Тартиб рақами","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Жуда Кичик",Small:tFe,Regular:nFe,Large:iFe,"Extra Large":"Жуда Катта",Left:rFe,Center:aFe,Right:sFe,Start:oFe,Middle:lFe,End:cFe,Top:uFe,Bottom:dFe,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} ва {{lastOuName}}","{{allDynamicOuNames}} levels":"Барча {{allDynamicOuNames}} поғоналар","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} гуруҳлар","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} поғоналар {{staticOuNames}} ичида","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} гуруҳлар {{staticOuNames}} ичида","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:hFe,"Organisation unit":"Ташкилий бўлим","Assigned Categories":"Белгиланган Категориялар","Pivot table":"Солиштирма жадвал",Area:pFe,"Stacked area":"Йиғилган майдон",Bar:mFe,"Stacked bar":"Йиғилган тизимча",Column:fFe,"Year over year (column)":"Йилдан йилга (устун)","Stacked column":"Йиғилган устун",Gauge:gFe,Line:yFe,"Line list":"Қаторлар рўйхати","Year over year (line)":"Йилдан йилга (қатор)",Pie:vFe,Radar:xFe,Scatter:bFe,"Single value":"Ягона қиймат","All charts":"","{{seriesName}} (trend)":"",Trend:_Fe,"No legend for this series":"Ушбу серия учун таъриф мавжуд эмас","and {{amount}} more...":"","Linear Regression":"",Target:wFe,Base:TFe,"Axis {{axisId}}":"Ўқлар {{axisId}}","{{count}} items":"","Reset zoom":""},CFe="",EFe="",kFe="",LFe="Бекор қилиш",NFe="Yuklanmoqda",IFe="",AFe="",PFe="Olib tashlash",MFe="Izlash",DFe="Oʼchirib tashlash",OFe="Fayl",RFe="Yangi",$Fe="Saqlash",zFe="Yopmoq",FFe="Исми",BFe="Tavsif",jFe="Қайта номлаш",UFe="xarita",GFe="",YFe="Tahrirlash",VFe="Янгилаш",qFe="Talqinlar",WFe="Javob",HFe="Аksincha",XFe="Kabi, oʼxshash",ZFe="Улашиш",KFe="",QFe="Kimdir",JFe="",eBe="Yaratilgan",tBe="Turi",nBe="Ochiq",iBe="Вариант",rBe="Berkitish",aBe="Yil",sBe="Davr",oBe="Kunlik",lBe="Haftalik",cBe="Oylik",uBe="Har kvartal",dBe="Yillik",hBe="Bugun",pBe="Kecha",mBe="Kunlar",fBe="Haftalar",gBe="Oylar",yBe="Kvartal",vBe="Yillar",xBe="",bBe="Ketma-ketliklar",_Be="Kategoriya",wBe="Filtr",TBe="Ustunlar",SBe="Qatorlar",CBe="Nuqtalar",EBe="Programma",kBe="Indikatorlar",LBe="Indikator",NBe="",IBe="Kichik",ABe="Regulyar",PBe="Katta",MBe="Chap",DBe="Markaz",OBe="Oʼng",RBe="Boshlash",$Be="Oʼrtav",zBe="Oxiri",FBe="Yuqoridagi",BBe="Pastki",jBe="Maʼlumot",UBe="Maydon",GBe="Tizimcha",YBe="Ustun",VBe="Hisoblagich",qBe="Qator",WBe="Butun aylana",HBe="Radar",XBe="Tarqoqlik",ZBe="Yoʼnalish",KBe="Nishon",QBe="Аsos",JBe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Tavsif yoʼq","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:CFe,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:EFe,"Subscribe to get updates about new interpretations.":"",Subscribe:kFe,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:LFe,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:NFe,"Data elements":"Maʼlumot elementlari","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"Maʼlumot turi","All types":"Barcha turlari",Disaggregation:IFe,"No data":"Maʼlumot yoʼq","Search by data item name":"","No items selected":"Element tanlanmagan","Selected Items":"Element tanlangan","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:AFe,"Metric type":"","All metrics":"Barcha koʼrsatgichlar","Move to {{axisName}}":"Harakatlaning {{axisName}} ga qarab","Add to {{axisName}}":"{{axisName}} ga qoʼshing","Not available for {{visualizationType}}":"{{visualizationType}} uchun mavjud emas","Remove Assigned Categories":"Belgilangan kategoriyalar oʼchirilsin","Add Assigned Categories":"Belgilangan kategoriyalar qoʼshilsin",Remove:PFe,"Filter dimensions":"Filtr sozlamalari","Main dimensions":"Umumiy oʼlchamlar","Your dimensions":"Sizning sozlamalaringiz","Dimension recommended with selected data":"Tanlangan maʼlumotlar uchun sozlamalar tavsiya etiladi","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:MFe,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:DFe,File:OFe,New:RFe,"Open…":"",Save:$Fe,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Ushbu ilovada oching",Close:zFe,"Rename {{fileType}}":"",Name:FFe,Description:BFe,Rename:jFe,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"hodisa/tadbir hisoboti","line list":"",map:UFe,visualization:GFe,Edit:YFe,"Write a reply":"Izoh yozing","Post reply":"","Delete failed":"Oʼchirish amalga oshmadi","Could not update comment":"","Enter comment text":"",Update:VFe,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Talqin yozish","Post interpretation":"",Interpretations:qFe,Reply:WFe,"{{count}} replies":"","View replies":"",Unlike:HFe,Like:XFe,Share:ZFe,"See interpretation":"","Manage sharing":"Ulashishni boshqarish","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:KFe,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"Hech qanday natija topilmadi","Not available offline":"","Created by":"Томонидан яратилган",Anyone:QFe,"Only you":"",Others:JFe,"Not supported by this app yet":"","Filter by name":"Nomi boʼyicha filtrlash",Created:eBe,"Last updated":"Oxirgi yangilangan",Type:tBe,"Clear filters":"Filtrlarni tozalash","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:nBe,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"Yangisini yaratish","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:iBe,Hide:rBe,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Ташкилий бўлим фойдаланувчиси","User sub-units":"Фойдаланувчига бўйсунувчи бирликлар","User sub-x2-units":"Фойдаланувчига бўйсунувчи 2 даражали бирликлар","Select a level":"Pogʼonani tanlang","Select a group":"Guruhni tanlang","Deselect all":"Barcha tanlanganni bekor qilish","Period type":"Davr turi",Year:aBe,"Select year":"Yilni tanlang",Period:sBe,"Relative periods":"Nisbiy davrlar","Fixed periods":"Beligalangan davrlar","Selected Periods":"Tanlangan Davrlar","No periods selected":"Davr tanlanmagan",Daily:oBe,Weekly:lBe,"Weekly (Start Wednesday)":"Haftalik (Boshlanishi Chorshanba)","Weekly (Start Thursday)":"Haftalik (Boshlanishi Payshanba)","Weekly (Start Saturday)":"Haftalik (Boshlanishi Shanba)","Weekly (Start Sunday)":"Haftalik (Boshlanishi Yakshanba)","Bi-weekly":"Juft haftalik",Monthly:cBe,"Bi-monthly":"Juft oylik",Quarterly:uBe,"Six-monthly":"Yarim yillik","Six-monthly April":"Yarim yillik Аprel",Yearly:dBe,"Financial year (Start November)":"Moliyaviy yil (Boshlanishi Noyabr)","Financial year (Start October)":"Moliyaviy yil (boshlanishi Oktyabr)","Financial year (Start July)":"Moliyaviy yil (boshlanishi Iyul)","Financial year (Start April)":"Moliyaviy yil (boshlanishi Аprel)",Today:hBe,Yesterday:pBe,"Last 3 days":"Oxirgi 3 kun","Last 7 days":"Oxirgi 7 kun","Last 14 days":"Oxirgi 14 kun","Last 30 days":"Oxirgi 30 kun","Last 60 days":"Oxirgi 60 kun","Last 90 days":"Oxirgi 90 kun","Last 180 days":"Oxirgi 180 kun","This week":"Ushbu hafta","Last week":"Oxirgi hafta","Last 4 weeks":"Oxirgi 4 hafta","Last 12 weeks":"Oxirgi 12 hafta","Last 52 weeks":"Oxirgi 52 hafta","Weeks this year":"Haftalar ayni yilda","This bi-week":"Ushbu juft hafta","Last bi-week":"Oxirgi juft hafta","Last 4 bi-weeks":"Oxirgi 4 juft haftalar","This month":"Ushbu oy","Last month":"Oxirgi oy","Last 3 months":"Oxirgi 3 oy","Last 6 months":"Oxirgi 6 oy","Last 12 months":"Oxirgi 12 oy","Months this year":"Oylar ayni yilda","This bi-month":"Ushbu juft oy","Last bi-month":"Oxirgi 2 oy","Last 6 bi-months":"Oxirgi 6 juft oylar","Bi-months this year":"Аyni yildagi juft oylar","This quarter":"Ushbu kvartal","Last quarter":"Oxirgi kvartal","Last 4 quarters":"Oxirgi 4 kvartal","Quarters this year":"Ushbu yildagi kvartallar","This six-month":"Ushbu yarim yillik","Last six-month":"Oxirgi 6 oy","Last 2 six-month":"Oxirgi juft yarim yillik","This financial year":"Ushbu moliyaviy yil","Last financial year":"Oxirgi moliyaviy yil","Last 5 financial years":"Oxirgi 5 moliyaviy yillar","This year":"Ushbu yil","Last year":"Oxirgi yil","Last 5 years":"Oxirgi 5 yil","Last 10 years":"Oxirgi 10 yil",Days:mBe,Weeks:fBe,"Bi-weeks":"Juft haftalar",Months:gBe,"Bi-months":"2 oy",Quarters:yBe,"Six-months":"Yarim yillik","Financial Years":"Moliyaviy yillar",Years:vBe,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:xBe,Series:bBe,Category:_Be,Filter:wBe,Columns:TBe,Rows:SBe,Points:CBe,"Reporting rate":"Hisobotdagi stavka","Reporting rate on time":"Hisobotdagi stavka oʼz vaqtida","Actual reports":"Haqiqiy hisobotlar","Actual reports on time":"Haqiqiy hisobotlar oʼz vaqtida","Expected reports":"Kutilayotgan hisobotlar",Program:EBe,"Select a program":"Dasturni tanlang",Indicators:kBe,"Indicator group":"Koʼrsatgich guruhi","All groups":"",Indicator:LBe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"Maʼlumotlar elementi guruhi","Data element":"Maʼlumotlar elementi","No data element groups found":"","Loading data element groups":"","Data sets":"Maʼlumotlar toʼplami","Data set":"Maʼlumotlar toʼplami","All data sets":"","Loading data sets":"","Event data items":"Hodisalar haqida maʼlumot elementlari","All programs":"","Event data item":"Hodisa/Tadbir maʼlumoti elementi","No programs found":"","Loading programs":"","Program indicators":"Dastur indikatorlari","Program indicator":"Dastur indikatori",Calculations:NBe,Number:"Tartib raqami","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"Juda Kichik",Small:IBe,Regular:ABe,Large:PBe,"Extra Large":"Juda Katta",Left:MBe,Center:DBe,Right:OBe,Start:RBe,Middle:$Be,End:zBe,Top:FBe,Bottom:BBe,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} va {{lastOuName}}","{{allDynamicOuNames}} levels":"Barcha {{allDynamicOuNames}} pogʼonalar","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} guruhlar","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} pogʼonalar {{staticOuNames}} ichida","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} guruhlar {{staticOuNames}} ichida","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:jBe,"Organisation unit":"Ташкилий бирлик","Assigned Categories":"Belgilangan Kategoriyalar","Pivot table":"Solishtirma jadval",Area:UBe,"Stacked area":"Yigʼilgan maydon",Bar:GBe,"Stacked bar":"Yigʼilgan tizimcha",Column:YBe,"Year over year (column)":"Yildan yilga (ustun)","Stacked column":"Yigʼilgan ustun",Gauge:VBe,Line:qBe,"Line list":"Qatorlar roʼyxati","Year over year (line)":"Yildan yilga (qator)",Pie:WBe,Radar:HBe,Scatter:XBe,"Single value":"Yagona qiymat","All charts":"","{{seriesName}} (trend)":"",Trend:ZBe,"No legend for this series":"Ushbu seriya uchun taʼrif mavjud emas","and {{amount}} more...":"","Linear Regression":"",Target:KBe,Base:QBe,"Axis {{axisId}}":"Oʼqlar {{axisId}}","{{count}} items":"","Reset zoom":""},eje="Thông báo",tje="Hủy đăng ký",nje="Đăng ký",ije="Hủy",rje="Đang tải",aje="Phân Tách Phần Tử Dữ Liệu",sje="Tính toán",oje="Xóa",lje="Tìm kiếm",cje="Xóa",uje="Tập tin",dje="Mới",hje="Lưu",pje="Đóng lại",mje="Tên",fje="Miêu tả",gje="Đổi tên",yje="bản đồ",vje="trực quan hóa",xje="Chỉnh sửa",bje="Cập nhật",_je="Diễn giải ",wje="Trả lời",Tje="Không thích",Sje="Thích",Cje="Chia sẻ",Eje="Bất kỳ ai",kje="Khác",Lje="Đã tạo",Nje="Loại",Ije="Mở",Aje="Tùy chọn",Pje="Ẩn",Mje="Năm",Dje="Thời điểm",Oje="Hàng ngày",Rje="Hàng tuần",$je="Hàng tháng",zje="Hàng quý",Fje="Hàng năm",Bje="Hôm nay",jje="Hôm qua",Uje="Ngày",Gje="Tuần",Yje="Tháng",Vje="Quý",qje="Năm",Wje="Xem trước",Hje="Thử lại",Xje="Chuỗi Dữ Liệu",Zje="Phân loại",Kje="Lọc",Qje="Cột",Jje="Dòng",e4e="Điểm",t4e="Chương trình",n4e="Các chỉ số",i4e="Chỉ số",r4e="Tính toán",a4e="Nhỏ",s4e="Chuẩn",o4e="Lớn",l4e="Trái",c4e="Giữa",u4e="Phải",d4e="Bắt đầu",h4e="Ở giữa",p4e="Kết thúc",m4e="Trên",f4e="Dưới",g4e="Dữ liệu",y4e="Khu vực",v4e="Cột",x4e="Cột",b4e="Biểu đồ đo lường",_4e="Đường",w4e="Bánh",T4e="Radar",S4e="Phân tán",C4e="Xu hướng",E4e="Mục tiêu",k4e="Đường đáy",L4e={"view only":"chỉ xem","view and edit":"xem và chỉnh sửa","all users ({{accessLevel}})":"tất cả người dùng ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}}({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Chia sẻ với {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"Không chia sẻ với bất kỳ một người hay nhóm nào","No description":"Không mô tả","Last updated {{time}}":"Cập nhật lần cuối {{time}}","Created {{time}} by {{author}}":"Được tạo {{time}}bởi {{author}}","Created {{time}}":"Được tạo {{time}}","Viewed {{count}} times":"Đã xem {{count}}lần",Notifications:eje,"You're subscribed and getting updates about new interpretations.":"Bạn đã đăng ký và đang nhận thông tin cập nhật về những diễn giải mới.",Unsubscribe:tje,"Subscribe to get updates about new interpretations.":"Đăng ký để nhận thông tin cập nhật về những diễn giải mới.",Subscribe:nje,"About this map":"Về bản đồ này","About this line list":"Về danh sách dòng này","About this visualization":"Về trực quan hóa này","About this event chart":"Về biểu đồ sự kiện này","About this event report":"Về báo cáo sự kiện này","This app could not retrieve required data.":"Ứng dụng này không thể truy xuất dữ liệu cần thiết.","Network error":"Lỗi mạng","Data / Edit calculation":"Dữ liệu / Chỉnh sửa tính toán","Data / New calculation":"Dữ liệu / Tính toán mới","Remove item":"Xóa mục","Check formula":"Kiểm tra công thức","Calculation name":"Tên phép tính","Shown in table headers and chart axes/legends":"Hiển thị trong tiêu đề bảng và trục biểu đồ/chú thích","Delete calculation":"Xóa tính toán",Cancel:ije,"The calculation can only be saved with a valid formula":"Phép tính chỉ có thể được lưu bằng công thức hợp lệ","Add a name to save this calculation":"Thêm tên để lưu phép tính này","Save calculation":"Lưu tính toán","Are you sure you want to delete this calculation? It may be used by other visualizations.":"Bạn có chắc chắn muốn xóa phép tính này không? Nó có thể được sử dụng bởi các hình ảnh trực quan khác.","Yes, delete":"Có, xóa","Totals only":"Chỉ tổng số","Details only":"Chỉ chi tiết",Loading:rje,"Data elements":"Phần tử dữ liệu","Search by data element name":"Tìm kiếm theo tên phần tử dữ liệu",'No data elements found for "{{- searchTerm}}"':'Không tìm thấy phần tử dữ liệu nào cho "{{- searchTerm}}"',"No data elements found":"Không tìm thấy phần tử dữ liệu nào","Drag items here, or double click in the list, to start building a calculation formula":"Kéo các mục vào đây hoặc nhấp đúp vào danh sách để bắt đầu xây dựng công thức tính toán","Math operators":"Toán tử toán học","Data Type":"Loại dữ liệu","Only {{dataType}} can be used in {{visType}}":"Chỉ {{dataType}}được sử dụng trong {{visType}}","All types":"Tất cả các loại",Disaggregation:aje,"No data":"Không có dữ liệu","Search by data item name":"Tìm kiếm theo tên mục dữ liệu","No items selected":"Không có mục nào được chọn","Selected Items":"Các mục đã chọn","No indicators found":"Không tìm thấy chỉ số","No data sets found":"Không tìm thấy tập dữ liệu nào","No event data items found":"Không tìm thấy mục dữ liệu sự kiện nào","No program indicators found":"Không tìm thấy chỉ số chương trình nào","No calculations found":"Không tìm thấy tính toán nào",'No indicators found for "{{- searchTerm}}"':'Không tìm thấy chỉ số nào cho "{{- searchTerm}}"','No data sets found for "{{- searchTerm}}"':'Không tìm thấy tập dữ liệu nào cho "{{- searchTerm}}"','No event data items found for "{{- searchTerm}}"':'Không tìm thấy mục dữ liệu sự kiện nào cho "{{- searchTerm}}"','No program indicators found for "{{- searchTerm}}"':'Không tìm thấy chỉ số chương trình nào cho "{{- searchTerm}}"','No calculations found for "{{- searchTerm}}"':'Không tìm thấy tính toán nào cho "{{- searchTerm}}"','Nothing found for "{{- searchTerm}}"':"Không tìm thấy gì cho {{- searchTerm}}",Calculation:sje,"Metric type":"Loại chỉ số đo lường","All metrics":"Tất cả hệ đo lường","Move to {{axisName}}":"Di chuyển đến {{axisName}}","Add to {{axisName}}":"Thêm vào {{axisName}}","Not available for {{visualizationType}}":"Không có sẵn cho {{visualizationType}}","Remove Assigned Categories":"Xóa phân loại đã chỉ định","Add Assigned Categories":"Thêm phân loại được chỉ định",Remove:oje,"Filter dimensions":"Các chiều lọc","Main dimensions":"Các chiều chính","Your dimensions":"Các chiều dữ liệu của bạn","Dimension recommended with selected data":"Chiều được đề xuất với dữ liệu đã chọn","All items":"Tất cả các mục","Automatically include all items":"Tự động bao gồm tất cả các mục","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Chọn tất cả mục {{- dimensionTitle}}. Với tùy chọn này, mục mới sẽ được tự động thêm vào trong tương lai.","Manually select items...":"Chọn mục theo cách thủ công...","Nothing found in {{- dimensionTitle}}":"Không tìm thấy gì trong {{- dimensionTitle}}",Search:lje,"Nothing found for {{- searchTerm}}":"Không tìm thấy gì cho {{- searchTerm}}","Delete {{fileType}}":"Xóa {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"{{fileType}}này và các diễn giải liên quan sẽ bị xóa. Tiếp tục?",Delete:cje,File:uje,New:dje,"Open…":"Mở...",Save:hje,"Save…":"Lưu...","Save as…":"Lưu dưới dạng…","Rename…":"Đổi tên...","Translate…":"Dịch...","Share…":"Chia sẻ...","Get link…":"Lấy đường dẫn liên kết...","Open in this app":"Mở trong ứng dụng này",Close:pje,"Rename {{fileType}}":"Đổi tên {{fileType}}",Name:mje,Description:fje,Rename:gje,"{{- objectName}} (copy)":"{{- objectName}}(copy)","Save {{fileType}} as":"Lưu {{fileType}}thành","event report":"báo cáo sự kiện","line list":"danh sách dòng",map:yje,visualization:vje,Edit:xje,"Write a reply":"Viết phản hồi","Post reply":"Đăng phản hồi","Delete failed":"Xóa thất bại","Could not update comment":"Không thể cập nhật bình luận","Enter comment text":"Nhập văn bản bình luận",Update:bje,"Viewing interpretation: {{- visualisationName}}":"Xem diễn giải:{{- visualisationName}}","Could not load interpretation":"Không thể tải diễn giải","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"Không thể hiển thị diễn giải. Hãy thử lại hoặc liên hệ với quản trị viên hệ thống của bạn.","Hide interpretation":"Ẩn diễn giải","Write an interpretation":"Viết diễn giải","Other people viewing this interpretation in the future may see more data.":"Những người khác xem bản diễn giải này trong tương lai có thể thấy nhiều dữ liệu hơn.","Post interpretation":"Đăng diễn giải",Interpretations:_je,Reply:wje,"{{count}} replies":"{{count}} câu trả lời","View replies":"Xem trả lời",Unlike:Tje,Like:Sje,"See interpretation":"Xem diễn giải","Open in app":"Mở trong ứng dụng",Share:Cje,"Manage sharing":"Quản lý chia sẻ","Could not update interpretation":"Không thể cập nhật diễn giải","Enter interpretation text":"Nhập nội dung cho diễn giải","Not available offline":"Không có cho ngoại tuyến","Created by":"Được tạo bởi",Anyone:Eje,"Only you":"Chỉ bạn",Others:kje,"Not supported by this app yet":"Chưa được ứng dụng này hỗ trợ","Filter by name":"Lọc bằng tên",Created:Lje,"Last updated":"Lần cập nhật cuối",Type:Nje,"Clear filters":"Bỏ lọc","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} của {{totalNumberOfItems}}",Open:Ije,"Couldn't load items":"Không thể tải danh mục","There was a problem loading items. Try again or contact your system administrator.":"Đã xảy ra sự cố khi tải mục. Hãy thử lại hoặc liên hệ với quản trị viên hệ thống của bạn.","No items found. Create a new to get started.":"Không tìm thấy mục nào. Hãy tạo một cái mới để bắt đầu.","No items found. Try adjusting your search or filter options to find what you're looking for.":"Không tìm thấy mục nào. Hãy thử điều chỉnh tùy chọn tìm kiếm hoặc bộ lọc để tìm những gì bạn đang tìm kiếm.","Create new":"Tạo mới","Open a visualization":"Mở một hình ảnh trực quan","Loading visualizations":"Đang tải hình ảnh trực quan","Couldn't load visualizations":"Không thể tải hình ảnh trực quan","There was a problem loading visualizations. Try again or contact your system administrator.":"Đã xảy ra sự cố khi tải hình ảnh trực quan. Hãy thử lại hoặc liên hệ với quản trị viên hệ thống của bạn.","No visualizations found. Click New visualization to get started.":"Không tìm thấy hình ảnh trực quan nào. Nhấp vào Hình ảnh trực quan mới để bắt đầu.","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"Không tìm thấy hình ảnh trực quan. Hãy thử điều chỉnh tùy chọn tìm kiếm hoặc bộ lọc để tìm nội dung bạn đang tìm kiếm.","New visualization":"Hình ảnh trực quan mới","Open a map":"Mở một bản đồ","Loading maps":"Đang tải bản đồ","Couldn't load maps":"Không thể tải bản đồ","There was a problem loading maps. Try again or contact your system administrator.":"Đã xảy ra sự cố khi tải bản đồ. Hãy thử lại hoặc liên hệ với quản trị viên hệ thống của bạn.","No maps found. Click New map to get started.":"Không tìm thấy bản đồ. Nhấp vào Bản đồ mới để bắt đầu.","No maps found. Try adjusting your search or filter options to find what you're looking for.":"Không tìm thấy bản đồ. Hãy thử điều chỉnh tùy chọn tìm kiếm hoặc bộ lọc để tìm thông tin bạn đang tìm kiếm.","New map":"Bản đồ mới","Open a line list":"Mở một danh sách dòng","Loading line lists":"Đang tải danh sách dòng","Couldn't load line lists":"Không thể tải danh sách dòng","There was a problem loading line lists. Try again or contact your system administrator.":"Đã xảy ra sự cố khi tải danh sách dòng. Hãy thử lại hoặc liên hệ với quản trị viên hệ thống của bạn.","No line lists found. Click New line list to get started.":"Không tìm thấy danh sách dòng nào. Bấm vào Danh sách dòng mới để bắt đầu.","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"Không tìm thấy danh sách dòng nào. Hãy thử điều chỉnh tùy chọn tìm kiếm hoặc bộ lọc để tìm những gì bạn đang tìm kiếm.","New line list":"Danh sách dòng mới",Options:Aje,Hide:Pje,"{{count}} org units":"{{count}} đơn vị","{{count}} levels":"{{count}} cấp độ","{{count}} groups":"{{count}} nhóm","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Đã chọn: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Không có gì được chọn","User organisation unit":"Đơn vị người dùng","User sub-units":"Đơn vị con của người dùng","User sub-x2-units":"Đơn vị con cấp 2 của người dùng","Select a level":"Chọn cấp độ","Select a group":"Chọn nhóm","Deselect all":"Bỏ chọn tất cả","Period type":"Loại thời điểm",Year:Mje,"Select year":"Chọn năm",Period:Dje,"Selected Periods":"Thời điểm đã chọn","Relative periods":"Thời điểm tương đối","Fixed periods":"Thời điểm tĩnh","No periods selected":"Chưa chọn thời điểm",Daily:Oje,Weekly:Rje,"Weekly (Start Wednesday)":"Hàng tuần (Bắt đầu từ Thứ Tư)","Weekly (Start Thursday)":"Hàng tuần (Bắt đầu từ Thứ Năm)","Weekly (Start Saturday)":"Hàng tuần (Bắt đầu từ Thứ Bảy)","Weekly (Start Sunday)":"Hàng tuần (Bắt đầu từ Chủ nhật)","Bi-weekly":"Định kỳ 2 tuần",Monthly:$je,"Bi-monthly":"Định kỳ 2 tháng",Quarterly:zje,"Six-monthly":"Định kỳ 6 tháng","Six-monthly April":"Định kỳ 6 tháng - Tháng 4",Yearly:Fje,"Financial year (Start November)":"Năm tài chính (Tháng 11)","Financial year (Start October)":"Năm tài chính (Tháng 10)","Financial year (Start July)":"Năm tài chính (Tháng 7)","Financial year (Start April)":"Năm tài chính (Tháng 4)",Today:Bje,Yesterday:jje,"Last 3 days":"3 ngày trước","Last 7 days":"7 ngày trước","Last 14 days":"14 ngày trước","Last 30 days":"30 ngày trước","Last 60 days":"60 ngày qua","Last 90 days":"90 ngày qua","Last 180 days":"180 ngày qua","This week":"Tuần này","Last week":"Tuần trước","Last 4 weeks":"4 tuần trước","Last 12 weeks":"12 tuần trước","Last 52 weeks":"52 tuần trước","Weeks this year":"Các tuần trong năm nay","This bi-week":"Định kỳ 2 tuần hiện tại","Last bi-week":"Định kỳ 2 tuần trước","Last 4 bi-weeks":"4 Định kỳ 2 tuần trước","This month":"Tháng này","Last month":"Tháng trước","Last 3 months":"3 tháng trước","Last 6 months":"6 tháng trước","Last 12 months":"Trong 12 tháng trước","Months this year":"Tháng năm nay","This bi-month":"Định kỳ 2 tháng này","Last bi-month":"Định kỳ 2 tháng trước","Last 6 bi-months":"6 Định kỳ 2 tháng trước","Bi-months this year":"Định kỳ 2 tháng năm nay","This quarter":"Quý này","Last quarter":"Quý trước","Last 4 quarters":"4 quý trước","Quarters this year":"Quý năm nay","This six-month":"Định kỳ 6 tháng này","Last six-month":"Định kỳ 6 tháng trước","Last 2 six-month":"2 Định kỳ 6 tháng trước","This financial year":"Năm tài chính này","Last financial year":"Năm tài chính trước","Last 5 financial years":"5 năm tài chính trước","This year":"Năm nay","Last year":"Năm ngoái","Last 5 years":"5 năm trước","Last 10 years":"10 năm trước",Days:Uje,Weeks:Gje,"Bi-weeks":"Định kỳ 2 tuần",Months:Yje,"Bi-months":"Định kỳ 2 tháng",Quarters:Vje,"Six-months":"Sáu-tháng","Financial Years":"Năm tài chính",Years:qje,"Value: {{value}}":"Giá trị: {{value}}","Bold text":"Chữ in đậm","Italic text":"Chữ in nghiêng","Link to a URL":"Liên kết đến một URL","Mention a user":"Nhắc đến một người dùng","Add emoji":"Thêm biểu tượng cảm xúc",Preview:Wje,"Back to write mode":"Quay lại chế độ viết","Interpretations and details":"Diễn giải và chi tiết","Translating to":"Dịch sang","Choose a locale":"Chọn một ngôn ngữ","Base locale reference":"Dựa trên ngôn ngữ ưu tiên","Choose a locale to translate from the menu above":"Thay đổi ngôn ngữ để dịch từ menu trên","Translate: {{objectName}}":"Dịch: {{objectName}}","Save translations":"Lưu bản dịch","Cannot save while offline":"Không thể lưu khi ngoại tuyến","Could not load translations":"Không thể tải bản dịch",Retry:Hje,"Too many results. Try refining the search.":"Quá nhiều kết quả. Hãy thử tinh chỉnh tìm kiếm.","Search for a user":"Tìm kiếm người dùng",'Searching for "{{- searchText}}"':'Đang tìm cho "{{- searchText}}"',"No results found":"Không tìm thấy kết quả nào",Series:Xje,Category:Zje,Filter:Kje,Columns:Qje,Rows:Jje,Points:e4e,"Reporting rate":"Tỉ lệ báo cáo","Reporting rate on time":"Tỉ lệ báo cáo đúng hạn","Actual reports":"Báo cáo thực tế","Actual reports on time":"Báo cáo thực tế đúng hạn","Expected reports":"Báo cáo dự kiến",Program:t4e,"Select a program":"Chọn một chương trình",Indicators:n4e,"Indicator group":"Nhóm chỉ số","All groups":"Tất cả nhóm",Indicator:i4e,"No indicator groups found":"Không tìm thấy nhóm chỉ số nào","Loading indicator groups":"Đang tải nhóm chỉ số","Data element group":"Nhóm phần tử dữ liệu","Data element":"Phần tử dữ liệu","No data element groups found":"Không tìm thấy nhóm phần tử dữ liệu nào","Loading data element groups":"Đang tải nhóm phần tử dữ liệu","Data sets":"Biểu nhập","Data set":"Tập dữ liệu","All data sets":"Tất cả tập dữ liệu","Loading data sets":"Đang tải tập dữ liệu","Event data items":"Mục dữ liệu sự kiện","All programs":"Tất cả chương trình","Event data item":"Mục dữ liệu sự kiện","No programs found":"Không tìm thấy chương trình nào","Loading programs":"Đang tải chương trình","Program indicators":"Chỉ Số Chương Trình","Program indicator":"Chỉ số chương trình",Calculations:r4e,Number:"Số","Formula is empty. Add items to the formula from the lists on the left.":"Công thức đang trống. Thêm các mục vào công thức từ danh sách bên trái.","Consecutive math operators":"Các toán tử toán học liên tiếp","Consecutive data elements":"Các phần tử dữ liệu liên tiếp","Starts or ends with a math operator":"Bắt đầu hoặc kết thúc bằng toán tử toán học","Empty parentheses":"Dấu ngoặc đơn trống","Missing right parenthesis )":"Thiếu dấu ngoặc đơn bên phải )","Missing left parenthesis (":"Thiếu dấu ngoặc đơn bên trái (","Extra Small":"Rất nhỏ",Small:a4e,Regular:s4e,Large:o4e,"Extra Large":"Rất lớn",Left:l4e,Center:c4e,Right:u4e,Start:d4e,Middle:h4e,End:p4e,Top:m4e,Bottom:f4e,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} và {{lastOuName}}","{{allDynamicOuNames}} levels":"cấp độ {{allDynamicOuNames}}","{{allDynamicOuNames}} groups":"nhóm {{allDynamicOuNames}}","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} cấp trong {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} nhóm trong {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% của tổng giá trị x","{{percentage}}% of total y values":"{{percentage}}% của tổng giá trị y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} x IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} x IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} x Điểm Z được sửa đổi thấp","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}}Điểm Z được sửa đổi cao","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} x Điểm Z thấp","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} x Điểm Z cao","Not applicable":"Không áp dụng",Data:g4e,"Organisation unit":"Đơn vị","Assigned Categories":"Phân loại được chỉ định","Pivot table":"Bảng xoay",Area:y4e,"Stacked area":"Khu vực xếp chồng ",Bar:v4e,"Stacked bar":"Cột chồng",Column:x4e,"Year over year (column)":"Năm qua năm (cột)","Stacked column":"Cột chồng",Gauge:b4e,Line:_4e,"Line list":"Danh sách dòng","Year over year (line)":"Năm qua năm (dòng)",Pie:w4e,Radar:T4e,Scatter:S4e,"Single value":"Giá trị đơn","Outlier table":"Bảng ngoại lệ","All charts":"Tất cả biểu đồ","{{seriesName}} (trend)":"{{seriesName}} (xu hướng)",Trend:C4e,"No legend for this series":"Không có chú giải cho chuỗi này","and {{amount}} more...":"và {{amount}} khác ...","Linear Regression":"Hồi quy tuyến tính",Target:E4e,Base:k4e,"Axis {{axisId}}":"Trục {{axisId}}","{{count}} items":"{{count}}mục","Reset zoom":"Đặt lại thu phóng"},N4e="通知",I4e="退订",A4e="订阅",P4e="取消",M4e="载入",D4e="分解",O4e="计算",R4e="移除",$4e="搜索",z4e="删除",F4e="文件",B4e="新建",j4e="保存",U4e="关闭",G4e="名称",Y4e="描述",V4e="改名",q4e="地图",W4e="可视化",H4e="编辑",X4e="更新",Z4e="解释",K4e="应答",Q4e="不喜欢",J4e="喜欢",e5e="分享",t5e="任何人",n5e="其它",i5e="已创建",r5e="类型",a5e="开放",s5e="选项",o5e="隐藏",l5e="年",c5e="期间",u5e="每日",d5e="每周",h5e="每月",p5e="季度",m5e="每年",f5e="今天",g5e="昨天",y5e="天数",v5e="星期",x5e="月",b5e="四分之一",_5e="年",w5e="预览",T5e="重试",S5e="系列",C5e="分类",E5e="过滤器",k5e="列",L5e="行",N5e="点数",I5e="项目",A5e="指标",P5e="指标",M5e="计算",D5e="小",O5e="定期",R5e="较大",$5e="左",z5e="居中",F5e="Right",B5e="开始",j5e="中间",U5e="尾巴",G5e="顶",Y5e="底",V5e="数据",q5e="面积",W5e="柱状图",H5e="列",X5e="表盘图",Z5e="折线图",K5e="饼图",Q5e="雷达图",J5e="散点图",e6e="趋势",t6e="目标",n6e="基",i6e={"view only":"只查看","view and edit":"查看和编辑","all users ({{accessLevel}})":"所有用户 ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"与 {{commaSeparatedListOfUsersAndGroups}} 共享","Not shared with any users or groups":"不与任何用户或组共享","No description":"无描述","Last updated {{time}}":"最后更新 {{time}}","Created {{time}} by {{author}}":"由 {{author}} 在 {{time}} 创建","Created {{time}}":"已创建 {{time}}","Viewed {{count}} times":"查看了 {{count}} 条",Notifications:N4e,"You're subscribed and getting updates about new interpretations.":"您已订阅并获取有关新解释的更新。",Unsubscribe:I4e,"Subscribe to get updates about new interpretations.":"订阅以获取有关新解释的更新。",Subscribe:A4e,"About this map":"关于该地图","About this line list":"关于此行列表","About this visualization":"关于此可视化","About this event chart":"关于该事件图表","About this event report":"关于本事件报表","This app could not retrieve required data.":"此应用无法检索所需数据。","Network error":"网络错误","Data / Edit calculation":"数据/编辑计算","Data / New calculation":"数据/新计算","Remove item":"除去项目","Check formula":"检查公式","Calculation name":"计算名称","Shown in table headers and chart axes/legends":"显示在表格标题和图表轴/图例中","Delete calculation":"删除计算",Cancel:P4e,"The calculation can only be saved with a valid formula":"计算只能用有效的公式保存","Add a name to save this calculation":"添加名称以保存此计算","Save calculation":"保存计算","Are you sure you want to delete this calculation? It may be used by other visualizations.":"您确定要删除此计算吗？它可以被其他可视化使用。","Yes, delete":"是的，删除","Totals only":"仅总数","Details only":"仅详细信息",Loading:M4e,"Data elements":"数据元","Search by data element name":"按数据元素名称搜索",'No data elements found for "{{- searchTerm}}"':"找不到“ {{- searchTerm}}”的数据元素","No data elements found":"找不到数据元素","Drag items here, or double click in the list, to start building a calculation formula":"将项目拖到此处，或在列表中双击，开始构建计算公式","Math operators":"数学运算符","Data Type":"数据类型","Only {{dataType}} can be used in {{visType}}":"{{dataType}} 只能在 {{visType}} 中使用","All types":"所有类型",Disaggregation:D4e,"No data":"无数据","Search by data item name":"按数据项名称搜索","No items selected":"没有选择条目","Selected Items":"选择的条目","No indicators found":"找不到指标","No data sets found":"找不到数据集","No event data items found":"找不到事件数据项","No program indicators found":"找不到项目指标","No calculations found":"没有找到计算结果",'No indicators found for "{{- searchTerm}}"':"找不到“ {{- searchTerm}}”的指标",'No data sets found for "{{- searchTerm}}"':"找不到“ {{- searchTerm}}”的数据集",'No event data items found for "{{- searchTerm}}"':"找不到“ {{- searchTerm}}”的事件数据项",'No program indicators found for "{{- searchTerm}}"':"找不到“ {{- searchTerm}}”的计划指标",'No calculations found for "{{- searchTerm}}"':"找不到“{{- searchTerm}}”的计算",'Nothing found for "{{- searchTerm}}"':"找不到“ {{- searchTerm}}”",Calculation:O4e,"Metric type":"尺度类型","All metrics":"所有尺度","Move to {{axisName}}":"移动到 {{axisName}}","Add to {{axisName}}":"添加到 {{axisName}}","Not available for {{visualizationType}}":" {{visualizationType}}不可用","Remove Assigned Categories":"移除指定的分类","Add Assigned Categories":"添加指定的分类",Remove:R4e,"Filter dimensions":"过滤器维度","Main dimensions":"主要维度","Your dimensions":"你的维度","Dimension recommended with selected data":"选择的数据的推荐维度","All items":"所有条目","Automatically include all items":"自动包含所有条目","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"选择所有 {{- dimensionTitle}} 项。使用此选项，将来添加的新条目将自动包含在内。","Manually select items...":"手动选择条目...","Nothing found in {{- dimensionTitle}}":"在 {{- dimensionTitle}} 中找不到任何内容",Search:$4e,"Nothing found for {{- searchTerm}}":"没有找到 {{- searchTerm}}","Delete {{fileType}}":"删除{{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"此{{fileType}}和相关解释将被删除。继续？",Delete:z4e,File:F4e,New:B4e,"Open…":"打开…",Save:j4e,"Save…":"保存…","Save as…":"另存为…","Rename…":"改名…","Translate…":"翻译…","Share…":"分享…","Get link…":"获取链接…","Open in this app":"在该App打开",Close:U4e,"Rename {{fileType}}":"重命名{{fileType}}",Name:G4e,Description:Y4e,Rename:V4e,"{{- objectName}} (copy)":"{{- objectName}}（复制）","Save {{fileType}} as":"将{{fileType}}另存为","event report":"事件报表","line list":"行列表",map:q4e,visualization:W4e,Edit:H4e,"Write a reply":"书写应答","Post reply":"发表回复","Delete failed":"删除失败","Could not update comment":"无法更新评论","Enter comment text":"输入评论文本",Update:X4e,"Viewing interpretation: {{- visualisationName}}":"查看注释：{{- visualisationName}}","Could not load interpretation":"无法加载解释","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"无法显示解释。重试或联系您的系统管理员。","Hide interpretation":"隐藏解释","Write an interpretation":"书写注释","Other people viewing this interpretation in the future may see more data.":"将来查看此解释的其他人可能会看到更多数据。","Post interpretation":"后解释",Interpretations:Z4e,Reply:K4e,"{{count}} replies":"{{count}}条回复","View replies":"查看回复",Unlike:Q4e,Like:J4e,"See interpretation":"见解释","Open in app":"在应用程序中打开",Share:e5e,"Manage sharing":"管理共享","Could not update interpretation":"无法更新解释","Enter interpretation text":"输入解释文本","Not available offline":"离线不可用","Created by":"创建人",Anyone:t5e,"Only you":"只有你",Others:n5e,"Not supported by this app yet":"此应用尚不支持","Filter by name":"按名称过滤",Created:i5e,"Last updated":"上次更新",Type:r5e,"Clear filters":"清除过滤器","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} 的 {{totalNumberOfItems}}",Open:a5e,"Couldn't load items":"无法加载项目","There was a problem loading items. Try again or contact your system administrator.":"加载项目时出现问题。重试或联系您的系统管理员。","No items found. Create a new to get started.":"未找到任何项目。创建一个新的开始。","No items found. Try adjusting your search or filter options to find what you're looking for.":"未找到任何项目。尝试调整您的搜索或过滤选项以找到您要查找的内容。","Create new":"新建","Open a visualization":"打开可视化","Loading visualizations":"加载可视化","Couldn't load visualizations":"无法加载可视化","There was a problem loading visualizations. Try again or contact your system administrator.":"加载可视化时出现问题。重试或联系您的系统管理员。","No visualizations found. Click New visualization to get started.":"未找到可视化效果。单击新建可视化开始。","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"未找到可视化效果。尝试调整您的搜索或过滤选项以找到您要查找的内容。","New visualization":"新的可视化","Open a map":"打开地图","Loading maps":"加载地图","Couldn't load maps":"无法加载地图","There was a problem loading maps. Try again or contact your system administrator.":"加载地图时出现问题。重试或联系您的系统管理员。","No maps found. Click New map to get started.":"未找到地图。单击新地图开始。","No maps found. Try adjusting your search or filter options to find what you're looking for.":"未找到地图。尝试调整您的搜索或过滤选项以找到您要查找的内容。","New map":"新地图","Open a line list":"打开一个行列表","Loading line lists":"加载行列表","Couldn't load line lists":"无法加载行列表","There was a problem loading line lists. Try again or contact your system administrator.":"加载行列表时出现问题。重试或联系您的系统管理员。","No line lists found. Click New line list to get started.":"未找到行列表。单击新行列表开始。","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"未找到行列表。尝试调整您的搜索或过滤选项以找到您要查找的内容。","New line list":"新行列表",Options:s5e,Hide:o5e,"{{count}} org units":"{{count}} 个组织单位","{{count}} levels":"{{count}} 级","{{count}} groups":"{{count}} 组","Selected: {{commaSeparatedListOfOrganisationUnits}}":"已选择：{{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"未选择任何内容","User organisation unit":"用户所在机构","User sub-units":"我的下属机构","User sub-x2-units":"该用户2级下属机构","Select a level":"选择一个等级","Select a group":"选择一个组","Deselect all":"取消全选","Period type":"周期类型",Year:l5e,"Select year":"选择年份",Period:c5e,"Selected Periods":"选择的期间","Relative periods":"相对期间","Fixed periods":"固定期间","No periods selected":"未选择期间",Daily:u5e,Weekly:d5e,"Weekly (Start Wednesday)":"每周（始于周二）","Weekly (Start Thursday)":"每周（始于周四）","Weekly (Start Saturday)":"每周（始于周六）","Weekly (Start Sunday)":"每周（始于周日）","Bi-weekly":"两周",Monthly:h5e,"Bi-monthly":"每两月",Quarterly:p5e,"Six-monthly":"六个月","Six-monthly April":"半年四月",Yearly:m5e,"Financial year (Start November)":"财政年（11月始）","Financial year (Start October)":"财政年度（10 月开始）","Financial year (Start July)":"财政年度（7 月开始）","Financial year (Start April)":"财政年度（4 月开始）",Today:f5e,Yesterday:g5e,"Last 3 days":"Last 3 days","Last 7 days":"最近7天","Last 14 days":"Last 14 days","Last 30 days":"最近30天","Last 60 days":"最近60天","Last 90 days":"最近90天","Last 180 days":"最近180天","This week":"本年","Last week":"上周","Last 4 weeks":"最近 4 周","Last 12 weeks":"最近 12 周","Last 52 weeks":"最近52 周","Weeks this year":"今年的周","This bi-week":"本双周","Last bi-week":"最近两周","Last 4 bi-weeks":"最近4个两周","This month":"本月","Last month":"上月","Last 3 months":"最近3个月","Last 6 months":"最近 6 个月","Last 12 months":"最近12月","Months this year":"今年的月份","This bi-month":"本双月","Last bi-month":"上两个月","Last 6 bi-months":"最近 6 个双月","Bi-months this year":"今年的双月","This quarter":"本季度","Last quarter":"最近一季","Last 4 quarters":"最近 4 个季度","Quarters this year":"今年的季度","This six-month":"本六个月","Last six-month":"最近六个月","Last 2 six-month":"最近2个六个月","This financial year":"本财年","Last financial year":"上一财政年","Last 5 financial years":"最近 5 个财政年度","This year":"今年","Last year":"去年","Last 5 years":"最近5年","Last 10 years":"最近10年",Days:y5e,Weeks:v5e,"Bi-weeks":"双周",Months:x5e,"Bi-months":"双月",Quarters:b5e,"Six-months":"六个月","Financial Years":"财政年度",Years:_5e,"Value: {{value}}":"值{{value}}","Bold text":"粗体文字","Italic text":"斜体文字","Link to a URL":"链接到 URL","Mention a user":"提及用户","Add emoji":"添加表情符号",Preview:w5e,"Back to write mode":"返回写入模式","Interpretations and details":"解释和细节","Translating to":"翻译成","Choose a locale":"选择语言环境","Base locale reference":"基本语言环境参考","Choose a locale to translate from the menu above":"从上面的菜单中选择要翻译的语言环境","Translate: {{objectName}}":"翻译：{{objectName}}","Save translations":"保存翻译","Cannot save while offline":"离线时无法保存","Could not load translations":"无法加载翻译",Retry:T5e,"Too many results. Try refining the search.":"结果太多。尝试优化搜索。","Search for a user":"搜索用户",'Searching for "{{- searchText}}"':"搜索“{{- searchText}}”","No results found":"没有结果",Series:S5e,Category:C5e,Filter:E5e,Columns:k5e,Rows:L5e,Points:N5e,"Reporting rate":"上报率","Reporting rate on time":"准时上报率","Actual reports":"实际上报","Actual reports on time":"实际准时上报","Expected reports":"预期上报",Program:I5e,"Select a program":"选择一个项目",Indicators:A5e,"Indicator group":"指标组","All groups":"所有组",Indicator:P5e,"No indicator groups found":"找不到指标组","Loading indicator groups":"加载指标组","Data element group":"数据元组","Data element":"数据元","No data element groups found":"找不到数据元素组","Loading data element groups":"加载数据元素组","Data sets":"数据集","Data set":"数据集","All data sets":"所有数据集","Loading data sets":"载入数据集","Event data items":"事件数据条目","All programs":"所有项目","Event data item":"事件数据条目","No programs found":"找不到项目","Loading programs":"正在载入项目","Program indicators":"项目指标","Program indicator":"项目指标",Calculations:M5e,Number:"数据","Formula is empty. Add items to the formula from the lists on the left.":"公式为空。将左侧列表中的项目添加到公式中。","Consecutive math operators":"连续的数学运算符","Consecutive data elements":"连续的数据元素","Starts or ends with a math operator":"以数学运算符开始或结束","Empty parentheses":"空括号","Missing right parenthesis )":"缺少右括号 ）","Missing left parenthesis (":"缺少左括号 (","Extra Small":"特小",Small:D5e,Regular:O5e,Large:R5e,"Extra Large":"特大",Left:$5e,Center:z5e,Right:F5e,Start:B5e,Middle:j5e,End:U5e,Top:G5e,Bottom:Y5e,"{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} 和{{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} 等级","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} 组","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} 等级在 {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} 组在 {{staticOuNames}}","{{percentage}}% of total x values":"占总x值的{{percentage}}％","{{percentage}}% of total y values":"占总y值的{{percentage}}％","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}}×修正的Z分数低值","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}}×修改后的Z分数高值","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}}×Z分数低","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}}×Z分数高","Not applicable":"不适用",Data:V5e,"Organisation unit":"机构","Assigned Categories":"指定的分类","Pivot table":"透视表",Area:q5e,"Stacked area":"堆积面积",Bar:W5e,"Stacked bar":"叠柱图",Column:H5e,"Year over year (column)":"逐年（列图）","Stacked column":"叠列",Gauge:X5e,Line:Z5e,"Line list":"行列表","Year over year (line)":"逐年（折线图）",Pie:K5e,Radar:Q5e,Scatter:J5e,"Single value":"单个值","Outlier table":"异常值表","All charts":"所有图表","{{seriesName}} (trend)":"{{seriesName}}（趋势）",Trend:e6e,"No legend for this series":"这个系列没有图例","and {{amount}} more...":"还有{{amount}}个...","Linear Regression":"线性回归",Target:t6e,Base:n6e,"Axis {{axisId}}":"轴{{axisId}}","{{count}} items":"{{count}} 个条目","Reset zoom":"重设缩放"},r6e="通知",a6e="",s6e="",o6e="取消",l6e="载入",c6e="分解",u6e="",d6e="移除",h6e="搜索",p6e="删除",m6e="文件",f6e="新建",g6e="保存",y6e="关闭",v6e="名称",x6e="描述",b6e="重命名",_6e="",w6e="",T6e="编辑",S6e="更新",C6e="注释",E6e="回复",k6e="",L6e="Like",N6e="分享",I6e="预览",A6e="任何人",P6e="其它",M6e="已创建",D6e="类型",O6e="打开",R6e="选项",$6e="隐藏",z6e="年",F6e="周期",B6e="每日",j6e="每周",U6e="每月",G6e="季度",Y6e="每年",V6e="今天",q6e="昨天",W6e="天数",H6e="周",X6e="月",Z6e="",K6e="年",Q6e="",J6e="",eUe="分类",tUe="过滤器",nUe="",iUe="",rUe="",aUe="项目",sUe="指标",oUe="指标",lUe="",cUe="小",uUe="定期",dUe="较大",hUe="左",pUe="",mUe="右",fUe="开始",gUe="",yUe="",vUe="",xUe="",bUe="数据",_Ue="面积",wUe="",TUe="列",SUe="",CUe="",EUe="",kUe="",LUe="",NUe="",IUe="目标",AUe="",PUe={"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"没有描述","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"",Notifications:r6e,"You're subscribed and getting updates about new interpretations.":"",Unsubscribe:a6e,"Subscribe to get updates about new interpretations.":"",Subscribe:s6e,"About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"网络错误","Data / Edit calculation":"","Data / New calculation":"","Remove item":"","Check formula":"","Calculation name":"","Shown in table headers and chart axes/legends":"","Delete calculation":"",Cancel:o6e,"The calculation can only be saved with a valid formula":"","Add a name to save this calculation":"","Save calculation":"","Are you sure you want to delete this calculation? It may be used by other visualizations.":"","Yes, delete":"","Totals only":"","Details only":"",Loading:l6e,"Data elements":"数据元","Search by data element name":"",'No data elements found for "{{- searchTerm}}"':"","No data elements found":"","Drag items here, or double click in the list, to start building a calculation formula":"","Math operators":"","Data Type":"","All types":"",Disaggregation:c6e,"No data":"无数据","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data sets found":"","No event data items found":"","No program indicators found":"",'No indicators found for "{{- searchTerm}}"':"",'No data sets found for "{{- searchTerm}}"':"",'No event data items found for "{{- searchTerm}}"':"",'No program indicators found for "{{- searchTerm}}"':"",'Nothing found for "{{- searchTerm}}"':"",Calculation:u6e,"Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"添加到 {{axisName}}","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"",Remove:d6e,"Filter dimensions":"过滤器维度","Main dimensions":"主要维度","Your dimensions":"你的维度","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"",Search:h6e,"Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"",Delete:p6e,File:m6e,New:f6e,"Open…":"",Save:g6e,"Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"",Close:y6e,"Rename {{fileType}}":"",Name:v6e,Description:x6e,Rename:b6e,"{{- objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"",map:_6e,visualization:w6e,Edit:T6e,"Write a reply":"","Post reply":"","Delete failed":"删除失败","Could not update comment":"","Enter comment text":"",Update:S6e,"Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Other people viewing this interpretation in the future may see more data.":"","Post interpretation":"",Interpretations:C6e,Reply:E6e,"{{count}} replies":"","View replies":"",Unlike:k6e,Like:L6e,Share:N6e,"See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"",Preview:I6e,"Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"",'Searching for "{{- searchText}}"':"","No results found":"没有结果","Not available offline":"","Created by":"创建自",Anyone:A6e,"Only you":"",Others:P6e,"Not supported by this app yet":"","Filter by name":"按名称过滤",Created:M6e,"Last updated":"上次更新",Type:D6e,"Clear filters":"清除过滤器","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"",Open:O6e,"Couldn't load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you're looking for.":"","Create new":"新建","Open a visualization":"","Loading visualizations":"","Couldn't load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you're looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn't load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you're looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn't load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you're looking for.":"","New line list":"",Options:R6e,Hide:$6e,"{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"已选择：{{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"未选择任何内容","User organisation unit":"用户所在机构","User sub-units":"下属机构","User sub-x2-units":"二级下属机构","Select a level":"选择一个等级","Select a group":"","Deselect all":"去全选","Period type":"周期类型",Year:z6e,"Select year":"选择年份",Period:F6e,"Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"",Daily:B6e,Weekly:j6e,"Weekly (Start Wednesday)":"每周（始于周二）","Weekly (Start Thursday)":"每周（始于周四）","Weekly (Start Saturday)":"每周（始于周六）","Weekly (Start Sunday)":"每周（始于周日）","Bi-weekly":"双周",Monthly:U6e,"Bi-monthly":"每两月",Quarterly:G6e,"Six-monthly":"六个月","Six-monthly April":"半年的四月",Yearly:Y6e,"Financial year (Start November)":"","Financial year (Start October)":"财务十月","Financial year (Start July)":"财务七月","Financial year (Start April)":"财务四月",Today:V6e,Yesterday:q6e,"Last 3 days":"最近3天","Last 7 days":"最近7天","Last 14 days":"最近14天","Last 30 days":"最近30天","Last 60 days":"最近60天","Last 90 days":"最近90天","Last 180 days":"最近180天","This week":"本周","Last week":"上周","Last 4 weeks":"最近四周","Last 12 weeks":"最近12周","Last 52 weeks":"最近52周","Weeks this year":"今年的星期","This bi-week":"这两周","Last bi-week":"最近双周","Last 4 bi-weeks":"最近四个双周","This month":"本月","Last month":"上月","Last 3 months":"最近3个月","Last 6 months":"最近六个月<br>","Last 12 months":"最近12月","Months this year":"今年的月份","This bi-month":"本两月","Last bi-month":"最近双月","Last 6 bi-months":"最近六个双月","Bi-months this year":"今年的双月","This quarter":"本季","Last quarter":"最近一季","Last 4 quarters":"最近四个季度","Quarters this year":"今年的季度","This six-month":"本半年","Last six-month":"最近六个月","Last 2 six-month":"","This financial year":"本财政年","Last financial year":"上一财政年","Last 5 financial years":"最近五个财政年","This year":"今年","Last year":"去年","Last 5 years":"最近5年","Last 10 years":"最近10年",Days:W6e,Weeks:H6e,"Bi-weeks":"",Months:X6e,"Bi-months":"",Quarters:Z6e,"Six-months":"","Financial Years":"",Years:K6e,"Interpretations and details":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"",Retry:Q6e,Series:J6e,Category:eUe,Filter:tUe,Columns:nUe,Rows:iUe,Points:rUe,"Reporting rate":"上报率","Reporting rate on time":"准时上报率","Actual reports":"实际上报","Actual reports on time":"实际准时上报","Expected reports":"预期上报",Program:aUe,"Select a program":"",Indicators:sUe,"Indicator group":"指标组","All groups":"",Indicator:oUe,"No indicator groups found":"","Loading indicator groups":"","Data element group":"数据元组","Data element":"数据元","No data element groups found":"","Loading data element groups":"","Data sets":"数据集","Data set":"数据集","All data sets":"","Loading data sets":"载入数据集","Event data items":"事件数据项","All programs":"","Event data item":"事件数据条目","No programs found":"","Loading programs":"","Program indicators":"项目指标","Program indicator":"项目指标",Calculations:lUe,Number:"数字","Formula is empty. Add items to the formula from the lists on the left.":"","Consecutive math operators":"","Consecutive data elements":"","Starts or ends with a math operator":"","Empty parentheses":"","Missing right parenthesis )":"","Missing left parenthesis (":"","Extra Small":"",Small:cUe,Regular:uUe,Large:dUe,"Extra Large":"",Left:hUe,Center:pUe,Right:mUe,Start:fUe,Middle:gUe,End:yUe,Top:vUe,Bottom:xUe,"{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"",Data:bUe,"Organisation unit":"机构","Assigned Categories":"","Pivot table":"",Area:_Ue,"Stacked area":"",Bar:wUe,"Stacked bar":"",Column:TUe,"Year over year (column)":"","Stacked column":"",Gauge:SUe,Line:CUe,"Line list":"","Year over year (line)":"",Pie:EUe,Radar:kUe,Scatter:LUe,"Single value":"","All charts":"","{{seriesName}} (trend)":"",Trend:NUe,"No legend for this series":"","and {{amount}} more...":"","Linear Regression":"",Target:IUe,Base:AUe,"Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""},Ni="default";dt.addResources("ar",Ni,jV);dt.addResources("ar_EG",Ni,EW);dt.addResources("ar_IQ",Ni,dX);dt.addResources("ckb",Ni,ZZ);dt.addResources("cs",Ni,CQ);dt.addResources("da",Ni,eee);dt.addResources("en",Ni,ene);dt.addResources("es",Ni,Nie);dt.addResources("es_419",Ni,rae);dt.addResources("fr",Ni,Mse);dt.addResources("id",Ni,lle);dt.addResources("km",Ni,$ce);dt.addResources("lo",Ni,hde);dt.addResources("my",Ni,jhe);dt.addResources("nb",Ni,gme);dt.addResources("ne",Ni,Vfe);dt.addResources("nl",Ni,bye);dt.addResources("or",Ni,axe);dt.addResources("prs",Ni,Dbe);dt.addResources("ps",Ni,c_e);dt.addResources("pt",Ni,zwe);dt.addResources("pt_BR",Ni,pTe);dt.addResources("ro",Ni,QSe);dt.addResources("ru",Ni,kEe);dt.addResources("si",Ni,nLe);dt.addResources("sv",Ni,ANe);dt.addResources("tet",Ni,sIe);dt.addResources("tg",Ni,OAe);dt.addResources("th",Ni,uMe);dt.addResources("uk",Ni,FDe);dt.addResources("ur",Ni,mRe);dt.addResources("uz_Cyrl",Ni,b3e);dt.addResources("uz_Latn",Ni,X$e);dt.addResources("uz_UZ_Cyrl",Ni,SFe);dt.addResources("uz_UZ_Latn",Ni,JBe);dt.addResources("vi",Ni,L4e);dt.addResources("zh",Ni,i6e);dt.addResources("zh_CN",Ni,PUe);const MUe="pe",DUe="520px",OUe="520px",RUe="512px",al=[".transfer-container.jsx-1438110436{min-width:800px;}",`.filterContainer.jsx-1438110436{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:${Bt.dp12};margin-top:${Bt.dp8};}`,`.emptyList.jsx-1438110436{text-align:center;font-size:14px;line-height:16px;margin:${Bt.dp24} 0 0;color:${je.grey700};}`,".rightHeader.jsx-1438110436{font-size:14px;font-weight:400;}",`.leftHeader.jsx-1438110436{padding:${Bt.dp12} ${Bt.dp4};}`,`.info-container.jsx-1438110436{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:${Bt.dp8};padding:${Bt.dp8};background-color:${je.grey200};border-radius:3px;}`,`.info-text.jsx-1438110436{padding-left:${Bt.dp8};color:${je.grey900};font-size:12px;line-height:16px;}`,`.calculation-button.jsx-1438110436{margin:${Bt.dp8} 0;}`];al.__hash="1438110436";const $Ue="أسبوع",zUe={"Bi-Week":"كل اسبوعين",Week:$Ue},FUe="Týden",BUe={"Bi-Week":"Dvoutýden",Week:FUe},jUe="Week",UUe={'Couldn\'t find a monthly period for weekly period id "{{periodId}}"':`Couldn't find a monthly period for weekly period id "{{periodId}}"`,'Couldn\'t find a weekly period for weekly period id "{{periodId}}"':`Couldn't find a weekly period for weekly period id "{{periodId}}"`,'Couldn\'t handle unknown period id "{{periodId}}"':`Couldn't handle unknown period id "{{periodId}}"`,'Could not find a period type for period id "{{periodId}}"':'Could not find a period type for period id "{{periodId}}"','Could not determine a period type for period id "{{periodId}}"':'Could not determine a period type for period id "{{periodId}}"','Couldn\'t find a period type for weekly period id "{{periodId}}"':`Couldn't find a period type for weekly period id "{{periodId}}"`,"Bi-Week":"Bi-Week",Week:jUe,'Date string is invalid, received "{{dateString}}"':'Date string is invalid, received "{{dateString}}"',"Date string format does not match the specified format. Expected {{format}} but got {{detectedFormat}}.":"Date string format does not match the specified format. Expected {{format}} but got {{detectedFormat}}.",'Unrecognized date, received "{{date}}"':'Unrecognized date, received "{{date}}"',"Year {{year}} is out of range.":"Year {{year}} is out of range.","Month {{month}} is out of range | 1 <= {{month}} <= 12.":"Month {{month}} is out of range | 1 <= {{month}} <= 12.","Day {{day}} is out of range | 1 <= {{day}} <= {{daysInMonth}}.":"Day {{day}} is out of range | 1 <= {{day}} <= {{daysInMonth}}.","Date is not given":"Date is not given","Date {{dateString}} is less than the minimum allowed date {{minDateString}}.":"Date {{dateString}} is less than the minimum allowed date {{minDateString}}.","Date {{dateString}} is greater than the maximum allowed date {{maxDateString}}.":"Date {{dateString}} is greater than the maximum allowed date {{maxDateString}}."},GUe="Semana",YUe={"Bi-Week":"Quincenal",Week:GUe},VUe="Semana",qUe={"Bi-Week":"Cada dos semanas",Week:VUe},WUe="Semaine",HUe={"Bi-Week":"Bi-hebdomadaire",Week:WUe},XUe="Minggu",ZUe={"Bi-Week":"",Week:XUe},KUe="ອາທິດ",QUe={"Bi-Week":"ສອງອາທິດຕໍ່ຄັ້ງ",Week:KUe},JUe="Uke",e9e={"Bi-Week":"Toukentlig",Week:JUe},t9e="Week",n9e={"Bi-Week":"",Week:t9e},i9e="هفته",r9e={"Bi-Week":"",Week:i9e},a9e="اونۍ",s9e={"Bi-Week":"",Week:a9e},o9e="Semana",l9e={"Bi-Week":"Bimensal",Week:o9e},c9e="Semana",u9e={"Bi-Week":"",Week:c9e},d9e="Неделя",h9e={"Bi-Week":"",Week:d9e},p9e="සතිය",m9e={"Bi-Week":"",Week:p9e},f9e="Тиждень",g9e={"Bi-Week":"",Week:f9e},y9e="ہفتہ",v9e={"Bi-Week":"",Week:y9e},x9e="Ҳафта",b9e={"Bi-Week":"Жуфт-Ҳафта",Week:x9e},_9e="Hafta",w9e={"Bi-Week":"Juft-Hafta",Week:_9e},T9e="Tuần",S9e={"Bi-Week":"Kỳ 2 tuần này",Week:T9e},C9e="周",E9e={"Bi-Week":"两周",Week:C9e},k9e="周",L9e={"Bi-Week":"",Week:k9e},la="default";dt.addResources("ar",la,zUe);dt.addResources("cs",la,BUe);dt.addResources("en",la,UUe);dt.addResources("es",la,YUe);dt.addResources("es_419",la,qUe);dt.addResources("fr",la,HUe);dt.addResources("id",la,ZUe);dt.addResources("lo",la,QUe);dt.addResources("nb",la,e9e);dt.addResources("nl",la,n9e);dt.addResources("prs",la,r9e);dt.addResources("ps",la,s9e);dt.addResources("pt",la,l9e);dt.addResources("pt_BR",la,u9e);dt.addResources("ru",la,h9e);dt.addResources("si",la,m9e);dt.addResources("uk",la,g9e);dt.addResources("ur",la,v9e);dt.addResources("uz_UZ_Cyrl",la,b9e);dt.addResources("uz_UZ_Latn",la,w9e);dt.addResources("vi",la,S9e);dt.addResources("zh",la,E9e);dt.addResources("zh_CN",la,L9e);const TM={ethiopian:"ethiopic",coptic:"coptic",gregorian:"gregory",islamic:"islamic",iso8601:"iso8601",nepali:"nepali",thai:"buddhist",persian:"persian"},N9e={nepali:{"ne-NP":{monthNames:["बैशाख","जेठ","असार","साउन","भदौ","असोज","कार्तिक","मंसिर","पौष","माघ","फागुन","चैत"],dayNamesShort:["सोम","मंगल","बुध","बिही","शुक्र","शनि","आइत"],numbers:["०","१","२","३","४","५","६","७","८","९","१०","११","१२","१३","१४","१५","१६","१७","१८","१९","२०","२१","२२","२३","२४","२५","२६","२७","२८","२९","३०","३१","३२"]},"en-NP":{monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],dayNamesShort:["Som","Mangl","Budha","Bihi","Shukra","Shani","Aaita"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"]}}},sl={1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,32,31,32,31,30,30,30,29,30,29,31],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]};class I9e extends Or.Calendar{constructor(){super("iso8601")}toString(){return"nepali"}year(e){var t;const{isoYear:i,isoMonth:r,isoDay:a}=e.getISOFields();return(t=bw({year:i,month:r,day:a}))===null||t===void 0?void 0:t.year}eraYear(e){return this.year(e)}daysInMonth(e){const{year:t,month:i}=e;return sl[t][i]}month(e){var t;const{isoYear:i,isoMonth:r,isoDay:a}=e.getISOFields();return(t=bw({year:i,month:r,day:a}))===null||t===void 0?void 0:t.month}monthCode(e){const{month:t}=e;return SM(t)}day(e){const{isoYear:t,isoMonth:i,isoDay:r}=e.getISOFields(),{day:a}=bw({year:t,month:i,day:r});return a}dateFromFields(e){const{year:t,day:i,month:r}=xw({year:e.year,month:e.month,day:e.day});return new Or.PlainDate(t,r,i,this)}yearMonthFromFields(e){const{year:t,day:i,month:r}=xw({year:e.year,month:e.month,day:e.day});return new Or.PlainYearMonth(t,r,this,i)}monthDayFromFields(e){const{year:t,day:i,month:r}=xw({year:e.year,month:e.month,day:e.day});return new Or.PlainMonthDay(i,r,this,t)}}const y1=Object.keys(sl),Fb=Number(y1[0]),Bb=Number(y1[y1.length-1]),xw=n=>{let{year:e}=n;if(e<Fb||e>Bb)throw new Error(`Conversions are only possible between ${Fb} and ${Bb} in Nepali calendar`);const{month:t,day:i=1}=n;let r=0,a=t;const o=e-(t>9||a===9&&i>=sl[e][0]?56:57);for(t!==9&&(r=i,a--);a!==9;)a<=0&&(a=12,e--),r+=sl[e][a],a--;t===9?(r+=i-sl[e][0],r<0&&(r+=Or.PlainDate.from({year:o,day:1,month:1}).daysInYear)):r+=sl[e][9]-sl[e][0];const s=Or.PlainDate.from({year:o,month:1,day:1}).add({days:r});return{year:s.year,month:s.month,monthCode:SM(s.month),day:s.day}},bw=n=>{const e=Or.PlainDate.from({year:n.year,month:n.month,day:n.day}),t=e.year,i=e.dayOfYear;let r=t+56;if(!sl[r])throw new Error(`Conversions are only possible between ${Fb} and ${Bb} in Nepali calendar`);let a=9;const o=sl[r][0];let s=sl[r][a]-o+1;for(;i>s;){var h;a++,a>12&&(a=1,r++),s+=(h=sl[r])===null||h===void 0?void 0:h[a]}if(!sl[r])throw new Error(`Conversions are only possible between ${Fb} and ${Bb} in Nepali calendar`);const p=sl[r][a]-(s-i);return{year:r,month:a,day:p}};function SM(n){return`M${n.toString().padStart(2,"0")}`}const cS={nepali:{calendar:new I9e,locales:N9e.nepali,defaultLocale:"en-NP"}},A9e=/^(?:(\d{4})([-./])(\d{2})(\2)(\d{2})|(\d{2})([-./])(\d{2})(\7)(\d{4}))$/;function P9e(n,e){const t=n.match(A9e);if(!t)throw new Error(dt.t('Date string is invalid, received "{{dateString}}"',{dateString:n}));let i,r,a,o;t[1]?(i=t[1],r=t[3],a=t[5],o="YYYY-MM-DD"):(a=t[6],r=t[8],i=t[10],o="DD-MM-YYYY");const s=parseInt(i,10),h=parseInt(r,10),p=parseInt(a,10);return{year:s,month:h,day:p,format:o}}const CM=function(){var n,e,t,i,r,a;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"gregory",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:((n=Intl)===null||n===void 0||(e=n.DateTimeFormat)===null||e===void 0||(t=(i=e.call(n)).resolvedOptions)===null||t===void 0||(r=t.call(i))===null||r===void 0?void 0:r.timeZone)||"UTC";const h=Or.Now.zonedDateTime("gregory",s);let p=(a=TM[o])!==null&&a!==void 0?a:o;return ed(p)&&(p=EM(p)),Or.ZonedDateTime.from(h).withCalendar(p)},ed=n=>!!cS[n],Ad=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(n).padStart(e,"0")},$l=(n,e,t)=>{var i;const r=(i=n.eraYear)!==null&&i!==void 0?i:n.year,a=Ad(n.month);let o=n.day;e==="endOfMonth"?o=n.daysInMonth:e==="startOfMonth"&&(o=1);const s=Ad(o);return t==="DD-MM-YYYY"?`${s}-${a}-${r}`:`${r}-${a}-${s}`},EM=n=>{var e;if(!ed(n))return n;const i=(e=cS[n])===null||e===void 0?void 0:e.calendar;if(!i)throw new Error(`No implemenation found for custom calendar ${n}`);return i},M9e=["adlm","ahom","arab","arabext","armn","armnlow","bali","beng","bhks","brah","cakm","cham","cyrl","deva","ethi","finance","fullwide","geor","gong","gonm","grek","greklow","gujr","guru","hanidays","hanidec","hans","hansfin","hant","hantfin","hebr","hmng","hmnp","java","jpan","jpanfin","jpanyear","kali","khmr","knda","lana","lanatham","laoo","latn","lepc","limb","mathbold","mathdbl","mathmono","mathsanb","mathsans","mlym","modi","mong","mroo","mtei","mymr","mymrshan","mymrtlng","native","newa","nkoo","olck","orya","osma","rohg","roman","romanlow","saur","shrd","sind","sinh","sora","sund","takr","talu","taml","tamldec","telu","thai","tirh","tibt","traditio","vaii","wara","wcho"],D9e=(n,e)=>{const t=Object.keys(n).find(i=>{var r,a;return((r=i.split("-"))===null||r===void 0||(a=r[0])===null||a===void 0?void 0:a.toLowerCase())===e});if(t)return n[t]},uS=(n,e)=>{var t,i;const r=cS[n];if(!r)return;const a=r.locales||{},o=(t=(i=e&&(a==null?void 0:a[e]))!==null&&i!==void 0?i:D9e(a,e))!==null&&t!==void 0?t:a==null?void 0:a[r.defaultLocale];if(!o)throw new Error(`no localisation found for custom calendar ${n}. Requested locale: ${e}, Default locale ${r.defaultLocale}`);return o},O9e=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{dateStyle:"full"};if(!e.calendar)throw new Error("no calendar provided to localise function");if(!n)throw new Error("a date must be provided to localiseDateLabel");const i=ed(e.calendar),r=n instanceof Or.ZonedDateTime?n==null?void 0:n.toPlainDate():n;return i?$l(n):r.toLocaleString(e.locale,{calendar:e.calendar,dateStyle:t.dateStyle}).toString()},R9e=(n,e)=>{var t;if(!e.calendar)throw new Error("no calendar provided to localise function");const i=ed(e.calendar),r=uS(e.calendar,e.locale);return i?(r==null||(t=r.numbers)===null||t===void 0?void 0:t[n.day])||n.day:n.toPlainDate().toLocaleString(e.locale,{calendar:e.calendar,numberingSystem:M9e.includes(e.numberingSystem)?e.numberingSystem:void 0,day:"numeric"})},$9e=(n,e,t)=>{if(!e.calendar)throw new Error("no calendar provided to localise function");const i=ed(e.calendar),r=uS(e.calendar,e.locale);return i?r==null?void 0:r.monthNames[n.month-1]:n.toLocaleString(e.locale,t)},z9e=(n,e)=>{if(!e.calendar)throw new Error("no calendar provided to localise function");const t=ed(e.calendar),i=uS(e.calendar,e.locale),r=i==null?void 0:i.dayNamesShort[n.dayOfWeek-1];return t&&r?r:n.toPlainDate().toLocaleString(e.locale,{weekday:e.weekDayFormat,calendar:e.calendar})},F9e=(n,e,t)=>{if(!e.calendar)throw new Error("no calendar provided to localise function");return ed(e.calendar)?n.year:n.toPlainYearMonth().toLocaleString(e.locale,t)},ip={localiseYear:F9e,localiseDateLabel:O9e,localiseWeekLabel:R9e,localiseMonth:$9e,localiseWeekDayLabel:z9e},B9e=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const[e,t,i]=n.replace(/_/g,"-").split("-");let r=e;i&&(r=`${r}-${i}`),t&&(r=`${r}-${t}`);try{const a=Intl.DateTimeFormat.supportedLocalesOf(r);return a&&a.length===1?r:void 0}catch{return}},j9e=n=>{let{date:e,calendar:t}=n;const{year:i,month:r,day:a}=P9e(e);return Or.PlainDate.from({year:i,month:r,day:a,calendar:t})},Qd=n=>{let{date:e,calendar:t}=n;if(typeof e=="string")return j9e({date:e,calendar:t});if(e instanceof Date)return Or.PlainDate.from({year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),calendar:t});if(e instanceof Or.PlainDate)return Or.PlainDate.from({year:e.year,month:e.month,day:e.day,calendar:t});throw new Error(dt.t('Unrecognized date, received "{{date}}"',{date:e}))},es=["DAILY","WEEKLY","WEEKLYMON","WEEKLYTUE","WEEKLYWED","WEEKLYTHU","WEEKLYFRI","WEEKLYSAT","WEEKLYSUN","BIWEEKLY","MONTHLY","BIMONTHLY","QUARTERLY","QUARTERLYJAN","QUARTERLYFEB","QUARTERLYMAR","QUARTERLYAPR","QUARTERLYMAY","QUARTERLYJUN","QUARTERLYJUL","QUARTERLYAUG","QUARTERLYSEP","QUARTERLYOCT","QUARTERLYNOV","QUARTERLYDEC","SIXMONTHLY","SIXMONTHLYJAN","SIXMONTHLYFEB","SIXMONTHLYMAR","SIXMONTHLYAPR","SIXMONTHLYMAY","SIXMONTHLYJUN","SIXMONTHLYJUL","SIXMONTHLYAUG","SIXMONTHLYSEP","SIXMONTHLYOCT","SIXMONTHLYNOV","SIXMONTHLYDEC","YEARLY","FYJAN","FYFEB","FYMAR","FYAPR","FYMAY","FYJUN","FYJUL","FYAUG","FYSEP","FYOCT","FYNOV","FYDEC"],U9e=es.filter(n=>n.match(/WEEKLY/)),kM=es.filter(n=>n.match(/MONTHLY|QUARTERLY|SIXMONTHLY/)),dv=es.filter(n=>n.match(/QUARTERLY/)),hv=es.filter(n=>n.match(/SIXMONTHLY/)),G9e=["MONTHLY","BIMONTHLY","QUARTERLY","QUARTERLYJAN","SIXMONTHLY","SIXMONTHLYJAN"],Y9e=es.filter(n=>n.match(/(QUARTERLY|SIXMONTHLY)[A-Z]/)),LM=kM.filter(n=>n!=="MONTHLY"),V9e=es.filter(n=>n.match(/^(YEARLY|FY[A-Z]{3})/)),q9e=es.filter(n=>n.match(/^FY[A-Z]{3}$/));[...G9e,...es.filter(n=>n.match(/JAN$/))];const W9e=es.filter(n=>n.match(/FEB$/)),H9e=es.filter(n=>n.match(/MAR$/)),X9e=es.filter(n=>n.match(/APR$/)),Z9e=es.filter(n=>n.match(/MAY$/)),K9e=es.filter(n=>n.match(/JUN$/)),Q9e=es.filter(n=>n.match(/JUL$/)),J9e=es.filter(n=>n.match(/AUG$/)),e8e=es.filter(n=>n.match(/SEP$/)),t8e=es.filter(n=>n.match(/OCT$/)),n8e=es.filter(n=>n.match(/NOV$/)),i8e=es.filter(n=>n.match(/DEC/)),{localiseDateLabel:r8e}=ip,a8e=n=>{let{date:e,calendar:t,locale:i}=n;const r=e.year,a=String(e.month).padStart(2,"0"),o=String(e.day).padStart(2,"0"),s=`${r}${a}${o}`,h=r8e(e,{calendar:t,locale:i},{dateStyle:"long"});return{periodType:"DAILY",id:s,iso:s,displayName:h,name:$l(e),startDate:$l(e),endDate:$l(e)}},s8e=n=>{let{year:e,calendar:t,endsBefore:i,locale:r}=n;const a=i?Qd({calendar:t,date:i}):null,o=Or.PlainDate.from({year:e,month:1,day:1,calendar:t}),s=[];for(let h=0;h<o.daysInYear;h++){const p=o.add({days:h});if(a&&Or.PlainDate.compare(p,a)>-1)break;const f=a8e({date:p,calendar:t,locale:r});s.push(f)}return s},xf=n=>W9e.includes(n)?"FEB":H9e.includes(n)?"MAR":X9e.includes(n)?"APR":Z9e.includes(n)?"MAY":K9e.includes(n)?"JUN":Q9e.includes(n)?"JUL":J9e.includes(n)?"AUG":e8e.includes(n)?"SEP":t8e.includes(n)?"OCT":n8e.includes(n)?"NOV":i8e.includes(n)?"DEC":"JAN",wp={JAN:{value:1,name:"January"},FEB:{value:2,name:"February"},MAR:{value:3,name:"March"},APR:{value:4,name:"April"},MAY:{value:5,name:"May"},JUN:{value:6,name:"June"},JUL:{value:7,name:"July"},AUG:{value:8,name:"August"},SEP:{value:9,name:"September"},OCT:{value:10,name:"October"},NOV:{value:11,name:"November"},DEC:{value:12,name:"December"}},o8e=n=>{let{periodType:e,month:t,year:i,calendar:r,locale:a}=n;const o=h8e({periodType:e,month:t.month,monthsInYear:t.monthsInYear}),s=c8e(e),h=t.add({months:s}),p=l8e({periodType:e,currentMonth:t,year:i,index:o});t.calendar==="ethiopic"&&console.warn("todo: confirm the special cases for the 13th month with Abyot, then update the start/end dates for Ethiopic calendar");const f=Or.PlainDate.from({year:h.year,month:h.month,day:1,calendar:h.calendar}).subtract({days:1}),y=u8e({periodType:e,month:t,locale:a,calendar:r,nextMonth:h.subtract({months:1}),index:o});return{periodType:e,id:p,iso:p,name:y,displayName:y,startDate:$l(t,"startOfMonth"),endDate:$l(f,"endOfMonth")}},l8e=n=>{let{periodType:e,currentMonth:t,year:i,index:r}=n;if(e==="BIMONTHLY")return`${i}${Ad(r)}B`;if(e==="QUARTERLY")return`${i}Q${r}`;if(e==="SIXMONTHLY")return`${i}S${r}`;if(dv.includes(e)){const a=wp[xf(e)].name;return`${i}${a}Q${r}`}if(hv.includes(e)){const a=wp[xf(e)].name;return`${i}${a}S${r}`}return`${i}${Ad(t.month)}`},c8e=n=>{if(hv.includes(n))return 6;if(dv.includes(n))return 3;if(n==="MONTHLY")return 1;if(n==="BIMONTHLY")return 2;throw new Error(`unrecognised monthly period type ${n}`)},u8e=n=>{const{periodType:e,month:t,nextMonth:i,calendar:r,locale:a}=n;if(ed(r))return d8e(n);const o={month:"long",year:"numeric",calendar:r},s={month:"long",calendar:r};let h="";if(LM.includes(e)){const p=t.year===i.year?s:o;h=`${t.toLocaleString(a,p)} - ${i.toLocaleString(a,o)}`}else h=`${t.toLocaleString(a,o)}`;return h=h.replace(/ERA\d+\s*/g,"").trim(),h},d8e=n=>{let{periodType:e,month:t,nextMonth:i,calendar:r,locale:a}=n,o="";if(LM.includes(e)){const s=t.year!==i.year;o=`${ip.localiseMonth(t,{locale:a,calendar:r},{})}${s?` ${t.year}`:""} - ${ip.localiseMonth(i,{locale:a,calendar:r},{})} ${i.year}`}else o=`${ip.localiseMonth(t,{locale:a,calendar:r},{})} ${i.year}`;return o},h8e=n=>{let{periodType:e,month:t,monthsInYear:i}=n;if(e==="MONTHLY")return t;if(e==="BIMONTHLY"){if(t%2===0)throw new Error(`Even numbers can't be a month for BIMONTHLY period type, received "${t}"`);return Math.ceil(t/2)}if(dv.includes(e))return m8e(e,t,i);if(hv.includes(e))return p8e(e,t,i);throw new Error(`Unrecognized period type "${e}"`)},NM=(n,e)=>[...Array(e-n+1).fill(null).map((i,r)=>r+n),1,2,3,4,5,6,7,8,9,10,11,12].slice(0,12),IM=(n,e)=>{const t=[];for(let i=0;i<12;i+=e)t.push(n.slice(i,i+e));return t},p8e=(n,e,t)=>{const i=xf(n),r=wp[i].value,a=NM(r,t);return IM(a,6)[1].includes(e)?2:1},m8e=(n,e,t)=>{const i=xf(n),r=wp[i].value,a=NM(r,t),o=IM(a,3);return o[1].includes(e)?2:o[2].includes(e)?3:o[3].includes(e)?4:1},dS=n=>{let{period:e,date:t,calendar:i}=n;const r=Qd({calendar:i,date:e.startDate}),a=Qd({calendar:i,date:e.endDate}),o=Or.PlainDate.compare(t,r)<1,s=Or.PlainDate.compare(r,t)===-1,h=Or.PlainDate.compare(t,a)<1;return o||s&&h},f8e=n=>{let{year:e,calendar:t,periodType:i,endsBefore:r,locale:a}=n,o=Or.PlainDate.from({year:e,month:y8e(i),day:t.toString()==="nepali"?14:1,calendar:t});const s=[];for(;o.year===e||v8e(i,s.length);){const h=x8e({periodType:i,currentMonth:o.month,year:e,calendar:t});if(!g8e(t,o)){const y=o8e({periodType:i,month:o,year:e,calendar:t,locale:a});if(r&&dS({period:y,date:r,calendar:t}))break;s.push(y)}const f=o.add({months:h});o=Qd({date:f,calendar:t})}return s},g8e=(n,e)=>n==="ethiopic"&&e.month===13,y8e=n=>{if(Y9e.includes(n)){const e=xf(n);return wp[e].value}return 1},v8e=(n,e)=>hv.includes(n)?e<2:dv.includes(n)?e<4:!1,x8e=n=>{let{periodType:e}=n;if(hv.includes(e))return 6;if(dv.includes(e))return 3;if(e==="MONTHLY")return 1;if(e==="BIMONTHLY")return 2;throw new Error(`unrecognised monthly period type ${e}`)},bd={Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6,Sunday:7},b8e=n=>{let{year:e,calendar:t,periodType:i,startingDay:r,endsBefore:a}=n;const o=_8e(i,r);let s=w8e({year:e,calendar:t,periodType:i,startingDay:o});const h=[];let p=1;const f=i==="BIWEEKLY"?13:6;do{const y=s.add({days:f});if(a&&dS({period:{startDate:$l(s),endDate:$l(y)},date:a,calendar:t}))break;const g=S8e({periodType:i,startingDay:o,year:e,weekIndex:p});if(!(y.year===e+1&&y.day>=4)){const _=C8e({periodType:i,date:s,nextWeek:y,weekIndex:p});h.push({periodType:i,id:g,iso:g,name:_,displayName:_,startDate:$l(s),endDate:$l(y)})}s=Qd({date:y,calendar:t}).add({days:1}),p++}while(s.year===e);return h},_8e=(n,e)=>{switch(n){case"WEEKLYMON":return bd.Monday;case"WEEKLYTUE":return bd.Tuesday;case"WEEKLYWED":return bd.Wednesday;case"WEEKLYTHU":return bd.Thursday;case"WEEKLYFRI":return bd.Friday;case"WEEKLYSAT":return bd.Saturday;case"WEEKLYSUN":return bd.Sunday;case"WEEKLY":case"BIWEEKLY":default:return e||bd.Monday}},w8e=n=>{const{year:e,calendar:t,startingDay:i}=n,r=Or.PlainDate.from({year:e,month:1,day:4,calendar:t}),a=r.dayOfWeek-i;return a>0?r.subtract({days:a}):a<0?r.subtract({days:a+7}):r},T8e={1:"",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat",7:"Sun"},S8e=n=>{let{startingDay:e,periodType:t,year:i,weekIndex:r}=n;const a=t==="BIWEEKLY"?"BiW":"W";return`${i}${T8e[e]}${a}${r}`},C8e=n=>{let{periodType:e,date:t,nextWeek:i,weekIndex:r}=n;const{year:a,month:o,day:s}=t,{year:h,month:p,day:f}=i;return`${e==="BIWEEKLY"?dt.t("Bi-Week"):dt.t("Week")} ${r} - ${a}-${Ad(o)}-${Ad(s)} - ${h}-${Ad(p)}-${Ad(f)}`},AM=n=>{if(n==="YEARLY")return 1;const e=xf(n),t=wp[e];return(t==null?void 0:t.value)||1},PM={1:"",2:"Feb",3:"March",4:"April",5:"May",6:"Jun",7:"July",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},E8e=n=>{let{periodType:e,year:t,locale:i,calendar:r}=n;const a=AM(e),o=k8e({periodType:e,year:t,month:a}),s=a.toString().padStart(2,"0"),h=Qd({date:`${t}-${s}-01`,calendar:r}),p=Qd({date:`${t+1}-${s}-01`,calendar:r}).subtract({days:1}),f=N8e(e,h,{locale:i,calendar:r});return{periodType:e,id:o,iso:o,name:f,displayName:f,startDate:$l(h,"startOfMonth"),endDate:$l(p,"endOfMonth")}},k8e=n=>{let{periodType:e,year:t,month:i}=n;if(e==="YEARLY")return t.toString();if(L8e(e)){const r=PM[i];return`${t}${r}`}throw new Error(`can not build value for unrecognised yearly type "${e}"`)},L8e=n=>q9e.includes(n),N8e=(n,e,t)=>{if(n==="YEARLY")return e.year.toString();if(ed(t.calendar))return I8e(e,t);const i={month:"long",year:"numeric",calendar:t.calendar},r=ip.localiseMonth(e,t,i),a=ip.localiseMonth(e.add({months:e.monthsInYear-1}),t,i);let o=`${r} - ${a}`;return o=o.replace(/ERA\d+\s*/g,"").trim(),o},I8e=(n,e)=>{const t=a=>`${ip.localiseMonth(a,e,{})} ${a.year}`,i=Or.PlainDate.from({year:n.year+1,month:n.month-1,day:1,calendar:e.calendar});return`${t(n)} - ${t(i)}`},A8e=n=>{let{year:e,calendar:t,periodType:i,endsBefore:r,yearsCount:a,locale:o}=n;const s=AM(i),h=Or.PlainDate.from({year:e,month:s,day:t.toString()==="nepali"?14:1,calendar:t}),p=Or.PlainDate.from({day:1,month:1,year:1970,calendar:"gregory"}).withCalendar(t),f=p.eraYear||p.year,y=[],g=a??e-f+1;for(let _=0;_<g;_++){const b=h.year-_,T=E8e({periodType:i,year:b,locale:o,calendar:t});r&&dS({period:T,date:r,calendar:t})||y.push(T)}return y},P8e=n=>{var e,t;let{periodType:i,year:r,endsBefore:a,calendar:o,locale:s="en",yearsCount:h=10,startingDay:p=1}=n,f;if(typeof r=="number")f=r;else if(!isNaN(r)&&!isNaN(parseInt(r)))f=parseInt(r);else throw new Error("year must be a number");const y=EM((e=TM[o])!==null&&e!==void 0?e:o),g=(t=B9e(s))!==null&&t!==void 0?t:"en",_=a?Qd({calendar:y,date:a}):void 0;if(U9e.includes(i))return b8e({year:f,periodType:i,calendar:y,startingDay:p,endsBefore:_});if(V9e.includes(i))return A8e({year:f,periodType:i,locale:g,calendar:y,endsBefore:_,yearsCount:h});if(kM.includes(i))return f8e({year:f,periodType:i,locale:g,calendar:y,endsBefore:_});if(i==="DAILY")return s8e({year:f,locale:g,calendar:y,endsBefore:_});throw new Error(`can not generate period for unrecognised period type "${i}"`)};Object.values(PM).slice(1).join("|");Object.values(wp).map(n=>{let{name:e}=n;return e}).join("|");const M8e=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Se.createElement("path",{fill:"#6E7A8A",d:"M8,4 C10.209139,4 12,5.790861 12,8 C12,10.209139 10.209139,12 8,12 C5.790861,12 4,10.209139 4,8 C4,5.790861 5.790861,4 8,4 Z M8,5 C6.34314575,5 5,6.34314575 5,8 C5,9.65685425 6.34314575,11 8,11 C9.65685425,11 11,9.65685425 11,8 C11,6.34314575 9.65685425,5 8,5 Z M8.5,6 L8.5,7.5 L9.5,7.5 L9.5,8.5 L7.5,8.5 L7.5,6 L8.5,6 Z"})),Uh=[`.wrapper.jsx-1302852599:last-child{margin-bottom:${Bt.dp4};}`,`.chip.jsx-1302852599{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;background:${je.grey200};font-size:14px;line-height:16px;padding:2px ${Bt.dp8} 2px ${Bt.dp4};margin:${Bt.dp4} ${Bt.dp8} 0 ${Bt.dp8};border-radius:3px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`,`.chip.jsx-1302852599:hover{background:${je.grey300};}`,`.selected.jsx-1302852599{background:${Wt.secondary100};color:${Wt.secondary900};}`,`.selected.jsx-1302852599 .icon path{fill:${Wt.secondary700};}`,".selected.jsx-1302852599:hover{background:#c9edeb;}",`.highlighted.jsx-1302852599,.highlighted.jsx-1302852599:hover{background:${Wt.secondary800};color:${je.white};}`,`.highlighted.jsx-1302852599 .icon path{fill:${je.white};}`,".disabled.jsx-1302852599{opacity:0.3;cursor:not-allowed;}",".inactive.jsx-1302852599{opacity:0.3;}",".icon.jsx-1302852599,.label.jsx-1302852599{line-height:18px;}",`.icon.jsx-1302852599{margin-right:${Bt.dp4};display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;vertical-align:text-bottom;padding-top:1px;}`,".label.jsx-1302852599{font-size:14px;}",`.edit.jsx-1302852599{height:16px;margin-top:1px;margin-left:${Bt.dp8};cursor:pointer;}`,".edit.jsx-1302852599:hover{background-color:rgba(0,0,0,0.12);outline:1px solid rgba(0,0,0,0.12);border-radius:3px;}",".highlighted.jsx-1302852599 .edit.jsx-1302852599:hover{background-color:rgba(255,255,255,0.12);outline:1px solid rgba(255,255,255,0.12);}"];Uh.__hash="1302852599";const MM=n=>{let{disabled:e,label:t,highlighted:i,selected:r,onClick:a,onDoubleClick:o,value:s,icon:h,active:p,tooltipText:f,dataTest:y,onEditClick:g}=n;const _=()=>Se.createElement("div",{"data-test":`${y}-content`,onClick:b=>{e||a({label:t,value:s},b)},onDoubleClick:b=>{e||o({label:t,value:s},b)},className:`jsx-${Uh.__hash} `+(Nr("chip",{highlighted:i,disabled:e,selected:r,inactive:p!==void 0&&!p})||"")},Se.createElement("span",{className:`jsx-${Uh.__hash} icon`},h),Se.createElement("span",{className:`jsx-${Uh.__hash} label`},t),g&&Se.createElement("span",{onClick:b=>{b.stopPropagation(),g()},"data-test":`${y}-edit-button`,className:`jsx-${Uh.__hash} edit`},Se.createElement(vN,null)),Se.createElement(Pt,{id:Uh.__hash},Uh));return Se.createElement("div",{"data-value":s,"data-test":y,className:"wrapper"},f?Se.createElement(Hb,{key:`${s}`,content:f,placement:"top",openDelay:750,closeDelay:150},_()):_())};MM.propTypes={label:de.string.isRequired,value:de.string.isRequired,active:de.bool,dataTest:de.string,disabled:de.bool,highlighted:de.bool,icon:de.node,selected:de.bool,tooltipText:de.string,onClick:de.func,onDoubleClick:de.func,onEditClick:de.func};const Pd=[".leftSection.jsx-2872988609{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".leftSection.jsx-2872988609>.filterElement,.rightSection.jsx-2872988609>.filterElement{margin:0;}",`.rightSection.jsx-2872988609{width:120px;margin-left:${Bt.dp8};}`];Pd.__hash="2872988609";const DM="DAILY",OM="WEEKLY",D8e="WEEKLYWED",O8e="WEEKLYTHU",R8e="WEEKLYSAT",$8e="WEEKLYSUN",z8e="WEEKS_THIS_YEAR",RM="BIWEEKLY",Om="MONTHLY",$M="BIMONTHLY",jb="QUARTERLY",zM="SIXMONTHLY",F8e="SIXMONTHLYAPR",FM="YEARLY",B8e="FINANCIAL",j8e="FYNOV",U8e="FYOCT",G8e="FYJUL",Y8e="FYAPR",BM=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.filter(t=>!e.includes(t.id))},Tl=n=>{let{periodType:e,config:t,fnFilter:i,periodSettings:r={}}=n;const a=parseInt(t.offset,10),o=t.filterFuturePeriods,s=e.match(/^FY|YEARLY/)?!0:t.reversePeriods,{calendar:h="gregory",locale:p="en"}=r,f=CM(h),y=(f.eraYear||f.year)+a,g={periodType:e,year:y,calendar:h,locale:p,startingDay:t.startDay};let _=P8e(g);return _=o?i(_):_,_=s?_.reverse():_,_},V8e=(n,e)=>t=>Tl({periodType:"DAILY",config:t,fnFilter:n,periodSettings:e}),Xg=(n,e,t)=>i=>Tl({periodType:"WEEKLY",config:{...i,startDay:n.startDay},fnFilter:e,periodSettings:t}),q8e=(n,e)=>t=>Tl({periodType:"BIWEEKLY",config:t,fnFilter:n,periodSettings:e}),W8e=(n,e)=>t=>Tl({periodType:"MONTHLY",config:t,fnFilter:n,periodSettings:e}),H8e=(n,e)=>t=>Tl({periodType:"BIMONTHLY",config:t,fnFilter:n,periodSettings:e}),X8e=(n,e)=>t=>Tl({periodType:"QUARTERLY",config:t,fnFilter:n,periodSettings:e}),Z8e=(n,e)=>t=>Tl({periodType:"SIXMONTHLY",config:t,fnFilter:n,periodSettings:e}),K8e=(n,e)=>t=>Tl({periodType:"SIXMONTHLYAPR",config:t,fnFilter:n,periodSettings:e}),Q8e=(n,e)=>t=>Tl({periodType:"YEARLY",config:t,fnFilter:n,periodSettings:e}),J8e=(n,e)=>t=>Tl({periodType:"FYOCT",config:t,fnFilter:n,periodSettings:e}),eGe=(n,e)=>t=>Tl({periodType:"FYNOV",config:t,fnFilter:n,periodSettings:e}),tGe=(n,e)=>t=>Tl({periodType:"FYJUL",config:t,fnFilter:n,periodSettings:e}),nGe=(n,e)=>t=>Tl({periodType:"FYAPR",config:t,fnFilter:n,periodSettings:e}),Ts=n=>{const e=[],t=new Date(Date.now());for(let i=0;i<n.length;i++)new Date(n[i].startDate)<=t&&e.push(n[i]);return e},jM=n=>[{id:DM,getPeriods:V8e(Ts,n),name:dt.t("Daily")},{id:OM,getPeriods:Xg({startDay:1},Ts,n),name:dt.t("Weekly")},{id:D8e,getPeriods:Xg({startDay:3},Ts,n),name:dt.t("Weekly (Start Wednesday)")},{id:O8e,getPeriods:Xg({startDay:4},Ts,n),name:dt.t("Weekly (Start Thursday)")},{id:R8e,getPeriods:Xg({startDay:6},Ts,n),name:dt.t("Weekly (Start Saturday)")},{id:$8e,getPeriods:Xg({startDay:7},Ts,n),name:dt.t("Weekly (Start Sunday)")},{id:RM,getPeriods:q8e(Ts,n),name:dt.t("Bi-weekly")},{id:Om,getPeriods:W8e(Ts,n),name:dt.t("Monthly")},{id:$M,getPeriods:H8e(Ts,n),name:dt.t("Bi-monthly")},{id:jb,getPeriods:X8e(Ts,n),name:dt.t("Quarterly")},{id:zM,getPeriods:Z8e(Ts,n),name:dt.t("Six-monthly")},{id:F8e,getPeriods:K8e(Ts,n),name:dt.t("Six-monthly April")},{id:FM,getPeriods:Q8e(Ts,n),name:dt.t("Yearly")},{id:j8e,getPeriods:eGe(Ts,n),name:dt.t("Financial year (Start November)")},{id:U8e,getPeriods:J8e(Ts,n),name:dt.t("Financial year (Start October)")},{id:G8e,getPeriods:tGe(Ts,n),name:dt.t("Financial year (Start July)")},{id:Y8e,getPeriods:nGe(Ts,n),name:dt.t("Financial year (Start April)")}],Mx=(n,e)=>jM(e).find(t=>t.id===n),$L=()=>jM(),hS=n=>{let{allowedPeriodTypes:e,excludedPeriodTypes:t,currentPeriodType:i,currentYear:r,onSelectPeriodType:a,onSelectYear:o,dataTest:s}=n;const h=Array.isArray(e)&&e.length===1&&e[0]===i;return Se.createElement(Se.Fragment,null,Se.createElement("div",{className:`jsx-${Pd.__hash} leftSection`},Se.createElement(Ds,{label:dt.t("Period type"),onChange:p=>{let{selected:f}=p;return a(f)},dense:!0,selected:i,disabled:h,className:"filterElement",dataTest:`${s}-period-type`},(e?$L().filter(p=>e.some(f=>f===p.id)):BM($L(),t)).map(p=>Se.createElement(ju,{key:p.id,value:p.id,label:p.name,dataTest:`${s}-period-type-option-${p.id}`})))),Se.createElement("div",{className:`jsx-${Pd.__hash} rightSection`},Se.createElement(qb,{label:dt.t("Year"),className:"filterElement",type:"number",placeholder:dt.t("Select year"),value:r,onChange:p=>{let{value:f}=p;return o(f)},dense:!0,dataTest:`${s}-year`})),Se.createElement(Pt,{id:Pd.__hash},Pd))};hS.defaultProps={excludedPeriodTypes:[]};hS.propTypes={currentPeriodType:de.string.isRequired,currentYear:de.string.isRequired,onSelectPeriodType:de.func.isRequired,onSelectYear:de.func.isRequired,allowedPeriodTypes:de.arrayOf(de.string),dataTest:de.string,excludedPeriodTypes:de.arrayOf(de.string)};const iGe=()=>[{id:"TODAY",name:dt.t("Today")},{id:"YESTERDAY",name:dt.t("Yesterday")},{id:"LAST_3_DAYS",name:dt.t("Last 3 days")},{id:"LAST_7_DAYS",name:dt.t("Last 7 days")},{id:"LAST_14_DAYS",name:dt.t("Last 14 days")},{id:"LAST_30_DAYS",name:dt.t("Last 30 days")},{id:"LAST_60_DAYS",name:dt.t("Last 60 days")},{id:"LAST_90_DAYS",name:dt.t("Last 90 days")},{id:"LAST_180_DAYS",name:dt.t("Last 180 days")}],rGe=()=>[{id:"THIS_WEEK",name:dt.t("This week")},{id:"LAST_WEEK",name:dt.t("Last week")},{id:"LAST_4_WEEKS",name:dt.t("Last 4 weeks")},{id:"LAST_12_WEEKS",name:dt.t("Last 12 weeks")},{id:"LAST_52_WEEKS",name:dt.t("Last 52 weeks")},{id:z8e,name:dt.t("Weeks this year")}],aGe=()=>[{id:"THIS_BIWEEK",name:dt.t("This bi-week")},{id:"LAST_BIWEEK",name:dt.t("Last bi-week")},{id:"LAST_4_BIWEEKS",name:dt.t("Last 4 bi-weeks")}],sGe=()=>[{id:"THIS_MONTH",name:dt.t("This month")},{id:"LAST_MONTH",name:dt.t("Last month")},{id:"LAST_3_MONTHS",name:dt.t("Last 3 months")},{id:"LAST_6_MONTHS",name:dt.t("Last 6 months")},{id:"LAST_12_MONTHS",name:dt.t("Last 12 months")},{id:"MONTHS_THIS_YEAR",name:dt.t("Months this year")}],oGe=()=>[{id:"THIS_BIMONTH",name:dt.t("This bi-month")},{id:"LAST_BIMONTH",name:dt.t("Last bi-month")},{id:"LAST_6_BIMONTHS",name:dt.t("Last 6 bi-months")},{id:"BIMONTHS_THIS_YEAR",name:dt.t("Bi-months this year")}],lGe=()=>[{id:"THIS_QUARTER",name:dt.t("This quarter")},{id:"LAST_QUARTER",name:dt.t("Last quarter")},{id:"LAST_4_QUARTERS",name:dt.t("Last 4 quarters")},{id:"QUARTERS_THIS_YEAR",name:dt.t("Quarters this year")}],cGe=()=>[{id:"THIS_SIX_MONTH",name:dt.t("This six-month")},{id:"LAST_SIX_MONTH",name:dt.t("Last six-month")},{id:"LAST_2_SIXMONTHS",name:dt.t("Last 2 six-month")}],uGe=()=>[{id:"THIS_FINANCIAL_YEAR",name:dt.t("This financial year")},{id:"LAST_FINANCIAL_YEAR",name:dt.t("Last financial year")},{id:"LAST_5_FINANCIAL_YEARS",name:dt.t("Last 5 financial years")}],dGe=()=>[{id:"THIS_YEAR",name:dt.t("This year")},{id:"LAST_YEAR",name:dt.t("Last year")},{id:"LAST_5_YEARS",name:dt.t("Last 5 years")},{id:"LAST_10_YEARS",name:dt.t("Last 10 years")}],UM=()=>[{id:DM,getPeriods:()=>iGe(),name:dt.t("Days")},{id:OM,getPeriods:()=>rGe(),name:dt.t("Weeks")},{id:RM,getPeriods:()=>aGe(),name:dt.t("Bi-weeks")},{id:Om,getPeriods:()=>sGe(),name:dt.t("Months")},{id:$M,getPeriods:()=>oGe(),name:dt.t("Bi-months")},{id:jb,getPeriods:()=>lGe(),name:dt.t("Quarters")},{id:zM,getPeriods:()=>cGe(),name:dt.t("Six-months")},{id:B8e,getPeriods:()=>uGe(),name:dt.t("Financial Years")},{id:FM,getPeriods:()=>dGe(),name:dt.t("Years")}],Dx=n=>UM().find(e=>e.id===n),hGe=()=>UM(),GM=n=>{let{currentFilter:e,onSelectFilter:t,dataTest:i,excludedPeriodTypes:r}=n;return Se.createElement("div",{className:`jsx-${Pd.__hash} leftSection`},Se.createElement(Ds,{label:dt.t("Period type"),onChange:a=>{let{selected:o}=a;return t(o)},dense:!0,selected:e,className:"filterElement",dataTest:i},BM(hGe(),r).map(a=>Se.createElement(ju,{key:a.id,value:a.id,label:a.name,dataTest:`${i}-option-${a.id}`}))),Se.createElement(Pt,{id:Pd.__hash},Pd))};GM.propTypes={currentFilter:de.string.isRequired,onSelectFilter:de.func.isRequired,dataTest:de.string,excludedPeriodTypes:de.arrayOf(de.string)};function v1(){return v1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},v1.apply(null,arguments)}const YM=n=>{let{infoBoxMessage:e}=n;return Se.createElement(Se.Fragment,null,Se.createElement("p",{className:`jsx-${al.__hash} rightHeader`},dt.t("Selected Periods")),e&&Se.createElement("div",{className:`jsx-${al.__hash} info-container`},Se.createElement("div",{className:`jsx-${al.__hash}`},Se.createElement(bN,null)),Se.createElement("span",{className:`jsx-${al.__hash} info-text`},e)),Se.createElement(Pt,{id:al.__hash},al))};YM.propTypes={infoBoxMessage:de.string};const pS=n=>{let{onSelect:e,dataTest:t,selectedItems:i,rightFooter:r,excludedPeriodTypes:a,periodsSettings:o,infoBoxMessage:s}=n;const h=a.includes(Om)?Dx(jb):Dx(Om),p=a.includes(Om)?Mx(jb,o):Mx(Om,o),f=CM(o.calendar),y=f.eraYear||f.year,g=H=>({offset:H-y,filterFuturePeriods:!1,reversePeriods:!1}),[_,b]=We.useState(h.getPeriods()),[T,E]=We.useState(!0),[k,v]=We.useState({periodType:h.id}),[w,N]=We.useState({periodType:p.id,year:y.toString()}),C=H=>{const $=i.find(G=>G.id===H);return!$||$.isActive},L=H=>{H!==T&&(E(H),b(H?Dx(k.periodType).getPeriods():Mx(w.periodType,o).getPeriods(g(Number(w.year)))))},O=()=>Se.createElement(Se.Fragment,null,Se.createElement(cT,null,Se.createElement(np,{selected:T,onClick:()=>L(!0),dataTest:`${t}-relative-periods-button`},dt.t("Relative periods")),Se.createElement(np,{selected:!T,onClick:()=>L(!1),dataTest:`${t}-fixed-periods-button`},dt.t("Fixed periods"))),Se.createElement("div",{className:`jsx-${al.__hash} filterContainer`},T?Se.createElement(GM,{currentFilter:k.periodType,onSelectFilter:H=>{v({periodType:H}),b(Dx(H).getPeriods())},dataTest:`${t}-relative-period-filter`,excludedPeriodTypes:a}):Se.createElement(hS,{currentPeriodType:w.periodType,currentYear:w.year,onSelectPeriodType:H=>{W({periodType:H,year:w.year})},onSelectYear:H=>{W({periodType:w.periodType,year:H})},dataTest:`${t}-fixed-period-filter`,excludedPeriodTypes:a})),Se.createElement(Pt,{id:al.__hash},al)),W=H=>{N(H),H.year.match(/[0-9]{4}/)&&b(Mx(H.periodType,o).getPeriods(g(Number(H.year)),o))},X=()=>Se.createElement(Se.Fragment,null,Se.createElement("p",{className:`jsx-${al.__hash} emptyList`},dt.t("No periods selected")),Se.createElement(Pt,{id:al.__hash},al));return Se.createElement(zI,{onChange:H=>{let{selected:$}=H;const G=$.map(j=>{const D=[..._,...i].find(M=>M.id===j);return{id:j,name:D.name,isActive:D.isActive}});e(G)},selected:i.map(H=>H.id),leftHeader:O(),enableOrderChange:!0,height:RUe,optionsWidth:DUe,selectedWidth:OUe,selectedEmptyComponent:X(),rightHeader:Se.createElement(YM,{infoBoxMessage:s}),rightFooter:r,options:[..._,...i].map(H=>{let{id:$,name:G}=H;return{label:G,value:$}}),renderOption:H=>{let{value:$,...G}=H;return Se.createElement(MM,v1({},G,{value:$,active:C($),icon:M8e,dataTest:`${t}-transfer-option`}))},dataTest:`${t}-transfer`})};pS.defaultProps={selectedItems:[],excludedPeriodTypes:[],periodsSettings:{calendar:"gregory",locale:"en"}};pS.propTypes={onSelect:de.func.isRequired,dataTest:de.string,excludedPeriodTypes:de.arrayOf(de.string),infoBoxMessage:de.string,periodsSettings:de.shape({calendar:de.string,locale:de.string}),rightFooter:de.node,selectedItems:de.arrayOf(de.shape({id:de.string,isActive:de.bool,name:de.string}))};const pGe={userSettings:{resource:"userSettings",params:{key:["keyUiLocale"]}}},mS=n=>{let{onSelect:e,selectedPeriods:t,rightFooter:i,excludedPeriodTypes:r,infoBoxMessage:a}=n;const{systemInfo:o}=_f(),s=Ao(pGe),{calendar:h="gregory"}=o,{data:{userSettings:{keyUiLocale:p}={}}={}}=s,f={calendar:h,locale:p},y=g=>{e({dimensionId:MUe,items:g})};return Se.createElement(pS,{onSelect:y,selectedItems:t,infoBoxMessage:a,rightFooter:i,dataTest:"period-dimension",excludedPeriodTypes:r,periodsSettings:f})};mS.propTypes={onSelect:de.func.isRequired,excludedPeriodTypes:de.arrayOf(de.string),infoBoxMessage:de.string,rightFooter:de.node,selectedPeriods:de.array};mS.defaultProps={selectedPeriods:[]};const zL={name:"Download data (CHAP is offline)",parameters:[],features:[{id:"population",description:"Select the data element for population",name:"Population",optional:!1},{id:"disease",description:"Select the data element for disease cases",name:"Disease cases",optional:!1},{id:"rainfall",name:"Rainfall",description:"The amount of rainfall in mm",optional:!0},{id:"mean_temperature",name:"Mean Temperature",description:"The average temperature in degrees Celsius",optional:!0}]},mGe=n=>({id:n,description:"",optional:!1,name:n.replaceAll("_"," ")}),fGe=({selectedModel:n,setSelectedModel:e})=>{const[t,i]=We.useState([]),[r,a]=We.useState(!0),o=async()=>{await Uu.listModelsListModelsGet().then(h=>{let p=h.map(f=>(f.features=f.features.concat(f.targets?[mGe(f.targets)]:[]),f));a(!1),i(p)}).catch(h=>{i([zL]),e(zL),a(!1)})},s=h=>{const p=t==null?void 0:t.find(f=>f.name===h.selected);e(p)};return We.useEffect(()=>{o()},[]),Ye.jsx("div",{children:Ye.jsx(Ds,{tabIndex:"1",label:dt.t("Select a model"),loading:r,placeholder:"Select the model to use in prediction",onChange:s,selected:n==null?void 0:n.name,children:t==null?void 0:t.map(h=>Ye.jsx(ju,{value:h.name,label:h.name},h.name))})})},gGe="_selectField_1pfvn_1",yGe="_warnAboutClimateData_1pfvn_5",_w={selectField:gGe,warnAboutClimateData:yGe},vGe="_switchWrapper_11r89_1",xGe="_smallText_11r89_11",FL={switchWrapper:vGe,smallText:xGe},bGe=({setRenderOptionalField:n,renderOptionalField:e})=>{const t=i=>{n(!i.checked)};return Ye.jsxs("div",{className:FL.switchWrapper,children:[Ye.jsxs("div",{children:[Ye.jsx("div",{children:"Fetch ERA5-Land Climate Data directly in CHAP Core"}),Ye.jsx("div",{className:FL.smallText,children:"Using this option, CHAP Core will, based on provided polygons, fetch climate data directly from ERA5-Land. Using this feature requires that you have configured CHAP Core with Google Earth Engine."})]}),Ye.jsx("div",{children:Ye.jsx(N1,{disabled:!0,checked:!e,onChange:t})})]})},_Ge="_searchSelectField_8sm58_1",wGe="_inputField_8sm58_7",TGe="_input_8sm58_7",SGe="_dropDown_8sm58_34",CGe="_dropDownItem_8sm58_51",EGe="_rightDropDownItem_8sm58_61",kGe="_label_8sm58_70",LGe="_infoSearchItem_8sm58_76",Nu={searchSelectField:_Ge,inputField:wGe,input:TGe,dropDown:SGe,dropDownItem:CGe,rightDropDownItem:EGe,label:kGe,infoSearchItem:LGe},NGe=n=>({results:{resource:"dataItems",params:{filter:"displayName:ilike:"+n,fields:"id,displayName,dimensionItemType",order:"displayName:asc",page:1,pageSize:20}}}),BL=({feature:n,onChangeSearchSelectField:e})=>{const[t,i]=We.useState(""),r=uN(),[a,o]=We.useState([]),[s,h]=We.useState(!1),p=async()=>{try{const v=await r.query(NGe(t));o(v.results.dataItems)}catch(v){console.error("Error fetching data:",v)}finally{h(!1)}};We.useEffect(()=>{i("")},[n]),We.useEffect(()=>{if(t.length===0){o([]);return}h(!0);const v=setTimeout(()=>{p()},300);return()=>{clearTimeout(v)}},[t]);const[f,y]=We.useState(!1),g=v=>{y(!0);const w=v.target.value;i(w)},_=v=>{i(v.displayName),e(n,v.id),y(!1)},b=We.useRef(null),T=v=>v.replaceAll("_"," ").split(" ").map(w=>w.charAt(0).toUpperCase()+w.slice(1).toLowerCase()).join(" "),E=v=>{b.current&&!b.current.contains(v.target)&&y(!1)},k=()=>s?Ye.jsx("li",{className:Nu.infoSearchItem,children:"Loading..."}):a.length==0&&t.length==0?Ye.jsx("li",{className:Nu.infoSearchItem,children:"Start to search by typing"}):a.length==0?Ye.jsx("li",{className:Nu.infoSearchItem,children:"No match found"}):Ye.jsx(Ye.Fragment,{children:a.map(v=>Ye.jsxs("li",{onClick:()=>_(v),className:Nu.dropDownItem,children:[Ye.jsx("div",{children:v.displayName}),Ye.jsx("div",{className:Nu.rightDropDownItem,children:T(v.dimensionItemType)})]},v.id))});return We.useEffect(()=>(document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}),[]),Ye.jsxs("div",{ref:b,className:Nu.searchSelectField,children:[Ye.jsx("label",{className:Nu.label,children:Ye.jsx("span",{children:T(n.name)})}),Ye.jsx("input",{type:"search",value:t,onChange:g,placeholder:"Search for indicators, Data Elements, Data Sets, Event Data Items, Program Indicators...",className:Nu.inputField}),f&&Ye.jsx("ul",{className:Nu.dropDown,children:k()})]})},IGe={results:{resource:"dataElements",params:{paging:!1,filter:"domainType:eq:AGGREGATE",fields:"id,code,displayName"}}},AGe=({features:n,modelSpesificSelectedDataElements:e,setModelSpesificSelectedDataElements:t,setRenderOptionalField:i,renderOptionalField:r})=>{var y;const{loading:a,error:o,data:s}=Ao(IGe),h=(y=s==null?void 0:s.results)==null?void 0:y.dataElements;if(!n)return Ye.jsx(Ye.Fragment,{});const p=g=>{g||t(new Map([...e].filter(([_,b])=>!b.optional))),i(g)},f=(g,_)=>{var E;const b=(E=h==null?void 0:h.find(k=>k.id===_))==null?void 0:E.displayName,T={selectedDataElementId:_,selectedDataElementName:b,optional:g.optional??!1};t(new Map(e.set(g.id,T)))};return Ye.jsxs("div",{children:[Ye.jsx("h3",{children:"Target data"}),n.filter(g=>g.optional==!1).map(g=>Ye.jsx("div",{className:_w.selectField,children:Ye.jsx(BL,{feature:g,onChangeSearchSelectField:f})},g.id)),Ye.jsx("h3",{children:"Climate data"}),Ye.jsx(bGe,{setRenderOptionalField:p,renderOptionalField:r}),r&&Ye.jsxs("div",{className:_w.warnAboutClimateData,children:[Ye.jsx("b",{children:"NB!"})," Ensure you have available climate data for all the DHIS2 periods in the selected training period."]}),r&&n.filter(g=>g.optional==!0).map(g=>Ye.jsx("div",{className:_w.selectField,children:Ye.jsx(BL,{feature:g,onChangeSearchSelectField:f})},g.id))]})};var VM={exports:{}};(function(n,e){(function(t,i){i()})(bo,function(){function t(p,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\uFEFF",p],{type:p.type}):p}function i(p,f,y){var g=new XMLHttpRequest;g.open("GET",p),g.responseType="blob",g.onload=function(){h(g.response,f,y)},g.onerror=function(){console.error("could not download file")},g.send()}function r(p){var f=new XMLHttpRequest;f.open("HEAD",p,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function a(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof bo=="object"&&bo.global===bo?bo:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(p,f,y){var g=o.URL||o.webkitURL,_=document.createElement("a");f=f||p.name||"download",_.download=f,_.rel="noopener",typeof p=="string"?(_.href=p,_.origin===location.origin?a(_):r(_.href)?i(p,f,y):a(_,_.target="_blank")):(_.href=g.createObjectURL(p),setTimeout(function(){g.revokeObjectURL(_.href)},4e4),setTimeout(function(){a(_)},0))}:"msSaveOrOpenBlob"in navigator?function(p,f,y){if(f=f||p.name||"download",typeof p!="string")navigator.msSaveOrOpenBlob(t(p,y),f);else if(r(p))i(p,f,y);else{var g=document.createElement("a");g.href=p,g.target="_blank",setTimeout(function(){a(g)})}}:function(p,f,y,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof p=="string")return i(p,f,y);var _=p.type==="application/octet-stream",b=/constructor/i.test(o.HTMLElement)||o.safari,T=/CriOS\/[\d]+/.test(navigator.userAgent);if((T||_&&b||s)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var w=E.result;w=T?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=w:location=w,g=null},E.readAsDataURL(p)}else{var k=o.URL||o.webkitURL,v=k.createObjectURL(p);g?g.location=v:location.href=v,g=null,setTimeout(function(){k.revokeObjectURL(v)},4e4)}});o.saveAs=h.saveAs=h,n.exports=h})})(VM);var qM=VM.exports;const PGe=Kl(qM),MGe="_helpContainer_17ies_1",DGe="_popover_17ies_8",jL={helpContainer:MGe,popover:DGe},OGe=()=>{const n=We.useRef(null),[e,t]=We.useState(null),i=!!e;return Ye.jsxs("div",{className:jL.helpContainer,children:[Ye.jsx("div",{ref:n,children:Ye.jsx(FN,{onClick:()=>t(n.current),icon:Ye.jsx(cR,{}),children:"Help"})}),i&&Ye.jsx(pI,{maxWidth:360,placement:"top",onClickOutside:()=>t(null),reference:n,children:Ye.jsxs("div",{className:jL.popover,children:[Ye.jsx("h3",{children:"Predict"}),Ye.jsx("p",{children:"Predict means to..."}),Ye.jsx("h3",{children:"Evaluate"}),Ye.jsx("p",{children:"Evalaute the models for your data"})]})})]})},RGe=()=>{const n=yT(),[e,t]=We.useState(void 0),[i,r]=We.useState(new Map),[a,o]=We.useState([]),[s,h]=We.useState(),[p,f]=We.useState([]),[y,g]=We.useState(!1),[_,b]=We.useState(void 0),[T,E]=We.useState(),[k,v]=We.useState({action:"download",startDownlaod:!1}),[w,N]=We.useState(!1),[C,L]=We.useState(""),O=!!(T&&(a.length>0||s==null)),W=B=>{E(B.items)},X=B=>{r(new Map),t(B)},H=B=>{b(void 0),v({action:B,startDownlaod:!0})},$=B=>{let z=[];return B.features.forEach(q=>{var V;if(q.data.length==0){const ce='Data element "'+((V=[...i].find(([ie,se])=>se.selectedDataElementId===q.dhis2Id))==null?void 0:V[1].selectedDataElementName)+'" returned no data.';z.push({description:"Ensure you have exported the analytics tables in DHIS2.",title:ce})}}),z.length>0?(f([...p,...z]),!1):!0};We.useEffect(()=>{if(_){if(v(B=>({...B,startDownlaod:!1})),k.action==="download"){G();return}if(!$(_))return;k.action==="predict"&&D(),k.action==="evaluate"&&j()}},[_]);const G=()=>{let B=_;B.estimator_id=e==null?void 0:e.name;var z=new Blob([JSON.stringify(B,null,2)],{type:"application/json"});PGe(z,"chap_request_data_"+new Date().toJSON()+".json")},j=async()=>{let B=_;B.n_periods=3,await Uu.evaluateEvaluatePost(B,10).then(q=>(L(""),g(!1),n("/status"))).catch(q=>{var V;g(!1),L((V=q==null?void 0:q.body)==null?void 0:V.detail)})},D=async()=>{let B=_;B.n_periods=3,B.estimator_id=e==null?void 0:e.name,await Uu.predictPredictPost(B).then(z=>(L(""),g(!1),n("/status"))).catch(z=>{var q;g(!1),L((q=z==null?void 0:z.body)==null?void 0:q.detail)})};function M(){if(a.length===0)return!0;const B=a[0].path.split("/").length;return a.every(z=>z.path.split("/").length===B)}const Y=()=>(e==null?void 0:e.features.filter(B=>!B.optional).length)==[...i].filter(([B,z])=>!z.optional).length&&!w||(i==null?void 0:i.size)==(e==null?void 0:e.features.length);return Ye.jsxs("div",{className:Lu.container,children:[Ye.jsx("h1",{children:dt.t("Select training data and create prediction")}),Ye.jsx(fGe,{selectedModel:e,setSelectedModel:X}),Ye.jsx(AGe,{setRenderOptionalField:N,renderOptionalField:w,features:e==null?void 0:e.features,setModelSpesificSelectedDataElements:r,modelSpesificSelectedDataElements:i}),Y()&&Ye.jsxs(Ye.Fragment,{children:[Ye.jsx(G7,{orgUnits:a,setOrgUnits:o}),!M()&&Ye.jsx("p",{className:Lu.error,children:"Only select organization units that are one the same level."}),Ye.jsx(hY,{orgUnitLevels:s,onChange:h}),Ye.jsxs("div",{className:Lu.container,children:[Ye.jsx("h3",{children:dt.t("Training period")}),Ye.jsx("div",{className:Lu.pickers,children:Ye.jsx(mS,{selectedPeriods:T,onSelect:W,excludedPeriodTypes:[]})})]}),Ye.jsxs("div",{className:Lu.buttons,children:[Ye.jsx($a,{icon:Ye.jsx(S1,{}),loading:k.startDownlaod,disabled:!O||k.startDownlaod&&k.action==="download"||!M(),onClick:()=>H("download"),children:"Download data"}),Ye.jsx($a,{icon:Ye.jsx(Gm,{}),primary:!0,loading:y,disabled:!O||k.startDownlaod||!M(),onClick:()=>H("predict"),children:"Predict"}),Ye.jsx($a,{icon:Ye.jsx(Gm,{}),primary:!0,loading:y,disabled:!O||k.startDownlaod||!M(),onClick:()=>H("evaluate"),children:"Evaluate"})]}),Ye.jsx(OGe,{}),Ye.jsx("p",{className:Lu.errorChap,children:C}),k.startDownlaod&&O&&Ye.jsx(J7,{setJsonResult:b,modelSpesificSelectedDataElements:i,startDownload:k,setStartDownload:v,period:T,setErrorMessages:f,orgUnits:a,orgUnitLevel:s}),p.map((B,z)=>Ye.jsxs("div",{className:Lu.errorBar,children:[Ye.jsxs("div",{className:Lu.errorHeader,children:[Ye.jsx(xN,{}),Ye.jsx("span",{children:B.title})]}),Ye.jsx("span",{className:Lu.detailedError,children:B.description})]},z))]})]})},$Ge="_container_11u4y_1",zGe="_prediction_11u4y_17",FGe="_warning_11u4y_22",BGe="_footer_11u4y_27",jGe="_post_11u4y_32",UGe="_redText_11u4y_36",GGe="_greenText_11u4y_41",YGe="_importMode_11u4y_46",UL={container:$Ge,prediction:zGe,warning:FGe,footer:BGe,post:jGe,redText:UGe,greenText:GGe,importMode:YGe},VGe=({setImportMode:n,importMode:e})=>Ye.jsx("div",{children:Ye.jsxs(Ds,{placeholder:"Select",selected:e,label:"Select what you want to import",onChange:t=>n(t.selected),children:[Ye.jsx(ju,{label:"Prediction",value:"predict"}),Ye.jsx(ju,{label:"Evaluation",value:"evaluate"})]})});function Op(n,e,t,i){function r(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(f){try{p(i.next(f))}catch(y){o(y)}}function h(f){try{p(i.throw(f))}catch(y){o(y)}}function p(f){f.done?a(f.value):r(f.value).then(s,h)}p((i=i.apply(n,e||[])).next())})}const qGe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function bf(n,e,t){const i=WGe(n),{webkitRelativePath:r}=n,a=typeof e=="string"?e:typeof r=="string"&&r.length>0?r:`./${n.name}`;return typeof i.path!="string"&&GL(i,"path",a),GL(i,"relativePath",a),i}function WGe(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const i=e.split(".").pop().toLowerCase(),r=qGe.get(i);r&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return n}function GL(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const HGe=[".DS_Store","Thumbs.db"];function XGe(n){return Op(this,void 0,void 0,function*(){return Ub(n)&&ZGe(n.dataTransfer)?e7e(n.dataTransfer,n.type):KGe(n)?QGe(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?JGe(n):[]})}function ZGe(n){return Ub(n)}function KGe(n){return Ub(n)&&Ub(n.target)}function Ub(n){return typeof n=="object"&&n!==null}function QGe(n){return x1(n.target.files).map(e=>bf(e))}function JGe(n){return Op(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>bf(t))})}function e7e(n,e){return Op(this,void 0,void 0,function*(){if(n.items){const t=x1(n.items).filter(r=>r.kind==="file");if(e!=="drop")return t;const i=yield Promise.all(t.map(t7e));return YL(WM(i))}return YL(x1(n.files).map(t=>bf(t)))})}function YL(n){return n.filter(e=>HGe.indexOf(e.name)===-1)}function x1(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const i=n[t];e.push(i)}return e}function t7e(n){if(typeof n.webkitGetAsEntry!="function")return VL(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?HM(e):VL(n,e)}function WM(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?WM(t):[t]],[])}function VL(n,e){return Op(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const a=yield n.getAsFileSystemHandle();if(a===null)throw new Error(`${n} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,bf(o)}}const i=n.getAsFile();if(!i)throw new Error(`${n} is not a File`);return bf(i,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function n7e(n){return Op(this,void 0,void 0,function*(){return n.isDirectory?HM(n):i7e(n)})}function HM(n){const e=n.createReader();return new Promise((t,i)=>{const r=[];function a(){e.readEntries(o=>Op(this,void 0,void 0,function*(){if(o.length){const s=Promise.all(o.map(n7e));r.push(s),a()}else try{const s=yield Promise.all(r);t(s)}catch(s){i(s)}}),o=>{i(o)})}a()})}function i7e(n){return Op(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(i=>{const r=bf(i,n.fullPath);e(r)},i=>{t(i)})})})}var ww=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=n.name||"",r=(n.type||"").toLowerCase(),a=r.replace(/\/.*$/,"");return t.some(function(o){var s=o.trim().toLowerCase();return s.charAt(0)==="."?i.toLowerCase().endsWith(s):s.endsWith("/*")?a===s.replace(/\/.*$/,""):r===s})}return!0};function qL(n){return s7e(n)||a7e(n)||ZM(n)||r7e()}function r7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a7e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function s7e(n){if(Array.isArray(n))return b1(n)}function WL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function HL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(t),!0).forEach(function(i){XM(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function XM(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $y(n,e){return c7e(n)||l7e(n,e)||ZM(n,e)||o7e()}function o7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZM(n,e){if(n){if(typeof n=="string")return b1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b1(n,e)}}function b1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function l7e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,a=!1,o,s;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(h){a=!0,s=h}finally{try{!r&&t.return!=null&&t.return()}finally{if(a)throw s}}return i}}function c7e(n){if(Array.isArray(n))return n}var u7e=typeof ww=="function"?ww:ww.default,d7e="file-invalid-type",h7e="file-too-large",p7e="file-too-small",m7e="too-many-files",f7e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),i=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:d7e,message:"File type must be ".concat(i)}},XL=function(e){return{code:h7e,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},ZL=function(e){return{code:p7e,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},g7e={code:m7e,message:"Too many files"};function KM(n,e){var t=n.type==="application/x-moz-file"||u7e(n,e);return[t,t?null:f7e(e)]}function QM(n,e,t){if(qh(n.size))if(qh(e)&&qh(t)){if(n.size>t)return[!1,XL(t)];if(n.size<e)return[!1,ZL(e)]}else{if(qh(e)&&n.size<e)return[!1,ZL(e)];if(qh(t)&&n.size>t)return[!1,XL(t)]}return[!0,null]}function qh(n){return n!=null}function y7e(n){var e=n.files,t=n.accept,i=n.minSize,r=n.maxSize,a=n.multiple,o=n.maxFiles,s=n.validator;return!a&&e.length>1||a&&o>=1&&e.length>o?!1:e.every(function(h){var p=KM(h,t),f=$y(p,1),y=f[0],g=QM(h,i,r),_=$y(g,1),b=_[0],T=s?s(h):null;return y&&b&&!T})}function Gb(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Ox(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function KL(n){n.preventDefault()}function v7e(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function x7e(n){return n.indexOf("Edge/")!==-1}function b7e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return v7e(n)||x7e(n)}function Mc(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return e.some(function(s){return!Gb(i)&&s&&s.apply(void 0,[i].concat(a)),Gb(i)})}}function _7e(){return"showOpenFilePicker"in window}function w7e(n){if(qh(n)){var e=Object.entries(n).filter(function(t){var i=$y(t,2),r=i[0],a=i[1],o=!0;return JM(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(eD))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(t,i){var r=$y(i,2),a=r[0],o=r[1];return HL(HL({},t),{},XM({},a,o))},{});return[{description:"Files",accept:e}]}return n}function T7e(n){if(qh(n))return Object.entries(n).reduce(function(e,t){var i=$y(t,2),r=i[0],a=i[1];return[].concat(qL(e),[r],qL(a))},[]).filter(function(e){return JM(e)||eD(e)}).join(",")}function S7e(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function C7e(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function JM(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function eD(n){return/^.*\.[\w]+$/.test(n)}var E7e=["children"],k7e=["open"],L7e=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],N7e=["refKey","onChange","onClick"];function I7e(n){return M7e(n)||P7e(n)||tD(n)||A7e()}function A7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P7e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function M7e(n){if(Array.isArray(n))return _1(n)}function Tw(n,e){return R7e(n)||O7e(n,e)||tD(n,e)||D7e()}function D7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tD(n,e){if(n){if(typeof n=="string")return _1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _1(n,e)}}function _1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function O7e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,a=!1,o,s;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(h){a=!0,s=h}finally{try{!r&&t.return!=null&&t.return()}finally{if(a)throw s}}return i}}function R7e(n){if(Array.isArray(n))return n}function QL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ea(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(t),!0).forEach(function(i){w1(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QL(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function w1(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yb(n,e){if(n==null)return{};var t=$7e(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function $7e(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var fS=We.forwardRef(function(n,e){var t=n.children,i=Yb(n,E7e),r=iD(i),a=r.open,o=Yb(r,k7e);return We.useImperativeHandle(e,function(){return{open:a}},[a]),Se.createElement(We.Fragment,null,t(ea(ea({},o),{},{open:a})))});fS.displayName="Dropzone";var nD={disabled:!1,getFilesFromEvent:XGe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};fS.defaultProps=nD;fS.propTypes={children:de.func,accept:de.objectOf(de.arrayOf(de.string)),multiple:de.bool,preventDropOnDocument:de.bool,noClick:de.bool,noKeyboard:de.bool,noDrag:de.bool,noDragEventsBubbling:de.bool,minSize:de.number,maxSize:de.number,maxFiles:de.number,disabled:de.bool,getFilesFromEvent:de.func,onFileDialogCancel:de.func,onFileDialogOpen:de.func,useFsAccessApi:de.bool,autoFocus:de.bool,onDragEnter:de.func,onDragLeave:de.func,onDragOver:de.func,onDrop:de.func,onDropAccepted:de.func,onDropRejected:de.func,onError:de.func,validator:de.func};var T1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function iD(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=ea(ea({},nD),n),t=e.accept,i=e.disabled,r=e.getFilesFromEvent,a=e.maxSize,o=e.minSize,s=e.multiple,h=e.maxFiles,p=e.onDragEnter,f=e.onDragLeave,y=e.onDragOver,g=e.onDrop,_=e.onDropAccepted,b=e.onDropRejected,T=e.onFileDialogCancel,E=e.onFileDialogOpen,k=e.useFsAccessApi,v=e.autoFocus,w=e.preventDropOnDocument,N=e.noClick,C=e.noKeyboard,L=e.noDrag,O=e.noDragEventsBubbling,W=e.onError,X=e.validator,H=We.useMemo(function(){return T7e(t)},[t]),$=We.useMemo(function(){return w7e(t)},[t]),G=We.useMemo(function(){return typeof E=="function"?E:JL},[E]),j=We.useMemo(function(){return typeof T=="function"?T:JL},[T]),D=We.useRef(null),M=We.useRef(null),Y=We.useReducer(z7e,T1),B=Tw(Y,2),z=B[0],q=B[1],V=z.isFocused,te=z.isFileDialogActive,ce=We.useRef(typeof window<"u"&&window.isSecureContext&&k&&_7e()),ie=function(){!ce.current&&te&&setTimeout(function(){if(M.current){var Ee=M.current.files;Ee.length||(q({type:"closeDialog"}),j())}},300)};We.useEffect(function(){return window.addEventListener("focus",ie,!1),function(){window.removeEventListener("focus",ie,!1)}},[M,te,j,ce]);var se=We.useRef([]),Ce=function(Ee){D.current&&D.current.contains(Ee.target)||(Ee.preventDefault(),se.current=[])};We.useEffect(function(){return w&&(document.addEventListener("dragover",KL,!1),document.addEventListener("drop",Ce,!1)),function(){w&&(document.removeEventListener("dragover",KL),document.removeEventListener("drop",Ce))}},[D,w]),We.useEffect(function(){return!i&&v&&D.current&&D.current.focus(),function(){}},[D,v,i]);var pe=We.useCallback(function(_e){W?W(_e):console.error(_e)},[W]),we=We.useCallback(function(_e){_e.preventDefault(),_e.persist(),Oe(_e),se.current=[].concat(I7e(se.current),[_e.target]),Ox(_e)&&Promise.resolve(r(_e)).then(function(Ee){if(!(Gb(_e)&&!O)){var Re=Ee.length,Me=Re>0&&y7e({files:Ee,accept:H,minSize:o,maxSize:a,multiple:s,maxFiles:h,validator:X}),ze=Re>0&&!Me;q({isDragAccept:Me,isDragReject:ze,isDragActive:!0,type:"setDraggedFiles"}),p&&p(_e)}}).catch(function(Ee){return pe(Ee)})},[r,p,pe,O,H,o,a,s,h,X]),K=We.useCallback(function(_e){_e.preventDefault(),_e.persist(),Oe(_e);var Ee=Ox(_e);if(Ee&&_e.dataTransfer)try{_e.dataTransfer.dropEffect="copy"}catch{}return Ee&&y&&y(_e),!1},[y,O]),J=We.useCallback(function(_e){_e.preventDefault(),_e.persist(),Oe(_e);var Ee=se.current.filter(function(Me){return D.current&&D.current.contains(Me)}),Re=Ee.indexOf(_e.target);Re!==-1&&Ee.splice(Re,1),se.current=Ee,!(Ee.length>0)&&(q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ox(_e)&&f&&f(_e))},[D,f,O]),ae=We.useCallback(function(_e,Ee){var Re=[],Me=[];_e.forEach(function(ze){var Ke=KM(ze,H),tt=Tw(Ke,2),st=tt[0],ht=tt[1],gt=QM(ze,o,a),Tt=Tw(gt,2),$t=Tt[0],mt=Tt[1],Ct=X?X(ze):null;if(st&&$t&&!Ct)Re.push(ze);else{var St=[ht,mt];Ct&&(St=St.concat(Ct)),Me.push({file:ze,errors:St.filter(function(sn){return sn})})}}),(!s&&Re.length>1||s&&h>=1&&Re.length>h)&&(Re.forEach(function(ze){Me.push({file:ze,errors:[g7e]})}),Re.splice(0)),q({acceptedFiles:Re,fileRejections:Me,isDragReject:Me.length>0,type:"setFiles"}),g&&g(Re,Me,Ee),Me.length>0&&b&&b(Me,Ee),Re.length>0&&_&&_(Re,Ee)},[q,s,H,o,a,h,g,_,b,X]),ve=We.useCallback(function(_e){_e.preventDefault(),_e.persist(),Oe(_e),se.current=[],Ox(_e)&&Promise.resolve(r(_e)).then(function(Ee){Gb(_e)&&!O||ae(Ee,_e)}).catch(function(Ee){return pe(Ee)}),q({type:"reset"})},[r,ae,pe,O]),Q=We.useCallback(function(){if(ce.current){q({type:"openDialog"}),G();var _e={multiple:s,types:$};window.showOpenFilePicker(_e).then(function(Ee){return r(Ee)}).then(function(Ee){ae(Ee,null),q({type:"closeDialog"})}).catch(function(Ee){S7e(Ee)?(j(Ee),q({type:"closeDialog"})):C7e(Ee)?(ce.current=!1,M.current?(M.current.value=null,M.current.click()):pe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):pe(Ee)});return}M.current&&(q({type:"openDialog"}),G(),M.current.value=null,M.current.click())},[q,G,j,k,ae,pe,$,s]),re=We.useCallback(function(_e){!D.current||!D.current.isEqualNode(_e.target)||(_e.key===" "||_e.key==="Enter"||_e.keyCode===32||_e.keyCode===13)&&(_e.preventDefault(),Q())},[D,Q]),le=We.useCallback(function(){q({type:"focus"})},[]),fe=We.useCallback(function(){q({type:"blur"})},[]),xe=We.useCallback(function(){N||(b7e()?setTimeout(Q,0):Q())},[N,Q]),Le=function(Ee){return i?null:Ee},be=function(Ee){return C?null:Le(Ee)},ke=function(Ee){return L?null:Le(Ee)},Oe=function(Ee){O&&Ee.stopPropagation()},Ue=We.useMemo(function(){return function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ee=_e.refKey,Re=Ee===void 0?"ref":Ee,Me=_e.role,ze=_e.onKeyDown,Ke=_e.onFocus,tt=_e.onBlur,st=_e.onClick,ht=_e.onDragEnter,gt=_e.onDragOver,Tt=_e.onDragLeave,$t=_e.onDrop,mt=Yb(_e,L7e);return ea(ea(w1({onKeyDown:be(Mc(ze,re)),onFocus:be(Mc(Ke,le)),onBlur:be(Mc(tt,fe)),onClick:Le(Mc(st,xe)),onDragEnter:ke(Mc(ht,we)),onDragOver:ke(Mc(gt,K)),onDragLeave:ke(Mc(Tt,J)),onDrop:ke(Mc($t,ve)),role:typeof Me=="string"&&Me!==""?Me:"presentation"},Re,D),!i&&!C?{tabIndex:0}:{}),mt)}},[D,re,le,fe,xe,we,K,J,ve,C,L,i]),Xe=We.useCallback(function(_e){_e.stopPropagation()},[]),Pe=We.useMemo(function(){return function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ee=_e.refKey,Re=Ee===void 0?"ref":Ee,Me=_e.onChange,ze=_e.onClick,Ke=Yb(_e,N7e),tt=w1({accept:H,multiple:s,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Le(Mc(Me,ve)),onClick:Le(Mc(ze,Xe)),tabIndex:-1},Re,M);return ea(ea({},tt),Ke)}},[M,t,s,ve,i]);return ea(ea({},z),{},{isFocused:V&&!i,getRootProps:Ue,getInputProps:Pe,rootRef:D,inputRef:M,open:Le(Q)})}function z7e(n,e){switch(e.type){case"focus":return ea(ea({},n),{},{isFocused:!0});case"blur":return ea(ea({},n),{},{isFocused:!1});case"openDialog":return ea(ea({},T1),{},{isFileDialogActive:!0});case"closeDialog":return ea(ea({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return ea(ea({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return ea(ea({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return ea({},T1);default:return n}}function JL(){}const F7e={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},B7e={borderColor:"#2196f3"},j7e={borderColor:"#00e676"},U7e={borderColor:"#ff1744"},G7e=({onLoad:n,disabled:e})=>{const t=We.useCallback(([p])=>{const f=new FileReader;f.onabort=()=>console.log("file reading was aborted"),f.onerror=()=>console.log("file reading has failed"),f.onload=()=>n(JSON.parse(f.result)),f.readAsText(p)},[n]),{getRootProps:i,getInputProps:r,isFocused:a,isDragAccept:o,isDragReject:s}=iD({accept:{"application/json":[".json"]},multiple:!1,disabled:e,onDrop:t}),h=We.useMemo(()=>({...F7e,...a?B7e:{},...o?j7e:{},...s?U7e:{}}),[a,o,s]);return Ye.jsx("div",{className:"container",children:Ye.jsxs("div",{...i({style:h}),children:[Ye.jsx("input",{...r()}),e?Ye.jsx("p",{children:dt.t("Loading..")}):Ye.jsx("p",{children:dt.t("Drag 'n' drop prediction/evaluation file, or click to select it")})]})})},Y7e="_container_83n6p_1",V7e="_prediction_83n6p_17",q7e="_warning_83n6p_22",W7e="_footer_83n6p_27",H7e="_post_83n6p_32",X7e="_redText_83n6p_36",Z7e="_greenText_83n6p_41",$h={container:Y7e,prediction:V7e,warning:q7e,footer:W7e,post:H7e,redText:X7e,greenText:Z7e},K7e={orgUnits:{resource:"organisationUnits",params:{paging:!1,fields:["id","displayName"]}}},rD=()=>{const{loading:n,error:e,data:t}=Ao(K7e);return{orgUnits:t==null?void 0:t.orgUnits,error:e,loading:n}},Q7e=({prediction:n,qLowDataElementId:e,qMedianDataElementId:t,qHighDataElementId:i,setPostHttpError:r,setPostStatus:a})=>{const o=b=>{if(b==="quantile_low")return e;if(b==="median")return t;if(b==="quantile_high")return i},s=b=>b.dataValues.map(T=>({dataElement:o(T.dataElement),period:T.period,orgUnit:T.orgUnit,value:T.value})),h=b=>({resource:"dataValueSets",type:"create",data:{dataValues:b}}),[p,{error:f,loading:y,called:g}]=mb(h(s(n))),_=async()=>{await p()};return We.useEffect(()=>{_()},[]),We.useEffect(()=>{g&&(y||(f&&(r("Something went wrong when posting the prediction."),a("error")),f||(r(""),a("finish"))))},[y]),null},J7e="_selectWrapper_8vdsv_1",eYe="_select_8vdsv_1",eN={selectWrapper:J7e,select:eYe},Sw=({value:n,onChange:e,label:t,dataElements:i})=>{const r=o=>{e({displayName:i==null?void 0:i.find(s=>s.id===o.selected).displayName,id:o.selected})},a=(i==null?void 0:i.length)===0&&i!=null;return Ye.jsx("div",{children:Ye.jsx("div",{children:Ye.jsx("div",{className:eN.select,children:Ye.jsxs("div",{className:eN.selectWrapper,children:[Ye.jsx("span",{children:t}),Ye.jsx(Ds,{tabIndex:"1",placeholder:dt.t("Select data element"),disabled:a,selected:n?n.id:"",warning:a,onChange:r,children:i==null?void 0:i.map(o=>Ye.jsx(ju,{label:o.displayName,value:o.id},o.id))})]})})})})},tYe="_textWarning_3ldzr_1",nYe="_wrapper_3ldzr_6",iYe="_wrapperWarning_3ldzr_14",Cw={textWarning:tYe,wrapper:nYe,wrapperWarning:iYe},rYe="_dataValueTables_vzc5s_10",aYe="_warning_vzc5s_17",tN={dataValueTables:rYe,warning:aYe},sYe=({setModalOpen:n,modalOpen:e,predictionTarget:t})=>{const i=_f();return e&&Ye.jsx(dN,{large:!0,onClose:()=>n(!1),children:Ye.jsxs(uR,{children:[Ye.jsx("h2",{children:dt.t("Add required Data Elements")}),Ye.jsxs("p",{children:[dt.t("This app requires specific DHIS2 Data Elements to import data into. If you have not already added them, go to the "),Ye.jsx("a",{target:"_blank",href:`${i.baseUrl}/dhis-web-maintenance/index.html#/list/dataElementSection/dataElement`,children:"Maintenance"}),dt.t("-app and create the Data Elements listed below.")]}),Ye.jsx("p",{className:tN.warning,children:dt.t("NB! Make sure the CODE property for each data element is exactly the same as below.")}),Ye.jsx("p",{children:dt.t("Properties in the new Data Element form not specified in the tables below should have the default value.")}),Ye.jsxs("div",{className:tN.dataValueTables,children:[Ye.jsx(Ew,{q:"Low",disease:t}),Ye.jsx(Ew,{q:"Median",disease:t}),Ye.jsx(Ew,{q:"High",disease:t})]})]})})},Ew=({q:n,disease:e})=>Ye.jsx("table",{children:Ye.jsxs("tbody",{children:[Ye.jsxs("tr",{children:[Ye.jsx("th",{children:dt.t("Name")}),Ye.jsxs("td",{children:["CHAP",dt.t(` ${e} Quantile ${n}`)]})]}),Ye.jsxs("tr",{children:[Ye.jsx("th",{children:dt.t("Short name")}),Ye.jsxs("td",{children:["CHAP",dt.t(` ${e} Quantile ${n}`)]})]}),Ye.jsxs("tr",{children:[Ye.jsx("th",{children:dt.t("Code")}),Ye.jsx("td",{children:`CHAP_${n.toUpperCase()}_${e.toLocaleUpperCase().replaceAll(" ","_")}`})]}),Ye.jsxs("tr",{children:[Ye.jsx("th",{children:dt.t("Domain type")}),Ye.jsx("td",{children:dt.t("Aggregate")})]}),Ye.jsxs("tr",{children:[Ye.jsx("th",{children:dt.t("Aggregation levels")}),Ye.jsx("td",{children:Ye.jsx("em",{children:dt.t("Assign all org unit levels")})})]})]})}),oYe=({predictionTarget:n,warning:e})=>{const[t,i]=We.useState(!1);return Ye.jsxs(Ye.Fragment,{children:[Ye.jsxs("div",{className:e?Cw.wrapperWarning:Cw.wrapper,children:[Ye.jsx("div",{className:Cw.textWarning,children:e&&Ye.jsx(Ye.Fragment,{children:Ye.jsx("p",{children:dt.t("It seems like you missing Data Elements for CHAP prediction.")})})}),Ye.jsx("div",{children:Ye.jsx($a,{icon:Ye.jsx(pN,{}),onClick:()=>i(!0),children:dt.t("Add data elements")})})]}),Ye.jsx(sYe,{modalOpen:t,setModalOpen:i,predictionTarget:n})]})},lYe=n=>({dataElements:{resource:"dataElements",params:{paging:!1,fields:["code","displayName","id"],filter:`code:ilike:${n}`}}}),kw=n=>{const[e,t]=We.useState(),{loading:i,error:r}=Ao(lYe(n),{onComplete:a=>t(a.dataElements.dataElements)});return{dataElements:e,error:r,loading:i}},cYe=n=>({dataElements:{resource:"dataElements",params:{paging:!1,filter:`id:eq:${n}`}}}),uYe=n=>{const[e,t]=We.useState(),{loading:i,error:r,engine:a}=Ao({});We.useEffect(()=>{n&&o()},[n]);const o=async()=>{const s=await a.query(cYe(n));s.dataElements.dataElements.length!==0&&t(s.dataElements.dataElements[0].displayName)};return{displayName:e,error:r,loading:i}},dYe=()=>{var z;const n=Jd(),[e,t]=We.useState(),[i,r]=We.useState("chart"),[a,o]=We.useState(void 0),[s,h]=We.useState(!1),[p,f]=We.useState(null),[y,g]=We.useState(null),[_,b]=We.useState(null),{dataElements:T}=kw("CHAP_LOW"),{dataElements:E}=kw("CHAP_MEDIAN"),{dataElements:k}=kw("CHAP_HIGH"),[v,w]=We.useState(null),{displayName:N}=uYe(v),{orgUnits:C,loading:L}=rD(),[O,W]=We.useState("initial"),[X,H]=We.useState(""),[$,G]=We.useState();We.useEffect(()=>{C&&D()},[(z=n==null?void 0:n.state)==null?void 0:z.data,C]);const j=()=>(T==null?void 0:T.length)===0||(E==null?void 0:E.length)===0||(k==null?void 0:k.length)===0,D=async q=>{h(!0);let V=q;q||await Uu.getResultsGetResultsGet().then(te=>{V=te}).catch(te=>{o(te.toString())}).finally(()=>{h(!1)}),V&&(G(V),w(V.diseaseId),H(""),W("initial"))};We.useEffect(()=>{N&&C&&$&&t(Y($))},[N,C,$]),We.useEffect(()=>{if(T&&E&&k&&N){const q=T.find(ce=>ce.code===`CHAP_LOW_${N.toLocaleUpperCase().replaceAll(" ","_")}`);q&&f(q);const V=E.find(ce=>ce.code===`CHAP_MEDIAN_${N.toLocaleUpperCase().replaceAll(" ","_")}`);V&&g(V);const te=k.find(ce=>ce.code===`CHAP_HIGH_${N.toLocaleUpperCase().replaceAll(" ","_")}`);te&&b(te)}},[T,E,k,N]);const M=()=>!p&&!y&&!_?!1:!!(p&&!(p!=null&&p.displayName.includes(N))||y&&!(y!=null&&y.displayName.includes(N))||_&&!(_!=null&&_.displayName.includes(N))),Y=q=>({dataValues:q.dataValues.map(V=>{var te;return{...V,displayName:(te=C==null?void 0:C.organisationUnits.find(ce=>ce.id===V.orgUnit))==null?void 0:te.displayName}}),diseaseId:q.diseaseId}),B=()=>!!(p&&y&&_);return Ye.jsxs("div",{className:$h.container,children:[L&&Ye.jsx("p",{children:"Loading metadata from DHIS2.. "}),s&&Ye.jsx("p",{children:"Loading predictions.."}),a&&Ye.jsx("p",{children:"Not available"}),Ye.jsx(G7e,{disabled:L,onLoad:D}),e&&Ye.jsxs(Ye.Fragment,{children:[Ye.jsxs(cT,{scrollable:!0,children:[Ye.jsx(np,{selected:i==="chart",onClick:()=>r("chart"),children:"Chart"}),Ye.jsx(np,{selected:i==="table",onClick:()=>r("table"),children:"Table"}),Ye.jsx(np,{selected:i==="map",onClick:()=>r("map"),children:"Map"})]}),Ye.jsx("div",{className:$h.prediction,children:{chart:Ye.jsx(h4,{predictionTargetName:N,data:e}),table:Ye.jsx(b6,{data:e}),map:Ye.jsx(z7,{predictionTargetName:N,data:e})}[i]}),Ye.jsx("h3",{children:dt.t("Select which data element prediction should be imported to:")}),Ye.jsx(oYe,{warning:j(),predictionTarget:N}),Ye.jsx(Sw,{label:dt.t("Select data element for low quantile"),dataElements:T,onChange:f,value:p}),Ye.jsx(Sw,{label:dt.t("Select data element for medium quantile"),dataElements:E,onChange:g,value:y}),Ye.jsx(Sw,{label:dt.t("Select data element for high quantile"),dataElements:k,onChange:b,value:_}),M()&&Ye.jsx("p",{className:$h.warning,children:"Warning: It seems like selected data elements do not match the disease of prediction."}),Ye.jsx("div",{className:$h.footer,children:Ye.jsx($a,{onClick:()=>W("loading"),loading:O==="loading",disabled:O==="finish"||O==="loading"||!B(),icon:Ye.jsx(Gm,{}),primary:!0,children:dt.t("Import prediction")})}),O==="loading"&&Ye.jsx(Q7e,{setPostHttpError:H,setPostStatus:W,prediction:e,qLowDataElementId:p==null?void 0:p.id,qMedianDataElementId:y==null?void 0:y.id,qHighDataElementId:_==null?void 0:_.id}),Ye.jsxs("div",{className:$h.post,children:[O==="finish"&&Ye.jsx("p",{className:$h.greenText,children:dt.t("Prediction has been imported.")}),Ye.jsx("p",{className:$h.redText,children:dt.t(X)})]})]})]})},hYe=()=>{const[n,e]=We.useState(""),[t,i]=We.useState([]),[r,a]=We.useState(),[o,s]=We.useState(),[h,p]=We.useState(!1),{orgUnits:f,error:y,loading:g}=rD();We.useEffect(()=>{if(f&&o){const b=E4(o.predictions,o.actualCases.data,"");b.forEach(T=>{T.evaluation.forEach(E=>{const k=f==null?void 0:f.organisationUnits.find(v=>v.id===E.orgUnitId);k&&(E.orgUnitName=k.displayName)})}),a(b),i(L4(o.predictions))}},[f,o]);const _=async()=>{p(!0),await Uu.getEvaluationResultsGetEvaluationResultsGet().then(b=>{s(b)}).catch(b=>{e(b.toString())}).finally(()=>{p(!1)})};return We.useEffect(()=>{_()},[]),Ye.jsxs("div",{children:[n&&Ye.jsx("p",{children:"Not available"}),h&&Ye.jsx("p",{children:"Loading.."}),r&&Ye.jsx(f6,{evaluations:r,splitPeriods:t})]})},pYe=()=>{const[n,e]=We.useState(void 0);return Ye.jsxs("div",{className:UL.container,children:[Ye.jsx("h1",{children:dt.t("CHAP Core results")}),Ye.jsx("div",{className:UL.importMode,children:Ye.jsx(VGe,{importMode:n,setImportMode:e})}),Ye.jsx("div",{children:{undefined:Ye.jsx(Ye.Fragment,{}),predict:Ye.jsx(dYe,{}),evaluate:Ye.jsx(hYe,{})}[String(n)]})]})},mYe="_container_1oaqc_1",fYe={container:mYe},gYe=()=>Ye.jsx("div",{className:fYe.container,children:Ye.jsx("h1",{children:dt.t("App settings")})}),yYe="_outerContainer_otz9c_1",vYe="_container_otz9c_5",xYe="_sendButton_otz9c_10",bYe="_error_otz9c_16",_Ye="_ok_otz9c_29",wYe="_tips_otz9c_35",Lm={outerContainer:yYe,container:vYe,sendButton:xYe,error:bYe,ok:_Ye,tips:wYe},aD={data:({url:n})=>({name:"chap",code:"chap",disabled:!1,url:n,headers:{"Content-Type":"application/json"}})},TYe={type:"update",resource:"routes",id:({id:n})=>n,...aD},SYe={type:"create",resource:"routes",...aD},CYe=n=>{const[e,t]=mb(SYe),[i,r]=mb(TYe);return n?{mutate:i,...r}:{mutate:e,...t}},EYe=()=>{const n="https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-241/route.html",e="https://github.com/dhis2-chap/chap-core",[t,i]=We.useState(""),[r,a]=We.useState(void 0),{mutate:o,error:s,loading:h,called:p,engine:f}=CYe(r),{loading:y,route:g,error:_}=TT(),{baseUrl:b}=_f(),T=async()=>{await o({id:r==null?void 0:r.id,url:t})};We.useEffect(()=>{g&&(i(g.url),a(g))},[g]);const E=()=>{window.location.replace("#/route-settings")};return Ye.jsxs("div",{className:Lm.outerContainer,children:[Ye.jsxs("div",{className:Lm.container,children:[Ye.jsx("h2",{children:"Configure route"}),Ye.jsxs("p",{children:["CHAP requires that you set up a"," ",Ye.jsx("a",{about:"_blank",href:n,children:"route"})," ","in DHIS2 to enable communication with the CHAP Core server."]}),Ye.jsxs("p",{children:["You also needs to set up the CHAP server itself. Setup guide",Ye.jsxs("a",{about:"_blank",href:e,children:[" ","github.com/dhis2/chap-core"]}),"."]}),Ye.jsx("p",{children:`By clicking "Save" you create a new route in DHIS2, with name 'chap' and code 'chap'.`}),Ye.jsx("p",{children:Ye.jsx("a",{about:"_blank",href:b+"/api/routes?fields=*",children:"Existing routes in DHIS2 ➔"})}),Ye.jsx(qb,{value:t,onChange:k=>i(k.value),placeholder:"http://chap:8000/**",label:"URL"}),Ye.jsx("div",{className:Lm.sendButton,children:Ye.jsx($a,{disabled:p||t==="",onClick:T,icon:Ye.jsx(C1,{}),primary:!0,children:"Save"})}),p&&!s&&!h&&Ye.jsxs(Ye.Fragment,{children:[Ye.jsx("p",{className:Lm.ok,children:"Route successfully created!"}),Ye.jsx("div",{className:Lm.sendButton,children:Ye.jsx($a,{icon:Ye.jsx(mN,{}),onClick:E,children:"Test route"})})]}),Ye.jsx("p",{children:h&&"Setting up route..."})]}),s&&Ye.jsx("div",{className:Lm.error,children:Ye.jsxs("span",{children:["ERROR",Ye.jsx("pre",{children:JSON.stringify(s,null,2)})]})})]})},kYe=()=>Ye.jsx(EYe,{}),LYe="_status_ok_sff63_1",NYe="_outerContainer_sff63_5",IYe="_errorContainer_sff63_9",AYe="_container_sff63_16",PYe="_link_sff63_20",MYe="_status_not_ok_sff63_25",zh={status_ok:LYe,outerContainer:NYe,errorContainer:IYe,container:AYe,link:PYe,status_not_ok:MYe},DYe=()=>{const[n,e]=We.useState(void 0),[t,i]=We.useState(""),{route:r}=TT(),[a,o]=We.useState(!1),s=async()=>{i(""),e(void 0),o(!0),await Uu.getStatusStatusGet().catch(p=>{i(p),o(!1)}).then(p=>{e(p),o(!1)})};We.useEffect(()=>{s()},[]);const h=()=>{window.location.replace("#/route/create-route")};return Ye.jsx("div",{className:zh.outerContainer,children:Ye.jsxs("div",{className:zh.container,children:[Ye.jsx("h2",{children:"Test connection to CHAP"}),Ye.jsx("div",{className:zh.link,children:Ye.jsx($a,{primary:!0,onClick:h,children:"Create/edit route ➔"})}),Ye.jsxs("p",{children:[Ye.jsx("b",{children:"Prediction App is connecting to CHAP Core trough: "}),mo.BASE]}),r&&Ye.jsxs(Ye.Fragment,{children:[Ye.jsx("b",{children:"Current route"}),Ye.jsx("table",{className:zh.table,children:Ye.jsxs("tbody",{children:[Ye.jsxs("tr",{children:[Ye.jsx("td",{children:"name"}),Ye.jsx("td",{children:r==null?void 0:r.name})]}),Ye.jsxs("tr",{children:[Ye.jsx("td",{children:"url"}),Ye.jsx("td",{children:r==null?void 0:r.url})]}),Ye.jsxs("tr",{children:[Ye.jsx("td",{children:"id"}),Ye.jsx("td",{children:r==null?void 0:r.id})]}),Ye.jsxs("tr",{children:[Ye.jsx("td",{children:"headers"}),Ye.jsx("td",{children:JSON.stringify(r==null?void 0:r.headers)})]}),Ye.jsxs("tr",{children:[Ye.jsx("td",{children:"code"}),Ye.jsx("td",{children:r==null?void 0:r.code})]})]})})]}),Ye.jsx("h3",{children:"Test result:"}),a&&Ye.jsx("p",{children:"Loading..."}),n&&Ye.jsx("div",{className:zh.status_ok,children:n&&Ye.jsx("pre",{children:JSON.stringify(n,null,2)})}),t&&Ye.jsx("div",{className:zh.errorContainer,children:Ye.jsx("p",{className:zh.status_not_ok,children:Ye.jsx("pre",{children:JSON.stringify(t,null,2)})})})]})})},OYe=()=>Ye.jsx(Ye.Fragment,{children:Ye.jsx(DYe,{})}),nN=()=>{const n=KI();return console.error(n),Ye.jsxs("div",{id:"error-page",children:[Ye.jsx("h1",{children:"Oops!"}),Ye.jsx("p",{children:"Sorry, an unexpected error has occurred."}),Ye.jsx("p",{children:Ye.jsx("i",{children:n.statusText||n.message})})]})},RYe="_loading_5ojrz_1",$Ye={loading:RYe},zYe=({request:n,setErrorMessage:e,setUpload:t})=>{const i=async()=>{e(""),await Uu.predictPredictPost(n).catch(r=>{var a;e((a=r==null?void 0:r.body)==null?void 0:a.detail),t(!1)}).then(()=>{t(!1)})};return We.useEffect(()=>{i()},[]),Ye.jsx("div",{className:$Ye.loading,children:Ye.jsx(Ye.Fragment,{children:"Loading.."})})},FYe="_container_1mxon_1",BYe="_error_1mxon_7",jYe="_selectedFile_1mxon_13",Lw={container:FYe,error:BYe,selectedFile:jYe},UYe=({isReady:n,setUpload:e,upload:t})=>{const[i,r]=We.useState(void 0),[a,o]=We.useState(void 0),[s,h]=We.useState(""),p=y=>{o(y.files[0]);const g=new FileReader;g.onload=_=>{var b;try{const T=JSON.parse((b=_.target)==null?void 0:b.result);r(T)}catch{h("Failed to parse JSON file")}},g.readAsText(y.files[0])},f=async()=>{e(!0)};return Ye.jsxs("div",{children:[Ye.jsxs("div",{className:Lw.container,children:[Ye.jsxs("div",{children:[Ye.jsx(E1,{buttonLabel:"Upload JSON-file",onChange:p}),Ye.jsx("div",{className:Lw.selectedFile,children:Ye.jsx("i",{children:a==null?void 0:a.name})})]}),Ye.jsx("div",{children:Ye.jsx($a,{icon:Ye.jsx(Gm,{}),disabled:i==null,onClick:()=>f(),children:"Send to CHAP"})})]}),t&&i&&Ye.jsx(zYe,{request:i,setErrorMessage:h,setUpload:e}),Ye.jsx("p",{className:Lw.error,children:s})]})},GYe="_statusContainer_arbfp_1",YYe="_ready_arbfp_8",VYe="_notReady_arbfp_17",qYe="_error_arbfp_25",Rx={statusContainer:GYe,ready:YYe,notReady:VYe,error:qYe},WYe=({setIsReady:n,upload:e})=>{const[t,i]=We.useState(void 0),[r,a]=We.useState(""),o=async()=>{t!=null&&t.ready.valueOf(),await Uu.getStatusStatusGet().catch(s=>{a("Could not get status"),n(!1)}).then(s=>{a(""),i(s),n(s==null?void 0:s.ready)})};return We.useEffect(()=>{const s=setInterval(()=>{o()},2e3);return o(),()=>{clearInterval(s)}},[e]),Ye.jsxs(Ye.Fragment,{children:[Ye.jsx("div",{className:Rx.error,children:r}),t&&!(t!=null&&t.ready)&&Ye.jsx("div",{className:t!=null&&t.ready?Rx.ready:Rx.notReady,children:Ye.jsxs("div",{className:Rx.statusContainer,children:[Ye.jsx("div",{children:"Status:"}),Ye.jsx("i",{children:(t==null?void 0:t.status)=="idle"?"Ready recive data":t==null?void 0:t.status})]})})]})},HYe="_buttonContainer_4e0m3_1",Nw={buttonContainer:HYe},XYe=({isReady:n})=>{const[e,t]=We.useState(""),i=async s=>await Uu.getResultsGetResultsGet().catch(h=>{}).then(h=>{const p=new Blob([JSON.stringify(h,null,2)],{type:"application/json"});if(s){const f=new Date().toJSON().slice(0,10);qM.saveAs(p,`chap-result-${f}.json`)}return h});let r=yT();const a=async()=>{const s=await i(!1);r("/results",{state:{data:s}})},o=()=>{i(!0)};return Ye.jsxs(Ye.Fragment,{children:[Ye.jsxs("div",{className:Nw.buttonContainer,children:[Ye.jsx($a,{className:Nw.result,onClick:o,icon:Ye.jsx(S1,{}),children:"Download latest result"}),Ye.jsx($a,{className:Nw.result,primary:!0,onClick:a,icon:Ye.jsx(Gm,{}),children:"Import result"})]}),Ye.jsx("span",{children:e})]})},ZYe="_statusContainer_ryp5g_1",KYe={statusContainer:ZYe},QYe=()=>{const[n,e]=We.useState(!1),[t,i]=We.useState(!1);return Ye.jsxs("div",{className:KYe.statusContainer,children:[Ye.jsx("h2",{children:"CHAP Core - evaluation and prediction status"}),Ye.jsx("p",{children:Ye.jsx("i",{children:"On this page, you could upload data to CHAP Core and download the latest prediction result."})}),Ye.jsx(UYe,{upload:t,setUpload:i,isReady:n}),Ye.jsx(WYe,{upload:t,setIsReady:e}),Ye.jsx(XYe,{isReady:n})]})},JYe=Tj([{path:"route",errorElement:Ye.jsx(nN,{}),children:[{path:"create-route",element:Ye.jsx(kYe,{})}]},{path:"/",element:Ye.jsx(B7,{}),errorElement:Ye.jsx(nN,{}),children:[{path:"/",element:Ye.jsx(RGe,{})},{path:"results",element:Ye.jsx(pYe,{})},{path:"settings",element:Ye.jsx(gYe,{})},{path:"status",element:Ye.jsx(QYe,{})},{path:"route-settings",element:Ye.jsx(OYe,{})}]}]),rVe=()=>Ye.jsx(Oj,{router:JYe});export{rVe as default};
